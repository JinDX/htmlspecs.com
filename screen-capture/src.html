<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="generator" content="ReSpec 35.4.0">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-color: var(--warning-border, #f11);
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
            background: var(--warning-bg, #fbe9e9);
            color: #000;
            color: var(--text, #000)
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000;
            color: var(--text, #000)
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            background: var(--def-border, #8ccbf2);
            color: #fff;
            color: var(--defrow-border, #fff);
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none;
            color: inherit
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            background: var(--indextable-hover-bg, #fff);
            color: #000;
            color: var(--text, #000);
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            box-shadow: 0 1em 3em -.4em var(--tocsidebar-shadow, rgba(0, 0, 0, .3)), 0 0 1px 1px var(--tocsidebar-shadow, rgba(0, 0, 0, .05));
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            border-bottom-color: var(--indextable-hover-bg, #fff);
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1;
            border-bottom-color: var(--indextable-hover-bg, #a2a9b1)
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            color: var(--text, #000);
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333;
            color: var(--text, #333)
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>

    <link href="screenshare.css" rel="stylesheet" type="text/css">


    <title>Screen Capture</title>



    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: italic
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>

    <meta name="color-scheme" content="light">
    <meta name="revision" content="bbea0cc8a830031936d037f7b78ddcf3ed5ad343">
    <meta name="description" content="This document defines how a user's display, or parts thereof, can be
    used as the source of a media stream using
    getDisplayMedia, an extension to the Media Capture API
    [GETUSERMEDIA].">
    <link rel="canonical" href="https://www.w3.org/TR/screen-capture/">
    <style>
        .hljs {
            --base: #fafafa;
            --mono-1: #383a42;
            --mono-2: #686b77;
            --mono-3: #717277;
            --hue-1: #0b76c5;
            --hue-2: #336ae3;
            --hue-3: #a626a4;
            --hue-4: #42803c;
            --hue-5: #ca4706;
            --hue-5-2: #c91243;
            --hue-6: #986801;
            --hue-6-2: #9a6a01
        }

        @media (prefers-color-scheme:dark) {
            .hljs {
                --base: #282c34;
                --mono-1: #abb2bf;
                --mono-2: #818896;
                --mono-3: #5c6370;
                --hue-1: #56b6c2;
                --hue-2: #61aeee;
                --hue-3: #c678dd;
                --hue-4: #98c379;
                --hue-5: #e06c75;
                --hue-5-2: #be5046;
                --hue-6: #d19a66;
                --hue-6-2: #e6c07b
            }
        }

        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            color: var(--mono-1, #383a42);
            background: #fafafa;
            background: var(--base, #fafafa)
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            color: var(--mono-3, #717277);
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4;
            color: var(--hue-3, #a626a4)
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            color: var(--hue-5, #ca4706);
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5;
            color: var(--hue-1, #0b76c5)
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c;
            color: var(--hue-4, #42803c)
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01;
            color: var(--hue-6-2, #9a6a01)
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801;
            color: var(--hue-6, #986801)
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3;
            color: var(--hue-2, #336ae3)
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var:hover {
            text-decoration: underline;
            cursor: pointer
        }

        var.respec-hl {
            color: var(--color, #000);
            background-color: var(--bg-color);
            box-shadow: 0 0 0 2px var(--bg-color)
        }

        @media (prefers-color-scheme:dark) {
            var.respec-hl {
                filter: saturate(.9) brightness(.9)
            }
        }

        var.respec-hl-c1 {
            --bg-color: #f4d200
        }

        var.respec-hl-c2 {
            --bg-color: #ff87a2
        }

        var.respec-hl-c3 {
            --bg-color: #96e885
        }

        var.respec-hl-c4 {
            --bg-color: #3eeed2
        }

        var.respec-hl-c5 {
            --bg-color: #eacfb6
        }

        var.respec-hl-c6 {
            --bg-color: #82ddff
        }

        var.respec-hl-c7 {
            --bg-color: #ffbcf2
        }

        @media print {
            var.respec-hl {
                background: 0 0;
                color: #000;
                box-shadow: unset
            }
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #222
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #222;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
  "specStatus": "WD",
  "shortName": "screen-capture",
  "copyrightStart": "2015",
  "edDraftURI": "https://w3c.github.io/mediacapture-screen-share/",
  "editors": [
    {
      "name": "Jan-Ivar Bruaroey",
      "company": "Mozilla",
      "w3cid": 79152
    },
    {
      "name": "Elad Alon",
      "company": "Google",
      "w3cid": 118124
    }
  ],
  "formerEditors": [
    {
      "name": "Martin Thomson",
      "company": "Mozilla",
      "w3cid": 68503
    },
    {
      "name": "Keith Griffin",
      "company": "Cisco",
      "w3cid": 65606
    },
    {
      "name": "Suhas Nandakumar",
      "company": "Cisco",
      "w3cid": 48827
    },
    {
      "name": "Henrik Boström",
      "company": "Google",
      "w3cid": 96936
    }
  ],
  "group": "webrtc",
  "xref": [
    "html",
    "infra",
    "permissions",
    "permissions-policy",
    "dom",
    "mediacapture-streams",
    "webidl",
    "cssom-view",
    "css-values",
    "hr-time"
  ],
  "wgPublicList": "public-webrtc",
  "github": "https://github.com/w3c/mediacapture-screen-share/",
  "otherLinks": [
    {
      "key": "Participate",
      "data": [
        {
          "value": "Mailing list",
          "href": "https://lists.w3.org/Archives/Public/public-webrtc/"
        }
      ]
    }
  ],
  "gitRevision": "bbea0cc8a830031936d037f7b78ddcf3ed5ad343",
  "publishDate": "2025-05-22",
  "previousMaturity": "WD",
  "previousPublishDate": "2025-05-22",
  "publishISODate": "2025-05-22T00:00:00.000Z",
  "generatedSubtitle": "W3C Working Draft 22 May 2025"
}</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD">
</head>

<body class="h-entry"
    data-cite="WEBIDL html infra permissions permissions-policy dom mediacapture-streams webidl cssom-view css-values hr-time">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">Screen Capture</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C Working Draft</a> <time
                class="dt-published" datetime="2025-05-22">22 May 2025</time></p>
        <details open="">
            <summary>More details about this document</summary>
            <dl>
                <dt>This version:</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2025/WD-screen-capture-20250522/">https://www.w3.org/TR/2025/WD-screen-capture-20250522/</a>
                </dd>
                <dt>Latest published version:</dt>
                <dd>
                    <a href="https://www.w3.org/TR/screen-capture/">https://www.w3.org/TR/screen-capture/</a>
                </dd>
                <dt>Latest editor's draft:</dt>
                <dd><a
                        href="https://w3c.github.io/mediacapture-screen-share/">https://w3c.github.io/mediacapture-screen-share/</a>
                </dd>
                <dt>History:</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/screen-capture/">https://www.w3.org/standards/history/screen-capture/</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/mediacapture-screen-share/commits/">Commit history</a>
                </dd>





                <dt>Editors:</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="79152">
                    <span class="p-name fn">Jan-Ivar Bruaroey</span> (<span class="p-org org h-org">Mozilla</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="118124">
                    <span class="p-name fn">Elad Alon</span> (<span class="p-org org h-org">Google</span>)
                </dd>
                <dt>
                    Former editors:
                </dt>
                <dd class="editor p-author h-card vcard" data-editor-id="68503">
                    <span class="p-name fn">Martin Thomson</span> (<span class="p-org org h-org">Mozilla</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="65606">
                    <span class="p-name fn">Keith Griffin</span> (<span class="p-org org h-org">Cisco</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="48827">
                    <span class="p-name fn">Suhas Nandakumar</span> (<span class="p-org org h-org">Cisco</span>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="96936">
                    <span class="p-name fn">Henrik Boström</span> (<span class="p-org org h-org">Google</span>)
                </dd>

                <dt>Feedback:</dt>
                <dd>
                    <a href="https://github.com/w3c/mediacapture-screen-share/">GitHub w3c/mediacapture-screen-share</a>
                    (<a href="https://github.com/w3c/mediacapture-screen-share/pulls/">pull requests</a>,
                    <a href="https://github.com/w3c/mediacapture-screen-share/issues/new/choose">new issue</a>,
                    <a href="https://github.com/w3c/mediacapture-screen-share/issues/">open issues</a>)
                </dd>
                <dd><a
                        href="mailto:public-webrtc@w3.org?subject=%5Bscreen-capture%5D%20YOUR%20TOPIC%20HERE">public-webrtc@w3.org</a>
                    with subject line <kbd>[screen-capture] <em>… message topic …</em></kbd> (<a rel="discussion"
                        href="https://lists.w3.org/Archives/Public/public-webrtc">archives</a>)</dd>

                <dt>Participate</dt>
                <dd>
                    <a href="https://lists.w3.org/Archives/Public/public-webrtc/">Mailing list</a>
                </dd>
            </dl>
        </details>


        <p class="copyright">
            <a href="https://www.w3.org/policies/#copyright">Copyright</a>
            ©
            2015-2025

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/copyright/software-license-2023/"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>Abstract</h2>
        <p>This document defines how a user's display, or parts thereof, can be
            used as the source of a media stream using
            <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                id="ref-for-dom-mediadevices-getdisplaymedia-1"><code>getDisplayMedia</code></a>, an extension to the
            Media Capture API
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-getusermedia"
                    title="Media Capture and Streams">GETUSERMEDIA</a></cite>].
        </p>
    </section>


    <section id="sotd" class="introductory">
        <h2>Status of This Document</h2>
        <p><em>This section describes the status of this
                document at the time of its publication. A list of current <abbr
                    title="World Wide Web Consortium">W3C</abbr>
                publications and the latest revision of this technical report can be found
                in the
                <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> standards and drafts
                    index</a> at
                https://www.w3.org/TR/.</em></p>
        <p>This document is not complete. It is subject to major changes and, while
            early experimentations are encouraged, it is therefore not intended for
            implementation.</p>
        <p>
            This document was published by the <a href="https://www.w3.org/groups/wg/webrtc">Web Real-Time
                Communications Working Group</a> as
            a Working Draft using the
            <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">Recommendation track</a>.
        </p>
        <p>Publication as a Working Draft does not
            imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. </p>
        <p>
            This is a draft document and may be updated, replaced, or obsoleted by other
            documents at any time. It is inappropriate to cite this document as other
            than work in progress.

        </p>
        <p>

            This document was produced by a group
            operating under the
            <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                Patent
                Policy</a>.


            <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
            <a rel="disclosure" href="https://www.w3.org/groups/wg/webrtc/ipr">public list of any patent disclosures</a>
            made in connection with the deliverables of
            the group; that page also includes
            instructions for disclosing a patent. An individual who has actual
            knowledge of a patent which the individual believes contains
            <a href="https://www.w3.org/policies/patent-policy/#def-essential">Essential Claim(s)</a>
            must disclose the information in accordance with
            <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">section 6 of the <abbr
                    title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.

        </p>
        <p>
            This document is governed by the
            <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">03 November 2023 <abbr
                    title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
        </p>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">Table of Contents</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li>
            <li class="tocline"><a class="tocxref" href="#intro"><bdi class="secno">1. </bdi>Introduction</a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">2. </bdi>Conformance</a></li>
            <li class="tocline"><a class="tocxref" href="#example"><bdi class="secno">3. </bdi>Example</a></li>
            <li class="tocline"><a class="tocxref" href="#terminology"><bdi class="secno">4. </bdi>Terminology</a></li>
            <li class="tocline"><a class="tocxref" href="#capturing-displayed-media"><bdi class="secno">5.
                    </bdi>Capturing Displayed Media</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#mediadevices-additions"><bdi class="secno">5.1
                            </bdi><span data-idl="interface" data-title="MediaDevices"
                                data-dfn-for=""><code>MediaDevices</code></span> Additions</a></li>
                    <li class="tocline"><a class="tocxref" href="#hidden-display-surfaces"><bdi class="secno">5.2
                            </bdi>Closed and Minimized Display
                            Surfaces</a></li>
                    <li class="tocline"><a class="tocxref" href="#constraints"><bdi class="secno">5.3
                            </bdi>Unconstrained Display Surface Selection</a></li>
                    <li class="tocline"><a class="tocxref" href="#constrainable-properties"><bdi class="secno">5.4
                            </bdi>Constrainable Properties for Captured
                            Display Surfaces</a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#downscaling-and-frame-decimation"><bdi
                                        class="secno">5.4.1 </bdi>Downscaling and Frame Decimation</a></li>
                            <li class="tocline"><a class="tocxref" href="#capturestartfocusbehavior"><bdi
                                        class="secno">5.4.2 </bdi><span data-export="" data-dfn-type="enum"
                                        data-idl="enum" data-title="CaptureStartFocusBehavior"
                                        data-dfn-for=""><code>CaptureStartFocusBehavior</code></span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#capturecontroller"><bdi class="secno">5.4.3
                                    </bdi><span data-export="" data-dfn-type="interface" data-idl="interface"
                                        data-title="CaptureController"
                                        data-dfn-for=""><code>CaptureController</code></span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#selfcapturepreferenceenum"><bdi
                                        class="secno">5.4.4 </bdi><span data-export="" data-dfn-type="enum"
                                        data-idl="enum" data-title="SelfCapturePreferenceEnum"
                                        data-dfn-for=""><code>SelfCapturePreferenceEnum</code></span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#systemaudiopreferenceenum"><bdi
                                        class="secno">5.4.5 </bdi><span data-export="" data-dfn-type="enum"
                                        data-idl="enum" data-title="SystemAudioPreferenceEnum"
                                        data-dfn-for=""><code>SystemAudioPreferenceEnum</code></span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#windowaudiopreferenceenum"><bdi
                                        class="secno">5.4.6 </bdi><span data-export="" data-dfn-type="enum"
                                        data-idl="enum" data-title="WindowAudioPreferenceEnum"
                                        data-dfn-for=""><code>WindowAudioPreferenceEnum</code></span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#surfaceswitchingpreferenceenum"><bdi
                                        class="secno">5.4.7 </bdi><span data-export="" data-dfn-type="enum"
                                        data-idl="enum" data-title="SurfaceSwitchingPreferenceEnum"
                                        data-dfn-for=""><code>SurfaceSwitchingPreferenceEnum</code></span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#monitortypesurfacesenum"><bdi
                                        class="secno">5.4.8 </bdi><span data-export="" data-dfn-type="enum"
                                        data-idl="enum" data-title="MonitorTypeSurfacesEnum"
                                        data-dfn-for=""><code>MonitorTypeSurfacesEnum</code></span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#displaymediastreamoptions"><bdi
                                        class="secno">5.4.9 </bdi>DisplayMediaStreamOptions</a></li>
                            <li class="tocline"><a class="tocxref"
                                    href="#extensions-to-mediatracksupportedconstraints"><bdi class="secno">5.4.10
                                    </bdi>Extensions to <span data-xref-type="_IDL_" data-link-type="dictionary"
                                        data-lt="MediaTrackSupportedConstraints" data-cite="mediacapture-streams"
                                        data-cite-path="" data-cite-frag="dom-mediatracksupportedconstraints"
                                        class="formerLink"><code>MediaTrackSupportedConstraints</code></span></a></li>
                            <li class="tocline"><a class="tocxref" href="#extensions-to-mediatrackconstraintset"><bdi
                                        class="secno">5.4.11 </bdi>Extensions to <span data-xref-type="_IDL_"
                                        data-link-type="dictionary" data-lt="MediaTrackConstraintSet"
                                        data-cite="mediacapture-streams" data-cite-path=""
                                        data-cite-frag="dom-mediatrackconstraintset"
                                        class="formerLink"><code>MediaTrackConstraintSet</code></span></a></li>
                            <li class="tocline"><a class="tocxref" href="#extensions-to-mediatracksettings"><bdi
                                        class="secno">5.4.12 </bdi>Extensions to <span data-xref-type="_IDL_"
                                        data-link-type="dictionary" data-lt="MediaTrackSettings"
                                        data-cite="mediacapture-streams" data-cite-path=""
                                        data-cite-frag="dom-mediatracksettings"
                                        class="formerLink"><code>MediaTrackSettings</code></span></a></li>
                            <li class="tocline"><a class="tocxref" href="#extensions-to-mediatrackcapabilities"><bdi
                                        class="secno">5.4.13 </bdi>Extensions to <span data-xref-type="_IDL_"
                                        data-link-type="dictionary" data-lt="MediaTrackCapabilities"
                                        data-cite="mediacapture-streams" data-cite-path=""
                                        data-cite-frag="dom-mediatrackcapabilities"
                                        class="formerLink"><code>MediaTrackCapabilities</code></span></a></li>
                            <li class="tocline"><a class="tocxref" href="#displaycapturesurfacetype"><bdi
                                        class="secno">5.4.14 </bdi><span data-export="" data-dfn-type="enum"
                                        data-idl="enum" data-title="DisplayCaptureSurfaceType"
                                        data-dfn-for=""><code>DisplayCaptureSurfaceType</code></span>
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#cursorcaptureconstraint"><bdi
                                        class="secno">5.4.15 </bdi><span data-export="" data-dfn-type="enum"
                                        data-idl="enum" data-title="CursorCaptureConstraint"
                                        data-dfn-for=""><code>CursorCaptureConstraint</code></span>
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#deviceId"><bdi class="secno">5.5 </bdi>Device
                            Identifiers</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-intergration"><bdi class="secno">6.
                    </bdi>Permissions Integration</a></li>
            <li class="tocline"><a class="tocxref" href="#feature-policy-integration"><bdi class="secno">7.
                    </bdi>Permissions Policy Integration</a></li>
            <li class="tocline"><a class="tocxref" href="#privacy-indicator-requirements"><bdi class="secno">8.
                    </bdi>Privacy Indicator Requirements</a></li>
            <li class="tocline"><a class="tocxref" href="#security-and-permissions"><bdi class="secno">9. </bdi>Security
                    and Permissions</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#capturing-logical-or-visible-display-surfaces"><bdi
                                class="secno">9.1 </bdi>Capturing Logical or Visible Display Surfaces</a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#capturing-audio"><bdi class="secno">9.1.1
                                    </bdi>Capturing Audio</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#authorizing-display-capture"><bdi class="secno">9.2
                            </bdi>Authorizing Display Capture</a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#active-user-consent"><bdi class="secno">9.2.1
                                    </bdi>Active User Consent</a></li>
                            <li class="tocline"><a class="tocxref" href="#elevated-permissions"><bdi class="secno">9.2.2
                                    </bdi>Elevated Permissions</a></li>
                            <li class="tocline"><a class="tocxref"
                                    href="#capabilities-depending-on-elevated-permissions"><bdi class="secno">9.2.3
                                    </bdi>Capabilities Depending on Elevated Permissions</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#feedback-and-interface-during-capture"><bdi
                                class="secno">9.3 </bdi>Feedback and Interface During Capture</a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>References</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">A.1
                            </bdi>Normative references</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">A.2
                            </bdi>Informative references</a></li>
                </ol>
            </li>
        </ol>
    </nav>


    <section class="informative" id="intro">
        <div class="header-wrapper">
            <h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#intro"
                aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>This section is non-normative.</em></p>



        <p>This document describes an extension to the Media Capture API
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-getusermedia"
                    title="Media Capture and Streams">GETUSERMEDIA</a></cite>] that enables the acquisition of a user's
            display, or part
            thereof, in the form of a video track. In some cases system, application or
            window audio is also captured which is presented in the form of an audio
            track. This enables a number of applications, including screen sharing
            using WebRTC [<cite><a class="bibref" data-link-type="biblio" href="#bib-webrtc"
                    title="WebRTC: Real-Time Communication in Browsers">WEBRTC</a></cite>].</p>


        <p>This feature has signficant security implications. Applications that use
            this API to access information that is displayed to users could access
            confidential information from other origins if that information is under
            the control of the application. This includes content that would otherwise
            be inaccessible due to the protections offered by the user agent
            sandbox.</p>


        <p>This document concerns itself primarily with the capture of video and
            audio [<cite><a class="bibref" data-link-type="biblio" href="#bib-getusermedia"
                    title="Media Capture and Streams">GETUSERMEDIA</a></cite>], but the general mechanisms defined here
            could be
            extended to other types of media, of which depth [<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-mediacapture-depth"
                    title="Media Capture Depth Stream Extensions">MEDIACAPTURE-DEPTH</a></cite>] is
            currently defined.</p>
    </section>


    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x2-conformance"><bdi class="secno">2. </bdi>Conformance</h2><a class="self-link" href="#conformance"
                aria-label="Permalink for Section 2."></a>
        </div>
        <p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this
            specification are non-normative. Everything else in this specification is normative.</p>
        <p>
            The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST
                NOT</em>, and <em class="rfc2119">SHOULD</em> in this document
            are to be interpreted as described in
            <a href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            when, and only when, they appear in all
            capitals, as shown here.
        </p>
        <p>This specification defines conformance criteria that apply to a single
            product: the <dfn data-lt="user agents|user agent" id="dfn-user-agents" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">user agent</dfn> that implements
            the interfaces that it contains.</p>


        <p>Implementations that use ECMAScript [<cite><a class="bibref" data-link-type="biblio" href="#bib-ecma-262"
                    title="ECMAScript Language Specification">ECMA-262</a></cite>] to implement the APIs
            defined in this specification must implement them in a manner consistent
            with the ECMAScript Bindings defined in the Web IDL specification
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-webidl"
                    title="Web IDL Standard">WEBIDL</a></cite>], as this specification uses that specification and
            terminology.</p>
    </section>


    <section id="example">
        <div class="header-wrapper">
            <h2 id="x3-example"><bdi class="secno">3. </bdi>Example</h2><a class="self-link" href="#example"
                aria-label="Permalink for Section 3."></a>
        </div>



        <p>The following example demonstrates a request for display capture using
            the <code>navigator.mediaDevices.getDisplayMedia</code> method defined in
            this document.</p>

        <div class="example" id="example-1">
            <div class="marker">
                <a class="self-link" href="#example-1">Example<bdi> 1</bdi></a>
            </div>
            <pre class="highlight" aria-busy="false"><code class="hljs javascript"><span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">let</span> mediaStream = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">mediaDevices</span>.<span class="hljs-title function_">getDisplayMedia</span>({<span class="hljs-attr">video</span>:<span class="hljs-literal">true</span>});
  videoElement.<span class="hljs-property">srcObject</span> = mediaStream;
} <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Unable to acquire screen capture: '</span> + e);
}</code></pre>
        </div>
    </section>


    <section id="terminology">
        <div class="header-wrapper">
            <h2 id="x4-terminology"><bdi class="secno">4. </bdi>Terminology</h2><a class="self-link" href="#terminology"
                aria-label="Permalink for Section 4."></a>
        </div>



        <p>This document uses the definition of <a data-link-type="interface" data-lt="MediaStream"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>,
            <a data-link-type="interface" data-lt="MediaStreamTrack"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
            and <a data-link-type="interface" data-lt="ConstrainablePattern"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainablepattern"><code>ConstrainablePattern</code></a>
            from
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-getusermedia"
                    title="Media Capture and Streams">GETUSERMEDIA</a></cite>].
        </p>


        <p>Screen capture encompasses the capture of several different types of
            screen-based surfaces. Collectively, these are referred to as <dfn class="export"
                data-lt="display surface|display surfaces" data-export="" id="dfn-display-surface" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">display surfaces</dfn>, of which this
            document defines the following types:</p>


        <ul>
            <li>A <dfn data-dfn-for="display surface" class="export" data-export="" id="dfn-monitor" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">monitor</dfn>
                <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-1">display surface</a> represents a physical display. Some systems
                have
                multiple <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                    id="ref-for-dfn-monitor-1">monitor</a>s, which can be identified
                separately. Multiple <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                    id="ref-for-dfn-monitor-2">monitor</a>s might also be
                aggregated into a single logical <a data-link-type="dfn|abstract-op" href="#dfn-monitor"
                    class="internalDFN" id="ref-for-dfn-monitor-3">monitor</a>. An
                aggregated <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-2">display surface</a> is captured as a single
                <a data-link-type="interface" data-lt="MediaStreamTrack"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>.
            </li>


            <li>A <dfn data-dfn-for="display surface" class="export" data-export="" id="dfn-window" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">window</dfn> <a href="#dfn-display-surface"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-display-surface-3">
                    display surface</a> is a single contiguous surface that is used by a
                single application.
            </li>


            <li>A <dfn data-dfn-for="display surface" class="export" data-export="" id="dfn-browser" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">browser</dfn>
                <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-4">display surface</a> is the rendered form of a <a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">browsing
                    context</a>.
                This is not strictly limited to HTML [<cite><a class="bibref" data-link-type="biblio" href="#bib-html"
                        title="HTML Standard">HTML</a></cite>] documents, though the
                discussion in this document will address some specific concerns with the
                capture of HTML.
            </li>
        </ul>


        <p>This document draws a distinction between two variants of each type of
            display surface:</p>


        <ul>
            <li>A <dfn class="export" data-export="" data-plurals="logical display surfaces"
                    id="dfn-logical-display-surface" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">logical
                    display surface</dfn> is the surface
                that an operating system makes available to an application for the
                purposes of rendering.</li>


            <li>a <dfn class="export" data-export="" id="dfn-visible-display-surface" tabindex="0"
                    aria-haspopup="dialog" data-dfn-type="dfn">visible display surface</dfn> is the portion of
                a <a data-link-type="dfn|abstract-op" href="#dfn-logical-display-surface" class="internalDFN"
                    id="ref-for-dfn-logical-display-surface-1">logical display surface</a> that is rendered to a <a
                    data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                    id="ref-for-dfn-monitor-4">monitor</a>.</li>
        </ul>


        <p>Some operating systems permit windows from different applications to
            occlude other windows, in whole or part, so the <a href="#dfn-visible-display-surface" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-visible-display-surface-1">visible display
                surface</a> is a strict subset of the <a href="#dfn-logical-display-surface" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-logical-display-surface-2">logical display surface</a>.</p>


        <p>The <dfn class="export" data-export="" id="dfn-source-pixel-ratio" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">source pixel ratio</dfn> of a <a href="#dfn-display-surface" class="internalDFN"
                data-link-type="dfn" id="ref-for-dfn-display-surface-5">display
                surface</a> is 1/96th of 1 inch divided by its vertical pixel size.</p>

        <p>The <dfn class="event" data-dfn-type="event" id="dfn-devicechange" tabindex="0" aria-haspopup="dialog"
                data-export="">devicechange</dfn> event is defined in
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-getusermedia"
                    title="Media Capture and Streams">GETUSERMEDIA</a></cite>].</p>
    </section>


    <section id="capturing-displayed-media">
        <div class="header-wrapper">
            <h2 id="x5-capturing-displayed-media"><bdi class="secno">5. </bdi>Capturing Displayed Media</h2><a
                class="self-link" href="#capturing-displayed-media" aria-label="Permalink for Section 5."></a>
        </div>




        <p>Capture of displayed media is enabled through the addition of a new
            <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                id="ref-for-dom-mediadevices-getdisplaymedia-2"><code>getDisplayMedia</code></a> method on the <a
                data-link-type="idl" data-lt="MediaDevices" href="#dom-mediadevices" class="internalDFN"
                id="ref-for-dom-mediadevices-1"><code>MediaDevices</code></a> interface,
            that is similar to <a data-link-type="method" data-lt="getUserMedia()"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>
            , except that it
            acquires media from one display device chosen by the end-user each
            time.
        </p>


        <section id="mediadevices-additions">
            <div class="header-wrapper">
                <h3 id="x5-1-mediadevices-additions"><bdi class="secno">5.1 </bdi><dfn id="dom-mediadevices"
                        data-idl="interface" data-title="MediaDevices" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog" data-dfn-type="dfn"><code>MediaDevices</code></dfn> Additions</h3><a
                    class="self-link" href="#mediadevices-additions" aria-label="Permalink for Section 5.1"></a>
            </div>


            <pre class="idl def" id="webidl-1871707568"><span class="idlHeader"><a class="self-link" href="#webidl-1871707568">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-mediadevices-partial-1" data-title="MediaDevices">partial interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-mediadevices" id="ref-for-dom-mediadevices-2"><code>MediaDevices</code></a> {<span data-idl="" class="idlMethod" id="idl-def-mediadevices-getdisplaymedia-options" data-title="getDisplayMedia" data-dfn-for="MediaDevices"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="interface" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream">MediaStream</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-mediadevices-getdisplaymedia" id="ref-for-dom-mediadevices-getdisplaymedia-3"><code>getDisplayMedia</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-displaymediastreamoptions" class="internalDFN" id="ref-for-dom-displaymediastreamoptions-1"><code>DisplayMediaStreamOptions</code></a></span> <span class="idlParamName">options</span> = {});</span>
};</span></code></pre>

            <dl data-link-for="MediaDevices" data-dfn-for="MediaDevices" class="methods">
                <dt><dfn data-export="" data-dfn-type="method" id="dom-mediadevices-getdisplaymedia"
                        data-idl="operation" data-title="getDisplayMedia" data-dfn-for="MediaDevices"
                        data-type="Promise" data-lt="getDisplayMedia()|getDisplayMedia(options)"
                        data-local-lt="MediaDevices.getDisplayMedia|MediaDevices.getDisplayMedia()|getDisplayMedia"
                        tabindex="0" aria-haspopup="dialog"><code>getDisplayMedia</code></dfn>
                </dt>


                <dd>
                    <p>Prompts the user for permission to live-capture their display.</p>


                    <p>The user agent <em class="rfc2119">MUST</em> let the end-user choose which <a
                            data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                            id="ref-for-dfn-display-surface-6">display surface</a> to share out of all available choices
                        every time, and <em class="rfc2119">MUST NOT</em> use any <a data-link-type="dictionary"
                            data-lt="MediaTrackConstraints"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints"><code>MediaTrackConstraints</code></a>
                        in
                        <var>options</var>.<code>video</code> or
                        <var>options</var>.<code>audio</code> to limit that choice.
                    </p>


                    <p>The user agent <em class="rfc2119">MAY</em> use the presence of the <a data-link-type="idl"
                            data-lt="displaySurface" href="#dfn-displaysurface" class="internalDFN"
                            id="ref-for-dfn-displaysurface-1"><code>displaySurface</code></a>
                        constraint and its value to influence the presentation to the user of
                        the sources to pick from. The user agent <em class="rfc2119">MUST</em> still offer the user
                        unlimited choice of any <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                            class="internalDFN" id="ref-for-dfn-display-surface-7">display surface</a>. The user agent
                        is
                        strongly recommended to steer users away from sharing a monitor, as
                        this poses <a href="#security-and-permissions">risks to user
                            privacy</a>.</p>


                    <p>Any <a data-link-type="dictionary" data-lt="MediaTrackConstraints"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints"><code>MediaTrackConstraints</code></a>
                        in
                        <var>options</var>.<code>video</code> or
                        <var>options</var>.<code>audio</code> <em class="rfc2119">MUST</em> be applied to the media
                        chosen by the user only after the user has made their selection.
                    </p>


                    <p>In the case of audio, the user agent <em class="rfc2119">MAY</em> present the end-user with
                        audio sources to share. Which choices are available to choose from is
                        up to the user agent, and the audio source(s) are not necessarily the
                        same as the video source(s). An audio source may be a particular <a
                            data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                            id="ref-for-dfn-window-1">window</a>, <a data-link-type="dfn|abstract-op"
                            href="#dfn-browser" class="internalDFN" id="ref-for-dfn-browser-1">browser</a>, the entire
                        system audio or any combination thereof. Unlike
                        <a data-link-type="method" data-lt="getUserMedia()"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>
                        with regards to audio+video, the user
                        agent is allowed not to return audio even if the audio constraint is
                        present. If the user agent knows no audio will be shared for the
                        lifetime of the stream it <em class="rfc2119">MUST NOT</em> include an audio track in the
                        resulting stream. The user agent <em class="rfc2119">MAY</em> accept a request for audio and
                        video by only returning a video track in the resulting stream, or it
                        <em class="rfc2119">MAY</em> accept the request by returning both an audio track and a video
                        track in the resulting stream. The user agent <em class="rfc2119">MUST</em> reject audio-only
                        requests.
                    </p>


                    <p>In addition to drawing from a different set of sources and
                        requiring user selection, <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia"
                            class="internalDFN"
                            id="ref-for-dom-mediadevices-getdisplaymedia-4"><code>getDisplayMedia</code></a> also
                        differs from <a data-link-type="method" data-lt="getUserMedia()"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>
                        in that
                        "<a data-link-type="enum-value"
                            href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>"
                        permissions cannot be persisted.</p>


                    <p>When the <a data-link-type="idl" data-lt="getDisplayMedia()"
                            href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                            id="ref-for-dom-mediadevices-getdisplaymedia-5"><code>getDisplayMedia</code></a><code>()</code>
                        method is called, the
                        user agent <em class="rfc2119">MUST</em> run the following steps:</p>


                    <ol>
                        <li>
                            <p>Let <var>mediaDevices</var> be <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this">this</a>.</p>
                        </li>


                        <li>
                            <p>Let <var>controller</var> be
                                <var>options</var>.<code>controller</code> if present, or
                                <code>null</code> otherwise.
                            </p>
                        </li>


                        <li>
                            <p>If <var>controller</var> is not <code>null</code>, run the
                                following steps:</p>


                            <ol>
                                <li>
                                    <p>If <var>controller</var>.<a data-link-type="attribute" data-lt="[[IsBound]]"
                                            href="#dfn-isbound" class="internalDFN"
                                            id="ref-for-dfn-isbound-1"><code>[[IsBound]]</code></a>
                                        is <code>true</code>, return a promise <a data-link-type="dfn" data-lt="reject"
                                            href="https://webidl.spec.whatwg.org/#reject">rejected</a>
                                        with a <a data-link-type="interface" data-lt="DOMException"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        object whose <a data-link-type="attribute"
                                            href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                        attribute has the value <a data-link-type="exception"
                                            data-lt="InvalidStateError"
                                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>.
                                    </p>
                                </li>


                                <li>
                                    <p>Set
                                        <var>controller</var>.<a data-link-type="attribute" data-lt="[[IsBound]]"
                                            href="#dfn-isbound" class="internalDFN"
                                            id="ref-for-dfn-isbound-2"><code>[[IsBound]]</code></a> to
                                        <code>true</code>.
                                    </p>
                                </li>
                            </ol>
                        </li>


                        <li>
                            <p>If the <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                                    global object</a> of <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this">this</a> does not have
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">transient
                                    activation</a>, return a promise <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject">rejected</a> with a
                                <a data-link-type="interface" data-lt="DOMException"
                                    href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                object whose <a data-link-type="attribute"
                                    href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                attribute has
                                the value <a data-link-type="exception" data-lt="InvalidStateError"
                                    href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>.
                            </p>
                        </li>


                        <li>
                            <p>Let <var>options</var> be the method's first argument.</p>
                        </li>


                        <li>
                            <p>Let <var>constraints</var> be
                                <code>[</code><var>options</var>.<code>audio</code>,
                                <var>options</var>.<code>video</code><code>]</code>.
                            </p>
                        </li>


                        <li>
                            <p>If <code>constraints.video</code> is <code>false</code>,
                                return a promise <a data-link-type="dfn" data-lt="reject"
                                    href="https://webidl.spec.whatwg.org/#reject">rejected</a> with a newly
                                <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#dfn-create-exception">created</a> <a
                                    data-link-type="exception" data-lt="TypeError"
                                    href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>.
                            </p>
                        </li>


                        <li>
                            <p>For each <a data-link-type="dfn" data-lt="exist"
                                    href="https://infra.spec.whatwg.org/#map-exists">existing</a> member in
                                <var>constraints</var> whose value, <var>CS</var>, is a
                                dictionary, run the following steps:
                            </p>


                            <ol>
                                <li>
                                    <p>If <var>CS</var> contains a member named
                                        <code>advanced</code>, return a promise <a data-link-type="dfn" data-lt="reject"
                                            href="https://webidl.spec.whatwg.org/#reject">rejected</a>
                                        with a newly <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-create-exception">created</a> <a
                                            data-link-type="exception" data-lt="TypeError"
                                            href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>.
                                    </p>
                                </li>


                                <li>
                                    <p>If <var>CS</var> contains a member whose name specifies a
                                        constrainable property applicable to <a data-link-type="dfn|abstract-op"
                                            href="#dfn-display-surface" class="internalDFN"
                                            id="ref-for-dfn-display-surface-8">display surface</a>s,
                                        and whose value in turn is a dictionary containing a member
                                        named either <code>min</code> or <code>exact</code>, return a
                                        promise <a data-link-type="dfn" data-lt="reject"
                                            href="https://webidl.spec.whatwg.org/#reject">rejected</a> with a newly
                                        <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-create-exception">created</a> <a
                                            data-link-type="exception" data-lt="TypeError"
                                            href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>.
                                    </p>
                                </li>


                                <li>
                                    <p>If <var>CS</var> contains a member whose name specifies a
                                        constrainable property applicable to <a data-link-type="dfn|abstract-op"
                                            href="#dfn-display-surface" class="internalDFN"
                                            id="ref-for-dfn-display-surface-9">display surface</a>s,
                                        and whose value in turn is a dictionary containing a member
                                        named <code>max</code>, and that member's value in turn is
                                        less than the constrainable property's <a data-link-type="dfn|abstract-op"
                                            href="#dfn-floor-value" class="internalDFN"
                                            id="ref-for-dfn-floor-value-1">floor value</a>, then
                                        let <var>failedConstraint</var> be the name of the member,
                                        let <var>message</var> be either <code>undefined</code> or an
                                        informative human-readable message, and return a promise
                                        <a data-link-type="dfn" data-lt="reject"
                                            href="https://webidl.spec.whatwg.org/#reject">rejected</a> with a new
                                        <code>OverconstrainedError</code> created by calling
                                        <code>OverconstrainedError(<var>failedConstraint</var>,
                  <var>message</var>)</code>.
                                    </p>
                                </li>
                            </ol>
                        </li>


                        <li>
                            <p>Let <var>requestedMediaTypes</var> be the set of media types
                                in <var>constraints</var> with either a dictionary value or a
                                value of <code>true</code>.</p>
                        </li>


                        <li>
                            <p>If the <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object">current
                                    settings object</a>'s <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                                    global object</a>'s <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">associated
                                    <code>Document</code></a> is NOT <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">fully
                                    active</a> or does NOT <a
                                    href="https://html.spec.whatwg.org/multipage/#gains-focus">have
                                    focus</a>, return a promise <a data-link-type="dfn" data-lt="reject"
                                    href="https://webidl.spec.whatwg.org/#reject">rejected</a> with a
                                <a data-link-type="interface" data-lt="DOMException"
                                    href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                object whose <a data-link-type="attribute"
                                    href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                attribute has
                                the value <a data-link-type="exception" data-lt="InvalidStateError"
                                    href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>.
                            </p>
                        </li>


                        <li>
                            <p>Let <var>p</var> be a new promise.</p>
                        </li>


                        <li>
                            <p>Run the following steps <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in
                                    parallel</a>:</p>


                            <ol>
                                <li>
                                    <p>For each media type <var>T</var> in
                                        <var>requestedMediaTypes</var>,
                                    </p>


                                    <ol>
                                        <li>
                                            <p>If no sources of type <var>T</var> are available,
                                                <a data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue
                                                    a task</a> on the <a data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                                                    interaction task source</a>
                                                to <a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#reject">reject</a>
                                                <var>p</var> with a new <a data-link-type="interface"
                                                    data-lt="DOMException"
                                                    href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                                object whose <a data-link-type="attribute"
                                                    href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                                attribute has the
                                                value <a data-link-type="exception" data-lt="NotFoundError"
                                                    href="https://webidl.spec.whatwg.org/#notfounderror"><code>NotFoundError</code></a>,
                                                and abort these steps.
                                            </p>
                                        </li>


                                        <li>
                                            <p>Read the current <a data-link-type="dfn"
                                                    href="https://www.w3.org/TR/permissions/#dfn-permission-state">permission
                                                    state</a> for obtaining
                                                sources of type <var>T</var> in the current browsing
                                                context. If the permission state is
                                                "<a data-link-type="enum-value"
                                                    href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied"><code>denied</code></a>",
                                                jump to the step labeled
                                                <em>PermissionFailure</em> below.
                                            </p>
                                        </li>
                                    </ol>
                                </li>


                                <li>
                                    <p>Optionally, e.g., based on a previously-established user
                                        preference, for security reasons, or due to platform
                                        limitations, jump to the step labeled <em>Permission
                                            Failure</em> below.</p>
                                </li>


                                <li>
                                    <p><a data-link-type="dfn"
                                            href="https://www.w3.org/TR/permissions/#dfn-prompt-the-user-to-choose">Prompt
                                            the user to choose</a> a display device, for a
                                        <a data-link-type="dictionary" data-lt="PermissionDescriptor"
                                            href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor"><code>PermissionDescriptor</code></a>
                                        with its
                                        <a data-link-type="dict-member"
                                            href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor-name"><code>name</code></a>
                                        set to "display-capture",
                                        resulting in a set of provided media.
                                    </p>


                                    <p>The provided media <em class="rfc2119">MUST</em> include precisely one video
                                        track.</p>


                                    <p>The provided media <em class="rfc2119">MUST</em> include at most one audio track.
                                        This audio track <em class="rfc2119">MUST NOT</em> be included if audio was not
                                        specified in <var>requestedMediaTypes</var>, or if it was
                                        specified as <code>false</code>.</p>


                                    <p>The devices chosen <em class="rfc2119">MUST</em> be the ones determined by the
                                        user. Once selected, the source of a <a data-link-type="interface"
                                            data-lt="MediaStreamTrack"
                                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
                                        <em class="rfc2119">MUST NOT</em> change, unless the user permits it through
                                        their
                                        interaction with the user agent.
                                    </p>


                                    <p>User agents are encouraged to warn users against sharing
                                        <a data-link-type="dfn|abstract-op" href="#dfn-browser" class="internalDFN"
                                            id="ref-for-dfn-browser-2">browser</a> display devices as well as <a
                                            data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                                            id="ref-for-dfn-monitor-5">monitor</a> display devices where browser
                                        windows are visible, or otherwise try to discourage their
                                        selection on the basis that these represent a significantly
                                        higher risk when shared.
                                    </p>


                                    <p>If the result of the request is
                                        "<a data-link-type="enum-value"
                                            href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>",
                                        then for each device that is
                                        sourcing the provided media, using a stable and private id
                                        for the device, <var>deviceId</var>, set
                                        [[devicesLiveMap]]<var>[deviceId]</var> to
                                        <code>true</code>, if it isn’t already <code>true</code>, and
                                        set the [[devicesAccessibleMap]]<var>[deviceId]</var> to
                                        <code>true</code>, if it isn’t already <code>true</code>.
                                    </p>


                                    <p>The user agent <em class="rfc2119">MUST NOT</em> store a
                                        "<a data-link-type="enum-value"
                                            href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>"
                                        permission entry.</p>


                                    <p>If the result is "<a data-link-type="enum-value"
                                            href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied"><code>denied</code></a>",
                                        jump to the
                                        step labeled <em>Permission Failure</em> below. If the user
                                        never responds, this algorithm stalls on this step.</p>


                                    <p>If the user grants permission but a hardware error such as
                                        an OS/program/webpage lock prevents access, <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue
                                            a task</a>
                                        on the <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                                            interaction task source</a> to <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject">reject</a>
                                        <var>p</var> with a new <a data-link-type="interface" data-lt="DOMException"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        object whose
                                        <a data-link-type="attribute"
                                            href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                        attribute has the value
                                        <a data-link-type="exception" data-lt="NotReadableError"
                                            href="https://webidl.spec.whatwg.org/#notreadableerror"><code>NotReadableError</code></a>,
                                        and abort these steps.
                                    </p>


                                    <p>If the result is "<a data-link-type="enum-value"
                                            href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>"
                                        but device
                                        access fails for any reason other than those listed above,
                                        <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue
                                            a task</a> on the <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                                            interaction task source</a> to
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                                        <var>p</var> with a new <a data-link-type="interface" data-lt="DOMException"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        object
                                        whose <a data-link-type="attribute"
                                            href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                        attribute has the value
                                        <a data-link-type="exception" data-lt="AbortError"
                                            href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>,
                                        and abort these steps.
                                    </p>
                                </li>


                                <li>
                                    <p>Let <var>stream</var> be a <a data-link-type="interface" data-lt="MediaStream"
                                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>
                                        object.</p>
                                </li>

                                <li>
                                    <p>For each <var>source</var> that the user granted permission
                                        to, run the following steps:</p>
                                    <ol>
                                        <li>
                                            <p>Let <var>track</var> be the result of <a data-link-type="dfn"
                                                    data-lt="create a MediaStreamTrack"
                                                    href="https://www.w3.org/TR/mediacapture-streams/#dfn-create-a-mediastreamtrack">creating
                                                    a MediaStreamTrack</a>
                                                with <var>source</var> and <var>mediaDevices</var>.</p>
                                        </li>
                                        <li>
                                            <p>Add <var>track</var> to <var>stream</var>'s track set.</p>
                                        </li>
                                        <li>
                                            <p><a data-link-type="dfn"
                                                    href="https://www.w3.org/TR/mediacapture-streams/#dfn-tie-track-source-to-mediadevices">Tie
                                                    track source to MediaDevices</a> with <var>source</var> and
                                                <var>mediaDevices</var>.
                                            </p>
                                        </li>
                                    </ol>
                                </li>


                                <li>
                                    <p>Run the <a data-link-type="dfn"
                                            href="https://www.w3.org/TR/mediacapture-streams/#dfn-applyconstraints-algorithm">ApplyConstraints
                                            algorithm</a> on all tracks in
                                        <var>stream</var> with the appropriate constraints. Should
                                        this fail, let <var>failedConstraint</var> be the result of
                                        the algorithm that failed, and let <var>message</var> be
                                        either <code>undefined</code> or an informative
                                        human-readable message, and then <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue
                                            a task</a> on the
                                        <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                                            interaction task source</a> to <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject">reject</a> <var>p</var>
                                        with a new <code>OverconstrainedError</code> created by
                                        calling
                                        <code>OverconstrainedError(<var>failedConstraint</var>,
                  <var>message</var>)</code>, and abort these steps.
                                    </p>
                                </li>


                                <li>
                                    <p>This invocation of <a data-link-type="idl" data-lt="getDisplayMedia()"
                                            href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                                            id="ref-for-dom-mediadevices-getdisplaymedia-6"><code>getDisplayMedia</code></a><code>()</code>
                                        is
                                        now considered to have produced a new
                                        <dfn data-plurals="capture-sessions" id="dfn-capture-session" tabindex="0"
                                            aria-haspopup="dialog" data-dfn-type="dfn">capture-session</dfn>.
                                    </p>
                                </li>
                                <li>
                                    <p><a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">Queue
                                            a task</a> on the <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                                            interaction task source</a> to
                                        run the following steps:</p>
                                    <ol>
                                        <li>
                                            <p>If <var>controller</var> is not <code>null</code>, run the
                                                following steps:</p>
                                            <ol>
                                                <li>
                                                    <p>Set
                                                        <var>controller</var>.<a data-link-type="attribute"
                                                            data-lt="[[Source]]" href="#dfn-source" class="internalDFN"
                                                            id="ref-for-dfn-source-1"><code>[[Source]]</code></a> to
                                                        <var>stream</var>'s video track's <a
                                                            href="https://www.w3.org/TR/mediacapture-streams/#dfn-source-0">[[Source]]</a>.
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>Set
                                                        <var>controller</var>.<a data-link-type="attribute"
                                                            data-lt="[[DisplaySurfaceType]]"
                                                            href="#dfn-displaysurfacetype" class="internalDFN"
                                                            id="ref-for-dfn-displaysurfacetype-1"><code>[[DisplaySurfaceType]]</code></a>
                                                        to the to <var>stream</var>'s video track's
                                                        <a data-link-type="idl" data-lt="DisplayCaptureSurfaceType"
                                                            href="#dom-displaycapturesurfacetype" class="internalDFN"
                                                            id="ref-for-dom-displaycapturesurfacetype-1"><code>DisplayCaptureSurfaceType</code></a>.
                                                    </p>
                                                </li>
                                            </ol>
                                        </li>
                                        <li>
                                            Set the <a
                                                href="https://html.spec.whatwg.org/multipage/#last-activation-timestamp">last
                                                activation timestamp</a>
                                            to the <a data-link-type="dfn"
                                                href="https://www.w3.org/TR/hr-time-3/#dfn-current-high-resolution-time">current
                                                high resolution time</a>.
                                        </li>
                                        <li>
                                            <p><a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#resolve">Resolve</a>
                                                <var>p</var> with <var>stream</var>.
                                            </p>
                                        </li>
                                    </ol>
                                </li>
                                <li>
                                    <p>If <var>controller</var> is not <code>null</code>, <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue
                                            a task</a>
                                        on the <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                                            interaction task source</a> to run the
                                        <a data-link-type="dfn|abstract-op"
                                            href="#dfn-finalize-focus-decision-algorithm" class="internalDFN"
                                            id="ref-for-dfn-finalize-focus-decision-algorithm-1">finalize focus decision
                                            algorithm</a> on <var>controller</var>.
                                    </p>
                                </li>
                                <li>
                                    <p>Abort these steps.</p>
                                </li>
                                <li>
                                    <p><em>Permission Failure</em>: <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">Queue
                                            a task</a> on the
                                        <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                                            interaction task source</a> to
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                                        <var>p</var> with
                                        a new <a data-link-type="interface" data-lt="DOMException"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
                                        object whose <a data-link-type="attribute"
                                            href="https://webidl.spec.whatwg.org/#dom-domexception-name"><code>name</code></a>
                                        attribute has the value <a data-link-type="exception" data-lt="NotAllowedError"
                                            href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>.
                                    </p>
                                </li>
                            </ol>
                        </li>


                        <li>
                            <p>Return <var>p</var>.</p>
                        </li>
                    </ol>


                    <p>When the top-level document loses focus, run the following steps
                        on all <a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                            class="internalDFN" id="ref-for-dom-capturecontroller-1"><code>CaptureController</code></a>
                        objects in that document and in
                        documents of its nested <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context">browsing
                            contexts</a>:</p>


                    <ol>
                        <li>
                            <p>If <a data-link-type="attribute" data-lt="[[Source]]" href="#dfn-source"
                                    class="internalDFN" id="ref-for-dfn-source-2"><code>[[Source]]</code></a> is
                                <code>undefined</code>,
                                abort these steps.
                            </p>
                        </li>


                        <li>
                            <p>Set <a data-link-type="attribute" data-lt="[[FocusChangeDisabled]]"
                                    href="#dfn-focuschangedisabled" class="internalDFN"
                                    id="ref-for-dfn-focuschangedisabled-1"><code>[[FocusChangeDisabled]]</code></a> to
                                <code>true</code>.
                            </p>
                        </li>
                    </ol>


                    <p>The <a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agents-1">user agent</a> <em class="rfc2119">MUST NOT</em> capture
                        content that's behind a
                        partially transparent captured <a href="#dfn-display-surface" class="internalDFN"
                            data-link-type="dfn" id="ref-for-dfn-display-surface-10">display surface</a>.</p>


                    <p>For the newly created <a data-link-type="interface" data-lt="MediaStreamTrack"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>,
                        the <a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agents-2">user agent</a>
                        <em class="rfc2119">MUST NOT</em> capture the prompt that was shown to the user.
                    </p>


                    <p>Information that is not currently rendered to the screen <em class="rfc2119">SHOULD</em> be
                        obscured in captures unless the application has been specifically
                        authorized to access that content (e.g. through means such as
                        <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-elevated-permissions-1">elevated permissions</a>).
                    </p>


                    <p>The <a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-user-agents-3">user agent</a> <em class="rfc2119">MUST NOT</em> share audio
                        without <a href="#dfn-active-user-consent" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-active-user-consent-1">active user
                            consent</a>, for example if the capture of the video of a <a
                            data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                            id="ref-for-dfn-window-2">window</a> is accompanied by capture of the audio of the
                        entire system, including applications unrelated to that window.</p>
                </dd>
            </dl>
        </section>


        <section id="closed-and-minimized-display-surfaces">
            <div class="header-wrapper">
                <h3 id="hidden-display-surfaces"><bdi class="secno">5.2 </bdi>Closed and Minimized Display
                    Surfaces</h3><a class="self-link" href="#hidden-display-surfaces"
                    aria-label="Permalink for Section 5.2"></a>
            </div>



            <p>A <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-11">display surface</a> that is being shared may temporarily or
                permanently become inaccessible to the application because of actions
                taken by the operating system or user agent. What makes a <a href="#dfn-display-surface"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-display-surface-12">display
                    surface</a> considered inaccesible is outside the scope of this
                specification, but examples <em class="rfc2119">MAY</em> include a <a data-link-type="dfn|abstract-op"
                    href="#dfn-monitor" class="internalDFN" id="ref-for-dfn-monitor-6">monitor</a>
                disconnecting, <a data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                    id="ref-for-dfn-window-3">window</a> or <a data-link-type="dfn|abstract-op" href="#dfn-browser"
                    class="internalDFN" id="ref-for-dfn-browser-3">browser</a> closing or becoming minimized, or due to
                an incoming call on a
                phone.</p>


            <div class="note" role="note" id="issue-container-generatedID">
                <div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span></div>
                <p class="">User agents ultimately control what inaccesible means in
                    this context, but are encouraged to only fire mute and unmute events for
                    interruptions that have external reasons.</p>
            </div>


            <p>When <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-13">display surface</a> enters an inaccessible state that is not
                necessarily permanent, the user agent <em class="rfc2119">MUST</em> <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> on the
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                    interaction task source</a> that <a data-link-type="dfn" data-lt="set a track's muted state"
                    href="https://www.w3.org/TR/mediacapture-streams/#set-track-muted">sets the muted state</a> of the
                corresponding media
                track to <code>true</code>.
            </p>


            <p>When <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-14">display surface</a> exits an inaccessible state and becomes
                accessible, the user agent <em class="rfc2119">MUST</em> <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> on the
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                    interaction task source</a> that <a data-link-type="dfn" data-lt="set a track's muted state"
                    href="https://www.w3.org/TR/mediacapture-streams/#set-track-muted">sets the muted state</a> of the
                corresponding media track to
                <code>false</code>.
            </p>


            <p>When a <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-15">display surface</a> enters an inaccessible state that is
                permanent (such as the source <a data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                    id="ref-for-dfn-window-4">window</a> closing), the
                user agent <em class="rfc2119">MUST</em> <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> on the
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                    interaction task source</a>
                that <a data-link-type="dfn" data-lt="ended"
                    href="https://www.w3.org/TR/mediacapture-streams/#track-ended">ends</a> the corresponding media
                track.
            </p>


            <p>A stream that was just returned by <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia"
                    class="internalDFN" id="ref-for-dom-mediadevices-getdisplaymedia-7"><code>getDisplayMedia</code></a>
                <em class="rfc2119">MAY</em> contain tracks that are muted by default. Audio and video tracks
                belonging to the same stream <em class="rfc2119">MAY</em> be muted/unmuted independently of one
                another.
            </p>
        </section>


        <section id="unconstrained-display-surface-selection">
            <div class="header-wrapper">
                <h3 id="constraints"><bdi class="secno">5.3 </bdi>Unconstrained Display Surface Selection</h3><a
                    class="self-link" href="#constraints" aria-label="Permalink for Section 5.3"></a>
            </div>



            <p class="fingerprint">Not accepting constraints for source selection
                means that <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                    id="ref-for-dom-mediadevices-getdisplaymedia-8"><code>getDisplayMedia</code></a> only provides
                fingerprinting
                surface that exposes whether audio, video or audio and video display
                sources are present. <img alt="(This is a fingerprinting vector.)" src="images/fingerprint.png"
                    width="15" height="21"></p>


            <p>Note that accepting the <a data-link-type="idl" data-lt="displaySurface" href="#dfn-displaysurface"
                    class="internalDFN" id="ref-for-dfn-displaysurface-2"><code>displaySurface</code></a> constraint
                does not limit
                user selection.</p>
        </section>


        <section id="constrainable-properties-for-captured-display-surfaces">
            <div class="header-wrapper">
                <h3 id="constrainable-properties"><bdi class="secno">5.4 </bdi>Constrainable Properties for Captured
                    Display Surfaces</h3><a class="self-link" href="#constrainable-properties"
                    aria-label="Permalink for Section 5.4"></a>
            </div>



            <p>Constraints serve a different purpose in
                <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                    id="ref-for-dom-mediadevices-getdisplaymedia-9"><code>getDisplayMedia</code></a> than they do in
                <a data-link-type="method" data-lt="getUserMedia()"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>.
                They do not aid discovery, instead they
                are applied only after user-selection.
            </p>


            <p>This section define which constraints apply to
                <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                    id="ref-for-dom-mediadevices-getdisplaymedia-10"><code>getDisplayMedia</code></a> tracks;
                constraints defined for
                <a data-link-type="method" data-lt="getUserMedia()"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>
                do not apply unless listed here.
            </p>


            <p>Some of these constraints enable user agent processing like
                downscaling and frame decimation, as well as display-specific features.
                Others enable observation of inherent properties of a user-selected
                <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-16">display surface</a>, as capabilities and settings.
            </p>


            <p>The following new and existing <a data-link-type="interface" data-lt="MediaStreamTrack"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
                <a href="https://www.w3.org/TR/mediacapture-streams/#constrainable-properties">Constrainable
                    Properties</a> are
                defined to apply to the user-selected video <a href="#dfn-display-surface" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-display-surface-17">display surface</a>, with
                the following behavior:
            </p>


            <table class="simple">
                <thead>
                    <tr>
                        <th>Property Name</th>

                        <th>Type</th>

                        <th>Behavior</th>
                    </tr>
                </thead>


                <tbody>
                    <tr id="def-constraint-width">
                        <td><dfn class="export" data-export="" id="dfn-width" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">width</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="unsigned long"
                                href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><code>unsigned long</code></a>
                        </td>

                        <td>
                            The width, in pixels. As a capability, max <em class="rfc2119">MUST</em> reflect the
                            <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-display-surface-18">display surface</a>'s width, and min <em
                                class="rfc2119">MUST</em> reflect the width of
                            the smallest aspect-preserving representation available through
                            downscaling by the user agent.
                        </td>
                    </tr>


                    <tr id="def-constraint-height">
                        <td><dfn class="export" data-export="" id="dfn-height" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">height</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="unsigned long"
                                href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><code>unsigned long</code></a>
                        </td>

                        <td>
                            The height, in pixels. As a capability, max <em class="rfc2119">MUST</em> reflect the
                            <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-display-surface-19">display surface</a>'s height, and min <em
                                class="rfc2119">MUST</em> reflect the height
                            of the smallest aspect-preserving representation available
                            through downscaling by the user agent.
                        </td>
                    </tr>


                    <tr id="def-constraint-frameRate">
                        <td><dfn class="export" data-export="" id="dfn-framerate" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">frameRate</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="double"
                                href="https://webidl.spec.whatwg.org/#idl-double"><code>double</code></a></td>

                        <td>
                            The frame rate (frames per second). As a capability, max <em class="rfc2119">MUST</em>
                            reflect the <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-display-surface-20">display surface</a>'s frame rate, and min <em
                                class="rfc2119">MUST</em>
                            reflect the lowest frame rate available through frame decimation
                            by the user agent.
                        </td>
                    </tr>


                    <tr id="def-constraint-aspect">
                        <td><dfn class="export" data-export="" id="dfn-aspectratio" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">aspectRatio</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="double"
                                href="https://webidl.spec.whatwg.org/#idl-double"><code>double</code></a></td>

                        <td>The exact aspect ratio (width in pixels divided by height in
                            pixels, represented as a double rounded to the tenth decimal place)
                            or aspect ratio range. As a setting, represents <code>width /
            height</code>. As a capability, min and max both <em class="rfc2119">MUST</em> be the
                            current setting value, rendering this property immutable from the
                            application viewpoint.</td>
                    </tr>


                    <tr id="def-constraint-resizeMode">
                        <td><dfn class="export" data-export="" id="dfn-resizemode" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">resizeMode</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="DOMString"
                                href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></td>

                        <td>
                            This string is one of the members of <a data-link-type="enum" data-lt="VideoResizeModeEnum"
                                href="https://www.w3.org/TR/mediacapture-streams/#dom-videoresizemodeenum"><code>VideoResizeModeEnum</code></a>.
                            As
                            a setting, "<a data-link-type="enum-value"
                                href="https://www.w3.org/TR/mediacapture-streams/#idl-def-VideoResizeModeEnum.user"><code>none</code></a>"
                            means the
                            <a data-link-type="interface" data-lt="MediaStreamTrack"
                                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
                            contains all bits needed to render the
                            display in full detail, which if the <code><a href="#dfn-source-pixel-ratio" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-source-pixel-ratio-1">source pixel
              ratio</a> &gt; 1</code>, means <code>width</code> and
                            <code>height</code> will be larger than the display's appearance
                            from an end-user viewpoint would suggest, whereas
                            "<a data-link-type="enum-value"
                                href="https://www.w3.org/TR/mediacapture-streams/#idl-def-VideoResizeModeEnum.right"><code>crop-and-scale</code></a>"
                            means the
                            <a data-link-type="interface" data-lt="MediaStreamTrack"
                                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
                            contains an aspect-preserved representation
                            of the <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-display-surface-21">display surface</a> that has been downscaled by the
                            user agent, but not cropped. As a capability, the values
                            "<a data-link-type="enum-value"
                                href="https://www.w3.org/TR/mediacapture-streams/#idl-def-VideoResizeModeEnum.user"><code>none</code></a>"
                            and
                            "<a data-link-type="enum-value"
                                href="https://www.w3.org/TR/mediacapture-streams/#idl-def-VideoResizeModeEnum.right"><code>crop-and-scale</code></a>"
                            both <em class="rfc2119">MUST</em> be present.
                        </td>
                    </tr>


                    <tr id="def-constraint-deviceId">
                        <td><dfn class="export" data-export="" id="dfn-deviceid" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">deviceId</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="DOMString"
                                href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></td>

                        <td>
                            The identifier of the surface being captured.

                            <p>As a setting, identifies the <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-22">display surface</a> that
                                is being captured. The identifier <em class="rfc2119">MUST</em> be uniquely generated
                                for
                                each <a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#concept-document">document</a>.</p>

                            <p>As a capability, the setting value <em class="rfc2119">MUST</em> be the lone value
                                present, rendering this property immutable from the application
                                viewpoint.</p>
                        </td>
                    </tr>


                    <tr id="def-constraint-displaySurface">
                        <td><dfn class="export" data-export="" id="dfn-displaysurface" tabindex="0"
                                aria-haspopup="dialog" data-dfn-type="dfn">displaySurface</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="DOMString"
                                href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></td>

                        <td>
                            <p>This string is one of the members of
                                <a data-link-type="idl" data-lt="DisplayCaptureSurfaceType"
                                    href="#dom-displaycapturesurfacetype" class="internalDFN"
                                    id="ref-for-dom-displaycapturesurfacetype-2"><code>DisplayCaptureSurfaceType</code></a>.
                            </p>


                            <p>As a setting, indicates the type of <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-23">display surface</a> that
                                is being captured.</p>


                            <p>As a capability, the setting value <em class="rfc2119">MUST</em> be the lone value
                                present, rendering this property immutable from the application
                                viewpoint.</p>


                            <p>As a constraint, the value signals the application's
                                preference of a particular <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-24">display surface</a> type to the user
                                agent; the user agent <em class="rfc2119">MAY</em> reorder the options offered to the
                                user
                                according to that preference. This constraint is ignored for all
                                other purposes, and can therefore not cause any side effects
                                (such as being the cause of
                                <code>OverconstrainedError</code>).
                            </p>
                        </td>
                    </tr>


                    <tr id="def-constraint-logicalSurface">
                        <td><dfn class="export" data-export="" id="dfn-logicalsurface" tabindex="0"
                                aria-haspopup="dialog" data-dfn-type="dfn">logicalSurface</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="boolean"
                                href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></td>

                        <td>As a setting, a value of <code>true</code> indicates capture of
                            a <a data-link-type="dfn|abstract-op" href="#dfn-logical-display-surface"
                                class="internalDFN" id="ref-for-dfn-logical-display-surface-3">logical display
                                surface</a>, whereas a value of
                            <code>false</code> indicates a capture of a <a data-link-type="dfn|abstract-op"
                                href="#dfn-visible-display-surface" class="internalDFN"
                                id="ref-for-dfn-visible-display-surface-2">visible display surface</a>. As a capability,
                            this same value <em class="rfc2119">MUST</em> be the lone value
                            present, rendering this property immutable from the application
                            viewpoint.
                        </td>
                    </tr>


                    <tr id="def-constraint-cursor">
                        <td><dfn class="export" data-export="" id="dfn-cursor" tabindex="0" aria-haspopup="dialog"
                                data-dfn-type="dfn">cursor</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="DOMString"
                                href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></td>

                        <td>This string is one of the members of
                            <a data-link-type="idl" data-lt="CursorCaptureConstraint"
                                href="#dom-cursorcaptureconstraint" class="internalDFN"
                                id="ref-for-dom-cursorcaptureconstraint-1"><code>CursorCaptureConstraint</code></a>. As
                            a setting, indicates if and when
                            the cursor is included in the captured <a data-link-type="dfn|abstract-op"
                                href="#dfn-display-surface" class="internalDFN"
                                id="ref-for-dfn-display-surface-25">display surface</a>. As a
                            capability, the user agent <em class="rfc2119">MUST</em> include only the set of values from
                            <a data-link-type="idl" data-lt="CursorCaptureConstraint"
                                href="#dom-cursorcaptureconstraint" class="internalDFN"
                                id="ref-for-dom-cursorcaptureconstraint-2"><code>CursorCaptureConstraint</code></a> it
                            is capable of supporting for this
                            <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                id="ref-for-dfn-display-surface-26">display surface</a>.
                        </td>
                    </tr>

                    <tr id="def-constraint-pixel-ratio">
                        <td><dfn class="export" data-export="" id="dfn-screenpixelratio" tabindex="0"
                                aria-haspopup="dialog" data-dfn-type="dfn">screenPixelRatio</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="double"
                                href="https://webidl.spec.whatwg.org/#idl-double"><code>double</code></a></td>

                        <td>As a setting, it is the result of dividing the size of a
                            <a data-lt="px" data-link-type="css-value" href="https://www.w3.org/TR/css-values-3/#px">CSS
                                pixel</a>
                            at a <a href="https://drafts.csswg.org/cssom-view/#page-zoom">page zoom</a>
                            of 1.0 and using a
                            <a href="https://drafts.csswg.org/cssom-view/#scale-factor">scale factor</a>
                            of 1.0 by the vertical size of a pixel from the <a data-link-type="dfn|abstract-op"
                                href="#dfn-display-surface" class="internalDFN"
                                id="ref-for-dfn-display-surface-27">display surface</a>.
                            It cannot be used as a constraint or capability.
                        </td>
                    </tr>
                </tbody>
            </table>


            <p>The following new and existing <a data-link-type="interface" data-lt="MediaStreamTrack"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>
                <a href="https://www.w3.org/TR/mediacapture-streams/#constrainable-properties">Constrainable
                    Properties</a> are
                defined to apply to the user-selected audio sources, with the following
                behavior:
            </p>


            <table class="simple">
                <thead>
                    <tr>
                        <th>Property Name</th>

                        <th>Type</th>

                        <th>Behavior</th>
                    </tr>
                </thead>


                <tbody>
                    <tr id="def-constraint-restrictOwnAudio">
                        <td><dfn class="export" data-export="" id="dfn-restrictownaudio" tabindex="0"
                                aria-haspopup="dialog" data-dfn-type="dfn">restrictOwnAudio</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="boolean"
                                href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></td>

                        <td>
                            <p>As a setting, this value indicates whether or not the user
                                agent is applying <a href="#dfn-own-audio-restriction" class="internalDFN"
                                    data-link-type="dfn" id="ref-for-dfn-own-audio-restriction-1">own audio
                                    restriction</a> to the source.</p>


                            <p>As a constraint, this property can be constrained resulting in
                                a source with <a href="#dfn-own-audio-restriction" class="internalDFN"
                                    data-link-type="dfn" id="ref-for-dfn-own-audio-restriction-2">own audio
                                    restriction</a> enabled or
                                disabled.</p>


                            <p>When <dfn id="dfn-own-audio-restriction" tabindex="0" aria-haspopup="dialog"
                                    data-dfn-type="dfn">own audio restriction</dfn> is applied, the user
                                agent <em class="rfc2119">MUST</em> attempt to remove any audio from the audio being
                                captured that was produced by the document that performed
                                <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                                    id="ref-for-dom-mediadevices-getdisplaymedia-11"><code>getDisplayMedia</code></a>.
                                If the user agent is not able
                                to remove the audio through processing it <em class="rfc2119">SHOULD</em> remove the
                                audio
                                by excluding the document's audio from being captured. If this
                                results in no audio being captured, the user agent <em class="rfc2119">MUST</em> keep
                                the
                                track muted until it is able to capture audio again.
                            </p>
                        </td>
                    </tr>


                    <tr id="def-constraint-suppressLocalAudioPlayback">
                        <td><dfn class="export" data-export="" id="dfn-suppresslocalaudioplayback" tabindex="0"
                                aria-haspopup="dialog" data-dfn-type="dfn">suppressLocalAudioPlayback</dfn>
                        </td>

                        <td><a data-link-type="interface" data-lt="boolean"
                                href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></td>

                        <td>
                            <p>As a setting, this value indicates whether or not the
                                application instructed the user agent to apply <a
                                    href="#dfn-local-audio-playback-suppression" class="internalDFN"
                                    data-link-type="dfn" id="ref-for-dfn-local-audio-playback-suppression-1">local audio
                                    playback suppression</a> to the source.</p>


                            <p>As a constraint, this value is only meaningful if the user
                                selects capturing a <a data-link-type="dfn|abstract-op" href="#dfn-browser"
                                    class="internalDFN" id="ref-for-dfn-browser-4">browser</a> <a
                                    data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-28">display surface</a>. In that case, a value of
                                <code>true</code> indicates
                                that the user agent <em class="rfc2119">SHOULD</em> perform <a
                                    href="#dfn-local-audio-playback-suppression" class="internalDFN"
                                    data-link-type="dfn" id="ref-for-dfn-local-audio-playback-suppression-2">local audio
                                    playback
                                    suppression</a> on the captured <a data-link-type="dfn|abstract-op"
                                    href="#dfn-browser" class="internalDFN" id="ref-for-dfn-browser-5">browser</a>
                                <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-29">display surface</a>.
                            </p>


                            <p>When <dfn id="dfn-local-audio-playback-suppression" tabindex="0" aria-haspopup="dialog"
                                    data-dfn-type="dfn">local audio playback suppression</dfn> is applied,
                                the user agent <em class="rfc2119">SHOULD</em> stop relaying audio to the local
                                speakers,
                                but that audio <em class="rfc2119">MUST</em> still be captured by any ongoing
                                audio-capturing <a data-link-type="dfn|abstract-op" href="#dfn-capture-session"
                                    class="internalDFN" id="ref-for-dfn-capture-session-1">capture-sessions</a>. This
                                suppression <em class="rfc2119">MUST NOT</em>
                                be observable to the captured document. Furthermore, the
                                capturing document may only observe whether it is applying
                                <a href="#dfn-suppresslocalaudioplayback" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-suppresslocalaudioplayback-1">suppressLocalAudioPlayback</a>; not
                                whether that suppression
                                is having an effect (i.e. can't observe if the user is overriding
                                this in the user agent).
                            </p>


                            <p>When a <a data-link-type="dfn|abstract-op" href="#dfn-browser" class="internalDFN"
                                    id="ref-for-dfn-browser-6">browser</a> <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-30">display surface</a> is
                                subject to multiple concurrent captures, <a href="#dfn-local-audio-playback-suppression"
                                    class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-local-audio-playback-suppression-3">local audio playback
                                    suppression</a> <em class="rfc2119">SHOULD</em> be applied as long as at least one
                                active
                                audio-capturing <a data-link-type="dfn|abstract-op" href="#dfn-capture-session"
                                    class="internalDFN" id="ref-for-dfn-capture-session-2">capture-session</a> is
                                constraining
                                <a href="#dfn-suppresslocalaudioplayback" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-suppresslocalaudioplayback-2">suppressLocalAudioPlayback</a> to
                                <code>true</code>.
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>


            <p>When inherent properties of the underlying source of a user-selected
                <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-display-surface-31">display surface</a> change, for example in response to the
                end-user
                resizing a captured window, and these changes render the capabilities
                and/or settings of one or more constrainable properties outdated, the
                user agent <em class="rfc2119">MUST</em> <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task">queue a task</a> on the
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user
                    interaction task source</a>
                to run the following step:
            </p>


            <ol>
                <li>
                    <p>Update all affected constrainable properties at the same time.</p>


                    <p>If this causes an "overconstrained" situation, then the user agent
                        <em class="rfc2119">MUST</em> ignore the culprit constraints for as long as they
                        overconstrain. The user agent <em class="rfc2119">MUST NOT</em> mute the track.
                    </p>
                </li>
            </ol>


            <div class="note" role="note" id="issue-container-generatedID-0">
                <div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>Note</span></div>
                <div class="">
                    <p>While min and exact constraints produce TypeError on
                        getDisplayMedia(), this specification does not alter the
                        track.applyConstraints() method. Therefore, they may instead produce
                        OverconstrainedError or succeed depending on values, and therefore
                        potentially be present to cause this "overconstrained" situation. The
                        max constraint may also cause this, e.g. with aspectRatio. This spec
                        considers these to be edge cases that aren't useful.</p>
                </div>
            </div>


            <section id="downscaling-and-frame-decimation">
                <div class="header-wrapper">
                    <h4 id="x5-4-1-downscaling-and-frame-decimation"><bdi class="secno">5.4.1 </bdi>Downscaling and
                        Frame Decimation</h4><a class="self-link" href="#downscaling-and-frame-decimation"
                        aria-label="Permalink for Section 5.4.1"></a>
                </div>



                <p>For the purposes of the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/mediacapture-streams/#dfn-selectsettings">SelectSettings</a>
                    algorithm, the user agent
                    <em class="rfc2119">SHOULD</em> consider all possible combinations of downscaled dimensions that
                    preserve the aspect ratio of the original <a href="#dfn-display-surface" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-display-surface-32">display surface</a> (to
                    the nearest pixel), and frame rates available through frame decimation,
                    as available <a data-link-type="dfn"
                        href="https://www.w3.org/TR/mediacapture-streams/#dfn-settings-dictionary">settings
                        dictionaries</a>.
                </p>


                <p>The downscaling and decimation effects of constraints is then
                    effectively governed by the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/mediacapture-streams/#dfn-fitness-distance">fitness distance</a>
                    algorithm.</p>


                <p>The intent is for the user agent to produce output that is close to
                    the ideal <code>width</code>, ideal <code>height</code>, and/or ideal
                    <code>frameRate</code> when these are specified, while at all times
                    preserving the aspect ratio of the original <a href="#dfn-display-surface" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-display-surface-33">display surface</a>.
                </p>


                <p>The user agent <em class="rfc2119">SHOULD</em> downscale by the <a href="#dfn-source-pixel-ratio"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-source-pixel-ratio-2">source pixel
                        ratio</a> by
                    default, unless otherwise directed by applied constraints.</p>


                <p>The user agent <em class="rfc2119">MUST NOT</em> crop the captured output.</p>


                <p>The user agent <em class="rfc2119">MUST NOT</em> upscale the captured output, or create
                    additional frames, except as needed to preserve high resolutions and
                    frame rates in an aggregated <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-display-surface-34">display surface</a>.</p>


                <div class="note" role="note" id="issue-container-generatedID-1">
                    <div role="heading" class="note-title marker" id="h-note-1" aria-level="5"><span>Note</span></div>
                    <div class="">
                        <p>The max constraint type lets a web application provide a maximum
                            envelope for constrainable properties like width and height. This is
                            helpful to limit extreme aspect ratios, should the end-user resize a
                            <a data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                                id="ref-for-dfn-window-5">window</a> or <a data-link-type="dfn|abstract-op"
                                href="#dfn-browser" class="internalDFN" id="ref-for-dfn-browser-7">browser</a> surface
                            to such an extreme while it is being captured.
                        </p>
                    </div>
                </div>


                <p>For each constrainable property of positive numeric type in this
                    specification, the user agent <em class="rfc2119">MUST</em> establish a <dfn id="dfn-floor-value"
                        tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">floor value</dfn>,
                    representing the smallest allowable value supported by the user agent
                    regardless of source. This value <em class="rfc2119">MUST</em> be constant and <em
                        class="rfc2119">MUST</em> be greater
                    than <code>0</code>. The user agent is encouraged to support all values
                    above the <a href="#dfn-floor-value" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-floor-value-2">floor value</a> regardless of source.</p>


                <div class="note" role="note" id="issue-container-generatedID-2">
                    <div role="heading" class="note-title marker" id="h-note-2" aria-level="5"><span>Note</span></div>
                    <div class="">
                        <p>The purpose of the <a href="#dfn-floor-value" class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-floor-value-3">floor value</a> is to help user agents avoid
                            failing <a data-link-type="idl" data-lt="getDisplayMedia()"
                                href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                                id="ref-for-dom-mediadevices-getdisplaymedia-12"><code>getDisplayMedia</code></a><code>()</code>
                            with
                            <code>OverconstrainedError</code> after the user has already been
                            prompted, and avoid leaking information about the user's system.
                        </p>
                    </div>
                </div>
            </section>


            <section id="capturestartfocusbehavior">
                <div class="header-wrapper">
                    <h4 id="x5-4-2-capturestartfocusbehavior"><bdi class="secno">5.4.2 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-capturestartfocusbehavior" data-idl="enum"
                            data-title="CaptureStartFocusBehavior" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>CaptureStartFocusBehavior</code></dfn>
                    </h4><a class="self-link" href="#capturestartfocusbehavior"
                        aria-label="Permalink for Section 5.4.2"></a>
                </div>



                <p>Describes whether an application invoking
                    <a data-link-type="idl" data-lt="setFocusBehavior()" href="#dom-capturecontroller-setfocusbehavior"
                        class="internalDFN"
                        id="ref-for-dom-capturecontroller-setfocusbehavior-1"><code>setFocusBehavior</code></a><code>()</code>
                    would like the user agent to
                    focus the <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                        id="ref-for-dfn-display-surface-35">display surface</a> associated with that
                    <a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                        class="internalDFN" id="ref-for-dom-capturecontroller-2"><code>CaptureController</code></a>'s <a
                        data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                        id="ref-for-dfn-capture-session-3">capture-session</a>.
                </p>

                <pre class="idl def" id="webidl-214854339"><span class="idlHeader"><a class="self-link" href="#webidl-214854339">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-capturestartfocusbehavior" data-title="CaptureStartFocusBehavior">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-capturestartfocusbehavior" id="ref-for-dom-capturestartfocusbehavior-1"><code>CaptureStartFocusBehavior</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CaptureStartFocusBehavior.focus-capturing-application" id="ref-for-idl-def-CaptureStartFocusBehavior.focus-capturing-application-1"><code>focus-capturing-application</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CaptureStartFocusBehavior.focus-captured-surface" id="ref-for-idl-def-CaptureStartFocusBehavior.focus-captured-surface-1"><code>focus-captured-surface</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CaptureStartFocusBehavior.no-focus-change" id="ref-for-idl-def-CaptureStartFocusBehavior.no-focus-change-1"><code>no-focus-change</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="CaptureStartFocusBehavior" class="simple">
                    <tbody>
                        <tr>
                            <th colspan="2">Enumeration description</th>
                        </tr>


                        <tr>
                            <td style="white-space:nowrap"><dfn
                                    id="idl-def-CaptureStartFocusBehavior.focus-capturing-application" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value"
                                    data-title="focus-capturing-application" data-dfn-for="CaptureStartFocusBehavior"
                                    tabindex="0" aria-haspopup="dialog"><code>focus-capturing-application</code></dfn>
                            </td>

                            <td>The application prefers to be focused.</td>
                        </tr>


                        <tr>
                            <td style="white-space:nowrap"><dfn
                                    id="idl-def-CaptureStartFocusBehavior.focus-captured-surface" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="focus-captured-surface"
                                    data-dfn-for="CaptureStartFocusBehavior" tabindex="0"
                                    aria-haspopup="dialog"><code>focus-captured-surface</code></dfn>
                            </td>

                            <td>The application prefers that the <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-36">display surface</a>
                                associated with this <a data-link-type="idl" data-lt="CaptureController"
                                    href="#dom-capturecontroller" class="internalDFN"
                                    id="ref-for-dom-capturecontroller-3"><code>CaptureController</code></a>'s <a
                                    data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                                    id="ref-for-dfn-capture-session-4">capture-session</a>
                                be focused.</td>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-CaptureStartFocusBehavior.no-focus-change" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="no-focus-change"
                                    data-dfn-for="CaptureStartFocusBehavior" tabindex="0"
                                    aria-haspopup="dialog"><code>no-focus-change</code></dfn>
                            </td>

                            <td>The application prefers that the user agent not change focus,
                                leaving focus with whichever surface last had focus following the
                                user's interaction with the user agent and/or operating
                                system.</td>
                        </tr>
                    </tbody>
                </table>


                <div class="note" role="note" id="issue-container-generatedID-3">
                    <div role="heading" class="note-title marker" id="h-note-3" aria-level="5"><span>Note</span></div>
                    <div class="">
                        The Working Group is investigating the possibility of deprecating
                        "<a data-link-type="idl" href="#idl-def-CaptureStartFocusBehavior.no-focus-change"
                            class="internalDFN"
                            id="ref-for-idl-def-CaptureStartFocusBehavior.no-focus-change-2"><code>no-focus-change</code></a>".
                    </div>
                </div>
            </section>


            <section id="capturecontroller">
                <div class="header-wrapper">
                    <h4 id="x5-4-3-capturecontroller"><bdi class="secno">5.4.3 </bdi><dfn data-export=""
                            data-dfn-type="interface" id="dom-capturecontroller" data-idl="interface"
                            data-title="CaptureController" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>CaptureController</code></dfn>
                    </h4><a class="self-link" href="#capturecontroller" aria-label="Permalink for Section 5.4.3"></a>
                </div>



                <p>A <a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                        class="internalDFN" id="ref-for-dom-capturecontroller-4"><code>CaptureController</code></a>
                    object may be associated with a
                    <a data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                        id="ref-for-dfn-capture-session-5">capture-session</a>. It would be used to expose functionality
                    that's
                    associated with the <a data-link-type="dfn|abstract-op" href="#dfn-capture-session"
                        class="internalDFN" id="ref-for-dfn-capture-session-6">capture-session</a> itself, rather than
                    with the
                    call to <a data-link-type="idl" data-lt="getDisplayMedia()" href="#dom-mediadevices-getdisplaymedia"
                        class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-13"><code>getDisplayMedia</code></a><code>()</code>
                    or its resulting stream or
                    tracks.
                </p>


                <p>Any given <a data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                        id="ref-for-dfn-capture-session-7">capture-session</a> is associated with at most one
                    <a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                        class="internalDFN" id="ref-for-dom-capturecontroller-5"><code>CaptureController</code></a>.
                </p>


                <p>At most one <a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                        class="internalDFN" id="ref-for-dom-capturecontroller-6"><code>CaptureController</code></a> is
                    associated with any given
                    <a data-link-type="dfn|abstract-op" href="#dfn-capture-session" class="internalDFN"
                        id="ref-for-dfn-capture-session-8">capture-session</a>.
                </p>

                <pre class="idl def" id="webidl-999726024"><span class="idlHeader"><a class="self-link" href="#webidl-999726024">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-capturecontroller" data-title="CaptureController">[<span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>, <span class="extAttr"><a data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-capturecontroller" id="ref-for-dom-capturecontroller-7"><code>CaptureController</code></a> : <span class="idlSuperclass"><a data-link-type="interface" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-capturecontroller-constructor" data-title="constructor" data-dfn-for="CaptureController">
  <a class="internalDFN" data-link-type="constructor" href="#dom-capturecontroller-constructor" id="ref-for-dom-capturecontroller-constructor-1"><code>constructor</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-capturecontroller-setfocusbehavior-focusbehavior" data-title="setFocusBehavior" data-dfn-for="CaptureController"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-capturecontroller-setfocusbehavior" id="ref-for-dom-capturecontroller-setfocusbehavior-2"><code>setFocusBehavior</code></a>(<span class="idlType"><a data-link-type="idl" href="#dom-capturestartfocusbehavior" class="internalDFN" id="ref-for-dom-capturestartfocusbehavior-2"><code>CaptureStartFocusBehavior</code></a></span> <span class="idlParamName">focusBehavior</span>);</span>
};</span></code></pre>

                <div class="issue atrisk" id="issue-container-number-1">
                    <div role="heading" class="issue-title marker" id="h-issue" aria-level="5"><span>(Feature at Risk)
                            Issue 1</span></div>
                    <div class="atrisk">
                        <p><a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                                class="internalDFN"
                                id="ref-for-dom-capturecontroller-8"><code>CaptureController</code></a> does not yet
                            define event handlers, so it is
                            not required to inherit from <a data-link-type="interface" data-lt="EventTarget"
                                href="https://dom.spec.whatwg.org/#eventtarget"><code>EventTarget</code></a>. This is
                            for the benefit
                            of future specifications that extend <a data-link-type="idl" data-lt="CaptureController"
                                href="#dom-capturecontroller" class="internalDFN"
                                id="ref-for-dom-capturecontroller-9"><code>CaptureController</code></a> with event
                            handler attributes; if inheritance is not used, it can be
                            removed.</p>
                    </div>
                </div>


                <dl data-link-for="CaptureController" data-dfn-for="CaptureController" class="methods">
                    <dt><dfn data-export="" data-dfn-type="constructor" id="dom-capturecontroller-constructor"
                            data-idl="constructor" data-title="constructor" data-dfn-for="CaptureController"
                            data-lt="constructor()"
                            data-local-lt="CaptureController.constructor|CaptureController.constructor()|constructor"
                            tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>
                    </dt>


                    <dd>
                        Create a new <a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller"
                            class="internalDFN" id="ref-for-dom-capturecontroller-10"><code>CaptureController</code></a>
                        object with the following
                        internal slots:

                        <table class="simple" data-dfn-for="CaptureController">
                            <thead>
                                <tr>
                                    <th>Internal Slot</th>

                                    <th>Initial value</th>

                                    <th>Description (<em>non-normative</em>)</th>
                                </tr>
                            </thead>


                            <tbody>
                                <tr>
                                    <td><dfn class="attribute export" data-idl="" data-dfn-for="CaptureController"
                                            data-dfn-type="attribute" data-export="" id="dfn-isbound" tabindex="0"
                                            aria-haspopup="dialog">[[IsBound]]</dfn>
                                    </td>

                                    <td><code>false</code>
                                    </td>

                                    <td>Whether an application has attempted to associate
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>
                                        with a <a data-link-type="dfn|abstract-op" href="#dfn-capture-session"
                                            class="internalDFN" id="ref-for-dfn-capture-session-9">capture-session</a>.
                                    </td>
                                </tr>


                                <tr>
                                    <td><dfn class="attribute export" data-idl="" data-dfn-for="CaptureController"
                                            data-dfn-type="attribute" data-export="" id="dfn-source" tabindex="0"
                                            aria-haspopup="dialog">[[Source]]</dfn>
                                    </td>

                                    <td><code>null</code>
                                    </td>

                                    <td>The source of the associated <a data-link-type="dfn|abstract-op"
                                            href="#dfn-capture-session" class="internalDFN"
                                            id="ref-for-dfn-capture-session-10">capture-session</a>.</td>
                                </tr>


                                <tr>
                                    <td><dfn class="attribute export" data-idl="" data-dfn-for="CaptureController"
                                            data-dfn-type="attribute" data-export="" id="dfn-displaysurfacetype"
                                            tabindex="0" aria-haspopup="dialog">[[DisplaySurfaceType]]</dfn>
                                    </td>

                                    <td><code>null</code>
                                    </td>

                                    <td>Once capture starts, this will be set to the type of the
                                        captured <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                            class="internalDFN" id="ref-for-dfn-display-surface-37">display surface</a>.
                                    </td>
                                </tr>


                                <tr>
                                    <td><dfn class="attribute export" data-idl="" data-dfn-for="CaptureController"
                                            data-dfn-type="attribute" data-export="" id="dfn-focuschangedisabled"
                                            tabindex="0" aria-haspopup="dialog">[[FocusChangeDisabled]]</dfn>
                                    </td>

                                    <td><code>false</code>
                                    </td>

                                    <td>Whether focus-change has been disabled by an external
                                        event or a user agent consideration.</td>
                                </tr>


                                <tr>
                                    <td><dfn class="attribute export" data-idl="" data-dfn-for="CaptureController"
                                            data-dfn-type="attribute" data-export="" id="dfn-focusdecisionfinalized"
                                            tabindex="0" aria-haspopup="dialog">[[FocusDecisionFinalized]]</dfn>
                                    </td>

                                    <td><code>false</code>
                                    </td>

                                    <td>Set to true when the focus decision is finalized.</td>
                                </tr>


                                <tr>
                                    <td><dfn class="attribute export" data-idl="" data-dfn-for="CaptureController"
                                            data-dfn-type="attribute" data-export="" id="dfn-focusbehavior" tabindex="0"
                                            aria-haspopup="dialog">[[FocusBehavior]]</dfn>
                                    </td>

                                    <td><code>null</code>
                                    </td>

                                    <td>The focus behavior desired by the application.</td>
                                </tr>
                            </tbody>
                        </table>


                        <p>The user agent <em class="rfc2119">MAY</em> set
                            <a data-link-type="attribute" data-lt="[[FocusChangeDisabled]]"
                                href="#dfn-focuschangedisabled" class="internalDFN"
                                id="ref-for-dfn-focuschangedisabled-2"><code>[[FocusChangeDisabled]]</code></a> to
                            <code>true</code>
                            at any moment based on its own logic.
                        </p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="method" id="dom-capturecontroller-setfocusbehavior"
                            data-idl="operation" data-title="setFocusBehavior" data-dfn-for="CaptureController"
                            data-type="undefined" data-lt="setFocusBehavior()|setFocusBehavior(focusBehavior)"
                            data-local-lt="CaptureController.setFocusBehavior|CaptureController.setFocusBehavior()|setFocusBehavior"
                            tabindex="0" aria-haspopup="dialog"><code>setFocusBehavior</code></dfn>
                    </dt>


                    <dd>
                        <p>Run the following steps:</p>


                        <ol>
                            <li>
                                <p>Let <var>focusBehavior</var> be the method's first
                                    argument.</p>
                            </li>


                            <li>
                                <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[Source]]" href="#dfn-source"
                                        class="internalDFN" id="ref-for-dfn-source-3"><code>[[Source]]</code></a> is
                                    <code>null</code>, set
                                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[FocusBehavior]]" href="#dfn-focusbehavior"
                                        class="internalDFN"
                                        id="ref-for-dfn-focusbehavior-1"><code>[[FocusBehavior]]</code></a> to
                                    <var>focusBehavior</var> and abort these steps.
                                </p>
                            </li>


                            <li>
                                <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[Source]]" href="#dfn-source"
                                        class="internalDFN" id="ref-for-dfn-source-4"><code>[[Source]]</code></a> has
                                    been
                                    <a href="https://www.w3.org/TR/mediacapture-streams/#source-stopped">stopped</a>,
                                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a>
                                    an "<a data-link-type="exception" data-lt="InvalidStateError"
                                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                                    <a data-link-type="interface" data-lt="DOMException"
                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                                </p>
                            </li>


                            <li>
                                <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[DisplaySurfaceType]]"
                                        href="#dfn-displaysurfacetype" class="internalDFN"
                                        id="ref-for-dfn-displaysurfacetype-2"><code>[[DisplaySurfaceType]]</code></a> is
                                    neither "<a data-link-type="idl" href="#idl-def-DisplayCaptureSurfaceType.browser"
                                        class="internalDFN"
                                        id="ref-for-idl-def-DisplayCaptureSurfaceType.browser-1"><code>browser</code></a>"
                                    nor
                                    "<a data-link-type="idl" href="#idl-def-DisplayCaptureSurfaceType.window"
                                        class="internalDFN"
                                        id="ref-for-idl-def-DisplayCaptureSurfaceType.window-1"><code>window</code></a>",
                                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a>
                                    an
                                    "<a data-link-type="exception" data-lt="InvalidStateError"
                                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                                    <a data-link-type="interface" data-lt="DOMException"
                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                                </p>
                            </li>


                            <li>
                                <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[FocusDecisionFinalized]]"
                                        href="#dfn-focusdecisionfinalized" class="internalDFN"
                                        id="ref-for-dfn-focusdecisionfinalized-1"><code>[[FocusDecisionFinalized]]</code></a>
                                    is <code>true</code>, <a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a> an
                                    "<a data-link-type="exception" data-lt="InvalidStateError"
                                        href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                                    <a data-link-type="interface" data-lt="DOMException"
                                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                                </p>
                            </li>


                            <li>
                                <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                        data-link-type="attribute" data-lt="[[FocusBehavior]]" href="#dfn-focusbehavior"
                                        class="internalDFN"
                                        id="ref-for-dfn-focusbehavior-2"><code>[[FocusBehavior]]</code></a> to
                                    <var>focusBehavior</var>.
                                </p>
                            </li>


                            <li>
                                <p>Run the <a data-link-type="dfn|abstract-op"
                                        href="#dfn-finalize-focus-decision-algorithm" class="internalDFN"
                                        id="ref-for-dfn-finalize-focus-decision-algorithm-2">finalize focus decision
                                        algorithm</a> on
                                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.
                                </p>
                            </li>
                        </ol>
                    </dd>
                </dl>


                <p>The <dfn id="dfn-finalize-focus-decision-algorithm" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">finalize focus decision algorithm</dfn>, given a
                    <var>controller</var>, consists of running the following steps:
                </p>


                <ol>
                    <li>
                        <p>If too much time has elapsed since the <a data-link-type="dfn|abstract-op"
                                href="#dfn-capture-session" class="internalDFN"
                                id="ref-for-dfn-capture-session-11">capture-session</a>
                            started, the user agent <em class="rfc2119">SHOULD</em> set
                            <a data-link-type="attribute" data-lt="[[FocusDecisionFinalized]]"
                                href="#dfn-focusdecisionfinalized" class="internalDFN"
                                id="ref-for-dfn-focusdecisionfinalized-2"><code>[[FocusDecisionFinalized]]</code></a> to
                            <code>true</code>. The timespan is left up to the user agent, but
                            it is recommended that a value of one second be used.
                        </p>
                    </li>


                    <li>
                        <p>If
                            <var>controller</var>.<a data-link-type="attribute" data-lt="[[FocusDecisionFinalized]]"
                                href="#dfn-focusdecisionfinalized" class="internalDFN"
                                id="ref-for-dfn-focusdecisionfinalized-3"><code>[[FocusDecisionFinalized]]</code></a>
                            is <code>true</code>, abort these steps.
                        </p>
                    </li>


                    <li>
                        <p>Set
                            <var>controller</var>.<a data-link-type="attribute" data-lt="[[FocusDecisionFinalized]]"
                                href="#dfn-focusdecisionfinalized" class="internalDFN"
                                id="ref-for-dfn-focusdecisionfinalized-4"><code>[[FocusDecisionFinalized]]</code></a>
                            to <code>true</code>.
                        </p>
                    </li>


                    <li>
                        <p>If
                            <var>controller</var>.<a data-link-type="attribute" data-lt="[[FocusChangeDisabled]]"
                                href="#dfn-focuschangedisabled" class="internalDFN"
                                id="ref-for-dfn-focuschangedisabled-3"><code>[[FocusChangeDisabled]]</code></a>
                            is <code>true</code>, abort these steps.
                        </p>
                    </li>


                    <li>
                        <p>If
                            <var>controller</var>.<a data-link-type="attribute" data-lt="[[DisplaySurfaceType]]"
                                href="#dfn-displaysurfacetype" class="internalDFN"
                                id="ref-for-dfn-displaysurfacetype-3"><code>[[DisplaySurfaceType]]</code></a>
                            is neither "<a data-link-type="idl" href="#idl-def-DisplayCaptureSurfaceType.browser"
                                class="internalDFN"
                                id="ref-for-idl-def-DisplayCaptureSurfaceType.browser-2"><code>browser</code></a>" nor
                            "<a data-link-type="idl" href="#idl-def-DisplayCaptureSurfaceType.window"
                                class="internalDFN"
                                id="ref-for-idl-def-DisplayCaptureSurfaceType.window-2"><code>window</code></a>", abort
                            these steps.
                        </p>
                    </li>


                    <li>
                        <p>Let <var>focusBehavior</var> be
                            <var>controller</var>.<a data-link-type="attribute" data-lt="[[FocusBehavior]]"
                                href="#dfn-focusbehavior" class="internalDFN"
                                id="ref-for-dfn-focusbehavior-3"><code>[[FocusBehavior]]</code></a>.
                        </p>
                    </li>


                    <li>
                        <p>Run the following steps <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in
                                parallel</a>:</p>


                        <ol>
                            <li>
                                <p>If <var>focusBehavior</var> is
                                    "<a data-link-type="idl"
                                        href="#idl-def-CaptureStartFocusBehavior.focus-capturing-application"
                                        class="internalDFN"
                                        id="ref-for-idl-def-CaptureStartFocusBehavior.focus-capturing-application-2"><code>focus-capturing-application</code></a>",
                                    focus the <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                        class="internalDFN" id="ref-for-dfn-display-surface-38">display surface</a>
                                    representing the capturing
                                    document.</p>
                            </li>


                            <li>
                                <p>If <var>focusBehavior</var> is
                                    "<a data-link-type="idl"
                                        href="#idl-def-CaptureStartFocusBehavior.focus-captured-surface"
                                        class="internalDFN"
                                        id="ref-for-idl-def-CaptureStartFocusBehavior.focus-captured-surface-2"><code>focus-captured-surface</code></a>",
                                    focus
                                    the <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                        class="internalDFN" id="ref-for-dfn-display-surface-39">display surface</a>
                                    referred to by
                                    <var>controller</var>.<a data-link-type="attribute" data-lt="[[Source]]"
                                        href="#dfn-source" class="internalDFN"
                                        id="ref-for-dfn-source-5"><code>[[Source]]</code></a>.
                                </p>
                            </li>
                        </ol>
                    </li>
                </ol>
            </section>


            <section id="selfcapturepreferenceenum">
                <div class="header-wrapper">
                    <h4 id="x5-4-4-selfcapturepreferenceenum"><bdi class="secno">5.4.4 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-selfcapturepreferenceenum" data-idl="enum"
                            data-title="SelfCapturePreferenceEnum" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SelfCapturePreferenceEnum</code></dfn>
                    </h4><a class="self-link" href="#selfcapturepreferenceenum"
                        aria-label="Permalink for Section 5.4.4"></a>
                </div>



                <p>Describes the different hints an application can provide about
                    whether the <a data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                        id="ref-for-dfn-display-surface-40">display surface</a> the application is in, should be among
                    the choices offered to the user.</p>

                <pre class="idl def" id="webidl-83534870"><span class="idlHeader"><a class="self-link" href="#webidl-83534870">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-selfcapturepreferenceenum" data-title="SelfCapturePreferenceEnum">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-selfcapturepreferenceenum" id="ref-for-dom-selfcapturepreferenceenum-1"><code>SelfCapturePreferenceEnum</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SelfCapturePreferenceEnum.include" id="ref-for-idl-def-SelfCapturePreferenceEnum.include-1"><code>include</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SelfCapturePreferenceEnum.exclude" id="ref-for-idl-def-SelfCapturePreferenceEnum.exclude-1"><code>exclude</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="SelfCapturePreferenceEnum" class="simple">
                    <thead>
                        <tr>
                            <th>Enum value</th>

                            <th>Description</th>
                        </tr>
                    </thead>


                    <tbody>
                        <tr>
                            <td><dfn id="idl-def-SelfCapturePreferenceEnum.include" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="include"
                                    data-dfn-for="SelfCapturePreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>include</code></dfn>
                            </td>

                            <td>The application prefers the surface be included among the
                                choices offered.</td>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-SelfCapturePreferenceEnum.exclude" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="exclude"
                                    data-dfn-for="SelfCapturePreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>exclude</code></dfn>
                            </td>

                            <td>The application prefers the surface be excluded from the
                                choices offered.</td>
                        </tr>
                    </tbody>
                </table>
            </section>


            <section id="systemaudiopreferenceenum">
                <div class="header-wrapper">
                    <h4 id="x5-4-5-systemaudiopreferenceenum"><bdi class="secno">5.4.5 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-systemaudiopreferenceenum" data-idl="enum"
                            data-title="SystemAudioPreferenceEnum" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SystemAudioPreferenceEnum</code></dfn>
                    </h4><a class="self-link" href="#systemaudiopreferenceenum"
                        aria-label="Permalink for Section 5.4.5"></a>
                </div>



                <p>Describes whether an application invoking
                    <a data-link-type="idl" data-lt="getDisplayMedia()" href="#dom-mediadevices-getdisplaymedia"
                        class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-14"><code>getDisplayMedia</code></a><code>()</code>
                    would like the user agent to include
                    system audio among the audio sources offered to the user.
                </p>

                <pre class="idl def" id="webidl-1180004445"><span class="idlHeader"><a class="self-link" href="#webidl-1180004445">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-systemaudiopreferenceenum" data-title="SystemAudioPreferenceEnum">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-systemaudiopreferenceenum" id="ref-for-dom-systemaudiopreferenceenum-1"><code>SystemAudioPreferenceEnum</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SystemAudioPreferenceEnum.include" id="ref-for-idl-def-SystemAudioPreferenceEnum.include-1"><code>include</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SystemAudioPreferenceEnum.exclude" id="ref-for-idl-def-SystemAudioPreferenceEnum.exclude-1"><code>exclude</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="SystemAudioPreferenceEnum" class="simple">
                    <tbody>
                        <tr>
                            <th colspan="2">Enumeration description</th>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-SystemAudioPreferenceEnum.include" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="include"
                                    data-dfn-for="SystemAudioPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>include</code></dfn>
                            </td>

                            <td>The application prefers that options to share system audio be
                                offered to the user for <a data-link-type="dfn|abstract-op" href="#dfn-monitor"
                                    class="internalDFN" id="ref-for-dfn-monitor-7">monitor</a> <a
                                    data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-41">display surfaces</a>.</td>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-SystemAudioPreferenceEnum.exclude" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="exclude"
                                    data-dfn-for="SystemAudioPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>exclude</code></dfn>
                            </td>

                            <td>The application prefers that options to share system audio
                                not be offered to the user.</td>
                        </tr>
                    </tbody>
                </table>
            </section>


            <section id="windowaudiopreferenceenum">
                <div class="header-wrapper">
                    <h4 id="x5-4-6-windowaudiopreferenceenum"><bdi class="secno">5.4.6 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-windowaudiopreferenceenum" data-idl="enum"
                            data-title="WindowAudioPreferenceEnum" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>WindowAudioPreferenceEnum</code></dfn>
                    </h4><a class="self-link" href="#windowaudiopreferenceenum"
                        aria-label="Permalink for Section 5.4.6"></a>
                </div>



                <p>Describes whether an application invoking
                    <a data-link-type="idl" data-lt="getDisplayMedia()" href="#dom-mediadevices-getdisplaymedia"
                        class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-15"><code>getDisplayMedia</code></a><code>()</code>
                    would like the user agent to include
                    window or system audio among the audio sources offered to the user for
                    <a data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                        id="ref-for-dfn-window-6">window</a> <a data-link-type="dfn|abstract-op"
                        href="#dfn-display-surface" class="internalDFN" id="ref-for-dfn-display-surface-42">display
                        surfaces</a>.
                </p>


                <pre class="idl def" id="webidl-927779487"><span class="idlHeader"><a class="self-link" href="#webidl-927779487">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-windowaudiopreferenceenum" data-title="WindowAudioPreferenceEnum">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-windowaudiopreferenceenum" id="ref-for-dom-windowaudiopreferenceenum-1"><code>WindowAudioPreferenceEnum</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-WindowAudioPreferenceEnum.system" id="ref-for-idl-def-WindowAudioPreferenceEnum.system-1"><code>system</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-WindowAudioPreferenceEnum.window" id="ref-for-idl-def-WindowAudioPreferenceEnum.window-1"><code>window</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-WindowAudioPreferenceEnum.exclude" id="ref-for-idl-def-WindowAudioPreferenceEnum.exclude-1"><code>exclude</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="WindowAudioPreferenceEnum" class="simple">
                    <tbody>
                        <tr>
                            <th colspan="2">Enumeration description</th>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-WindowAudioPreferenceEnum.system" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="system"
                                    data-dfn-for="WindowAudioPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>system</code></dfn>
                            </td>

                            <td>The application prefers that options to share system audio be
                                offered to the user for <a data-link-type="dfn|abstract-op" href="#dfn-window"
                                    class="internalDFN" id="ref-for-dfn-window-7">window</a> <a
                                    data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-43">display surfaces</a>.</td>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-WindowAudioPreferenceEnum.window" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="window"
                                    data-dfn-for="WindowAudioPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>window</code></dfn>
                            </td>

                            <td>The application prefers that options to share window audio be
                                offered to the user for <a data-link-type="dfn|abstract-op" href="#dfn-window"
                                    class="internalDFN" id="ref-for-dfn-window-8">window</a> <a
                                    data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-44">display surfaces</a>.</td>
                        </tr>

                        <tr>
                            <td><dfn id="idl-def-WindowAudioPreferenceEnum.exclude" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="exclude"
                                    data-dfn-for="WindowAudioPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>exclude</code></dfn>
                            </td>

                            <td>The application prefers that options to share audio not be
                                offered to the user for <a data-link-type="dfn|abstract-op" href="#dfn-window"
                                    class="internalDFN" id="ref-for-dfn-window-9">window</a> <a
                                    data-link-type="dfn|abstract-op" href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-45">display surfaces</a>.</td>
                        </tr>
                    </tbody>
                </table>
            </section>


            <section id="surfaceswitchingpreferenceenum">
                <div class="header-wrapper">
                    <h4 id="x5-4-7-surfaceswitchingpreferenceenum"><bdi class="secno">5.4.7 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-surfaceswitchingpreferenceenum" data-idl="enum"
                            data-title="SurfaceSwitchingPreferenceEnum" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>SurfaceSwitchingPreferenceEnum</code></dfn>
                    </h4><a class="self-link" href="#surfaceswitchingpreferenceenum"
                        aria-label="Permalink for Section 5.4.7"></a>
                </div>



                <p>Describes whether an application invoking
                    <a data-link-type="idl" data-lt="getDisplayMedia()" href="#dom-mediadevices-getdisplaymedia"
                        class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-16"><code>getDisplayMedia</code></a><code>()</code>
                    would like the user agent to offer
                    the user an option to dynamically switch the source <a data-link-type="dfn|abstract-op"
                        href="#dfn-display-surface" class="internalDFN" id="ref-for-dfn-display-surface-46">display
                        surface</a>
                    during the capture.
                </p>

                <pre class="idl def" id="webidl-1808759589"><span class="idlHeader"><a class="self-link" href="#webidl-1808759589">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-surfaceswitchingpreferenceenum" data-title="SurfaceSwitchingPreferenceEnum">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-surfaceswitchingpreferenceenum" id="ref-for-dom-surfaceswitchingpreferenceenum-1"><code>SurfaceSwitchingPreferenceEnum</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SurfaceSwitchingPreferenceEnum.include" id="ref-for-idl-def-SurfaceSwitchingPreferenceEnum.include-1"><code>include</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-SurfaceSwitchingPreferenceEnum.exclude" id="ref-for-idl-def-SurfaceSwitchingPreferenceEnum.exclude-1"><code>exclude</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="SurfaceSwitchingPreferenceEnum" class="simple">
                    <tbody>
                        <tr>
                            <th colspan="2">Enumeration description</th>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-SurfaceSwitchingPreferenceEnum.include" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="include"
                                    data-dfn-for="SurfaceSwitchingPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>include</code></dfn>
                            </td>

                            <td>The application prefers that an option to dynamically switch
                                the source <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                    class="internalDFN" id="ref-for-dfn-display-surface-47">display surface</a> during
                                the capture be offered to
                                the user.</td>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-SurfaceSwitchingPreferenceEnum.exclude" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="exclude"
                                    data-dfn-for="SurfaceSwitchingPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>exclude</code></dfn>
                            </td>

                            <td>The application prefers that an option to dynamically switch
                                the source <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                    class="internalDFN" id="ref-for-dfn-display-surface-48">display surface</a> during
                                the capture NOT be offered
                                to the user.</td>
                        </tr>
                    </tbody>
                </table>
            </section>


            <section id="monitortypesurfacesenum">
                <div class="header-wrapper">
                    <h4 id="x5-4-8-monitortypesurfacesenum"><bdi class="secno">5.4.8 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-monitortypesurfacesenum" data-idl="enum"
                            data-title="MonitorTypeSurfacesEnum" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>MonitorTypeSurfacesEnum</code></dfn>
                    </h4><a class="self-link" href="#monitortypesurfacesenum"
                        aria-label="Permalink for Section 5.4.8"></a>
                </div>



                <p>Describes whether the application would like the user agent to offer
                    the user the option to choose <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                        class="internalDFN" id="ref-for-dfn-display-surface-49">display surfaces</a> whose type is
                    <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                        id="ref-for-dfn-monitor-8">monitor</a>.
                </p>

                <pre class="idl def" id="webidl-968846331"><span class="idlHeader"><a class="self-link" href="#webidl-968846331">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-monitortypesurfacesenum" data-title="MonitorTypeSurfacesEnum">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-monitortypesurfacesenum" id="ref-for-dom-monitortypesurfacesenum-1"><code>MonitorTypeSurfacesEnum</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-MonitorTypeSurfacesEnum.include" id="ref-for-idl-def-MonitorTypeSurfacesEnum.include-1"><code>include</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-MonitorTypeSurfacesEnum.exclude" id="ref-for-idl-def-MonitorTypeSurfacesEnum.exclude-1"><code>exclude</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="MonitorTypeSurfacesEnum" class="simple">
                    <tbody>
                        <tr>
                            <th colspan="2">Enumeration description</th>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-MonitorTypeSurfacesEnum.include" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="include"
                                    data-dfn-for="MonitorTypeSurfacesEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>include</code></dfn>
                            </td>

                            <td>The application prefers that the <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-50">display surfaces</a>
                                presented to the user include those of type <a data-link-type="dfn|abstract-op"
                                    href="#dfn-monitor" class="internalDFN" id="ref-for-dfn-monitor-9">monitor</a>.</td>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-MonitorTypeSurfacesEnum.exclude" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="exclude"
                                    data-dfn-for="MonitorTypeSurfacesEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>exclude</code></dfn>
                            </td>

                            <td>The application prefers that the <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-51">display surfaces</a>
                                presented to the user exclude those of type <a data-link-type="dfn|abstract-op"
                                    href="#dfn-monitor" class="internalDFN" id="ref-for-dfn-monitor-10">monitor</a>.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>


            <section id="displaymediastreamoptions">
                <div class="header-wrapper">
                    <h4 id="x5-4-9-displaymediastreamoptions"><bdi class="secno">5.4.9 </bdi>DisplayMediaStreamOptions
                    </h4><a class="self-link" href="#displaymediastreamoptions"
                        aria-label="Permalink for Section 5.4.9"></a>
                </div>



                <p>The <dfn data-export="" data-dfn-type="dictionary" id="dom-displaymediastreamoptions"
                        data-idl="dictionary" data-title="DisplayMediaStreamOptions" data-dfn-for="" tabindex="0"
                        aria-haspopup="dialog"><code>DisplayMediaStreamOptions</code></dfn> dictionary is used to
                    instruct the user agent what sort of <a data-link-type="interface" data-lt="MediaStreamTrack"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>s
                    may be
                    included in the <a data-link-type="interface" data-lt="MediaStream"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>
                    returned by
                    <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-17"><code>getDisplayMedia</code></a>.
                </p>


                <div>
                    <pre class="idl def" id="webidl-398008369"><span class="idlHeader"><a class="self-link" href="#webidl-398008369">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-displaymediastreamoptions" data-title="DisplayMediaStreamOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-displaymediastreamoptions" id="ref-for-dom-displaymediastreamoptions-2"><code>DisplayMediaStreamOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-video" data-title="video" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
  (<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a> or <a data-link-type="dictionary" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints">MediaTrackConstraints</a>)</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-video" id="ref-for-dom-displaymediastreamoptions-video-1"><code>video</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-audio" data-title="audio" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
  (<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a> or <a data-link-type="dictionary" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints">MediaTrackConstraints</a>)</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-audio" id="ref-for-dom-displaymediastreamoptions-audio-1"><code>audio</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-controller" data-title="controller" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-capturecontroller" class="internalDFN" id="ref-for-dom-capturecontroller-11"><code>CaptureController</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-controller" id="ref-for-dom-displaymediastreamoptions-controller-1"><code>controller</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-selfbrowsersurface" data-title="selfBrowserSurface" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-selfcapturepreferenceenum" class="internalDFN" id="ref-for-dom-selfcapturepreferenceenum-2"><code>SelfCapturePreferenceEnum</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-selfbrowsersurface" id="ref-for-dom-displaymediastreamoptions-selfbrowsersurface-1"><code>selfBrowserSurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-systemaudio" data-title="systemAudio" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-systemaudiopreferenceenum" class="internalDFN" id="ref-for-dom-systemaudiopreferenceenum-2"><code>SystemAudioPreferenceEnum</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-systemaudio" id="ref-for-dom-displaymediastreamoptions-systemaudio-1"><code>systemAudio</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-windowaudio" data-title="windowAudio" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-windowaudiopreferenceenum" class="internalDFN" id="ref-for-dom-windowaudiopreferenceenum-2"><code>WindowAudioPreferenceEnum</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-windowaudio" id="ref-for-dom-displaymediastreamoptions-windowaudio-1"><code>windowAudio</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-surfaceswitching" data-title="surfaceSwitching" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-surfaceswitchingpreferenceenum" class="internalDFN" id="ref-for-dom-surfaceswitchingpreferenceenum-2"><code>SurfaceSwitchingPreferenceEnum</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-surfaceswitching" id="ref-for-dom-displaymediastreamoptions-surfaceswitching-1"><code>surfaceSwitching</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-displaymediastreamoptions-monitortypesurfaces" data-title="monitorTypeSurfaces" data-dfn-for="DisplayMediaStreamOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-monitortypesurfacesenum" class="internalDFN" id="ref-for-dom-monitortypesurfacesenum-2"><code>MonitorTypeSurfacesEnum</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-displaymediastreamoptions-monitortypesurfaces" id="ref-for-dom-displaymediastreamoptions-monitortypesurfaces-1"><code>monitorTypeSurfaces</code></a>;</span>
};</span></code></pre>

                    <section>
                        <div class="header-wrapper">
                            <h5 id="dictionary-displaymediastreamoptions-members">Dictionary <a
                                    class="idlType internalDFN" href="#dom-displaymediastreamoptions"
                                    data-link-type="idl"
                                    id="ref-for-dom-displaymediastreamoptions-3"><code>DisplayMediaStreamOptions</code></a>
                                Members</h5><a class="self-link" href="#dictionary-displaymediastreamoptions-members"
                                aria-label="Permalink for this Section"></a>
                        </div>


                        <dl data-link-for="DisplayMediaStreamOptions" data-dfn-for="DisplayMediaStreamOptions"
                            class="dictionary-members">
                            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-displaymediastreamoptions-video"
                                    data-idl="field" data-title="video" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="boolean|MediaTrackConstraints" tabindex="0"
                                    aria-haspopup="dialog"><code>video</code></dfn> of type
                                <code>(boolean or
              <a data-link-type="dictionary" data-lt="MediaTrackConstraints" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints"><code>MediaTrackConstraints</code></a>)</code>,
                                defaulting to
                                <code>true</code>
                            </dt>


                            <dd>
                                <p>If <code>true</code>, it requests that the returned
                                    <a data-link-type="interface" data-lt="MediaStream"
                                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>
                                    contain a video track. If a
                                    <code>Constraints</code> structure is provided, it further
                                    specifies desired processing options to be applied to the video
                                    track rendition of the display surface chosen by the user. If
                                    <code>false</code>, the request will be <a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#reject">rejected</a> with a
                                    <a data-link-type="exception" data-lt="TypeError"
                                        href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>,
                                    as per the <a href="#dom-mediadevices-getdisplaymedia"
                                        id="ref-for-dom-mediadevices-getdisplaymedia-18">getDisplayMedia
                                        algorithm</a>.
                                </p>
                            </dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-displaymediastreamoptions-audio"
                                    data-idl="field" data-title="audio" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="boolean|MediaTrackConstraints" tabindex="0"
                                    aria-haspopup="dialog"><code>audio</code></dfn> of type
                                <code>(boolean or
              <a data-link-type="dictionary" data-lt="MediaTrackConstraints" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraints"><code>MediaTrackConstraints</code></a>)</code>,
                                defaulting to
                                <code>false</code>
                            </dt>


                            <dd>
                                <p>If <code>true</code>, it signals an interest that the
                                    returned <a data-link-type="interface" data-lt="MediaStream"
                                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>
                                    contain an audio track, if supported
                                    and audio is available for display surface chosen by the user.
                                    If a <code>Constraints</code> structure is provided, it further
                                    specifies desired processing options to be applied to the audio
                                    track. If <code>false</code>, the <a data-link-type="interface"
                                        data-lt="MediaStream"
                                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastream"><code>MediaStream</code></a>
                                    will not
                                    contain an audio track.</p>
                            </dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member"
                                    id="dom-displaymediastreamoptions-controller" data-idl="field"
                                    data-title="controller" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="CaptureController" tabindex="0"
                                    aria-haspopup="dialog"><code>controller</code></dfn> of type
                                <code><a data-link-type="idl" data-lt="CaptureController" href="#dom-capturecontroller" class="internalDFN" id="ref-for-dom-capturecontroller-12"><code>CaptureController</code></a></code>
                            </dt>


                            <dd>
                                <p>If present, this <a data-link-type="idl" data-lt="CaptureController"
                                        href="#dom-capturecontroller" class="internalDFN"
                                        id="ref-for-dom-capturecontroller-13"><code>CaptureController</code></a> object
                                    will be
                                    associated with the <a data-link-type="dfn|abstract-op" href="#dfn-capture-session"
                                        class="internalDFN" id="ref-for-dfn-capture-session-12">capture-session</a>.
                                    Through the methods
                                    exposed on this object, the <a data-link-type="dfn|abstract-op"
                                        href="#dfn-capture-session" class="internalDFN"
                                        id="ref-for-dfn-capture-session-13">capture-session</a> can be
                                    manipulated.</p>
                            </dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member"
                                    id="dom-displaymediastreamoptions-selfbrowsersurface" data-idl="field"
                                    data-title="selfBrowserSurface" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="SelfCapturePreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>selfBrowserSurface</code></dfn> of type
                                <a data-link-type="idl" data-lt="SelfCapturePreferenceEnum"
                                    href="#dom-selfcapturepreferenceenum" class="internalDFN"
                                    id="ref-for-dom-selfcapturepreferenceenum-3"><code>SelfCapturePreferenceEnum</code></a>
                            </dt>


                            <dd>If present, signals application preference for whether the
                                <a data-link-type="dfn|abstract-op" href="#dfn-browser" class="internalDFN"
                                    id="ref-for-dfn-browser-8">browser</a> <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-52">display surface</a> which is
                                associated with <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this">this</a>'s <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant
                                    global object</a>'s
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">associated
                                    Document</a>'s <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context">top-level
                                    browsing context</a>, should
                                be among the choices offered to the user. The user agent <em class="rfc2119">MAY</em>
                                ignore this hint.
                            </dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member"
                                    id="dom-displaymediastreamoptions-systemaudio" data-idl="field"
                                    data-title="systemAudio" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="SystemAudioPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>systemAudio</code></dfn> of type
                                <a data-link-type="idl" data-lt="SystemAudioPreferenceEnum"
                                    href="#dom-systemaudiopreferenceenum" class="internalDFN"
                                    id="ref-for-dom-systemaudiopreferenceenum-3"><code>SystemAudioPreferenceEnum</code></a>
                            </dt>


                            <dd>If present, signals whether the application would like system
                                audio to be included among the possible audio sources offered to
                                the user. The user agent <em class="rfc2119">MAY</em> ignore this hint.</dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member"
                                    id="dom-displaymediastreamoptions-windowaudio" data-idl="field"
                                    data-title="windowAudio" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="WindowAudioPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>windowAudio</code></dfn> of type
                                <a data-link-type="idl" data-lt="WindowAudioPreferenceEnum"
                                    href="#dom-windowaudiopreferenceenum" class="internalDFN"
                                    id="ref-for-dom-windowaudiopreferenceenum-3"><code>WindowAudioPreferenceEnum</code></a>
                            </dt>


                            <dd>If present, signals whether the application would like window
                                or system audio among the possible audio sources offered to the
                                user for <a data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                                    id="ref-for-dfn-window-10">window</a> <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-53">display surfaces</a>. The
                                user agent <em class="rfc2119">MAY</em> ignore this hint.</dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member"
                                    id="dom-displaymediastreamoptions-surfaceswitching" data-idl="field"
                                    data-title="surfaceSwitching" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="SurfaceSwitchingPreferenceEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>surfaceSwitching</code></dfn> of type
                                <a data-link-type="idl" data-lt="SurfaceSwitchingPreferenceEnum"
                                    href="#dom-surfaceswitchingpreferenceenum" class="internalDFN"
                                    id="ref-for-dom-surfaceswitchingpreferenceenum-3"><code>SurfaceSwitchingPreferenceEnum</code></a>
                            </dt>


                            <dd>If present, signals whether the application would like the
                                user agent to offer the user an option to dynamically switch the
                                captured <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                    class="internalDFN" id="ref-for-dfn-display-surface-54">display surface</a>. The
                                user agent <em class="rfc2119">MAY</em> ignore this
                                hint.</dd>


                            <dt><dfn data-export="" data-dfn-type="dict-member"
                                    id="dom-displaymediastreamoptions-monitortypesurfaces" data-idl="field"
                                    data-title="monitorTypeSurfaces" data-dfn-for="DisplayMediaStreamOptions"
                                    data-type="MonitorTypeSurfacesEnum" tabindex="0"
                                    aria-haspopup="dialog"><code>monitorTypeSurfaces</code></dfn> of type
                                <a data-link-type="idl" data-lt="MonitorTypeSurfacesEnum"
                                    href="#dom-monitortypesurfacesenum" class="internalDFN"
                                    id="ref-for-dom-monitortypesurfacesenum-3"><code>MonitorTypeSurfacesEnum</code></a>
                            </dt>


                            <dd>
                                <p>If present, signals whether the application would like the
                                    user agent to include <a data-link-type="dfn|abstract-op"
                                        href="#dfn-display-surface" class="internalDFN"
                                        id="ref-for-dfn-display-surface-55">display surfaces</a> whose type is
                                    <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                                        id="ref-for-dfn-monitor-11">monitor</a> among the choices offered to the
                                    user. The user agent <em class="rfc2119">MAY</em> ignore this hint.
                                </p>


                                <div class="note" role="note" id="issue-container-generatedID-4">
                                    <div role="heading" class="note-title marker" id="h-note-4" aria-level="6">
                                        <span>Note</span>
                                    </div>
                                    <div class="">
                                        <p>The user agent may still offer to the user the option to
                                            capture <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                                class="internalDFN" id="ref-for-dfn-display-surface-56">display
                                                surfaces</a> of type <a data-link-type="dfn|abstract-op"
                                                href="#dfn-monitor" class="internalDFN"
                                                id="ref-for-dfn-monitor-12">monitor</a>. Applications are therefore
                                            encouraged to
                                            still check the <a data-link-type="idl"
                                                href="#dom-mediatracksettings-displaysurface" class="internalDFN"
                                                id="ref-for-dom-mediatracksettings-displaysurface-1"><code>displaySurface</code></a>
                                            setting
                                            of the tracks they receive.</p>
                                    </div>
                                </div>
                            </dd>
                        </dl>
                    </section>
                </div>
            </section>


            <section id="extensions-to-mediatracksupportedconstraints">
                <div class="header-wrapper">
                    <h4 id="x5-4-10-extensions-to-mediatracksupportedconstraints"><bdi class="secno">5.4.10
                        </bdi>Extensions to <a data-link-type="dictionary" data-lt="MediaTrackSupportedConstraints"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksupportedconstraints"><code>MediaTrackSupportedConstraints</code></a>
                    </h4><a class="self-link" href="#extensions-to-mediatracksupportedconstraints"
                        aria-label="Permalink for Section 5.4.10"></a>
                </div>



                <p><a data-link-type="dictionary" data-lt="MediaTrackSupportedConstraints"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksupportedconstraints"><code>MediaTrackSupportedConstraints</code></a>
                    is extended here with the list of
                    constraints that a user agent recognizes.</p>

                <pre class="idl def" id="webidl-210984315"><span class="idlHeader"><a class="self-link" href="#webidl-210984315">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-mediatracksupportedconstraints-partial-1" data-title="MediaTrackSupportedConstraints">partial dictionary <a data-idl="partial" data-link-type="dictionary" data-title="MediaTrackSupportedConstraints" class="idlID" data-dfn-for="MediaTrackSupportedConstraints" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksupportedconstraints">MediaTrackSupportedConstraints</a> {<span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-displaysurface" data-title="displaySurface" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-displaysurface" id="ref-for-dom-mediatracksupportedconstraints-displaysurface-1"><code>displaySurface</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-logicalsurface" data-title="logicalSurface" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-logicalsurface" id="ref-for-dom-mediatracksupportedconstraints-logicalsurface-1"><code>logicalSurface</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-cursor" data-title="cursor" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-cursor" id="ref-for-dom-mediatracksupportedconstraints-cursor-1"><code>cursor</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-restrictownaudio" data-title="restrictOwnAudio" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-restrictownaudio" id="ref-for-dom-mediatracksupportedconstraints-restrictownaudio-1"><code>restrictOwnAudio</code></a> = true;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksupportedconstraints-suppresslocalaudioplayback" data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackSupportedConstraints"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksupportedconstraints-suppresslocalaudioplayback" id="ref-for-dom-mediatracksupportedconstraints-suppresslocalaudioplayback-1"><code>suppressLocalAudioPlayback</code></a> = true;</span>
};</span></code></pre>

                <dl data-dfn-for="MediaTrackSupportedConstraints" class="dictionary-members">
                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatracksupportedconstraints-displaysurface" data-idl="field"
                            data-title="displaySurface" data-dfn-for="MediaTrackSupportedConstraints"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>displaySurface</code></dfn> of
                        type <a data-link-type="interface" data-lt="boolean"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>, defaulting to
                        <code>true</code>
                    </dt>


                    <dd>
                        <p>Whether <a data-link-type="idl" data-lt="displaySurface" href="#dfn-displaysurface"
                                class="internalDFN" id="ref-for-dfn-displaysurface-3"><code>displaySurface</code></a>
                            constraint is recognized.</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatracksupportedconstraints-logicalsurface" data-idl="field"
                            data-title="logicalSurface" data-dfn-for="MediaTrackSupportedConstraints"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>logicalSurface</code></dfn> of
                        type <a data-link-type="interface" data-lt="boolean"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>,
                        defaulting to <code>true</code></dt>


                    <dd>
                        <p>Whether <a data-link-type="idl" data-lt="logicalSurface" href="#dfn-logicalsurface"
                                class="internalDFN" id="ref-for-dfn-logicalsurface-1"><code>logicalSurface</code></a>
                            constraint is recognized.</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksupportedconstraints-cursor"
                            data-idl="field" data-title="cursor" data-dfn-for="MediaTrackSupportedConstraints"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>cursor</code></dfn> of type <a
                            data-link-type="interface" data-lt="boolean"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>, defaulting to
                        <code>true</code>
                    </dt>


                    <dd>
                        <p>Whether <a data-link-type="idl" data-lt="cursor" href="#dfn-cursor" class="internalDFN"
                                id="ref-for-dfn-cursor-1"><code>cursor</code></a> constraint is recognized.</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatracksupportedconstraints-restrictownaudio" data-idl="field"
                            data-title="restrictOwnAudio" data-dfn-for="MediaTrackSupportedConstraints"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>restrictOwnAudio</code></dfn>
                        of type <a data-link-type="interface" data-lt="boolean"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>, defaulting to
                        <code>true</code>
                    </dt>


                    <dd>
                        <p>Whether <a data-link-type="idl" data-lt="restrictOwnAudio" href="#dfn-restrictownaudio"
                                class="internalDFN"
                                id="ref-for-dfn-restrictownaudio-1"><code>restrictOwnAudio</code></a> constraint is
                            recognized.</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatracksupportedconstraints-suppresslocalaudioplayback" data-idl="field"
                            data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackSupportedConstraints"
                            data-type="boolean" tabindex="0"
                            aria-haspopup="dialog"><code>suppressLocalAudioPlayback</code></dfn> of type <a
                            data-link-type="interface" data-lt="boolean"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a>,
                        defaulting to <code>true</code></dt>


                    <dd>
                        <p>Whether <a data-link-type="idl" data-lt="suppressLocalAudioPlayback"
                                href="#dfn-suppresslocalaudioplayback" class="internalDFN"
                                id="ref-for-dfn-suppresslocalaudioplayback-3"><code>suppressLocalAudioPlayback</code></a>
                            constraint is
                            recognized.</p>
                    </dd>
                </dl>
            </section>


            <section id="extensions-to-mediatrackconstraintset">
                <div class="header-wrapper">
                    <h4 id="x5-4-11-extensions-to-mediatrackconstraintset"><bdi class="secno">5.4.11 </bdi>Extensions to
                        <a data-link-type="dictionary" data-lt="MediaTrackConstraintSet"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraintset"><code>MediaTrackConstraintSet</code></a>
                    </h4><a class="self-link" href="#extensions-to-mediatrackconstraintset"
                        aria-label="Permalink for Section 5.4.11"></a>
                </div>



                <p><a data-link-type="dictionary" data-lt="MediaTrackConstraintSet"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraintset"><code>MediaTrackConstraintSet</code></a>
                    is used for reading the current status
                    of constraints.</p>

                <pre class="idl def" id="webidl-615542218"><span class="idlHeader"><a class="self-link" href="#webidl-615542218">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-mediatrackconstraintset-partial-1" data-title="MediaTrackConstraintSet">partial dictionary <a data-idl="partial" data-link-type="dictionary" data-title="MediaTrackConstraintSet" class="idlID" data-dfn-for="MediaTrackConstraintSet" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackconstraintset">MediaTrackConstraintSet</a> {<span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-displaysurface" data-title="displaySurface" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a data-link-type="typedef" href="https://www.w3.org/TR/mediacapture-streams/#dom-constraindomstring">ConstrainDOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-displaysurface" id="ref-for-dom-mediatrackconstraintset-displaysurface-1"><code>displaySurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-logicalsurface" data-title="logicalSurface" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a data-link-type="typedef" href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean">ConstrainBoolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-logicalsurface" id="ref-for-dom-mediatrackconstraintset-logicalsurface-1"><code>logicalSurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-cursor" data-title="cursor" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a data-link-type="typedef" href="https://www.w3.org/TR/mediacapture-streams/#dom-constraindomstring">ConstrainDOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-cursor" id="ref-for-dom-mediatrackconstraintset-cursor-1"><code>cursor</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-restrictownaudio" data-title="restrictOwnAudio" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a data-link-type="typedef" href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean">ConstrainBoolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-restrictownaudio" id="ref-for-dom-mediatrackconstraintset-restrictownaudio-1"><code>restrictOwnAudio</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackconstraintset-suppresslocalaudioplayback" data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackConstraintSet"><span class="idlType">
  <a data-link-type="typedef" href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean">ConstrainBoolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackconstraintset-suppresslocalaudioplayback" id="ref-for-dom-mediatrackconstraintset-suppresslocalaudioplayback-1"><code>suppressLocalAudioPlayback</code></a>;</span>
};</span></code></pre>

                <dl data-dfn-for="MediaTrackConstraintSet" class="dictionary-members">
                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-displaysurface"
                            data-idl="field" data-title="displaySurface" data-dfn-for="MediaTrackConstraintSet"
                            data-type="ConstrainDOMString" tabindex="0"
                            aria-haspopup="dialog"><code>displaySurface</code></dfn> of type
                        <a data-link-type="typedef" data-lt="ConstrainDOMString"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-constraindomstring"><code>ConstrainDOMString</code></a>
                    </dt>


                    <dd>
                        <p>The type of <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                class="internalDFN" id="ref-for-dfn-display-surface-57">display surface</a> that is
                            being captured. This
                            assumes values from the <a data-link-type="idl" data-lt="DisplayCaptureSurfaceType"
                                href="#dom-displaycapturesurfacetype" class="internalDFN"
                                id="ref-for-dom-displaycapturesurfacetype-3"><code>DisplayCaptureSurfaceType</code></a>
                            enumeration.</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-logicalsurface"
                            data-idl="field" data-title="logicalSurface" data-dfn-for="MediaTrackConstraintSet"
                            data-type="ConstrainBoolean" tabindex="0"
                            aria-haspopup="dialog"><code>logicalSurface</code></dfn> of type <a data-link-type="typedef"
                            data-lt="ConstrainBoolean"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean"><code>ConstrainBoolean</code></a>
                    </dt>


                    <dd>
                        <p>A value of <code>true</code> indicates capture of a <a data-link-type="dfn|abstract-op"
                                href="#dfn-logical-display-surface" class="internalDFN"
                                id="ref-for-dfn-logical-display-surface-4">logical display surface</a>; a value of
                            <code>false</code> indicates a
                            capture of a <a data-link-type="dfn|abstract-op" href="#dfn-visible-display-surface"
                                class="internalDFN" id="ref-for-dfn-visible-display-surface-3">visible display
                                surface</a>.
                        </p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackconstraintset-cursor"
                            data-idl="field" data-title="cursor" data-dfn-for="MediaTrackConstraintSet"
                            data-type="ConstrainDOMString" tabindex="0" aria-haspopup="dialog"><code>cursor</code></dfn>
                        of type <a data-link-type="typedef" data-lt="ConstrainDOMString"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-constraindomstring"><code>ConstrainDOMString</code></a>
                    </dt>


                    <dd>
                        <p>Assumes values from the <a data-link-type="idl" data-lt="CursorCaptureConstraint"
                                href="#dom-cursorcaptureconstraint" class="internalDFN"
                                id="ref-for-dom-cursorcaptureconstraint-3"><code>CursorCaptureConstraint</code></a>
                            enumeration
                            that determines if and when the cursor is included in the captured
                            display surface.</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatrackconstraintset-restrictownaudio" data-idl="field"
                            data-title="restrictOwnAudio" data-dfn-for="MediaTrackConstraintSet"
                            data-type="ConstrainBoolean" tabindex="0"
                            aria-haspopup="dialog"><code>restrictOwnAudio</code></dfn> of type <a
                            data-link-type="typedef" data-lt="ConstrainBoolean"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean"><code>ConstrainBoolean</code></a>
                    </dt>


                    <dd>
                        <p>This constraint is only applicable to audio tracks. See
                            <a data-link-type="idl" data-lt="restrictOwnAudio" href="#dfn-restrictownaudio"
                                class="internalDFN"
                                id="ref-for-dfn-restrictownaudio-2"><code>restrictOwnAudio</code></a>.
                        </p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatrackconstraintset-suppresslocalaudioplayback" data-idl="field"
                            data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackConstraintSet"
                            data-type="ConstrainBoolean" tabindex="0"
                            aria-haspopup="dialog"><code>suppressLocalAudioPlayback</code></dfn> of type
                        <a data-link-type="typedef" data-lt="ConstrainBoolean"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-constrainboolean"><code>ConstrainBoolean</code></a>
                    </dt>


                    <dd>
                        <p>This constraint is only applicable to audio tracks. See
                            <a data-link-type="idl" data-lt="suppressLocalAudioPlayback"
                                href="#dfn-suppresslocalaudioplayback" class="internalDFN"
                                id="ref-for-dfn-suppresslocalaudioplayback-4"><code>suppressLocalAudioPlayback</code></a>.
                        </p>
                    </dd>
                </dl>
            </section>


            <section id="extensions-to-mediatracksettings">
                <div class="header-wrapper">
                    <h4 id="x5-4-12-extensions-to-mediatracksettings"><bdi class="secno">5.4.12 </bdi>Extensions to <a
                            data-link-type="dictionary" data-lt="MediaTrackSettings"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksettings"><code>MediaTrackSettings</code></a>
                    </h4><a class="self-link" href="#extensions-to-mediatracksettings"
                        aria-label="Permalink for Section 5.4.12"></a>
                </div>



                <p>When the <a data-link-type="method" data-lt="getSettings()"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack-getsettings"><code>getSettings</code></a><code>()</code>
                    method is invoked on a
                    video stream track, the user agent must return the extended
                    <a data-link-type="dictionary" data-lt="MediaTrackSettings"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksettings"><code>MediaTrackSettings</code></a>
                    dictionary, representing the current status of
                    the underlying user agent.
                </p>

                <pre class="idl def" id="webidl-814568308"><span class="idlHeader"><a class="self-link" href="#webidl-814568308">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-mediatracksettings-partial-1" data-title="MediaTrackSettings">partial dictionary <a data-idl="partial" data-link-type="dictionary" data-title="MediaTrackSettings" class="idlID" data-dfn-for="MediaTrackSettings" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatracksettings">MediaTrackSettings</a> {<span data-idl="" class="idlMember" id="idl-def-mediatracksettings-displaysurface" data-title="displaySurface" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-displaysurface" id="ref-for-dom-mediatracksettings-displaysurface-2"><code>displaySurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-logicalsurface" data-title="logicalSurface" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-logicalsurface" id="ref-for-dom-mediatracksettings-logicalsurface-1"><code>logicalSurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-cursor" data-title="cursor" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-cursor" id="ref-for-dom-mediatracksettings-cursor-1"><code>cursor</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-restrictownaudio" data-title="restrictOwnAudio" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-restrictownaudio" id="ref-for-dom-mediatracksettings-restrictownaudio-1"><code>restrictOwnAudio</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-suppresslocalaudioplayback" data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-suppresslocalaudioplayback" id="ref-for-dom-mediatracksettings-suppresslocalaudioplayback-1"><code>suppressLocalAudioPlayback</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatracksettings-screenpixelratio" data-title="screenPixelRatio" data-dfn-for="MediaTrackSettings"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double">double</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatracksettings-screenpixelratio" id="ref-for-dom-mediatracksettings-screenpixelratio-1"><code>screenPixelRatio</code></a>;</span>
};</span></code></pre>

                <dl data-link-for="MediaTrackSettings" data-dfn-for="MediaTrackSettings" class="dictionary-members">
                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-displaysurface"
                            data-idl="field" data-title="displaySurface" data-dfn-for="MediaTrackSettings"
                            data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>displaySurface</code></dfn>
                        of type <a data-link-type="interface" data-lt="DOMString"
                            href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></dt>


                    <dd>
                        <p>The type of <a data-link-type="dfn|abstract-op" href="#dfn-display-surface"
                                class="internalDFN" id="ref-for-dfn-display-surface-58">display surface</a> that is
                            being captured. This
                            assumes values from the <a data-link-type="idl" data-lt="DisplayCaptureSurfaceType"
                                href="#dom-displaycapturesurfacetype" class="internalDFN"
                                id="ref-for-dom-displaycapturesurfacetype-4"><code>DisplayCaptureSurfaceType</code></a>
                            enumeration.</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-logicalsurface"
                            data-idl="field" data-title="logicalSurface" data-dfn-for="MediaTrackSettings"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>logicalSurface</code></dfn> of
                        type <a data-link-type="interface" data-lt="boolean"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></dt>


                    <dd>
                        <p>A value of <code>true</code> indicates capture of a <a href="#dfn-logical-display-surface"
                                class="internalDFN" data-link-type="dfn"
                                id="ref-for-dfn-logical-display-surface-5">logical
                                display surface</a>; a value of <code>false</code> indicates a
                            capture capture of a <a href="#dfn-visible-display-surface" class="internalDFN"
                                data-link-type="dfn" id="ref-for-dfn-visible-display-surface-4">visible display
                                surface</a>.</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-cursor"
                            data-idl="field" data-title="cursor" data-dfn-for="MediaTrackSettings" data-type="DOMString"
                            tabindex="0" aria-haspopup="dialog"><code>cursor</code></dfn> of type <a
                            data-link-type="interface" data-lt="DOMString"
                            href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></dt>


                    <dd>
                        <p>Assumes values from the <a data-link-type="idl" data-lt="CursorCaptureConstraint"
                                href="#dom-cursorcaptureconstraint" class="internalDFN"
                                id="ref-for-dom-cursorcaptureconstraint-4"><code>CursorCaptureConstraint</code></a>
                            enumeration
                            that determines if and when the cursor is included in the captured
                            display surface.</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-restrictownaudio"
                            data-idl="field" data-title="restrictOwnAudio" data-dfn-for="MediaTrackSettings"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>restrictOwnAudio</code></dfn>
                        of type <a data-link-type="interface" data-lt="boolean"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></dt>


                    <dd>
                        <p>Indicates whether the <a href="#dfn-restrictownaudio"
                                id="ref-for-dfn-restrictownaudio-3">restrictOwnAudio</a> constraint is applied
                            (<code>true</code>) or not (<code>false</code>).</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member"
                            id="dom-mediatracksettings-suppresslocalaudioplayback" data-idl="field"
                            data-title="suppressLocalAudioPlayback" data-dfn-for="MediaTrackSettings"
                            data-type="boolean" tabindex="0"
                            aria-haspopup="dialog"><code>suppressLocalAudioPlayback</code></dfn> of type <a
                            data-link-type="interface" data-lt="boolean"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></dt>


                    <dd>
                        <p>Indicates whether or not the application instructed the user
                            agent to apply <a data-link-type="dfn|abstract-op"
                                href="#dfn-local-audio-playback-suppression" class="internalDFN"
                                id="ref-for-dfn-local-audio-playback-suppression-4">local audio playback suppression</a>
                            to the
                            source.</p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatracksettings-screenpixelratio"
                            data-idl="field" data-title="screenPixelRatio" data-dfn-for="MediaTrackSettings"
                            data-type="double" tabindex="0" aria-haspopup="dialog"><code>screenPixelRatio</code></dfn>
                        of type <a data-link-type="interface" data-lt="double"
                            href="https://webidl.spec.whatwg.org/#idl-double"><code>double</code></a></dt>


                    <dd>
                        <p>The screen pixel ratio of of the <a data-link-type="dfn|abstract-op"
                                href="#dfn-display-surface" class="internalDFN"
                                id="ref-for-dfn-display-surface-59">display surface</a> being captured.</p>
                    </dd>
                </dl>
            </section>


            <section id="extensions-to-mediatrackcapabilities">
                <div class="header-wrapper">
                    <h4 id="x5-4-13-extensions-to-mediatrackcapabilities"><bdi class="secno">5.4.13 </bdi>Extensions to
                        <a data-link-type="dictionary" data-lt="MediaTrackCapabilities"
                            href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackcapabilities"><code>MediaTrackCapabilities</code></a>
                    </h4><a class="self-link" href="#extensions-to-mediatrackcapabilities"
                        aria-label="Permalink for Section 5.4.13"></a>
                </div>



                <p>When the <a data-link-type="method" data-lt="getCapabilities()"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack-getcapabilities"><code>getCapabilities</code></a><code>()</code>
                    method is invoked on
                    a video stream track, the user agent must return the extended
                    <a data-link-type="dictionary" data-lt="MediaTrackCapabilities"
                        href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackcapabilities"><code>MediaTrackCapabilities</code></a>
                    dictionary, representing the capabilities of
                    the underlying user agent.
                </p>

                <pre class="idl def" id="webidl-258568626"><span class="idlHeader"><a class="self-link" href="#webidl-258568626">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-mediatrackcapabilities-partial-1" data-title="MediaTrackCapabilities">partial dictionary <a data-idl="partial" data-link-type="dictionary" data-title="MediaTrackCapabilities" class="idlID" data-dfn-for="MediaTrackCapabilities" href="https://www.w3.org/TR/mediacapture-streams/#dom-mediatrackcapabilities">MediaTrackCapabilities</a> {<span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-displaysurface" data-title="displaySurface" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-displaysurface" id="ref-for-dom-mediatrackcapabilities-displaysurface-1"><code>displaySurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-logicalsurface" data-title="logicalSurface" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-logicalsurface" id="ref-for-dom-mediatrackcapabilities-logicalsurface-1"><code>logicalSurface</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-mediatrackcapabilities-cursor" data-title="cursor" data-dfn-for="MediaTrackCapabilities"><span class="idlType">
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-mediatrackcapabilities-cursor" id="ref-for-dom-mediatrackcapabilities-cursor-1"><code>cursor</code></a>;</span>
};</span></code></pre>

                <dl data-link-for="MediaTrackCapabilities" data-dfn-for="MediaTrackCapabilities"
                    class="dictionary-members">
                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-displaysurface"
                            data-idl="field" data-title="displaySurface" data-dfn-for="MediaTrackCapabilities"
                            data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>displaySurface</code></dfn>
                        of type <a data-link-type="interface" data-lt="DOMString"
                            href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a></dt>


                    <dd>
                        <p><em class="rfc2119">MUST</em> be the same value as is returned by
                            <a data-link-type="method" data-lt="getSettings()"
                                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack-getsettings"><code>getSettings</code></a><code>()</code>,
                            rendering this property
                            immutable from the application's viewpoint.
                        </p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-logicalsurface"
                            data-idl="field" data-title="logicalSurface" data-dfn-for="MediaTrackCapabilities"
                            data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>logicalSurface</code></dfn> of
                        type <a data-link-type="interface" data-lt="boolean"
                            href="https://webidl.spec.whatwg.org/#idl-boolean"><code>boolean</code></a></dt>


                    <dd>
                        <p><em class="rfc2119">MUST</em> be the same value as is returned by
                            <a data-link-type="method" data-lt="getSettings()"
                                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack-getsettings"><code>getSettings</code></a><code>()</code>,
                            rendering this property
                            immutable from the application's viewpoint.
                        </p>
                    </dd>


                    <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-mediatrackcapabilities-cursor"
                            data-idl="field" data-title="cursor" data-dfn-for="MediaTrackCapabilities"
                            data-type="sequence" tabindex="0" aria-haspopup="dialog"><code>cursor</code></dfn> of type
                        sequence&lt;DOMString&gt;</dt>


                    <dd>
                        <p><em class="rfc2119">MUST</em> consist of exactly the set of values from
                            <a data-link-type="idl" data-lt="CursorCaptureConstraint"
                                href="#dom-cursorcaptureconstraint" class="internalDFN"
                                id="ref-for-dom-cursorcaptureconstraint-5"><code>CursorCaptureConstraint</code></a> that
                            the user agent is capable of
                            supporting for this track.
                        </p>
                    </dd>
                </dl>
            </section>


            <section id="displaycapturesurfacetype">
                <div class="header-wrapper">
                    <h4 id="x5-4-14-displaycapturesurfacetype"><bdi class="secno">5.4.14 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-displaycapturesurfacetype" data-idl="enum"
                            data-title="DisplayCaptureSurfaceType" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>DisplayCaptureSurfaceType</code></dfn>
                    </h4><a class="self-link" href="#displaycapturesurfacetype"
                        aria-label="Permalink for Section 5.4.14"></a>
                </div>



                <p>The <a data-link-type="idl" data-lt="DisplayCaptureSurfaceType" href="#dom-displaycapturesurfacetype"
                        class="internalDFN"
                        id="ref-for-dom-displaycapturesurfacetype-5"><code>DisplayCaptureSurfaceType</code></a>
                    enumeration describes the
                    different types of display surface.</p>

                <pre class="idl def" id="webidl-2120422013"><span class="idlHeader"><a class="self-link" href="#webidl-2120422013">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-displaycapturesurfacetype" data-title="DisplayCaptureSurfaceType">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-displaycapturesurfacetype" id="ref-for-dom-displaycapturesurfacetype-6"><code>DisplayCaptureSurfaceType</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-DisplayCaptureSurfaceType.monitor" id="ref-for-idl-def-DisplayCaptureSurfaceType.monitor-1"><code>monitor</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-DisplayCaptureSurfaceType.window" id="ref-for-idl-def-DisplayCaptureSurfaceType.window-3"><code>window</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-DisplayCaptureSurfaceType.browser" id="ref-for-idl-def-DisplayCaptureSurfaceType.browser-3"><code>browser</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="DisplayCaptureSurfaceType" class="simple">
                    <thead>
                        <tr>
                            <th>Enum value</th>

                            <th>Description</th>
                        </tr>
                    </thead>


                    <tbody>
                        <tr>
                            <td><dfn id="idl-def-DisplayCaptureSurfaceType.monitor" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="monitor"
                                    data-dfn-for="DisplayCaptureSurfaceType" tabindex="0"
                                    aria-haspopup="dialog"><code>monitor</code></dfn>
                            </td>

                            <td>a <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                                    id="ref-for-dfn-monitor-13">monitor</a> <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-60">display surface</a>, physical
                                display, or collection of physical displays</td>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-DisplayCaptureSurfaceType.window" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="window"
                                    data-dfn-for="DisplayCaptureSurfaceType" tabindex="0"
                                    aria-haspopup="dialog"><code>window</code></dfn>
                            </td>

                            <td>a <a data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                                    id="ref-for-dfn-window-11">window</a> <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-61">display surface</a>, or single
                                application window</td>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-DisplayCaptureSurfaceType.browser" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="browser"
                                    data-dfn-for="DisplayCaptureSurfaceType" tabindex="0"
                                    aria-haspopup="dialog"><code>browser</code></dfn>
                            </td>

                            <td>a <a data-link-type="dfn|abstract-op" href="#dfn-browser" class="internalDFN"
                                    id="ref-for-dfn-browser-9">browser</a> <a data-link-type="dfn|abstract-op"
                                    href="#dfn-display-surface" class="internalDFN"
                                    id="ref-for-dfn-display-surface-62">display surface</a>, or single
                                browser window</td>
                        </tr>
                    </tbody>
                </table>
            </section>


            <section id="cursorcaptureconstraint">
                <div class="header-wrapper">
                    <h4 id="x5-4-15-cursorcaptureconstraint"><bdi class="secno">5.4.15 </bdi><dfn data-export=""
                            data-dfn-type="enum" id="dom-cursorcaptureconstraint" data-idl="enum"
                            data-title="CursorCaptureConstraint" data-dfn-for="" tabindex="0"
                            aria-haspopup="dialog"><code>CursorCaptureConstraint</code></dfn>
                    </h4><a class="self-link" href="#cursorcaptureconstraint"
                        aria-label="Permalink for Section 5.4.15"></a>
                </div>



                <p>The <a data-link-type="idl" data-lt="CursorCaptureConstraint" href="#dom-cursorcaptureconstraint"
                        class="internalDFN"
                        id="ref-for-dom-cursorcaptureconstraint-6"><code>CursorCaptureConstraint</code></a> enumerates
                    the conditions under
                    which the cursor is captured.</p>

                <pre class="idl def" id="webidl-1713755194"><span class="idlHeader"><a class="self-link" href="#webidl-1713755194">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-cursorcaptureconstraint" data-title="CursorCaptureConstraint">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-cursorcaptureconstraint" id="ref-for-dom-cursorcaptureconstraint-7"><code>CursorCaptureConstraint</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CursorCaptureConstraint.never" id="ref-for-idl-def-CursorCaptureConstraint.never-1"><code>never</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CursorCaptureConstraint.always" id="ref-for-idl-def-CursorCaptureConstraint.always-1"><code>always</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#idl-def-CursorCaptureConstraint.motion" id="ref-for-idl-def-CursorCaptureConstraint.motion-1"><code>motion</code></a>"</span>
};</span></code></pre>

                <table data-dfn-for="CursorCaptureConstraint" class="simple">
                    <thead>
                        <tr>
                            <th>Enum value</th>

                            <th>Description</th>
                        </tr>
                    </thead>


                    <tbody>
                        <tr>
                            <td><dfn id="idl-def-CursorCaptureConstraint.never" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="never"
                                    data-dfn-for="CursorCaptureConstraint" tabindex="0"
                                    aria-haspopup="dialog"><code>never</code></dfn>
                            </td>

                            <td>a "<a data-link-type="idl" href="#idl-def-CursorCaptureConstraint.never"
                                    class="internalDFN"
                                    id="ref-for-idl-def-CursorCaptureConstraint.never-2"><code>never</code></a>" cursor
                                capture
                                constraint omits the cursor from the captured display
                                surface.</td>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-CursorCaptureConstraint.always" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="always"
                                    data-dfn-for="CursorCaptureConstraint" tabindex="0"
                                    aria-haspopup="dialog"><code>always</code></dfn>
                            </td>

                            <td>a "<a data-link-type="idl" href="#idl-def-CursorCaptureConstraint.always"
                                    class="internalDFN"
                                    id="ref-for-idl-def-CursorCaptureConstraint.always-2"><code>always</code></a>"
                                cursor capture
                                constraint includes the cursor in the captured display
                                surface.</td>
                        </tr>


                        <tr>
                            <td><dfn id="idl-def-CursorCaptureConstraint.motion" data-export=""
                                    data-dfn-type="enum-value" data-idl="enum-value" data-title="motion"
                                    data-dfn-for="CursorCaptureConstraint" tabindex="0"
                                    aria-haspopup="dialog"><code>motion</code></dfn>
                            </td>

                            <td>
                                a "<a data-link-type="idl" href="#idl-def-CursorCaptureConstraint.motion"
                                    class="internalDFN"
                                    id="ref-for-idl-def-CursorCaptureConstraint.motion-2"><code>motion</code></a>"
                                cursor capture
                                constraint includes the cursor in the captured display surface
                                when the cursor/pointer is moved. The captured cursor is
                                removed when there is no further movement of the pointer/cursor
                                for certain period of time, as determined by the <a href="#dfn-user-agents"
                                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-user-agents-4">user
                                    agent</a>.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </section>


        <section id="device-identifiers">
            <div class="header-wrapper">
                <h3 id="deviceId"><bdi class="secno">5.5 </bdi>Device Identifiers</h3><a class="self-link"
                    href="#deviceId" aria-label="Permalink for Section 5.5"></a>
            </div>



            <p>Each potential source of capture is treated by this API as a discrete
                media source. However, display capture sources <em class="rfc2119">MUST NOT</em> be enumerated by
                <a data-link-type="method" data-lt="enumerateDevices()"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-enumeratedevices"><code>enumerateDevices</code></a><code>()</code>,
                since this would reveal too much
                information about the host system.
            </p>


            <p>Display capture sources therefore cannot be selected with the
                <a data-link-type="idl" href="#dfn-deviceid" class="internalDFN"
                    id="ref-for-dfn-deviceid-1"><code>deviceId</code></a> constraint, since their
                <a data-link-type="idl" href="#dfn-deviceid" class="internalDFN"
                    id="ref-for-dfn-deviceid-2"><code>deviceId</code></a>s are not exposed.
            </p>


            <div class="note" role="note" id="issue-container-generatedID-5">
                <div role="heading" class="note-title marker" id="h-note-5" aria-level="4"><span>Note</span></div>
                <div class="">
                    <p>This is not to be confused with the stable and private id of the
                        same name used in algorithms to implement privacy indicators.</p>
                </div>
            </div>
        </section>
    </section>


    <section data-cite="permissions" id="permissions-integration">
        <div class="header-wrapper">
            <h2 id="permissions-intergration"><bdi class="secno">6. </bdi>Permissions Integration</h2><a
                class="self-link" href="#permissions-intergration" aria-label="Permalink for Section 6."></a>
        </div>



        <p><cite>Screen Capture</cite> is a <a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions/#dfn-powerful-feature">powerful feature</a> which is
            identified by the <a data-link-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-name">name</a>
            "display-capture", requiring
            <a data-link-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-express-permission">express
                permission</a> to be used.
        </p>


        <p>As required for integration with the <cite><a data-matched-text="[[[Permissions]]]"
                    href="https://www.w3.org/TR/permissions/">Permissions</a></cite> specification,
            this specification defines the following:</p>


        <dl>
            <dt><a data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-permission-state-constraints">permission state
                    constraints</a></dt>


            <dd>
                Valid values for this descriptor's <a data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-permission-state">permission state</a> are
                "<a data-link-type="enum-value"
                    href="https://www.w3.org/TR/permissions/#dom-permissionstate-prompt"><code>prompt</code></a>" and
                "<a data-link-type="enum-value"
                    href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied"><code>denied</code></a>". The
                user
                agent <em class="rfc2119">MUST NOT</em> ever set this descriptor's <a data-link-type="dfn"
                    href="https://www.w3.org/TR/permissions/#dfn-permission-state">permission state</a> to
                "<a data-link-type="enum-value"
                    href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>".
            </dd>
        </dl>
    </section>


    <section id="permissions-policy-integration">
        <div class="header-wrapper">
            <h2 id="feature-policy-integration"><bdi class="secno">7. </bdi>Permissions Policy Integration</h2><a
                class="self-link" href="#feature-policy-integration" aria-label="Permalink for Section 7."></a>
        </div>



        <p>This specification defines a <a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">policy-controlled
                feature</a> identified by
            the string <dfn class="permission export" data-dfn-type="permission" data-export="" id="dfn-display-capture"
                tabindex="0" aria-haspopup="dialog"><code>"display-capture"</code></dfn>. Its
            <a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">default
                allowlist</a> is <code>"self"</code>.
        </p>


        <div class="note" role="note" id="issue-container-generatedID-6">
            <div role="heading" class="note-title marker" id="h-note-6" aria-level="3"><span>Note</span></div>
            <div class="">
                <p>A <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document">document</a>'s <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy">permissions
                        policy</a> determines whether
                    any content in that document is allowed to use
                    <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-19"><code>getDisplayMedia</code></a>. If disabled
                    in any document, no content
                    in the document will be <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to
                        use</a>
                    <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-20"><code>getDisplayMedia</code></a>. This is
                    enforced by the <a data-link-type="dfn"
                        href="https://www.w3.org/TR/permissions/#dfn-prompt-the-user-to-choose">prompt the user to
                        choose</a> algorithm.
                </p>
            </div>
        </div>
    </section>


    <section id="privacy-indicator-requirements">
        <div class="header-wrapper">
            <h2 id="x8-privacy-indicator-requirements"><bdi class="secno">8. </bdi>Privacy Indicator Requirements</h2><a
                class="self-link" href="#privacy-indicator-requirements" aria-label="Permalink for Section 8."></a>
        </div>



        <p>This specification extends the <a
                href="https://www.w3.org/TR/mediacapture-streams/#privacy-indicator-requirements">Privacy Indicator
                Requirements</a> of <a data-link-type="method" data-lt="getUserMedia()"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>
            to include
            <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                id="ref-for-dom-mediadevices-getdisplaymedia-21"><code>getDisplayMedia</code></a>.
        </p>


        <p>References in this specification to [[devicesLiveMap]],
            [[devicesAccessibleMap]], and [[kindsAccessibleMap]] refer to the
            definitions already created to support Privacy Indicator Requirements for
            <a data-link-type="method" data-lt="getUserMedia()"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>.
        </p>


        <p>For each <var>kind</var> of device that <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia"
                class="internalDFN" id="ref-for-dom-mediadevices-getdisplaymedia-22"><code>getDisplayMedia</code></a>
            exposes, using a stable and private id for the device, <var>deviceId</var>,
            set <var>kind</var> to <code>"Display"</code> + <var>kind</var>, and do the
            following:</p>


        <ul>
            <li>Define <var>any&lt;kind&gt;Accessible</var> (e.g.
                <var>anyDisplayVideoAccessible</var>) as the logical OR of the
                [[kindsAccessibleMap]]<var>[kind]</var> value and all the
                [[devicesAccessibleMap]]<var>[deviceId]</var> values for devices of that
                kind, and initialize all values to <code>false</code>.
            </li>


            <li>Define <var>any&lt;kind&gt;Accessible</var> (e.g.
                <var>anyDisplayVideoAccessible</var>) as the logical OR of the
                [[kindsAccessibleMap]]<var>[kind]</var> value and all the
                [[devicesAccessibleMap]]<var>[deviceId]</var> values for devices of that
                kind, and initialize all values to <code>false</code>.
            </li>


            <li>Define any<var>&lt;kind&gt;Live</var> (e.g.
                <var>anyDisplayVideoLive</var>) to be the logical OR of all the
                [[devicesLiveMap]]<var>[deviceId]</var> values for devices of that
                kind.
            </li>
        </ul>


        <p>Then, given the new definitions above, the requirements on the user
            agent are those specified in <a
                href="https://www.w3.org/TR/mediacapture-streams/#privacy-indicator-requirements">Privacy Indicator
                Requirements</a> of <a data-link-type="method" data-lt="getUserMedia()"
                href="https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-getusermedia"><code>getUserMedia</code></a><code>()</code>.
        </p>


        <div class="note" role="note" id="issue-container-generatedID-7">
            <div role="heading" class="note-title marker" id="h-note-7" aria-level="3"><span>Note</span></div>
            <div class="">
                <p>Even though there's a single permission descriptor for
                    <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-23"><code>getDisplayMedia</code></a>, the above
                    definitions distinguish by
                    kind to enable user agents to implement privacy indicators that show the
                    end-user the specific kinds of display sources that are being shared at
                    any point.
                </p>
            </div>
        </div>


        <div class="note" role="note" id="issue-container-generatedID-8">
            <div role="heading" class="note-title marker" id="h-note-8" aria-level="3"><span>Note</span></div>
            <div class="">
                <p>Since this specification forbids user agents from persisting
                    "<a data-link-type="enum-value"
                        href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted"><code>granted</code></a>"
                    permissions, only the "Live" indicators are
                    significant.</p>
            </div>
        </div>


        <p>The user agent <em class="rfc2119">MUST NOT</em> fire the
            <code><a href="#dfn-devicechange" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-devicechange-1">devicechange</a></code>
            event
            based on changes in the set of available sources from
            <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                id="ref-for-dom-mediadevices-getdisplaymedia-24"><code>getDisplayMedia</code></a>.
        </p>
    </section>


    <section id="security-and-permissions">
        <div class="header-wrapper">
            <h2 id="x9-security-and-permissions"><bdi class="secno">9. </bdi>Security and Permissions</h2><a
                class="self-link" href="#security-and-permissions" aria-label="Permalink for Section 9."></a>
        </div>



        <p>This section is informative; however, it notes some serious risks to
            platform security if the advice it contains are not adhered to.</p>


        <p>The risks to user privacy and security posed by capture of displayed
            content are twofold. The immediate and obvious risk is that users
            inadvertently share content that they did not wish to share, or might not
            have realized would be shared.</p>


        <p>Display capture presents a less obvious risk to the cross site request
            forgery protections offered by the browser sandbox. Display and capture of
            information that is also under the control of an application, even
            indirectly, can allow that application to access information that would
            otherwise be inaccessible to it directly. For example, the canvas API does
            not permit sampling of a canvas, or conversion to an accessible form if it
            is not origin-clean [<cite><a class="bibref" data-link-type="biblio" href="#bib-2dcontext"
                    title="HTML Canvas 2D Context">2DCONTEXT</a></cite>].</p>


        <p>This issue is discussed in further detail in [<cite><a class="bibref" data-link-type="biblio"
                    href="#bib-rtcweb-security-arch"
                    title="WebRTC Security Architecture">RTCWEB-SECURITY-ARCH</a></cite>]
            and [<cite><a class="bibref" data-link-type="biblio" href="#bib-rtcweb-security"
                    title="Security Considerations for WebRTC">RTCWEB-SECURITY</a></cite>].</p>


        <p>Display capture that includes browser windows, particularly those that
            are under any form of control by the application, risks violation of these
            basic security protections. This risk is not entirely contained to browser
            windows, since control channels between browser applications and other
            applications, depending on the operating system. The key consideration is
            whether the captured <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                id="ref-for-dfn-display-surface-63">display surface</a> could be somehow induced to
            present information that would otherwise be secret from the application
            that is receiving the resulting media.</p>


        <section id="capturing-logical-or-visible-display-surfaces">
            <div class="header-wrapper">
                <h3 id="x9-1-capturing-logical-or-visible-display-surfaces"><bdi class="secno">9.1 </bdi>Capturing
                    Logical or Visible Display Surfaces</h3><a class="self-link"
                    href="#capturing-logical-or-visible-display-surfaces" aria-label="Permalink for Section 9.1"></a>
            </div>



            <p>Capture of <a href="#dfn-logical-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-logical-display-surface-6">logical display surfaces</a> causes there to be a
                potential for content to be shared that a user is not made aware of. A
                <a href="#dfn-logical-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-logical-display-surface-7">logical display surface</a> might render information that
                a user did
                not intend to expose. This can be more easily recognized if this
                information is visible. Such means are likely ineffectual against a
                machine, but a human recipient is less able to process content that
                appears only briefly.
            </p>


            <p>It is encouraged that information that is not currently rendered to
                the screen be obscured in captures unless the application has been
                specifically authorized to access that content through <a href="#dfn-elevated-permissions"
                    class="internalDFN" data-link-type="dfn" id="ref-for-dfn-elevated-permissions-2">elevated
                    permissions</a>.</p>


            <p>How obscured areas of the <a href="#dfn-logical-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-logical-display-surface-8">logical display surface</a> are captured
                to produce a <a href="#dfn-visible-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-visible-display-surface-5">visible display surface</a> capture <em
                    class="rfc2119">MAY</em> vary. Some
                applications, like presentation software, benefit from having obscured
                portions of the screen render the image that appeared prior to being
                obscured. Freezing images can cause visual artifacts for changing
                content, or hide the fact that content is being obscured. Note that
                frozen portions of a capture can be incorrectly perceived as a bug.
                Alternatively, obscured areas might be replaced with content that marks
                them as being obscured, such as a grey color or hatching.</p>


            <p>Some systems may only capture the <a href="#dfn-logical-display-surface" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-logical-display-surface-9">logical display surface</a>.
                Devices with small screens, for instance, do not typically have the
                concept of a <a data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                    id="ref-for-dfn-window-12">window</a>, and render applications in
                full screen modes only. These systems might provide a capture of an
                application that is not currently visible, which could be unusable
                without capturing the <a href="#dfn-logical-display-surface" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-logical-display-surface-10">logical display surface</a>.</p>


            <p>When capturing a <a data-link-type="dfn|abstract-op" href="#dfn-window" class="internalDFN"
                    id="ref-for-dfn-window-13">window</a> or other <a href="#dfn-display-surface" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-display-surface-64">display
                    surface</a> that is partially transparent, any content behind it will not
                be captured.</p>


            <p>There is a risk that the user prompt be exposed to the web page for a
                short amount of time by the newly created <a data-link-type="interface" data-lt="MediaStreamTrack"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>,
                for
                instance if the user selects the screen on which the user prompt is
                displayed. In the case of the user prompt displaying previews of the
                various surfaces available for selection, those previews will not be
                captured by the newly created <a data-link-type="interface" data-lt="MediaStreamTrack"
                    href="https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack"><code>MediaStreamTrack</code></a>.
            </p>


            <section id="capturing-audio">
                <div class="header-wrapper">
                    <h4 id="x9-1-1-capturing-audio"><bdi class="secno">9.1.1 </bdi>Capturing Audio</h4><a
                        class="self-link" href="#capturing-audio" aria-label="Permalink for Section 9.1.1"></a>
                </div>


                <p><a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-25"><code>getDisplayMedia</code></a> allows
                    capturing audio alongside
                    video, this poses privacy and security concern as this may expose
                    additional information about system applications, and the set of shared
                    audio sources are not necessarily the same as the set of shared video
                    sources. For example, the capture of the video of a <a data-link-type="dfn|abstract-op"
                        href="#dfn-window" class="internalDFN" id="ref-for-dfn-window-14">window</a> that is accompanied
                    by the audio of the entire system,
                    including applications unrelated to that window, will not be shared
                    without <a href="#dfn-active-user-consent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-active-user-consent-2">active user consent</a>. It is important that the user is
                    aware of what content will be shared, including any possible audio. It is
                    strongly encouraged that the user is allowed to give consent to video but
                    not audio, resulting in a video-only stream. This ensures that the
                    request for audio is always optional and does not restrict the user's
                    choices compared to a video-only request.</p>
            </section>
        </section>


        <section id="authorizing-display-capture">
            <div class="header-wrapper">
                <h3 id="x9-2-authorizing-display-capture"><bdi class="secno">9.2 </bdi>Authorizing Display Capture</h3>
                <a class="self-link" href="#authorizing-display-capture" aria-label="Permalink for Section 9.2"></a>
            </div>



            <p>This document encourages implementations to provide additional
                limitations on the mechanisms used to affirm user consent. These
                limitations are designed to mitigate the security and privacy risks that
                the API poses.</p>


            <p>Two forms of consent interaction are described: <a href="#dfn-active-user-consent" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-active-user-consent-3">active user
                    consent</a> and a range of <a href="#dfn-elevated-permissions" class="internalDFN"
                    data-link-type="dfn" id="ref-for-dfn-elevated-permissions-3">elevated permissions</a>. These are
                non-normative recommandations only.</p>


            <section id="active-user-consent">
                <div class="header-wrapper">
                    <h4 id="x9-2-1-active-user-consent"><bdi class="secno">9.2.1 </bdi>Active User Consent</h4><a
                        class="self-link" href="#active-user-consent" aria-label="Permalink for Section 9.2.1"></a>
                </div>



                <p><dfn id="dfn-active-user-consent" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Active user
                        consent</dfn> is sufficient where there is little
                    or no risk of an application gaining information that the user did not
                    intend to share. These cases can be identified by those where the
                    application that requests capture has no control over what is rendered
                    to the captured <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-display-surface-65">display surface</a>.</p>


                <p>To prevent applications from limiting the available choices
                    presented to a user with the goal of promoting a particular choice, the
                    <a data-link-type="idl" href="#dom-mediadevices-getdisplaymedia" class="internalDFN"
                        id="ref-for-dom-mediadevices-getdisplaymedia-26"><code>getDisplayMedia</code></a> API does not
                    permit the use of
                    constraints to narrow the set of options presented.
                </p>
            </section>


            <section id="elevated-permissions">
                <div class="header-wrapper">
                    <h4 id="x9-2-2-elevated-permissions"><bdi class="secno">9.2.2 </bdi>Elevated Permissions</h4><a
                        class="self-link" href="#elevated-permissions" aria-label="Permalink for Section 9.2.2"></a>
                </div>



                <p>It is strongly advised that <dfn id="dfn-elevated-permissions" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">elevated permissions</dfn> be
                    required to access any <a href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-display-surface-66">display surface</a> that might be used to
                    circumvent cross-origin protections for content. The key goal of this
                    consent process is not just to demonstrate that a user intends to share
                    content, but to also to determine that the user exhibits an elevated
                    level of trust in the application that is being granted access.</p>


                <p>Several different controls might be provided to grant <a href="#dfn-elevated-permissions"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-elevated-permissions-4">elevated
                        permissions</a>. This section describes several different capabilities
                    that could be independently granted. A <a href="#dfn-user-agents" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-user-agents-5">user agent</a> might opt to
                    prohibit access to any capability that requires <a href="#dfn-elevated-permissions"
                        class="internalDFN" data-link-type="dfn" id="ref-for-dfn-elevated-permissions-5">elevated
                        permissions</a>.</p>


                <p>If access to these surfaces is supported, it is strongly advised
                    that any mechanism to acquire <a href="#dfn-elevated-permissions" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-elevated-permissions-6">elevated permissions</a> not rely
                    solely on simple prompts for user consent. Any action needs to ensure
                    that a decision to authorize an application with elevated privileges is
                    deliberate. For instance, a <a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agents-6">user agent</a> might require a process
                    equivalent to software installation to signify that user consent for
                    <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-7">elevated permissions</a> is granted.
                </p>


                <p>An <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-8">elevated permissions</a> experience could allow the <a
                        href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agents-7">user
                        agent</a> to communicate the risks associated with enabling this
                    feature, or at least to convey the need for augmented trust in the
                    application.</p>


                <p>Note that <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-9">elevated permissions</a> are not a substitute for
                    <a href="#dfn-active-user-consent" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-active-user-consent-4">active user consent</a>. It is advised that <a
                        href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agents-8">user agents</a> still
                    present users with the ability to select what is shared, even for
                    applications that have <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-10">elevated permissions</a>.
                </p>
            </section>


            <section id="capabilities-depending-on-elevated-permissions">
                <div class="header-wrapper">
                    <h4 id="x9-2-3-capabilities-depending-on-elevated-permissions"><bdi class="secno">9.2.3
                        </bdi>Capabilities Depending on Elevated Permissions</h4><a class="self-link"
                        href="#capabilities-depending-on-elevated-permissions"
                        aria-label="Permalink for Section 9.2.3"></a>
                </div>



                <p><a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-11">Elevated permissions</a> are encouraged as a
                    prerequisite for
                    access to capture of <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                        id="ref-for-dfn-monitor-14">monitor</a> or <a data-link-type="dfn|abstract-op"
                        href="#dfn-browser" class="internalDFN" id="ref-for-dfn-browser-10">browser</a> <a
                        href="#dfn-display-surface" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-display-surface-67">display surfaces</a>. Note that capture of a
                    complete <a data-link-type="dfn|abstract-op" href="#dfn-monitor" class="internalDFN"
                        id="ref-for-dfn-monitor-15">monitor</a> is included because this could
                    include a window from the <a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-user-agents-9">user agent</a>.</p>


                <p>Similarly, <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-12">elevated permissions</a> are an encouraged
                    prerequisite for access to <a href="#dfn-logical-display-surface" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-logical-display-surface-11">logical display surfaces</a>,
                    where that
                    would not ordinarily be provided.</p>


                <p>It is encouraged that <a href="#dfn-elevated-permissions" class="internalDFN" data-link-type="dfn"
                        id="ref-for-dfn-elevated-permissions-13">elevated permissions</a> that are granted
                    to an origin be persisted. An <a href="#dfn-elevated-permissions" class="internalDFN"
                        data-link-type="dfn" id="ref-for-dfn-elevated-permissions-14">elevated permissions</a> process
                    in
                    part relies on its novelty to ensure that it correctly captures user
                    intent.</p>
            </section>
        </section>


        <section id="feedback-and-interface-during-capture">
            <div class="header-wrapper">
                <h3 id="x9-3-feedback-and-interface-during-capture"><bdi class="secno">9.3 </bdi>Feedback and Interface
                    During Capture</h3><a class="self-link" href="#feedback-and-interface-during-capture"
                    aria-label="Permalink for Section 9.3"></a>
            </div>



            <p>Implementations are advised to provide user feedback and control
                mechanisms similar to those offered users when sharing a camera or
                microphone, as encouraged in [<cite><a class="bibref" data-link-type="biblio" href="#bib-getusermedia"
                        title="Media Capture and Streams">GETUSERMEDIA</a></cite>].</p>


            <p>It is important that a user be aware that content is being shared when
                content is actively being captured. <a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agents-10">User agents</a> are advised to
                display a prominent indicator while content is being captured. In
                addition to an indicator, a <a href="#dfn-user-agents" class="internalDFN" data-link-type="dfn"
                    id="ref-for-dfn-user-agents-11">user agent</a> is advised to provide a
                means to learn precisely what is being shared; while this capability is
                trivially provided by an application by rendering the captured content,
                this information allows a user to accurately assess what is being
                shared.</p>


            <p>In addition to feedback mechanisms, a means to for the user to stop
                any active capture is advisable.</p>
        </section>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="a-references"><bdi class="secno">A. </bdi>References</h2><a class="self-link" href="#references"
                aria-label="Permalink for Appendix A."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="a-1-normative-references"><bdi class="secno">A.1 </bdi>Normative references</h3><a
                    class="self-link" href="#normative-references" aria-label="Permalink for Appendix A.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-2dcontext">[2DCONTEXT]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/2dcontext/"><cite>HTML Canvas 2D Context</cite></a>. Rik Cabanier;
                    Jatinder Mann; Jay Munro; Tom Wiltzius; Ian Hickson. W3C. 28 January 2021. W3C Recommendation. URL:
                    <a href="https://www.w3.org/TR/2dcontext/">https://www.w3.org/TR/2dcontext/</a>
                </dd>
                <dt id="bib-css-values">[css-values]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/css-values-3/"><cite>CSS Values and Units Module Level 3</cite></a>.
                    Tab Atkins Jr.; Elika Etemad. W3C. 22 March 2024. CRD. URL: <a
                        href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
                </dd>
                <dt id="bib-dom">[dom]</dt>
                <dd>
                    <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren. WHATWG.
                    Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-ecma-262">[ECMA-262]</dt>
                <dd>
                    <a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>.
                    Ecma International. URL: <a
                        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                </dd>
                <dt id="bib-getusermedia">[GETUSERMEDIA]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/mediacapture-streams/"><cite>Media Capture and Streams</cite></a>.
                    Cullen Jennings; Jan-Ivar Bruaroey; Henrik Boström; youenn fablet. W3C. 24 April 2025. CRD. URL: <a
                        href="https://www.w3.org/TR/mediacapture-streams/">https://www.w3.org/TR/mediacapture-streams/</a>
                </dd>
                <dt id="bib-hr-time">[hr-time]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/hr-time-3/"><cite>High Resolution Time</cite></a>. Yoav Weiss. W3C. 7
                    November 2024. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/hr-time-3/">https://www.w3.org/TR/hr-time-3/</a>
                </dd>
                <dt id="bib-html">[HTML]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren;
                    Domenic Denicola; Dominic Farolino; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. Living
                    Standard. URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-infra">[infra]</dt>
                <dd>
                    <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic
                    Denicola. WHATWG. Living Standard. URL: <a
                        href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-permissions">[Permissions]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions/"><cite>Permissions</cite></a>. Marcos Caceres; Mike
                    Taylor. W3C. 20 December 2024. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
                </dd>
                <dt id="bib-permissions-policy">[permissions-policy]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>Permissions Policy</cite></a>. Ian
                    Clelland. W3C. 6 May 2025. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate
                            Requirement Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC
                            2119 Key Words</cite></a>. B. Leiba. IETF. May 2017. Best Current Practice. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-rtcweb-security">[RTCWEB-SECURITY]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8826"><cite>Security Considerations for
                            WebRTC</cite></a>. E. Rescorla. IETF. January 2021. Proposed Standard. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8826">https://www.rfc-editor.org/rfc/rfc8826</a>
                </dd>
                <dt id="bib-rtcweb-security-arch">[RTCWEB-SECURITY-ARCH]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8827"><cite>WebRTC Security Architecture</cite></a>. E.
                    Rescorla. IETF. January 2021. Proposed Standard. URL: <a
                        href="https://www.rfc-editor.org/rfc/rfc8827">https://www.rfc-editor.org/rfc/rfc8827</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Edgar Chen; Timothy Gu.
                    WHATWG. Living Standard. URL: <a
                        href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="a-2-informative-references"><bdi class="secno">A.2 </bdi>Informative references</h3><a
                    class="self-link" href="#informative-references" aria-label="Permalink for Appendix A.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-mediacapture-depth">[MEDIACAPTURE-DEPTH]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/mediacapture-depth/"><cite>Media Capture Depth Stream
                            Extensions</cite></a>. Anssi Kostiainen; Ningxin Hu; Rijubrata Bhaumik; Rob Manson. W3C. 1
                    February 2022. W3C Working Draft. URL: <a
                        href="https://www.w3.org/TR/mediacapture-depth/">https://www.w3.org/TR/mediacapture-depth/</a>
                </dd>
                <dt id="bib-webrtc">[WEBRTC]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/webrtc/"><cite>WebRTC: Real-Time Communication in
                            Browsers</cite></a>. Cullen Jennings; Jan-Ivar Bruaroey; Henrik Boström; Florent Castelli.
                    W3C. 13 March 2025. W3C Recommendation. URL: <a
                        href="https://www.w3.org/TR/webrtc/">https://www.w3.org/TR/webrtc/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-user-agents"
        aria-label="Links in this document to definition: user agent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-user-agents"
                aria-label="Permalink for definition: user agent. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-user-agents-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a> <a href="#ref-for-dfn-user-agents-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-user-agents-3" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agents-4" title="§ 5.4.15 CursorCaptureConstraint">§ 5.4.15
                    CursorCaptureConstraint</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agents-5" title="§ 9.2.2 Elevated Permissions">§ 9.2.2 Elevated
                    Permissions</a> <a href="#ref-for-dfn-user-agents-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-user-agents-7" title="Reference 3">(3)</a> <a href="#ref-for-dfn-user-agents-8"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agents-9" title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§
                    9.2.3 Capabilities Depending on Elevated Permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-user-agents-10" title="§ 9.3 Feedback and Interface During Capture">§ 9.3 Feedback
                    and Interface During Capture</a> <a href="#ref-for-dfn-user-agents-11" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-display-surface"
        aria-label="Links in this document to definition: display surfaces">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-display-surface"
                aria-label="Permalink for definition: display surfaces. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-display-surface-1" title="§ 4. Terminology">§ 4. Terminology</a> <a
                    href="#ref-for-dfn-display-surface-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-display-surface-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-display-surface-4" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-display-surface-5" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-6" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a> <a href="#ref-for-dfn-display-surface-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-display-surface-8" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-display-surface-9" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-display-surface-10" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-11" title="§ 5.2 Closed and Minimized Display Surfaces">§ 5.2
                    Closed and Minimized Display Surfaces</a> <a href="#ref-for-dfn-display-surface-12"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-display-surface-13" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-display-surface-14" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-display-surface-15" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-16"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dfn-display-surface-17"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-display-surface-18" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-display-surface-19" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-display-surface-20" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-display-surface-21" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-display-surface-22" title="Reference 7">(7)</a> <a
                    href="#ref-for-dfn-display-surface-23" title="Reference 8">(8)</a> <a
                    href="#ref-for-dfn-display-surface-24" title="Reference 9">(9)</a> <a
                    href="#ref-for-dfn-display-surface-25" title="Reference 10">(10)</a> <a
                    href="#ref-for-dfn-display-surface-26" title="Reference 11">(11)</a> <a
                    href="#ref-for-dfn-display-surface-27" title="Reference 12">(12)</a> <a
                    href="#ref-for-dfn-display-surface-28" title="Reference 13">(13)</a> <a
                    href="#ref-for-dfn-display-surface-29" title="Reference 14">(14)</a> <a
                    href="#ref-for-dfn-display-surface-30" title="Reference 15">(15)</a> <a
                    href="#ref-for-dfn-display-surface-31" title="Reference 16">(16)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-32" title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1
                    Downscaling and Frame Decimation</a> <a href="#ref-for-dfn-display-surface-33"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-display-surface-34" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-35" title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2
                    CaptureStartFocusBehavior</a> <a href="#ref-for-dfn-display-surface-36" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-37" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-dfn-display-surface-38" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-display-surface-39" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-40" title="§ 5.4.4 SelfCapturePreferenceEnum">§ 5.4.4
                    SelfCapturePreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-41" title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5
                    SystemAudioPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-42" title="§ 5.4.6 WindowAudioPreferenceEnum">§ 5.4.6
                    WindowAudioPreferenceEnum</a> <a href="#ref-for-dfn-display-surface-43" title="Reference 2">(2)</a>
                <a href="#ref-for-dfn-display-surface-44" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-display-surface-45" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-46" title="§ 5.4.7 SurfaceSwitchingPreferenceEnum">§ 5.4.7
                    SurfaceSwitchingPreferenceEnum</a> <a href="#ref-for-dfn-display-surface-47"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-display-surface-48" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-49" title="§ 5.4.8 MonitorTypeSurfacesEnum">§ 5.4.8
                    MonitorTypeSurfacesEnum</a> <a href="#ref-for-dfn-display-surface-50" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-display-surface-51" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-52" title="§ Dictionary DisplayMediaStreamOptions Members">§
                    Dictionary DisplayMediaStreamOptions Members</a> <a href="#ref-for-dfn-display-surface-53"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-display-surface-54" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-display-surface-55" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-display-surface-56" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-57" title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§
                    5.4.11 Extensions to MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-58" title="§ 5.4.12 Extensions to MediaTrackSettings">§ 5.4.12
                    Extensions to MediaTrackSettings</a> <a href="#ref-for-dfn-display-surface-59"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-60" title="§ 5.4.14 DisplayCaptureSurfaceType">§ 5.4.14
                    DisplayCaptureSurfaceType</a> <a href="#ref-for-dfn-display-surface-61" title="Reference 2">(2)</a>
                <a href="#ref-for-dfn-display-surface-62" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-63" title="§ 9. Security and Permissions">§ 9. Security and
                    Permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-64" title="§ 9.1 Capturing Logical or Visible Display Surfaces">§
                    9.1 Capturing Logical or Visible Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-65" title="§ 9.2.1 Active User Consent">§ 9.2.1 Active User
                    Consent</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-66" title="§ 9.2.2 Elevated Permissions">§ 9.2.2 Elevated
                    Permissions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-display-surface-67"
                    title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§ 9.2.3 Capabilities Depending on
                    Elevated Permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-monitor"
        aria-label="Links in this document to definition: monitor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-monitor"
                aria-label="Permalink for definition: monitor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-monitor-1" title="§ 4. Terminology">§ 4. Terminology</a> <a
                    href="#ref-for-dfn-monitor-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-monitor-3"
                    title="Reference 3">(3)</a> <a href="#ref-for-dfn-monitor-4" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-5" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-6" title="§ 5.2 Closed and Minimized Display Surfaces">§ 5.2 Closed and
                    Minimized Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-7" title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5
                    SystemAudioPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-8" title="§ 5.4.8 MonitorTypeSurfacesEnum">§ 5.4.8
                    MonitorTypeSurfacesEnum</a> <a href="#ref-for-dfn-monitor-9" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-monitor-10" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-11" title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary
                    DisplayMediaStreamOptions Members</a> <a href="#ref-for-dfn-monitor-12" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-13" title="§ 5.4.14 DisplayCaptureSurfaceType">§ 5.4.14
                    DisplayCaptureSurfaceType</a>
            </li>
            <li>
                <a href="#ref-for-dfn-monitor-14" title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§ 9.2.3
                    Capabilities Depending on Elevated Permissions</a> <a href="#ref-for-dfn-monitor-15"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-window"
        aria-label="Links in this document to definition: window">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-window"
                aria-label="Permalink for definition: window. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-window-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices Additions</a> <a
                    href="#ref-for-dfn-window-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-3" title="§ 5.2 Closed and Minimized Display Surfaces">§ 5.2 Closed and
                    Minimized Display Surfaces</a> <a href="#ref-for-dfn-window-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-5" title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1 Downscaling and
                    Frame Decimation</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-6" title="§ 5.4.6 WindowAudioPreferenceEnum">§ 5.4.6
                    WindowAudioPreferenceEnum</a> <a href="#ref-for-dfn-window-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-window-8" title="Reference 3">(3)</a> <a href="#ref-for-dfn-window-9"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-10" title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary
                    DisplayMediaStreamOptions Members</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-11" title="§ 5.4.14 DisplayCaptureSurfaceType">§ 5.4.14
                    DisplayCaptureSurfaceType</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-12" title="§ 9.1 Capturing Logical or Visible Display Surfaces">§ 9.1
                    Capturing Logical or Visible Display Surfaces</a> <a href="#ref-for-dfn-window-13"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-window-14" title="§ 9.1.1 Capturing Audio">§ 9.1.1 Capturing Audio</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-browser"
        aria-label="Links in this document to definition: browser">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-browser"
                aria-label="Permalink for definition: browser. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-browser-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices Additions</a>
                <a href="#ref-for-dfn-browser-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-3" title="§ 5.2 Closed and Minimized Display Surfaces">§ 5.2 Closed and
                    Minimized Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-4" title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§
                    5.4 Constrainable Properties for Captured Display Surfaces</a> <a href="#ref-for-dfn-browser-5"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-browser-6" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-7" title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1 Downscaling
                    and Frame Decimation</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-8" title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary
                    DisplayMediaStreamOptions Members</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-9" title="§ 5.4.14 DisplayCaptureSurfaceType">§ 5.4.14
                    DisplayCaptureSurfaceType</a>
            </li>
            <li>
                <a href="#ref-for-dfn-browser-10" title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§ 9.2.3
                    Capabilities Depending on Elevated Permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-logical-display-surface"
        aria-label="Links in this document to definition: logical display surface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-logical-display-surface"
                aria-label="Permalink for definition: logical display surface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-1" title="§ 4. Terminology">§ 4. Terminology</a> <a
                    href="#ref-for-dfn-logical-display-surface-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-3"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-4"
                    title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§ 5.4.11 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-5" title="§ 5.4.12 Extensions to MediaTrackSettings">§
                    5.4.12 Extensions to MediaTrackSettings</a>
            </li>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-6"
                    title="§ 9.1 Capturing Logical or Visible Display Surfaces">§ 9.1 Capturing Logical or Visible
                    Display Surfaces</a> <a href="#ref-for-dfn-logical-display-surface-7" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-logical-display-surface-8" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-logical-display-surface-9" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-logical-display-surface-10" title="Reference 5">(5)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-logical-display-surface-11"
                    title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§ 9.2.3 Capabilities Depending on
                    Elevated Permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-visible-display-surface"
        aria-label="Links in this document to definition: visible display surface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-visible-display-surface"
                aria-label="Permalink for definition: visible display surface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-visible-display-surface-1" title="§ 4. Terminology">§ 4. Terminology</a>
            </li>
            <li>
                <a href="#ref-for-dfn-visible-display-surface-2"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-visible-display-surface-3"
                    title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§ 5.4.11 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dfn-visible-display-surface-4" title="§ 5.4.12 Extensions to MediaTrackSettings">§
                    5.4.12 Extensions to MediaTrackSettings</a>
            </li>
            <li>
                <a href="#ref-for-dfn-visible-display-surface-5"
                    title="§ 9.1 Capturing Logical or Visible Display Surfaces">§ 9.1 Capturing Logical or Visible
                    Display Surfaces</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-source-pixel-ratio"
        aria-label="Links in this document to definition: source pixel ratio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-source-pixel-ratio"
                aria-label="Permalink for definition: source pixel ratio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-source-pixel-ratio-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-source-pixel-ratio-2" title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1
                    Downscaling and Frame Decimation</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-devicechange"
        aria-label="Links in this document to definition: devicechange">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-devicechange"
                aria-label="Permalink for definition: devicechange. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-devicechange-1" title="§ 8. Privacy Indicator Requirements">§ 8. Privacy Indicator
                    Requirements</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediadevices"
        aria-label="Links in this document to definition: MediaDevices">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediadevices"
                aria-label="Permalink for definition: MediaDevices. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediadevices-1" title="§ 5. Capturing Displayed Media">§ 5. Capturing Displayed
                    Media</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-2" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediadevices-getdisplaymedia"
        aria-label="Links in this document to definition: getDisplayMedia">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediadevices-getdisplaymedia"
                aria-label="Permalink for definition: getDisplayMedia. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1871707568">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-1" title="§ Abstract">§ Abstract</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-2" title="§ 5. Capturing Displayed Media">§ 5.
                    Capturing Displayed Media</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-3" title="§ 5.1 MediaDevices Additions">§ 5.1
                    MediaDevices Additions</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-4"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-5"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-6"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-7"
                    title="§ 5.2 Closed and Minimized Display Surfaces">§ 5.2 Closed and Minimized Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-8"
                    title="§ 5.3 Unconstrained Display Surface Selection">§ 5.3 Unconstrained Display Surface
                    Selection</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-9"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-10"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-11"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-12"
                    title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1 Downscaling and Frame Decimation</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-13" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-14" title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5
                    SystemAudioPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-15" title="§ 5.4.6 WindowAudioPreferenceEnum">§ 5.4.6
                    WindowAudioPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-16" title="§ 5.4.7 SurfaceSwitchingPreferenceEnum">§
                    5.4.7 SurfaceSwitchingPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-17" title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-18"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-19" title="§ 7. Permissions Policy Integration">§ 7.
                    Permissions Policy Integration</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-20"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-21" title="§ 8. Privacy Indicator Requirements">§ 8.
                    Privacy Indicator Requirements</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-22"
                    title="Reference 2">(2)</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-23"
                    title="Reference 3">(3)</a> <a href="#ref-for-dom-mediadevices-getdisplaymedia-24"
                    title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-25" title="§ 9.1.1 Capturing Audio">§ 9.1.1 Capturing
                    Audio</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediadevices-getdisplaymedia-26" title="§ 9.2.1 Active User Consent">§ 9.2.1
                    Active User Consent</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-capture-session"
        aria-label="Links in this document to definition: capture-session">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-capture-session"
                aria-label="Permalink for definition: capture-session. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-capture-session-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dfn-capture-session-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-capture-session-3" title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2
                    CaptureStartFocusBehavior</a> <a href="#ref-for-dfn-capture-session-4" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-capture-session-5" title="§ 5.4.3 CaptureController">§ 5.4.3 CaptureController</a>
                <a href="#ref-for-dfn-capture-session-6" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-capture-session-7" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-capture-session-8" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-capture-session-9" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-capture-session-10" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-capture-session-11" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-capture-session-12" title="§ Dictionary DisplayMediaStreamOptions Members">§
                    Dictionary DisplayMediaStreamOptions Members</a> <a href="#ref-for-dfn-capture-session-13"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-width"
        aria-label="Links in this document to definition: width">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-width"
                aria-label="Permalink for definition: width. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-height"
        aria-label="Links in this document to definition: height">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-height"
                aria-label="Permalink for definition: height. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-framerate"
        aria-label="Links in this document to definition: frameRate">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-framerate"
                aria-label="Permalink for definition: frameRate. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-aspectratio"
        aria-label="Links in this document to definition: aspectRatio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-aspectratio"
                aria-label="Permalink for definition: aspectRatio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-resizemode"
        aria-label="Links in this document to definition: resizeMode">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-resizemode"
                aria-label="Permalink for definition: resizeMode. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-deviceid"
        aria-label="Links in this document to definition: deviceId">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-deviceid"
                aria-label="Permalink for definition: deviceId. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-deviceid-1" title="§ 5.5 Device Identifiers">§ 5.5 Device Identifiers</a> <a
                    href="#ref-for-dfn-deviceid-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-displaysurface"
        aria-label="Links in this document to definition: displaySurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-displaysurface"
                aria-label="Permalink for definition: displaySurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-displaysurface-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-displaysurface-2" title="§ 5.3 Unconstrained Display Surface Selection">§ 5.3
                    Unconstrained Display Surface Selection</a>
            </li>
            <li>
                <a href="#ref-for-dfn-displaysurface-3" title="§ 5.4.10 Extensions to MediaTrackSupportedConstraints">§
                    5.4.10 Extensions to MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-logicalsurface"
        aria-label="Links in this document to definition: logicalSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-logicalsurface"
                aria-label="Permalink for definition: logicalSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-logicalsurface-1" title="§ 5.4.10 Extensions to MediaTrackSupportedConstraints">§
                    5.4.10 Extensions to MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-cursor"
        aria-label="Links in this document to definition: cursor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-cursor"
                aria-label="Permalink for definition: cursor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-cursor-1" title="§ 5.4.10 Extensions to MediaTrackSupportedConstraints">§ 5.4.10
                    Extensions to MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-screenpixelratio"
        aria-label="Links in this document to definition: screenPixelRatio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-screenpixelratio"
                aria-label="Permalink for definition: screenPixelRatio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-restrictownaudio"
        aria-label="Links in this document to definition: restrictOwnAudio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-restrictownaudio"
                aria-label="Permalink for definition: restrictOwnAudio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-restrictownaudio-1"
                    title="§ 5.4.10 Extensions to MediaTrackSupportedConstraints">§ 5.4.10 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
            <li>
                <a href="#ref-for-dfn-restrictownaudio-2" title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§
                    5.4.11 Extensions to MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dfn-restrictownaudio-3" title="§ 5.4.12 Extensions to MediaTrackSettings">§ 5.4.12
                    Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-own-audio-restriction"
        aria-label="Links in this document to definition: own audio restriction">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-own-audio-restriction"
                aria-label="Permalink for definition: own audio restriction. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-own-audio-restriction-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dfn-own-audio-restriction-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-suppresslocalaudioplayback"
        aria-label="Links in this document to definition: suppressLocalAudioPlayback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-suppresslocalaudioplayback"
                aria-label="Permalink for definition: suppressLocalAudioPlayback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-suppresslocalaudioplayback-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dfn-suppresslocalaudioplayback-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-suppresslocalaudioplayback-3"
                    title="§ 5.4.10 Extensions to MediaTrackSupportedConstraints">§ 5.4.10 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
            <li>
                <a href="#ref-for-dfn-suppresslocalaudioplayback-4"
                    title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§ 5.4.11 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-local-audio-playback-suppression"
        aria-label="Links in this document to definition: local audio playback suppression">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-local-audio-playback-suppression"
                aria-label="Permalink for definition: local audio playback suppression. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-local-audio-playback-suppression-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dfn-local-audio-playback-suppression-2"
                    title="Reference 2">(2)</a> <a href="#ref-for-dfn-local-audio-playback-suppression-3"
                    title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-local-audio-playback-suppression-4"
                    title="§ 5.4.12 Extensions to MediaTrackSettings">§ 5.4.12 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-floor-value"
        aria-label="Links in this document to definition: floor value">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-floor-value"
                aria-label="Permalink for definition: floor value. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-floor-value-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-floor-value-2" title="§ 5.4.1 Downscaling and Frame Decimation">§ 5.4.1
                    Downscaling and Frame Decimation</a> <a href="#ref-for-dfn-floor-value-3"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-capturestartfocusbehavior"
        aria-label="Links in this document to definition: CaptureStartFocusBehavior">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-capturestartfocusbehavior"
                aria-label="Permalink for definition: CaptureStartFocusBehavior. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-214854339">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-capturestartfocusbehavior-1" title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2
                    CaptureStartFocusBehavior</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturestartfocusbehavior-2" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CaptureStartFocusBehavior.focus-capturing-application"
        aria-label="Links in this document to definition: focus-capturing-application">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CaptureStartFocusBehavior.focus-capturing-application"
                aria-label="Permalink for definition: focus-capturing-application. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-214854339">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CaptureStartFocusBehavior.focus-capturing-application-1"
                    title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2 CaptureStartFocusBehavior</a>
            </li>
            <li>
                <a href="#ref-for-idl-def-CaptureStartFocusBehavior.focus-capturing-application-2"
                    title="§ 5.4.3 CaptureController">§ 5.4.3 CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CaptureStartFocusBehavior.focus-captured-surface"
        aria-label="Links in this document to definition: focus-captured-surface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CaptureStartFocusBehavior.focus-captured-surface"
                aria-label="Permalink for definition: focus-captured-surface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-214854339">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CaptureStartFocusBehavior.focus-captured-surface-1"
                    title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2 CaptureStartFocusBehavior</a>
            </li>
            <li>
                <a href="#ref-for-idl-def-CaptureStartFocusBehavior.focus-captured-surface-2"
                    title="§ 5.4.3 CaptureController">§ 5.4.3 CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CaptureStartFocusBehavior.no-focus-change"
        aria-label="Links in this document to definition: no-focus-change">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CaptureStartFocusBehavior.no-focus-change"
                aria-label="Permalink for definition: no-focus-change. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-214854339">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CaptureStartFocusBehavior.no-focus-change-1"
                    title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2 CaptureStartFocusBehavior</a> <a
                    href="#ref-for-idl-def-CaptureStartFocusBehavior.no-focus-change-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-capturecontroller"
        aria-label="Links in this document to definition: CaptureController">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-capturecontroller"
                aria-label="Permalink for definition: CaptureController. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-999726024">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-capturecontroller-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturecontroller-2" title="§ 5.4.2 CaptureStartFocusBehavior">§ 5.4.2
                    CaptureStartFocusBehavior</a> <a href="#ref-for-dom-capturecontroller-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturecontroller-4" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-dom-capturecontroller-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dom-capturecontroller-6" title="Reference 3">(3)</a> <a
                    href="#ref-for-dom-capturecontroller-7" title="Reference 4">(4)</a> <a
                    href="#ref-for-dom-capturecontroller-8" title="Reference 5">(5)</a> <a
                    href="#ref-for-dom-capturecontroller-9" title="Reference 6">(6)</a> <a
                    href="#ref-for-dom-capturecontroller-10" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturecontroller-11" title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturecontroller-12" title="§ Dictionary DisplayMediaStreamOptions Members">§
                    Dictionary DisplayMediaStreamOptions Members</a> <a href="#ref-for-dom-capturecontroller-13"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-capturecontroller-constructor"
        aria-label="Links in this document to definition: constructor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-capturecontroller-constructor"
                aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-999726024">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-capturecontroller-constructor-1" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-isbound"
        aria-label="Links in this document to definition: [[IsBound]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-isbound"
                aria-label="Permalink for definition: [[IsBound]]. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-isbound-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices Additions</a>
                <a href="#ref-for-dfn-isbound-2" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-source"
        aria-label="Links in this document to definition: [[Source]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-source"
                aria-label="Permalink for definition: [[Source]]. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-source-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices Additions</a> <a
                    href="#ref-for-dfn-source-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-source-3" title="§ 5.4.3 CaptureController">§ 5.4.3 CaptureController</a> <a
                    href="#ref-for-dfn-source-4" title="Reference 2">(2)</a> <a href="#ref-for-dfn-source-5"
                    title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-displaysurfacetype"
        aria-label="Links in this document to definition: [[DisplaySurfaceType]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-displaysurfacetype"
                aria-label="Permalink for definition: [[DisplaySurfaceType]]. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-displaysurfacetype-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-displaysurfacetype-2" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-dfn-displaysurfacetype-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-focuschangedisabled"
        aria-label="Links in this document to definition: [[FocusChangeDisabled]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-focuschangedisabled"
                aria-label="Permalink for definition: [[FocusChangeDisabled]]. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-focuschangedisabled-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-focuschangedisabled-2" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-dfn-focuschangedisabled-3" title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-focusdecisionfinalized"
        aria-label="Links in this document to definition: [[FocusDecisionFinalized]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-focusdecisionfinalized"
                aria-label="Permalink for definition: [[FocusDecisionFinalized]]. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-focusdecisionfinalized-1" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-dfn-focusdecisionfinalized-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-focusdecisionfinalized-3" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-focusdecisionfinalized-4" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-focusbehavior"
        aria-label="Links in this document to definition: [[FocusBehavior]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-focusbehavior"
                aria-label="Permalink for definition: [[FocusBehavior]]. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-focusbehavior-1" title="§ 5.4.3 CaptureController">§ 5.4.3 CaptureController</a>
                <a href="#ref-for-dfn-focusbehavior-2" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-focusbehavior-3" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-capturecontroller-setfocusbehavior"
        aria-label="Links in this document to definition: setFocusBehavior">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-capturecontroller-setfocusbehavior"
                aria-label="Permalink for definition: setFocusBehavior. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-999726024">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-capturecontroller-setfocusbehavior-1" title="§ 5.4.2 CaptureStartFocusBehavior">§
                    5.4.2 CaptureStartFocusBehavior</a>
            </li>
            <li>
                <a href="#ref-for-dom-capturecontroller-setfocusbehavior-2" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-finalize-focus-decision-algorithm"
        aria-label="Links in this document to definition: finalize focus decision algorithm">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-finalize-focus-decision-algorithm"
                aria-label="Permalink for definition: finalize focus decision algorithm. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-finalize-focus-decision-algorithm-1" title="§ 5.1 MediaDevices Additions">§ 5.1
                    MediaDevices Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-finalize-focus-decision-algorithm-2" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-selfcapturepreferenceenum"
        aria-label="Links in this document to definition: SelfCapturePreferenceEnum">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-selfcapturepreferenceenum"
                aria-label="Permalink for definition: SelfCapturePreferenceEnum. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-83534870">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-selfcapturepreferenceenum-1" title="§ 5.4.4 SelfCapturePreferenceEnum">§ 5.4.4
                    SelfCapturePreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-selfcapturepreferenceenum-2" title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-selfcapturepreferenceenum-3"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SelfCapturePreferenceEnum.include"
        aria-label="Links in this document to definition: include">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SelfCapturePreferenceEnum.include"
                aria-label="Permalink for definition: include. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-83534870">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SelfCapturePreferenceEnum.include-1"
                    title="§ 5.4.4 SelfCapturePreferenceEnum">§ 5.4.4 SelfCapturePreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SelfCapturePreferenceEnum.exclude"
        aria-label="Links in this document to definition: exclude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SelfCapturePreferenceEnum.exclude"
                aria-label="Permalink for definition: exclude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-83534870">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SelfCapturePreferenceEnum.exclude-1"
                    title="§ 5.4.4 SelfCapturePreferenceEnum">§ 5.4.4 SelfCapturePreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-systemaudiopreferenceenum"
        aria-label="Links in this document to definition: SystemAudioPreferenceEnum">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-systemaudiopreferenceenum"
                aria-label="Permalink for definition: SystemAudioPreferenceEnum. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1180004445">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-systemaudiopreferenceenum-1" title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5
                    SystemAudioPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-systemaudiopreferenceenum-2" title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-systemaudiopreferenceenum-3"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SystemAudioPreferenceEnum.include"
        aria-label="Links in this document to definition: include">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SystemAudioPreferenceEnum.include"
                aria-label="Permalink for definition: include. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1180004445">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SystemAudioPreferenceEnum.include-1"
                    title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5 SystemAudioPreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SystemAudioPreferenceEnum.exclude"
        aria-label="Links in this document to definition: exclude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SystemAudioPreferenceEnum.exclude"
                aria-label="Permalink for definition: exclude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1180004445">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SystemAudioPreferenceEnum.exclude-1"
                    title="§ 5.4.5 SystemAudioPreferenceEnum">§ 5.4.5 SystemAudioPreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-windowaudiopreferenceenum"
        aria-label="Links in this document to definition: WindowAudioPreferenceEnum">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-windowaudiopreferenceenum"
                aria-label="Permalink for definition: WindowAudioPreferenceEnum. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-927779487">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-windowaudiopreferenceenum-1" title="§ 5.4.6 WindowAudioPreferenceEnum">§ 5.4.6
                    WindowAudioPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-windowaudiopreferenceenum-2" title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-windowaudiopreferenceenum-3"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-WindowAudioPreferenceEnum.system"
        aria-label="Links in this document to definition: system">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-WindowAudioPreferenceEnum.system"
                aria-label="Permalink for definition: system. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-927779487">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-WindowAudioPreferenceEnum.system-1"
                    title="§ 5.4.6 WindowAudioPreferenceEnum">§ 5.4.6 WindowAudioPreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-WindowAudioPreferenceEnum.window"
        aria-label="Links in this document to definition: window">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-WindowAudioPreferenceEnum.window"
                aria-label="Permalink for definition: window. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-927779487">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-WindowAudioPreferenceEnum.window-1"
                    title="§ 5.4.6 WindowAudioPreferenceEnum">§ 5.4.6 WindowAudioPreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-WindowAudioPreferenceEnum.exclude"
        aria-label="Links in this document to definition: exclude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-WindowAudioPreferenceEnum.exclude"
                aria-label="Permalink for definition: exclude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-927779487">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-WindowAudioPreferenceEnum.exclude-1"
                    title="§ 5.4.6 WindowAudioPreferenceEnum">§ 5.4.6 WindowAudioPreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-surfaceswitchingpreferenceenum"
        aria-label="Links in this document to definition: SurfaceSwitchingPreferenceEnum">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-surfaceswitchingpreferenceenum"
                aria-label="Permalink for definition: SurfaceSwitchingPreferenceEnum. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1808759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-surfaceswitchingpreferenceenum-1" title="§ 5.4.7 SurfaceSwitchingPreferenceEnum">§
                    5.4.7 SurfaceSwitchingPreferenceEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-surfaceswitchingpreferenceenum-2" title="§ 5.4.9 DisplayMediaStreamOptions">§
                    5.4.9 DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-surfaceswitchingpreferenceenum-3"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SurfaceSwitchingPreferenceEnum.include"
        aria-label="Links in this document to definition: include">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SurfaceSwitchingPreferenceEnum.include"
                aria-label="Permalink for definition: include. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1808759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SurfaceSwitchingPreferenceEnum.include-1"
                    title="§ 5.4.7 SurfaceSwitchingPreferenceEnum">§ 5.4.7 SurfaceSwitchingPreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-SurfaceSwitchingPreferenceEnum.exclude"
        aria-label="Links in this document to definition: exclude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-SurfaceSwitchingPreferenceEnum.exclude"
                aria-label="Permalink for definition: exclude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1808759589">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-SurfaceSwitchingPreferenceEnum.exclude-1"
                    title="§ 5.4.7 SurfaceSwitchingPreferenceEnum">§ 5.4.7 SurfaceSwitchingPreferenceEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-monitortypesurfacesenum"
        aria-label="Links in this document to definition: MonitorTypeSurfacesEnum">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-monitortypesurfacesenum"
                aria-label="Permalink for definition: MonitorTypeSurfacesEnum. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-968846331">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-monitortypesurfacesenum-1" title="§ 5.4.8 MonitorTypeSurfacesEnum">§ 5.4.8
                    MonitorTypeSurfacesEnum</a>
            </li>
            <li>
                <a href="#ref-for-dom-monitortypesurfacesenum-2" title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-monitortypesurfacesenum-3"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-MonitorTypeSurfacesEnum.include"
        aria-label="Links in this document to definition: include">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-MonitorTypeSurfacesEnum.include"
                aria-label="Permalink for definition: include. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-968846331">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-MonitorTypeSurfacesEnum.include-1" title="§ 5.4.8 MonitorTypeSurfacesEnum">§
                    5.4.8 MonitorTypeSurfacesEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-MonitorTypeSurfacesEnum.exclude"
        aria-label="Links in this document to definition: exclude">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-MonitorTypeSurfacesEnum.exclude"
                aria-label="Permalink for definition: exclude. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-968846331">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-MonitorTypeSurfacesEnum.exclude-1" title="§ 5.4.8 MonitorTypeSurfacesEnum">§
                    5.4.8 MonitorTypeSurfacesEnum</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-displaymediastreamoptions"
        aria-label="Links in this document to definition: DisplayMediaStreamOptions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions"
                aria-label="Permalink for definition: DisplayMediaStreamOptions. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-398008369">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-1" title="§ 5.1 MediaDevices Additions">§ 5.1
                    MediaDevices Additions</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-2" title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9
                    DisplayMediaStreamOptions</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-3"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-video" aria-label="Links in this document to definition: video">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-video"
                aria-label="Permalink for definition: video. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-398008369">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-video-1" title="§ 5.4.9 DisplayMediaStreamOptions">§
                    5.4.9 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-audio" aria-label="Links in this document to definition: audio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-audio"
                aria-label="Permalink for definition: audio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-398008369">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-audio-1" title="§ 5.4.9 DisplayMediaStreamOptions">§
                    5.4.9 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-controller"
        aria-label="Links in this document to definition: controller">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-controller"
                aria-label="Permalink for definition: controller. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-398008369">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-controller-1"
                    title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-selfbrowsersurface"
        aria-label="Links in this document to definition: selfBrowserSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-selfbrowsersurface"
                aria-label="Permalink for definition: selfBrowserSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-398008369">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-selfbrowsersurface-1"
                    title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-systemaudio"
        aria-label="Links in this document to definition: systemAudio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-systemaudio"
                aria-label="Permalink for definition: systemAudio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-398008369">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-systemaudio-1"
                    title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-windowaudio"
        aria-label="Links in this document to definition: windowAudio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-windowaudio"
                aria-label="Permalink for definition: windowAudio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-398008369">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-windowaudio-1"
                    title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-surfaceswitching"
        aria-label="Links in this document to definition: surfaceSwitching">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-surfaceswitching"
                aria-label="Permalink for definition: surfaceSwitching. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-398008369">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-surfaceswitching-1"
                    title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-displaymediastreamoptions-monitortypesurfaces"
        aria-label="Links in this document to definition: monitorTypeSurfaces">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaymediastreamoptions-monitortypesurfaces"
                aria-label="Permalink for definition: monitorTypeSurfaces. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-398008369">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaymediastreamoptions-monitortypesurfaces-1"
                    title="§ 5.4.9 DisplayMediaStreamOptions">§ 5.4.9 DisplayMediaStreamOptions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksupportedconstraints-displaysurface"
        aria-label="Links in this document to definition: displaySurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksupportedconstraints-displaysurface"
                aria-label="Permalink for definition: displaySurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-210984315">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksupportedconstraints-displaysurface-1"
                    title="§ 5.4.10 Extensions to MediaTrackSupportedConstraints">§ 5.4.10 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksupportedconstraints-logicalsurface"
        aria-label="Links in this document to definition: logicalSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksupportedconstraints-logicalsurface"
                aria-label="Permalink for definition: logicalSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-210984315">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksupportedconstraints-logicalsurface-1"
                    title="§ 5.4.10 Extensions to MediaTrackSupportedConstraints">§ 5.4.10 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksupportedconstraints-cursor"
        aria-label="Links in this document to definition: cursor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksupportedconstraints-cursor"
                aria-label="Permalink for definition: cursor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-210984315">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksupportedconstraints-cursor-1"
                    title="§ 5.4.10 Extensions to MediaTrackSupportedConstraints">§ 5.4.10 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksupportedconstraints-restrictownaudio"
        aria-label="Links in this document to definition: restrictOwnAudio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksupportedconstraints-restrictownaudio"
                aria-label="Permalink for definition: restrictOwnAudio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-210984315">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksupportedconstraints-restrictownaudio-1"
                    title="§ 5.4.10 Extensions to MediaTrackSupportedConstraints">§ 5.4.10 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksupportedconstraints-suppresslocalaudioplayback"
        aria-label="Links in this document to definition: suppressLocalAudioPlayback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksupportedconstraints-suppresslocalaudioplayback"
                aria-label="Permalink for definition: suppressLocalAudioPlayback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-210984315">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksupportedconstraints-suppresslocalaudioplayback-1"
                    title="§ 5.4.10 Extensions to MediaTrackSupportedConstraints">§ 5.4.10 Extensions to
                    MediaTrackSupportedConstraints</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackconstraintset-displaysurface"
        aria-label="Links in this document to definition: displaySurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackconstraintset-displaysurface"
                aria-label="Permalink for definition: displaySurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-615542218">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackconstraintset-displaysurface-1"
                    title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§ 5.4.11 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackconstraintset-logicalsurface"
        aria-label="Links in this document to definition: logicalSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackconstraintset-logicalsurface"
                aria-label="Permalink for definition: logicalSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-615542218">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackconstraintset-logicalsurface-1"
                    title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§ 5.4.11 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackconstraintset-cursor" aria-label="Links in this document to definition: cursor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackconstraintset-cursor"
                aria-label="Permalink for definition: cursor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-615542218">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackconstraintset-cursor-1"
                    title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§ 5.4.11 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackconstraintset-restrictownaudio"
        aria-label="Links in this document to definition: restrictOwnAudio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackconstraintset-restrictownaudio"
                aria-label="Permalink for definition: restrictOwnAudio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-615542218">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackconstraintset-restrictownaudio-1"
                    title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§ 5.4.11 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackconstraintset-suppresslocalaudioplayback"
        aria-label="Links in this document to definition: suppressLocalAudioPlayback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackconstraintset-suppresslocalaudioplayback"
                aria-label="Permalink for definition: suppressLocalAudioPlayback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-615542218">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackconstraintset-suppresslocalaudioplayback-1"
                    title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§ 5.4.11 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksettings-displaysurface"
        aria-label="Links in this document to definition: displaySurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksettings-displaysurface"
                aria-label="Permalink for definition: displaySurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-814568308">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksettings-displaysurface-1"
                    title="§ Dictionary DisplayMediaStreamOptions Members">§ Dictionary DisplayMediaStreamOptions
                    Members</a>
            </li>
            <li>
                <a href="#ref-for-dom-mediatracksettings-displaysurface-2"
                    title="§ 5.4.12 Extensions to MediaTrackSettings">§ 5.4.12 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksettings-logicalsurface"
        aria-label="Links in this document to definition: logicalSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksettings-logicalsurface"
                aria-label="Permalink for definition: logicalSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-814568308">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksettings-logicalsurface-1"
                    title="§ 5.4.12 Extensions to MediaTrackSettings">§ 5.4.12 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-mediatracksettings-cursor"
        aria-label="Links in this document to definition: cursor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksettings-cursor"
                aria-label="Permalink for definition: cursor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-814568308">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksettings-cursor-1" title="§ 5.4.12 Extensions to MediaTrackSettings">§
                    5.4.12 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksettings-restrictownaudio"
        aria-label="Links in this document to definition: restrictOwnAudio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksettings-restrictownaudio"
                aria-label="Permalink for definition: restrictOwnAudio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-814568308">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksettings-restrictownaudio-1"
                    title="§ 5.4.12 Extensions to MediaTrackSettings">§ 5.4.12 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksettings-suppresslocalaudioplayback"
        aria-label="Links in this document to definition: suppressLocalAudioPlayback">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksettings-suppresslocalaudioplayback"
                aria-label="Permalink for definition: suppressLocalAudioPlayback. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-814568308">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksettings-suppresslocalaudioplayback-1"
                    title="§ 5.4.12 Extensions to MediaTrackSettings">§ 5.4.12 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatracksettings-screenpixelratio"
        aria-label="Links in this document to definition: screenPixelRatio">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatracksettings-screenpixelratio"
                aria-label="Permalink for definition: screenPixelRatio. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-814568308">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatracksettings-screenpixelratio-1"
                    title="§ 5.4.12 Extensions to MediaTrackSettings">§ 5.4.12 Extensions to MediaTrackSettings</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackcapabilities-displaysurface"
        aria-label="Links in this document to definition: displaySurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackcapabilities-displaysurface"
                aria-label="Permalink for definition: displaySurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-258568626">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackcapabilities-displaysurface-1"
                    title="§ 5.4.13 Extensions to MediaTrackCapabilities">§ 5.4.13 Extensions to
                    MediaTrackCapabilities</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackcapabilities-logicalsurface"
        aria-label="Links in this document to definition: logicalSurface">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackcapabilities-logicalsurface"
                aria-label="Permalink for definition: logicalSurface. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-258568626">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackcapabilities-logicalsurface-1"
                    title="§ 5.4.13 Extensions to MediaTrackCapabilities">§ 5.4.13 Extensions to
                    MediaTrackCapabilities</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dom-mediatrackcapabilities-cursor" aria-label="Links in this document to definition: cursor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-mediatrackcapabilities-cursor"
                aria-label="Permalink for definition: cursor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-258568626">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-mediatrackcapabilities-cursor-1"
                    title="§ 5.4.13 Extensions to MediaTrackCapabilities">§ 5.4.13 Extensions to
                    MediaTrackCapabilities</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-displaycapturesurfacetype"
        aria-label="Links in this document to definition: DisplayCaptureSurfaceType">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-displaycapturesurfacetype"
                aria-label="Permalink for definition: DisplayCaptureSurfaceType. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2120422013">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-displaycapturesurfacetype-1" title="§ 5.1 MediaDevices Additions">§ 5.1
                    MediaDevices Additions</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaycapturesurfacetype-2"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaycapturesurfacetype-3"
                    title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§ 5.4.11 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaycapturesurfacetype-4" title="§ 5.4.12 Extensions to MediaTrackSettings">§
                    5.4.12 Extensions to MediaTrackSettings</a>
            </li>
            <li>
                <a href="#ref-for-dom-displaycapturesurfacetype-5" title="§ 5.4.14 DisplayCaptureSurfaceType">§ 5.4.14
                    DisplayCaptureSurfaceType</a> <a href="#ref-for-dom-displaycapturesurfacetype-6"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-DisplayCaptureSurfaceType.monitor"
        aria-label="Links in this document to definition: monitor">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-DisplayCaptureSurfaceType.monitor"
                aria-label="Permalink for definition: monitor. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2120422013">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.monitor-1"
                    title="§ 5.4.14 DisplayCaptureSurfaceType">§ 5.4.14 DisplayCaptureSurfaceType</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-DisplayCaptureSurfaceType.window"
        aria-label="Links in this document to definition: window">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-DisplayCaptureSurfaceType.window"
                aria-label="Permalink for definition: window. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2120422013">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.window-1" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.window-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.window-3"
                    title="§ 5.4.14 DisplayCaptureSurfaceType">§ 5.4.14 DisplayCaptureSurfaceType</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-DisplayCaptureSurfaceType.browser"
        aria-label="Links in this document to definition: browser">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-DisplayCaptureSurfaceType.browser"
                aria-label="Permalink for definition: browser. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-2120422013">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.browser-1" title="§ 5.4.3 CaptureController">§ 5.4.3
                    CaptureController</a> <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.browser-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-idl-def-DisplayCaptureSurfaceType.browser-3"
                    title="§ 5.4.14 DisplayCaptureSurfaceType">§ 5.4.14 DisplayCaptureSurfaceType</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-cursorcaptureconstraint"
        aria-label="Links in this document to definition: CursorCaptureConstraint">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-cursorcaptureconstraint"
                aria-label="Permalink for definition: CursorCaptureConstraint. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1713755194">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-cursorcaptureconstraint-1"
                    title="§ 5.4 Constrainable Properties for Captured Display Surfaces">§ 5.4 Constrainable Properties
                    for Captured Display Surfaces</a> <a href="#ref-for-dom-cursorcaptureconstraint-2"
                    title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-cursorcaptureconstraint-3"
                    title="§ 5.4.11 Extensions to MediaTrackConstraintSet">§ 5.4.11 Extensions to
                    MediaTrackConstraintSet</a>
            </li>
            <li>
                <a href="#ref-for-dom-cursorcaptureconstraint-4" title="§ 5.4.12 Extensions to MediaTrackSettings">§
                    5.4.12 Extensions to MediaTrackSettings</a>
            </li>
            <li>
                <a href="#ref-for-dom-cursorcaptureconstraint-5" title="§ 5.4.13 Extensions to MediaTrackCapabilities">§
                    5.4.13 Extensions to MediaTrackCapabilities</a>
            </li>
            <li>
                <a href="#ref-for-dom-cursorcaptureconstraint-6" title="§ 5.4.15 CursorCaptureConstraint">§ 5.4.15
                    CursorCaptureConstraint</a> <a href="#ref-for-dom-cursorcaptureconstraint-7"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CursorCaptureConstraint.never"
        aria-label="Links in this document to definition: never">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CursorCaptureConstraint.never"
                aria-label="Permalink for definition: never. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1713755194">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CursorCaptureConstraint.never-1" title="§ 5.4.15 CursorCaptureConstraint">§
                    5.4.15 CursorCaptureConstraint</a> <a href="#ref-for-idl-def-CursorCaptureConstraint.never-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CursorCaptureConstraint.always"
        aria-label="Links in this document to definition: always">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CursorCaptureConstraint.always"
                aria-label="Permalink for definition: always. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1713755194">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CursorCaptureConstraint.always-1" title="§ 5.4.15 CursorCaptureConstraint">§
                    5.4.15 CursorCaptureConstraint</a> <a href="#ref-for-idl-def-CursorCaptureConstraint.always-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-idl-def-CursorCaptureConstraint.motion"
        aria-label="Links in this document to definition: motion">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#idl-def-CursorCaptureConstraint.motion"
                aria-label="Permalink for definition: motion. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block"
                title="Jump to IDL declaration" href="#webidl-1713755194">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-idl-def-CursorCaptureConstraint.motion-1" title="§ 5.4.15 CursorCaptureConstraint">§
                    5.4.15 CursorCaptureConstraint</a> <a href="#ref-for-idl-def-CursorCaptureConstraint.motion-2"
                    title="Reference 2">(2)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-display-capture"
        aria-label="Links in this document to definition: &quot;display-capture&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-display-capture"
                aria-label="Permalink for definition: &quot;display-capture&quot;. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported"
                title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>Not referenced in this document.</li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-active-user-consent"
        aria-label="Links in this document to definition: Active user consent">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-active-user-consent"
                aria-label="Permalink for definition: Active user consent. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-active-user-consent-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-active-user-consent-2" title="§ 9.1.1 Capturing Audio">§ 9.1.1 Capturing Audio</a>
            </li>
            <li>
                <a href="#ref-for-dfn-active-user-consent-3" title="§ 9.2 Authorizing Display Capture">§ 9.2 Authorizing
                    Display Capture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-active-user-consent-4" title="§ 9.2.2 Elevated Permissions">§ 9.2.2 Elevated
                    Permissions</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-elevated-permissions"
        aria-label="Links in this document to definition: elevated permissions">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-elevated-permissions"
                aria-label="Permalink for definition: elevated permissions. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-elevated-permissions-1" title="§ 5.1 MediaDevices Additions">§ 5.1 MediaDevices
                    Additions</a>
            </li>
            <li>
                <a href="#ref-for-dfn-elevated-permissions-2"
                    title="§ 9.1 Capturing Logical or Visible Display Surfaces">§ 9.1 Capturing Logical or Visible
                    Display Surfaces</a>
            </li>
            <li>
                <a href="#ref-for-dfn-elevated-permissions-3" title="§ 9.2 Authorizing Display Capture">§ 9.2
                    Authorizing Display Capture</a>
            </li>
            <li>
                <a href="#ref-for-dfn-elevated-permissions-4" title="§ 9.2.2 Elevated Permissions">§ 9.2.2 Elevated
                    Permissions</a> <a href="#ref-for-dfn-elevated-permissions-5" title="Reference 2">(2)</a> <a
                    href="#ref-for-dfn-elevated-permissions-6" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-elevated-permissions-7" title="Reference 4">(4)</a> <a
                    href="#ref-for-dfn-elevated-permissions-8" title="Reference 5">(5)</a> <a
                    href="#ref-for-dfn-elevated-permissions-9" title="Reference 6">(6)</a> <a
                    href="#ref-for-dfn-elevated-permissions-10" title="Reference 7">(7)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-elevated-permissions-11"
                    title="§ 9.2.3 Capabilities Depending on Elevated Permissions">§ 9.2.3 Capabilities Depending on
                    Elevated Permissions</a> <a href="#ref-for-dfn-elevated-permissions-12" title="Reference 2">(2)</a>
                <a href="#ref-for-dfn-elevated-permissions-13" title="Reference 3">(3)</a> <a
                    href="#ref-for-dfn-elevated-permissions-14" title="Reference 4">(4)</a>
            </li>
        </ul>
    </div>
    <script id="respec-highlight-vars">(() => {
            // @ts-check

            if (document.respec) {
                document.respec.ready.then(setupVarHighlighter);
            } else {
                setupVarHighlighter();
            }

            function setupVarHighlighter() {
                document
                    .querySelectorAll("var")
                    .forEach(varElem => varElem.addEventListener("click", highlightListener));
            }

            function highlightListener(ev) {
                ev.stopPropagation();
                const { target: varElem } = ev;
                const hightligtedElems = highlightVars(varElem);
                const resetListener = () => {
                    const hlColor = getHighlightColor(varElem);
                    hightligtedElems.forEach(el => removeHighlight(el, hlColor));
                    [...HL_COLORS.keys()].forEach(key => HL_COLORS.set(key, true));
                };
                if (hightligtedElems.length) {
                    document.body.addEventListener("click", resetListener, { once: true });
                }
            }

            // availability of highlight colors. colors from var.css
            const HL_COLORS = new Map([
                ["respec-hl-c1", true],
                ["respec-hl-c2", true],
                ["respec-hl-c3", true],
                ["respec-hl-c4", true],
                ["respec-hl-c5", true],
                ["respec-hl-c6", true],
                ["respec-hl-c7", true],
            ]);

            function getHighlightColor(target) {
                // return current colors if applicable
                const { value } = target.classList;
                const re = /respec-hl-\w+/;
                const activeClass = re.test(value) && value.match(re);
                if (activeClass) return activeClass[0];

                // first color preference
                if (HL_COLORS.get("respec-hl-c1") === true) return "respec-hl-c1";

                // otherwise get some other available color
                return [...HL_COLORS.keys()].find(c => HL_COLORS.get(c)) || "respec-hl-c1";
            }

            function highlightVars(varElem) {
                const textContent = norm(varElem.textContent);
                const parent = varElem.closest(".algorithm, section");
                const highlightColor = getHighlightColor(varElem);

                const varsToHighlight = [...parent.querySelectorAll("var")].filter(
                    el =>
                        norm(el.textContent) === textContent &&
                        el.closest(".algorithm, section") === parent
                );

                // update availability of highlight color
                const colorStatus = varsToHighlight[0].classList.contains("respec-hl");
                HL_COLORS.set(highlightColor, colorStatus);

                // highlight vars
                if (colorStatus) {
                    varsToHighlight.forEach(el => removeHighlight(el, highlightColor));
                    return [];
                } else {
                    varsToHighlight.forEach(el => addHighlight(el, highlightColor));
                }
                return varsToHighlight;
            }

            function removeHighlight(el, highlightColor) {
                el.classList.remove("respec-hl", highlightColor);
                // clean up empty class attributes so they don't come in export
                if (!el.classList.length) el.removeAttribute("class");
            }

            function addHighlight(elem, highlightColor) {
                elem.classList.add("respec-hl", highlightColor);
            }

            /**
             * Same as `norm` from src/core/utils, but our build process doesn't allow
             * imports in runtime scripts, so duplicated here.
             * @param {string} str
             */
            function norm(str) {
                return str.trim().replace(/\s+/g, " ");
            }
        })()</script>
    <script id="respec-dfn-panel">(() => {
                                               // @ts-check
                                               if (document.respec) {
                                                   document.respec.ready.then(setupPanel);
                                               } else {
                                                   setupPanel();
                                               }

                                               function setupPanel() {
                                                   const listener = panelListener();
                                                   document.body.addEventListener("keydown", listener);
                                                   document.body.addEventListener("click", listener);
                                               }

                                               function panelListener() {
                                                   /** @type {HTMLElement} */
                                                   let panel = null;
                                                   return event => {
                                                       const { target, type } = event;

                                                       if (!(target instanceof HTMLElement)) return;

                                                       // For keys, we only care about Enter key to activate the panel
                                                       // otherwise it's activated via a click.
                                                       if (type === "keydown" && event.key !== "Enter") return;

                                                       const action = deriveAction(event);

                                                       switch (action) {
                                                           case "show": {
                                                               hidePanel(panel);
                                                               /** @type {HTMLElement} */
                                                               const dfn = target.closest("dfn, .index-term");
                                                               panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                                                               const coords = deriveCoordinates(event);
                                                               displayPanel(dfn, panel, coords);
                                                               break;
                                                           }
                                                           case "dock": {
                                                               panel.style.left = null;
                                                               panel.style.top = null;
                                                               panel.classList.add("docked");
                                                               break;
                                                           }
                                                           case "hide": {
                                                               hidePanel(panel);
                                                               panel = null;
                                                               break;
                                                           }
                                                       }
                                                   };
                                               }

                                               /**
                                                * @param {MouseEvent|KeyboardEvent} event
                                                */
                                               function deriveCoordinates(event) {
                                                   const target = /** @type HTMLElement */ (event.target);

                                                   // We prevent synthetic AT clicks from putting
                                                   // the dialog in a weird place. The AT events sometimes
                                                   // lack coordinates, so they have clientX/Y = 0
                                                   const rect = target.getBoundingClientRect();
                                                   if (
                                                       event instanceof MouseEvent &&
                                                       event.clientX >= rect.left &&
                                                       event.clientY >= rect.top
                                                   ) {
                                                       // The event probably happened inside the bounding rect...
                                                       return { x: event.clientX, y: event.clientY };
                                                   }

                                                   // Offset to the middle of the element
                                                   const x = rect.x + rect.width / 2;
                                                   // Placed at the bottom of the element
                                                   const y = rect.y + rect.height;
                                                   return { x, y };
                                               }

                                               /**
                                                * @param {Event} event
                                                */
                                               function deriveAction(event) {
                                                   const target = /** @type {HTMLElement} */ (event.target);
                                                   const hitALink = !!target.closest("a");
                                                   if (target.closest("dfn:not([data-cite]), .index-term")) {
                                                       return hitALink ? "none" : "show";
                                                   }
                                                   if (target.closest(".dfn-panel")) {
                                                       if (hitALink) {
                                                           return target.classList.contains("self-link") ? "hide" : "dock";
                                                       }
                                                       const panel = target.closest(".dfn-panel");
                                                       return panel.classList.contains("docked") ? "hide" : "none";
                                                   }
                                                   if (document.querySelector(".dfn-panel:not([hidden])")) {
                                                       return "hide";
                                                   }
                                                   return "none";
                                               }

                                               /**
                                                * @param {HTMLElement} dfn
                                                * @param {HTMLElement} panel
                                                * @param {{ x: number, y: number }} clickPosition
                                                */
                                               function displayPanel(dfn, panel, { x, y }) {
                                                   panel.hidden = false;
                                                   // distance (px) between edge of panel and the pointing triangle (caret)
                                                   const MARGIN = 20;

                                                   const dfnRects = dfn.getClientRects();
                                                   // Find the `top` offset when the `dfn` can be spread across multiple lines
                                                   let closestTop = 0;
                                                   let minDiff = Infinity;
                                                   for (const rect of dfnRects) {
                                                       const { top, bottom } = rect;
                                                       const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                                                       if (diffFromClickY < minDiff) {
                                                           minDiff = diffFromClickY;
                                                           closestTop = top;
                                                       }
                                                   }

                                                   const top = window.scrollY + closestTop + dfnRects[0].height;
                                                   const left = x - MARGIN;
                                                   panel.style.left = `${left}px`;
                                                   panel.style.top = `${top}px`;

                                                   // Find if the panel is flowing out of the window
                                                   const panelRect = panel.getBoundingClientRect();
                                                   const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                                                   if (panelRect.right > SCREEN_WIDTH) {
                                                       const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                                                       const newCaretOffset = left - newLeft;
                                                       panel.style.left = `${newLeft}px`;
                                                       /** @type {HTMLElement} */
                                                       const caret = panel.querySelector(".caret");
                                                       caret.style.left = `${newCaretOffset}px`;
                                                   }

                                                   // As it's a dialog, we trap focus.
                                                   // TODO: when <dialog> becomes a implemented, we should really
                                                   // use that.
                                                   trapFocus(panel, dfn);
                                               }

                                               /**
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function trapFocus(panel, dfn) {
                                                   /** @type NodeListOf<HTMLAnchorElement> elements */
                                                   const anchors = panel.querySelectorAll("a[href]");
                                                   // No need to trap focus
                                                   if (!anchors.length) return;

                                                   // Move focus to first anchor element
                                                   const first = anchors.item(0);
                                                   first.focus();

                                                   const trapListener = createTrapListener(anchors, panel, dfn);
                                                   panel.addEventListener("keydown", trapListener);

                                                   // Hiding the panel releases the trap
                                                   const mo = new MutationObserver(records => {
                                                       const [record] = records;
                                                       const target = /** @type HTMLElement */ (record.target);
                                                       if (target.hidden) {
                                                           panel.removeEventListener("keydown", trapListener);
                                                           mo.disconnect();
                                                       }
                                                   });
                                                   mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
                                               }

                                               /**
                                                *
                                                * @param {NodeListOf<HTMLAnchorElement>} anchors
                                                * @param {HTMLElement} panel
                                                * @param {HTMLElement} dfn
                                                * @returns
                                                */
                                               function createTrapListener(anchors, panel, dfn) {
                                                   const lastIndex = anchors.length - 1;
                                                   let currentIndex = 0;
                                                   return event => {
                                                       switch (event.key) {
                                                           // Hitting "Tab" traps us in a nice loop around elements.
                                                           case "Tab": {
                                                               event.preventDefault();
                                                               currentIndex += event.shiftKey ? -1 : +1;
                                                               if (currentIndex < 0) {
                                                                   currentIndex = lastIndex;
                                                               } else if (currentIndex > lastIndex) {
                                                                   currentIndex = 0;
                                                               }
                                                               anchors.item(currentIndex).focus();
                                                               break;
                                                           }

                                                           // Hitting "Enter" on an anchor releases the trap.
                                                           case "Enter":
                                                               hidePanel(panel);
                                                               break;

                                                           // Hitting "Escape" returns focus to dfn.
                                                           case "Escape":
                                                               hidePanel(panel);
                                                               dfn.focus();
                                                               return;
                                                       }
                                                   };
                                               }

                                               /** @param {HTMLElement} panel */
                                               function hidePanel(panel) {
                                                   if (!panel) return;
                                                   panel.hidden = true;
                                                   panel.classList.remove("docked");
                                               }
                                           })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
</body>

</html>