<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 34.1.1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        :is(aside, div).example {
            border-left-width: .5em;
            border-left-style: solid;
            border-color: #e0cb52;
            background: #fcfaee
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }

        .example pre {
            background-color: rgba(0, 0, 0, .03)
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            color: #fff;
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            color: #000;
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>Web Share API</title>

    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        :is(h1, h2, h3, h4, h5, h6, a) abbr {
            border: none
        }

        dfn {
            font-weight: 700
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        .toc a,
        .tof a {
            text-decoration: none
        }

        a .figno,
        a .secno {
            color: #000
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        table.simple {
            border-spacing: 0;
            border-collapse: collapse;
            border-bottom: 3px solid #005a9c
        }

        .simple th {
            background: #005a9c;
            color: #fff;
            padding: 3px 5px;
            text-align: left
        }

        .simple th a {
            color: #fff;
            padding: 3px 5px;
            text-align: left
        }

        .simple th[scope=row] {
            background: inherit;
            color: inherit;
            border-top: 1px solid #ddd
        }

        .simple td {
            padding: 3px 10px;
            border-top: 1px solid #ddd
        }

        .simple tr:nth-child(even) {
            background: #f0f6ff
        }

        .section dd>p:first-child {
            margin-top: 0
        }

        .section dd>p:last-child {
            margin-bottom: 0
        }

        .section dd {
            margin-bottom: 1em
        }

        .section dl.attrs dd,
        .section dl.eldef dd {
            margin-bottom: 0
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>


    <style>
        .mdn {
            font-size: .75em;
            position: absolute;
            right: .3em;
            min-width: 0;
            margin-top: 3rem
        }

        .mdn details {
            width: 100%;
            margin: 1px 0;
            position: relative;
            z-index: 10;
            box-sizing: border-box;
            padding: .4em;
            padding-top: 0
        }

        .mdn details[open] {
            min-width: 25ch;
            max-width: 32ch;
            background: #fff;
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            border-radius: 2px;
            z-index: 11;
            margin-bottom: .4em
        }

        .mdn summary {
            text-align: right;
            cursor: default;
            margin-right: -.4em
        }

        .mdn summary span {
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            color: #fff;
            background-color: #000;
            display: inline-block;
            padding: 3px
        }

        .mdn a {
            display: inline-block;
            word-break: break-all
        }

        .mdn p {
            margin: 0
        }

        .mdn .engines-all {
            color: #058b00
        }

        .mdn .engines-some {
            color: #b00
        }

        .mdn table {
            width: 100%;
            font-size: .9em
        }

        .mdn td {
            border: none
        }

        .mdn td:nth-child(2) {
            text-align: right
        }

        .mdn .nosupportdata {
            font-style: italic;
            margin: 0
        }

        .mdn tr::before {
            content: "";
            display: table-cell;
            width: 1.5em;
            height: 1.5em;
            background: no-repeat center center/contain;
            font-size: .75em
        }

        .mdn .no,
        .mdn .unknown {
            color: #ccc;
            filter: grayscale(100%)
        }

        .mdn .no::before,
        .mdn .unknown::before {
            opacity: .5
        }

        .mdn .chrome::before,
        .mdn .chrome_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)
        }

        .mdn .edge::before,
        .mdn .edge_mobile::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)
        }

        .mdn .firefox::before,
        .mdn .firefox_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)
        }

        .mdn .opera::before,
        .mdn .opera_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)
        }

        .mdn .safari::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)
        }

        .mdn .safari_ios::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)
        }

        .mdn .samsunginternet_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)
        }

        .mdn .webview_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)
        }
    </style>
    <meta name="description" content="This specification defines an API for sharing text, links and other
            content to an arbitrary destination of the user's choice.">
    <link rel="canonical" href="https://www.w3.org/TR/web-share/">
    <style>
        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            background: #fafafa
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #000
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #000;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <style>
        .assert {
            background: #eee;
            border-left: .5em solid #aaa;
            padding: .3em
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
      "shortName": "web-share",
      "previousMaturity": "PR",
      "specStatus": "REC",
      "github": {
        "repoURL": "w3c/web-share",
        "branch": "main"
      },
      "testSuiteURI": "https://wpt.live/web-share/",
      "group": "webapps",
      "editors": [
        {
          "name": "Matt Giuca",
          "company": "Google Inc.",
          "companyURL": "https://google.com",
          "w3cid": 91260
        },
        {
          "name": "Eric Willigers",
          "company": "Google Inc.",
          "companyURL": "https://google.com",
          "w3cid": 67534
        },
        {
          "name": "Marcos Cáceres",
          "company": "Apple Inc.",
          "companyURL": "https://apple.com",
          "w3cid": 39125
        }
      ],
      "caniuse": "web-share",
      "implementationReportURI": "https://w3c.github.io/web-share/imp-report/",
      "xref": "web-platform",
      "mdn": true,
      "crEnd": "2022-09-20",
      "prEnd": "2023-04-12",
      "errata": "https://github.com/w3c/web-share/labels/errata",
      "publishISODate": "2023-05-19T00:00:00.000Z",
      "generatedSubtitle": "W3C Recommendation 19 May 2023"
    }</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-REC">
</head>

<body data-cite="WEBIDL FILEAPI HTML INFRA URL WEBIDL DOM FETCH" class="h-entry">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img crossorigin="" alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">Web Share API</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#REC">W3C Recommendation</a> <time class="dt-published" datetime="2023-05-30">30 May 2023</time></p>
        <details open="">
            <summary>More details about this document</summary>
            <dl>
                <dt>This version:</dt>
                <dd>
                    <a class="u-url" href="https://www.w3.org/TR/2023/REC-web-share-20230530/">https://www.w3.org/TR/2023/REC-web-share-20230530/</a>
                </dd>
                <dt>Latest published version:</dt>
                <dd>
                    <a href="https://www.w3.org/TR/web-share/">https://www.w3.org/TR/web-share/</a>
                </dd>
                <dt>Latest editor's draft:</dt>
                <dd><a href="https://w3c.github.io/web-share/">https://w3c.github.io/web-share/</a></dd>
                <dt>History:</dt>
                <dd>
                    <a href="https://www.w3.org/standards/history/web-share">https://www.w3.org/standards/history/web-share</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/web-share/commits/main">Commit history</a>
                </dd>
                <dt>Test suite:</dt>
                <dd><a href="https://wpt.live/web-share/">https://wpt.live/web-share/</a></dd>
                <dt>Implementation report:</dt>
                <dd>
                    <a href="https://w3c.github.io/web-share/imp-report/">https://w3c.github.io/web-share/imp-report/</a>
                </dd>



                <dt>Editors:</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="91260">
                    <span class="p-name fn">Matt Giuca</span> (<a class="p-org org h-org" href="https://google.com">Google Inc.</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="67534">
                    <span class="p-name fn">Eric Willigers</span> (<a class="p-org org h-org" href="https://google.com">Google Inc.</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="39125">
                    <span class="p-name fn">Marcos Cáceres</span> (<a class="p-org org h-org" href="https://apple.com">Apple Inc.</a>)
                </dd>


                <dt>Feedback:</dt>
                <dd>
                    <a href="https://github.com/w3c/web-share/">GitHub w3c/web-share</a>
                    (<a href="https://github.com/w3c/web-share/pulls/">pull requests</a>,
                    <a href="https://github.com/w3c/web-share/issues/new/choose">new issue</a>,
                    <a href="https://github.com/w3c/web-share/issues/">open issues</a>)
                </dd>
                <dt>Errata:</dt>
                <dd><a href="https://github.com/w3c/web-share/labels/errata">Errata exists</a>.</dd>

                <dt class="caniuse-title">Browser support:</dt>
                <dd class="caniuse-stats"><a href="https://caniuse.com/web-share">caniuse.com</a></dd>
            </dl>
        </details>
        <p>
            See also
            <a href="https://www.w3.org/Translations/?technology=web-share">
                <strong>translations</strong></a>.
        </p>

        <p class="copyright">
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
            ©
            2023

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2>Abstract</h2>
        <p>
            This specification defines an API for sharing text, links and other
            content to an arbitrary destination of the user's choice.
        </p>
        <p>
            The available share targets are not specified here; they are provided
            by the user agent. They could, for example, be apps, websites or
            contacts.
        </p>
    </section>
    <section id="sotd" class="updateable-rec introductory">
        <h2>Status of This Document</h2>
        <p><em>This section describes the status of this
                document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr>
                publications and the latest revision of this technical report can be found
                in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
                https://www.w3.org/TR/.</em></p>
        <p>
            This document was published by the <a href="https://www.w3.org/groups/wg/webapps">Web Applications Working Group</a> as
            a Recommendation using the
            <a href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">Recommendation track</a>.
        </p>
        <p>
            <abbr title="World Wide Web Consortium">W3C</abbr> recommends the wide deployment of this specification as a standard for
            the Web.
        </p>
        <p>
            A <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation is a specification that, after extensive
            consensus-building, is endorsed by
            <abbr title="World Wide Web Consortium">W3C</abbr> and its Members, and
            has commitments from Working Group members to
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Requirements">royalty-free licensing</a>
            for implementations.
            Future updates to this Recommendation may incorporate
            <a href="https://www.w3.org/2021/Process-20211102/#allow-new-features">new features</a>.
        </p>
        <p>

            This document was produced by a group
            operating under the
            <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent
                Policy</a>.


            <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
            <a rel="disclosure" href="https://www.w3.org/groups/wg/webapps/ipr">public list of any patent disclosures</a>
            made in connection with the deliverables of
            the group; that page also includes
            instructions for disclosing a patent. An individual who has actual
            knowledge of a patent which the individual believes contains
            <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a>
            must disclose the information in accordance with
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.

        </p>
        <p>
            This document is governed by the
            <a id="w3c_process_revision" href="https://www.w3.org/2021/Process-20211102/">2 November 2021 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
        </p>
        <section class="informative" id="implementation-status">
            <div class="header-wrapper">
                <h3 id="implementation-status-0">
                    Implementation status
                </h3><a class="self-link" href="#implementation-status" aria-label="Permalink for this Section"></a>
            </div>
            <p><em>This section is non-normative.</em></p>

            <p>
                The ability to share content is often dependent on the underlying
                operating system providing a "share" capability and also on OS UI
                conventions. For example, some OSs present a "share sheet", while
                others rely on an pop-up menu. Due to these aforementioned
                dependencies, there is ongoing work by implementers to bring the Web
                Share API to all OSs. This ongoing effort is reflected as failures in
                the <a href="https://wpt.fyi/web-share">implementation report</a>,
                which is generated by running tests on a limited set of OSs. However,
                the Working Group is optimistic that the Web Share API will become
                more available across all OSs over time, and is already widely
                available on popular OSs across a range of devices.
            </p>
        </section>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">Table of Contents</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#implementation-status">
                            Implementation status
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#usage-examples"><bdi class="secno">1. </bdi>
                    Usage Examples
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#sharing-text-and-links"><bdi class="secno">1.1 </bdi>
                            Sharing text and links
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#sharing-a-file"><bdi class="secno">1.2 </bdi>
                            Sharing a file
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#validating-a-share"><bdi class="secno">1.3 </bdi>
                            Validating a share
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#checking-if-members-are-supported"><bdi class="secno">1.4 </bdi>
                            Checking if members are supported
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#enabling-the-api-in-third-party-contexts"><bdi class="secno">1.5 </bdi>
                            Enabling the API in third-party contexts
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#api-definition"><bdi class="secno">2. </bdi>
                    API definition
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#extensions-to-the-navigator-interface"><bdi class="secno">2.1 </bdi>
                            Extensions to the <code>Navigator</code> interface
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#internal-slots"><bdi class="secno">2.1.1 </bdi>
                                    Internal Slots
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#share-method"><bdi class="secno">2.1.2 </bdi>
                                    <span data-export="" data-dfn-type="method" data-idl="operation" data-title="share()" data-dfn-for="Navigator" data-type="Promise" data-lt="share()|share(data)" data-local-lt="Navigator.share|Navigator.share()|share"><code>share()</code></span> method
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#canshare-data-method"><bdi class="secno">2.1.3 </bdi>
                                    <code>canShare(data)</code> method
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#validate-share-data"><bdi class="secno">2.1.4 </bdi>
                                    Validate share data
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#sharedata-dictionary"><bdi class="secno">2.2 </bdi>
                            <code>ShareData</code> dictionary
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#share-targets"><bdi class="secno">3. </bdi>
                    Share targets
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#examples-of-share-targets"><bdi class="secno">3.1 </bdi>
                            Examples of share targets
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-policy"><bdi class="secno">4. </bdi>
                    Permissions Policy integration
                </a></li>
            <li class="tocline"><a class="tocxref" href="#a11y"><bdi class="secno">5. </bdi>
                    Accessibility considerations
                </a></li>
            <li class="tocline"><a class="tocxref" href="#privacy-considerations"><bdi class="secno">6. </bdi>
                    Privacy considerations
                </a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">7. </bdi>Conformance</a></li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">8. </bdi>IDL Index</a></li>
            <li class="tocline"><a class="tocxref" href="#changelog"><bdi class="secno">9. </bdi>
                    Changelog
                </a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgments"><bdi class="secno">A. </bdi>
                    Acknowledgments
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>References</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">B.1 </bdi>Normative references</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">B.2 </bdi>Informative references</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section class="informative" id="usage-examples">
        <div class="header-wrapper">
            <h2 id="x1-usage-examples"><bdi class="secno">1. </bdi>
                Usage Examples
            </h2><a class="self-link" href="#usage-examples" aria-label="Permalink for Section 1."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <section id="sharing-text-and-links">
            <div class="header-wrapper">
                <h3 id="x1-1-sharing-text-and-links"><bdi class="secno">1.1 </bdi>
                    Sharing text and links
                </h3><a class="self-link" href="#sharing-text-and-links" aria-label="Permalink for Section 1.1"></a>
            </div>
            <p>
                This example shows a basic share operation. In response to a button
                click, this JavaScript code shares the current page's URL.
            </p>
            <div class="example" id="example-sharing-text-and-url">
                <div class="marker">
                    <a class="self-link" href="#example-sharing-text-and-url">Example<bdi> 1</bdi></a><span class="example-title">: Sharing text and URL</span>
                </div>
                <pre aria-busy="false"><code class="hljs javascript">shareButton.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> navigator.share({ <span class="hljs-attr">title</span>: <span class="hljs-string">"Example Page"</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">""</span> });
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Data was shared successfully"</span>);
      } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"Share failed:"</span>, err.message);
      }
    });</code></pre>
            </div>
            <p>
                Note that a <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN" id="ref-for-dom-sharedata-url-1"><code>url</code></a> of <code>''</code> refers to the current page URL,
                just as it would in a link. Any other absolute or relative URL can also
                be used.
            </p>
            <p>
                In response to this call to <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN" id="ref-for-dom-navigator-share-1"><code>share</code></a><code>()</code>, the user agent would
                display a picker or chooser dialog, allowing the user to select a
                target to share this title and the page URL to.
            </p>
        </section>
        <section id="sharing-a-file">
            <div class="header-wrapper">
                <h3 id="x1-2-sharing-a-file"><bdi class="secno">1.2 </bdi>
                    Sharing a file
                </h3><a class="self-link" href="#sharing-a-file" aria-label="Permalink for Section 1.2"></a>
            </div>
            <p>
                This example shows how to share a file. Note that the
                <a data-link-type="idl" href="#dom-sharedata-files" class="internalDFN" id="ref-for-dom-sharedata-files-1"><code>files</code></a> member is an array, allowing for multiple files to
                be shared.
            </p>
            <div class="example" id="example-sharing-a-file">
                <div class="marker">
                    <a class="self-link" href="#example-sharing-a-file">Example<bdi> 2</bdi></a><span class="example-title">: Sharing a file</span>
                </div>
                <pre aria-busy="false"><code class="hljs javascript">shareButton.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> file = <span class="hljs-keyword">new</span> File(data, <span class="hljs-string">"some.png"</span>, { <span class="hljs-attr">type</span>: <span class="hljs-string">"image/png"</span> });
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> navigator.share({
          <span class="hljs-attr">title</span>: <span class="hljs-string">"Example File"</span>,
          <span class="hljs-attr">files</span>: [file]
        });
      } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"Share failed:"</span>, err.message);
      }
    });</code></pre>
            </div>
        </section>
        <section id="validating-a-share">
            <div class="header-wrapper">
                <h3 id="x1-3-validating-a-share"><bdi class="secno">1.3 </bdi>
                    Validating a share
                </h3><a class="self-link" href="#validating-a-share" aria-label="Permalink for Section 1.3"></a>
            </div>
            <p>
                Calling <a data-link-type="idl" data-lt="canShare()" href="#dom-navigator-canshare" class="internalDFN" id="ref-for-dom-navigator-canshare-1"><code>canShare</code></a><code>()</code> method with a <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-1"><code>ShareData</code></a> dictionary
                <a data-link-type="dfn|abstract-op" data-lt="validate share data" href="#dfn-validate-share-data" class="internalDFN" id="ref-for-dfn-validate-share-data-1">validates</a> the shared data. Unlike
                <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN" id="ref-for-dom-navigator-share-2"><code>share</code></a><code>()</code>, it can be called without <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">transient activation</a>.
            </p>
            <div class="example" id="example-3">
                <div class="marker">
                    <a class="self-link" href="#example-3">Example<bdi> 3</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> file = <span class="hljs-keyword">new</span> File([], <span class="hljs-string">"some.png"</span>, { <span class="hljs-attr">type</span>: <span class="hljs-string">"image/png"</span> });
    
    <span class="hljs-comment">// Check if files are supported</span>
    <span class="hljs-keyword">if</span> (navigates.canShare({<span class="hljs-attr">files</span>: [file]})) {
      <span class="hljs-comment">// Sharing a png file would probably be ok...</span>
    }
    
    <span class="hljs-comment">// Check if a URL is ok to share...</span>
    <span class="hljs-keyword">if</span> (navigates.canShare({ <span class="hljs-attr">url</span>: someURL })) {
      <span class="hljs-comment">// The URL is valid and can probably be shared...</span>
    }</code></pre>
            </div>
        </section>
        <section id="checking-if-members-are-supported">
            <div class="header-wrapper">
                <h3 id="x1-4-checking-if-members-are-supported"><bdi class="secno">1.4 </bdi>
                    Checking if members are supported
                </h3><a class="self-link" href="#checking-if-members-are-supported" aria-label="Permalink for Section 1.4"></a>
            </div>
            <p>
                Because of how WebIDL dictionaries work, members passed to
                <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN" id="ref-for-dom-navigator-share-3"><code>share</code></a><code>()</code> that are unknown to the user agent are ignored.
                This can be a problem when sharing multiple members, but the user agent
                doesn't support sharing one of those members. To be sure that every
                member being passed is supported by the user agent, you can pass them
                to <a data-link-type="idl" data-lt="canShare()" href="#dom-navigator-canshare" class="internalDFN" id="ref-for-dom-navigator-canshare-2"><code>canShare</code></a><code>()</code> individually to check if they are
                supported.
            </p>
            <div class="example" id="example-future-proofing-shares">
                <div class="marker">
                    <a class="self-link" href="#example-future-proofing-shares">Example<bdi> 4</bdi></a><span class="example-title">: Future-proofing shares</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> data = {
      <span class="hljs-attr">title</span>: <span class="hljs-string">"Example Page"</span>,
      <span class="hljs-attr">url</span>: <span class="hljs-string">"https://example.com"</span>,
      <span class="hljs-attr">text</span>: <span class="hljs-string">"This is a text to share"</span>,
      <span class="hljs-attr">someFutureThing</span>: <span class="hljs-string">"some future thing"</span>,
    };
    <span class="hljs-keyword">const</span> allSupported = <span class="hljs-built_in">Object</span>.entries(data).every(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> navigator.canShare({ [key]: value });
    });
    <span class="hljs-keyword">if</span> (allSupported) {
      <span class="hljs-keyword">await</span> navigator.share(data);
    }</code></pre>
            </div>
            <p>
                Alternatively, you can adjust application's UI to not show UI
                components for unsupported members.
            </p>
            <div class="example" id="example-filtering-out-unsupported-members">
                <div class="marker">
                    <a class="self-link" href="#example-filtering-out-unsupported-members">Example<bdi> 5</bdi></a><span class="example-title">: Filtering out unsupported members</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> data = {
      <span class="hljs-attr">title</span>: <span class="hljs-string">"Example Page"</span>,
      <span class="hljs-attr">url</span>: <span class="hljs-string">"https://example.com"</span>,
      <span class="hljs-attr">text</span>: <span class="hljs-string">"This is a text to share"</span>,
      <span class="hljs-attr">someFutureThing</span>: <span class="hljs-string">"some future thing"</span>,
    };
    
    <span class="hljs-comment">// Things that are not supported...</span>
    <span class="hljs-keyword">const</span> unsupported = <span class="hljs-built_in">Object</span>.entries(data).filter(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> !navigator.canShare({ [key]: value });
    });</code></pre>
            </div>
        </section>
        <section id="enabling-the-api-in-third-party-contexts">
            <div class="header-wrapper">
                <h3 id="x1-5-enabling-the-api-in-third-party-contexts"><bdi class="secno">1.5 </bdi>
                    Enabling the API in third-party contexts
                </h3><a class="self-link" href="#enabling-the-api-in-third-party-contexts" aria-label="Permalink for Section 1.5"></a>
            </div>
            <p data-cite="permissions-policy">
                The <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">default allowlist</a> of <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self">'self'</a> makes Web Share API available by default only in
                first-party contexts.
            </p>
            <p>
                Third-party can be allowed to use this API via an <code><a data-link-type="element" data-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>'s
                <code><a data-link-type="element-attr" data-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code> attribute:
            </p>
            <aside class="example" id="example-enabling-the-web-share-api-in-a-third-party-context">
                <div class="marker">
                    <a class="self-link" href="#example-enabling-the-web-share-api-in-a-third-party-context">Example<bdi> 6</bdi></a><span class="example-title">: Enabling the web-share API in a third-party context</span>
                </div>
                <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span>
      <span class="hljs-attr">src</span>=<span class="hljs-string">"https://third-party.example"</span>
      <span class="hljs-attr">allow</span>=<span class="hljs-string">"web-share"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></code></pre>
            </aside>
            <p>
                Alternatively, the API can be disabled in a first-party context by
                specifying an HTTP response header:
            </p>
            <aside class="example" id="example-disabling-web-share-over-api-http-using-permissions-policy">
                <div class="marker">
                    <a class="self-link" href="#example-disabling-web-share-over-api-http-using-permissions-policy">Example<bdi> 7</bdi></a><span class="example-title">: Disabling Web Share over API HTTP using Permissions Policy</span>
                </div>
                <pre class="http" aria-busy="false"><code class="hljs">Permissions-Policy: web-share=()</code></pre>
            </aside>
            <p>
                See the <cite><a data-matched-text="[[[permissions-policy]]]" href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite> specification for more details and for
                how to control the permission policies on a per-origin basis.
            </p>
        </section>
    </section>
    <section id="api-definition">
        <div class="header-wrapper">
            <h2 id="x2-api-definition"><bdi class="secno">2. </bdi>
                API definition
            </h2><a class="self-link" href="#api-definition" aria-label="Permalink for Section 2."></a>
        </div>

        <section data-dfn-for="Navigator" id="extensions-to-the-navigator-interface">
            <div class="header-wrapper">
                <h3 id="x2-1-extensions-to-the-navigator-interface"><bdi class="secno">2.1 </bdi>
                    Extensions to the <code>Navigator</code> interface
                </h3><a class="self-link" href="#extensions-to-the-navigator-interface" aria-label="Permalink for Section 2.1"></a>
            </div>

            <pre class="idl def" id="webidl-1104032107"><span class="idlHeader"><a class="self-link" href="#webidl-1104032107">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlMethod" id="idl-def-navigator-share-data" data-title="share" data-dfn-for="Navigator">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-share" id="ref-for-dom-navigator-share-4"><code>share</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-2"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-navigator-canshare-data" data-title="canShare" data-dfn-for="Navigator">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-canshare" id="ref-for-dom-navigator-canshare-3"><code>canShare</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-3"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span>
    };</span></code></pre>
            <section id="internal-slots">
                <div class="header-wrapper"><h4 id="x2-1-1-internal-slots"><bdi class="secno">2.1.1 </bdi>
                Internal Slots
              </h4><a class="self-link" href="#internal-slots" aria-label="Permalink for Section 2.1.1"></a></div>

                <p>
                    This API adds the following internal slot to the <a data-link-type="idl" data-lt="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><code>Navigator</code></a>
                    interface.
                </p>
                <dl>
                    <dt>
                        <a data-link-type="idl" data-lt="Promise" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>? <dfn data-idl="" data-dfn-for="Navigator" data-noexport="" data-dfn-type="attribute" id="dfn-sharepromise" tabindex="0" aria-haspopup="dialog">[[sharePromise]]</dfn>
                    </dt>
                    <dd>
                        The <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-1"><code>[[sharePromise]]</code></a> is a promise that
                        represents a user's current intent to share some data with a
                        <a href="#dfn-share-target" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-share-target-1">share target</a>. It is initialized to <code>null</code>.
                    </dd>
                </dl>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for share"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
                    <a title="The navigator.share() method of the Web Share API invokes the native sharing mechanism of the device to share data such as text, URLs, or files. The available share targets depend on the device, but might include the clipboard, contacts and email applications, websites, Bluetooth, etc." href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/share">Navigator/share</a>
                    <p class="engines-all">This feature is in all major engines.</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>89+</td>
                        </tr>
                        <tr class="chrome_android yes">
                            <td>Chrome Android</td>
                            <td>61+</td>
                        </tr>
                        <tr class="edge no">
                            <td>Edge</td>
                            <td>No</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>71+</td>
                        </tr>
                        <tr class="firefox_android yes">
                            <td>Firefox Android</td>
                            <td>79+</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android yes">
                            <td>Opera Android</td>
                            <td>48+</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>12.1+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>No</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="share-method">
                <div class="header-wrapper"><h4 id="x2-1-2-share-method"><bdi class="secno">2.1.2 </bdi>
                <dfn data-export="" data-dfn-type="method" id="dom-navigator-share" data-idl="operation" data-title="share()" data-dfn-for="Navigator" data-type="Promise" data-lt="share()|share(data)" data-local-lt="Navigator.share|Navigator.share()|share" tabindex="0" aria-haspopup="dialog"><code>share()</code></dfn> method
              </h4><a class="self-link" href="#share-method" aria-label="Permalink for Section 2.1.2"></a></div>

                <p>
                    When the <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN" id="ref-for-dom-navigator-share-5"><code>share</code></a><code>()</code> method is called with argument
                    <var data-type="ShareData">data</var>, run the listed steps listed below while taking
                    into consideration the following security implications.
                </p>
                <p>
                    Web Share enables data to be sent from websites to a <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN" id="ref-for-dfn-share-target-2">share target</a>, which can be a native applications. While this ability is
                    not unique to Web Share, it does come with a number of potential
                    security risks that can vary in severity (depending on the
                    underlying platform).
                </p>
                <p>
                    The data passed to <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN" id="ref-for-dom-navigator-share-6"><code>share</code></a><code>()</code> might be used to exploit
                    buffer overflow or other remote code execution vulnerabilities in
                    the <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN" id="ref-for-dfn-share-target-3">share target</a> that receive shares. There is no general way
                    to guard against this, but implementors will want to be aware that
                    it is a possibility (particularly when sharing files).
                </p>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN" id="ref-for-dfn-share-target-4">Share targets</a> that dereference a shared URL and forward that
                    information on might inadvertently forward information that might
                    be otherwise confidential. This can lead to unexpected information
                    leakage if shares reference content that is only accessible by that
                    application, the host on which it runs, or its network location.
                </p>
                <p>
                    Malicious sites might exploit share targets that leak information
                    by providing URLs that ultimately resolve to local resources,
                    including, but not limited to, "file:" URLs or local services that
                    might otherwise be inaccessible. Even though this API limits shared
                    URLS to a restricted set of <a data-link-type="dfn|abstract-op" href="#dfn-sharable-scheme" class="internalDFN" id="ref-for-dfn-sharable-scheme-1">sharable schemes</a>, use of redirects
                    to other URLs or tweaks to DNS records for hosts in those URLs
                    might be used to cause applications to acquire content.
                </p>
                <p>
                    To avoid being used in these attacks, share targets can consume the
                    URL, retrieve the content, and process that information without
                    sharing it. For instance, a photo editing application might
                    retrieve an image that is "shared" with it. A share target can also
                    share the URL without fetching any of the referenced content.
                </p>
                <p>
                    Share targets that fetch content for the purposes of offering a
                    preview or for sharing content risk information leakage. Content
                    that is previewed and authorized by a user might be safe to
                    forward, however it is not always possible for a person to identify
                    when information should be confidential, so forwarding any content
                    presents a risk. In particular, the <a data-link-type="idl" href="#dom-sharedata-title" class="internalDFN" id="ref-for-dom-sharedata-title-1"><code>title</code></a> might be
                    used by an attacker to trick a user into misinterpreting the nature
                    of the content (see also <a href="#a11y" data-matched-text="[[[#a11y]]]" class="sec-ref"><bdi class="secno">5. </bdi>
                        Accessibility considerations</a>).
                </p>
                <p>
                    As with any user of <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>, implementors need to
                    carefully consider what information is revealed in the error
                    message when <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN" id="ref-for-dom-navigator-share-7"><code>share</code></a><code>()</code> is rejected. Even distinguishing
                    between the case where no <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN" id="ref-for-dfn-share-target-5">share targets</a> are available and user
                    cancellation could reveal information about which share targets are
                    installed on the user's device.
                </p>
                <ol class="algorithm">
                    <li>Let <var data-type="Window">global</var> be <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a>.
                    </li>
                    <li>Let <var data-type="Document">document</var> be <var data-type="Window">global</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">associated <code>Document</code></a>.
                    </li>
                    <li>If <var data-type="Document">document</var> is not <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">fully active</a>, return <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected with</a> an "<a data-link-type="idl" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                    </li>
                    <li>If <var data-type="Document">document</var> is not <a data-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to use</a> <a href="#dfn-web-share" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-web-share-1"><code>"web-share"</code></a>,
                        return <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected with</a> a "<a data-link-type="idl" data-type="exception" href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>"
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                    </li>
                    <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-2"><code>[[sharePromise]]</code></a> is not <code>null</code>,
                        return <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected with</a> an "<a data-link-type="idl" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                    </li>
                    <li>If <var data-type="Window">global</var> does not have <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">transient activation</a>, return <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected with</a> a "<a data-link-type="idl" data-type="exception" href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                    </li>
                    <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation">Consume user activation</a> of <var data-type="Window">global</var>.
                    </li>
                    <li>Let <var data-type="URL">base</var> be <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>'s <a data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">relevant settings object</a>'s
                        <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url">API base URL</a>.
                    </li>
                    <li>If <a data-link-type="dfn|abstract-op" href="#dfn-validate-share-data" class="internalDFN" id="ref-for-dfn-validate-share-data-2">validate share data</a> with <var data-type="ShareData">data</var> and <var data-type="URL">base</var> returns
                        false, then return <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected with</a> a <a data-link-type="idl" data-lt="TypeError" data-type="exception" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>.
                    </li>
                    <li>If <var data-type="ShareData">data</var>'s <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN" id="ref-for-dom-sharedata-url-2"><code>url</code></a> member is present:
                        <ol>
                            <li>Let <var data-type="URL">url</var> be the result of running the <a data-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser">URL
                                    parser</a> on <var data-type="ShareData">data</var>'s <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN" id="ref-for-dom-sharedata-url-3"><code>url</code></a> with <var data-type="URL">base</var>.
                            </li>
                            <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var data-type="URL">url</var> is <a data-link-type="idl" data-lt="URL" data-type="interface" href="https://url.spec.whatwg.org/#url"><code>URL</code></a>.
                            </li>
                            <li>Set <var data-type="ShareData">data</var> to a copy of <var data-type="ShareData">data</var>, with its <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN" id="ref-for-dom-sharedata-url-4"><code>url</code></a>
                                member set to the result of running the <a data-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer">URL serializer</a>
                                on <var data-type="URL">url</var>.
                            </li>
                        </ol>
                    </li>
                    <li>If a file type is being blocked due to security considerations,
                        return <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">a promise rejected with</a> a "<a data-link-type="idl" data-type="exception" href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>"
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                    </li>
                    <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-3"><code>[[sharePromise]]</code></a> to be <a data-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">a new
                            promise</a>.
                    </li>
                    <li>Return <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-4"><code>[[sharePromise]]</code></a> and <a data-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in
                            parallel</a>:
                        <ol>
                            <li>If there are no <a href="#dfn-share-target" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-share-target-6">share targets</a> available, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user interaction task source</a> using
                                <var data-type="Window">global</var> to:
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">Reject</a> <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-5"><code>[[sharePromise]]</code></a> with
                                        an "<a data-link-type="idl" data-type="exception" href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                                    </li>
                                    <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-6"><code>[[sharePromise]]</code></a> to <code>null</code>.
                                    </li>
                                    <li>Terminate this algorithm.
                                    </li>
                                </ol>
                            </li>
                            <li>Present the user with a choice of one more <a href="#dfn-share-target" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-share-target-7">share
                                    targets</a> and the ability abort the operation. This UI
                                surface serves as a security confirmation, ensuring that
                                websites cannot silently send data to native applications. The
                                user agent <em class="rfc2119">SHOULD</em> show intermediary UI through which the user
                                can verify the shared content (if the OS-level UI does not
                                provide this functionality).
                            </li>
                            <li>Wait for the user's choice.
                            </li>
                            <li>If the user chose to abort the share operation, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user interaction task source</a> using
                                <var data-type="Window">global</var> to:
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">Reject</a> <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-7"><code>[[sharePromise]]</code></a> with
                                        an "<a data-link-type="idl" data-type="exception" href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>,
                                    </li>
                                    <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-8"><code>[[sharePromise]]</code></a> to <code>null</code>.
                                    </li>
                                    <li>Terminate this algorithm.
                                    </li>
                                </ol>
                            </li>
                            <li>Activate the chosen <a href="#dfn-share-target" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-share-target-8">share target</a>, <a href="#dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target-1">convert <var data-type="ShareData">data</var>
                                    to a format suitable for ingestion into the target</a>, and
                                transmit the converted data to the target.
                            </li>
                            <li>If an error occurs starting the target or transmitting the
                                data, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user interaction task source</a> using <var data-type="Window">global</var> to:
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">Reject</a> <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-9"><code>[[sharePromise]]</code></a> with
                                        an "<a data-link-type="idl" data-type="exception" href="https://webidl.spec.whatwg.org/#dataerror"><code>DataError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
                                    </li>
                                    <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-10"><code>[[sharePromise]]</code></a> to <code>null</code>.
                                    </li>
                                    <li>Terminate this algorithm.
                                    </li>
                                </ol>
                            </li>
                            <li>Once the data has either been successfully transmitted to
                                the <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN" id="ref-for-dfn-share-target-9">share target</a>, or successfully transmitted to the OS (if
                                the transmission to the <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN" id="ref-for-dfn-share-target-10">share target</a> cannot be confirmed),
                                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source">user interaction task source</a>
                                using <var data-type="Window">global</var> to:
                                <div class="note" role="note" id="issue-container-generatedID">
                                    <div role="heading" class="note-title marker" id="h-note" aria-level="5"><span>Note</span></div>
                                    <aside class="">
                                        Once a share target has been given the payload, the share
                                        is considered successful. If the target considers the data
                                        unacceptable or an error occurs, it can either recover
                                        gracefully, or show an error message to the end-user; it
                                        cannot rely on the sender to handle errors. In other words,
                                        the <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN" id="ref-for-dom-navigator-share-8"><code>share</code></a><code>()</code> method is "fire and forget"; it
                                        does not wait for the target to approve or reject the
                                        payload.
                                    </aside>
                                </div>
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">Resolve</a> <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-11"><code>[[sharePromise]]</code></a>
                                        with <code>undefined</code>.
                                    </li>
                                    <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN" id="ref-for-dfn-sharepromise-12"><code>[[sharePromise]]</code></a> to <code>null</code>.
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                </ol>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="Expand MDN details for canShare"><span>MDN</span><span title="This feature is in all major engines.">✅</span></summary>
                    <a title="The Navigator.canShare() method of the Web Share API returns true if the equivalent call to navigator.share() would succeed." href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/canShare">Navigator/canShare</a>
                    <p class="engines-all">This feature is in all major engines.</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>89+</td>
                        </tr>
                        <tr class="chrome_android yes">
                            <td>Chrome Android</td>
                            <td>75+</td>
                        </tr>
                        <tr class="edge no">
                            <td>Edge</td>
                            <td>No</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>96+</td>
                        </tr>
                        <tr class="firefox_android yes">
                            <td>Firefox Android</td>
                            <td>96+</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>?</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>14+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>No</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="canshare-data-method">
                <div class="header-wrapper"><h4 id="x2-1-3-canshare-data-method"><bdi class="secno">2.1.3 </bdi>
                <code>canShare(data)</code> method
              </h4><a class="self-link" href="#canshare-data-method" aria-label="Permalink for Section 2.1.3"></a></div>

                <p>
                    When the <dfn data-export="" data-dfn-type="method" id="dom-navigator-canshare" data-idl="operation" data-title="canShare()" data-dfn-for="Navigator" data-type="boolean" data-lt="canShare()|canShare(data)" data-local-lt="Navigator.canShare|Navigator.canShare()|canShare" tabindex="0" aria-haspopup="dialog"><code>canShare()</code></dfn> method is called with argument
                    <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-4"><code>ShareData</code></a> <var data-type="ShareData">data</var>, run the following steps:
                </p>
                <ol class="algorithm">
                    <li>Let <var data-type="Document">document</var> be the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">associated <code>Document</code></a>.
                    </li>
                    <li>If <var data-type="Document">document</var> is not <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">fully active</a>, return false.
                    </li>
                    <li>If <var data-type="Document">document</var> is not <a data-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to use</a> <a href="#dfn-web-share" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-web-share-2"><code>"web-share"</code></a>,
                        return false.
                    </li>
                    <li>Return the result of <a data-link-type="dfn|abstract-op" href="#dfn-validate-share-data" class="internalDFN" id="ref-for-dfn-validate-share-data-3">validate share data</a> with <var data-type="ShareData">data</var> and
                        <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">relevant settings object</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url">API base URL</a>.
                    </li>
                </ol>
                <div class="note" role="note" id="issue-container-generatedID-0">
                    <div role="heading" class="note-title marker" id="h-note-0" aria-level="5"><span>Note</span><span class="issue-label">: canShare() is not future compatible</span></div>
                    <aside class="">
                        <p>
                            The <code>canShare()</code> method of the Web Share API may return false
                            positive results when used with objects that contain members not
                            defined in the <code>ShareData</code> dictionary. Because of how WebIDL
                            works, browsers drop unknown members from the input object and
                            will return <code>true</code> when testing the remaining members. This
                            behavior is not future-compatible.
                        </p>
                        <p>
                            To ensure reliable testing of shareability, developers can
                            construct the input object using only members defined in the
                            <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-5"><code>ShareData</code></a> dictionary. If an object contains additional
                            members, it should be destructured to only test the defined
                            members individually.
                        </p>
                        <p>
                            Although this doesn't affect any implementations today, the
                            Working Group will work towards addressing this issue in a future
                            revision of the specification - especially if we make any
                            amendments to the <code>ShareData</code> dictionary. To contribute ideas for
                            how to address this issue, see <a href="https://github.com/w3c/web-share/issues/108">issue #108</a> on
                            GitHub.
                        </p>
                    </aside>
                </div>
            </section>
            <section id="validate-share-data">
                <div class="header-wrapper"><h4 id="x2-1-4-validate-share-data"><bdi class="secno">2.1.4 </bdi>
                Validate share data
              </h4><a class="self-link" href="#validate-share-data" aria-label="Permalink for Section 2.1.4"></a></div>

                <p>
                    A <dfn data-plurals="sharable schemes" id="dfn-sharable-scheme" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">sharable scheme</dfn> is any of the following <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://url.spec.whatwg.org/#concept-url">URL</a>
                    <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme">schemes</a>:
                </p>
                <ul>
                    <li><code>http</code>
                    </li>
                    <li><code>https</code>
                    </li>
                    <li>Any <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/system-state.html#safelisted-scheme">safelisted scheme</a> that the user agent supports for the
                        purpose of sharing.
                    </li>
                </ul>
                <p>
                    To <dfn id="dfn-validate-share-data" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">validate share data</dfn> with <var data-type="ShareData">data</var> and
                    <var data-type="URL">base</var>, run the following steps:
                </p>
                <ol class="algorithm">
                    <li>If none of <var data-type="ShareData">data</var>'s members <a data-link-type="idl" href="#dom-sharedata-title" class="internalDFN" id="ref-for-dom-sharedata-title-2"><code>title</code></a>,
                        <a data-link-type="idl" href="#dom-sharedata-text" class="internalDFN" id="ref-for-dom-sharedata-text-1"><code>text</code></a>, or <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN" id="ref-for-dom-sharedata-url-5"><code>url</code></a> or <a data-link-type="idl" href="#dom-sharedata-files" class="internalDFN" id="ref-for-dom-sharedata-files-2"><code>files</code></a> are
                        present, return false.
                    </li>
                    <li>Let <var data-type="boolean">titleTextOrUrl</var> be true if any of
                        <a data-link-type="idl" href="#dom-sharedata-title" class="internalDFN" id="ref-for-dom-sharedata-title-3"><code>title</code></a>, or <a data-link-type="idl" href="#dom-sharedata-text" class="internalDFN" id="ref-for-dom-sharedata-text-2"><code>text</code></a>, or <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN" id="ref-for-dom-sharedata-url-6"><code>url</code></a> is
                        present.
                    </li>
                    <li>If <var data-type="ShareData">data</var>'s <a data-link-type="idl" href="#dom-sharedata-files" class="internalDFN" id="ref-for-dom-sharedata-files-3"><code>files</code></a> member is present:
                        <ol>
                            <li>If <var data-type="boolean">titleTextOrUrl</var> is false and <var data-type="ShareData">data</var>'s
                                <a data-link-type="idl" href="#dom-sharedata-files" class="internalDFN" id="ref-for-dom-sharedata-files-4"><code>files</code></a> member is empty, return false.
                                <div class="note" role="note" id="issue-container-generatedID-1">
                                    <div role="heading" class="note-title marker" id="h-note-1" aria-level="5"><span>Note</span></div>
                                    <p class="">
                                        This causes a <code>{ files: [] }</code> dictionary to be treated as
                                        an empty dictionary. However, passing a dictionary like
                                        <code>{text: "text", files: []}</code> is fine, as <code>files</code> is just
                                        ignored.
                                    </p>
                                </div>
                            </li>
                            <li>If the implementation does not support file sharing, return
                                false.
                            </li>
                            <li>If the user agent believes sharing any of the files in
                                <code>files</code> would result in a potentially hostile share (i.e., the
                                user agent determines a file is malicious in some way, because
                                of its contents, size, or other characteristic), return false.
                            </li>
                        </ol>
                    </li>
                    <li>If <var data-type="ShareData">data</var>'s <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN" id="ref-for-dom-sharedata-url-7"><code>url</code></a> member is present:
                        <ol>
                            <li>Let <var data-type="URL">url</var> be the result of running the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser">URL parser</a>
                                on <var data-type="ShareData">data</var>'s <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN" id="ref-for-dom-sharedata-url-8"><code>url</code></a> member, with <var data-type="URL">base</var>, and no
                                encoding override.
                            </li>
                            <li>If <var data-type="URL">url</var> is failure, return false.
                            </li>
                            <li>If the <var data-type="URL">url</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme">scheme</a> is a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://fetch.spec.whatwg.org/#local-scheme">local scheme</a>, or
                                <code>file</code>, or <code>javascript</code>, or <code>ws</code>, or <code>wss</code>, return false.
                            </li>
                            <li>If <var data-type="URL">url</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme">scheme</a> is not a <a data-link-type="dfn|abstract-op" href="#dfn-sharable-scheme" class="internalDFN" id="ref-for-dfn-sharable-scheme-2">sharable scheme</a>,
                                return false.
                            </li>
                        </ol>
                    </li>
                    <li>Return true.
                    </li>
                </ol>
            </section>
        </section>
        <section data-dfn-for="ShareData" id="sharedata-dictionary">
            <div class="header-wrapper">
                <h3 id="x2-2-sharedata-dictionary"><bdi class="secno">2.2 </bdi>
                    <code>ShareData</code> dictionary
                </h3><a class="self-link" href="#sharedata-dictionary" aria-label="Permalink for Section 2.2"></a>
            </div>

            <pre class="idl def" id="webidl-800335275"><span class="idlHeader"><a class="self-link" href="#webidl-800335275">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-sharedata" data-title="ShareData">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-sharedata" id="ref-for-dom-sharedata-6"><code>ShareData</code></a> {<span data-idl="" class="idlMember" id="idl-def-sharedata-files" data-title="files" data-dfn-for="ShareData"><span class="idlType">
      <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" data-type="interface" href="https://www.w3.org/TR/FileAPI/#dfn-file">File</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-files" id="ref-for-dom-sharedata-files-5"><code>files</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-sharedata-title" data-title="title" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-title" id="ref-for-dom-sharedata-title-4"><code>title</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-sharedata-text" data-title="text" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-text" id="ref-for-dom-sharedata-text-3"><code>text</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-sharedata-url" data-title="url" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-url" id="ref-for-dom-sharedata-url-9"><code>url</code></a>;</span>
    };</span></code></pre>
            <p>
                The <dfn data-export="" data-dfn-type="dictionary" id="dom-sharedata" data-idl="dictionary" data-title="ShareData" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>ShareData</code></dfn> dictionary consists of several optional
                members:
            </p>
            <dl data-sort="">
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-files" data-idl="field" data-title="files" data-dfn-for="ShareData" data-type="sequence" tabindex="0" aria-haspopup="dialog"><code>files</code></dfn> member
                </dt>
                <dd>
                    Files to be shared.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-text" data-idl="field" data-title="text" data-dfn-for="ShareData" data-type="USVString" tabindex="0" aria-haspopup="dialog"><code>text</code></dfn> member
                </dt>
                <dd>
                    Arbitrary text that forms the body of the message being shared.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-title" data-idl="field" data-title="title" data-dfn-for="ShareData" data-type="USVString" tabindex="0" aria-haspopup="dialog"><code>title</code></dfn> member
                </dt>
                <dd>
                    The title of the document being shared. May be ignored by the
                    target.
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-url" data-idl="field" data-title="url" data-dfn-for="ShareData" data-type="USVString" tabindex="0" aria-haspopup="dialog"><code>url</code></dfn> member
                </dt>
                <dd>
                    A URL string referring to a resource being shared.
                </dd>
            </dl>
            <div class="note" role="note" id="issue-container-generatedID-2">
                <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>Note</span></div>
                <aside class="" data-cite="encoding">
                    These members are <a data-link-type="idl" data-lt="USVString" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><code>USVString</code></a> (as opposed to <a data-link-type="idl" data-lt="DOMString" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>) because
                    they are not allowed to contain surrogate code points. Among other
                    things, this means that the user agent can serialize them into any
                    Unicode encoding, such as <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8">UTF-8</a>, without change or loss of data
                    or the generation of replacement characters.
                </aside>
            </div>
        </section>
    </section>
    <section id="share-targets">
        <div class="header-wrapper">
            <h2 id="x3-share-targets"><bdi class="secno">3. </bdi>
                Share targets
            </h2><a class="self-link" href="#share-targets" aria-label="Permalink for Section 3."></a>
        </div>

        <p>
            A <dfn data-export="" data-plurals="share targets" id="dfn-share-target" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">share target</dfn> is the abstract concept of a
            destination that the user agent will transmit the share data to. What
            constitutes a share target is at the discretion of the user agent.
        </p>
        <p>
            A share target might not be directly able to accept a <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-7"><code>ShareData</code></a>
            (due to not having been written with this API in mind). However, it
            <em class="rfc2119">MUST</em> have the ability to receive data that matches some or all of the
            concepts exposed in <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-8"><code>ShareData</code></a>. To <dfn id="dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">convert data to a format
                suitable for ingestion into the target</dfn>, the user agent <em class="rfc2119">SHOULD</em> map
            the members of <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-9"><code>ShareData</code></a> onto equivalent concepts in the target. It
            <em class="rfc2119">MAY</em> discard or combine members if necessary. The meaning of each member
            of the payload is at the discretion of the share target.
        </p>
        <div class="note" role="note" id="issue-container-generatedID-3">
            <div role="heading" class="note-title marker" id="h-note-3" aria-level="3"><span>Note</span></div>
            <div class="">
                Mapping the <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-10"><code>ShareData</code></a> to the share target's (or operating system's)
                native format can be tricky as some platforms will not have an
                equivalent set of members. For example, if the target has a "text"
                member but not a "URL" member (as is the case on Android), one solution
                is to concatenate both the <a data-link-type="idl" href="#dom-sharedata-text" class="internalDFN" id="ref-for-dom-sharedata-text-4"><code>text</code></a> and <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN" id="ref-for-dom-sharedata-url-10"><code>url</code></a>
                members of <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-11"><code>ShareData</code></a> and pass the result in the "text" member of
                the target.
            </div>
        </div>
        <p>
            Each share target <em class="rfc2119">MAY</em> be made conditionally available depending on the
            <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-12"><code>ShareData</code></a> payload delivered to the <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN" id="ref-for-dom-navigator-share-9"><code>share</code></a><code>()</code> method.
        </p>
        <section class="informative" id="examples-of-share-targets">
            <div class="header-wrapper">
                <h3 id="x3-1-examples-of-share-targets"><bdi class="secno">3.1 </bdi>
                    Examples of share targets
                </h3><a class="self-link" href="#examples-of-share-targets" aria-label="Permalink for Section 3.1"></a>
            </div>
            <p><em>This section is non-normative.</em></p>

            <p>
                The list of share targets can be populated from a variety of sources,
                depending on the user agent and host operating system. For example:
            </p>
            <ul>
                <li>Built-in service (e.g., "copy to clipboard").
                </li>
                <li>Native applications written for the host operating system.
                </li>
                <li>Contacts (e.g., the user agent directly shares to a person from
                    the user's address book, using a specific app).
                </li>
                <li>Websites (e.g., the user agent fills in a template URL with the
                    members of the <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-13"><code>ShareData</code></a>, then navigates to that URL in a new
                    browsing context).
                </li>
            </ul>
            <div class="note" role="note" id="issue-container-generatedID-4">
                <div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>Note</span></div>
                <div class="">
                    There is an attempt to standardize the registration of websites to
                    receive share data for that final use case; see <a href="https://github.com/w3c/web-share-target">Web Share Target</a>.
                </div>
            </div>
            <p>
                In some cases, the host operating system will provide a sharing or
                intent system similar to Web Share. In these cases, the user agent
                can simply forward the share data to the operating system and not
                talk directly to native applications.
            </p>
        </section>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="Expand MDN details for web-share"><span>MDN</span><span title="This feature has limited support.">🚫</span></summary>
            <a title="The HTTP Permissions-Policy header web-share directive controls whether the current document is allowed to use the Navigator.share() method of the Web Share API to share text, links, images, and other content to arbitrary destinations of the user's choice." href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Feature-Policy/web-share">Headers/Feature-Policy/web-share</a>
            <p class="engines-some">This feature has limited support.</p>
            <table>
                <tr class="chrome no">
                    <td>Chrome</td>
                    <td>No</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge unknown">
                    <td>Edge</td>
                    <td>?</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>81+</td>
                </tr>
                <tr class="firefox_android yes">
                    <td>Firefox Android</td>
                    <td>81+</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari no">
                    <td>Safari</td>
                    <td>No</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
        <details>
            <summary aria-label="Expand MDN details for web-share"><span>MDN</span><span title="This feature has limited support.">🚫</span></summary>
            <a title="The HTTP Permissions-Policy header web-share directive controls whether the current document is allowed to use the Navigator.share() method of the Web Share API to share text, links, images, and other content to arbitrary destinations of the user's choice." href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/web-share">Headers/Permissions-Policy/web-share</a>
            <p class="engines-some">This feature has limited support.</p>
            <table>
                <tr class="chrome unknown">
                    <td>Chrome</td>
                    <td>?</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>?</td>
                </tr>
                <tr class="edge unknown">
                    <td>Edge</td>
                    <td>?</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>?</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>81+</td>
                </tr>
                <tr class="firefox_android yes">
                    <td>Firefox Android</td>
                    <td>81+</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>?</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>?</td>
                </tr>
                <tr class="safari no">
                    <td>Safari</td>
                    <td>No</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>?</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>?</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>?</td>
                </tr>
            </table>
        </details>
    </aside>
    <section id="permissions-policy" data-cite="permissions-policy">
        <div class="header-wrapper">
            <h2 id="x4-permissions-policy-integration"><bdi class="secno">4. </bdi>
                Permissions Policy integration
            </h2><a class="self-link" href="#permissions-policy" aria-label="Permalink for Section 4."></a>
        </div>

        <p>
            This specification defines a policy-controlled permission identified by
            the string <code><dfn class="permission" data-dfn-type="permission" id="dfn-web-share" tabindex="0" aria-haspopup="dialog" data-export="">"web-share"</dfn></code>. Its
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">default allowlist</a> is <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self">'self'</a>, which means third-party contexts are not <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to use</a> the API by default.
        </p>
        <p>
            It is <em class="rfc2119">OPTIONAL</em> for user agents to support <cite><a data-matched-text="[[[PERMISSIONS-POLICY]]]" href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite>'s
            <code>Permissions-Policy</code> HTTP header.
        </p>
        <p>
            Developers can use the means afforded by the <cite><a data-matched-text="[[[permissions-policy]]]" href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite>
            specification to control if and when a third-party context is <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to use</a> this API.
        </p>
        <div class="note" role="note" id="issue-container-generatedID-5">
            <div role="heading" class="note-title marker" id="h-note-5" aria-level="3"><span>Note</span><span class="issue-label">: Permissions Policy Implementation Status</span></div>
            <aside class="">
                <p>
                    Although user agents are unified in preventing the Web Share API from
                    being used in third-party context, at the time of publication there
                    are interoperability issues with relying on the
                    <cite><a data-matched-text="[[[Permissions-Policy]]]" href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite> to enable the API in third-party contexts.
                    In particular, although the<code><a data-link-type="element-attr" data-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code> attribute is widely
                    supported, the updated syntax for the <code><a data-link-type="element-attr" data-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code> attribute is
                    not. Similarly, the <code>Permissions-Policy:</code> HTTP header is not yet
                    widely supported. Developers are advised to check the implementation
                    status of the <cite><a data-matched-text="[[[Permissions-Policy]]]" href="https://www.w3.org/TR/permissions-policy-1/">Permissions Policy</a></cite> specification before relying
                    on it to enable the Web Share API in third-party contexts.
                </p>
                <p>
                    When the <code>Permissions-Policy</code> HTTP header is more widely supported,
                    the Working Group expects to revise this specification to require
                    support for the header.
                </p>
            </aside>
        </div>
    </section>
    <section class="informative" id="a11y">
        <div class="header-wrapper">
            <h2 id="x5-accessibility-considerations"><bdi class="secno">5. </bdi>
                Accessibility considerations
            </h2><a class="self-link" href="#a11y" aria-label="Permalink for Section 5."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <p>
            When this specification is used to present information in the user
            interface, implementors will want to follow the OS level accessibility
            guidelines for the platform. Further, as sharing can have potential
            security implications for end-users, as outlined as part of the
            <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN" id="ref-for-dom-navigator-share-10"><code>share</code></a><code>()</code> method, the share UI needs to be presented in an
            accessible manner, while also taking into consideration a platform's
            security guidelines for user interfaces. Some key considerations are
            to:
        </p>
        <ul>
            <li>Provide alternative text for images and other non-textual content
                to ensure that users who are visually impaired can understand the type
                and/or nature of the content being shared.
            </li>
            <li>Ensure that users can navigate through the previewed content using
                keyboard-only controls, and that the keyboard focus is clearly visible.
            </li>
            <li>Use headings and labels to ensure that the previewed content is
                properly structured and can be understood by users using assistive
                technology.
            </li>
            <li>Ensure sufficient color contrast and font size, and use fonts,
                icons, and images that are widely recognised and easily understood, in
                the share UI.
            </li>
        </ul>
        <p>
            Together, these elements can help users with a range of visual, motor
            or cognitive disabilities to better understand the nature of the
            content being shared by a web page.
        </p>
    </section>
    <section id="privacy-considerations">
        <div class="header-wrapper">
            <h2 id="x6-privacy-considerations"><bdi class="secno">6. </bdi>
                Privacy considerations
            </h2><a class="self-link" href="#privacy-considerations" aria-label="Permalink for Section 6."></a>
        </div>

        <ul>
            <li>By design, the API cannot be used by a website to learn which
                <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN" id="ref-for-dfn-share-target-11">share targets</a> are available, or which share target the user chose
                from <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN" id="ref-for-dom-navigator-share-11"><code>share</code></a><code>()</code>. This is to prevent leaking information that
                could be used for fingerprinting, as well as leaking details about the
                user's device or user's preferred share targets.
            </li>
            <li>Use of <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN" id="ref-for-dom-navigator-share-12"><code>share</code></a><code>()</code> from a <a href="https://en.wikipedia.org/wiki/Privacy_mode">private browsing mode</a>
                might leak private data to a third-party application that does not
                respect the user's privacy setting. User agents could present
                additional warnings or <em class="rfc2119">MAY</em> disable the feature entirely when in a
                private browsing mode, but this is not mandated as the chooser UI could
                be considered sufficient warning.
            </li>
        </ul>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x7-conformance"><bdi class="secno">7. </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 7."></a>
        </div>
        <p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p>
        <p>
            The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">OPTIONAL</em>, and <em class="rfc2119">SHOULD</em> in this document
            are to be interpreted as described in
            <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            when, and only when, they appear in all capitals, as shown here.
        </p>
    </section>
    <section id="idl-index">
        <div class="header-wrapper">
            <h2 id="x8-idl-index"><bdi class="secno">8. </bdi>IDL Index</h2><a class="self-link" href="#idl-index" aria-label="Permalink for Section 8."></a>
        </div>
        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="Navigator">partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlMethod" data-title="share" data-dfn-for="Navigator">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-share" id="ref-for-dom-navigator-share-13"><code>share</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-14"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span><span data-idl="" class="idlMethod" data-title="canShare" data-dfn-for="Navigator">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-canshare" id="ref-for-dom-navigator-canshare-4"><code>canShare</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-15"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span>
    };</span>
    
    <span data-idl="" class="idlDictionary" data-title="ShareData">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-sharedata" id="ref-for-dom-sharedata-16"><code>ShareData</code></a> {<span data-idl="" class="idlMember" data-title="files" data-dfn-for="ShareData"><span class="idlType">
      <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" data-type="interface" href="https://www.w3.org/TR/FileAPI/#dfn-file">File</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-files" id="ref-for-dom-sharedata-files-6"><code>files</code></a>;</span><span data-idl="" class="idlMember" data-title="title" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-title" id="ref-for-dom-sharedata-title-5"><code>title</code></a>;</span><span data-idl="" class="idlMember" data-title="text" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-text" id="ref-for-dom-sharedata-text-5"><code>text</code></a>;</span><span data-idl="" class="idlMember" data-title="url" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-url" id="ref-for-dom-sharedata-url-11"><code>url</code></a>;</span>
    };</span></code></pre>
    </section>
    <section class="informative" id="changelog">
        <div class="header-wrapper">
            <h2 id="x9-changelog"><bdi class="secno">9. </bdi>
                Changelog
            </h2><a class="self-link" href="#changelog" aria-label="Permalink for Section 9."></a>
        </div>
        <p><em>This section is non-normative.</em></p>

        <p>
            The following normative changes were made to the specification during
            the <a href="https://www.w3.org/TR/2022/PR-web-share-20221215/">Proposed
                Recommendation</a> phase. Please see the <a href="https://github.com/w3c/web-share/commits/main">commit log</a> for a
            complete list of changes.
        </p><rs-changelog from="PR" to="e441b96ded837660e826e702b7e041f7f0f15751" filter="removeCommits">
            <ul>
                <li><a href="https://github.com/w3c/web-share/commit/d0ea0fe">Make Permissions-Policy HTTP header OPTIONAL</a> (<a href="https://github.com/w3c/web-share/pull/275">#275</a>)</li>
            </ul>
        </rs-changelog>
        <p>
            The following normative changes were made to the specification since it
            was published as a <a href="https://www.w3.org/TR/2019/WD-web-share-20191217/">First Public
                Working Draft</a> to Candidate Recommendation. Please see the <a href="https://github.com/w3c/web-share/commits/main">commit log</a> for a
            complete list of changes.
        </p>
        <rs-changelog from="1589731080e09b9c7d485e54340ba66bc3ae1be0" to="CR" filter="removeCommits">
            <ul>
                <li><a href="https://github.com/w3c/web-share/commit/238ff25">Move Priv/Sec into spec</a> (<a href="https://github.com/w3c/web-share/pull/245">#245</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/d3890d1">Define sharable scheme + check</a> (<a href="https://github.com/w3c/web-share/pull/244">#244</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/94e7883">Handle non-fully-active documents</a> (<a href="https://github.com/w3c/web-share/pull/219">#219</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/68494b7">Add canShare() method</a> (<a href="https://github.com/w3c/web-share/pull/177">#177</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/230ec6a">Add "validate share data" algorithm</a> (<a href="https://github.com/w3c/web-share/pull/185">#185</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/52437a5">Resolve promise after OS hand-off</a> (<a href="https://github.com/w3c/web-share/pull/209">#209</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/151b35e">Check transient activation after sharePromise</a> (<a href="https://github.com/w3c/web-share/pull/183">#183</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/9322cbe">Reject non-http URLs for url member</a> (<a href="https://github.com/w3c/web-share/pull/174">#174</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/aeb208c">Use a sequence for files</a> (<a href="https://github.com/w3c/web-share/pull/170">#170</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/2ef967a">Introduce "web-share" feature policy</a> (<a href="https://github.com/w3c/web-share/pull/166">#166</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/f62dc29">BREAKING CHANGE: make share() consume user activation</a> (<a href="https://github.com/w3c/web-share/pull/137">#137</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/f615649">Add the ability to share files</a> (<a href="https://github.com/w3c/web-share/pull/133">#133</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/5f837a9">Accessibility considerations</a> (<a href="https://github.com/w3c/web-share/pull/146">#146</a>)</li>
            </ul>
        </rs-changelog>
    </section>
    <section class="appendix" id="acknowledgments">
        <div class="header-wrapper">
            <h2 id="a-acknowledgments"><bdi class="secno">A. </bdi>
                Acknowledgments
            </h2><a class="self-link" href="#acknowledgments" aria-label="Permalink for Appendix A."></a>
        </div>

        <p>
            The editors would like to thank the following <abbr title="World Wide Web Consortium">W3C</abbr> groups for their
            invaluable feedback, which greatly improved this specification:
            <a href="https://www.w3.org/WAI/APA/">Accessible Platform Architectures
                Working Group</a>, the <a href="https://www.w3.org/International/i18n-activity/i18n-wg/">Internationalization
                Working Group</a>, the <a href="https://www.w3.org/Privacy/IG/">Privacy
                Interest Group</a>, and the <a href="https://tag.w3.org">Technical
                Architecture Group</a>.
        </p>
        <p>
            Thanks to the <a href="https://www.w3.org/TR/web-intents">Web
                Intents</a> team, who laid the groundwork for the web app
            interoperability use cases. In particular, <a href="https://paul.kinlan.me/">Paul Kinlan</a>, who did a lot of early
            advocacy for Web Share.
        </p>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="b-references"><bdi class="secno">B. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix B."></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="b-1-normative-references"><bdi class="secno">B.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix B.1"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-fetch">[fetch]</dt>
                <dd>
                    <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Anne van Kesteren. WHATWG. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-fileapi">[fileapi]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/FileAPI/"><cite>File API</cite></a>. Marijn Kruisselbrink. W3C. 6 February 2023. W3C Working Draft. URL: <a href="https://www.w3.org/TR/FileAPI/">https://www.w3.org/TR/FileAPI/</a>
                </dd>
                <dt id="bib-html">[html]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren; Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-permissions-policy">[PERMISSIONS-POLICY]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>Permissions Policy</cite></a>. Ian Clelland. W3C. 22 March 2023. W3C Working Draft. URL: <a href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba. IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-url">[url]</dt>
                <dd>
                    <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Anne van Kesteren. WHATWG. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Edgar Chen; Timothy Gu. WHATWG. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="b-2-informative-references"><bdi class="secno">B.2 </bdi>Informative references</h3><a class="self-link" href="#informative-references" aria-label="Permalink for Appendix B.2"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-encoding">[encoding]</dt>
                <dd>
                    <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Anne van Kesteren. WHATWG. Living Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sharepromise" aria-label="Links in this document to definition: [[sharePromise]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sharepromise" aria-label="Permalink for definition: [[sharePromise]]. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sharepromise-1" title="§ 2.1.1 Internal Slots">§ 2.1.1 Internal Slots</a>
            </li>
            <li>
                <a href="#ref-for-dfn-sharepromise-2" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a> <a href="#ref-for-dfn-sharepromise-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-sharepromise-4" title="Reference 3">(3)</a> <a href="#ref-for-dfn-sharepromise-5" title="Reference 4">(4)</a> <a href="#ref-for-dfn-sharepromise-6" title="Reference 5">(5)</a> <a href="#ref-for-dfn-sharepromise-7" title="Reference 6">(6)</a> <a href="#ref-for-dfn-sharepromise-8" title="Reference 7">(7)</a> <a href="#ref-for-dfn-sharepromise-9" title="Reference 8">(8)</a> <a href="#ref-for-dfn-sharepromise-10" title="Reference 9">(9)</a> <a href="#ref-for-dfn-sharepromise-11" title="Reference 10">(10)</a> <a href="#ref-for-dfn-sharepromise-12" title="Reference 11">(11)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-share" aria-label="Links in this document to definition: share()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-share" aria-label="Permalink for definition: share(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1104032107">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-navigator-share-1" title="§ 1.1 Sharing text and links">§ 1.1 Sharing text and links</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-2" title="§ 1.3 Validating a share">§ 1.3 Validating a share</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-3" title="§ 1.4 Checking if members are supported">§ 1.4 Checking if members are supported</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-4" title="§ 2.1 Extensions to the Navigator interface">§ 2.1 Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-5" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a> <a href="#ref-for-dom-navigator-share-6" title="Reference 2">(2)</a> <a href="#ref-for-dom-navigator-share-7" title="Reference 3">(3)</a> <a href="#ref-for-dom-navigator-share-8" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-9" title="§ 3. Share targets">§ 3. Share targets</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-10" title="§ 5. Accessibility considerations">§ 5. Accessibility considerations</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-11" title="§ 6. Privacy considerations">§ 6. Privacy considerations</a> <a href="#ref-for-dom-navigator-share-12" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-13" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-canshare" aria-label="Links in this document to definition: canShare()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-canshare" aria-label="Permalink for definition: canShare(). Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1104032107">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-navigator-canshare-1" title="§ 1.3 Validating a share">§ 1.3 Validating a share</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-canshare-2" title="§ 1.4 Checking if members are supported">§ 1.4 Checking if members are supported</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-canshare-3" title="§ 2.1 Extensions to the Navigator interface">§ 2.1 Extensions to the Navigator interface</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-canshare-4" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sharable-scheme" aria-label="Links in this document to definition: sharable scheme">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sharable-scheme" aria-label="Permalink for definition: sharable scheme. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sharable-scheme-1" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-sharable-scheme-2" title="§ 2.1.4 Validate share data">§ 2.1.4 Validate share data</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-validate-share-data" aria-label="Links in this document to definition: validate share data">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-validate-share-data" aria-label="Permalink for definition: validate share data. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-validate-share-data-1" title="§ 1.3 Validating a share">§ 1.3 Validating a share</a>
            </li>
            <li>
                <a href="#ref-for-dfn-validate-share-data-2" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-validate-share-data-3" title="§ 2.1.3 canShare(data) method">§ 2.1.3 canShare(data) method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata" aria-label="Links in this document to definition: ShareData">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata" aria-label="Permalink for definition: ShareData. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-1" title="§ 1.3 Validating a share">§ 1.3 Validating a share</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-2" title="§ 2.1 Extensions to the Navigator interface">§ 2.1 Extensions to the Navigator interface</a> <a href="#ref-for-dom-sharedata-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-4" title="§ 2.1.3 canShare(data) method">§ 2.1.3 canShare(data) method</a> <a href="#ref-for-dom-sharedata-5" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-6" title="§ 2.2 ShareData dictionary">§ 2.2 ShareData dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-7" title="§ 3. Share targets">§ 3. Share targets</a> <a href="#ref-for-dom-sharedata-8" title="Reference 2">(2)</a> <a href="#ref-for-dom-sharedata-9" title="Reference 3">(3)</a> <a href="#ref-for-dom-sharedata-10" title="Reference 4">(4)</a> <a href="#ref-for-dom-sharedata-11" title="Reference 5">(5)</a> <a href="#ref-for-dom-sharedata-12" title="Reference 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-13" title="§ 3.1 Examples of share targets">§ 3.1 Examples of share targets</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-14" title="§ 8. IDL Index">§ 8. IDL Index</a> <a href="#ref-for-dom-sharedata-15" title="Reference 2">(2)</a> <a href="#ref-for-dom-sharedata-16" title="Reference 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-files" aria-label="Links in this document to definition: files">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-files" aria-label="Permalink for definition: files. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-files-1" title="§ 1.2 Sharing a file">§ 1.2 Sharing a file</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-files-2" title="§ 2.1.4 Validate share data">§ 2.1.4 Validate share data</a> <a href="#ref-for-dom-sharedata-files-3" title="Reference 2">(2)</a> <a href="#ref-for-dom-sharedata-files-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-files-5" title="§ 2.2 ShareData dictionary">§ 2.2 ShareData dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-files-6" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-text" aria-label="Links in this document to definition: text">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-text" aria-label="Permalink for definition: text. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-text-1" title="§ 2.1.4 Validate share data">§ 2.1.4 Validate share data</a> <a href="#ref-for-dom-sharedata-text-2" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-text-3" title="§ 2.2 ShareData dictionary">§ 2.2 ShareData dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-text-4" title="§ 3. Share targets">§ 3. Share targets</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-text-5" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-title" aria-label="Links in this document to definition: title">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-title" aria-label="Permalink for definition: title. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-title-1" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-title-2" title="§ 2.1.4 Validate share data">§ 2.1.4 Validate share data</a> <a href="#ref-for-dom-sharedata-title-3" title="Reference 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-title-4" title="§ 2.2 ShareData dictionary">§ 2.2 ShareData dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-title-5" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-url" aria-label="Links in this document to definition: url">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-url" aria-label="Permalink for definition: url. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-url-1" title="§ 1.1 Sharing text and links">§ 1.1 Sharing text and links</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-2" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a> <a href="#ref-for-dom-sharedata-url-3" title="Reference 2">(2)</a> <a href="#ref-for-dom-sharedata-url-4" title="Reference 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-5" title="§ 2.1.4 Validate share data">§ 2.1.4 Validate share data</a> <a href="#ref-for-dom-sharedata-url-6" title="Reference 2">(2)</a> <a href="#ref-for-dom-sharedata-url-7" title="Reference 3">(3)</a> <a href="#ref-for-dom-sharedata-url-8" title="Reference 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-9" title="§ 2.2 ShareData dictionary">§ 2.2 ShareData dictionary</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-10" title="§ 3. Share targets">§ 3. Share targets</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-11" title="§ 8. IDL Index">§ 8. IDL Index</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-share-target" aria-label="Links in this document to definition: share target">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-share-target" aria-label="Permalink for definition: share target. Activate to close this dialog.">Permalink</a>
            <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span>
        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-share-target-1" title="§ 2.1.1 Internal Slots">§ 2.1.1 Internal Slots</a>
            </li>
            <li>
                <a href="#ref-for-dfn-share-target-2" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a> <a href="#ref-for-dfn-share-target-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-share-target-4" title="Reference 3">(3)</a> <a href="#ref-for-dfn-share-target-5" title="Reference 4">(4)</a> <a href="#ref-for-dfn-share-target-6" title="Reference 5">(5)</a> <a href="#ref-for-dfn-share-target-7" title="Reference 6">(6)</a> <a href="#ref-for-dfn-share-target-8" title="Reference 7">(7)</a> <a href="#ref-for-dfn-share-target-9" title="Reference 8">(8)</a> <a href="#ref-for-dfn-share-target-10" title="Reference 9">(9)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-share-target-11" title="§ 6. Privacy considerations">§ 6. Privacy considerations</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target" aria-label="Links in this document to definition: convert data to a format suitable for ingestion into the target">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target" aria-label="Permalink for definition: convert data to a format suitable for ingestion into the target. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target-1" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-web-share" aria-label="Links in this document to definition: &quot;web-share&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-web-share" aria-label="Permalink for definition: &quot;web-share&quot;. Activate to close this dialog.">Permalink</a>

        </div>
        <p><b>Referenced in:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-web-share-1" title="§ 2.1.2 share() method">§ 2.1.2 share() method</a>
            </li>
            <li>
                <a href="#ref-for-dfn-web-share-2" title="§ 2.1.3 canShare(data) method">§ 2.1.3 canShare(data) method</a>
            </li>
        </ul>
    </div>
    <script id="respec-dfn-panel">(() => {
            // @ts-check
            if (document.respec) {
                document.respec.ready.then(setupPanel);
            } else {
                setupPanel();
            }

            function setupPanel() {
                const listener = panelListener();
                document.body.addEventListener("keydown", listener);
                document.body.addEventListener("click", listener);
            }

            function panelListener() {
                /** @type {HTMLElement} */
                let panel = null;
                return event => {
                    const { target, type } = event;

                    if (!(target instanceof HTMLElement)) return;

                    // For keys, we only care about Enter key to activate the panel
                    // otherwise it's activated via a click.
                    if (type === "keydown" && event.key !== "Enter") return;

                    const action = deriveAction(event);

                    switch (action) {
                        case "show": {
                            hidePanel(panel);
                            /** @type {HTMLElement} */
                            const dfn = target.closest("dfn, .index-term");
                            panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                            const coords = deriveCoordinates(event);
                            displayPanel(dfn, panel, coords);
                            break;
                        }
                        case "dock": {
                            panel.style.left = null;
                            panel.style.top = null;
                            panel.classList.add("docked");
                            break;
                        }
                        case "hide": {
                            hidePanel(panel);
                            panel = null;
                            break;
                        }
                    }
                };
            }

            /**
             * @param {MouseEvent|KeyboardEvent} event
             */
            function deriveCoordinates(event) {
                const target = /** @type HTMLElement */ (event.target);

                // We prevent synthetic AT clicks from putting
                // the dialog in a weird place. The AT events sometimes
                // lack coordinates, so they have clientX/Y = 0
                const rect = target.getBoundingClientRect();
                if (
                    event instanceof MouseEvent &&
                    event.clientX >= rect.left &&
                    event.clientY >= rect.top
                ) {
                    // The event probably happened inside the bounding rect...
                    return { x: event.clientX, y: event.clientY };
                }

                // Offset to the middle of the element
                const x = rect.x + rect.width / 2;
                // Placed at the bottom of the element
                const y = rect.y + rect.height;
                return { x, y };
            }

            /**
             * @param {Event} event
             */
            function deriveAction(event) {
                const target = /** @type {HTMLElement} */ (event.target);
                const hitALink = !!target.closest("a");
                if (target.closest("dfn:not([data-cite]), .index-term")) {
                    return hitALink ? "none" : "show";
                }
                if (target.closest(".dfn-panel")) {
                    if (hitALink) {
                        return target.classList.contains("self-link") ? "hide" : "dock";
                    }
                    const panel = target.closest(".dfn-panel");
                    return panel.classList.contains("docked") ? "hide" : "none";
                }
                if (document.querySelector(".dfn-panel:not([hidden])")) {
                    return "hide";
                }
                return "none";
            }

            /**
             * @param {HTMLElement} dfn
             * @param {HTMLElement} panel
             * @param {{ x: number, y: number }} clickPosition
             */
            function displayPanel(dfn, panel, { x, y }) {
                panel.hidden = false;
                // distance (px) between edge of panel and the pointing triangle (caret)
                const MARGIN = 20;

                const dfnRects = dfn.getClientRects();
                // Find the `top` offset when the `dfn` can be spread across multiple lines
                let closestTop = 0;
                let minDiff = Infinity;
                for (const rect of dfnRects) {
                    const { top, bottom } = rect;
                    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                    if (diffFromClickY < minDiff) {
                        minDiff = diffFromClickY;
                        closestTop = top;
                    }
                }

                const top = window.scrollY + closestTop + dfnRects[0].height;
                const left = x - MARGIN;
                panel.style.left = `${left}px`;
                panel.style.top = `${top}px`;

                // Find if the panel is flowing out of the window
                const panelRect = panel.getBoundingClientRect();
                const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                if (panelRect.right > SCREEN_WIDTH) {
                    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                    const newCaretOffset = left - newLeft;
                    panel.style.left = `${newLeft}px`;
                    /** @type {HTMLElement} */
                    const caret = panel.querySelector(".caret");
                    caret.style.left = `${newCaretOffset}px`;
                }

                // As it's a dialog, we trap focus.
                // TODO: when <dialog> becomes a implemented, we should really
                // use that.
                trapFocus(panel, dfn);
            }

            /**
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function trapFocus(panel, dfn) {
                /** @type NodeListOf<HTMLAnchorElement> elements */
                const anchors = panel.querySelectorAll("a[href]");
                // No need to trap focus
                if (!anchors.length) return;

                // Move focus to first anchor element
                const first = anchors.item(0);
                first.focus();

                const trapListener = createTrapListener(anchors, panel, dfn);
                panel.addEventListener("keydown", trapListener);

                // Hiding the panel releases the trap
                const mo = new MutationObserver(records => {
                    const [record] = records;
                    const target = /** @type HTMLElement */ (record.target);
                    if (target.hidden) {
                        panel.removeEventListener("keydown", trapListener);
                        mo.disconnect();
                    }
                });
                mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
            }

            /**
             *
             * @param {NodeListOf<HTMLAnchorElement>} anchors
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function createTrapListener(anchors, panel, dfn) {
                const lastIndex = anchors.length - 1;
                let currentIndex = 0;
                return event => {
                    switch (event.key) {
                        // Hitting "Tab" traps us in a nice loop around elements.
                        case "Tab": {
                            event.preventDefault();
                            currentIndex += event.shiftKey ? -1 : +1;
                            if (currentIndex < 0) {
                                currentIndex = lastIndex;
                            } else if (currentIndex > lastIndex) {
                                currentIndex = 0;
                            }
                            anchors.item(currentIndex).focus();
                            break;
                        }

                        // Hitting "Enter" on an anchor releases the trap.
                        case "Enter":
                            hidePanel(panel);
                            break;

                        // Hitting "Escape" returns focus to dfn.
                        case "Escape":
                            hidePanel(panel);
                            dfn.focus();
                            return;
                    }
                };
            }

            /** @param {HTMLElement} panel */
            function hidePanel(panel) {
                if (!panel) return;
                panel.hidden = true;
                panel.classList.remove("docked");
            }
        })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
</body>

</html>