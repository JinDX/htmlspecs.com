<!DOCTYPE html>
<html lang="zh-hans">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="ReSpec 34.1.1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        span.example-title {
            text-transform: none
        }

        :is(aside, div).example,
        div.illegal-example {
            padding: .5em;
            margin: 1em 0;
            position: relative;
            clear: both
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: #000
        }

        :is(aside, div).example {
            border-left-width: .5em;
            border-left-style: solid;
            border-color: #e0cb52;
            background: #fcfaee
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff
        }

        .example pre {
            background-color: rgba(0, 0, 0, .03)
        }
    </style>
    <style>
        .issue-label {
            text-transform: initial
        }

        .warning>p:first-child {
            margin-top: 0
        }

        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid
        }

        span.warning {
            padding: .1em .5em .15em
        }

        .issue.closed span.issue-number {
            text-decoration: line-through
        }

        .issue.closed span.issue-number::after {
            content: " (Closed)";
            font-size: smaller
        }

        .warning {
            border-color: #f11;
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9
        }

        .warning-title:before {
            content: "⚠";
            font-size: 1.3em;
            float: left;
            padding-right: .3em;
            margin-top: -.3em
        }

        li.task-list-item {
            list-style: none
        }

        input.task-list-item-checkbox {
            margin: 0 .35em .25em -1.6em;
            vertical-align: middle
        }

        .issue a.respec-gh-label {
            padding: 5px;
            margin: 0 2px 0 2px;
            font-size: 10px;
            text-transform: none;
            text-decoration: none;
            font-weight: 700;
            border-radius: 4px;
            position: relative;
            bottom: 2px;
            border: none;
            display: inline-block
        }
    </style>
    <style>
        pre.idl {
            padding: 1em;
            position: relative
        }

        pre.idl>code {
            color: #000
        }

        @media print {
            pre.idl {
                white-space: pre-wrap
            }
        }

        .idlHeader {
            display: block;
            width: 150px;
            background: #8ccbf2;
            color: #fff;
            font-family: sans-serif;
            font-weight: 700;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px
        }

        .idlHeader a.self-link {
            margin-left: .3cm;
            text-decoration: none;
            border-bottom: none
        }

        .idlID {
            font-weight: 700;
            color: #005a9c
        }

        .idlType {
            color: #005a9c
        }

        .idlName {
            color: #ff4500
        }

        .idlName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c
        }

        .idlDefaultValue,
        .idlParamName {
            font-style: italic
        }

        .extAttr {
            color: #666
        }

        .idlSectionComment {
            color: gray
        }

        .idlIncludes a {
            font-weight: 700
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: 0;
            box-shadow: 0 0 5px rgba(81, 167, 232, .5)
        }

        .respec-button-copy-paste:is(:focus:hover, .selected:focus) {
            border-color: #51a7e8
        }

        .respec-button-copy-paste:is(:hover, :active, .zeroclipboard-is-hover, .zeroclipboard-is-active) {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc
        }

        .respec-button-copy-paste:is(:active, .selected, .zeroclipboard-is-active) {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf
        }

        .respec-button-copy-paste:is(:disabled, :disabled:hover, .disabled, .disabled:hover) {
            color: rgba(102, 102, 102, .5);
            cursor: default;
            background-color: rgba(229, 229, 229, .5);
            background-image: none;
            border-color: rgba(197, 197, 197, .5);
            box-shadow: none
        }

        @media print {
            .respec-button-copy-paste {
                visibility: hidden
            }
        }
    </style>
    <style>
        dfn {
            cursor: pointer
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            min-width: 300px;
            max-width: 500px;
            padding: .5em .75em;
            margin-top: .6em;
            font-family: "Helvetica Neue", sans-serif;
            font-size: small;
            background: #fff;
            color: #000;
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            border-radius: 2px
        }

        .dfn-panel:not(.docked)>.caret {
            position: absolute;
            top: -9px
        }

        .dfn-panel:not(.docked)>.caret::after,
        .dfn-panel:not(.docked)>.caret::before {
            content: "";
            position: absolute;
            border: 10px solid transparent;
            border-top: 0;
            border-bottom: 10px solid #fff;
            top: 0
        }

        .dfn-panel:not(.docked)>.caret::before {
            border-bottom: 9px solid #a2a9b1
        }

        .dfn-panel * {
            margin: 0
        }

        .dfn-panel b {
            display: block;
            color: #000;
            margin-top: .25em
        }

        .dfn-panel ul a[href] {
            color: #333
        }

        .dfn-panel>div {
            display: flex
        }

        .dfn-panel a.self-link {
            font-weight: 700;
            margin-right: auto
        }

        .dfn-panel .marker {
            padding: .1em;
            margin-left: .5em;
            border-radius: .2em;
            text-align: center;
            white-space: nowrap;
            font-size: 90%;
            color: #040b1c
        }

        .dfn-panel .marker.dfn-exported {
            background: #d1edfd;
            box-shadow: 0 0 0 .125em #1ca5f940
        }

        .dfn-panel .marker.idl-block {
            background: #8ccbf2;
            box-shadow: 0 0 0 .125em #0670b161
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important
        }

        .dfn-panel a[href]:hover {
            border-bottom-width: 1px
        }

        .dfn-panel ul {
            padding: 0
        }

        .dfn-panel li {
            margin-left: 1em
        }

        .dfn-panel.docked {
            position: fixed;
            left: .5em;
            top: unset;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - .75em * 2 - .5em - .2em * 2);
            max-height: 30vh;
            overflow: auto
        }
    </style>


    <title>网页共享 API</title>

    <style id="respec-mainstyle">
        @keyframes pop {
            0% {
                transform: scale(1, 1)
            }

            25% {
                transform: scale(1.25, 1.25);
                opacity: .75
            }

            100% {
                transform: scale(1, 1)
            }
        }

        :is(h1, h2, h3, h4, h5, h6, a) abbr {
            border: none
        }

        dfn {
            font-weight: 700
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none
        }

        a.bibref {
            text-decoration: none
        }

        .respec-offending-element:target {
            animation: pop .25s ease-in-out 0s 1
        }

        .respec-offending-element,
        a[href].respec-offending-element {
            text-decoration: red wavy underline
        }

        @supports not (text-decoration:red wavy underline) {
            .respec-offending-element:not(pre) {
                display: inline-block
            }

            .respec-offending-element {
                background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x
            }
        }

        #references :target {
            background: #eaf3ff;
            animation: pop .4s ease-in-out 0s 1
        }

        cite .bibref {
            font-style: normal
        }

        a[href].orcid {
            padding-left: 4px;
            padding-right: 4px
        }

        a[href].orcid>svg {
            margin-bottom: -2px
        }

        .toc a,
        .tof a {
            text-decoration: none
        }

        a .figno,
        a .secno {
            color: #000
        }

        ol.tof,
        ul.tof {
            list-style: none outside none
        }

        .caption {
            margin-top: .5em;
            font-style: italic
        }

        table.simple {
            border-spacing: 0;
            border-collapse: collapse;
            border-bottom: 3px solid #005a9c
        }

        .simple th {
            background: #005a9c;
            color: #fff;
            padding: 3px 5px;
            text-align: left
        }

        .simple th a {
            color: #fff;
            padding: 3px 5px;
            text-align: left
        }

        .simple th[scope=row] {
            background: inherit;
            color: inherit;
            border-top: 1px solid #ddd
        }

        .simple td {
            padding: 3px 10px;
            border-top: 1px solid #ddd
        }

        .simple tr:nth-child(even) {
            background: #f0f6ff
        }

        .section dd>p:first-child {
            margin-top: 0
        }

        .section dd>p:last-child {
            margin-bottom: 0
        }

        .section dd {
            margin-bottom: 1em
        }

        .section dl.attrs dd,
        .section dl.eldef dd {
            margin-bottom: 0
        }

        #issue-summary>ul {
            column-count: 2
        }

        #issue-summary li {
            list-style: none;
            display: inline-block
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top
        }

        details.respec-tests-details>* {
            padding-right: 2em
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: #fff;
            padding-bottom: .5em
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -.3em
        }

        details.respec-tests-details>li {
            padding-left: 1em
        }

        .self-link:hover {
            opacity: 1;
            text-decoration: none;
            background-color: transparent
        }

        aside.example .marker>a.self-link {
            color: inherit
        }

        .header-wrapper {
            display: flex;
            align-items: baseline
        }

        :is(h2, h3, h4, h5, h6):not(#toc>h2, #abstract>h2, #sotd>h2, .head>h2) {
            position: relative;
            left: -.5em
        }

        :is(h2, h3, h4, h5, h6):not(#toch2)+a.self-link {
            color: inherit;
            order: -1;
            position: relative;
            left: -1.1em;
            font-size: 1rem;
            opacity: .5
        }

        :is(h2, h3, h4, h5, h6)+a.self-link::before {
            content: "§";
            text-decoration: none;
            color: var(--heading-text)
        }

        :is(h2, h3)+a.self-link {
            top: -.2em
        }

        :is(h4, h5, h6)+a.self-link::before {
            color: #000
        }

        @media (max-width:767px) {
            dd {
                margin-left: 0
            }
        }

        @media print {
            .removeOnSave {
                display: none
            }
        }
    </style>


    <style>
        .mdn {
            font-size: .75em;
            position: absolute;
            right: .3em;
            min-width: 0;
            margin-top: 3rem
        }

        .mdn details {
            width: 100%;
            margin: 1px 0;
            position: relative;
            z-index: 10;
            box-sizing: border-box;
            padding: .4em;
            padding-top: 0
        }

        .mdn details[open] {
            min-width: 25ch;
            max-width: 32ch;
            background: #fff;
            box-shadow: 0 1em 3em -.4em rgba(0, 0, 0, .3), 0 0 1px 1px rgba(0, 0, 0, .05);
            border-radius: 2px;
            z-index: 11;
            margin-bottom: .4em
        }

        .mdn summary {
            text-align: right;
            cursor: default;
            margin-right: -.4em
        }

        .mdn summary span {
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            color: #fff;
            background-color: #000;
            display: inline-block;
            padding: 3px
        }

        .mdn a {
            display: inline-block;
            word-break: break-all
        }

        .mdn p {
            margin: 0
        }

        .mdn .engines-all {
            color: #058b00
        }

        .mdn .engines-some {
            color: #b00
        }

        .mdn table {
            width: 100%;
            font-size: .9em
        }

        .mdn td {
            border: none
        }

        .mdn td:nth-child(2) {
            text-align: right
        }

        .mdn .nosupportdata {
            font-style: italic;
            margin: 0
        }

        .mdn tr::before {
            content: "";
            display: table-cell;
            width: 1.5em;
            height: 1.5em;
            background: no-repeat center center/contain;
            font-size: .75em
        }

        .mdn .no,
        .mdn .unknown {
            color: #ccc;
            filter: grayscale(100%)
        }

        .mdn .no::before,
        .mdn .unknown::before {
            opacity: .5
        }

        .mdn .chrome::before,
        .mdn .chrome_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/chrome/chrome.svg)
        }

        .mdn .edge::before,
        .mdn .edge_mobile::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/edge/edge.svg)
        }

        .mdn .firefox::before,
        .mdn .firefox_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/firefox/firefox.svg)
        }

        .mdn .opera::before,
        .mdn .opera_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/opera/opera.svg)
        }

        .mdn .safari::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari/safari.svg)
        }

        .mdn .safari_ios::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/safari-ios/safari-ios.svg)
        }

        .mdn .samsunginternet_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/samsung-internet/samsung-internet.svg)
        }

        .mdn .webview_android::before {
            background-image: url(https://www.w3.org/assets/logos/browser-logos/android-webview/android-webview.png)
        }
    </style>
    <meta name="description" content="This specification defines an API for sharing text, links and other
            content to an arbitrary destination of the user's choice.">
    <link rel="canonical" href="https://www.w3.org/TR/web-share/">
    <style>
        .hljs {
            display: block;
            overflow-x: auto;
            padding: .5em;
            color: #383a42;
            background: #fafafa
        }

        .hljs-comment,
        .hljs-quote {
            color: #717277;
            font-style: italic
        }

        .hljs-doctag,
        .hljs-formula,
        .hljs-keyword {
            color: #a626a4
        }

        .hljs-deletion,
        .hljs-name,
        .hljs-section,
        .hljs-selector-tag,
        .hljs-subst {
            color: #ca4706;
            font-weight: 700
        }

        .hljs-literal {
            color: #0b76c5
        }

        .hljs-addition,
        .hljs-attribute,
        .hljs-meta-string,
        .hljs-regexp,
        .hljs-string {
            color: #42803c
        }

        .hljs-built_in,
        .hljs-class .hljs-title {
            color: #9a6a01
        }

        .hljs-attr,
        .hljs-number,
        .hljs-selector-attr,
        .hljs-selector-class,
        .hljs-selector-pseudo,
        .hljs-template-variable,
        .hljs-type,
        .hljs-variable {
            color: #986801
        }

        .hljs-bullet,
        .hljs-link,
        .hljs-meta,
        .hljs-selector-id,
        .hljs-symbol,
        .hljs-title {
            color: #336ae3
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }

        .hljs-link {
            text-decoration: underline
        }
    </style>
    <style>
        var {
            position: relative;
            cursor: pointer
        }

        var[data-type]::after,
        var[data-type]::before {
            position: absolute;
            left: 50%;
            top: -6px;
            opacity: 0;
            transition: opacity .4s;
            pointer-events: none
        }

        var[data-type]::before {
            content: "";
            transform: translateX(-50%);
            border-width: 4px 6px 0 6px;
            border-style: solid;
            border-color: transparent;
            border-top-color: #000
        }

        var[data-type]::after {
            content: attr(data-type);
            transform: translateX(-50%) translateY(-100%);
            background: #000;
            text-align: center;
            font-family: "Dank Mono", "Fira Code", monospace;
            font-style: normal;
            padding: 6px;
            border-radius: 3px;
            color: #daca88;
            text-indent: 0;
            font-weight: 400
        }

        var[data-type]:hover::after,
        var[data-type]:hover::before {
            opacity: 1
        }
    </style>
    <style>
        .assert {
            background: #eee;
            border-left: .5em solid #aaa;
            padding: .3em
        }
    </style>
    <script id="initialUserConfig" type="application/json">{
      "shortName": "web-share",
      "previousMaturity": "PR",
      "specStatus": "REC",
      "github": {
        "repoURL": "w3c/web-share",
        "branch": "main"
      },
      "testSuiteURI": "https://wpt.live/web-share/",
      "group": "webapps",
      "editors": [
        {
          "name": "Matt Giuca",
          "company": "Google Inc.",
          "companyURL": "https://google.com",
          "w3cid": 91260
        },
        {
          "name": "Eric Willigers",
          "company": "Google Inc.",
          "companyURL": "https://google.com",
          "w3cid": 67534
        },
        {
          "name": "Marcos Cáceres",
          "company": "Apple Inc.",
          "companyURL": "https://apple.com",
          "w3cid": 39125
        }
      ],
      "caniuse": "web-share",
      "implementationReportURI": "https://w3c.github.io/web-share/imp-report/",
      "xref": "web-platform",
      "mdn": true,
      "crEnd": "2022-09-20",
      "prEnd": "2023-04-12",
      "errata": "https://github.com/w3c/web-share/labels/errata",
      "publishISODate": "2023-05-19T00:00:00.000Z",
      "generatedSubtitle": "W3C Recommendation 19 May 2023"
    }</script>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-REC">
</head>

<body data-cite="WEBIDL FILEAPI HTML INFRA URL WEBIDL DOM FETCH" class="h-entry">
    <div class="head">
        <p class="logos"><a class="logo" href="https://www.w3.org/"><img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a></p>
        <h1 id="title" class="title">网页共享 API</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#REC">W3C 推荐</a> <time class="dt-published"
                datetime="2023-05-30">2023年5月30日</time></p>
        <details open="">
            <summary>更多关于本文档的详细信息</summary>
            <dl>
                <dt>此版本：</dt>
                <dd>
                    <a class="u-url"
                        href="https://www.w3.org/TR/2023/REC-web-share-20230530/">https://www.w3.org/TR/2023/REC-web-share-20230530/</a>
                </dd>
                <dt>最新发布版本：</dt>
                <dd>
                    <a href="https://www.w3.org/TR/web-share/">https://www.w3.org/TR/web-share/</a>
                </dd>
                <dt>最新编辑草案：</dt>
                <dd><a href="https://w3c.github.io/web-share/">https://w3c.github.io/web-share/</a></dd>
                <dt>历史记录：</dt>
                <dd>
                    <a
                        href="https://www.w3.org/standards/history/web-share">https://www.w3.org/standards/history/web-share</a>
                </dd>
                <dd>
                    <a href="https://github.com/w3c/web-share/commits/main">提交历史</a>
                </dd>
                <dt>测试套件：</dt>
                <dd><a href="https://wpt.live/web-share/">https://wpt.live/web-share/</a></dd>
                <dt>实现报告：</dt>
                <dd>
                    <a
                        href="https://w3c.github.io/web-share/imp-report/">https://w3c.github.io/web-share/imp-report/</a>
                </dd>
                <dt>编辑：</dt>
                <dd class="editor p-author h-card vcard" data-editor-id="91260">
                    <span class="p-name fn">Matt Giuca</span> (<a class="p-org org h-org"
                        href="https://google.com">Google Inc.</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="67534">
                    <span class="p-name fn">Eric Willigers</span> (<a class="p-org org h-org"
                        href="https://google.com">Google Inc.</a>)
                </dd>
                <dd class="editor p-author h-card vcard" data-editor-id="39125">
                    <span class="p-name fn">Marcos Cáceres</span> (<a class="p-org org h-org"
                        href="https://apple.com">Apple Inc.</a>)
                </dd>
                <dt>反馈：</dt>
                <dd>
                    <a href="https://github.com/w3c/web-share/">GitHub w3c/web-share</a>
                    (<a href="https://github.com/w3c/web-share/pulls/">拉取请求</a>,
                    <a href="https://github.com/w3c/web-share/issues/new/choose">新问题</a>,
                    <a href="https://github.com/w3c/web-share/issues/">开放问题</a>)
                </dd>
                <dt>勘误：</dt>
                <dd><a href="https://github.com/w3c/web-share/labels/errata">存在勘误</a>。</dd>
                <dt class="caniuse-title">浏览器支持：</dt>
                <dd class="caniuse-stats"><a href="https://caniuse.com/web-share">caniuse.com</a></dd>
            </dl>
        </details>
        <p>
            另见
            <a href="https://www.w3.org/Translations/?technology=web-share">
                <strong>翻译</strong></a>.
        </p>
        <p class="copyright">
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
            ©
            2023

            <a href="https://www.w3.org/">World Wide Web Consortium</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup>
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document"
                title="W3C Software and Document Notice and License">permissive document license</a> rules apply.
        </p>
        <hr title="头部分隔符">
    </div>
    <section id="abstract" class="introductory">
        <h2>摘要</h2>
        <p>
            本规范定义了一个用于将文本、链接和其他内容共享到用户选择的任意目标的 API。
        </p>
        <p>
            这里没有指定可用的共享目标；它们由用户代理提供。例如，它们可能是应用程序、网站或联系人。
        </p>
    </section>
    <section id="sotd" class="updateable-rec introductory">
        <h2>本文档的状态</h2>
        <p><em>本节描述了本文档在发布时的状态。当前的 <abbr title="World Wide Web Consortium">W3C</abbr>
                出版物列表和该技术报告的最新修订版可在 <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr>
                    技术报告索引</a>中找到，网址为
                https://www.w3.org/TR/。</em></p>
        <p>
            本文档由 <a href="https://www.w3.org/groups/wg/webapps">Web 应用工作组</a> 作为推荐标准发布，使用
            <a href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">推荐标准轨道</a>。
        </p>
        <p>
            <abbr title="World Wide Web Consortium">W3C</abbr> 推荐广泛部署此规范作为 Web 标准。
        </p>
        <p>
            <abbr title="World Wide Web Consortium">W3C</abbr> 推荐标准是一种规范，经过广泛的共识建立后，得到了
            <abbr title="World Wide Web Consortium">W3C</abbr> 及其成员的认可，并且工作组成员承诺
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Requirements">免版税许可</a>
            以便实施。未来对此推荐标准的更新可能会包含
            <a href="https://www.w3.org/2021/Process-20211102/#allow-new-features">新功能</a>。
        </p>
        <p>
            本文档由依据
            <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
                专利政策</a>运营的小组生成。
            <abbr title="World Wide Web Consortium">W3C</abbr> 维护了一个
            <a rel="disclosure" href="https://www.w3.org/groups/wg/webapps/ipr">公开的专利披露列表</a>
            ，与该小组的可交付成果相关；该页面还包括
            披露专利的说明。任何个人若已实际了解包含
            <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">必要声明</a>的专利，必须根据
            <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">W3C 专利政策第 6 节</a>披露信息。
        </p>
        <p>
            本文档受
            <a id="w3c_process_revision" href="https://www.w3.org/2021/Process-20211102/">2021 年 11 月 2 日 <abbr
                    title="World Wide Web Consortium">W3C</abbr> 过程文档</a>的约束。
        </p>
        <section class="informative" id="implementation-status">
            <div class="header-wrapper">
                <h3 id="implementation-status-0">
                    实施状态
                </h3><a class="self-link" href="#implementation-status" aria-label="本节的永久链接"></a>
            </div>
            <p><em>本节是非规范性的。</em></p>

            <p>
                内容共享功能通常依赖于底层操作系统提供的“共享”功能以及操作系统的用户界面约定。例如，某些操作系统呈现“共享面板”，而其他操作系统依赖于弹出菜单。由于上述依赖性，实施者正在继续努力将 Web 共享 API
                带到所有操作系统。这项正在进行的工作反映在
                <a href="https://wpt.fyi/web-share">实施报告</a>中的失败情况，该报告是通过在有限的一组操作系统上运行测试生成的。然而，工作组对 Web 共享 API
                能够随着时间的推移在所有操作系统上变得更加普遍感到乐观，并且它已经广泛应用于各种设备上的流行操作系统中。
            </p>
        </section>
    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">目录</h2>
        <ol class="toc">
            <li class="tocline"><a class="tocxref" href="#abstract">摘要</a></li>
            <li class="tocline"><a class="tocxref" href="#sotd">本文档的状态</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#implementation-status">
                            实施状态
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#usage-examples"><bdi class="secno">1. </bdi>
                    使用示例
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#sharing-text-and-links"><bdi class="secno">1.1 </bdi>
                            共享文本和链接
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#sharing-a-file"><bdi class="secno">1.2 </bdi>
                            共享文件
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#validating-a-share"><bdi class="secno">1.3 </bdi>
                            验证共享
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#checking-if-members-are-supported"><bdi
                                class="secno">1.4 </bdi>
                            检查是否支持成员
                        </a></li>
                    <li class="tocline"><a class="tocxref" href="#enabling-the-api-in-third-party-contexts"><bdi
                                class="secno">1.5 </bdi>
                            在第三方上下文中启用 API
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#api-definition"><bdi class="secno">2. </bdi>
                    API 定义
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#extensions-to-the-navigator-interface"><bdi
                                class="secno">2.1 </bdi>
                            <code>Navigator</code> 接口的扩展
                        </a>
                        <ol class="toc">
                            <li class="tocline"><a class="tocxref" href="#internal-slots"><bdi class="secno">2.1.1
                                    </bdi>
                                    内部插槽
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#share-method"><bdi class="secno">2.1.2 </bdi>
                                    <span data-export="" data-dfn-type="method" data-idl="operation"
                                        data-title="share()" data-dfn-for="Navigator" data-type="Promise"
                                        data-lt="share()|share(data)"
                                        data-local-lt="Navigator.share|Navigator.share()|share"><code>share()</code></span>
                                    方法
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#canshare-data-method"><bdi class="secno">2.1.3
                                    </bdi>
                                    <code>canShare(data)</code> 方法
                                </a></li>
                            <li class="tocline"><a class="tocxref" href="#validate-share-data"><bdi class="secno">2.1.4
                                    </bdi>
                                    验证共享数据
                                </a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a class="tocxref" href="#sharedata-dictionary"><bdi class="secno">2.2 </bdi>
                            <code>ShareData</code> 字典
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#share-targets"><bdi class="secno">3. </bdi>
                    共享目标
                </a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#examples-of-share-targets"><bdi class="secno">3.1
                            </bdi>
                            共享目标示例
                        </a></li>
                </ol>
            </li>
            <li class="tocline"><a class="tocxref" href="#permissions-policy"><bdi class="secno">4. </bdi>
                    权限策略集成
                </a></li>
            <li class="tocline"><a class="tocxref" href="#a11y"><bdi class="secno">5. </bdi>
                    无障碍考虑
                </a></li>
            <li class="tocline"><a class="tocxref" href="#privacy-considerations"><bdi class="secno">6. </bdi>
                    隐私考虑
                </a></li>
            <li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">7. </bdi>一致性</a></li>
            <li class="tocline"><a class="tocxref" href="#idl-index"><bdi class="secno">8. </bdi>IDL 索引</a></li>
            <li class="tocline"><a class="tocxref" href="#changelog"><bdi class="secno">9. </bdi>
                    变更日志
                </a></li>
            <li class="tocline"><a class="tocxref" href="#acknowledgments"><bdi class="secno">A. </bdi>
                    致谢
                </a></li>
            <li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">B.1
                            </bdi>规范性参考文献</a></li>
                    <li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">B.2
                            </bdi>参考性参考文献</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section class="informative" id="usage-examples">
        <div class="header-wrapper">
            <h2 id="x1-usage-examples"><bdi class="secno">1. </bdi>
                使用示例
            </h2><a class="self-link" href="#usage-examples" aria-label="第 1 节的永久链接"></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <section id="sharing-text-and-links">
            <div class="header-wrapper">
                <h3 id="x1-1-sharing-text-and-links"><bdi class="secno">1.1 </bdi>
                    共享文本和链接
                </h3><a class="self-link" href="#sharing-text-and-links" aria-label="第 1.1 节的永久链接"></a>
            </div>
            <p>
                此示例展示了一个基本的共享操作。在按钮点击响应中，这段 JavaScript 代码共享了当前页面的 URL。
            </p>
            <div class="example" id="example-sharing-text-and-url">
                <div class="marker">
                    <a class="self-link" href="#example-sharing-text-and-url">示例<bdi> 1</bdi></a><span
                        class="example-title">：共享文本和 URL</span>
                </div>
                <pre aria-busy="false"><code class="hljs javascript">shareButton.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> navigator.share({ <span class="hljs-attr">title</span>: <span class="hljs-string">"示例页面"</span>, <span class="hljs-attr">url</span>: <span class="hljs-string">""</span> });
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"数据共享成功"</span>);
      } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"共享失败："</span>, err.message);
      }
    });</code></pre>
            </div>
            <p>
                请注意，<a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN"
                    id="ref-for-dom-sharedata-url-1"><code>url</code></a> 为 <code>''</code> 指当前页面的
                URL，正如它在链接中一样。任何其他的绝对或相对 URL 也可以使用。
            </p>
            <p>
                当调用 <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                    id="ref-for-dom-navigator-share-1"><code>share</code></a><code>()</code>
                时，用户代理将显示一个选择器对话框，允许用户选择一个目标来共享此标题和页面 URL。
            </p>
        </section>
        <section id="sharing-a-file">
            <div class="header-wrapper">
                <h3 id="x1-2-sharing-a-file"><bdi class="secno">1.2 </bdi>
                    共享文件
                </h3><a class="self-link" href="#sharing-a-file" aria-label="第 1.2 节的永久链接"></a>
            </div>
            <p>
                此示例展示了如何共享文件。请注意，<a data-link-type="idl" href="#dom-sharedata-files" class="internalDFN"
                    id="ref-for-dom-sharedata-files-1"><code>files</code></a> 成员是一个数组，允许共享多个文件。
            </p>
            <div class="example" id="example-sharing-a-file">
                <div class="marker">
                    <a class="self-link" href="#example-sharing-a-file">示例<bdi> 2</bdi></a><span
                        class="example-title">：共享文件</span>
                </div>
                <pre aria-busy="false"><code class="hljs javascript">shareButton.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> file = <span class="hljs-keyword">new</span> File(data, <span class="hljs-string">"some.png"</span>, { <span class="hljs-attr">type</span>: <span class="hljs-string">"image/png"</span> });
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> navigator.share({
          <span class="hljs-attr">title</span>: <span class="hljs-string">"Example File"</span>,
          <span class="hljs-attr">files</span>: [file]
        });
      } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"Share failed:"</span>, err.message);
      }
    });</code></pre>
            </div>
        </section>
        <section id="validating-a-share">
            <div class="header-wrapper">
                <h3 id="x1-3-validating-a-share"><bdi class="secno">1.3 </bdi>
                    验证共享
                </h3><a class="self-link" href="#validating-a-share" aria-label="第 1.3 节的永久链接"></a>
            </div>
            <p>
                调用 <a data-link-type="idl" data-lt="canShare()" href="#dom-navigator-canshare" class="internalDFN"
                    id="ref-for-dom-navigator-canshare-1"><code>canShare</code></a><code>()</code> 方法，并传入 <a
                    data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN"
                    id="ref-for-dom-sharedata-1"><code>ShareData</code></a> 字典，来
                <a data-link-type="dfn|abstract-op" data-lt="validate share data" href="#dfn-validate-share-data"
                    class="internalDFN" id="ref-for-dfn-validate-share-data-1">验证</a>共享数据。与
                <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                    id="ref-for-dom-navigator-share-2"><code>share</code></a><code>()</code> 不同，它可以在没有
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">瞬态激活</a>的情况下调用。
            </p>
            <div class="example" id="example-3">
                <div class="marker">
                    <a class="self-link" href="#example-3">示例<bdi> 3</bdi></a>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> file = <span class="hljs-keyword">new</span> File([], <span class="hljs-string">"some.png"</span>, { <span class="hljs-attr">type</span>: <span class="hljs-string">"image/png"</span> });

    <span class="hljs-comment">// 检查文件是否受支持</span>
    <span class="hljs-keyword">if</span> (navigates.canShare({<span class="hljs-attr">files</span>: [file]})) {
    <span class="hljs-comment">// 共享一个png文件应该是可以的...</span>
    }

    <span class="hljs-comment">// 检查URL是否可以共享...</span>
    <span class="hljs-keyword">if</span> (navigates.canShare({ <span class="hljs-attr">url</span>: someURL })) {
    <span class="hljs-comment">// URL有效，可能可以共享...</span>
    }</code></pre>
            </div>
        </section>
        <section id="checking-if-members-are-supported">
            <div class="header-wrapper">
                <h3 id="x1-4-checking-if-members-are-supported"><bdi class="secno">1.4 </bdi>
                    检查是否支持成员
                </h3><a class="self-link" href="#checking-if-members-are-supported" aria-label="第 1.4 节的永久链接"></a>
            </div>
            <p>
                由于 WebIDL 字典的工作方式，传递给
                <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                    id="ref-for-dom-navigator-share-3"><code>share</code></a><code>()</code> 的未知成员会被用户代理忽略。
                这可能会在共享多个成员时造成问题，但用户代理不支持其中的某个成员。为了确保传递的每个成员都受用户代理支持，
                可以将它们单独传递给 <a data-link-type="idl" data-lt="canShare()" href="#dom-navigator-canshare"
                    class="internalDFN" id="ref-for-dom-navigator-canshare-2"><code>canShare</code></a><code>()</code>
                方法，以检查它们是否受支持。
            </p>
            <div class="example" id="example-future-proofing-shares">
                <div class="marker">
                    <a class="self-link" href="#example-future-proofing-shares">示例<bdi> 4</bdi></a><span
                        class="example-title">：确保未来的共享兼容性</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> data = {
  <span class="hljs-attr">title</span>: <span class="hljs-string">"示例页面"</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">"https://example.com"</span>,
  <span class="hljs-attr">text</span>: <span class="hljs-string">"这是共享的文本"</span>,
  <span class="hljs-attr">someFutureThing</span>: <span class="hljs-string">"某个未来的东西"</span>,
};
<span class="hljs-keyword">const</span> allSupported = <span class="hljs-built_in">Object</span>.entries(data).every(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> navigator.canShare({ [key]: value });
});
<span class="hljs-keyword">if</span> (allSupported) {
  <span class="hljs-keyword">await</span> navigator.share(data);
}</code></pre>
            </div>
            <p>
                或者，您可以调整应用程序的 UI 以隐藏不支持的成员组件。
            </p>
            <div class="example" id="example-filtering-out-unsupported-members">
                <div class="marker">
                    <a class="self-link" href="#example-filtering-out-unsupported-members">示例<bdi> 5</bdi></a><span
                        class="example-title">：过滤掉不支持的成员</span>
                </div>
                <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> data = {
  <span class="hljs-attr">title</span>: <span class="hljs-string">"示例页面"</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">"https://example.com"</span>,
  <span class="hljs-attr">text</span>: <span class="hljs-string">"这是共享的文本"</span>,
  <span class="hljs-attr">someFutureThing</span>: <span class="hljs-string">"某个未来的东西"</span>,
};

<span class="hljs-comment">// 不支持的成员...</span>
<span class="hljs-keyword">const</span> unsupported = <span class="hljs-built_in">Object</span>.entries(data).filter(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> !navigator.canShare({ [key]: value });
});</code></pre>
            </div>
        </section>
        <section id="enabling-the-api-in-third-party-contexts">
            <div class="header-wrapper">
                <h3 id="x1-5-enabling-the-api-in-third-party-contexts"><bdi class="secno">1.5 </bdi>
                    在第三方上下文中启用 API
                </h3><a class="self-link" href="#enabling-the-api-in-third-party-contexts"
                    aria-label="第 1.5 节的永久链接"></a>
            </div>
            <p data-cite="permissions-policy">
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">默认允许列表</a>中的
                <a data-link-type="dfn|abstract-op" data-type="dfn"
                    href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self">'self'</a> 使 Web Share API
                默认仅在第一方上下文中可用。
            </p>
            <p>
                第三方可以通过
                <code><a data-link-type="element" data-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element">iframe</a></code>
                的
                <code><a data-link-type="element-attr" data-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                属性启用该 API：
            </p>
            <aside class="example" id="example-enabling-the-web-share-api-in-a-third-party-context">
                <div class="marker">
                    <a class="self-link" href="#example-enabling-the-web-share-api-in-a-third-party-context">示例<bdi>
                            6</bdi></a><span class="example-title">：在第三方上下文中启用 Web Share API</span>
                </div>
                <pre aria-busy="false"><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span>
  <span class="hljs-attr">src</span>=<span class="hljs-string">"https://third-party.example"</span>
  <span class="hljs-attr">allow</span>=<span class="hljs-string">"web-share"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span></code></pre>
            </aside>
            <p>
                或者，可以通过指定 HTTP 响应头在第一方上下文中禁用该 API：
            </p>
            <aside class="example" id="example-disabling-web-share-over-api-http-using-permissions-policy">
                <div class="marker">
                    <a class="self-link"
                        href="#example-disabling-web-share-over-api-http-using-permissions-policy">示例<bdi>
                            7</bdi></a><span class="example-title">：通过权限策略使用 API HTTP 禁用 Web Share</span>
                </div>
                <pre class="http" aria-busy="false"><code class="hljs">Permissions-Policy: web-share=()</code></pre>
            </aside>
            <p>
                参见 <cite><a data-matched-text="[[[permissions-policy]]]"
                        href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite> 规范，了解更多详细信息以及如何根据每个来源控制权限策略。
            </p>
        </section>
    </section>
    <section id="api-definition">
        <div class="header-wrapper">
            <h2 id="x2-api-definition"><bdi class="secno">2. </bdi>
                API 定义
            </h2><a class="self-link" href="#api-definition" aria-label="第 2 节的永久链接"></a>
        </div>

        <section data-dfn-for="Navigator" id="extensions-to-the-navigator-interface">
            <div class="header-wrapper">
                <h3 id="x2-1-extensions-to-the-navigator-interface"><bdi class="secno">2.1 </bdi>
                    <code>Navigator</code> 接口的扩展
                </h3><a class="self-link" href="#extensions-to-the-navigator-interface" aria-label="第 2.1 节的永久链接"></a>
            </div>

            <pre class="idl def" id="webidl-1104032107"><span class="idlHeader"><a class="self-link" href="#webidl-1104032107">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlMethod" id="idl-def-navigator-share-data" data-title="share" data-dfn-for="Navigator">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-share" id="ref-for-dom-navigator-share-4"><code>share</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-2"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-navigator-canshare-data" data-title="canShare" data-dfn-for="Navigator">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-canshare" id="ref-for-dom-navigator-canshare-3"><code>canShare</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-3"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span>
    };</span></code></pre>

            <section id="internal-slots">
                <div class="header-wrapper">
                    <h4 id="x2-1-1-internal-slots"><bdi class="secno">2.1.1 </bdi>
                        内部槽
                    </h4><a class="self-link" href="#internal-slots" aria-label="第 2.1.1 节的永久链接"></a>
                </div>

                <p>
                    该 API 向 <a data-link-type="idl" data-lt="Navigator" data-type="interface"
                        href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><code>Navigator</code></a>
                    接口添加了以下内部槽。
                </p>
                <dl>
                    <dt>
                        <a data-link-type="idl" data-lt="Promise" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-promise"><code>Promise</code></a>? <dfn
                            data-idl="" data-dfn-for="Navigator" data-noexport="" data-dfn-type="attribute"
                            id="dfn-sharepromise" tabindex="0" aria-haspopup="dialog">[[sharePromise]]</dfn>
                    </dt>
                    <dd>
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                            data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN"
                            id="ref-for-dfn-sharepromise-1"><code>[[sharePromise]]</code></a> 是一个表示用户当前意图与
                        <a href="#dfn-share-target" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-share-target-1">共享目标</a>共享数据的承诺。它被初始化为 <code>null</code>。
                    </dd>
                </dl>
            </section>

            <aside class="mdn">
                <details>
                    <summary aria-label="展开 MDN 的 share 详细信息"><span>MDN</span><span title="此功能在所有主要引擎中都有。">✅</span>
                    </summary>
                    <a title="Navigator.share() 方法是 Web Share API 的一部分，调用该方法可以通过设备的本机共享机制分享数据，如文本、URL 或文件。可用的共享目标取决于设备，可能包括剪贴板、联系人、电子邮件应用程序、网站、蓝牙等。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/share">Navigator/share</a>
                    <p class="engines-all">此功能在所有主要引擎中都有。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>89+</td>
                        </tr>
                        <tr class="chrome_android yes">
                            <td>Chrome Android</td>
                            <td>61+</td>
                        </tr>
                        <tr class="edge no">
                            <td>Edge</td>
                            <td>不支持</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>?</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>71+</td>
                        </tr>
                        <tr class="firefox_android yes">
                            <td>Firefox Android</td>
                            <td>79+</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>?</td>
                        </tr>
                        <tr class="opera_android yes">
                            <td>Opera Android</td>
                            <td>48+</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>12.1+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>?</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>?</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>不支持</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="share-method">
                <div class="header-wrapper">
                    <h4 id="x2-1-2-share-method"><bdi class="secno">2.1.2 </bdi>
                        <dfn data-export="" data-dfn-type="method" id="dom-navigator-share" data-idl="operation"
                            data-title="share()" data-dfn-for="Navigator" data-type="Promise"
                            data-lt="share()|share(data)" data-local-lt="Navigator.share|Navigator.share()|share"
                            tabindex="0" aria-haspopup="dialog"><code>share()</code></dfn> 方法
                    </h4><a class="self-link" href="#share-method" aria-label="第 2.1.2 节的永久链接"></a>
                </div>

                <p>
                    当 <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                        id="ref-for-dom-navigator-share-5"><code>share</code></a><code>()</code> 方法被传入
                    <var data-type="ShareData">data</var> 参数调用时，执行下列步骤，并考虑以下安全问题。
                </p>
                <p>
                    Web Share 允许网站将数据发送到 <a data-link-type="dfn|abstract-op" href="#dfn-share-target"
                        class="internalDFN" id="ref-for-dfn-share-target-2">共享目标</a>，共享目标可以是本地应用程序。
                    虽然这种功能并不是 Web Share 独有的，但它确实伴随着一些潜在的安全风险，这些风险的严重程度会根据底层平台的不同而有所变化。
                </p>
                <p>
                    传递给 <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                        id="ref-for-dom-navigator-share-6"><code>share</code></a><code>()</code> 的数据可能会被用来利用
                    <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN"
                        id="ref-for-dfn-share-target-3">共享目标</a>中的缓冲区溢出或其他远程代码执行漏洞，接收共享内容时存在风险。虽然无法通用防护此类风险，
                    但实现者需要意识到这种可能性（特别是共享文件时）。
                </p>
                <p>
                    <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN"
                        id="ref-for-dfn-share-target-4">共享目标</a>可能会取消引用共享的 URL 并转发该信息，
                    这可能会意外地转发本应保密的信息。如果共享的内容是仅对该应用程序、主机或其网络位置可访问的内容，这可能会导致意外的信息泄露。
                </p>
                <p>
                    恶意站点可能会通过提供最终解析为本地资源的 URL（如 "file:" URL 或本地服务）来利用信息泄露的共享目标，
                    这些资源可能是其他方式无法访问的。尽管该 API 将共享的 URL 限制在一组受限的
                    <a data-link-type="dfn|abstract-op" href="#dfn-sharable-scheme" class="internalDFN"
                        id="ref-for-dfn-sharable-scheme-1">可共享方案</a>内，但使用重定向或 DNS 记录的修改可能会导致应用程序获取内容。
                </p>
                <p>
                    为避免被用于这些攻击，共享目标可以处理 URL，并在不共享信息的情况下检索并处理内容。例如，照片编辑应用程序可能会检索共享的图像。
                    共享目标也可以仅共享 URL，而不获取任何引用的内容。
                </p>
                <p>
                    为预览或共享内容而获取内容的共享目标存在信息泄露的风险。预览并经用户授权的内容可能是安全的，但用户不一定总能识别出哪些信息应保密，
                    因此转发任何内容都存在风险。特别是，攻击者可能会利用 <a data-link-type="idl" href="#dom-sharedata-title" class="internalDFN"
                        id="ref-for-dom-sharedata-title-1"><code>title</code></a> 来诱骗用户误解内容的性质（另见
                    <a href="#a11y" data-matched-text="[[[#a11y]]]" class="sec-ref"><bdi class="secno">5. </bdi>
                        可访问性注意事项</a>）。
                </p>
                <p>
                    与使用 <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                        href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> 一样，
                    实现者需要仔细考虑在 <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                        id="ref-for-dom-navigator-share-7"><code>share</code></a><code>()</code> 被拒绝时错误消息泄露了哪些信息。
                    即便只是区分没有可用的 <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN"
                        id="ref-for-dfn-share-target-5">共享目标</a>与用户取消操作的情况，也可能会透露有关用户设备上安装了哪些共享目标的信息。
                </p>
                <ol class="algorithm">
                    <li>令 <var data-type="Window">global</var> 为 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a> 的
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>。
                    </li>
                    <li>令 <var data-type="Document">document</var> 为 <var data-type="Window">global</var> 的
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联的
                            <code>Document</code></a>。
                    </li>
                    <li>如果 <var data-type="Document">document</var> 未
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全活动</a>，
                        则返回 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的承诺</a>，
                        错误类型为
                        <a data-link-type="idl" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                    </li>
                    <li>如果 <var data-type="Document">document</var> 无法
                        <a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">使用
                        </a> <a href="#dfn-web-share" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-web-share-1"><code>"web-share"</code></a>，
                        则返回 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的承诺</a>，
                        错误类型为
                        <a data-link-type="idl" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                    </li>
                    <li>如果 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                            data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN"
                            id="ref-for-dfn-sharepromise-2"><code>[[sharePromise]]</code></a> 不为 <code>null</code>，
                        则返回 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的承诺</a>，
                        错误类型为
                        <a data-link-type="idl" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                    </li>
                    <li>如果 <var data-type="Window">global</var> 没有
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation">瞬态激活</a>，
                        则返回 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的承诺</a>，
                        错误类型为
                        <a data-link-type="idl" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                    </li>
                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation">消耗</a>
                        <var data-type="Window">global</var> 的用户激活。
                    </li>
                    <li>令 <var data-type="URL">base</var> 为 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a> 的
                        <a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">相关设置对象</a>的
                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url">API 基础 URL</a>。
                    </li>
                    <li>如果使用 <var data-type="ShareData">data</var> 和 <var data-type="URL">base</var>
                        进行 <a data-link-type="dfn|abstract-op" href="#dfn-validate-share-data" class="internalDFN"
                            id="ref-for-dfn-validate-share-data-2">共享数据验证</a> 返回 false，
                        则返回 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的承诺</a>，
                        错误类型为
                        <a data-link-type="idl" data-lt="TypeError" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>。
                    </li>
                    <li>如果 <var data-type="ShareData">data</var> 的
                        <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN"
                            id="ref-for-dom-sharedata-url-2"><code>url</code></a> 成员存在：
                        <ol>
                            <li>将 <var data-type="URL">url</var> 设为对 <var data-type="ShareData">data</var> 的
                                <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN"
                                    id="ref-for-dom-sharedata-url-3"><code>url</code></a> 进行
                                <a data-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser">URL 解析器</a>
                                的结果，
                                使用 <var data-type="URL">base</var>。
                            </li>
                            <li class="assert"><a href="https://infra.spec.whatwg.org/#assert">断言</a>：
                                <var data-type="URL">url</var> 是
                                <a data-link-type="idl" data-lt="URL" data-type="interface"
                                    href="https://url.spec.whatwg.org/#url"><code>URL</code></a>。
                            </li>
                            <li>将 <var data-type="ShareData">data</var> 设置为 <var data-type="ShareData">data</var> 的副本，
                                其 <a data-link-type="idl" href="#dom-sharedata-url" class="internalDFN"
                                    id="ref-for-dom-sharedata-url-4"><code>url</code></a> 成员设置为
                                对 <var data-type="URL">url</var> 执行 <a data-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-serializer">URL 序列化器</a> 的结果。
                            </li>
                        </ol>
                    </li>
                    <li>如果由于安全原因阻止了某个文件类型，
                        则返回 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with">一个被拒绝的承诺</a>，
                        错误类型为
                        <a data-link-type="idl" data-type="exception"
                            href="https://webidl.spec.whatwg.org/#notallowederror"><code>NotAllowedError</code></a>
                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                    </li>
                    <li>将 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                            data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN"
                            id="ref-for-dfn-sharepromise-3"><code>[[sharePromise]]</code></a> 设置为
                        <a data-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">一个新的承诺</a>。
                    </li>
                    <li>返回 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute"
                            data-lt="[[sharePromise]]" href="#dfn-sharepromise" class="internalDFN"
                            id="ref-for-dfn-sharepromise-4"><code>[[sharePromise]]</code></a>，
                        并 <a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">并行</a>地：
                        <ol>
                            <li>如果没有可用的 <a href="#dfn-share-target" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-share-target-6">共享目标</a>，
                                则使用 <var data-type="Window">global</var>
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在用户交互任务源上
                                    排队一个全局任务</a>：
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject">拒绝</a>
                                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-5"><code>[[sharePromise]]</code></a>，
                                        错误类型为
                                        <a data-link-type="idl" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>
                                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                                    </li>
                                    <li>将 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-6"><code>[[sharePromise]]</code></a>
                                        设置为 <code>null</code>。
                                    </li>
                                    <li>终止此算法。
                                    </li>
                                </ol>
                            </li>
                            <li>向用户展示一个或多个 <a href="#dfn-share-target" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-share-target-7">共享目标</a> 和中止操作的选项。此界面作为一个安全确认步骤，
                                确保网站无法静默地将数据发送到本地应用程序。用户代理
                                <em class="rfc2119">应该</em> 显示中间界面，用户可以通过该界面验证共享的内容（如果操作系统级别的界面不提供此功能）。
                            </li>
                            <li>等待用户的选择。
                            </li>
                            <li>如果用户选择中止共享操作，使用 <var data-type="Window">global</var>
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在用户交互任务源上
                                    排队一个全局任务</a>：
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject">拒绝</a>
                                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-7"><code>[[sharePromise]]</code></a>，
                                        错误类型为
                                        <a data-link-type="idl" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>
                                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>，
                                    </li>
                                    <li>将 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-8"><code>[[sharePromise]]</code></a>
                                        设置为 <code>null</code>。
                                    </li>
                                    <li>终止此算法。
                                    </li>
                                </ol>
                            </li>
                            <li>激活所选的 <a href="#dfn-share-target" class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-share-target-8">共享目标</a>，
                                <a href="#dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target"
                                    class="internalDFN" data-link-type="dfn"
                                    id="ref-for-dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target-1">将
                                    <var data-type="ShareData">data</var> 转换为适合目标使用的格式</a>，
                                并将转换后的数据传输到目标。
                            </li>
                            <li>如果在启动目标或传输数据时发生错误，使用 <var data-type="Window">global</var>
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在用户交互任务源上
                                    排队一个全局任务</a>：
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject">拒绝</a>
                                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-9"><code>[[sharePromise]]</code></a>，
                                        错误类型为
                                        <a data-link-type="idl" data-type="exception"
                                            href="https://webidl.spec.whatwg.org/#dataerror"><code>DataError</code></a>
                                        <a data-link-type="idl" data-lt="DOMException" data-type="interface"
                                            href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>。
                                    </li>
                                    <li>将 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-10"><code>[[sharePromise]]</code></a>
                                        设置为 <code>null</code>。
                                    </li>
                                    <li>终止此算法。
                                    </li>
                                </ol>
                            </li>
                            <li>一旦数据成功传输到 <a data-link-type="dfn|abstract-op" href="#dfn-share-target"
                                    class="internalDFN" id="ref-for-dfn-share-target-9">共享目标</a>，
                                或成功传输到操作系统（如果无法确认传输到
                                <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN"
                                    id="ref-for-dfn-share-target-10">共享目标</a>），
                                使用 <var data-type="Window">global</var>
                                <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">在用户交互任务源上
                                    排队一个全局任务</a>：
                                <div class="note" role="note" id="issue-container-generatedID">
                                    <div role="heading" class="note-title marker" id="h-note" aria-level="5">
                                        <span>注</span>
                                    </div>
                                    <aside class="">
                                        一旦共享目标接收到负载，共享即被视为成功。如果目标认为数据不可接受或发生错误，
                                        它可以优雅地恢复，或向最终用户显示错误消息；它不能依赖发送方处理错误。
                                        换句话说，<a data-link-type="idl" data-lt="share()" href="#dom-navigator-share"
                                            class="internalDFN"
                                            id="ref-for-dom-navigator-share-8"><code>share</code></a><code>()</code> 方法是
                                        "即发即弃" 的，它不会等待目标批准或拒绝负载。
                                    </aside>
                                </div>
                                <ol>
                                    <li><a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#resolve">解决</a>
                                        <a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-11"><code>[[sharePromise]]</code></a>
                                        并返回 <code>undefined</code>。
                                    </li>
                                    <li>将 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this">this</a>.<a
                                            data-link-type="attribute" data-lt="[[sharePromise]]"
                                            href="#dfn-sharepromise" class="internalDFN"
                                            id="ref-for-dfn-sharepromise-12"><code>[[sharePromise]]</code></a>
                                        设置为 <code>null</code>。
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                </ol>
            </section>
            <aside class="mdn">
                <details>
                    <summary aria-label="展开 MDN 详情以查看 canShare"><span>MDN</span><span title="此功能适用于所有主要浏览器引擎。">✅</span>
                    </summary>
                    <a title="Web Share API 中的 Navigator.canShare() 方法，如果调用 navigator.share() 可以成功，则返回 true。"
                        href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/canShare">Navigator/canShare</a>
                    <p class="engines-all">此功能适用于所有主要浏览器引擎。</p>
                    <table>
                        <tr class="chrome yes">
                            <td>Chrome</td>
                            <td>89+</td>
                        </tr>
                        <tr class="chrome_android yes">
                            <td>Chrome Android</td>
                            <td>75+</td>
                        </tr>
                        <tr class="edge no">
                            <td>Edge</td>
                            <td>不支持</td>
                        </tr>
                        <tr class="edge_mobile unknown">
                            <td>Edge Mobile</td>
                            <td>未知</td>
                        </tr>
                        <tr class="firefox yes">
                            <td>Firefox</td>
                            <td>96+</td>
                        </tr>
                        <tr class="firefox_android yes">
                            <td>Firefox Android</td>
                            <td>96+</td>
                        </tr>
                        <tr class="opera unknown">
                            <td>Opera</td>
                            <td>未知</td>
                        </tr>
                        <tr class="opera_android unknown">
                            <td>Opera Android</td>
                            <td>未知</td>
                        </tr>
                        <tr class="safari yes">
                            <td>Safari</td>
                            <td>14+</td>
                        </tr>
                        <tr class="safari_ios unknown">
                            <td>Safari iOS</td>
                            <td>未知</td>
                        </tr>
                        <tr class="samsunginternet_android unknown">
                            <td>Samsung Internet</td>
                            <td>未知</td>
                        </tr>
                        <tr class="webview_android no">
                            <td>WebView Android</td>
                            <td>不支持</td>
                        </tr>
                    </table>
                </details>
            </aside>
            <section id="canshare-data-method">
                <div class="header-wrapper">
                    <h4 id="x2-1-3-canshare-data-method"><bdi class="secno">2.1.3 </bdi>
                        <code>canShare(data)</code> 方法
                    </h4><a class="self-link" href="#canshare-data-method" aria-label="本节的永久链接 2.1.3"></a>
                </div>

                <p>
                    当带有 <var data-type="ShareData">data</var> 参数调用 <dfn data-export="" data-dfn-type="method"
                        id="dom-navigator-canshare" data-idl="operation" data-title="canShare()"
                        data-dfn-for="Navigator" data-type="boolean" data-lt="canShare()|canShare(data)"
                        data-local-lt="Navigator.canShare|Navigator.canShare()|canShare" tabindex="0"
                        aria-haspopup="dialog"><code>canShare()</code></dfn> 方法时，执行以下步骤：
                </p>
                <ol class="algorithm">
                    <li>将 <var data-type="Document">document</var> 设为 <a data-link-type="dfn|abstract-op"
                            data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> 的 <a
                            data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">相关全局对象</a>
                        的 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">关联
                            <code>Document</code></a>。
                    </li>
                    <li>如果 <var data-type="Document">document</var> 不是 <a data-link-type="dfn|abstract-op"
                            data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active">完全活跃</a>，返回
                        false。
                    </li>
                    <li>如果 <var data-type="Document">document</var> 没有被<a data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">允许使用</a>
                        <a href="#dfn-web-share" class="internalDFN" data-link-type="dfn"
                            id="ref-for-dfn-web-share-2"><code>"web-share"</code></a>，返回 false。
                    </li>
                    <li>返回 <a data-link-type="dfn|abstract-op" href="#dfn-validate-share-data" class="internalDFN"
                            id="ref-for-dfn-validate-share-data-3">验证共享数据</a>的结果，
                        传入 <var data-type="ShareData">data</var> 和 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this">this</a> 的 <a data-link-type="dfn|abstract-op"
                            data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object">相关设置对象</a>
                        的 <a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url">API 基本 URL</a>。
                    </li>
                </ol>
                <div class="note" role="note" id="issue-container-generatedID-0">
                    <div role="heading" class="note-title marker" id="h-note-0" aria-level="5"><span>注意</span><span
                            class="issue-label">：canShare() 不具备未来兼容性</span></div>
                    <aside class="">
                        <p>
                            Web Share API 的 <code>canShare()</code> 方法在使用包含 <code>ShareData</code>
                            字典中未定义的成员的对象时，可能返回错误的正面结果。由于 WebIDL 的工作机制，浏览器会从输入对象中删除未知成员，并在测试其余成员时返回
                            <code>true</code>。此行为不具备未来兼容性。
                        </p>
                        <p>
                            为了确保共享性测试的可靠性，开发者可以仅使用 <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata"
                                class="internalDFN" id="ref-for-dom-sharedata-5"><code>ShareData</code></a>
                            字典中定义的成员构造输入对象。如果对象包含其他成员，应将其解构，以便仅测试定义的成员。
                        </p>
                        <p>
                            尽管这目前不会影响任何实现，工作组将在未来修订规范时努力解决这个问题，尤其是在我们对 <code>ShareData</code> 字典进行任何修改时。要为解决此问题提出想法，请参阅
                            GitHub 上的<a href="https://github.com/w3c/web-share/issues/108">问题 #108</a>。
                        </p>
                    </aside>
                </div>
            </section>
            <section id="validate-share-data">
                <div class="header-wrapper">
                    <h4 id="x2-1-4-validate-share-data"><bdi class="secno">2.1.4 </bdi>
                        验证共享数据
                    </h4><a class="self-link" href="#validate-share-data" aria-label="本节的永久链接 2.1.4"></a>
                </div>

                <p>
                    <dfn data-plurals="sharable schemes" id="dfn-sharable-scheme" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">可共享的协议</dfn> 是以下任何 <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://url.spec.whatwg.org/#concept-url">URL</a> 的
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://url.spec.whatwg.org/#concept-url-scheme">协议</a>：
                </p>
                <ul>
                    <li><code>http</code>
                    </li>
                    <li><code>https</code>
                    </li>
                    <li>任何用户代理支持共享的<a data-link-type="dfn|abstract-op" data-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/system-state.html#safelisted-scheme">安全协议</a>。
                    </li>
                </ul>
                <p>
                    要用 <var data-type="ShareData">data</var> 和 <var data-type="URL">base</var> 来 <dfn
                        id="dfn-validate-share-data" tabindex="0" aria-haspopup="dialog"
                        data-dfn-type="dfn">验证共享数据</dfn>，请执行以下步骤：
                </p>
                <ol class="algorithm">
                    <li>如果 <var data-type="ShareData">data</var> 的成员 <a data-link-type="idl" href="#dom-sharedata-title"
                            class="internalDFN" id="ref-for-dom-sharedata-title-2"><code>title</code></a>、
                        <a data-link-type="idl" href="#dom-sharedata-text" class="internalDFN"
                            id="ref-for-dom-sharedata-text-1"><code>text</code></a>、<a data-link-type="idl"
                            href="#dom-sharedata-url" class="internalDFN"
                            id="ref-for-dom-sharedata-url-5"><code>url</code></a> 或 <a data-link-type="idl"
                            href="#dom-sharedata-files" class="internalDFN"
                            id="ref-for-dom-sharedata-files-2"><code>files</code></a> 均不存在，返回 false。
                    </li>
                    <li>如果 <a data-link-type="idl" href="#dom-sharedata-title" class="internalDFN"
                            id="ref-for-dom-sharedata-title-3"><code>title</code></a>、<a data-link-type="idl"
                            href="#dom-sharedata-text" class="internalDFN"
                            id="ref-for-dom-sharedata-text-2"><code>text</code></a> 或 <a data-link-type="idl"
                            href="#dom-sharedata-url" class="internalDFN"
                            id="ref-for-dom-sharedata-url-6"><code>url</code></a> 中的任意一个存在，将 <var
                            data-type="boolean">titleTextOrUrl</var> 设为 true。
                    </li>
                    <li>如果 <var data-type="ShareData">data</var> 的 <a data-link-type="idl" href="#dom-sharedata-files"
                            class="internalDFN" id="ref-for-dom-sharedata-files-3"><code>files</code></a> 成员存在：
                        <ol>
                            <li>如果 <var data-type="boolean">titleTextOrUrl</var> 为 false，且 <var
                                    data-type="ShareData">data</var> 的
                                <a data-link-type="idl" href="#dom-sharedata-files" class="internalDFN"
                                    id="ref-for-dom-sharedata-files-4"><code>files</code></a> 成员为空，返回
                                false。
                                <div class="note" role="note" id="issue-container-generatedID-1">
                                    <div role="heading" class="note-title marker" id="h-note-1" aria-level="5">
                                        <span>注意</span>
                                    </div>
                                    <p class="">
                                        这将导致 <code>{ files: [] }</code> 字典被视为一个空字典。然而，传递像
                                        <code>{text: "text", files: []}</code> 这样的字典是可以的，因为 <code>files</code> 只是被忽略。
                                    </p>
                                </div>
                            </li>
                            <li>如果实现不支持文件共享，返回 false。
                            </li>
                            <li>如果用户代理认为共享 <code>files</code> 中的任何文件会导致潜在的恶意共享（例如，用户代理确定某个文件由于其内容、大小或其他特征是恶意的），返回 false。
                            </li>
                        </ol>
                    </li>
                    <li>如果 <var data-type="ShareData">data</var> 的 <a data-link-type="idl" href="#dom-sharedata-url"
                            class="internalDFN" id="ref-for-dom-sharedata-url-7"><code>url</code></a> 成员存在：
                        <ol>
                            <li>运行 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-parser">URL 解析器</a>，解析 <var
                                    data-type="ShareData">data</var> 的 <a data-link-type="idl" href="#dom-sharedata-url"
                                    class="internalDFN" id="ref-for-dom-sharedata-url-8"><code>url</code></a> 成员，传入 <var
                                    data-type="URL">base</var>，不进行编码覆盖。
                            </li>
                            <li>如果 <var data-type="URL">url</var> 解析失败，返回 false。
                            </li>
                            <li>如果 <var data-type="URL">url</var> 的 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-scheme">协议</a> 是 <a
                                    data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://fetch.spec.whatwg.org/#local-scheme">本地协议</a>，或是
                                <code>file</code>、<code>javascript</code>、<code>ws</code> 或 <code>wss</code>，返回 false。
                            </li>
                            <li>如果 <var data-type="URL">url</var> 的 <a data-link-type="dfn|abstract-op" data-type="dfn"
                                    href="https://url.spec.whatwg.org/#concept-url-scheme">协议</a> 不是 <a
                                    data-link-type="dfn|abstract-op" href="#dfn-sharable-scheme" class="internalDFN"
                                    id="ref-for-dfn-sharable-scheme-2">可共享的协议</a>，返回 false。
                            </li>
                        </ol>
                    </li>
                    <li>返回 true。
                    </li>
                </ol>
            </section>
        </section>
        <section id="sharedata-dictionary">
            <div class="header-wrapper">
                <h3 id="x2-2-sharedata-dictionary"><bdi class="secno">2.2 </bdi>
                    <code>ShareData</code> 字典
                </h3><a class="self-link" href="#sharedata-dictionary" aria-label="本节的永久链接 2.2"></a>
            </div>

            <pre class="idl def" id="webidl-800335275"><span class="idlHeader"><a class="self-link" href="#webidl-800335275">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-sharedata" data-title="ShareData">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-sharedata" id="ref-for-dom-sharedata-6"><code>ShareData</code></a> {<span data-idl="" class="idlMember" id="idl-def-sharedata-files" data-title="files" data-dfn-for="ShareData"><span class="idlType">
      <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" data-type="interface" href="https://www.w3.org/TR/FileAPI/#dfn-file">File</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-files" id="ref-for-dom-sharedata-files-5"><code>files</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-sharedata-title" data-title="title" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-title" id="ref-for-dom-sharedata-title-4"><code>title</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-sharedata-text" data-title="text" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-text" id="ref-for-dom-sharedata-text-3"><code>text</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-sharedata-url" data-title="url" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-url" id="ref-for-dom-sharedata-url-9"><code>url</code></a>;</span>
    };</span></code></pre>
            <p>
                <dfn data-export="" data-dfn-type="dictionary" id="dom-sharedata" data-idl="dictionary"
                    data-title="ShareData" data-dfn-for="" tabindex="0"
                    aria-haspopup="dialog"><code>ShareData</code></dfn> 字典包含若干可选成员：
            </p>
            <dl data-sort="">
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-files" data-idl="field"
                        data-title="files" data-dfn-for="ShareData" data-type="sequence" tabindex="0"
                        aria-haspopup="dialog"><code>files</code></dfn> 成员
                </dt>
                <dd>
                    要共享的文件。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-text" data-idl="field"
                        data-title="text" data-dfn-for="ShareData" data-type="USVString" tabindex="0"
                        aria-haspopup="dialog"><code>text</code></dfn> 成员
                </dt>
                <dd>
                    构成共享消息主体的任意文本。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-title" data-idl="field"
                        data-title="title" data-dfn-for="ShareData" data-type="USVString" tabindex="0"
                        aria-haspopup="dialog"><code>title</code></dfn> 成员
                </dt>
                <dd>
                    被共享文档的标题，可能会被目标忽略。
                </dd>
                <dt>
                    <dfn data-export="" data-dfn-type="dict-member" id="dom-sharedata-url" data-idl="field"
                        data-title="url" data-dfn-for="ShareData" data-type="USVString" tabindex="0"
                        aria-haspopup="dialog"><code>url</code></dfn> 成员
                </dt>
                <dd>
                    指向被共享资源的 URL 字符串。
                </dd>
            </dl>
            <div class="note" role="note" id="issue-container-generatedID-2">
                <div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>注意</span></div>
                <aside class="" data-cite="encoding">
                    这些成员是 <a data-link-type="idl" data-lt="USVString" data-type="interface"
                        href="https://webidl.spec.whatwg.org/#idl-USVString"><code>USVString</code></a>（而不是
                    <a data-link-type="idl" data-lt="DOMString" data-type="interface"
                        href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>），
                    因为它们不允许包含代理代码点。这意味着用户代理可以将它们序列化为任何 Unicode 编码，例如
                    <a data-link-type="dfn|abstract-op" data-type="dfn"
                        href="https://encoding.spec.whatwg.org/#utf-8">UTF-8</a>，不会丢失数据或生成替代字符。
                </aside>
            </div>
        </section>
    </section>
    <section id="share-targets">
        <div class="header-wrapper">
            <h2 id="x3-share-targets"><bdi class="secno">3. </bdi>
                共享目标
            </h2><a class="self-link" href="#share-targets" aria-label="本节的永久链接 3."></a>
        </div>

        <p>
            <dfn data-export="" data-plurals="share targets" id="dfn-share-target" tabindex="0" aria-haspopup="dialog"
                data-dfn-type="dfn">共享目标</dfn> 是一个抽象概念，指的是用户代理将共享数据传输到的目标。具体什么构成共享目标由用户代理自行决定。
        </p>
        <p>
            共享目标可能无法直接接受 <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN"
                id="ref-for-dom-sharedata-7"><code>ShareData</code></a>
            （因为它没有针对该 API 进行编写）。然而，它 <em class="rfc2119">必须</em> 能够接收与
            <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN"
                id="ref-for-dom-sharedata-8"><code>ShareData</code></a> 中某些或所有概念相匹配的数据。为了
            <dfn id="dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target" tabindex="0"
                aria-haspopup="dialog" data-dfn-type="dfn">将数据转换为适合目标接收的格式</dfn>，用户代理
            <em class="rfc2119">应</em> 将 <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata"
                class="internalDFN" id="ref-for-dom-sharedata-9"><code>ShareData</code></a>
            的成员映射到目标中的等效概念。如果有必要，它 <em class="rfc2119">可以</em> 丢弃或组合成员。每个成员的意义由共享目标自行决定。
        </p>
        <div class="note" role="note" id="issue-container-generatedID-3">
            <div role="heading" class="note-title marker" id="h-note-3" aria-level="3"><span>注意</span></div>
            <div class="">
                将 <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN"
                    id="ref-for-dom-sharedata-10"><code>ShareData</code></a>
                映射到共享目标（或操作系统）的本机格式可能会很复杂，因为某些平台可能没有等效的成员。例如，如果目标有一个“text”成员而没有“URL”成员（如在 Android 上的情况），一种解决方案是将
                <a data-link-type="idl" href="#dom-sharedata-text" class="internalDFN"
                    id="ref-for-dom-sharedata-text-4"><code>text</code></a> 和 <a data-link-type="idl"
                    href="#dom-sharedata-url" class="internalDFN" id="ref-for-dom-sharedata-url-10"><code>url</code></a>
                两个成员连接起来，并将结果传递到目标的“text”成员中。
            </div>
        </div>
        <p>
            每个共享目标 <em class="rfc2119">可以</em> 根据传递到 <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata"
                class="internalDFN" id="ref-for-dom-sharedata-12"><code>ShareData</code></a> 的负载有条件地可用。
        </p>
        <section class="informative" id="examples-of-share-targets">
            <div class="header-wrapper">
                <h3 id="x3-1-examples-of-share-targets"><bdi class="secno">3.1 </bdi>
                    共享目标示例
                </h3><a class="self-link" href="#examples-of-share-targets" aria-label="本节的永久链接 3.1"></a>
            </div>
            <p><em>本节是非规范性的。</em></p>

            <p>
                共享目标列表可以从多种来源填充，具体取决于用户代理和主机操作系统。例如：
            </p>
            <ul>
                <li>内置服务（例如“复制到剪贴板”）。
                </li>
                <li>为主机操作系统编写的本机应用程序。
                </li>
                <li>联系人（例如，用户代理直接使用特定应用程序从用户的通讯录中与某人共享）。
                </li>
                <li>网站（例如，用户代理使用 <a data-link-type="idl" data-lt="ShareData" href="#dom-sharedata" class="internalDFN"
                        id="ref-for-dom-sharedata-13"><code>ShareData</code></a> 的成员填充模板 URL，然后在新的浏览上下文中导航到该 URL）。
                </li>
            </ul>
            <div class="note" role="note" id="issue-container-generatedID-4">
                <div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>注意</span></div>
                <div class="">
                    对于最后一种用例，正在尝试标准化接收共享数据的网站注册；请参见 <a href="https://github.com/w3c/web-share-target">Web Share
                        Target</a>。
                </div>
            </div>
            <p>
                在某些情况下，主机操作系统将提供类似于 Web Share 的共享或意图系统。在这些情况下，用户代理可以简单地将共享数据转发到操作系统，而不直接与本机应用程序对话。
            </p>
        </section>
    </section>
    <aside class="mdn">
        <details>
            <summary aria-label="展开 MDN 详细信息以了解 web-share"><span>MDN</span><span title="此功能支持有限。">🚫</span></summary>
            <a title="HTTP Permissions-Policy 标头中的 web-share 指令控制当前文档是否被允许使用 Web Share API 的 Navigator.share() 方法来将文本、链接、图片等内容分享至用户选择的任意目标。"
                href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/web-share">Headers/Feature-Policy/web-share</a>
            <p class="engines-some">此功能支持有限。</p>
            <table>
                <tr class="chrome no">
                    <td>Chrome</td>
                    <td>不支持</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>未知</td>
                </tr>
                <tr class="edge unknown">
                    <td>Edge</td>
                    <td>未知</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>未知</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>81+</td>
                </tr>
                <tr class="firefox_android yes">
                    <td>Firefox Android</td>
                    <td>81+</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>未知</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>未知</td>
                </tr>
                <tr class="safari no">
                    <td>Safari</td>
                    <td>不支持</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>未知</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>未知</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>未知</td>
                </tr>
            </table>
        </details>
        <details>
            <summary aria-label="展开 MDN 详细信息以了解 web-share"><span>MDN</span><span title="此功能支持有限。">🚫</span></summary>
            <a title="HTTP Permissions-Policy 标头中的 web-share 指令控制当前文档是否被允许使用 Web Share API 的 Navigator.share() 方法来将文本、链接、图片等内容分享至用户选择的任意目标。"
                href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Permissions-Policy/web-share">Headers/Permissions-Policy/web-share</a>
            <p class="engines-some">此功能支持有限。</p>
            <table>
                <tr class="chrome unknown">
                    <td>Chrome</td>
                    <td>未知</td>
                </tr>
                <tr class="chrome_android unknown">
                    <td>Chrome Android</td>
                    <td>未知</td>
                </tr>
                <tr class="edge unknown">
                    <td>Edge</td>
                    <td>未知</td>
                </tr>
                <tr class="edge_mobile unknown">
                    <td>Edge Mobile</td>
                    <td>未知</td>
                </tr>
                <tr class="firefox yes">
                    <td>Firefox</td>
                    <td>81+</td>
                </tr>
                <tr class="firefox_android yes">
                    <td>Firefox Android</td>
                    <td>81+</td>
                </tr>
                <tr class="opera unknown">
                    <td>Opera</td>
                    <td>未知</td>
                </tr>
                <tr class="opera_android unknown">
                    <td>Opera Android</td>
                    <td>未知</td>
                </tr>
                <tr class="safari no">
                    <td>Safari</td>
                    <td>不支持</td>
                </tr>
                <tr class="safari_ios unknown">
                    <td>Safari iOS</td>
                    <td>未知</td>
                </tr>
                <tr class="samsunginternet_android unknown">
                    <td>Samsung Internet</td>
                    <td>未知</td>
                </tr>
                <tr class="webview_android unknown">
                    <td>WebView Android</td>
                    <td>未知</td>
                </tr>
            </table>
        </details>
    </aside>
    <section id="permissions-policy" data-cite="permissions-policy">
        <div class="header-wrapper">
            <h2 id="x4-permissions-policy-integration"><bdi class="secno">4. </bdi>
                权限策略集成
            </h2><a class="self-link" href="#permissions-policy" aria-label="第 4 节的固定链接"></a>
        </div>

        <p>
            本规范定义了一个由字符串
            <code><dfn class="permission" data-dfn-type="permission" id="dfn-web-share" tabindex="0" aria-haspopup="dialog" data-export="">"web-share"</dfn></code>
            标识的受策略控制的权限。
            其
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">默认允许列表</a>
            是 <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://www.w3.org/TR/permissions-policy-1/#default-allowlist-self">'self'</a>，这意味着第三方上下文默认不
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">被允许使用</a>
            该 API。
        </p>
        <p>
            用户代理是否支持 <cite><a data-matched-text="[[[PERMISSIONS-POLICY]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite> 中的
            <code>Permissions-Policy</code> HTTP 标头是 <em class="rfc2119">可选</em> 的。
        </p>
        <p>
            开发者可以使用 <cite><a data-matched-text="[[[permissions-policy]]]"
                    href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite>
            规范提供的手段来控制第三方上下文是否和何时
            <a data-link-type="dfn|abstract-op" data-type="dfn"
                href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">被允许使用</a>
            此 API。
        </p>
        <div class="note" role="note" id="issue-container-generatedID-5">
            <div role="heading" class="note-title marker" id="h-note-5" aria-level="3"><span>注意</span><span
                    class="issue-label">：权限策略的实现状态</span></div>
            <aside class="">
                <p>
                    尽管用户代理一致阻止 Web Share API 在第三方上下文中使用，但在本文发布时，依赖
                    <cite><a data-matched-text="[[[Permissions-Policy]]]"
                            href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite> 启用第三方上下文中的 API 存在互操作性问题。
                    特别是，尽管
                    <code><a data-link-type="element-attr" data-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                    属性得到了广泛支持，但
                    <code><a data-link-type="element-attr" data-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow">allow</a></code>
                    属性的更新语法并不广泛支持。同样，<code>Permissions-Policy:</code> HTTP 标头尚未得到广泛支持。开发者被建议在依赖
                    <cite><a data-matched-text="[[[Permissions-Policy]]]"
                            href="https://www.w3.org/TR/permissions-policy-1/">权限策略</a></cite>
                    规范来启用第三方上下文中的 Web Share API 之前，检查其实现状态。
                </p>
                <p>
                    当 <code>Permissions-Policy</code> HTTP 标头得到更广泛的支持时，工作组预计将修订本规范，以要求支持该标头。
                </p>
            </aside>
        </div>
    </section>
    <section class="informative" id="a11y">
        <div class="header-wrapper">
            <h2 id="x5-accessibility-considerations"><bdi class="secno">5. </bdi>
                无障碍性考虑
            </h2><a class="self-link" href="#a11y" aria-label="第 5 节的固定链接"></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <p>
            当本规范用于在用户界面中展示信息时，开发人员应遵循平台的操作系统级别无障碍指南。此外，鉴于共享可能对终端用户产生潜在的安全影响（如
            <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                id="ref-for-dom-navigator-share-10"><code>share</code></a><code>()</code> 方法中所述），共享 UI
            需要以无障碍的方式呈现，同时也要考虑平台的用户界面安全指南。一些关键的考虑因素包括：
        </p>
        <ul>
            <li>为图像和其他非文本内容提供替代文本，以确保视障用户能够理解所共享内容的类型和/或性质。
            </li>
            <li>确保用户能够仅使用键盘控制来浏览预览的内容，并且键盘焦点清晰可见。
            </li>
            <li>使用标题和标签确保预览的内容结构合理，并且可以被使用辅助技术的用户理解。
            </li>
            <li>确保在共享 UI 中有足够的颜色对比度和字体大小，并使用广泛认可且易于理解的字体、图标和图像。
            </li>
        </ul>
        <p>
            这些元素的结合可以帮助具有视觉、运动或认知障碍的用户更好地理解网页所共享内容的性质。
        </p>
    </section>
    <section id="privacy-considerations">
        <div class="header-wrapper">
            <h2 id="x6-privacy-considerations"><bdi class="secno">6. </bdi>
                隐私考虑
            </h2><a class="self-link" href="#privacy-considerations" aria-label="第 6 节的固定链接"></a>
        </div>

        <ul>
            <li>该 API 设计使网站无法了解哪些
                <a data-link-type="dfn|abstract-op" href="#dfn-share-target" class="internalDFN"
                    id="ref-for-dfn-share-target-11">共享目标</a> 可用，也无法获知用户从
                <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                    id="ref-for-dom-navigator-share-11"><code>share</code></a><code>()</code>
                方法中选择了哪个共享目标。此设计是为了防止泄露信息，这些信息可能被用于指纹识别或泄露用户设备或用户偏好的共享目标的详细信息。
            </li>
            <li>在
                <a data-link-type="idl" data-lt="share()" href="#dom-navigator-share" class="internalDFN"
                    id="ref-for-dom-navigator-share-12"><code>share</code></a><code>()</code> 方法从
                <a
                    href="https://en.wikipedia.org/wiki/Privacy_mode">隐私浏览模式</a>中使用时，可能会将私人数据泄露给不尊重用户隐私设置的第三方应用程序。用户代理可以展示额外的警告，或
                <em class="rfc2119">MAY</em> 在隐私浏览模式下完全禁用该功能，但这不是强制的，因为选择器 UI 可能已被认为足够警示。
            </li>
        </ul>
    </section>
    <section id="conformance">
        <div class="header-wrapper">
            <h2 id="x7-conformance"><bdi class="secno">7. </bdi>一致性</h2><a class="self-link" href="#conformance"
                aria-label="第 7 节的固定链接"></a>
        </div>
        <p>除了标记为非规范性的部分外，本规范中的所有编写指南、图表、示例和注释均为非规范性内容。除此之外，本规范中的所有内容均为规范性内容。</p>
        <p>
            本文件中的关键词 <em class="rfc2119">MAY</em>、<em class="rfc2119">MUST</em>、<em class="rfc2119">OPTIONAL</em> 和 <em
                class="rfc2119">SHOULD</em> 应按照
            <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119"
                    title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a
                    class="bibref" data-link-type="biblio" href="#bib-rfc8174"
                    title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
            进行解释，仅在这些关键词以大写形式出现时按照上述方式解释。
        </p>
    </section>
    <section id="idl-index">
        <div class="header-wrapper">
            <h2 id="x8-idl-index"><bdi class="secno">8. </bdi>IDL 索引</h2><a class="self-link" href="#idl-index"
                aria-label="第 8 节的固定链接"></a>
        </div>
        <pre class="idl def" id="actual-idl-index"><span class="idlHeader"><a class="self-link" href="#actual-idl-index">WebIDL</a></span><code><span data-idl="" class="idlInterface" data-title="Navigator">partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlMethod" data-title="share" data-dfn-for="Navigator">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-share" id="ref-for-dom-navigator-share-13"><code>share</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-14"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span><span data-idl="" class="idlMethod" data-title="canShare" data-dfn-for="Navigator">
      [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-navigator-canshare" id="ref-for-dom-navigator-canshare-4"><code>canShare</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-sharedata" class="internalDFN" id="ref-for-dom-sharedata-15"><code>ShareData</code></a></span> <span class="idlParamName">data</span> = {});</span>
    };</span>
    
    <span data-idl="" class="idlDictionary" data-title="ShareData">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-sharedata" id="ref-for-dom-sharedata-16"><code>ShareData</code></a> {<span data-idl="" class="idlMember" data-title="files" data-dfn-for="ShareData"><span class="idlType">
      <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" data-type="interface" href="https://www.w3.org/TR/FileAPI/#dfn-file">File</a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-files" id="ref-for-dom-sharedata-files-6"><code>files</code></a>;</span><span data-idl="" class="idlMember" data-title="title" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-title" id="ref-for-dom-sharedata-title-5"><code>title</code></a>;</span><span data-idl="" class="idlMember" data-title="text" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-text" id="ref-for-dom-sharedata-text-5"><code>text</code></a>;</span><span data-idl="" class="idlMember" data-title="url" data-dfn-for="ShareData"><span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString">USVString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-sharedata-url" id="ref-for-dom-sharedata-url-11"><code>url</code></a>;</span>
    };</span></code></pre>
    </section>
    <section class="informative" id="changelog">
        <div class="header-wrapper">
            <h2 id="x9-changelog"><bdi class="secno">9. </bdi>
                变更日志
            </h2><a class="self-link" href="#changelog" aria-label="第 9 节的固定链接"></a>
        </div>
        <p><em>本节为非规范性内容。</em></p>

        <p>
            以下规范性变更是在<a href="https://www.w3.org/TR/2022/PR-web-share-20221215/">拟推荐标准</a>阶段进行的。有关更改的完整列表，请参阅<a
                href="https://github.com/w3c/web-share/commits/main">提交日志</a>。
        </p><rs-changelog from="PR" to="e441b96ded837660e826e702b7e041f7f0f15751" filter="removeCommits">
            <ul>
                <li><a href="https://github.com/w3c/web-share/commit/d0ea0fe">将 Permissions-Policy HTTP 头设为可选</a> (<a
                        href="https://github.com/w3c/web-share/pull/275">#275</a>)</li>
            </ul>
        </rs-changelog>
        <p>
            自从规范发布为<a
                href="https://www.w3.org/TR/2019/WD-web-share-20191217/">首次公开工作草案</a>到候选推荐标准后，进行了以下规范性变更。有关更改的完整列表，请参阅<a
                href="https://github.com/w3c/web-share/commits/main">提交日志</a>。
        </p>
        <rs-changelog from="1589731080e09b9c7d485e54340ba66bc3ae1be0" to="CR" filter="removeCommits">
            <ul>
                <li><a href="https://github.com/w3c/web-share/commit/238ff25">将隐私/安全性部分移入规范</a> (<a
                        href="https://github.com/w3c/web-share/pull/245">#245</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/d3890d1">定义可共享的 scheme 并进行检查</a> (<a
                        href="https://github.com/w3c/web-share/pull/244">#244</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/94e7883">处理非完全激活的文档</a> (<a
                        href="https://github.com/w3c/web-share/pull/219">#219</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/68494b7">添加 canShare() 方法</a> (<a
                        href="https://github.com/w3c/web-share/pull/177">#177</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/230ec6a">添加“验证共享数据”算法</a> (<a
                        href="https://github.com/w3c/web-share/pull/185">#185</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/52437a5">在操作系统交付后解决 promise</a> (<a
                        href="https://github.com/w3c/web-share/pull/209">#209</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/151b35e">在 sharePromise 之后检查临时激活</a> (<a
                        href="https://github.com/w3c/web-share/pull/183">#183</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/9322cbe">拒绝 url 成员中的非 http URL</a> (<a
                        href="https://github.com/w3c/web-share/pull/174">#174</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/aeb208c">对文件使用序列</a> (<a
                        href="https://github.com/w3c/web-share/pull/170">#170</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/2ef967a">引入 "web-share" 功能策略</a> (<a
                        href="https://github.com/w3c/web-share/pull/166">#166</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/f62dc29">重大变更：使 share() 消耗用户激活</a> (<a
                        href="https://github.com/w3c/web-share/pull/137">#137</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/f615649">增加共享文件的功能</a> (<a
                        href="https://github.com/w3c/web-share/pull/133">#133</a>)</li>
                <li><a href="https://github.com/w3c/web-share/commit/5f837a9">无障碍考量</a> (<a
                        href="https://github.com/w3c/web-share/pull/146">#146</a>)</li>
            </ul>
        </rs-changelog>
    </section>
    <section class="appendix" id="acknowledgments">
        <div class="header-wrapper">
            <h2 id="a-acknowledgments"><bdi class="secno">A. </bdi>
                致谢
            </h2><a class="self-link" href="#acknowledgments" aria-label="附录 A 的固定链接"></a>
        </div>

        <p>
            编辑们要感谢以下 <abbr title="World Wide Web Consortium">W3C</abbr> 小组提供的宝贵反馈，这极大地改进了本规范：
            <a href="https://www.w3.org/WAI/APA/">无障碍平台架构工作组</a>、<a
                href="https://www.w3.org/International/i18n-activity/i18n-wg/">国际化工作组</a>、<a
                href="https://www.w3.org/Privacy/IG/">隐私兴趣组</a> 和 <a href="https://tag.w3.org">技术架构组</a>。
        </p>
        <p>
            感谢 <a href="https://www.w3.org/TR/web-intents">Web 意图</a> 团队为 Web 应用互操作性用例打下了基础。特别感谢 <a
                href="https://paul.kinlan.me/">Paul Kinlan</a> 的早期倡导，他为 Web Share 贡献了许多早期的推广工作。
        </p>
    </section>


    <section id="references" class="appendix">
        <div class="header-wrapper">
            <h2 id="b-references"><bdi class="secno">B. </bdi>参考文献</h2><a class="self-link" href="#references"
                aria-label="附录 B 的固定链接"></a>
        </div>
        <section id="normative-references">
            <div class="header-wrapper">
                <h3 id="b-1-normative-references"><bdi class="secno">B.1 </bdi>规范性参考文献</h3><a class="self-link"
                    href="#normative-references" aria-label="附录 B.1 的固定链接"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-fetch">[fetch]</dt>
                <dd>
                    <a href="https://fetch.spec.whatwg.org/"><cite>Fetch 标准</cite></a>。Anne van
                    Kesteren。WHATWG。现行标准。网址：<a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-fileapi">[fileapi]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/FileAPI/"><cite>文件 API</cite></a>。Marijn Kruisselbrink。W3C。2023 年 2 月
                    6 日。W3C 工作草案。网址：<a href="https://www.w3.org/TR/FileAPI/">https://www.w3.org/TR/FileAPI/</a>
                </dd>
                <dt id="bib-html">[html]</dt>
                <dd>
                    <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>。Anne van Kesteren、Domenic
                    Denicola、Ian Hickson、Philip Jägenstedt、Simon Pieters。WHATWG。现行标准。网址：<a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd>
                <dt id="bib-permissions-policy">[PERMISSIONS-POLICY]</dt>
                <dd>
                    <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>权限策略</cite></a>。Ian Clelland。W3C。2023 年
                    3 月 22 日。W3C 工作草案。网址：<a
                        href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
                </dd>
                <dt id="bib-rfc2119">[RFC2119]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>在 RFC 中指示要求级别的关键词</cite></a>。S.
                    Bradner。IETF。1997 年 3 月。最佳现行做法。网址：<a
                        href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
                </dd>
                <dt id="bib-rfc8174">[RFC8174]</dt>
                <dd>
                    <a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>RFC 2119 中关键词大小写不明确问题</cite></a>。B.
                    Leiba。IETF。2017 年 5 月。最佳现行做法。网址：<a
                        href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
                </dd>
                <dt id="bib-url">[url]</dt>
                <dd>
                    <a href="https://url.spec.whatwg.org/"><cite>URL 标准</cite></a>。Anne van Kesteren。WHATWG。现行标准。网址：<a
                        href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-webidl">[WEBIDL]</dt>
                <dd>
                    <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>。Edgar Chen、Timothy
                    Gu。WHATWG。现行标准。网址：<a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <div class="header-wrapper">
                <h3 id="b-2-informative-references"><bdi class="secno">B.2 </bdi>非规范性参考文献</h3><a class="self-link"
                    href="#informative-references" aria-label="附录 B.2 的固定链接"></a>
            </div>

            <dl class="bibliography">
                <dt id="bib-encoding">[encoding]</dt>
                <dd>
                    <a href="https://encoding.spec.whatwg.org/"><cite>编码标准</cite></a>。Anne van
                    Kesteren。WHATWG。现行标准。网址：<a
                        href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top">
        <a href="#title"><abbr title="返回顶部">↑</abbr></a>
    </p>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sharepromise"
        aria-label="本文档中的链接指向定义: [[sharePromise]]">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sharepromise" aria-label="定义的固定链接: [[sharePromise]]。激活以关闭此对话框。">固定链接</a>

        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sharepromise-1" title="§ 2.1.1 内部槽">§ 2.1.1 内部槽</a>
            </li>
            <li>
                <a href="#ref-for-dfn-sharepromise-2" title="§ 2.1.2 share() 方法">§ 2.1.2 share() 方法</a> <a
                    href="#ref-for-dfn-sharepromise-3" title="参考 2">(2)</a> <a href="#ref-for-dfn-sharepromise-4"
                    title="参考 3">(3)</a> <a href="#ref-for-dfn-sharepromise-5" title="参考 4">(4)</a> <a
                    href="#ref-for-dfn-sharepromise-6" title="参考 5">(5)</a> <a href="#ref-for-dfn-sharepromise-7"
                    title="参考 6">(6)</a> <a href="#ref-for-dfn-sharepromise-8" title="参考 7">(7)</a> <a
                    href="#ref-for-dfn-sharepromise-9" title="参考 8">(8)</a> <a href="#ref-for-dfn-sharepromise-10"
                    title="参考 9">(9)</a> <a href="#ref-for-dfn-sharepromise-11" title="参考 10">(10)</a> <a
                    href="#ref-for-dfn-sharepromise-12" title="参考 11">(11)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-share"
        aria-label="本文档中的链接指向定义: share()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-share" aria-label="定义的固定链接: share()。激活以关闭此对话框。">固定链接</a>
            <span class="marker dfn-exported" title="定义可被其他规范引用">已导出</span> <a class="marker idl-block"
                title="跳转至 IDL 声明" href="#webidl-1104032107">IDL</a>
        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-navigator-share-1" title="§ 1.1 分享文本和链接">§ 1.1 分享文本和链接</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-2" title="§ 1.3 验证分享">§ 1.3 验证分享</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-3" title="§ 1.4 检查是否支持成员">§ 1.4 检查是否支持成员</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-4" title="§ 2.1 扩展 Navigator 接口">§ 2.1 扩展 Navigator 接口</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-5" title="§ 2.1.2 share() 方法">§ 2.1.2 share() 方法</a> <a
                    href="#ref-for-dom-navigator-share-6" title="参考 2">(2)</a> <a href="#ref-for-dom-navigator-share-7"
                    title="参考 3">(3)</a> <a href="#ref-for-dom-navigator-share-8" title="参考 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-9" title="§ 3. 分享目标">§ 3. 分享目标</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-10" title="§ 5. 可访问性注意事项">§ 5. 可访问性注意事项</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-11" title="§ 6. 隐私注意事项">§ 6. 隐私注意事项</a> <a
                    href="#ref-for-dom-navigator-share-12" title="参考 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-share-13" title="§ 8. IDL 索引">§ 8. IDL 索引</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-canshare"
        aria-label="本文档中的链接指向定义: canShare()">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-navigator-canshare" aria-label="定义的固定链接: canShare()。激活以关闭此对话框。">固定链接</a>
            <span class="marker dfn-exported" title="定义可被其他规范引用">已导出</span> <a class="marker idl-block"
                title="跳转至 IDL 声明" href="#webidl-1104032107">IDL</a>
        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-navigator-canshare-1" title="§ 1.3 验证分享">§ 1.3 验证分享</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-canshare-2" title="§ 1.4 检查是否支持成员">§ 1.4 检查是否支持成员</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-canshare-3" title="§ 2.1 扩展 Navigator 接口">§ 2.1 扩展 Navigator 接口</a>
            </li>
            <li>
                <a href="#ref-for-dom-navigator-canshare-4" title="§ 8. IDL 索引">§ 8. IDL 索引</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-sharable-scheme"
        aria-label="本文档中的链接指向定义: 可分享的 scheme">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-sharable-scheme" aria-label="定义的固定链接: 可分享的 scheme。激活以关闭此对话框。">固定链接</a>

        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-sharable-scheme-1" title="§ 2.1.2 share() 方法">§ 2.1.2 share() 方法</a>
            </li>
            <li>
                <a href="#ref-for-dfn-sharable-scheme-2" title="§ 2.1.4 验证分享数据">§ 2.1.4 验证分享数据</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-validate-share-data"
        aria-label="本文档中的链接指向定义: 验证分享数据">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-validate-share-data" aria-label="定义的固定链接: 验证分享数据。激活以关闭此对话框。">固定链接</a>

        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-validate-share-data-1" title="§ 1.3 验证分享">§ 1.3 验证分享</a>
            </li>
            <li>
                <a href="#ref-for-dfn-validate-share-data-2" title="§ 2.1.2 share() 方法">§ 2.1.2 share() 方法</a>
            </li>
            <li>
                <a href="#ref-for-dfn-validate-share-data-3" title="§ 2.1.3 canShare(data) 方法">§ 2.1.3 canShare(data)
                    方法</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata"
        aria-label="本文档中的链接指向定义: ShareData">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata" aria-label="定义的固定链接: ShareData。激活以关闭此对话框。">固定链接</a>
            <span class="marker dfn-exported" title="定义可被其他规范引用">已导出</span> <a class="marker idl-block"
                title="跳转至 IDL 声明" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-1" title="§ 1.3 验证分享">§ 1.3 验证分享</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-2" title="§ 2.1 扩展 Navigator 接口">§ 2.1 扩展 Navigator 接口</a> <a
                    href="#ref-for-dom-sharedata-3" title="参考 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-4" title="§ 2.1.3 canShare(data) 方法">§ 2.1.3 canShare(data) 方法</a> <a
                    href="#ref-for-dom-sharedata-5" title="参考 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-6" title="§ 2.2 ShareData 字典">§ 2.2 ShareData 字典</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-7" title="§ 3. 分享目标">§ 3. 分享目标</a> <a href="#ref-for-dom-sharedata-8"
                    title="参考 2">(2)</a> <a href="#ref-for-dom-sharedata-9" title="参考 3">(3)</a> <a
                    href="#ref-for-dom-sharedata-10" title="参考 4">(4)</a> <a href="#ref-for-dom-sharedata-11"
                    title="参考 5">(5)</a> <a href="#ref-for-dom-sharedata-12" title="参考 6">(6)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-13" title="§ 3.1 分享目标的示例">§ 3.1 分享目标的示例</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-14" title="§ 8. IDL 索引">§ 8. IDL 索引</a> <a
                    href="#ref-for-dom-sharedata-15" title="参考 2">(2)</a> <a href="#ref-for-dom-sharedata-16"
                    title="参考 3">(3)</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-files"
        aria-label="本文档中的链接指向定义: files">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-files" aria-label="定义的固定链接: files。激活以关闭此对话框。">固定链接</a>
            <span class="marker dfn-exported" title="定义可被其他规范引用">已导出</span> <a class="marker idl-block"
                title="跳转至 IDL 声明" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-files-1" title="§ 1.2 分享文件">§ 1.2 分享文件</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-files-2" title="§ 2.1.4 验证分享数据">§ 2.1.4 验证分享数据</a> <a
                    href="#ref-for-dom-sharedata-files-3" title="参考 2">(2)</a> <a href="#ref-for-dom-sharedata-files-4"
                    title="参考 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-files-5" title="§ 2.2 ShareData 字典">§ 2.2 ShareData
                    字典</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-files-6" title="§ 8. IDL 索引">§ 8. IDL 索引</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-text"
        aria-label="本文档中的链接指向定义: text">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-text" aria-label="定义的固定链接: text。激活以关闭此对话框。">固定链接</a>
            <span class="marker dfn-exported" title="定义可被其他规范引用">已导出</span> <a class="marker idl-block"
                title="跳转至 IDL 声明" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-text-1" title="§ 2.1.4 验证分享数据">§ 2.1.4 验证分享数据</a> <a
                    href="#ref-for-dom-sharedata-text-2" title="参考 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-text-3" title="§ 2.2 ShareData 字典">§ 2.2 ShareData
                    字典</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-text-4" title="§ 3. 分享目标">§ 3. 分享目标</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-text-5" title="§ 8. IDL 索引">§ 8. IDL 索引</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-title"
        aria-label="本文档中的链接指向定义: title">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-title" aria-label="定义的固定链接: title。激活以关闭此对话框。">固定链接</a>
            <span class="marker dfn-exported" title="定义可被其他规范引用">已导出</span> <a class="marker idl-block"
                title="跳转至 IDL 声明" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-title-1" title="§ 2.1.2 share() 方法">§ 2.1.2 share() 方法</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-title-2" title="§ 2.1.4 验证分享数据">§ 2.1.4 验证分享数据</a> <a
                    href="#ref-for-dom-sharedata-title-3" title="参考 2">(2)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-title-4" title="§ 2.2 ShareData 字典">§ 2.2 ShareData
                    字典</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-title-5" title="§ 8. IDL 索引">§ 8. IDL 索引</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-sharedata-url"
        aria-label="本文档中的链接指向定义: url">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dom-sharedata-url" aria-label="定义的固定链接: url。激活以关闭此对话框。">固定链接</a>
            <span class="marker dfn-exported" title="定义可被其他规范引用">已导出</span> <a class="marker idl-block"
                title="跳转至 IDL 声明" href="#webidl-800335275">IDL</a>
        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dom-sharedata-url-1" title="§ 1.1 分享文本和链接">§ 1.1 分享文本和链接</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-2" title="§ 2.1.2 share() 方法">§ 2.1.2 share() 方法</a> <a
                    href="#ref-for-dom-sharedata-url-3" title="参考 2">(2)</a> <a href="#ref-for-dom-sharedata-url-4"
                    title="参考 3">(3)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-5" title="§ 2.1.4 验证分享数据">§ 2.1.4 验证分享数据</a> <a
                    href="#ref-for-dom-sharedata-url-6" title="参考 2">(2)</a> <a href="#ref-for-dom-sharedata-url-7"
                    title="参考 3">(3)</a> <a href="#ref-for-dom-sharedata-url-8" title="参考 4">(4)</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-9" title="§ 2.2 ShareData 字典">§ 2.2 ShareData 字典</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-10" title="§ 3. 分享目标">§ 3. 分享目标</a>
            </li>
            <li>
                <a href="#ref-for-dom-sharedata-url-11" title="§ 8. IDL 索引">§ 8. IDL 索引</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-share-target"
        aria-label="本文档中的链接指向定义: 分享目标">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-share-target" aria-label="定义的固定链接: 分享目标。激活以关闭此对话框。">固定链接</a>
            <span class="marker dfn-exported" title="定义可被其他规范引用">已导出</span>
        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-share-target-1" title="§ 2.1.1 内部槽">§ 2.1.1 内部槽</a>
            </li>
            <li>
                <a href="#ref-for-dfn-share-target-2" title="§ 2.1.2 share() 方法">§ 2.1.2 share() 方法</a> <a
                    href="#ref-for-dfn-share-target-3" title="参考 2">(2)</a> <a href="#ref-for-dfn-share-target-4"
                    title="参考 3">(3)</a> <a href="#ref-for-dfn-share-target-5" title="参考 4">(4)</a> <a
                    href="#ref-for-dfn-share-target-6" title="参考 5">(5)</a> <a href="#ref-for-dfn-share-target-7"
                    title="参考 6">(6)</a> <a href="#ref-for-dfn-share-target-8" title="参考 7">(7)</a> <a
                    href="#ref-for-dfn-share-target-9" title="参考 8">(8)</a>
            </li>
            <li>
                <a href="#ref-for-dfn-share-target-11" title="§ 6. 隐私考量">§ 6. 隐私考量</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
        id="dfn-panel-for-dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target"
        aria-label="本文档中的链接指向定义: 将数据转换为适合目标摄取的格式">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target"
                aria-label="定义的固定链接: 将数据转换为适合目标摄取的格式。激活以关闭此对话框。">固定链接</a>
        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-convert-data-to-a-format-suitable-for-ingestion-into-the-target-1"
                    title="§ 2.1.2 share() 方法">§ 2.1.2 share() 方法</a>
            </li>
        </ul>
    </div>
    <div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-web-share"
        aria-label="本文档中的链接指向定义: &quot;web-share&quot;">
        <span class="caret"></span>
        <div>
            <a class="self-link" href="#dfn-web-share" aria-label="定义的固定链接: &quot;web-share&quot;。激活以关闭此对话框。">固定链接</a>
        </div>
        <p><b>引用于:</b></p>
        <ul>
            <li>
                <a href="#ref-for-dfn-web-share-1" title="§ 2.1.2 share() 方法">§ 2.1.2 share() 方法</a>
            </li>
            <li>
                <a href="#ref-for-dfn-web-share-2" title="§ 2.1.3 canShare(data) 方法">§ 2.1.3 canShare(data)
                    方法</a>
            </li>
        </ul>
    </div>
    <script id="respec-dfn-panel">(() => {
            // @ts-check
            if (document.respec) {
                document.respec.ready.then(setupPanel);
            } else {
                setupPanel();
            }

            function setupPanel() {
                const listener = panelListener();
                document.body.addEventListener("keydown", listener);
                document.body.addEventListener("click", listener);
            }

            function panelListener() {
                /** @type {HTMLElement} */
                let panel = null;
                return event => {
                    const { target, type } = event;

                    if (!(target instanceof HTMLElement)) return;

                    // For keys, we only care about Enter key to activate the panel
                    // otherwise it's activated via a click.
                    if (type === "keydown" && event.key !== "Enter") return;

                    const action = deriveAction(event);

                    switch (action) {
                        case "show": {
                            hidePanel(panel);
                            /** @type {HTMLElement} */
                            const dfn = target.closest("dfn, .index-term");
                            panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
                            const coords = deriveCoordinates(event);
                            displayPanel(dfn, panel, coords);
                            break;
                        }
                        case "dock": {
                            panel.style.left = null;
                            panel.style.top = null;
                            panel.classList.add("docked");
                            break;
                        }
                        case "hide": {
                            hidePanel(panel);
                            panel = null;
                            break;
                        }
                    }
                };
            }

            /**
             * @param {MouseEvent|KeyboardEvent} event
             */
            function deriveCoordinates(event) {
                const target = /** @type HTMLElement */ (event.target);

                // We prevent synthetic AT clicks from putting
                // the dialog in a weird place. The AT events sometimes
                // lack coordinates, so they have clientX/Y = 0
                const rect = target.getBoundingClientRect();
                if (
                    event instanceof MouseEvent &&
                    event.clientX >= rect.left &&
                    event.clientY >= rect.top
                ) {
                    // The event probably happened inside the bounding rect...
                    return { x: event.clientX, y: event.clientY };
                }

                // Offset to the middle of the element
                const x = rect.x + rect.width / 2;
                // Placed at the bottom of the element
                const y = rect.y + rect.height;
                return { x, y };
            }

            /**
             * @param {Event} event
             */
            function deriveAction(event) {
                const target = /** @type {HTMLElement} */ (event.target);
                const hitALink = !!target.closest("a");
                if (target.closest("dfn:not([data-cite]), .index-term")) {
                    return hitALink ? "none" : "show";
                }
                if (target.closest(".dfn-panel")) {
                    if (hitALink) {
                        return target.classList.contains("self-link") ? "hide" : "dock";
                    }
                    const panel = target.closest(".dfn-panel");
                    return panel.classList.contains("docked") ? "hide" : "none";
                }
                if (document.querySelector(".dfn-panel:not([hidden])")) {
                    return "hide";
                }
                return "none";
            }

            /**
             * @param {HTMLElement} dfn
             * @param {HTMLElement} panel
             * @param {{ x: number, y: number }} clickPosition
             */
            function displayPanel(dfn, panel, { x, y }) {
                panel.hidden = false;
                // distance (px) between edge of panel and the pointing triangle (caret)
                const MARGIN = 20;

                const dfnRects = dfn.getClientRects();
                // Find the `top` offset when the `dfn` can be spread across multiple lines
                let closestTop = 0;
                let minDiff = Infinity;
                for (const rect of dfnRects) {
                    const { top, bottom } = rect;
                    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
                    if (diffFromClickY < minDiff) {
                        minDiff = diffFromClickY;
                        closestTop = top;
                    }
                }

                const top = window.scrollY + closestTop + dfnRects[0].height;
                const left = x - MARGIN;
                panel.style.left = `${left}px`;
                panel.style.top = `${top}px`;

                // Find if the panel is flowing out of the window
                const panelRect = panel.getBoundingClientRect();
                const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
                if (panelRect.right > SCREEN_WIDTH) {
                    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
                    const newCaretOffset = left - newLeft;
                    panel.style.left = `${newLeft}px`;
                    /** @type {HTMLElement} */
                    const caret = panel.querySelector(".caret");
                    caret.style.left = `${newCaretOffset}px`;
                }

                // As it's a dialog, we trap focus.
                // TODO: when <dialog> becomes a implemented, we should really
                // use that.
                trapFocus(panel, dfn);
            }

            /**
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function trapFocus(panel, dfn) {
                /** @type NodeListOf<HTMLAnchorElement> elements */
                const anchors = panel.querySelectorAll("a[href]");
                // No need to trap focus
                if (!anchors.length) return;

                // Move focus to first anchor element
                const first = anchors.item(0);
                first.focus();

                const trapListener = createTrapListener(anchors, panel, dfn);
                panel.addEventListener("keydown", trapListener);

                // Hiding the panel releases the trap
                const mo = new MutationObserver(records => {
                    const [record] = records;
                    const target = /** @type HTMLElement */ (record.target);
                    if (target.hidden) {
                        panel.removeEventListener("keydown", trapListener);
                        mo.disconnect();
                    }
                });
                mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
            }

            /**
             *
             * @param {NodeListOf<HTMLAnchorElement>} anchors
             * @param {HTMLElement} panel
             * @param {HTMLElement} dfn
             * @returns
             */
            function createTrapListener(anchors, panel, dfn) {
                const lastIndex = anchors.length - 1;
                let currentIndex = 0;
                return event => {
                    switch (event.key) {
                        // Hitting "Tab" traps us in a nice loop around elements.
                        case "Tab": {
                            event.preventDefault();
                            currentIndex += event.shiftKey ? -1 : +1;
                            if (currentIndex < 0) {
                                currentIndex = lastIndex;
                            } else if (currentIndex > lastIndex) {
                                currentIndex = 0;
                            }
                            anchors.item(currentIndex).focus();
                            break;
                        }

                        // Hitting "Enter" on an anchor releases the trap.
                        case "Enter":
                            hidePanel(panel);
                            break;

                        // Hitting "Escape" returns focus to dfn.
                        case "Escape":
                            hidePanel(panel);
                            dfn.focus();
                            return;
                    }
                };
            }

            /** @param {HTMLElement} panel */
            function hidePanel(panel) {
                if (!panel) return;
                panel.hidden = true;
                panel.classList.remove("docked");
            }
        })()</script>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <script src="/dropdown.js"></script>
</body>

</html>