<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="#3c790a" name="theme-color">
    <meta content="light dark" name="color-scheme">
    <title>File System Standard</title>
    <link crossorigin href="https://resources.whatwg.org/standard-shared-with-dev.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/standard.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/spec.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/logo-fs.svg" rel="icon">
    <script crossorigin defer src="https://resources.whatwg.org/commit-snapshot-shortcut-key.js"></script>
    <meta content="Bikeshed version 3f621ba99, updated Mon Jul 28 15:38:36 2025 -0700" name="generator">
    <meta content="28a834274cb170efb0aa680e172d002d20a0eb87" name="revision">
    <style>
        .domintro dt {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;

            padding-top: 0.5em;
            padding-bottom: 1em;
        }

        .domintro dt a {
            color: inherit;
            border-bottom-style: none;
        }

        .domintro dt code {
            font-size: inherit;
        }

        .domintro::before {
            content: 'For web developers (non-normative)';
            text-transform: initial;

        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>

<body class="h-entry status-LS">
    <div class="head">

        <a class="logo" href="https://whatwg.org/">
            <img alt="WHATWG" class="darkmode-aware" crossorigin height="100"
                src="https://resources.whatwg.org/logo-fs.svg">
        </a>

        <hgroup>
            <h1 class="p-name no-ref" id="title">File System</h1>
            <p id="subtitle">Living Standard â€” Last Updated <time class="dt-updated" datetime="2025-08-12">12 August
                    2025</time>
            </p>
        </hgroup>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>Participate:
                <dd><a href="https://github.com/whatwg/fs">GitHub whatwg/fs</a> (<a
                        href="https://github.com/whatwg/fs/issues/new/choose">new issue</a>, <a
                        href="https://github.com/whatwg/fs/issues">open issues</a>)
                <dd><a href="https://whatwg.org/chat">Chat on Matrix</a>
                <dt>Commits:
                <dd><a href="https://github.com/whatwg/fs/commits">GitHub whatwg/fs/commits</a>
                <dd><a href="/commit-snapshots/28a834274cb170efb0aa680e172d002d20a0eb87/"
                        id="commit-snapshot-link">Snapshot as of this commit</a>
                <dd><a href="https://twitter.com/whatfilesystem">@whatfilesystem</a>
                <dt>Tests:
                <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/fs">web-platform-tests fs/</a> (<a
                        href="https://github.com/web-platform-tests/wpt/labels/fs">ongoing work</a>)
                <dt>Translations <small>(non-normative)</small>:
                <dd><span title="Japanese"><a href="https://triple-underscore.github.io/fs-ja.html" hreflang="ja"
                            lang="ja" rel="alternate">æ—¥æœ¬èªž</a></span>
                <dd><span title="Simplified Chinese"><a href="https://htmlspecs.com/fs/" hreflang="zh-hans"
                            lang="zh-hans" rel="alternate">ç®€ä½“ä¸­æ–‡</a></span>
                <dd><span title="Korean"><a href="https://ko.htmlspecs.com/fs/" hreflang="ko" lang="ko"
                            rel="alternate">í•œêµ­ì–´</a></span>
            </dl>
        </div>
        <div data-fill-with="warning"></div>
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
        <p>File System defines infrastructure for file systems as well as their API.</p>
    </div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
        <ol class="toc" role="directory">
            <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
            <li>
                <a href="#files-and-directories"><span class="secno">2</span> <span class="content">Files and
                        Directories</span></a>
                <ol class="toc">
                    <li><a href="#concepts"><span class="secno">2.1</span> <span class="content">Concepts</span></a>
                    <li>
                        <a href="#api-filesystemhandle"><span class="secno">2.2</span> <span class="content">The <code
                                    class="idl"><span>FileSystemHandle</span></code> interface</span></a>
                        <ol class="toc">
                            <li><a href="#api-filesystemhandle-issameentry"><span class="secno">2.2.1</span> <span
                                        class="content">The <code class="idl"><span>isSameEntry()</span></code>
                                        method</span></a>
                        </ol>
                    <li>
                        <a href="#api-filesystemfilehandle"><span class="secno">2.3</span> <span class="content">The
                                <code class="idl"><span>FileSystemFileHandle</span></code> interface</span></a>
                        <ol class="toc">
                            <li><a href="#api-filesystemfilehandle-getfile"><span class="secno">2.3.1</span> <span
                                        class="content">The <code class="idl"><span>getFile()</span></code>
                                        method</span></a>
                            <li><a href="#api-filesystemfilehandle-createwritable"><span class="secno">2.3.2</span>
                                    <span class="content">The <code class="idl"><span>createWritable()</span></code>
                                        method</span></a>
                            <li><a href="#api-filesystemfilehandle-createsyncaccesshandle"><span
                                        class="secno">2.3.3</span> <span class="content">The <code
                                            class="idl"><span>createSyncAccessHandle()</span></code> method</span></a>
                        </ol>
                    <li>
                        <a href="#api-filesystemdirectoryhandle"><span class="secno">2.4</span> <span
                                class="content">The <code class="idl"><span>FileSystemDirectoryHandle</span></code>
                                interface</span></a>
                        <ol class="toc">
                            <li><a href="#api-filesystemdirectoryhandle-asynciterable"><span class="secno">2.4.1</span>
                                    <span class="content">Directory iteration</span></a>
                            <li><a href="#api-filesystemdirectoryhandle-getfilehandle"><span class="secno">2.4.2</span>
                                    <span class="content">The <code class="idl"><span>getFileHandle()</span></code>
                                        method</span></a>
                            <li><a href="#api-filesystemdirectoryhandle-getdirectoryhandle"><span
                                        class="secno">2.4.3</span> <span class="content">The <code
                                            class="idl"><span>getDirectoryHandle()</span></code> method</span></a>
                            <li><a href="#api-filesystemdirectoryhandle-removeentry"><span class="secno">2.4.4</span>
                                    <span class="content">The <code class="idl"><span>removeEntry()</span></code>
                                        method</span></a>
                            <li><a href="#api-filesystemdirectoryhandle-resolve"><span class="secno">2.4.5</span> <span
                                        class="content">The <code class="idl"><span>resolve()</span></code>
                                        method</span></a>
                        </ol>
                    <li>
                        <a href="#api-filesystemwritablefilestream"><span class="secno">2.5</span> <span
                                class="content">The <code class="idl"><span>FileSystemWritableFileStream</span></code>
                                interface</span></a>
                        <ol class="toc">
                            <li><a href="#api-filesystemwritablefilestream-write"><span class="secno">2.5.1</span> <span
                                        class="content">The <code class="idl"><span>write()</span></code>
                                        method</span></a>
                            <li><a href="#api-filesystemwritablefilestream-seek"><span class="secno">2.5.2</span> <span
                                        class="content">The <code class="idl"><span>seek()</span></code>
                                        method</span></a>
                            <li><a href="#api-filesystemwritablefilestream-truncate"><span class="secno">2.5.3</span>
                                    <span class="content">The <code class="idl"><span>truncate()</span></code>
                                        method</span></a>
                        </ol>
                    <li>
                        <a href="#api-filesystemsyncaccesshandle"><span class="secno">2.6</span> <span
                                class="content">The <code class="idl"><span>FileSystemSyncAccessHandle</span></code>
                                interface</span></a>
                        <ol class="toc">
                            <li><a href="#api-filesystemsyncaccesshandle-read"><span class="secno">2.6.1</span> <span
                                        class="content">The <code class="idl"><span>read()</span></code>
                                        method</span></a>
                            <li><a href="#api-filesystemsyncaccesshandle-write"><span class="secno">2.6.2</span> <span
                                        class="content">The <code class="idl"><span>write()</span></code>
                                        method</span></a>
                            <li><a href="#api-filesystemsyncaccesshandle-truncate"><span class="secno">2.6.3</span>
                                    <span class="content">The <code class="idl"><span>truncate()</span></code>
                                        method</span></a>
                            <li><a href="#api-filesystemsyncaccesshandle-getsize"><span class="secno">2.6.4</span> <span
                                        class="content">The <code class="idl"><span>getSize()</span></code>
                                        method</span></a>
                            <li><a href="#api-filesystemsyncaccesshandle-flush"><span class="secno">2.6.5</span> <span
                                        class="content">The <code class="idl"><span>flush()</span></code>
                                        method</span></a>
                            <li><a href="#api-filesystemsyncaccesshandle-close"><span class="secno">2.6.6</span> <span
                                        class="content">The <code class="idl"><span>close()</span></code>
                                        method</span></a>
                        </ol>
                </ol>
            <li><a href="#sandboxed-filesystem"><span class="secno">3</span> <span class="content">Accessing the Bucket
                        File System</span></a>
            <li><a href="#acks"><span class="secno"></span> <span class="content">Acknowledgments</span></a>
            <li><a href="#ipr"><span class="secno"></span> <span class="content">Intellectual property rights</span></a>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by
                                this specification</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms
                                defined by reference</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">Normative
                                References</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span
                class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
        <p><em>This section is non-normative.</em></p>
        <p>This document defines fundamental infrastructure for file system APIs. In addition, it defines an
            API that makes it possible for websites to get access to a file system directory without having to
            first prompt the user for access. This enables use cases where a website wants to save data to disk
            before a user has picked a location to save to, without forcing the website to use a completely
            different storage mechanism with a different API for such files. The entry point for this is the
            <code
                class="idl"><a data-link-type="idl" href="#dom-storagemanager-getdirectory" id="ref-for-dom-storagemanager-getdirectory">navigator.storage.getDirectory()</a></code>
            method.
        </p>
        <h2 class="heading settled" data-level="2" id="files-and-directories"><span class="secno">2. </span><span
                class="content">Files and Directories</span><a class="self-link" href="#files-and-directories"></a></h2>
        <h3 class="heading settled" data-level="2.1" id="concepts"><span class="secno">2.1. </span><span
                class="content">Concepts</span><a class="self-link" href="#concepts"></a></h3>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="entry">file system entry</dfn> is either a <a
                data-link-type="dfn" href="#file" id="ref-for-file">file entry</a> or a <a data-link-type="dfn"
                href="#directory" id="ref-for-directory">directory entry</a>.</p>
        <p>Each <a data-link-type="dfn" href="#entry" id="ref-for-entry">file system entry</a> has an associated
            <dfn class="dfn-paneled" data-dfn-for="file system entry" data-dfn-type="dfn" data-noexport
                id="entry-query-access">query access</dfn>
            algorithm, which takes "<code>read</code>" or "<code>readwrite</code>" <var>mode</var> and
            returns a <a data-link-type="dfn" href="#file-system-access-result"
                id="ref-for-file-system-access-result">file system access result</a>.
            Unless specified otherwise it returns a <a data-link-type="dfn" href="#file-system-access-result"
                id="ref-for-file-system-access-resultâ‘ ">file system access result</a> with a
            <a data-link-type="dfn" href="#file-system-access-result-permission-state"
                id="ref-for-file-system-access-result-permission-state">permission state</a> of "<code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied">denied</a></code>"
            and with an <a data-link-type="dfn" href="#file-system-access-result-error-name"
                id="ref-for-file-system-access-result-error-name">error name</a> of the empty string.
        </p>
        <p>Each <a data-link-type="dfn" href="#entry" id="ref-for-entryâ‘ ">file system entry</a> has an associated
            <dfn class="dfn-paneled" data-dfn-for="file system entry" data-dfn-type="dfn" data-noexport
                id="entry-request-access">request access</dfn>
            algorithm, which takes "<code>read</code>" or "<code>readwrite</code>" <var>mode</var> and
            returns a <a data-link-type="dfn" href="#file-system-access-result"
                id="ref-for-file-system-access-resultâ‘¡">file system access result</a>.
            Unless specified otherwise it returns a <a data-link-type="dfn" href="#file-system-access-result"
                id="ref-for-file-system-access-resultâ‘¢">file system access result</a> with a
            <a data-link-type="dfn" href="#file-system-access-result-permission-state"
                id="ref-for-file-system-access-result-permission-stateâ‘ ">permission state</a> of "<code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-denied" id="ref-for-dom-permissionstate-deniedâ‘ ">denied</a></code>"
            and with an <a data-link-type="dfn" href="#file-system-access-result-error-name"
                id="ref-for-file-system-access-result-error-nameâ‘ ">error name</a> of the empty string.
        </p>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="file-system-access-result">file system access
                result</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct"
                id="ref-for-struct">struct</a> encapsulating the
            result of <a data-link-type="dfn" href="#entry-query-access" id="ref-for-entry-query-access">querying</a> or
            <a data-link-type="dfn" href="#entry-request-access" id="ref-for-entry-request-access">requesting</a> access
            to the file system.
            It has the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item"
                id="ref-for-struct-item">items</a>:
        </p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="file system access result" data-dfn-type="dfn"
                    data-noexport id="file-system-access-result-permission-state">permission state</dfn>
            <dd data-md>
                <p>A <code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate" id="ref-for-dom-permissionstate">PermissionState</a></code>
                </p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="file system access result" data-dfn-type="dfn"
                    data-noexport id="file-system-access-result-error-name">error name</dfn>
            <dd data-md>
                <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">string</a>
                    which must be the empty string if
                    <a data-link-type="dfn" href="#file-system-access-result-permission-state"
                        id="ref-for-file-system-access-result-permission-stateâ‘¡">permission state</a> is
                    "<code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted">granted</a></code>";
                    otherwise an
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#domexception-name"
                        id="ref-for-domexception-name">name</a> listed in the <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-error-names-table"
                        id="ref-for-dfn-error-names-table"><code>DOMException</code> names table</a>.
                    It is expected that in most cases when
                    <a data-link-type="dfn" href="#file-system-access-result-permission-state"
                        id="ref-for-file-system-access-result-permission-stateâ‘¢">permission state</a> is not
                    "<code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-grantedâ‘ ">granted</a></code>",
                    this should be "<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>".
                </p>
        </dl>
        <p class="warning"> Dependent specifications may consider this API a
            <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature"
                id="ref-for-dfn-powerful-feature">powerful feature</a>. However, unlike other <a data-link-type="dfn"
                href="https://w3c.github.io/permissions/#dfn-powerful-feature"
                id="ref-for-dfn-powerful-featureâ‘ ">powerful features</a> whose
            <a data-link-type="dfn" href="https://wicg.github.io/permissions-request/#permission-request-algorithm"
                id="ref-for-permission-request-algorithm">permission request algorithm</a> may throw, <a
                data-link-type="dfn" href="#entry" id="ref-for-entryâ‘¡">file system entry</a>â€™s
            <a data-link-type="dfn" href="#entry-query-access" id="ref-for-entry-query-accessâ‘ ">query access</a> and <a
                data-link-type="dfn" href="#entry-request-access" id="ref-for-entry-request-accessâ‘ ">request access</a>
            algorithms must run <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                id="ref-for-in-parallel">in parallel</a> on the <a data-link-type="dfn" href="#file-system-queue"
                id="ref-for-file-system-queue">file system queue</a> and are
            therefore not allowed to throw. Instead, the caller is expected to
            <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                id="ref-for-queue-a-storage-task">queue a storage task</a> to <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a>, as appropriate,
            should these algorithms return an <a data-link-type="dfn" href="#file-system-access-result-error-name"
                id="ref-for-file-system-access-result-error-nameâ‘¡">error name</a>
            other than the empty string.

        </p>
        <p class="note" role="note"><span class="marker">Note:</span> Implementations that only implement this
            specification and not dependent
            specifications do not need to bother implementing <a data-link-type="dfn" href="#entry"
                id="ref-for-entryâ‘¢">file system entry</a>â€™s
            <a data-link-type="dfn" href="#entry-query-access" id="ref-for-entry-query-accessâ‘¡">query access</a> and <a
                data-link-type="dfn" href="#entry-request-access" id="ref-for-entry-request-accessâ‘¡">request access</a>.
        </p>
        <p class="XXX"> Make access check algorithms associated with a FileSystemHandle. <a
                href="https://github.com/whatwg/fs/issues/101">[Issue #101]</a></p>
        <p>Each <a data-link-type="dfn" href="#entry" id="ref-for-entryâ‘£">file system entry</a> has an associated <dfn
                class="dfn-paneled" data-dfn-for="file system entry" data-dfn-type="dfn" data-noexport
                id="entry-name">name</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string"
                id="ref-for-stringâ‘ ">string</a>).</p>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="valid-file-name">valid file name</dfn> is a
            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-stringâ‘¡">string</a> that is
            not an empty string, is not equal to "." or "..",
            and does not contain '/' or any other character used as path separator on the underlying platform.
        </p>
        <p class="note" role="note"><span class="marker">Note:</span> This means that '\' is not allowed in names on
            Windows, but might be allowed on
            other operating systems. Additionally underlying file systems might have further restrictions
            on what names are or arenâ€™t allowed, so a string merely being a <a data-link-type="dfn"
                href="#valid-file-name" id="ref-for-valid-file-name">valid file name</a> is not
            a guarantee that creating a file or directory with that name will succeed.</p>
        <p class="XXX"> We should consider having further normative restrictions on file names that will
            never be allowed using this API, rather than leaving it entirely up to underlying file
            systems.</p>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="file">file entry</dfn> additionally consists
            of
            <dfn class="dfn-paneled" data-dfn-for="file entry" data-dfn-type="dfn" data-export
                id="file-entry-binary-data">binary data</dfn> (a <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence">byte sequence</a>), a
            <dfn class="dfn-paneled" data-dfn-for="file entry" data-dfn-type="dfn" data-noexport
                id="file-entry-modification-timestamp">modification timestamp</dfn> (a number representing the number of
            milliseconds since the <a data-link-type="dfn" href="https://w3c.github.io/FileAPI/#UnixEpoch"
                id="ref-for-UnixEpoch">Unix Epoch</a>),
            a <dfn class="dfn-paneled" data-dfn-for="file entry" data-dfn-type="dfn" data-noexport
                id="file-entry-lock">lock</dfn> (a string that may exclusively be "<code>open</code>",
            "<code>taken-exclusive</code>" or "<code>taken-shared</code>")
            and a <dfn class="dfn-paneled" data-dfn-for="file entry" data-dfn-type="dfn" data-noexport
                id="file-entry-shared-lock-count">shared lock count</dfn> (a number representing the number shared locks
            that are taken at a given point in time).
        </p>
        <p>A user agent has an associated <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="file-system-queue">file system queue</dfn> which is the
            result of <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue"
                id="ref-for-starting-a-new-parallel-queue">starting a new parallel queue</a>. This queue is to be used
            for all
            file system operations.</p>
        <div class="algorithm" data-algorithm="take" data-algorithm-for="file entry/lock">

            To <dfn class="dfn-paneled" data-dfn-for="file entry/lock" data-dfn-type="dfn" data-noexport
                id="file-entry-lock-take">take</dfn> a <a data-link-type="dfn" href="#file-entry-lock"
                id="ref-for-file-entry-lock">lock</a> with a <var>value</var> of
            "<code>exclusive</code>" or "<code>shared</code>" on a given <a data-link-type="dfn" href="#file"
                id="ref-for-fileâ‘ ">file entry</a> <var>file</var>:


            <ol>
                <li data-md>
                    <p>Let <var>lock</var> be the <var>file</var>â€™s <a data-link-type="dfn" href="#file-entry-lock"
                            id="ref-for-file-entry-lockâ‘ ">lock</a>.</p>
                <li data-md>
                    <p>Let <var>count</var> be the <var>file</var>â€™s <a data-link-type="dfn"
                            href="#file-entry-shared-lock-count" id="ref-for-file-entry-shared-lock-count">shared lock
                            count</a>.</p>
                <li data-md>
                    <p>If <var>value</var> is "<code>exclusive</code>":</p>
                    <ol>
                        <li data-md>
                            <p>If <var>lock</var> is "<code>open</code>":</p>
                            <ol>
                                <li data-md>
                                    <p>Set lock to "<code>taken-exclusive</code>".</p>
                                <li data-md>
                                    <p>Return "<code>success</code>".</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>If <var>value</var> is "<code>shared</code>":</p>
                    <ol>
                        <li data-md>
                            <p>If <var>lock</var> is "<code>open</code>":</p>
                            <ol>
                                <li data-md>
                                    <p>Set <var>lock</var> to "<code>taken-shared</code>".</p>
                                <li data-md>
                                    <p>Set <var>count</var> to 1.</p>
                                <li data-md>
                                    <p>Return "<code>success</code>".</p>
                            </ol>
                        <li data-md>
                            <p>Otherwise, if <var>lock</var> is "<code>taken-shared</code>":</p>
                            <ol>
                                <li data-md>
                                    <p>Increase <var>count</var> by 1.</p>
                                <li data-md>
                                    <p>Return "<code>success</code>".</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Return "<code>failure</code>".</p>
            </ol>
            <p class="note" role="note"><span class="marker">Note:</span> These steps have to be run on the <a
                    data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘ ">file system
                    queue</a>.</p>
        </div>
        <div class="algorithm" data-algorithm="release" data-algorithm-for="file entry/lock">

            To <dfn class="dfn-paneled" data-dfn-for="file entry/lock" data-dfn-type="dfn" data-noexport
                id="file-entry-lock-release">release</dfn> a <a data-link-type="dfn" href="#file-entry-lock"
                id="ref-for-file-entry-lockâ‘¡">lock</a> on a given
            <a data-link-type="dfn" href="#file" id="ref-for-fileâ‘¡">file entry</a> <var>file</var>:


            <ol>
                <li data-md>
                    <p>Let <var>lock</var> be the <var>file</var>â€™s associated <a data-link-type="dfn"
                            href="#file-entry-lock" id="ref-for-file-entry-lockâ‘¢">lock</a>.</p>
                <li data-md>
                    <p>Let <var>count</var> be the <var>file</var>â€™s <a data-link-type="dfn"
                            href="#file-entry-shared-lock-count" id="ref-for-file-entry-shared-lock-countâ‘ ">shared lock
                            count</a>.</p>
                <li data-md>
                    <p>If <var>lock</var> is "<code>taken-shared</code>":</p>
                    <ol>
                        <li data-md>
                            <p>Decrease <var>count</var> by 1.</p>
                        <li data-md>
                            <p>If <var>count</var> is 0, set <var>lock</var> to "<code>open</code>".</p>
                    </ol>
                <li data-md>
                    <p>Otherwise, set <var>lock</var> to "<code>open</code>".</p>
            </ol>
            <p class="note" role="note"><span class="marker">Note:</span> These steps have to be run on the <a
                    data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘¡">file system
                    queue</a>.</p>
        </div>
        <p class="note" role="note"><span class="marker">Note:</span> Locks help prevent concurrent modifications to a
            file. A <code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream">FileSystemWritableFileStream</a></code>
            requires a shared lock, while a <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle">FileSystemSyncAccessHandle</a></code>
            requires an exclusive one.</p>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="directory">directory entry</dfn> additionally
            consists of a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set"
                id="ref-for-ordered-set">set</a> of
            <dfn class="dfn-paneled" data-dfn-for="directory entry" data-dfn-type="dfn" data-noexport
                id="directory-entry-children">children</dfn>, which are themselves <a data-link-type="dfn" href="#entry"
                id="ref-for-entryâ‘¤">file system entries</a>.
            Each member is either a <a data-link-type="dfn" href="#file" id="ref-for-fileâ‘¢">file entry</a> or a <a
                data-link-type="dfn" href="#directory" id="ref-for-directoryâ‘ ">directory entry</a>.
        </p>
        <p>A <a data-link-type="dfn" href="#entry" id="ref-for-entryâ‘¥">file system entry</a> <var>entry</var> should be
            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                id="ref-for-list-contain">contained</a> in the <a data-link-type="dfn" href="#directory-entry-children"
                id="ref-for-directory-entry-children">children</a> of at most one
            <a data-link-type="dfn" href="#directory" id="ref-for-directoryâ‘¡">directory entry</a>, and that directory
            entry is also known as <var>entry</var>â€™s
            <dfn class="dfn-paneled" data-dfn-for="file system entry" data-dfn-type="dfn" data-export
                id="entry-parent">parent</dfn>.
            A <a data-link-type="dfn" href="#entry" id="ref-for-entryâ‘¦">file system entry</a>â€™s <a data-link-type="dfn"
                href="#entry-parent" id="ref-for-entry-parent">parent</a> is null if no such directory entry exists.
        </p>
        <p class="note" role="note"><span class="marker">Note:</span> Two different <a data-link-type="dfn"
                href="#entry" id="ref-for-entryâ‘§">file system entries</a> can represent the same file or directory on
            disk, in which
            case it is possible for both entries to have a different parent, or for one entry to have a
            parent while the other entry does not have a parent.</p>
        <p><a data-link-type="dfn" href="#entry" id="ref-for-entryâ‘¨">File system entries</a> can (but donâ€™t have to) be
            backed by files on the host operating systemâ€™s local file system,
            so it is possible for the <a data-link-type="dfn" href="#file-entry-binary-data"
                id="ref-for-file-entry-binary-data">binary data</a>, <a data-link-type="dfn"
                href="#file-entry-modification-timestamp" id="ref-for-file-entry-modification-timestamp">modification
                timestamp</a>,
            and <a data-link-type="dfn" href="#directory-entry-children"
                id="ref-for-directory-entry-childrenâ‘ ">children</a> of entries to be modified by applications outside of
            this specification.
            Exactly how external changes are reflected in the data structures defined by this specification,
            as well as how changes made to the data structures defined here are reflected externally
            is left up to individual user-agent implementations.</p>
        <p>A <a data-link-type="dfn" href="#entry" id="ref-for-entryâ‘ â“ª">file system entry</a> <var>a</var> is <dfn
                class="dfn-paneled" data-dfn-for="file system entry" data-dfn-type="dfn" data-noexport
                id="file-system-entry-the-same-entry-as">the same entry as</dfn>
            a <a data-link-type="dfn" href="#entry" id="ref-for-entryâ‘ â‘ ">file system entry</a> <var>b</var> if
            <var>a</var> is equal to <var>b</var>, or
            if <var>a</var> and <var>b</var> are backed by the same file or directory on the local file system.
        </p>
        <div class="algorithm" data-algorithm="resolve" data-algorithm-for="file system locator">
            <p>To <dfn class="dfn-paneled" data-dfn-for="file system locator" data-dfn-type="dfn" data-noexport
                    id="locator-resolve">resolve</dfn> a
                <a data-link-type="dfn" href="#file-system-locator" id="ref-for-file-system-locator">file system
                    locator</a> <var>child</var> relative to a <a data-link-type="dfn" href="#directory-locator"
                    id="ref-for-directory-locator">directory locator</a> <var>root</var>:
            </p>
            <ol>
                <li data-md>
                    <p>Let <var>result</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new
                            promise</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-steps">Enqueue the following steps</a> to the <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘¢">file system
                            queue</a>:</p>
                    <ol>
                        <li data-md>
                            <p>If <var>child</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                                    id="ref-for-filesystemhandle-locator">locator</a>â€™s <a data-link-type="dfn"
                                    href="#locator-root" id="ref-for-locator-root">root</a>
                                is not <var>root</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                                    id="ref-for-filesystemhandle-locatorâ‘ ">locator</a>â€™s <a data-link-type="dfn"
                                    href="#locator-root" id="ref-for-locator-rootâ‘ ">root</a>,
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolve">resolve</a> <var>result</var> with null, and abort these steps.
                            </p>
                        <li data-md>
                            <p>Let <var>childPath</var> be <var>child</var>â€™s <a data-link-type="dfn"
                                    href="#filesystemhandle-locator"
                                    id="ref-for-filesystemhandle-locatorâ‘¡">locator</a>â€™s <a data-link-type="dfn"
                                    href="#locator-path" id="ref-for-locator-path">path</a>.</p>
                        <li data-md>
                            <p>Let <var>rootPath</var> be <var>root</var>â€™s <a data-link-type="dfn"
                                    href="#filesystemhandle-locator"
                                    id="ref-for-filesystemhandle-locatorâ‘¢">locator</a>â€™s <a data-link-type="dfn"
                                    href="#locator-path" id="ref-for-locator-pathâ‘ ">path</a>.</p>
                        <li data-md>
                            <p>If <var>childPath</var> is <a data-link-type="dfn"
                                    href="#file-system-path-the-same-path-as"
                                    id="ref-for-file-system-path-the-same-path-as">the same path as</a>
                                <var>rootPath</var>,
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolveâ‘ ">resolve</a> <var>result</var> with Â« Â», and abort these steps.
                            </p>
                        <li data-md>
                            <p>If <var>rootPath</var>â€™s <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a> is
                                greater than <var>childPath</var>â€™s <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-sizeâ‘ ">size</a>,
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolveâ‘¡">resolve</a> <var>result</var> with null, and abort these
                                steps.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate">For each</a> <var>index</var> of <var>rootPath</var>â€™s <a
                                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-get-the-indices"
                                    id="ref-for-list-get-the-indices">indices</a>:</p>
                            <ol>
                                <li data-md>
                                    <p>If <var>rootPath</var>.[[<var>index</var>]] is not
                                        <var>childPath</var>.[[<var>index</var>]], then
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolveâ‘¢">resolve</a> <var>result</var> with null, and abort
                                        these steps.
                                    </p>
                            </ol>
                        <li data-md>
                            <p>Let <var>relativePath</var> be Â« Â».</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterateâ‘ ">For each</a> <var>index</var> of <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#the-range" id="ref-for-the-range">the range</a>
                                from <var>rootPath</var>â€™s <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-sizeâ‘¡">size</a>
                                to <var>rootPath</var>â€™s <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-sizeâ‘¢">size</a>,
                                exclusive,
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                                    id="ref-for-list-append">append</a> <var>childPath</var>.[[<var>index</var>]] to
                                <var>relativePath</var>.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolveâ‘£">Resolve</a> <var>result</var> with <var>relativePath</var>.
                            </p>
                    </ol>
                <li data-md>
                    <p>Return <var>result</var>.</p>
            </ol>
        </div>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="file-system-locator">file system locator</dfn>
            represents a potential location of a
            <a data-link-type="dfn" href="#entry" id="ref-for-entryâ‘ â‘¡">file system entry</a>. A <a data-link-type="dfn"
                href="#file-system-locator" id="ref-for-file-system-locatorâ‘ ">file system locator</a> is either a <a
                data-link-type="dfn" href="#file-locator" id="ref-for-file-locator">file locator</a>
            or a <a data-link-type="dfn" href="#directory-locator" id="ref-for-directory-locatorâ‘ ">directory
                locator</a>.
        </p>
        <p>Each <a data-link-type="dfn" href="#file-system-locator" id="ref-for-file-system-locatorâ‘¡">file system
                locator</a> has an associated <dfn class="dfn-paneled" data-dfn-for="file system locator"
                data-dfn-type="dfn" data-export id="locator-path">path</dfn> (a <a data-link-type="dfn"
                href="#file-system-path" id="ref-for-file-system-path">file system path</a>),
            a <dfn class="dfn-paneled" data-dfn-for="file system locator" data-dfn-type="dfn" data-export
                id="locator-kind">kind</dfn> (a <code
                class="idl"><a data-link-type="idl" href="#enumdef-filesystemhandlekind" id="ref-for-enumdef-filesystemhandlekind">FileSystemHandleKind</a></code>),
            and
            a <dfn class="dfn-paneled" data-dfn-for="file system locator" data-dfn-type="dfn" data-export
                id="locator-root">root</dfn> (a <a data-link-type="dfn" href="#file-system-root"
                id="ref-for-file-system-root">file system root</a>).</p>
        <p class="XXX"> Consider giving each locator a <a data-link-type="dfn"
                href="https://storage.spec.whatwg.org/#storage-bucket" id="ref-for-storage-bucket">storage bucket</a>.
            <a href="https://github.com/whatwg/fs/issues/109">[Issue #109]</a>
        </p>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="file-locator">file locator</dfn> is a <a
                data-link-type="dfn" href="#file-system-locator" id="ref-for-file-system-locatorâ‘¢">file system
                locator</a> whose
            <a data-link-type="dfn" href="#locator-kind" id="ref-for-locator-kind">kind</a> is "<code
                class="idl"><a data-link-type="idl" href="#dom-filesystemhandlekind-file" id="ref-for-dom-filesystemhandlekind-file">file</a></code>".
            A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="directory-locator">directory locator</dfn> is
            a <a data-link-type="dfn" href="#file-system-locator" id="ref-for-file-system-locatorâ‘£">file system
                locator</a> whose
            <a data-link-type="dfn" href="#locator-kind" id="ref-for-locator-kindâ‘ ">kind</a> is "<code
                class="idl"><a data-link-type="idl" href="#dom-filesystemhandlekind-directory" id="ref-for-dom-filesystemhandlekind-directory">directory</a></code>".
        </p>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="file-system-root">file system root</dfn> is an
            opaque <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-stringâ‘¢">string</a>
            whose value is
            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                id="ref-for-implementation-defined">implementation-defined</a>.
        </p>
        <p class="example" id="example-locator"><a class="self-link" href="#example-locator"></a>For a <a
                data-link-type="dfn" href="#file-system-locator" id="ref-for-file-system-locatorâ‘¤">file system
                locator</a> <var>locator</var>
            whichs <a data-link-type="dfn" href="#locating-an-entry" id="ref-for-locating-an-entry">locates to</a> a <a
                data-link-type="dfn" href="#file" id="ref-for-fileâ‘£">file entry</a> <var>entry</var> that conceptually
            exists at the path <code>data/drafts/example.txt</code> relative to the root directory of
            a <a data-link-type="dfn" href="#origin-private-file-system" id="ref-for-origin-private-file-system">bucket
                file system</a>,
            <var>locator</var>â€™s <a data-link-type="dfn" href="#locator-kind" id="ref-for-locator-kindâ‘¡">kind</a> has to
            be "<code
                class="idl"><a data-link-type="idl" href="#dom-filesystemhandlekind-file" id="ref-for-dom-filesystemhandlekind-fileâ‘ ">file</a></code>",
            <var>locator</var>â€™s <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘¡">path</a> has to
            be Â« "<code>data</code>", "<code>drafts</code>", "<code>example.txt</code>" Â», and
            <var>locator</var>â€™s <a data-link-type="dfn" href="#locator-root" id="ref-for-locator-rootâ‘¡">root</a> might
            include relevant identifying
            information such as the <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-bucket"
                id="ref-for-storage-bucketâ‘ ">storage bucket</a> and the disk drive.

        </p>
        <p>A <a data-link-type="dfn" href="#file-system-locator" id="ref-for-file-system-locatorâ‘¥">file system
                locator</a> <var>a</var> is <dfn class="dfn-paneled" data-dfn-for="file system locator"
                data-dfn-type="dfn" data-noexport id="file-system-locator-the-same-locator-as">the same locator as</dfn>
            a <a data-link-type="dfn" href="#file-system-locator" id="ref-for-file-system-locatorâ‘¦">file system
                locator</a> <var>b</var> if
            <var>a</var>â€™s <a data-link-type="dfn" href="#locator-kind" id="ref-for-locator-kindâ‘¢">kind</a> is
            <var>b</var>â€™s <a data-link-type="dfn" href="#locator-kind" id="ref-for-locator-kindâ‘£">kind</a>,
            <var>a</var>â€™s <a data-link-type="dfn" href="#locator-root" id="ref-for-locator-rootâ‘¢">root</a> is
            <var>b</var>â€™s <a data-link-type="dfn" href="#locator-root" id="ref-for-locator-rootâ‘£">root</a>, and
            <var>a</var>â€™s <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘¢">path</a> is <a
                data-link-type="dfn" href="#file-system-path-the-same-path-as"
                id="ref-for-file-system-path-the-same-path-asâ‘ ">the same path as</a> <var>b</var>â€™s <a
                data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘£">path</a>.
        </p>
        <div class="algorithm" data-algorithm="locating an entry">

            The <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="locating an entry"
                id="locating-an-entry">locate an entry</dfn> algorithm given a
            <a data-link-type="dfn" href="#file-system-locator" id="ref-for-file-system-locatorâ‘§">file system
                locator</a> <var>locator</var> runs an <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#implementation-defined"
                id="ref-for-implementation-definedâ‘ ">implementation-defined</a> series of steps adhering to
            these constraints:


            <ul>
                <li data-md>
                    <p>If <var>locator</var> is a <a data-link-type="dfn" href="#file-locator"
                            id="ref-for-file-locatorâ‘ ">file locator</a>, they return a <a data-link-type="dfn"
                            href="#file" id="ref-for-fileâ‘¤">file entry</a> or null.</p>
                <li data-md>
                    <p>If <var>locator</var> is a <a data-link-type="dfn" href="#directory-locator"
                            id="ref-for-directory-locatorâ‘¡">directory locator</a>, they return a <a data-link-type="dfn"
                            href="#directory" id="ref-for-directoryâ‘¢">directory entry</a> or null.</p>
                <li data-md>
                    <p>If these steps return a non-null <var>entry</var>, then:</p>
                    <ul>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#getting-the-locator"
                                    id="ref-for-getting-the-locator">Getting the locator</a> with <var>entry</var>
                                returns <var>locator</var>,
                                provided no intermediate file system operations were run.</p>
                        <li data-md>
                            <p><var>entry</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                    id="ref-for-entry-name">name</a> is the last <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item">item</a> of
                                <var>locator</var>â€™s
                                <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘¤">path</a>.
                            </p>
                    </ul>
            </ul>
        </div>
        <div class="algorithm" data-algorithm="getting the locator">

            The <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="getting the locator"
                id="getting-the-locator">get the locator</dfn> algorithm given
            <a data-link-type="dfn" href="#entry" id="ref-for-entryâ‘ â‘¢">file system entry</a> <var>entry</var> runs an <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                id="ref-for-implementation-definedâ‘¡">implementation-defined</a> series of steps adhering to these
            constraints:


            <ul>
                <li data-md>
                    <p>If <var>entry</var> is a <a data-link-type="dfn" href="#file" id="ref-for-fileâ‘¥">file entry</a>,
                        they return a <a data-link-type="dfn" href="#file-locator" id="ref-for-file-locatorâ‘¡">file
                            locator</a>.</p>
                <li data-md>
                    <p>If <var>entry</var> is a <a data-link-type="dfn" href="#directory"
                            id="ref-for-directoryâ‘£">directory entry</a>, they return a <a data-link-type="dfn"
                            href="#directory-locator" id="ref-for-directory-locatorâ‘¢">directory locator</a>.</p>
                <li data-md>
                    <p>If these steps return <var>locator</var>, then:</p>
                    <ul>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#locating-an-entry"
                                    id="ref-for-locating-an-entryâ‘ ">Locating an entry</a> with <var>locator</var>
                                returns <var>entry</var>,
                                provided no intermediate file system operations were run.</p>
                        <li data-md>
                            <p><var>entry</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                    id="ref-for-entry-nameâ‘ ">name</a> is the last <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-itemâ‘ ">item</a> of
                                <var>locator</var>â€™s
                                <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘¥">path</a>.
                            </p>
                    </ul>
            </ul>
        </div>
        <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="file-system-path">file system path</dfn> is a
            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of one or more
            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-stringâ‘£">strings</a>.
            This may be a virtual path that is mapped to real location on disk or in memory,
            may correspond directly to a path on the local file system, or may not
            correspond to any file on disk at all. The actual physical location of the
            corresponding <a data-link-type="dfn" href="#entry" id="ref-for-entryâ‘ â‘£">file system entry</a> is <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                id="ref-for-implementation-definedâ‘¢">implementation-defined</a>.
        </p>
        <p class="example" id="example-path"><a class="self-link" href="#example-path"></a>Let <var>path</var> be the <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-listâ‘ ">list</a>
            Â« "<code>data</code>", "<code>drafts</code>", "<code>example.txt</code>" Â».
            There is no expectation that a file named <code>example.txt</code> exists anywhere on disk.

        </p>
        <p>A <a data-link-type="dfn" href="#file-system-path" id="ref-for-file-system-pathâ‘ ">file system path</a>
            <var>a</var> is <dfn class="dfn-paneled" data-dfn-for="file system path" data-dfn-type="dfn" data-noexport
                id="file-system-path-the-same-path-as">the same path as</dfn>
            a <a data-link-type="dfn" href="#file-system-path" id="ref-for-file-system-pathâ‘¡">file system path</a>
            <var>b</var> if
            <var>a</var>â€™s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size"
                id="ref-for-list-sizeâ‘£">size</a> is the same as <var>b</var>â€™s <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-sizeâ‘¤">size</a> and
            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterateâ‘¡">for
                each</a> <var>index</var> of <var>a</var>â€™s <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list-get-the-indices"
                id="ref-for-list-get-the-indicesâ‘ ">indices</a>
            <var>a</var>.[[<var>index</var>]] is <var>b</var>.[[<var>index</var>]].
        </p>
        <p class="warning"> The contents of a <a data-link-type="dfn" href="#file-system-locator"
                id="ref-for-file-system-locatorâ‘¨">file system locator</a>, including its
            <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘¦">path</a>, are not expected to be
            shared in their entirety
            with the website process. The <a data-link-type="dfn" href="#file-system-path"
                id="ref-for-file-system-pathâ‘¢">file system path</a> might contain components
            which are not known to the website unless the <a data-link-type="dfn" href="#file-system-locator"
                id="ref-for-file-system-locatorâ‘ â“ª">file system locator</a> is later
            <a data-link-type="dfn" href="#locator-resolve" id="ref-for-locator-resolve">resolved</a> relative to a
            parent <a data-link-type="dfn" href="#directory-locator" id="ref-for-directory-locatorâ‘£">directory
                locator</a>.

        </p>
        <h3 class="heading settled" data-level="2.2" id="api-filesystemhandle"><span class="secno">2.2. </span><span
                class="content">The <code
                    class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandle">FileSystemHandle</a></code>
                interface</span><a class="self-link" href="#api-filesystemhandle"></a></h3>
        <pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-filesystemhandlekind"><code><c- g>FileSystemHandleKind</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandleKind" data-dfn-type="enum-value" data-export id="dom-filesystemhandlekind-file"><code><c- s>"file"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandleKind" data-dfn-type="enum-value" data-export id="dom-filesystemhandlekind-directory"><code><c- s>"directory"</c-></code></dfn>,
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable" id="ref-for-serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="filesystemhandle"><code><c- g>FileSystemHandle</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-filesystemhandlekind" id="ref-for-enumdef-filesystemhandlekindâ‘ "><c- n>FileSystemHandleKind</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FileSystemHandleKind" href="#dom-filesystemhandle-kind" id="ref-for-dom-filesystemhandle-kind"><c- g>kind</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-filesystemhandle-name" id="ref-for-dom-filesystemhandle-name"><c- g>name</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemhandle-issameentry" id="ref-for-dom-filesystemhandle-issameentry"><c- g>isSameEntry</c-></a>(<a data-link-type="idl-name" href="#filesystemhandle" id="ref-for-filesystemhandleâ‘ "><c- n>FileSystemHandle</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandle/isSameEntry(other)" data-dfn-type="argument" data-export id="dom-filesystemhandle-issameentry-other-other"><code><c- g>other</c-></code></dfn>);
};
</pre>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandleâ‘¡">FileSystemHandle</a></code>
            object is associated with a <dfn class="dfn-paneled" data-dfn-for="FileSystemHandle" data-dfn-type="dfn"
                data-export id="filesystemhandle-locator">locator</dfn> (a
            <a data-link-type="dfn" href="#file-system-locator" id="ref-for-file-system-locatorâ‘ â‘ ">file system
                locator</a>).
        </p>
        <p class="note" role="note"><span class="marker">Note:</span> Multiple <code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandleâ‘¢">FileSystemHandle</a></code>
            objects can have
            <a data-link-type="dfn" href="#file-system-locator-the-same-locator-as"
                id="ref-for-file-system-locator-the-same-locator-as">the same</a> <a data-link-type="dfn"
                href="#file-system-locator" id="ref-for-file-system-locatorâ‘ â‘¡">file system locator</a>.
        </p>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandleâ‘£">FileSystemHandle</a></code>
            <dfn class="dfn-paneled" data-dfn-for="FileSystemHandle" data-dfn-type="dfn" data-export
                id="filesystemhandle-is-in-a-bucket-file-system">is in a bucket file system</dfn>
            if the first <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item"
                id="ref-for-list-itemâ‘¡">item</a> of its <a data-link-type="dfn" href="#filesystemhandle-locator"
                id="ref-for-filesystemhandle-locatorâ‘£">locator</a>â€™s
            <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘§">path</a> is the empty string.
        </p>
        <p class="note" role="note"><span class="marker">Note:</span> This is a bit magical, but it works since only the
            root directory of a
            <a data-link-type="dfn" href="#origin-private-file-system" id="ref-for-origin-private-file-systemâ‘ ">bucket
                file system</a> can have a <a data-link-type="dfn" href="#locator-path"
                id="ref-for-locator-pathâ‘¨">path</a> which
            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                id="ref-for-list-containâ‘ ">contains</a> an empty string. See <code
                class="idl"><a data-link-type="idl" href="#dom-storagemanager-getdirectory" id="ref-for-dom-storagemanager-getdirectoryâ‘ ">getDirectory()</a></code>.
            All other <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item"
                id="ref-for-list-itemâ‘¢">item</a>s of a <a data-link-type="dfn" href="#locator-path"
                id="ref-for-locator-pathâ‘ â“ª">path</a> will be a
            <a data-link-type="dfn" href="#valid-file-name" id="ref-for-valid-file-nameâ‘ ">valid file name</a>.
        </p>
        <p class="XXX"> Consider improving this situation by giving each locator a
            <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-bucket"
                id="ref-for-storage-bucketâ‘¡">storage bucket</a>. <a
                href="https://github.com/whatwg/fs/issues/109">[Issue #109]</a>
        </p>
        <div class="algorithm" data-algorithm="serialization steps">

            <code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandleâ‘¤">FileSystemHandle</a></code>
            objects are <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects"
                id="ref-for-serializable-objects">serializable objects</a>.


            <p>Their <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps"
                    id="ref-for-serialization-steps">serialization steps</a>, given <var>value</var>,
                <var>serialized</var> and <var>forStorage</var> are:
            </p>
            <ol>
                <li data-md>
                    <p>Set <var>serialized</var>.[[Origin]] to <var>value</var>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object">relevant settings object</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin">origin</a>.</p>
                <li data-md>
                    <p>Set <var>serialized</var>.[[Locator]] to <var>value</var>â€™s <a data-link-type="dfn"
                            href="#filesystemhandle-locator" id="ref-for-filesystemhandle-locatorâ‘¤">locator</a>.</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="deserialization steps">

            Their <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps"
                id="ref-for-deserialization-steps">deserialization steps</a>, given <var>serialized</var> and
            <var>value</var> are:


            <ol>
                <li data-md>
                    <p>If <var>serialized</var>.[[Origin]] is not <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin"
                            id="ref-for-same-origin">same origin</a> with
                        <var>value</var>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-objectâ‘ ">relevant settings object</a>â€™s <a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-originâ‘ ">origin</a>,
                        then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw">throw</a> a "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#datacloneerror" id="ref-for-datacloneerror">DataCloneError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Set <var>value</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¥">locator</a> to <var>serialized</var>.[[Locator]].</p>
            </ol>
        </div>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemhandle-kind" id="ref-for-dom-filesystemhandle-kindâ‘ ">kind</a></code>
                <dd data-md>
                    <p>Returns "<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemhandlekind-file" id="ref-for-dom-filesystemhandlekind-fileâ‘¡">file</a></code>"
                        if <var>handle</var> is a <code
                            class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandle">FileSystemFileHandle</a></code>,
                        or "<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemhandlekind-directory" id="ref-for-dom-filesystemhandlekind-directoryâ‘ ">directory</a></code>"
                        if <var>handle</var> is a <code
                            class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandle">FileSystemDirectoryHandle</a></code>.
                    </p>
                    <p>This can be used to distinguish files from directories when iterating over the contents
                        of a directory.</p>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemhandle-name" id="ref-for-dom-filesystemhandle-nameâ‘ ">name</a></code>
                <dd data-md>
                    <p>Returns the last path component of <var>handle</var>â€™s
                        <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¦">locator</a>â€™s <a data-link-type="dfn"
                            href="#locator-path" id="ref-for-locator-pathâ‘ â‘ ">path</a>.
                    </p>
            </dl>
        </div>
        <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandle" data-dfn-type="attribute" data-export
                id="dom-filesystemhandle-kind"><code>kind</code></dfn> getter steps are to return
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>â€™s <a
                data-link-type="dfn" href="#filesystemhandle-locator"
                id="ref-for-filesystemhandle-locatorâ‘§">locator</a>â€™s <a data-link-type="dfn" href="#locator-kind"
                id="ref-for-locator-kindâ‘¤">kind</a>.
        </p>
        <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandle" data-dfn-type="attribute" data-export
                id="dom-filesystemhandle-name"><code>name</code></dfn> getter steps are to return
            the last <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item"
                id="ref-for-list-itemâ‘£">item</a> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string"
                id="ref-for-stringâ‘¤">string</a>) of
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘ ">this</a>â€™s <a
                data-link-type="dfn" href="#filesystemhandle-locator"
                id="ref-for-filesystemhandle-locatorâ‘¨">locator</a>â€™s <a data-link-type="dfn" href="#locator-path"
                id="ref-for-locator-pathâ‘ â‘¡">path</a>.
        </p>
        <h4 class="heading settled" data-level="2.2.1" id="api-filesystemhandle-issameentry"><span class="secno">2.2.1.
            </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemhandle-issameentry" id="ref-for-dom-filesystemhandle-issameentryâ‘ ">isSameEntry()</a></code>
                method</span><a class="self-link" href="#api-filesystemhandle-issameentry"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>same</var> = await <var>handle1</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemhandle-issameentry" id="ref-for-dom-filesystemhandle-issameentryâ‘¡">isSameEntry</a></code>(
                    <var>handle2</var> )
                <dd data-md>
                    <p>Returns true if <var>handle1</var> and <var>handle2</var> represent the same file or directory.
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="isSameEntry(other)" data-algorithm-for="FileSystemHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandle" data-dfn-type="method" data-export
                id="dom-filesystemhandle-issameentry"><code>isSameEntry(<var>other</var>)</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¡">this</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realm">relevant Realm</a>.</p>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promiseâ‘ ">a new promise</a> in <var>realm</var>.</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-stepsâ‘ ">Enqueue the following steps</a> to the <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘£">file system
                            queue</a>:</p>
                    <ol>
                        <li data-md>
                            <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-thisâ‘¢">this</a>â€™s <a data-link-type="dfn"
                                    href="#filesystemhandle-locator" id="ref-for-filesystemhandle-locatorâ‘ â“ª">locator</a>
                                is
                                <a data-link-type="dfn" href="#file-system-locator-the-same-locator-as"
                                    id="ref-for-file-system-locator-the-same-locator-asâ‘ ">the same locator as</a>
                                <var>other</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                                    id="ref-for-filesystemhandle-locatorâ‘ â‘ ">locator</a>,
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolveâ‘¤">resolve</a> <var>p</var> with true.
                            </p>
                        <li data-md>
                            <p>Otherwise <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                    id="ref-for-resolveâ‘¥">resolve</a> <var>p</var> with false.</p>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="2.3" id="api-filesystemfilehandle"><span class="secno">2.3. </span><span
                class="content">The <code
                    class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandleâ‘ ">FileSystemFileHandle</a></code>
                interface</span><a class="self-link" href="#api-filesystemfilehandle"></a></h3>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-filesystemcreatewritableoptions"><code><c- g>FileSystemCreateWritableOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-booleanâ‘ "><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FileSystemCreateWritableOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-filesystemcreatewritableoptions-keepexistingdata"><code><c- g>keepExistingData</c-></code></dfn> = <c- b>false</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposedâ‘ "><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContextâ‘ "><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable" id="ref-for-serializableâ‘ "><c- g>Serializable</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="filesystemfilehandle"><code><c- g>FileSystemFileHandle</c-></code></dfn> : <a data-link-type="idl-name" href="#filesystemhandle" id="ref-for-filesystemhandleâ‘¥"><c- n>FileSystemHandle</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promiseâ‘ "><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-file" id="ref-for-dfn-file"><c- n>File</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-getfile" id="ref-for-dom-filesystemfilehandle-getfile"><c- g>getFile</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promiseâ‘¡"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘ "><c- n>FileSystemWritableFileStream</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-createwritable" id="ref-for-dom-filesystemfilehandle-createwritable"><c- g>createWritable</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemcreatewritableoptions" id="ref-for-dictdef-filesystemcreatewritableoptions"><c- n>FileSystemCreateWritableOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemFileHandle/createWritable(options), FileSystemFileHandle/createWritable()" data-dfn-type="argument" data-export id="dom-filesystemfilehandle-createwritable-options-options"><code><c- g>options</c-></code></dfn> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposedâ‘¡"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promiseâ‘¢"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘ "><c- n>FileSystemSyncAccessHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-createsyncaccesshandle" id="ref-for-dom-filesystemfilehandle-createsyncaccesshandle"><c- g>createSyncAccessHandle</c-></a>();
};
</pre>
        <p class="note" role="note"><span class="marker">Note:</span> A <code
                class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandleâ‘¡">FileSystemFileHandle</a></code>â€™s
            associated <a data-link-type="dfn" href="#filesystemhandle-locator"
                id="ref-for-filesystemhandle-locatorâ‘ â‘¡">locator</a>â€™s
            <a data-link-type="dfn" href="#locator-kind" id="ref-for-locator-kindâ‘¥">kind</a> is "<code
                class="idl"><a data-link-type="idl" href="#dom-filesystemhandlekind-file" id="ref-for-dom-filesystemhandlekind-fileâ‘¢">file</a></code>".
        </p>
        <div class="algorithm" data-algorithm="creating a child FileSystemFileHandle">

            To
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="creating a child FileSystemFileHandle" data-noexport
                id="creating-a-child-filesystemfilehandle">create a child <code>FileSystemFileHandle</code></dfn>
            given a <a data-link-type="dfn" href="#directory-locator" id="ref-for-directory-locatorâ‘¤">directory
                locator</a> <var>parentLocator</var> and a string <var>name</var> in a <a data-link-type="dfn"
                href="https://tc39.es/ecma262/#realm" id="ref-for-realm">Realm</a> <var>realm</var>:


            <ol>
                <li data-md>
                    <p>Let <var>handle</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-new">new</a> <code
                            class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandleâ‘¢">FileSystemFileHandle</a></code>
                        in <var>realm</var>.</p>
                <li data-md>
                    <p>Let <var>childType</var> be "<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemhandlekind-file" id="ref-for-dom-filesystemhandlekind-fileâ‘£">file</a></code>".
                    </p>
                <li data-md>
                    <p>Let <var>childRoot</var> be a copy of <var>parentLocator</var>â€™s <a data-link-type="dfn"
                            href="#locator-root" id="ref-for-locator-rootâ‘¤">root</a>.</p>
                <li data-md>
                    <p>Let <var>childPath</var> be the result of <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-clone" id="ref-for-list-clone">cloning</a>
                        <var>parentLocator</var>â€™s
                        <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘ â‘¢">path</a> and <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-appendâ‘ ">appending</a> <var>name</var>.
                    </p>
                <li data-md>
                    <p>Set <var>handle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘ â‘¢">locator</a> to a <a data-link-type="dfn"
                            href="#file-system-locator" id="ref-for-file-system-locatorâ‘ â‘¢">file system locator</a> whose
                        <a data-link-type="dfn" href="#locator-kind" id="ref-for-locator-kindâ‘¦">kind</a> is
                        <var>childType</var>,
                        <a data-link-type="dfn" href="#locator-root" id="ref-for-locator-rootâ‘¥">root</a> is
                        <var>childRoot</var>, and
                        <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘ â‘£">path</a> is
                        <var>childPath</var>.
                    </p>
                <li data-md>
                    <p>Return <var>handle</var>.</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="creating a new FileSystemFileHandle">

            To
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="creating a new FileSystemFileHandle"
                id="creating-a-new-filesystemfilehandle">create a new <code>FileSystemFileHandle</code></dfn>
            given a <a data-link-type="dfn" href="#file-system-root" id="ref-for-file-system-rootâ‘ ">file system root</a>
            <var>root</var> and a <a data-link-type="dfn" href="#file-system-path" id="ref-for-file-system-pathâ‘£">file
                system path</a> <var>path</var>
            in a <a data-link-type="dfn" href="https://tc39.es/ecma262/#realm" id="ref-for-realmâ‘ ">Realm</a>
            <var>realm</var>:


            <ol>
                <li data-md>
                    <p>Let <var>handle</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-newâ‘ ">new</a> <code
                            class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandleâ‘£">FileSystemFileHandle</a></code>
                        in <var>realm</var>.</p>
                <li data-md>
                    <p>Set <var>handle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘ â‘£">locator</a> to a <a data-link-type="dfn"
                            href="#file-system-locator" id="ref-for-file-system-locatorâ‘ â‘£">file system locator</a> whose
                        <a data-link-type="dfn" href="#locator-kind" id="ref-for-locator-kindâ‘§">kind</a> is "<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemhandlekind-file" id="ref-for-dom-filesystemhandlekind-fileâ‘¤">file</a></code>",
                        <a data-link-type="dfn" href="#locator-root" id="ref-for-locator-rootâ‘¦">root</a> is
                        <var>root</var>, and
                        <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘ â‘¤">path</a> is
                        <var>path</var>.
                    </p>
                <li data-md>
                    <p>Return <var>handle</var>.</p>
            </ol>
        </div>
        <p><code
                class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandleâ‘¤">FileSystemFileHandle</a></code>
            objects are <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects"
                id="ref-for-serializable-objectsâ‘ ">serializable objects</a>. Their <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps"
                id="ref-for-serialization-stepsâ‘ ">serialization steps</a> and
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps"
                id="ref-for-deserialization-stepsâ‘ ">deserialization steps</a> are the same as those for <code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandleâ‘¦">FileSystemHandle</a></code>.
        </p>
        <h4 class="heading settled" data-level="2.3.1" id="api-filesystemfilehandle-getfile"><span class="secno">2.3.1.
            </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-getfile" id="ref-for-dom-filesystemfilehandle-getfileâ‘ ">getFile()</a></code>
                method</span><a class="self-link" href="#api-filesystemfilehandle-getfile"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>file</var> = await <var>fileHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-getfile" id="ref-for-dom-filesystemfilehandle-getfileâ‘¡">getFile()</a></code>
                <dd data-md>
                    <p>Returns a <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-file" id="ref-for-dfn-fileâ‘ ">File</a></code>
                        representing the state on disk of the <a data-link-type="dfn" href="#file"
                            id="ref-for-fileâ‘¦">file entry</a>
                        <a data-link-type="dfn" href="#locating-an-entry" id="ref-for-locating-an-entryâ‘¡">locatable</a>
                        by <var>handle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘ â‘¤">locator</a>.
                        If the file on disk changes or is removed after this method is called, the returned
                        <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-file" id="ref-for-dfn-fileâ‘¡">File</a></code>
                        object will likely be no longer readable.
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getFile()" data-algorithm-for="FileSystemFileHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemFileHandle" data-dfn-type="method" data-export
                id="dom-filesystemfilehandle-getfile"><code>getFile()</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>result</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promiseâ‘¡">a new
                            promise</a>.</p>
                <li data-md>
                    <p>Let <var>locator</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘£">this</a>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘ â‘¥">locator</a>.</p>
                <li data-md>
                    <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¤">this</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global">relevant global object</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-stepsâ‘¡">Enqueue the following steps</a> to the <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘¤">file system
                            queue</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>entry</var> be the result of <a data-link-type="dfn" href="#locating-an-entry"
                                    id="ref-for-locating-an-entryâ‘¢">locating an entry</a> given <var>locator</var>.</p>
                        <li data-md>
                            <p>Let <var>accessResult</var> be the result of running <var>entry</var>â€™s
                                <a data-link-type="dfn" href="#entry-query-access"
                                    id="ref-for-entry-query-accessâ‘¢">query access</a> given "<code>read</code>".
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘ ">Queue a storage task</a> with <var>global</var>
                                to run these steps:</p>
                            <ol>
                                <li data-md>
                                    <p>If <var>accessResult</var>â€™s <a data-link-type="dfn"
                                            href="#file-system-access-result-permission-state"
                                            id="ref-for-file-system-access-result-permission-stateâ‘£">permission
                                            state</a>
                                        is not "<code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-grantedâ‘¡">granted</a></code>",
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘ ">reject</a> <var>result</var> with a
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘ ">DOMException</a></code>
                                        of <var>accessResult</var>â€™s
                                        <a data-link-type="dfn" href="#file-system-access-result-error-name"
                                            id="ref-for-file-system-access-result-error-nameâ‘¢">error name</a> and abort
                                        these steps.
                                    </p>
                                <li data-md>
                                    <p>If <var>entry</var> is null, <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘¡">reject</a> <var>result</var> with a
                                        "<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror">NotFoundError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¡">DOMException</a></code>
                                        and abort these steps.
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                            id="ref-for-assert">Assert</a>: <var>entry</var> is a <a
                                            data-link-type="dfn" href="#file" id="ref-for-fileâ‘§">file entry</a>.</p>
                                <li data-md>
                                    <p>Let <var>f</var> be a new <code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-file" id="ref-for-dfn-fileâ‘¢">File</a></code>.
                                    </p>
                                <li data-md>
                                    <p>Set <var>f</var>â€™s <a data-link-type="dfn"
                                            href="https://w3c.github.io/FileAPI/#snapshot-state"
                                            id="ref-for-snapshot-state">snapshot state</a> to the current state of
                                        <var>entry</var>.
                                    </p>
                                <li data-md>
                                    <p>Set <var>f</var>â€™s underlying byte sequence to a copy of <var>entry</var>â€™s <a
                                            data-link-type="dfn" href="#file-entry-binary-data"
                                            id="ref-for-file-entry-binary-dataâ‘ ">binary data</a>.</p>
                                <li data-md>
                                    <p>Set <var>f</var>â€™s <code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-name" id="ref-for-dfn-name">name</a></code>
                                        to <var>entry</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                            id="ref-for-entry-nameâ‘¡">name</a>.</p>
                                <li data-md>
                                    <p>Set <var>f</var>â€™s <code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-lastModified" id="ref-for-dfn-lastModified">lastModified</a></code>
                                        to <var>entry</var>â€™s <a data-link-type="dfn"
                                            href="#file-entry-modification-timestamp"
                                            id="ref-for-file-entry-modification-timestampâ‘ ">modification timestamp</a>.
                                    </p>
                                <li data-md>
                                    <p>Set <var>f</var>â€™s <code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-type" id="ref-for-dfn-type">type</a></code>
                                        to an <a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#implementation-defined"
                                            id="ref-for-implementation-definedâ‘£">implementation-defined</a> value, based
                                        on
                                        for example <var>entry</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                            id="ref-for-entry-nameâ‘¢">name</a> or its file extension.</p>
                                    <p class="XXX"> The reading and snapshotting behavior needs to be better specified
                                        in the <a data-link-type="biblio" href="#biblio-file-api"
                                            title="File API">[FILE-API]</a> spec,
                                        for now this is kind of hand-wavy.</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolveâ‘¦">Resolve</a> <var>result</var> with <var>f</var>.</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Return <var>result</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.3.2" id="api-filesystemfilehandle-createwritable"><span
                class="secno">2.3.2. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-createwritable" id="ref-for-dom-filesystemfilehandle-createwritableâ‘ ">createWritable()</a></code>
                method</span><a class="self-link" href="#api-filesystemfilehandle-createwritable"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>stream</var> = await <var>fileHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-createwritable" id="ref-for-dom-filesystemfilehandle-createwritableâ‘¡">createWritable()</a></code>
                <dt data-md><var>stream</var> = await <var>fileHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-createwritable" id="ref-for-dom-filesystemfilehandle-createwritableâ‘¢">createWritable</a></code>({
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemcreatewritableoptions-keepexistingdata" id="ref-for-dom-filesystemcreatewritableoptions-keepexistingdata">keepExistingData</a></code>:
                    true/false })
                <dd data-md>
                    <p>Returns a <code
                            class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘¡">FileSystemWritableFileStream</a></code>
                        that can be used to write to the file. Any changes made through
                        <var>stream</var> wonâ€™t be reflected in the <a data-link-type="dfn" href="#file"
                            id="ref-for-fileâ‘¨">file entry</a> <a data-link-type="dfn" href="#locating-an-entry"
                            id="ref-for-locating-an-entryâ‘£">locatable</a> by
                        <var>fileHandle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘ â‘¦">locator</a> until the stream has been closed.
                        User agents try to ensure that no partial writes happen, i.e. the file
                        will either contain its old contents or it will contain whatever data was written
                        through <var>stream</var> up until the stream has been closed.
                    </p>
                    <p>This is typically implemented by writing data to a temporary file, and only replacing the
                        <a data-link-type="dfn" href="#file" id="ref-for-fileâ‘ â“ª">file entry</a> <a data-link-type="dfn"
                            href="#locating-an-entry" id="ref-for-locating-an-entryâ‘¤">locatable</a> by
                        <var>fileHandle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘ â‘§">locator</a>
                        with the temporary file when the writable filestream is closed.
                    </p>
                    <p>If <code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemcreatewritableoptions-keepexistingdata" id="ref-for-dom-filesystemcreatewritableoptions-keepexistingdataâ‘ ">keepExistingData</a></code>
                        is false or not specified,
                        the temporary file starts out empty,
                        otherwise the existing file is first copied to this temporary file.</p>
                    <p>Creating a <code
                            class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘¢">FileSystemWritableFileStream</a></code>
                        <a data-link-type="dfn" href="#file-entry-lock-take" id="ref-for-file-entry-lock-take">takes a
                            shared lock</a> on the
                        <a data-link-type="dfn" href="#file" id="ref-for-fileâ‘ â‘ ">file entry</a> <a data-link-type="dfn"
                            href="#locating-an-entry" id="ref-for-locating-an-entryâ‘¥">locatable</a> with
                        <var>fileHandle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘ â‘¨">locator</a>.
                        This prevents the creation of <code
                            class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘¡">FileSystemSyncAccessHandles</a></code>
                        for the entry, until the stream is closed.
                    </p>
            </dl>
        </div>
        <p class="XXX">See <a href="https://github.com/WICG/file-system-access/issues/67">WICG/file-system-access issue
                #67</a>
            for discussion around and desire for a "inPlace" mode for createWritable (where
            changes will be written to the actual underlying file as they are written to the
            writer, for example to support in-place modification of large files or things
            like databases). This is not currently implemented in Chrome. Implementing this
            is currently blocked on figuring out how to combine the desire to run malware
            checks with the desire to let websites make fast in-place modifications to
            existing large files. In-place writes are available for files in a
            <a data-link-type="dfn" href="#origin-private-file-system" id="ref-for-origin-private-file-systemâ‘¡">bucket
                file system</a> via the <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘¢">FileSystemSyncAccessHandle</a></code>
            interface.

        </p>
        <div class="algorithm" data-algorithm="createWritable(options)" data-algorithm-for="FileSystemFileHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemFileHandle" data-dfn-type="method" data-export
                data-lt="createWritable(options)|createWritable()"
                id="dom-filesystemfilehandle-createwritable"><code>createWritable(<var>options</var>)</code></dfn>
            method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>result</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promiseâ‘¢">a new
                            promise</a>.</p>
                <li data-md>
                    <p>Let <var>locator</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¥">this</a>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¡â“ª">locator</a>.</p>
                <li data-md>
                    <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¦">this</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realmâ‘ ">relevant Realm</a>.</p>
                <li data-md>
                    <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘§">this</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-globalâ‘ ">relevant global object</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-stepsâ‘¢">Enqueue the following steps</a> to the <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘¥">file system
                            queue</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>entry</var> be the result of <a data-link-type="dfn" href="#locating-an-entry"
                                    id="ref-for-locating-an-entryâ‘¦">locating an entry</a> given <var>locator</var>.</p>
                        <li data-md>
                            <p>Let <var>accessResult</var> be the result of running <var>entry</var>â€™s
                                <a data-link-type="dfn" href="#entry-request-access"
                                    id="ref-for-entry-request-accessâ‘¢">request access</a> given
                                "<code>readwrite</code>".
                            </p>
                        <li data-md>
                            <p>If <var>accessResult</var>â€™s <a data-link-type="dfn"
                                    href="#file-system-access-result-permission-state"
                                    id="ref-for-file-system-access-result-permission-stateâ‘¤">permission state</a>
                                is not "<code
                                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-grantedâ‘¢">granted</a></code>",
                                <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘¡">queue a storage task</a> with
                                <var>global</var> to <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-rejectâ‘¢">reject</a>
                                <var>result</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¢">DOMException</a></code>
                                of
                                <var>accessResult</var>â€™s <a data-link-type="dfn"
                                    href="#file-system-access-result-error-name"
                                    id="ref-for-file-system-access-result-error-nameâ‘£">error name</a> and
                                abort these steps.
                            </p>
                        <li data-md>
                            <p>If <var>entry</var> is <code>null</code>, <a data-link-type="dfn"
                                    href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘¢">queue a storage task</a> with <var>global</var>
                                to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                    id="ref-for-rejectâ‘£">reject</a>
                                <var>result</var> with a "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderrorâ‘ ">NotFoundError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘£">DOMException</a></code>
                                and abort these steps.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                    id="ref-for-assertâ‘ ">Assert</a>: <var>entry</var> is a <a data-link-type="dfn"
                                    href="#file" id="ref-for-fileâ‘ â‘¡">file entry</a>.</p>
                        <li data-md>
                            <p>Let <var>lockResult</var> be the result of <a data-link-type="dfn"
                                    href="#file-entry-lock-take" id="ref-for-file-entry-lock-takeâ‘ ">taking a lock</a>
                                with "<code>shared</code>" on <var>entry</var>.</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘£">Queue a storage task</a> with <var>global</var>
                                to run these steps:</p>
                            <ol>
                                <li data-md>
                                    <p>If <var>lockResult</var> is "<code>failure</code>", <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘¤">reject</a> <var>result</var> with a
                                        "<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#nomodificationallowederror" id="ref-for-nomodificationallowederror">NoModificationAllowedError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¤">DOMException</a></code>
                                        and abort these steps.
                                    </p>
                                <li data-md>
                                    <p>Let <var>stream</var> be the result of <a data-link-type="dfn"
                                            href="#create-a-new-filesystemwritablefilestream"
                                            id="ref-for-create-a-new-filesystemwritablefilestream">creating a new
                                            <code>FileSystemWritableFileStream</code></a>
                                        for <var>entry</var> in <var>realm</var>.</p>
                                <li data-md>
                                    <p>If <var>options</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-filesystemcreatewritableoptions-keepexistingdata" id="ref-for-dom-filesystemcreatewritableoptions-keepexistingdataâ‘¡">keepExistingData</a></code>"]
                                        is true:</p>
                                    <ol>
                                        <li data-md>
                                            <p>Set <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-buffer">[[buffer]]</a> to a
                                                copy of <var>entry</var>â€™s
                                                <a data-link-type="dfn" href="#file-entry-binary-data"
                                                    id="ref-for-file-entry-binary-dataâ‘¡">binary data</a>.
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolveâ‘§">Resolve</a> <var>result</var> with <var>stream</var>.
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Return <var>result</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.3.3" id="api-filesystemfilehandle-createsyncaccesshandle"><span
                class="secno">2.3.3. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-createsyncaccesshandle" id="ref-for-dom-filesystemfilehandle-createsyncaccesshandleâ‘ ">createSyncAccessHandle()</a></code>
                method</span><a class="self-link" href="#api-filesystemfilehandle-createsyncaccesshandle"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> = await <var>fileHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-createsyncaccesshandle" id="ref-for-dom-filesystemfilehandle-createsyncaccesshandleâ‘¡">createSyncAccessHandle</a></code>()
                <dd data-md>
                    <p>Returns a <code
                            class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘£">FileSystemSyncAccessHandle</a></code>
                        that can be used to read from/write to the file.
                        Changes made through <var>handle</var> might be immediately reflected in the
                        <a data-link-type="dfn" href="#file" id="ref-for-fileâ‘ â‘¢">file entry</a> <a data-link-type="dfn"
                            href="#locating-an-entry" id="ref-for-locating-an-entryâ‘§">locatable</a> by
                        <var>fileHandle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¡â‘ ">locator</a>.
                        To ensure the changes are reflected in this file, the handle can be flushed.
                    </p>
                    <p>Creating a <code
                            class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘¤">FileSystemSyncAccessHandle</a></code>
                        <a data-link-type="dfn" href="#file-entry-lock-take" id="ref-for-file-entry-lock-takeâ‘¡">takes an
                            exclusive lock</a> on the
                        <a data-link-type="dfn" href="#file" id="ref-for-fileâ‘ â‘£">file entry</a> <a data-link-type="dfn"
                            href="#locating-an-entry" id="ref-for-locating-an-entryâ‘¨">locatable</a> with
                        <var>fileHandle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¡â‘¡">locator</a>.
                        This prevents the creation of further <code
                            class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘¥">FileSystemSyncAccessHandles</a></code>
                        or <code
                            class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘£">FileSystemWritableFileStreams</a></code>
                        for the entry, until the access handle is closed.
                    </p>
                    <p>The returned <code
                            class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘¦">FileSystemSyncAccessHandle</a></code>
                        offers synchronous methods. This allows for higher performance
                        on contexts where asynchronous operations come with high overhead, e.g., WebAssembly.</p>
                    <p>For the time being, this method will only succeed when the <var>fileHandle</var>
                        <a data-link-type="dfn" href="#filesystemhandle-is-in-a-bucket-file-system"
                            id="ref-for-filesystemhandle-is-in-a-bucket-file-system">is in a bucket file system</a>.
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="createSyncAccessHandle()" data-algorithm-for="FileSystemFileHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemFileHandle" data-dfn-type="method" data-export
                id="dom-filesystemfilehandle-createsyncaccesshandle"><code>createSyncAccessHandle()</code></dfn> method
            steps are:


            <ol>
                <li data-md>
                    <p>Let <var>result</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promiseâ‘£">a new
                            promise</a>.</p>
                <li data-md>
                    <p>Let <var>locator</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¨">this</a>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¡â‘¢">locator</a>.</p>
                <li data-md>
                    <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘ â“ª">this</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realmâ‘¡">relevant Realm</a>.</p>
                <li data-md>
                    <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘ â‘ ">this</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-globalâ‘¡">relevant global object</a>.</p>
                <li data-md>
                    <p>Let <var>isInABucketFileSystem</var> be true if
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘ â‘¡">this</a>
                        <a data-link-type="dfn" href="#filesystemhandle-is-in-a-bucket-file-system"
                            id="ref-for-filesystemhandle-is-in-a-bucket-file-systemâ‘ ">is in a bucket file system</a>;
                        otherwise false.
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-stepsâ‘£">Enqueue the following steps</a> to the <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘¦">file system
                            queue</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>entry</var> be the result of <a data-link-type="dfn" href="#locating-an-entry"
                                    id="ref-for-locating-an-entryâ‘ â“ª">locating an entry</a> given <var>locator</var>.</p>
                        <li data-md>
                            <p>Let <var>accessResult</var> be the result of running <var>entry</var>â€™s
                                <a data-link-type="dfn" href="#entry-request-access"
                                    id="ref-for-entry-request-accessâ‘£">request access</a> given
                                "<code>readwrite</code>".
                            </p>
                        <li data-md>
                            <p>If <var>accessResult</var>â€™s <a data-link-type="dfn"
                                    href="#file-system-access-result-permission-state"
                                    id="ref-for-file-system-access-result-permission-stateâ‘¥">permission state</a>
                                is not "<code
                                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-grantedâ‘£">granted</a></code>",
                                <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘¤">queue a storage task</a> with
                                <var>global</var> to <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-rejectâ‘¥">reject</a>
                                <var>result</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¥">DOMException</a></code>
                                of
                                <var>accessResult</var>â€™s <a data-link-type="dfn"
                                    href="#file-system-access-result-error-name"
                                    id="ref-for-file-system-access-result-error-nameâ‘¤">error name</a> and
                                abort these steps.
                            </p>
                        <li data-md>
                            <p>If <var>isInABucketFileSystem</var> is false,
                                <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘¥">queue a storage task</a> with <var>global</var>
                                to
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                    id="ref-for-rejectâ‘¦">reject</a> <var>result</var> with an "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¦">DOMException</a></code>
                                and
                                abort these steps.
                            </p>
                        <li data-md>
                            <p>If <var>entry</var> is <code>null</code>, <a data-link-type="dfn"
                                    href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘¦">queue a storage task</a> with <var>global</var>
                                to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                    id="ref-for-rejectâ‘§">reject</a>
                                <var>result</var> with a "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderrorâ‘¡">NotFoundError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘§">DOMException</a></code>
                                and abort these steps.
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                    id="ref-for-assertâ‘¡">Assert</a>: <var>entry</var> is a <a data-link-type="dfn"
                                    href="#file" id="ref-for-fileâ‘ â‘¤">file entry</a>.</p>
                        <li data-md>
                            <p>Let <var>lockResult</var> be the result of <a data-link-type="dfn"
                                    href="#file-entry-lock-take" id="ref-for-file-entry-lock-takeâ‘¢">taking a lock</a>
                                with "<code>exclusive</code>" on <var>entry</var>.</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘§">Queue a storage task</a> with <var>global</var>
                                to run these steps:</p>
                            <ol>
                                <li data-md>
                                    <p>If <var>lockResult</var> is "<code>failure</code>", <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘¨">reject</a> <var>result</var> with a
                                        "<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#nomodificationallowederror" id="ref-for-nomodificationallowederrorâ‘ ">NoModificationAllowedError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¨">DOMException</a></code>
                                        and abort these steps.
                                    </p>
                                <li data-md>
                                    <p>Let <var>handle</var> be the result of <a data-link-type="dfn"
                                            href="#create-a-new-filesystemsyncaccesshandle"
                                            id="ref-for-create-a-new-filesystemsyncaccesshandle">creating a new
                                            <code>FileSystemSyncAccessHandle</code></a>
                                        for <var>entry</var> in <var>realm</var>.</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolveâ‘¨">Resolve</a> <var>result</var> with <var>handle</var>.
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Return <var>result</var>.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="2.4" id="api-filesystemdirectoryhandle"><span class="secno">2.4.
            </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandleâ‘ ">FileSystemDirectoryHandle</a></code>
                interface</span><a class="self-link" href="#api-filesystemdirectoryhandle"></a></h3>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-filesystemgetfileoptions"><code><c- g>FileSystemGetFileOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-booleanâ‘¡"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FileSystemGetFileOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-filesystemgetfileoptions-create"><code><c- g>create</c-></code></dfn> = <c- b>false</c->;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-filesystemgetdirectoryoptions"><code><c- g>FileSystemGetDirectoryOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-booleanâ‘¢"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FileSystemGetDirectoryOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-filesystemgetdirectoryoptions-create"><code><c- g>create</c-></code></dfn> = <c- b>false</c->;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-filesystemremoveoptions"><code><c- g>FileSystemRemoveOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-booleanâ‘£"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FileSystemRemoveOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-filesystemremoveoptions-recursive"><code><c- g>recursive</c-></code></dfn> = <c- b>false</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposedâ‘¢"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContextâ‘¡"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable" id="ref-for-serializableâ‘¡"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="filesystemdirectoryhandle"><code><c- g>FileSystemDirectoryHandle</c-></code></dfn> : <a data-link-type="idl-name" href="#filesystemhandle" id="ref-for-filesystemhandleâ‘§"><c- n>FileSystemHandle</c-></a> {
  <c- b>async_iterable</c->&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVStringâ‘ "><c- b>USVString</c-></a>, <a data-link-type="idl-name" href="#filesystemhandle" id="ref-for-filesystemhandleâ‘¨"><c- n>FileSystemHandle</c-></a>>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promiseâ‘£"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemfilehandle" id="ref-for-filesystemfilehandleâ‘¥"><c- n>FileSystemFileHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-getfilehandle" id="ref-for-dom-filesystemdirectoryhandle-getfilehandle"><c- g>getFileHandle</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVStringâ‘¡"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/getFileHandle(name, options), FileSystemDirectoryHandle/getFileHandle(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-getfilehandle-name-options-name"><code><c- g>name</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemgetfileoptions" id="ref-for-dictdef-filesystemgetfileoptions"><c- n>FileSystemGetFileOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/getFileHandle(name, options), FileSystemDirectoryHandle/getFileHandle(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-getfilehandle-name-options-options"><code><c- g>options</c-></code></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promiseâ‘¤"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandleâ‘¡"><c- n>FileSystemDirectoryHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-getdirectoryhandle" id="ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle"><c- g>getDirectoryHandle</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVStringâ‘¢"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/getDirectoryHandle(name, options), FileSystemDirectoryHandle/getDirectoryHandle(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-name"><code><c- g>name</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemgetdirectoryoptions" id="ref-for-dictdef-filesystemgetdirectoryoptions"><c- n>FileSystemGetDirectoryOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/getDirectoryHandle(name, options), FileSystemDirectoryHandle/getDirectoryHandle(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promiseâ‘¥"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-removeentry" id="ref-for-dom-filesystemdirectoryhandle-removeentry"><c- g>removeEntry</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVStringâ‘£"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/removeEntry(name, options), FileSystemDirectoryHandle/removeEntry(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-removeentry-name-options-name"><code><c- g>name</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemremoveoptions" id="ref-for-dictdef-filesystemremoveoptions"><c- n>FileSystemRemoveOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/removeEntry(name, options), FileSystemDirectoryHandle/removeEntry(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-removeentry-name-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promiseâ‘¦"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVStringâ‘¤"><c- b>USVString</c-></a>>?> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-resolve" id="ref-for-dom-filesystemdirectoryhandle-resolve"><c- g>resolve</c-></a>(<a data-link-type="idl-name" href="#filesystemhandle" id="ref-for-filesystemhandleâ‘ â“ª"><c- n>FileSystemHandle</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/resolve(possibleDescendant)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-resolve-possibledescendant-possibledescendant"><code><c- g>possibleDescendant</c-></code></dfn>);
};
</pre>
        <p class="note" role="note"><span class="marker">Note:</span> A <code
                class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandleâ‘¢">FileSystemDirectoryHandle</a></code>â€™s
            associated <a data-link-type="dfn" href="#filesystemhandle-locator"
                id="ref-for-filesystemhandle-locatorâ‘¡â‘£">locator</a>â€™s
            <a data-link-type="dfn" href="#locator-kind" id="ref-for-locator-kindâ‘¨">kind</a> is "<code
                class="idl"><a data-link-type="idl" href="#dom-filesystemhandlekind-directory" id="ref-for-dom-filesystemhandlekind-directoryâ‘¡">directory</a></code>".
        </p>
        <div class="algorithm" data-algorithm="creating a child FileSystemDirectoryHandle">

            To
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="creating a child FileSystemDirectoryHandle"
                data-noexport id="creating-a-child-filesystemdirectoryhandle">create a child
                <code>FileSystemDirectoryHandle</code></dfn>
            given a <a data-link-type="dfn" href="#directory-locator" id="ref-for-directory-locatorâ‘¥">directory
                locator</a> <var>parentLocator</var> and a string <var>name</var> in a <a data-link-type="dfn"
                href="https://tc39.es/ecma262/#realm" id="ref-for-realmâ‘¡">Realm</a> <var>realm</var>:


            <ol>
                <li data-md>
                    <p>Let <var>handle</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-newâ‘¡">new</a> <code
                            class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandleâ‘£">FileSystemDirectoryHandle</a></code>
                        in <var>realm</var>.</p>
                <li data-md>
                    <p>Let <var>childType</var> be "<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemhandlekind-directory" id="ref-for-dom-filesystemhandlekind-directoryâ‘¢">directory</a></code>".
                    </p>
                <li data-md>
                    <p>Let <var>childRoot</var> be a copy of <var>parentLocator</var>â€™s <a data-link-type="dfn"
                            href="#locator-root" id="ref-for-locator-rootâ‘§">root</a>.</p>
                <li data-md>
                    <p>Let <var>childPath</var> be the result of <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-clone" id="ref-for-list-cloneâ‘ ">cloning</a>
                        <var>parentLocator</var>â€™s
                        <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘ â‘¥">path</a> and <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                            id="ref-for-list-appendâ‘¡">appending</a> <var>name</var>.
                    </p>
                <li data-md>
                    <p>Set <var>handle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¡â‘¤">locator</a> to a <a data-link-type="dfn"
                            href="#file-system-locator" id="ref-for-file-system-locatorâ‘ â‘¤">file system locator</a> whose
                        <a data-link-type="dfn" href="#locator-kind" id="ref-for-locator-kindâ‘ â“ª">kind</a> is
                        <var>childType</var>,
                        <a data-link-type="dfn" href="#locator-root" id="ref-for-locator-rootâ‘¨">root</a> is
                        <var>childRoot</var>, and
                        <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘ â‘¦">path</a> is
                        <var>childPath</var>.
                    </p>
                <li data-md>
                    <p>Return <var>handle</var>.</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="creating a new FileSystemDirectoryHandle">

            To
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="creating a new FileSystemDirectoryHandle"
                id="creating-a-new-filesystemdirectoryhandle">create a new <code>FileSystemDirectoryHandle</code></dfn>
            given a <a data-link-type="dfn" href="#file-system-root" id="ref-for-file-system-rootâ‘¡">file system root</a>
            <var>root</var> and a <a data-link-type="dfn" href="#file-system-path" id="ref-for-file-system-pathâ‘¤">file
                system path</a> <var>path</var>
            in a <a data-link-type="dfn" href="https://tc39.es/ecma262/#realm" id="ref-for-realmâ‘¢">Realm</a>
            <var>realm</var>:


            <ol>
                <li data-md>
                    <p>Let <var>handle</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-newâ‘¢">new</a> <code
                            class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandleâ‘¤">FileSystemDirectoryHandle</a></code>
                        in <var>realm</var>.</p>
                <li data-md>
                    <p>Set <var>handle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¡â‘¥">locator</a> to a <a data-link-type="dfn"
                            href="#file-system-locator" id="ref-for-file-system-locatorâ‘ â‘¥">file system locator</a> whose
                        <a data-link-type="dfn" href="#locator-kind" id="ref-for-locator-kindâ‘ â‘ ">kind</a> is "<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemhandlekind-directory" id="ref-for-dom-filesystemhandlekind-directoryâ‘£">directory</a></code>",
                        <a data-link-type="dfn" href="#locator-root" id="ref-for-locator-rootâ‘ â“ª">root</a> is
                        <var>root</var>, and
                        <a data-link-type="dfn" href="#locator-path" id="ref-for-locator-pathâ‘ â‘§">path</a> is
                        <var>path</var>.
                    </p>
                <li data-md>
                    <p>Return <var>handle</var>.</p>
            </ol>
        </div>
        <p><code
                class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandleâ‘¥">FileSystemDirectoryHandle</a></code>
            objects are <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects"
                id="ref-for-serializable-objectsâ‘¡">serializable objects</a>. Their <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps"
                id="ref-for-serialization-stepsâ‘¡">serialization steps</a> and
            <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps"
                id="ref-for-deserialization-stepsâ‘¡">deserialization steps</a> are the same as those for <code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandleâ‘ â‘ ">FileSystemHandle</a></code>.
        </p>
        <h4 class="heading settled" data-level="2.4.1" id="api-filesystemdirectoryhandle-asynciterable"><span
                class="secno">2.4.1. </span><span class="content">Directory iteration</span><a class="self-link"
                href="#api-filesystemdirectoryhandle-asynciterable"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md>for await (let [<var>name</var>, <var>handle</var>] of <var>directoryHandle</var>) {}
                <dt data-md>for await (let [<var>name</var>, <var>handle</var>] of <var>directoryHandle</var> .
                    entries()) {}
                <dt data-md>for await (let <var>handle</var> of <var>directoryHandle</var> . values()) {}
                <dt data-md>for await (let <var>name</var> of <var>directoryHandle</var> . keys()) {}
                <dd data-md>
                    <p>Iterates over all entries whose parent is the <a data-link-type="dfn" href="#directory"
                            id="ref-for-directoryâ‘¤">directory entry</a>
                        <a data-link-type="dfn" href="#locating-an-entry" id="ref-for-locating-an-entryâ‘ â‘ ">locatable</a>
                        by <var>directoryHandle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¡â‘¦">locator</a>.
                        Entries that are created or deleted while the iteration is in progress
                        might or might not be included. No guarantees are given either way.
                    </p>
            </dl>
        </div>
        <p class="XXX"> In the future we might want to add arguments to the async_iterable declaration to
            support for example recursive iteration. <a href="https://github.com/whatwg/fs/issues/15">[Issue #15]</a>
        </p>
        <div class="algorithm" data-algorithm="iterator initialization">

            The <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps"
                id="ref-for-asynchronous-iterator-initialization-steps">asynchronous iterator initialization steps</a>
            for a
            <code
                class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandleâ‘¦">FileSystemDirectoryHandle</a></code>
            <var>handle</var>
            and its async iterator <var>iterator</var> are:


            <ol>
                <li data-md>
                    <p>Set <var>iterator</var>â€™s <dfn class="dfn-paneled"
                            data-dfn-for="FileSystemDirectoryHandle-iterator" data-dfn-type="dfn" data-noexport
                            id="filesystemdirectoryhandle-iterator-past-results">past results</dfn> to an empty <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set"
                            id="ref-for-ordered-setâ‘ ">set</a>.</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="next iteration result">

            To <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result"
                id="ref-for-dfn-get-the-next-iteration-result">get the next iteration result</a> for a <code
                class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandleâ‘§">FileSystemDirectoryHandle</a></code>
            <var>handle</var>
            and its async iterator <var>iterator</var>:


            <ol>
                <li data-md>
                    <p>Let <var>promise</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promiseâ‘¤">a new
                            promise</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-stepsâ‘¤">Enqueue the following steps</a> to the <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘§">file system
                            queue</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>directory</var> be the result of <a data-link-type="dfn"
                                    href="#locating-an-entry" id="ref-for-locating-an-entryâ‘ â‘¡">locating an entry</a>
                                given <var>handle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                                    id="ref-for-filesystemhandle-locatorâ‘¡â‘§">locator</a>.</p>
                        <li data-md>
                            <p>Let <var>accessResult</var> be the result of running <var>directory</var>â€™s
                                <a data-link-type="dfn" href="#entry-query-access"
                                    id="ref-for-entry-query-accessâ‘£">query access</a> given "<code>read</code>".
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘¨">Queue a storage task</a> with <var>handle</var>â€™s
                                <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-globalâ‘¢">relevant global object</a> to
                                run these steps:
                            </p>
                            <ol>
                                <li data-md>
                                    <p>If <var>accessResult</var>â€™s <a data-link-type="dfn"
                                            href="#file-system-access-result-permission-state"
                                            id="ref-for-file-system-access-result-permission-stateâ‘¦">permission
                                            state</a>
                                        is not "<code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-grantedâ‘¤">granted</a></code>",
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘ â“ª">reject</a> <var>promise</var> with a
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘ â“ª">DOMException</a></code>
                                        of <var>accessResult</var>â€™s
                                        <a data-link-type="dfn" href="#file-system-access-result-error-name"
                                            id="ref-for-file-system-access-result-error-nameâ‘¥">error name</a> and abort
                                        these steps.:
                                    </p>
                                <li data-md>
                                    <p>If <var>directory</var> is <code>null</code>, <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘ â‘ ">reject</a> <var>result</var> with a
                                        "<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderrorâ‘¢">NotFoundError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘ â‘ ">DOMException</a></code>
                                        and abort these steps.
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                                    id="ref-for-assertâ‘¢">Assert</a>: <var>directory</var> is a <a
                                                    data-link-type="dfn" href="#directory"
                                                    id="ref-for-directoryâ‘¥">directory entry</a>.</p>
                                    </ol>
                                <li data-md>
                                    <p>Let <var>child</var> be a <a data-link-type="dfn" href="#entry"
                                            id="ref-for-entryâ‘ â‘¤">file system entry</a> in
                                        <var>directory</var>â€™s <a data-link-type="dfn" href="#directory-entry-children"
                                            id="ref-for-directory-entry-childrenâ‘¡">children</a>, such that
                                        <var>child</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                            id="ref-for-entry-nameâ‘£">name</a> is not contained in
                                        <var>iterator</var>â€™s <a data-link-type="dfn"
                                            href="#filesystemdirectoryhandle-iterator-past-results"
                                            id="ref-for-filesystemdirectoryhandle-iterator-past-results">past
                                            results</a>, or <code>null</code> if no such entry exists.
                                    </p>
                                    <p class="note" role="note"><span class="marker">Note:</span> This is intentionally
                                        very vague about the iteration order.
                                        Different platforms and file systems provide different guarantees about
                                        iteration order, and we want it to be possible to efficiently implement
                                        this on all platforms. As such no guarantees are given about the exact
                                        order in which elements are returned.</p>
                                <li data-md>
                                    <p>If <var>child</var> is <code>null</code>, <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolveâ‘ â“ª">resolve</a> <var>promise</var> with
                                        <code>undefined</code> and
                                        abort these steps.
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                                            id="ref-for-set-append">Append</a> <var>child</var>â€™s <a
                                            data-link-type="dfn" href="#entry-name" id="ref-for-entry-nameâ‘¤">name</a> to
                                        <var>iterator</var>â€™s <a data-link-type="dfn"
                                            href="#filesystemdirectoryhandle-iterator-past-results"
                                            id="ref-for-filesystemdirectoryhandle-iterator-past-resultsâ‘ ">past
                                            results</a>.
                                    </p>
                                <li data-md>
                                    <p>If <var>child</var> is a <a data-link-type="dfn" href="#file"
                                            id="ref-for-fileâ‘ â‘¥">file entry</a>:</p>
                                    <ol>
                                        <li data-md>
                                            <p>Let <var>result</var> be the result of
                                                <a data-link-type="dfn" href="#creating-a-child-filesystemfilehandle"
                                                    id="ref-for-creating-a-child-filesystemfilehandle">creating a child
                                                    <code>FileSystemFileHandle</code></a> with
                                                <var>handle</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemhandle-locator"
                                                    id="ref-for-filesystemhandle-locatorâ‘¡â‘¨">locator</a> and
                                                <var>child</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                                    id="ref-for-entry-nameâ‘¥">name</a> in <var>handle</var>â€™s <a
                                                    data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                                    id="ref-for-concept-relevant-realmâ‘¢">relevant Realm</a>.
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p>Otherwise:</p>
                                    <ol>
                                        <li data-md>
                                            <p>Let <var>result</var> be the result of
                                                <a data-link-type="dfn"
                                                    href="#creating-a-child-filesystemdirectoryhandle"
                                                    id="ref-for-creating-a-child-filesystemdirectoryhandle">creating a
                                                    child <code>FileSystemDirectoryHandle</code></a> with
                                                <var>handle</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemhandle-locator"
                                                    id="ref-for-filesystemhandle-locatorâ‘¢â“ª">locator</a> and
                                                <var>child</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                                    id="ref-for-entry-nameâ‘¦">name</a> in <var>handle</var>â€™s <a
                                                    data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                                    id="ref-for-concept-relevant-realmâ‘£">relevant Realm</a>.
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolveâ‘ â‘ ">Resolve</a> <var>promise</var> with
                                        (<var>child</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                            id="ref-for-entry-nameâ‘§">name</a>, <var>result</var>).</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Return <var>promise</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.4.2" id="api-filesystemdirectoryhandle-getfilehandle"><span
                class="secno">2.4.2. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getfilehandle" id="ref-for-dom-filesystemdirectoryhandle-getfilehandleâ‘ ">getFileHandle()</a></code>
                method</span><a class="self-link" href="#api-filesystemdirectoryhandle-getfilehandle"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>fileHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getfilehandle" id="ref-for-dom-filesystemdirectoryhandle-getfilehandleâ‘¡">getFileHandle</a></code>(<var>name</var>)
                <dt data-md><var>fileHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getfilehandle" id="ref-for-dom-filesystemdirectoryhandle-getfilehandleâ‘¢">getFileHandle</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemgetfileoptions-create" id="ref-for-dom-filesystemgetfileoptions-create">create</a></code>:
                    false })
                <dd data-md>
                    <p>Returns a handle for a file named <var>name</var> in the <a data-link-type="dfn"
                            href="#directory" id="ref-for-directoryâ‘¦">directory entry</a>
                        <a data-link-type="dfn" href="#locating-an-entry" id="ref-for-locating-an-entryâ‘ â‘¢">locatable</a>
                        by <var>directoryHandle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¢â‘ ">locator</a>.
                        If no such file exists, this rejects.
                    </p>
                <dt data-md><var>fileHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getfilehandle" id="ref-for-dom-filesystemdirectoryhandle-getfilehandleâ‘£">getFileHandle</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemgetfileoptions-create" id="ref-for-dom-filesystemgetfileoptions-createâ‘ ">create</a></code>:
                    true })
                <dd data-md>
                    <p>Returns a handle for a file named <var>name</var> in the <a data-link-type="dfn"
                            href="#directory" id="ref-for-directoryâ‘§">directory entry</a>
                        <a data-link-type="dfn" href="#locating-an-entry" id="ref-for-locating-an-entryâ‘ â‘£">locatable</a>
                        by <var>directoryHandle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¢â‘¡">locator</a>.
                        If no such file exists, this creates a new file. If no file with named <var>name</var> can be
                        created this
                        rejects. Creation can fail because there already is a directory with the same name, because the
                        name uses characters that arenâ€™t supported in file names on the underlying file system, or
                        because the user agent for security reasons decided not to allow creation of the file.
                    </p>
                    <p>This operation requires write permission, even if the file being returned already exists. If
                        this handle doesnâ€™t already have write permission, this could result in a prompt being shown to
                        the user. To get an existing file without needing write permission, call this method
                        with
                        <code>{ <code class="idl"><a data-link-type="idl" href="#dom-filesystemgetfileoptions-create" id="ref-for-dom-filesystemgetfileoptions-createâ‘¡">create</a></code>:
                        false }</code>.
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getFileHandle(name, options)"
            data-algorithm-for="FileSystemDirectoryHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle" data-dfn-type="method"
                data-export data-lt="getFileHandle(name, options)|getFileHandle(name)"
                id="dom-filesystemdirectoryhandle-getfilehandle"><code>getFileHandle(<var>name</var>, <var>options</var>)</code></dfn>
            method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>result</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promiseâ‘¥">a new
                            promise</a>.</p>
                <li data-md>
                    <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘ â‘¢">this</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realmâ‘¤">relevant Realm</a>.</p>
                <li data-md>
                    <p>Let <var>locator</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘ â‘£">this</a>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¢â‘¢">locator</a>.</p>
                <li data-md>
                    <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘ â‘¤">this</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-globalâ‘£">relevant global object</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-stepsâ‘¥">Enqueue the following steps</a> to the <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘¨">file system
                            queue</a>:</p>
                    <ol>
                        <li data-md>
                            <p>If <var>name</var> is not a <a data-link-type="dfn" href="#valid-file-name"
                                    id="ref-for-valid-file-nameâ‘¡">valid file name</a>, <a data-link-type="dfn"
                                    href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘ â“ª">queue a storage task</a> with
                                <var>global</var> to <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-rejectâ‘ â‘¡">reject</a>
                                <var>result</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>
                                and
                                abort these steps.
                            </p>
                        <li data-md>
                            <p>Let <var>entry</var> be the result of <a data-link-type="dfn" href="#locating-an-entry"
                                    id="ref-for-locating-an-entryâ‘ â‘¤">locating an entry</a> given <var>locator</var>.</p>
                        <li data-md>
                            <p>If <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-filesystemgetfileoptions-create" id="ref-for-dom-filesystemgetfileoptions-createâ‘¢">create</a></code>"]
                                is true:</p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>accessResult</var> be the result of running <var>entry</var>â€™s
                                        <a data-link-type="dfn" href="#entry-request-access"
                                            id="ref-for-entry-request-accessâ‘¤">request access</a> given
                                        "<code>readwrite</code>".
                                    </p>
                            </ol>
                        <li data-md>
                            <p>Otherwise:</p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>accessResult</var> be the result of running <var>entry</var>â€™s
                                        <a data-link-type="dfn" href="#entry-query-access"
                                            id="ref-for-entry-query-accessâ‘¤">query access</a> given "<code>read</code>".
                                    </p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘ â‘ ">Queue a storage task</a> with <var>global</var>
                                to run these steps:</p>
                            <ol>
                                <li data-md>
                                    <p>If <var>accessResult</var>â€™s <a data-link-type="dfn"
                                            href="#file-system-access-result-permission-state"
                                            id="ref-for-file-system-access-result-permission-stateâ‘§">permission
                                            state</a>
                                        is not "<code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-grantedâ‘¥">granted</a></code>",
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘ â‘¢">reject</a> <var>result</var> with a
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘ â‘¡">DOMException</a></code>
                                        of <var>accessResult</var>â€™s
                                        <a data-link-type="dfn" href="#file-system-access-result-error-name"
                                            id="ref-for-file-system-access-result-error-nameâ‘¦">error name</a> and abort
                                        these steps.
                                    </p>
                                <li data-md>
                                    <p>If <var>entry</var> is <code>null</code>, <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘ â‘£">reject</a> <var>result</var> with a
                                        "<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderrorâ‘£">NotFoundError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘ â‘¢">DOMException</a></code>
                                        and abort these steps.
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                            id="ref-for-assertâ‘£">Assert</a>: <var>entry</var> is a <a
                                            data-link-type="dfn" href="#directory" id="ref-for-directoryâ‘¨">directory
                                            entry</a>.</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                            id="ref-for-list-iterateâ‘¢">For each</a> <var>child</var> of
                                        <var>entry</var>â€™s <a data-link-type="dfn" href="#directory-entry-children"
                                            id="ref-for-directory-entry-childrenâ‘¢">children</a>:
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>If <var>child</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                                    id="ref-for-entry-nameâ‘¨">name</a> equals <var>name</var>:</p>
                                            <ol>
                                                <li data-md>
                                                    <p>If <var>child</var> is a <a data-link-type="dfn"
                                                            href="#directory" id="ref-for-directoryâ‘ â“ª">directory
                                                            entry</a>:</p>
                                                    <ol>
                                                        <li data-md>
                                                            <p><a data-link-type="dfn"
                                                                    href="https://webidl.spec.whatwg.org/#reject"
                                                                    id="ref-for-rejectâ‘ â‘¤">Reject</a> <var>result</var>
                                                                with a
                                                                "<code
                                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#typemismatcherror" id="ref-for-typemismatcherror">TypeMismatchError</a></code>"
                                                                <code
                                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘ â‘£">DOMException</a></code>
                                                                and abort these steps.
                                                            </p>
                                                    </ol>
                                                <li data-md>
                                                    <p><a data-link-type="dfn"
                                                            href="https://webidl.spec.whatwg.org/#resolve"
                                                            id="ref-for-resolveâ‘ â‘¡">Resolve</a> <var>result</var> with
                                                        the result of
                                                        <a data-link-type="dfn"
                                                            href="#creating-a-child-filesystemfilehandle"
                                                            id="ref-for-creating-a-child-filesystemfilehandleâ‘ ">creating
                                                            a child <code>FileSystemFileHandle</code></a> with
                                                        <var>locator</var> and
                                                        <var>child</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                                            id="ref-for-entry-nameâ‘ â“ª">name</a> in <var>realm</var> and
                                                        abort these steps.
                                                    </p>
                                            </ol>
                                    </ol>
                                <li data-md>
                                    <p>If <var>options</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-filesystemgetfileoptions-create" id="ref-for-dom-filesystemgetfileoptions-createâ‘£">create</a></code>"]
                                        is false:</p>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-rejectâ‘ â‘¥">Reject</a> <var>result</var> with a "<code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderrorâ‘¤">NotFoundError</a></code>"
                                                <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘ â‘¤">DOMException</a></code>
                                                and
                                                abort these steps.
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p>Let <var>child</var> be a new <a data-link-type="dfn" href="#file"
                                            id="ref-for-fileâ‘ â‘¦">file entry</a> whose <a data-link-type="dfn"
                                            href="#entry-query-access" id="ref-for-entry-query-accessâ‘¥">query access</a>
                                        and
                                        <a data-link-type="dfn" href="#entry-request-access"
                                            id="ref-for-entry-request-accessâ‘¥">request access</a> algorithms are those
                                        of <var>entry</var>.
                                    </p>
                                <li data-md>
                                    <p>Set <var>child</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                            id="ref-for-entry-nameâ‘ â‘ ">name</a> to <var>name</var>.</p>
                                <li data-md>
                                    <p>Set <var>child</var>â€™s <a data-link-type="dfn" href="#file-entry-binary-data"
                                            id="ref-for-file-entry-binary-dataâ‘¢">binary data</a> to an empty <a
                                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                                            id="ref-for-byte-sequenceâ‘ ">byte sequence</a>.</p>
                                <li data-md>
                                    <p>Set <var>child</var>â€™s <a data-link-type="dfn"
                                            href="#file-entry-modification-timestamp"
                                            id="ref-for-file-entry-modification-timestampâ‘¡">modification timestamp</a>
                                        to the current time.</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                                            id="ref-for-set-appendâ‘ ">Append</a> <var>child</var> to <var>entry</var>â€™s
                                        <a data-link-type="dfn" href="#directory-entry-children"
                                            id="ref-for-directory-entry-childrenâ‘£">children</a>.
                                    </p>
                                <li data-md>
                                    <p>If creating <var>child</var> in the underlying file system throws an exception,
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘ â‘¦">reject</a> <var>result</var> with that exception and
                                        abort these steps.
                                    </p>
                                    <p class="XXX"> Better specify what possible exceptions this could throw. <a
                                            href="https://github.com/whatwg/fs/issues/11">[Issue #11]</a></p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolveâ‘ â‘¢">Resolve</a> <var>result</var> with the result of
                                        <a data-link-type="dfn" href="#creating-a-child-filesystemfilehandle"
                                            id="ref-for-creating-a-child-filesystemfilehandleâ‘¡">creating a child
                                            <code>FileSystemFileHandle</code></a> with <var>locator</var> and
                                        <var>child</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                            id="ref-for-entry-nameâ‘ â‘¡">name</a> in <var>realm</var>.
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Return <var>result</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.4.3" id="api-filesystemdirectoryhandle-getdirectoryhandle"><span
                class="secno">2.4.3. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getdirectoryhandle" id="ref-for-dom-filesystemdirectoryhandle-getdirectoryhandleâ‘ ">getDirectoryHandle()</a></code>
                method</span><a class="self-link" href="#api-filesystemdirectoryhandle-getdirectoryhandle"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>subdirHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getdirectoryhandle" id="ref-for-dom-filesystemdirectoryhandle-getdirectoryhandleâ‘¡">getDirectoryHandle</a></code>(<var>name</var>)
                <dt data-md><var>subdirHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getdirectoryhandle" id="ref-for-dom-filesystemdirectoryhandle-getdirectoryhandleâ‘¢">getDirectoryHandle</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemgetdirectoryoptions-create" id="ref-for-dom-filesystemgetdirectoryoptions-create">create</a></code>:
                    false })
                <dd data-md>
                    <p>Returns a handle for a directory named <var>name</var> in the <a data-link-type="dfn"
                            href="#directory" id="ref-for-directoryâ‘ â‘ ">directory entry</a>
                        <a data-link-type="dfn" href="#locating-an-entry" id="ref-for-locating-an-entryâ‘ â‘¥">locatable</a>
                        by <var>directoryHandle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¢â‘£">locator</a>.
                        If no such directory exists, this rejects.
                    </p>
                <dt data-md><var>subdirHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getdirectoryhandle" id="ref-for-dom-filesystemdirectoryhandle-getdirectoryhandleâ‘£">getDirectoryHandle</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemgetdirectoryoptions-create" id="ref-for-dom-filesystemgetdirectoryoptions-createâ‘ ">create</a></code>:
                    true })
                <dd data-md>
                    <p>Returns a handle for a directory named <var>name</var> in the <a data-link-type="dfn"
                            href="#directory" id="ref-for-directoryâ‘ â‘¡">directory entry</a>
                        <a data-link-type="dfn" href="#locating-an-entry" id="ref-for-locating-an-entryâ‘ â‘¦">locatable</a>
                        by <var>directoryHandle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¢â‘¤">locator</a> .
                        If no such directory exists, this creates a new directory. If creating the
                        directory failed, this rejects. Creation can fail because there already is a file with the same
                        name, or because the name uses characters that arenâ€™t supported in file names on the underlying
                        file system.
                    </p>
                    <p>This operation requires write permission, even if the directory being returned already exists.
                        If this handle doesnâ€™t already have write permission, this could result in a prompt being shown
                        to the user. To get an existing directory without needing write permission, call this method
                        with
                        <code>{ <code class="idl"><a data-link-type="idl" href="#dom-filesystemgetdirectoryoptions-create" id="ref-for-dom-filesystemgetdirectoryoptions-createâ‘¡">create</a></code>:
                        false }</code>.
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getDirectoryHandle(name, options)"
            data-algorithm-for="FileSystemDirectoryHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle" data-dfn-type="method"
                data-export data-lt="getDirectoryHandle(name, options)|getDirectoryHandle(name)"
                id="dom-filesystemdirectoryhandle-getdirectoryhandle"><code>getDirectoryHandle(<var>name</var>, <var>options</var>)</code></dfn>
            method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>result</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promiseâ‘¦">a new
                            promise</a>.</p>
                <li data-md>
                    <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘ â‘¥">this</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                            id="ref-for-concept-relevant-realmâ‘¥">relevant Realm</a>.</p>
                <li data-md>
                    <p>Let <var>locator</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘ â‘¦">this</a>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¢â‘¥">locator</a>.</p>
                <li data-md>
                    <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘ â‘§">this</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-globalâ‘¤">relevant global object</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-stepsâ‘¦">Enqueue the following steps</a> to the <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘ â“ª">file system
                            queue</a>:</p>
                    <ol>
                        <li data-md>
                            <p>If <var>name</var> is not a <a data-link-type="dfn" href="#valid-file-name"
                                    id="ref-for-valid-file-nameâ‘¢">valid file name</a>, <a data-link-type="dfn"
                                    href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘ â‘¡">queue a storage task</a> with
                                <var>global</var> to <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-rejectâ‘ â‘§">reject</a>
                                <var>result</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerrorâ‘ ">TypeError</a></code>
                                and
                                abort these steps.
                            </p>
                        <li data-md>
                            <p>Let <var>entry</var> be the result of <a data-link-type="dfn" href="#locating-an-entry"
                                    id="ref-for-locating-an-entryâ‘ â‘§">locating an entry</a> given <var>locator</var>.</p>
                        <li data-md>
                            <p>If <var>options</var>["<code
                                    class="idl"><a data-link-type="idl" href="#dom-filesystemgetdirectoryoptions-create" id="ref-for-dom-filesystemgetdirectoryoptions-createâ‘¢">create</a></code>"]
                                is true:</p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>accessResult</var> be the result of running <var>entry</var>â€™s
                                        <a data-link-type="dfn" href="#entry-request-access"
                                            id="ref-for-entry-request-accessâ‘¦">request access</a> given
                                        "<code>readwrite</code>".
                                    </p>
                            </ol>
                        <li data-md>
                            <p>Otherwise:</p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>accessResult</var> be the result of running <var>entry</var>â€™s
                                        <a data-link-type="dfn" href="#entry-query-access"
                                            id="ref-for-entry-query-accessâ‘¦">query access</a> given "<code>read</code>".
                                    </p>
                            </ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘ â‘¢">Queue a storage task</a> with <var>global</var>
                                to run these steps:</p>
                            <ol>
                                <li data-md>
                                    <p>If <var>accessResult</var>â€™s <a data-link-type="dfn"
                                            href="#file-system-access-result-permission-state"
                                            id="ref-for-file-system-access-result-permission-stateâ‘¨">permission
                                            state</a>
                                        is not "<code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-grantedâ‘¦">granted</a></code>",
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘ â‘¨">reject</a> <var>result</var> with a
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘ â‘¥">DOMException</a></code>
                                        of <var>accessResult</var>â€™s
                                        <a data-link-type="dfn" href="#file-system-access-result-error-name"
                                            id="ref-for-file-system-access-result-error-nameâ‘§">error name</a> and abort
                                        these steps.
                                    </p>
                                <li data-md>
                                    <p>If <var>entry</var> is <code>null</code>, <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘¡â“ª">reject</a> <var>result</var> with a
                                        "<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderrorâ‘¥">NotFoundError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘ â‘¦">DOMException</a></code>
                                        and abort these steps.
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                            id="ref-for-assertâ‘¤">Assert</a>: <var>entry</var> is a <a
                                            data-link-type="dfn" href="#directory" id="ref-for-directoryâ‘ â‘¢">directory
                                            entry</a>.</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                            id="ref-for-list-iterateâ‘£">For each</a> <var>child</var> of
                                        <var>entry</var>â€™s <a data-link-type="dfn" href="#directory-entry-children"
                                            id="ref-for-directory-entry-childrenâ‘¤">children</a>:
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>If <var>child</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                                    id="ref-for-entry-nameâ‘ â‘¢">name</a> equals <var>name</var>:</p>
                                            <ol>
                                                <li data-md>
                                                    <p>If <var>child</var> is a <a data-link-type="dfn" href="#file"
                                                            id="ref-for-fileâ‘ â‘§">file entry</a>:</p>
                                                    <ol>
                                                        <li data-md>
                                                            <p><a data-link-type="dfn"
                                                                    href="https://webidl.spec.whatwg.org/#reject"
                                                                    id="ref-for-rejectâ‘¡â‘ ">Reject</a> <var>result</var>
                                                                with a
                                                                "<code
                                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#typemismatcherror" id="ref-for-typemismatcherrorâ‘ ">TypeMismatchError</a></code>"
                                                                <code
                                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘ â‘§">DOMException</a></code>
                                                                and abort these steps.
                                                            </p>
                                                    </ol>
                                                <li data-md>
                                                    <p><a data-link-type="dfn"
                                                            href="https://webidl.spec.whatwg.org/#resolve"
                                                            id="ref-for-resolveâ‘ â‘£">Resolve</a> <var>result</var> with
                                                        the result of
                                                        <a data-link-type="dfn"
                                                            href="#creating-a-child-filesystemdirectoryhandle"
                                                            id="ref-for-creating-a-child-filesystemdirectoryhandleâ‘ ">creating
                                                            a child <code>FileSystemDirectoryHandle</code></a> with
                                                        <var>locator</var> and <var>child</var>â€™s <a
                                                            data-link-type="dfn" href="#entry-name"
                                                            id="ref-for-entry-nameâ‘ â‘£">name</a> in <var>realm</var> and
                                                        abort these steps.
                                                    </p>
                                            </ol>
                                    </ol>
                                <li data-md>
                                    <p>If <var>options</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-filesystemgetfileoptions-create" id="ref-for-dom-filesystemgetfileoptions-createâ‘¤">create</a></code>"]
                                        is false:</p>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-rejectâ‘¡â‘¡">Reject</a> <var>result</var> with a "<code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderrorâ‘¦">NotFoundError</a></code>"
                                                <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘ â‘¨">DOMException</a></code>
                                                and
                                                abort these steps.
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p>Let <var>child</var> be a new <a data-link-type="dfn" href="#directory"
                                            id="ref-for-directoryâ‘ â‘£">directory entry</a> whose <a data-link-type="dfn"
                                            href="#entry-query-access" id="ref-for-entry-query-accessâ‘§">query access</a>
                                        and
                                        <a data-link-type="dfn" href="#entry-request-access"
                                            id="ref-for-entry-request-accessâ‘§">request access</a> algorithms are those
                                        of <var>entry</var>.
                                    </p>
                                <li data-md>
                                    <p>Set <var>child</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                            id="ref-for-entry-nameâ‘ â‘¤">name</a> to <var>name</var>.</p>
                                <li data-md>
                                    <p>Set <var>child</var>â€™s <a data-link-type="dfn" href="#directory-entry-children"
                                            id="ref-for-directory-entry-childrenâ‘¥">children</a> to an empty <a
                                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set"
                                            id="ref-for-ordered-setâ‘¡">set</a>.</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                                            id="ref-for-set-appendâ‘¡">Append</a> <var>child</var> to <var>entry</var>â€™s
                                        <a data-link-type="dfn" href="#directory-entry-children"
                                            id="ref-for-directory-entry-childrenâ‘¦">children</a>.
                                    </p>
                                <li data-md>
                                    <p>If creating <var>child</var> in the underlying file system throws an exception,
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘¡â‘¢">reject</a> <var>result</var> with that exception and
                                        abort these steps.
                                    </p>
                                    <p class="XXX"> Better specify what possible exceptions this could throw. <a
                                            href="https://github.com/whatwg/fs/issues/11">[Issue #11]</a></p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolveâ‘ â‘¤">Resolve</a> <var>result</var> with the result of
                                        <a data-link-type="dfn" href="#creating-a-child-filesystemdirectoryhandle"
                                            id="ref-for-creating-a-child-filesystemdirectoryhandleâ‘¡">creating a child
                                            <code>FileSystemDirectoryHandle</code></a> with
                                        <var>locator</var> and <var>child</var>â€™s <a data-link-type="dfn"
                                            href="#entry-name" id="ref-for-entry-nameâ‘ â‘¥">name</a> in <var>realm</var>.
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Return <var>result</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.4.4" id="api-filesystemdirectoryhandle-removeentry"><span
                class="secno">2.4.4. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-removeentry" id="ref-for-dom-filesystemdirectoryhandle-removeentryâ‘ ">removeEntry()</a></code>
                method</span><a class="self-link" href="#api-filesystemdirectoryhandle-removeentry"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md>await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-removeentry" id="ref-for-dom-filesystemdirectoryhandle-removeentryâ‘¡">removeEntry</a></code>(<var>name</var>)
                <dt data-md>await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-removeentry" id="ref-for-dom-filesystemdirectoryhandle-removeentryâ‘¢">removeEntry</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemremoveoptions-recursive" id="ref-for-dom-filesystemremoveoptions-recursive">recursive</a></code>:
                    false })
                <dd data-md>
                    <p>If the <a data-link-type="dfn" href="#directory" id="ref-for-directoryâ‘ â‘¤">directory entry</a> <a
                            data-link-type="dfn" href="#locating-an-entry"
                            id="ref-for-locating-an-entryâ‘ â‘¨">locatable</a> by <var>directoryHandle</var>â€™s
                        <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¢â‘¦">locator</a> contains a file named <var>name</var>,
                        or an empty
                        directory named <var>name</var>, this will attempt to delete that file or directory.
                    </p>
                    <p>Attempting to delete a file or directory that does not exist is considered success,
                        while attempting to delete a non-empty directory will result in a promise rejection.</p>
                <dt data-md>await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-removeentry" id="ref-for-dom-filesystemdirectoryhandle-removeentryâ‘£">removeEntry</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemremoveoptions-recursive" id="ref-for-dom-filesystemremoveoptions-recursiveâ‘ ">recursive</a></code>:
                    true })
                <dd data-md>
                    <p>Removes the <a data-link-type="dfn" href="#entry" id="ref-for-entryâ‘ â‘¥">file system entry</a>
                        named <var>name</var> in the <a data-link-type="dfn" href="#directory"
                            id="ref-for-directoryâ‘ â‘¥">directory entry</a>
                        <a data-link-type="dfn" href="#locating-an-entry" id="ref-for-locating-an-entryâ‘¡â“ª">locatable</a>
                        by <var>directoryHandle</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¢â‘§">locator</a>.
                        If that entry is a directory, its contents will also be deleted recursively.
                    </p>
                    <p>Attempting to delete a file or directory that does not exist is considered success.</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="removeEntry(name, options)"
            data-algorithm-for="FileSystemDirectoryHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle" data-dfn-type="method"
                data-export data-lt="removeEntry(name, options)|removeEntry(name)"
                id="dom-filesystemdirectoryhandle-removeentry"><code>removeEntry(<var>name</var>, <var>options</var>)</code></dfn>
            method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>result</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promiseâ‘§">a new
                            promise</a>.</p>
                <li data-md>
                    <p>Let <var>locator</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘ â‘¨">this</a>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘¢â‘¨">locator</a>.</p>
                <li data-md>
                    <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¡â“ª">this</a>â€™s <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-globalâ‘¥">relevant global object</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-stepsâ‘§">Enqueue the following steps</a> to the <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘ â‘ ">file system
                            queue</a>:</p>
                    <ol>
                        <li data-md>
                            <p>If <var>name</var> is not a <a data-link-type="dfn" href="#valid-file-name"
                                    id="ref-for-valid-file-nameâ‘£">valid file name</a>, <a data-link-type="dfn"
                                    href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘ â‘£">queue a storage task</a> with
                                <var>global</var> to <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#reject" id="ref-for-rejectâ‘¡â‘£">reject</a>
                                <var>result</var> with a <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerrorâ‘¡">TypeError</a></code>
                                and
                                abort these steps.
                            </p>
                        <li data-md>
                            <p>Let <var>entry</var> be the result of <a data-link-type="dfn" href="#locating-an-entry"
                                    id="ref-for-locating-an-entryâ‘¡â‘ ">locating an entry</a> given <var>locator</var>.</p>
                        <li data-md>
                            <p>Let <var>accessResult</var> be the result of running <var>entry</var>â€™s
                                <a data-link-type="dfn" href="#entry-request-access"
                                    id="ref-for-entry-request-accessâ‘¨">request access</a> given
                                "<code>readwrite</code>".
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘ â‘¤">Queue a storage task</a> with <var>global</var>
                                to run these steps:</p>
                            <ol>
                                <li data-md>
                                    <p>If <var>accessResult</var>â€™s <a data-link-type="dfn"
                                            href="#file-system-access-result-permission-state"
                                            id="ref-for-file-system-access-result-permission-stateâ‘ â“ª">permission
                                            state</a>
                                        is not "<code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-grantedâ‘§">granted</a></code>",
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘¡â‘¤">reject</a> <var>result</var> with a
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¡â“ª">DOMException</a></code>
                                        of <var>accessResult</var>â€™s
                                        <a data-link-type="dfn" href="#file-system-access-result-error-name"
                                            id="ref-for-file-system-access-result-error-nameâ‘¨">error name</a> and abort
                                        these steps.
                                    </p>
                                <li data-md>
                                    <p>If <var>entry</var> is <code>null</code>, <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘¡â‘¥">reject</a> <var>result</var> with a
                                        "<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderrorâ‘§">NotFoundError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¡â‘ ">DOMException</a></code>
                                        and abort these steps.
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                            id="ref-for-assertâ‘¥">Assert</a>: <var>entry</var> is a <a
                                            data-link-type="dfn" href="#directory" id="ref-for-directoryâ‘ â‘¦">directory
                                            entry</a>.</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                            id="ref-for-list-iterateâ‘¤">For each</a> <var>child</var> of
                                        <var>entry</var>â€™s <a data-link-type="dfn" href="#directory-entry-children"
                                            id="ref-for-directory-entry-childrenâ‘§">children</a>:
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>If <var>child</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                                    id="ref-for-entry-nameâ‘ â‘¦">name</a> equals <var>name</var>:</p>
                                            <ol>
                                                <li data-md>
                                                    <p>If <var>child</var> is a <a data-link-type="dfn"
                                                            href="#directory" id="ref-for-directoryâ‘ â‘§">directory
                                                            entry</a>:</p>
                                                    <ol>
                                                        <li data-md>
                                                            <p>If <var>child</var>â€™s <a data-link-type="dfn"
                                                                    href="#directory-entry-children"
                                                                    id="ref-for-directory-entry-childrenâ‘¨">children</a>
                                                                is not
                                                                <a data-link-type="dfn"
                                                                    href="https://infra.spec.whatwg.org/#list-is-empty"
                                                                    id="ref-for-list-is-empty">empty</a> and
                                                                <var>options</var>["<code
                                                                    class="idl"><a data-link-type="idl" href="#dom-filesystemremoveoptions-recursive" id="ref-for-dom-filesystemremoveoptions-recursiveâ‘¡">recursive</a></code>"]
                                                                is false:
                                                            </p>
                                                            <ol>
                                                                <li data-md>
                                                                    <p><a data-link-type="dfn"
                                                                            href="https://webidl.spec.whatwg.org/#reject"
                                                                            id="ref-for-rejectâ‘¡â‘¦">Reject</a>
                                                                        <var>result</var> with an
                                                                        "<code
                                                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidmodificationerror" id="ref-for-invalidmodificationerror">InvalidModificationError</a></code>"
                                                                        <code
                                                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¡â‘¡">DOMException</a></code>
                                                                        and
                                                                        abort these steps.
                                                                    </p>
                                                            </ol>
                                                    </ol>
                                                <li data-md>
                                                    <p><a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#list-remove"
                                                            id="ref-for-list-remove">Remove</a> <var>child</var> from
                                                        <var>entry</var>â€™s <a data-link-type="dfn"
                                                            href="#directory-entry-children"
                                                            id="ref-for-directory-entry-childrenâ‘ â“ª">children</a>.
                                                    </p>
                                                <li data-md>
                                                    <p>If removing <var>child</var> in the underlying file system throws
                                                        an
                                                        exception, <a data-link-type="dfn"
                                                            href="https://webidl.spec.whatwg.org/#reject"
                                                            id="ref-for-rejectâ‘¡â‘§">reject</a> <var>result</var> with that
                                                        exception and
                                                        abort these steps.</p>
                                                    <p class="note" role="note"><span class="marker">Note:</span> If
                                                        <code
                                                            class="idl"><a data-link-type="idl" href="#dom-filesystemremoveoptions-recursive" id="ref-for-dom-filesystemremoveoptions-recursiveâ‘¢">recursive</a></code>
                                                        is true, the removal can fail
                                                        non-atomically. Some files or directories might have been
                                                        removed while other files
                                                        or directories still exist.
                                                    </p>
                                                    <p class="XXX"> Better specify what possible exceptions this could
                                                        throw. <a href="https://github.com/whatwg/fs/issues/11">[Issue
                                                            #11]</a></p>
                                                <li data-md>
                                                    <p><a data-link-type="dfn"
                                                            href="https://webidl.spec.whatwg.org/#resolve"
                                                            id="ref-for-resolveâ‘ â‘¥">Resolve</a> <var>result</var> with
                                                        <code>undefined</code>.
                                                    </p>
                                            </ol>
                                    </ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘¡â‘¨">Reject</a> <var>result</var> with a "<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderrorâ‘¨">NotFoundError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¡â‘¢">DOMException</a></code>.
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Return <var>result</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.4.5" id="api-filesystemdirectoryhandle-resolve"><span
                class="secno">2.4.5. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-resolve" id="ref-for-dom-filesystemdirectoryhandle-resolveâ‘ ">resolve()</a></code>
                method</span><a class="self-link" href="#api-filesystemdirectoryhandle-resolve"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>path</var> = await <var>directory</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-resolve" id="ref-for-dom-filesystemdirectoryhandle-resolveâ‘¡">resolve</a></code>(
                    <var>child</var> )
                <dd data-md>
                    <p>If <var>child</var> is equal to <var>directory</var>, <var>path</var> will be an empty array.</p>
                <dd data-md>
                    <p>If <var>child</var> is a direct child of <var>directory</var>, <var>path</var> will be an array
                        containing <var>child</var>â€™s name.</p>
                <dd data-md>
                    <p>If <var>child</var> is a descendant of <var>directory</var>, <var>path</var> will be an array
                        containing the names of
                        all the intermediate directories and <var>child</var>â€™s name as last element.
                        For example if <var>directory</var> represents <code>/home/user/project</code>
                        and <var>child</var> represents <code>/home/user/project/foo/bar</code>, this will return
                        <code>['foo', 'bar']</code>.
                    </p>
                <dd data-md>
                    <p>Otherwise (<var>directory</var> and <var>child</var> are not related), <var>path</var> will be
                        null.</p>
            </dl>
        </div>
        <div class="example" id="filesystemdirectoryhandle-resolve-example">
            <a class="self-link" href="#filesystemdirectoryhandle-resolve-example"></a>

            <pre class="highlight"><c- c1>// Assume we at some point got a valid directory handle.</c->
<c- a>const</c-> dir_ref <c- o>=</c-> current_project_dir<c- p>;</c->
<c- k>if</c-> <c- p>(</c-><c- o>!</c->dir_ref<c- p>)</c-> <c- k>return</c-><c- p>;</c->

<c- c1>// Now get a file reference:</c->
<c- a>const</c-> file_ref <c- o>=</c-> <c- k>await</c-> dir_ref<c- p>.</c->getFileHandle<c- p>(</c->filename<c- p>,</c-> <c- p>{</c-> create<c- o>:</c-> <c- kc>true</c-> <c- p>});</c->

<c- c1>// Check if file_ref exists inside dir_ref:</c->
<c- a>const</c-> relative_path <c- o>=</c-> <c- k>await</c-> dir_ref<c- p>.</c->resolve<c- p>(</c->file_ref<c- p>);</c->
<c- k>if</c-> <c- p>(</c->relative_path <c- o>===</c-> <c- kc>null</c-><c- p>)</c-> <c- p>{</c->
    <c- c1>// Not inside dir_ref.</c->
<c- p>}</c-> <c- k>else</c-> <c- p>{</c->
    <c- c1>// relative_path is an array of names, giving the relative path</c->
    <c- c1>// from dir_ref to the file that is represented by file_ref:</c->
    assert relative_path<c- p>.</c->pop<c- p>()</c-> <c- o>===</c-> file_ref<c- p>.</c->name<c- p>;</c->

    <c- a>let</c-> entry <c- o>=</c-> dir_ref<c- p>;</c->
    <c- k>for</c-> <c- p>(</c-><c- a>const</c-> name <c- k>of</c-> relative_path<c- p>)</c-> <c- p>{</c->
        entry <c- o>=</c-> <c- k>await</c-> entry<c- p>.</c->getDirectory<c- p>(</c->name<c- p>);</c->
    <c- p>}</c->
    entry <c- o>=</c-> <c- k>await</c-> entry<c- p>.</c->getFile<c- p>(</c->file_ref<c- p>.</c->name<c- p>);</c->

    <c- c1>// Now |entry| will represent the same file on disk as |file_ref|.</c->
    assert <c- k>await</c-> entry<c- p>.</c->isSameEntry<c- p>(</c->file_ref<c- p>)</c-> <c- o>===</c-> <c- kc>true</c-><c- p>;</c->
<c- p>}</c->
</pre>
        </div>
        <div class="algorithm" data-algorithm="resolve(possibleDescendant)"
            data-algorithm-for="FileSystemDirectoryHandle">
            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle" data-dfn-type="method"
                data-export
                id="dom-filesystemdirectoryhandle-resolve"><code>resolve(<var>possibleDescendant</var>)</code></dfn>
            method steps are
            to return the result of <a data-link-type="dfn" href="#locator-resolve"
                id="ref-for-locator-resolveâ‘ ">resolving</a>
            <var>possibleDescendant</var>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                id="ref-for-filesystemhandle-locatorâ‘£â“ª">locator</a>
            relative to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                id="ref-for-thisâ‘¡â‘ ">this</a>â€™s <a data-link-type="dfn" href="#filesystemhandle-locator"
                id="ref-for-filesystemhandle-locatorâ‘£â‘ ">locator</a>.

        </div>
        <h3 class="heading settled" data-level="2.5" id="api-filesystemwritablefilestream"><span class="secno">2.5.
            </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘¤">FileSystemWritableFileStream</a></code>
                interface</span><a class="self-link" href="#api-filesystemwritablefilestream"></a></h3>
        <pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-writecommandtype"><code><c- g>WriteCommandType</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="WriteCommandType" data-dfn-type="enum-value" data-export id="dom-writecommandtype-write"><code><c- s>"write"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="WriteCommandType" data-dfn-type="enum-value" data-export id="dom-writecommandtype-seek"><code><c- s>"seek"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="WriteCommandType" data-dfn-type="enum-value" data-export id="dom-writecommandtype-truncate"><code><c- s>"truncate"</c-></code></dfn>,
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-writeparams"><code><c- g>WriteParams</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-writecommandtype" id="ref-for-enumdef-writecommandtype"><c- n>WriteCommandType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WriteParams" data-dfn-type="dict-member" data-export data-type="WriteCommandType" id="dom-writeparams-type"><code><c- g>type</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="WriteParams" data-dfn-type="dict-member" data-export data-type="unsigned long long?" id="dom-writeparams-size"><code><c- g>size</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-longâ‘ "><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="WriteParams" data-dfn-type="dict-member" data-export data-type="unsigned long long?" id="dom-writeparams-position"><code><c- g>position</c-></code></dfn>;
  (<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#BufferSource" id="ref-for-BufferSource"><c- n>BufferSource</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob"><c- n>Blob</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVStringâ‘¥"><c- b>USVString</c-></a>)? <dfn class="dfn-paneled idl-code" data-dfn-for="WriteParams" data-dfn-type="dict-member" data-export data-type="(BufferSource or Blob or USVString)?" id="dom-writeparams-data"><code><c- g>data</c-></code></dfn>;
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#BufferSource" id="ref-for-BufferSourceâ‘ "><c- n>BufferSource</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blobâ‘ "><c- n>Blob</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVStringâ‘¦"><c- b>USVString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-writeparams" id="ref-for-dictdef-writeparams"><c- n>WriteParams</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-filesystemwritechunktype"><code><c- g>FileSystemWriteChunkType</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposedâ‘£"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContextâ‘¢"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="filesystemwritablefilestream"><code><c- g>FileSystemWritableFileStream</c-></code></dfn> : <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream"><c- n>WritableStream</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promiseâ‘§"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefinedâ‘ "><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-write"><c- g>write</c-></a>(<a data-link-type="idl-name" href="#typedefdef-filesystemwritechunktype" id="ref-for-typedefdef-filesystemwritechunktype"><c- n>FileSystemWriteChunkType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream/write(data)" data-dfn-type="argument" data-export id="dom-filesystemwritablefilestream-write-data-data"><code><c- g>data</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promiseâ‘¨"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefinedâ‘¡"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-seek" id="ref-for-dom-filesystemwritablefilestream-seek"><c- g>seek</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-longâ‘¡"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream/seek(position)" data-dfn-type="argument" data-export id="dom-filesystemwritablefilestream-seek-position-position"><code><c- g>position</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promiseâ‘ â“ª"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefinedâ‘¢"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-truncate" id="ref-for-dom-filesystemwritablefilestream-truncate"><c- g>truncate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-longâ‘¢"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream/truncate(size)" data-dfn-type="argument" data-export id="dom-filesystemwritablefilestream-truncate-size-size"><code><c- g>size</c-></code></dfn>);
};
</pre>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘¥">FileSystemWritableFileStream</a></code>
            has an associated <dfn class="dfn-paneled" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="dfn"
                data-noexport id="filesystemwritablefilestream-file">[[file]]</dfn> (a <a data-link-type="dfn"
                href="#file" id="ref-for-fileâ‘ â‘¨">file entry</a>).</p>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘¦">FileSystemWritableFileStream</a></code>
            has an associated <dfn class="dfn-paneled" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="dfn"
                data-noexport id="filesystemwritablefilestream-buffer">[[buffer]]</dfn> (a <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequenceâ‘¡">byte sequence</a>).
            It is initially empty.</p>
        <p class="note" role="note"><span class="marker">Note:</span> This buffer can get arbitrarily large, so it is
            expected that implementations will not keep this in memory,
            but instead use a temporary file for this. All access to [[buffer]] is done in promise returning methods and
            algorithms, so even though operations on it seem sync, implementations can implement them async.</p>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘§">FileSystemWritableFileStream</a></code>
            has an associated <dfn class="dfn-paneled" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="dfn"
                data-noexport id="filesystemwritablefilestream-seekoffset">[[seekOffset]]</dfn> (a number).
            It is initially 0.</p>
        <div class="note domintro" role="note">

            A <code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘¨">FileSystemWritableFileStream</a></code>
            object is a <code
                class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestreamâ‘ ">WritableStream</a></code>
            object with additional
            convenience methods, which operates on a single file on disk.


            <p>Upon creation, an underlying sink will have been created and the stream will be usable.
                All operations executed on the stream are queuable and producers will be able to respond to
                backpressure.</p>
            <p>The underlying sinkâ€™s write method, and therefore <code
                    class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#default-writer-write" id="ref-for-default-writer-write">WritableStreamDefaultWriterâ€™s write()</a></code>
                method, will accept byte-like data or <code
                    class="idl"><a data-link-type="idl" href="#dictdef-writeparams" id="ref-for-dictdef-writeparamsâ‘ ">WriteParams</a></code>
                as input.</p>
            <p>The <code
                    class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘ â“ª">FileSystemWritableFileStream</a></code>
                has a file position cursor initialized at byte offset 0 from the top of the file.
                When using <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-writeâ‘ ">write()</a></code>
                or by using WritableStream capabilities through the <code
                    class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#default-writer-write" id="ref-for-default-writer-writeâ‘ ">WritableStreamDefaultWriterâ€™s write()</a></code>
                method, this position will be advanced based on the number of bytes written through the stream object.
            </p>
            <p>Similarly, when piping a <code
                    class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream">ReadableStream</a></code>
                into a <code
                    class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘ â‘ ">FileSystemWritableFileStream</a></code>
                object, this position is updated with the number of bytes that passed through the stream.</p>
            <p><code
                    class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#ws-get-writer" id="ref-for-ws-get-writer">getWriter()</a></code>
                returns an instance of <code
                    class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter">WritableStreamDefaultWriter</a></code>.
            </p>
        </div>
        <div class="algorithm" data-algorithm="create a new FileSystemWritableFileStream">

            To
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="creating a new FileSystemWritableFileStream"
                data-noexport id="create-a-new-filesystemwritablefilestream">create a new
                <code>FileSystemWritableFileStream</code></dfn>
            given a <a data-link-type="dfn" href="#file" id="ref-for-fileâ‘¡â“ª">file entry</a> <var>file</var> in a <a
                data-link-type="dfn" href="https://tc39.es/ecma262/#realm" id="ref-for-realmâ‘£">Realm</a>
            <var>realm</var>:


            <ol>
                <li data-md>
                    <p>Let <var>stream</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-newâ‘£">new</a> <code
                            class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘ â‘¡">FileSystemWritableFileStream</a></code>
                        in <var>realm</var>.</p>
                <li data-md>
                    <p>Set <var>stream</var>â€™s <a data-link-type="dfn" href="#filesystemwritablefilestream-file"
                            id="ref-for-filesystemwritablefilestream-file">[[file]]</a> to <var>file</var>.</p>
                <li data-md>
                    <p>Let <var>writeAlgorithm</var> be an algorithm which takes a <var>chunk</var> argument
                        and returns the result of running the <a data-link-type="dfn" href="#write-a-chunk"
                            id="ref-for-write-a-chunk">write a chunk</a> algorithm with <var>stream</var> and
                        <var>chunk</var>.
                    </p>
                <li data-md>
                    <p>Let <var>closeAlgorithm</var> be these steps:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>closeResult</var> be <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promiseâ‘¨">a
                                    new promise</a>.</p>
                        <li data-md>
                            <p><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                                    id="ref-for-enqueue-the-following-stepsâ‘¨">Enqueue the following steps</a> to the <a
                                    data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘ â‘¡">file
                                    system queue</a>:</p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>accessResult</var> be the result of running <var>file</var>â€™s
                                        <a data-link-type="dfn" href="#entry-query-access"
                                            id="ref-for-entry-query-accessâ‘¨">query access</a> given
                                        "<code>readwrite</code>".
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn"
                                            href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                            id="ref-for-queue-a-storage-taskâ‘ â‘¥">Queue a storage task</a> with
                                        <var>file</var>â€™s <a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                            id="ref-for-concept-relevant-globalâ‘¦">relevant global object</a>
                                        to run these steps:
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>If <var>accessResult</var>â€™s <a data-link-type="dfn"
                                                    href="#file-system-access-result-permission-state"
                                                    id="ref-for-file-system-access-result-permission-stateâ‘ â‘ ">permission
                                                    state</a>
                                                is not "<code
                                                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-grantedâ‘¨">granted</a></code>",
                                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-rejectâ‘¢â“ª">reject</a> <var>closeResult</var>
                                                with a <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¡â‘£">DOMException</a></code>
                                                of <var>accessResult</var>â€™s
                                                <a data-link-type="dfn" href="#file-system-access-result-error-name"
                                                    id="ref-for-file-system-access-result-error-nameâ‘ â“ª">error name</a>
                                                and abort these steps.
                                            </p>
                                        <li data-md>
                                            <p>Run <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#implementation-defined"
                                                    id="ref-for-implementation-definedâ‘¤">implementation-defined</a>
                                                malware scans and safe browsing checks.
                                                If these checks fail, <a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-rejectâ‘¢â‘ ">reject</a> <var>closeResult</var> with an
                                                "<code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror">AbortError</a></code>"
                                                <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¡â‘¤">DOMException</a></code>
                                                and abort these steps.
                                            </p>
                                        <li data-md>
                                            <p>Set <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-file"
                                                    id="ref-for-filesystemwritablefilestream-fileâ‘ ">[[file]]</a>â€™s
                                                <a data-link-type="dfn" href="#file-entry-binary-data"
                                                    id="ref-for-file-entry-binary-dataâ‘£">binary data</a> to
                                                <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-bufferâ‘ ">[[buffer]]</a>.
                                                If that throws an exception, <a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-rejectâ‘¢â‘¡">reject</a> <var>closeResult</var> with that
                                                exception and abort these steps.
                                            </p>
                                            <p class="note" role="note"><span class="marker">Note:</span> It is expected
                                                that this atomically updates the contents of the
                                                file on disk being written to.</p>
                                        <li data-md>
                                            <p><a data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                                                    id="ref-for-enqueue-the-following-stepsâ‘ â“ª">Enqueue the following
                                                    steps</a> to the <a data-link-type="dfn" href="#file-system-queue"
                                                    id="ref-for-file-system-queueâ‘ â‘¢">file system queue</a>:</p>
                                            <ol>
                                                <li data-md>
                                                    <p><a data-link-type="dfn" href="#file-entry-lock-release"
                                                            id="ref-for-file-entry-lock-release">Release the lock</a> on
                                                        <var>stream</var>â€™s <a data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-file"
                                                            id="ref-for-filesystemwritablefilestream-fileâ‘¡">[[file]]</a>.
                                                    </p>
                                                <li data-md>
                                                    <p><a data-link-type="dfn"
                                                            href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                                            id="ref-for-queue-a-storage-taskâ‘ â‘¦">Queue a storage task</a>
                                                        with <var>file</var>â€™s <a data-link-type="dfn"
                                                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                                            id="ref-for-concept-relevant-globalâ‘§">relevant global
                                                            object</a>
                                                        to <a data-link-type="dfn"
                                                            href="https://webidl.spec.whatwg.org/#resolve"
                                                            id="ref-for-resolveâ‘ â‘¦">resolve</a> <var>closeResult</var>
                                                        with <code>undefined</code>.</p>
                                            </ol>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p>Return <var>closeResult</var>.</p>
                    </ol>
                <li data-md>
                    <p>Let <var>abortAlgorithm</var> be these steps:</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                                    id="ref-for-enqueue-the-following-stepsâ‘ â‘ ">Enqueue this step</a> to the <a
                                    data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘ â‘£">file
                                    system queue</a>:</p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#file-entry-lock-release"
                                            id="ref-for-file-entry-lock-releaseâ‘ ">Release the lock</a> on
                                        <var>stream</var>â€™s <a data-link-type="dfn"
                                            href="#filesystemwritablefilestream-file"
                                            id="ref-for-filesystemwritablefilestream-fileâ‘¢">[[file]]</a>.
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Let <var>highWaterMark</var> be 1.</p>
                <li data-md>
                    <p>Let <var>sizeAlgorithm</var> be an algorithm that returns <code>1</code>.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-set-up"
                            id="ref-for-writablestream-set-up">Set up</a> <var>stream</var> with <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm"
                            id="ref-for-writablestream-set-up-writealgorithm"><var>writeAlgorithm</var></a> set to
                        <var>writeAlgorithm</var>, <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestream-set-up-closealgorithm"
                            id="ref-for-writablestream-set-up-closealgorithm"><var>closeAlgorithm</var></a> set to
                        <var>closeAlgorithm</var>, <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestream-set-up-abortalgorithm"
                            id="ref-for-writablestream-set-up-abortalgorithm"><var>abortAlgorithm</var></a> set to
                        <var>abortAlgorithm</var>, <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark"
                            id="ref-for-writablestream-set-up-highwatermark"><var>highWaterMark</var></a> set to
                        <var>highWaterMark</var>, and <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestream-set-up-sizealgorithm"
                            id="ref-for-writablestream-set-up-sizealgorithm"><var>sizeAlgorithm</var></a> set to
                        <var>sizeAlgorithm</var>.
                    </p>
                <li data-md>
                    <p>Return <var>stream</var>.</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="write a chunk">

            The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="write-a-chunk">write a chunk</dfn>
            algorithm,
            given a <code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestreamâ‘ â‘¢">FileSystemWritableFileStream</a></code>
            <var>stream</var> and <var>chunk</var>,
            runs these steps:


            <ol>
                <li data-md>
                    <p>Let <var>input</var> be the result of <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value"
                            id="ref-for-dfn-convert-ecmascript-to-idl-value">converting</a> <var>chunk</var> to a <code
                            class="idl"><a data-link-type="idl" href="#typedefdef-filesystemwritechunktype" id="ref-for-typedefdef-filesystemwritechunktypeâ‘ ">FileSystemWriteChunkType</a></code>.
                        If this throws an exception, then return <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with">a promise rejected with</a> that exception.</p>
                <li data-md>
                    <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promiseâ‘ â“ª">a new promise</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-stepsâ‘ â‘¡">Enqueue the following steps</a> to the <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘ â‘¤">file system
                            queue</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>accessResult</var> be the result of running
                                <var>stream</var>â€™s <a data-link-type="dfn" href="#filesystemwritablefilestream-file"
                                    id="ref-for-filesystemwritablefilestream-fileâ‘£">[[file]]</a>â€™s
                                <a data-link-type="dfn" href="#entry-query-access"
                                    id="ref-for-entry-query-accessâ‘ â“ª">query access</a> given "<code>readwrite</code>".
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-taskâ‘ â‘§">Queue a storage task</a> with
                                <var>stream</var>â€™s <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-globalâ‘¨">relevant global object</a> to
                                run these steps:
                            </p>
                            <ol>
                                <li data-md>
                                    <p>If <var>accessResult</var>â€™s <a data-link-type="dfn"
                                            href="#file-system-access-result-permission-state"
                                            id="ref-for-file-system-access-result-permission-stateâ‘ â‘¡">permission
                                            state</a>
                                        is not "<code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-grantedâ‘ â“ª">granted</a></code>",
                                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-rejectâ‘¢â‘¢">reject</a> <var>p</var> with a
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¡â‘¥">DOMException</a></code>
                                        of <var>accessResult</var>â€™s
                                        <a data-link-type="dfn" href="#file-system-access-result-error-name"
                                            id="ref-for-file-system-access-result-error-nameâ‘ â‘ ">error name</a> and abort
                                        these steps.
                                    </p>
                                <li data-md>
                                    <p>Let <var>command</var> be <var>input</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-type">type</a></code>"]
                                        if
                                        <var>input</var> is a <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                            id="ref-for-dfn-dictionary">dictionary</a>; otherwise "<code
                                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-write" id="ref-for-dom-writecommandtype-write">write</a></code>".
                                    </p>
                                <li data-md>
                                    <p>If <var>command</var> is "<code
                                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-write" id="ref-for-dom-writecommandtype-writeâ‘ ">write</a></code>":
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>If <var>input</var> is <code>undefined</code> or <var>input</var> is a <a
                                                    data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                                    id="ref-for-dfn-dictionaryâ‘ ">dictionary</a> and
                                                <var>input</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-data" id="ref-for-dom-writeparams-data">data</a></code>"]
                                                does not <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#map-exists"
                                                    id="ref-for-map-exists">exist</a>,
                                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-rejectâ‘¢â‘£">reject</a> <var>p</var> with a <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerrorâ‘¢">TypeError</a></code>
                                                and abort these steps.
                                            </p>
                                        <li data-md>
                                            <p>Let <var>data</var> be <var>input</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-data" id="ref-for-dom-writeparams-dataâ‘ ">data</a></code>"]
                                                if
                                                <var>input</var> is a <a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                                    id="ref-for-dfn-dictionaryâ‘¡">dictionary</a>; otherwise
                                                <var>input</var>.
                                            </p>
                                        <li data-md>
                                            <p>Let <var>writePosition</var> be <var>stream</var>â€™s <a
                                                    data-link-type="dfn" href="#filesystemwritablefilestream-seekoffset"
                                                    id="ref-for-filesystemwritablefilestream-seekoffset">[[seekOffset]]</a>.
                                            </p>
                                        <li data-md>
                                            <p>If <var>input</var> is a <a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                                    id="ref-for-dfn-dictionaryâ‘¢">dictionary</a> and
                                                <var>input</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-position">position</a></code>"]
                                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                                                    id="ref-for-map-existsâ‘ ">exists</a>, set <var>writePosition</var> to
                                                <var>input</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-positionâ‘ ">position</a></code>"].
                                            </p>
                                        <li data-md>
                                            <p>Let <var>oldSize</var> be <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-bufferâ‘¡">[[buffer]]</a>â€™s
                                                <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                    id="ref-for-byte-sequence-length">length</a>.
                                            </p>
                                        <li data-md>
                                            <p>If <var>data</var> is a <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#BufferSource" id="ref-for-BufferSourceâ‘¡">BufferSource</a></code>,
                                                let <var>dataBytes</var> be <a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy"
                                                    id="ref-for-dfn-get-buffer-source-copy">a copy of</a>
                                                <var>data</var>.
                                            </p>
                                        <li data-md>
                                            <p>Otherwise, if <var>data</var> is a <code
                                                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blobâ‘¡">Blob</a></code>:
                                            </p>
                                            <ol>
                                                <li data-md>
                                                    <p>Let <var>dataBytes</var> be the result of performing the
                                                        <a data-link-type="dfn"
                                                            href="https://w3c.github.io/FileAPI/#readOperation"
                                                            id="ref-for-readOperation">read operation</a> on
                                                        <var>data</var>.
                                                        If this throws an exception, <a data-link-type="dfn"
                                                            href="https://webidl.spec.whatwg.org/#reject"
                                                            id="ref-for-rejectâ‘¢â‘¤">reject</a> <var>p</var> with that
                                                        exception
                                                        and abort these steps.
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>Otherwise:</p>
                                            <ol>
                                                <li data-md>
                                                    <p><a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#assert"
                                                            id="ref-for-assertâ‘¦">Assert</a>: <var>data</var> is a <code
                                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVStringâ‘§">USVString</a></code>.
                                                    </p>
                                                <li data-md>
                                                    <p>Let <var>dataBytes</var> be the result of <a data-link-type="dfn"
                                                            href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                                            id="ref-for-utf-8-encode">UTF-8 encoding</a>
                                                        <var>data</var>.
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>If <var>writePosition</var> is larger than <var>oldSize</var>,
                                                append <var>writePosition</var> - <var>oldSize</var> 0x00 (NUL) bytes to
                                                the end of
                                                <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-bufferâ‘¢">[[buffer]]</a>.
                                            </p>
                                            <p class="note" role="note"><span class="marker">Note:</span>
                                                Implementations are expected to behave as if the skipped over file
                                                contents
                                                are indeed filled with NUL bytes. That doesnâ€™t mean these bytes have to
                                                actually be
                                                written to disk and take up disk space. Instead most file systems
                                                support so called
                                                sparse files, where these NUL bytes donâ€™t take up actual disk space.</p>
                                        <li data-md>
                                            <p>Let <var>head</var> be a <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence"
                                                    id="ref-for-byte-sequenceâ‘¢">byte sequence</a> containing the first
                                                <var>writePosition</var>
                                                bytes of <var>stream</var>â€™s<a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-bufferâ‘£">[[buffer]]</a>.
                                            </p>
                                        <li data-md>
                                            <p>Let <var>tail</var> be an empty <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence"
                                                    id="ref-for-byte-sequenceâ‘£">byte sequence</a>.</p>
                                        <li data-md>
                                            <p>If <var>writePosition</var> + <var>data</var>â€™s <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                    id="ref-for-byte-sequence-lengthâ‘ ">length</a> is smaller than
                                                <var>oldSize</var>:
                                            </p>
                                            <ol>
                                                <li data-md>
                                                    <p>Let <var>tail</var> be a <a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#byte-sequence"
                                                            id="ref-for-byte-sequenceâ‘¤">byte sequence</a> containing the
                                                        last
                                                        <var>oldSize</var> - (<var>writePosition</var> +
                                                        <var>data</var>â€™s <a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                            id="ref-for-byte-sequence-lengthâ‘¡">length</a>)
                                                        bytes of <var>stream</var>â€™s <a data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-bufferâ‘¤">[[buffer]]</a>.
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>Set <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-bufferâ‘¥">[[buffer]]</a> to
                                                the concatenation of
                                                <var>head</var>, <var>data</var> and <var>tail</var>.
                                            </p>
                                        <li data-md>
                                            <p>If the operations modifying <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-bufferâ‘¦">[[buffer]]</a> in
                                                the
                                                previous steps failed due to exceeding the <a data-link-type="dfn"
                                                    href="https://storage.spec.whatwg.org/#storage-quota"
                                                    id="ref-for-storage-quota">storage quota</a>,
                                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-rejectâ‘¢â‘¥">reject</a> <var>p</var> with a "<code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederror">QuotaExceededError</a></code>"
                                                <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¡â‘¦">DOMException</a></code>
                                                and abort these steps, leaving <var>stream</var>â€™s <a
                                                    data-link-type="dfn" href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-bufferâ‘§">[[buffer]]</a>
                                                unmodified.
                                            </p>
                                            <p class="note" role="note"><span class="marker">Note:</span> <a
                                                    data-link-type="dfn"
                                                    href="https://storage.spec.whatwg.org/#storage-quota"
                                                    id="ref-for-storage-quotaâ‘ ">Storage quota</a> only applies to files
                                                stored in a
                                                <a data-link-type="dfn" href="#origin-private-file-system"
                                                    id="ref-for-origin-private-file-systemâ‘¢">bucket file system</a>.
                                                However this operation could still fail for other files,
                                                for example if the disk being written to runs out of disk space.
                                            </p>
                                        <li data-md>
                                            <p>Set <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-seekoffset"
                                                    id="ref-for-filesystemwritablefilestream-seekoffsetâ‘ ">[[seekOffset]]</a>
                                                to <var>writePosition</var> + <var>data</var>â€™s
                                                <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                    id="ref-for-byte-sequence-lengthâ‘¢">length</a>.
                                            </p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolveâ‘ â‘§">Resolve</a> <var>p</var>.</p>
                                    </ol>
                                <li data-md>
                                    <p>Otherwise, if <var>command</var> is "<code
                                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-seek" id="ref-for-dom-writecommandtype-seek">seek</a></code>":
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                                    id="ref-for-assertâ‘§">Assert</a>: <var>chunk</var> is a <a
                                                    data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                                    id="ref-for-dfn-dictionaryâ‘£">dictionary</a>.</p>
                                        <li data-md>
                                            <p>If <var>chunk</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-positionâ‘¡">position</a></code>"]
                                                does not <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#map-exists"
                                                    id="ref-for-map-existsâ‘¡">exist</a>,
                                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-rejectâ‘¢â‘¦">reject</a> <var>p</var> with a <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerrorâ‘£">TypeError</a></code>
                                                and abort these steps.
                                            </p>
                                        <li data-md>
                                            <p>Set <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-seekoffset"
                                                    id="ref-for-filesystemwritablefilestream-seekoffsetâ‘¡">[[seekOffset]]</a>
                                                to
                                                <var>chunk</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-positionâ‘¢">position</a></code>"].
                                            </p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolveâ‘ â‘¨">Resolve</a> <var>p</var>.</p>
                                    </ol>
                                <li data-md>
                                    <p>Otherwise, if <var>command</var> is "<code
                                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-truncate" id="ref-for-dom-writecommandtype-truncate">truncate</a></code>":
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                                    id="ref-for-assertâ‘¨">Assert</a>: <var>chunk</var> is a <a
                                                    data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                                    id="ref-for-dfn-dictionaryâ‘¤">dictionary</a>.</p>
                                        <li data-md>
                                            <p>If <var>chunk</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-size" id="ref-for-dom-writeparams-size">size</a></code>"]
                                                does not <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#map-exists"
                                                    id="ref-for-map-existsâ‘¢">exist</a>,
                                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-rejectâ‘¢â‘§">reject</a> <var>p</var> with a <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerrorâ‘¤">TypeError</a></code>
                                                and abort these steps.
                                            </p>
                                        <li data-md>
                                            <p>Let <var>newSize</var> be <var>chunk</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-size" id="ref-for-dom-writeparams-sizeâ‘ ">size</a></code>"].
                                            </p>
                                        <li data-md>
                                            <p>Let <var>oldSize</var> be <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-bufferâ‘¨">[[buffer]]</a>â€™s
                                                <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                    id="ref-for-byte-sequence-lengthâ‘£">length</a>.
                                            </p>
                                        <li data-md>
                                            <p>If <var>newSize</var> is larger than <var>oldSize</var>:</p>
                                            <ol>
                                                <li data-md>
                                                    <p>Set <var>stream</var>â€™s <a data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-bufferâ‘ â“ª">[[buffer]]</a>
                                                        to a <a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#byte-sequence"
                                                            id="ref-for-byte-sequenceâ‘¥">byte sequence</a> formed by
                                                        concating <var>stream</var>â€™s <a data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-bufferâ‘ â‘ ">[[buffer]]</a>
                                                        with a <a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#byte-sequence"
                                                            id="ref-for-byte-sequenceâ‘¦">byte sequence</a>
                                                        containing <var>newSize</var>-<var>oldSize</var>
                                                        <code>0x00</code> bytes.
                                                    </p>
                                                <li data-md>
                                                    <p>If the operation in the previous step failed due to exceeding the
                                                        <a data-link-type="dfn"
                                                            href="https://storage.spec.whatwg.org/#storage-quota"
                                                            id="ref-for-storage-quotaâ‘¡">storage quota</a>,
                                                        <a data-link-type="dfn"
                                                            href="https://webidl.spec.whatwg.org/#reject"
                                                            id="ref-for-rejectâ‘¢â‘¨">reject</a> <var>p</var> with a "<code
                                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederrorâ‘ ">QuotaExceededError</a></code>"
                                                        <code
                                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¡â‘§">DOMException</a></code>
                                                        and
                                                        abort these steps, leaving <var>stream</var>â€™s <a
                                                            data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-bufferâ‘ â‘¡">[[buffer]]</a>
                                                        unmodified.
                                                    </p>
                                                    <p class="note" role="note"><span class="marker">Note:</span> <a
                                                            data-link-type="dfn"
                                                            href="https://storage.spec.whatwg.org/#storage-quota"
                                                            id="ref-for-storage-quotaâ‘¢">Storage quota</a> only applies
                                                        to files stored in a
                                                        <a data-link-type="dfn" href="#origin-private-file-system"
                                                            id="ref-for-origin-private-file-systemâ‘£">bucket file
                                                            system</a>.
                                                        However this operation could still fail for other files,
                                                        for example if the disk being written to runs out of disk space.
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>Otherwise, if <var>newSize</var> is smaller than <var>oldSize</var>:</p>
                                            <ol>
                                                <li data-md>
                                                    <p>Set <var>stream</var>â€™s <a data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-bufferâ‘ â‘¢">[[buffer]]</a>
                                                        to a <a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#byte-sequence"
                                                            id="ref-for-byte-sequenceâ‘§">byte sequence</a> containing the
                                                        first <var>newSize</var> bytes in <var>stream</var>â€™s <a
                                                            data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-bufferâ‘ â‘£">[[buffer]]</a>.
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>If <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-seekoffset"
                                                    id="ref-for-filesystemwritablefilestream-seekoffsetâ‘¢">[[seekOffset]]</a>
                                                is bigger than <var>newSize</var>,
                                                set <var>stream</var>â€™s <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-seekoffset"
                                                    id="ref-for-filesystemwritablefilestream-seekoffsetâ‘£">[[seekOffset]]</a>
                                                to <var>newSize</var>.</p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolveâ‘¡â“ª">Resolve</a> <var>p</var>.</p>
                                    </ol>
                            </ol>
                    </ol>
                <li data-md>
                    <p>Return <var>p</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.5.1" id="api-filesystemwritablefilestream-write"><span
                class="secno">2.5.1. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-writeâ‘¡">write()</a></code>
                method</span><a class="self-link" href="#api-filesystemwritablefilestream-write"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-writeâ‘¢">write</a></code>(<var>data</var>)
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-writeâ‘£">write</a></code>({
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-typeâ‘ ">type</a></code>:
                    "<code
                        class="idl"><a data-link-type="idl" href="#dom-writecommandtype-write" id="ref-for-dom-writecommandtype-writeâ‘¡">write</a></code>",
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-data" id="ref-for-dom-writeparams-dataâ‘¡">data</a></code>:
                    <var>data</var> })
                <dd data-md>
                    <p>Writes the content of <var>data</var> into the file associated with <var>stream</var> at the
                        current file
                        cursor offset.</p>
                    <p>No changes are written to the actual file on disk until the stream has been closed.
                        Changes are typically written to a temporary file instead.</p>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-writeâ‘¤">write</a></code>({
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-typeâ‘¡">type</a></code>:
                    "<code
                        class="idl"><a data-link-type="idl" href="#dom-writecommandtype-write" id="ref-for-dom-writecommandtype-writeâ‘¢">write</a></code>",
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-positionâ‘£">position</a></code>:
                    <var>position</var>,
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-data" id="ref-for-dom-writeparams-dataâ‘¢">data</a></code>:
                    <var>data</var> })
                <dd data-md>
                    <p>Writes the content of <var>data</var> into the file associated with <var>stream</var> at
                        <var>position</var>
                        bytes from the top of the file. Also updates the current file cursor offset to the
                        end of the written data.
                    </p>
                    <p>No changes are written to the actual file on disk until the stream has been closed.
                        Changes are typically written to a temporary file instead.</p>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-writeâ‘¥">write</a></code>({
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-typeâ‘¢">type</a></code>:
                    "<code
                        class="idl"><a data-link-type="idl" href="#dom-writecommandtype-seek" id="ref-for-dom-writecommandtype-seekâ‘ ">seek</a></code>",
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-positionâ‘¤">position</a></code>:
                    <var>position</var> })
                <dd data-md>
                    <p>Updates the current file cursor offset the <var>position</var> bytes from the top of the file.
                    </p>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-writeâ‘¦">write</a></code>({
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-typeâ‘£">type</a></code>:
                    "<code
                        class="idl"><a data-link-type="idl" href="#dom-writecommandtype-truncate" id="ref-for-dom-writecommandtype-truncateâ‘ ">truncate</a></code>",
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-size" id="ref-for-dom-writeparams-sizeâ‘¡">size</a></code>:
                    <var>size</var> })
                <dd data-md>
                    <p>Resizes the file associated with <var>stream</var> to be <var>size</var> bytes long. If
                        <var>size</var> is larger than
                        the current file size this pads the file with null bytes, otherwise it truncates the file.
                    </p>
                    <p>The file cursor is updated when <code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-truncate" id="ref-for-dom-filesystemwritablefilestream-truncateâ‘ ">truncate</a></code>
                        is called.
                        If the cursor is smaller than <var>size</var>, it remains unchanged. If the cursor is larger
                        than
                        <var>size</var>, it is set to <var>size</var> to ensure that subsequent writes do not error.
                    </p>
                    <p>No changes are written to the actual file until on disk until the stream has been closed.
                        Changes are typically written to a temporary file instead.</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="write(data)" data-algorithm-for="FileSystemWritableFileStream">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="method"
                data-export id="dom-filesystemwritablefilestream-write"><code>write(<var>data</var>)</code></dfn> method
            steps are:


            <ol>
                <li data-md>
                    <p>Let <var>writer</var> be the result of <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestream-get-a-writer"
                            id="ref-for-writablestream-get-a-writer">getting a writer</a> for <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘¡â‘¡">this</a>.</p>
                <li data-md>
                    <p>Let <var>result</var> be the result of <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter-write-a-chunk"
                            id="ref-for-writablestreamdefaultwriter-write-a-chunk">writing a chunk</a> to
                        <var>writer</var> given
                        <var>data</var>.
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release"
                            id="ref-for-writablestreamdefaultwriter-release">Release</a> <var>writer</var>.</p>
                <li data-md>
                    <p>Return <var>result</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.5.2" id="api-filesystemwritablefilestream-seek"><span
                class="secno">2.5.2. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-seek" id="ref-for-dom-filesystemwritablefilestream-seekâ‘ ">seek()</a></code>
                method</span><a class="self-link" href="#api-filesystemwritablefilestream-seek"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-seek" id="ref-for-dom-filesystemwritablefilestream-seekâ‘¡">seek</a></code>(<var>position</var>)
                <dd data-md>
                    <p>Updates the current file cursor offset the <var>position</var> bytes from the top of the file.
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="seek(position)" data-algorithm-for="FileSystemWritableFileStream">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="method"
                data-export id="dom-filesystemwritablefilestream-seek"><code>seek(<var>position</var>)</code></dfn>
            method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>writer</var> be the result of <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestream-get-a-writer"
                            id="ref-for-writablestream-get-a-writerâ‘ ">getting a writer</a> for <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘¡â‘¢">this</a>.</p>
                <li data-md>
                    <p>Let <var>result</var> be the result of <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter-write-a-chunk"
                            id="ref-for-writablestreamdefaultwriter-write-a-chunkâ‘ ">writing a chunk</a> to
                        <var>writer</var> given
                        Â«[ "<code
                            class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-typeâ‘¤">type</a></code>"
                        â†’ "<code
                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-seek" id="ref-for-dom-writecommandtype-seekâ‘¡">seek</a></code>",
                        "<code
                            class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-positionâ‘¥">position</a></code>"
                        â†’
                        <var>position</var> ]Â».
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release"
                            id="ref-for-writablestreamdefaultwriter-releaseâ‘ ">Release</a> <var>writer</var>.</p>
                <li data-md>
                    <p>Return <var>result</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.5.3" id="api-filesystemwritablefilestream-truncate"><span
                class="secno">2.5.3. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-truncate" id="ref-for-dom-filesystemwritablefilestream-truncateâ‘¡">truncate()</a></code>
                method</span><a class="self-link" href="#api-filesystemwritablefilestream-truncate"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-truncate" id="ref-for-dom-filesystemwritablefilestream-truncateâ‘¢">truncate</a></code>(<var>size</var>)
                <dd data-md>
                    <p>Resizes the file associated with <var>stream</var> to be <var>size</var> bytes long. If
                        <var>size</var> is larger than
                        the current file size this pads the file with null bytes, otherwise it truncates the file.
                    </p>
                    <p>The file cursor is updated when <code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-truncate" id="ref-for-dom-filesystemwritablefilestream-truncateâ‘£">truncate</a></code>
                        is called.
                        If the cursor is smaller than <var>size</var>, it remains unchanged. If the cursor is larger
                        than
                        <var>size</var>, it is set to <var>size</var> to ensure that subsequent writes do not error.
                    </p>
                    <p>No changes are written to the actual file until on disk until the stream has been closed.
                        Changes are typically written to a temporary file instead.</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="truncate(size)" data-algorithm-for="FileSystemWritableFileStream">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="method"
                data-export id="dom-filesystemwritablefilestream-truncate"><code>truncate(<var>size</var>)</code></dfn>
            method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>writer</var> be the result of <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestream-get-a-writer"
                            id="ref-for-writablestream-get-a-writerâ‘¡">getting a writer</a> for <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘¡â‘£">this</a>.</p>
                <li data-md>
                    <p>Let <var>result</var> be the result of <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter-write-a-chunk"
                            id="ref-for-writablestreamdefaultwriter-write-a-chunkâ‘¡">writing a chunk</a> to
                        <var>writer</var> given
                        Â«[ "<code
                            class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-typeâ‘¥">type</a></code>"
                        â†’ "<code
                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-truncate" id="ref-for-dom-writecommandtype-truncateâ‘¡">truncate</a></code>",
                        "<code
                            class="idl"><a data-link-type="idl" href="#dom-writeparams-size" id="ref-for-dom-writeparams-sizeâ‘¢">size</a></code>"
                        â†’
                        <var>size</var> ]Â».
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release"
                            id="ref-for-writablestreamdefaultwriter-releaseâ‘¡">Release</a> <var>writer</var>.</p>
                <li data-md>
                    <p>Return <var>result</var>.</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="2.6" id="api-filesystemsyncaccesshandle"><span class="secno">2.6.
            </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘§">FileSystemSyncAccessHandle</a></code>
                interface</span><a class="self-link" href="#api-filesystemsyncaccesshandle"></a></h3>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-filesystemreadwriteoptions"><code><c- g>FileSystemReadWriteOptions</c-></code></dfn> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-longâ‘£"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemReadWriteOptions" data-dfn-type="dict-member" data-export data-type="unsigned long long" id="dom-filesystemreadwriteoptions-at"><code><c- g>at</c-></code></dfn>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposedâ‘¤"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContextâ‘£"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="filesystemsyncaccesshandle"><code><c- g>FileSystemSyncAccessHandle</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-longâ‘¤"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method" data-export data-lt="read(buffer, options)|read(buffer)" id="dom-filesystemsyncaccesshandle-read"><code><c- g>read</c-></code></dfn>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource" id="ref-for-AllowSharedBufferSource"><c- n>AllowSharedBufferSource</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle/read(buffer, options), FileSystemSyncAccessHandle/read(buffer)" data-dfn-type="argument" data-export id="dom-filesystemsyncaccesshandle-read-buffer-options-buffer"><code><c- g>buffer</c-></code></dfn>,
                          <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemreadwriteoptions" id="ref-for-dictdef-filesystemreadwriteoptions"><c- n>FileSystemReadWriteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle/read(buffer, options), FileSystemSyncAccessHandle/read(buffer)" data-dfn-type="argument" data-export id="dom-filesystemsyncaccesshandle-read-buffer-options-options"><code><c- g>options</c-></code></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-longâ‘¥"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method" data-export data-lt="write(buffer, options)|write(buffer)" id="dom-filesystemsyncaccesshandle-write"><code><c- g>write</c-></code></dfn>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource" id="ref-for-AllowSharedBufferSourceâ‘ "><c- n>AllowSharedBufferSource</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle/write(buffer, options), FileSystemSyncAccessHandle/write(buffer)" data-dfn-type="argument" data-export id="dom-filesystemsyncaccesshandle-write-buffer-options-buffer"><code><c- g>buffer</c-></code></dfn>,
                           <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemreadwriteoptions" id="ref-for-dictdef-filesystemreadwriteoptionsâ‘ "><c- n>FileSystemReadWriteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle/write(buffer, options), FileSystemSyncAccessHandle/write(buffer)" data-dfn-type="argument" data-export id="dom-filesystemsyncaccesshandle-write-buffer-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefinedâ‘£"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-truncate" id="ref-for-dom-filesystemsyncaccesshandle-truncate"><c- g>truncate</c-></a>([<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRangeâ‘ "><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-longâ‘¦"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle/truncate(newSize)" data-dfn-type="argument" data-export id="dom-filesystemsyncaccesshandle-truncate-newsize-newsize"><code><c- g>newSize</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-longâ‘§"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-getsize" id="ref-for-dom-filesystemsyncaccesshandle-getsize"><c- g>getSize</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefinedâ‘¤"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-flush" id="ref-for-dom-filesystemsyncaccesshandle-flush"><c- g>flush</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefinedâ‘¥"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-close" id="ref-for-dom-filesystemsyncaccesshandle-close"><c- g>close</c-></a>();
};

</pre>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘¨">FileSystemSyncAccessHandle</a></code>
            has an associated <dfn class="dfn-paneled" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="dfn"
                data-noexport id="filesystemsyncaccesshandle-file">[[file]]</dfn>
            (a <a data-link-type="dfn" href="#file" id="ref-for-fileâ‘¡â‘ ">file entry</a>).</p>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘ â“ª">FileSystemSyncAccessHandle</a></code>
            has an associated <dfn class="dfn-paneled" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="dfn"
                data-noexport id="filesystemsyncaccesshandle-state">[[state]]</dfn>,
            a string that may exclusively be "<code>open</code>" or "<code>closed</code>".</p>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘ â‘ ">FileSystemSyncAccessHandle</a></code>
            is an object that is capable of reading from/writing to,
            as well as obtaining and changing the size of, a single file.</p>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘ â‘¡">FileSystemSyncAccessHandle</a></code>
            offers synchronous methods. This allows for higher performance on
            contexts where asynchronous operations come with high overhead, e.g., WebAssembly.</p>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘ â‘¢">FileSystemSyncAccessHandle</a></code>
            has a <dfn class="dfn-paneled" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="dfn" data-noexport
                id="filesystemsyncaccesshandle-file-position-cursor">file position cursor</dfn> initialized at byte
            offset 0 from the top of the file.</p>
        <div class="algorithm" data-algorithm="create a new FileSystemSyncAccessHandle">

            To
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="creating a new FileSystemSyncAccessHandle"
                data-noexport id="create-a-new-filesystemsyncaccesshandle">create a new
                <code>FileSystemSyncAccessHandle</code></dfn>
            given a <a data-link-type="dfn" href="#file" id="ref-for-fileâ‘¡â‘¡">file entry</a> <var>file</var> in a <a
                data-link-type="dfn" href="https://tc39.es/ecma262/#realm" id="ref-for-realmâ‘¤">Realm</a>
            <var>realm</var>:


            <ol>
                <li data-md>
                    <p>Let <var>handle</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new"
                            id="ref-for-newâ‘¤">new</a> <code
                            class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandleâ‘ â‘£">FileSystemSyncAccessHandle</a></code>
                        in <var>realm</var>.</p>
                <li data-md>
                    <p>Set <var>handle</var>â€™s <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-file">[[file]]</a> to <var>file</var>.</p>
                <li data-md>
                    <p>Set <var>handle</var>â€™s <a data-link-type="dfn" href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-state">[[state]]</a> to "<code>open</code>".</p>
                <li data-md>
                    <p>Return <var>handle</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.1" id="api-filesystemsyncaccesshandle-read"><span
                class="secno">2.6.1. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-read" id="ref-for-dom-filesystemsyncaccesshandle-read">read()</a></code>
                method</span><a class="self-link" href="#api-filesystemsyncaccesshandle-read"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-read" id="ref-for-dom-filesystemsyncaccesshandle-readâ‘ ">read</a></code>(<var>buffer</var>)
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-read" id="ref-for-dom-filesystemsyncaccesshandle-readâ‘¡">read</a></code>(<var>buffer</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-at">at</a></code>
                    })
                <dd data-md>
                    <p>Reads the contents of the file associated with <var>handle</var> into <var>buffer</var>,
                        optionally at a given offset.</p>
                <dd data-md>
                    <p>The file cursor is updated when <code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-read" id="ref-for-dom-filesystemsyncaccesshandle-readâ‘¢">read()</a></code>
                        is called to point to the byte after the last byte read.</p>
            </dl>
        </div>
        <p class="XXX"> Specify how Access Handles should react when reading from a file that has been modified
            externally. <a href="https://github.com/whatwg/fs/issues/35">[Issue #35]</a></p>
        <div class="algorithm" data-algorithm="read(buffer, FileSystemReadWriteOptions: options)"
            data-algorithm-for="FileSystemSyncAccessHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export
                id="dom-filesystemsyncaccesshandle-read-buffer-filesystemreadwriteoptions-options"><code>read(<var>buffer</var>, <code class="idl"><a data-link-type="idl" href="#dictdef-filesystemreadwriteoptions" id="ref-for-dictdef-filesystemreadwriteoptionsâ‘¡">FileSystemReadWriteOptions</a></code>:
                <var>options</var>)</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¡â‘¤">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-stateâ‘ ">[[state]]</a> is "<code>closed</code>",
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throwâ‘ ">throw</a> an "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerrorâ‘ ">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¡â‘¨">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>bufferSize</var> be <var>buffer</var>â€™s <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#buffersource-byte-length"
                            id="ref-for-buffersource-byte-length">byte length</a>.</p>
                <li data-md>
                    <p>Let <var>fileContents</var> be <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘¡â‘¥">this</a>â€™s <a
                            data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-fileâ‘ ">[[file]]</a>â€™s <a data-link-type="dfn"
                            href="#file-entry-binary-data" id="ref-for-file-entry-binary-dataâ‘¤">binary data</a>.</p>
                <li data-md>
                    <p>Let <var>fileSize</var> be <var>fileContents</var>â€™s <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-lengthâ‘¤">length</a>.</p>
                <li data-md>
                    <p>Let <var>readStart</var> be <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-atâ‘ ">at</a></code>"]
                        if
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-atâ‘¡">at</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-existsâ‘£">exists</a>; otherwise
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¡â‘¦">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursor">file position cursor</a>.
                    </p>
                <li data-md>
                    <p>If the underlying file system does not support reading from a file offset of
                        <var>readStart</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throwâ‘¡">throw</a> a <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerrorâ‘¥">TypeError</a></code>.
                    </p>
                <li data-md>
                    <p>If <var>readStart</var> is larger than <var>fileSize</var>:</p>
                    <ol>
                        <li data-md>
                            <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-thisâ‘¡â‘§">this</a>â€™s <a data-link-type="dfn"
                                    href="#filesystemsyncaccesshandle-file-position-cursor"
                                    id="ref-for-filesystemsyncaccesshandle-file-position-cursorâ‘ ">file position
                                    cursor</a> to <var>fileSize</var>.</p>
                        <li data-md>
                            <p>Return 0.</p>
                    </ol>
                <li data-md>
                    <p>Let <var>readEnd</var> be <var>readStart</var> + (<var>bufferSize</var> âˆ’ 1).</p>
                <li data-md>
                    <p>If <var>readEnd</var> is larger than <var>fileSize</var>, set <var>readEnd</var> to
                        <var>fileSize</var>.
                    </p>
                <li data-md>
                    <p>Let <var>bytes</var> be a <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequenceâ‘¨">byte
                            sequence</a> containing the bytes from <var>readStart</var> to <var>readEnd</var> of
                        <var>fileContents</var>.
                    </p>
                <li data-md>
                    <p>Let <var>result</var> be <var>bytes</var>â€™s <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-lengthâ‘¥">length</a>.</p>
                <li data-md>
                    <p>If the operations reading from <var>fileContents</var> in the previous steps failed:</p>
                    <ol>
                        <li data-md>
                            <p>If there were partial reads and the number of bytes that were read into <var>bytes</var>
                                is known,
                                set <var>result</var> to the number of read bytes.</p>
                        <li data-md>
                            <p>Otherwise set <var>result</var> to 0.</p>
                    </ol>
                <li data-md>
                    <p>Let <var>arrayBuffer</var> be <var>buffer</var>â€™s <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#buffersource-underlying-buffer"
                            id="ref-for-buffersource-underlying-buffer">underlying buffer</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#arraybuffer-write"
                            id="ref-for-arraybuffer-write">Write</a> <var>bytes</var> into <var>arrayBuffer</var>.</p>
                <li data-md>
                    <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¡â‘¨">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursorâ‘¡">file position cursor</a> to
                        <var>readStart</var> + <var>result</var>.
                    </p>
                <li data-md>
                    <p>Return <var>result</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.2" id="api-filesystemsyncaccesshandle-write"><span
                class="secno">2.6.2. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-write" id="ref-for-dom-filesystemsyncaccesshandle-write">write()</a></code>
                method</span><a class="self-link" href="#api-filesystemsyncaccesshandle-write"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-write" id="ref-for-dom-filesystemsyncaccesshandle-writeâ‘ ">write</a></code>(<var>buffer</var>)
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-write" id="ref-for-dom-filesystemsyncaccesshandle-writeâ‘¡">write</a></code>(<var>buffer</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-atâ‘¢">at</a></code>
                    })
                <dd data-md>
                    <p>Writes the content of <var>buffer</var> into the file associated with <var>handle</var>,
                        optionally at a given offset, and returns the number of written bytes.
                        Checking the returned number of written bytes allows callers to detect and handle errors and
                        partial writes.</p>
                <dd data-md>
                    <p>The file cursor is updated when <code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-write" id="ref-for-dom-filesystemsyncaccesshandle-writeâ‘¢">write</a></code>
                        is called to point to the byte after the last byte written.</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="write(buffer, FileSystemReadWriteOptions: options)"
            data-algorithm-for="FileSystemSyncAccessHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export
                id="dom-filesystemsyncaccesshandle-write-buffer-filesystemreadwriteoptions-options"><code>write(<var>buffer</var>, <code class="idl"><a data-link-type="idl" href="#dictdef-filesystemreadwriteoptions" id="ref-for-dictdef-filesystemreadwriteoptionsâ‘¢">FileSystemReadWriteOptions</a></code>:
                <var>options</var>)</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¢â“ª">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-stateâ‘¡">[[state]]</a> is "<code>closed</code>",
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throwâ‘¢">throw</a> an "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerrorâ‘¡">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¢â“ª">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>writePosition</var> be <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-atâ‘£">at</a></code>"]
                        if
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-atâ‘¤">at</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-existsâ‘¤">exists</a>; otherwise
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¢â‘ ">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursorâ‘¢">file position cursor</a>.
                    </p>
                <li data-md>
                    <p>If the underlying file system does not support writing to a file offset of
                        <var>writePosition</var>, <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throwâ‘£">throw</a> a <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerrorâ‘¦">TypeError</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>fileContents</var> be a copy of <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘¢â‘¡">this</a>â€™s
                        <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-fileâ‘¡">[[file]]</a>â€™s <a data-link-type="dfn"
                            href="#file-entry-binary-data" id="ref-for-file-entry-binary-dataâ‘¥">binary data</a>.
                    </p>
                <li data-md>
                    <p>Let <var>oldSize</var> be <var>fileContents</var>â€™s <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-lengthâ‘¦">length</a>.</p>
                <li data-md>
                    <p>Let <var>bufferSize</var> be <var>buffer</var>â€™s <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#buffersource-byte-length"
                            id="ref-for-buffersource-byte-lengthâ‘ ">byte length</a>.</p>
                <li data-md>
                    <p>If <var>writePosition</var> is larger than <var>oldSize</var>,
                        append <var>writePosition</var> âˆ’ <var>oldSize</var> 0x00 (NUL) bytes to the end of
                        <var>fileContents</var>.
                    </p>
                    <p class="note" role="note"><span class="marker">Note:</span> Implementations are expected to behave
                        as if the skipped over file contents
                        are indeed filled with NUL bytes. That doesnâ€™t mean these bytes have to actually be
                        written to disk and take up disk space. Instead most file systems support so called
                        sparse files, where these NUL bytes donâ€™t take up actual disk space.</p>
                <li data-md>
                    <p>Let <var>head</var> be a <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequenceâ‘ â“ª">byte
                            sequence</a> containing the first <var>writePosition</var> bytes of <var>fileContents</var>.
                    </p>
                <li data-md>
                    <p>Let <var>tail</var> be an empty <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequenceâ‘ â‘ ">byte
                            sequence</a>.</p>
                <li data-md>
                    <p>If <var>writePosition</var> + <var>bufferSize</var> is smaller than <var>oldSize</var>:</p>
                    <ol>
                        <li data-md>
                            <p>Set <var>tail</var> to a <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequenceâ‘ â‘¡">byte sequence</a> containing the last
                                <var>oldSize</var> âˆ’ (<var>writePosition</var> + <var>bufferSize</var>) bytes of
                                <var>fileContents</var>.
                            </p>
                    </ol>
                <li data-md>
                    <p>Let <var>newSize</var> be <var>head</var>â€™s <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-lengthâ‘§">length</a> + <var>bufferSize</var> + <var>tail</var>â€™s <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-lengthâ‘¨">length</a>.</p>
                <li data-md>
                    <p>If <var>newSize</var> âˆ’ <var>oldSize</var> exceeds the available <a data-link-type="dfn"
                            href="https://storage.spec.whatwg.org/#storage-quota" id="ref-for-storage-quotaâ‘£">storage
                            quota</a>,
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throwâ‘¤">throw</a> a "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederrorâ‘¡">QuotaExceededError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¢â‘ ">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¢â‘¢">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-fileâ‘¢">[[file]]</a>â€™s
                        <a data-link-type="dfn" href="#file-entry-binary-data"
                            id="ref-for-file-entry-binary-dataâ‘¦">binary data</a> to the concatenation of
                        <var>head</var>, the contents of <var>buffer</var> and <var>tail</var>.
                    </p>
                    <p class="note" role="note"><span class="marker">Note:</span> The mechanism used to access bufferâ€™s
                        contents is left purposely vague.
                        It is likely that implementations will choose to focus on performance by issuing
                        direct write calls to the host operating system (instead of creating a copy of buffer),
                        which prevents a detailed specification of the write order and the results of partial writes.
                    </p>
                <li data-md>
                    <p>If the operations modifying the <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘¢â‘£">this</a>â€™s<a
                            data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-fileâ‘£">[[file]]</a>â€™s
                        <a data-link-type="dfn" href="#file-entry-binary-data"
                            id="ref-for-file-entry-binary-dataâ‘§">binary data</a> in the previous steps failed:
                    </p>
                    <ol>
                        <li data-md>
                            <p>If there were partial writes and the number of bytes that were written from
                                <var>buffer</var> is known:
                            </p>
                            <ol>
                                <li data-md>
                                    <p>Let <var>bytesWritten</var> be the number of bytes that were written from
                                        <var>buffer</var>.
                                    </p>
                                <li data-md>
                                    <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                            id="ref-for-thisâ‘¢â‘¤">this</a>â€™s <a data-link-type="dfn"
                                            href="#filesystemsyncaccesshandle-file-position-cursor"
                                            id="ref-for-filesystemsyncaccesshandle-file-position-cursorâ‘£">file position
                                            cursor</a> to <var>writePosition</var> + <var>bytesWritten</var>.</p>
                                <li data-md>
                                    <p>Return <var>bytesWritten</var>.</p>
                            </ol>
                        <li data-md>
                            <p>Otherwise <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                    id="ref-for-dfn-throwâ‘¥">throw</a> an "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerrorâ‘¢">InvalidStateError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¢â‘¡">DOMException</a></code>.
                            </p>
                    </ol>
                <li data-md>
                    <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¢â‘¥">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursorâ‘¤">file position cursor</a> to
                        <var>writePosition</var> + <var>bufferSize</var>.
                    </p>
                <li data-md>
                    <p>Return <var>bufferSize</var>.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.3" id="api-filesystemsyncaccesshandle-truncate"><span
                class="secno">2.6.3. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-truncate" id="ref-for-dom-filesystemsyncaccesshandle-truncateâ‘ ">truncate()</a></code>
                method</span><a class="self-link" href="#api-filesystemsyncaccesshandle-truncate"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-truncate" id="ref-for-dom-filesystemsyncaccesshandle-truncateâ‘¡">truncate</a></code>(<var>newSize</var>)
                <dd data-md>
                    <p>Resizes the file associated with <var>handle</var> to be <var>newSize</var> bytes long. If
                        <var>newSize</var> is larger than the current file size this pads the file with null bytes;
                        otherwise it truncates the file.
                    </p>
                <dd data-md>
                    <p>The file cursor is updated when <code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-truncate" id="ref-for-dom-filesystemsyncaccesshandle-truncateâ‘¢">truncate</a></code>
                        is called. If the cursor is smaller than <var>newSize</var>, it remains unchanged. If the cursor
                        is larger than <var>newSize</var>, it is set to <var>newSize</var>.</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="truncate(newSize)" data-algorithm-for="FileSystemSyncAccessHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export id="dom-filesystemsyncaccesshandle-truncate"><code>truncate(<var>newSize</var>)</code></dfn>
            method steps are:


            <ol>
                <li data-md>
                    <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¢â‘¦">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-stateâ‘¢">[[state]]</a> is "<code>closed</code>",
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throwâ‘¦">throw</a> an "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerrorâ‘£">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¢â‘¢">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Let <var>fileContents</var> be a copy of <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘¢â‘§">this</a>â€™s
                        <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-fileâ‘¤">[[file]]</a>â€™s <a data-link-type="dfn"
                            href="#file-entry-binary-data" id="ref-for-file-entry-binary-dataâ‘¨">binary data</a>.
                    </p>
                <li data-md>
                    <p>Let <var>oldSize</var> be the <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-lengthâ‘ â“ª">length</a> of <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘¢â‘¨">this</a>â€™s
                        <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-fileâ‘¥">[[file]]</a>â€™s <a data-link-type="dfn"
                            href="#file-entry-binary-data" id="ref-for-file-entry-binary-dataâ‘ â“ª">binary data</a>.
                    </p>
                <li data-md>
                    <p>If the underlying file system does not support setting a fileâ€™s size to
                        <var>newSize</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throwâ‘§">throw</a> a <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerrorâ‘§">TypeError</a></code>.
                    </p>
                <li data-md>
                    <p>If <var>newSize</var> is larger than <var>oldSize</var>:</p>
                    <ol>
                        <li data-md>
                            <p>If <var>newSize</var> âˆ’ <var>oldSize</var> exceeds the available <a data-link-type="dfn"
                                    href="https://storage.spec.whatwg.org/#storage-quota"
                                    id="ref-for-storage-quotaâ‘¤">storage quota</a>,
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                    id="ref-for-dfn-throwâ‘¨">throw</a> a "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederrorâ‘¢">QuotaExceededError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¢â‘£">DOMException</a></code>.
                            </p>
                        <li data-md>
                            <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-thisâ‘£â“ª">this</a>â€™s <a data-link-type="dfn"
                                    href="#filesystemsyncaccesshandle-file"
                                    id="ref-for-filesystemsyncaccesshandle-fileâ‘¦">[[file]]</a>â€™s to a
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequenceâ‘ â‘¢">byte sequence</a> formed by concatenating
                                <var>fileContents</var> with a
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequenceâ‘ â‘£">byte sequence</a> containing <var>newSize</var> âˆ’
                                <var>oldSize</var> 0x00 bytes.
                            </p>
                        <li data-md>
                            <p>If the operations modifying the <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘£â‘ ">this</a>â€™s
                                <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                                    id="ref-for-filesystemsyncaccesshandle-fileâ‘§">[[file]]</a>â€™s <a data-link-type="dfn"
                                    href="#file-entry-binary-data" id="ref-for-file-entry-binary-dataâ‘ â‘ ">binary data</a>
                                in the previous steps failed,
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                    id="ref-for-dfn-throwâ‘ â“ª">throw</a> an "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerrorâ‘¤">InvalidStateError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¢â‘¤">DOMException</a></code>.
                            </p>
                    </ol>
                <li data-md>
                    <p>Otherwise, if <var>newSize</var> is smaller than <var>oldSize</var>:</p>
                    <ol>
                        <li data-md>
                            <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-thisâ‘£â‘¡">this</a>â€™s <a data-link-type="dfn"
                                    href="#filesystemsyncaccesshandle-file"
                                    id="ref-for-filesystemsyncaccesshandle-fileâ‘¨">[[file]]</a>â€™s to a
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequenceâ‘ â‘¤">byte sequence</a> containing the first
                                <var>newSize</var> bytes in <var>fileContents</var>.
                            </p>
                        <li data-md>
                            <p>If the operations modifying the <a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-thisâ‘£â‘¢">this</a>â€™s
                                <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                                    id="ref-for-filesystemsyncaccesshandle-fileâ‘ â“ª">[[file]]</a>â€™s <a
                                    data-link-type="dfn" href="#file-entry-binary-data"
                                    id="ref-for-file-entry-binary-dataâ‘ â‘¡">binary data</a>
                                in the previous steps failed,
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                    id="ref-for-dfn-throwâ‘ â‘ ">throw</a> an "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerrorâ‘¥">InvalidStateError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¢â‘¥">DOMException</a></code>.
                            </p>
                    </ol>
                <li data-md>
                    <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘£â‘£">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursorâ‘¥">file position cursor</a> is
                        greater than <var>newSize</var>, then set <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursorâ‘¦">file position cursor</a> to
                        <var>newSize</var>.
                    </p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.4" id="api-filesystemsyncaccesshandle-getsize"><span
                class="secno">2.6.4. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-getsize" id="ref-for-dom-filesystemsyncaccesshandle-getsizeâ‘ ">getSize()</a></code>
                method</span><a class="self-link" href="#api-filesystemsyncaccesshandle-getsize"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-getsize" id="ref-for-dom-filesystemsyncaccesshandle-getsizeâ‘¡">getSize()</a></code>
                <dd data-md>
                    <p>Returns the size of the file associated with <var>handle</var> in bytes.</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getSize()" data-algorithm-for="FileSystemSyncAccessHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export id="dom-filesystemsyncaccesshandle-getsize"><code>getSize()</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘£â‘¤">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-stateâ‘£">[[state]]</a> is "<code>closed</code>",
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throwâ‘ â‘¡">throw</a> an "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerrorâ‘¦">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¢â‘¦">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘£â‘¥">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-fileâ‘ â‘ ">[[file]]</a>â€™s
                        <a data-link-type="dfn" href="#file-entry-binary-data"
                            id="ref-for-file-entry-binary-dataâ‘ â‘¢">binary data</a>â€™s <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-lengthâ‘ â‘ ">length</a>.
                    </p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.5" id="api-filesystemsyncaccesshandle-flush"><span
                class="secno">2.6.5. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-flush" id="ref-for-dom-filesystemsyncaccesshandle-flushâ‘ ">flush()</a></code>
                method</span><a class="self-link" href="#api-filesystemsyncaccesshandle-flush"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-flush" id="ref-for-dom-filesystemsyncaccesshandle-flushâ‘¡">flush()</a></code>
                <dd data-md>
                    <p>Ensures that the contents of the file associated with <var>handle</var> contain all the
                        modifications done through <code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-write" id="ref-for-dom-filesystemsyncaccesshandle-writeâ‘£">write()</a></code>.
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="flush()" data-algorithm-for="FileSystemSyncAccessHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export id="dom-filesystemsyncaccesshandle-flush"><code>flush()</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘£â‘¦">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-stateâ‘¤">[[state]]</a> is "<code>closed</code>",
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throwâ‘ â‘¢">throw</a> an "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerrorâ‘§">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¢â‘§">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>Attempt to transfer all cached modifications of the fileâ€™s content to the
                        file systemâ€™s underlying storage device.</p>
                    <p class="note" role="note"><span class="marker">Note:</span> This is also known as flushing. This
                        can be a no-op on some file
                        systems, such as in-memory file systems, which do not have a "disk" to flush
                        to.</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.6" id="api-filesystemsyncaccesshandle-close"><span
                class="secno">2.6.6. </span><span class="content">The <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-close" id="ref-for-dom-filesystemsyncaccesshandle-closeâ‘ ">close()</a></code>
                method</span><a class="self-link" href="#api-filesystemsyncaccesshandle-close"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-close" id="ref-for-dom-filesystemsyncaccesshandle-closeâ‘¡">close()</a></code>
                <dd data-md>
                    <p>Closes the access handle or no-ops if the access handle is already closed.
                        This disables any further operations on it and
                        <a data-link-type="dfn" href="#file-entry-lock-release"
                            id="ref-for-file-entry-lock-releaseâ‘¡">releases the lock</a> on the
                        <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-fileâ‘ â‘¡">[[file]]</a> associated with
                        <var>handle</var>.
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="close()" data-algorithm-for="FileSystemSyncAccessHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export id="dom-filesystemsyncaccesshandle-close"><code>close()</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘£â‘§">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-stateâ‘¥">[[state]]</a> is "<code>closed</code>",
                        return.</p>
                <li data-md>
                    <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘£â‘¨">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-stateâ‘¦">[[state]]</a> to "<code>closed</code>".</p>
                <li data-md>
                    <p>Set <var>lockReleased</var> to false.</p>
                <li data-md>
                    <p>Let <var>file</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-thisâ‘¤â“ª">this</a>â€™s <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-fileâ‘ â‘¢">[[file]]</a>.</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-stepsâ‘ â‘¢">Enqueue the following steps</a> to the <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queueâ‘ â‘¥">file system
                            queue</a>:</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#file-entry-lock-release"
                                    id="ref-for-file-entry-lock-releaseâ‘¢">Release the lock</a> on <var>file</var>.</p>
                        <li data-md>
                            <p>Set <var>lockReleased</var> to true.</p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#pause"
                            id="ref-for-pause">Pause</a> until <var>lockReleased</var> is true.</p>
            </ol>
            <p class="note" role="note"><span class="marker">Note:</span> This method does not guarantee that all file
                modifications will be
                immediately reflected in the underlying storage device. Call the
                <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-flush" id="ref-for-dom-filesystemsyncaccesshandle-flushâ‘¢">flush()</a></code>
                method first if you require this
                guarantee.
            </p>
        </div>
        <h2 class="heading settled" data-level="3" id="sandboxed-filesystem"><span class="secno">3. </span><span
                class="content">Accessing the Bucket File System</span><a class="self-link"
                href="#sandboxed-filesystem"></a></h2>
        <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="origin-private-file-system">bucket file
                system</dfn> is a
            <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-endpoint"
                id="ref-for-storage-endpoint">storage endpoint</a> whose
            <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-endpoint-identifier"
                id="ref-for-storage-endpoint-identifier">identifier</a> is <code>"fileSystem"</code>,
            <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-endpoint-types"
                id="ref-for-storage-endpoint-types">types</a> are <code>Â« "local" Â»</code>,
            and <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-endpoint-quota"
                id="ref-for-storage-endpoint-quota">quota</a> is null.
        </p>
        <p class="XXX"> Storage endpoints should be defined in <a data-link-type="biblio" href="#biblio-storage"
                title="Storage Standard">[storage]</a> itself, rather
            than being defined here. So merge this into the table there.</p>
        <p class="note" role="note"><span class="marker">Note:</span> While user agents will typically implement this by
            persisting the contents of a
            <a data-link-type="dfn" href="#origin-private-file-system" id="ref-for-origin-private-file-systemâ‘¤">bucket
                file system</a> to disk, it is not intended that the contents are easily
            user accessible. Similarly there is no expectation that files or directories with names
            matching the names of children of a <a data-link-type="dfn" href="#origin-private-file-system"
                id="ref-for-origin-private-file-systemâ‘¥">bucket file system</a> exist.
        </p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContextâ‘¤"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://storage.spec.whatwg.org/#storagemanager" id="ref-for-storagemanager"><c- g>StorageManager</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promiseâ‘ â‘ "><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandleâ‘¨"><c- n>FileSystemDirectoryHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-storagemanager-getdirectory" id="ref-for-dom-storagemanager-getdirectoryâ‘¡"><c- g>getDirectory</c-></a>();
};
</pre>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>directoryHandle</var> = await navigator . storage . <code
                        class="idl"><a data-link-type="idl" href="#dom-storagemanager-getdirectory" id="ref-for-dom-storagemanager-getdirectoryâ‘¢">getDirectory()</a></code>
                <dd data-md>
                    <p>Returns the root directory of the <a data-link-type="dfn" href="#origin-private-file-system"
                            id="ref-for-origin-private-file-systemâ‘¦">bucket file system</a>.</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getDirectory()" data-algorithm-for="StorageManager">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="StorageManager" data-dfn-type="method" data-export
                id="dom-storagemanager-getdirectory"><code>getDirectory()</code></dfn> method steps are:


            <ol>
                <li data-md>
                    <p>Let <var>environment</var> be the <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object"
                            id="ref-for-current-settings-object">current settings object</a>.</p>
                <li data-md>
                    <p>Let <var>map</var> be the result of running <a data-link-type="dfn"
                            href="https://storage.spec.whatwg.org/#obtain-a-local-storage-bottle-map"
                            id="ref-for-obtain-a-local-storage-bottle-map">obtain a local storage bottle map</a>
                        with <var>environment</var> and <code>"fileSystem"</code>. If this returns failure,
                        return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-withâ‘ ">a promise rejected with</a> a "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror">SecurityError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMExceptionâ‘¢â‘¨">DOMException</a></code>.
                    </p>
                <li data-md>
                    <p>If <var>map</var>["root"] does not <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-existsâ‘¥">exist</a>:</p>
                    <ol>
                        <li data-md>
                            <p>Let <var>dir</var> be a new <a data-link-type="dfn" href="#directory"
                                    id="ref-for-directoryâ‘ â‘¨">directory entry</a> whose <a data-link-type="dfn"
                                    href="#entry-query-access" id="ref-for-entry-query-accessâ‘ â‘ ">query access</a> and
                                <a data-link-type="dfn" href="#entry-request-access"
                                    id="ref-for-entry-request-accessâ‘ â“ª">request access</a> algorithms always return
                                a <a data-link-type="dfn" href="#file-system-access-result"
                                    id="ref-for-file-system-access-resultâ‘£">file system access result</a>
                                with a <a data-link-type="dfn" href="#file-system-access-result-permission-state"
                                    id="ref-for-file-system-access-result-permission-stateâ‘ â‘¢">permission state</a>
                                of "<code
                                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-grantedâ‘ â‘ ">granted</a></code>"
                                and
                                with an <a data-link-type="dfn" href="#file-system-access-result-error-name"
                                    id="ref-for-file-system-access-result-error-nameâ‘ â‘¡">error name</a> of the empty
                                string.
                            </p>
                        <li data-md>
                            <p>Set <var>dir</var>â€™s <a data-link-type="dfn" href="#entry-name"
                                    id="ref-for-entry-nameâ‘ â‘§">name</a> to the empty string.</p>
                        <li data-md>
                            <p>Set <var>dir</var>â€™s <a data-link-type="dfn" href="#directory-entry-children"
                                    id="ref-for-directory-entry-childrenâ‘ â‘ ">children</a> to an empty <a
                                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set"
                                    id="ref-for-ordered-setâ‘¢">set</a>.</p>
                        <li data-md>
                            <p>Set <var>map</var>["root"] to <var>dir</var>.</p>
                    </ol>
                <li data-md>
                    <p>Let <var>root</var> be an <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#implementation-defined"
                            id="ref-for-implementation-definedâ‘¥">implementation-defined</a> opaque <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#string"
                            id="ref-for-stringâ‘¥">string</a>.</p>
                <li data-md>
                    <p>Let <var>path</var> be Â« the empty string Â».</p>
                <li data-md>
                    <p>Let <var>handle</var> be the result of <a data-link-type="dfn"
                            href="#creating-a-new-filesystemdirectoryhandle"
                            id="ref-for-creating-a-new-filesystemdirectoryhandle">creating a new
                            <code>FileSystemDirectoryHandle</code></a>.
                        given <var>root</var> and <var>path</var> in the <a data-link-type="dfn"
                            href="https://tc39.es/ecma262/#current-realm" id="ref-for-current-realm">current realm</a>.
                    </p>
                    <p class="note" role="note"><span class="marker">Note:</span> <var>root</var> might include relevant
                        identifying information such as the
                        <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-bucket"
                            id="ref-for-storage-bucketâ‘¢">storage bucket</a>.
                    </p>
                <li data-md>
                    <p class="assertion">Assert: <a data-link-type="dfn" href="#locating-an-entry"
                            id="ref-for-locating-an-entryâ‘¡â‘¡">locating an entry</a> given <var>handle</var>â€™s <a
                            data-link-type="dfn" href="#filesystemhandle-locator"
                            id="ref-for-filesystemhandle-locatorâ‘£â‘¡">locator</a>
                        returns a <a data-link-type="dfn" href="#directory" id="ref-for-directoryâ‘¡â“ª">directory entry</a>
                        that is <a data-link-type="dfn" href="#file-system-entry-the-same-entry-as"
                            id="ref-for-file-system-entry-the-same-entry-as">the same entry as</a>
                        <var>map</var>["root"].
                    </p>
                <li data-md>
                    <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with">a promise resolved with</a> <var>handle</var>.</p>
            </ol>
        </div>
        <h2 class="no-num heading settled" id="acks"><span class="content">Acknowledgments</span><a class="self-link"
                href="#acks"></a></h2>
        <p>Many thanks to
            Alex Danilo,
            Anne van Kesteren,
            Anoesj Sadraee,
            Austin Sullivan,
            Chase Phillips,
            Daseul Lee,
            Dru Knox,
            Edgar Chen,
            Emanuel Krivoy,
            Hazim Mohamed,
            Ingvar Stepanyan,
            Jari Jalkanen,
            Joshua Bell,
            Kagami Sascha Rosylight,
            Marcos CÃ¡ceres,
            Martin Thomson,
            Olivier Yiptong,
            Philip JÃ¤genstedt,
            Randell Jesup,
            Richard Stotz,
            Ruth John,
            Sid Vishnoi,
            Sihui Liu,
            Stefan Sauer,
            Thomas Steiner,
            Victor Costan, and
            Youenn Fablet
            for being awesome!

        </p>
        <p>This standard is written by <span lang="nl">Marijn Kruisselbrink</span>
            (<a href="https://www.google.com/">Google</a>, <a href="mailto:mek@chromium.org">mek@chromium.org</a>).


        </p>
        <h2 class="no-num heading settled" id="ipr"><span class="content">Intellectual property rights</span><a
                class="self-link" href="#ipr"></a></h2>
        <div data-fill-with="ipr">This Living Standard includes material copied from W3C WICGâ€™s
            <a href="https://wicg.github.io/file-system-access/"><cite>File System Access</cite></a>, which is
            available under the
            <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">W3C Software and Document
                License</a>.


        </div>
        <p>Copyright Â© WHATWG (Apple, Google, Mozilla, Microsoft). This work is licensed under a <a
                href="https://creativecommons.org/licenses/by/4.0/" rel="license">Creative Commons Attribution 4.0
                International License</a>. To the extent portions of it are incorporated into source code, such
            portions in the source code are licensed under the <a href="https://opensource.org/licenses/BSD-3-Clause"
                rel="license">BSD 3-Clause License</a> instead.</p>
        <p>This is the Living Standard. Those
            interested in the patent-review version should view the
            <a href="/review-drafts/2023-09/">Living Standard Review Draft</a>.
        </p>
    </main>
    <script>
        "use strict";
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("/service-worker.js");
        }
    </script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this
            specification</span><a class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#dom-filesystemreadwriteoptions-at">at</a><span>, in Â§â€¯2.6</span>
        <li><a href="#file-entry-binary-data">binary data</a><span>, in Â§â€¯2.1</span>
        <li><a href="#origin-private-file-system">bucket file system</a><span>, in Â§â€¯3</span>
        <li><a href="#filesystemwritablefilestream-buffer">[[buffer]]</a><span>, in Â§â€¯2.5</span>
        <li><a href="#directory-entry-children">children</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dom-filesystemsyncaccesshandle-close">close()</a><span>, in Â§â€¯2.6.6</span>
        <li>
            create
            <ul>
                <li><a href="#dom-filesystemgetdirectoryoptions-create">dict-member for
                        FileSystemGetDirectoryOptions</a><span>, in Â§â€¯2.4</span>
                <li><a href="#dom-filesystemgetfileoptions-create">dict-member for FileSystemGetFileOptions</a><span>,
                        in Â§â€¯2.4</span>
            </ul>
        <li><a href="#create-a-new-filesystemsyncaccesshandle">create a new FileSystemSyncAccessHandle</a><span>, in
                Â§â€¯2.6</span>
        <li><a href="#create-a-new-filesystemwritablefilestream">create a new FileSystemWritableFileStream</a><span>, in
                Â§â€¯2.5</span>
        <li><a href="#dom-filesystemfilehandle-createsyncaccesshandle">createSyncAccessHandle()</a><span>, in
                Â§â€¯2.3.3</span>
        <li><a href="#dom-filesystemfilehandle-createwritable">createWritable()</a><span>, in Â§â€¯2.3.2</span>
        <li><a href="#dom-filesystemfilehandle-createwritable">createWritable(options)</a><span>, in Â§â€¯2.3.2</span>
        <li><a href="#creating-a-child-filesystemdirectoryhandle">creating a child FileSystemDirectoryHandle</a><span>,
                in Â§â€¯2.4</span>
        <li><a href="#creating-a-child-filesystemfilehandle">creating a child FileSystemFileHandle</a><span>, in
                Â§â€¯2.3</span>
        <li><a href="#creating-a-new-filesystemdirectoryhandle">creating a new FileSystemDirectoryHandle</a><span>, in
                Â§â€¯2.4</span>
        <li><a href="#creating-a-new-filesystemfilehandle">creating a new FileSystemFileHandle</a><span>, in
                Â§â€¯2.3</span>
        <li><a href="#create-a-new-filesystemsyncaccesshandle">creating a new FileSystemSyncAccessHandle</a><span>, in
                Â§â€¯2.6</span>
        <li><a href="#create-a-new-filesystemwritablefilestream">creating a new FileSystemWritableFileStream</a><span>,
                in Â§â€¯2.5</span>
        <li><a href="#dom-writeparams-data">data</a><span>, in Â§â€¯2.5</span>
        <li><a href="#dom-filesystemhandlekind-directory">"directory"</a><span>, in Â§â€¯2.2</span>
        <li><a href="#directory">directory entry</a><span>, in Â§â€¯2.1</span>
        <li><a href="#directory-locator">directory locator</a><span>, in Â§â€¯2.1</span>
        <li><a href="#file-system-access-result-error-name">error name</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dom-filesystemhandlekind-file">"file"</a><span>, in Â§â€¯2.2</span>
        <li>
            [[file]]
            <ul>
                <li><a href="#filesystemsyncaccesshandle-file">dfn for FileSystemSyncAccessHandle</a><span>, in
                        Â§â€¯2.6</span>
                <li><a href="#filesystemwritablefilestream-file">dfn for FileSystemWritableFileStream</a><span>, in
                        Â§â€¯2.5</span>
            </ul>
        <li><a href="#file">file entry</a><span>, in Â§â€¯2.1</span>
        <li><a href="#file-locator">file locator</a><span>, in Â§â€¯2.1</span>
        <li><a href="#filesystemsyncaccesshandle-file-position-cursor">file position cursor</a><span>, in Â§â€¯2.6</span>
        <li><a href="#file-system-access-result">file system access result</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dictdef-filesystemcreatewritableoptions">FileSystemCreateWritableOptions</a><span>, in
                Â§â€¯2.3</span>
        <li><a href="#filesystemdirectoryhandle">FileSystemDirectoryHandle</a><span>, in Â§â€¯2.4</span>
        <li><a href="#entry">file system entry</a><span>, in Â§â€¯2.1</span>
        <li><a href="#filesystemfilehandle">FileSystemFileHandle</a><span>, in Â§â€¯2.3</span>
        <li><a href="#dictdef-filesystemgetdirectoryoptions">FileSystemGetDirectoryOptions</a><span>, in Â§â€¯2.4</span>
        <li><a href="#dictdef-filesystemgetfileoptions">FileSystemGetFileOptions</a><span>, in Â§â€¯2.4</span>
        <li><a href="#filesystemhandle">FileSystemHandle</a><span>, in Â§â€¯2.2</span>
        <li><a href="#enumdef-filesystemhandlekind">FileSystemHandleKind</a><span>, in Â§â€¯2.2</span>
        <li><a href="#file-system-locator">file system locator</a><span>, in Â§â€¯2.1</span>
        <li><a href="#file-system-path">file system path</a><span>, in Â§â€¯2.1</span>
        <li><a href="#file-system-queue">file system queue</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dictdef-filesystemreadwriteoptions">FileSystemReadWriteOptions</a><span>, in Â§â€¯2.6</span>
        <li><a href="#dictdef-filesystemremoveoptions">FileSystemRemoveOptions</a><span>, in Â§â€¯2.4</span>
        <li><a href="#file-system-root">file system root</a><span>, in Â§â€¯2.1</span>
        <li><a href="#filesystemsyncaccesshandle">FileSystemSyncAccessHandle</a><span>, in Â§â€¯2.6</span>
        <li><a href="#filesystemwritablefilestream">FileSystemWritableFileStream</a><span>, in Â§â€¯2.5</span>
        <li><a href="#typedefdef-filesystemwritechunktype">FileSystemWriteChunkType</a><span>, in Â§â€¯2.5</span>
        <li><a href="#dom-filesystemsyncaccesshandle-flush">flush()</a><span>, in Â§â€¯2.6.5</span>
        <li><a href="#dom-storagemanager-getdirectory">getDirectory()</a><span>, in Â§â€¯3</span>
        <li><a href="#dom-filesystemdirectoryhandle-getdirectoryhandle">getDirectoryHandle(name)</a><span>, in
                Â§â€¯2.4.3</span>
        <li><a href="#dom-filesystemdirectoryhandle-getdirectoryhandle">getDirectoryHandle(name, options)</a><span>, in
                Â§â€¯2.4.3</span>
        <li><a href="#dom-filesystemfilehandle-getfile">getFile()</a><span>, in Â§â€¯2.3.1</span>
        <li><a href="#dom-filesystemdirectoryhandle-getfilehandle">getFileHandle(name)</a><span>, in Â§â€¯2.4.2</span>
        <li><a href="#dom-filesystemdirectoryhandle-getfilehandle">getFileHandle(name, options)</a><span>, in
                Â§â€¯2.4.2</span>
        <li><a href="#dom-filesystemsyncaccesshandle-getsize">getSize()</a><span>, in Â§â€¯2.6.4</span>
        <li><a href="#getting-the-locator">getting the locator</a><span>, in Â§â€¯2.1</span>
        <li><a href="#filesystemhandle-is-in-a-bucket-file-system">is in a bucket file system</a><span>, in Â§â€¯2.2</span>
        <li><a href="#dom-filesystemhandle-issameentry">isSameEntry(other)</a><span>, in Â§â€¯2.2.1</span>
        <li><a href="#dom-filesystemcreatewritableoptions-keepexistingdata">keepExistingData</a><span>, in Â§â€¯2.3</span>
        <li>
            kind
            <ul>
                <li><a href="#dom-filesystemhandle-kind">attribute for FileSystemHandle</a><span>, in Â§â€¯2.2</span>
                <li><a href="#locator-kind">dfn for file system locator</a><span>, in Â§â€¯2.1</span>
            </ul>
        <li><a href="#locating-an-entry">locating an entry</a><span>, in Â§â€¯2.1</span>
        <li><a href="#filesystemhandle-locator">locator</a><span>, in Â§â€¯2.2</span>
        <li><a href="#file-entry-lock">lock</a><span>, in Â§â€¯2.1</span>
        <li><a href="#file-entry-modification-timestamp">modification timestamp</a><span>, in Â§â€¯2.1</span>
        <li>
            name
            <ul>
                <li><a href="#dom-filesystemhandle-name">attribute for FileSystemHandle</a><span>, in Â§â€¯2.2</span>
                <li><a href="#entry-name">dfn for file system entry</a><span>, in Â§â€¯2.1</span>
            </ul>
        <li><a href="#entry-parent">parent</a><span>, in Â§â€¯2.1</span>
        <li><a href="#filesystemdirectoryhandle-iterator-past-results">past results</a><span>, in Â§â€¯2.4.1</span>
        <li><a href="#locator-path">path</a><span>, in Â§â€¯2.1</span>
        <li><a href="#file-system-access-result-permission-state">permission state</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dom-writeparams-position">position</a><span>, in Â§â€¯2.5</span>
        <li><a href="#entry-query-access">query access</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dom-filesystemsyncaccesshandle-read">read(buffer)</a><span>, in Â§â€¯2.6</span>
        <li><a href="#dom-filesystemsyncaccesshandle-read-buffer-filesystemreadwriteoptions-options">read(buffer,
                FileSystemReadWriteOptions: options)</a><span>, in Â§â€¯2.6.1</span>
        <li><a href="#dom-filesystemsyncaccesshandle-read">read(buffer, options)</a><span>, in Â§â€¯2.6</span>
        <li><a href="#dom-filesystemremoveoptions-recursive">recursive</a><span>, in Â§â€¯2.4</span>
        <li><a href="#file-entry-lock-release">release</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dom-filesystemdirectoryhandle-removeentry">removeEntry(name)</a><span>, in Â§â€¯2.4.4</span>
        <li><a href="#dom-filesystemdirectoryhandle-removeentry">removeEntry(name, options)</a><span>, in Â§â€¯2.4.4</span>
        <li><a href="#entry-request-access">request access</a><span>, in Â§â€¯2.1</span>
        <li><a href="#locator-resolve">resolve</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dom-filesystemdirectoryhandle-resolve">resolve(possibleDescendant)</a><span>, in Â§â€¯2.4.5</span>
        <li><a href="#locator-root">root</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dom-writecommandtype-seek">"seek"</a><span>, in Â§â€¯2.5</span>
        <li><a href="#filesystemwritablefilestream-seekoffset">[[seekOffset]]</a><span>, in Â§â€¯2.5</span>
        <li><a href="#dom-filesystemwritablefilestream-seek">seek(position)</a><span>, in Â§â€¯2.5.2</span>
        <li><a href="#file-entry-shared-lock-count">shared lock count</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dom-writeparams-size">size</a><span>, in Â§â€¯2.5</span>
        <li><a href="#filesystemsyncaccesshandle-state">[[state]]</a><span>, in Â§â€¯2.6</span>
        <li><a href="#file-entry-lock-take">take</a><span>, in Â§â€¯2.1</span>
        <li><a href="#file-system-entry-the-same-entry-as">the same entry as</a><span>, in Â§â€¯2.1</span>
        <li><a href="#file-system-locator-the-same-locator-as">the same locator as</a><span>, in Â§â€¯2.1</span>
        <li><a href="#file-system-path-the-same-path-as">the same path as</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dom-writecommandtype-truncate">"truncate"</a><span>, in Â§â€¯2.5</span>
        <li><a href="#dom-filesystemsyncaccesshandle-truncate">truncate(newSize)</a><span>, in Â§â€¯2.6.3</span>
        <li><a href="#dom-filesystemwritablefilestream-truncate">truncate(size)</a><span>, in Â§â€¯2.5.3</span>
        <li><a href="#dom-writeparams-type">type</a><span>, in Â§â€¯2.5</span>
        <li><a href="#valid-file-name">valid file name</a><span>, in Â§â€¯2.1</span>
        <li><a href="#dom-writecommandtype-write">"write"</a><span>, in Â§â€¯2.5</span>
        <li><a href="#write-a-chunk">write a chunk</a><span>, in Â§â€¯2.5</span>
        <li><a href="#dom-filesystemsyncaccesshandle-write">write(buffer)</a><span>, in Â§â€¯2.6</span>
        <li><a href="#dom-filesystemsyncaccesshandle-write-buffer-filesystemreadwriteoptions-options">write(buffer,
                FileSystemReadWriteOptions: options)</a><span>, in Â§â€¯2.6.2</span>
        <li><a href="#dom-filesystemsyncaccesshandle-write">write(buffer, options)</a><span>, in Â§â€¯2.6</span>
        <li><a href="#enumdef-writecommandtype">WriteCommandType</a><span>, in Â§â€¯2.5</span>
        <li><a href="#dom-filesystemwritablefilestream-write">write(data)</a><span>, in Â§â€¯2.5.1</span>
        <li><a href="#dictdef-writeparams">WriteParams</a><span>, in Â§â€¯2.5</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by
            reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="3aec4bbc">current realm</span>
                <li><span class="dfn-paneled" id="32132694">realm</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="0303e8e5">UTF-8 encode</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FILE-API]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="b7d73f5b">Blob</span>
                <li><span class="dfn-paneled" id="cd028611">File</span>
                <li><span class="dfn-paneled" id="f9970195">lastModified</span>
                <li><span class="dfn-paneled" id="1441e3bf">name</span>
                <li><span class="dfn-paneled" id="0a192674">read operation</span>
                <li><span class="dfn-paneled" id="c53e5a8e">snapshot state</span>
                <li><span class="dfn-paneled" id="e303c02d">type</span>
                <li><span class="dfn-paneled" id="17625652">Unix Epoch</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="eb5c4be3">Serializable</span>
                <li><span class="dfn-paneled" id="12b8dfc0">current settings object</span>
                <li><span class="dfn-paneled" id="888d7c65">deserialization steps</span>
                <li><span class="dfn-paneled" id="e4d92278">enqueue steps</span>
                <li><span class="dfn-paneled" id="102df61f">enqueue the following steps</span>
                <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
                <li><span class="dfn-paneled" id="43ac8374">origin</span>
                <li><span class="dfn-paneled" id="64301ea1">pause</span>
                <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
                <li><span class="dfn-paneled" id="5991ccfb">relevant realm</span>
                <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
                <li><span class="dfn-paneled" id="7393da89">same origin</span>
                <li><span class="dfn-paneled" id="0a422d04">serializable object</span>
                <li><span class="dfn-paneled" id="f32dc6c1">serialization steps</span>
                <li><span class="dfn-paneled" id="8219d486">starting a new parallel queue</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="53275e46">append <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="a3b18719">append <small>(for set)</small></span>
                <li><span class="dfn-paneled" id="77b4c09a">assert</span>
                <li><span class="dfn-paneled" id="3de9e659">byte sequence</span>
                <li><span class="dfn-paneled" id="027e3e49">clone</span>
                <li><span class="dfn-paneled" id="ae8def21">contain</span>
                <li><span class="dfn-paneled" id="1243a891">exist</span>
                <li><span class="dfn-paneled" id="16d07e10">for each</span>
                <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
                <li><span class="dfn-paneled" id="fb8f82b0">indices</span>
                <li><span class="dfn-paneled" id="6b815fdd">is empty</span>
                <li><span class="dfn-paneled" id="5afbefcd">item <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="c88f3887">item <small>(for struct)</small></span>
                <li><span class="dfn-paneled" id="36333997">length</span>
                <li><span class="dfn-paneled" id="649608b9">list</span>
                <li><span class="dfn-paneled" id="99c988d6">remove</span>
                <li><span class="dfn-paneled" id="15e48c39">set</span>
                <li><span class="dfn-paneled" id="0204d188">size</span>
                <li><span class="dfn-paneled" id="0698d556">string</span>
                <li><span class="dfn-paneled" id="984221ca">struct</span>
                <li><span class="dfn-paneled" id="febebe0e">the range</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="6c3bee60">PermissionState</span>
                <li><span class="dfn-paneled" id="2cb28cb0">denied</span>
                <li><span class="dfn-paneled" id="c6ce3c60">granted</span>
                <li><span class="dfn-paneled" id="6c2d7879">powerful feature</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS-REQUEST]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="35725f70">permission request algorithm</span>
            </ul>
        <li>
            <a data-link-type="biblio">[STORAGE]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="8649548f">StorageManager</span>
                <li><span class="dfn-paneled" id="7140f092">identifier</span>
                <li><span class="dfn-paneled" id="6bb9d790">obtain a local storage bottle map</span>
                <li><span class="dfn-paneled" id="d7bc2287">queue a storage task</span>
                <li><span class="dfn-paneled" id="896f4663">quota</span>
                <li><span class="dfn-paneled" id="6148dd37">storage bucket</span>
                <li><span class="dfn-paneled" id="98c6a112">storage endpoint</span>
                <li><span class="dfn-paneled" id="cac8dd86">storage quota</span>
                <li><span class="dfn-paneled" id="d9de012d">types</span>
            </ul>
        <li>
            <a data-link-type="biblio">[STREAMS]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="59ed4e57">ReadableStream</span>
                <li><span class="dfn-paneled" id="59dc45b5">WritableStream</span>
                <li><span class="dfn-paneled" id="4f848e3e">WritableStreamDefaultWriter</span>
                <li><span class="dfn-paneled" id="22429d52">abortAlgorithm</span>
                <li><span class="dfn-paneled" id="04dc6c33">closeAlgorithm</span>
                <li><span class="dfn-paneled" id="2231a61a">getWriter()</span>
                <li><span class="dfn-paneled" id="f4acb816">getting a writer</span>
                <li><span class="dfn-paneled" id="5958fe2e">highWaterMark</span>
                <li><span class="dfn-paneled" id="a307241e">release</span>
                <li><span class="dfn-paneled" id="3dc81766">set up</span>
                <li><span class="dfn-paneled" id="5d7f2906">sizeAlgorithm</span>
                <li><span class="dfn-paneled" id="68d8cab8">write()</span>
                <li><span class="dfn-paneled" id="d04a8309">writeAlgorithm</span>
                <li><span class="dfn-paneled" id="1ee4bec2">writing a chunk</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
            <ul>
                <li><span class="dfn-paneled" id="d25dfb2c">AbortError</span>
                <li><span class="dfn-paneled" id="5e4b6157">AllowSharedBufferSource</span>
                <li><span class="dfn-paneled" id="3aff2fb3">BufferSource</span>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                <li><span class="dfn-paneled" id="d54f5897">DataCloneError</span>
                <li><span class="dfn-paneled" id="c01cbda0">EnforceRange</span>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                <li><span class="dfn-paneled" id="cae6bf57">InvalidModificationError</span>
                <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
                <li><span class="dfn-paneled" id="45999d1c">NoModificationAllowedError</span>
                <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
                <li><span class="dfn-paneled" id="9eda9b58">NotFoundError</span>
                <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
                <li><span class="dfn-paneled" id="5e129c74">QuotaExceededError</span>
                <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
                <li><span class="dfn-paneled" id="c3e881ef">SecurityError</span>
                <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
                <li><span class="dfn-paneled" id="5d1a2ad0">TypeMismatchError</span>
                <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
                <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
                <li><span class="dfn-paneled" id="d0b4a948">a promise rejected with</span>
                <li><span class="dfn-paneled" id="8f5c2179">a promise resolved with</span>
                <li><span class="dfn-paneled" id="9a7f3f6f">asynchronous iterator initialization steps</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span>
                <li><span class="dfn-paneled" id="495737df">byte length</span>
                <li><span class="dfn-paneled" id="cadf5fe9">converted to an IDL value</span>
                <li><span class="dfn-paneled" id="bec98d30">dictionary</span>
                <li><span class="dfn-paneled" id="df71f478">DOMException names table</span>
                <li><span class="dfn-paneled" id="92d13070">get a copy of the buffer source</span>
                <li><span class="dfn-paneled" id="e7652812">get the next iteration result</span>
                <li><span class="dfn-paneled" id="44959ae4">name</span>
                <li><span class="dfn-paneled" id="56f81a8e">new</span>
                <li><span class="dfn-paneled" id="b262501e">reject</span>
                <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
                <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
                <li><span class="dfn-paneled" id="4013a022">this</span>
                <li><span class="dfn-paneled" id="b4cfa5ce">throw</span>
                <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
                <li><span class="dfn-paneled" id="f32e046f">underlying buffer</span>
                <li><span class="dfn-paneled" id="f14b47b8">unsigned long long</span>
                <li><span class="dfn-paneled" id="2d6ca7ca">write</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a
            class="self-link" href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a
            class="self-link" href="#normative"></a></h3>
    <dl>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-encoding">[ENCODING]
        <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Living
            Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
        <dt id="biblio-file-api">[FILE-API]
        <dd>Marijn Kruisselbrink. <a href="https://w3c.github.io/FileAPI/"><cite>File API</cite></a>. URL: <a
                href="https://w3c.github.io/FileAPI/">https://w3c.github.io/FileAPI/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>.
            Living Standard. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    Standard</cite></a>. Living Standard. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-permissions">[PERMISSIONS]
        <dd>Marcos Caceres; Mike Taylor. <a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>. URL:
            <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
        <dt id="biblio-permissions-request">[PERMISSIONS-REQUEST]
        <dd><a href="https://wicg.github.io/permissions-request/"><cite>Requesting Permissions</cite></a>. Draft
            Community Group Report. URL: <a
                href="https://wicg.github.io/permissions-request/">https://wicg.github.io/permissions-request/</a>
        <dt id="biblio-storage">[STORAGE]
        <dd>Anne van Kesteren. <a href="https://storage.spec.whatwg.org/"><cite>Storage Standard</cite></a>. Living
            Standard. URL: <a href="https://storage.spec.whatwg.org/">https://storage.spec.whatwg.org/</a>
        <dt id="biblio-streams">[STREAMS]
        <dd>Adam Rice; et al. <a href="https://streams.spec.whatwg.org/"><cite>Streams Standard</cite></a>. Living
            Standard. URL: <a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living
            Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def"><c- b>enum</c-> <a href="#enumdef-filesystemhandlekind"><code><c- g>FileSystemHandleKind</c-></code></a> {
  <a href="#dom-filesystemhandlekind-file"><code><c- s>"file"</c-></code></a>,
  <a href="#dom-filesystemhandlekind-directory"><code><c- s>"directory"</c-></code></a>,
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <a href="#filesystemhandle"><code><c- g>FileSystemHandle</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-filesystemhandlekind"><c- n>FileSystemHandleKind</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FileSystemHandleKind" href="#dom-filesystemhandle-kind"><c- g>kind</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-filesystemhandle-name"><c- g>name</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemhandle-issameentry"><c- g>isSameEntry</c-></a>(<a data-link-type="idl-name" href="#filesystemhandle"><c- n>FileSystemHandle</c-></a> <a href="#dom-filesystemhandle-issameentry-other-other"><code><c- g>other</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-filesystemcreatewritableoptions"><code><c- g>FileSystemCreateWritableOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-filesystemcreatewritableoptions-keepexistingdata"><code><c- g>keepExistingData</c-></code></a> = <c- b>false</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <a href="#filesystemfilehandle"><code><c- g>FileSystemFileHandle</c-></code></a> : <a data-link-type="idl-name" href="#filesystemhandle"><c- n>FileSystemHandle</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-file"><c- n>File</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-getfile"><c- g>getFile</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemwritablefilestream"><c- n>FileSystemWritableFileStream</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-createwritable"><c- g>createWritable</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemcreatewritableoptions"><c- n>FileSystemCreateWritableOptions</c-></a> <a href="#dom-filesystemfilehandle-createwritable-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemsyncaccesshandle"><c- n>FileSystemSyncAccessHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-createsyncaccesshandle"><c- g>createSyncAccessHandle</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-filesystemgetfileoptions"><code><c- g>FileSystemGetFileOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-filesystemgetfileoptions-create"><code><c- g>create</c-></code></a> = <c- b>false</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-filesystemgetdirectoryoptions"><code><c- g>FileSystemGetDirectoryOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-filesystemgetdirectoryoptions-create"><code><c- g>create</c-></code></a> = <c- b>false</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-filesystemremoveoptions"><code><c- g>FileSystemRemoveOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-filesystemremoveoptions-recursive"><code><c- g>recursive</c-></code></a> = <c- b>false</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <a href="#filesystemdirectoryhandle"><code><c- g>FileSystemDirectoryHandle</c-></code></a> : <a data-link-type="idl-name" href="#filesystemhandle"><c- n>FileSystemHandle</c-></a> {
  <c- b>async_iterable</c->&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a data-link-type="idl-name" href="#filesystemhandle"><c- n>FileSystemHandle</c-></a>>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemfilehandle"><c- n>FileSystemFileHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-getfilehandle"><c- g>getFileHandle</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-filesystemdirectoryhandle-getfilehandle-name-options-name"><code><c- g>name</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemgetfileoptions"><c- n>FileSystemGetFileOptions</c-></a> <a href="#dom-filesystemdirectoryhandle-getfilehandle-name-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemdirectoryhandle"><c- n>FileSystemDirectoryHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-getdirectoryhandle"><c- g>getDirectoryHandle</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-name"><code><c- g>name</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemgetdirectoryoptions"><c- n>FileSystemGetDirectoryOptions</c-></a> <a href="#dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-removeentry"><c- g>removeEntry</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-filesystemdirectoryhandle-removeentry-name-options-name"><code><c- g>name</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemremoveoptions"><c- n>FileSystemRemoveOptions</c-></a> <a href="#dom-filesystemdirectoryhandle-removeentry-name-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>>?> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-resolve"><c- g>resolve</c-></a>(<a data-link-type="idl-name" href="#filesystemhandle"><c- n>FileSystemHandle</c-></a> <a href="#dom-filesystemdirectoryhandle-resolve-possibledescendant-possibledescendant"><code><c- g>possibleDescendant</c-></code></a>);
};

<c- b>enum</c-> <a href="#enumdef-writecommandtype"><code><c- g>WriteCommandType</c-></code></a> {
  <a href="#dom-writecommandtype-write"><code><c- s>"write"</c-></code></a>,
  <a href="#dom-writecommandtype-seek"><code><c- s>"seek"</c-></code></a>,
  <a href="#dom-writecommandtype-truncate"><code><c- s>"truncate"</c-></code></a>,
};

<c- b>dictionary</c-> <a href="#dictdef-writeparams"><code><c- g>WriteParams</c-></code></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-writecommandtype"><c- n>WriteCommandType</c-></a> <a data-type="WriteCommandType" href="#dom-writeparams-type"><code><c- g>type</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>? <a data-type="unsigned long long?" href="#dom-writeparams-size"><code><c- g>size</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>? <a data-type="unsigned long long?" href="#dom-writeparams-position"><code><c- g>position</c-></code></a>;
  (<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#BufferSource"><c- n>BufferSource</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob"><c- n>Blob</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>)? <a data-type="(BufferSource or Blob or USVString)?" href="#dom-writeparams-data"><code><c- g>data</c-></code></a>;
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#BufferSource"><c- n>BufferSource</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob"><c- n>Blob</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-writeparams"><c- n>WriteParams</c-></a>) <a href="#typedefdef-filesystemwritechunktype"><code><c- g>FileSystemWriteChunkType</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#filesystemwritablefilestream"><code><c- g>FileSystemWritableFileStream</c-></code></a> : <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream"><c- n>WritableStream</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-write"><c- g>write</c-></a>(<a data-link-type="idl-name" href="#typedefdef-filesystemwritechunktype"><c- n>FileSystemWriteChunkType</c-></a> <a href="#dom-filesystemwritablefilestream-write-data-data"><code><c- g>data</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-seek"><c- g>seek</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#dom-filesystemwritablefilestream-seek-position-position"><code><c- g>position</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-truncate"><c- g>truncate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#dom-filesystemwritablefilestream-truncate-size-size"><code><c- g>size</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-filesystemreadwriteoptions"><code><c- g>FileSystemReadWriteOptions</c-></code></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-type="unsigned long long" href="#dom-filesystemreadwriteoptions-at"><code><c- g>at</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#filesystemsyncaccesshandle"><code><c- g>FileSystemSyncAccessHandle</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#dom-filesystemsyncaccesshandle-read"><code><c- g>read</c-></code></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource"><c- n>AllowSharedBufferSource</c-></a> <a href="#dom-filesystemsyncaccesshandle-read-buffer-options-buffer"><code><c- g>buffer</c-></code></a>,
                          <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemreadwriteoptions"><c- n>FileSystemReadWriteOptions</c-></a> <a href="#dom-filesystemsyncaccesshandle-read-buffer-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#dom-filesystemsyncaccesshandle-write"><code><c- g>write</c-></code></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource"><c- n>AllowSharedBufferSource</c-></a> <a href="#dom-filesystemsyncaccesshandle-write-buffer-options-buffer"><code><c- g>buffer</c-></code></a>,
                           <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemreadwriteoptions"><c- n>FileSystemReadWriteOptions</c-></a> <a href="#dom-filesystemsyncaccesshandle-write-buffer-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-truncate"><c- g>truncate</c-></a>([<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#dom-filesystemsyncaccesshandle-truncate-newsize-newsize"><code><c- g>newSize</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-getsize"><c- g>getSize</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-flush"><c- g>flush</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-close"><c- g>close</c-></a>();
};


[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://storage.spec.whatwg.org/#storagemanager"><c- g>StorageManager</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemdirectoryhandle"><c- n>FileSystemDirectoryHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-storagemanager-getdirectory"><c- g>getDirectory</c-></a>();
};

</pre>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "0204d188": { "dfnID": "0204d188", "dfnText": "size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-size" }, { "id": "ref-for-list-size\u2460" }, { "id": "ref-for-list-size\u2461" }, { "id": "ref-for-list-size\u2462" }, { "id": "ref-for-list-size\u2463" }, { "id": "ref-for-list-size\u2464" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#list-size" },
                "027e3e49": { "dfnID": "027e3e49", "dfnText": "clone", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-clone" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-list-clone\u2460" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://infra.spec.whatwg.org/#list-clone" },
                "0303e8e5": { "dfnID": "0303e8e5", "dfnText": "UTF-8 encode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-encode" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "04dc6c33": { "dfnID": "04dc6c33", "dfnText": "closeAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up-closealgorithm" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up-closealgorithm" },
                "0698d556": { "dfnID": "0698d556", "dfnText": "string", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string" }, { "id": "ref-for-string\u2460" }, { "id": "ref-for-string\u2461" }, { "id": "ref-for-string\u2462" }, { "id": "ref-for-string\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-string\u2464" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-string\u2465" }], "title": "3. Accessing the Bucket File System" }], "url": "https://infra.spec.whatwg.org/#string" },
                "0a192674": { "dfnID": "0a192674", "dfnText": "read operation", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readOperation" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://w3c.github.io/FileAPI/#readOperation" },
                "0a422d04": { "dfnID": "0a422d04", "dfnText": "serializable object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serializable-objects" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-serializable-objects\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-serializable-objects\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects" },
                "102df61f": { "dfnID": "102df61f", "dfnText": "enqueue the following steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-enqueue-the-following-steps" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2460" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2464" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2467" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2468" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u24ea" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u2460" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u2461" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2460\u2462" }], "title": "2.6.6. The close() method" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" },
                "1243a891": { "dfnID": "1243a891", "dfnText": "exist", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-exists" }, { "id": "ref-for-map-exists\u2460" }, { "id": "ref-for-map-exists\u2461" }, { "id": "ref-for-map-exists\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-map-exists\u2463" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-map-exists\u2464" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-map-exists\u2465" }], "title": "3. Accessing the Bucket File System" }], "url": "https://infra.spec.whatwg.org/#map-exists" },
                "12b8dfc0": { "dfnID": "12b8dfc0", "dfnText": "current settings object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-current-settings-object" }], "title": "3. Accessing the Bucket File System" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object" },
                "1441e3bf": { "dfnID": "1441e3bf", "dfnText": "name", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-name" }], "title": "2.3.1. The getFile() method" }], "url": "https://w3c.github.io/FileAPI/#dfn-name" },
                "15e48c39": { "dfnID": "15e48c39", "dfnText": "set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-ordered-set\u2460" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-ordered-set\u2461" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-ordered-set\u2462" }], "title": "3. Accessing the Bucket File System" }], "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "16d07e10": { "dfnID": "16d07e10", "dfnText": "for each", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }, { "id": "ref-for-list-iterate\u2460" }, { "id": "ref-for-list-iterate\u2461" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-list-iterate\u2462" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-list-iterate\u2463" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-list-iterate\u2464" }], "title": "2.4.4. The removeEntry() method" }], "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "17625652": { "dfnID": "17625652", "dfnText": "Unix Epoch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-UnixEpoch" }], "title": "2.1. Concepts" }], "url": "https://w3c.github.io/FileAPI/#UnixEpoch" },
                "1ee4bec2": { "dfnID": "1ee4bec2", "dfnText": "writing a chunk", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultwriter-write-a-chunk" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-write-a-chunk\u2460" }], "title": "2.5.2. The seek() method" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-write-a-chunk\u2461" }], "title": "2.5.3. The truncate() method" }], "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-write-a-chunk" },
                "2231a61a": { "dfnID": "2231a61a", "dfnText": "getWriter()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ws-get-writer" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#ws-get-writer" },
                "22429d52": { "dfnID": "22429d52", "dfnText": "abortAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up-abortalgorithm" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up-abortalgorithm" },
                "2cb28cb0": { "dfnID": "2cb28cb0", "dfnText": "denied", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionstate-denied" }, { "id": "ref-for-dom-permissionstate-denied\u2460" }], "title": "2.1. Concepts" }], "url": "https://w3c.github.io/permissions/#dom-permissionstate-denied" },
                "2d6ca7ca": { "dfnID": "2d6ca7ca", "dfnText": "write", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-arraybuffer-write" }], "title": "2.6.1. The read() method" }], "url": "https://webidl.spec.whatwg.org/#arraybuffer-write" },
                "32132694": { "dfnID": "32132694", "dfnText": "realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-realm" }, { "id": "ref-for-realm\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-realm\u2461" }, { "id": "ref-for-realm\u2462" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-realm\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-realm\u2464" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://tc39.es/ecma262/#realm" },
                "35725f70": { "dfnID": "35725f70", "dfnText": "permission request algorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-permission-request-algorithm" }], "title": "2.1. Concepts" }], "url": "https://wicg.github.io/permissions-request/#permission-request-algorithm" },
                "36333997": { "dfnID": "36333997", "dfnText": "length", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-length" }, { "id": "ref-for-byte-sequence-length\u2460" }, { "id": "ref-for-byte-sequence-length\u2461" }, { "id": "ref-for-byte-sequence-length\u2462" }, { "id": "ref-for-byte-sequence-length\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-byte-sequence-length\u2464" }, { "id": "ref-for-byte-sequence-length\u2465" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-byte-sequence-length\u2466" }, { "id": "ref-for-byte-sequence-length\u2467" }, { "id": "ref-for-byte-sequence-length\u2468" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-byte-sequence-length\u2460\u24ea" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-byte-sequence-length\u2460\u2460" }], "title": "2.6.4. The getSize() method" }], "url": "https://infra.spec.whatwg.org/#byte-sequence-length" },
                "3aec4bbc": { "dfnID": "3aec4bbc", "dfnText": "current realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-current-realm" }], "title": "3. Accessing the Bucket File System" }], "url": "https://tc39.es/ecma262/#current-realm" },
                "3aff2fb3": { "dfnID": "3aff2fb3", "dfnText": "BufferSource", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-BufferSource" }, { "id": "ref-for-BufferSource\u2460" }, { "id": "ref-for-BufferSource\u2461" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#BufferSource" },
                "3b90bdcd": { "dfnID": "3b90bdcd", "dfnText": "resolve", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-resolve" }, { "id": "ref-for-resolve\u2460" }, { "id": "ref-for-resolve\u2461" }, { "id": "ref-for-resolve\u2462" }, { "id": "ref-for-resolve\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-resolve\u2464" }, { "id": "ref-for-resolve\u2465" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-resolve\u2466" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-resolve\u2467" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-resolve\u2468" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u24ea" }, { "id": "ref-for-resolve\u2460\u2460" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2461" }, { "id": "ref-for-resolve\u2460\u2462" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2463" }, { "id": "ref-for-resolve\u2460\u2464" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2465" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2466" }, { "id": "ref-for-resolve\u2460\u2467" }, { "id": "ref-for-resolve\u2460\u2468" }, { "id": "ref-for-resolve\u2461\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#resolve" },
                "3dc81766": { "dfnID": "3dc81766", "dfnText": "set up", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up" },
                "3de9e659": { "dfnID": "3de9e659", "dfnText": "byte sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-byte-sequence\u2461" }, { "id": "ref-for-byte-sequence\u2462" }, { "id": "ref-for-byte-sequence\u2463" }, { "id": "ref-for-byte-sequence\u2464" }, { "id": "ref-for-byte-sequence\u2465" }, { "id": "ref-for-byte-sequence\u2466" }, { "id": "ref-for-byte-sequence\u2467" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-byte-sequence\u2468" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460\u24ea" }, { "id": "ref-for-byte-sequence\u2460\u2460" }, { "id": "ref-for-byte-sequence\u2460\u2461" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460\u2462" }, { "id": "ref-for-byte-sequence\u2460\u2463" }, { "id": "ref-for-byte-sequence\u2460\u2464" }], "title": "2.6.3. The truncate() method" }], "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "4013a022": { "dfnID": "4013a022", "dfnText": "this", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-this" }, { "id": "ref-for-this\u2460" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-this\u2461" }, { "id": "ref-for-this\u2462" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-this\u2465" }, { "id": "ref-for-this\u2466" }, { "id": "ref-for-this\u2467" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-this\u2468" }, { "id": "ref-for-this\u2460\u24ea" }, { "id": "ref-for-this\u2460\u2460" }, { "id": "ref-for-this\u2460\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2462" }, { "id": "ref-for-this\u2460\u2463" }, { "id": "ref-for-this\u2460\u2464" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2465" }, { "id": "ref-for-this\u2460\u2466" }, { "id": "ref-for-this\u2460\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2468" }, { "id": "ref-for-this\u2461\u24ea" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-this\u2461\u2460" }], "title": "2.4.5. The resolve() method" }, { "refs": [{ "id": "ref-for-this\u2461\u2461" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-this\u2461\u2462" }], "title": "2.5.2. The seek() method" }, { "refs": [{ "id": "ref-for-this\u2461\u2463" }], "title": "2.5.3. The truncate() method" }, { "refs": [{ "id": "ref-for-this\u2461\u2464" }, { "id": "ref-for-this\u2461\u2465" }, { "id": "ref-for-this\u2461\u2466" }, { "id": "ref-for-this\u2461\u2467" }, { "id": "ref-for-this\u2461\u2468" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-this\u2462\u24ea" }, { "id": "ref-for-this\u2462\u2460" }, { "id": "ref-for-this\u2462\u2461" }, { "id": "ref-for-this\u2462\u2462" }, { "id": "ref-for-this\u2462\u2463" }, { "id": "ref-for-this\u2462\u2464" }, { "id": "ref-for-this\u2462\u2465" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-this\u2462\u2466" }, { "id": "ref-for-this\u2462\u2467" }, { "id": "ref-for-this\u2462\u2468" }, { "id": "ref-for-this\u2463\u24ea" }, { "id": "ref-for-this\u2463\u2460" }, { "id": "ref-for-this\u2463\u2461" }, { "id": "ref-for-this\u2463\u2462" }, { "id": "ref-for-this\u2463\u2463" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-this\u2463\u2464" }, { "id": "ref-for-this\u2463\u2465" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-this\u2463\u2466" }], "title": "2.6.5. The flush() method" }, { "refs": [{ "id": "ref-for-this\u2463\u2467" }, { "id": "ref-for-this\u2463\u2468" }, { "id": "ref-for-this\u2464\u24ea" }], "title": "2.6.6. The close() method" }], "url": "https://webidl.spec.whatwg.org/#this" },
                "43ac8374": { "dfnID": "43ac8374", "dfnText": "origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-origin" }, { "id": "ref-for-concept-settings-object-origin\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
                "44959ae4": { "dfnID": "44959ae4", "dfnText": "name", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-domexception-name" }], "title": "2.1. Concepts" }], "url": "https://webidl.spec.whatwg.org/#domexception-name" },
                "45999d1c": { "dfnID": "45999d1c", "dfnText": "NoModificationAllowedError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-nomodificationallowederror" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-nomodificationallowederror\u2460" }], "title": "2.3.3. The createSyncAccessHandle() method" }], "url": "https://webidl.spec.whatwg.org/#nomodificationallowederror" },
                "495737df": { "dfnID": "495737df", "dfnText": "byte length", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-buffersource-byte-length" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-buffersource-byte-length\u2460" }], "title": "2.6.2. The write() method" }], "url": "https://webidl.spec.whatwg.org/#buffersource-byte-length" },
                "4f848e3e": { "dfnID": "4f848e3e", "dfnText": "WritableStreamDefaultWriter", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultwriter" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter" },
                "53275e46": { "dfnID": "53275e46", "dfnText": "append (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-append" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-list-append\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-list-append\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://infra.spec.whatwg.org/#list-append" },
                "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-idl-boolean\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-idl-boolean\u2461" }, { "id": "ref-for-idl-boolean\u2462" }, { "id": "ref-for-idl-boolean\u2463" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "56f81a8e": { "dfnID": "56f81a8e", "dfnText": "new", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-new" }, { "id": "ref-for-new\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-new\u2461" }, { "id": "ref-for-new\u2462" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-new\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-new\u2464" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#new" },
                "5958fe2e": { "dfnID": "5958fe2e", "dfnText": "highWaterMark", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up-highwatermark" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark" },
                "5991ccfb": { "dfnID": "5991ccfb", "dfnText": "relevant realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-realm" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2460" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2462" }, { "id": "ref-for-concept-relevant-realm\u2463" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2464" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2465" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
                "59dc45b5": { "dfnID": "59dc45b5", "dfnText": "WritableStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream" }, { "id": "ref-for-writablestream\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream" },
                "59ed4e57": { "dfnID": "59ed4e57", "dfnText": "ReadableStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#readablestream" },
                "5afbefcd": { "dfnID": "5afbefcd", "dfnText": "item (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-item" }, { "id": "ref-for-list-item\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-list-item\u2461" }, { "id": "ref-for-list-item\u2462" }, { "id": "ref-for-list-item\u2463" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://infra.spec.whatwg.org/#list-item" },
                "5d1a2ad0": { "dfnID": "5d1a2ad0", "dfnText": "TypeMismatchError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typemismatcherror" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-typemismatcherror\u2460" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "https://webidl.spec.whatwg.org/#typemismatcherror" },
                "5d7f2906": { "dfnID": "5d7f2906", "dfnText": "sizeAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up-sizealgorithm" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up-sizealgorithm" },
                "5e129c74": { "dfnID": "5e129c74", "dfnText": "QuotaExceededError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-quotaexceedederror" }, { "id": "ref-for-quotaexceedederror\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-quotaexceedederror\u2461" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-quotaexceedederror\u2462" }], "title": "2.6.3. The truncate() method" }], "url": "https://webidl.spec.whatwg.org/#quotaexceedederror" },
                "5e4b6157": { "dfnID": "5e4b6157", "dfnText": "AllowSharedBufferSource", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-AllowSharedBufferSource" }, { "id": "ref-for-AllowSharedBufferSource\u2460" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#AllowSharedBufferSource" },
                "5f90bbfb": { "dfnID": "5f90bbfb", "dfnText": "undefined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460" }, { "id": "ref-for-idl-undefined\u2461" }, { "id": "ref-for-idl-undefined\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-idl-undefined\u2463" }, { "id": "ref-for-idl-undefined\u2464" }, { "id": "ref-for-idl-undefined\u2465" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "6148dd37": { "dfnID": "6148dd37", "dfnText": "storage bucket", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-bucket" }, { "id": "ref-for-storage-bucket\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-storage-bucket\u2461" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-storage-bucket\u2462" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storage-bucket" },
                "64301ea1": { "dfnID": "64301ea1", "dfnText": "pause", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-pause" }], "title": "2.6.6. The close() method" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#pause" },
                "649608b9": { "dfnID": "649608b9", "dfnText": "list", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list" }, { "id": "ref-for-list\u2460" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#list" },
                "68d8cab8": { "dfnID": "68d8cab8", "dfnText": "write()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-default-writer-write" }, { "id": "ref-for-default-writer-write\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#default-writer-write" },
                "6b815fdd": { "dfnID": "6b815fdd", "dfnText": "is empty", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }], "title": "2.4.4. The removeEntry() method" }], "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "6bb9d790": { "dfnID": "6bb9d790", "dfnText": "obtain a local storage bottle map", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-obtain-a-local-storage-bottle-map" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#obtain-a-local-storage-bottle-map" },
                "6c2d7879": { "dfnID": "6c2d7879", "dfnText": "powerful feature", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-powerful-feature" }, { "id": "ref-for-dfn-powerful-feature\u2460" }], "title": "2.1. Concepts" }], "url": "https://w3c.github.io/permissions/#dfn-powerful-feature" },
                "6c3bee60": { "dfnID": "6c3bee60", "dfnText": "PermissionState", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionstate" }], "title": "2.1. Concepts" }], "url": "https://w3c.github.io/permissions/#dom-permissionstate" },
                "7140f092": { "dfnID": "7140f092", "dfnText": "identifier", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-endpoint-identifier" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storage-endpoint-identifier" },
                "7393da89": { "dfnID": "7393da89", "dfnText": "same origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-same-origin" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin" },
                "77b4c09a": { "dfnID": "77b4c09a", "dfnText": "assert", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-assert" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-assert\u2460" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-assert\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-assert\u2462" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-assert\u2463" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-assert\u2464" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-assert\u2465" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-assert\u2466" }, { "id": "ref-for-assert\u2467" }, { "id": "ref-for-assert\u2468" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://infra.spec.whatwg.org/#assert" },
                "797018a7": { "dfnID": "797018a7", "dfnText": "InvalidStateError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-invalidstateerror" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2460" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2461" }, { "id": "ref-for-invalidstateerror\u2462" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2463" }, { "id": "ref-for-invalidstateerror\u2464" }, { "id": "ref-for-invalidstateerror\u2465" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2466" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2467" }], "title": "2.6.5. The flush() method" }], "url": "https://webidl.spec.whatwg.org/#invalidstateerror" },
                "8219d486": { "dfnID": "8219d486", "dfnText": "starting a new parallel queue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-starting-a-new-parallel-queue" }], "title": "2.1. Concepts" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" },
                "82ca3efc": { "dfnID": "82ca3efc", "dfnText": "TypeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-typeerror" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2460" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2461" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2462" }, { "id": "ref-for-exceptiondef-typeerror\u2463" }, { "id": "ref-for-exceptiondef-typeerror\u2464" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2465" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2466" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2467" }], "title": "2.6.3. The truncate() method" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "860300d4": { "dfnID": "860300d4", "dfnText": "implementation-defined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }, { "id": "ref-for-implementation-defined\u2460" }, { "id": "ref-for-implementation-defined\u2461" }, { "id": "ref-for-implementation-defined\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-implementation-defined\u2463" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-implementation-defined\u2464" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-implementation-defined\u2465" }], "title": "3. Accessing the Bucket File System" }], "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "8649548f": { "dfnID": "8649548f", "dfnText": "StorageManager", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storagemanager" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storagemanager" },
                "888d7c65": { "dfnID": "888d7c65", "dfnText": "deserialization steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-deserialization-steps" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-deserialization-steps\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-deserialization-steps\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-Exposed\u2460" }, { "id": "ref-for-Exposed\u2461" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-Exposed\u2462" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-Exposed\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-Exposed\u2464" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "896f4663": { "dfnID": "896f4663", "dfnText": "quota", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-endpoint-quota" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storage-endpoint-quota" },
                "8f5c2179": { "dfnID": "8f5c2179", "dfnText": "a promise resolved with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-promise-resolved-with" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#a-promise-resolved-with" },
                "92d13070": { "dfnID": "92d13070", "dfnText": "get a copy of the buffer source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-get-buffer-source-copy" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy" },
                "984221ca": { "dfnID": "984221ca", "dfnText": "struct", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-struct" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#struct" },
                "98c6a112": { "dfnID": "98c6a112", "dfnText": "storage endpoint", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-endpoint" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storage-endpoint" },
                "99c988d6": { "dfnID": "99c988d6", "dfnText": "remove", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-remove" }], "title": "2.4.4. The removeEntry() method" }], "url": "https://infra.spec.whatwg.org/#list-remove" },
                "9a7f3f6f": { "dfnID": "9a7f3f6f", "dfnText": "asynchronous iterator initialization steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-asynchronous-iterator-initialization-steps" }], "title": "2.4.1. Directory iteration" }], "url": "https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps" },
                "9c4c1e66": { "dfnID": "9c4c1e66", "dfnText": "relevant settings object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-relevant-settings-object" }, { "id": "ref-for-relevant-settings-object\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "9cce47fd": { "dfnID": "9cce47fd", "dfnText": "sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-sequence" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "9eda9b58": { "dfnID": "9eda9b58", "dfnText": "NotFoundError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-notfounderror" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-notfounderror\u2460" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-notfounderror\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-notfounderror\u2462" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-notfounderror\u2463" }, { "id": "ref-for-notfounderror\u2464" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-notfounderror\u2465" }, { "id": "ref-for-notfounderror\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-notfounderror\u2467" }, { "id": "ref-for-notfounderror\u2468" }], "title": "2.4.4. The removeEntry() method" }], "url": "https://webidl.spec.whatwg.org/#notfounderror" },
                "a307241e": { "dfnID": "a307241e", "dfnText": "release", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultwriter-release" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-release\u2460" }], "title": "2.5.2. The seek() method" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-release\u2461" }], "title": "2.5.3. The truncate() method" }], "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release" },
                "a3b18719": { "dfnID": "a3b18719", "dfnText": "append (for set)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-set-append" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-set-append\u2460" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-set-append\u2461" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "https://infra.spec.whatwg.org/#set-append" },
                "a72449dd": { "dfnID": "a72449dd", "dfnText": "in parallel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }], "title": "2.1. Concepts" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "ae8def21": { "dfnID": "ae8def21", "dfnText": "contain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-list-contain\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://infra.spec.whatwg.org/#list-contain" },
                "b0d7f3c3": { "dfnID": "b0d7f3c3", "dfnText": "USVString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-USVString" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-idl-USVString\u2460" }, { "id": "ref-for-idl-USVString\u2461" }, { "id": "ref-for-idl-USVString\u2462" }, { "id": "ref-for-idl-USVString\u2463" }, { "id": "ref-for-idl-USVString\u2464" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-idl-USVString\u2465" }, { "id": "ref-for-idl-USVString\u2466" }, { "id": "ref-for-idl-USVString\u2467" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "b262501e": { "dfnID": "b262501e", "dfnText": "reject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-reject" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-reject\u2460" }, { "id": "ref-for-reject\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-reject\u2462" }, { "id": "ref-for-reject\u2463" }, { "id": "ref-for-reject\u2464" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-reject\u2465" }, { "id": "ref-for-reject\u2466" }, { "id": "ref-for-reject\u2467" }, { "id": "ref-for-reject\u2468" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-reject\u2460\u24ea" }, { "id": "ref-for-reject\u2460\u2460" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-reject\u2460\u2461" }, { "id": "ref-for-reject\u2460\u2462" }, { "id": "ref-for-reject\u2460\u2463" }, { "id": "ref-for-reject\u2460\u2464" }, { "id": "ref-for-reject\u2460\u2465" }, { "id": "ref-for-reject\u2460\u2466" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-reject\u2460\u2467" }, { "id": "ref-for-reject\u2460\u2468" }, { "id": "ref-for-reject\u2461\u24ea" }, { "id": "ref-for-reject\u2461\u2460" }, { "id": "ref-for-reject\u2461\u2461" }, { "id": "ref-for-reject\u2461\u2462" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-reject\u2461\u2463" }, { "id": "ref-for-reject\u2461\u2464" }, { "id": "ref-for-reject\u2461\u2465" }, { "id": "ref-for-reject\u2461\u2466" }, { "id": "ref-for-reject\u2461\u2467" }, { "id": "ref-for-reject\u2461\u2468" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-reject\u2462\u24ea" }, { "id": "ref-for-reject\u2462\u2460" }, { "id": "ref-for-reject\u2462\u2461" }, { "id": "ref-for-reject\u2462\u2462" }, { "id": "ref-for-reject\u2462\u2463" }, { "id": "ref-for-reject\u2462\u2464" }, { "id": "ref-for-reject\u2462\u2465" }, { "id": "ref-for-reject\u2462\u2466" }, { "id": "ref-for-reject\u2462\u2467" }, { "id": "ref-for-reject\u2462\u2468" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#reject" },
                "b4cfa5ce": { "dfnID": "b4cfa5ce", "dfnText": "throw", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-throw" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-dfn-throw\u2460" }, { "id": "ref-for-dfn-throw\u2461" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-dfn-throw\u2462" }, { "id": "ref-for-dfn-throw\u2463" }, { "id": "ref-for-dfn-throw\u2464" }, { "id": "ref-for-dfn-throw\u2465" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-dfn-throw\u2466" }, { "id": "ref-for-dfn-throw\u2467" }, { "id": "ref-for-dfn-throw\u2468" }, { "id": "ref-for-dfn-throw\u2460\u24ea" }, { "id": "ref-for-dfn-throw\u2460\u2460" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-dfn-throw\u2460\u2461" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-dfn-throw\u2460\u2462" }], "title": "2.6.5. The flush() method" }], "url": "https://webidl.spec.whatwg.org/#dfn-throw" },
                "b75bb3bd": { "dfnID": "b75bb3bd", "dfnText": "SecureContext", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SecureContext" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2463" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2464" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "b7d73f5b": { "dfnID": "b7d73f5b", "dfnText": "Blob", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-Blob" }, { "id": "ref-for-dfn-Blob\u2460" }, { "id": "ref-for-dfn-Blob\u2461" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://w3c.github.io/FileAPI/#dfn-Blob" },
                "ba556545": { "dfnID": "ba556545", "dfnText": "NotAllowedError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-notallowederror" }], "title": "2.1. Concepts" }], "url": "https://webidl.spec.whatwg.org/#notallowederror" },
                "bdbd19d1": { "dfnID": "bdbd19d1", "dfnText": "Promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-promise" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2460" }, { "id": "ref-for-idl-promise\u2461" }, { "id": "ref-for-idl-promise\u2462" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2463" }, { "id": "ref-for-idl-promise\u2464" }, { "id": "ref-for-idl-promise\u2465" }, { "id": "ref-for-idl-promise\u2466" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2467" }, { "id": "ref-for-idl-promise\u2468" }, { "id": "ref-for-idl-promise\u2460\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2460\u2460" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "bec98d30": { "dfnID": "bec98d30", "dfnText": "dictionary", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-dictionary" }, { "id": "ref-for-dfn-dictionary\u2460" }, { "id": "ref-for-dfn-dictionary\u2461" }, { "id": "ref-for-dfn-dictionary\u2462" }, { "id": "ref-for-dfn-dictionary\u2463" }, { "id": "ref-for-dfn-dictionary\u2464" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#dfn-dictionary" },
                "c01cbda0": { "dfnID": "c01cbda0", "dfnText": "EnforceRange", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-EnforceRange" }, { "id": "ref-for-EnforceRange\u2460" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#EnforceRange" },
                "c3e881ef": { "dfnID": "c3e881ef", "dfnText": "SecurityError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-securityerror" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#securityerror" },
                "c53e5a8e": { "dfnID": "c53e5a8e", "dfnText": "snapshot state", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-snapshot-state" }], "title": "2.3.1. The getFile() method" }], "url": "https://w3c.github.io/FileAPI/#snapshot-state" },
                "c6ce3c60": { "dfnID": "c6ce3c60", "dfnText": "granted", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionstate-granted" }, { "id": "ref-for-dom-permissionstate-granted\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2464" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2467" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2468" }, { "id": "ref-for-dom-permissionstate-granted\u2460\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2460\u2460" }], "title": "3. Accessing the Bucket File System" }], "url": "https://w3c.github.io/permissions/#dom-permissionstate-granted" },
                "c88f3887": { "dfnID": "c88f3887", "dfnText": "item (for struct)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-struct-item" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#struct-item" },
                "cac8dd86": { "dfnID": "cac8dd86", "dfnText": "storage quota", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-quota" }, { "id": "ref-for-storage-quota\u2460" }, { "id": "ref-for-storage-quota\u2461" }, { "id": "ref-for-storage-quota\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-storage-quota\u2463" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-storage-quota\u2464" }], "title": "2.6.3. The truncate() method" }], "url": "https://storage.spec.whatwg.org/#storage-quota" },
                "cadf5fe9": { "dfnID": "cadf5fe9", "dfnText": "converted to an IDL value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-convert-ecmascript-to-idl-value" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" },
                "cae6bf57": { "dfnID": "cae6bf57", "dfnText": "InvalidModificationError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-invalidmodificationerror" }], "title": "2.4.4. The removeEntry() method" }], "url": "https://webidl.spec.whatwg.org/#invalidmodificationerror" },
                "cd028611": { "dfnID": "cd028611", "dfnText": "File", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-file" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-dfn-file\u2460" }, { "id": "ref-for-dfn-file\u2461" }, { "id": "ref-for-dfn-file\u2462" }], "title": "2.3.1. The getFile() method" }], "url": "https://w3c.github.io/FileAPI/#dfn-file" },
                "create-a-new-filesystemsyncaccesshandle": { "dfnID": "create-a-new-filesystemsyncaccesshandle", "dfnText": "create a new FileSystemSyncAccessHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-a-new-filesystemsyncaccesshandle" }], "title": "2.3.3. The createSyncAccessHandle() method" }], "url": "#create-a-new-filesystemsyncaccesshandle" },
                "create-a-new-filesystemwritablefilestream": { "dfnID": "create-a-new-filesystemwritablefilestream", "dfnText": "create a new FileSystemWritableFileStream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-a-new-filesystemwritablefilestream" }], "title": "2.3.2. The createWritable() method" }], "url": "#create-a-new-filesystemwritablefilestream" },
                "creating-a-child-filesystemdirectoryhandle": { "dfnID": "creating-a-child-filesystemdirectoryhandle", "dfnText": "create a child FileSystemDirectoryHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-creating-a-child-filesystemdirectoryhandle" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-creating-a-child-filesystemdirectoryhandle\u2460" }, { "id": "ref-for-creating-a-child-filesystemdirectoryhandle\u2461" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "#creating-a-child-filesystemdirectoryhandle" },
                "creating-a-child-filesystemfilehandle": { "dfnID": "creating-a-child-filesystemfilehandle", "dfnText": "create a child FileSystemFileHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-creating-a-child-filesystemfilehandle" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-creating-a-child-filesystemfilehandle\u2460" }, { "id": "ref-for-creating-a-child-filesystemfilehandle\u2461" }], "title": "2.4.2. The getFileHandle() method" }], "url": "#creating-a-child-filesystemfilehandle" },
                "creating-a-new-filesystemdirectoryhandle": { "dfnID": "creating-a-new-filesystemdirectoryhandle", "dfnText": "create a new FileSystemDirectoryHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-creating-a-new-filesystemdirectoryhandle" }], "title": "3. Accessing the Bucket File System" }], "url": "#creating-a-new-filesystemdirectoryhandle" },
                "creating-a-new-filesystemfilehandle": { "dfnID": "creating-a-new-filesystemfilehandle", "dfnText": "create a new FileSystemFileHandle", "external": false, "refSections": [], "url": "#creating-a-new-filesystemfilehandle" },
                "d04a8309": { "dfnID": "d04a8309", "dfnText": "writeAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up-writealgorithm" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm" },
                "d0b4a948": { "dfnID": "d0b4a948", "dfnText": "a promise rejected with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-promise-rejected-with" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2460" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
                "d25dfb2c": { "dfnID": "d25dfb2c", "dfnText": "AbortError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-aborterror" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#aborterror" },
                "d54f5897": { "dfnID": "d54f5897", "dfnText": "DataCloneError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-datacloneerror" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://webidl.spec.whatwg.org/#datacloneerror" },
                "d7bc2287": { "dfnID": "d7bc2287", "dfnText": "queue a storage task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-a-storage-task" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2460" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2461" }, { "id": "ref-for-queue-a-storage-task\u2462" }, { "id": "ref-for-queue-a-storage-task\u2463" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2464" }, { "id": "ref-for-queue-a-storage-task\u2465" }, { "id": "ref-for-queue-a-storage-task\u2466" }, { "id": "ref-for-queue-a-storage-task\u2467" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2468" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2460\u24ea" }, { "id": "ref-for-queue-a-storage-task\u2460\u2460" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2460\u2461" }, { "id": "ref-for-queue-a-storage-task\u2460\u2462" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2460\u2463" }, { "id": "ref-for-queue-a-storage-task\u2460\u2464" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2460\u2465" }, { "id": "ref-for-queue-a-storage-task\u2460\u2466" }, { "id": "ref-for-queue-a-storage-task\u2460\u2467" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://storage.spec.whatwg.org/#queue-a-storage-task" },
                "d9de012d": { "dfnID": "d9de012d", "dfnText": "types", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-endpoint-types" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storage-endpoint-types" },
                "dacde8b5": { "dfnID": "dacde8b5", "dfnText": "a new promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-new-promise" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2464" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-a-new-promise\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2467" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2468" }, { "id": "ref-for-a-new-promise\u2460\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "dca2de17": { "dfnID": "dca2de17", "dfnText": "DOMException", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460" }, { "id": "ref-for-idl-DOMException\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462" }, { "id": "ref-for-idl-DOMException\u2463" }, { "id": "ref-for-idl-DOMException\u2464" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2465" }, { "id": "ref-for-idl-DOMException\u2466" }, { "id": "ref-for-idl-DOMException\u2467" }, { "id": "ref-for-idl-DOMException\u2468" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460\u24ea" }, { "id": "ref-for-idl-DOMException\u2460\u2460" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460\u2461" }, { "id": "ref-for-idl-DOMException\u2460\u2462" }, { "id": "ref-for-idl-DOMException\u2460\u2463" }, { "id": "ref-for-idl-DOMException\u2460\u2464" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460\u2465" }, { "id": "ref-for-idl-DOMException\u2460\u2466" }, { "id": "ref-for-idl-DOMException\u2460\u2467" }, { "id": "ref-for-idl-DOMException\u2460\u2468" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461\u24ea" }, { "id": "ref-for-idl-DOMException\u2461\u2460" }, { "id": "ref-for-idl-DOMException\u2461\u2461" }, { "id": "ref-for-idl-DOMException\u2461\u2462" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461\u2463" }, { "id": "ref-for-idl-DOMException\u2461\u2464" }, { "id": "ref-for-idl-DOMException\u2461\u2465" }, { "id": "ref-for-idl-DOMException\u2461\u2466" }, { "id": "ref-for-idl-DOMException\u2461\u2467" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461\u2468" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462\u24ea" }, { "id": "ref-for-idl-DOMException\u2462\u2460" }, { "id": "ref-for-idl-DOMException\u2462\u2461" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462\u2462" }, { "id": "ref-for-idl-DOMException\u2462\u2463" }, { "id": "ref-for-idl-DOMException\u2462\u2464" }, { "id": "ref-for-idl-DOMException\u2462\u2465" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462\u2466" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462\u2467" }], "title": "2.6.5. The flush() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462\u2468" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "df71f478": { "dfnID": "df71f478", "dfnText": "DOMException names table", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-error-names-table" }], "title": "2.1. Concepts" }], "url": "https://webidl.spec.whatwg.org/#dfn-error-names-table" },
                "dictdef-filesystemcreatewritableoptions": { "dfnID": "dictdef-filesystemcreatewritableoptions", "dfnText": "FileSystemCreateWritableOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-filesystemcreatewritableoptions" }], "title": "2.3. The FileSystemFileHandle interface" }], "url": "#dictdef-filesystemcreatewritableoptions" },
                "dictdef-filesystemgetdirectoryoptions": { "dfnID": "dictdef-filesystemgetdirectoryoptions", "dfnText": "FileSystemGetDirectoryOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-filesystemgetdirectoryoptions" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#dictdef-filesystemgetdirectoryoptions" },
                "dictdef-filesystemgetfileoptions": { "dfnID": "dictdef-filesystemgetfileoptions", "dfnText": "FileSystemGetFileOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-filesystemgetfileoptions" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#dictdef-filesystemgetfileoptions" },
                "dictdef-filesystemreadwriteoptions": { "dfnID": "dictdef-filesystemreadwriteoptions", "dfnText": "FileSystemReadWriteOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-filesystemreadwriteoptions" }, { "id": "ref-for-dictdef-filesystemreadwriteoptions\u2460" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-dictdef-filesystemreadwriteoptions\u2461" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-dictdef-filesystemreadwriteoptions\u2462" }], "title": "2.6.2. The write() method" }], "url": "#dictdef-filesystemreadwriteoptions" },
                "dictdef-filesystemremoveoptions": { "dfnID": "dictdef-filesystemremoveoptions", "dfnText": "FileSystemRemoveOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-filesystemremoveoptions" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#dictdef-filesystemremoveoptions" },
                "dictdef-writeparams": { "dfnID": "dictdef-writeparams", "dfnText": "WriteParams", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-writeparams" }, { "id": "ref-for-dictdef-writeparams\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#dictdef-writeparams" },
                "directory": { "dfnID": "directory", "dfnText": "directory entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-directory" }, { "id": "ref-for-directory\u2460" }, { "id": "ref-for-directory\u2461" }, { "id": "ref-for-directory\u2462" }, { "id": "ref-for-directory\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-directory\u2464" }, { "id": "ref-for-directory\u2465" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-directory\u2466" }, { "id": "ref-for-directory\u2467" }, { "id": "ref-for-directory\u2468" }, { "id": "ref-for-directory\u2460\u24ea" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-directory\u2460\u2460" }, { "id": "ref-for-directory\u2460\u2461" }, { "id": "ref-for-directory\u2460\u2462" }, { "id": "ref-for-directory\u2460\u2463" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-directory\u2460\u2464" }, { "id": "ref-for-directory\u2460\u2465" }, { "id": "ref-for-directory\u2460\u2466" }, { "id": "ref-for-directory\u2460\u2467" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-directory\u2460\u2468" }, { "id": "ref-for-directory\u2461\u24ea" }], "title": "3. Accessing the Bucket File System" }], "url": "#directory" },
                "directory-entry-children": { "dfnID": "directory-entry-children", "dfnText": "children", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-directory-entry-children" }, { "id": "ref-for-directory-entry-children\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-directory-entry-children\u2461" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-directory-entry-children\u2462" }, { "id": "ref-for-directory-entry-children\u2463" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-directory-entry-children\u2464" }, { "id": "ref-for-directory-entry-children\u2465" }, { "id": "ref-for-directory-entry-children\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-directory-entry-children\u2467" }, { "id": "ref-for-directory-entry-children\u2468" }, { "id": "ref-for-directory-entry-children\u2460\u24ea" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-directory-entry-children\u2460\u2460" }], "title": "3. Accessing the Bucket File System" }], "url": "#directory-entry-children" },
                "directory-locator": { "dfnID": "directory-locator", "dfnText": "directory locator", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-directory-locator" }, { "id": "ref-for-directory-locator\u2460" }, { "id": "ref-for-directory-locator\u2461" }, { "id": "ref-for-directory-locator\u2462" }, { "id": "ref-for-directory-locator\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-directory-locator\u2464" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-directory-locator\u2465" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#directory-locator" },
                "dom-filesystemcreatewritableoptions-keepexistingdata": { "dfnID": "dom-filesystemcreatewritableoptions-keepexistingdata", "dfnText": "keepExistingData", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemcreatewritableoptions-keepexistingdata" }, { "id": "ref-for-dom-filesystemcreatewritableoptions-keepexistingdata\u2460" }, { "id": "ref-for-dom-filesystemcreatewritableoptions-keepexistingdata\u2461" }], "title": "2.3.2. The createWritable() method" }], "url": "#dom-filesystemcreatewritableoptions-keepexistingdata" },
                "dom-filesystemdirectoryhandle-getdirectoryhandle": { "dfnID": "dom-filesystemdirectoryhandle-getdirectoryhandle", "dfnText": "getDirectoryHandle(name, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle\u2460" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle\u2461" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle\u2462" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle\u2463" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "#dom-filesystemdirectoryhandle-getdirectoryhandle" },
                "dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-name": { "dfnID": "dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-name" },
                "dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-options": { "dfnID": "dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-options" },
                "dom-filesystemdirectoryhandle-getfilehandle": { "dfnID": "dom-filesystemdirectoryhandle-getfilehandle", "dfnText": "getFileHandle(name, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-getfilehandle" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-getfilehandle\u2460" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getfilehandle\u2461" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getfilehandle\u2462" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getfilehandle\u2463" }], "title": "2.4.2. The getFileHandle() method" }], "url": "#dom-filesystemdirectoryhandle-getfilehandle" },
                "dom-filesystemdirectoryhandle-getfilehandle-name-options-name": { "dfnID": "dom-filesystemdirectoryhandle-getfilehandle-name-options-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-getfilehandle-name-options-name" },
                "dom-filesystemdirectoryhandle-getfilehandle-name-options-options": { "dfnID": "dom-filesystemdirectoryhandle-getfilehandle-name-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-getfilehandle-name-options-options" },
                "dom-filesystemdirectoryhandle-removeentry": { "dfnID": "dom-filesystemdirectoryhandle-removeentry", "dfnText": "removeEntry(name, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-removeentry" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-removeentry\u2460" }, { "id": "ref-for-dom-filesystemdirectoryhandle-removeentry\u2461" }, { "id": "ref-for-dom-filesystemdirectoryhandle-removeentry\u2462" }, { "id": "ref-for-dom-filesystemdirectoryhandle-removeentry\u2463" }], "title": "2.4.4. The removeEntry() method" }], "url": "#dom-filesystemdirectoryhandle-removeentry" },
                "dom-filesystemdirectoryhandle-removeentry-name-options-name": { "dfnID": "dom-filesystemdirectoryhandle-removeentry-name-options-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-removeentry-name-options-name" },
                "dom-filesystemdirectoryhandle-removeentry-name-options-options": { "dfnID": "dom-filesystemdirectoryhandle-removeentry-name-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-removeentry-name-options-options" },
                "dom-filesystemdirectoryhandle-resolve": { "dfnID": "dom-filesystemdirectoryhandle-resolve", "dfnText": "resolve(possibleDescendant)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-resolve" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-resolve\u2460" }, { "id": "ref-for-dom-filesystemdirectoryhandle-resolve\u2461" }], "title": "2.4.5. The resolve() method" }], "url": "#dom-filesystemdirectoryhandle-resolve" },
                "dom-filesystemdirectoryhandle-resolve-possibledescendant-possibledescendant": { "dfnID": "dom-filesystemdirectoryhandle-resolve-possibledescendant-possibledescendant", "dfnText": "possibleDescendant", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-resolve-possibledescendant-possibledescendant" },
                "dom-filesystemfilehandle-createsyncaccesshandle": { "dfnID": "dom-filesystemfilehandle-createsyncaccesshandle", "dfnText": "createSyncAccessHandle()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemfilehandle-createsyncaccesshandle" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemfilehandle-createsyncaccesshandle\u2460" }, { "id": "ref-for-dom-filesystemfilehandle-createsyncaccesshandle\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }], "url": "#dom-filesystemfilehandle-createsyncaccesshandle" },
                "dom-filesystemfilehandle-createwritable": { "dfnID": "dom-filesystemfilehandle-createwritable", "dfnText": "createWritable(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemfilehandle-createwritable" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemfilehandle-createwritable\u2460" }, { "id": "ref-for-dom-filesystemfilehandle-createwritable\u2461" }, { "id": "ref-for-dom-filesystemfilehandle-createwritable\u2462" }], "title": "2.3.2. The createWritable() method" }], "url": "#dom-filesystemfilehandle-createwritable" },
                "dom-filesystemfilehandle-createwritable-options-options": { "dfnID": "dom-filesystemfilehandle-createwritable-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemfilehandle-createwritable-options-options" },
                "dom-filesystemfilehandle-getfile": { "dfnID": "dom-filesystemfilehandle-getfile", "dfnText": "getFile()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemfilehandle-getfile" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemfilehandle-getfile\u2460" }, { "id": "ref-for-dom-filesystemfilehandle-getfile\u2461" }], "title": "2.3.1. The getFile() method" }], "url": "#dom-filesystemfilehandle-getfile" },
                "dom-filesystemgetdirectoryoptions-create": { "dfnID": "dom-filesystemgetdirectoryoptions-create", "dfnText": "create", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemgetdirectoryoptions-create" }, { "id": "ref-for-dom-filesystemgetdirectoryoptions-create\u2460" }, { "id": "ref-for-dom-filesystemgetdirectoryoptions-create\u2461" }, { "id": "ref-for-dom-filesystemgetdirectoryoptions-create\u2462" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "#dom-filesystemgetdirectoryoptions-create" },
                "dom-filesystemgetfileoptions-create": { "dfnID": "dom-filesystemgetfileoptions-create", "dfnText": "create", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemgetfileoptions-create" }, { "id": "ref-for-dom-filesystemgetfileoptions-create\u2460" }, { "id": "ref-for-dom-filesystemgetfileoptions-create\u2461" }, { "id": "ref-for-dom-filesystemgetfileoptions-create\u2462" }, { "id": "ref-for-dom-filesystemgetfileoptions-create\u2463" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-dom-filesystemgetfileoptions-create\u2464" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "#dom-filesystemgetfileoptions-create" },
                "dom-filesystemhandle-issameentry": { "dfnID": "dom-filesystemhandle-issameentry", "dfnText": "isSameEntry(other)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemhandle-issameentry" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemhandle-issameentry\u2460" }, { "id": "ref-for-dom-filesystemhandle-issameentry\u2461" }], "title": "2.2.1. The isSameEntry() method" }], "url": "#dom-filesystemhandle-issameentry" },
                "dom-filesystemhandle-issameentry-other-other": { "dfnID": "dom-filesystemhandle-issameentry-other-other", "dfnText": "other", "external": false, "refSections": [], "url": "#dom-filesystemhandle-issameentry-other-other" },
                "dom-filesystemhandle-kind": { "dfnID": "dom-filesystemhandle-kind", "dfnText": "kind", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemhandle-kind" }, { "id": "ref-for-dom-filesystemhandle-kind\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "#dom-filesystemhandle-kind" },
                "dom-filesystemhandle-name": { "dfnID": "dom-filesystemhandle-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemhandle-name" }, { "id": "ref-for-dom-filesystemhandle-name\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "#dom-filesystemhandle-name" },
                "dom-filesystemhandlekind-directory": { "dfnID": "dom-filesystemhandlekind-directory", "dfnText": "\"directory\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemhandlekind-directory" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-dom-filesystemhandlekind-directory\u2460" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemhandlekind-directory\u2461" }, { "id": "ref-for-dom-filesystemhandlekind-directory\u2462" }, { "id": "ref-for-dom-filesystemhandlekind-directory\u2463" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#dom-filesystemhandlekind-directory" },
                "dom-filesystemhandlekind-file": { "dfnID": "dom-filesystemhandlekind-file", "dfnText": "\"file\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemhandlekind-file" }, { "id": "ref-for-dom-filesystemhandlekind-file\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-dom-filesystemhandlekind-file\u2461" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemhandlekind-file\u2462" }, { "id": "ref-for-dom-filesystemhandlekind-file\u2463" }, { "id": "ref-for-dom-filesystemhandlekind-file\u2464" }], "title": "2.3. The FileSystemFileHandle interface" }], "url": "#dom-filesystemhandlekind-file" },
                "dom-filesystemreadwriteoptions-at": { "dfnID": "dom-filesystemreadwriteoptions-at", "dfnText": "at", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemreadwriteoptions-at" }, { "id": "ref-for-dom-filesystemreadwriteoptions-at\u2460" }, { "id": "ref-for-dom-filesystemreadwriteoptions-at\u2461" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-dom-filesystemreadwriteoptions-at\u2462" }, { "id": "ref-for-dom-filesystemreadwriteoptions-at\u2463" }, { "id": "ref-for-dom-filesystemreadwriteoptions-at\u2464" }], "title": "2.6.2. The write() method" }], "url": "#dom-filesystemreadwriteoptions-at" },
                "dom-filesystemremoveoptions-recursive": { "dfnID": "dom-filesystemremoveoptions-recursive", "dfnText": "recursive", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemremoveoptions-recursive" }, { "id": "ref-for-dom-filesystemremoveoptions-recursive\u2460" }, { "id": "ref-for-dom-filesystemremoveoptions-recursive\u2461" }, { "id": "ref-for-dom-filesystemremoveoptions-recursive\u2462" }], "title": "2.4.4. The removeEntry() method" }], "url": "#dom-filesystemremoveoptions-recursive" },
                "dom-filesystemsyncaccesshandle-close": { "dfnID": "dom-filesystemsyncaccesshandle-close", "dfnText": "close()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-close" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-close\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-close\u2461" }], "title": "2.6.6. The close() method" }], "url": "#dom-filesystemsyncaccesshandle-close" },
                "dom-filesystemsyncaccesshandle-flush": { "dfnID": "dom-filesystemsyncaccesshandle-flush", "dfnText": "flush()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-flush" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-flush\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-flush\u2461" }], "title": "2.6.5. The flush() method" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-flush\u2462" }], "title": "2.6.6. The close() method" }], "url": "#dom-filesystemsyncaccesshandle-flush" },
                "dom-filesystemsyncaccesshandle-getsize": { "dfnID": "dom-filesystemsyncaccesshandle-getsize", "dfnText": "getSize()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-getsize" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-getsize\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-getsize\u2461" }], "title": "2.6.4. The getSize() method" }], "url": "#dom-filesystemsyncaccesshandle-getsize" },
                "dom-filesystemsyncaccesshandle-read": { "dfnID": "dom-filesystemsyncaccesshandle-read", "dfnText": "read", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-read" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-read\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-read\u2461" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-read\u2462" }], "title": "2.6.1. The read() method" }], "url": "#dom-filesystemsyncaccesshandle-read" },
                "dom-filesystemsyncaccesshandle-read-buffer-filesystemreadwriteoptions-options": { "dfnID": "dom-filesystemsyncaccesshandle-read-buffer-filesystemreadwriteoptions-options", "dfnText": "read(buffer, FileSystemReadWriteOptions: options)", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-read-buffer-filesystemreadwriteoptions-options" },
                "dom-filesystemsyncaccesshandle-read-buffer-options-buffer": { "dfnID": "dom-filesystemsyncaccesshandle-read-buffer-options-buffer", "dfnText": "buffer", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-read-buffer-options-buffer" },
                "dom-filesystemsyncaccesshandle-read-buffer-options-options": { "dfnID": "dom-filesystemsyncaccesshandle-read-buffer-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-read-buffer-options-options" },
                "dom-filesystemsyncaccesshandle-truncate": { "dfnID": "dom-filesystemsyncaccesshandle-truncate", "dfnText": "truncate(newSize)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-truncate" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-truncate\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-truncate\u2461" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-truncate\u2462" }], "title": "2.6.3. The truncate() method" }], "url": "#dom-filesystemsyncaccesshandle-truncate" },
                "dom-filesystemsyncaccesshandle-truncate-newsize-newsize": { "dfnID": "dom-filesystemsyncaccesshandle-truncate-newsize-newsize", "dfnText": "newSize", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-truncate-newsize-newsize" },
                "dom-filesystemsyncaccesshandle-write": { "dfnID": "dom-filesystemsyncaccesshandle-write", "dfnText": "write", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-write" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-write\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-write\u2461" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-write\u2462" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-write\u2463" }], "title": "2.6.5. The flush() method" }], "url": "#dom-filesystemsyncaccesshandle-write" },
                "dom-filesystemsyncaccesshandle-write-buffer-filesystemreadwriteoptions-options": { "dfnID": "dom-filesystemsyncaccesshandle-write-buffer-filesystemreadwriteoptions-options", "dfnText": "write(buffer, FileSystemReadWriteOptions: options)", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-write-buffer-filesystemreadwriteoptions-options" },
                "dom-filesystemsyncaccesshandle-write-buffer-options-buffer": { "dfnID": "dom-filesystemsyncaccesshandle-write-buffer-options-buffer", "dfnText": "buffer", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-write-buffer-options-buffer" },
                "dom-filesystemsyncaccesshandle-write-buffer-options-options": { "dfnID": "dom-filesystemsyncaccesshandle-write-buffer-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-write-buffer-options-options" },
                "dom-filesystemwritablefilestream-seek": { "dfnID": "dom-filesystemwritablefilestream-seek", "dfnText": "seek(position)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-seek" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-seek\u2460" }, { "id": "ref-for-dom-filesystemwritablefilestream-seek\u2461" }], "title": "2.5.2. The seek() method" }], "url": "#dom-filesystemwritablefilestream-seek" },
                "dom-filesystemwritablefilestream-seek-position-position": { "dfnID": "dom-filesystemwritablefilestream-seek-position-position", "dfnText": "position", "external": false, "refSections": [], "url": "#dom-filesystemwritablefilestream-seek-position-position" },
                "dom-filesystemwritablefilestream-truncate": { "dfnID": "dom-filesystemwritablefilestream-truncate", "dfnText": "truncate(size)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-truncate" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-truncate\u2460" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-truncate\u2461" }, { "id": "ref-for-dom-filesystemwritablefilestream-truncate\u2462" }, { "id": "ref-for-dom-filesystemwritablefilestream-truncate\u2463" }], "title": "2.5.3. The truncate() method" }], "url": "#dom-filesystemwritablefilestream-truncate" },
                "dom-filesystemwritablefilestream-truncate-size-size": { "dfnID": "dom-filesystemwritablefilestream-truncate-size-size", "dfnText": "size", "external": false, "refSections": [], "url": "#dom-filesystemwritablefilestream-truncate-size-size" },
                "dom-filesystemwritablefilestream-write": { "dfnID": "dom-filesystemwritablefilestream-write", "dfnText": "write(data)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-write" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-write\u2461" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2462" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2463" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2464" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2465" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2466" }], "title": "2.5.1. The write() method" }], "url": "#dom-filesystemwritablefilestream-write" },
                "dom-filesystemwritablefilestream-write-data-data": { "dfnID": "dom-filesystemwritablefilestream-write-data-data", "dfnText": "data", "external": false, "refSections": [], "url": "#dom-filesystemwritablefilestream-write-data-data" },
                "dom-storagemanager-getdirectory": { "dfnID": "dom-storagemanager-getdirectory", "dfnText": "getDirectory()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-storagemanager-getdirectory" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-dom-storagemanager-getdirectory\u2460" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-dom-storagemanager-getdirectory\u2461" }, { "id": "ref-for-dom-storagemanager-getdirectory\u2462" }], "title": "3. Accessing the Bucket File System" }], "url": "#dom-storagemanager-getdirectory" },
                "dom-writecommandtype-seek": { "dfnID": "dom-writecommandtype-seek", "dfnText": "\"seek\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writecommandtype-seek" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writecommandtype-seek\u2460" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-writecommandtype-seek\u2461" }], "title": "2.5.2. The seek() method" }], "url": "#dom-writecommandtype-seek" },
                "dom-writecommandtype-truncate": { "dfnID": "dom-writecommandtype-truncate", "dfnText": "\"truncate\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writecommandtype-truncate" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writecommandtype-truncate\u2460" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-writecommandtype-truncate\u2461" }], "title": "2.5.3. The truncate() method" }], "url": "#dom-writecommandtype-truncate" },
                "dom-writecommandtype-write": { "dfnID": "dom-writecommandtype-write", "dfnText": "\"write\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writecommandtype-write" }, { "id": "ref-for-dom-writecommandtype-write\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writecommandtype-write\u2461" }, { "id": "ref-for-dom-writecommandtype-write\u2462" }], "title": "2.5.1. The write() method" }], "url": "#dom-writecommandtype-write" },
                "dom-writeparams-data": { "dfnID": "dom-writeparams-data", "dfnText": "data", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writeparams-data" }, { "id": "ref-for-dom-writeparams-data\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writeparams-data\u2461" }, { "id": "ref-for-dom-writeparams-data\u2462" }], "title": "2.5.1. The write() method" }], "url": "#dom-writeparams-data" },
                "dom-writeparams-position": { "dfnID": "dom-writeparams-position", "dfnText": "position", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writeparams-position" }, { "id": "ref-for-dom-writeparams-position\u2460" }, { "id": "ref-for-dom-writeparams-position\u2461" }, { "id": "ref-for-dom-writeparams-position\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writeparams-position\u2463" }, { "id": "ref-for-dom-writeparams-position\u2464" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-writeparams-position\u2465" }], "title": "2.5.2. The seek() method" }], "url": "#dom-writeparams-position" },
                "dom-writeparams-size": { "dfnID": "dom-writeparams-size", "dfnText": "size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writeparams-size" }, { "id": "ref-for-dom-writeparams-size\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writeparams-size\u2461" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-writeparams-size\u2462" }], "title": "2.5.3. The truncate() method" }], "url": "#dom-writeparams-size" },
                "dom-writeparams-type": { "dfnID": "dom-writeparams-type", "dfnText": "type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writeparams-type" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writeparams-type\u2460" }, { "id": "ref-for-dom-writeparams-type\u2461" }, { "id": "ref-for-dom-writeparams-type\u2462" }, { "id": "ref-for-dom-writeparams-type\u2463" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-writeparams-type\u2464" }], "title": "2.5.2. The seek() method" }, { "refs": [{ "id": "ref-for-dom-writeparams-type\u2465" }], "title": "2.5.3. The truncate() method" }], "url": "#dom-writeparams-type" },
                "e303c02d": { "dfnID": "e303c02d", "dfnText": "type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-type" }], "title": "2.3.1. The getFile() method" }], "url": "https://w3c.github.io/FileAPI/#dfn-type" },
                "e4d92278": { "dfnID": "e4d92278", "dfnText": "enqueue steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-enqueue-the-following-steps" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2460" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2464" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2467" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2468" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u24ea" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u2460" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u2461" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2460\u2462" }], "title": "2.6.6. The close() method" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" },
                "e7652812": { "dfnID": "e7652812", "dfnText": "get the next iteration result", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-get-the-next-iteration-result" }], "title": "2.4.1. Directory iteration" }], "url": "https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result" },
                "e99bd18e": { "dfnID": "e99bd18e", "dfnText": "relevant global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2462" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2463" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2464" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2465" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2466" }, { "id": "ref-for-concept-relevant-global\u2467" }, { "id": "ref-for-concept-relevant-global\u2468" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "eb5c4be3": { "dfnID": "eb5c4be3", "dfnText": "Serializable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serializable" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-serializable\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-serializable\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable" },
                "entry": { "dfnID": "entry", "dfnText": "file system entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-entry" }, { "id": "ref-for-entry\u2460" }, { "id": "ref-for-entry\u2461" }, { "id": "ref-for-entry\u2462" }, { "id": "ref-for-entry\u2463" }, { "id": "ref-for-entry\u2464" }, { "id": "ref-for-entry\u2465" }, { "id": "ref-for-entry\u2466" }, { "id": "ref-for-entry\u2467" }, { "id": "ref-for-entry\u2468" }, { "id": "ref-for-entry\u2460\u24ea" }, { "id": "ref-for-entry\u2460\u2460" }, { "id": "ref-for-entry\u2460\u2461" }, { "id": "ref-for-entry\u2460\u2462" }, { "id": "ref-for-entry\u2460\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-entry\u2460\u2464" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-entry\u2460\u2465" }], "title": "2.4.4. The removeEntry() method" }], "url": "#entry" },
                "entry-name": { "dfnID": "entry-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-entry-name" }, { "id": "ref-for-entry-name\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-entry-name\u2461" }, { "id": "ref-for-entry-name\u2462" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-entry-name\u2463" }, { "id": "ref-for-entry-name\u2464" }, { "id": "ref-for-entry-name\u2465" }, { "id": "ref-for-entry-name\u2466" }, { "id": "ref-for-entry-name\u2467" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-entry-name\u2468" }, { "id": "ref-for-entry-name\u2460\u24ea" }, { "id": "ref-for-entry-name\u2460\u2460" }, { "id": "ref-for-entry-name\u2460\u2461" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-entry-name\u2460\u2462" }, { "id": "ref-for-entry-name\u2460\u2463" }, { "id": "ref-for-entry-name\u2460\u2464" }, { "id": "ref-for-entry-name\u2460\u2465" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-entry-name\u2460\u2466" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-entry-name\u2460\u2467" }], "title": "3. Accessing the Bucket File System" }], "url": "#entry-name" },
                "entry-parent": { "dfnID": "entry-parent", "dfnText": "parent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-entry-parent" }], "title": "2.1. Concepts" }], "url": "#entry-parent" },
                "entry-query-access": { "dfnID": "entry-query-access", "dfnText": "query access", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-entry-query-access" }, { "id": "ref-for-entry-query-access\u2460" }, { "id": "ref-for-entry-query-access\u2461" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-entry-query-access\u2462" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-entry-query-access\u2463" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-entry-query-access\u2464" }, { "id": "ref-for-entry-query-access\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-entry-query-access\u2466" }, { "id": "ref-for-entry-query-access\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-entry-query-access\u2468" }, { "id": "ref-for-entry-query-access\u2460\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-entry-query-access\u2460\u2460" }], "title": "3. Accessing the Bucket File System" }], "url": "#entry-query-access" },
                "entry-request-access": { "dfnID": "entry-request-access", "dfnText": "request access", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-entry-request-access" }, { "id": "ref-for-entry-request-access\u2460" }, { "id": "ref-for-entry-request-access\u2461" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-entry-request-access\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-entry-request-access\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-entry-request-access\u2464" }, { "id": "ref-for-entry-request-access\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-entry-request-access\u2466" }, { "id": "ref-for-entry-request-access\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-entry-request-access\u2468" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-entry-request-access\u2460\u24ea" }], "title": "3. Accessing the Bucket File System" }], "url": "#entry-request-access" },
                "enumdef-filesystemhandlekind": { "dfnID": "enumdef-filesystemhandlekind", "dfnText": "FileSystemHandleKind", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-filesystemhandlekind" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-enumdef-filesystemhandlekind\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "#enumdef-filesystemhandlekind" },
                "enumdef-writecommandtype": { "dfnID": "enumdef-writecommandtype", "dfnText": "WriteCommandType", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-writecommandtype" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#enumdef-writecommandtype" },
                "f14b47b8": { "dfnID": "f14b47b8", "dfnText": "unsigned long long", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-unsigned-long-long" }, { "id": "ref-for-idl-unsigned-long-long\u2460" }, { "id": "ref-for-idl-unsigned-long-long\u2461" }, { "id": "ref-for-idl-unsigned-long-long\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-idl-unsigned-long-long\u2463" }, { "id": "ref-for-idl-unsigned-long-long\u2464" }, { "id": "ref-for-idl-unsigned-long-long\u2465" }, { "id": "ref-for-idl-unsigned-long-long\u2466" }, { "id": "ref-for-idl-unsigned-long-long\u2467" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long" },
                "f32dc6c1": { "dfnID": "f32dc6c1", "dfnText": "serialization steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serialization-steps" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-serialization-steps\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-serialization-steps\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps" },
                "f32e046f": { "dfnID": "f32e046f", "dfnText": "underlying buffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-buffersource-underlying-buffer" }], "title": "2.6.1. The read() method" }], "url": "https://webidl.spec.whatwg.org/#buffersource-underlying-buffer" },
                "f4acb816": { "dfnID": "f4acb816", "dfnText": "getting a writer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-get-a-writer" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-writablestream-get-a-writer\u2460" }], "title": "2.5.2. The seek() method" }, { "refs": [{ "id": "ref-for-writablestream-get-a-writer\u2461" }], "title": "2.5.3. The truncate() method" }], "url": "https://streams.spec.whatwg.org/#writablestream-get-a-writer" },
                "f9970195": { "dfnID": "f9970195", "dfnText": "lastModified", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-lastModified" }], "title": "2.3.1. The getFile() method" }], "url": "https://w3c.github.io/FileAPI/#dfn-lastModified" },
                "fb8f82b0": { "dfnID": "fb8f82b0", "dfnText": "indices", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-get-the-indices" }, { "id": "ref-for-list-get-the-indices\u2460" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#list-get-the-indices" },
                "febebe0e": { "dfnID": "febebe0e", "dfnText": "the range", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-range" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#the-range" },
                "file": { "dfnID": "file", "dfnText": "file entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file" }, { "id": "ref-for-file\u2460" }, { "id": "ref-for-file\u2461" }, { "id": "ref-for-file\u2462" }, { "id": "ref-for-file\u2463" }, { "id": "ref-for-file\u2464" }, { "id": "ref-for-file\u2465" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file\u2466" }, { "id": "ref-for-file\u2467" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file\u2468" }, { "id": "ref-for-file\u2460\u24ea" }, { "id": "ref-for-file\u2460\u2460" }, { "id": "ref-for-file\u2460\u2461" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file\u2460\u2462" }, { "id": "ref-for-file\u2460\u2463" }, { "id": "ref-for-file\u2460\u2464" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-file\u2460\u2465" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-file\u2460\u2466" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-file\u2460\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-file\u2460\u2468" }, { "id": "ref-for-file\u2461\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file\u2461\u2460" }, { "id": "ref-for-file\u2461\u2461" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "#file" },
                "file-entry-binary-data": { "dfnID": "file-entry-binary-data", "dfnText": "binary data", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-binary-data" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2460" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2461" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2462" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2464" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2465" }, { "id": "ref-for-file-entry-binary-data\u2466" }, { "id": "ref-for-file-entry-binary-data\u2467" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2468" }, { "id": "ref-for-file-entry-binary-data\u2460\u24ea" }, { "id": "ref-for-file-entry-binary-data\u2460\u2460" }, { "id": "ref-for-file-entry-binary-data\u2460\u2461" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2460\u2462" }], "title": "2.6.4. The getSize() method" }], "url": "#file-entry-binary-data" },
                "file-entry-lock": { "dfnID": "file-entry-lock", "dfnText": "lock", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-lock" }, { "id": "ref-for-file-entry-lock\u2460" }, { "id": "ref-for-file-entry-lock\u2461" }, { "id": "ref-for-file-entry-lock\u2462" }], "title": "2.1. Concepts" }], "url": "#file-entry-lock" },
                "file-entry-lock-release": { "dfnID": "file-entry-lock-release", "dfnText": "release", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-lock-release" }, { "id": "ref-for-file-entry-lock-release\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file-entry-lock-release\u2461" }, { "id": "ref-for-file-entry-lock-release\u2462" }], "title": "2.6.6. The close() method" }], "url": "#file-entry-lock-release" },
                "file-entry-lock-take": { "dfnID": "file-entry-lock-take", "dfnText": "take", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-lock-take" }, { "id": "ref-for-file-entry-lock-take\u2460" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file-entry-lock-take\u2461" }, { "id": "ref-for-file-entry-lock-take\u2462" }], "title": "2.3.3. The createSyncAccessHandle() method" }], "url": "#file-entry-lock-take" },
                "file-entry-modification-timestamp": { "dfnID": "file-entry-modification-timestamp", "dfnText": "modification timestamp", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-modification-timestamp" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-entry-modification-timestamp\u2460" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file-entry-modification-timestamp\u2461" }], "title": "2.4.2. The getFileHandle() method" }], "url": "#file-entry-modification-timestamp" },
                "file-entry-shared-lock-count": { "dfnID": "file-entry-shared-lock-count", "dfnText": "shared lock count", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-shared-lock-count" }, { "id": "ref-for-file-entry-shared-lock-count\u2460" }], "title": "2.1. Concepts" }], "url": "#file-entry-shared-lock-count" },
                "file-locator": { "dfnID": "file-locator", "dfnText": "file locator", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-locator" }, { "id": "ref-for-file-locator\u2460" }, { "id": "ref-for-file-locator\u2461" }], "title": "2.1. Concepts" }], "url": "#file-locator" },
                "file-system-access-result": { "dfnID": "file-system-access-result", "dfnText": "file system access result", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-access-result" }, { "id": "ref-for-file-system-access-result\u2460" }, { "id": "ref-for-file-system-access-result\u2461" }, { "id": "ref-for-file-system-access-result\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-access-result\u2463" }], "title": "3. Accessing the Bucket File System" }], "url": "#file-system-access-result" },
                "file-system-access-result-error-name": { "dfnID": "file-system-access-result-error-name", "dfnText": "error name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-access-result-error-name" }, { "id": "ref-for-file-system-access-result-error-name\u2460" }, { "id": "ref-for-file-system-access-result-error-name\u2461" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2462" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2463" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2464" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2465" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2466" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2468" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2460\u24ea" }, { "id": "ref-for-file-system-access-result-error-name\u2460\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2460\u2461" }], "title": "3. Accessing the Bucket File System" }], "url": "#file-system-access-result-error-name" },
                "file-system-access-result-permission-state": { "dfnID": "file-system-access-result-permission-state", "dfnText": "permission state", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-access-result-permission-state" }, { "id": "ref-for-file-system-access-result-permission-state\u2460" }, { "id": "ref-for-file-system-access-result-permission-state\u2461" }, { "id": "ref-for-file-system-access-result-permission-state\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2463" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2464" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2465" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2466" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2467" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2468" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2460\u24ea" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2460\u2460" }, { "id": "ref-for-file-system-access-result-permission-state\u2460\u2461" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2460\u2462" }], "title": "3. Accessing the Bucket File System" }], "url": "#file-system-access-result-permission-state" },
                "file-system-entry-the-same-entry-as": { "dfnID": "file-system-entry-the-same-entry-as", "dfnText": "the same entry as", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-entry-the-same-entry-as" }], "title": "3. Accessing the Bucket File System" }], "url": "#file-system-entry-the-same-entry-as" },
                "file-system-locator": { "dfnID": "file-system-locator", "dfnText": "file system locator", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-locator" }, { "id": "ref-for-file-system-locator\u2460" }, { "id": "ref-for-file-system-locator\u2461" }, { "id": "ref-for-file-system-locator\u2462" }, { "id": "ref-for-file-system-locator\u2463" }, { "id": "ref-for-file-system-locator\u2464" }, { "id": "ref-for-file-system-locator\u2465" }, { "id": "ref-for-file-system-locator\u2466" }, { "id": "ref-for-file-system-locator\u2467" }, { "id": "ref-for-file-system-locator\u2468" }, { "id": "ref-for-file-system-locator\u2460\u24ea" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-locator\u2460\u2460" }, { "id": "ref-for-file-system-locator\u2460\u2461" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-file-system-locator\u2460\u2462" }, { "id": "ref-for-file-system-locator\u2460\u2463" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-file-system-locator\u2460\u2464" }, { "id": "ref-for-file-system-locator\u2460\u2465" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#file-system-locator" },
                "file-system-locator-the-same-locator-as": { "dfnID": "file-system-locator-the-same-locator-as", "dfnText": "the same locator as", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-locator-the-same-locator-as" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-file-system-locator-the-same-locator-as\u2460" }], "title": "2.2.1. The isSameEntry() method" }], "url": "#file-system-locator-the-same-locator-as" },
                "file-system-path": { "dfnID": "file-system-path", "dfnText": "file system path", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-path" }, { "id": "ref-for-file-system-path\u2460" }, { "id": "ref-for-file-system-path\u2461" }, { "id": "ref-for-file-system-path\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-path\u2463" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-file-system-path\u2464" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#file-system-path" },
                "file-system-path-the-same-path-as": { "dfnID": "file-system-path-the-same-path-as", "dfnText": "the same path as", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-path-the-same-path-as" }, { "id": "ref-for-file-system-path-the-same-path-as\u2460" }], "title": "2.1. Concepts" }], "url": "#file-system-path-the-same-path-as" },
                "file-system-queue": { "dfnID": "file-system-queue", "dfnText": "file system queue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-queue" }, { "id": "ref-for-file-system-queue\u2460" }, { "id": "ref-for-file-system-queue\u2461" }, { "id": "ref-for-file-system-queue\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-queue\u2463" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2464" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2465" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2466" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2467" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-file-system-queue\u2468" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2460\u24ea" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2460\u2460" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2460\u2461" }, { "id": "ref-for-file-system-queue\u2460\u2462" }, { "id": "ref-for-file-system-queue\u2460\u2463" }, { "id": "ref-for-file-system-queue\u2460\u2464" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file-system-queue\u2460\u2465" }], "title": "2.6.6. The close() method" }], "url": "#file-system-queue" },
                "file-system-root": { "dfnID": "file-system-root", "dfnText": "file system root", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-root" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-root\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-file-system-root\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#file-system-root" },
                "filesystemdirectoryhandle": { "dfnID": "filesystemdirectoryhandle", "dfnText": "FileSystemDirectoryHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemdirectoryhandle" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-filesystemdirectoryhandle\u2460" }, { "id": "ref-for-filesystemdirectoryhandle\u2461" }, { "id": "ref-for-filesystemdirectoryhandle\u2462" }, { "id": "ref-for-filesystemdirectoryhandle\u2463" }, { "id": "ref-for-filesystemdirectoryhandle\u2464" }, { "id": "ref-for-filesystemdirectoryhandle\u2465" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-filesystemdirectoryhandle\u2466" }, { "id": "ref-for-filesystemdirectoryhandle\u2467" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-filesystemdirectoryhandle\u2468" }], "title": "3. Accessing the Bucket File System" }], "url": "#filesystemdirectoryhandle" },
                "filesystemdirectoryhandle-iterator-past-results": { "dfnID": "filesystemdirectoryhandle-iterator-past-results", "dfnText": "past results", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemdirectoryhandle-iterator-past-results" }, { "id": "ref-for-filesystemdirectoryhandle-iterator-past-results\u2460" }], "title": "2.4.1. Directory iteration" }], "url": "#filesystemdirectoryhandle-iterator-past-results" },
                "filesystemfilehandle": { "dfnID": "filesystemfilehandle", "dfnText": "FileSystemFileHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemfilehandle" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-filesystemfilehandle\u2460" }, { "id": "ref-for-filesystemfilehandle\u2461" }, { "id": "ref-for-filesystemfilehandle\u2462" }, { "id": "ref-for-filesystemfilehandle\u2463" }, { "id": "ref-for-filesystemfilehandle\u2464" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-filesystemfilehandle\u2465" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#filesystemfilehandle" },
                "filesystemhandle": { "dfnID": "filesystemhandle", "dfnText": "FileSystemHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemhandle" }, { "id": "ref-for-filesystemhandle\u2460" }, { "id": "ref-for-filesystemhandle\u2461" }, { "id": "ref-for-filesystemhandle\u2462" }, { "id": "ref-for-filesystemhandle\u2463" }, { "id": "ref-for-filesystemhandle\u2464" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-filesystemhandle\u2465" }, { "id": "ref-for-filesystemhandle\u2466" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-filesystemhandle\u2467" }, { "id": "ref-for-filesystemhandle\u2468" }, { "id": "ref-for-filesystemhandle\u2460\u24ea" }, { "id": "ref-for-filesystemhandle\u2460\u2460" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#filesystemhandle" },
                "filesystemhandle-is-in-a-bucket-file-system": { "dfnID": "filesystemhandle-is-in-a-bucket-file-system", "dfnText": "is in a bucket file system", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemhandle-is-in-a-bucket-file-system" }, { "id": "ref-for-filesystemhandle-is-in-a-bucket-file-system\u2460" }], "title": "2.3.3. The createSyncAccessHandle() method" }], "url": "#filesystemhandle-is-in-a-bucket-file-system" },
                "filesystemhandle-locator": { "dfnID": "filesystemhandle-locator", "dfnText": "locator", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemhandle-locator" }, { "id": "ref-for-filesystemhandle-locator\u2460" }, { "id": "ref-for-filesystemhandle-locator\u2461" }, { "id": "ref-for-filesystemhandle-locator\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2463" }, { "id": "ref-for-filesystemhandle-locator\u2464" }, { "id": "ref-for-filesystemhandle-locator\u2465" }, { "id": "ref-for-filesystemhandle-locator\u2466" }, { "id": "ref-for-filesystemhandle-locator\u2467" }, { "id": "ref-for-filesystemhandle-locator\u2468" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2460\u24ea" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2460" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2460\u2461" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2462" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2463" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2460\u2464" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2465" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2460\u2466" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2467" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2468" }, { "id": "ref-for-filesystemhandle-locator\u2461\u24ea" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2461\u2460" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2461" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2462" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2461\u2463" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2464" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2465" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2461\u2466" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2467" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2468" }, { "id": "ref-for-filesystemhandle-locator\u2462\u24ea" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2462\u2460" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2461" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2462" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2462\u2463" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2464" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2465" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2462\u2466" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2467" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2468" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2463\u24ea" }, { "id": "ref-for-filesystemhandle-locator\u2463\u2460" }], "title": "2.4.5. The resolve() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2463\u2461" }], "title": "3. Accessing the Bucket File System" }], "url": "#filesystemhandle-locator" },
                "filesystemsyncaccesshandle": { "dfnID": "filesystemsyncaccesshandle", "dfnText": "FileSystemSyncAccessHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemsyncaccesshandle" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle\u2461" }, { "id": "ref-for-filesystemsyncaccesshandle\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle\u2463" }, { "id": "ref-for-filesystemsyncaccesshandle\u2464" }, { "id": "ref-for-filesystemsyncaccesshandle\u2465" }, { "id": "ref-for-filesystemsyncaccesshandle\u2466" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle\u2467" }, { "id": "ref-for-filesystemsyncaccesshandle\u2468" }, { "id": "ref-for-filesystemsyncaccesshandle\u2460\u24ea" }, { "id": "ref-for-filesystemsyncaccesshandle\u2460\u2460" }, { "id": "ref-for-filesystemsyncaccesshandle\u2460\u2461" }, { "id": "ref-for-filesystemsyncaccesshandle\u2460\u2462" }, { "id": "ref-for-filesystemsyncaccesshandle\u2460\u2463" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "#filesystemsyncaccesshandle" },
                "filesystemsyncaccesshandle-file": { "dfnID": "filesystemsyncaccesshandle-file", "dfnText": "[[file]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file\u2460" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file\u2461" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2462" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2463" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file\u2464" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2465" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2466" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2467" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2468" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2460\u24ea" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file\u2460\u2460" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file\u2460\u2461" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2460\u2462" }], "title": "2.6.6. The close() method" }], "url": "#filesystemsyncaccesshandle-file" },
                "filesystemsyncaccesshandle-file-position-cursor": { "dfnID": "filesystemsyncaccesshandle-file-position-cursor", "dfnText": "file position cursor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor" }, { "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2460" }, { "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2461" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2462" }, { "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2463" }, { "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2464" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2465" }, { "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2466" }], "title": "2.6.3. The truncate() method" }], "url": "#filesystemsyncaccesshandle-file-position-cursor" },
                "filesystemsyncaccesshandle-state": { "dfnID": "filesystemsyncaccesshandle-state", "dfnText": "[[state]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2460" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2461" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2462" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2463" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2464" }], "title": "2.6.5. The flush() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2465" }, { "id": "ref-for-filesystemsyncaccesshandle-state\u2466" }], "title": "2.6.6. The close() method" }], "url": "#filesystemsyncaccesshandle-state" },
                "filesystemwritablefilestream": { "dfnID": "filesystemwritablefilestream", "dfnText": "FileSystemWritableFileStream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemwritablefilestream" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-filesystemwritablefilestream\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-filesystemwritablefilestream\u2461" }, { "id": "ref-for-filesystemwritablefilestream\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-filesystemwritablefilestream\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-filesystemwritablefilestream\u2464" }, { "id": "ref-for-filesystemwritablefilestream\u2465" }, { "id": "ref-for-filesystemwritablefilestream\u2466" }, { "id": "ref-for-filesystemwritablefilestream\u2467" }, { "id": "ref-for-filesystemwritablefilestream\u2468" }, { "id": "ref-for-filesystemwritablefilestream\u2460\u24ea" }, { "id": "ref-for-filesystemwritablefilestream\u2460\u2460" }, { "id": "ref-for-filesystemwritablefilestream\u2460\u2461" }, { "id": "ref-for-filesystemwritablefilestream\u2460\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#filesystemwritablefilestream" },
                "filesystemwritablefilestream-buffer": { "dfnID": "filesystemwritablefilestream-buffer", "dfnText": "[[buffer]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemwritablefilestream-buffer" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-filesystemwritablefilestream-buffer\u2460" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2461" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2462" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2463" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2464" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2465" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2466" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2467" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2468" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2460\u24ea" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2460\u2460" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2460\u2461" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2460\u2462" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2460\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#filesystemwritablefilestream-buffer" },
                "filesystemwritablefilestream-file": { "dfnID": "filesystemwritablefilestream-file", "dfnText": "[[file]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemwritablefilestream-file" }, { "id": "ref-for-filesystemwritablefilestream-file\u2460" }, { "id": "ref-for-filesystemwritablefilestream-file\u2461" }, { "id": "ref-for-filesystemwritablefilestream-file\u2462" }, { "id": "ref-for-filesystemwritablefilestream-file\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#filesystemwritablefilestream-file" },
                "filesystemwritablefilestream-seekoffset": { "dfnID": "filesystemwritablefilestream-seekoffset", "dfnText": "[[seekOffset]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemwritablefilestream-seekoffset" }, { "id": "ref-for-filesystemwritablefilestream-seekoffset\u2460" }, { "id": "ref-for-filesystemwritablefilestream-seekoffset\u2461" }, { "id": "ref-for-filesystemwritablefilestream-seekoffset\u2462" }, { "id": "ref-for-filesystemwritablefilestream-seekoffset\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#filesystemwritablefilestream-seekoffset" },
                "getting-the-locator": { "dfnID": "getting-the-locator", "dfnText": "get the locator", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-getting-the-locator" }], "title": "2.1. Concepts" }], "url": "#getting-the-locator" },
                "locating-an-entry": { "dfnID": "locating-an-entry", "dfnText": "locate an entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-locating-an-entry" }, { "id": "ref-for-locating-an-entry\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2461" }, { "id": "ref-for-locating-an-entry\u2462" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2463" }, { "id": "ref-for-locating-an-entry\u2464" }, { "id": "ref-for-locating-an-entry\u2465" }, { "id": "ref-for-locating-an-entry\u2466" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2467" }, { "id": "ref-for-locating-an-entry\u2468" }, { "id": "ref-for-locating-an-entry\u2460\u24ea" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2460\u2460" }, { "id": "ref-for-locating-an-entry\u2460\u2461" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2460\u2462" }, { "id": "ref-for-locating-an-entry\u2460\u2463" }, { "id": "ref-for-locating-an-entry\u2460\u2464" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2460\u2465" }, { "id": "ref-for-locating-an-entry\u2460\u2466" }, { "id": "ref-for-locating-an-entry\u2460\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2460\u2468" }, { "id": "ref-for-locating-an-entry\u2461\u24ea" }, { "id": "ref-for-locating-an-entry\u2461\u2460" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2461\u2461" }], "title": "3. Accessing the Bucket File System" }], "url": "#locating-an-entry" },
                "locator-kind": { "dfnID": "locator-kind", "dfnText": "kind", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-locator-kind" }, { "id": "ref-for-locator-kind\u2460" }, { "id": "ref-for-locator-kind\u2461" }, { "id": "ref-for-locator-kind\u2462" }, { "id": "ref-for-locator-kind\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-locator-kind\u2464" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-locator-kind\u2465" }, { "id": "ref-for-locator-kind\u2466" }, { "id": "ref-for-locator-kind\u2467" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-locator-kind\u2468" }, { "id": "ref-for-locator-kind\u2460\u24ea" }, { "id": "ref-for-locator-kind\u2460\u2460" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#locator-kind" },
                "locator-path": { "dfnID": "locator-path", "dfnText": "path", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-locator-path" }, { "id": "ref-for-locator-path\u2460" }, { "id": "ref-for-locator-path\u2461" }, { "id": "ref-for-locator-path\u2462" }, { "id": "ref-for-locator-path\u2463" }, { "id": "ref-for-locator-path\u2464" }, { "id": "ref-for-locator-path\u2465" }, { "id": "ref-for-locator-path\u2466" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-locator-path\u2467" }, { "id": "ref-for-locator-path\u2468" }, { "id": "ref-for-locator-path\u2460\u24ea" }, { "id": "ref-for-locator-path\u2460\u2460" }, { "id": "ref-for-locator-path\u2460\u2461" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-locator-path\u2460\u2462" }, { "id": "ref-for-locator-path\u2460\u2463" }, { "id": "ref-for-locator-path\u2460\u2464" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-locator-path\u2460\u2465" }, { "id": "ref-for-locator-path\u2460\u2466" }, { "id": "ref-for-locator-path\u2460\u2467" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#locator-path" },
                "locator-resolve": { "dfnID": "locator-resolve", "dfnText": "resolve", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-locator-resolve" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-locator-resolve\u2460" }], "title": "2.4.5. The resolve() method" }], "url": "#locator-resolve" },
                "locator-root": { "dfnID": "locator-root", "dfnText": "root", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-locator-root" }, { "id": "ref-for-locator-root\u2460" }, { "id": "ref-for-locator-root\u2461" }, { "id": "ref-for-locator-root\u2462" }, { "id": "ref-for-locator-root\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-locator-root\u2464" }, { "id": "ref-for-locator-root\u2465" }, { "id": "ref-for-locator-root\u2466" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-locator-root\u2467" }, { "id": "ref-for-locator-root\u2468" }, { "id": "ref-for-locator-root\u2460\u24ea" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#locator-root" },
                "origin-private-file-system": { "dfnID": "origin-private-file-system", "dfnText": "bucket file system", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-origin-private-file-system" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-origin-private-file-system\u2460" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-origin-private-file-system\u2461" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-origin-private-file-system\u2462" }, { "id": "ref-for-origin-private-file-system\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-origin-private-file-system\u2464" }, { "id": "ref-for-origin-private-file-system\u2465" }, { "id": "ref-for-origin-private-file-system\u2466" }], "title": "3. Accessing the Bucket File System" }], "url": "#origin-private-file-system" },
                "typedefdef-filesystemwritechunktype": { "dfnID": "typedefdef-filesystemwritechunktype", "dfnText": "FileSystemWriteChunkType", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-filesystemwritechunktype" }, { "id": "ref-for-typedefdef-filesystemwritechunktype\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#typedefdef-filesystemwritechunktype" },
                "valid-file-name": { "dfnID": "valid-file-name", "dfnText": "valid file name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valid-file-name" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-valid-file-name\u2460" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-valid-file-name\u2461" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-valid-file-name\u2462" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-valid-file-name\u2463" }], "title": "2.4.4. The removeEntry() method" }], "url": "#valid-file-name" },
                "write-a-chunk": { "dfnID": "write-a-chunk", "dfnText": "write a chunk", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-write-a-chunk" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#write-a-chunk" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#create-a-new-filesystemsyncaccesshandle": { "displayText": "creating a new filesystemsyncaccesshandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "creating a new filesystemsyncaccesshandle", "type": "dfn", "url": "#create-a-new-filesystemsyncaccesshandle" },
                "#create-a-new-filesystemwritablefilestream": { "displayText": "creating a new filesystemwritablefilestream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "creating a new filesystemwritablefilestream", "type": "dfn", "url": "#create-a-new-filesystemwritablefilestream" },
                "#creating-a-child-filesystemdirectoryhandle": { "displayText": "creating a child filesystemdirectoryhandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "creating a child filesystemdirectoryhandle", "type": "dfn", "url": "#creating-a-child-filesystemdirectoryhandle" },
                "#creating-a-child-filesystemfilehandle": { "displayText": "creating a child filesystemfilehandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "creating a child filesystemfilehandle", "type": "dfn", "url": "#creating-a-child-filesystemfilehandle" },
                "#creating-a-new-filesystemdirectoryhandle": { "displayText": "creating a new filesystemdirectoryhandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "creating a new filesystemdirectoryhandle", "type": "dfn", "url": "#creating-a-new-filesystemdirectoryhandle" },
                "#dictdef-filesystemcreatewritableoptions": { "displayText": "FileSystemCreateWritableOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemCreateWritableOptions", "type": "dictionary", "url": "#dictdef-filesystemcreatewritableoptions" },
                "#dictdef-filesystemgetdirectoryoptions": { "displayText": "FileSystemGetDirectoryOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemGetDirectoryOptions", "type": "dictionary", "url": "#dictdef-filesystemgetdirectoryoptions" },
                "#dictdef-filesystemgetfileoptions": { "displayText": "FileSystemGetFileOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemGetFileOptions", "type": "dictionary", "url": "#dictdef-filesystemgetfileoptions" },
                "#dictdef-filesystemreadwriteoptions": { "displayText": "FileSystemReadWriteOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemReadWriteOptions", "type": "dictionary", "url": "#dictdef-filesystemreadwriteoptions" },
                "#dictdef-filesystemremoveoptions": { "displayText": "FileSystemRemoveOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemRemoveOptions", "type": "dictionary", "url": "#dictdef-filesystemremoveoptions" },
                "#dictdef-writeparams": { "displayText": "WriteParams", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "WriteParams", "type": "dictionary", "url": "#dictdef-writeparams" },
                "#directory": { "displayText": "directory entry", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "directory entry", "type": "dfn", "url": "#directory" },
                "#directory-entry-children": { "displayText": "children", "export": true, "for_": ["directory entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "children", "type": "dfn", "url": "#directory-entry-children" },
                "#directory-locator": { "displayText": "directory locator", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "directory locator", "type": "dfn", "url": "#directory-locator" },
                "#dom-filesystemcreatewritableoptions-keepexistingdata": { "displayText": "keepExistingData", "export": true, "for_": ["FileSystemCreateWritableOptions"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "keepExistingData", "type": "dict-member", "url": "#dom-filesystemcreatewritableoptions-keepexistingdata" },
                "#dom-filesystemdirectoryhandle-getdirectoryhandle": { "displayText": "getDirectoryHandle(name, options)", "export": true, "for_": ["FileSystemDirectoryHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getDirectoryHandle(name, options)", "type": "method", "url": "#dom-filesystemdirectoryhandle-getdirectoryhandle" },
                "#dom-filesystemdirectoryhandle-getfilehandle": { "displayText": "getFileHandle(name, options)", "export": true, "for_": ["FileSystemDirectoryHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getFileHandle(name, options)", "type": "method", "url": "#dom-filesystemdirectoryhandle-getfilehandle" },
                "#dom-filesystemdirectoryhandle-removeentry": { "displayText": "removeEntry(name, options)", "export": true, "for_": ["FileSystemDirectoryHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "removeEntry(name, options)", "type": "method", "url": "#dom-filesystemdirectoryhandle-removeentry" },
                "#dom-filesystemdirectoryhandle-resolve": { "displayText": "resolve(possibleDescendant)", "export": true, "for_": ["FileSystemDirectoryHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "resolve(possibleDescendant)", "type": "method", "url": "#dom-filesystemdirectoryhandle-resolve" },
                "#dom-filesystemfilehandle-createsyncaccesshandle": { "displayText": "createSyncAccessHandle()", "export": true, "for_": ["FileSystemFileHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "createSyncAccessHandle()", "type": "method", "url": "#dom-filesystemfilehandle-createsyncaccesshandle" },
                "#dom-filesystemfilehandle-createwritable": { "displayText": "createWritable(options)", "export": true, "for_": ["FileSystemFileHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "createWritable(options)", "type": "method", "url": "#dom-filesystemfilehandle-createwritable" },
                "#dom-filesystemfilehandle-getfile": { "displayText": "getFile()", "export": true, "for_": ["FileSystemFileHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getFile()", "type": "method", "url": "#dom-filesystemfilehandle-getfile" },
                "#dom-filesystemgetdirectoryoptions-create": { "displayText": "create", "export": true, "for_": ["FileSystemGetDirectoryOptions"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "create", "type": "dict-member", "url": "#dom-filesystemgetdirectoryoptions-create" },
                "#dom-filesystemgetfileoptions-create": { "displayText": "create", "export": true, "for_": ["FileSystemGetFileOptions"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "create", "type": "dict-member", "url": "#dom-filesystemgetfileoptions-create" },
                "#dom-filesystemhandle-issameentry": { "displayText": "isSameEntry(other)", "export": true, "for_": ["FileSystemHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "isSameEntry(other)", "type": "method", "url": "#dom-filesystemhandle-issameentry" },
                "#dom-filesystemhandle-kind": { "displayText": "kind", "export": true, "for_": ["FileSystemHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "kind", "type": "attribute", "url": "#dom-filesystemhandle-kind" },
                "#dom-filesystemhandle-name": { "displayText": "name", "export": true, "for_": ["FileSystemHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "name", "type": "attribute", "url": "#dom-filesystemhandle-name" },
                "#dom-filesystemhandlekind-directory": { "displayText": "\"directory\"", "export": true, "for_": ["FileSystemHandleKind"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "\"directory\"", "type": "enum-value", "url": "#dom-filesystemhandlekind-directory" },
                "#dom-filesystemhandlekind-file": { "displayText": "\"file\"", "export": true, "for_": ["FileSystemHandleKind"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "\"file\"", "type": "enum-value", "url": "#dom-filesystemhandlekind-file" },
                "#dom-filesystemreadwriteoptions-at": { "displayText": "at", "export": true, "for_": ["FileSystemReadWriteOptions"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "at", "type": "dict-member", "url": "#dom-filesystemreadwriteoptions-at" },
                "#dom-filesystemremoveoptions-recursive": { "displayText": "recursive", "export": true, "for_": ["FileSystemRemoveOptions"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "recursive", "type": "dict-member", "url": "#dom-filesystemremoveoptions-recursive" },
                "#dom-filesystemsyncaccesshandle-close": { "displayText": "close()", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "close()", "type": "method", "url": "#dom-filesystemsyncaccesshandle-close" },
                "#dom-filesystemsyncaccesshandle-flush": { "displayText": "flush()", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "flush()", "type": "method", "url": "#dom-filesystemsyncaccesshandle-flush" },
                "#dom-filesystemsyncaccesshandle-getsize": { "displayText": "getSize()", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getSize()", "type": "method", "url": "#dom-filesystemsyncaccesshandle-getsize" },
                "#dom-filesystemsyncaccesshandle-read": { "displayText": "read(buffer)", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "read(buffer)", "type": "method", "url": "#dom-filesystemsyncaccesshandle-read" },
                "#dom-filesystemsyncaccesshandle-truncate": { "displayText": "truncate(newSize)", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "truncate(newSize)", "type": "method", "url": "#dom-filesystemsyncaccesshandle-truncate" },
                "#dom-filesystemsyncaccesshandle-write": { "displayText": "write(buffer)", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "write(buffer)", "type": "method", "url": "#dom-filesystemsyncaccesshandle-write" },
                "#dom-filesystemwritablefilestream-seek": { "displayText": "seek(position)", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "seek(position)", "type": "method", "url": "#dom-filesystemwritablefilestream-seek" },
                "#dom-filesystemwritablefilestream-truncate": { "displayText": "truncate(size)", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "truncate(size)", "type": "method", "url": "#dom-filesystemwritablefilestream-truncate" },
                "#dom-filesystemwritablefilestream-write": { "displayText": "write(data)", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "write(data)", "type": "method", "url": "#dom-filesystemwritablefilestream-write" },
                "#dom-storagemanager-getdirectory": { "displayText": "getDirectory()", "export": true, "for_": ["StorageManager"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getDirectory()", "type": "method", "url": "#dom-storagemanager-getdirectory" },
                "#dom-writecommandtype-seek": { "displayText": "\"seek\"", "export": true, "for_": ["WriteCommandType"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "\"seek\"", "type": "enum-value", "url": "#dom-writecommandtype-seek" },
                "#dom-writecommandtype-truncate": { "displayText": "\"truncate\"", "export": true, "for_": ["WriteCommandType"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "\"truncate\"", "type": "enum-value", "url": "#dom-writecommandtype-truncate" },
                "#dom-writecommandtype-write": { "displayText": "\"write\"", "export": true, "for_": ["WriteCommandType"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "\"write\"", "type": "enum-value", "url": "#dom-writecommandtype-write" },
                "#dom-writeparams-data": { "displayText": "data", "export": true, "for_": ["WriteParams"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "data", "type": "dict-member", "url": "#dom-writeparams-data" },
                "#dom-writeparams-position": { "displayText": "position", "export": true, "for_": ["WriteParams"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "position", "type": "dict-member", "url": "#dom-writeparams-position" },
                "#dom-writeparams-size": { "displayText": "size", "export": true, "for_": ["WriteParams"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "size", "type": "dict-member", "url": "#dom-writeparams-size" },
                "#dom-writeparams-type": { "displayText": "type", "export": true, "for_": ["WriteParams"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "type", "type": "dict-member", "url": "#dom-writeparams-type" },
                "#entry": { "displayText": "file system entry", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system entry", "type": "dfn", "url": "#entry" },
                "#entry-name": { "displayText": "name", "export": true, "for_": ["file system entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "name", "type": "dfn", "url": "#entry-name" },
                "#entry-parent": { "displayText": "parent", "export": true, "for_": ["file system entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "parent", "type": "dfn", "url": "#entry-parent" },
                "#entry-query-access": { "displayText": "query access", "export": true, "for_": ["file system entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "query access", "type": "dfn", "url": "#entry-query-access" },
                "#entry-request-access": { "displayText": "request access", "export": true, "for_": ["file system entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "request access", "type": "dfn", "url": "#entry-request-access" },
                "#enumdef-filesystemhandlekind": { "displayText": "FileSystemHandleKind", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemHandleKind", "type": "enum", "url": "#enumdef-filesystemhandlekind" },
                "#enumdef-writecommandtype": { "displayText": "WriteCommandType", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "WriteCommandType", "type": "enum", "url": "#enumdef-writecommandtype" },
                "#file": { "displayText": "file entry", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file entry", "type": "dfn", "url": "#file" },
                "#file-entry-binary-data": { "displayText": "binary data", "export": true, "for_": ["file entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "binary data", "type": "dfn", "url": "#file-entry-binary-data" },
                "#file-entry-lock": { "displayText": "lock", "export": true, "for_": ["file entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "lock", "type": "dfn", "url": "#file-entry-lock" },
                "#file-entry-lock-release": { "displayText": "release", "export": true, "for_": ["file entry/lock"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "release", "type": "dfn", "url": "#file-entry-lock-release" },
                "#file-entry-lock-take": { "displayText": "take", "export": true, "for_": ["file entry/lock"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "take", "type": "dfn", "url": "#file-entry-lock-take" },
                "#file-entry-modification-timestamp": { "displayText": "modification timestamp", "export": true, "for_": ["file entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "modification timestamp", "type": "dfn", "url": "#file-entry-modification-timestamp" },
                "#file-entry-shared-lock-count": { "displayText": "shared lock count", "export": true, "for_": ["file entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "shared lock count", "type": "dfn", "url": "#file-entry-shared-lock-count" },
                "#file-locator": { "displayText": "file locator", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file locator", "type": "dfn", "url": "#file-locator" },
                "#file-system-access-result": { "displayText": "file system access result", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system access result", "type": "dfn", "url": "#file-system-access-result" },
                "#file-system-access-result-error-name": { "displayText": "error name", "export": true, "for_": ["file system access result"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "error name", "type": "dfn", "url": "#file-system-access-result-error-name" },
                "#file-system-access-result-permission-state": { "displayText": "permission state", "export": true, "for_": ["file system access result"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "permission state", "type": "dfn", "url": "#file-system-access-result-permission-state" },
                "#file-system-entry-the-same-entry-as": { "displayText": "the same entry as", "export": true, "for_": ["file system entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "the same entry as", "type": "dfn", "url": "#file-system-entry-the-same-entry-as" },
                "#file-system-locator": { "displayText": "file system locator", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system locator", "type": "dfn", "url": "#file-system-locator" },
                "#file-system-locator-the-same-locator-as": { "displayText": "the same locator as", "export": true, "for_": ["file system locator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "the same locator as", "type": "dfn", "url": "#file-system-locator-the-same-locator-as" },
                "#file-system-path": { "displayText": "file system path", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system path", "type": "dfn", "url": "#file-system-path" },
                "#file-system-path-the-same-path-as": { "displayText": "the same path as", "export": true, "for_": ["file system path"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "the same path as", "type": "dfn", "url": "#file-system-path-the-same-path-as" },
                "#file-system-queue": { "displayText": "file system queue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system queue", "type": "dfn", "url": "#file-system-queue" },
                "#file-system-root": { "displayText": "file system root", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system root", "type": "dfn", "url": "#file-system-root" },
                "#filesystemdirectoryhandle": { "displayText": "FileSystemDirectoryHandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemDirectoryHandle", "type": "interface", "url": "#filesystemdirectoryhandle" },
                "#filesystemdirectoryhandle-iterator-past-results": { "displayText": "past results", "export": true, "for_": ["FileSystemDirectoryHandle-iterator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "past results", "type": "dfn", "url": "#filesystemdirectoryhandle-iterator-past-results" },
                "#filesystemfilehandle": { "displayText": "FileSystemFileHandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemFileHandle", "type": "interface", "url": "#filesystemfilehandle" },
                "#filesystemhandle": { "displayText": "FileSystemHandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemHandle", "type": "interface", "url": "#filesystemhandle" },
                "#filesystemhandle-is-in-a-bucket-file-system": { "displayText": "is in a bucket file system", "export": true, "for_": ["FileSystemHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "is in a bucket file system", "type": "dfn", "url": "#filesystemhandle-is-in-a-bucket-file-system" },
                "#filesystemhandle-locator": { "displayText": "locator", "export": true, "for_": ["FileSystemHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "locator", "type": "dfn", "url": "#filesystemhandle-locator" },
                "#filesystemsyncaccesshandle": { "displayText": "FileSystemSyncAccessHandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemSyncAccessHandle", "type": "interface", "url": "#filesystemsyncaccesshandle" },
                "#filesystemsyncaccesshandle-file": { "displayText": "[[file]]", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "[[file]]", "type": "dfn", "url": "#filesystemsyncaccesshandle-file" },
                "#filesystemsyncaccesshandle-file-position-cursor": { "displayText": "file position cursor", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file position cursor", "type": "dfn", "url": "#filesystemsyncaccesshandle-file-position-cursor" },
                "#filesystemsyncaccesshandle-state": { "displayText": "[[state]]", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "[[state]]", "type": "dfn", "url": "#filesystemsyncaccesshandle-state" },
                "#filesystemwritablefilestream": { "displayText": "FileSystemWritableFileStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemWritableFileStream", "type": "interface", "url": "#filesystemwritablefilestream" },
                "#filesystemwritablefilestream-buffer": { "displayText": "[[buffer]]", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "[[buffer]]", "type": "dfn", "url": "#filesystemwritablefilestream-buffer" },
                "#filesystemwritablefilestream-file": { "displayText": "[[file]]", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "[[file]]", "type": "dfn", "url": "#filesystemwritablefilestream-file" },
                "#filesystemwritablefilestream-seekoffset": { "displayText": "[[seekoffset]]", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "[[seekoffset]]", "type": "dfn", "url": "#filesystemwritablefilestream-seekoffset" },
                "#getting-the-locator": { "displayText": "getting the locator", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getting the locator", "type": "dfn", "url": "#getting-the-locator" },
                "#locating-an-entry": { "displayText": "locating an entry", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "locating an entry", "type": "dfn", "url": "#locating-an-entry" },
                "#locator-kind": { "displayText": "kind", "export": true, "for_": ["file system locator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "kind", "type": "dfn", "url": "#locator-kind" },
                "#locator-path": { "displayText": "path", "export": true, "for_": ["file system locator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "path", "type": "dfn", "url": "#locator-path" },
                "#locator-resolve": { "displayText": "resolve", "export": true, "for_": ["file system locator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "resolve", "type": "dfn", "url": "#locator-resolve" },
                "#locator-root": { "displayText": "root", "export": true, "for_": ["file system locator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "root", "type": "dfn", "url": "#locator-root" },
                "#origin-private-file-system": { "displayText": "bucket file system", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "bucket file system", "type": "dfn", "url": "#origin-private-file-system" },
                "#typedefdef-filesystemwritechunktype": { "displayText": "FileSystemWriteChunkType", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemWriteChunkType", "type": "typedef", "url": "#typedefdef-filesystemwritechunktype" },
                "#valid-file-name": { "displayText": "valid file name", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "valid file name", "type": "dfn", "url": "#valid-file-name" },
                "#write-a-chunk": { "displayText": "write a chunk", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "write a chunk", "type": "dfn", "url": "#write-a-chunk" },
                "https://encoding.spec.whatwg.org/#utf-8-encode": { "displayText": "UTF-8 encode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 encode", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "https://html.spec.whatwg.org/multipage/browsers.html#same-origin": { "displayText": "same origin", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "same origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps": { "displayText": "enqueue the following steps", "export": true, "for_": ["parallel queue"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "enqueue the following steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": { "displayText": "in parallel", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "in parallel", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue": { "displayText": "starting a new parallel queue", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "starting a new parallel queue", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps": { "displayText": "deserialization steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "deserialization steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#serializable": { "displayText": "Serializable", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Serializable", "type": "extended-attribute", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects": { "displayText": "serializable object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "serializable object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps": { "displayText": "serialization steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "serialization steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": { "displayText": "relevant global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm": { "displayText": "relevant realm", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant realm", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin": { "displayText": "origin", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object": { "displayText": "current settings object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "current settings object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#pause": { "displayText": "pause", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "pause", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#pause" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": { "displayText": "relevant settings object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant settings object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "https://infra.spec.whatwg.org/#assert": { "displayText": "assert", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "assert", "type": "dfn", "url": "https://infra.spec.whatwg.org/#assert" },
                "https://infra.spec.whatwg.org/#byte-sequence": { "displayText": "byte sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte sequence", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "https://infra.spec.whatwg.org/#byte-sequence-length": { "displayText": "length", "export": true, "for_": ["byte sequence"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "length", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence-length" },
                "https://infra.spec.whatwg.org/#implementation-defined": { "displayText": "implementation-defined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "implementation-defined", "type": "dfn", "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "https://infra.spec.whatwg.org/#list": { "displayText": "list", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "list", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list" },
                "https://infra.spec.whatwg.org/#list-append": { "displayText": "append", "export": true, "for_": ["list"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-append" },
                "https://infra.spec.whatwg.org/#list-clone": { "displayText": "clone", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "clone", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-clone" },
                "https://infra.spec.whatwg.org/#list-contain": { "displayText": "contain", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "contain", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-contain" },
                "https://infra.spec.whatwg.org/#list-get-the-indices": { "displayText": "indices", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "indices", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-get-the-indices" },
                "https://infra.spec.whatwg.org/#list-is-empty": { "displayText": "is empty", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "is empty", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "https://infra.spec.whatwg.org/#list-item": { "displayText": "item", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-item" },
                "https://infra.spec.whatwg.org/#list-iterate": { "displayText": "for each", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "for each", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "https://infra.spec.whatwg.org/#list-remove": { "displayText": "remove", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "remove", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-remove" },
                "https://infra.spec.whatwg.org/#list-size": { "displayText": "size", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "size", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-size" },
                "https://infra.spec.whatwg.org/#map-exists": { "displayText": "exist", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "exist", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-exists" },
                "https://infra.spec.whatwg.org/#ordered-set": { "displayText": "set", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "set", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "https://infra.spec.whatwg.org/#set-append": { "displayText": "append", "export": true, "for_": ["set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#set-append" },
                "https://infra.spec.whatwg.org/#string": { "displayText": "string", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "string", "type": "dfn", "url": "https://infra.spec.whatwg.org/#string" },
                "https://infra.spec.whatwg.org/#struct": { "displayText": "struct", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "struct", "type": "dfn", "url": "https://infra.spec.whatwg.org/#struct" },
                "https://infra.spec.whatwg.org/#struct-item": { "displayText": "item", "export": true, "for_": ["struct", "tuple"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#struct-item" },
                "https://infra.spec.whatwg.org/#the-range": { "displayText": "the range", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "the range", "type": "dfn", "url": "https://infra.spec.whatwg.org/#the-range" },
                "https://storage.spec.whatwg.org/#obtain-a-local-storage-bottle-map": { "displayText": "obtain a local storage bottle map", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "obtain a local storage bottle map", "type": "dfn", "url": "https://storage.spec.whatwg.org/#obtain-a-local-storage-bottle-map" },
                "https://storage.spec.whatwg.org/#queue-a-storage-task": { "displayText": "queue a storage task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "queue a storage task", "type": "dfn", "url": "https://storage.spec.whatwg.org/#queue-a-storage-task" },
                "https://storage.spec.whatwg.org/#storage-bucket": { "displayText": "storage bucket", "export": true, "for_": [], "level": "", "normative": true, "shortname": "storage", "spec": "storage", "status": "anchor-block", "text": "storage bucket", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-bucket" },
                "https://storage.spec.whatwg.org/#storage-endpoint": { "displayText": "storage endpoint", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "storage endpoint", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-endpoint" },
                "https://storage.spec.whatwg.org/#storage-endpoint-identifier": { "displayText": "identifier", "export": false, "for_": ["storage endpoint"], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "identifier", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-endpoint-identifier" },
                "https://storage.spec.whatwg.org/#storage-endpoint-quota": { "displayText": "quota", "export": false, "for_": ["storage endpoint"], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "quota", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-endpoint-quota" },
                "https://storage.spec.whatwg.org/#storage-endpoint-types": { "displayText": "types", "export": false, "for_": ["storage endpoint"], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "types", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-endpoint-types" },
                "https://storage.spec.whatwg.org/#storage-quota": { "displayText": "storage quota", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "storage quota", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-quota" },
                "https://storage.spec.whatwg.org/#storagemanager": { "displayText": "StorageManager", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "StorageManager", "type": "interface", "url": "https://storage.spec.whatwg.org/#storagemanager" },
                "https://streams.spec.whatwg.org/#default-writer-write": { "displayText": "write()", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "write()", "type": "method", "url": "https://streams.spec.whatwg.org/#default-writer-write" },
                "https://streams.spec.whatwg.org/#readablestream": { "displayText": "ReadableStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "ReadableStream", "type": "interface", "url": "https://streams.spec.whatwg.org/#readablestream" },
                "https://streams.spec.whatwg.org/#writablestream": { "displayText": "WritableStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "WritableStream", "type": "interface", "url": "https://streams.spec.whatwg.org/#writablestream" },
                "https://streams.spec.whatwg.org/#writablestream-get-a-writer": { "displayText": "getting a writer", "export": true, "for_": ["WritableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "getting a writer", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-get-a-writer" },
                "https://streams.spec.whatwg.org/#writablestream-set-up": { "displayText": "set up", "export": true, "for_": ["WritableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "set up", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up" },
                "https://streams.spec.whatwg.org/#writablestream-set-up-abortalgorithm": { "displayText": "abortAlgorithm", "export": true, "for_": ["WritableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "abortalgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up-abortalgorithm" },
                "https://streams.spec.whatwg.org/#writablestream-set-up-closealgorithm": { "displayText": "closeAlgorithm", "export": true, "for_": ["WritableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "closealgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up-closealgorithm" },
                "https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark": { "displayText": "highWaterMark", "export": true, "for_": ["WritableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "highwatermark", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark" },
                "https://streams.spec.whatwg.org/#writablestream-set-up-sizealgorithm": { "displayText": "sizeAlgorithm", "export": true, "for_": ["WritableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "sizealgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up-sizealgorithm" },
                "https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm": { "displayText": "writeAlgorithm", "export": true, "for_": ["WritableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "writealgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm" },
                "https://streams.spec.whatwg.org/#writablestreamdefaultwriter": { "displayText": "WritableStreamDefaultWriter", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "WritableStreamDefaultWriter", "type": "interface", "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter" },
                "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release": { "displayText": "release", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "release", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release" },
                "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-write-a-chunk": { "displayText": "writing a chunk", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "writing a chunk", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-write-a-chunk" },
                "https://streams.spec.whatwg.org/#ws-get-writer": { "displayText": "getWriter()", "export": true, "for_": ["WritableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "getWriter()", "type": "method", "url": "https://streams.spec.whatwg.org/#ws-get-writer" },
                "https://tc39.es/ecma262/#current-realm": { "displayText": "current realm", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "current realm", "type": "dfn", "url": "https://tc39.es/ecma262/#current-realm" },
                "https://tc39.es/ecma262/#realm": { "displayText": "realm", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "realm", "type": "dfn", "url": "https://tc39.es/ecma262/#realm" },
                "https://w3c.github.io/FileAPI/#UnixEpoch": { "displayText": "Unix Epoch", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "unix epoch", "type": "dfn", "url": "https://w3c.github.io/FileAPI/#UnixEpoch" },
                "https://w3c.github.io/FileAPI/#dfn-Blob": { "displayText": "Blob", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "Blob", "type": "interface", "url": "https://w3c.github.io/FileAPI/#dfn-Blob" },
                "https://w3c.github.io/FileAPI/#dfn-file": { "displayText": "File", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "File", "type": "interface", "url": "https://w3c.github.io/FileAPI/#dfn-file" },
                "https://w3c.github.io/FileAPI/#dfn-lastModified": { "displayText": "lastModified", "export": true, "for_": ["File"], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "lastModified", "type": "attribute", "url": "https://w3c.github.io/FileAPI/#dfn-lastModified" },
                "https://w3c.github.io/FileAPI/#dfn-name": { "displayText": "name", "export": true, "for_": ["File"], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "name", "type": "attribute", "url": "https://w3c.github.io/FileAPI/#dfn-name" },
                "https://w3c.github.io/FileAPI/#dfn-type": { "displayText": "type", "export": true, "for_": ["Blob"], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "type", "type": "attribute", "url": "https://w3c.github.io/FileAPI/#dfn-type" },
                "https://w3c.github.io/FileAPI/#readOperation": { "displayText": "read operation", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "read operation", "type": "dfn", "url": "https://w3c.github.io/FileAPI/#readOperation" },
                "https://w3c.github.io/FileAPI/#snapshot-state": { "displayText": "snapshot state", "export": false, "for_": ["Blob"], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "snapshot state", "type": "dfn", "url": "https://w3c.github.io/FileAPI/#snapshot-state" },
                "https://w3c.github.io/permissions/#dfn-powerful-feature": { "displayText": "powerful feature", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "powerful feature", "type": "dfn", "url": "https://w3c.github.io/permissions/#dfn-powerful-feature" },
                "https://w3c.github.io/permissions/#dom-permissionstate": { "displayText": "PermissionState", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "PermissionState", "type": "enum", "url": "https://w3c.github.io/permissions/#dom-permissionstate" },
                "https://w3c.github.io/permissions/#dom-permissionstate-denied": { "displayText": "denied", "export": true, "for_": ["PermissionState"], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "denied", "type": "enum-value", "url": "https://w3c.github.io/permissions/#dom-permissionstate-denied" },
                "https://w3c.github.io/permissions/#dom-permissionstate-granted": { "displayText": "granted", "export": true, "for_": ["PermissionState"], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "granted", "type": "enum-value", "url": "https://w3c.github.io/permissions/#dom-permissionstate-granted" },
                "https://webidl.spec.whatwg.org/#AllowSharedBufferSource": { "displayText": "AllowSharedBufferSource", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "AllowSharedBufferSource", "type": "typedef", "url": "https://webidl.spec.whatwg.org/#AllowSharedBufferSource" },
                "https://webidl.spec.whatwg.org/#BufferSource": { "displayText": "BufferSource", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "BufferSource", "type": "typedef", "url": "https://webidl.spec.whatwg.org/#BufferSource" },
                "https://webidl.spec.whatwg.org/#EnforceRange": { "displayText": "EnforceRange", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "EnforceRange", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#EnforceRange" },
                "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://webidl.spec.whatwg.org/#SecureContext": { "displayText": "SecureContext", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecureContext", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "https://webidl.spec.whatwg.org/#a-new-promise": { "displayText": "a new promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a new promise", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "https://webidl.spec.whatwg.org/#a-promise-rejected-with": { "displayText": "a promise rejected with", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a promise rejected with", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
                "https://webidl.spec.whatwg.org/#a-promise-resolved-with": { "displayText": "a promise resolved with", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a promise resolved with", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-promise-resolved-with" },
                "https://webidl.spec.whatwg.org/#aborterror": { "displayText": "AbortError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "AbortError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#aborterror" },
                "https://webidl.spec.whatwg.org/#arraybuffer-write": { "displayText": "write", "export": true, "for_": ["ArrayBuffer", "SharedArrayBuffer"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "write", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#arraybuffer-write" },
                "https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps": { "displayText": "asynchronous iterator initialization steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "asynchronous iterator initialization steps", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps" },
                "https://webidl.spec.whatwg.org/#buffersource-byte-length": { "displayText": "byte length", "export": true, "for_": ["BufferSource"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "byte length", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#buffersource-byte-length" },
                "https://webidl.spec.whatwg.org/#buffersource-underlying-buffer": { "displayText": "underlying buffer", "export": true, "for_": ["BufferSource"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "underlying buffer", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#buffersource-underlying-buffer" },
                "https://webidl.spec.whatwg.org/#datacloneerror": { "displayText": "DataCloneError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DataCloneError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#datacloneerror" },
                "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value": { "displayText": "converted to an IDL value", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "converted to an idl value", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" },
                "https://webidl.spec.whatwg.org/#dfn-dictionary": { "displayText": "dictionary", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "dictionary", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-dictionary" },
                "https://webidl.spec.whatwg.org/#dfn-error-names-table": { "displayText": "DOMException names table", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "domexception names table", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-error-names-table" },
                "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy": { "displayText": "get a copy of the buffer source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "get a copy of the buffer source", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy" },
                "https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result": { "displayText": "get the next iteration result", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "get the next iteration result", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result" },
                "https://webidl.spec.whatwg.org/#dfn-throw": { "displayText": "throw", "export": true, "for_": ["exception"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "throw", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-throw" },
                "https://webidl.spec.whatwg.org/#domexception-name": { "displayText": "name", "export": true, "for_": ["DOMException"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "name", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#domexception-name" },
                "https://webidl.spec.whatwg.org/#exceptiondef-typeerror": { "displayText": "TypeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "https://webidl.spec.whatwg.org/#idl-DOMException": { "displayText": "DOMException", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMException", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "https://webidl.spec.whatwg.org/#idl-USVString": { "displayText": "USVString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "USVString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "https://webidl.spec.whatwg.org/#idl-boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "https://webidl.spec.whatwg.org/#idl-promise": { "displayText": "Promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Promise", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "https://webidl.spec.whatwg.org/#idl-sequence": { "displayText": "sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "sequence", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "https://webidl.spec.whatwg.org/#idl-undefined": { "displayText": "undefined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "undefined", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "https://webidl.spec.whatwg.org/#idl-unsigned-long-long": { "displayText": "unsigned long long", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "unsigned long long", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long" },
                "https://webidl.spec.whatwg.org/#invalidmodificationerror": { "displayText": "InvalidModificationError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "InvalidModificationError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#invalidmodificationerror" },
                "https://webidl.spec.whatwg.org/#invalidstateerror": { "displayText": "InvalidStateError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "InvalidStateError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#invalidstateerror" },
                "https://webidl.spec.whatwg.org/#new": { "displayText": "new", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "new", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#new" },
                "https://webidl.spec.whatwg.org/#nomodificationallowederror": { "displayText": "NoModificationAllowedError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NoModificationAllowedError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#nomodificationallowederror" },
                "https://webidl.spec.whatwg.org/#notallowederror": { "displayText": "NotAllowedError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NotAllowedError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#notallowederror" },
                "https://webidl.spec.whatwg.org/#notfounderror": { "displayText": "NotFoundError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NotFoundError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#notfounderror" },
                "https://webidl.spec.whatwg.org/#quotaexceedederror": { "displayText": "QuotaExceededError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "QuotaExceededError", "type": "interface", "url": "https://webidl.spec.whatwg.org/#quotaexceedederror" },
                "https://webidl.spec.whatwg.org/#reject": { "displayText": "reject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "reject", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#reject" },
                "https://webidl.spec.whatwg.org/#resolve": { "displayText": "resolve", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "resolve", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#resolve" },
                "https://webidl.spec.whatwg.org/#securityerror": { "displayText": "SecurityError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecurityError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#securityerror" },
                "https://webidl.spec.whatwg.org/#this": { "displayText": "this", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "this", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#this" },
                "https://webidl.spec.whatwg.org/#typemismatcherror": { "displayText": "TypeMismatchError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeMismatchError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#typemismatcherror" },
                "https://wicg.github.io/permissions-request/#permission-request-algorithm": { "displayText": "permission request algorithm", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions-request", "spec": "permissions-request", "status": "current", "text": "permission request algorithm", "type": "dfn", "url": "https://wicg.github.io/permissions-request/#permission-request-algorithm" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>