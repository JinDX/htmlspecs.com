<!doctype html>
<html lang="zh-hans">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="#3c790a" name="theme-color">
    <meta content="light dark" name="color-scheme">
    <title>文件系统标准（File System Standard）</title>
    <link crossorigin href="https://resources.whatwg.org/standard-shared-with-dev.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/standard.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/spec.css" rel="stylesheet">
    <link crossorigin href="https://resources.whatwg.org/logo-fs.svg" rel="icon">
    <script crossorigin defer src="https://resources.whatwg.org/commit-snapshot-shortcut-key.js"></script>
    <!-- <meta content="Bikeshed version a1dabb26c, updated Mon Jun 17 15:00:44 2024 -0700" name="generator">
    <meta content="db5f3bad6cece0986cea5ba8367facaabb81e587" name="revision"> -->
    <style>
        .domintro dt {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;

            padding-top: 0.5em;
            padding-bottom: 1em;
        }

        .domintro dt a {
            color: inherit;
            border-bottom-style: none;
        }

        .domintro dt code {
            font-size: inherit;
        }

        .domintro::before {
            content: 'For web developers (non-normative)';
            text-transform: initial;

        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>

<body class="h-entry status-LS">
    <div class="head">
        <a class="logo" href="https://whatwg.org/">
            <img alt="WHATWG" class="darkmode-aware" crossorigin height="100"
                src="https://resources.whatwg.org/logo-fs.svg">
        </a>
        <hgroup>
            <h1 class="p-name no-ref" id="title">文件系统（File System）</h1>
            <p id="subtitle">
                现行标准 — 最后更新 <time class="dt-updated" datetime="2025-09-15">2025年9月15日</time>
            </p>
        </hgroup>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>参与：
                <dd><a href="https://github.com/whatwg/fs">GitHub whatwg/fs</a>（<a
                        href="https://github.com/whatwg/fs/issues/new/choose">新建议案</a>，<a
                        href="https://github.com/whatwg/fs/issues">开放建议案</a>）
                <dd><a href="https://whatwg.org/chat">Matrix 聊天</a>
                <dt>提交历史：
                <dd><a href="https://github.com/whatwg/fs/commits">GitHub whatwg/fs/commits</a>
                <dd><a href="https://storage.spec.whatwg.org/commit-snapshots/145b4885b95ad0ea12aaef93cbaf2eaa0ec85d48/"
                        id="commit-snapshot-link">截至此提交的快照</a>
                <dd><a href="https://twitter.com/whatfilesystem">@whatfilesystem</a>
                <dt>测试：
                <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/fs">web-platform-tests fs/</a>（<a
                        href="https://github.com/web-platform-tests/wpt/labels/fs">持续完善中</a>）
                <dt>翻译 <small>（非规范性）</small>：
                <dd><span title="Japanese"><a href="https://triple-underscore.github.io/fs-ja.html" hreflang="ja"
                            lang="ja" rel="alternate">日本語</a></span>
                <dd><span title="Simplified Chinese"><a href="https://htmlspecs.com/fs/" hreflang="zh-hans"
                            lang="zh-hans" rel="alternate">简体中文</a></span>
                <dd><span title="Korean"><a href="https://ko.htmlspecs.com/fs/" hreflang="ko" lang="ko"
                            rel="alternate">한국어</a></span>
            </dl>
        </div>
        <div data-fill-with="warning"></div>
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要（Abstract）</span></h2>
        <p>文件系统（File System）定义了文件系统的基础结构及其 API。</p>
    </div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#introduction"><span class="secno">1</span> <span class="content">引言</span></a>
            <li>
                <a href="#files-and-directories"><span class="secno">2</span> <span class="content">文件与目录</span></a>
                <ol class="toc">
                    <li><a href="#concepts"><span class="secno">2.1</span> <span class="content">基本概念</span></a>
                    <li>
                        <a href="#api-filesystemhandle"><span class="secno">2.2</span> <span class="content"><code
                                    class="idl"><span>FileSystemHandle</span></code> 接口</span></a>
                        <ol class="toc">
                            <li><a href="#api-filesystemhandle-issameentry"><span class="secno">2.2.1</span> <span
                                        class="content"><code class="idl"><span>isSameEntry()</span></code>
                                        方法</span></a>
                        </ol>
                    <li>
                        <a href="#api-filesystemfilehandle"><span class="secno">2.3</span> <span class="content"><code
                                    class="idl"><span>FileSystemFileHandle</span></code> 接口</span></a>
                        <ol class="toc">
                            <li><a href="#api-filesystemfilehandle-getfile"><span class="secno">2.3.1</span> <span
                                        class="content"><code class="idl"><span>getFile()</span></code> 方法</span></a>
                            <li><a href="#api-filesystemfilehandle-createwritable"><span class="secno">2.3.2</span>
                                    <span class="content"><code class="idl"><span>createWritable()</span></code>
                                        方法</span></a>
                            <li><a href="#api-filesystemfilehandle-createsyncaccesshandle"><span
                                        class="secno">2.3.3</span> <span class="content"><code
                                            class="idl"><span>createSyncAccessHandle()</span></code> 方法</span></a>
                        </ol>
                    <li>
                        <a href="#api-filesystemdirectoryhandle"><span class="secno">2.4</span> <span
                                class="content"><code class="idl"><span>FileSystemDirectoryHandle</span></code>
                                接口</span></a>
                        <ol class="toc">
                            <li><a href="#api-filesystemdirectoryhandle-asynciterable"><span class="secno">2.4.1</span>
                                    <span class="content">目录遍历</span></a>
                            <li><a href="#api-filesystemdirectoryhandle-getfilehandle"><span class="secno">2.4.2</span>
                                    <span class="content"><code class="idl"><span>getFileHandle()</span></code>
                                        方法</span></a>
                            <li><a href="#api-filesystemdirectoryhandle-getdirectoryhandle"><span
                                        class="secno">2.4.3</span> <span class="content"><code
                                            class="idl"><span>getDirectoryHandle()</span></code> 方法</span></a>
                            <li><a href="#api-filesystemdirectoryhandle-removeentry"><span class="secno">2.4.4</span>
                                    <span class="content"><code class="idl"><span>removeEntry()</span></code>
                                        方法</span></a>
                            <li><a href="#api-filesystemdirectoryhandle-resolve"><span class="secno">2.4.5</span> <span
                                        class="content"><code class="idl"><span>resolve()</span></code> 方法</span></a>
                        </ol>
                    <li>
                        <a href="#api-filesystemwritablefilestream"><span class="secno">2.5</span> <span
                                class="content"><code class="idl"><span>FileSystemWritableFileStream</span></code>
                                接口</span></a>
                        <ol class="toc">
                            <li><a href="#api-filesystemwritablefilestream-write"><span class="secno">2.5.1</span> <span
                                        class="content"><code class="idl"><span>write()</span></code> 方法</span></a>
                            <li><a href="#api-filesystemwritablefilestream-seek"><span class="secno">2.5.2</span> <span
                                        class="content"><code class="idl"><span>seek()</span></code> 方法</span></a>
                            <li><a href="#api-filesystemwritablefilestream-truncate"><span class="secno">2.5.3</span>
                                    <span class="content"><code class="idl"><span>truncate()</span></code> 方法</span></a>
                        </ol>
                    <li>
                        <a href="#api-filesystemsyncaccesshandle"><span class="secno">2.6</span> <span
                                class="content"><code class="idl"><span>FileSystemSyncAccessHandle</span></code>
                                接口</span></a>
                        <ol class="toc">
                            <li><a href="#api-filesystemsyncaccesshandle-read"><span class="secno">2.6.1</span> <span
                                        class="content"><code class="idl"><span>read()</span></code> 方法</span></a>
                            <li><a href="#api-filesystemsyncaccesshandle-write"><span class="secno">2.6.2</span> <span
                                        class="content"><code class="idl"><span>write()</span></code> 方法</span></a>
                            <li><a href="#api-filesystemsyncaccesshandle-truncate"><span class="secno">2.6.3</span>
                                    <span class="content"><code class="idl"><span>truncate()</span></code> 方法</span></a>
                            <li><a href="#api-filesystemsyncaccesshandle-getsize"><span class="secno">2.6.4</span> <span
                                        class="content"><code class="idl"><span>getSize()</span></code> 方法</span></a>
                            <li><a href="#api-filesystemsyncaccesshandle-flush"><span class="secno">2.6.5</span> <span
                                        class="content"><code class="idl"><span>flush()</span></code> 方法</span></a>
                            <li><a href="#api-filesystemsyncaccesshandle-close"><span class="secno">2.6.6</span> <span
                                        class="content"><code class="idl"><span>close()</span></code> 方法</span></a>
                        </ol>
                </ol>
            <li><a href="#sandboxed-filesystem"><span class="secno">3</span> <span class="content">访问 Bucket
                        文件系统</span></a>
            <li><a href="#acks"><span class="secno"></span> <span class="content">致谢</span></a>
            <li><a href="#ipr"><span class="secno"></span> <span class="content">知识产权</span></a>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用中定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span
                class="content">引言</span><a class="self-link" href="#introduction"></a></h2>
        <p><em>本节为非规范性内容。</em></p>
        <p>本文件定义了文件系统 API 的基础架构。此外，还定义了一个
            API，使网站可以在不先请求用户授权的情况下，访问文件系统目录。这使得网站能够在用户选择保存位置之前，将数据保存到磁盘，而无需为此类文件使用完全不同的存储机制和 API。入口为 <code
                class="idl"><a data-link-type="idl" href="#dom-storagemanager-getdirectory" id="ref-for-dom-storagemanager-getdirectory">navigator.storage.getDirectory()</a></code>
            方法。</p>

        <h2 class="heading settled" data-level="2" id="files-and-directories"><span class="secno">2. </span><span
                class="content">文件与目录</span><a class="self-link" href="#files-and-directories"></a></h2>
        <h3 class="heading settled" data-level="2.1" id="concepts"><span class="secno">2.1. </span><span
                class="content">基本概念</span><a class="self-link" href="#concepts"></a></h3>

        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="entry">文件系统条目</dfn>是指文件条目或目录条目。</p>

        <p>每个文件系统条目都关联有一个<dfn class="dfn-paneled" data-dfn-for="file system entry" data-dfn-type="dfn" data-noexport
                id="entry-query-access">查询访问</dfn>算法，接收“<code>read</code>”或“<code>readwrite</code>”<var>模式</var>，返回一个文件系统访问结果。除非另有说明，否则该算法返回的文件系统访问结果的权限状态为“<code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied">denied</a></code>”，错误名称为空字符串。
        </p>

        <p>每个文件系统条目还关联有一个<dfn class="dfn-paneled" data-dfn-for="file system entry" data-dfn-type="dfn" data-noexport
                id="entry-request-access">请求访问</dfn>算法，参数与查询访问相同，返回的文件系统访问结果类似，除非另有说明，否则权限状态为“denied”，错误名称为空字符串。</p>

        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="file-system-access-result">文件系统访问结果</dfn>是一个结构体，封装了查询或请求文件系统访问的结果。它有如下字段：</p>
        <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="file system access result" data-dfn-type="dfn"
                    data-noexport id="file-system-access-result-permission-state">权限状态</dfn>
            <dd data-md>
                <p>一个 <code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate" id="ref-for-dom-permissionstate">PermissionState</a></code>
                </p>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="file system access result" data-dfn-type="dfn"
                    data-noexport id="file-system-access-result-error-name">错误名称</dfn>
            <dd data-md>
                <p>一个字符串。如果权限状态为“<code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted">granted</a></code>”，则必须为空字符串；否则应为
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-error-names-table"
                        id="ref-for-dfn-error-names-table"><code>DOMException</code>
                        错误名称表</a>中的名称。大多数情况下，权限未“granted”时，名称应为“<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>”。
                </p>
        </dl>

        <p class="warning"> 相关规范可将此 API
            视为强功能。然而，与其他强功能的权限请求算法可能抛出异常不同，文件系统条目的“查询访问”和“请求访问”算法必须在文件系统队列中并行运行，不允许抛出异常。如果算法返回的错误名称非空，调用者应通过队列存储任务来拒绝（reject）。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span> 仅实现本规范而未实现其依赖规范的实现，无需实现文件系统条目的“查询访问”和“请求访问”算法。</p>
        <p class="XXX" data-remote-issue-id="101"> 应考虑将访问检查算法关联到 FileSystemHandle。</p>

        <p>每个文件系统条目有一个关联的<dfn class="dfn-paneled" data-dfn-for="file system entry" data-dfn-type="dfn" data-noexport
                id="entry-name">名称</dfn>（字符串）。</p>

        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="valid-file-name">有效文件名</dfn>指非空字符串，不等于“.”或“..”，且不包含“/”或底层平台作为路径分隔符的任何其他字符。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 这意味着在 Windows
            上名称中不能包含“\”，但在其他操作系统可能允许。此外，底层文件系统可能对名称有进一步限制，仅为有效文件名并不保证能成功创建该文件或目录。</p>
        <p class="XXX"> 应考虑对文件名施加更严格的规范性限制，而不是完全交由底层文件系统决定。</p>

        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="file">文件条目</dfn>还包括<dfn class="dfn-paneled"
                data-dfn-for="file entry" data-dfn-type="dfn" data-export
                id="file-entry-binary-data">二进制数据</dfn>（字节序列）、<dfn class="dfn-paneled" data-dfn-for="file entry"
                data-dfn-type="dfn" data-noexport id="file-entry-modification-timestamp">修改时间戳</dfn>（自 Unix
            纪元以来的毫秒数）、<dfn class="dfn-paneled" data-dfn-for="file entry" data-dfn-type="dfn" data-noexport
                id="file-entry-lock">锁</dfn>（仅允许为“open”“taken-exclusive”“taken-shared”之一的字符串）和<dfn class="dfn-paneled"
                data-dfn-for="file entry" data-dfn-type="dfn" data-noexport
                id="file-entry-shared-lock-count">共享锁数量</dfn>（当前持有的共享锁数量）。</p>

        <p>用户代理拥有一个关联的<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="file-system-queue">文件系统队列</dfn>，即新建的并行队列。所有文件系统操作都应使用此队列。</p>

        <div class="algorithm" data-algorithm="take" data-algorithm-for="file entry/lock">
            要<dfn class="dfn-paneled" data-dfn-for="file entry/lock" data-dfn-type="dfn" data-noexport
                id="file-entry-lock-take">获取</dfn>给定文件条目的锁，<var>value</var>为“exclusive”或“shared”：
            <ol>
                <li>设 <var>lock</var> 为该文件的锁值。</li>
                <li>设 <var>count</var> 为该文件的共享锁数量。</li>
                <li>若 <var>value</var> 为“exclusive”：<ol>
                        <li>若 <var>lock</var> 为“open”：<ol>
                                <li>将 lock 设为“taken-exclusive”。</li>
                                <li>返回“success”。</li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>若 <var>value</var> 为“shared”：<ol>
                        <li>若 <var>lock</var> 为“open”：<ol>
                                <li>将 lock 设为“taken-shared”。</li>
                                <li>将 count 设为 1。</li>
                                <li>返回“success”。</li>
                            </ol>
                        </li>
                        <li>否则，若 <var>lock</var> 为“taken-shared”：<ol>
                                <li>将 count 加 1。</li>
                                <li>返回“success”。</li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>返回“failure”。</li>
            </ol>
            <p class="note" role="note"><span class="marker">注意：</span>这些步骤必须在文件系统队列中执行。</p>
        </div>

        <div class="algorithm" data-algorithm="release" data-algorithm-for="file entry/lock">
            要<dfn class="dfn-paneled" data-dfn-for="file entry/lock" data-dfn-type="dfn" data-noexport
                id="file-entry-lock-release">释放</dfn>给定文件条目的锁：
            <ol>
                <li>设 <var>lock</var> 为该文件的锁值。</li>
                <li>设 <var>count</var> 为该文件的共享锁数量。</li>
                <li>若 <var>lock</var> 为“taken-shared”：<ol>
                        <li>将 count 减 1。</li>
                        <li>若 count 为 0，将 lock 设为“open”。</li>
                    </ol>
                </li>
                <li>否则，将 lock 设为“open”。</li>
            </ol>
            <p class="note" role="note"><span class="marker">注意：</span>这些步骤必须在文件系统队列中执行。</p>
        </div>

        <p class="note" role="note"><span class="marker">注意：</span>锁用于防止文件的并发修改。<code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream">FileSystemWritableFileStream</a></code>
            需要共享锁，<code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle">FileSystemSyncAccessHandle</a></code>
            需要独占锁。</p>

        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="directory">目录条目</dfn>还包含一个子集（<dfn
                class="dfn-paneled" data-dfn-for="directory entry" data-dfn-type="dfn" data-noexport
                id="directory-entry-children">子条目</dfn>），每个子项都是文件系统条目，可以是文件条目或目录条目。</p>

        <p>文件系统条目 <var>entry</var> 应至多被一个目录条目的子条目包含，该目录条目被称为 <var>entry</var> 的<dfn class="dfn-paneled"
                data-dfn-for="file system entry" data-dfn-type="dfn" data-export
                id="entry-parent">父项</dfn>。若不存在这样的目录条目，则其父项为 null。</p>
        <p class="note" role="note"><span class="marker">注意：</span>不同的文件系统条目可表示磁盘上的同一文件或目录，因此两者可拥有不同父项，或一者有父项而另一者无。</p>

        <p>文件系统条目可以（但不必须）由宿主操作系统的本地文件系统上的实际文件支持，因此条目的二进制数据、修改时间戳、子条目等可能被此规范之外的应用修改。外部变化如何反映到此规范的数据结构，以及反之，留给具体实现决定。</p>

        <p>文件系统条目 <var>a</var>若等于 <var>b</var>，或二者由本地文件系统上的同一文件或目录支持，则<dfn class="dfn-paneled"
                data-dfn-for="file system entry" data-dfn-type="dfn" data-noexport
                id="file-system-entry-the-same-entry-as">为同一条目</dfn>。</p>

        <div class="algorithm" data-algorithm="resolve" data-algorithm-for="file system locator">
            <p>要<dfn class="dfn-paneled" data-dfn-for="file system locator" data-dfn-type="dfn" data-noexport
                    id="locator-resolve">解析</dfn>给定 <var>child</var> 相对于 <var>root</var> 的路径：</p>
            <ol>
                <li>设 <var>result</var> 为新建的 promise。</li>
                <li>将以下步骤加入文件系统队列：<ol>
                        <li>若 <var>child</var> 的 locator 的 root 不等于 <var>root</var> 的 locator 的 root，则 resolve
                            <var>result</var> 为 null，终止。
                        </li>
                        <li>设 <var>childPath</var> 为 <var>child</var> 的 locator 的 path。</li>
                        <li>设 <var>rootPath</var> 为 <var>root</var> 的 locator 的 path。</li>
                        <li>若 <var>childPath</var> 与 <var>rootPath</var> 为同一路径，则 resolve <var>result</var> 为空列表，终止。</li>
                        <li>若 <var>rootPath</var> 的长度大于 <var>childPath</var>，则 resolve <var>result</var> 为 null，终止。</li>
                        <li>对于 <var>rootPath</var> 的每个索引 index：若 <var>rootPath</var>[index] 不等于
                            <var>childPath</var>[index]，则 resolve <var>result</var> 为 null，终止。
                        </li>
                        <li>设 <var>relativePath</var> 为空列表。</li>
                        <li>对于 index 从 <var>rootPath</var> 长度到 <var>childPath</var> 长度（不含），将 <var>childPath</var>[index]
                            添加到
                            <var>relativePath</var>。
                        </li>
                        <li>resolve <var>result</var> 为 <var>relativePath</var>。</li>
                    </ol>
                <li>返回 <var>result</var>。</li>
            </ol>
        </div>

        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="file-system-locator">文件系统定位器</dfn>表示文件系统条目的一个可能位置。文件系统定位器可以是文件定位器或目录定位器。</p>
        <p>每个文件系统定位器有一个关联的<dfn class="dfn-paneled" data-dfn-for="file system locator" data-dfn-type="dfn" data-export
                id="locator-path">路径</dfn>（文件系统路径），<dfn class="dfn-paneled" data-dfn-for="file system locator"
                data-dfn-type="dfn" data-export id="locator-kind">类型</dfn>（FileSystemHandleKind），以及<dfn
                class="dfn-paneled" data-dfn-for="file system locator" data-dfn-type="dfn" data-export
                id="locator-root">根</dfn>（文件系统根）。</p>
        <p class="XXX" data-remote-issue-id="109"> 可考虑为每个定位器分配存储桶。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="file-locator">文件定位器</dfn>是类型为“file”的文件系统定位器。<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-export
                id="directory-locator">目录定位器</dfn>是类型为“directory”的文件系统定位器。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="file-system-root">文件系统根</dfn>是一个实现自定义的字符串。</p>
        <p class="example" id="example-locator"><a class="self-link" href="#example-locator"></a>假设一个文件系统定位器
            <var>locator</var> 定位到存储桶文件系统根目录下路径为 <code>data/drafts/example.txt</code> 的文件条目，<var>locator</var>
            的类型为“file”，路径为 [ "data", "drafts", "example.txt" ]，根可包含例如存储桶、磁盘驱动器等相关信息。
        </p>
        <p>如果 <var>a</var> 和 <var>b</var> 的类型、根和路径均相同，则<dfn class="dfn-paneled" data-dfn-for="file system locator"
                data-dfn-type="dfn" data-noexport id="file-system-locator-the-same-locator-as">为同一个定位器</dfn>。</p>

        <div class="algorithm" data-algorithm="locating an entry">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="locating an entry"
                    id="locating-an-entry">定位条目</dfn>算法，给定一个文件系统定位器 <var>locator</var>，执行如下实现自定义步骤，但需满足：</p>
            <ul>
                <li>若 <var>locator</var> 是文件定位器，返回文件条目或 null。</li>
                <li>若 <var>locator</var> 是目录定位器，返回目录条目或 null。</li>
                <li>如果返回非 null 条目，则：
                    <ul>
                        <li>获取 locator 得到 entry，且期间未有中间文件系统操作。</li>
                        <li>entry 的名称为 locator 路径的最后一个元素。</li>
                    </ul>
                </li>
            </ul>
        </div>

        <div class="algorithm" data-algorithm="getting the locator">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="getting the locator"
                    id="getting-the-locator">获取定位器</dfn>算法，给定文件系统条目 <var>entry</var>，执行如下实现自定义步骤，但需满足：</p>
            <ul>
                <li>若 entry 是文件条目，返回文件定位器。</li>
                <li>若 entry 是目录条目，返回目录定位器。</li>
                <li>若返回 locator，则定位 locator 得到 entry，且未有中间操作。</li>
                <li>entry 的名称为 locator 路径的最后一个元素。</li>
            </ul>
        </div>

        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="file-system-path">文件系统路径</dfn>是由一个或多个字符串组成的列表。可以是映射到磁盘实际位置或内存的虚拟路径，也可以直接对应本地文件系统路径，或根本不对应任何磁盘文件。其实际物理位置由实现决定。
        </p>
        <p class="example" id="example-path"><a class="self-link" href="#example-path"></a>令 <var>path</var> 为 [ "data",
            "drafts", "example.txt" ]。不要求磁盘上真的存在名为 example.txt 的文件。</p>
        <p>若 <var>a</var> 和 <var>b</var> 长度一致，且每个索引的元素均相等，则<dfn class="dfn-paneled" data-dfn-for="file system path"
                data-dfn-type="dfn" data-noexport id="file-system-path-the-same-path-as">为同一路径</dfn>。</p>

        <p class="warning"> 文件系统定位器的内容（包括路径）不应全部暴露给网站进程。只有当定位器后续被相对于父目录定位器“解析”时，网站才可能知晓路径组件。</p>
        <h3 class="heading settled" data-level="2.2" id="api-filesystemhandle"><span class="secno">2.2. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandle">FileSystemHandle</a></code>
                接口</span><a class="self-link" href="#api-filesystemhandle"></a></h3>
        <pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-filesystemhandlekind"><code><c- g>FileSystemHandleKind</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandleKind" data-dfn-type="enum-value" data-export id="dom-filesystemhandlekind-file"><code><c- s>"file"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandleKind" data-dfn-type="enum-value" data-export id="dom-filesystemhandlekind-directory"><code><c- s>"directory"</c-></code></dfn>,
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable" id="ref-for-serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="filesystemhandle"><code><c- g>FileSystemHandle</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-filesystemhandlekind" id="ref-for-enumdef-filesystemhandlekind①"><c- n>FileSystemHandleKind</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FileSystemHandleKind" href="#dom-filesystemhandle-kind" id="ref-for-dom-filesystemhandle-kind"><c- g>kind</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-filesystemhandle-name" id="ref-for-dom-filesystemhandle-name"><c- g>name</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemhandle-issameentry" id="ref-for-dom-filesystemhandle-issameentry"><c- g>isSameEntry</c-></a>(<a data-link-type="idl-name" href="#filesystemhandle" id="ref-for-filesystemhandle①"><c- n>FileSystemHandle</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandle/isSameEntry(other)" data-dfn-type="argument" data-export id="dom-filesystemhandle-issameentry-other-other"><code><c- g>other</c-></code></dfn>);
};
</pre>
        <p><code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandle②">FileSystemHandle</a></code>
            对象关联有一个 <dfn class="dfn-paneled" data-dfn-for="FileSystemHandle" data-dfn-type="dfn" data-export
                id="filesystemhandle-locator">定位器</dfn>（即文件系统定位器）。</p>
        <p class="note" role="note"><span class="marker">注意：</span>多个 <code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandle③">FileSystemHandle</a></code>
            对象可以具有相同的文件系统定位器。</p>
        <p>当 <code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandle④">FileSystemHandle</a></code>
            的定位器的路径第一个元素为空字符串时，该对象<dfn class="dfn-paneled" data-dfn-for="FileSystemHandle" data-dfn-type="dfn"
                data-export id="filesystemhandle-is-in-a-bucket-file-system">位于 bucket 文件系统中</dfn>。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 这是一个特殊约定，仅有 bucket 文件系统的根目录路径才会包含空字符串，见 <code
                class="idl"><a data-link-type="idl" href="#dom-storagemanager-getdirectory" id="ref-for-dom-storagemanager-getdirectory①">getDirectory()</a></code>。路径的其它元素必须是有效文件名。
        </p>
        <p class="XXX" data-remote-issue-id="109"> 可考虑为每个定位器分配存储桶以优化此设计。</p>

        <div class="algorithm" data-algorithm="serialization steps">
            <code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandle⑤">FileSystemHandle</a></code>
            对象是可序列化对象。
            <p>它们的序列化步骤如下，给定 <var>value</var>、<var>serialized</var> 和 <var>forStorage</var>：</p>
            <ol>
                <li>将 <var>serialized</var>.[[Origin]] 设为 <var>value</var> 的相关设置对象的源（origin）。</li>
                <li>将 <var>serialized</var>.[[Locator]] 设为 <var>value</var> 的定位器。</li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="deserialization steps">
            <p>它们的反序列化步骤如下，给定 <var>serialized</var> 和 <var>value</var>：</p>
            <ol>
                <li>如果 <var>serialized</var>.[[Origin]] 与 <var>value</var> 的相关设置对象的源（origin）不同源，则抛出 "<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#datacloneerror" id="ref-for-datacloneerror">DataCloneError</a></code>"
                    异常。</li>
                <li>将 <var>value</var> 的定位器设为 <var>serialized</var>.[[Locator]]。</li>
            </ol>
        </div>

        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemhandle-kind" id="ref-for-dom-filesystemhandle-kind①">kind</a></code>
                <dd data-md>
                    <p>如果 <var>handle</var> 是 <code
                            class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandle">FileSystemFileHandle</a></code>，则返回
                        "file"；如果是 <code
                            class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandle">FileSystemDirectoryHandle</a></code>，则返回
                        "directory"。可用于区分目录内容遍历时的文件与目录。</p>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemhandle-name" id="ref-for-dom-filesystemhandle-name①">name</a></code>
                <dd data-md>
                    <p>返回 <var>handle</var> 定位器路径的最后一个部分。</p>
            </dl>
        </div>

        <p><dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandle" data-dfn-type="attribute" data-export
                id="dom-filesystemhandle-kind"><code>kind</code></dfn> 的获取步骤：返回 <code>this</code> 的定位器的类型。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandle" data-dfn-type="attribute" data-export
                id="dom-filesystemhandle-name"><code>name</code></dfn> 的获取步骤：返回 <code>this</code> 的定位器路径的最后一个元素（字符串）。
        </p>
        <h4 class="heading settled" data-level="2.2.1" id="api-filesystemhandle-issameentry"><span
                class="secno">2.2.1.</span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemhandle-issameentry" id="ref-for-dom-filesystemhandle-issameentry①">isSameEntry()</a></code>
                方法</span><a class="self-link" href="#api-filesystemhandle-issameentry"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>same</var> = await <var>handle1</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemhandle-issameentry" id="ref-for-dom-filesystemhandle-issameentry②">isSameEntry</a></code>(<var>handle2</var>)
                <dd data-md>
                    <p>如果 <var>handle1</var> 和 <var>handle2</var> 表示同一个文件或目录，则返回 true。</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="isSameEntry(other)" data-algorithm-for="FileSystemHandle">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemHandle" data-dfn-type="method" data-export
                id="dom-filesystemhandle-issameentry"><code>isSameEntry(<var>other</var>)</code></dfn> 方法的实现步骤如下：
            <ol>
                <li>设 <var>realm</var> 为 <code>this</code> 的相关 Realm。</li>
                <li>设 <var>p</var> 为在 <var>realm</var> 中新建的 promise。</li>
                <li>将以下步骤加入文件系统队列：<ol>
                        <li>如果 <code>this</code> 的定位器与 <var>other</var> 的定位器为同一个定位器，resolve <var>p</var> 为 true。</li>
                        <li>否则，resolve <var>p</var> 为 false。</li>
                    </ol>
                <li>返回 <var>p</var>。</li>
            </ol>
        </div>

        <h3 class="heading settled" data-level="2.3" id="api-filesystemfilehandle"><span class="secno">2.3. </span><span
                class="content"><code
                    class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandle①">FileSystemFileHandle</a></code>
                接口</span><a class="self-link" href="#api-filesystemfilehandle"></a></h3>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-filesystemcreatewritableoptions"><code><c- g>FileSystemCreateWritableOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FileSystemCreateWritableOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-filesystemcreatewritableoptions-keepexistingdata"><code><c- g>keepExistingData</c-></code></dfn> = <c- b>false</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable" id="ref-for-serializable①"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="filesystemfilehandle"><code><c- g>FileSystemFileHandle</c-></code></dfn> : <a data-link-type="idl-name" href="#filesystemhandle" id="ref-for-filesystemhandle⑥"><c- n>FileSystemHandle</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-file" id="ref-for-dfn-file"><c- n>File</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-getfile" id="ref-for-dom-filesystemfilehandle-getfile"><c- g>getFile</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream①"><c- n>FileSystemWritableFileStream</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-createwritable" id="ref-for-dom-filesystemfilehandle-createwritable"><c- g>createWritable</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemcreatewritableoptions" id="ref-for-dictdef-filesystemcreatewritableoptions"><c- n>FileSystemCreateWritableOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemFileHandle/createWritable(options), FileSystemFileHandle/createWritable()" data-dfn-type="argument" data-export id="dom-filesystemfilehandle-createwritable-options-options"><code><c- g>options</c-></code></dfn> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle①"><c- n>FileSystemSyncAccessHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-createsyncaccesshandle" id="ref-for-dom-filesystemfilehandle-createsyncaccesshandle"><c- g>createSyncAccessHandle</c-></a>();
};
</pre>
        <p class="note" role="note"><span class="marker">注意：</span> <code
                class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandle②">FileSystemFileHandle</a></code>
            的定位器类型为 "file"。</p>

        <div class="algorithm" data-algorithm="creating a child FileSystemFileHandle">
            要<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="creating a child FileSystemFileHandle" data-noexport
                id="creating-a-child-filesystemfilehandle">创建子 <code>FileSystemFileHandle</code></dfn>，给定目录定位器
            <var>parentLocator</var> 和字符串 <var>name</var>（在 Realm <var>realm</var> 中）：
            <ol>
                <li>创建 <var>handle</var>，为 <var>realm</var> 中新的 <code
                        class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandle③">FileSystemFileHandle</a></code>。
                </li>
                <li>设 <var>childType</var> 为 "file"。</li>
                <li>设 <var>childRoot</var> 为 <var>parentLocator</var> 的根的副本。</li>
                <li>设 <var>childPath</var> 为 <var>parentLocator</var> 路径的克隆，并追加 <var>name</var>。</li>
                <li>将 <var>handle</var> 的定位器设为：类型为 <var>childType</var>，根为 <var>childRoot</var>，路径为 <var>childPath</var>
                    的文件系统定位器。</li>
                <li>返回 <var>handle</var>。</li>
            </ol>
        </div>

        <div class="algorithm" data-algorithm="creating a new FileSystemFileHandle">
            要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="creating a new FileSystemFileHandle"
                id="creating-a-new-filesystemfilehandle">创建新的 <code>FileSystemFileHandle</code></dfn>，给定文件系统根
            <var>root</var> 和文件系统路径 <var>path</var>（在 Realm <var>realm</var> 中）：
            <ol>
                <li>创建 <var>handle</var>，为 <var>realm</var> 中新的 <code
                        class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandle④">FileSystemFileHandle</a></code>。
                </li>
                <li>将 <var>handle</var> 的定位器设为：类型为 "file"，根为 <var>root</var>，路径为 <var>path</var> 的文件系统定位器。</li>
                <li>返回 <var>handle</var>。</li>
            </ol>
        </div>

        <p><code
                class="idl"><a data-link-type="idl" href="#filesystemfilehandle" id="ref-for-filesystemfilehandle⑤">FileSystemFileHandle</a></code>
            对象是可序列化对象，其序列化和反序列化步骤与 <code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandle⑦">FileSystemHandle</a></code>
            相同。</p>
        <h4 class="heading settled" data-level="2.3.1" id="api-filesystemfilehandle-getfile"><span
                class="secno">2.3.1.</span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-getfile" id="ref-for-dom-filesystemfilehandle-getfile①">getFile()</a></code>
                方法</span><a class="self-link" href="#api-filesystemfilehandle-getfile"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>file</var> = await <var>fileHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-getfile" id="ref-for-dom-filesystemfilehandle-getfile②">getFile()</a></code>
                <dd data-md>
                    <p>返回一个 <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-file" id="ref-for-dfn-file①">File</a></code>，表示
                        <var>handle</var> 的定位器所定位的文件条目在磁盘上的当前状态。如果该文件在调用后被更改或删除，返回的 <code
                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-file" id="ref-for-dfn-file②">File</a></code>
                        对象可能无法再读取。
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getFile()" data-algorithm-for="FileSystemFileHandle">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemFileHandle" data-dfn-type="method" data-export
                id="dom-filesystemfilehandle-getfile"><code>getFile()</code></dfn> 方法的实现步骤如下：
            <ol>
                <li>设 <var>result</var> 为新的 promise。</li>
                <li>设 <var>locator</var> 为 <code>this</code> 的定位器。</li>
                <li>设 <var>global</var> 为 <code>this</code> 的相关全局对象。</li>
                <li>将以下步骤加入文件系统队列：<ol>
                        <li>设 <var>entry</var> 为用 <var>locator</var> 定位的条目。</li>
                        <li>设 <var>accessResult</var> 为 <var>entry</var> 的“查询访问”算法结果，模式为 "read"。</li>
                        <li>队列一个存储任务（绑定 <var>global</var>）以执行以下步骤：<ol>
                                <li>如果 <var>accessResult</var> 的权限状态不是 "granted"，则以其错误名为参数 reject <var>result</var>，类型为
                                    <code
                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>，并终止。
                                </li>
                                <li>如果 <var>entry</var> 为 null，则以 "<code
                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror">NotFoundError</a></code>"
                                    DOMException reject <var>result</var>，并终止。</li>
                                <li>断言 <var>entry</var> 是文件条目。</li>
                                <li>创建新的 <code
                                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-file" id="ref-for-dfn-file③">File</a></code>
                                    对象 <var>f</var>。</li>
                                <li>将 <var>f</var> 的快照状态设为 <var>entry</var> 当前状态。</li>
                                <li>将 <var>f</var> 的底层字节序列设为 <var>entry</var> 的二进制数据的副本。</li>
                                <li>将 <var>f</var> 的 name 设为 <var>entry</var> 的名称。</li>
                                <li>将 <var>f</var> 的 lastModified 设为 <var>entry</var> 的修改时间戳。</li>
                                <li>将 <var>f</var> 的 type 设为实现自定义的值（例如基于 <var>entry</var> 的名称或扩展名）。</li>
                                <li>resolve <var>result</var> 为 <var>f</var>。</li>
                            </ol>
                    </ol>
                <li>返回 <var>result</var>。</li>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.3.2" id="api-filesystemfilehandle-createwritable"><span
                class="secno">2.3.2. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-createwritable" id="ref-for-dom-filesystemfilehandle-createwritable①">createWritable()</a></code>
                方法</span><a class="self-link" href="#api-filesystemfilehandle-createwritable"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>stream</var> = await <var>fileHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-createwritable" id="ref-for-dom-filesystemfilehandle-createwritable②">createWritable()</a></code>
                <dt data-md><var>stream</var> = await <var>fileHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-createwritable" id="ref-for-dom-filesystemfilehandle-createwritable③">createWritable</a></code>({<code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemcreatewritableoptions-keepexistingdata" id="ref-for-dom-filesystemcreatewritableoptions-keepexistingdata">keepExistingData</a></code>:
                    true/false })
                <dd data-md>
                    <p>返回一个 <code
                            class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream②">FileSystemWritableFileStream</a></code>，可用于写入文件。通过
                        <var>stream</var> 所做的更改，只有在流关闭后才会反映到 <var>fileHandle</var>
                        的定位器所定位的文件条目中。用户代理会尽量确保不会发生部分写入，即文件要么保持原内容，要么包含流关闭前写入的所有数据。
                    </p>
                    <p>通常实现方式为先将数据写入临时文件，只有在写入流关闭时才用临时文件替换原文件条目。</p>
                    <p>如果 <code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemcreatewritableoptions-keepexistingdata" id="ref-for-dom-filesystemcreatewritableoptions-keepexistingdata①">keepExistingData</a></code>
                        为 false 或未指定，则临时文件从空开始，否则会先复制原文件内容到临时文件。</p>
                    <p>创建 <code
                            class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream③">FileSystemWritableFileStream</a></code>
                        时会对目标文件条目获取共享锁，这会阻止在流关闭前为该条目创建 <code
                            class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle②">FileSystemSyncAccessHandle</a></code>。
                    </p>
                </dd>
            </dl>
        </div>
        <p class="XXX">关于 createWritable "inPlace" 模式的讨论，见 <a
                href="https://github.com/WICG/file-system-access/issues/67">WICG/file-system-access issue #67</a>。目前
            Chrome 尚未实现该功能，因与恶意软件检测等机制冲突。对于 bucket 文件系统，可用 <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle③">FileSystemSyncAccessHandle</a></code>
            接口实现原地写入。</p>

        <div class="algorithm" data-algorithm="createWritable(options)" data-algorithm-for="FileSystemFileHandle">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemFileHandle" data-dfn-type="method" data-export
                data-lt="createWritable(options)|createWritable()"
                id="dom-filesystemfilehandle-createwritable"><code>createWritable(<var>options</var>)</code></dfn>
            方法实现步骤如下：
            <ol>
                <li>设 <var>result</var> 为新的 promise。</li>
                <li>设 <var>locator</var> 为 <code>this</code> 的定位器。</li>
                <li>设 <var>realm</var> 为 <code>this</code> 的相关 Realm。</li>
                <li>设 <var>global</var> 为 <code>this</code> 的相关全局对象。</li>
                <li>将以下步骤加入文件系统队列：<ol>
                        <li>设 <var>entry</var> 为用 <var>locator</var> 定位的条目。</li>
                        <li>设 <var>accessResult</var> 为 <var>entry</var> 的“请求访问”算法结果，模式为 "readwrite"。</li>
                        <li>如果 <var>accessResult</var> 权限状态不是 "granted"，则队列存储任务（<var>global</var>）reject
                            <var>result</var>，异常类型为 <var>accessResult</var> 的错误名。
                        </li>
                        <li>如果 <var>entry</var> 为 null，则队列存储任务（<var>global</var>）reject <var>result</var>，异常类型为 "<code
                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror①">NotFoundError</a></code>"。
                        </li>
                        <li>断言 <var>entry</var> 是文件条目。</li>
                        <li>设 <var>lockResult</var> 为对 <var>entry</var> 获取“共享”锁的结果。</li>
                        <li>队列存储任务（<var>global</var>）执行：<ol>
                                <li>如果 <var>lockResult</var> 为 "failure"，则 reject <var>result</var>，异常类型为 "<code
                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#nomodificationallowederror" id="ref-for-nomodificationallowederror">NoModificationAllowedError</a></code>"。
                                </li>
                                <li>创建 <var>stream</var>，即为 <var>entry</var> 创建新的
                                    <code>FileSystemWritableFileStream</code>（在
                                    <var>realm</var> 中）。
                                </li>
                                <li>如果 <var>options</var>["keepExistingData"] 为 true，则将 <var>stream</var> 的 [[buffer]]
                                    设为
                                    <var>entry</var> 二进制数据的副本。
                                </li>
                                <li>resolve <var>result</var> 为 <var>stream</var>。</li>
                            </ol>
                    </ol>
                <li>返回 <var>result</var>。</li>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.3.3" id="api-filesystemfilehandle-createsyncaccesshandle"><span
                class="secno">2.3.3. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-createsyncaccesshandle" id="ref-for-dom-filesystemfilehandle-createsyncaccesshandle①">createSyncAccessHandle()</a></code>
                方法</span><a class="self-link" href="#api-filesystemfilehandle-createsyncaccesshandle"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> = await <var>fileHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemfilehandle-createsyncaccesshandle" id="ref-for-dom-filesystemfilehandle-createsyncaccesshandle②">createSyncAccessHandle</a></code>()
                <dd data-md>
                    <p>返回一个 <code
                            class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle④">FileSystemSyncAccessHandle</a></code>，可用于同步读写文件。通过
                        <var>handle</var> 所做的更改可能会立即反映到 <var>fileHandle</var> 的定位器所定位的文件条目中。可调用 flush 方法确保更改被写入文件。
                    </p>
                    <p>创建 <code
                            class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle⑤">FileSystemSyncAccessHandle</a></code>
                        时会对目标文件条目获取独占锁，在句柄关闭前，无法再为该条目创建 <code
                            class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle⑥">FileSystemSyncAccessHandle</a></code>
                        或 <code
                            class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream④">FileSystemWritableFileStream</a></code>。
                    </p>
                    <p>返回的 <code
                            class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle⑦">FileSystemSyncAccessHandle</a></code>
                        提供同步方法，适合如 WebAssembly 这类异步开销较大的场景。</p>
                    <p>目前，仅当 <var>fileHandle</var> 位于 bucket 文件系统时，该方法才会成功。</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="createSyncAccessHandle()" data-algorithm-for="FileSystemFileHandle">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemFileHandle" data-dfn-type="method" data-export
                id="dom-filesystemfilehandle-createsyncaccesshandle"><code>createSyncAccessHandle()</code></dfn>
            方法的实现步骤如下：
            <ol>
                <li>设 <var>result</var> 为新的 promise。</li>
                <li>设 <var>locator</var> 为 <code>this</code> 的定位器。</li>
                <li>设 <var>realm</var> 为 <code>this</code> 的相关 Realm。</li>
                <li>设 <var>global</var> 为 <code>this</code> 的相关全局对象。</li>
                <li>设 <var>isInABucketFileSystem</var>，若 <code>this</code> 位于 bucket 文件系统，则为 true，否则为 false。</li>
                <li>将以下步骤加入文件系统队列：<ol>
                        <li>设 <var>entry</var> 为用 <var>locator</var> 定位的条目。</li>
                        <li>设 <var>accessResult</var> 为 <var>entry</var> 的“请求访问”算法结果，模式为 "readwrite"。</li>
                        <li>如果 <var>accessResult</var> 权限状态不是 "granted"，则队列存储任务（<var>global</var>）reject
                            <var>result</var>，异常类型为 <var>accessResult</var> 的错误名。
                        </li>
                        <li>如果 <var>isInABucketFileSystem</var> 为 false，则队列存储任务（<var>global</var>）reject
                            <var>result</var>，异常类型为 "<code
                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>"。
                        </li>
                        <li>如果 <var>entry</var> 为 null，则队列存储任务（<var>global</var>）reject <var>result</var>，异常类型为 "<code
                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror②">NotFoundError</a></code>"。
                        </li>
                        <li>断言 <var>entry</var> 是文件条目。</li>
                        <li>设 <var>lockResult</var> 为对 <var>entry</var> 获取“独占”锁的结果。</li>
                        <li>队列存储任务（<var>global</var>）执行：<ol>
                                <li>如果 <var>lockResult</var> 为 "failure"，则 reject <var>result</var>，异常类型为 "<code
                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#nomodificationallowederror" id="ref-for-nomodificationallowederror①">NoModificationAllowedError</a></code>"。
                                </li>
                                <li>创建 <var>handle</var>，即为 <var>entry</var> 创建新的
                                    <code>FileSystemSyncAccessHandle</code>（在
                                    <var>realm</var> 中）。
                                </li>
                                <li>resolve <var>result</var> 为 <var>handle</var>。</li>
                            </ol>
                    </ol>
                <li>返回 <var>result</var>。</li>
            </ol>
        </div>

        <h3 class="heading settled" data-level="2.4" id="api-filesystemdirectoryhandle"><span class="secno">2.4.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandle①">FileSystemDirectoryHandle</a></code>
                接口</span><a class="self-link" href="#api-filesystemdirectoryhandle"></a></h3>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-filesystemgetfileoptions"><code><c- g>FileSystemGetFileOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FileSystemGetFileOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-filesystemgetfileoptions-create"><code><c- g>create</c-></code></dfn> = <c- b>false</c->;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-filesystemgetdirectoryoptions"><code><c- g>FileSystemGetDirectoryOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FileSystemGetDirectoryOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-filesystemgetdirectoryoptions-create"><code><c- g>create</c-></code></dfn> = <c- b>false</c->;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-filesystemremoveoptions"><code><c- g>FileSystemRemoveOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean④"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FileSystemRemoveOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-filesystemremoveoptions-recursive"><code><c- g>recursive</c-></code></dfn> = <c- b>false</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable" id="ref-for-serializable②"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="filesystemdirectoryhandle"><code><c- g>FileSystemDirectoryHandle</c-></code></dfn> : <a data-link-type="idl-name" href="#filesystemhandle" id="ref-for-filesystemhandle⑧"><c- n>FileSystemHandle</c-></a> {
  <c- b>async</c-> <c- b>iterable</c->&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a>, <a data-link-type="idl-name" href="#filesystemhandle" id="ref-for-filesystemhandle⑨"><c- n>FileSystemHandle</c-></a>>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemfilehandle" id="ref-for-filesystemfilehandle⑥"><c- n>FileSystemFileHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-getfilehandle" id="ref-for-dom-filesystemdirectoryhandle-getfilehandle"><c- g>getFileHandle</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/getFileHandle(name, options), FileSystemDirectoryHandle/getFileHandle(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-getfilehandle-name-options-name"><code><c- g>name</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemgetfileoptions" id="ref-for-dictdef-filesystemgetfileoptions"><c- n>FileSystemGetFileOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/getFileHandle(name, options), FileSystemDirectoryHandle/getFileHandle(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-getfilehandle-name-options-options"><code><c- g>options</c-></code></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandle②"><c- n>FileSystemDirectoryHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-getdirectoryhandle" id="ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle"><c- g>getDirectoryHandle</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/getDirectoryHandle(name, options), FileSystemDirectoryHandle/getDirectoryHandle(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-name"><code><c- g>name</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemgetdirectoryoptions" id="ref-for-dictdef-filesystemgetdirectoryoptions"><c- n>FileSystemGetDirectoryOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/getDirectoryHandle(name, options), FileSystemDirectoryHandle/getDirectoryHandle(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-removeentry" id="ref-for-dom-filesystemdirectoryhandle-removeentry"><c- g>removeEntry</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/removeEntry(name, options), FileSystemDirectoryHandle/removeEntry(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-removeentry-name-options-name"><code><c- g>name</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemremoveoptions" id="ref-for-dictdef-filesystemremoveoptions"><c- n>FileSystemRemoveOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/removeEntry(name, options), FileSystemDirectoryHandle/removeEntry(name)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-removeentry-name-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑤"><c- b>USVString</c-></a>>?> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-resolve" id="ref-for-dom-filesystemdirectoryhandle-resolve"><c- g>resolve</c-></a>(<a data-link-type="idl-name" href="#filesystemhandle" id="ref-for-filesystemhandle①⓪"><c- n>FileSystemHandle</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle/resolve(possibleDescendant)" data-dfn-type="argument" data-export id="dom-filesystemdirectoryhandle-resolve-possibledescendant-possibledescendant"><code><c- g>possibleDescendant</c-></code></dfn>);
};
</pre>
        <p class="note" role="note"><span class="marker">注意：</span> <code
                class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandle③">FileSystemDirectoryHandle</a></code>
            的定位器类型为 "directory"。</p>

        <div class="algorithm" data-algorithm="creating a child FileSystemDirectoryHandle">
            要<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="creating a child FileSystemDirectoryHandle"
                data-noexport id="creating-a-child-filesystemdirectoryhandle">创建子
                <code>FileSystemDirectoryHandle</code></dfn>，给定目录定位器 <var>parentLocator</var> 和字符串 <var>name</var>（在
            Realm <var>realm</var> 中）：
            <ol>
                <li>创建 <var>handle</var>，为 <var>realm</var> 中新的 <code
                        class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandle④">FileSystemDirectoryHandle</a></code>。
                </li>
                <li>设 <var>childType</var> 为 "directory"。</li>
                <li>设 <var>childRoot</var> 为 <var>parentLocator</var> 的根的副本。</li>
                <li>设 <var>childPath</var> 为 <var>parentLocator</var> 路径的克隆，并追加 <var>name</var>。</li>
                <li>将 <var>handle</var> 的定位器设为：类型为 <var>childType</var>，根为 <var>childRoot</var>，路径为 <var>childPath</var>
                    的文件系统定位器。</li>
                <li>返回 <var>handle</var>。</li>
            </ol>
        </div>

        <div class="algorithm" data-algorithm="creating a new FileSystemDirectoryHandle">
            要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="creating a new FileSystemDirectoryHandle"
                id="creating-a-new-filesystemdirectoryhandle">创建新的 <code>FileSystemDirectoryHandle</code></dfn>，给定文件系统根
            <var>root</var> 和文件系统路径 <var>path</var>（在 Realm <var>realm</var> 中）：
            <ol>
                <li>创建 <var>handle</var>，为 <var>realm</var> 中新的 <code
                        class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandle⑤">FileSystemDirectoryHandle</a></code>。
                </li>
                <li>将 <var>handle</var> 的定位器设为：类型为 "directory"，根为 <var>root</var>，路径为 <var>path</var> 的文件系统定位器。</li>
                <li>返回 <var>handle</var>。</li>
            </ol>
        </div>

        <p><code
                class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandle⑥">FileSystemDirectoryHandle</a></code>
            对象是可序列化对象，其序列化和反序列化步骤与 <code
                class="idl"><a data-link-type="idl" href="#filesystemhandle" id="ref-for-filesystemhandle①①">FileSystemHandle</a></code>
            相同。</p>
        <h4 class="heading settled" data-level="2.4.1" id="api-filesystemdirectoryhandle-asynciterable"><span
                class="secno">2.4.1. </span><span class="content">目录遍历</span><a class="self-link"
                href="#api-filesystemdirectoryhandle-asynciterable"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md>for await (let [<var>name</var>, <var>handle</var>] of <var>directoryHandle</var>) {}
                <dt data-md>for await (let [<var>name</var>, <var>handle</var>] of <var>directoryHandle</var> .
                    entries()) {}
                <dt data-md>for await (let <var>handle</var> of <var>directoryHandle</var> . values()) {}
                <dt data-md>for await (let <var>name</var> of <var>directoryHandle</var> . keys()) {}
                <dd data-md>
                    <p>遍历所有父项为 <var>directoryHandle</var> 的定位器所定位的目录条目的子项。遍历过程中创建或删除的条目可能会被包含或不被包含，不做保证。</p>
            </dl>
        </div>
        <p class="XXX" data-remote-issue-id="15">未来可能会为异步可迭代器声明添加参数，例如递归遍历。</p>

        <div class="algorithm" data-algorithm="iterator initialization">
            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps"
                id="ref-for-asynchronous-iterator-initialization-steps">异步迭代器初始化步骤</a>，针对 <code
                class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandle⑦">FileSystemDirectoryHandle</a></code>
            <var>handle</var> 及其异步迭代器 <var>iterator</var>：
            <ol>
                <li>将 <var>iterator</var> 的“<dfn class="dfn-paneled" data-dfn-for="FileSystemDirectoryHandle-iterator"
                        data-dfn-type="dfn" data-noexport
                        id="filesystemdirectoryhandle-iterator-past-results">已访问结果</dfn>”设为空集合。</li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="next iteration result">
            要为 <code
                class="idl"><a data-link-type="idl" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandle⑧">FileSystemDirectoryHandle</a></code>
            <var>handle</var> 及其异步迭代器 <var>iterator</var> <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result"
                id="ref-for-dfn-get-the-next-iteration-result">获取下一个迭代结果</a>，步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>promise</var> 为<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑤">新建的
                            promise</a>。</p>
                <li data-md>
                    <p>将以下步骤<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-steps⑤">入队</a>到<a data-link-type="dfn"
                            href="#file-system-queue" id="ref-for-file-system-queue⑧">文件系统队列</a>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>directory</var> 为<a data-link-type="dfn" href="#locating-an-entry"
                                    id="ref-for-locating-an-entry①②">定位条目</a>（用 <var>handle</var> 的 <a
                                    data-link-type="dfn" href="#filesystemhandle-locator"
                                    id="ref-for-filesystemhandle-locator②⑧">locator</a>）的结果。</p>
                        <li data-md>
                            <p>令 <var>accessResult</var> 为 <var>directory</var> 的 <a data-link-type="dfn"
                                    href="#entry-query-access" id="ref-for-entry-query-access④">查询访问</a>（参数为
                                "<code>read</code>"）的结果。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-task⑨">入队存储任务</a>（在 <var>handle</var> 的 <a
                                    data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-global③">相关全局对象</a> 上）以执行以下步骤：</p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>accessResult</var> 的<a data-link-type="dfn"
                                            href="#file-system-access-result-permission-state"
                                            id="ref-for-file-system-access-result-permission-state⑦">权限状态</a>不是 "<code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted⑤">granted</a></code>"，则<a
                                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject①⓪">拒绝</a> <var>promise</var>，错误为 <var>accessResult</var>
                                        的<a data-link-type="dfn" href="#file-system-access-result-error-name"
                                            id="ref-for-file-system-access-result-error-name⑥">error name</a> 的 <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⓪">DOMException</a></code>，终止这些步骤。
                                    </p>
                                <li data-md>
                                    <p>如果 <var>directory</var> 为 <code>null</code>，<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①①">拒绝</a>
                                        <var>promise</var>，错误为 "<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror③">NotFoundError</a></code>"
                                        的 <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①①">DOMException</a></code>，终止这些步骤。
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                                    id="ref-for-assert③">断言</a>：<var>directory</var> 是<a
                                                    data-link-type="dfn" href="#directory"
                                                    id="ref-for-directory⑥">目录条目</a>。</p>
                                    </ol>
                                <li data-md>
                                    <p>令 <var>child</var> 为 <var>directory</var> 的 <a data-link-type="dfn"
                                            href="#directory-entry-children"
                                            id="ref-for-directory-entry-children②">children</a> 中不在 <var>iterator</var>
                                        的 <a data-link-type="dfn"
                                            href="#filesystemdirectoryhandle-iterator-past-results"
                                            id="ref-for-filesystemdirectoryhandle-iterator-past-results">past
                                            results</a> 中的、名字为 <a data-link-type="dfn" href="#entry-name"
                                            id="ref-for-entry-name④">name</a> 的<a data-link-type="dfn" href="#entry"
                                            id="ref-for-entry①⑤">文件系统条目</a>；如果不存在则为 <code>null</code>。</p>
                                    <p class="note" role="note"><span class="marker">注意：</span>
                                        此处有意未指定遍历顺序，不同平台文件系统实现和返回顺序不同，规范不保证遍历顺序。</p>
                                <li data-md>
                                    <p>如果 <var>child</var> 为 <code>null</code>，则 <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve①⓪">resolve</a> <var>promise</var>，值为
                                        <code>undefined</code>，终止这些步骤。
                                    </p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                                            id="ref-for-set-append">追加</a> <var>child</var> 的 <a data-link-type="dfn"
                                            href="#entry-name" id="ref-for-entry-name⑤">name</a> 到 <var>iterator</var> 的
                                        <a data-link-type="dfn" href="#filesystemdirectoryhandle-iterator-past-results"
                                            id="ref-for-filesystemdirectoryhandle-iterator-past-results①">past
                                            results</a>。
                                    </p>
                                <li data-md>
                                    <p>如果 <var>child</var> 是<a data-link-type="dfn" href="#file"
                                            id="ref-for-file①⑥">文件条目</a>：</p>
                                    <ol>
                                        <li data-md>
                                            <p>令 <var>result</var> 为<a data-link-type="dfn"
                                                    href="#creating-a-child-filesystemfilehandle"
                                                    id="ref-for-creating-a-child-filesystemfilehandle">创建子
                                                    <code>FileSystemFileHandle</code></a> 的结果，参数为 <var>handle</var> 的 <a
                                                    data-link-type="dfn" href="#filesystemhandle-locator"
                                                    id="ref-for-filesystemhandle-locator②⑨">locator</a> 和
                                                <var>child</var> 的 <a data-link-type="dfn" href="#entry-name"
                                                    id="ref-for-entry-name⑥">name</a>，作用域为 <var>handle</var> 的 <a
                                                    data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                                    id="ref-for-concept-relevant-realm③">相关 Realm</a>。
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p>否则：</p>
                                    <ol>
                                        <li data-md>
                                            <p>令 <var>result</var> 为<a data-link-type="dfn"
                                                    href="#creating-a-child-filesystemdirectoryhandle"
                                                    id="ref-for-creating-a-child-filesystemdirectoryhandle">创建子
                                                    <code>FileSystemDirectoryHandle</code></a> 的结果，参数为 <var>handle</var>
                                                的 <a data-link-type="dfn" href="#filesystemhandle-locator"
                                                    id="ref-for-filesystemhandle-locator③⓪">locator</a> 和
                                                <var>child</var> 的 <a data-link-type="dfn" href="#entry-name"
                                                    id="ref-for-entry-name⑦">name</a>，作用域为 <var>handle</var> 的 <a
                                                    data-link-type="dfn"
                                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                                    id="ref-for-concept-relevant-realm④">相关 Realm</a>。
                                            </p>
                                    </ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                            id="ref-for-resolve①①">resolve</a> <var>promise</var>，值为 (<var>child</var> 的
                                        <a data-link-type="dfn" href="#entry-name" id="ref-for-entry-name⑧">name</a>,
                                        <var>result</var>)。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>返回 <var>promise</var>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.4.2" id="api-filesystemdirectoryhandle-getfilehandle"><span
                class="secno">2.4.2. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getfilehandle" id="ref-for-dom-filesystemdirectoryhandle-getfilehandle①">getFileHandle()</a></code>
                方法</span><a class="self-link" href="#api-filesystemdirectoryhandle-getfilehandle"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>fileHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getfilehandle" id="ref-for-dom-filesystemdirectoryhandle-getfilehandle②">getFileHandle</a></code>(<var>name</var>)
                <dt data-md><var>fileHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getfilehandle" id="ref-for-dom-filesystemdirectoryhandle-getfilehandle③">getFileHandle</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemgetfileoptions-create" id="ref-for-dom-filesystemgetfileoptions-create">create</a></code>:
                    false })
                <dd data-md>
                    <p>返回 <var>directoryHandle</var> 的定位器所定位的目录条目下名为 <var>name</var> 的文件句柄。如果文件不存在，则 promise 拒绝。</p>
                <dt data-md><var>fileHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getfilehandle" id="ref-for-dom-filesystemdirectoryhandle-getfilehandle④">getFileHandle</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemgetfileoptions-create" id="ref-for-dom-filesystemgetfileoptions-create①">create</a></code>:
                    true })
                <dd data-md>
                    <p>返回 <var>directoryHandle</var> 的定位器所定位的目录条目下名为 <var>name</var> 的文件句柄。如果文件不存在则新建文件，如果无法创建则 promise
                        拒绝（如同名目录已存在、文件名非法，或出于安全原因禁止创建）。</p>
                    <p>此操作需要写权限，即使目标文件已存在。如果当前句柄无写权限，可能会弹出权限请求提示。若只需只读访问且无需写权限，可调用 <code>{ create: false }</code>。</p>
                </dd>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getFileHandle(name, options)"
            data-algorithm-for="FileSystemDirectoryHandle">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle" data-dfn-type="method"
                data-export data-lt="getFileHandle(name, options)|getFileHandle(name)"
                id="dom-filesystemdirectoryhandle-getfilehandle"><code>getFileHandle(<var>name</var>, <var>options</var>)</code></dfn>
            方法实现步骤如下：
            <ol>
                <li>设 <var>result</var> 为新的 promise。</li>
                <li>设 <var>realm</var> 为 <code>this</code> 的相关 Realm。</li>
                <li>设 <var>locator</var> 为 <code>this</code> 的定位器。</li>
                <li>设 <var>global</var> 为 <code>this</code> 的相关全局对象。</li>
                <li>将以下步骤加入文件系统队列：<ol>
                        <li>若 <var>name</var> 不是有效文件名，则队列存储任务（<var>global</var>）reject <var>result</var>，异常类型为
                            TypeError，并终止。</li>
                        <li>设 <var>entry</var> 为用 <var>locator</var> 定位的条目。</li>
                        <li>若 <var>options</var>["create"] 为 true，则：<ol>
                                <li>设 <var>accessResult</var> 为 <var>entry</var> 的“请求访问”算法结果（模式 "readwrite"）。</li>
                            </ol>
                        <li>否则：<ol>
                                <li>设 <var>accessResult</var> 为 <var>entry</var> 的“查询访问”算法结果（模式 "read"）。</li>
                            </ol>
                        <li>队列一个存储任务（<var>global</var>）以执行：<ol>
                                <li>如果 <var>accessResult</var> 权限状态不是 "granted"，则 reject <var>result</var>，异常类型为
                                    <var>accessResult</var> 的错误名，并终止。
                                </li>
                                <li>如果 <var>entry</var> 为 null，则 reject <var>result</var>，异常类型为 NotFoundError，并终止。</li>
                                <li>断言 <var>entry</var> 是目录条目。</li>
                                <li>遍历 <var>entry</var> 的子项：<ol>
                                        <li>若 <var>child</var> 的 name 等于 <var>name</var>：<ol>
                                                <li>若 <var>child</var> 是目录条目，则 reject <var>result</var>，异常类型为
                                                    TypeMismatchError，并终止。
                                                </li>
                                                <li>resolve <var>result</var> 为用 <var>locator</var> 和 <var>child</var> 的
                                                    name 在
                                                    <var>realm</var> 下创建的子 <code>FileSystemFileHandle</code>，并终止。
                                                </li>
                                            </ol>
                                    </ol>
                                <li>若 <var>options</var>["create"] 为 false，则 reject <var>result</var>，异常类型为
                                    NotFoundError，并终止。
                                </li>
                                <li>新建 <var>child</var>，类型为文件条目，其“查询访问”与“请求访问”算法继承自 <var>entry</var>。</li>
                                <li>将 <var>child</var> 的 name 设为 <var>name</var>。</li>
                                <li>将 <var>child</var> 的二进制数据设为空字节序列。</li>
                                <li>将 <var>child</var> 的修改时间戳设为当前时间。</li>
                                <li>将 <var>child</var> 添加到 <var>entry</var> 的子项集合中。</li>
                                <li>如果底层文件系统创建 <var>child</var> 时抛出异常，则 reject <var>result</var> 并终止。</li>
                                <li>resolve <var>result</var> 为用 <var>locator</var> 和 <var>child</var> 的 name 在
                                    <var>realm</var>
                                    下创建的子 <code>FileSystemFileHandle</code>。
                                </li>
                            </ol>
                    </ol>
                <li>返回 <var>result</var>。</li>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.4.3" id="api-filesystemdirectoryhandle-getdirectoryhandle"><span
                class="secno">2.4.3. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getdirectoryhandle" id="ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle①">getDirectoryHandle()</a></code>
                方法</span><a class="self-link" href="#api-filesystemdirectoryhandle-getdirectoryhandle"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>subdirHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getdirectoryhandle" id="ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle②">getDirectoryHandle</a></code>(<var>name</var>)
                <dt data-md><var>subdirHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getdirectoryhandle" id="ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle③">getDirectoryHandle</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemgetdirectoryoptions-create" id="ref-for-dom-filesystemgetdirectoryoptions-create">create</a></code>:
                    false })
                <dd data-md>
                    <p>返回 <var>directoryHandle</var> 的定位器所定位的目录条目下名为 <var>name</var> 的子目录句柄。如果该目录不存在，则 promise 拒绝。</p>
                <dt data-md><var>subdirHandle</var> = await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-getdirectoryhandle" id="ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle④">getDirectoryHandle</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemgetdirectoryoptions-create" id="ref-for-dom-filesystemgetdirectoryoptions-create①">create</a></code>:
                    true })
                <dd data-md>
                    <p>返回 <var>directoryHandle</var> 的定位器所定位的目录条目下名为 <var>name</var>
                        的子目录句柄。如果该目录不存在则新建目录，若无法创建（如同名文件已存在或名称非法）则 promise 拒绝。</p>
                    <p>此操作需要写权限，即使目标目录已存在。如果当前句柄无写权限，可能会弹出权限请求提示。若仅需只读访问可调用 <code>{ create: false }</code>。</p>
                </dd>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getDirectoryHandle(name, options)"
            data-algorithm-for="FileSystemDirectoryHandle">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle" data-dfn-type="method"
                data-export data-lt="getDirectoryHandle(name, options)|getDirectoryHandle(name)"
                id="dom-filesystemdirectoryhandle-getdirectoryhandle"><code>getDirectoryHandle(<var>name</var>, <var>options</var>)</code></dfn>
            方法实现步骤如下：
            <ol>
                <li>设 <var>result</var> 为新的 promise。</li>
                <li>设 <var>realm</var> 为 <code>this</code> 的相关 Realm。</li>
                <li>设 <var>locator</var> 为 <code>this</code> 的定位器。</li>
                <li>设 <var>global</var> 为 <code>this</code> 的相关全局对象。</li>
                <li>将以下步骤加入文件系统队列：<ol>
                        <li>若 <var>name</var> 不是有效文件名，则队列存储任务（<var>global</var>）reject <var>result</var>，异常类型为
                            TypeError，并终止。</li>
                        <li>设 <var>entry</var> 为用 <var>locator</var> 定位的条目。</li>
                        <li>若 <var>options</var>["create"] 为 true，则：<ol>
                                <li>设 <var>accessResult</var> 为 <var>entry</var> 的“请求访问”算法结果（模式 "readwrite"）。</li>
                            </ol>
                        <li>否则：<ol>
                                <li>设 <var>accessResult</var> 为 <var>entry</var> 的“查询访问”算法结果（模式 "read"）。</li>
                            </ol>
                        <li>队列一个存储任务（<var>global</var>）以执行：<ol>
                                <li>如果 <var>accessResult</var> 权限状态不是 "granted"，则 reject <var>result</var>，异常类型为
                                    <var>accessResult</var> 的错误名，并终止。
                                </li>
                                <li>如果 <var>entry</var> 为 null，则 reject <var>result</var>，异常类型为 NotFoundError，并终止。</li>
                                <li>断言 <var>entry</var> 是目录条目。</li>
                                <li>遍历 <var>entry</var> 的子项：<ol>
                                        <li>若 <var>child</var> 的 name 等于 <var>name</var>：<ol>
                                                <li>若 <var>child</var> 是文件条目，则 reject <var>result</var>，异常类型为
                                                    TypeMismatchError，并终止。
                                                </li>
                                                <li>resolve <var>result</var> 为用 <var>locator</var> 和 <var>child</var> 的
                                                    name 在
                                                    <var>realm</var> 下创建的子 <code>FileSystemDirectoryHandle</code>，并终止。
                                                </li>
                                            </ol>
                                    </ol>
                                <li>若 <var>options</var>["create"] 为 false，则 reject <var>result</var>，异常类型为
                                    NotFoundError，并终止。
                                </li>
                                <li>新建 <var>child</var>，类型为目录条目，其“查询访问”与“请求访问”算法继承自 <var>entry</var>。</li>
                                <li>将 <var>child</var> 的 name 设为 <var>name</var>。</li>
                                <li>将 <var>child</var> 的 children 设为空集合。</li>
                                <li>将 <var>child</var> 添加到 <var>entry</var> 的子项集合中。</li>
                                <li>如果底层文件系统创建 <var>child</var> 时抛出异常，则 reject <var>result</var> 并终止。</li>
                                <li>resolve <var>result</var> 为用 <var>locator</var> 和 <var>child</var> 的 name 在
                                    <var>realm</var>
                                    下创建的子 <code>FileSystemDirectoryHandle</code>。
                                </li>
                            </ol>
                    </ol>
                <li>返回 <var>result</var>。</li>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.4.4" id="api-filesystemdirectoryhandle-removeentry"><span
                class="secno">2.4.4. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-removeentry" id="ref-for-dom-filesystemdirectoryhandle-removeentry①">removeEntry()</a></code>
                方法</span><a class="self-link" href="#api-filesystemdirectoryhandle-removeentry"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md>await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-removeentry" id="ref-for-dom-filesystemdirectoryhandle-removeentry②">removeEntry</a></code>(<var>name</var>)
                <dt data-md>await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-removeentry" id="ref-for-dom-filesystemdirectoryhandle-removeentry③">removeEntry</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemremoveoptions-recursive" id="ref-for-dom-filesystemremoveoptions-recursive">recursive</a></code>:
                    false })
                <dd data-md>
                    <p>如果 <var>directoryHandle</var> 的定位器所定位的目录条目包含名为 <var>name</var> 的文件，或空目录，则尝试删除该文件或目录。</p>
                    <p>删除不存在的文件或目录视为成功；尝试删除非空目录会导致 promise 拒绝。</p>
                <dt data-md>await <var>directoryHandle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-removeentry" id="ref-for-dom-filesystemdirectoryhandle-removeentry④">removeEntry</a></code>(<var>name</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemremoveoptions-recursive" id="ref-for-dom-filesystemremoveoptions-recursive①">recursive</a></code>:
                    true })
                <dd data-md>
                    <p>删除 <var>directoryHandle</var> 的定位器所定位的目录条目下名为 <var>name</var> 的文件系统条目。如果该条目为目录，将递归删除其所有内容。</p>
                    <p>删除不存在的文件或目录视为成功。</p>
                </dd>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="removeEntry(name, options)"
            data-algorithm-for="FileSystemDirectoryHandle">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle" data-dfn-type="method"
                data-export data-lt="removeEntry(name, options)|removeEntry(name)"
                id="dom-filesystemdirectoryhandle-removeentry"><code>removeEntry(<var>name</var>, <var>options</var>)</code></dfn>
            方法实现步骤如下：
            <ol>
                <li>设 <var>result</var> 为新的 promise。</li>
                <li>设 <var>locator</var> 为 <code>this</code> 的定位器。</li>
                <li>设 <var>global</var> 为 <code>this</code> 的相关全局对象。</li>
                <li>将以下步骤加入文件系统队列：<ol>
                        <li>若 <var>name</var> 不是有效文件名，则队列存储任务（<var>global</var>）reject <var>result</var>，异常类型为
                            TypeError，并终止。</li>
                        <li>设 <var>entry</var> 为用 <var>locator</var> 定位的条目。</li>
                        <li>设 <var>accessResult</var> 为 <var>entry</var> 的“请求访问”算法结果（模式 "readwrite"）。</li>
                        <li>队列一个存储任务（<var>global</var>）以执行：<ol>
                                <li>如果 <var>accessResult</var> 权限状态不是 "granted"，则 reject <var>result</var>，异常类型为
                                    <var>accessResult</var> 的错误名，并终止。
                                </li>
                                <li>如果 <var>entry</var> 为 null，则 reject <var>result</var>，异常类型为 NotFoundError，并终止。</li>
                                <li>断言 <var>entry</var> 是目录条目。</li>
                                <li>遍历 <var>entry</var> 的子项：<ol>
                                        <li>若 <var>child</var> 的 name 等于 <var>name</var>：<ol>
                                                <li>如果 <var>child</var> 是目录条目：
                                                    <ol>
                                                        <li>如果 <var>child</var> 的 children 不为空且
                                                            <var>options</var>["recursive"]
                                                            为
                                                            false，则
                                                            reject <var>result</var>，异常类型为 InvalidModificationError，并终止。
                                                        </li>
                                                    </ol>
                                                <li>从 <var>entry</var> 的 children 中移除 <var>child</var>。</li>
                                                <li>如果底层文件系统移除 <var>child</var> 时抛出异常，则 reject <var>result</var> 并终止。
                                                </li>
                                                <li>resolve <var>result</var> 为 undefined。</li>
                                            </ol>
                                    </ol>
                                <li>若未找到 <var>name</var>，则 reject <var>result</var>，异常类型为 NotFoundError。</li>
                            </ol>
                    </ol>
                <li>返回 <var>result</var>。</li>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.4.5" id="api-filesystemdirectoryhandle-resolve"><span
                class="secno">2.4.5. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-resolve" id="ref-for-dom-filesystemdirectoryhandle-resolve①">resolve()</a></code>
                方法</span><a class="self-link" href="#api-filesystemdirectoryhandle-resolve"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>path</var> = await <var>directory</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemdirectoryhandle-resolve" id="ref-for-dom-filesystemdirectoryhandle-resolve②">resolve</a></code>(<var>child</var>)
                <dd data-md>
                    <p>如果 <var>child</var> 等于 <var>directory</var>，则 <var>path</var> 是空数组。</p>
                <dd data-md>
                    <p>如果 <var>child</var> 是 <var>directory</var> 的直接子项，则 <var>path</var> 是包含 <var>child</var> 名称的数组。
                    </p>
                <dd data-md>
                    <p>如果 <var>child</var> 是 <var>directory</var> 的后代，则 <var>path</var> 是包含所有中间目录及 <var>child</var>
                        名称（作为最后一个元素）的数组。例如，若 <var>directory</var> 表示 <code>/home/user/project</code>，<var>child</var> 表示
                        <code>/home/user/project/foo/bar</code>，则返回 <code>['foo', 'bar']</code>。
                    </p>
                <dd data-md>
                    <p>否则（<var>directory</var> 与 <var>child</var> 无父子关系），<var>path</var> 为 null。</p>
            </dl>
        </div>
        <div class="example" id="filesystemdirectoryhandle-resolve-example">
            <a class="self-link" href="#filesystemdirectoryhandle-resolve-example"></a>
            <pre class="highlight"><c- c1>// 假设已获得有效目录句柄。</c->
<c- a>const</c-> dir_ref <c- o>=</c-> current_project_dir<c- p>;</c->
<c- k>if</c-> <c- p>(</c-><c- o>!</c->dir_ref<c- p>)</c-> <c- k>return</c-><c- p>;</c->

<c- c1>// 获取文件句柄：</c->
<c- a>const</c-> file_ref <c- o>=</c-> <c- k>await</c-> dir_ref<c- p>.</c->getFileHandle<c- p>(</c->filename<c- p>,</c-> <c- p>{</c-> create<c- o>:</c-> <c- kc>true</c-> <c- p>});</c->

<c- c1>// 检查 file_ref 是否位于 dir_ref 内：</c->
<c- a>const</c-> relative_path <c- o>=</c-> <c- k>await</c-> dir_ref<c- p>.</c->resolve<c- p>(</c->file_ref<c- p>);</c->
<c- k>if</c-> <c- p>(</c->relative_path <c- o>===</c-> <c- kc>null</c-><c- p>)</c-> <c- p>{</c->
    <c- c1>// 不在 dir_ref 内。</c->
<c- p>}</c-> <c- k>else</c-> <c- p>{</c->
    <c- c1>// relative_path 是名称数组，表示从 dir_ref 到 file_ref 的相对路径：</c->
    assert relative_path<c- p>.</c->pop<c- p>()</c-> <c- o>===</c-> file_ref<c- p>.</c->name<c- p>;</c->

    <c- a>let</c-> entry <c- o>=</c-> dir_ref<c- p>;</c->
    <c- k>for</c-> <c- p>(</c-><c- a>const</c-> name <c- k>of</c-> relative_path<c- p>)</c-> <c- p>{</c->
        entry <c- o>=</c-> <c- k>await</c-> entry<c- p>.</c->getDirectory<c- p>(</c->name<c- p>);</c->
    <c- p>}</c->
    entry <c- o>=</c-> <c- k>await</c-> entry<c- p>.</c->getFile<c- p>(</c->file_ref<c- p>.</c->name<c- p>);</c->

    <c- c1>// 此时 entry 与 file_ref 对应同一磁盘文件。</c->
    assert <c- k>await</c-> entry<c- p>.</c->isSameEntry<c- p>(</c->file_ref<c- p>)</c-> <c- o>===</c-> <c- kc>true</c-><c- p>;</c->
<c- p>}</c->
</pre>
        </div>
        <div class="algorithm" data-algorithm="resolve(possibleDescendant)"
            data-algorithm-for="FileSystemDirectoryHandle">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemDirectoryHandle" data-dfn-type="method"
                data-export
                id="dom-filesystemdirectoryhandle-resolve"><code>resolve(<var>possibleDescendant</var>)</code></dfn>
            方法的实现步骤是：返回将 <var>possibleDescendant</var> 的定位器相对于 <code>this</code> 的定位器进行 <a data-link-type="dfn"
                href="#locator-resolve" id="ref-for-locator-resolve①">路径解析</a> 的结果。
        </div>
        <h3 class="heading settled" data-level="2.5" id="api-filesystemwritablefilestream"><span class="secno">2.5.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream⑤">FileSystemWritableFileStream</a></code>
                接口</span><a class="self-link" href="#api-filesystemwritablefilestream"></a></h3>
        <pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-writecommandtype"><code><c- g>WriteCommandType</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="WriteCommandType" data-dfn-type="enum-value" data-export id="dom-writecommandtype-write"><code><c- s>"write"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="WriteCommandType" data-dfn-type="enum-value" data-export id="dom-writecommandtype-seek"><code><c- s>"seek"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="WriteCommandType" data-dfn-type="enum-value" data-export id="dom-writecommandtype-truncate"><code><c- s>"truncate"</c-></code></dfn>,
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-writeparams"><code><c- g>WriteParams</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-writecommandtype" id="ref-for-enumdef-writecommandtype"><c- n>WriteCommandType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WriteParams" data-dfn-type="dict-member" data-export data-type="WriteCommandType" id="dom-writeparams-type"><code><c- g>type</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="WriteParams" data-dfn-type="dict-member" data-export data-type="unsigned long long?" id="dom-writeparams-size"><code><c- g>size</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="WriteParams" data-dfn-type="dict-member" data-export data-type="unsigned long long?" id="dom-writeparams-position"><code><c- g>position</c-></code></dfn>;
  (<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#BufferSource" id="ref-for-BufferSource"><c- n>BufferSource</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob"><c- n>Blob</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑥"><c- b>USVString</c-></a>)? <dfn class="dfn-paneled idl-code" data-dfn-for="WriteParams" data-dfn-type="dict-member" data-export data-type="(BufferSource or Blob or USVString)?" id="dom-writeparams-data"><code><c- g>data</c-></code></dfn>;
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#BufferSource" id="ref-for-BufferSource①"><c- n>BufferSource</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①"><c- n>Blob</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑦"><c- b>USVString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-writeparams" id="ref-for-dictdef-writeparams"><c- n>WriteParams</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-filesystemwritechunktype"><code><c- g>FileSystemWriteChunkType</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext③"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="filesystemwritablefilestream"><code><c- g>FileSystemWritableFileStream</c-></code></dfn> : <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream"><c- n>WritableStream</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-write"><c- g>write</c-></a>(<a data-link-type="idl-name" href="#typedefdef-filesystemwritechunktype" id="ref-for-typedefdef-filesystemwritechunktype"><c- n>FileSystemWriteChunkType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream/write(data)" data-dfn-type="argument" data-export id="dom-filesystemwritablefilestream-write-data-data"><code><c- g>data</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑨"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-seek" id="ref-for-dom-filesystemwritablefilestream-seek"><c- g>seek</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long②"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream/seek(position)" data-dfn-type="argument" data-export id="dom-filesystemwritablefilestream-seek-position-position"><code><c- g>position</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⓪"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-truncate" id="ref-for-dom-filesystemwritablefilestream-truncate"><c- g>truncate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long③"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream/truncate(size)" data-dfn-type="argument" data-export id="dom-filesystemwritablefilestream-truncate-size-size"><code><c- g>size</c-></code></dfn>);
};
</pre>
        <p>
            <code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream⑥">FileSystemWritableFileStream</a></code>
            具有关联的 <dfn class="dfn-paneled" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="dfn" data-noexport
                id="filesystemwritablefilestream-file">[[file]]</dfn>（一个 <a data-link-type="dfn" href="#file"
                id="ref-for-file①⑨">文件条目</a>）。
        </p>
        <p>
            <code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream⑦">FileSystemWritableFileStream</a></code>
            具有关联的 <dfn class="dfn-paneled" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="dfn" data-noexport
                id="filesystemwritablefilestream-buffer">[[buffer]]</dfn>（一个 <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence②">字节序列</a>），初始为空。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span>该缓冲区可能变得非常大，因此实现时通常不会将其全部保存在内存中，而是使用临时文件。所有对
            [[buffer]] 的访问都通过返回 Promise 的方法和算法完成，因此尽管这些操作看起来是同步的，实际实现可为异步。</p>
        <p>
            <code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream⑧">FileSystemWritableFileStream</a></code>
            具有关联的 <dfn class="dfn-paneled" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="dfn" data-noexport
                id="filesystemwritablefilestream-seekoffset">[[seekOffset]]</dfn>（一个数字），初始值为 0。
        </p>
        <div class="note domintro" role="note">
            <code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream⑨">FileSystemWritableFileStream</a></code>
            对象是 <code
                class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream①">WritableStream</a></code>
            对象的扩展，带有便捷方法并操作单个磁盘文件。
            <p>创建后，会有一个底层 sink 可用，流对象立即可用。所有操作都是可排队的，生产者能够响应背压。</p>
            <p>底层 sink 的 write 方法（即 <code
                    class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#default-writer-write" id="ref-for-default-writer-write">WritableStreamDefaultWriter’s write()</a></code>）可接受字节类型数据或
                <code
                    class="idl"><a data-link-type="idl" href="#dictdef-writeparams" id="ref-for-dictdef-writeparams①">WriteParams</a></code>
                作为输入。
            </p>
            <p>
                <code
                    class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream①⓪">FileSystemWritableFileStream</a></code>
                有一个文件位置游标，初始为文件头部偏移 0 字节。
                使用 <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-write①">write()</a></code>
                或通过 WritableStream 能力（即 <code
                    class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#default-writer-write" id="ref-for-default-writer-write①">WritableStreamDefaultWriter’s write()</a></code>），该位置会根据写入的字节数推进。
            </p>
            <p>同样，将 <code
                    class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream">ReadableStream</a></code>
                管道到 <code
                    class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream①①">FileSystemWritableFileStream</a></code>
                时，该位置也会根据流经的字节数更新。</p>
            <p><code
                    class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#ws-get-writer" id="ref-for-ws-get-writer">getWriter()</a></code>
                返回 <code
                    class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter">WritableStreamDefaultWriter</a></code>
                实例。</p>
        </div>
        <div class="algorithm" data-algorithm="create a new FileSystemWritableFileStream">
            要<dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="creating a new FileSystemWritableFileStream"
                data-noexport id="create-a-new-filesystemwritablefilestream">创建新的
                <code>FileSystemWritableFileStream</code></dfn>，给定 <a data-link-type="dfn" href="#file"
                id="ref-for-file②⓪">文件条目</a> <var>file</var> 和 <a data-link-type="dfn"
                href="https://tc39.es/ecma262/#realm" id="ref-for-realm④">Realm</a> <var>realm</var>，步骤如下：
            <ol>
                <li>创建 <var>stream</var>，为 <var>realm</var> 内新的 <code
                        class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream①②">FileSystemWritableFileStream</a></code>。
                </li>
                <li>将 <var>stream</var> 的 [[file]] 设为 <var>file</var>。</li>
                <li>定义 <var>writeAlgorithm</var>，其参数为 <var>chunk</var>，返回以 <var>stream</var> 和 <var>chunk</var>
                    运行“写入块”算法的结果。</li>
                <li>定义 <var>closeAlgorithm</var>，其步骤如下：<ol>
                        <li>设 <var>closeResult</var> 为新的 promise。</li>
                        <li>将以下步骤加入文件系统队列：<ol>
                                <li>设 <var>accessResult</var> 为 <var>file</var> 的“查询访问”算法结果，模式为 "readwrite"。</li>
                                <li>队列一个存储任务（<var>file</var> 的全局对象）执行：<ol>
                                        <li>如果 <var>accessResult</var> 权限状态不是 "granted"，则 reject
                                            <var>closeResult</var>，异常类型为
                                            <var>accessResult</var> 的错误名，并终止。
                                        </li>
                                        <li>执行实现自定义的恶意软件和安全检查。若检查失败，reject <var>closeResult</var>，异常类型为 AbortError，并终止。
                                        </li>
                                        <li>将 <var>stream</var> 的 [[file]] 的二进制数据设为 <var>stream</var> 的 [[buffer]]。如抛异常则
                                            reject
                                            <var>closeResult</var> 并终止。<span class="note">注：预期原子性更新磁盘文件内容。</span>
                                        </li>
                                        <li>将以下步骤加入文件系统队列：<ol>
                                                <li>释放 <var>stream</var> 的 [[file]] 锁。</li>
                                                <li>队列存储任务（<var>file</var> 的全局对象），resolve <var>closeResult</var> 为
                                                    undefined。
                                                </li>
                                            </ol>
                                    </ol>
                            </ol>
                        <li>返回 <var>closeResult</var>。</li>
                    </ol>
                <li>定义 <var>abortAlgorithm</var>，其步骤如下：<ol>
                        <li>将以下步骤加入文件系统队列：<ol>
                                <li>释放 <var>stream</var> 的 [[file]] 锁。</li>
                            </ol>
                    </ol>
                <li>设 <var>highWaterMark</var> 为 1。</li>
                <li>定义 <var>sizeAlgorithm</var>，返回 1。</li>
                <li>按如下方式<a data-link-type="dfn" href="https://streams.spec.whatwg.org/#writablestream-set-up"
                        id="ref-for-writablestream-set-up">设置</a> <var>stream</var>：
                    writeAlgorithm 设为 <var>writeAlgorithm</var>，closeAlgorithm 设为
                    <var>closeAlgorithm</var>，abortAlgorithm 设为 <var>abortAlgorithm</var>，highWaterMark 设为
                    <var>highWaterMark</var>，sizeAlgorithm 设为 <var>sizeAlgorithm</var>。
                </li>
                <li>返回 <var>stream</var>。</li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="write a chunk">

            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="write-a-chunk">write a chunk</dfn>
            算法，给定一个 <code
                class="idl"><a data-link-type="idl" href="#filesystemwritablefilestream" id="ref-for-filesystemwritablefilestream①③">FileSystemWritableFileStream</a></code>
            <var>stream</var> 和 <var>chunk</var>，执行以下步骤：


            <ol>
                <li data-md>
                    <p>令 <var>input</var> 为将 <var>chunk</var> <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value"
                            id="ref-for-dfn-convert-ecmascript-to-idl-value">converting</a> 成 <code
                            class="idl"><a data-link-type="idl" href="#typedefdef-filesystemwritechunktype" id="ref-for-typedefdef-filesystemwritechunktype①">FileSystemWriteChunkType</a></code>
                        的结果。
                        如果此步骤抛出异常，则返回 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with">a promise rejected with</a> 该异常。</p>
                <li data-md>
                    <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                            id="ref-for-a-new-promise①⓪">a new promise</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps"
                            id="ref-for-enqueue-the-following-steps①②">Enqueue the following steps</a> 到 <a
                            data-link-type="dfn" href="#file-system-queue" id="ref-for-file-system-queue①⑤">file system
                            queue</a>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>accessResult</var> 为运行
                                <var>stream</var> 的 <a data-link-type="dfn" href="#filesystemwritablefilestream-file"
                                    id="ref-for-filesystemwritablefilestream-file④">[[file]]</a> 的
                                <a data-link-type="dfn" href="#entry-query-access"
                                    id="ref-for-entry-query-access①⓪">query access</a>，给定 "<code>readwrite</code>" 的结果。
                            </p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://storage.spec.whatwg.org/#queue-a-storage-task"
                                    id="ref-for-queue-a-storage-task①⑧">Queue a storage task</a>，以
                                <var>stream</var> 的 <a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-global⑨">relevant global object</a> 运行以下步骤：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>accessResult</var> 的 <a data-link-type="dfn"
                                            href="#file-system-access-result-permission-state"
                                            id="ref-for-file-system-access-result-permission-state①②">permission
                                            state</a>
                                        不是 "<code
                                            class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted①⓪">granted</a></code>"，
                                        则以一个 <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑥">DOMException</a></code>
                                        （其名称为 <var>accessResult</var> 的
                                        <a data-link-type="dfn" href="#file-system-access-result-error-name"
                                            id="ref-for-file-system-access-result-error-name①①">error name</a>）<a
                                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                            id="ref-for-reject③③">reject</a> <var>p</var>，并中止这些步骤。
                                    </p>
                                <li data-md>
                                    <p>令 <var>command</var> 为 <var>input</var>["<code
                                            class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-type">type</a></code>"]
                                        （若 <var>input</var> 是一个 <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                            id="ref-for-dfn-dictionary">dictionary</a>）；否则为 "<code
                                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-write" id="ref-for-dom-writecommandtype-write">write</a></code>"。
                                    </p>
                                <li data-md>
                                    <p>如果 <var>command</var> 是 "<code
                                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-write" id="ref-for-dom-writecommandtype-write①">write</a></code>"：
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>如果 <var>input</var> 是 <code>undefined</code>，或 <var>input</var> 是一个 <a
                                                    data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                                    id="ref-for-dfn-dictionary①">dictionary</a> 且
                                                <var>input</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-data" id="ref-for-dom-writeparams-data">data</a></code>"]
                                                不 <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#map-exists"
                                                    id="ref-for-map-exists">exist</a>，
                                                则以一个 <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>
                                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-reject③④">reject</a> <var>p</var> 并中止这些步骤。
                                            </p>
                                        <li data-md>
                                            <p>令 <var>data</var> 为 <var>input</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-data" id="ref-for-dom-writeparams-data①">data</a></code>"]
                                                （若 <var>input</var> 是一个 <a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                                    id="ref-for-dfn-dictionary②">dictionary</a>）；否则为
                                                <var>input</var>。
                                            </p>
                                        <li data-md>
                                            <p>令 <var>writePosition</var> 为 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-seekoffset"
                                                    id="ref-for-filesystemwritablefilestream-seekoffset">[[seekOffset]]</a>。
                                            </p>
                                        <li data-md>
                                            <p>如果 <var>input</var> 是一个 <a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                                    id="ref-for-dfn-dictionary③">dictionary</a> 且
                                                <var>input</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-position">position</a></code>"]
                                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                                                    id="ref-for-map-exists①">exists</a>，则将 <var>writePosition</var> 设为
                                                <var>input</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-position①">position</a></code>"]。
                                            </p>
                                        <li data-md>
                                            <p>令 <var>oldSize</var> 为 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-buffer②">[[buffer]]</a> 的
                                                <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                    id="ref-for-byte-sequence-length">length</a>。
                                            </p>
                                        <li data-md>
                                            <p>如果 <var>data</var> 是一个 <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#BufferSource" id="ref-for-BufferSource②">BufferSource</a></code>，
                                                令 <var>dataBytes</var> 为 <a data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy"
                                                    id="ref-for-dfn-get-buffer-source-copy">a copy of</a>
                                                <var>data</var>。
                                            </p>
                                        <li data-md>
                                            <p>否则，如果 <var>data</var> 是一个 <code
                                                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob②">Blob</a></code>：
                                            </p>
                                            <ol>
                                                <li data-md>
                                                    <p>令 <var>dataBytes</var> 为在 <var>data</var> 上执行
                                                        <a data-link-type="dfn"
                                                            href="https://w3c.github.io/FileAPI/#readOperation"
                                                            id="ref-for-readOperation">read operation</a>
                                                        的结果。若抛出异常，<a data-link-type="dfn"
                                                            href="https://webidl.spec.whatwg.org/#reject"
                                                            id="ref-for-reject③⑤">reject</a> <var>p</var> 并中止这些步骤。
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>否则：</p>
                                            <ol>
                                                <li data-md>
                                                    <p><a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#assert"
                                                            id="ref-for-assert⑦">Assert</a>：<var>data</var> 是一个 <code
                                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑧">USVString</a></code>。
                                                    </p>
                                                <li data-md>
                                                    <p>令 <var>dataBytes</var> 为对 <var>data</var> 进行 <a
                                                            data-link-type="dfn"
                                                            href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                                            id="ref-for-utf-8-encode">UTF-8 encoding</a>
                                                        的结果。
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>如果 <var>writePosition</var> 大于 <var>oldSize</var>，
                                                则在 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-buffer③">[[buffer]]</a> 末尾
                                                追加 <var>writePosition</var> - <var>oldSize</var> 个 0x00 (NUL) 字节。
                                            </p>
                                            <p class="note" role="note"><span class="marker">Note:</span>
                                                期望实现表现为被跳过的文件内容确实用 NUL 字节填充。这并不意味着这些字节必须真的写入磁盘并占用空间。多数文件系统支持所谓稀疏文件，即这些
                                                NUL 字节不占用实际磁盘空间。</p>
                                        <li data-md>
                                            <p>令 <var>head</var> 为一个包含 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-buffer④">[[buffer]]</a> 前
                                                <var>writePosition</var>
                                                个字节的 <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence"
                                                    id="ref-for-byte-sequence③">byte sequence</a>。
                                            </p>
                                        <li data-md>
                                            <p>令 <var>tail</var> 为空的 <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence"
                                                    id="ref-for-byte-sequence④">byte sequence</a>。</p>
                                        <li data-md>
                                            <p>如果 <var>writePosition</var> + <var>data</var> 的 <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                    id="ref-for-byte-sequence-length①">length</a> 小于
                                                <var>oldSize</var>：
                                            </p>
                                            <ol>
                                                <li data-md>
                                                    <p>令 <var>tail</var> 为一个 <a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#byte-sequence"
                                                            id="ref-for-byte-sequence⑤">byte sequence</a>，包含
                                                        <var>stream</var> 的 <a data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-buffer⑤">[[buffer]]</a>
                                                        最后
                                                        <var>oldSize</var> - (<var>writePosition</var> +
                                                        <var>data</var> 的 <a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                            id="ref-for-byte-sequence-length②">length</a>)
                                                        个字节。
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>将 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-buffer⑥">[[buffer]]</a> 设为
                                                <var>head</var>、<var>data</var> 与 <var>tail</var> 的连接。
                                            </p>
                                        <li data-md>
                                            <p>如果前面修改 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-buffer⑦">[[buffer]]</a>
                                                的操作因超出 <a data-link-type="dfn"
                                                    href="https://storage.spec.whatwg.org/#storage-quota"
                                                    id="ref-for-storage-quota">storage quota</a> 而失败，
                                                则以一个 <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederror">QuotaExceededError</a></code>
                                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-reject③⑥">reject</a> <var>p</var> 并中止这些步骤，
                                                且保持 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-buffer⑧">[[buffer]]</a>
                                                不变。
                                            </p>
                                            <p class="note" role="note"><span class="marker">Note:</span> <a
                                                    data-link-type="dfn"
                                                    href="https://storage.spec.whatwg.org/#storage-quota"
                                                    id="ref-for-storage-quota①">Storage quota</a> 仅适用于存储在
                                                <a data-link-type="dfn" href="#origin-private-file-system"
                                                    id="ref-for-origin-private-file-system③">bucket file system</a>
                                                中的文件。但此操作仍可能在其他文件上失败，例如目标磁盘空间不足。
                                            </p>
                                        <li data-md>
                                            <p>将 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-seekoffset"
                                                    id="ref-for-filesystemwritablefilestream-seekoffset①">[[seekOffset]]</a>
                                                设为 <var>writePosition</var> + <var>data</var> 的
                                                <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                    id="ref-for-byte-sequence-length③">length</a>。
                                            </p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolve①⑧">Resolve</a> <var>p</var>。</p>
                                    </ol>
                                <li data-md>
                                    <p>否则，如果 <var>command</var> 是 "<code
                                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-seek" id="ref-for-dom-writecommandtype-seek">seek</a></code>"：
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                                    id="ref-for-assert⑧">Assert</a>：<var>chunk</var> 是一个 <a
                                                    data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                                    id="ref-for-dfn-dictionary④">dictionary</a>。</p>
                                        <li data-md>
                                            <p>如果 <var>chunk</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-position②">position</a></code>"]
                                                不 <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#map-exists"
                                                    id="ref-for-map-exists②">exist</a>，
                                                则以一个 <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code>
                                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-reject③⑦">reject</a> <var>p</var> 并中止这些步骤。
                                            </p>
                                        <li data-md>
                                            <p>将 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-seekoffset"
                                                    id="ref-for-filesystemwritablefilestream-seekoffset②">[[seekOffset]]</a>
                                                设为
                                                <var>chunk</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-position③">position</a></code>"]。
                                            </p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolve①⑨">Resolve</a> <var>p</var>。</p>
                                    </ol>
                                <li data-md>
                                    <p>否则，如果 <var>command</var> 是 "<code
                                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-truncate" id="ref-for-dom-writecommandtype-truncate">truncate</a></code>"：
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                                    id="ref-for-assert⑨">Assert</a>：<var>chunk</var> 是一个 <a
                                                    data-link-type="dfn"
                                                    href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                                                    id="ref-for-dfn-dictionary⑤">dictionary</a>。</p>
                                        <li data-md>
                                            <p>如果 <var>chunk</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-size" id="ref-for-dom-writeparams-size">size</a></code>"]
                                                不 <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#map-exists"
                                                    id="ref-for-map-exists③">exist</a>，
                                                则以一个 <code
                                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code>
                                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                    id="ref-for-reject③⑧">reject</a> <var>p</var> 并中止这些步骤。
                                            </p>
                                        <li data-md>
                                            <p>令 <var>newSize</var> 为 <var>chunk</var>["<code
                                                    class="idl"><a data-link-type="idl" href="#dom-writeparams-size" id="ref-for-dom-writeparams-size①">size</a></code>"]。
                                            </p>
                                        <li data-md>
                                            <p>令 <var>oldSize</var> 为 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-buffer"
                                                    id="ref-for-filesystemwritablefilestream-buffer⑨">[[buffer]]</a> 的
                                                <a data-link-type="dfn"
                                                    href="https://infra.spec.whatwg.org/#byte-sequence-length"
                                                    id="ref-for-byte-sequence-length④">length</a>。
                                            </p>
                                        <li data-md>
                                            <p>如果 <var>newSize</var> 大于 <var>oldSize</var>：</p>
                                            <ol>
                                                <li data-md>
                                                    <p>将 <var>stream</var> 的 <a data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-buffer①⓪">[[buffer]]</a>
                                                        设为一个 <a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#byte-sequence"
                                                            id="ref-for-byte-sequence⑥">byte sequence</a>，
                                                        由 <var>stream</var> 的 <a data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-buffer①①">[[buffer]]</a>
                                                        与包含 <var>newSize</var>-<var>oldSize</var> 个
                                                        <code>0x00</code> 字节的 <a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#byte-sequence"
                                                            id="ref-for-byte-sequence⑦">byte sequence</a> 拼接而成。
                                                    </p>
                                                <li data-md>
                                                    <p>如果前一步操作因超出
                                                        <a data-link-type="dfn"
                                                            href="https://storage.spec.whatwg.org/#storage-quota"
                                                            id="ref-for-storage-quota②">storage quota</a> 而失败，
                                                        则以一个 <code
                                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederror①">QuotaExceededError</a></code>
                                                        <a data-link-type="dfn"
                                                            href="https://webidl.spec.whatwg.org/#reject"
                                                            id="ref-for-reject③⑨">reject</a> <var>p</var> 并中止这些步骤，
                                                        且保持 <var>stream</var> 的 <a data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-buffer①②">[[buffer]]</a>
                                                        不变。
                                                    </p>
                                                    <p class="note" role="note"><span class="marker">Note:</span> <a
                                                            data-link-type="dfn"
                                                            href="https://storage.spec.whatwg.org/#storage-quota"
                                                            id="ref-for-storage-quota③">Storage quota</a> 仅适用于存储在
                                                        <a data-link-type="dfn" href="#origin-private-file-system"
                                                            id="ref-for-origin-private-file-system④">bucket file
                                                            system</a>
                                                        中的文件。但此操作仍可能在其他文件上失败，例如目标磁盘空间不足。
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>否则，如果 <var>newSize</var> 小于 <var>oldSize</var>：</p>
                                            <ol>
                                                <li data-md>
                                                    <p>将 <var>stream</var> 的 <a data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-buffer①③">[[buffer]]</a>
                                                        设为一个 <a data-link-type="dfn"
                                                            href="https://infra.spec.whatwg.org/#byte-sequence"
                                                            id="ref-for-byte-sequence⑧">byte sequence</a>，包含
                                                        <var>stream</var> 的 <a data-link-type="dfn"
                                                            href="#filesystemwritablefilestream-buffer"
                                                            id="ref-for-filesystemwritablefilestream-buffer①④">[[buffer]]</a>
                                                        中前 <var>newSize</var> 个字节。
                                                    </p>
                                            </ol>
                                        <li data-md>
                                            <p>如果 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-seekoffset"
                                                    id="ref-for-filesystemwritablefilestream-seekoffset③">[[seekOffset]]</a>
                                                大于 <var>newSize</var>，
                                                则将 <var>stream</var> 的 <a data-link-type="dfn"
                                                    href="#filesystemwritablefilestream-seekoffset"
                                                    id="ref-for-filesystemwritablefilestream-seekoffset④">[[seekOffset]]</a>
                                                设为 <var>newSize</var>。</p>
                                        <li data-md>
                                            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve"
                                                    id="ref-for-resolve②⓪">Resolve</a> <var>p</var>。</p>
                                    </ol>
                            </ol>
                    </ol>
                <li data-md>
                    <p>返回 <var>p</var>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.5.1" id="api-filesystemwritablefilestream-write"><span
                class="secno">2.5.1. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-write②">write()</a></code>
                方法</span><a class="self-link" href="#api-filesystemwritablefilestream-write"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-write③">write</a></code>(<var>data</var>)
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-write④">write</a></code>({
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-type①">type</a></code>:
                    "<code
                        class="idl"><a data-link-type="idl" href="#dom-writecommandtype-write" id="ref-for-dom-writecommandtype-write②">write</a></code>",
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-data" id="ref-for-dom-writeparams-data②">data</a></code>:
                    <var>data</var> })
                <dd data-md>
                    <p>将 <var>data</var> 的内容写入与 <var>stream</var> 关联的文件（从当前文件游标偏移处）。</p>
                    <p>只有在关闭流后，变更才会真正写入磁盘文件。更改通常会先写入临时文件。</p>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-write⑤">write</a></code>({
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-type②">type</a></code>:
                    "<code
                        class="idl"><a data-link-type="idl" href="#dom-writecommandtype-write" id="ref-for-dom-writecommandtype-write③">write</a></code>",
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-position④">position</a></code>:
                    <var>position</var>, <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-data" id="ref-for-dom-writeparams-data③">data</a></code>:
                    <var>data</var> })
                <dd data-md>
                    <p>将 <var>data</var> 的内容写入与 <var>stream</var> 关联的文件（从文件头部 <var>position</var> 字节处），并将文件游标更新至写入末尾位置。
                    </p>
                    <p>只有在关闭流后，变更才会真正写入磁盘文件。更改通常会先写入临时文件。</p>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-write⑥">write</a></code>({
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-type③">type</a></code>:
                    "<code
                        class="idl"><a data-link-type="idl" href="#dom-writecommandtype-seek" id="ref-for-dom-writecommandtype-seek①">seek</a></code>",
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-position" id="ref-for-dom-writeparams-position⑤">position</a></code>:
                    <var>position</var> })
                <dd data-md>
                    <p>将文件游标偏移更新为距文件头部 <var>position</var> 字节处。</p>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-write" id="ref-for-dom-filesystemwritablefilestream-write⑦">write</a></code>({
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-type" id="ref-for-dom-writeparams-type④">type</a></code>:
                    "<code
                        class="idl"><a data-link-type="idl" href="#dom-writecommandtype-truncate" id="ref-for-dom-writecommandtype-truncate①">truncate</a></code>",
                    <code
                        class="idl"><a data-link-type="idl" href="#dom-writeparams-size" id="ref-for-dom-writeparams-size②">size</a></code>:
                    <var>size</var> })
                <dd data-md>
                    <p>将与 <var>stream</var> 关联的文件尺寸调整为 <var>size</var> 字节。如果 <var>size</var> 大于当前文件大小，则用 null
                        字节补齐，否则截断文件。</p>
                    <p>当调用 <code
                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-truncate" id="ref-for-dom-writecommandtype-truncate②">truncate</a></code>
                        时，文件游标也会被更新：若游标小于 <var>size</var>，保持不变；若大于 <var>size</var>，则设为 <var>size</var>。这样保证后续写入不会出错。</p>
                    <p>只有在关闭流后，变更才会真正写入磁盘文件。更改通常会先写入临时文件。</p>
                </dd>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="write(data)" data-algorithm-for="FileSystemWritableFileStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="method"
                data-export id="dom-filesystemwritablefilestream-write"><code>write(<var>data</var>)</code></dfn>
            方法的实现步骤如下：
            <ol>
                <li>设 <var>writer</var> 为为 <code>this</code> 获取的 writer。</li>
                <li>设 <var>result</var> 为向 <var>writer</var> 写入 <var>data</var> 的结果。</li>
                <li>释放 <var>writer</var>。</li>
                <li>返回 <var>result</var>。</li>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.5.2" id="api-filesystemwritablefilestream-seek"><span
                class="secno">2.5.2. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-seek" id="ref-for-dom-filesystemwritablefilestream-seek①">seek()</a></code>
                方法</span><a class="self-link" href="#api-filesystemwritablefilestream-seek"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-seek" id="ref-for-dom-filesystemwritablefilestream-seek②">seek</a></code>(<var>position</var>)
                <dd data-md>
                    <p>将文件游标偏移更新为距文件头部 <var>position</var> 字节处。</p>
                </dd>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="seek(position)" data-algorithm-for="FileSystemWritableFileStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="method"
                data-export id="dom-filesystemwritablefilestream-seek"><code>seek(<var>position</var>)</code></dfn>
            方法的实现步骤如下：
            <ol>
                <li>设 <var>writer</var> 为为 <code>this</code> 获取的 writer。</li>
                <li>设 <var>result</var> 为向 <var>writer</var> 写入 «[ "type" → "seek", "position" → <var>position</var> ]»
                    的结果。</li>
                <li>释放 <var>writer</var>。</li>
                <li>返回 <var>result</var>。</li>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.5.3" id="api-filesystemwritablefilestream-truncate"><span
                class="secno">2.5.3. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-truncate" id="ref-for-dom-filesystemwritablefilestream-truncate①">truncate()</a></code>
                方法</span><a class="self-link" href="#api-filesystemwritablefilestream-truncate"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md>await <var>stream</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemwritablefilestream-truncate" id="ref-for-dom-filesystemwritablefilestream-truncate②">truncate</a></code>(<var>size</var>)
                <dd data-md>
                    <p>将与 <var>stream</var> 关联的文件尺寸调整为 <var>size</var> 字节。如果 <var>size</var> 大于当前文件大小，则用 null
                        字节补齐，否则截断文件。</p>
                    <p>当调用 <code
                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-truncate" id="ref-for-dom-writecommandtype-truncate③">truncate</a></code>
                        时，文件游标也会被更新：若游标小于 <var>size</var>，保持不变；若大于 <var>size</var>，则设为 <var>size</var>。这样保证后续写入不会出错。</p>
                    <p>只有在关闭流后，变更才会真正写入磁盘文件。更改通常会先写入临时文件。</p>
                </dd>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="truncate(size)" data-algorithm-for="FileSystemWritableFileStream">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemWritableFileStream" data-dfn-type="method"
                data-export id="dom-filesystemwritablefilestream-truncate"><code>truncate(<var>size</var>)</code></dfn>
            方法的实现步骤如下：
            <ol>
                <li>设 <var>writer</var> 为为 <code>this</code> 获取的 writer。</li>
                <li>设 <var>result</var> 为向 <var>writer</var> 写入 «[ "type" → "truncate", "size" → <var>size</var> ]» 的结果。
                </li>
                <li>释放 <var>writer</var>。</li>
                <li>返回 <var>result</var>。</li>
            </ol>
        </div>
        <h3 class="heading settled" data-level="2.6" id="api-filesystemsyncaccesshandle"><span class="secno">2.6.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle⑧">FileSystemSyncAccessHandle</a></code>
                接口</span><a class="self-link" href="#api-filesystemsyncaccesshandle"></a></h3>
        <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-filesystemreadwriteoptions"><code><c- g>FileSystemReadWriteOptions</c-></code></dfn> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long④"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemReadWriteOptions" data-dfn-type="dict-member" data-export data-type="unsigned long long" id="dom-filesystemreadwriteoptions-at"><code><c- g>at</c-></code></dfn>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑤"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext④"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="filesystemsyncaccesshandle"><code><c- g>FileSystemSyncAccessHandle</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long⑤"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method" data-export data-lt="read(buffer, options)|read(buffer)" id="dom-filesystemsyncaccesshandle-read"><code><c- g>read</c-></code></dfn>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource" id="ref-for-AllowSharedBufferSource"><c- n>AllowSharedBufferSource</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle/read(buffer, options), FileSystemSyncAccessHandle/read(buffer)" data-dfn-type="argument" data-export id="dom-filesystemsyncaccesshandle-read-buffer-options-buffer"><code><c- g>buffer</c-></code></dfn>,
                          <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemreadwriteoptions" id="ref-for-dictdef-filesystemreadwriteoptions"><c- n>FileSystemReadWriteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle/read(buffer, options), FileSystemSyncAccessHandle/read(buffer)" data-dfn-type="argument" data-export id="dom-filesystemsyncaccesshandle-read-buffer-options-options"><code><c- g>options</c-></code></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long⑥"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method" data-export data-lt="write(buffer, options)|write(buffer)" id="dom-filesystemsyncaccesshandle-write"><code><c- g>write</c-></code></dfn>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource" id="ref-for-AllowSharedBufferSource①"><c- n>AllowSharedBufferSource</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle/write(buffer, options), FileSystemSyncAccessHandle/write(buffer)" data-dfn-type="argument" data-export id="dom-filesystemsyncaccesshandle-write-buffer-options-buffer"><code><c- g>buffer</c-></code></dfn>,
                           <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemreadwriteoptions" id="ref-for-dictdef-filesystemreadwriteoptions①"><c- n>FileSystemReadWriteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle/write(buffer, options), FileSystemSyncAccessHandle/write(buffer)" data-dfn-type="argument" data-export id="dom-filesystemsyncaccesshandle-write-buffer-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-truncate" id="ref-for-dom-filesystemsyncaccesshandle-truncate"><c- g>truncate</c-></a>([<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange" id="ref-for-EnforceRange①"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long⑦"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle/truncate(newSize)" data-dfn-type="argument" data-export id="dom-filesystemsyncaccesshandle-truncate-newsize-newsize"><code><c- g>newSize</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long⑧"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-getsize" id="ref-for-dom-filesystemsyncaccesshandle-getsize"><c- g>getSize</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-flush" id="ref-for-dom-filesystemsyncaccesshandle-flush"><c- g>flush</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑥"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-close" id="ref-for-dom-filesystemsyncaccesshandle-close"><c- g>close</c-></a>();
};

</pre>
        <p>
            <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle⑨">FileSystemSyncAccessHandle</a></code>
            具有关联的 <dfn class="dfn-paneled" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="dfn" data-noexport
                id="filesystemsyncaccesshandle-file">[[file]]</dfn>（一个 <a data-link-type="dfn" href="#file"
                id="ref-for-file②①">文件条目</a>）。
        </p>
        <p>
            <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle①⓪">FileSystemSyncAccessHandle</a></code>
            具有关联的 <dfn class="dfn-paneled" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="dfn" data-noexport
                id="filesystemsyncaccesshandle-state">[[state]]</dfn>，一个字符串，只能为 "<code>open</code>" 或
            "<code>closed</code>"。
        </p>
        <p>
            <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle①①">FileSystemSyncAccessHandle</a></code>
            是能够对单个文件进行读写、获取和更改其大小的对象。
        </p>
        <p>
            <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle①②">FileSystemSyncAccessHandle</a></code>
            提供同步方法。这在异步操作开销较大的场景（例如 WebAssembly）中带来更高性能。
        </p>
        <p>
            <code
                class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle①③">FileSystemSyncAccessHandle</a></code>
            有一个 <dfn class="dfn-paneled" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="dfn" data-noexport
                id="filesystemsyncaccesshandle-file-position-cursor">文件位置游标</dfn>，初始为文件头部偏移 0 字节。
        </p>
        <div class="algorithm" data-algorithm="create a new FileSystemSyncAccessHandle">
            要<dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="creating a new FileSystemSyncAccessHandle"
                data-noexport id="create-a-new-filesystemsyncaccesshandle">创建新的
                <code>FileSystemSyncAccessHandle</code></dfn>，给定 <a data-link-type="dfn" href="#file"
                id="ref-for-file②②">文件条目</a> <var>file</var> 和 <a data-link-type="dfn"
                href="https://tc39.es/ecma262/#realm" id="ref-for-realm⑤">Realm</a> <var>realm</var>，步骤如下：
            <ol>
                <li>创建 <var>handle</var>，为 <var>realm</var> 内新的 <code
                        class="idl"><a data-link-type="idl" href="#filesystemsyncaccesshandle" id="ref-for-filesystemsyncaccesshandle①④">FileSystemSyncAccessHandle</a></code>。
                </li>
                <li>将 <var>handle</var> 的 [[file]] 设为 <var>file</var>。</li>
                <li>将 <var>handle</var> 的 [[state]] 设为 "<code>open</code>"。</li>
                <li>返回 <var>handle</var>。</li>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.1" id="api-filesystemsyncaccesshandle-read"><span
                class="secno">2.6.1. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-read" id="ref-for-dom-filesystemsyncaccesshandle-read">read()</a></code>
                方法</span><a class="self-link" href="#api-filesystemsyncaccesshandle-read"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-read" id="ref-for-dom-filesystemsyncaccesshandle-read①">read</a></code>(<var>buffer</var>)
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-read" id="ref-for-dom-filesystemsyncaccesshandle-read②">read</a></code>(<var>buffer</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-at">at</a></code>
                    })
                <dd data-md>
                    <p>将与 <var>handle</var> 关联的文件内容读取到 <var>buffer</var>，可选地从指定偏移处读取。</p>
                <dd data-md>
                    <p>调用 <code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-read" id="ref-for-dom-filesystemsyncaccesshandle-read③">read()</a></code>
                        时，文件游标会更新为最后读取字节的下一个字节。</p>
            </dl>
        </div>
        <p class="XXX"> 指定当从一个已被外部修改的文件读取时 Access Handles 应当如何响应。 <a
                href="https://github.com/whatwg/fs/issues/35">[Issue #35]</a></p>
        <div class="algorithm" data-algorithm="read(buffer, FileSystemReadWriteOptions: options)"
            data-algorithm-for="FileSystemSyncAccessHandle">

            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export
                id="dom-filesystemsyncaccesshandle-read-buffer-filesystemreadwriteoptions-options"><code>read(<var>buffer</var>, <code class="idl"><a data-link-type="idl" href="#dictdef-filesystemreadwriteoptions" id="ref-for-dictdef-filesystemreadwriteoptions②">FileSystemReadWriteOptions</a></code>:
                <var>options</var>)</code></dfn> 方法的步骤如下：


            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②⑤">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-state①">[[state]]</a> 为 "<code>closed</code>"，
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw①">throw</a> 一个 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑦">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>bufferSize</var> 为 <var>buffer</var> 的 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#buffersource-byte-length"
                            id="ref-for-buffersource-byte-length">byte length</a>。</p>
                <li data-md>
                    <p>令 <var>fileContents</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②⑥">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-file①">[[file]]</a> 的 <a data-link-type="dfn"
                            href="#file-entry-binary-data" id="ref-for-file-entry-binary-data⑤">binary data</a>。</p>
                <li data-md>
                    <p>令 <var>fileSize</var> 为 <var>fileContents</var> 的 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length⑤">length</a>。</p>
                <li data-md>
                    <p>令 <var>readStart</var> 为 <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-at①">at</a></code>"]
                        （如果
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-at②">at</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists④">exists</a>）；否则为
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑦">this</a>
                        的 <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursor">file position cursor</a>。
                    </p>
                <li data-md>
                    <p>如果底层文件系统不支持从偏移 <var>readStart</var> 读取，
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw②">throw</a> 一个 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑥">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>如果 <var>readStart</var> 大于 <var>fileSize</var>：</p>
                    <ol>
                        <li data-md>
                            <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this②⑧">this</a> 的 <a data-link-type="dfn"
                                    href="#filesystemsyncaccesshandle-file-position-cursor"
                                    id="ref-for-filesystemsyncaccesshandle-file-position-cursor①">file position
                                    cursor</a> 设为 <var>fileSize</var>。</p>
                        <li data-md>
                            <p>返回 0。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>readEnd</var> 为 <var>readStart</var> + (<var>bufferSize</var> − 1)。</p>
                <li data-md>
                    <p>如果 <var>readEnd</var> 大于 <var>fileSize</var>，则将 <var>readEnd</var> 设为
                        <var>fileSize</var>。
                    </p>
                <li data-md>
                    <p>令 <var>bytes</var> 为一个 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑨">byte
                            sequence</a>，包含 <var>fileContents</var> 中从 <var>readStart</var> 到 <var>readEnd</var> 的字节。
                    </p>
                <li data-md>
                    <p>令 <var>result</var> 为 <var>bytes</var> 的 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length⑥">length</a>。</p>
                <li data-md>
                    <p>如果前面从 <var>fileContents</var> 读取的操作失败：</p>
                    <ol>
                        <li data-md>
                            <p>如果发生部分读取且读入 <var>bytes</var> 的字节数已知，
                                将 <var>result</var> 设为已读取的字节数。</p>
                        <li data-md>
                            <p>否则将 <var>result</var> 设为 0。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>arrayBuffer</var> 为 <var>buffer</var> 的 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#buffersource-underlying-buffer"
                            id="ref-for-buffersource-underlying-buffer">underlying buffer</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#arraybuffer-write"
                            id="ref-for-arraybuffer-write">Write</a> <var>bytes</var> 到 <var>arrayBuffer</var> 中。</p>
                <li data-md>
                    <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②⑨">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursor②">file position cursor</a> 设为
                        <var>readStart</var> + <var>result</var>。
                    </p>
                <li data-md>
                    <p>返回 <var>result</var>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.2" id="api-filesystemsyncaccesshandle-write"><span
                class="secno">2.6.2. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-write" id="ref-for-dom-filesystemsyncaccesshandle-write">write()</a></code>
                方法</span><a class="self-link" href="#api-filesystemsyncaccesshandle-write"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-write" id="ref-for-dom-filesystemsyncaccesshandle-write①">write</a></code>(<var>buffer</var>)
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-write" id="ref-for-dom-filesystemsyncaccesshandle-write②">write</a></code>(<var>buffer</var>,
                    { <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-at③">at</a></code>
                    })
                <dd data-md>
                    <p>将 <var>buffer</var> 的内容写入与 <var>handle</var> 关联的文件，可选地从指定偏移处写入，并返回写入的字节数。检查返回的字节数可用于检测和处理错误或部分写入。
                    </p>
                <dd data-md>
                    <p>调用 <code
                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-write" id="ref-for-dom-writecommandtype-write④">write</a></code>
                        时，文件游标会更新为最后写入字节的下一个字节。</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="write(buffer, FileSystemReadWriteOptions: options)"
            data-algorithm-for="FileSystemSyncAccessHandle">

            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export
                id="dom-filesystemsyncaccesshandle-write-buffer-filesystemreadwriteoptions-options"><code>write(<var>buffer</var>, <code class="idl"><a data-link-type="idl" href="#dictdef-filesystemreadwriteoptions" id="ref-for-dictdef-filesystemreadwriteoptions③">FileSystemReadWriteOptions</a></code>:
                <var>options</var>)</code></dfn> 方法的步骤如下：


            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③⓪">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-state②">[[state]]</a> 为 "<code>closed</code>"，
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw③">throw</a> 一个 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑧">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>writePosition</var> 为 <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-at④">at</a></code>"]
                        （如果
                        <var>options</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemreadwriteoptions-at" id="ref-for-dom-filesystemreadwriteoptions-at⑤">at</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists⑤">exists</a>）；否则为
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③①">this</a>
                        的 <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursor③">file position cursor</a>。
                    </p>
                <li data-md>
                    <p>如果底层文件系统不支持写入到偏移 <var>writePosition</var>，
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw④">throw</a> 一个 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑦">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>fileContents</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③②">this</a> 的
                        <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-file②">[[file]]</a> 的 <a data-link-type="dfn"
                            href="#file-entry-binary-data" id="ref-for-file-entry-binary-data⑥">binary data</a> 的一个副本。
                    </p>
                <li data-md>
                    <p>令 <var>oldSize</var> 为 <var>fileContents</var> 的 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length⑦">length</a>。</p>
                <li data-md>
                    <p>令 <var>bufferSize</var> 为 <var>buffer</var> 的 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#buffersource-byte-length"
                            id="ref-for-buffersource-byte-length①">byte length</a>。</p>
                <li data-md>
                    <p>如果 <var>writePosition</var> 大于 <var>oldSize</var>，
                        则在 <var>fileContents</var> 末尾追加 <var>writePosition</var> − <var>oldSize</var> 个 0x00 (NUL) 字节。
                    </p>
                    <p class="note" role="note"><span class="marker">Note:</span> 期望实现表现为被跳过的文件内容确实用 NUL
                        字节填充。这并不意味着这些字节必须真的写入磁盘并占用空间。多数文件系统支持所谓稀疏文件（sparse files），这些 NUL 字节不占用实际磁盘空间。</p>
                <li data-md>
                    <p>令 <var>head</var> 为一个 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                            id="ref-for-byte-sequence①⓪">byte
                            sequence</a>，包含 <var>fileContents</var> 的前 <var>writePosition</var> 个字节。
                    </p>
                <li data-md>
                    <p>令 <var>tail</var> 为空的 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                            id="ref-for-byte-sequence①①">byte
                            sequence</a>。</p>
                <li data-md>
                    <p>如果 <var>writePosition</var> + <var>bufferSize</var> 小于 <var>oldSize</var>：</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>tail</var> 设为一个 <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequence①②">byte sequence</a>，包含 <var>fileContents</var> 最后
                                <var>oldSize</var> − (<var>writePosition</var> + <var>bufferSize</var>) 个字节。
                            </p>
                    </ol>
                <li data-md>
                    <p>令 <var>newSize</var> 为 <var>head</var> 的 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length⑧">length</a> + <var>bufferSize</var> + <var>tail</var> 的 <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length⑨">length</a>。</p>
                <li data-md>
                    <p>如果 <var>newSize</var> − <var>oldSize</var> 超出可用 <a data-link-type="dfn"
                            href="https://storage.spec.whatwg.org/#storage-quota" id="ref-for-storage-quota④">storage
                            quota</a>，
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw⑤">throw</a> 一个 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederror②">QuotaExceededError</a></code>。
                    </p>
                <li data-md>
                    <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③③">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-file③">[[file]]</a> 的
                        <a data-link-type="dfn" href="#file-entry-binary-data"
                            id="ref-for-file-entry-binary-data⑦">binary data</a> 设为 <var>head</var>、<var>buffer</var>
                        的内容与 <var>tail</var> 的连接。
                    </p>
                    <p class="note" role="note"><span class="marker">Note:</span> 用于访问 buffer
                        内容的机制被刻意保持模糊。实现很可能为了性能而直接对宿主操作系统发出写调用（而不是创建 buffer 的副本），这使得无法详细规定写入顺序及部分写入的结果。</p>
                <li data-md>
                    <p>如果前面修改 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③④">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-file④">[[file]]</a> 的
                        <a data-link-type="dfn" href="#file-entry-binary-data"
                            id="ref-for-file-entry-binary-data⑧">binary data</a> 的操作失败：
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果发生部分写入且从 <var>buffer</var> 写入的字节数已知：</p>
                            <ol>
                                <li data-md>
                                    <p>令 <var>bytesWritten</var> 为从 <var>buffer</var> 写入的字节数。</p>
                                <li data-md>
                                    <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                            id="ref-for-this③⑤">this</a> 的 <a data-link-type="dfn"
                                            href="#filesystemsyncaccesshandle-file-position-cursor"
                                            id="ref-for-filesystemsyncaccesshandle-file-position-cursor④">file position
                                            cursor</a> 设为 <var>writePosition</var> + <var>bytesWritten</var>。</p>
                                <li data-md>
                                    <p>返回 <var>bytesWritten</var>。</p>
                            </ol>
                        <li data-md>
                            <p>否则 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                    id="ref-for-dfn-throw⑥">throw</a> 一个 "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑨">DOMException</a></code>。
                            </p>
                    </ol>
                <li data-md>
                    <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③⑥">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursor⑤">file position cursor</a> 设为
                        <var>writePosition</var> + <var>bufferSize</var>。
                    </p>
                <li data-md>
                    <p>返回 <var>bufferSize</var>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.3" id="api-filesystemsyncaccesshandle-truncate"><span
                class="secno">2.6.3. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-truncate" id="ref-for-dom-filesystemsyncaccesshandle-truncate①">truncate()</a></code>
                方法</span><a class="self-link" href="#api-filesystemsyncaccesshandle-truncate"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-truncate" id="ref-for-dom-filesystemsyncaccesshandle-truncate②">truncate</a></code>(<var>newSize</var>)
                <dd data-md>
                    <p>将与 <var>handle</var> 关联的文件长度调整为 <var>newSize</var> 字节。如果 <var>newSize</var> 大于当前文件大小，则用 null
                        字节填充，否则截断文件。</p>
                <dd data-md>
                    <p>调用 <code
                            class="idl"><a data-link-type="idl" href="#dom-writecommandtype-truncate" id="ref-for-dom-writecommandtype-truncate⑤">truncate</a></code>
                        时，如果游标小于 <var>newSize</var> 保持不变，否则大于 <var>newSize</var> 时设为 <var>newSize</var>。</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="truncate(newSize)" data-algorithm-for="FileSystemSyncAccessHandle">

            The <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export id="dom-filesystemsyncaccesshandle-truncate"><code>truncate(<var>newSize</var>)</code></dfn>
            方法的步骤为：


            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③⑦">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-state③">[[state]]</a> 为 "<code>closed</code>"，
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw⑦">抛出</a> 一个 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror④">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③⓪">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>fileContents</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③⑧">this</a> 的
                        <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-file⑤">[[file]]</a> 的 <a data-link-type="dfn"
                            href="#file-entry-binary-data" id="ref-for-file-entry-binary-data⑨">二进制数据</a> 的一份副本。
                    </p>
                <li data-md>
                    <p>令 <var>oldSize</var> 为 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length①⓪">长度</a>（即 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑨">this</a> 的
                        <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-file⑥">[[file]]</a> 的 <a data-link-type="dfn"
                            href="#file-entry-binary-data" id="ref-for-file-entry-binary-data①⓪">二进制数据</a> 的长度）。
                    </p>
                <li data-md>
                    <p>如果底层文件系统不支持将文件大小设为 <var>newSize</var>，则 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑧">抛出</a> 一个 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑧">TypeError</a></code>。
                    </p>
                <li data-md>
                    <p>如果 <var>newSize</var> 大于 <var>oldSize</var>：</p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>newSize</var> − <var>oldSize</var> 超过了可用的 <a data-link-type="dfn"
                                    href="https://storage.spec.whatwg.org/#storage-quota"
                                    id="ref-for-storage-quota⑤">存储配额</a>，
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                    id="ref-for-dfn-throw⑨">抛出</a> 一个 <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederror③">QuotaExceededError</a></code>。
                            </p>
                        <li data-md>
                            <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this④⓪">this</a> 的 <a data-link-type="dfn"
                                    href="#filesystemsyncaccesshandle-file"
                                    id="ref-for-filesystemsyncaccesshandle-file⑦">[[file]]</a> 设为一个
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequence①③">字节序列</a>，该字节序列由 <var>fileContents</var> 与一个
                                包含 <var>newSize</var> − <var>oldSize</var> 个 0x00 字节的
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequence①④">字节序列</a> 连接而成。
                            </p>
                        <li data-md>
                            <p>如果前述步骤中修改 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this④①">this</a> 的
                                <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                                    id="ref-for-filesystemsyncaccesshandle-file⑧">[[file]]</a> 的 <a data-link-type="dfn"
                                    href="#file-entry-binary-data" id="ref-for-file-entry-binary-data①①">二进制数据</a>
                                的操作失败，
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                    id="ref-for-dfn-throw①⓪">抛出</a> 一个 "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑤">InvalidStateError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③①">DOMException</a></code>。
                            </p>
                    </ol>
                <li data-md>
                    <p>否则，如果 <var>newSize</var> 小于 <var>oldSize</var>：</p>
                    <ol>
                        <li data-md>
                            <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this④②">this</a> 的 <a data-link-type="dfn"
                                    href="#filesystemsyncaccesshandle-file"
                                    id="ref-for-filesystemsyncaccesshandle-file⑨">[[file]]</a> 设为一个
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
                                    id="ref-for-byte-sequence①⑤">字节序列</a>，该序列包含 <var>fileContents</var> 中
                                前 <var>newSize</var> 个字节。
                            </p>
                        <li data-md>
                            <p>如果前述步骤中修改 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this④③">this</a> 的
                                <a data-link-type="dfn" href="#filesystemsyncaccesshandle-file"
                                    id="ref-for-filesystemsyncaccesshandle-file①⓪">[[file]]</a> 的 <a
                                    data-link-type="dfn" href="#file-entry-binary-data"
                                    id="ref-for-file-entry-binary-data①②">二进制数据</a>
                                的操作失败，
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                    id="ref-for-dfn-throw①①">抛出</a> 一个 "<code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑥">InvalidStateError</a></code>"
                                <code
                                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③②">DOMException</a></code>。
                            </p>
                    </ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④④">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursor⑥">文件位置游标</a> 大于
                        <var>newSize</var>，则将 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file-position-cursor"
                            id="ref-for-filesystemsyncaccesshandle-file-position-cursor⑦">文件位置游标</a> 设为
                        <var>newSize</var>。
                    </p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.4" id="api-filesystemsyncaccesshandle-getsize"><span
                class="secno">2.6.4. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-getsize" id="ref-for-dom-filesystemsyncaccesshandle-getsize①">getSize()</a></code>
                方法</span><a class="self-link" href="#api-filesystemsyncaccesshandle-getsize"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-getsize" id="ref-for-dom-filesystemsyncaccesshandle-getsize②">getSize()</a></code>
                <dd data-md>
                    <p>返回与 <var>handle</var> 关联的文件的大小（字节数）。</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getSize()" data-algorithm-for="FileSystemSyncAccessHandle">

            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export id="dom-filesystemsyncaccesshandle-getsize"><code>getSize()</code></dfn> 方法的步骤为：


            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④⑤">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-state④">[[state]]</a> 为 "<code>closed</code>"，
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw①②">抛出</a> 一个 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑦">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③③">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④⑥">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-file"
                            id="ref-for-filesystemsyncaccesshandle-file①①">[[file]]</a> 的
                        <a data-link-type="dfn" href="#file-entry-binary-data"
                            id="ref-for-file-entry-binary-data①③">二进制数据</a> 的 <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#byte-sequence-length"
                            id="ref-for-byte-sequence-length①①">长度</a>。
                    </p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.5" id="api-filesystemsyncaccesshandle-flush"><span
                class="secno">2.6.5. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-flush" id="ref-for-dom-filesystemsyncaccesshandle-flush①">flush()</a></code>
                方法</span><a class="self-link" href="#api-filesystemsyncaccesshandle-flush"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-flush" id="ref-for-dom-filesystemsyncaccesshandle-flush②">flush()</a></code>
                <dd data-md>
                    <p>确保与 <var>handle</var> 关联的文件内容包含通过 <code
                            class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-write" id="ref-for-dom-filesystemsyncaccesshandle-write④">write()</a></code>
                        所做的所有修改。
                    </p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="flush()" data-algorithm-for="FileSystemSyncAccessHandle">

            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export id="dom-filesystemsyncaccesshandle-flush"><code>flush()</code></dfn> 方法的步骤为：


            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④⑦">this</a> 的 <a data-link-type="dfn"
                            href="#filesystemsyncaccesshandle-state"
                            id="ref-for-filesystemsyncaccesshandle-state⑤">[[state]]</a> 为 "<code>closed</code>"，
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw①③">抛出</a> 一个 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑧">InvalidStateError</a></code>"
                        <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③④">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>尝试将该文件内容的所有已缓存修改传输到底层文件系统的存储设备。</p>
                    <p class="note" role="note"><span class="marker">注意：</span> 这也被称为刷新
                        (flushing)。在某些文件系统（例如内存文件系统）上可能是空操作，因为它们没有可刷新到的“磁盘”。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="2.6.6" id="api-filesystemsyncaccesshandle-close"><span
                class="secno">2.6.6. </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-close" id="ref-for-dom-filesystemsyncaccesshandle-close①">close()</a></code>
                方法</span><a class="self-link" href="#api-filesystemsyncaccesshandle-close"></a></h4>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>handle</var> . <code
                        class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-close" id="ref-for-dom-filesystemsyncaccesshandle-close②">close()</a></code>
                <dd data-md>
                    <p>关闭该 access handle；若已关闭则无操作。之后无法再对其进行任何操作，并且会<a data-link-type="dfn"
                            href="#file-entry-lock-release" id="ref-for-file-entry-lock-release②">释放</a>与
                        <var>handle</var> 关联的 [[file]] 的锁。
                    </p>
                </dd>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="close()" data-algorithm-for="FileSystemSyncAccessHandle">
            <dfn class="dfn-paneled idl-code" data-dfn-for="FileSystemSyncAccessHandle" data-dfn-type="method"
                data-export id="dom-filesystemsyncaccesshandle-close"><code>close()</code></dfn> 方法的实现步骤如下：
            <ol>
                <li>如果 <code>this</code> 的 [[state]] 为 "closed"，直接返回。</li>
                <li>将 <code>this</code> 的 [[state]] 设为 "closed"。</li>
                <li>设 <var>lockReleased</var> 为 false。</li>
                <li>设 <var>file</var> 为 <code>this</code> 的 [[file]]。</li>
                <li>将以下步骤加入文件系统队列：<ol>
                        <li>释放 <var>file</var> 的锁。</li>
                        <li>将 <var>lockReleased</var> 设为 true。</li>
                    </ol>
                <li>暂停，直到 <var>lockReleased</var> 为 true。</li>
            </ol>
            <p class="note" role="note"><span class="marker">注意：</span> 该方法不保证所有文件修改会立即写入底层存储。如需此保证，应先调用 <code
                    class="idl"><a data-link-type="idl" href="#dom-filesystemsyncaccesshandle-flush" id="ref-for-dom-filesystemsyncaccesshandle-flush③">flush()</a></code>。
            </p>
        </div>
        <h2 class="heading settled" data-level="3" id="sandboxed-filesystem"><span class="secno">3. </span><span
                class="content">访问 Bucket 文件系统</span><a class="self-link" href="#sandboxed-filesystem"></a></h2>
        <p>
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="origin-private-file-system">bucket 文件系统</dfn>
            是一种 <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-endpoint"
                id="ref-for-storage-endpoint">存储端点</a>，其
            <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-endpoint-identifier"
                id="ref-for-storage-endpoint-identifier">标识符</a>为 <code>"fileSystem"</code>，<a data-link-type="dfn"
                href="https://storage.spec.whatwg.org/#storage-endpoint-types"
                id="ref-for-storage-endpoint-types">类型</a>为 <code>« "local" »</code>，<a data-link-type="dfn"
                href="https://storage.spec.whatwg.org/#storage-endpoint-quota"
                id="ref-for-storage-endpoint-quota">配额</a>为 null。
        </p>
        <p class="XXX">
            存储端点应在 <a data-link-type="biblio" href="#biblio-storage" title="Storage Standard">[storage]</a>
            标准中定义，而不是在此处定义。应将其合并到那里的表格中。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span> 虽然用户代理通常会通过将 <a data-link-type="dfn"
                href="#origin-private-file-system" id="ref-for-origin-private-file-system⑤">bucket 文件系统</a>
            的内容持久化到磁盘来实现，但并不意味着用户可以轻易访问其内容。同样，也不要求磁盘上实际存在与 <a data-link-type="dfn" href="#origin-private-file-system"
                id="ref-for-origin-private-file-system⑥">bucket 文件系统</a> 子项同名的文件或目录。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑤"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://storage.spec.whatwg.org/#storagemanager" id="ref-for-storagemanager"><c- g>StorageManager</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemdirectoryhandle" id="ref-for-filesystemdirectoryhandle⑨"><c- n>FileSystemDirectoryHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-storagemanager-getdirectory" id="ref-for-dom-storagemanager-getdirectory②"><c- g>getDirectory</c-></a>();
};
</pre>
        <div class="note domintro" role="note">
            <dl>
                <dt data-md><var>directoryHandle</var> = await navigator . storage . <code
                        class="idl"><a data-link-type="idl" href="#dom-storagemanager-getdirectory" id="ref-for-dom-storagemanager-getdirectory③">getDirectory()</a></code>
                <dd data-md>
                    <p>返回 <a data-link-type="dfn" href="#origin-private-file-system"
                            id="ref-for-origin-private-file-system⑦">bucket 文件系统</a> 的根目录。</p>
            </dl>
        </div>
        <div class="algorithm" data-algorithm="getDirectory()" data-algorithm-for="StorageManager">
            <dfn class="dfn-paneled idl-code" data-dfn-for="StorageManager" data-dfn-type="method" data-export
                id="dom-storagemanager-getdirectory"><code>getDirectory()</code></dfn> 方法的实现步骤如下：
            <ol>
                <li data-md>
                    <p>令 <var>environment</var> 为<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object"
                            id="ref-for-current-settings-object">当前设置对象</a>。</p>
                <li data-md>
                    <p>令 <var>map</var> 为以 <var>environment</var> 和 <code>"fileSystem"</code> 运行 <a data-link-type="dfn"
                            href="https://storage.spec.whatwg.org/#obtain-a-local-storage-bottle-map"
                            id="ref-for-obtain-a-local-storage-bottle-map">获取本地存储 bottle 映射</a> 的结果。如果返回失败，则返回<a
                            data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                            id="ref-for-a-promise-rejected-with①">带拒绝的 promise</a>，错误为 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror">SecurityError</a></code>"
                        的 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③⑤">DOMException</a></code>。
                    </p>
                <li data-md>
                    <p>如果 <var>map</var>["root"] 不<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">存在</a>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>dir</var> 为新建的 <a data-link-type="dfn" href="#directory"
                                    id="ref-for-directory①⑨">目录条目</a>，其 <a data-link-type="dfn"
                                    href="#entry-query-access" id="ref-for-entry-query-access①①">查询访问</a> 和 <a
                                    data-link-type="dfn" href="#entry-request-access"
                                    id="ref-for-entry-request-access①⓪">请求访问</a>算法始终返回<a data-link-type="dfn"
                                    href="#file-system-access-result"
                                    id="ref-for-file-system-access-result④">文件系统访问结果</a>，其<a data-link-type="dfn"
                                    href="#file-system-access-result-permission-state"
                                    id="ref-for-file-system-access-result-permission-state①③">权限状态</a>为 "<code
                                    class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted①①">granted</a></code>"，<a
                                    data-link-type="dfn" href="#file-system-access-result-error-name"
                                    id="ref-for-file-system-access-result-error-name①②">error name</a> 为空字符串。</p>
                        <li data-md>
                            <p>将 <var>dir</var> 的 <a data-link-type="dfn" href="#entry-name"
                                    id="ref-for-entry-name①⑧">name</a> 设为空字符串。</p>
                        <li data-md>
                            <p>将 <var>dir</var> 的 <a data-link-type="dfn" href="#directory-entry-children"
                                    id="ref-for-directory-entry-children①①">children</a> 设为空<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#ordered-set"
                                    id="ref-for-ordered-set③">有序集合</a>。</p>
                        <li data-md>
                            <p>将 <var>map</var>["root"] 设为 <var>dir</var>。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>root</var> 为<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#implementation-defined"
                            id="ref-for-implementation-defined⑥">实现自定义</a>的不透明<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥">字符串</a>。</p>
                <li data-md>
                    <p>令 <var>path</var> 为 « 空字符串 »。</p>
                <li data-md>
                    <p>令 <var>handle</var> 为 <a data-link-type="dfn" href="#creating-a-new-filesystemdirectoryhandle"
                            id="ref-for-creating-a-new-filesystemdirectoryhandle">创建新的
                            <code>FileSystemDirectoryHandle</code></a>，参数为 <var>root</var> 和 <var>path</var>，作用域为<a
                            data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm">当前 Realm</a> 的结果。</p>
                    <p class="note" role="note"><span class="marker">注意：</span> <var>root</var> 可能包含如<a
                            data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-bucket"
                            id="ref-for-storage-bucket③">存储桶</a>等相关标识信息。</p>
                <li data-md>
                    <p class="assertion">断言：以 <var>handle</var> 的 <a data-link-type="dfn"
                            href="#filesystemhandle-locator" id="ref-for-filesystemhandle-locator④②">locator</a> 执行<a
                            data-link-type="dfn" href="#locating-an-entry"
                            id="ref-for-locating-an-entry②②">定位条目</a>，返回的<a data-link-type="dfn" href="#directory"
                            id="ref-for-directory②⓪">目录条目</a>与 <var>map</var>["root"]<a data-link-type="dfn"
                            href="#file-system-entry-the-same-entry-as"
                            id="ref-for-file-system-entry-the-same-entry-as">相同</a>。</p>
                <li data-md>
                    <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                            id="ref-for-a-promise-resolved-with">带解析的 promise</a>，值为 <var>handle</var>。</p>
            </ol>
        </div>
        <h2 class="no-num heading settled" id="acks"><span class="content">致谢</span><a class="self-link"
                href="#acks"></a></h2>
        <p>特别感谢
            Alex Danilo,
            Anne van Kesteren,
            Anoesj Sadraee,
            Austin Sullivan,
            Chase Phillips,
            Daseul Lee,
            Dru Knox,
            Edgar Chen,
            Emanuel Krivoy,
            Hazim Mohamed,
            Ingvar Stepanyan,
            Jari Jalkanen,
            Joshua Bell,
            Kagami Sascha Rosylight,
            Marcos Cáceres,
            Martin Thomson,
            Olivier Yiptong,
            Philip Jägenstedt,
            Randell Jesup,
            Richard Stotz,
            Ruth John,
            Sid Vishnoi,
            Sihui Liu,
            Stefan Sauer,
            Thomas Steiner,
            Victor Costan，以及
            Youenn Fablet
            的大力支持！</p>
        <p>本标准由 <span lang="nl">Marijn Kruisselbrink</span>（<a href="https://www.google.com/">Google</a>，<a
                href="mailto:mek@chromium.org">mek@chromium.org</a>）编写。</p>
        <h2 class="no-num heading settled" id="ipr"><span class="content">知识产权声明</span><a class="self-link"
                href="#ipr"></a></h2>
        <div data-fill-with="ipr">本 Living Standard 包含来自 W3C WICG 的 <a
                href="https://wicg.github.io/file-system-access/"><cite>File System Access</cite></a> 的内容，依据 <a
                href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">W3C 软件和文档许可</a> 提供。
        </div>
        <p>版权所有 © WHATWG（Apple，Google，Mozilla，Microsoft）。本作品采用 <a href="https://creativecommons.org/licenses/by/4.0/"
                rel="license">知识共享署名 4.0 国际许可协议</a> 许可。若部分内容被纳入源代码，则该部分源代码采用 <a
                href="https://opensource.org/licenses/BSD-3-Clause" rel="license">BSD 3-Clause 许可证</a>。</p>
        <p>本规范为 Living Standard。如需专利审查版本，请参见 <a href="/review-drafts/2025-09/">Living Standard Review Draft</a>。</p>
    </main>
    <script>
        // "use strict";
        // if ("serviceWorker" in navigator) {
        //     navigator.serviceWorker.register("/service-worker.js");
        // }
    </script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#dom-filesystemreadwriteoptions-at">at</a><span>，见 § 2.6</span>
        <li><a href="#file-entry-binary-data">binary data</a><span>，见 § 2.1</span>
        <li><a href="#origin-private-file-system">bucket 文件系统</a><span>，见 § 3</span>
        <li><a href="#filesystemwritablefilestream-buffer">[[buffer]]</a><span>，见 § 2.5</span>
        <li><a href="#directory-entry-children">children</a><span>，见 § 2.1</span>
        <li><a href="#dom-filesystemsyncaccesshandle-close">close()</a><span>，见 § 2.6.6</span>
        <li>
            create
            <ul>
                <li><a href="#dom-filesystemgetdirectoryoptions-create">FileSystemGetDirectoryOptions 的 dict
                        成员</a><span>，见 § 2.4</span>
                <li><a href="#dom-filesystemgetfileoptions-create">FileSystemGetFileOptions 的 dict 成员</a><span>，见
                        § 2.4</span>
            </ul>
        <li><a href="#create-a-new-filesystemsyncaccesshandle">create a new FileSystemSyncAccessHandle</a><span>，见
                § 2.6</span>
        <li><a href="#create-a-new-filesystemwritablefilestream">create a new FileSystemWritableFileStream</a><span>，见
                § 2.5</span>
        <li><a href="#dom-filesystemfilehandle-createsyncaccesshandle">createSyncAccessHandle()</a><span>，见
                § 2.3.3</span>
        <li><a href="#dom-filesystemfilehandle-createwritable">createWritable()</a><span>，见 § 2.3.2</span>
        <li><a href="#dom-filesystemfilehandle-createwritable">createWritable(options)</a><span>，见 § 2.3.2</span>
        <li><a href="#creating-a-child-filesystemdirectoryhandle">creating a child FileSystemDirectoryHandle</a><span>，见
                § 2.4</span>
        <li><a href="#creating-a-child-filesystemfilehandle">creating a child FileSystemFileHandle</a><span>，见
                § 2.3</span>
        <li><a href="#creating-a-new-filesystemdirectoryhandle">creating a new FileSystemDirectoryHandle</a><span>，见
                § 2.4</span>
        <li><a href="#creating-a-new-filesystemfilehandle">creating a new FileSystemFileHandle</a><span>，见 § 2.3</span>
        <li><a href="#create-a-new-filesystemsyncaccesshandle">creating a new FileSystemSyncAccessHandle</a><span>，见
                § 2.6</span>
        <li><a href="#create-a-new-filesystemwritablefilestream">creating a new FileSystemWritableFileStream</a><span>，见
                § 2.5</span>
        <li><a href="#dom-writeparams-data">data</a><span>，见 § 2.5</span>
        <li><a href="#dom-filesystemhandlekind-directory">"directory"</a><span>，见 § 2.2</span>
        <li><a href="#directory">directory entry</a><span>，见 § 2.1</span>
        <li><a href="#directory-locator">directory locator</a><span>，见 § 2.1</span>
        <li><a href="#file-system-access-result-error-name">error name</a><span>，见 § 2.1</span>
        <li><a href="#dom-filesystemhandlekind-file">"file"</a><span>，见 § 2.2</span>
        <li>
            [[file]]
            <ul>
                <li><a href="#filesystemsyncaccesshandle-file">FileSystemSyncAccessHandle 的定义</a><span>，见 § 2.6</span>
                <li><a href="#filesystemwritablefilestream-file">FileSystemWritableFileStream 的定义</a><span>，见
                        § 2.5</span>
            </ul>
        <li><a href="#file">file entry</a><span>，见 § 2.1</span>
        <li><a href="#file-locator">file locator</a><span>，见 § 2.1</span>
        <li><a href="#filesystemsyncaccesshandle-file-position-cursor">file position cursor</a><span>，见 § 2.6</span>
        <li><a href="#file-system-access-result">file system access result</a><span>，见 § 2.1</span>
        <li><a href="#dictdef-filesystemcreatewritableoptions">FileSystemCreateWritableOptions</a><span>，见 § 2.3</span>
        <li><a href="#filesystemdirectoryhandle">FileSystemDirectoryHandle</a><span>，见 § 2.4</span>
        <li><a href="#entry">file system entry</a><span>，见 § 2.1</span>
        <li><a href="#filesystemfilehandle">FileSystemFileHandle</a><span>，见 § 2.3</span>
        <li><a href="#dictdef-filesystemgetdirectoryoptions">FileSystemGetDirectoryOptions</a><span>，见 § 2.4</span>
        <li><a href="#dictdef-filesystemgetfileoptions">FileSystemGetFileOptions</a><span>，见 § 2.4</span>
        <li><a href="#filesystemhandle">FileSystemHandle</a><span>，见 § 2.2</span>
        <li><a href="#enumdef-filesystemhandlekind">FileSystemHandleKind</a><span>，见 § 2.2</span>
        <li><a href="#file-system-locator">file system locator</a><span>，见 § 2.1</span>
        <li><a href="#file-system-path">file system path</a><span>，见 § 2.1</span>
        <li><a href="#file-system-queue">file system queue</a><span>，见 § 2.1</span>
        <li><a href="#dictdef-filesystemreadwriteoptions">FileSystemReadWriteOptions</a><span>，见 § 2.6</span>
        <li><a href="#dictdef-filesystemremoveoptions">FileSystemRemoveOptions</a><span>，见 § 2.4</span>
        <li><a href="#file-system-root">file system root</a><span>，见 § 2.1</span>
        <li><a href="#filesystemsyncaccesshandle">FileSystemSyncAccessHandle</a><span>，见 § 2.6</span>
        <li><a href="#filesystemwritablefilestream">FileSystemWritableFileStream</a><span>，见 § 2.5</span>
        <li><a href="#typedefdef-filesystemwritechunktype">FileSystemWriteChunkType</a><span>，见 § 2.5</span>
        <li><a href="#dom-filesystemsyncaccesshandle-flush">flush()</a><span>，见 § 2.6.5</span>
        <li><a href="#dom-storagemanager-getdirectory">getDirectory()</a><span>，见 § 3</span>
        <li><a href="#dom-filesystemdirectoryhandle-getdirectoryhandle">getDirectoryHandle(name)</a><span>，见
                § 2.4.3</span>
        <li><a href="#dom-filesystemdirectoryhandle-getdirectoryhandle">getDirectoryHandle(name, options)</a><span>，见
                § 2.4.3</span>
        <li><a href="#dom-filesystemfilehandle-getfile">getFile()</a><span>，见 § 2.3.1</span>
        <li><a href="#dom-filesystemdirectoryhandle-getfilehandle">getFileHandle(name)</a><span>，见 § 2.4.2</span>
        <li><a href="#dom-filesystemdirectoryhandle-getfilehandle">getFileHandle(name, options)</a><span>，见
                § 2.4.2</span>
        <li><a href="#dom-filesystemsyncaccesshandle-getsize">getSize()</a><span>，见 § 2.6.4</span>
        <li><a href="#getting-the-locator">getting the locator</a><span>，见 § 2.1</span>
        <li><a href="#filesystemhandle-is-in-a-bucket-file-system">is in a bucket file system</a><span>，见 § 2.2</span>
        <li><a href="#dom-filesystemhandle-issameentry">isSameEntry(other)</a><span>，见 § 2.2.1</span>
        <li><a href="#dom-filesystemcreatewritableoptions-keepexistingdata">keepExistingData</a><span>，见 § 2.3</span>
        <li>
            kind
            <ul>
                <li><a href="#dom-filesystemhandle-kind">FileSystemHandle 的属性</a><span>，见 § 2.2</span>
                <li><a href="#locator-kind">file system locator 的定义</a><span>，见 § 2.1</span>
            </ul>
        <li><a href="#locating-an-entry">locating an entry</a><span>，见 § 2.1</span>
        <li><a href="#filesystemhandle-locator">locator</a><span>，见 § 2.2</span>
        <li><a href="#file-entry-lock">lock</a><span>，见 § 2.1</span>
        <li><a href="#file-entry-modification-timestamp">modification timestamp</a><span>，见 § 2.1</span>
        <li>
            name
            <ul>
                <li><a href="#dom-filesystemhandle-name">FileSystemHandle 的属性</a><span>，见 § 2.2</span>
                <li><a href="#entry-name">file system entry 的定义</a><span>，见 § 2.1</span>
            </ul>
        <li><a href="#entry-parent">parent</a><span>，见 § 2.1</span>
        <li><a href="#filesystemdirectoryhandle-iterator-past-results">past results</a><span>，见 § 2.4.1</span>
        <li><a href="#locator-path">path</a><span>，见 § 2.1</span>
        <li><a href="#file-system-access-result-permission-state">permission state</a><span>，见 § 2.1</span>
        <li><a href="#dom-writeparams-position">position</a><span>，见 § 2.5</span>
        <li><a href="#entry-query-access">query access</a><span>，见 § 2.1</span>
        <li><a href="#dom-filesystemsyncaccesshandle-read">read(buffer)</a><span>，见 § 2.6</span>
        <li><a href="#dom-filesystemsyncaccesshandle-read-buffer-filesystemreadwriteoptions-options">read(buffer,
                FileSystemReadWriteOptions: options)</a><span>，见 § 2.6.1</span>
        <li><a href="#dom-filesystemsyncaccesshandle-read">read(buffer, options)</a><span>，见 § 2.6</span>
        <li><a href="#dom-filesystemremoveoptions-recursive">recursive</a><span>，见 § 2.4</span>
        <li><a href="#file-entry-lock-release">release</a><span>，见 § 2.1</span>
        <li><a href="#dom-filesystemdirectoryhandle-removeentry">removeEntry(name)</a><span>，见 § 2.4.4</span>
        <li><a href="#dom-filesystemdirectoryhandle-removeentry">removeEntry(name, options)</a><span>，见 § 2.4.4</span>
        <li><a href="#entry-request-access">request access</a><span>，见 § 2.1</span>
        <li><a href="#locator-resolve">resolve</a><span>，见 § 2.1</span>
        <li><a href="#dom-filesystemdirectoryhandle-resolve">resolve(possibleDescendant)</a><span>，见 § 2.4.5</span>
        <li><a href="#locator-root">root</a><span>，见 § 2.1</span>
        <li><a href="#dom-writecommandtype-seek">"seek"</a><span>，见 § 2.5</span>
        <li><a href="#filesystemwritablefilestream-seekoffset">[[seekOffset]]</a><span>，见 § 2.5</span>
        <li><a href="#dom-filesystemwritablefilestream-seek">seek(position)</a><span>，见 § 2.5.2</span>
        <li><a href="#file-entry-shared-lock-count">shared lock count</a><span>，见 § 2.1</span>
        <li><a href="#dom-writeparams-size">size</a><span>，见 § 2.5</span>
        <li><a href="#filesystemsyncaccesshandle-state">[[state]]</a><span>，见 § 2.6</span>
        <li><a href="#file-entry-lock-take">take</a><span>，见 § 2.1</span>
        <li><a href="#file-system-entry-the-same-entry-as">the same entry as</a><span>，见 § 2.1</span>
        <li><a href="#file-system-locator-the-same-locator-as">the same locator as</a><span>，见 § 2.1</span>
        <li><a href="#file-system-path-the-same-path-as">the same path as</a><span>，见 § 2.1</span>
        <li><a href="#dom-writecommandtype-truncate">"truncate"</a><span>，见 § 2.5</span>
        <li><a href="#dom-filesystemsyncaccesshandle-truncate">truncate(newSize)</a><span>，见 § 2.6.3</span>
        <li><a href="#dom-filesystemwritablefilestream-truncate">truncate(size)</a><span>，见 § 2.5.3</span>
        <li><a href="#dom-writeparams-type">type</a><span>，见 § 2.5</span>
        <li><a href="#valid-file-name">valid file name</a><span>，见 § 2.1</span>
        <li><a href="#dom-writecommandtype-write">"write"</a><span>，见 § 2.5</span>
        <li><a href="#write-a-chunk">write a chunk</a><span>，见 § 2.5</span>
        <li><a href="#dom-filesystemsyncaccesshandle-write">write(buffer)</a><span>，见 § 2.6</span>
        <li><a href="#dom-filesystemsyncaccesshandle-write-buffer-filesystemreadwriteoptions-options">write(buffer,
                FileSystemReadWriteOptions: options)</a><span>，见 § 2.6.2</span>
        <li><a href="#dom-filesystemsyncaccesshandle-write">write(buffer, options)</a><span>，见 § 2.6</span>
        <li><a href="#enumdef-writecommandtype">WriteCommandType</a><span>，见 § 2.5</span>
        <li><a href="#dom-filesystemwritablefilestream-write">write(data)</a><span>，见 § 2.5.1</span>
        <li><a href="#dictdef-writeparams">WriteParams</a><span>，见 § 2.5</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用中定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[ECMASCRIPT]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="3aec4bbc">current realm（当前 Realm）</span>
                <li><span class="dfn-paneled" id="32132694">realm（Realm）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ENCODING]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="0303e8e5">utf-8 encode（utf-8 编码）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FILE-API]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="b7d73f5b">Blob</span>
                <li><span class="dfn-paneled" id="cd028611">File</span>
                <li><span class="dfn-paneled" id="f9970195">lastModified</span>
                <li><span class="dfn-paneled" id="1441e3bf">name</span>
                <li><span class="dfn-paneled" id="0a192674">read operation（读取操作）</span>
                <li><span class="dfn-paneled" id="c53e5a8e">snapshot state（快照状态）</span>
                <li><span class="dfn-paneled" id="e303c02d">type（类型）</span>
                <li><span class="dfn-paneled" id="17625652">unix epoch（Unix 纪元）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="eb5c4be3">Serializable（可序列化）</span>
                <li><span class="dfn-paneled" id="12b8dfc0">current settings object（当前设置对象）</span>
                <li><span class="dfn-paneled" id="888d7c65">deserialization steps（反序列化步骤）</span>
                <li><span class="dfn-paneled" id="e4d92278">enqueue steps（入队步骤）</span>
                <li><span class="dfn-paneled" id="102df61f">enqueue the following steps（入队以下步骤）</span>
                <li><span class="dfn-paneled" id="a72449dd">in parallel（并行）</span>
                <li><span class="dfn-paneled" id="43ac8374">origin（源）</span>
                <li><span class="dfn-paneled" id="64301ea1">pause（暂停）</span>
                <li><span class="dfn-paneled" id="e99bd18e">relevant global object（相关全局对象）</span>
                <li><span class="dfn-paneled" id="5991ccfb">relevant realm（相关 Realm）</span>
                <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object（相关设置对象）</span>
                <li><span class="dfn-paneled" id="7393da89">same origin（同源）</span>
                <li><span class="dfn-paneled" id="0a422d04">serializable object（可序列化对象）</span>
                <li><span class="dfn-paneled" id="f32dc6c1">serialization steps（序列化步骤）</span>
                <li><span class="dfn-paneled" id="8219d486">starting a new parallel queue（启动新并行队列）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="53275e46">append <small>(for list)（追加，列表）</small></span>
                <li><span class="dfn-paneled" id="a3b18719">append <small>(for set)（追加，集合）</small></span>
                <li><span class="dfn-paneled" id="77b4c09a">assert（断言）</span>
                <li><span class="dfn-paneled" id="3de9e659">byte sequence（字节序列）</span>
                <li><span class="dfn-paneled" id="027e3e49">clone（克隆）</span>
                <li><span class="dfn-paneled" id="ae8def21">contain（包含）</span>
                <li><span class="dfn-paneled" id="1243a891">exist（存在）</span>
                <li><span class="dfn-paneled" id="16d07e10">for each（遍历）</span>
                <li><span class="dfn-paneled" id="860300d4">implementation-defined（实现自定义）</span>
                <li><span class="dfn-paneled" id="fb8f82b0">indices（索引）</span>
                <li><span class="dfn-paneled" id="6b815fdd">is empty（为空）</span>
                <li><span class="dfn-paneled" id="5afbefcd">item <small>(for list)（项，列表）</small></span>
                <li><span class="dfn-paneled" id="c88f3887">item <small>(for struct)（项，结构体）</small></span>
                <li><span class="dfn-paneled" id="36333997">length（长度）</span>
                <li><span class="dfn-paneled" id="649608b9">list（列表）</span>
                <li><span class="dfn-paneled" id="99c988d6">remove（移除）</span>
                <li><span class="dfn-paneled" id="15e48c39">set（集合）</span>
                <li><span class="dfn-paneled" id="0204d188">size（大小）</span>
                <li><span class="dfn-paneled" id="0698d556">string（字符串）</span>
                <li><span class="dfn-paneled" id="984221ca">struct（结构体）</span>
                <li><span class="dfn-paneled" id="febebe0e">the range（区间）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="6c3bee60">PermissionState（权限状态）</span>
                <li><span class="dfn-paneled" id="2cb28cb0">denied（拒绝）</span>
                <li><span class="dfn-paneled" id="c6ce3c60">granted（已授权）</span>
                <li><span class="dfn-paneled" id="6c2d7879">powerful feature（高权限功能）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS-REQUEST]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="35725f70">permission request algorithm（权限请求算法）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[STORAGE]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="8649548f">StorageManager</span>
                <li><span class="dfn-paneled" id="7140f092">identifier（标识符）</span>
                <li><span class="dfn-paneled" id="6bb9d790">obtain a local storage bottle map（获取本地存储 bottle 映射）</span>
                <li><span class="dfn-paneled" id="d7bc2287">queue a storage task（入队存储任务）</span>
                <li><span class="dfn-paneled" id="896f4663">quota（配额）</span>
                <li><span class="dfn-paneled" id="6148dd37">storage bucket（存储桶）</span>
                <li><span class="dfn-paneled" id="98c6a112">storage endpoint（存储端点）</span>
                <li><span class="dfn-paneled" id="cac8dd86">storage quota（存储配额）</span>
                <li><span class="dfn-paneled" id="d9de012d">types（类型）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[STREAMS]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="59ed4e57">ReadableStream</span>
                <li><span class="dfn-paneled" id="59dc45b5">WritableStream</span>
                <li><span class="dfn-paneled" id="4f848e3e">WritableStreamDefaultWriter</span>
                <li><span class="dfn-paneled" id="22429d52">abortalgorithm（中止算法）</span>
                <li><span class="dfn-paneled" id="04dc6c33">closealgorithm（关闭算法）</span>
                <li><span class="dfn-paneled" id="2231a61a">getWriter()</span>
                <li><span class="dfn-paneled" id="f4acb816">getting a writer（获取 writer）</span>
                <li><span class="dfn-paneled" id="5958fe2e">highwatermark（高水位线）</span>
                <li><span class="dfn-paneled" id="a307241e">release（释放）</span>
                <li><span class="dfn-paneled" id="3dc81766">set up（设置）</span>
                <li><span class="dfn-paneled" id="5d7f2906">sizealgorithm（大小算法）</span>
                <li><span class="dfn-paneled" id="68d8cab8">write()</span>
                <li><span class="dfn-paneled" id="d04a8309">writealgorithm（写入算法）</span>
                <li><span class="dfn-paneled" id="1ee4bec2">writing a chunk（写入块）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="d25dfb2c">AbortError</span>
                <li><span class="dfn-paneled" id="5e4b6157">AllowSharedBufferSource</span>
                <li><span class="dfn-paneled" id="3aff2fb3">BufferSource</span>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                <li><span class="dfn-paneled" id="d54f5897">DataCloneError</span>
                <li><span class="dfn-paneled" id="c01cbda0">EnforceRange</span>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                <li><span class="dfn-paneled" id="cae6bf57">InvalidModificationError</span>
                <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
                <li><span class="dfn-paneled" id="45999d1c">NoModificationAllowedError</span>
                <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
                <li><span class="dfn-paneled" id="9eda9b58">NotFoundError</span>
                <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
                <li><span class="dfn-paneled" id="5e129c74">QuotaExceededError</span>
                <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
                <li><span class="dfn-paneled" id="c3e881ef">SecurityError</span>
                <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
                <li><span class="dfn-paneled" id="5d1a2ad0">TypeMismatchError</span>
                <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
                <li><span class="dfn-paneled" id="dacde8b5">a new promise（新 promise）</span>
                <li><span class="dfn-paneled" id="d0b4a948">a promise rejected with（带拒绝的 promise）</span>
                <li><span class="dfn-paneled" id="8f5c2179">a promise resolved with（带解析的 promise）</span>
                <li><span class="dfn-paneled" id="9a7f3f6f">asynchronous iterator initialization
                        steps（异步迭代器初始化步骤）</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean（布尔值）</span>
                <li><span class="dfn-paneled" id="495737df">byte length（字节长度）</span>
                <li><span class="dfn-paneled" id="cadf5fe9">converted to an idl value（转换为 idl 值）</span>
                <li><span class="dfn-paneled" id="bec98d30">dictionary（字典）</span>
                <li><span class="dfn-paneled" id="df71f478">domexception names table（DOM 异常名称表）</span>
                <li><span class="dfn-paneled" id="92d13070">get a copy of the buffer source（获取 BufferSource 副本）</span>
                <li><span class="dfn-paneled" id="e7652812">get the next iteration result（获取下一个迭代结果）</span>
                <li><span class="dfn-paneled" id="44959ae4">name（名称）</span>
                <li><span class="dfn-paneled" id="56f81a8e">new（新建）</span>
                <li><span class="dfn-paneled" id="b262501e">reject（拒绝）</span>
                <li><span class="dfn-paneled" id="3b90bdcd">resolve（解析）</span>
                <li><span class="dfn-paneled" id="9cce47fd">sequence（序列）</span>
                <li><span class="dfn-paneled" id="4013a022">this（当前实例）</span>
                <li><span class="dfn-paneled" id="b4cfa5ce">throw（抛出）</span>
                <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
                <li><span class="dfn-paneled" id="f32e046f">underlying buffer（底层 buffer）</span>
                <li><span class="dfn-paneled" id="f14b47b8">unsigned long long（无符号长整型）</span>
                <li><span class="dfn-paneled" id="2d6ca7ca">write（写入）</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript 语言规范</cite></a>。URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-encoding">[ENCODING]
        <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>编码标准（Encoding
                    Standard）</cite></a>。Living Standard。URL: <a
                href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
        <dt id="biblio-file-api">[FILE-API]
        <dd>Marijn Kruisselbrink. <a href="https://w3c.github.io/FileAPI/"><cite>File API</cite></a>。URL: <a
                href="https://w3c.github.io/FileAPI/">https://w3c.github.io/FileAPI/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren 等。<a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>。Living
            Standard。URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren；Domenic Denicola。<a href="https://infra.spec.whatwg.org/"><cite>Infra 标准</cite></a>。Living
            Standard。URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-permissions">[PERMISSIONS]
        <dd>Marcos Caceres；Mike Taylor。<a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>。URL: <a
                href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
        <dt id="biblio-permissions-request">[PERMISSIONS-REQUEST]
        <dd><a href="https://wicg.github.io/permissions-request/"><cite>请求权限（Requesting
                    Permissions）</cite></a>。cg-draft。URL: <a
                href="https://wicg.github.io/permissions-request/">https://wicg.github.io/permissions-request/</a>
        <dt id="biblio-storage">[STORAGE]
        <dd>Anne van Kesteren。<a href="https://storage.spec.whatwg.org/"><cite>存储标准（Storage Standard）</cite></a>。Living
            Standard。URL: <a href="https://storage.spec.whatwg.org/">https://storage.spec.whatwg.org/</a>
        <dt id="biblio-streams">[STREAMS]
        <dd>Adam Rice 等。<a href="https://streams.spec.whatwg.org/"><cite>Streams 标准</cite></a>。Living Standard。URL: <a
                href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen；Timothy Gu。<a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>。Living
            Standard。URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def"><c- b>enum</c-> <a href="#enumdef-filesystemhandlekind"><code><c- g>FileSystemHandleKind</c-></code></a> {
  <a href="#dom-filesystemhandlekind-file"><code><c- s>"file"</c-></code></a>,
  <a href="#dom-filesystemhandlekind-directory"><code><c- s>"directory"</c-></code></a>,
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <a href="#filesystemhandle"><code><c- g>FileSystemHandle</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-filesystemhandlekind"><c- n>FileSystemHandleKind</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FileSystemHandleKind" href="#dom-filesystemhandle-kind"><c- g>kind</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-filesystemhandle-name"><c- g>name</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemhandle-issameentry"><c- g>isSameEntry</c-></a>(<a data-link-type="idl-name" href="#filesystemhandle"><c- n>FileSystemHandle</c-></a> <a href="#dom-filesystemhandle-issameentry-other-other"><code><c- g>other</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-filesystemcreatewritableoptions"><code><c- g>FileSystemCreateWritableOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-filesystemcreatewritableoptions-keepexistingdata"><code><c- g>keepExistingData</c-></code></a> = <c- b>false</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <a href="#filesystemfilehandle"><code><c- g>FileSystemFileHandle</c-></code></a> : <a data-link-type="idl-name" href="#filesystemhandle"><c- n>FileSystemHandle</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-file"><c- n>File</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-getfile"><c- g>getFile</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemwritablefilestream"><c- n>FileSystemWritableFileStream</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-createwritable"><c- g>createWritable</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemcreatewritableoptions"><c- n>FileSystemCreateWritableOptions</c-></a> <a href="#dom-filesystemfilehandle-createwritable-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->]
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemsyncaccesshandle"><c- n>FileSystemSyncAccessHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemfilehandle-createsyncaccesshandle"><c- g>createSyncAccessHandle</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-filesystemgetfileoptions"><code><c- g>FileSystemGetFileOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-filesystemgetfileoptions-create"><code><c- g>create</c-></code></a> = <c- b>false</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-filesystemgetdirectoryoptions"><code><c- g>FileSystemGetDirectoryOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-filesystemgetdirectoryoptions-create"><code><c- g>create</c-></code></a> = <c- b>false</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-filesystemremoveoptions"><code><c- g>FileSystemRemoveOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-filesystemremoveoptions-recursive"><code><c- g>recursive</c-></code></a> = <c- b>false</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <a href="#filesystemdirectoryhandle"><code><c- g>FileSystemDirectoryHandle</c-></code></a> : <a data-link-type="idl-name" href="#filesystemhandle"><c- n>FileSystemHandle</c-></a> {
  <c- b>async_iterable</c->&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a data-link-type="idl-name" href="#filesystemhandle"><c- n>FileSystemHandle</c-></a>>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemfilehandle"><c- n>FileSystemFileHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-getfilehandle"><c- g>getFileHandle</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-filesystemdirectoryhandle-getfilehandle-name-options-name"><code><c- g>name</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemgetfileoptions"><c- n>FileSystemGetFileOptions</c-></a> <a href="#dom-filesystemdirectoryhandle-getfilehandle-name-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemdirectoryhandle"><c- n>FileSystemDirectoryHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-getdirectoryhandle"><c- g>getDirectoryHandle</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-name"><code><c- g>name</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemgetdirectoryoptions"><c- n>FileSystemGetDirectoryOptions</c-></a> <a href="#dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-removeentry"><c- g>removeEntry</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-filesystemdirectoryhandle-removeentry-name-options-name"><code><c- g>name</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemremoveoptions"><c- n>FileSystemRemoveOptions</c-></a> <a href="#dom-filesystemdirectoryhandle-removeentry-name-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>>?> <a class="idl-code" data-link-type="method" href="#dom-filesystemdirectoryhandle-resolve"><c- g>resolve</c-></a>(<a data-link-type="idl-name" href="#filesystemhandle"><c- n>FileSystemHandle</c-></a> <a href="#dom-filesystemdirectoryhandle-resolve-possibledescendant-possibledescendant"><code><c- g>possibleDescendant</c-></code></a>);
};

<c- b>enum</c-> <a href="#enumdef-writecommandtype"><code><c- g>WriteCommandType</c-></code></a> {
  <a href="#dom-writecommandtype-write"><code><c- s>"write"</c-></code></a>,
  <a href="#dom-writecommandtype-seek"><code><c- s>"seek"</c-></code></a>,
  <a href="#dom-writecommandtype-truncate"><code><c- s>"truncate"</c-></code></a>,
};

<c- b>dictionary</c-> <a href="#dictdef-writeparams"><code><c- g>WriteParams</c-></code></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-writecommandtype"><c- n>WriteCommandType</c-></a> <a data-type="WriteCommandType" href="#dom-writeparams-type"><code><c- g>type</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>? <a data-type="unsigned long long?" href="#dom-writeparams-size"><code><c- g>size</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>? <a data-type="unsigned long long?" href="#dom-writeparams-position"><code><c- g>position</c-></code></a>;
  (<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#BufferSource"><c- n>BufferSource</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob"><c- n>Blob</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>)? <a data-type="(BufferSource or Blob or USVString)?" href="#dom-writeparams-data"><code><c- g>data</c-></code></a>;
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#BufferSource"><c- n>BufferSource</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://w3c.github.io/FileAPI/#dfn-Blob"><c- n>Blob</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-writeparams"><c- n>WriteParams</c-></a>) <a href="#typedefdef-filesystemwritechunktype"><code><c- g>FileSystemWriteChunkType</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#filesystemwritablefilestream"><code><c- g>FileSystemWritableFileStream</c-></code></a> : <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream"><c- n>WritableStream</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-write"><c- g>write</c-></a>(<a data-link-type="idl-name" href="#typedefdef-filesystemwritechunktype"><c- n>FileSystemWriteChunkType</c-></a> <a href="#dom-filesystemwritablefilestream-write-data-data"><code><c- g>data</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-seek"><c- g>seek</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#dom-filesystemwritablefilestream-seek-position-position"><code><c- g>position</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-filesystemwritablefilestream-truncate"><c- g>truncate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#dom-filesystemwritablefilestream-truncate-size-size"><code><c- g>size</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-filesystemreadwriteoptions"><code><c- g>FileSystemReadWriteOptions</c-></code></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-type="unsigned long long" href="#dom-filesystemreadwriteoptions-at"><code><c- g>at</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>DedicatedWorker</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#filesystemsyncaccesshandle"><code><c- g>FileSystemSyncAccessHandle</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#dom-filesystemsyncaccesshandle-read"><code><c- g>read</c-></code></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource"><c- n>AllowSharedBufferSource</c-></a> <a href="#dom-filesystemsyncaccesshandle-read-buffer-options-buffer"><code><c- g>buffer</c-></code></a>,
                          <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemreadwriteoptions"><c- n>FileSystemReadWriteOptions</c-></a> <a href="#dom-filesystemsyncaccesshandle-read-buffer-options-options"><code><c- g>options</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#dom-filesystemsyncaccesshandle-write"><code><c- g>write</c-></code></a>(<a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#AllowSharedBufferSource"><c- n>AllowSharedBufferSource</c-></a> <a href="#dom-filesystemsyncaccesshandle-write-buffer-options-buffer"><code><c- g>buffer</c-></code></a>,
                           <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-filesystemreadwriteoptions"><c- n>FileSystemReadWriteOptions</c-></a> <a href="#dom-filesystemsyncaccesshandle-write-buffer-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-truncate"><c- g>truncate</c-></a>([<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange"><c- g>EnforceRange</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a href="#dom-filesystemsyncaccesshandle-truncate-newsize-newsize"><code><c- g>newSize</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-getsize"><c- g>getSize</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-flush"><c- g>flush</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-filesystemsyncaccesshandle-close"><c- g>close</c-></a>();
};


[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://storage.spec.whatwg.org/#storagemanager"><c- g>StorageManager</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#filesystemdirectoryhandle"><c- n>FileSystemDirectoryHandle</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-storagemanager-getdirectory"><c- g>getDirectory</c-></a>();
};

</pre>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "0204d188": { "dfnID": "0204d188", "dfnText": "size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-size" }, { "id": "ref-for-list-size\u2460" }, { "id": "ref-for-list-size\u2461" }, { "id": "ref-for-list-size\u2462" }, { "id": "ref-for-list-size\u2463" }, { "id": "ref-for-list-size\u2464" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#list-size" },
                "027e3e49": { "dfnID": "027e3e49", "dfnText": "clone", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-clone" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-list-clone\u2460" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://infra.spec.whatwg.org/#list-clone" },
                "0303e8e5": { "dfnID": "0303e8e5", "dfnText": "UTF-8 encode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-encode" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "04dc6c33": { "dfnID": "04dc6c33", "dfnText": "closeAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up-closealgorithm" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up-closealgorithm" },
                "0698d556": { "dfnID": "0698d556", "dfnText": "string", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string" }, { "id": "ref-for-string\u2460" }, { "id": "ref-for-string\u2461" }, { "id": "ref-for-string\u2462" }, { "id": "ref-for-string\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-string\u2464" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-string\u2465" }], "title": "3. Accessing the Bucket File System" }], "url": "https://infra.spec.whatwg.org/#string" },
                "0a192674": { "dfnID": "0a192674", "dfnText": "read operation", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readOperation" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://w3c.github.io/FileAPI/#readOperation" },
                "0a422d04": { "dfnID": "0a422d04", "dfnText": "serializable object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serializable-objects" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-serializable-objects\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-serializable-objects\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects" },
                "102df61f": { "dfnID": "102df61f", "dfnText": "enqueue the following steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-enqueue-the-following-steps" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2460" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2464" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2467" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2468" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u24ea" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u2460" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u2461" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2460\u2462" }], "title": "2.6.6. The close() method" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" },
                "1243a891": { "dfnID": "1243a891", "dfnText": "exist", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-exists" }, { "id": "ref-for-map-exists\u2460" }, { "id": "ref-for-map-exists\u2461" }, { "id": "ref-for-map-exists\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-map-exists\u2463" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-map-exists\u2464" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-map-exists\u2465" }], "title": "3. Accessing the Bucket File System" }], "url": "https://infra.spec.whatwg.org/#map-exists" },
                "12b8dfc0": { "dfnID": "12b8dfc0", "dfnText": "current settings object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-current-settings-object" }], "title": "3. Accessing the Bucket File System" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object" },
                "1441e3bf": { "dfnID": "1441e3bf", "dfnText": "name", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-name" }], "title": "2.3.1. The getFile() method" }], "url": "https://w3c.github.io/FileAPI/#dfn-name" },
                "15e48c39": { "dfnID": "15e48c39", "dfnText": "set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-ordered-set\u2460" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-ordered-set\u2461" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-ordered-set\u2462" }], "title": "3. Accessing the Bucket File System" }], "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "16d07e10": { "dfnID": "16d07e10", "dfnText": "for each", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }, { "id": "ref-for-list-iterate\u2460" }, { "id": "ref-for-list-iterate\u2461" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-list-iterate\u2462" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-list-iterate\u2463" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-list-iterate\u2464" }], "title": "2.4.4. The removeEntry() method" }], "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "17625652": { "dfnID": "17625652", "dfnText": "Unix Epoch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-UnixEpoch" }], "title": "2.1. Concepts" }], "url": "https://w3c.github.io/FileAPI/#UnixEpoch" },
                "1ee4bec2": { "dfnID": "1ee4bec2", "dfnText": "writing a chunk", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultwriter-write-a-chunk" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-write-a-chunk\u2460" }], "title": "2.5.2. The seek() method" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-write-a-chunk\u2461" }], "title": "2.5.3. The truncate() method" }], "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-write-a-chunk" },
                "2231a61a": { "dfnID": "2231a61a", "dfnText": "getWriter()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ws-get-writer" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#ws-get-writer" },
                "22429d52": { "dfnID": "22429d52", "dfnText": "abortAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up-abortalgorithm" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up-abortalgorithm" },
                "2cb28cb0": { "dfnID": "2cb28cb0", "dfnText": "denied", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionstate-denied" }, { "id": "ref-for-dom-permissionstate-denied\u2460" }], "title": "2.1. Concepts" }], "url": "https://w3c.github.io/permissions/#dom-permissionstate-denied" },
                "2d6ca7ca": { "dfnID": "2d6ca7ca", "dfnText": "write", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-arraybuffer-write" }], "title": "2.6.1. The read() method" }], "url": "https://webidl.spec.whatwg.org/#arraybuffer-write" },
                "32132694": { "dfnID": "32132694", "dfnText": "realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-realm" }, { "id": "ref-for-realm\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-realm\u2461" }, { "id": "ref-for-realm\u2462" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-realm\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-realm\u2464" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://tc39.es/ecma262/#realm" },
                "35725f70": { "dfnID": "35725f70", "dfnText": "permission request algorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-permission-request-algorithm" }], "title": "2.1. Concepts" }], "url": "https://wicg.github.io/permissions-request/#permission-request-algorithm" },
                "36333997": { "dfnID": "36333997", "dfnText": "length", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence-length" }, { "id": "ref-for-byte-sequence-length\u2460" }, { "id": "ref-for-byte-sequence-length\u2461" }, { "id": "ref-for-byte-sequence-length\u2462" }, { "id": "ref-for-byte-sequence-length\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-byte-sequence-length\u2464" }, { "id": "ref-for-byte-sequence-length\u2465" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-byte-sequence-length\u2466" }, { "id": "ref-for-byte-sequence-length\u2467" }, { "id": "ref-for-byte-sequence-length\u2468" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-byte-sequence-length\u2460\u24ea" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-byte-sequence-length\u2460\u2460" }], "title": "2.6.4. The getSize() method" }], "url": "https://infra.spec.whatwg.org/#byte-sequence-length" },
                "3aec4bbc": { "dfnID": "3aec4bbc", "dfnText": "current realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-current-realm" }], "title": "3. Accessing the Bucket File System" }], "url": "https://tc39.es/ecma262/#current-realm" },
                "3aff2fb3": { "dfnID": "3aff2fb3", "dfnText": "BufferSource", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-BufferSource" }, { "id": "ref-for-BufferSource\u2460" }, { "id": "ref-for-BufferSource\u2461" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#BufferSource" },
                "3b90bdcd": { "dfnID": "3b90bdcd", "dfnText": "resolve", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-resolve" }, { "id": "ref-for-resolve\u2460" }, { "id": "ref-for-resolve\u2461" }, { "id": "ref-for-resolve\u2462" }, { "id": "ref-for-resolve\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-resolve\u2464" }, { "id": "ref-for-resolve\u2465" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-resolve\u2466" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-resolve\u2467" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-resolve\u2468" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u24ea" }, { "id": "ref-for-resolve\u2460\u2460" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2461" }, { "id": "ref-for-resolve\u2460\u2462" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2463" }, { "id": "ref-for-resolve\u2460\u2464" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2465" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-resolve\u2460\u2466" }, { "id": "ref-for-resolve\u2460\u2467" }, { "id": "ref-for-resolve\u2460\u2468" }, { "id": "ref-for-resolve\u2461\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#resolve" },
                "3dc81766": { "dfnID": "3dc81766", "dfnText": "set up", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up" },
                "3de9e659": { "dfnID": "3de9e659", "dfnText": "byte sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-byte-sequence\u2461" }, { "id": "ref-for-byte-sequence\u2462" }, { "id": "ref-for-byte-sequence\u2463" }, { "id": "ref-for-byte-sequence\u2464" }, { "id": "ref-for-byte-sequence\u2465" }, { "id": "ref-for-byte-sequence\u2466" }, { "id": "ref-for-byte-sequence\u2467" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-byte-sequence\u2468" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460\u24ea" }, { "id": "ref-for-byte-sequence\u2460\u2460" }, { "id": "ref-for-byte-sequence\u2460\u2461" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-byte-sequence\u2460\u2462" }, { "id": "ref-for-byte-sequence\u2460\u2463" }, { "id": "ref-for-byte-sequence\u2460\u2464" }], "title": "2.6.3. The truncate() method" }], "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "4013a022": { "dfnID": "4013a022", "dfnText": "this", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-this" }, { "id": "ref-for-this\u2460" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-this\u2461" }, { "id": "ref-for-this\u2462" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-this\u2465" }, { "id": "ref-for-this\u2466" }, { "id": "ref-for-this\u2467" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-this\u2468" }, { "id": "ref-for-this\u2460\u24ea" }, { "id": "ref-for-this\u2460\u2460" }, { "id": "ref-for-this\u2460\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2462" }, { "id": "ref-for-this\u2460\u2463" }, { "id": "ref-for-this\u2460\u2464" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2465" }, { "id": "ref-for-this\u2460\u2466" }, { "id": "ref-for-this\u2460\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-this\u2460\u2468" }, { "id": "ref-for-this\u2461\u24ea" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-this\u2461\u2460" }], "title": "2.4.5. The resolve() method" }, { "refs": [{ "id": "ref-for-this\u2461\u2461" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-this\u2461\u2462" }], "title": "2.5.2. The seek() method" }, { "refs": [{ "id": "ref-for-this\u2461\u2463" }], "title": "2.5.3. The truncate() method" }, { "refs": [{ "id": "ref-for-this\u2461\u2464" }, { "id": "ref-for-this\u2461\u2465" }, { "id": "ref-for-this\u2461\u2466" }, { "id": "ref-for-this\u2461\u2467" }, { "id": "ref-for-this\u2461\u2468" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-this\u2462\u24ea" }, { "id": "ref-for-this\u2462\u2460" }, { "id": "ref-for-this\u2462\u2461" }, { "id": "ref-for-this\u2462\u2462" }, { "id": "ref-for-this\u2462\u2463" }, { "id": "ref-for-this\u2462\u2464" }, { "id": "ref-for-this\u2462\u2465" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-this\u2462\u2466" }, { "id": "ref-for-this\u2462\u2467" }, { "id": "ref-for-this\u2462\u2468" }, { "id": "ref-for-this\u2463\u24ea" }, { "id": "ref-for-this\u2463\u2460" }, { "id": "ref-for-this\u2463\u2461" }, { "id": "ref-for-this\u2463\u2462" }, { "id": "ref-for-this\u2463\u2463" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-this\u2463\u2464" }, { "id": "ref-for-this\u2463\u2465" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-this\u2463\u2466" }], "title": "2.6.5. The flush() method" }, { "refs": [{ "id": "ref-for-this\u2463\u2467" }, { "id": "ref-for-this\u2463\u2468" }, { "id": "ref-for-this\u2464\u24ea" }], "title": "2.6.6. The close() method" }], "url": "https://webidl.spec.whatwg.org/#this" },
                "43ac8374": { "dfnID": "43ac8374", "dfnText": "origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-origin" }, { "id": "ref-for-concept-settings-object-origin\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
                "44959ae4": { "dfnID": "44959ae4", "dfnText": "name", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-domexception-name" }], "title": "2.1. Concepts" }], "url": "https://webidl.spec.whatwg.org/#domexception-name" },
                "45999d1c": { "dfnID": "45999d1c", "dfnText": "NoModificationAllowedError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-nomodificationallowederror" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-nomodificationallowederror\u2460" }], "title": "2.3.3. The createSyncAccessHandle() method" }], "url": "https://webidl.spec.whatwg.org/#nomodificationallowederror" },
                "495737df": { "dfnID": "495737df", "dfnText": "byte length", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-buffersource-byte-length" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-buffersource-byte-length\u2460" }], "title": "2.6.2. The write() method" }], "url": "https://webidl.spec.whatwg.org/#buffersource-byte-length" },
                "4f848e3e": { "dfnID": "4f848e3e", "dfnText": "WritableStreamDefaultWriter", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultwriter" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter" },
                "53275e46": { "dfnID": "53275e46", "dfnText": "append (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-append" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-list-append\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-list-append\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://infra.spec.whatwg.org/#list-append" },
                "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-idl-boolean\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-idl-boolean\u2461" }, { "id": "ref-for-idl-boolean\u2462" }, { "id": "ref-for-idl-boolean\u2463" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "56f81a8e": { "dfnID": "56f81a8e", "dfnText": "new", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-new" }, { "id": "ref-for-new\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-new\u2461" }, { "id": "ref-for-new\u2462" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-new\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-new\u2464" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#new" },
                "5958fe2e": { "dfnID": "5958fe2e", "dfnText": "highWaterMark", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up-highwatermark" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark" },
                "5991ccfb": { "dfnID": "5991ccfb", "dfnText": "relevant realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-realm" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2460" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2462" }, { "id": "ref-for-concept-relevant-realm\u2463" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2464" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2465" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
                "59dc45b5": { "dfnID": "59dc45b5", "dfnText": "WritableStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream" }, { "id": "ref-for-writablestream\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream" },
                "59ed4e57": { "dfnID": "59ed4e57", "dfnText": "ReadableStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#readablestream" },
                "5afbefcd": { "dfnID": "5afbefcd", "dfnText": "item (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-item" }, { "id": "ref-for-list-item\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-list-item\u2461" }, { "id": "ref-for-list-item\u2462" }, { "id": "ref-for-list-item\u2463" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://infra.spec.whatwg.org/#list-item" },
                "5d1a2ad0": { "dfnID": "5d1a2ad0", "dfnText": "TypeMismatchError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typemismatcherror" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-typemismatcherror\u2460" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "https://webidl.spec.whatwg.org/#typemismatcherror" },
                "5d7f2906": { "dfnID": "5d7f2906", "dfnText": "sizeAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up-sizealgorithm" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up-sizealgorithm" },
                "5e129c74": { "dfnID": "5e129c74", "dfnText": "QuotaExceededError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-quotaexceedederror" }, { "id": "ref-for-quotaexceedederror\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-quotaexceedederror\u2461" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-quotaexceedederror\u2462" }], "title": "2.6.3. The truncate() method" }], "url": "https://webidl.spec.whatwg.org/#quotaexceedederror" },
                "5e4b6157": { "dfnID": "5e4b6157", "dfnText": "AllowSharedBufferSource", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-AllowSharedBufferSource" }, { "id": "ref-for-AllowSharedBufferSource\u2460" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#AllowSharedBufferSource" },
                "5f90bbfb": { "dfnID": "5f90bbfb", "dfnText": "undefined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460" }, { "id": "ref-for-idl-undefined\u2461" }, { "id": "ref-for-idl-undefined\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-idl-undefined\u2463" }, { "id": "ref-for-idl-undefined\u2464" }, { "id": "ref-for-idl-undefined\u2465" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "6148dd37": { "dfnID": "6148dd37", "dfnText": "storage bucket", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-bucket" }, { "id": "ref-for-storage-bucket\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-storage-bucket\u2461" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-storage-bucket\u2462" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storage-bucket" },
                "64301ea1": { "dfnID": "64301ea1", "dfnText": "pause", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-pause" }], "title": "2.6.6. The close() method" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#pause" },
                "649608b9": { "dfnID": "649608b9", "dfnText": "list", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list" }, { "id": "ref-for-list\u2460" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#list" },
                "68d8cab8": { "dfnID": "68d8cab8", "dfnText": "write()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-default-writer-write" }, { "id": "ref-for-default-writer-write\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#default-writer-write" },
                "6b815fdd": { "dfnID": "6b815fdd", "dfnText": "is empty", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }], "title": "2.4.4. The removeEntry() method" }], "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "6bb9d790": { "dfnID": "6bb9d790", "dfnText": "obtain a local storage bottle map", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-obtain-a-local-storage-bottle-map" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#obtain-a-local-storage-bottle-map" },
                "6c2d7879": { "dfnID": "6c2d7879", "dfnText": "powerful feature", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-powerful-feature" }, { "id": "ref-for-dfn-powerful-feature\u2460" }], "title": "2.1. Concepts" }], "url": "https://w3c.github.io/permissions/#dfn-powerful-feature" },
                "6c3bee60": { "dfnID": "6c3bee60", "dfnText": "PermissionState", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionstate" }], "title": "2.1. Concepts" }], "url": "https://w3c.github.io/permissions/#dom-permissionstate" },
                "7140f092": { "dfnID": "7140f092", "dfnText": "identifier", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-endpoint-identifier" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storage-endpoint-identifier" },
                "7393da89": { "dfnID": "7393da89", "dfnText": "same origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-same-origin" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin" },
                "77b4c09a": { "dfnID": "77b4c09a", "dfnText": "assert", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-assert" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-assert\u2460" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-assert\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-assert\u2462" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-assert\u2463" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-assert\u2464" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-assert\u2465" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-assert\u2466" }, { "id": "ref-for-assert\u2467" }, { "id": "ref-for-assert\u2468" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://infra.spec.whatwg.org/#assert" },
                "797018a7": { "dfnID": "797018a7", "dfnText": "InvalidStateError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-invalidstateerror" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2460" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2461" }, { "id": "ref-for-invalidstateerror\u2462" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2463" }, { "id": "ref-for-invalidstateerror\u2464" }, { "id": "ref-for-invalidstateerror\u2465" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2466" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2467" }], "title": "2.6.5. The flush() method" }], "url": "https://webidl.spec.whatwg.org/#invalidstateerror" },
                "8219d486": { "dfnID": "8219d486", "dfnText": "starting a new parallel queue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-starting-a-new-parallel-queue" }], "title": "2.1. Concepts" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" },
                "82ca3efc": { "dfnID": "82ca3efc", "dfnText": "TypeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-typeerror" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2460" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2461" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2462" }, { "id": "ref-for-exceptiondef-typeerror\u2463" }, { "id": "ref-for-exceptiondef-typeerror\u2464" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2465" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2466" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2467" }], "title": "2.6.3. The truncate() method" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "860300d4": { "dfnID": "860300d4", "dfnText": "implementation-defined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }, { "id": "ref-for-implementation-defined\u2460" }, { "id": "ref-for-implementation-defined\u2461" }, { "id": "ref-for-implementation-defined\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-implementation-defined\u2463" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-implementation-defined\u2464" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-implementation-defined\u2465" }], "title": "3. Accessing the Bucket File System" }], "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "8649548f": { "dfnID": "8649548f", "dfnText": "StorageManager", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storagemanager" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storagemanager" },
                "888d7c65": { "dfnID": "888d7c65", "dfnText": "deserialization steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-deserialization-steps" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-deserialization-steps\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-deserialization-steps\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-Exposed\u2460" }, { "id": "ref-for-Exposed\u2461" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-Exposed\u2462" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-Exposed\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-Exposed\u2464" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "896f4663": { "dfnID": "896f4663", "dfnText": "quota", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-endpoint-quota" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storage-endpoint-quota" },
                "8f5c2179": { "dfnID": "8f5c2179", "dfnText": "a promise resolved with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-promise-resolved-with" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#a-promise-resolved-with" },
                "92d13070": { "dfnID": "92d13070", "dfnText": "get a copy of the buffer source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-get-buffer-source-copy" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy" },
                "984221ca": { "dfnID": "984221ca", "dfnText": "struct", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-struct" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#struct" },
                "98c6a112": { "dfnID": "98c6a112", "dfnText": "storage endpoint", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-endpoint" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storage-endpoint" },
                "99c988d6": { "dfnID": "99c988d6", "dfnText": "remove", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-remove" }], "title": "2.4.4. The removeEntry() method" }], "url": "https://infra.spec.whatwg.org/#list-remove" },
                "9a7f3f6f": { "dfnID": "9a7f3f6f", "dfnText": "asynchronous iterator initialization steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-asynchronous-iterator-initialization-steps" }], "title": "2.4.1. Directory iteration" }], "url": "https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps" },
                "9c4c1e66": { "dfnID": "9c4c1e66", "dfnText": "relevant settings object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-relevant-settings-object" }, { "id": "ref-for-relevant-settings-object\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "9cce47fd": { "dfnID": "9cce47fd", "dfnText": "sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-sequence" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "9eda9b58": { "dfnID": "9eda9b58", "dfnText": "NotFoundError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-notfounderror" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-notfounderror\u2460" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-notfounderror\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-notfounderror\u2462" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-notfounderror\u2463" }, { "id": "ref-for-notfounderror\u2464" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-notfounderror\u2465" }, { "id": "ref-for-notfounderror\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-notfounderror\u2467" }, { "id": "ref-for-notfounderror\u2468" }], "title": "2.4.4. The removeEntry() method" }], "url": "https://webidl.spec.whatwg.org/#notfounderror" },
                "a307241e": { "dfnID": "a307241e", "dfnText": "release", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultwriter-release" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-release\u2460" }], "title": "2.5.2. The seek() method" }, { "refs": [{ "id": "ref-for-writablestreamdefaultwriter-release\u2461" }], "title": "2.5.3. The truncate() method" }], "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release" },
                "a3b18719": { "dfnID": "a3b18719", "dfnText": "append (for set)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-set-append" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-set-append\u2460" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-set-append\u2461" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "https://infra.spec.whatwg.org/#set-append" },
                "a72449dd": { "dfnID": "a72449dd", "dfnText": "in parallel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }], "title": "2.1. Concepts" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "ae8def21": { "dfnID": "ae8def21", "dfnText": "contain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-list-contain\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://infra.spec.whatwg.org/#list-contain" },
                "b0d7f3c3": { "dfnID": "b0d7f3c3", "dfnText": "USVString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-USVString" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-idl-USVString\u2460" }, { "id": "ref-for-idl-USVString\u2461" }, { "id": "ref-for-idl-USVString\u2462" }, { "id": "ref-for-idl-USVString\u2463" }, { "id": "ref-for-idl-USVString\u2464" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-idl-USVString\u2465" }, { "id": "ref-for-idl-USVString\u2466" }, { "id": "ref-for-idl-USVString\u2467" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "b262501e": { "dfnID": "b262501e", "dfnText": "reject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-reject" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-reject\u2460" }, { "id": "ref-for-reject\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-reject\u2462" }, { "id": "ref-for-reject\u2463" }, { "id": "ref-for-reject\u2464" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-reject\u2465" }, { "id": "ref-for-reject\u2466" }, { "id": "ref-for-reject\u2467" }, { "id": "ref-for-reject\u2468" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-reject\u2460\u24ea" }, { "id": "ref-for-reject\u2460\u2460" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-reject\u2460\u2461" }, { "id": "ref-for-reject\u2460\u2462" }, { "id": "ref-for-reject\u2460\u2463" }, { "id": "ref-for-reject\u2460\u2464" }, { "id": "ref-for-reject\u2460\u2465" }, { "id": "ref-for-reject\u2460\u2466" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-reject\u2460\u2467" }, { "id": "ref-for-reject\u2460\u2468" }, { "id": "ref-for-reject\u2461\u24ea" }, { "id": "ref-for-reject\u2461\u2460" }, { "id": "ref-for-reject\u2461\u2461" }, { "id": "ref-for-reject\u2461\u2462" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-reject\u2461\u2463" }, { "id": "ref-for-reject\u2461\u2464" }, { "id": "ref-for-reject\u2461\u2465" }, { "id": "ref-for-reject\u2461\u2466" }, { "id": "ref-for-reject\u2461\u2467" }, { "id": "ref-for-reject\u2461\u2468" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-reject\u2462\u24ea" }, { "id": "ref-for-reject\u2462\u2460" }, { "id": "ref-for-reject\u2462\u2461" }, { "id": "ref-for-reject\u2462\u2462" }, { "id": "ref-for-reject\u2462\u2463" }, { "id": "ref-for-reject\u2462\u2464" }, { "id": "ref-for-reject\u2462\u2465" }, { "id": "ref-for-reject\u2462\u2466" }, { "id": "ref-for-reject\u2462\u2467" }, { "id": "ref-for-reject\u2462\u2468" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#reject" },
                "b4cfa5ce": { "dfnID": "b4cfa5ce", "dfnText": "throw", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-throw" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-dfn-throw\u2460" }, { "id": "ref-for-dfn-throw\u2461" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-dfn-throw\u2462" }, { "id": "ref-for-dfn-throw\u2463" }, { "id": "ref-for-dfn-throw\u2464" }, { "id": "ref-for-dfn-throw\u2465" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-dfn-throw\u2466" }, { "id": "ref-for-dfn-throw\u2467" }, { "id": "ref-for-dfn-throw\u2468" }, { "id": "ref-for-dfn-throw\u2460\u24ea" }, { "id": "ref-for-dfn-throw\u2460\u2460" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-dfn-throw\u2460\u2461" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-dfn-throw\u2460\u2462" }], "title": "2.6.5. The flush() method" }], "url": "https://webidl.spec.whatwg.org/#dfn-throw" },
                "b75bb3bd": { "dfnID": "b75bb3bd", "dfnText": "SecureContext", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SecureContext" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2463" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2464" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "b7d73f5b": { "dfnID": "b7d73f5b", "dfnText": "Blob", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-Blob" }, { "id": "ref-for-dfn-Blob\u2460" }, { "id": "ref-for-dfn-Blob\u2461" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://w3c.github.io/FileAPI/#dfn-Blob" },
                "ba556545": { "dfnID": "ba556545", "dfnText": "NotAllowedError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-notallowederror" }], "title": "2.1. Concepts" }], "url": "https://webidl.spec.whatwg.org/#notallowederror" },
                "bdbd19d1": { "dfnID": "bdbd19d1", "dfnText": "Promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-promise" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2460" }, { "id": "ref-for-idl-promise\u2461" }, { "id": "ref-for-idl-promise\u2462" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2463" }, { "id": "ref-for-idl-promise\u2464" }, { "id": "ref-for-idl-promise\u2465" }, { "id": "ref-for-idl-promise\u2466" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2467" }, { "id": "ref-for-idl-promise\u2468" }, { "id": "ref-for-idl-promise\u2460\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2460\u2460" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "bec98d30": { "dfnID": "bec98d30", "dfnText": "dictionary", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-dictionary" }, { "id": "ref-for-dfn-dictionary\u2460" }, { "id": "ref-for-dfn-dictionary\u2461" }, { "id": "ref-for-dfn-dictionary\u2462" }, { "id": "ref-for-dfn-dictionary\u2463" }, { "id": "ref-for-dfn-dictionary\u2464" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#dfn-dictionary" },
                "c01cbda0": { "dfnID": "c01cbda0", "dfnText": "EnforceRange", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-EnforceRange" }, { "id": "ref-for-EnforceRange\u2460" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#EnforceRange" },
                "c3e881ef": { "dfnID": "c3e881ef", "dfnText": "SecurityError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-securityerror" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#securityerror" },
                "c53e5a8e": { "dfnID": "c53e5a8e", "dfnText": "snapshot state", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-snapshot-state" }], "title": "2.3.1. The getFile() method" }], "url": "https://w3c.github.io/FileAPI/#snapshot-state" },
                "c6ce3c60": { "dfnID": "c6ce3c60", "dfnText": "granted", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionstate-granted" }, { "id": "ref-for-dom-permissionstate-granted\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2464" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2467" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2468" }, { "id": "ref-for-dom-permissionstate-granted\u2460\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-permissionstate-granted\u2460\u2460" }], "title": "3. Accessing the Bucket File System" }], "url": "https://w3c.github.io/permissions/#dom-permissionstate-granted" },
                "c88f3887": { "dfnID": "c88f3887", "dfnText": "item (for struct)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-struct-item" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#struct-item" },
                "cac8dd86": { "dfnID": "cac8dd86", "dfnText": "storage quota", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-quota" }, { "id": "ref-for-storage-quota\u2460" }, { "id": "ref-for-storage-quota\u2461" }, { "id": "ref-for-storage-quota\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-storage-quota\u2463" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-storage-quota\u2464" }], "title": "2.6.3. The truncate() method" }], "url": "https://storage.spec.whatwg.org/#storage-quota" },
                "cadf5fe9": { "dfnID": "cadf5fe9", "dfnText": "converted to an IDL value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-convert-ecmascript-to-idl-value" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" },
                "cae6bf57": { "dfnID": "cae6bf57", "dfnText": "InvalidModificationError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-invalidmodificationerror" }], "title": "2.4.4. The removeEntry() method" }], "url": "https://webidl.spec.whatwg.org/#invalidmodificationerror" },
                "cd028611": { "dfnID": "cd028611", "dfnText": "File", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-file" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-dfn-file\u2460" }, { "id": "ref-for-dfn-file\u2461" }, { "id": "ref-for-dfn-file\u2462" }], "title": "2.3.1. The getFile() method" }], "url": "https://w3c.github.io/FileAPI/#dfn-file" },
                "create-a-new-filesystemsyncaccesshandle": { "dfnID": "create-a-new-filesystemsyncaccesshandle", "dfnText": "create a new FileSystemSyncAccessHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-a-new-filesystemsyncaccesshandle" }], "title": "2.3.3. The createSyncAccessHandle() method" }], "url": "#create-a-new-filesystemsyncaccesshandle" },
                "create-a-new-filesystemwritablefilestream": { "dfnID": "create-a-new-filesystemwritablefilestream", "dfnText": "create a new FileSystemWritableFileStream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-a-new-filesystemwritablefilestream" }], "title": "2.3.2. The createWritable() method" }], "url": "#create-a-new-filesystemwritablefilestream" },
                "creating-a-child-filesystemdirectoryhandle": { "dfnID": "creating-a-child-filesystemdirectoryhandle", "dfnText": "create a child FileSystemDirectoryHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-creating-a-child-filesystemdirectoryhandle" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-creating-a-child-filesystemdirectoryhandle\u2460" }, { "id": "ref-for-creating-a-child-filesystemdirectoryhandle\u2461" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "#creating-a-child-filesystemdirectoryhandle" },
                "creating-a-child-filesystemfilehandle": { "dfnID": "creating-a-child-filesystemfilehandle", "dfnText": "create a child FileSystemFileHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-creating-a-child-filesystemfilehandle" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-creating-a-child-filesystemfilehandle\u2460" }, { "id": "ref-for-creating-a-child-filesystemfilehandle\u2461" }], "title": "2.4.2. The getFileHandle() method" }], "url": "#creating-a-child-filesystemfilehandle" },
                "creating-a-new-filesystemdirectoryhandle": { "dfnID": "creating-a-new-filesystemdirectoryhandle", "dfnText": "create a new FileSystemDirectoryHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-creating-a-new-filesystemdirectoryhandle" }], "title": "3. Accessing the Bucket File System" }], "url": "#creating-a-new-filesystemdirectoryhandle" },
                "creating-a-new-filesystemfilehandle": { "dfnID": "creating-a-new-filesystemfilehandle", "dfnText": "create a new FileSystemFileHandle", "external": false, "refSections": [], "url": "#creating-a-new-filesystemfilehandle" },
                "d04a8309": { "dfnID": "d04a8309", "dfnText": "writeAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-set-up-writealgorithm" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm" },
                "d0b4a948": { "dfnID": "d0b4a948", "dfnText": "a promise rejected with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-promise-rejected-with" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2460" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
                "d25dfb2c": { "dfnID": "d25dfb2c", "dfnText": "AbortError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-aborterror" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#aborterror" },
                "d54f5897": { "dfnID": "d54f5897", "dfnText": "DataCloneError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-datacloneerror" }], "title": "2.2. The FileSystemHandle interface" }], "url": "https://webidl.spec.whatwg.org/#datacloneerror" },
                "d7bc2287": { "dfnID": "d7bc2287", "dfnText": "queue a storage task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-a-storage-task" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2460" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2461" }, { "id": "ref-for-queue-a-storage-task\u2462" }, { "id": "ref-for-queue-a-storage-task\u2463" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2464" }, { "id": "ref-for-queue-a-storage-task\u2465" }, { "id": "ref-for-queue-a-storage-task\u2466" }, { "id": "ref-for-queue-a-storage-task\u2467" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2468" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2460\u24ea" }, { "id": "ref-for-queue-a-storage-task\u2460\u2460" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2460\u2461" }, { "id": "ref-for-queue-a-storage-task\u2460\u2462" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2460\u2463" }, { "id": "ref-for-queue-a-storage-task\u2460\u2464" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-queue-a-storage-task\u2460\u2465" }, { "id": "ref-for-queue-a-storage-task\u2460\u2466" }, { "id": "ref-for-queue-a-storage-task\u2460\u2467" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://storage.spec.whatwg.org/#queue-a-storage-task" },
                "d9de012d": { "dfnID": "d9de012d", "dfnText": "types", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-endpoint-types" }], "title": "3. Accessing the Bucket File System" }], "url": "https://storage.spec.whatwg.org/#storage-endpoint-types" },
                "dacde8b5": { "dfnID": "dacde8b5", "dfnText": "a new promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-new-promise" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2464" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-a-new-promise\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2467" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-a-new-promise\u2468" }, { "id": "ref-for-a-new-promise\u2460\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "dca2de17": { "dfnID": "dca2de17", "dfnText": "DOMException", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460" }, { "id": "ref-for-idl-DOMException\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462" }, { "id": "ref-for-idl-DOMException\u2463" }, { "id": "ref-for-idl-DOMException\u2464" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2465" }, { "id": "ref-for-idl-DOMException\u2466" }, { "id": "ref-for-idl-DOMException\u2467" }, { "id": "ref-for-idl-DOMException\u2468" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460\u24ea" }, { "id": "ref-for-idl-DOMException\u2460\u2460" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460\u2461" }, { "id": "ref-for-idl-DOMException\u2460\u2462" }, { "id": "ref-for-idl-DOMException\u2460\u2463" }, { "id": "ref-for-idl-DOMException\u2460\u2464" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460\u2465" }, { "id": "ref-for-idl-DOMException\u2460\u2466" }, { "id": "ref-for-idl-DOMException\u2460\u2467" }, { "id": "ref-for-idl-DOMException\u2460\u2468" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461\u24ea" }, { "id": "ref-for-idl-DOMException\u2461\u2460" }, { "id": "ref-for-idl-DOMException\u2461\u2461" }, { "id": "ref-for-idl-DOMException\u2461\u2462" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461\u2463" }, { "id": "ref-for-idl-DOMException\u2461\u2464" }, { "id": "ref-for-idl-DOMException\u2461\u2465" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461\u2466" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461\u2467" }, { "id": "ref-for-idl-DOMException\u2461\u2468" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462\u24ea" }, { "id": "ref-for-idl-DOMException\u2462\u2460" }, { "id": "ref-for-idl-DOMException\u2462\u2461" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462\u2462" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462\u2463" }], "title": "2.6.5. The flush() method" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462\u2464" }], "title": "3. Accessing the Bucket File System" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "df71f478": { "dfnID": "df71f478", "dfnText": "DOMException names table", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-error-names-table" }], "title": "2.1. Concepts" }], "url": "https://webidl.spec.whatwg.org/#dfn-error-names-table" },
                "dictdef-filesystemcreatewritableoptions": { "dfnID": "dictdef-filesystemcreatewritableoptions", "dfnText": "FileSystemCreateWritableOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-filesystemcreatewritableoptions" }], "title": "2.3. The FileSystemFileHandle interface" }], "url": "#dictdef-filesystemcreatewritableoptions" },
                "dictdef-filesystemgetdirectoryoptions": { "dfnID": "dictdef-filesystemgetdirectoryoptions", "dfnText": "FileSystemGetDirectoryOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-filesystemgetdirectoryoptions" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#dictdef-filesystemgetdirectoryoptions" },
                "dictdef-filesystemgetfileoptions": { "dfnID": "dictdef-filesystemgetfileoptions", "dfnText": "FileSystemGetFileOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-filesystemgetfileoptions" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#dictdef-filesystemgetfileoptions" },
                "dictdef-filesystemreadwriteoptions": { "dfnID": "dictdef-filesystemreadwriteoptions", "dfnText": "FileSystemReadWriteOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-filesystemreadwriteoptions" }, { "id": "ref-for-dictdef-filesystemreadwriteoptions\u2460" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-dictdef-filesystemreadwriteoptions\u2461" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-dictdef-filesystemreadwriteoptions\u2462" }], "title": "2.6.2. The write() method" }], "url": "#dictdef-filesystemreadwriteoptions" },
                "dictdef-filesystemremoveoptions": { "dfnID": "dictdef-filesystemremoveoptions", "dfnText": "FileSystemRemoveOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-filesystemremoveoptions" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#dictdef-filesystemremoveoptions" },
                "dictdef-writeparams": { "dfnID": "dictdef-writeparams", "dfnText": "WriteParams", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-writeparams" }, { "id": "ref-for-dictdef-writeparams\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#dictdef-writeparams" },
                "directory": { "dfnID": "directory", "dfnText": "directory entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-directory" }, { "id": "ref-for-directory\u2460" }, { "id": "ref-for-directory\u2461" }, { "id": "ref-for-directory\u2462" }, { "id": "ref-for-directory\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-directory\u2464" }, { "id": "ref-for-directory\u2465" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-directory\u2466" }, { "id": "ref-for-directory\u2467" }, { "id": "ref-for-directory\u2468" }, { "id": "ref-for-directory\u2460\u24ea" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-directory\u2460\u2460" }, { "id": "ref-for-directory\u2460\u2461" }, { "id": "ref-for-directory\u2460\u2462" }, { "id": "ref-for-directory\u2460\u2463" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-directory\u2460\u2464" }, { "id": "ref-for-directory\u2460\u2465" }, { "id": "ref-for-directory\u2460\u2466" }, { "id": "ref-for-directory\u2460\u2467" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-directory\u2460\u2468" }, { "id": "ref-for-directory\u2461\u24ea" }], "title": "3. Accessing the Bucket File System" }], "url": "#directory" },
                "directory-entry-children": { "dfnID": "directory-entry-children", "dfnText": "children", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-directory-entry-children" }, { "id": "ref-for-directory-entry-children\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-directory-entry-children\u2461" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-directory-entry-children\u2462" }, { "id": "ref-for-directory-entry-children\u2463" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-directory-entry-children\u2464" }, { "id": "ref-for-directory-entry-children\u2465" }, { "id": "ref-for-directory-entry-children\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-directory-entry-children\u2467" }, { "id": "ref-for-directory-entry-children\u2468" }, { "id": "ref-for-directory-entry-children\u2460\u24ea" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-directory-entry-children\u2460\u2460" }], "title": "3. Accessing the Bucket File System" }], "url": "#directory-entry-children" },
                "directory-locator": { "dfnID": "directory-locator", "dfnText": "directory locator", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-directory-locator" }, { "id": "ref-for-directory-locator\u2460" }, { "id": "ref-for-directory-locator\u2461" }, { "id": "ref-for-directory-locator\u2462" }, { "id": "ref-for-directory-locator\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-directory-locator\u2464" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-directory-locator\u2465" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#directory-locator" },
                "dom-filesystemcreatewritableoptions-keepexistingdata": { "dfnID": "dom-filesystemcreatewritableoptions-keepexistingdata", "dfnText": "keepExistingData", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemcreatewritableoptions-keepexistingdata" }, { "id": "ref-for-dom-filesystemcreatewritableoptions-keepexistingdata\u2460" }, { "id": "ref-for-dom-filesystemcreatewritableoptions-keepexistingdata\u2461" }], "title": "2.3.2. The createWritable() method" }], "url": "#dom-filesystemcreatewritableoptions-keepexistingdata" },
                "dom-filesystemdirectoryhandle-getdirectoryhandle": { "dfnID": "dom-filesystemdirectoryhandle-getdirectoryhandle", "dfnText": "getDirectoryHandle(name, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle\u2460" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle\u2461" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle\u2462" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getdirectoryhandle\u2463" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "#dom-filesystemdirectoryhandle-getdirectoryhandle" },
                "dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-name": { "dfnID": "dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-name" },
                "dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-options": { "dfnID": "dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-getdirectoryhandle-name-options-options" },
                "dom-filesystemdirectoryhandle-getfilehandle": { "dfnID": "dom-filesystemdirectoryhandle-getfilehandle", "dfnText": "getFileHandle(name, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-getfilehandle" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-getfilehandle\u2460" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getfilehandle\u2461" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getfilehandle\u2462" }, { "id": "ref-for-dom-filesystemdirectoryhandle-getfilehandle\u2463" }], "title": "2.4.2. The getFileHandle() method" }], "url": "#dom-filesystemdirectoryhandle-getfilehandle" },
                "dom-filesystemdirectoryhandle-getfilehandle-name-options-name": { "dfnID": "dom-filesystemdirectoryhandle-getfilehandle-name-options-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-getfilehandle-name-options-name" },
                "dom-filesystemdirectoryhandle-getfilehandle-name-options-options": { "dfnID": "dom-filesystemdirectoryhandle-getfilehandle-name-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-getfilehandle-name-options-options" },
                "dom-filesystemdirectoryhandle-removeentry": { "dfnID": "dom-filesystemdirectoryhandle-removeentry", "dfnText": "removeEntry(name, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-removeentry" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-removeentry\u2460" }, { "id": "ref-for-dom-filesystemdirectoryhandle-removeentry\u2461" }, { "id": "ref-for-dom-filesystemdirectoryhandle-removeentry\u2462" }, { "id": "ref-for-dom-filesystemdirectoryhandle-removeentry\u2463" }], "title": "2.4.4. The removeEntry() method" }], "url": "#dom-filesystemdirectoryhandle-removeentry" },
                "dom-filesystemdirectoryhandle-removeentry-name-options-name": { "dfnID": "dom-filesystemdirectoryhandle-removeentry-name-options-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-removeentry-name-options-name" },
                "dom-filesystemdirectoryhandle-removeentry-name-options-options": { "dfnID": "dom-filesystemdirectoryhandle-removeentry-name-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-removeentry-name-options-options" },
                "dom-filesystemdirectoryhandle-resolve": { "dfnID": "dom-filesystemdirectoryhandle-resolve", "dfnText": "resolve(possibleDescendant)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-resolve" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemdirectoryhandle-resolve\u2460" }, { "id": "ref-for-dom-filesystemdirectoryhandle-resolve\u2461" }], "title": "2.4.5. The resolve() method" }], "url": "#dom-filesystemdirectoryhandle-resolve" },
                "dom-filesystemdirectoryhandle-resolve-possibledescendant-possibledescendant": { "dfnID": "dom-filesystemdirectoryhandle-resolve-possibledescendant-possibledescendant", "dfnText": "possibleDescendant", "external": false, "refSections": [], "url": "#dom-filesystemdirectoryhandle-resolve-possibledescendant-possibledescendant" },
                "dom-filesystemfilehandle-createsyncaccesshandle": { "dfnID": "dom-filesystemfilehandle-createsyncaccesshandle", "dfnText": "createSyncAccessHandle()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemfilehandle-createsyncaccesshandle" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemfilehandle-createsyncaccesshandle\u2460" }, { "id": "ref-for-dom-filesystemfilehandle-createsyncaccesshandle\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }], "url": "#dom-filesystemfilehandle-createsyncaccesshandle" },
                "dom-filesystemfilehandle-createwritable": { "dfnID": "dom-filesystemfilehandle-createwritable", "dfnText": "createWritable(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemfilehandle-createwritable" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemfilehandle-createwritable\u2460" }, { "id": "ref-for-dom-filesystemfilehandle-createwritable\u2461" }, { "id": "ref-for-dom-filesystemfilehandle-createwritable\u2462" }], "title": "2.3.2. The createWritable() method" }], "url": "#dom-filesystemfilehandle-createwritable" },
                "dom-filesystemfilehandle-createwritable-options-options": { "dfnID": "dom-filesystemfilehandle-createwritable-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemfilehandle-createwritable-options-options" },
                "dom-filesystemfilehandle-getfile": { "dfnID": "dom-filesystemfilehandle-getfile", "dfnText": "getFile()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemfilehandle-getfile" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemfilehandle-getfile\u2460" }, { "id": "ref-for-dom-filesystemfilehandle-getfile\u2461" }], "title": "2.3.1. The getFile() method" }], "url": "#dom-filesystemfilehandle-getfile" },
                "dom-filesystemgetdirectoryoptions-create": { "dfnID": "dom-filesystemgetdirectoryoptions-create", "dfnText": "create", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemgetdirectoryoptions-create" }, { "id": "ref-for-dom-filesystemgetdirectoryoptions-create\u2460" }, { "id": "ref-for-dom-filesystemgetdirectoryoptions-create\u2461" }, { "id": "ref-for-dom-filesystemgetdirectoryoptions-create\u2462" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "#dom-filesystemgetdirectoryoptions-create" },
                "dom-filesystemgetfileoptions-create": { "dfnID": "dom-filesystemgetfileoptions-create", "dfnText": "create", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemgetfileoptions-create" }, { "id": "ref-for-dom-filesystemgetfileoptions-create\u2460" }, { "id": "ref-for-dom-filesystemgetfileoptions-create\u2461" }, { "id": "ref-for-dom-filesystemgetfileoptions-create\u2462" }, { "id": "ref-for-dom-filesystemgetfileoptions-create\u2463" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-dom-filesystemgetfileoptions-create\u2464" }], "title": "2.4.3. The getDirectoryHandle() method" }], "url": "#dom-filesystemgetfileoptions-create" },
                "dom-filesystemhandle-issameentry": { "dfnID": "dom-filesystemhandle-issameentry", "dfnText": "isSameEntry(other)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemhandle-issameentry" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemhandle-issameentry\u2460" }, { "id": "ref-for-dom-filesystemhandle-issameentry\u2461" }], "title": "2.2.1. The isSameEntry() method" }], "url": "#dom-filesystemhandle-issameentry" },
                "dom-filesystemhandle-issameentry-other-other": { "dfnID": "dom-filesystemhandle-issameentry-other-other", "dfnText": "other", "external": false, "refSections": [], "url": "#dom-filesystemhandle-issameentry-other-other" },
                "dom-filesystemhandle-kind": { "dfnID": "dom-filesystemhandle-kind", "dfnText": "kind", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemhandle-kind" }, { "id": "ref-for-dom-filesystemhandle-kind\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "#dom-filesystemhandle-kind" },
                "dom-filesystemhandle-name": { "dfnID": "dom-filesystemhandle-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemhandle-name" }, { "id": "ref-for-dom-filesystemhandle-name\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "#dom-filesystemhandle-name" },
                "dom-filesystemhandlekind-directory": { "dfnID": "dom-filesystemhandlekind-directory", "dfnText": "\"directory\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemhandlekind-directory" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-dom-filesystemhandlekind-directory\u2460" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemhandlekind-directory\u2461" }, { "id": "ref-for-dom-filesystemhandlekind-directory\u2462" }, { "id": "ref-for-dom-filesystemhandlekind-directory\u2463" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#dom-filesystemhandlekind-directory" },
                "dom-filesystemhandlekind-file": { "dfnID": "dom-filesystemhandlekind-file", "dfnText": "\"file\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemhandlekind-file" }, { "id": "ref-for-dom-filesystemhandlekind-file\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-dom-filesystemhandlekind-file\u2461" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemhandlekind-file\u2462" }, { "id": "ref-for-dom-filesystemhandlekind-file\u2463" }, { "id": "ref-for-dom-filesystemhandlekind-file\u2464" }], "title": "2.3. The FileSystemFileHandle interface" }], "url": "#dom-filesystemhandlekind-file" },
                "dom-filesystemreadwriteoptions-at": { "dfnID": "dom-filesystemreadwriteoptions-at", "dfnText": "at", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemreadwriteoptions-at" }, { "id": "ref-for-dom-filesystemreadwriteoptions-at\u2460" }, { "id": "ref-for-dom-filesystemreadwriteoptions-at\u2461" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-dom-filesystemreadwriteoptions-at\u2462" }, { "id": "ref-for-dom-filesystemreadwriteoptions-at\u2463" }, { "id": "ref-for-dom-filesystemreadwriteoptions-at\u2464" }], "title": "2.6.2. The write() method" }], "url": "#dom-filesystemreadwriteoptions-at" },
                "dom-filesystemremoveoptions-recursive": { "dfnID": "dom-filesystemremoveoptions-recursive", "dfnText": "recursive", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemremoveoptions-recursive" }, { "id": "ref-for-dom-filesystemremoveoptions-recursive\u2460" }, { "id": "ref-for-dom-filesystemremoveoptions-recursive\u2461" }, { "id": "ref-for-dom-filesystemremoveoptions-recursive\u2462" }], "title": "2.4.4. The removeEntry() method" }], "url": "#dom-filesystemremoveoptions-recursive" },
                "dom-filesystemsyncaccesshandle-close": { "dfnID": "dom-filesystemsyncaccesshandle-close", "dfnText": "close()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-close" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-close\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-close\u2461" }], "title": "2.6.6. The close() method" }], "url": "#dom-filesystemsyncaccesshandle-close" },
                "dom-filesystemsyncaccesshandle-flush": { "dfnID": "dom-filesystemsyncaccesshandle-flush", "dfnText": "flush()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-flush" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-flush\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-flush\u2461" }], "title": "2.6.5. The flush() method" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-flush\u2462" }], "title": "2.6.6. The close() method" }], "url": "#dom-filesystemsyncaccesshandle-flush" },
                "dom-filesystemsyncaccesshandle-getsize": { "dfnID": "dom-filesystemsyncaccesshandle-getsize", "dfnText": "getSize()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-getsize" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-getsize\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-getsize\u2461" }], "title": "2.6.4. The getSize() method" }], "url": "#dom-filesystemsyncaccesshandle-getsize" },
                "dom-filesystemsyncaccesshandle-read": { "dfnID": "dom-filesystemsyncaccesshandle-read", "dfnText": "read", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-read" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-read\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-read\u2461" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-read\u2462" }], "title": "2.6.1. The read() method" }], "url": "#dom-filesystemsyncaccesshandle-read" },
                "dom-filesystemsyncaccesshandle-read-buffer-filesystemreadwriteoptions-options": { "dfnID": "dom-filesystemsyncaccesshandle-read-buffer-filesystemreadwriteoptions-options", "dfnText": "read(buffer, FileSystemReadWriteOptions: options)", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-read-buffer-filesystemreadwriteoptions-options" },
                "dom-filesystemsyncaccesshandle-read-buffer-options-buffer": { "dfnID": "dom-filesystemsyncaccesshandle-read-buffer-options-buffer", "dfnText": "buffer", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-read-buffer-options-buffer" },
                "dom-filesystemsyncaccesshandle-read-buffer-options-options": { "dfnID": "dom-filesystemsyncaccesshandle-read-buffer-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-read-buffer-options-options" },
                "dom-filesystemsyncaccesshandle-truncate": { "dfnID": "dom-filesystemsyncaccesshandle-truncate", "dfnText": "truncate(newSize)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-truncate" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-truncate\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-truncate\u2461" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-truncate\u2462" }], "title": "2.6.3. The truncate() method" }], "url": "#dom-filesystemsyncaccesshandle-truncate" },
                "dom-filesystemsyncaccesshandle-truncate-newsize-newsize": { "dfnID": "dom-filesystemsyncaccesshandle-truncate-newsize-newsize", "dfnText": "newSize", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-truncate-newsize-newsize" },
                "dom-filesystemsyncaccesshandle-write": { "dfnID": "dom-filesystemsyncaccesshandle-write", "dfnText": "write", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-write" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-write\u2460" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-write\u2461" }, { "id": "ref-for-dom-filesystemsyncaccesshandle-write\u2462" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-dom-filesystemsyncaccesshandle-write\u2463" }], "title": "2.6.5. The flush() method" }], "url": "#dom-filesystemsyncaccesshandle-write" },
                "dom-filesystemsyncaccesshandle-write-buffer-filesystemreadwriteoptions-options": { "dfnID": "dom-filesystemsyncaccesshandle-write-buffer-filesystemreadwriteoptions-options", "dfnText": "write(buffer, FileSystemReadWriteOptions: options)", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-write-buffer-filesystemreadwriteoptions-options" },
                "dom-filesystemsyncaccesshandle-write-buffer-options-buffer": { "dfnID": "dom-filesystemsyncaccesshandle-write-buffer-options-buffer", "dfnText": "buffer", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-write-buffer-options-buffer" },
                "dom-filesystemsyncaccesshandle-write-buffer-options-options": { "dfnID": "dom-filesystemsyncaccesshandle-write-buffer-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-filesystemsyncaccesshandle-write-buffer-options-options" },
                "dom-filesystemwritablefilestream-seek": { "dfnID": "dom-filesystemwritablefilestream-seek", "dfnText": "seek(position)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-seek" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-seek\u2460" }, { "id": "ref-for-dom-filesystemwritablefilestream-seek\u2461" }], "title": "2.5.2. The seek() method" }], "url": "#dom-filesystemwritablefilestream-seek" },
                "dom-filesystemwritablefilestream-seek-position-position": { "dfnID": "dom-filesystemwritablefilestream-seek-position-position", "dfnText": "position", "external": false, "refSections": [], "url": "#dom-filesystemwritablefilestream-seek-position-position" },
                "dom-filesystemwritablefilestream-truncate": { "dfnID": "dom-filesystemwritablefilestream-truncate", "dfnText": "truncate(size)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-truncate" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-truncate\u2460" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-truncate\u2461" }, { "id": "ref-for-dom-filesystemwritablefilestream-truncate\u2462" }, { "id": "ref-for-dom-filesystemwritablefilestream-truncate\u2463" }], "title": "2.5.3. The truncate() method" }], "url": "#dom-filesystemwritablefilestream-truncate" },
                "dom-filesystemwritablefilestream-truncate-size-size": { "dfnID": "dom-filesystemwritablefilestream-truncate-size-size", "dfnText": "size", "external": false, "refSections": [], "url": "#dom-filesystemwritablefilestream-truncate-size-size" },
                "dom-filesystemwritablefilestream-write": { "dfnID": "dom-filesystemwritablefilestream-write", "dfnText": "write(data)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-write" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-filesystemwritablefilestream-write\u2461" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2462" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2463" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2464" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2465" }, { "id": "ref-for-dom-filesystemwritablefilestream-write\u2466" }], "title": "2.5.1. The write() method" }], "url": "#dom-filesystemwritablefilestream-write" },
                "dom-filesystemwritablefilestream-write-data-data": { "dfnID": "dom-filesystemwritablefilestream-write-data-data", "dfnText": "data", "external": false, "refSections": [], "url": "#dom-filesystemwritablefilestream-write-data-data" },
                "dom-storagemanager-getdirectory": { "dfnID": "dom-storagemanager-getdirectory", "dfnText": "getDirectory()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-storagemanager-getdirectory" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-dom-storagemanager-getdirectory\u2460" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-dom-storagemanager-getdirectory\u2461" }, { "id": "ref-for-dom-storagemanager-getdirectory\u2462" }], "title": "3. Accessing the Bucket File System" }], "url": "#dom-storagemanager-getdirectory" },
                "dom-writecommandtype-seek": { "dfnID": "dom-writecommandtype-seek", "dfnText": "\"seek\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writecommandtype-seek" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writecommandtype-seek\u2460" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-writecommandtype-seek\u2461" }], "title": "2.5.2. The seek() method" }], "url": "#dom-writecommandtype-seek" },
                "dom-writecommandtype-truncate": { "dfnID": "dom-writecommandtype-truncate", "dfnText": "\"truncate\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writecommandtype-truncate" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writecommandtype-truncate\u2460" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-writecommandtype-truncate\u2461" }], "title": "2.5.3. The truncate() method" }], "url": "#dom-writecommandtype-truncate" },
                "dom-writecommandtype-write": { "dfnID": "dom-writecommandtype-write", "dfnText": "\"write\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writecommandtype-write" }, { "id": "ref-for-dom-writecommandtype-write\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writecommandtype-write\u2461" }, { "id": "ref-for-dom-writecommandtype-write\u2462" }], "title": "2.5.1. The write() method" }], "url": "#dom-writecommandtype-write" },
                "dom-writeparams-data": { "dfnID": "dom-writeparams-data", "dfnText": "data", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writeparams-data" }, { "id": "ref-for-dom-writeparams-data\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writeparams-data\u2461" }, { "id": "ref-for-dom-writeparams-data\u2462" }], "title": "2.5.1. The write() method" }], "url": "#dom-writeparams-data" },
                "dom-writeparams-position": { "dfnID": "dom-writeparams-position", "dfnText": "position", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writeparams-position" }, { "id": "ref-for-dom-writeparams-position\u2460" }, { "id": "ref-for-dom-writeparams-position\u2461" }, { "id": "ref-for-dom-writeparams-position\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writeparams-position\u2463" }, { "id": "ref-for-dom-writeparams-position\u2464" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-writeparams-position\u2465" }], "title": "2.5.2. The seek() method" }], "url": "#dom-writeparams-position" },
                "dom-writeparams-size": { "dfnID": "dom-writeparams-size", "dfnText": "size", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writeparams-size" }, { "id": "ref-for-dom-writeparams-size\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writeparams-size\u2461" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-writeparams-size\u2462" }], "title": "2.5.3. The truncate() method" }], "url": "#dom-writeparams-size" },
                "dom-writeparams-type": { "dfnID": "dom-writeparams-type", "dfnText": "type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-writeparams-type" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-dom-writeparams-type\u2460" }, { "id": "ref-for-dom-writeparams-type\u2461" }, { "id": "ref-for-dom-writeparams-type\u2462" }, { "id": "ref-for-dom-writeparams-type\u2463" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-dom-writeparams-type\u2464" }], "title": "2.5.2. The seek() method" }, { "refs": [{ "id": "ref-for-dom-writeparams-type\u2465" }], "title": "2.5.3. The truncate() method" }], "url": "#dom-writeparams-type" },
                "e303c02d": { "dfnID": "e303c02d", "dfnText": "type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-type" }], "title": "2.3.1. The getFile() method" }], "url": "https://w3c.github.io/FileAPI/#dfn-type" },
                "e4d92278": { "dfnID": "e4d92278", "dfnText": "enqueue steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-enqueue-the-following-steps" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2460" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2461" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2464" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2466" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2467" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2468" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u24ea" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u2460" }, { "id": "ref-for-enqueue-the-following-steps\u2460\u2461" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-enqueue-the-following-steps\u2460\u2462" }], "title": "2.6.6. The close() method" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" },
                "e7652812": { "dfnID": "e7652812", "dfnText": "get the next iteration result", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-get-the-next-iteration-result" }], "title": "2.4.1. Directory iteration" }], "url": "https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result" },
                "e99bd18e": { "dfnID": "e99bd18e", "dfnText": "relevant global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2461" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2462" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2463" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2464" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2465" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2466" }, { "id": "ref-for-concept-relevant-global\u2467" }, { "id": "ref-for-concept-relevant-global\u2468" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "eb5c4be3": { "dfnID": "eb5c4be3", "dfnText": "Serializable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serializable" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-serializable\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-serializable\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable" },
                "entry": { "dfnID": "entry", "dfnText": "file system entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-entry" }, { "id": "ref-for-entry\u2460" }, { "id": "ref-for-entry\u2461" }, { "id": "ref-for-entry\u2462" }, { "id": "ref-for-entry\u2463" }, { "id": "ref-for-entry\u2464" }, { "id": "ref-for-entry\u2465" }, { "id": "ref-for-entry\u2466" }, { "id": "ref-for-entry\u2467" }, { "id": "ref-for-entry\u2468" }, { "id": "ref-for-entry\u2460\u24ea" }, { "id": "ref-for-entry\u2460\u2460" }, { "id": "ref-for-entry\u2460\u2461" }, { "id": "ref-for-entry\u2460\u2462" }, { "id": "ref-for-entry\u2460\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-entry\u2460\u2464" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-entry\u2460\u2465" }], "title": "2.4.4. The removeEntry() method" }], "url": "#entry" },
                "entry-name": { "dfnID": "entry-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-entry-name" }, { "id": "ref-for-entry-name\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-entry-name\u2461" }, { "id": "ref-for-entry-name\u2462" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-entry-name\u2463" }, { "id": "ref-for-entry-name\u2464" }, { "id": "ref-for-entry-name\u2465" }, { "id": "ref-for-entry-name\u2466" }, { "id": "ref-for-entry-name\u2467" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-entry-name\u2468" }, { "id": "ref-for-entry-name\u2460\u24ea" }, { "id": "ref-for-entry-name\u2460\u2460" }, { "id": "ref-for-entry-name\u2460\u2461" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-entry-name\u2460\u2462" }, { "id": "ref-for-entry-name\u2460\u2463" }, { "id": "ref-for-entry-name\u2460\u2464" }, { "id": "ref-for-entry-name\u2460\u2465" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-entry-name\u2460\u2466" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-entry-name\u2460\u2467" }], "title": "3. Accessing the Bucket File System" }], "url": "#entry-name" },
                "entry-parent": { "dfnID": "entry-parent", "dfnText": "parent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-entry-parent" }], "title": "2.1. Concepts" }], "url": "#entry-parent" },
                "entry-query-access": { "dfnID": "entry-query-access", "dfnText": "query access", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-entry-query-access" }, { "id": "ref-for-entry-query-access\u2460" }, { "id": "ref-for-entry-query-access\u2461" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-entry-query-access\u2462" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-entry-query-access\u2463" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-entry-query-access\u2464" }, { "id": "ref-for-entry-query-access\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-entry-query-access\u2466" }, { "id": "ref-for-entry-query-access\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-entry-query-access\u2468" }, { "id": "ref-for-entry-query-access\u2460\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-entry-query-access\u2460\u2460" }], "title": "3. Accessing the Bucket File System" }], "url": "#entry-query-access" },
                "entry-request-access": { "dfnID": "entry-request-access", "dfnText": "request access", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-entry-request-access" }, { "id": "ref-for-entry-request-access\u2460" }, { "id": "ref-for-entry-request-access\u2461" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-entry-request-access\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-entry-request-access\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-entry-request-access\u2464" }, { "id": "ref-for-entry-request-access\u2465" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-entry-request-access\u2466" }, { "id": "ref-for-entry-request-access\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-entry-request-access\u2468" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-entry-request-access\u2460\u24ea" }], "title": "3. Accessing the Bucket File System" }], "url": "#entry-request-access" },
                "enumdef-filesystemhandlekind": { "dfnID": "enumdef-filesystemhandlekind", "dfnText": "FileSystemHandleKind", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-filesystemhandlekind" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-enumdef-filesystemhandlekind\u2460" }], "title": "2.2. The FileSystemHandle interface" }], "url": "#enumdef-filesystemhandlekind" },
                "enumdef-writecommandtype": { "dfnID": "enumdef-writecommandtype", "dfnText": "WriteCommandType", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-writecommandtype" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#enumdef-writecommandtype" },
                "f14b47b8": { "dfnID": "f14b47b8", "dfnText": "unsigned long long", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-unsigned-long-long" }, { "id": "ref-for-idl-unsigned-long-long\u2460" }, { "id": "ref-for-idl-unsigned-long-long\u2461" }, { "id": "ref-for-idl-unsigned-long-long\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-idl-unsigned-long-long\u2463" }, { "id": "ref-for-idl-unsigned-long-long\u2464" }, { "id": "ref-for-idl-unsigned-long-long\u2465" }, { "id": "ref-for-idl-unsigned-long-long\u2466" }, { "id": "ref-for-idl-unsigned-long-long\u2467" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long" },
                "f32dc6c1": { "dfnID": "f32dc6c1", "dfnText": "serialization steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serialization-steps" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-serialization-steps\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-serialization-steps\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps" },
                "f32e046f": { "dfnID": "f32e046f", "dfnText": "underlying buffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-buffersource-underlying-buffer" }], "title": "2.6.1. The read() method" }], "url": "https://webidl.spec.whatwg.org/#buffersource-underlying-buffer" },
                "f4acb816": { "dfnID": "f4acb816", "dfnText": "getting a writer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream-get-a-writer" }], "title": "2.5.1. The write() method" }, { "refs": [{ "id": "ref-for-writablestream-get-a-writer\u2460" }], "title": "2.5.2. The seek() method" }, { "refs": [{ "id": "ref-for-writablestream-get-a-writer\u2461" }], "title": "2.5.3. The truncate() method" }], "url": "https://streams.spec.whatwg.org/#writablestream-get-a-writer" },
                "f9970195": { "dfnID": "f9970195", "dfnText": "lastModified", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-lastModified" }], "title": "2.3.1. The getFile() method" }], "url": "https://w3c.github.io/FileAPI/#dfn-lastModified" },
                "fb8f82b0": { "dfnID": "fb8f82b0", "dfnText": "indices", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-get-the-indices" }, { "id": "ref-for-list-get-the-indices\u2460" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#list-get-the-indices" },
                "febebe0e": { "dfnID": "febebe0e", "dfnText": "the range", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-range" }], "title": "2.1. Concepts" }], "url": "https://infra.spec.whatwg.org/#the-range" },
                "file": { "dfnID": "file", "dfnText": "file entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file" }, { "id": "ref-for-file\u2460" }, { "id": "ref-for-file\u2461" }, { "id": "ref-for-file\u2462" }, { "id": "ref-for-file\u2463" }, { "id": "ref-for-file\u2464" }, { "id": "ref-for-file\u2465" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file\u2466" }, { "id": "ref-for-file\u2467" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file\u2468" }, { "id": "ref-for-file\u2460\u24ea" }, { "id": "ref-for-file\u2460\u2460" }, { "id": "ref-for-file\u2460\u2461" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file\u2460\u2462" }, { "id": "ref-for-file\u2460\u2463" }, { "id": "ref-for-file\u2460\u2464" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-file\u2460\u2465" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-file\u2460\u2466" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-file\u2460\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-file\u2460\u2468" }, { "id": "ref-for-file\u2461\u24ea" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file\u2461\u2460" }, { "id": "ref-for-file\u2461\u2461" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "#file" },
                "file-entry-binary-data": { "dfnID": "file-entry-binary-data", "dfnText": "binary data", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-binary-data" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2460" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2461" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2462" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2464" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2465" }, { "id": "ref-for-file-entry-binary-data\u2466" }, { "id": "ref-for-file-entry-binary-data\u2467" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2468" }, { "id": "ref-for-file-entry-binary-data\u2460\u24ea" }, { "id": "ref-for-file-entry-binary-data\u2460\u2460" }, { "id": "ref-for-file-entry-binary-data\u2460\u2461" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-file-entry-binary-data\u2460\u2462" }], "title": "2.6.4. The getSize() method" }], "url": "#file-entry-binary-data" },
                "file-entry-lock": { "dfnID": "file-entry-lock", "dfnText": "lock", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-lock" }, { "id": "ref-for-file-entry-lock\u2460" }, { "id": "ref-for-file-entry-lock\u2461" }, { "id": "ref-for-file-entry-lock\u2462" }], "title": "2.1. Concepts" }], "url": "#file-entry-lock" },
                "file-entry-lock-release": { "dfnID": "file-entry-lock-release", "dfnText": "release", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-lock-release" }, { "id": "ref-for-file-entry-lock-release\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file-entry-lock-release\u2461" }, { "id": "ref-for-file-entry-lock-release\u2462" }], "title": "2.6.6. The close() method" }], "url": "#file-entry-lock-release" },
                "file-entry-lock-take": { "dfnID": "file-entry-lock-take", "dfnText": "take", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-lock-take" }, { "id": "ref-for-file-entry-lock-take\u2460" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file-entry-lock-take\u2461" }, { "id": "ref-for-file-entry-lock-take\u2462" }], "title": "2.3.3. The createSyncAccessHandle() method" }], "url": "#file-entry-lock-take" },
                "file-entry-modification-timestamp": { "dfnID": "file-entry-modification-timestamp", "dfnText": "modification timestamp", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-modification-timestamp" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-entry-modification-timestamp\u2460" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file-entry-modification-timestamp\u2461" }], "title": "2.4.2. The getFileHandle() method" }], "url": "#file-entry-modification-timestamp" },
                "file-entry-shared-lock-count": { "dfnID": "file-entry-shared-lock-count", "dfnText": "shared lock count", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-entry-shared-lock-count" }, { "id": "ref-for-file-entry-shared-lock-count\u2460" }], "title": "2.1. Concepts" }], "url": "#file-entry-shared-lock-count" },
                "file-locator": { "dfnID": "file-locator", "dfnText": "file locator", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-locator" }, { "id": "ref-for-file-locator\u2460" }, { "id": "ref-for-file-locator\u2461" }], "title": "2.1. Concepts" }], "url": "#file-locator" },
                "file-system-access-result": { "dfnID": "file-system-access-result", "dfnText": "file system access result", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-access-result" }, { "id": "ref-for-file-system-access-result\u2460" }, { "id": "ref-for-file-system-access-result\u2461" }, { "id": "ref-for-file-system-access-result\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-access-result\u2463" }], "title": "3. Accessing the Bucket File System" }], "url": "#file-system-access-result" },
                "file-system-access-result-error-name": { "dfnID": "file-system-access-result-error-name", "dfnText": "error name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-access-result-error-name" }, { "id": "ref-for-file-system-access-result-error-name\u2460" }, { "id": "ref-for-file-system-access-result-error-name\u2461" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2462" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2463" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2464" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2465" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2466" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2468" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2460\u24ea" }, { "id": "ref-for-file-system-access-result-error-name\u2460\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file-system-access-result-error-name\u2460\u2461" }], "title": "3. Accessing the Bucket File System" }], "url": "#file-system-access-result-error-name" },
                "file-system-access-result-permission-state": { "dfnID": "file-system-access-result-permission-state", "dfnText": "permission state", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-access-result-permission-state" }, { "id": "ref-for-file-system-access-result-permission-state\u2460" }, { "id": "ref-for-file-system-access-result-permission-state\u2461" }, { "id": "ref-for-file-system-access-result-permission-state\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2463" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2464" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2465" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2466" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2467" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2468" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2460\u24ea" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2460\u2460" }, { "id": "ref-for-file-system-access-result-permission-state\u2460\u2461" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file-system-access-result-permission-state\u2460\u2462" }], "title": "3. Accessing the Bucket File System" }], "url": "#file-system-access-result-permission-state" },
                "file-system-entry-the-same-entry-as": { "dfnID": "file-system-entry-the-same-entry-as", "dfnText": "the same entry as", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-entry-the-same-entry-as" }], "title": "3. Accessing the Bucket File System" }], "url": "#file-system-entry-the-same-entry-as" },
                "file-system-locator": { "dfnID": "file-system-locator", "dfnText": "file system locator", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-locator" }, { "id": "ref-for-file-system-locator\u2460" }, { "id": "ref-for-file-system-locator\u2461" }, { "id": "ref-for-file-system-locator\u2462" }, { "id": "ref-for-file-system-locator\u2463" }, { "id": "ref-for-file-system-locator\u2464" }, { "id": "ref-for-file-system-locator\u2465" }, { "id": "ref-for-file-system-locator\u2466" }, { "id": "ref-for-file-system-locator\u2467" }, { "id": "ref-for-file-system-locator\u2468" }, { "id": "ref-for-file-system-locator\u2460\u24ea" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-locator\u2460\u2460" }, { "id": "ref-for-file-system-locator\u2460\u2461" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-file-system-locator\u2460\u2462" }, { "id": "ref-for-file-system-locator\u2460\u2463" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-file-system-locator\u2460\u2464" }, { "id": "ref-for-file-system-locator\u2460\u2465" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#file-system-locator" },
                "file-system-locator-the-same-locator-as": { "dfnID": "file-system-locator-the-same-locator-as", "dfnText": "the same locator as", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-locator-the-same-locator-as" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-file-system-locator-the-same-locator-as\u2460" }], "title": "2.2.1. The isSameEntry() method" }], "url": "#file-system-locator-the-same-locator-as" },
                "file-system-path": { "dfnID": "file-system-path", "dfnText": "file system path", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-path" }, { "id": "ref-for-file-system-path\u2460" }, { "id": "ref-for-file-system-path\u2461" }, { "id": "ref-for-file-system-path\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-path\u2463" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-file-system-path\u2464" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#file-system-path" },
                "file-system-path-the-same-path-as": { "dfnID": "file-system-path-the-same-path-as", "dfnText": "the same path as", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-path-the-same-path-as" }, { "id": "ref-for-file-system-path-the-same-path-as\u2460" }], "title": "2.1. Concepts" }], "url": "#file-system-path-the-same-path-as" },
                "file-system-queue": { "dfnID": "file-system-queue", "dfnText": "file system queue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-queue" }, { "id": "ref-for-file-system-queue\u2460" }, { "id": "ref-for-file-system-queue\u2461" }, { "id": "ref-for-file-system-queue\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-queue\u2463" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2464" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2465" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2466" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2467" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-file-system-queue\u2468" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2460\u24ea" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2460\u2460" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-file-system-queue\u2460\u2461" }, { "id": "ref-for-file-system-queue\u2460\u2462" }, { "id": "ref-for-file-system-queue\u2460\u2463" }, { "id": "ref-for-file-system-queue\u2460\u2464" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-file-system-queue\u2460\u2465" }], "title": "2.6.6. The close() method" }], "url": "#file-system-queue" },
                "file-system-root": { "dfnID": "file-system-root", "dfnText": "file system root", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-file-system-root" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-file-system-root\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-file-system-root\u2461" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#file-system-root" },
                "filesystemdirectoryhandle": { "dfnID": "filesystemdirectoryhandle", "dfnText": "FileSystemDirectoryHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemdirectoryhandle" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-filesystemdirectoryhandle\u2460" }, { "id": "ref-for-filesystemdirectoryhandle\u2461" }, { "id": "ref-for-filesystemdirectoryhandle\u2462" }, { "id": "ref-for-filesystemdirectoryhandle\u2463" }, { "id": "ref-for-filesystemdirectoryhandle\u2464" }, { "id": "ref-for-filesystemdirectoryhandle\u2465" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-filesystemdirectoryhandle\u2466" }, { "id": "ref-for-filesystemdirectoryhandle\u2467" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-filesystemdirectoryhandle\u2468" }], "title": "3. Accessing the Bucket File System" }], "url": "#filesystemdirectoryhandle" },
                "filesystemdirectoryhandle-iterator-past-results": { "dfnID": "filesystemdirectoryhandle-iterator-past-results", "dfnText": "past results", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemdirectoryhandle-iterator-past-results" }, { "id": "ref-for-filesystemdirectoryhandle-iterator-past-results\u2460" }], "title": "2.4.1. Directory iteration" }], "url": "#filesystemdirectoryhandle-iterator-past-results" },
                "filesystemfilehandle": { "dfnID": "filesystemfilehandle", "dfnText": "FileSystemFileHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemfilehandle" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-filesystemfilehandle\u2460" }, { "id": "ref-for-filesystemfilehandle\u2461" }, { "id": "ref-for-filesystemfilehandle\u2462" }, { "id": "ref-for-filesystemfilehandle\u2463" }, { "id": "ref-for-filesystemfilehandle\u2464" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-filesystemfilehandle\u2465" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#filesystemfilehandle" },
                "filesystemhandle": { "dfnID": "filesystemhandle", "dfnText": "FileSystemHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemhandle" }, { "id": "ref-for-filesystemhandle\u2460" }, { "id": "ref-for-filesystemhandle\u2461" }, { "id": "ref-for-filesystemhandle\u2462" }, { "id": "ref-for-filesystemhandle\u2463" }, { "id": "ref-for-filesystemhandle\u2464" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-filesystemhandle\u2465" }, { "id": "ref-for-filesystemhandle\u2466" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-filesystemhandle\u2467" }, { "id": "ref-for-filesystemhandle\u2468" }, { "id": "ref-for-filesystemhandle\u2460\u24ea" }, { "id": "ref-for-filesystemhandle\u2460\u2460" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#filesystemhandle" },
                "filesystemhandle-is-in-a-bucket-file-system": { "dfnID": "filesystemhandle-is-in-a-bucket-file-system", "dfnText": "is in a bucket file system", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemhandle-is-in-a-bucket-file-system" }, { "id": "ref-for-filesystemhandle-is-in-a-bucket-file-system\u2460" }], "title": "2.3.3. The createSyncAccessHandle() method" }], "url": "#filesystemhandle-is-in-a-bucket-file-system" },
                "filesystemhandle-locator": { "dfnID": "filesystemhandle-locator", "dfnText": "locator", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemhandle-locator" }, { "id": "ref-for-filesystemhandle-locator\u2460" }, { "id": "ref-for-filesystemhandle-locator\u2461" }, { "id": "ref-for-filesystemhandle-locator\u2462" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2463" }, { "id": "ref-for-filesystemhandle-locator\u2464" }, { "id": "ref-for-filesystemhandle-locator\u2465" }, { "id": "ref-for-filesystemhandle-locator\u2466" }, { "id": "ref-for-filesystemhandle-locator\u2467" }, { "id": "ref-for-filesystemhandle-locator\u2468" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2460\u24ea" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2460" }], "title": "2.2.1. The isSameEntry() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2460\u2461" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2462" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2463" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2460\u2464" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2465" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2460\u2466" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2467" }, { "id": "ref-for-filesystemhandle-locator\u2460\u2468" }, { "id": "ref-for-filesystemhandle-locator\u2461\u24ea" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2461\u2460" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2461" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2462" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2461\u2463" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2464" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2465" }], "title": "2.4. The FileSystemDirectoryHandle interface" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2461\u2466" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2467" }, { "id": "ref-for-filesystemhandle-locator\u2461\u2468" }, { "id": "ref-for-filesystemhandle-locator\u2462\u24ea" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2462\u2460" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2461" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2462" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2462\u2463" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2464" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2465" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2462\u2466" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2467" }, { "id": "ref-for-filesystemhandle-locator\u2462\u2468" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2463\u24ea" }, { "id": "ref-for-filesystemhandle-locator\u2463\u2460" }], "title": "2.4.5. The resolve() method" }, { "refs": [{ "id": "ref-for-filesystemhandle-locator\u2463\u2461" }], "title": "3. Accessing the Bucket File System" }], "url": "#filesystemhandle-locator" },
                "filesystemsyncaccesshandle": { "dfnID": "filesystemsyncaccesshandle", "dfnText": "FileSystemSyncAccessHandle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemsyncaccesshandle" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle\u2461" }, { "id": "ref-for-filesystemsyncaccesshandle\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle\u2463" }, { "id": "ref-for-filesystemsyncaccesshandle\u2464" }, { "id": "ref-for-filesystemsyncaccesshandle\u2465" }, { "id": "ref-for-filesystemsyncaccesshandle\u2466" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle\u2467" }, { "id": "ref-for-filesystemsyncaccesshandle\u2468" }, { "id": "ref-for-filesystemsyncaccesshandle\u2460\u24ea" }, { "id": "ref-for-filesystemsyncaccesshandle\u2460\u2460" }, { "id": "ref-for-filesystemsyncaccesshandle\u2460\u2461" }, { "id": "ref-for-filesystemsyncaccesshandle\u2460\u2462" }, { "id": "ref-for-filesystemsyncaccesshandle\u2460\u2463" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }], "url": "#filesystemsyncaccesshandle" },
                "filesystemsyncaccesshandle-file": { "dfnID": "filesystemsyncaccesshandle-file", "dfnText": "[[file]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file\u2460" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file\u2461" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2462" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2463" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file\u2464" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2465" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2466" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2467" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2468" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2460\u24ea" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file\u2460\u2460" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file\u2460\u2461" }, { "id": "ref-for-filesystemsyncaccesshandle-file\u2460\u2462" }], "title": "2.6.6. The close() method" }], "url": "#filesystemsyncaccesshandle-file" },
                "filesystemsyncaccesshandle-file-position-cursor": { "dfnID": "filesystemsyncaccesshandle-file-position-cursor", "dfnText": "file position cursor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor" }, { "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2460" }, { "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2461" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2462" }, { "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2463" }, { "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2464" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2465" }, { "id": "ref-for-filesystemsyncaccesshandle-file-position-cursor\u2466" }], "title": "2.6.3. The truncate() method" }], "url": "#filesystemsyncaccesshandle-file-position-cursor" },
                "filesystemsyncaccesshandle-state": { "dfnID": "filesystemsyncaccesshandle-state", "dfnText": "[[state]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state" }], "title": "2.6. The FileSystemSyncAccessHandle interface" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2460" }], "title": "2.6.1. The read() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2461" }], "title": "2.6.2. The write() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2462" }], "title": "2.6.3. The truncate() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2463" }], "title": "2.6.4. The getSize() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2464" }], "title": "2.6.5. The flush() method" }, { "refs": [{ "id": "ref-for-filesystemsyncaccesshandle-state\u2465" }, { "id": "ref-for-filesystemsyncaccesshandle-state\u2466" }], "title": "2.6.6. The close() method" }], "url": "#filesystemsyncaccesshandle-state" },
                "filesystemwritablefilestream": { "dfnID": "filesystemwritablefilestream", "dfnText": "FileSystemWritableFileStream", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemwritablefilestream" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-filesystemwritablefilestream\u2460" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-filesystemwritablefilestream\u2461" }, { "id": "ref-for-filesystemwritablefilestream\u2462" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-filesystemwritablefilestream\u2463" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-filesystemwritablefilestream\u2464" }, { "id": "ref-for-filesystemwritablefilestream\u2465" }, { "id": "ref-for-filesystemwritablefilestream\u2466" }, { "id": "ref-for-filesystemwritablefilestream\u2467" }, { "id": "ref-for-filesystemwritablefilestream\u2468" }, { "id": "ref-for-filesystemwritablefilestream\u2460\u24ea" }, { "id": "ref-for-filesystemwritablefilestream\u2460\u2460" }, { "id": "ref-for-filesystemwritablefilestream\u2460\u2461" }, { "id": "ref-for-filesystemwritablefilestream\u2460\u2462" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#filesystemwritablefilestream" },
                "filesystemwritablefilestream-buffer": { "dfnID": "filesystemwritablefilestream-buffer", "dfnText": "[[buffer]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemwritablefilestream-buffer" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-filesystemwritablefilestream-buffer\u2460" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2461" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2462" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2463" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2464" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2465" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2466" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2467" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2468" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2460\u24ea" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2460\u2460" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2460\u2461" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2460\u2462" }, { "id": "ref-for-filesystemwritablefilestream-buffer\u2460\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#filesystemwritablefilestream-buffer" },
                "filesystemwritablefilestream-file": { "dfnID": "filesystemwritablefilestream-file", "dfnText": "[[file]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemwritablefilestream-file" }, { "id": "ref-for-filesystemwritablefilestream-file\u2460" }, { "id": "ref-for-filesystemwritablefilestream-file\u2461" }, { "id": "ref-for-filesystemwritablefilestream-file\u2462" }, { "id": "ref-for-filesystemwritablefilestream-file\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#filesystemwritablefilestream-file" },
                "filesystemwritablefilestream-seekoffset": { "dfnID": "filesystemwritablefilestream-seekoffset", "dfnText": "[[seekOffset]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-filesystemwritablefilestream-seekoffset" }, { "id": "ref-for-filesystemwritablefilestream-seekoffset\u2460" }, { "id": "ref-for-filesystemwritablefilestream-seekoffset\u2461" }, { "id": "ref-for-filesystemwritablefilestream-seekoffset\u2462" }, { "id": "ref-for-filesystemwritablefilestream-seekoffset\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#filesystemwritablefilestream-seekoffset" },
                "getting-the-locator": { "dfnID": "getting-the-locator", "dfnText": "get the locator", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-getting-the-locator" }], "title": "2.1. Concepts" }], "url": "#getting-the-locator" },
                "locating-an-entry": { "dfnID": "locating-an-entry", "dfnText": "locate an entry", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-locating-an-entry" }, { "id": "ref-for-locating-an-entry\u2460" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2461" }, { "id": "ref-for-locating-an-entry\u2462" }], "title": "2.3.1. The getFile() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2463" }, { "id": "ref-for-locating-an-entry\u2464" }, { "id": "ref-for-locating-an-entry\u2465" }, { "id": "ref-for-locating-an-entry\u2466" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2467" }, { "id": "ref-for-locating-an-entry\u2468" }, { "id": "ref-for-locating-an-entry\u2460\u24ea" }], "title": "2.3.3. The createSyncAccessHandle() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2460\u2460" }, { "id": "ref-for-locating-an-entry\u2460\u2461" }], "title": "2.4.1. Directory iteration" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2460\u2462" }, { "id": "ref-for-locating-an-entry\u2460\u2463" }, { "id": "ref-for-locating-an-entry\u2460\u2464" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2460\u2465" }, { "id": "ref-for-locating-an-entry\u2460\u2466" }, { "id": "ref-for-locating-an-entry\u2460\u2467" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2460\u2468" }, { "id": "ref-for-locating-an-entry\u2461\u24ea" }, { "id": "ref-for-locating-an-entry\u2461\u2460" }], "title": "2.4.4. The removeEntry() method" }, { "refs": [{ "id": "ref-for-locating-an-entry\u2461\u2461" }], "title": "3. Accessing the Bucket File System" }], "url": "#locating-an-entry" },
                "locator-kind": { "dfnID": "locator-kind", "dfnText": "kind", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-locator-kind" }, { "id": "ref-for-locator-kind\u2460" }, { "id": "ref-for-locator-kind\u2461" }, { "id": "ref-for-locator-kind\u2462" }, { "id": "ref-for-locator-kind\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-locator-kind\u2464" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-locator-kind\u2465" }, { "id": "ref-for-locator-kind\u2466" }, { "id": "ref-for-locator-kind\u2467" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-locator-kind\u2468" }, { "id": "ref-for-locator-kind\u2460\u24ea" }, { "id": "ref-for-locator-kind\u2460\u2460" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#locator-kind" },
                "locator-path": { "dfnID": "locator-path", "dfnText": "path", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-locator-path" }, { "id": "ref-for-locator-path\u2460" }, { "id": "ref-for-locator-path\u2461" }, { "id": "ref-for-locator-path\u2462" }, { "id": "ref-for-locator-path\u2463" }, { "id": "ref-for-locator-path\u2464" }, { "id": "ref-for-locator-path\u2465" }, { "id": "ref-for-locator-path\u2466" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-locator-path\u2467" }, { "id": "ref-for-locator-path\u2468" }, { "id": "ref-for-locator-path\u2460\u24ea" }, { "id": "ref-for-locator-path\u2460\u2460" }, { "id": "ref-for-locator-path\u2460\u2461" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-locator-path\u2460\u2462" }, { "id": "ref-for-locator-path\u2460\u2463" }, { "id": "ref-for-locator-path\u2460\u2464" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-locator-path\u2460\u2465" }, { "id": "ref-for-locator-path\u2460\u2466" }, { "id": "ref-for-locator-path\u2460\u2467" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#locator-path" },
                "locator-resolve": { "dfnID": "locator-resolve", "dfnText": "resolve", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-locator-resolve" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-locator-resolve\u2460" }], "title": "2.4.5. The resolve() method" }], "url": "#locator-resolve" },
                "locator-root": { "dfnID": "locator-root", "dfnText": "root", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-locator-root" }, { "id": "ref-for-locator-root\u2460" }, { "id": "ref-for-locator-root\u2461" }, { "id": "ref-for-locator-root\u2462" }, { "id": "ref-for-locator-root\u2463" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-locator-root\u2464" }, { "id": "ref-for-locator-root\u2465" }, { "id": "ref-for-locator-root\u2466" }], "title": "2.3. The FileSystemFileHandle interface" }, { "refs": [{ "id": "ref-for-locator-root\u2467" }, { "id": "ref-for-locator-root\u2468" }, { "id": "ref-for-locator-root\u2460\u24ea" }], "title": "2.4. The FileSystemDirectoryHandle interface" }], "url": "#locator-root" },
                "origin-private-file-system": { "dfnID": "origin-private-file-system", "dfnText": "bucket file system", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-origin-private-file-system" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-origin-private-file-system\u2460" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-origin-private-file-system\u2461" }], "title": "2.3.2. The createWritable() method" }, { "refs": [{ "id": "ref-for-origin-private-file-system\u2462" }, { "id": "ref-for-origin-private-file-system\u2463" }], "title": "2.5. The FileSystemWritableFileStream interface" }, { "refs": [{ "id": "ref-for-origin-private-file-system\u2464" }, { "id": "ref-for-origin-private-file-system\u2465" }, { "id": "ref-for-origin-private-file-system\u2466" }], "title": "3. Accessing the Bucket File System" }], "url": "#origin-private-file-system" },
                "typedefdef-filesystemwritechunktype": { "dfnID": "typedefdef-filesystemwritechunktype", "dfnText": "FileSystemWriteChunkType", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-filesystemwritechunktype" }, { "id": "ref-for-typedefdef-filesystemwritechunktype\u2460" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#typedefdef-filesystemwritechunktype" },
                "valid-file-name": { "dfnID": "valid-file-name", "dfnText": "valid file name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-valid-file-name" }], "title": "2.1. Concepts" }, { "refs": [{ "id": "ref-for-valid-file-name\u2460" }], "title": "2.2. The FileSystemHandle interface" }, { "refs": [{ "id": "ref-for-valid-file-name\u2461" }], "title": "2.4.2. The getFileHandle() method" }, { "refs": [{ "id": "ref-for-valid-file-name\u2462" }], "title": "2.4.3. The getDirectoryHandle() method" }, { "refs": [{ "id": "ref-for-valid-file-name\u2463" }], "title": "2.4.4. The removeEntry() method" }], "url": "#valid-file-name" },
                "write-a-chunk": { "dfnID": "write-a-chunk", "dfnText": "write a chunk", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-write-a-chunk" }], "title": "2.5. The FileSystemWritableFileStream interface" }], "url": "#write-a-chunk" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#create-a-new-filesystemsyncaccesshandle": { "displayText": "creating a new filesystemsyncaccesshandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "creating a new filesystemsyncaccesshandle", "type": "dfn", "url": "#create-a-new-filesystemsyncaccesshandle" },
                "#create-a-new-filesystemwritablefilestream": { "displayText": "creating a new filesystemwritablefilestream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "creating a new filesystemwritablefilestream", "type": "dfn", "url": "#create-a-new-filesystemwritablefilestream" },
                "#creating-a-child-filesystemdirectoryhandle": { "displayText": "creating a child filesystemdirectoryhandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "creating a child filesystemdirectoryhandle", "type": "dfn", "url": "#creating-a-child-filesystemdirectoryhandle" },
                "#creating-a-child-filesystemfilehandle": { "displayText": "creating a child filesystemfilehandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "creating a child filesystemfilehandle", "type": "dfn", "url": "#creating-a-child-filesystemfilehandle" },
                "#creating-a-new-filesystemdirectoryhandle": { "displayText": "creating a new filesystemdirectoryhandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "creating a new filesystemdirectoryhandle", "type": "dfn", "url": "#creating-a-new-filesystemdirectoryhandle" },
                "#dictdef-filesystemcreatewritableoptions": { "displayText": "FileSystemCreateWritableOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemCreateWritableOptions", "type": "dictionary", "url": "#dictdef-filesystemcreatewritableoptions" },
                "#dictdef-filesystemgetdirectoryoptions": { "displayText": "FileSystemGetDirectoryOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemGetDirectoryOptions", "type": "dictionary", "url": "#dictdef-filesystemgetdirectoryoptions" },
                "#dictdef-filesystemgetfileoptions": { "displayText": "FileSystemGetFileOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemGetFileOptions", "type": "dictionary", "url": "#dictdef-filesystemgetfileoptions" },
                "#dictdef-filesystemreadwriteoptions": { "displayText": "FileSystemReadWriteOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemReadWriteOptions", "type": "dictionary", "url": "#dictdef-filesystemreadwriteoptions" },
                "#dictdef-filesystemremoveoptions": { "displayText": "FileSystemRemoveOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemRemoveOptions", "type": "dictionary", "url": "#dictdef-filesystemremoveoptions" },
                "#dictdef-writeparams": { "displayText": "WriteParams", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "WriteParams", "type": "dictionary", "url": "#dictdef-writeparams" },
                "#directory": { "displayText": "directory entry", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "directory entry", "type": "dfn", "url": "#directory" },
                "#directory-entry-children": { "displayText": "children", "export": true, "for_": ["directory entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "children", "type": "dfn", "url": "#directory-entry-children" },
                "#directory-locator": { "displayText": "directory locator", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "directory locator", "type": "dfn", "url": "#directory-locator" },
                "#dom-filesystemcreatewritableoptions-keepexistingdata": { "displayText": "keepExistingData", "export": true, "for_": ["FileSystemCreateWritableOptions"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "keepExistingData", "type": "dict-member", "url": "#dom-filesystemcreatewritableoptions-keepexistingdata" },
                "#dom-filesystemdirectoryhandle-getdirectoryhandle": { "displayText": "getDirectoryHandle(name, options)", "export": true, "for_": ["FileSystemDirectoryHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getDirectoryHandle(name, options)", "type": "method", "url": "#dom-filesystemdirectoryhandle-getdirectoryhandle" },
                "#dom-filesystemdirectoryhandle-getfilehandle": { "displayText": "getFileHandle(name, options)", "export": true, "for_": ["FileSystemDirectoryHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getFileHandle(name, options)", "type": "method", "url": "#dom-filesystemdirectoryhandle-getfilehandle" },
                "#dom-filesystemdirectoryhandle-removeentry": { "displayText": "removeEntry(name, options)", "export": true, "for_": ["FileSystemDirectoryHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "removeEntry(name, options)", "type": "method", "url": "#dom-filesystemdirectoryhandle-removeentry" },
                "#dom-filesystemdirectoryhandle-resolve": { "displayText": "resolve(possibleDescendant)", "export": true, "for_": ["FileSystemDirectoryHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "resolve(possibleDescendant)", "type": "method", "url": "#dom-filesystemdirectoryhandle-resolve" },
                "#dom-filesystemfilehandle-createsyncaccesshandle": { "displayText": "createSyncAccessHandle()", "export": true, "for_": ["FileSystemFileHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "createSyncAccessHandle()", "type": "method", "url": "#dom-filesystemfilehandle-createsyncaccesshandle" },
                "#dom-filesystemfilehandle-createwritable": { "displayText": "createWritable(options)", "export": true, "for_": ["FileSystemFileHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "createWritable(options)", "type": "method", "url": "#dom-filesystemfilehandle-createwritable" },
                "#dom-filesystemfilehandle-getfile": { "displayText": "getFile()", "export": true, "for_": ["FileSystemFileHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getFile()", "type": "method", "url": "#dom-filesystemfilehandle-getfile" },
                "#dom-filesystemgetdirectoryoptions-create": { "displayText": "create", "export": true, "for_": ["FileSystemGetDirectoryOptions"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "create", "type": "dict-member", "url": "#dom-filesystemgetdirectoryoptions-create" },
                "#dom-filesystemgetfileoptions-create": { "displayText": "create", "export": true, "for_": ["FileSystemGetFileOptions"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "create", "type": "dict-member", "url": "#dom-filesystemgetfileoptions-create" },
                "#dom-filesystemhandle-issameentry": { "displayText": "isSameEntry(other)", "export": true, "for_": ["FileSystemHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "isSameEntry(other)", "type": "method", "url": "#dom-filesystemhandle-issameentry" },
                "#dom-filesystemhandle-kind": { "displayText": "kind", "export": true, "for_": ["FileSystemHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "kind", "type": "attribute", "url": "#dom-filesystemhandle-kind" },
                "#dom-filesystemhandle-name": { "displayText": "name", "export": true, "for_": ["FileSystemHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "name", "type": "attribute", "url": "#dom-filesystemhandle-name" },
                "#dom-filesystemhandlekind-directory": { "displayText": "\"directory\"", "export": true, "for_": ["FileSystemHandleKind"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "\"directory\"", "type": "enum-value", "url": "#dom-filesystemhandlekind-directory" },
                "#dom-filesystemhandlekind-file": { "displayText": "\"file\"", "export": true, "for_": ["FileSystemHandleKind"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "\"file\"", "type": "enum-value", "url": "#dom-filesystemhandlekind-file" },
                "#dom-filesystemreadwriteoptions-at": { "displayText": "at", "export": true, "for_": ["FileSystemReadWriteOptions"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "at", "type": "dict-member", "url": "#dom-filesystemreadwriteoptions-at" },
                "#dom-filesystemremoveoptions-recursive": { "displayText": "recursive", "export": true, "for_": ["FileSystemRemoveOptions"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "recursive", "type": "dict-member", "url": "#dom-filesystemremoveoptions-recursive" },
                "#dom-filesystemsyncaccesshandle-close": { "displayText": "close()", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "close()", "type": "method", "url": "#dom-filesystemsyncaccesshandle-close" },
                "#dom-filesystemsyncaccesshandle-flush": { "displayText": "flush()", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "flush()", "type": "method", "url": "#dom-filesystemsyncaccesshandle-flush" },
                "#dom-filesystemsyncaccesshandle-getsize": { "displayText": "getSize()", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getSize()", "type": "method", "url": "#dom-filesystemsyncaccesshandle-getsize" },
                "#dom-filesystemsyncaccesshandle-read": { "displayText": "read(buffer)", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "read(buffer)", "type": "method", "url": "#dom-filesystemsyncaccesshandle-read" },
                "#dom-filesystemsyncaccesshandle-truncate": { "displayText": "truncate(newSize)", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "truncate(newSize)", "type": "method", "url": "#dom-filesystemsyncaccesshandle-truncate" },
                "#dom-filesystemsyncaccesshandle-write": { "displayText": "write(buffer)", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "write(buffer)", "type": "method", "url": "#dom-filesystemsyncaccesshandle-write" },
                "#dom-filesystemwritablefilestream-seek": { "displayText": "seek(position)", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "seek(position)", "type": "method", "url": "#dom-filesystemwritablefilestream-seek" },
                "#dom-filesystemwritablefilestream-truncate": { "displayText": "truncate(size)", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "truncate(size)", "type": "method", "url": "#dom-filesystemwritablefilestream-truncate" },
                "#dom-filesystemwritablefilestream-write": { "displayText": "write(data)", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "write(data)", "type": "method", "url": "#dom-filesystemwritablefilestream-write" },
                "#dom-storagemanager-getdirectory": { "displayText": "getDirectory()", "export": true, "for_": ["StorageManager"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getDirectory()", "type": "method", "url": "#dom-storagemanager-getdirectory" },
                "#dom-writecommandtype-seek": { "displayText": "\"seek\"", "export": true, "for_": ["WriteCommandType"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "\"seek\"", "type": "enum-value", "url": "#dom-writecommandtype-seek" },
                "#dom-writecommandtype-truncate": { "displayText": "\"truncate\"", "export": true, "for_": ["WriteCommandType"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "\"truncate\"", "type": "enum-value", "url": "#dom-writecommandtype-truncate" },
                "#dom-writecommandtype-write": { "displayText": "\"write\"", "export": true, "for_": ["WriteCommandType"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "\"write\"", "type": "enum-value", "url": "#dom-writecommandtype-write" },
                "#dom-writeparams-data": { "displayText": "data", "export": true, "for_": ["WriteParams"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "data", "type": "dict-member", "url": "#dom-writeparams-data" },
                "#dom-writeparams-position": { "displayText": "position", "export": true, "for_": ["WriteParams"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "position", "type": "dict-member", "url": "#dom-writeparams-position" },
                "#dom-writeparams-size": { "displayText": "size", "export": true, "for_": ["WriteParams"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "size", "type": "dict-member", "url": "#dom-writeparams-size" },
                "#dom-writeparams-type": { "displayText": "type", "export": true, "for_": ["WriteParams"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "type", "type": "dict-member", "url": "#dom-writeparams-type" },
                "#entry": { "displayText": "file system entry", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system entry", "type": "dfn", "url": "#entry" },
                "#entry-name": { "displayText": "name", "export": true, "for_": ["file system entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "name", "type": "dfn", "url": "#entry-name" },
                "#entry-parent": { "displayText": "parent", "export": true, "for_": ["file system entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "parent", "type": "dfn", "url": "#entry-parent" },
                "#entry-query-access": { "displayText": "query access", "export": true, "for_": ["file system entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "query access", "type": "dfn", "url": "#entry-query-access" },
                "#entry-request-access": { "displayText": "request access", "export": true, "for_": ["file system entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "request access", "type": "dfn", "url": "#entry-request-access" },
                "#enumdef-filesystemhandlekind": { "displayText": "FileSystemHandleKind", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemHandleKind", "type": "enum", "url": "#enumdef-filesystemhandlekind" },
                "#enumdef-writecommandtype": { "displayText": "WriteCommandType", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "WriteCommandType", "type": "enum", "url": "#enumdef-writecommandtype" },
                "#file": { "displayText": "file entry", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file entry", "type": "dfn", "url": "#file" },
                "#file-entry-binary-data": { "displayText": "binary data", "export": true, "for_": ["file entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "binary data", "type": "dfn", "url": "#file-entry-binary-data" },
                "#file-entry-lock": { "displayText": "lock", "export": true, "for_": ["file entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "lock", "type": "dfn", "url": "#file-entry-lock" },
                "#file-entry-lock-release": { "displayText": "release", "export": true, "for_": ["file entry/lock"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "release", "type": "dfn", "url": "#file-entry-lock-release" },
                "#file-entry-lock-take": { "displayText": "take", "export": true, "for_": ["file entry/lock"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "take", "type": "dfn", "url": "#file-entry-lock-take" },
                "#file-entry-modification-timestamp": { "displayText": "modification timestamp", "export": true, "for_": ["file entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "modification timestamp", "type": "dfn", "url": "#file-entry-modification-timestamp" },
                "#file-entry-shared-lock-count": { "displayText": "shared lock count", "export": true, "for_": ["file entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "shared lock count", "type": "dfn", "url": "#file-entry-shared-lock-count" },
                "#file-locator": { "displayText": "file locator", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file locator", "type": "dfn", "url": "#file-locator" },
                "#file-system-access-result": { "displayText": "file system access result", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system access result", "type": "dfn", "url": "#file-system-access-result" },
                "#file-system-access-result-error-name": { "displayText": "error name", "export": true, "for_": ["file system access result"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "error name", "type": "dfn", "url": "#file-system-access-result-error-name" },
                "#file-system-access-result-permission-state": { "displayText": "permission state", "export": true, "for_": ["file system access result"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "permission state", "type": "dfn", "url": "#file-system-access-result-permission-state" },
                "#file-system-entry-the-same-entry-as": { "displayText": "the same entry as", "export": true, "for_": ["file system entry"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "the same entry as", "type": "dfn", "url": "#file-system-entry-the-same-entry-as" },
                "#file-system-locator": { "displayText": "file system locator", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system locator", "type": "dfn", "url": "#file-system-locator" },
                "#file-system-locator-the-same-locator-as": { "displayText": "the same locator as", "export": true, "for_": ["file system locator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "the same locator as", "type": "dfn", "url": "#file-system-locator-the-same-locator-as" },
                "#file-system-path": { "displayText": "file system path", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system path", "type": "dfn", "url": "#file-system-path" },
                "#file-system-path-the-same-path-as": { "displayText": "the same path as", "export": true, "for_": ["file system path"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "the same path as", "type": "dfn", "url": "#file-system-path-the-same-path-as" },
                "#file-system-queue": { "displayText": "file system queue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system queue", "type": "dfn", "url": "#file-system-queue" },
                "#file-system-root": { "displayText": "file system root", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file system root", "type": "dfn", "url": "#file-system-root" },
                "#filesystemdirectoryhandle": { "displayText": "FileSystemDirectoryHandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemDirectoryHandle", "type": "interface", "url": "#filesystemdirectoryhandle" },
                "#filesystemdirectoryhandle-iterator-past-results": { "displayText": "past results", "export": true, "for_": ["FileSystemDirectoryHandle-iterator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "past results", "type": "dfn", "url": "#filesystemdirectoryhandle-iterator-past-results" },
                "#filesystemfilehandle": { "displayText": "FileSystemFileHandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemFileHandle", "type": "interface", "url": "#filesystemfilehandle" },
                "#filesystemhandle": { "displayText": "FileSystemHandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemHandle", "type": "interface", "url": "#filesystemhandle" },
                "#filesystemhandle-is-in-a-bucket-file-system": { "displayText": "is in a bucket file system", "export": true, "for_": ["FileSystemHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "is in a bucket file system", "type": "dfn", "url": "#filesystemhandle-is-in-a-bucket-file-system" },
                "#filesystemhandle-locator": { "displayText": "locator", "export": true, "for_": ["FileSystemHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "locator", "type": "dfn", "url": "#filesystemhandle-locator" },
                "#filesystemsyncaccesshandle": { "displayText": "FileSystemSyncAccessHandle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemSyncAccessHandle", "type": "interface", "url": "#filesystemsyncaccesshandle" },
                "#filesystemsyncaccesshandle-file": { "displayText": "[[file]]", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "[[file]]", "type": "dfn", "url": "#filesystemsyncaccesshandle-file" },
                "#filesystemsyncaccesshandle-file-position-cursor": { "displayText": "file position cursor", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "file position cursor", "type": "dfn", "url": "#filesystemsyncaccesshandle-file-position-cursor" },
                "#filesystemsyncaccesshandle-state": { "displayText": "[[state]]", "export": true, "for_": ["FileSystemSyncAccessHandle"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "[[state]]", "type": "dfn", "url": "#filesystemsyncaccesshandle-state" },
                "#filesystemwritablefilestream": { "displayText": "FileSystemWritableFileStream", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemWritableFileStream", "type": "interface", "url": "#filesystemwritablefilestream" },
                "#filesystemwritablefilestream-buffer": { "displayText": "[[buffer]]", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "[[buffer]]", "type": "dfn", "url": "#filesystemwritablefilestream-buffer" },
                "#filesystemwritablefilestream-file": { "displayText": "[[file]]", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "[[file]]", "type": "dfn", "url": "#filesystemwritablefilestream-file" },
                "#filesystemwritablefilestream-seekoffset": { "displayText": "[[seekoffset]]", "export": true, "for_": ["FileSystemWritableFileStream"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "[[seekoffset]]", "type": "dfn", "url": "#filesystemwritablefilestream-seekoffset" },
                "#getting-the-locator": { "displayText": "getting the locator", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "getting the locator", "type": "dfn", "url": "#getting-the-locator" },
                "#locating-an-entry": { "displayText": "locating an entry", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "locating an entry", "type": "dfn", "url": "#locating-an-entry" },
                "#locator-kind": { "displayText": "kind", "export": true, "for_": ["file system locator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "kind", "type": "dfn", "url": "#locator-kind" },
                "#locator-path": { "displayText": "path", "export": true, "for_": ["file system locator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "path", "type": "dfn", "url": "#locator-path" },
                "#locator-resolve": { "displayText": "resolve", "export": true, "for_": ["file system locator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "resolve", "type": "dfn", "url": "#locator-resolve" },
                "#locator-root": { "displayText": "root", "export": true, "for_": ["file system locator"], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "root", "type": "dfn", "url": "#locator-root" },
                "#origin-private-file-system": { "displayText": "bucket file system", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "bucket file system", "type": "dfn", "url": "#origin-private-file-system" },
                "#typedefdef-filesystemwritechunktype": { "displayText": "FileSystemWriteChunkType", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "FileSystemWriteChunkType", "type": "typedef", "url": "#typedefdef-filesystemwritechunktype" },
                "#valid-file-name": { "displayText": "valid file name", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "valid file name", "type": "dfn", "url": "#valid-file-name" },
                "#write-a-chunk": { "displayText": "write a chunk", "export": true, "for_": [], "level": "", "normative": true, "shortname": "fs", "spec": "fs", "status": "local", "text": "write a chunk", "type": "dfn", "url": "#write-a-chunk" },
                "https://encoding.spec.whatwg.org/#utf-8-encode": { "displayText": "UTF-8 encode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 encode", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "https://html.spec.whatwg.org/multipage/browsers.html#same-origin": { "displayText": "same origin", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "same origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps": { "displayText": "enqueue the following steps", "export": true, "for_": ["parallel queue"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "enqueue the following steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": { "displayText": "in parallel", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "in parallel", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue": { "displayText": "starting a new parallel queue", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "starting a new parallel queue", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps": { "displayText": "deserialization steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "deserialization steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#serializable": { "displayText": "Serializable", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Serializable", "type": "extended-attribute", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects": { "displayText": "serializable object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "serializable object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps": { "displayText": "serialization steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "serialization steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": { "displayText": "relevant global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm": { "displayText": "relevant realm", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant realm", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin": { "displayText": "origin", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object": { "displayText": "current settings object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "current settings object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#pause": { "displayText": "pause", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "pause", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#pause" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": { "displayText": "relevant settings object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant settings object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
                "https://infra.spec.whatwg.org/#assert": { "displayText": "assert", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "assert", "type": "dfn", "url": "https://infra.spec.whatwg.org/#assert" },
                "https://infra.spec.whatwg.org/#byte-sequence": { "displayText": "byte sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte sequence", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence" },
                "https://infra.spec.whatwg.org/#byte-sequence-length": { "displayText": "length", "export": true, "for_": ["byte sequence"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "length", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence-length" },
                "https://infra.spec.whatwg.org/#implementation-defined": { "displayText": "implementation-defined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "implementation-defined", "type": "dfn", "url": "https://infra.spec.whatwg.org/#implementation-defined" },
                "https://infra.spec.whatwg.org/#list": { "displayText": "list", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "list", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list" },
                "https://infra.spec.whatwg.org/#list-append": { "displayText": "append", "export": true, "for_": ["list"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-append" },
                "https://infra.spec.whatwg.org/#list-clone": { "displayText": "clone", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "clone", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-clone" },
                "https://infra.spec.whatwg.org/#list-contain": { "displayText": "contain", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "contain", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-contain" },
                "https://infra.spec.whatwg.org/#list-get-the-indices": { "displayText": "indices", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "indices", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-get-the-indices" },
                "https://infra.spec.whatwg.org/#list-is-empty": { "displayText": "is empty", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "is empty", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-is-empty" },
                "https://infra.spec.whatwg.org/#list-item": { "displayText": "item", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-item" },
                "https://infra.spec.whatwg.org/#list-iterate": { "displayText": "for each", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "for each", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-iterate" },
                "https://infra.spec.whatwg.org/#list-remove": { "displayText": "remove", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "remove", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-remove" },
                "https://infra.spec.whatwg.org/#list-size": { "displayText": "size", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "size", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-size" },
                "https://infra.spec.whatwg.org/#map-exists": { "displayText": "exist", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "exist", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-exists" },
                "https://infra.spec.whatwg.org/#ordered-set": { "displayText": "set", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "set", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "https://infra.spec.whatwg.org/#set-append": { "displayText": "append", "export": true, "for_": ["set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#set-append" },
                "https://infra.spec.whatwg.org/#string": { "displayText": "string", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "string", "type": "dfn", "url": "https://infra.spec.whatwg.org/#string" },
                "https://infra.spec.whatwg.org/#struct": { "displayText": "struct", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "struct", "type": "dfn", "url": "https://infra.spec.whatwg.org/#struct" },
                "https://infra.spec.whatwg.org/#struct-item": { "displayText": "item", "export": true, "for_": ["struct", "tuple"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#struct-item" },
                "https://infra.spec.whatwg.org/#the-range": { "displayText": "the range", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "the range", "type": "dfn", "url": "https://infra.spec.whatwg.org/#the-range" },
                "https://storage.spec.whatwg.org/#obtain-a-local-storage-bottle-map": { "displayText": "obtain a local storage bottle map", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "obtain a local storage bottle map", "type": "dfn", "url": "https://storage.spec.whatwg.org/#obtain-a-local-storage-bottle-map" },
                "https://storage.spec.whatwg.org/#queue-a-storage-task": { "displayText": "queue a storage task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "queue a storage task", "type": "dfn", "url": "https://storage.spec.whatwg.org/#queue-a-storage-task" },
                "https://storage.spec.whatwg.org/#storage-bucket": { "displayText": "storage bucket", "export": true, "for_": [], "level": "", "normative": true, "shortname": "storage", "spec": "storage", "status": "anchor-block", "text": "storage bucket", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-bucket" },
                "https://storage.spec.whatwg.org/#storage-endpoint": { "displayText": "storage endpoint", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "storage endpoint", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-endpoint" },
                "https://storage.spec.whatwg.org/#storage-endpoint-identifier": { "displayText": "identifier", "export": false, "for_": ["storage endpoint"], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "identifier", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-endpoint-identifier" },
                "https://storage.spec.whatwg.org/#storage-endpoint-quota": { "displayText": "quota", "export": false, "for_": ["storage endpoint"], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "quota", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-endpoint-quota" },
                "https://storage.spec.whatwg.org/#storage-endpoint-types": { "displayText": "types", "export": false, "for_": ["storage endpoint"], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "types", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-endpoint-types" },
                "https://storage.spec.whatwg.org/#storage-quota": { "displayText": "storage quota", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "storage quota", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-quota" },
                "https://storage.spec.whatwg.org/#storagemanager": { "displayText": "StorageManager", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "StorageManager", "type": "interface", "url": "https://storage.spec.whatwg.org/#storagemanager" },
                "https://streams.spec.whatwg.org/#default-writer-write": { "displayText": "write()", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "write()", "type": "method", "url": "https://streams.spec.whatwg.org/#default-writer-write" },
                "https://streams.spec.whatwg.org/#readablestream": { "displayText": "ReadableStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "ReadableStream", "type": "interface", "url": "https://streams.spec.whatwg.org/#readablestream" },
                "https://streams.spec.whatwg.org/#writablestream": { "displayText": "WritableStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "WritableStream", "type": "interface", "url": "https://streams.spec.whatwg.org/#writablestream" },
                "https://streams.spec.whatwg.org/#writablestream-get-a-writer": { "displayText": "getting a writer", "export": true, "for_": ["WritableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "getting a writer", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-get-a-writer" },
                "https://streams.spec.whatwg.org/#writablestream-set-up": { "displayText": "set up", "export": true, "for_": ["WritableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "set up", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up" },
                "https://streams.spec.whatwg.org/#writablestream-set-up-abortalgorithm": { "displayText": "abortAlgorithm", "export": true, "for_": ["WritableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "abortalgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up-abortalgorithm" },
                "https://streams.spec.whatwg.org/#writablestream-set-up-closealgorithm": { "displayText": "closeAlgorithm", "export": true, "for_": ["WritableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "closealgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up-closealgorithm" },
                "https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark": { "displayText": "highWaterMark", "export": true, "for_": ["WritableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "highwatermark", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up-highwatermark" },
                "https://streams.spec.whatwg.org/#writablestream-set-up-sizealgorithm": { "displayText": "sizeAlgorithm", "export": true, "for_": ["WritableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "sizealgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up-sizealgorithm" },
                "https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm": { "displayText": "writeAlgorithm", "export": true, "for_": ["WritableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "writealgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestream-set-up-writealgorithm" },
                "https://streams.spec.whatwg.org/#writablestreamdefaultwriter": { "displayText": "WritableStreamDefaultWriter", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "WritableStreamDefaultWriter", "type": "interface", "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter" },
                "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release": { "displayText": "release", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "release", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-release" },
                "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-write-a-chunk": { "displayText": "writing a chunk", "export": true, "for_": ["WritableStreamDefaultWriter"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "writing a chunk", "type": "dfn", "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter-write-a-chunk" },
                "https://streams.spec.whatwg.org/#ws-get-writer": { "displayText": "getWriter()", "export": true, "for_": ["WritableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "getWriter()", "type": "method", "url": "https://streams.spec.whatwg.org/#ws-get-writer" },
                "https://tc39.es/ecma262/#current-realm": { "displayText": "current realm", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "current realm", "type": "dfn", "url": "https://tc39.es/ecma262/#current-realm" },
                "https://tc39.es/ecma262/#realm": { "displayText": "realm", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "realm", "type": "dfn", "url": "https://tc39.es/ecma262/#realm" },
                "https://w3c.github.io/FileAPI/#UnixEpoch": { "displayText": "Unix Epoch", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "unix epoch", "type": "dfn", "url": "https://w3c.github.io/FileAPI/#UnixEpoch" },
                "https://w3c.github.io/FileAPI/#dfn-Blob": { "displayText": "Blob", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "Blob", "type": "interface", "url": "https://w3c.github.io/FileAPI/#dfn-Blob" },
                "https://w3c.github.io/FileAPI/#dfn-file": { "displayText": "File", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "File", "type": "interface", "url": "https://w3c.github.io/FileAPI/#dfn-file" },
                "https://w3c.github.io/FileAPI/#dfn-lastModified": { "displayText": "lastModified", "export": true, "for_": ["File"], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "lastModified", "type": "attribute", "url": "https://w3c.github.io/FileAPI/#dfn-lastModified" },
                "https://w3c.github.io/FileAPI/#dfn-name": { "displayText": "name", "export": true, "for_": ["File"], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "name", "type": "attribute", "url": "https://w3c.github.io/FileAPI/#dfn-name" },
                "https://w3c.github.io/FileAPI/#dfn-type": { "displayText": "type", "export": true, "for_": ["Blob"], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "type", "type": "attribute", "url": "https://w3c.github.io/FileAPI/#dfn-type" },
                "https://w3c.github.io/FileAPI/#readOperation": { "displayText": "read operation", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "read operation", "type": "dfn", "url": "https://w3c.github.io/FileAPI/#readOperation" },
                "https://w3c.github.io/FileAPI/#snapshot-state": { "displayText": "snapshot state", "export": false, "for_": ["Blob"], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "snapshot state", "type": "dfn", "url": "https://w3c.github.io/FileAPI/#snapshot-state" },
                "https://w3c.github.io/permissions/#dfn-powerful-feature": { "displayText": "powerful feature", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "powerful feature", "type": "dfn", "url": "https://w3c.github.io/permissions/#dfn-powerful-feature" },
                "https://w3c.github.io/permissions/#dom-permissionstate": { "displayText": "PermissionState", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "PermissionState", "type": "enum", "url": "https://w3c.github.io/permissions/#dom-permissionstate" },
                "https://w3c.github.io/permissions/#dom-permissionstate-denied": { "displayText": "denied", "export": true, "for_": ["PermissionState"], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "denied", "type": "enum-value", "url": "https://w3c.github.io/permissions/#dom-permissionstate-denied" },
                "https://w3c.github.io/permissions/#dom-permissionstate-granted": { "displayText": "granted", "export": true, "for_": ["PermissionState"], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "current", "text": "granted", "type": "enum-value", "url": "https://w3c.github.io/permissions/#dom-permissionstate-granted" },
                "https://webidl.spec.whatwg.org/#AllowSharedBufferSource": { "displayText": "AllowSharedBufferSource", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "AllowSharedBufferSource", "type": "typedef", "url": "https://webidl.spec.whatwg.org/#AllowSharedBufferSource" },
                "https://webidl.spec.whatwg.org/#BufferSource": { "displayText": "BufferSource", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "BufferSource", "type": "typedef", "url": "https://webidl.spec.whatwg.org/#BufferSource" },
                "https://webidl.spec.whatwg.org/#EnforceRange": { "displayText": "EnforceRange", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "EnforceRange", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#EnforceRange" },
                "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://webidl.spec.whatwg.org/#SecureContext": { "displayText": "SecureContext", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecureContext", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "https://webidl.spec.whatwg.org/#a-new-promise": { "displayText": "a new promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a new promise", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "https://webidl.spec.whatwg.org/#a-promise-rejected-with": { "displayText": "a promise rejected with", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a promise rejected with", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
                "https://webidl.spec.whatwg.org/#a-promise-resolved-with": { "displayText": "a promise resolved with", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a promise resolved with", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-promise-resolved-with" },
                "https://webidl.spec.whatwg.org/#aborterror": { "displayText": "AbortError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "AbortError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#aborterror" },
                "https://webidl.spec.whatwg.org/#arraybuffer-write": { "displayText": "write", "export": true, "for_": ["ArrayBuffer", "SharedArrayBuffer"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "write", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#arraybuffer-write" },
                "https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps": { "displayText": "asynchronous iterator initialization steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "asynchronous iterator initialization steps", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#asynchronous-iterator-initialization-steps" },
                "https://webidl.spec.whatwg.org/#buffersource-byte-length": { "displayText": "byte length", "export": true, "for_": ["BufferSource"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "byte length", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#buffersource-byte-length" },
                "https://webidl.spec.whatwg.org/#buffersource-underlying-buffer": { "displayText": "underlying buffer", "export": true, "for_": ["BufferSource"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "underlying buffer", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#buffersource-underlying-buffer" },
                "https://webidl.spec.whatwg.org/#datacloneerror": { "displayText": "DataCloneError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DataCloneError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#datacloneerror" },
                "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value": { "displayText": "converted to an IDL value", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "converted to an idl value", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" },
                "https://webidl.spec.whatwg.org/#dfn-dictionary": { "displayText": "dictionary", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "dictionary", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-dictionary" },
                "https://webidl.spec.whatwg.org/#dfn-error-names-table": { "displayText": "DOMException names table", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "domexception names table", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-error-names-table" },
                "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy": { "displayText": "get a copy of the buffer source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "get a copy of the buffer source", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-get-buffer-source-copy" },
                "https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result": { "displayText": "get the next iteration result", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "get the next iteration result", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-get-the-next-iteration-result" },
                "https://webidl.spec.whatwg.org/#dfn-throw": { "displayText": "throw", "export": true, "for_": ["exception"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "throw", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-throw" },
                "https://webidl.spec.whatwg.org/#domexception-name": { "displayText": "name", "export": true, "for_": ["DOMException"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "name", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#domexception-name" },
                "https://webidl.spec.whatwg.org/#exceptiondef-typeerror": { "displayText": "TypeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "https://webidl.spec.whatwg.org/#idl-DOMException": { "displayText": "DOMException", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMException", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "https://webidl.spec.whatwg.org/#idl-USVString": { "displayText": "USVString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "USVString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "https://webidl.spec.whatwg.org/#idl-boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "https://webidl.spec.whatwg.org/#idl-promise": { "displayText": "Promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Promise", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "https://webidl.spec.whatwg.org/#idl-sequence": { "displayText": "sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "sequence", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "https://webidl.spec.whatwg.org/#idl-undefined": { "displayText": "undefined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "undefined", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "https://webidl.spec.whatwg.org/#idl-unsigned-long-long": { "displayText": "unsigned long long", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "unsigned long long", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long" },
                "https://webidl.spec.whatwg.org/#invalidmodificationerror": { "displayText": "InvalidModificationError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "InvalidModificationError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#invalidmodificationerror" },
                "https://webidl.spec.whatwg.org/#invalidstateerror": { "displayText": "InvalidStateError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "InvalidStateError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#invalidstateerror" },
                "https://webidl.spec.whatwg.org/#new": { "displayText": "new", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "new", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#new" },
                "https://webidl.spec.whatwg.org/#nomodificationallowederror": { "displayText": "NoModificationAllowedError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NoModificationAllowedError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#nomodificationallowederror" },
                "https://webidl.spec.whatwg.org/#notallowederror": { "displayText": "NotAllowedError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NotAllowedError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#notallowederror" },
                "https://webidl.spec.whatwg.org/#notfounderror": { "displayText": "NotFoundError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NotFoundError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#notfounderror" },
                "https://webidl.spec.whatwg.org/#quotaexceedederror": { "displayText": "QuotaExceededError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "QuotaExceededError", "type": "interface", "url": "https://webidl.spec.whatwg.org/#quotaexceedederror" },
                "https://webidl.spec.whatwg.org/#reject": { "displayText": "reject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "reject", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#reject" },
                "https://webidl.spec.whatwg.org/#resolve": { "displayText": "resolve", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "resolve", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#resolve" },
                "https://webidl.spec.whatwg.org/#securityerror": { "displayText": "SecurityError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecurityError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#securityerror" },
                "https://webidl.spec.whatwg.org/#this": { "displayText": "this", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "this", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#this" },
                "https://webidl.spec.whatwg.org/#typemismatcherror": { "displayText": "TypeMismatchError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeMismatchError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#typemismatcherror" },
                "https://wicg.github.io/permissions-request/#permission-request-algorithm": { "displayText": "permission request algorithm", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions-request", "spec": "permissions-request", "status": "current", "text": "permission request algorithm", "type": "dfn", "url": "https://wicg.github.io/permissions-request/#permission-request-algorithm" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script src="/dropdown.js"></script>