<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>最小通用 Web 平台 API</title>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <link href="https://wintertc.org/static/logo.svg" rel="icon">
    <style data-fill-with="stylesheet">
        /******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in § N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

        /* color variables included separately for reliability */

        /******************************************************************************/
        /*                                    Body                                    */
        /******************************************************************************/

        html {}

        body {
            counter-reset: example figure issue;

            /* Layout */
            max-width: 50em;
            /* limit line length to 50em for readability   */
            margin: 0 auto;
            /* center text within page                    */
            padding: 1.6em 1.5em 2em 50px;
            /* assume 16px font size for downlevel clients */
            padding: 1.6em 1.5em 2em calc(26px + 1.5em);
            /* leave space for status flag    */

            /* Typography */
            line-height: 1.5;
            font-family: sans-serif;
            widows: 2;
            orphans: 2;
            word-wrap: break-word;
            overflow-wrap: break-word;
            hyphens: auto;

            color: black;
            color: var(--text);
            background: white top left fixed no-repeat;
            background: var(--bg) top left fixed no-repeat;
            background-size: 25px auto;
        }


        /******************************************************************************/
        /*                         Front Matter & Navigation                          */
        /******************************************************************************/

        /** Header ********************************************************************/

        div.head {
            margin-bottom: 1em;
        }

        div.head hr {
            border-style: solid;
        }

        div.head h1 {
            font-weight: bold;
            margin: 0 0 .1em;
            font-size: 220%;
        }

        div.head h2 {
            margin-bottom: 1.5em;
        }

        /** W3C Logo ******************************************************************/

        .head .logo {
            float: right;
            margin: 0.4rem 0 0.2rem .4rem;
        }

        .head img[src*="logos/W3C"] {
            display: block;
            border: solid #1a5e9a;
            border: solid var(--logo-bg);
            border-width: .65rem .7rem .6rem;
            border-radius: .4rem;
            background: #1a5e9a;
            background: var(--logo-bg);
            color: white;
            color: var(--logo-text);
            font-weight: bold;
        }

        .head a:hover>img[src*="logos/W3C"],
        .head a:focus>img[src*="logos/W3C"] {
            opacity: .8;
        }

        .head a:active>img[src*="logos/W3C"] {
            background: #c00;
            background: var(--logo-active-bg);
            border-color: #c00;
            border-color: var(--logo-active-bg);
        }

        /* see also additional rules in Link Styling section */

        /** Copyright *****************************************************************/

        p.copyright,
        p.copyright small {
            font-size: small;
        }

        /** Back to Top / ToC Toggle **************************************************/

        @media print {
            #toc-nav {
                display: none;
            }
        }

        @media not print {
            #toc-nav {
                position: fixed;
                z-index: 3;
                bottom: 0;
                left: 0;
                margin: 0;
                min-width: 1.33em;
                border-top-right-radius: 2rem;
                box-shadow: 0 0 2px;
                font-size: 1.5em;
            }

            #toc-nav>a {
                display: block;
                white-space: nowrap;

                height: 1.33em;
                padding: .1em 0.3em;
                margin: 0;

                box-shadow: 0 0 2px;
                border: none;
                border-top-right-radius: 1.33em;

                color: #707070;
                color: var(--tocnav-normal-text);
                background: white;
                background: var(--tocnav-normal-bg);
            }

            #toc-nav>a:hover,
            #toc-nav>a:focus {
                color: black;
                color: var(--tocnav-hover-text);
                background: #f8f8f8;
                background: var(--tocnav-hover-bg);
            }

            #toc-nav>a:active {
                color: #c00;
                color: var(--tocnav-active-text);
                background: white;
                background: var(--tocnav-active-bg);
            }

            #toc-nav>#toc-jump {
                padding-bottom: 2em;
                margin-bottom: -1.9em;
            }

            /* statusbar gets in the way on keyboard focus; remove once browsers fix */
            #toc-nav>a[href="#toc"]:not(:hover):focus:last-child {
                padding-bottom: 1.5rem;
            }

            #toc-nav:not(:hover)>a:not(:focus)>span+span {
                /* Ideally this uses :focus-within on #toc-nav */
                display: none;
            }

            #toc-nav>a>span+span {
                padding-right: 0.2em;
            }
        }

        /** ToC Sidebar ***************************************************************/

        /* Floating sidebar */
        @media screen {
            body.toc-sidebar #toc {
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                width: 23.5em;
                max-width: 80%;
                max-width: calc(100% - 2em - 26px);
                overflow: auto;
                padding: 0 1em;
                padding-left: 42px;
                padding-left: calc(1em + 26px);
                color: black;
                color: var(--tocsidebar-text);
                background: inherit;
                background-color: #f7f8f9;
                background-color: var(--tocsidebar-bg);
                z-index: 1;
                box-shadow: -.1em 0 .25em rgba(0, 0, 0, .1) inset;
                box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
            }

            body.toc-sidebar #toc h2 {
                margin-top: .8rem;
                font-variant: small-caps;
                font-variant: all-small-caps;
                text-transform: lowercase;
                font-weight: bold;
                color: gray;
                color: hsla(203, 20%, 40%, .7);
                color: var(--tocsidebar-heading-text);
            }

            body.toc-sidebar #toc-jump:not(:focus) {
                width: 0;
                height: 0;
                padding: 0;
                position: absolute;
                overflow: hidden;
            }
        }

        /* Hide main scroller when only the ToC is visible anyway */
        @media screen and (max-width: 28em) {
            body.toc-sidebar {
                overflow: hidden;
            }
        }

        /* Sidebar with its own space */
        @media screen and (min-width: 78em) {
            body:not(.toc-inline) #toc {
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                width: 23.5em;
                overflow: auto;
                padding: 0 1em;
                padding-left: 42px;
                padding-left: calc(1em + 26px);
                color: black;
                color: var(--tocsidebar-text);
                background: inherit;
                background-color: #f7f8f9;
                background-color: var(--tocsidebar-bg);
                z-index: 1;
                box-shadow: -.1em 0 .25em rgba(0, 0, 0, .1) inset;
                box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
            }

            body:not(.toc-inline) #toc h2 {
                margin-top: .8rem;
                font-variant: small-caps;
                font-variant: all-small-caps;
                text-transform: lowercase;
                font-weight: bold;
                color: gray;
                color: hsla(203, 20%, 40%, .7);
                color: var(--tocsidebar-heading-text);
            }

            body:not(.toc-inline) {
                padding-left: 29em;
            }

            /* See also Overflow section at the bottom */

            body:not(.toc-inline) #toc-jump:not(:focus) {
                width: 0;
                height: 0;
                padding: 0;
                position: absolute;
                overflow: hidden;
            }
        }

        @media screen and (min-width: 90em) {
            body:not(.toc-inline) {
                margin: 0 4em;
            }
        }

        /******************************************************************************/
        /*                                Sectioning                                  */
        /******************************************************************************/

        /** Headings ******************************************************************/

        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        dt {
            page-break-after: avoid;
            page-break-inside: avoid;
            font: 100% sans-serif;
            /* Reset all font styling to clear out UA styles */
            font-family: inherit;
            /* Inherit the font family. */
            line-height: 1.2;
            /* Keep wrapped headings compact */
            hyphens: manual;
            /* Hyphenated headings look weird */
        }

        h2,
        h3,
        h4,
        h5,
        h6 {
            margin-top: 3rem;
        }

        h1,
        h2,
        h3 {
            color: #005A9C;
            color: var(--heading-text);
        }

        h1 {
            font-size: 170%;
        }

        h2 {
            font-size: 140%;
        }

        h3 {
            font-size: 120%;
        }

        h4 {
            font-weight: bold;
        }

        h5 {
            font-style: italic;
        }

        h6 {
            font-variant: small-caps;
        }

        dt {
            font-weight: bold;
        }

        /** Subheadings ***************************************************************/

        h1+h2,
        #profile-and-date {
            /* #profile-and-date is a subtitle in an H2 under the H1 */
            margin-top: 0;
        }

        h2+h3,
        h3+h4,
        h4+h5,
        h5+h6 {
            margin-top: 1.2em;
            /* = 1 x line-height */
        }

        /** Section divider ***********************************************************/

        :not(.head)> :not(.head)+hr {
            font-size: 1.5em;
            text-align: center;
            margin: 1em auto;
            height: auto;
            color: black;
            color: var(--hr-text);
            border: transparent solid 0;
            background: transparent;
        }

        :not(.head)>hr::before {
            content: "\2727\2003\2003\2727\2003\2003\2727";
        }

        /******************************************************************************/
        /*                            Paragraphs and Lists                            */
        /******************************************************************************/

        p {
            margin: 1em 0;
        }

        dd>p:first-child,
        li>p:first-child {
            margin-top: 0;
        }

        ul,
        ol {
            margin-left: 0;
            padding-left: 2em;
        }

        li {
            margin: 0.25em 0 0.5em;
            padding: 0;
        }

        dl dd {
            margin: 0 0 .5em 2em;
        }

        .head dd+dd {
            /* compact for header */
            margin-top: -.5em;
        }

        /* Style for algorithms */
        ol.algorithm ol:not(.algorithm),
        .algorithm>ol ol:not(.algorithm) {
            border-left: 0.5em solid #DEF;
            border-left: 0.5em solid var(--algo-border);
        }

        /* Put nice boxes around each algorithm. */
        [data-algorithm]:not(.heading) {
            padding: .5em;
            border: thin solid #ddd;
            border: thin solid var(--algo-border);
            border-radius: .5em;
            margin: .5em calc(-0.5em - 1px);
        }

        [data-algorithm]:not(.heading)> :first-child {
            margin-top: 0;
        }

        [data-algorithm]:not(.heading)> :last-child {
            margin-bottom: 0;
        }

        /* Style for switch/case <dl>s */
        dl.switch>dd>ol.only,
        dl.switch>dd>.only>ol {
            margin-left: 0;
        }

        dl.switch>dd>ol.algorithm,
        dl.switch>dd>.algorithm>ol {
            margin-left: -2em;
        }

        dl.switch {
            padding-left: 2em;
        }

        dl.switch>dt {
            text-indent: -1.5em;
            margin-top: 1em;
        }

        dl.switch>dt+dt {
            margin-top: 0;
        }

        dl.switch>dt::before {
            content: '\21AA';
            padding: 0 0.5em 0 0;
            display: inline-block;
            width: 1em;
            text-align: right;
            line-height: 0.5em;
        }

        /** Terminology Markup ********************************************************/


        /******************************************************************************/
        /*                                 Inline Markup                              */
        /******************************************************************************/

        /** Terminology Markup ********************************************************/
        dfn {
            /* Defining instance */
            font-weight: bolder;
        }

        a>i {
            /* Instance of term */
            font-style: normal;
        }

        dt dfn code,
        code.idl {
            font-size: inherit;
        }

        dfn var {
            font-style: normal;
        }

        /** Change Marking ************************************************************/

        del {
            color: #aa0000;
            color: var(--del-text);
            background: transparent;
            background: var(--del-bg);
            text-decoration: line-through;
        }

        ins {
            color: #006100;
            color: var(--ins-text);
            background: transparent;
            background: var(--ins-bg);
            text-decoration: underline;
        }

        /* for amendments (candidate/proposed changes) */

        .amendment ins,
        .correction ins,
        .addition ins,
        ins[class^=c] {
            text-decoration-style: dotted;
        }

        .amendment del,
        .correction del,
        .addition del,
        del[class^=c] {
            text-decoration-style: dotted;
        }

        .amendment.proposed ins,
        .correction.proposed ins,
        .addition.proposed ins,
        ins[class^=c].proposed {
            text-decoration-style: double;
        }

        .amendment.proposed del,
        .correction.proposed del,
        .addition.proposed del,
        del[class^=c].proposed {
            text-decoration-style: double;
        }

        /** Miscellaneous improvements to inline formatting ***************************/

        sup {
            vertical-align: super;
            font-size: 80%
        }

        /******************************************************************************/
        /*                                    Code                                    */
        /******************************************************************************/

        /** General monospace/pre rules ***********************************************/

        pre,
        code,
        samp {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
            font-size: .9em;
            hyphens: none;
            text-transform: none;
            text-align: left;
            text-align: start;
            font-variant: normal;
            orphans: 3;
            widows: 3;
            page-break-before: avoid;
        }

        pre code,
        code code {
            font-size: 100%;
        }

        pre {
            margin-top: 1em;
            margin-bottom: 1em;
            overflow: auto;
        }

        /** Inline Code fragments *****************************************************/

        /* Do something nice. */

        /******************************************************************************/
        /*                                    Links                                   */
        /******************************************************************************/

        /** General Hyperlinks ********************************************************/

        /* We hyperlink a lot, so make it less intrusive */
        a[href] {
            color: #034575;
            color: var(--a-normal-text);
            text-decoration: underline #707070;
            text-decoration: underline var(--a-normal-underline);
            text-decoration-skip-ink: none;
        }

        a:visited {
            color: #034575;
            color: var(--a-visited-text);
            text-decoration-color: #bbb;
            text-decoration-color: var(--a-visited-underline);
        }

        /* Indicate interaction with the link */
        a[href]:focus,
        a[href]:hover {
            text-decoration-thickness: 2px;
        }

        a[href]:active {
            color: #c00;
            color: var(--a-active-text);
            text-decoration-color: #c00;
            text-decoration-color: var(--a-active-underline);
        }

        /* Backout above styling for W3C logo */
        .head .logo,
        .head .logo a {
            border: none;
            text-decoration: none;
            background: transparent;
        }

        /******************************************************************************/
        /*                                    Images                                  */
        /******************************************************************************/

        img {
            border-style: none;
        }

        img,
        svg {
            /* Intentionally not color-scheme aware. */
            background: white;
        }

        /* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

        figure,
        .figure,
        .sidefigure {
            page-break-inside: avoid;
            text-align: center;
            margin: 2.5em 0;
        }

        .figure img,
        .sidefigure img,
        figure img,
        .figure object,
        .sidefigure object,
        figure object {
            max-width: 100%;
            margin: auto;
            height: auto;
        }

        .figure pre,
        .sidefigure pre,
        figure pre {
            text-align: left;
            display: table;
            margin: 1em auto;
        }

        .figure table,
        figure table {
            margin: auto;
        }

        @media screen and (min-width: 20em) {
            .sidefigure {
                float: right;
                width: 50%;
                margin: 0 0 0.5em 0.5em;
            }
        }

        .caption,
        figcaption,
        caption {
            font-style: italic;
            font-size: 90%;
        }

        .caption::before,
        figcaption::before,
        figcaption>.marker {
            font-weight: bold;
        }

        .caption,
        figcaption {
            counter-increment: figure;
        }

        /* DL list is indented 2em, but figure inside it is not */
        dd>.figure,
        dd>figure {
            margin-left: -2em;
        }

        /******************************************************************************/
        /*                             Colored Boxes                                  */
        /******************************************************************************/

        .issue,
        .note,
        .example,
        .assertion,
        .advisement,
        blockquote,
        .amendment,
        .correction,
        .addition {
            margin: 1em auto;
            padding: .5em;
            border: .5em;
            border-left-style: solid;
            page-break-inside: avoid;
        }

        span.issue,
        span.note {
            padding: .1em .5em .15em;
            border-right-style: solid;
        }

        blockquote> :first-child,
        .note>p:first-child,
        .issue>p:first-child,
        .amendment>p:first-child,
        .correction>p:first-child,
        .addition>p:first-child {
            margin-top: 0;
        }

        blockquote> :last-child,
        .note>p:last-child,
        .issue>p:last-child,
        .amendment>p:last-child,
        .correction>p:last-child,
        .addition>p:last-child {
            margin-bottom: 0;
        }


        .issue::before,
        .issue>.marker,
        .example::before,
        .example>.marker,
        .note::before,
        .note>.marker,
        details.note>summary>.marker,
        .amendment::before,
        .amendment>.marker,
        details.amendment>summary>.marker,
        .addition::before,
        .addition>.marker,
        addition.amendment>summary>.marker,
        .correction::before,
        .correction>.marker,
        correction.amendment>summary>.marker {
            text-transform: uppercase;
            padding-right: 1em;
        }

        .example::before,
        .example>.marker {
            display: block;
            padding-right: 0em;
        }

        /** Blockquotes ***************************************************************/

        blockquote {
            border-color: silver;
            border-color: var(--blockquote-border);
            background: transparent;
            background: var(--blockquote-bg);
            color: currentcolor;
            color: var(--blockquote-text);
        }

        /** Open issue ****************************************************************/

        .issue {
            border-color: #e05252;
            border-color: var(--issue-border);
            background: #fbe9e9;
            background: var(--issue-bg);
            color: black;
            color: var(--issue-text);
            counter-increment: issue;
            overflow: auto;
        }

        .issue::before,
        .issue>.marker {
            color: #831616;
            color: var(--issueheading-text);
        }

        /* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

        /** Example *******************************************************************/

        .example {
            border-color: #e0cb52;
            border-color: var(--example-border);
            background: #fcfaee;
            background: var(--example-bg);
            color: black;
            color: var(--example-text);
            counter-increment: example;
            overflow: auto;
            clear: both;
        }

        .example::before,
        .example>.marker {
            color: #574b0f;
            color: var(--exampleheading-text);
        }

        /* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

        /** Non-normative Note ********************************************************/

        .note {
            border-color: #52e052;
            border-color: var(--note-border);
            background: #e9fbe9;
            background: var(--note-bg);
            color: black;
            color: var(--note-text);
            overflow: auto;
        }

        .note::before,
        .note>.marker,
        details.note>summary {
            color: hsl(120, 70%, 30%);
            color: var(--noteheading-text);
        }

        /* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

        details.note[open]>summary {
            border-bottom: 1px silver solid;
            border-bottom: 1px var(--notesummary-underline) solid;
        }

        /** Assertion Box *************************************************************/
        /*  for assertions in algorithms */

        .assertion {
            border-color: #AAA;
            border-color: var(--assertion-border);
            background: #EEE;
            background: var(--assertion-bg);
            color: black;
            color: var(--assertion-text);
        }

        /** Advisement Box ************************************************************/
        /*  for attention-grabbing normative statements */

        .advisement {
            border-color: orange;
            border-color: var(--advisement-border);
            border-style: none solid;
            background: #fec;
            background: var(--advisement-bg);
            color: black;
            color: var(--advisement-text);
        }

        strong.advisement {
            display: block;
            text-align: center;
        }

        .advisement::before,
        .advisement>.marker {
            color: #b35f00;
            color: var(--advisementheading-text);
        }

        /** Amendment Box *************************************************************/

        .amendment,
        .correction,
        .addition {
            border-color: #330099;
            border-color: var(--amendment-border);
            background: #F5F0FF;
            background: var(--amendment-bg);
            color: black;
            color: var(--amendment-text);
        }

        .amendment.proposed,
        .correction.proposed,
        .addition.proposed {
            border-style: solid;
            border-block-width: 0.25em;
        }

        .amendment::before,
        .amendment>.marker,
        details.amendment>summary::before,
        details.amendment>summary>.marker,
        .correction::before,
        .correction>.marker,
        details.correction>summary::before,
        details.correction>summary>.marker,
        .addition::before,
        .addition>.marker,
        details.addition>summary::before,
        details.addition>summary>.marker {
            color: #220066;
            color: var(--amendmentheading-text);
        }

        .amendment.proposed::before,
        .amendment.proposed>.marker,
        details.amendment.proposed>summary::before,
        details.amendment.proposed>summary>.marker,
        .correction.proposed::before,
        .correction.proposed>.marker,
        details.correction.proposed>summary::before,
        details.correction.proposed>summary>.marker,
        .addition.proposed::before,
        .addition.proposed>.marker,
        details.addition.proposed>summary::before,
        details.addition.proposed>summary>.marker {
            font-weight: bold;
        }

        /** Spec Obsoletion Notice ****************************************************/
        /* obnoxious obsoletion notice for older/abandoned specs. */

        details {
            display: block;
        }

        summary {
            font-weight: bolder;
        }

        .annoying-warning:not(details),
        details.annoying-warning:not([open])>summary,
        details.annoying-warning[open] {
            background: hsla(40, 100%, 50%, 0.95);
            background: var(--warning-bg);
            color: black;
            color: var(--warning-text);
            padding: .75em 1em;
            border: red;
            border: var(--warning-border);
            border-style: solid none;
            box-shadow: 0 2px 8px black;
            text-align: center;
        }

        .annoying-warning :last-child {
            margin-bottom: 0;
        }

        @media not print {
            details.annoying-warning[open] {
                position: fixed;
                left: 0;
                right: 0;
                bottom: 2em;
                z-index: 1000;
            }
        }

        details.annoying-warning:not([open])>summary {
            text-align: center;
        }

        /** Entity Definition Boxes ***************************************************/

        .def {
            padding: .5em 1em;
            background: #def;
            background: var(--def-bg);
            margin: 1.2em 0;
            border-left: 0.5em solid #8ccbf2;
            border-left: 0.5em solid var(--def-border);
            color: black;
            color: var(--def-text);
        }

        /******************************************************************************/
        /*                                    Tables                                  */
        /******************************************************************************/

        th,
        td {
            text-align: left;
            text-align: start;
        }

        /** Property/Descriptor Definition Tables *************************************/

        table.def {
            /* inherits .def box styling, see above */
            width: 100%;
            border-spacing: 0;
        }

        table.def td,
        table.def th {
            padding: 0.5em;
            vertical-align: baseline;
            border-bottom: 1px solid #bbd7e9;
            border-bottom: 1px solid var(--defrow-border);
        }

        table.def>tbody>tr:last-child th,
        table.def>tbody>tr:last-child td {
            border-bottom: 0;
        }

        table.def th {
            font-style: italic;
            font-weight: normal;
            padding-left: 1em;
            width: 3em;
        }

        /* For when values are extra-complex and need formatting for readability */
        table td.pre {
            white-space: pre-wrap;
        }

        /* A footnote at the bottom of a def table */
        table.def td.footnote {
            padding-top: 0.6em;
        }

        table.def td.footnote::before {
            content: " ";
            display: block;
            height: 0.6em;
            width: 4em;
            border-top: thin solid;
        }

        /** Data tables (and properly marked-up index tables) *************************/
        /*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

        table {
            word-wrap: normal;
            overflow-wrap: normal;
            hyphens: manual;
        }

        table.data,
        table.index {
            margin: 1em auto;
            border-collapse: collapse;
            border: hidden;
            width: 100%;
        }

        table.data caption,
        table.index caption {
            max-width: 50em;
            margin: 0 auto 1em;
        }

        table.data td,
        table.data th,
        table.index td,
        table.index th {
            padding: 0.5em 1em;
            border-width: 1px;
            border-color: silver;
            border-color: var(--datacell-border);
            border-top-style: solid;
        }

        table.data thead td:empty {
            padding: 0;
            border: 0;
        }

        table.data thead,
        table.index thead,
        table.data tbody,
        table.index tbody {
            border-bottom: 2px solid;
        }

        table.data colgroup,
        table.index colgroup {
            border-left: 2px solid;
        }

        table.data tbody th:first-child,
        table.index tbody th:first-child {
            border-right: 2px solid;
            border-top: 1px solid silver;
            border-top: 1px solid var(--datacell-border);
            padding-right: 1em;
        }

        table.data th[colspan],
        table.data td[colspan] {
            text-align: center;
        }

        table.complex.data th,
        table.complex.data td {
            border: 1px solid silver;
            border: 1px solid var(--datacell-border);
            text-align: center;
        }

        table.data.longlastcol td:last-child,
        table.data td.long {
            vertical-align: baseline;
            text-align: left;
        }

        table.data img {
            vertical-align: middle;
        }


        /*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

        /******************************************************************************/
        /*                                  Indices                                   */
        /******************************************************************************/


        /** Table of Contents *********************************************************/

        .toc a {
            /* More spacing; use padding to make it part of the click target. */
            padding: 0.1rem 1px 0;
            /* Larger, more consistently-sized click target */
            display: block;
            /* Switch to using border-bottom for underlines */
            text-decoration: none;
            border-bottom: 1px solid;
            /* Reverse color scheme */
            color: black;
            color: var(--toclink-text);
            border-color: #3980b5;
            border-color: var(--toclink-underline);
        }

        .toc a:visited {
            color: black;
            color: var(--toclink-visited-text);
            border-color: #054572;
            border-color: var(--toclink-visited-underline);
        }

        .toc a:focus,
        .toc a:hover {
            background: rgba(75%, 75%, 75%, .25);
            background: var(--a-hover-bg);
            border-bottom-width: 3px;
            margin-bottom: -2px;
        }

        .toc a:not(:focus):not(:hover) {
            /* Allow colors to cascade through from link styling */
            border-bottom-color: transparent;
        }

        .toc,
        .toc ol,
        .toc ul,
        .toc li {
            list-style: none;
            /* Numbers must be inlined into source */
            /* because generated content isn't search/selectable and markers can't do multilevel yet */
            margin: 0;
            padding: 0;
        }

        .toc {
            line-height: 1.1em;
        }

        /* ToC not indented until third level, but font style & margins show hierarchy */
        .toc>li {
            font-weight: bold;
        }

        .toc>li li {
            font-weight: normal;
        }

        .toc>li li li {
            font-size: 95%;
        }

        .toc>li li li li {
            font-size: 90%;
        }

        .toc>li li li li li {
            font-size: 85%;
        }

        /* @supports not (display:grid) { */
        .toc>li {
            margin: 1.5rem 0;
        }

        .toc>li li {
            margin: 0.3rem 0;
        }

        .toc>li li li {
            margin-left: 2rem;
        }

        /* Section numbers in a column of their own */
        .toc .secno {
            float: left;
            width: 4rem;
            white-space: nowrap;
        }

        .toc>li li li li .secno {
            font-size: 85%;
        }

        .toc>li li li li li .secno {
            font-size: 100%;
        }

        .toc li {
            clear: both;
        }

        :not(li)>.toc {
            margin-left: 5rem;
        }

        .toc .secno {
            margin-left: -5rem;
        }

        .toc>li li li .secno {
            margin-left: -7rem;
        }

        .toc>li li li li .secno {
            margin-left: -9rem;
        }

        .toc>li li li li li .secno {
            margin-left: -11rem;
        }

        /* Tighten up indentation in narrow ToCs */
        @media (max-width: 30em) {
            :not(li)>.toc {
                margin-left: 4rem;
            }

            .toc .secno {
                margin-left: -4rem;
            }

            .toc>li li li {
                margin-left: 1rem;
            }

            .toc>li li li .secno {
                margin-left: -5rem;
            }

            .toc>li li li li .secno {
                margin-left: -6rem;
            }

            .toc>li li li li li .secno {
                margin-left: -7rem;
            }
        }

        /* Loosen it on wide screens */
        @media screen and (min-width: 78em) {
            body:not(.toc-inline) :not(li)>.toc {
                margin-left: 4rem;
            }

            body:not(.toc-inline) .toc .secno {
                margin-left: -4rem;
            }

            body:not(.toc-inline) .toc>li li li {
                margin-left: 1rem;
            }

            body:not(.toc-inline) .toc>li li li .secno {
                margin-left: -5rem;
            }

            body:not(.toc-inline) .toc>li li li li .secno {
                margin-left: -6rem;
            }

            body:not(.toc-inline) .toc>li li li li li .secno {
                margin-left: -7rem;
            }
        }

        /* } */

        @supports (display:grid) and (display:contents) {

            /* Use #toc over .toc to override non-@supports rules. */
            #toc {
                display: grid;
                align-content: start;
                grid-template-columns: auto 1fr;
                grid-column-gap: 1rem;
                column-gap: 1rem;
                grid-row-gap: .6rem;
                row-gap: .6rem;
            }

            #toc h2 {
                grid-column: 1 / -1;
                margin-bottom: 0;
            }

            #toc ol,
            #toc li,
            #toc a {
                display: contents;
                /* Switch <a> to subgrid when supported */
            }

            #toc span {
                margin: 0;
            }

            #toc>.toc>li>a>span {
                /* The spans of the top-level list,
			  comprising the first items of each top-level section. */
                margin-top: 1.1rem;
            }

            #toc#toc .secno {
                /* Ugh, need more specificity to override base.css */
                grid-column: 1;
                width: auto;
                margin-left: 0;
            }

            #toc .content {
                grid-column: 2;
                width: auto;
                margin-right: 1rem;
                border-bottom: 3px solid transparent;
                margin-bottom: -3px;
            }

            #toc .content:hover,
            #toc .content:focus {
                background: rgba(75%, 75%, 75%, .25);
                background: var(--a-hover-bg);
                border-bottom-color: #054572;
                border-bottom-color: var(--toclink-underline);
            }

            #toc li li li .content {
                margin-left: 1rem;
            }

            #toc li li li li .content {
                margin-left: 2rem;
            }
        }


        /** Index *********************************************************************/

        /* Index Lists: Layout */
        ul.index {
            margin-left: 0;
            columns: 15em;
            text-indent: 1em hanging;
        }

        ul.index li {
            margin-left: 0;
            list-style: none;
            break-inside: avoid;
        }

        ul.index li li {
            margin-left: 1em;
        }

        ul.index dl {
            margin-top: 0;
        }

        ul.index dt {
            margin: .2em 0 .2em 20px;
        }

        ul.index dd {
            margin: .2em 0 .2em 40px;
        }

        /* Index Lists: Typography */
        ul.index ul,
        ul.index dl {
            font-size: smaller;
        }

        @media not print {
            ul.index li a+span {
                white-space: nowrap;
                color: transparent;
            }

            ul.index li a:hover+span,
            ul.index li a:focus+span {
                color: #707070;
                color: var(--indexinfo-text);
            }
        }

        /** Index Tables *****************************************************/
        /* See also the data table styling section, which this effectively subclasses */

        table.index {
            font-size: small;
            border-collapse: collapse;
            border-spacing: 0;
            text-align: left;
            margin: 1em 0;
        }

        table.index td,
        table.index th {
            padding: 0.4em;
        }

        table.index tr:hover td:not([rowspan]),
        table.index tr:hover th:not([rowspan]) {
            color: black;
            color: var(--indextable-hover-text);
            background: #f7f8f9;
            background: var(--indextable-hover-bg);
        }

        /* The link in the first column in the property table (formerly a TD) */
        table.index th:first-child a {
            font-weight: bold;
        }

        /** Outdated warning **********************************************************/

        .outdated-spec {
            color: black;
            color: var(--outdatedspec-text);
            background-color: rgba(0, 0, 0, 0.5);
            background-color: var(--outdatedspec-bg);
        }

        .outdated-warning {
            position: fixed;
            bottom: 50%;
            left: 0;
            right: 0;
            margin: 0 auto;
            width: 50%;
            background: maroon;
            background: var(--outdated-bg);
            color: white;
            color: var(--outdated-text);
            border-radius: 1em;
            box-shadow: 0 0 1em red;
            box-shadow: 0 0 1em var(--outdated-shadow);
            padding: 2em;
            text-align: center;
            z-index: 2;
        }

        .outdated-warning a {
            color: currentcolor;
            background: transparent;
        }

        .edited-rec-warning {
            background: darkorange;
            background: var(--editedrec-bg);
            box-shadow: 0 0 1em;
        }

        .outdated-warning button {
            color: var(--outdated-text);
            border-radius: 1em;
            box-shadow: 0 0 1em red;
            box-shadow: 0 0 1em var(--outdated-shadow);
            padding: 2em;
            text-align: center;
            z-index: 2;
        }

        .outdated-warning a {
            color: currentcolor;
            background: transparent;
        }

        .edited-rec-warning {
            background: darkorange;
            background: var(--editedrec-bg);
            box-shadow: 0 0 1em;
        }

        .outdated-warning button {
            position: absolute;
            top: 0;
            right: 0;
            margin: 0;
            border: 0;
            padding: 0.25em 0.5em;
            background: transparent;
            color: white;
            color: var(--outdated-text);
            font: 1em sans-serif;
            text-align: center;
        }

        .outdated-warning span {
            display: block;
        }

        .outdated-collapsed {
            bottom: 0;
            border-radius: 0;
            width: 100%;
            padding: 0;
        }

        /******************************************************************************/
        /*                                    Print                                   */
        /******************************************************************************/

        @media print {

            /* Pages have their own margins. */
            html {
                margin: 0;
            }

            /* Serif for print. */
            body {
                font-family: serif;
            }

            .outdated-warning {
                position: absolute;
                border-style: solid;
                border-color: red;
            }

            .outdated-warning input {
                display: none;
            }
        }

        @page {
            margin: 1.5cm 1.1cm;
        }



        /******************************************************************************/
        /*                             Overflow Control                               */
        /******************************************************************************/

        .figure .caption,
        .sidefigure .caption,
        figcaption {
            /* in case figure is overlarge, limit caption to 50em */
            max-width: 50rem;
            margin-left: auto;
            margin-right: auto;
        }

        .overlarge {
            /* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
            display: grid;
            grid-template-columns: minmax(0, 50em);
        }

        .overlarge>table {
            /* limit preferred width of table */
            max-width: 50em;
            margin-left: auto;
            margin-right: auto;
        }

        @media (min-width: 55em) {
            .overlarge {
                margin-right: calc(13px + 26.5rem - 50vw);
                max-width: none;
            }
        }

        @media screen and (min-width: 78em) {
            body:not(.toc-inline) .overlarge {
                /* 30.5em body padding 50em content area */
                margin-right: calc(40em - 50vw) !important;
            }
        }

        @media screen and (min-width: 90em) {
            body:not(.toc-inline) .overlarge {
                /* 4em html margin 30.5em body padding 50em content area */
                margin-right: calc(84.5em - 100vw) !important;
            }
        }

        @media not print {
            .overlarge {
                overflow-x: auto;
                /* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
            }
        }
    </style>
    <style>
        img.darkmode-aware {
            background: transparent;
        }

        .logo {
            display: flex;
            gap: 1em;
        }

        .logo img {
            max-height: 70px;
        }
    </style>
    <meta content="Bikeshed version 3f621ba99, updated Mon Jul 28 15:38:36 2025 -0700" name="generator">
    <link href="https://min-common-api.proposal.wintertc.org/" rel="canonical">
    <meta content="dark light" name="color-scheme">
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>

<body class="h-entry">
    <div class="head">
        <p class="logo" data-fill-with="logo"><a href="https://ecma-international.org/">
                <img alt="ECMA International" src="https://wintertc.org/static/logos/ecma.svg">
            </a>
            <a href="https://wintertc.org/">
                <img alt="WinterTC" class="darkmode-aware" src="https://wintertc.org/static/logo.svg">
            </a>
        </p>
        <h1 class="p-name no-ref" id="title">最小通用 Web 平台 API</h1>
        <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">草案，
                <time class="dt-updated" datetime="2025-10-06">2025年10月6日</time></span></h2>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>本版本：
                <dd><a class="u-url"
                        href="https://min-common-api.proposal.wintertc.org/">https://min-common-api.proposal.wintertc.org/</a>
                <dt>问题跟踪：
                <dd><a href="https://github.com/WinterTC55/proposal-minimum-common-api/issues/">GitHub</a>
                <dt class="editor">编辑者：
                <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                        href="mailto:jsnell@cloudflare.com">James M Snell</a> (<a class="p-org org"
                        href="https://cloudflare.com/">Cloudflare</a>)
            </dl>
        </div>
        <div data-fill-with="warning"></div>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>面向非浏览器 ECMAScript 运行时的最小通用 Web 平台 API。</p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#intro"><span class="secno"></span> <span class="content">介绍</span></a>
            <li><a href="#scope"><span class="secno">1</span> <span class="content">范围</span></a>
            <li><a href="#conformance"><span class="secno">2</span> <span class="content">一致性</span></a>
            <li><a href="#TODO"><span class="secno">3</span> <span class="content">规范性引用</span></a>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考资料</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性参考</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">信息性参考</span></a>
                </ol>
            <li>
                <a href="#terminology"><span class="secno">4</span> <span class="content">术语和定义</span></a>
                <ol class="toc">
                    <li><a href="#term-web-platform"><span class="secno">4.1</span> <span class="content"><span>Web
                                    平台</span></span></a>
                    <li><a href="#term-web-interoperable-runtime"><span class="secno">4.2</span> <span
                                class="content"><span>Web 互操作运行时</span></span></a>
                </ol>
            <li><a href="#api-index"><span class="secno">5</span> <span class="content">通用 API 索引</span></a>
            <li><a href="#global-scope"><span class="secno">6</span> <span class="content">全局作用域</span></a>
            <li><a href="#useragent-requirements"><span class="secno">7</span> <span class="content">默认 User-Agent
                        值要求</span></a>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a>
                </ol>
            <li>
                <a href="#copyright--software-license"><span class="secno"></span> <span
                        class="content">版权与软件许可</span></a>
                <ol class="toc">
                    <li><a href="#copyright-notice"><span class="secno"></span> <span class="content">版权声明</span></a>
                    <li><a href="#software-license"><span class="secno"></span> <span class="content">软件许可</span></a>
                </ol>
        </ol>
    </nav>
    <main>
        <h2 class="no-num heading settled" id="intro"><span class="content">介绍</span></h2>
        <p>除了网页浏览器外，目前有大量 JavaScript 运行时环境被广泛用于 Web 服务器和边缘平台。其中一个重要原因是 JavaScript
            能同时用于服务器端和客户端，这减少了开发者在同一代码库的不同部分工作时的专业化需求，并允许在服务器端与客户端之间复用代码。</p>
        <p>但由于绝大多数 JavaScript 代码都运行在 Web 浏览器中，因此如果这些运行时能支持与 Web 浏览器相同的 API，就能进一步推动发展。毫不意外，越来越多的运行时环境开始支持 Web 平台
            API。然而，随着此类环境数量的增加，以及选择支持的 Web 平台 API 各不相同，导致这些环境之间的互操作性较差。</p>
        <p>因此，本 Ecma 标准定义了“最小通用 Web API”规范，列出了服务端和边缘运行时为实现 Web 互操作性所需实现的 Web 平台 API 精选最小子集。这是该标准的第一版，对应 2025
            快照，每年都会发布新的快照。</p>
        <h2 class="heading settled" data-level="1" id="scope"><span class="secno">1. </span><span
                class="content">范围</span><a class="self-link" href="#scope"></a></h2>
        <p>本标准定义了 2025 快照的“最小通用 Web 平台 API”，这是由 W3C 和 WHATWG 等 Web 平台标准定义的 API 精选子集，旨在明确浏览器和非浏览器 JavaScript
            运行时环境共同具备的最低能力集。</p>
        <h2 class="heading settled" data-level="2" id="conformance"><span class="secno">2. </span><span
                class="content">一致性</span><a class="self-link" href="#conformance"></a></h2>
        <p>符合“最小通用 Web 平台 API”的实现应当符合 ECMA-262，并且还应按本规范所列，提供相关接口与属性，并遵循对应 W3C 或 WHATWG 标准中的定义。</p>
        <p>符合规范的运行时可以在任何 Web 平台 API 上实现特定于运行时的扩展。这些扩展应当定义为既不与任何 Web 平台 API
            的规范性功能相冲突，也不导致其不符合规范。在使用此类扩展时需谨慎，因为这会降低代码在不同运行时之间的互操作性和可移植性。</p>
        <p>本规范不禁止实现除本规范所列之外的其他 Web 平台 API。</p>
        <p class="note" role="note"><span class="marker">注意：</span>例如，<code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-performance" id="ref-for-dom-performance">Performance</a></code>
            API 可以扩展为包含 <a data-link-type="biblio" href="#biblio-hr-time" title="High Resolution Time">[HR-TIME]</a>
            规范之外的其他方法或属性，比如 <a data-link-type="biblio" href="#biblio-performance-timeline"
                title="Performance Timeline">[PERFORMANCE-TIMELINE]</a> 或 <a data-link-type="biblio"
                href="#biblio-user-timing" title="User Timing Level 3">[USER-TIMING]</a> 规范中定义的内容。</p>
        <h2 class="heading settled" data-level="3" id="TODO"><span class="secno">3. </span><span
                class="content">规范性引用</span><a class="self-link" href="#TODO"></a></h2>
        <p>下列文档被本规范引用，其中部分或全部内容构成本规范的要求。对于有日期的引用，仅适用于所引用的版本；对于无日期的引用，则适用于被引用文档的最新版本（包括任何修订）。</p>
        <div data-fill-with="references">
            <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考资料</span><a
                    class="self-link" href="#references"></a></h2>
            <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性参考</span><a
                    class="self-link" href="#normative"></a></h3>
            <dl>
                <dt id="biblio-compression">[COMPRESSION]
                <dd>Adam Rice. <a href="https://compression.spec.whatwg.org/"><cite>Compression 标准</cite></a>.
                    活标准. URL: <a href="https://compression.spec.whatwg.org/">https://compression.spec.whatwg.org/</a>
                <dt id="biblio-console">[CONSOLE]
                <dd>Dominic Farolino; Robert Kowalski; Terin Stock. <a
                        href="https://console.spec.whatwg.org/"><cite>Console 标准</cite></a>. 活标准. URL:
                    <a href="https://console.spec.whatwg.org/">https://console.spec.whatwg.org/</a>
                <dt id="biblio-dom">[DOM]
                <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>. 活标准. URL: <a
                        href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
                <dt id="biblio-ecmascript">[ECMASCRIPT]
                <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript 语言规范</cite></a>.
                    URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
                <dt id="biblio-encoding">[ENCODING]
                <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding 标准</cite></a>.
                    活标准. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
                <dt id="biblio-fetch">[FETCH]
                <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch 标准</cite></a>. 活标准. URL: <a
                        href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
                <dt id="biblio-fileapi">[FILEAPI]
                <dd>Marijn Kruisselbrink. <a href="https://w3c.github.io/FileAPI/"><cite>File API</cite></a>. URL: <a
                        href="https://w3c.github.io/FileAPI/">https://w3c.github.io/FileAPI/</a>
                <dt id="biblio-hr-time">[HR-TIME]
                <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>高精度时间</cite></a>. URL: <a
                        href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
                <dt id="biblio-html">[HTML]
                <dd>Anne van Kesteren; 等. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML
                            标准</cite></a>. 活标准. URL: <a
                        href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                <dt id="biblio-rfc7231">[RFC7231]
                <dd>R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed.. <a
                        href="https://httpwg.org/specs/rfc9110.html"><cite>HTTP 语义</cite></a>. 2022年6月.
                    Internet 标准. URL: <a
                        href="https://httpwg.org/specs/rfc9110.html">https://httpwg.org/specs/rfc9110.html</a>
                <dt id="biblio-streams">[STREAMS]
                <dd>Adam Rice; 等. <a href="https://streams.spec.whatwg.org/"><cite>Streams 标准</cite></a>.
                    活标准. URL: <a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
                <dt id="biblio-url">[URL]
                <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL 标准</cite></a>. 活标准. URL: <a
                        href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
                <dt id="biblio-urlpattern">[URLPATTERN]
                <dd>Ben Kelly; Jeremy Roman; 宍戸俊哉 (Shunya Shishido). <a
                        href="https://urlpattern.spec.whatwg.org/"><cite>URL Pattern 标准</cite></a>. 活标准. URL: <a
                        href="https://urlpattern.spec.whatwg.org/">https://urlpattern.spec.whatwg.org/</a>
                <dt id="biblio-wasm-js-api-2">[WASM-JS-API-2]
                <dd>. Ms2ger. <a href="https://webassembly.github.io/spec/js-api/"><cite>WebAssembly JavaScript
                            接口</cite></a>. URL: <a
                        href="https://webassembly.github.io/spec/js-api/">https://webassembly.github.io/spec/js-api/</a>
                <dt id="biblio-wasm-web-api-2">[WASM-WEB-API-2]
                <dd>. Ms2ger. <a href="https://webassembly.github.io/spec/web-api/"><cite>WebAssembly Web
                            API</cite></a>. URL: <a
                        href="https://webassembly.github.io/spec/web-api/">https://webassembly.github.io/spec/web-api/</a>
                <dt id="biblio-webcrypto">[WEBCRYPTO]
                <dd>Daniel Huigens. <a href="https://w3c.github.io/webcrypto/"><cite>Web Cryptography Level
                            2</cite></a>. URL: <a
                        href="https://w3c.github.io/webcrypto/">https://w3c.github.io/webcrypto/</a>
                <dt id="biblio-webidl">[WEBIDL]
                <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>.
                    活标准. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
                <dt id="biblio-xhr">[XHR]
                <dd>Anne van Kesteren. <a href="https://xhr.spec.whatwg.org/"><cite>XMLHttpRequest 标准</cite></a>.
                    活标准. URL: <a href="https://xhr.spec.whatwg.org/">https://xhr.spec.whatwg.org/</a>
            </dl>
            <h3 class="no-num no-ref heading settled" id="informative"><span class="content">信息性参考</span><a
                    class="self-link" href="#informative"></a></h3>
            <dl>
                <dt id="biblio-performance-timeline">[PERFORMANCE-TIMELINE]
                <dd>Nicolas Pena Moreno. <a href="https://w3c.github.io/performance-timeline/"><cite>性能时间线</cite></a>.
                    URL: <a
                        href="https://w3c.github.io/performance-timeline/">https://w3c.github.io/performance-timeline/</a>
                <dt id="biblio-user-timing">[USER-TIMING]
                <dd>Nicolas Pena Moreno. <a href="https://w3c.github.io/user-timing/"><cite>用户时序 第3级</cite></a>. URL: <a
                        href="https://w3c.github.io/user-timing/">https://w3c.github.io/user-timing/</a>
            </dl>
        </div>
        <h2 class="heading settled" data-level="4" id="terminology"><span class="secno">4. </span><span
                class="content">术语和定义</span><a class="self-link" href="#terminology"></a></h2>
        <h3 class="heading settled" data-level="4.1" id="term-web-platform"><span class="secno">4.1. </span><span
                class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="web-platform">Web
                    平台</dfn></span><a class="self-link" href="#term-web-platform"></a></h3>
        <p>Web 平台指由 W3C、WHATWG 等组织定义，被 Web 浏览器实现的技术标准的集合。</p>
        <h3 class="heading settled" data-level="4.2" id="term-web-interoperable-runtime"><span class="secno">4.2.
            </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="web-interoperable-runtime">Web 互操作运行时</dfn></span><a class="self-link"
                href="#term-web-interoperable-runtime"></a></h3>
        <p>任何实现本规范所列 Web 平台 API 子集的 ECMAScript 程序运行环境。</p>
        <p>虽然该术语有意涵盖 Web 浏览器，但本规范主要聚焦于非浏览器运行时的期望。</p>
        <h2 class="heading settled" data-level="5" id="api-index"><span class="secno">5. </span><span class="content">通用
                API 索引</span><a class="self-link" href="#api-index"></a></h2>
        <p>所有符合本规范的 <a data-link-type="dfn" href="#web-interoperable-runtime" id="ref-for-web-interoperable-runtime">Web
                互操作运行时</a> 都应实现以下 Web 平台 API。这些 API
            应按其规范性要求实现，除非本规范有特殊说明。若符合规范的运行时环境选择（无论出于何种原因）偏离规范性要求，必须在文档中清晰、明确地说明该偏离。</p>
        <p>所有下列接口应在通过 <code>globalThis</code> 可访问的全局对象上暴露，除非本规范另有说明：</p>
        <ul>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller">AbortController</a></code>
                    <a data-link-type="biblio" href="#biblio-dom" title="DOM 标准">[DOM]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal">AbortSignal</a></code>
                    <a data-link-type="biblio" href="#biblio-dom" title="DOM 标准">[DOM]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob">Blob</a></code>
                    <a data-link-type="biblio" href="#biblio-fileapi" title="File API">[FILEAPI]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#bytelengthqueuingstrategy" id="ref-for-bytelengthqueuingstrategy">ByteLengthQueuingStrategy</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://compression.spec.whatwg.org/#compressionstream" id="ref-for-compressionstream">CompressionStream</a></code>
                    <a data-link-type="biblio" href="#biblio-compression" title="Compression 标准">[COMPRESSION]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#countqueuingstrategy" id="ref-for-countqueuingstrategy">CountQueuingStrategy</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/webcrypto/#dfn-Crypto" id="ref-for-dfn-Crypto">Crypto</a></code>
                    <a data-link-type="biblio" href="#biblio-webcrypto" title="Web Cryptography Level 2">[WEBCRYPTO]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/webcrypto/#dfn-CryptoKey" id="ref-for-dfn-CryptoKey">CryptoKey</a></code>
                    <a data-link-type="biblio" href="#biblio-webcrypto" title="Web Cryptography Level 2">[WEBCRYPTO]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#customevent" id="ref-for-customevent">CustomEvent</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://compression.spec.whatwg.org/#decompressionstream" id="ref-for-decompressionstream">DecompressionStream</a></code>
                    <a data-link-type="biblio" href="#biblio-compression" title="Compression 标准">[COMPRESSION]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>
                    <a data-link-type="biblio" href="#biblio-webidl" title="Web IDL 标准">[WEBIDL]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#errorevent" id="ref-for-errorevent">ErrorEvent</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code>
                    <a data-link-type="biblio" href="#biblio-dom" title="DOM 标准">[DOM]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget">EventTarget</a></code>
                    <a data-link-type="biblio" href="#biblio-dom" title="DOM 标准">[DOM]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/FileAPI/#dfn-file" id="ref-for-dfn-file">File</a></code>
                    <a data-link-type="biblio" href="#biblio-fileapi" title="File API">[FILEAPI]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#formdata" id="ref-for-formdata">FormData</a></code>
                    <a data-link-type="biblio" href="#biblio-xhr" title="XMLHttpRequest 标准">[XHR]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers">Headers</a></code>
                    <a data-link-type="biblio" href="#biblio-fetch" title="Fetch 标准">[FETCH]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messagechannel" id="ref-for-messagechannel">MessageChannel</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#messageevent" id="ref-for-messageevent">MessageEvent</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport">MessagePort</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-performance" id="ref-for-dom-performance①">Performance</a></code>
                    <a data-link-type="biblio" href="#biblio-hr-time" title="高精度时间">[HR-TIME]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#promiserejectionevent" id="ref-for-promiserejectionevent">PromiseRejectionEvent</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablebytestreamcontroller" id="ref-for-readablebytestreamcontroller">ReadableByteStreamController</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream">ReadableStream</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestreambyobreader" id="ref-for-readablestreambyobreader">ReadableStreamBYOBReader</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestreambyobrequest" id="ref-for-readablestreambyobrequest">ReadableStreamBYOBRequest</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestreamdefaultcontroller" id="ref-for-readablestreamdefaultcontroller">ReadableStreamDefaultController</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestreamdefaultreader" id="ref-for-readablestreamdefaultreader">ReadableStreamDefaultReader</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request">Request</a></code>
                    <a data-link-type="biblio" href="#biblio-fetch" title="Fetch 标准">[FETCH]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response">Response</a></code>
                    <a data-link-type="biblio" href="#biblio-fetch" title="Fetch 标准">[FETCH]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/webcrypto/#dfn-SubtleCrypto" id="ref-for-dfn-SubtleCrypto">SubtleCrypto</a></code>
                    <a data-link-type="biblio" href="#biblio-webcrypto" title="Web Cryptography Level 2">[WEBCRYPTO]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://encoding.spec.whatwg.org/#textdecoder" id="ref-for-textdecoder">TextDecoder</a></code>
                    <a data-link-type="biblio" href="#biblio-encoding" title="Encoding 标准">[ENCODING]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://encoding.spec.whatwg.org/#textdecoderstream" id="ref-for-textdecoderstream">TextDecoderStream</a></code>
                    <a data-link-type="biblio" href="#biblio-encoding" title="Encoding 标准">[ENCODING]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://encoding.spec.whatwg.org/#textencoder" id="ref-for-textencoder">TextEncoder</a></code>
                    <a data-link-type="biblio" href="#biblio-encoding" title="Encoding 标准">[ENCODING]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://encoding.spec.whatwg.org/#textencoderstream" id="ref-for-textencoderstream">TextEncoderStream</a></code>
                    <a data-link-type="biblio" href="#biblio-encoding" title="Encoding 标准">[ENCODING]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#transformstream" id="ref-for-transformstream">TransformStream</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#transformstreamdefaultcontroller" id="ref-for-transformstreamdefaultcontroller">TransformStreamDefaultController</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#url" id="ref-for-url">URL</a></code>
                    <a data-link-type="biblio" href="#biblio-url" title="URL 标准">[URL]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://urlpattern.spec.whatwg.org/#urlpattern" id="ref-for-urlpattern">URLPattern</a></code>
                    <a data-link-type="biblio" href="#biblio-urlpattern" title="URL Pattern 标准">[URLPATTERN]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://url.spec.whatwg.org/#urlsearchparams" id="ref-for-urlsearchparams">URLSearchParams</a></code>
                    <a data-link-type="biblio" href="#biblio-url" title="URL 标准">[URL]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#global" id="ref-for-global">Global</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly①">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#instance" id="ref-for-instance">Instance</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly②">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#memory" id="ref-for-memory">Memory</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly③">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#module" id="ref-for-module">Module</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly④">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#table" id="ref-for-table">Table</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly⑤">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#tag" id="ref-for-tag">Tag</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly⑥">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#exception" id="ref-for-exception">Exception</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly⑦">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#exceptiondef-compileerror" id="ref-for-exceptiondef-compileerror">CompileError</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly⑧">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#exceptiondef-linkerror" id="ref-for-exceptiondef-linkerror">LinkError</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly⑨">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#exceptiondef-runtimeerror" id="ref-for-exceptiondef-runtimeerror">RuntimeError</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream">WritableStream</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestreamdefaultcontroller" id="ref-for-writablestreamdefaultcontroller">WritableStreamDefaultController</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestreamdefaultwriter" id="ref-for-writablestreamdefaultwriter">WritableStreamDefaultWriter</a></code>
                    <a data-link-type="biblio" href="#biblio-streams" title="Streams 标准">[STREAMS]</a>
                </p>
        </ul>
        <p>所有下列方法和属性应在通过 <code>globalThis</code> 可访问的全局对象上暴露，除非本规范另有说明：</p>
        <ul>
            <li data-md>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/global-object.html#sec-globalthis" id="ref-for-sec-globalthis">globalThis</a></code>
                    <a data-link-type="biblio" href="#biblio-ecmascript" title="ECMAScript 语言规范">[ECMASCRIPT]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-atob" id="ref-for-dom-atob">atob()</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-btoa" id="ref-for-dom-btoa">btoa()</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-cleartimeout" id="ref-for-dom-cleartimeout">clearTimeout()</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-clearinterval" id="ref-for-dom-clearinterval">clearInterval()</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://console.spec.whatwg.org/#namespacedef-console" id="ref-for-namespacedef-console">console</a></code>
                    <a data-link-type="biblio" href="#biblio-console" title="Console 标准">[CONSOLE]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/webcrypto/#dom-windoworworkerglobalscope-crypto" id="ref-for-dom-windoworworkerglobalscope-crypto">crypto</a></code>
                    <a data-link-type="biblio" href="#biblio-webcrypto" title="Web Cryptography Level 2">[WEBCRYPTO]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-global-fetch" id="ref-for-dom-global-fetch">fetch()</a></code>
                    <a data-link-type="biblio" href="#biblio-fetch" title="Fetch 标准">[FETCH]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator">navigator</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator-useragent" id="ref-for-dom-navigator-useragent">userAgent</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#handler-onerror" id="ref-for-handler-onerror">onerror</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#handler-window-onunhandledrejection" id="ref-for-handler-window-onunhandledrejection">onunhandledrejection</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#handler-window-onrejectionhandled" id="ref-for-handler-window-onrejectionhandled">onrejectionhandled</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-windoworworkerglobalscope-performance" id="ref-for-dom-windoworworkerglobalscope-performance">performance</a></code>
                    <a data-link-type="biblio" href="#biblio-hr-time" title="高精度时间">[HR-TIME]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-queuemicrotask" id="ref-for-dom-queuemicrotask">queueMicrotask()</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-reporterror" id="ref-for-dom-reporterror">reportError()</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-self" id="ref-for-dom-self">self</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout" id="ref-for-dom-settimeout">setTimeout()</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval" id="ref-for-dom-setinterval">setInterval()</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/structured-data.html#dom-structuredclone" id="ref-for-dom-structuredclone">structuredClone()</a></code>
                    <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly①⓪">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#dom-webassembly-compile" id="ref-for-dom-webassembly-compile">compile()</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly①①">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/web-api/#dom-webassembly-compilestreaming" id="ref-for-dom-webassembly-compilestreaming">compileStreaming()</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-web-api-2"
                        title="WebAssembly Web API">[WASM-WEB-API-2]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly①②">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#dom-webassembly-instantiate" id="ref-for-dom-webassembly-instantiate">instantiate()</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly①③">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/web-api/#dom-webassembly-instantiatestreaming" id="ref-for-dom-webassembly-instantiatestreaming">instantiateStreaming()</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-web-api-2"
                        title="WebAssembly Web API">[WASM-WEB-API-2]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly①④">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#dom-webassembly-jstag" id="ref-for-dom-webassembly-jstag">JSTag</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
            <li data-md>
                <p><code>globalThis.</code><code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" id="ref-for-namespacedef-webassembly①⑤">WebAssembly</a></code>.<code
                        class="idl"><a data-link-type="idl" href="https://webassembly.github.io/spec/js-api/#dom-webassembly-validate" id="ref-for-dom-webassembly-validate">validate()</a></code>
                    <a data-link-type="biblio" href="#biblio-wasm-js-api-2"
                        title="WebAssembly JavaScript 接口">[WASM-JS-API-2]</a>
                </p>
        </ul>
        <p>支持 worker 的 Web 互操作运行时还应在 worker 的 <code>globalThis</code> 上暴露 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onerror" id="ref-for-handler-workerglobalscope-onerror">onerror</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onunhandledrejection" id="ref-for-handler-workerglobalscope-onunhandledrejection">onunhandledrejection</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onrejectionhandled" id="ref-for-handler-workerglobalscope-onrejectionhandled">onrejectionhandled</a></code>
            和
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-self" id="ref-for-dom-workerglobalscope-self">self</a></code>
            ，除非本规范另有说明。<a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>
        </p>
        <h2 class="heading settled" data-level="6" id="global-scope"><span class="secno">6. </span><span
                class="content">全局作用域</span><a class="self-link" href="#global-scope"></a></h2>
        <p>全局作用域（<code>globalThis</code>）的具体类型在不同运行时之间可能有所不同。大多数 Web 平台 API 的定义都假定 Web 浏览器环境，通常会暴露如 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" id="ref-for-workerglobalscope">WorkerGlobalScope</a></code>
            等类型。为简化一致性要求，本规范所定义的所有接口、方法和属性都应当在运行时相关的全局作用域上暴露（例如
            <code>globalThis.crypto</code>、<code>globalThis.ReadableStream</code> 等）。
        </p>
        <p>在许多运行时中，新增全局作用域属性时，如果新属性与现有应用代码冲突，可能会引入破坏性变更。许多 Web 平台 API 使用 <a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-read-only" id="ref-for-dfn-read-only"> <code>readonly</code>
                属性</a> 来定义全局属性。<a data-link-type="biblio" href="#biblio-webidl" title="Web IDL 标准">[WEBIDL]</a>
            为避免破坏性变更，符合本规范的运行时可以选择忽略新增到全局作用域上的属性的 <code>readonly</code> 属性。这样可允许这些运行时的用户在属性与现有应用代码冲突时进行删除或覆盖。
        </p>
        <p>在 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①">Window</a></code>
            类和 worker 环境下，全局对象应始终是 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①">EventTarget</a></code>
            的实例。Web 互操作运行时应遵循 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#report-an-exception"
                id="ref-for-report-an-exception">报告异常</a>算法，以及 JavaScript 的 <a
                href="https://tc39.es/ecma262/#sec-host-promise-rejection-tracker">HostPromiseRejectionTracker</a>
            宿主钩子，详见 <a data-link-type="biblio" href="#biblio-html" title="HTML 标准">[HTML]</a>。这包括在全局对象上触发 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-error" id="ref-for-event-error">error</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection" id="ref-for-event-unhandledrejection">unhandledrejection</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-rejectionhandled" id="ref-for-event-rejectionhandled">rejectionhandled</a></code>
            事件。
        </p>
        <p>如果因历史原因无法让全局对象成为 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget②">EventTarget</a></code>
            的实例，则相关事件仍应通过全局作用域下的其他合适机制触发。该机制至少应能提供如果全局对象为 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget③">EventTarget</a></code>
            实例时由相关事件接口提供的信息。此类运行时不应支持 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#handler-onerror" id="ref-for-handler-onerror①">onerror</a></code>、
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#handler-window-onunhandledrejection" id="ref-for-handler-window-onunhandledrejection①">onunhandledrejection</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#handler-window-onrejectionhandled" id="ref-for-handler-window-onrejectionhandled①">onrejectionhandled</a></code>
            全局属性。此类运行时也不要求实现 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#errorevent" id="ref-for-errorevent①">ErrorEvent</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#promiserejectionevent" id="ref-for-promiserejectionevent①">PromiseRejectionEvent</a></code>
            接口。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span> 例如，在 Node.js 中，全局对象并不实现 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget④">EventTarget</a></code>，
            相关事件会在 <code>globalThis.process</code> 对象上，以 <code>uncaughtException</code>、<code>unhandledRejection</code>
            和 <code>rejectionHandled</code> 事件名触发。
        </p>
        <h2 class="heading settled" data-level="7" id="useragent-requirements"><span class="secno">7. </span><span
                class="content">默认 User-Agent 值要求</span><a class="self-link" href="#useragent-requirements"></a></h2>
        <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#default-user-agent-value"
                id="ref-for-default-user-agent-value">默认 `User-Agent` 值</a>的作用是使应用代码能够可靠识别其运行所处的运行时。该值应为字符串，并符合 <code
                class="idl"><a data-link-type="idl" href="https://datatracker.ietf.org/doc/html/rfc7231#section-5.5.3"><code>User-Agent</code></a></code>
            的构造规范，详见 <a data-link-type="biblio" href="#biblio-rfc7231" title="HTTP 语义">[RFC7231]</a>：</p>
        <pre>User-Agent      = product *( RWS ( product / comment ) )
product         = token ["/" product-version]
product-version = token
</pre>
        <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#default-user-agent-value"
                id="ref-for-default-user-agent-value①">默认 `User-Agent` 值</a>应被视为单一、完整、不透明和无结构的值。建议该值只包含一个
            <code>product</code> 标记，不包含可选的 <code>product-version</code>，且不应包含任何 <code>comment</code> 组件。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span> 例如，<code>navigator.userAgent</code> 可以设置为
            <code>'MyRuntime'</code>。
        </p>
        <div data-fill-with="index">
            <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
                    href="#index"></a></h2>
            <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
                    class="self-link" href="#index-defined-here"></a></h3>
            <ul class="index">
                <li><a href="#web-interoperable-runtime">Web 互操作运行时</a><span>, 在 § 4.2</span>
                <li><a href="#web-platform">Web 平台</a><span>, 在 § 4.1</span>
            </ul>
            <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span
                    class="content">引用定义的术语</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
            <ul class="index">
                <li>
                    <a data-link-type="biblio">[COMPRESSION]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="6e6d76ed">CompressionStream</span>
                        <li><span class="dfn-paneled" id="be4c4211">DecompressionStream</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[CONSOLE]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="7b1760b0">console</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[DOM]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="2e66eaf1">AbortController</span>
                        <li><span class="dfn-paneled" id="cca3cdb2">AbortSignal</span>
                        <li><span class="dfn-paneled" id="0591e11c">CustomEvent</span>
                        <li><span class="dfn-paneled" id="129bdae8">Event</span>
                        <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[ECMASCRIPT]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="566bb8fb">globalThis</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[ENCODING]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="84eed482">TextDecoder</span>
                        <li><span class="dfn-paneled" id="1e249f40">TextDecoderStream</span>
                        <li><span class="dfn-paneled" id="056fb0bd">TextEncoder</span>
                        <li><span class="dfn-paneled" id="417f81da">TextEncoderStream</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[FETCH]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="e806d5a8">Headers</span>
                        <li><span class="dfn-paneled" id="f9da6f1f">Request</span>
                        <li><span class="dfn-paneled" id="08a12aad">Response</span>
                        <li><span class="dfn-paneled" id="1c099e04">default `User-Agent` value</span>
                        <li><span class="dfn-paneled" id="2ce6f6bb">fetch(input)</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[FILEAPI]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="b7d73f5b">Blob</span>
                        <li><span class="dfn-paneled" id="cd028611">File</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[HR-TIME]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="bd45e189">Performance</span>
                        <li><span class="dfn-paneled" id="aee9d099">performance</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[HTML]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="ccfe986b">ErrorEvent</span>
                        <li><span class="dfn-paneled" id="02fb8691">MessageChannel</span>
                        <li><span class="dfn-paneled" id="3e8c0e5f">MessageEvent</span>
                        <li><span class="dfn-paneled" id="df16744f">MessagePort</span>
                        <li><span class="dfn-paneled" id="c0934dbf">PromiseRejectionEvent</span>
                        <li><span class="dfn-paneled" id="5d7209e9">Window</span>
                        <li><span class="dfn-paneled" id="83c59a3a">WorkerGlobalScope</span>
                        <li><span class="dfn-paneled" id="98cffeee">atob(data)</span>
                        <li><span class="dfn-paneled" id="43617e61">btoa(data)</span>
                        <li><span class="dfn-paneled" id="630c6156">clearInterval(id)</span>
                        <li><span class="dfn-paneled" id="055c88fa">clearTimeout(id)</span>
                        <li><span class="dfn-paneled" id="544fc7df">error</span>
                        <li><span class="dfn-paneled" id="a0768d9f">navigator</span>
                        <li><span class="dfn-paneled" id="daa15432">onerror <small>(for
                                    GlobalEventHandlers)</small></span>
                        <li><span class="dfn-paneled" id="bd534f6c">onerror <small>(for
                                    WorkerGlobalScope)</small></span>
                        <li><span class="dfn-paneled" id="88e7fa46">onrejectionhandled <small>(for
                                    WindowEventHandlers)</small></span>
                        <li><span class="dfn-paneled" id="8e0df635">onrejectionhandled <small>(for
                                    WorkerGlobalScope)</small></span>
                        <li><span class="dfn-paneled" id="eba883ec">onunhandledrejection <small>(for
                                    WindowEventHandlers)</small></span>
                        <li><span class="dfn-paneled" id="ffd62b07">onunhandledrejection <small>(for
                                    WorkerGlobalScope)</small></span>
                        <li><span class="dfn-paneled" id="c6083cc6">queueMicrotask(callback)</span>
                        <li><span class="dfn-paneled" id="95ebcee5">rejectionhandled</span>
                        <li><span class="dfn-paneled" id="560275c7">report an exception</span>
                        <li><span class="dfn-paneled" id="6b152e3c">reportError(e)</span>
                        <li><span class="dfn-paneled" id="8b244842">self <small>(for Window)</small></span>
                        <li><span class="dfn-paneled" id="14e557d6">self <small>(for WorkerGlobalScope)</small></span>
                        <li><span class="dfn-paneled" id="122f01fb">setInterval(handler, timeout, ...arguments)</span>
                        <li><span class="dfn-paneled" id="3332e595">setTimeout(handler, timeout, ...arguments)</span>
                        <li><span class="dfn-paneled" id="f2f85335">structuredClone(value, options)</span>
                        <li><span class="dfn-paneled" id="f1041b37">unhandledrejection</span>
                        <li><span class="dfn-paneled" id="3cdef7e1">userAgent</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[STREAMS]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="c04c9568">ByteLengthQueuingStrategy</span>
                        <li><span class="dfn-paneled" id="eb1fb636">CountQueuingStrategy</span>
                        <li><span class="dfn-paneled" id="9927ae47">ReadableByteStreamController</span>
                        <li><span class="dfn-paneled" id="59ed4e57">ReadableStream</span>
                        <li><span class="dfn-paneled" id="b484b574">ReadableStreamBYOBReader</span>
                        <li><span class="dfn-paneled" id="ce760f06">ReadableStreamBYOBRequest</span>
                        <li><span class="dfn-paneled" id="66e988ae">ReadableStreamDefaultController</span>
                        <li><span class="dfn-paneled" id="9cae8b68">ReadableStreamDefaultReader</span>
                        <li><span class="dfn-paneled" id="47e93e3e">TransformStream</span>
                        <li><span class="dfn-paneled" id="bd1abd53">TransformStreamDefaultController</span>
                        <li><span class="dfn-paneled" id="59dc45b5">WritableStream</span>
                        <li><span class="dfn-paneled" id="99bfa32c">WritableStreamDefaultController</span>
                        <li><span class="dfn-paneled" id="4f848e3e">WritableStreamDefaultWriter</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[URL]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="f06432d7">URL</span>
                        <li><span class="dfn-paneled" id="adfe3014">URLSearchParams</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[URLPATTERN]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="1b28d572">URLPattern</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[WASM-JS-API-2]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="dd57410d">CompileError</span>
                        <li><span class="dfn-paneled" id="96071371">Exception</span>
                        <li><span class="dfn-paneled" id="3ce2d948">Global</span>
                        <li><span class="dfn-paneled" id="a3a1d384">Instance</span>
                        <li><span class="dfn-paneled" id="7957d613">JSTag</span>
                        <li><span class="dfn-paneled" id="4032b689">LinkError</span>
                        <li><span class="dfn-paneled" id="9ca1c179">Memory</span>
                        <li><span class="dfn-paneled" id="29228fdf">Module</span>
                        <li><span class="dfn-paneled" id="4e5a29a5">RuntimeError</span>
                        <li><span class="dfn-paneled" id="32d74a61">Table</span>
                        <li><span class="dfn-paneled" id="d40d28a6">Tag</span>
                        <li><span class="dfn-paneled" id="9feefb27">WebAssembly</span>
                        <li><span class="dfn-paneled" id="3711a638">compile(bytes)</span>
                        <li><span class="dfn-paneled" id="f20d405b">instantiate(bytes)</span>
                        <li><span class="dfn-paneled" id="be0af01c">validate(bytes)</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[WASM-WEB-API-2]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="15ed4f00">compileStreaming(source)</span>
                        <li><span class="dfn-paneled" id="a845eee0">instantiateStreaming(source)</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[WEBCRYPTO]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="529179ea">Crypto</span>
                        <li><span class="dfn-paneled" id="5fc623fc">CryptoKey</span>
                        <li><span class="dfn-paneled" id="cf02c2dd">SubtleCrypto</span>
                        <li><span class="dfn-paneled" id="ed3ab0a3">crypto</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[WEBIDL]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                        <li><span class="dfn-paneled" id="bfc48225">read only</span>
                    </ul>
                <li>
                    <a data-link-type="biblio">[XHR]</a> 定义如下术语：
                    <ul>
                        <li><span class="dfn-paneled" id="61cd38cd">FormData</span>
                    </ul>
            </ul>
        </div>
        <div data-fill-with="property-index"></div>
        <div data-fill-with="idl-index"></div>
        <div data-fill-with="cddl-index"></div>
        <div data-fill-with="issues-index"></div>
        <div data-fill-with="references"></div>
        <div data-fill-with="copyright">
            <h2 class="no-num heading settled" id="copyright--software-license"><span class="content">Copyright &amp;
                    Software License</span><a class="self-link" href="#copyright--software-license"></a></h2>
            <p class="ECMAaddress">Ecma International</p>
            <p class="ECMAaddress">Rue du Rhone 114</p>
            <p class="ECMAaddress">CH-1204 Geneva</p>
            <p class="ECMAaddress">Tel: +41 22 849 6000</p>
            <p class="ECMAaddress">Fax: +41 22 849 6001</p>
            <p class="ECMAaddress">Web: <a href="https://ecma-international.org/">https://ecma-international.org/</a>
            </p>
            <h3 class="no-num heading settled" id="copyright-notice"><span class="content">Copyright Notice</span><a
                    class="self-link" href="#copyright-notice"></a></h3>
            <p>© 2025 Ecma International</p>
            <p>This draft document may be copied and furnished to others, and derivative works that comment on or
                otherwise explain it or assist in its implementation may be prepared, copied, published, and
                distributed, in whole or in part, without restriction of any kind, provided that the above copyright
                notice and this section are included on all such copies and derivative works. However, this document
                itself may not be modified in any way, including by removing the copyright notice or references to Ecma
                International, except as needed for the purpose of developing any document or deliverable produced by
                Ecma International.</p>
            <p>This disclaimer is valid only prior to final version of this document. After approval all rights on the
                standard are reserved by Ecma International.</p>
            <p>The limited permissions are granted through the standardization phase and will not be revoked by Ecma
                International or its successors or assigns during this time.</p>
            <p>This document and the information contained herein is provided on an "AS IS" basis and ECMA INTERNATIONAL
                DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
                THE INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF
                MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</p>
            <h3 class="no-num heading settled" id="software-license"><span class="content">Software License</span><a
                    class="self-link" href="#software-license"></a></h3>
            <p>All Software contained in this document ("Software") is protected by copyright and is being made
                available under the "BSD License", included below. This Software may be subject to third party rights
                (rights from parties other than Ecma International), including patent rights, and no licenses under such
                third party rights are granted under this license even if the third party concerned is a member of Ecma
                International. SEE THE ECMA CODE OF CONDUCT IN PATENT MATTERS AVAILABLE AT <a
                    href="https://ecma-international.org/memento/codeofconduct.htm">https://ecma-international.org/memento/codeofconduct.htm</a>
                FOR INFORMATION REGARDING THE LICENSING OF PATENT CLAIMS THAT ARE REQUIRED TO IMPLEMENT ECMA
                INTERNATIONAL STANDARDS.</p>
            <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided
                that the following conditions are met:</p>
            <ol>
                <li>Redistributions of source code must retain the above copyright notice, this list of conditions and
                    the following disclaimer.
                <li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions
                    and the following disclaimer in the documentation and/or other materials provided with the
                    distribution.
                <li>Neither the name of the authors nor Ecma International may be used to endorse or promote products
                    derived from this software without specific prior written permission.
            </ol>
            <p>THIS SOFTWARE IS PROVIDED BY THE ECMA INTERNATIONAL "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
                INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
                PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL ECMA INTERNATIONAL BE LIABLE FOR ANY DIRECT, INDIRECT,
                INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
                SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
                AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
                OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
                SUCH DAMAGE.</p>
        </div>
    </main>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "02fb8691": { "dfnID": "02fb8691", "dfnText": "MessageChannel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-messagechannel" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#messagechannel" },
                "055c88fa": { "dfnID": "055c88fa", "dfnText": "clearTimeout(id)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-cleartimeout" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-cleartimeout" },
                "056fb0bd": { "dfnID": "056fb0bd", "dfnText": "TextEncoder", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-textencoder" }], "title": "5. Common API Index" }], "url": "https://encoding.spec.whatwg.org/#textencoder" },
                "0591e11c": { "dfnID": "0591e11c", "dfnText": "CustomEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-customevent" }], "title": "5. Common API Index" }], "url": "https://dom.spec.whatwg.org/#customevent" },
                "08a12aad": { "dfnID": "08a12aad", "dfnText": "Response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-response" }], "title": "5. Common API Index" }], "url": "https://fetch.spec.whatwg.org/#response" },
                "122f01fb": { "dfnID": "122f01fb", "dfnText": "setInterval(handler, timeout, ...arguments)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-setinterval" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval" },
                "129bdae8": { "dfnID": "129bdae8", "dfnText": "Event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event" }], "title": "5. Common API Index" }], "url": "https://dom.spec.whatwg.org/#event" },
                "14e557d6": { "dfnID": "14e557d6", "dfnText": "self (for WorkerGlobalScope)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-workerglobalscope-self" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-self" },
                "15ed4f00": { "dfnID": "15ed4f00", "dfnText": "compileStreaming(source)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-webassembly-compilestreaming" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/web-api/#dom-webassembly-compilestreaming" },
                "1b28d572": { "dfnID": "1b28d572", "dfnText": "URLPattern", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-urlpattern" }], "title": "5. Common API Index" }], "url": "https://urlpattern.spec.whatwg.org/#urlpattern" },
                "1c099e04": { "dfnID": "1c099e04", "dfnText": "default `User-Agent` value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-default-user-agent-value" }, { "id": "ref-for-default-user-agent-value\u2460" }], "title": "7. Requirements for default User-Agent value" }], "url": "https://fetch.spec.whatwg.org/#default-user-agent-value" },
                "1e249f40": { "dfnID": "1e249f40", "dfnText": "TextDecoderStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-textdecoderstream" }], "title": "5. Common API Index" }], "url": "https://encoding.spec.whatwg.org/#textdecoderstream" },
                "29228fdf": { "dfnID": "29228fdf", "dfnText": "Module", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-module" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#module" },
                "2bc0cdf4": { "dfnID": "2bc0cdf4", "dfnText": "EventTarget", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventtarget" }], "title": "5. Common API Index" }, { "refs": [{ "id": "ref-for-eventtarget\u2460" }, { "id": "ref-for-eventtarget\u2461" }, { "id": "ref-for-eventtarget\u2462" }, { "id": "ref-for-eventtarget\u2463" }], "title": "6. The Global Scope" }], "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "2ce6f6bb": { "dfnID": "2ce6f6bb", "dfnText": "fetch(input)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-global-fetch" }], "title": "5. Common API Index" }], "url": "https://fetch.spec.whatwg.org/#dom-global-fetch" },
                "2e66eaf1": { "dfnID": "2e66eaf1", "dfnText": "AbortController", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortcontroller" }], "title": "5. Common API Index" }], "url": "https://dom.spec.whatwg.org/#abortcontroller" },
                "32d74a61": { "dfnID": "32d74a61", "dfnText": "Table", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-table" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#table" },
                "3332e595": { "dfnID": "3332e595", "dfnText": "setTimeout(handler, timeout, ...arguments)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-settimeout" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout" },
                "3711a638": { "dfnID": "3711a638", "dfnText": "compile(bytes)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-webassembly-compile" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#dom-webassembly-compile" },
                "3cdef7e1": { "dfnID": "3cdef7e1", "dfnText": "userAgent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-navigator-useragent" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator-useragent" },
                "3ce2d948": { "dfnID": "3ce2d948", "dfnText": "Global", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-global" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#global" },
                "3e8c0e5f": { "dfnID": "3e8c0e5f", "dfnText": "MessageEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-messageevent" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/comms.html#messageevent" },
                "4032b689": { "dfnID": "4032b689", "dfnText": "LinkError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-linkerror" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#exceptiondef-linkerror" },
                "417f81da": { "dfnID": "417f81da", "dfnText": "TextEncoderStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-textencoderstream" }], "title": "5. Common API Index" }], "url": "https://encoding.spec.whatwg.org/#textencoderstream" },
                "43617e61": { "dfnID": "43617e61", "dfnText": "btoa(data)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-btoa" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-btoa" },
                "47e93e3e": { "dfnID": "47e93e3e", "dfnText": "TransformStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transformstream" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#transformstream" },
                "4e5a29a5": { "dfnID": "4e5a29a5", "dfnText": "RuntimeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-runtimeerror" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#exceptiondef-runtimeerror" },
                "4f848e3e": { "dfnID": "4f848e3e", "dfnText": "WritableStreamDefaultWriter", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultwriter" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter" },
                "529179ea": { "dfnID": "529179ea", "dfnText": "Crypto", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-Crypto" }], "title": "5. Common API Index" }], "url": "https://w3c.github.io/webcrypto/#dfn-Crypto" },
                "544fc7df": { "dfnID": "544fc7df", "dfnText": "error", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-error" }], "title": "6. The Global Scope" }], "url": "https://html.spec.whatwg.org/multipage/indices.html#event-error" },
                "560275c7": { "dfnID": "560275c7", "dfnText": "report an exception", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-report-an-exception" }], "title": "6. The Global Scope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#report-an-exception" },
                "566bb8fb": { "dfnID": "566bb8fb", "dfnText": "globalThis", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-globalthis" }], "title": "5. Common API Index" }], "url": "https://tc39.es/ecma262/multipage/global-object.html#sec-globalthis" },
                "59dc45b5": { "dfnID": "59dc45b5", "dfnText": "WritableStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestream" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#writablestream" },
                "59ed4e57": { "dfnID": "59ed4e57", "dfnText": "ReadableStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#readablestream" },
                "5d7209e9": { "dfnID": "5d7209e9", "dfnText": "Window", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-window" }, { "id": "ref-for-window\u2460" }], "title": "6. The Global Scope" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "5fc623fc": { "dfnID": "5fc623fc", "dfnText": "CryptoKey", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-CryptoKey" }], "title": "5. Common API Index" }], "url": "https://w3c.github.io/webcrypto/#dfn-CryptoKey" },
                "61cd38cd": { "dfnID": "61cd38cd", "dfnText": "FormData", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-formdata" }], "title": "5. Common API Index" }], "url": "https://xhr.spec.whatwg.org/#formdata" },
                "630c6156": { "dfnID": "630c6156", "dfnText": "clearInterval(id)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-clearinterval" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-clearinterval" },
                "66e988ae": { "dfnID": "66e988ae", "dfnText": "ReadableStreamDefaultController", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultcontroller" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#readablestreamdefaultcontroller" },
                "6b152e3c": { "dfnID": "6b152e3c", "dfnText": "reportError(e)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-reporterror" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-reporterror" },
                "6e6d76ed": { "dfnID": "6e6d76ed", "dfnText": "CompressionStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-compressionstream" }], "title": "5. Common API Index" }], "url": "https://compression.spec.whatwg.org/#compressionstream" },
                "7957d613": { "dfnID": "7957d613", "dfnText": "JSTag", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-webassembly-jstag" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#dom-webassembly-jstag" },
                "7b1760b0": { "dfnID": "7b1760b0", "dfnText": "console", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-namespacedef-console" }], "title": "5. Common API Index" }], "url": "https://console.spec.whatwg.org/#namespacedef-console" },
                "83c59a3a": { "dfnID": "83c59a3a", "dfnText": "WorkerGlobalScope", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-workerglobalscope" }], "title": "6. The Global Scope" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" },
                "84eed482": { "dfnID": "84eed482", "dfnText": "TextDecoder", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-textdecoder" }], "title": "5. Common API Index" }], "url": "https://encoding.spec.whatwg.org/#textdecoder" },
                "88e7fa46": { "dfnID": "88e7fa46", "dfnText": "onrejectionhandled (for WindowEventHandlers)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-handler-window-onrejectionhandled" }], "title": "5. Common API Index" }, { "refs": [{ "id": "ref-for-handler-window-onrejectionhandled\u2460" }], "title": "6. The Global Scope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#handler-window-onrejectionhandled" },
                "8b244842": { "dfnID": "8b244842", "dfnText": "self (for Window)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-self" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-self" },
                "8e0df635": { "dfnID": "8e0df635", "dfnText": "onrejectionhandled (for WorkerGlobalScope)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-handler-workerglobalscope-onrejectionhandled" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onrejectionhandled" },
                "95ebcee5": { "dfnID": "95ebcee5", "dfnText": "rejectionhandled", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-rejectionhandled" }], "title": "6. The Global Scope" }], "url": "https://html.spec.whatwg.org/multipage/indices.html#event-rejectionhandled" },
                "96071371": { "dfnID": "96071371", "dfnText": "Exception", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exception" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#exception" },
                "98cffeee": { "dfnID": "98cffeee", "dfnText": "atob(data)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-atob" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-atob" },
                "9927ae47": { "dfnID": "9927ae47", "dfnText": "ReadableByteStreamController", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablebytestreamcontroller" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#readablebytestreamcontroller" },
                "99bfa32c": { "dfnID": "99bfa32c", "dfnText": "WritableStreamDefaultController", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-writablestreamdefaultcontroller" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#writablestreamdefaultcontroller" },
                "9ca1c179": { "dfnID": "9ca1c179", "dfnText": "Memory", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-memory" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#memory" },
                "9cae8b68": { "dfnID": "9cae8b68", "dfnText": "ReadableStreamDefaultReader", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultreader" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#readablestreamdefaultreader" },
                "9feefb27": { "dfnID": "9feefb27", "dfnText": "WebAssembly", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-namespacedef-webassembly" }, { "id": "ref-for-namespacedef-webassembly\u2460" }, { "id": "ref-for-namespacedef-webassembly\u2461" }, { "id": "ref-for-namespacedef-webassembly\u2462" }, { "id": "ref-for-namespacedef-webassembly\u2463" }, { "id": "ref-for-namespacedef-webassembly\u2464" }, { "id": "ref-for-namespacedef-webassembly\u2465" }, { "id": "ref-for-namespacedef-webassembly\u2466" }, { "id": "ref-for-namespacedef-webassembly\u2467" }, { "id": "ref-for-namespacedef-webassembly\u2468" }, { "id": "ref-for-namespacedef-webassembly\u2460\u24ea" }, { "id": "ref-for-namespacedef-webassembly\u2460\u2460" }, { "id": "ref-for-namespacedef-webassembly\u2460\u2461" }, { "id": "ref-for-namespacedef-webassembly\u2460\u2462" }, { "id": "ref-for-namespacedef-webassembly\u2460\u2463" }, { "id": "ref-for-namespacedef-webassembly\u2460\u2464" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" },
                "a0768d9f": { "dfnID": "a0768d9f", "dfnText": "navigator", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-navigator" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" },
                "a3a1d384": { "dfnID": "a3a1d384", "dfnText": "Instance", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-instance" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#instance" },
                "a845eee0": { "dfnID": "a845eee0", "dfnText": "instantiateStreaming(source)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-webassembly-instantiatestreaming" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/web-api/#dom-webassembly-instantiatestreaming" },
                "adfe3014": { "dfnID": "adfe3014", "dfnText": "URLSearchParams", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-urlsearchparams" }], "title": "5. Common API Index" }], "url": "https://url.spec.whatwg.org/#urlsearchparams" },
                "aee9d099": { "dfnID": "aee9d099", "dfnText": "performance", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-windoworworkerglobalscope-performance" }], "title": "5. Common API Index" }], "url": "https://w3c.github.io/hr-time/#dom-windoworworkerglobalscope-performance" },
                "b484b574": { "dfnID": "b484b574", "dfnText": "ReadableStreamBYOBReader", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestreambyobreader" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#readablestreambyobreader" },
                "b7d73f5b": { "dfnID": "b7d73f5b", "dfnText": "Blob", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-Blob" }], "title": "5. Common API Index" }], "url": "https://w3c.github.io/FileAPI/#dfn-Blob" },
                "bd1abd53": { "dfnID": "bd1abd53", "dfnText": "TransformStreamDefaultController", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transformstreamdefaultcontroller" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#transformstreamdefaultcontroller" },
                "bd45e189": { "dfnID": "bd45e189", "dfnText": "Performance", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-performance" }], "title": "2. Conformance" }, { "refs": [{ "id": "ref-for-dom-performance\u2460" }], "title": "5. Common API Index" }], "url": "https://w3c.github.io/hr-time/#dom-performance" },
                "bd534f6c": { "dfnID": "bd534f6c", "dfnText": "onerror (for WorkerGlobalScope)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-handler-workerglobalscope-onerror" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onerror" },
                "be0af01c": { "dfnID": "be0af01c", "dfnText": "validate(bytes)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-webassembly-validate" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#dom-webassembly-validate" },
                "be4c4211": { "dfnID": "be4c4211", "dfnText": "DecompressionStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-decompressionstream" }], "title": "5. Common API Index" }], "url": "https://compression.spec.whatwg.org/#decompressionstream" },
                "bfc48225": { "dfnID": "bfc48225", "dfnText": "read only", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-read-only" }], "title": "6. The Global Scope" }], "url": "https://webidl.spec.whatwg.org/#dfn-read-only" },
                "c04c9568": { "dfnID": "c04c9568", "dfnText": "ByteLengthQueuingStrategy", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-bytelengthqueuingstrategy" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#bytelengthqueuingstrategy" },
                "c0934dbf": { "dfnID": "c0934dbf", "dfnText": "PromiseRejectionEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-promiserejectionevent" }], "title": "5. Common API Index" }, { "refs": [{ "id": "ref-for-promiserejectionevent\u2460" }], "title": "6. The Global Scope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#promiserejectionevent" },
                "c6083cc6": { "dfnID": "c6083cc6", "dfnText": "queueMicrotask(callback)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-queuemicrotask" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-queuemicrotask" },
                "cca3cdb2": { "dfnID": "cca3cdb2", "dfnText": "AbortSignal", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortsignal" }], "title": "5. Common API Index" }], "url": "https://dom.spec.whatwg.org/#abortsignal" },
                "ccfe986b": { "dfnID": "ccfe986b", "dfnText": "ErrorEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-errorevent" }], "title": "5. Common API Index" }, { "refs": [{ "id": "ref-for-errorevent\u2460" }], "title": "6. The Global Scope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#errorevent" },
                "cd028611": { "dfnID": "cd028611", "dfnText": "File", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-file" }], "title": "5. Common API Index" }], "url": "https://w3c.github.io/FileAPI/#dfn-file" },
                "ce760f06": { "dfnID": "ce760f06", "dfnText": "ReadableStreamBYOBRequest", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestreambyobrequest" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#readablestreambyobrequest" },
                "cf02c2dd": { "dfnID": "cf02c2dd", "dfnText": "SubtleCrypto", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-SubtleCrypto" }], "title": "5. Common API Index" }], "url": "https://w3c.github.io/webcrypto/#dfn-SubtleCrypto" },
                "d40d28a6": { "dfnID": "d40d28a6", "dfnText": "Tag", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-tag" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#tag" },
                "daa15432": { "dfnID": "daa15432", "dfnText": "onerror (for GlobalEventHandlers)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-handler-onerror" }], "title": "5. Common API Index" }, { "refs": [{ "id": "ref-for-handler-onerror\u2460" }], "title": "6. The Global Scope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#handler-onerror" },
                "dca2de17": { "dfnID": "dca2de17", "dfnText": "DOMException", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }], "title": "5. Common API Index" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "dd57410d": { "dfnID": "dd57410d", "dfnText": "CompileError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-compileerror" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#exceptiondef-compileerror" },
                "df16744f": { "dfnID": "df16744f", "dfnText": "MessagePort", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-messageport" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" },
                "e806d5a8": { "dfnID": "e806d5a8", "dfnText": "Headers", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-headers" }], "title": "5. Common API Index" }], "url": "https://fetch.spec.whatwg.org/#headers" },
                "eb1fb636": { "dfnID": "eb1fb636", "dfnText": "CountQueuingStrategy", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-countqueuingstrategy" }], "title": "5. Common API Index" }], "url": "https://streams.spec.whatwg.org/#countqueuingstrategy" },
                "eba883ec": { "dfnID": "eba883ec", "dfnText": "onunhandledrejection (for WindowEventHandlers)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-handler-window-onunhandledrejection" }], "title": "5. Common API Index" }, { "refs": [{ "id": "ref-for-handler-window-onunhandledrejection\u2460" }], "title": "6. The Global Scope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#handler-window-onunhandledrejection" },
                "ed3ab0a3": { "dfnID": "ed3ab0a3", "dfnText": "crypto", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-windoworworkerglobalscope-crypto" }], "title": "5. Common API Index" }], "url": "https://w3c.github.io/webcrypto/#dom-windoworworkerglobalscope-crypto" },
                "f06432d7": { "dfnID": "f06432d7", "dfnText": "URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-url" }], "title": "5. Common API Index" }], "url": "https://url.spec.whatwg.org/#url" },
                "f1041b37": { "dfnID": "f1041b37", "dfnText": "unhandledrejection", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-unhandledrejection" }], "title": "6. The Global Scope" }], "url": "https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection" },
                "f20d405b": { "dfnID": "f20d405b", "dfnText": "instantiate(bytes)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-webassembly-instantiate" }], "title": "5. Common API Index" }], "url": "https://webassembly.github.io/spec/js-api/#dom-webassembly-instantiate" },
                "f2f85335": { "dfnID": "f2f85335", "dfnText": "structuredClone(value, options)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-structuredclone" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#dom-structuredclone" },
                "f9da6f1f": { "dfnID": "f9da6f1f", "dfnText": "Request", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-request" }], "title": "5. Common API Index" }], "url": "https://fetch.spec.whatwg.org/#request" },
                "ffd62b07": { "dfnID": "ffd62b07", "dfnText": "onunhandledrejection (for WorkerGlobalScope)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-handler-workerglobalscope-onunhandledrejection" }], "title": "5. Common API Index" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onunhandledrejection" },
                "web-interoperable-runtime": { "dfnID": "web-interoperable-runtime", "dfnText": "Web-interoperable Runtime", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-web-interoperable-runtime" }], "title": "5. Common API Index" }], "url": "#web-interoperable-runtime" },
                "web-platform": { "dfnID": "web-platform", "dfnText": "Web Platform", "external": false, "refSections": [], "url": "#web-platform" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#web-interoperable-runtime": { "displayText": "web-interoperable runtime", "export": true, "for_": [], "level": "", "normative": true, "shortname": "minimum-common-api", "spec": "minimum-common-api", "status": "local", "text": "web-interoperable runtime", "type": "dfn", "url": "#web-interoperable-runtime" },
                "https://compression.spec.whatwg.org/#compressionstream": { "displayText": "CompressionStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "compression", "spec": "compression", "status": "current", "text": "CompressionStream", "type": "interface", "url": "https://compression.spec.whatwg.org/#compressionstream" },
                "https://compression.spec.whatwg.org/#decompressionstream": { "displayText": "DecompressionStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "compression", "spec": "compression", "status": "current", "text": "DecompressionStream", "type": "interface", "url": "https://compression.spec.whatwg.org/#decompressionstream" },
                "https://console.spec.whatwg.org/#namespacedef-console": { "displayText": "console", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "console", "spec": "console", "status": "current", "text": "console", "type": "namespace", "url": "https://console.spec.whatwg.org/#namespacedef-console" },
                "https://dom.spec.whatwg.org/#abortcontroller": { "displayText": "AbortController", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "AbortController", "type": "interface", "url": "https://dom.spec.whatwg.org/#abortcontroller" },
                "https://dom.spec.whatwg.org/#abortsignal": { "displayText": "AbortSignal", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "AbortSignal", "type": "interface", "url": "https://dom.spec.whatwg.org/#abortsignal" },
                "https://dom.spec.whatwg.org/#customevent": { "displayText": "CustomEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "CustomEvent", "type": "interface", "url": "https://dom.spec.whatwg.org/#customevent" },
                "https://dom.spec.whatwg.org/#event": { "displayText": "Event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Event", "type": "interface", "url": "https://dom.spec.whatwg.org/#event" },
                "https://dom.spec.whatwg.org/#eventtarget": { "displayText": "EventTarget", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventTarget", "type": "interface", "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "https://encoding.spec.whatwg.org/#textdecoder": { "displayText": "TextDecoder", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "TextDecoder", "type": "interface", "url": "https://encoding.spec.whatwg.org/#textdecoder" },
                "https://encoding.spec.whatwg.org/#textdecoderstream": { "displayText": "TextDecoderStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "TextDecoderStream", "type": "interface", "url": "https://encoding.spec.whatwg.org/#textdecoderstream" },
                "https://encoding.spec.whatwg.org/#textencoder": { "displayText": "TextEncoder", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "TextEncoder", "type": "interface", "url": "https://encoding.spec.whatwg.org/#textencoder" },
                "https://encoding.spec.whatwg.org/#textencoderstream": { "displayText": "TextEncoderStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "TextEncoderStream", "type": "interface", "url": "https://encoding.spec.whatwg.org/#textencoderstream" },
                "https://fetch.spec.whatwg.org/#default-user-agent-value": { "displayText": "default `User-Agent` value", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "default `user-agent` value", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#default-user-agent-value" },
                "https://fetch.spec.whatwg.org/#dom-global-fetch": { "displayText": "fetch(input)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "fetch(input)", "type": "method", "url": "https://fetch.spec.whatwg.org/#dom-global-fetch" },
                "https://fetch.spec.whatwg.org/#headers": { "displayText": "Headers", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "Headers", "type": "interface", "url": "https://fetch.spec.whatwg.org/#headers" },
                "https://fetch.spec.whatwg.org/#request": { "displayText": "Request", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "Request", "type": "interface", "url": "https://fetch.spec.whatwg.org/#request" },
                "https://fetch.spec.whatwg.org/#response": { "displayText": "Response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "Response", "type": "interface", "url": "https://fetch.spec.whatwg.org/#response" },
                "https://html.spec.whatwg.org/multipage/comms.html#messageevent": { "displayText": "MessageEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "MessageEvent", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/comms.html#messageevent" },
                "https://html.spec.whatwg.org/multipage/indices.html#event-error": { "displayText": "error", "export": true, "for_": ["Window", "WorkerGlobalScope", "HTMLElement", "EventSource", "Worker", "SharedWorker", "AbstractWorker"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "error", "type": "event", "url": "https://html.spec.whatwg.org/multipage/indices.html#event-error" },
                "https://html.spec.whatwg.org/multipage/indices.html#event-rejectionhandled": { "displayText": "rejectionhandled", "export": true, "for_": ["Window", "WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "rejectionhandled", "type": "event", "url": "https://html.spec.whatwg.org/multipage/indices.html#event-rejectionhandled" },
                "https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection": { "displayText": "unhandledrejection", "export": true, "for_": ["Window", "WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "unhandledrejection", "type": "event", "url": "https://html.spec.whatwg.org/multipage/indices.html#event-unhandledrejection" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-self": { "displayText": "self", "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "self", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-self" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": { "displayText": "Window", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Window", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "https://html.spec.whatwg.org/multipage/structured-data.html#dom-structuredclone": { "displayText": "structuredClone(value, options)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "structuredClone(value, options)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#dom-structuredclone" },
                "https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator": { "displayText": "navigator", "export": true, "for_": ["Window"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "navigator", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" },
                "https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator-useragent": { "displayText": "userAgent", "export": true, "for_": ["NavigatorID"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "userAgent", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator-useragent" },
                "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-clearinterval": { "displayText": "clearInterval(id)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "clearInterval(id)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-clearinterval" },
                "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-cleartimeout": { "displayText": "clearTimeout(id)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "clearTimeout(id)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-cleartimeout" },
                "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-queuemicrotask": { "displayText": "queueMicrotask(callback)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "queueMicrotask(callback)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-queuemicrotask" },
                "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval": { "displayText": "setInterval(handler, timeout, ...arguments)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "setInterval(handler, timeout, ...arguments)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval" },
                "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout": { "displayText": "setTimeout(handler, timeout, ...arguments)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "setTimeout(handler, timeout, ...arguments)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout" },
                "https://html.spec.whatwg.org/multipage/web-messaging.html#messagechannel": { "displayText": "MessageChannel", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "MessageChannel", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#messagechannel" },
                "https://html.spec.whatwg.org/multipage/web-messaging.html#messageport": { "displayText": "MessagePort", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "MessagePort", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#dom-atob": { "displayText": "atob(data)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "atob(data)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-atob" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#dom-btoa": { "displayText": "btoa(data)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "btoa(data)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-btoa" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#dom-reporterror": { "displayText": "reportError(e)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "reportError(e)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-reporterror" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#errorevent": { "displayText": "ErrorEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "ErrorEvent", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#errorevent" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#handler-onerror": { "displayText": "onerror", "export": true, "for_": ["GlobalEventHandlers"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "onerror", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#handler-onerror" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#handler-window-onrejectionhandled": { "displayText": "onrejectionhandled", "export": true, "for_": ["WindowEventHandlers"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "onrejectionhandled", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#handler-window-onrejectionhandled" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#handler-window-onunhandledrejection": { "displayText": "onunhandledrejection", "export": true, "for_": ["WindowEventHandlers"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "onunhandledrejection", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#handler-window-onunhandledrejection" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#promiserejectionevent": { "displayText": "PromiseRejectionEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "PromiseRejectionEvent", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#promiserejectionevent" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#report-an-exception": { "displayText": "report an exception", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "report an exception", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#report-an-exception" },
                "https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-self": { "displayText": "self", "export": true, "for_": ["WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "self", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-self" },
                "https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onerror": { "displayText": "onerror", "export": true, "for_": ["WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "onerror", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onerror" },
                "https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onrejectionhandled": { "displayText": "onrejectionhandled", "export": true, "for_": ["WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "onrejectionhandled", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onrejectionhandled" },
                "https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onunhandledrejection": { "displayText": "onunhandledrejection", "export": true, "for_": ["WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "onunhandledrejection", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/workers.html#handler-workerglobalscope-onunhandledrejection" },
                "https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope": { "displayText": "WorkerGlobalScope", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "WorkerGlobalScope", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" },
                "https://streams.spec.whatwg.org/#bytelengthqueuingstrategy": { "displayText": "ByteLengthQueuingStrategy", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "ByteLengthQueuingStrategy", "type": "interface", "url": "https://streams.spec.whatwg.org/#bytelengthqueuingstrategy" },
                "https://streams.spec.whatwg.org/#countqueuingstrategy": { "displayText": "CountQueuingStrategy", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "CountQueuingStrategy", "type": "interface", "url": "https://streams.spec.whatwg.org/#countqueuingstrategy" },
                "https://streams.spec.whatwg.org/#readablebytestreamcontroller": { "displayText": "ReadableByteStreamController", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "ReadableByteStreamController", "type": "interface", "url": "https://streams.spec.whatwg.org/#readablebytestreamcontroller" },
                "https://streams.spec.whatwg.org/#readablestream": { "displayText": "ReadableStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "ReadableStream", "type": "interface", "url": "https://streams.spec.whatwg.org/#readablestream" },
                "https://streams.spec.whatwg.org/#readablestreambyobreader": { "displayText": "ReadableStreamBYOBReader", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "ReadableStreamBYOBReader", "type": "interface", "url": "https://streams.spec.whatwg.org/#readablestreambyobreader" },
                "https://streams.spec.whatwg.org/#readablestreambyobrequest": { "displayText": "ReadableStreamBYOBRequest", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "ReadableStreamBYOBRequest", "type": "interface", "url": "https://streams.spec.whatwg.org/#readablestreambyobrequest" },
                "https://streams.spec.whatwg.org/#readablestreamdefaultcontroller": { "displayText": "ReadableStreamDefaultController", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "ReadableStreamDefaultController", "type": "interface", "url": "https://streams.spec.whatwg.org/#readablestreamdefaultcontroller" },
                "https://streams.spec.whatwg.org/#readablestreamdefaultreader": { "displayText": "ReadableStreamDefaultReader", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "ReadableStreamDefaultReader", "type": "interface", "url": "https://streams.spec.whatwg.org/#readablestreamdefaultreader" },
                "https://streams.spec.whatwg.org/#transformstream": { "displayText": "TransformStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "TransformStream", "type": "interface", "url": "https://streams.spec.whatwg.org/#transformstream" },
                "https://streams.spec.whatwg.org/#transformstreamdefaultcontroller": { "displayText": "TransformStreamDefaultController", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "TransformStreamDefaultController", "type": "interface", "url": "https://streams.spec.whatwg.org/#transformstreamdefaultcontroller" },
                "https://streams.spec.whatwg.org/#writablestream": { "displayText": "WritableStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "WritableStream", "type": "interface", "url": "https://streams.spec.whatwg.org/#writablestream" },
                "https://streams.spec.whatwg.org/#writablestreamdefaultcontroller": { "displayText": "WritableStreamDefaultController", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "WritableStreamDefaultController", "type": "interface", "url": "https://streams.spec.whatwg.org/#writablestreamdefaultcontroller" },
                "https://streams.spec.whatwg.org/#writablestreamdefaultwriter": { "displayText": "WritableStreamDefaultWriter", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "WritableStreamDefaultWriter", "type": "interface", "url": "https://streams.spec.whatwg.org/#writablestreamdefaultwriter" },
                "https://tc39.es/ecma262/multipage/global-object.html#sec-globalthis": { "displayText": "globalThis", "export": true, "for_": ["globalThis"], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "globalThis", "type": "attribute", "url": "https://tc39.es/ecma262/multipage/global-object.html#sec-globalthis" },
                "https://url.spec.whatwg.org/#url": { "displayText": "URL", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "URL", "type": "interface", "url": "https://url.spec.whatwg.org/#url" },
                "https://url.spec.whatwg.org/#urlsearchparams": { "displayText": "URLSearchParams", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "URLSearchParams", "type": "interface", "url": "https://url.spec.whatwg.org/#urlsearchparams" },
                "https://urlpattern.spec.whatwg.org/#urlpattern": { "displayText": "URLPattern", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "urlpattern", "spec": "urlpattern", "status": "current", "text": "URLPattern", "type": "interface", "url": "https://urlpattern.spec.whatwg.org/#urlpattern" },
                "https://w3c.github.io/FileAPI/#dfn-Blob": { "displayText": "Blob", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "Blob", "type": "interface", "url": "https://w3c.github.io/FileAPI/#dfn-Blob" },
                "https://w3c.github.io/FileAPI/#dfn-file": { "displayText": "File", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "current", "text": "File", "type": "interface", "url": "https://w3c.github.io/FileAPI/#dfn-file" },
                "https://w3c.github.io/hr-time/#dom-performance": { "displayText": "Performance", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "Performance", "type": "interface", "url": "https://w3c.github.io/hr-time/#dom-performance" },
                "https://w3c.github.io/hr-time/#dom-windoworworkerglobalscope-performance": { "displayText": "performance", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "current", "text": "performance", "type": "attribute", "url": "https://w3c.github.io/hr-time/#dom-windoworworkerglobalscope-performance" },
                "https://w3c.github.io/webcrypto/#dfn-Crypto": { "displayText": "Crypto", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "webcrypto", "spec": "webcrypto-2", "status": "current", "text": "Crypto", "type": "interface", "url": "https://w3c.github.io/webcrypto/#dfn-Crypto" },
                "https://w3c.github.io/webcrypto/#dfn-CryptoKey": { "displayText": "CryptoKey", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "webcrypto", "spec": "webcrypto-2", "status": "current", "text": "CryptoKey", "type": "interface", "url": "https://w3c.github.io/webcrypto/#dfn-CryptoKey" },
                "https://w3c.github.io/webcrypto/#dfn-SubtleCrypto": { "displayText": "SubtleCrypto", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "webcrypto", "spec": "webcrypto-2", "status": "current", "text": "SubtleCrypto", "type": "interface", "url": "https://w3c.github.io/webcrypto/#dfn-SubtleCrypto" },
                "https://w3c.github.io/webcrypto/#dom-windoworworkerglobalscope-crypto": { "displayText": "crypto", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "2", "normative": true, "shortname": "webcrypto", "spec": "webcrypto-2", "status": "current", "text": "crypto", "type": "attribute", "url": "https://w3c.github.io/webcrypto/#dom-windoworworkerglobalscope-crypto" },
                "https://webassembly.github.io/spec/js-api/#dom-webassembly-compile": { "displayText": "compile(bytes)", "export": true, "for_": ["WebAssembly"], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "compile(bytes)", "type": "method", "url": "https://webassembly.github.io/spec/js-api/#dom-webassembly-compile" },
                "https://webassembly.github.io/spec/js-api/#dom-webassembly-instantiate": { "displayText": "instantiate(bytes)", "export": true, "for_": ["WebAssembly"], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "instantiate(bytes)", "type": "method", "url": "https://webassembly.github.io/spec/js-api/#dom-webassembly-instantiate" },
                "https://webassembly.github.io/spec/js-api/#dom-webassembly-jstag": { "displayText": "JSTag", "export": true, "for_": ["WebAssembly"], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "JSTag", "type": "attribute", "url": "https://webassembly.github.io/spec/js-api/#dom-webassembly-jstag" },
                "https://webassembly.github.io/spec/js-api/#dom-webassembly-validate": { "displayText": "validate(bytes)", "export": true, "for_": ["WebAssembly"], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "validate(bytes)", "type": "method", "url": "https://webassembly.github.io/spec/js-api/#dom-webassembly-validate" },
                "https://webassembly.github.io/spec/js-api/#exception": { "displayText": "Exception", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "Exception", "type": "interface", "url": "https://webassembly.github.io/spec/js-api/#exception" },
                "https://webassembly.github.io/spec/js-api/#exceptiondef-compileerror": { "displayText": "CompileError", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "CompileError", "type": "exception", "url": "https://webassembly.github.io/spec/js-api/#exceptiondef-compileerror" },
                "https://webassembly.github.io/spec/js-api/#exceptiondef-linkerror": { "displayText": "LinkError", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "LinkError", "type": "exception", "url": "https://webassembly.github.io/spec/js-api/#exceptiondef-linkerror" },
                "https://webassembly.github.io/spec/js-api/#exceptiondef-runtimeerror": { "displayText": "RuntimeError", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "RuntimeError", "type": "exception", "url": "https://webassembly.github.io/spec/js-api/#exceptiondef-runtimeerror" },
                "https://webassembly.github.io/spec/js-api/#global": { "displayText": "Global", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "Global", "type": "interface", "url": "https://webassembly.github.io/spec/js-api/#global" },
                "https://webassembly.github.io/spec/js-api/#instance": { "displayText": "Instance", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "Instance", "type": "interface", "url": "https://webassembly.github.io/spec/js-api/#instance" },
                "https://webassembly.github.io/spec/js-api/#memory": { "displayText": "Memory", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "Memory", "type": "interface", "url": "https://webassembly.github.io/spec/js-api/#memory" },
                "https://webassembly.github.io/spec/js-api/#module": { "displayText": "Module", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "Module", "type": "interface", "url": "https://webassembly.github.io/spec/js-api/#module" },
                "https://webassembly.github.io/spec/js-api/#namespacedef-webassembly": { "displayText": "WebAssembly", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "WebAssembly", "type": "namespace", "url": "https://webassembly.github.io/spec/js-api/#namespacedef-webassembly" },
                "https://webassembly.github.io/spec/js-api/#table": { "displayText": "Table", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "Table", "type": "interface", "url": "https://webassembly.github.io/spec/js-api/#table" },
                "https://webassembly.github.io/spec/js-api/#tag": { "displayText": "Tag", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "wasm-js-api", "spec": "wasm-js-api-2", "status": "current", "text": "Tag", "type": "interface", "url": "https://webassembly.github.io/spec/js-api/#tag" },
                "https://webassembly.github.io/spec/web-api/#dom-webassembly-compilestreaming": { "displayText": "compileStreaming(source)", "export": true, "for_": ["WebAssembly"], "level": "2", "normative": true, "shortname": "wasm-web-api", "spec": "wasm-web-api-2", "status": "current", "text": "compileStreaming(source)", "type": "method", "url": "https://webassembly.github.io/spec/web-api/#dom-webassembly-compilestreaming" },
                "https://webassembly.github.io/spec/web-api/#dom-webassembly-instantiatestreaming": { "displayText": "instantiateStreaming(source)", "export": true, "for_": ["WebAssembly"], "level": "2", "normative": true, "shortname": "wasm-web-api", "spec": "wasm-web-api-2", "status": "current", "text": "instantiateStreaming(source)", "type": "method", "url": "https://webassembly.github.io/spec/web-api/#dom-webassembly-instantiatestreaming" },
                "https://webidl.spec.whatwg.org/#dfn-read-only": { "displayText": "read only", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "read only", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-read-only" },
                "https://webidl.spec.whatwg.org/#idl-DOMException": { "displayText": "DOMException", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMException", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "https://xhr.spec.whatwg.org/#formdata": { "displayText": "FormData", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "xhr", "spec": "xhr", "status": "current", "text": "FormData", "type": "interface", "url": "https://xhr.spec.whatwg.org/#formdata" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script src="/dropdown.js"></script>