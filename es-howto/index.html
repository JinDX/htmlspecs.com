<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>如何阅读 ECMAScript 规范</title>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <style data-fill-with="stylesheet">
        /******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

        /******************************************************************************/
        /*                                   Body                                     */
        /******************************************************************************/

        body {
            counter-reset: example figure issue;

            /* Layout */
            max-width: 50em;
            /* limit line length to 50em for readability   */
            margin: 0 auto;
            /* center text within page                     */
            padding: 1.6em 1.5em 2em 50px;
            /* assume 16px font size for downlevel clients */
            padding: 1.6em 1.5em 2em calc(26px + 1.5em);
            /* leave space for status flag     */

            /* Typography */
            line-height: 1.5;
            font-family: sans-serif;
            widows: 2;
            orphans: 2;
            word-wrap: break-word;
            overflow-wrap: break-word;
            hyphens: auto;

            /* Colors */
            color: black;
            background: white top left fixed no-repeat;
            background-size: 25px auto;
        }


        /******************************************************************************/
        /*                         Front Matter & Navigation                          */
        /******************************************************************************/

        /** Header ********************************************************************/

        div.head {
            margin-bottom: 1em
        }

        div.head hr {
            border-style: solid;
        }

        div.head h1 {
            font-weight: bold;
            margin: 0 0 .1em;
            font-size: 220%;
        }

        div.head h2 {
            margin-bottom: 1.5em;
        }

        /** W3C Logo ******************************************************************/

        .head .logo {
            float: right;
            margin: 0.4rem 0 0.2rem .4rem;
        }

        .head img[src*="logos/W3C"] {
            display: block;
            border: solid #1a5e9a;
            border-width: .65rem .7rem .6rem;
            border-radius: .4rem;
            background: #1a5e9a;
            color: white;
            font-weight: bold;
        }

        .head a:hover>img[src*="logos/W3C"],
        .head a:focus>img[src*="logos/W3C"] {
            opacity: .8;
        }

        .head a:active>img[src*="logos/W3C"] {
            background: #c00;
            border-color: #c00;
        }

        /* see also additional rules in Link Styling section */

        /** Copyright *****************************************************************/

        p.copyright,
        p.copyright small {
            font-size: small
        }

        /** Back to Top / ToC Toggle **************************************************/

        @media print {
            #toc-nav {
                display: none;
            }
        }

        @media not print {
            #toc-nav {
                position: fixed;
                z-index: 2;
                bottom: 0;
                left: 0;
                margin: 0;
                min-width: 1.33em;
                border-top-right-radius: 2rem;
                box-shadow: 0 0 2px;
                font-size: 1.5em;
                color: black;
            }

            #toc-nav>a {
                display: block;
                white-space: nowrap;

                height: 1.33em;
                padding: .1em 0.3em;
                margin: 0;

                background: white;
                box-shadow: 0 0 2px;
                border: none;
                border-top-right-radius: 1.33em;
                background: white;
            }

            #toc-nav>#toc-jump {
                padding-bottom: 2em;
                margin-bottom: -1.9em;
            }

            #toc-nav>a:hover,
            #toc-nav>a:focus {
                background: #f8f8f8;
            }

            #toc-nav>a:not(:hover):not(:focus) {
                color: #707070;
            }

            /* statusbar gets in the way on keyboard focus; remove once browsers fix */
            #toc-nav>a[href="#toc"]:not(:hover):focus:last-child {
                padding-bottom: 1.5rem;
            }

            #toc-nav:not(:hover)>a:not(:focus)>span+span {
                /* Ideally this uses :focus-within on #toc-nav */
                display: none;
            }

            #toc-nav>a>span+span {
                padding-right: 0.2em;
            }

            #toc-toggle-inline {
                vertical-align: 0.05em;
                font-size: 80%;
                color: gray;
                color: hsla(203, 20%, 40%, .7);
                border-style: none;
                background: transparent;
                position: relative;
            }

            #toc-toggle-inline:hover:not(:active),
            #toc-toggle-inline:focus:not(:active) {
                text-shadow: 1px 1px silver;
                top: -1px;
                left: -1px;
            }

            #toc-nav :active {
                color: #C00;
            }
        }

        /** ToC Sidebar ***************************************************************/

        /* Floating sidebar */
        @media screen {
            body.toc-sidebar #toc {
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                width: 23.5em;
                max-width: 80%;
                max-width: calc(100% - 2em - 26px);
                overflow: auto;
                padding: 0 1em;
                padding-left: 42px;
                padding-left: calc(1em + 26px);
                background: inherit;
                background-color: #f7f8f9;
                z-index: 1;
                box-shadow: -.1em 0 .25em rgba(0, 0, 0, .1) inset;
            }

            body.toc-sidebar #toc h2 {
                margin-top: .8rem;
                font-variant: small-caps;
                font-variant: all-small-caps;
                text-transform: lowercase;
                font-weight: bold;
                color: gray;
                color: hsla(203, 20%, 40%, .7);
            }

            body.toc-sidebar #toc-jump:not(:focus) {
                width: 0;
                height: 0;
                padding: 0;
                position: absolute;
                overflow: hidden;
            }
        }

        /* Hide main scroller when only the ToC is visible anyway */
        @media screen and (max-width: 28em) {
            body.toc-sidebar {
                overflow: hidden;
            }
        }

        /* Sidebar with its own space */
        @media screen and (min-width: 78em) {
            body:not(.toc-inline) #toc {
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                width: 23.5em;
                overflow: auto;
                padding: 0 1em;
                padding-left: 42px;
                padding-left: calc(1em + 26px);
                background: inherit;
                background-color: #f7f8f9;
                z-index: 1;
                box-shadow: -.1em 0 .25em rgba(0, 0, 0, .1) inset;
            }

            body:not(.toc-inline) #toc h2 {
                margin-top: .8rem;
                font-variant: small-caps;
                font-variant: all-small-caps;
                text-transform: lowercase;
                font-weight: bold;
                color: gray;
                color: hsla(203, 20%, 40%, .7);
            }

            body:not(.toc-inline) {
                padding-left: 29em;
            }

            /* See also Overflow section at the bottom */

            body:not(.toc-inline) #toc-jump:not(:focus) {
                width: 0;
                height: 0;
                padding: 0;
                position: absolute;
                overflow: hidden;
            }
        }

        @media screen and (min-width: 90em) {
            body:not(.toc-inline) {
                margin: 0 4em;
            }
        }

        /******************************************************************************/
        /*                                Sectioning                                  */
        /******************************************************************************/

        /** Headings ******************************************************************/

        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        dt {
            page-break-after: avoid;
            page-break-inside: avoid;
            font: 100% sans-serif;
            /* Reset all font styling to clear out UA styles */
            font-family: inherit;
            /* Inherit the font family. */
            line-height: 1.2;
            /* Keep wrapped headings compact */
            hyphens: manual;
            /* Hyphenated headings look weird */
        }

        h2,
        h3,
        h4,
        h5,
        h6 {
            margin-top: 3rem;
        }

        h1,
        h2,
        h3 {
            color: #005A9C;
            background: transparent;
        }

        h1 {
            font-size: 170%;
        }

        h2 {
            font-size: 140%;
        }

        h3 {
            font-size: 120%;
        }

        h4 {
            font-weight: bold;
        }

        h5 {
            font-style: italic;
        }

        h6 {
            font-variant: small-caps;
        }

        dt {
            font-weight: bold;
        }

        /** Subheadings ***************************************************************/

        h1+h2,
        #subtitle {
            /* #subtitle is a subtitle in an H2 under the H1 */
            margin-top: 0;
        }

        h2+h3,
        h3+h4,
        h4+h5,
        h5+h6 {
            margin-top: 1.2em;
            /* = 1 x line-height */
        }

        /** Section divider ***********************************************************/

        :not(.head)>hr {
            font-size: 1.5em;
            text-align: center;
            margin: 1em auto;
            height: auto;
            border: transparent solid 0;
            background: transparent;
        }

        :not(.head)>hr::before {
            content: "\2727\2003\2003\2727\2003\2003\2727";
        }

        /******************************************************************************/
        /*                            Paragraphs and Lists                            */
        /******************************************************************************/

        p {
            margin: 1em 0;
        }

        dd>p:first-child,
        li>p:first-child {
            margin-top: 0;
        }

        ul,
        ol {
            margin-left: 0;
            padding-left: 2em;
        }

        li {
            margin: 0.25em 0 0.5em;
            padding: 0;
        }

        dl dd {
            margin: 0 0 .5em 2em;
        }

        .head dd+dd {
            /* compact for header */
            margin-top: -.5em;
        }

        /* Style for algorithms */
        ol.algorithm ol:not(.algorithm),
        .algorithm>ol ol:not(.algorithm) {
            border-left: 0.5em solid #DEF;
        }

        /* Put nice boxes around each algorithm. */
        [data-algorithm]:not(.heading) {
            padding: .5em;
            border: thin solid #ddd;
            border-radius: .5em;
            margin: .5em calc(-0.5em - 1px);
        }

        [data-algorithm]:not(.heading)> :first-child {
            margin-top: 0;
        }

        [data-algorithm]:not(.heading)> :last-child {
            margin-bottom: 0;
        }

        /* Style for switch/case <dl>s */
        dl.switch>dd>ol.only,
        dl.switch>dd>.only>ol {
            margin-left: 0;
        }

        dl.switch>dd>ol.algorithm,
        dl.switch>dd>.algorithm>ol {
            margin-left: -2em;
        }

        dl.switch {
            padding-left: 2em;
        }

        dl.switch>dt {
            text-indent: -1.5em;
            margin-top: 1em;
        }

        dl.switch>dt+dt {
            margin-top: 0;
        }

        dl.switch>dt::before {
            content: '\21AA';
            padding: 0 0.5em 0 0;
            display: inline-block;
            width: 1em;
            text-align: right;
            line-height: 0.5em;
        }

        /** Terminology Markup ********************************************************/


        /******************************************************************************/
        /*                                 Inline Markup                              */
        /******************************************************************************/

        /** Terminology Markup ********************************************************/
        dfn {
            /* Defining instance */
            font-weight: bolder;
        }

        a>i {
            /* Instance of term */
            font-style: normal;
        }

        dt dfn code,
        code.idl {
            font-size: medium;
        }

        dfn var {
            font-style: normal;
        }

        /** Change Marking ************************************************************/

        del {
            color: red;
            text-decoration: line-through;
        }

        ins {
            color: #080;
            text-decoration: underline;
        }

        /** Miscellaneous improvements to inline formatting ***************************/

        sup {
            vertical-align: super;
            font-size: 80%
        }

        /******************************************************************************/
        /*                                    Code                                    */
        /******************************************************************************/

        /** General monospace/pre rules ***********************************************/

        pre,
        code,
        samp {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
            font-size: .9em;
            page-break-inside: avoid;
            hyphens: none;
            text-transform: none;
        }

        pre code,
        code code {
            font-size: 100%;
        }

        pre {
            margin-top: 1em;
            margin-bottom: 1em;
            overflow: auto;
        }

        /** Inline Code fragments *****************************************************/

        /* Do something nice. */

        /******************************************************************************/
        /*                                    Links                                   */
        /******************************************************************************/

        /** General Hyperlinks ********************************************************/

        /* We hyperlink a lot, so make it less intrusive */
        /* a[href] {
            color: #034575;
            text-decoration: none;
            border-bottom: 1px solid #707070;
            /* Need a bit of extending for it to look okay
            padding: 0 1px 0;
            margin: 0 -1px 0;
        } */

        /* a:visited {
            border-bottom-color: #BBB;
        } */

        /* Use distinguishing colors when user is interacting with the link */
        /* a[href]:focus,
        a[href]:hover {
            background: #f8f8f8;
            background: rgba(75%, 75%, 75%, .25);
            border-bottom-width: 3px;
            margin-bottom: -2px;
        }

        a[href]:active {
            color: #C00;
            border-color: #C00;
        } */

        /* Backout above styling for W3C logo */
        .head .logo,
        .head .logo a {
            border: none;
            text-decoration: none;
            background: transparent;
        }

        /******************************************************************************/
        /*                                    Images                                  */
        /******************************************************************************/

        img {
            border-style: none;
        }

        /* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

        figure,
        .figure,
        .sidefigure {
            page-break-inside: avoid;
            text-align: center;
            margin: 2.5em 0;
        }

        .figure img,
        .sidefigure img,
        figure img,
        .figure object,
        .sidefigure object,
        figure object {
            max-width: 100%;
            margin: auto;
        }

        .figure pre,
        .sidefigure pre,
        figure pre {
            text-align: left;
            display: table;
            margin: 1em auto;
        }

        .figure table,
        figure table {
            margin: auto;
        }

        @media screen and (min-width: 20em) {
            .sidefigure {
                float: right;
                width: 50%;
                margin: 0 0 0.5em 0.5em
            }
        }

        .caption,
        figcaption,
        caption {
            font-style: italic;
            font-size: 90%;
        }

        .caption::before,
        figcaption::before,
        figcaption>.marker {
            font-weight: bold;
        }

        .caption,
        figcaption {
            counter-increment: figure;
        }

        /* DL list is indented 2em, but figure inside it is not */
        dd>.figure,
        dd>figure {
            margin-left: -2em
        }

        /******************************************************************************/
        /*                             Colored Boxes                                  */
        /******************************************************************************/

        .issue,
        .note,
        .example,
        .assertion,
        .advisement,
        blockquote {
            padding: .5em;
            border: .5em;
            border-left-style: solid;
            page-break-inside: avoid;
        }

        span.issue,
        span.note {
            padding: .1em .5em .15em;
            border-right-style: solid;
        }

        .issue,
        .note,
        .example,
        .advisement,
        .assertion,
        blockquote {
            margin: 1em auto;
        }

        .note>p:first-child,
        .issue>p:first-child,
        blockquote> :first-child {
            margin-top: 0;
        }

        blockquote> :last-child {
            margin-bottom: 0;
        }

        /** Blockquotes ***************************************************************/

        blockquote {
            border-color: silver;
        }

        /** Open issue ****************************************************************/

        .issue {
            border-color: #E05252;
            background: #FBE9E9;
            counter-increment: issue;
            overflow: auto;
        }

        .issue::before,
        .issue>.marker {
            text-transform: uppercase;
            color: #AE1E1E;
            padding-right: 1em;
            text-transform: uppercase;
        }

        /* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

        /** Example *******************************************************************/

        .example {
            border-color: #E0CB52;
            background: #FCFAEE;
            counter-increment: example;
            overflow: auto;
            clear: both;
        }

        .example::before,
        .example>.marker {
            text-transform: uppercase;
            color: #827017;
            min-width: 7.5em;
            display: block;
        }

        /* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

        /** Non-normative Note ********************************************************/

        .note {
            border-color: #52E052;
            background: #E9FBE9;
            overflow: auto;
        }

        .note::before,
        .note>.marker,
        details.note>summary::before,
        details.note>summary>.marker {
            text-transform: uppercase;
            display: block;
            color: hsl(120, 70%, 30%);
        }

        /* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

        details.note>summary {
            display: block;
            color: hsl(120, 70%, 30%);
        }

        details.note[open]>summary {
            border-bottom: 1px silver solid;
        }

        /** Assertion Box *************************************************************/
        /*  for assertions in algorithms */

        .assertion {
            border-color: #AAA;
            background: #EEE;
        }

        /** Advisement Box ************************************************************/
        /*  for attention-grabbing normative statements */

        .advisement {
            border-color: orange;
            border-style: none solid;
            background: #FFEECC;
        }

        strong.advisement {
            display: block;
            text-align: center;
        }

        .advisement>.marker {
            color: #B35F00;
        }

        /** Spec Obsoletion Notice ****************************************************/
        /* obnoxious obsoletion notice for older/abandoned specs. */

        details {
            display: block;
        }

        summary {
            font-weight: bolder;
        }

        .annoying-warning:not(details),
        details.annoying-warning:not([open])>summary,
        details.annoying-warning[open] {
            background: #fdd;
            color: red;
            font-weight: bold;
            padding: .75em 1em;
            border: thick red;
            border-style: solid;
            border-radius: 1em;
        }

        .annoying-warning :last-child {
            margin-bottom: 0;
        }

        @media not print {
            details.annoying-warning[open] {
                position: fixed;
                left: 1em;
                right: 1em;
                bottom: 1em;
                z-index: 1000;
            }
        }

        details.annoying-warning:not([open])>summary {
            text-align: center;
        }

        /** Entity Definition Boxes ***************************************************/

        .def {
            padding: .5em 1em;
            background: #DEF;
            margin: 1.2em 0;
            border-left: 0.5em solid #8CCBF2;
        }

        /******************************************************************************/
        /*                                    Tables                                  */
        /******************************************************************************/

        th,
        td {
            text-align: left;
            text-align: start;
        }

        /** Property/Descriptor Definition Tables *************************************/

        table.def {
            /* inherits .def box styling, see above */
            width: 100%;
            border-spacing: 0;
        }

        table.def td,
        table.def th {
            padding: 0.5em;
            vertical-align: baseline;
            border-bottom: 1px solid #bbd7e9;
        }

        table.def>tbody>tr:last-child th,
        table.def>tbody>tr:last-child td {
            border-bottom: 0;
        }

        table.def th {
            font-style: italic;
            font-weight: normal;
            padding-left: 1em;
            width: 3em;
        }

        /* For when values are extra-complex and need formatting for readability */
        table td.pre {
            white-space: pre-wrap;
        }

        /* A footnote at the bottom of a def table */
        table.def td.footnote {
            padding-top: 0.6em;
        }

        table.def td.footnote::before {
            content: " ";
            display: block;
            height: 0.6em;
            width: 4em;
            border-top: thin solid;
        }

        /** Data tables (and properly marked-up index tables) *************************/
        /*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

        table {
            word-wrap: normal;
            overflow-wrap: normal;
            hyphens: manual;
        }

        table.data,
        table.index {
            margin: 1em auto;
            border-collapse: collapse;
            border: hidden;
            width: 100%;
        }

        table.data caption,
        table.index caption {
            max-width: 50em;
            margin: 0 auto 1em;
        }

        table.data td,
        table.data th,
        table.index td,
        table.index th {
            padding: 0.5em 1em;
            border-width: 1px;
            border-color: silver;
            border-top-style: solid;
        }

        table.data thead td:empty {
            padding: 0;
            border: 0;
        }

        table.data thead,
        table.index thead,
        table.data tbody,
        table.index tbody {
            border-bottom: 2px solid;
        }

        table.data colgroup,
        table.index colgroup {
            border-left: 2px solid;
        }

        table.data tbody th:first-child,
        table.index tbody th:first-child {
            border-right: 2px solid;
            border-top: 1px solid silver;
            padding-right: 1em;
        }

        table.data th[colspan],
        table.data td[colspan] {
            text-align: center;
        }

        table.complex.data th,
        table.complex.data td {
            border: 1px solid silver;
            text-align: center;
        }

        table.data.longlastcol td:last-child,
        table.data td.long {
            vertical-align: baseline;
            text-align: left;
        }

        table.data img {
            vertical-align: middle;
        }


        /*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

        /******************************************************************************/
        /*                                  Indices                                   */
        /******************************************************************************/


        /** Table of Contents *********************************************************/

        .toc a {
            /* More spacing; use padding to make it part of the click target. */
            padding-top: 0.1rem;
            /* Larger, more consistently-sized click target */
            display: block;
            /* Reverse color scheme */
            color: black;
            border-color: #3980B5;
            border-bottom-width: 3px !important;
            margin-bottom: 0px !important;
        }

        .toc a:visited {
            border-color: #054572;
        }

        .toc a:not(:focus):not(:hover) {
            /* Allow colors to cascade through from link styling */
            border-bottom-color: transparent;
        }

        .toc,
        .toc ol,
        .toc ul,
        .toc li {
            list-style: none;
            /* Numbers must be inlined into source */
            /* because generated content isn't search/selectable and markers can't do multilevel yet */
            margin: 0;
            padding: 0;
            line-height: 1.1rem;
            /* consistent spacing */
        }

        /* ToC not indented until third level, but font style & margins show hierarchy */
        .toc>li {
            font-weight: bold;
        }

        .toc>li li {
            font-weight: normal;
        }

        .toc>li li li {
            font-size: 95%;
        }

        .toc>li li li li {
            font-size: 90%;
        }

        .toc>li li li li .secno {
            font-size: 85%;
        }

        .toc>li li li li li {
            font-size: 85%;
        }

        .toc>li li li li li .secno {
            font-size: 100%;
        }

        /* @supports not (display:grid) { */
        .toc>li {
            margin: 1.5rem 0;
        }

        .toc>li li {
            margin: 0.3rem 0;
        }

        .toc>li li li {
            margin-left: 2rem;
        }

        /* Section numbers in a column of their own */
        .toc .secno {
            float: left;
            width: 4rem;
            white-space: nowrap;
        }

        .toc li {
            clear: both;
        }

        :not(li)>.toc {
            margin-left: 5rem;
        }

        .toc .secno {
            margin-left: -5rem;
        }

        .toc>li li li .secno {
            margin-left: -7rem;
        }

        .toc>li li li li .secno {
            margin-left: -9rem;
        }

        .toc>li li li li li .secno {
            margin-left: -11rem;
        }

        /* Tighten up indentation in narrow ToCs */
        @media (max-width: 30em) {
            :not(li)>.toc {
                margin-left: 4rem;
            }

            .toc .secno {
                margin-left: -4rem;
            }

            .toc>li li li {
                margin-left: 1rem;
            }

            .toc>li li li .secno {
                margin-left: -5rem;
            }

            .toc>li li li li .secno {
                margin-left: -6rem;
            }

            .toc>li li li li li .secno {
                margin-left: -7rem;
            }
        }

        /* } */

        @supports (display:grid) and (display:contents) {

            /* Use #toc over .toc to override non-@supports rules. */
            #toc {
                display: grid;
                align-content: start;
                grid-template-columns: auto 1fr;
                grid-column-gap: 1rem;
                column-gap: 1rem;
                grid-row-gap: .6rem;
                row-gap: .6rem;
            }

            #toc h2 {
                grid-column: 1 / -1;
                margin-bottom: 0;
            }

            #toc ol,
            #toc li,
            #toc a {
                display: contents;
                /* Switch <a> to subgrid when supported */
            }

            #toc span {
                margin: 0;
            }

            #toc>.toc>li>a>span {
                /* The spans of the top-level list,
			   comprising the first items of each top-level section. */
                margin-top: 1.1rem;
            }

            #toc#toc .secno {
                /* Ugh, need more specificity to override base.css */
                grid-column: 1;
                width: auto;
                margin-left: 0;
            }

            #toc .content {
                grid-column: 2;
                width: auto;
                margin-right: 1rem;
            }

            #toc .content:hover {
                background: rgba(75%, 75%, 75%, .25);
                border-bottom: 3px solid #054572;
                margin-bottom: -3px;
            }

            #toc li li li .content {
                margin-left: 1rem;
            }

            #toc li li li li .content {
                margin-left: 2rem;
            }
        }


        /** Index *********************************************************************/

        /* Index Lists: Layout */
        ul.index {
            margin-left: 0;
            columns: 15em;
            text-indent: 1em hanging;
        }

        ul.index li {
            margin-left: 0;
            list-style: none;
            break-inside: avoid;
        }

        ul.index li li {
            margin-left: 1em
        }

        ul.index dl {
            margin-top: 0;
        }

        ul.index dt {
            margin: .2em 0 .2em 20px;
        }

        ul.index dd {
            margin: .2em 0 .2em 40px;
        }

        /* Index Lists: Typography */
        ul.index ul,
        ul.index dl {
            font-size: smaller;
        }

        @media not print {
            ul.index li span {
                white-space: nowrap;
                color: transparent;
            }

            ul.index li a:hover+span,
            ul.index li a:focus+span {
                color: #707070;
            }
        }

        /** Index Tables *****************************************************/
        /* See also the data table styling section, which this effectively subclasses */

        table.index {
            font-size: small;
            border-collapse: collapse;
            border-spacing: 0;
            text-align: left;
            margin: 1em 0;
        }

        table.index td,
        table.index th {
            padding: 0.4em;
        }

        table.index tr:hover td:not([rowspan]),
        table.index tr:hover th:not([rowspan]) {
            background: #f7f8f9;
        }

        /* The link in the first column in the property table (formerly a TD) */
        table.index th:first-child a {
            font-weight: bold;
        }

        /******************************************************************************/
        /*                                    Print                                   */
        /******************************************************************************/

        @media print {

            /* Pages have their own margins. */
            html {
                margin: 0;
            }

            /* Serif for print. */
            body {
                font-family: serif;
            }
        }

        @page {
            margin: 1.5cm 1.1cm;
        }

        /******************************************************************************/
        /*                                    Legacy                                  */
        /******************************************************************************/

        /* This rule is inherited from past style sheets. No idea what it's for. */
        .hide {
            display: none
        }



        /******************************************************************************/
        /*                             Overflow Control                               */
        /******************************************************************************/

        .figure .caption,
        .sidefigure .caption,
        figcaption {
            /* in case figure is overlarge, limit caption to 50em */
            max-width: 50rem;
            margin-left: auto;
            margin-right: auto;
        }

        .overlarge {
            /* Magic to create good table positioning:
		   "content column" is 50ems wide at max; less on smaller screens.
		   Extra space (after ToC + content) is empty on the right.

		   1. When table < content column, centers table in column.
		   2. When content < table < available, left-aligns.
		   3. When table > available, fills available + scroll bar.
		*/
            display: grid;
            grid-template-columns: minmax(0, 50em);
        }

        .overlarge>table {
            /* limit preferred width of table */
            max-width: 50em;
            margin-left: auto;
            margin-right: auto;
        }

        @media (min-width: 55em) {
            .overlarge {
                margin-right: calc(13px + 26.5rem - 50vw);
                max-width: none;
            }
        }

        @media screen and (min-width: 78em) {
            body:not(.toc-inline) .overlarge {
                /* 30.5em body padding 50em content area */
                margin-right: calc(40em - 50vw) !important;
            }
        }

        @media screen and (min-width: 90em) {
            body:not(.toc-inline) .overlarge {
                /* 4em html margin 30.5em body padding 50em content area */
                margin-right: calc(84.5em - 100vw) !important;
            }
        }

        @media not print {
            .overlarge {
                overflow-x: auto;
                /* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
            }
        }
    </style>
    <meta content="Bikeshed version ff9ef17b7, updated Sat Mar 28 15:20:04 2020 -0400" name="generator">
    <link href="https://timothygu.me/es-howto/" rel="canonical">
    <meta content="f64d5651048338eefa575b664e067fc3d6263163" name="document-revision">
    <style>
        /* style-autolinks */

        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: #005a9c;
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }
    </style>
    <style>
        /* style-counters */

        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: black;
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0;
        }

        .dfn-panel li {
            list-style: inside;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled {
            cursor: pointer;
        }
    </style>
    <style>
        /* style-md-lists */

        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* style-selflinks */

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: gray;
            color: white;
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: black;
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* style-syntax-highlighting */

        .highlight:not(.idl) {
            background: hsl(24, 20%, 95%);
        }

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */
    </style>
    <style>
        /* style-var-click-highlighting */

        var {
            cursor: pointer;
        }

        var.selected0 {
            background-color: #F4D200;
            box-shadow: 0 0 0 2px #F4D200;
        }

        var.selected1 {
            background-color: #FF87A2;
            box-shadow: 0 0 0 2px #FF87A2;
        }

        var.selected2 {
            background-color: #96E885;
            box-shadow: 0 0 0 2px #96E885;
        }

        var.selected3 {
            background-color: #3EEED2;
            box-shadow: 0 0 0 2px #3EEED2;
        }

        var.selected4 {
            background-color: #EACFB6;
            box-shadow: 0 0 0 2px #EACFB6;
        }

        var.selected5 {
            background-color: #82DDFF;
            box-shadow: 0 0 0 2px #82DDFF;
        }

        var.selected6 {
            background-color: #FFBCF2;
            box-shadow: 0 0 0 2px #FFBCF2;
        }
    </style>

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"></p>
        <h1 class="p-name no-ref" id="title">如何阅读 ECMAScript 规范</h1>
        <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">动态文档，<time
                    class="dt-updated" datetime="2020-03-28">2020年3月28日</time></span></h2>
        <div data-fill-with="spec-metadata">
            <dl>
                <dt>当前版本：
                <dd><a class="u-url" href="https://timothygu.me/es-howto/">https://timothygu.me/es-howto/</a>
                <dt>问题追踪：
                <dd><a href="https://github.com/TimothyGu/es-howto/issues/">GitHub</a>
                <dd><a href="#issues-index">规范内联</a>
                <dt>作者：
                <dd>
                <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url"
                        href="https://timothygu.me/">Timothy Gu</a> <a class="u-email email"
                        href="mailto:timothygu99@gmail.com">timothygu99@gmail.com</a>
            </dl>
        </div>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://creativecommons.org/licenses/by-sa/4.0/"
                rel="license"><img alt="CC BY-SA 4.0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"></a>
            This work is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/"
                rel="license">Creative Commons Attribution-ShareAlike 4.0 International License</a>, which is available
            at https://creativecommons.org/licenses/by-sa/4.0/.
            Parts of this work may be from another specification document. If so, those parts are instead covered by the
            license of that specification document. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>ECMAScript 语言规范（也称为 JavaScript 规范，或 ECMA-262）是学习 JavaScript
            工作原理细节的绝佳资源。然而，它是一份庞大的文本，初学者可能会觉得困惑和望而生畏。本文档旨在帮助你更容易入门，阅读最权威的 JavaScript 语言参考资料。</p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li>
                <a href="#prelude"><span class="secno">1</span> <span class="content">前言</span></a>
                <ol class="toc">
                    <li><a href="#why-should-i-read-the-ecmascript-specification"><span class="secno">1.1</span> <span
                                class="content">为什么要阅读 ECMAScript 规范</span></a>
                    <li><a href="#what-belongs-to-the-ecmascript-specification"><span class="secno">1.2</span> <span
                                class="content">ECMAScript 规范包括什么，不包括什么</span></a>
                    <li><a href="#where-is-the-ecmascript-specification"><span class="secno">1.3</span> <span
                                class="content">在继续之前，<em>ECMAScript 规范在哪里？</em></span></a>
                    <li><a href="#navigating-the-spec"><span class="secno">1.4</span> <span
                                class="content">如何导航规范</span></a>
                </ol>
            <li>
                <a href="#runtime-semantics"><span class="secno">2</span> <span class="content">运行时语义</span></a>
                <ol class="toc">
                    <li><a href="#algorithm-steps"><span class="secno">2.1</span> <span class="content">算法步骤</span></a>
                    <li><a href="#abstract-operations"><span class="secno">2.2</span> <span
                                class="content">抽象操作</span></a>
                    <li>
                        <a href="#what-is-this"><span class="secno">2.3</span> <span class="content">什么是
                                [[This]]</span></a>
                        <ol class="toc">
                            <li><a href="#double-brackets-field-of-record"><span class="secno">2.3.1</span> <span
                                        class="content">Record 的字段</span></a>
                            <li><a href="#double-brackets-internal-slot-of-javascript-object"><span
                                        class="secno">2.3.2</span> <span class="content">JavaScript 对象的内部槽</span></a>
                            <li><a href="#double-brackets-internal-method-of-javascript-object"><span
                                        class="secno">2.3.3</span> <span class="content">JavaScript 对象的内部方法</span></a>
                        </ol>
                    <li><a href="#completion-records-and-shorthands"><span class="secno">2.4</span> <span
                                class="content">完成记录；<code class="highlight"><c- o>?</c-></code> 和
                                <code class="highlight"><c- o>!</c-></code></span></a>
                    <li><a href="#javascript-objects"><span class="secno">2.5</span> <span class="content">JavaScript
                                对象</span></a>
                    <li><a href="#example-string-prototype-substring"><span class="secno">2.6</span> <span
                                class="content">示例：<code
                                    class="idl highlight">String<c- p>.</c->prototype<c- p>.</c->substring<c- p>()</c-></code></span></a>
                    <li><a href="#example-can-boolean-and-string-ever-throw-exceptions"><span class="secno">2.7</span>
                            <span class="content">示例：<code class="idl highlight">Boolean<c- p>()</c-></code>
                                和 <code class="idl highlight">String<c- p>()</c-></code> 会抛异常吗？</span></a>
                    <li><a href="#example-typeof-operator"><span class="secno">2.8</span> <span class="content">示例：
                                <code class="highlight"><c- k>typeof</c-></code> 运算符</span></a>
                </ol>
            <li>
                <a href="#glossary"><span class="secno"></span> <span class="content">术语表</span></a>
                <ol class="toc">
                    <li><a href="#common-abstract-operations"><span class="secno"></span> <span
                                class="content">常见抽象操作</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#informative"><span class="secno"></span> <span class="content">参考性文献</span></a>
                </ol>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a>
        </ol>
    </nav>
    <main>
        <div class="non-normative">
            <h2 class="heading settled" data-level="1" id="prelude"><span class="secno">1. </span><span
                    class="content">前言</span><a class="self-link" href="#prelude"></a></h2>
            <p>你决定每天读一点 ECMAScript 规范，对你的健康有益。也许这是你的新年愿望，或者是医生的建议。不管是什么，欢迎加入！</p>
            <p class="note" role="note"><span>注意：</span>
                在本文档中，我只用“ECMAScript”表示规范本身，在其他地方用“JavaScript”。不过，这两个词指的是同一个东西。（ECMAScript 和 JavaScript
                之间有一些历史上的区别，但讨论这些不在本文范围内，你可以<a
                    href="https://www.google.com/search?q=ecmascript+vs.+javascript">自行搜索这个区别</a>。）</p>
            <h3 class="heading settled" data-level="1.1" id="why-should-i-read-the-ecmascript-specification"><span
                    class="secno">1.1. </span><span class="content">为什么要阅读 ECMAScript 规范</span><a class="self-link"
                    href="#why-should-i-read-the-ecmascript-specification"></a>
            </h3>
            <p>ECMAScript 规范是所有 JavaScript 实现行为的权威来源，无论是在你的浏览器<a data-link-type="biblio"
                    href="#biblio-whatismybrowser">[WHATISMYBROWSER]</a>，在 Node.js 服务器端<a data-link-type="biblio"
                    href="#biblio-nodejs">[NODEJS]</a>，还是在你的物联网设备上<a data-link-type="biblio"
                    href="#biblio-johnny-five">[JOHNNY-FIVE]</a>。所有 JavaScript 引擎的开发者都依赖规范确保他们的新功能能像其它引擎一样正常工作。</p>
            <p>但我认为规范的作用远不止于那些被称为“JavaScript 引擎开发者”的神秘生物。实际上，<strong>它对普通 JavaScript 开发者也非常有用，只是你还没意识到。</strong></p>
            <p>假设你有一天在工作中发现了如下奇怪的现象：</p>
            <pre class="language-js highlight"><c- o>></c-> Array<c- p>.</c->prototype<c- p>.</c->push<c- p>(</c-><c- mi>42</c-><c- p>)</c->
<c- mi>1</c->
<c- o>></c-> Array<c- p>.</c->prototype
<c- p>[</c-> <c- mi>42</c-> <c- p>]</c->
<c- o>></c-> Array<c- p>.</c->isArray<c- p>(</c->Array<c- p>.</c->prototype<c- p>)</c->
<c- kc>true</c->
<c- o>></c-> Set<c- p>.</c->prototype<c- p>.</c->add<c- p>(</c-><c- mi>42</c-><c- p>)</c->
TypeError<c- o>:</c-> Method Set<c- p>.</c->prototype<c- p>.</c->add called on incompatible receiver #<c- o>&lt;</c->Set<c- o>></c->
    at Set<c- p>.</c->add <c- p>(</c-><c- o>&lt;</c->anonymous<c- o>></c-><c- p>)</c->
<c- o>></c-> Set<c- p>.</c->prototype
Set <c- p>{}</c->
</pre>
            <p>你很困惑为什么一个方法在它的 prototype 上能用，而另一个方法却在<em>它的</em> prototype 上不能用。<a
                    href="https://www.google.com/search?q=array+prototype+push+on+prototype">Google 在你最需要时总是帮不了你</a>，<a
                    href="https://stackoverflow.com/search?q=array+prototype+push+on+prototype">Stack Overflow 也不灵</a>。
            </p>
            <p>阅读规范可以帮你。</p>
            <p>或者，你可能会疑惑臭名昭著的<a data-link-type="dfn"
                    href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Equality_operators"
                    id="ref-for-Equality_operators">宽松等号运算符</a>（<code
                    class="highlight"><c- o>==</c-></code>）到底是怎么工作的（这里“function”也用得很宽松<a data-link-type="biblio"
                    href="#biblio-wat">[WAT]</a>）。你很勤奋，去 MDN 查找，却发现<a data-link-type="dfn"
                    href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Using_the_Equality_Operators"
                    id="ref-for-Using_the_Equality_Operators">相关的解释段落</a>让你越看越晕<a data-link-type="biblio"
                    href="#biblio-mdn">[MDN]</a>。
            </p>
            <p>阅读规范可以帮你。</p>
            <p>另一方面，我不建议刚接触 JavaScript 的开发者直接阅读 ECMAScript 规范。如果你是新手，先玩玩网页！做点 web 应用！或者做点基于 JavaScript 的摄像头什么的！等你遇到足够多的
                JavaScript 奇葩问题，或者赚够了钱不需要再管 JavaScript 时，再回来看这篇文档。</p>
            <p>好了，现在你知道规范其实是帮助你理解语言或平台细节的利器。但 ECMAScript 规范的范围究竟包括哪些内容呢？</p>
            <h3 class="heading settled" data-level="1.2" id="what-belongs-to-the-ecmascript-specification"><span
                    class="secno">1.2. </span><span class="content">ECMAScript 规范包括什么，不包括什么</span><a class="self-link"
                    href="#what-belongs-to-the-ecmascript-specification"></a>
            </h3>
            <p>课本上的回答是“只有语言特性才写进 ECMAScript 规范”。但这没啥帮助，就像说“JavaScript 特性就是 JavaScript”。我不喜欢这种同义反复<a
                    data-link-type="biblio" href="#biblio-xkcd-703">[XKCD-703]</a>。</p>
            <p>我更愿意列举一些 JavaScript 应用里常见的东西，然后告诉你哪些属于语言特性，哪些不是。</p>
            <table class="data">
                <tbody>
                    <tr>
                        <td>语法元素的语法（比如合法的 <code class="highlight"><c- k>for</c-></code>..<code
                                class="highlight"><c- k>in</c-></code>
                            循环长什么样）
                        <td>✔
                    <tr>
                        <td>语法元素的语义（比如 <code class="highlight"><c- k>typeof</c-> <c- kc>null</c-></code> 或 <code
                                class="highlight"><c- p>{</c-> a<c- o>:</c-> b <c- p>}</c-></code> 返回什么）
                        <td>✔
                    <tr>
                        <td><code class="highlight"><c- kr>import</c-> a from <c- t>'a'</c-><c- p>;</c-></code>
                        <td>❓<sup>[1]</sup>
                    <tr>
                        <td><code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-object-objects" id="ref-for-sec-object-objects">Object</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-array-objects" id="ref-for-sec-array-objects">Array</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-function-objects" id="ref-for-sec-function-objects">Function</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-number-objects" id="ref-for-sec-number-objects">Number</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-math-object" id="ref-for-sec-math-object">Math</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-regexp-regular-expression-objects" id="ref-for-sec-regexp-regular-expression-objects">RegExp</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-proxy-objects" id="ref-for-sec-proxy-objects">Proxy</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-map-objects" id="ref-for-sec-map-objects">Map</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects">Promise</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-arraybuffer-objects" id="ref-for-sec-arraybuffer-objects">ArrayBuffer</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-typedarray-objects" id="ref-for-sec-typedarray-objects">Uint8Array</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-globalthis" id="ref-for-sec-globalthis">globalThis</a></code>,
                            ...
                        <td>✔
                    <tr>
                        <td><code class="idl highlight">console</code>, <code
                                class="idl highlight">setTimeout<c- p>()</c-></code>, <code
                                class="idl highlight">setInterval<c- p>()</c-></code>, <code
                                class="idl highlight">clearTimeout<c- p>()</c-></code>, <code
                                class="idl highlight">clearInterval<c- p>()</c-></code>
                        <td>✘<sup>[2]</sup>
                    <tr>
                        <td><code
                                class="idl"><a data-link-type="idl" href="https://nodejs.org/api/buffer.html#buffer_class_buffer" id="ref-for-buffer_class_buffer">Buffer</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://nodejs.org/api/globals.html#globals_process" id="ref-for-globals_process">process</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://nodejs.org/api/globals.html#globals_global" id="ref-for-globals_global">global</a></code>*
                        <td>✘<sup>[3]</sup>
                    <tr>
                        <td><code
                                class="idl"><a data-link-type="idl" href="https://nodejs.org/api/modules.html#modules_module" id="ref-for-modules_module">module</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://nodejs.org/api/modules.html#modules_exports" id="ref-for-modules_exports">exports</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://nodejs.org/api/modules.html#modules_require" id="ref-for-modules_require">require()</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://nodejs.org/api/modules.html#modules_dirname" id="ref-for-modules_dirname">__dirname</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://nodejs.org/api/modules.html#modules_filename" id="ref-for-modules_filename">__filename</a></code>
                        <td>✘<sup>[4]</sup>
                    <tr>
                        <td><code
                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/window-object.html#dom-window" id="ref-for-dom-window">window</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert" id="ref-for-dom-alert">alert()</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-confirm" id="ref-for-dom-confirm">confirm()</a></code>,
                            DOM (<code
                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/window-object.html#dom-document-2" id="ref-for-dom-document-2">document</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement" id="ref-for-htmlelement">HTMLElement</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener" id="ref-for-dom-eventtarget-addeventlistener">addEventListener()</a></code>,
                            <code
                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#worker" id="ref-for-worker">Worker</a></code>,
                            ...)
                        <td>✘<sup>[5]</sup>
            </table>
            <div class="note" role="note">
                <sup>[1]</sup> ECMAScript 规范规定了这种声明的语法和它本应表达的意义，但并未规定如何加载模块。
                <p><sup>[2]</sup> 这些东西在浏览器和 Node.js 都能用，但它们不是标准的一部分。Node.js 的相关内容在<a data-link-type="dfn"
                        href="https://nodejs.org/api/globals.html#globals_global_objects"
                        id="ref-for-globals_global_objects">官方文档</a>中有说明。浏览器端，<code
                        class="idl"><a data-link-type="idl" href="https://console.spec.whatwg.org/#namespacedef-console" id="ref-for-namespacedef-console">console</a></code>
                    由 Console Standard 定义<a data-link-type="biblio" href="#biblio-console">[CONSOLE]</a>，其余由 HTML 标准定义<a
                        data-link-type="biblio" href="#biblio-html">[HTML]</a>。</p>
                <p><sup>[3]</sup> 这些都是 Node.js 独有的全局变量，相关内容在<a data-link-type="dfn"
                        href="https://nodejs.org/api/globals.html#globals_global_objects"
                        id="ref-for-globals_global_objects①">官方文档</a>中说明。* 注意和 <code class="idl highlight">global</code>
                    不同，<code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-globalthis" id="ref-for-sec-globalthis①">globalThis</a></code>
                    是 ECMAScript 的一部分，在浏览器中也有实现。</p>
                <p><sup>[4]</sup> 这些是 Node.js 独有的模块级“全局”，相关内容在<a data-link-type="dfn"
                        href="https://nodejs.org/api/modules.html#modules_modules"
                        id="ref-for-modules_modules">官方文档</a>中说明。</p>
                <p><sup>[5]</sup> 这些都是浏览器独有的东西。</p>
            </div>
            <h3 class="heading settled" data-level="1.3" id="where-is-the-ecmascript-specification"><span
                    class="secno">1.3. </span><span class="content">在继续之前，<em>ECMAScript 规范在哪里？</em></span><a
                    class="self-link" href="#where-is-the-ecmascript-specification"></a></h3>
            <p>当你<a href="https://www.google.com/search?q=ecmascript+specification">Google “ECMAScript
                    规范”</a>时，会看到<em>一大堆结果</em>，都号称是官方规范。到底该看哪个？？</p>
            <p><strong>简而言之，最可能你需要的规范就是 tc39.es/ecma262/ 发布的那个</strong> <a data-link-type="biblio"
                    href="#biblio-ecma-262">[ECMA-262]</a>。</p>
            <p>详细版：</p>
            <p>ECMAScript 语言规范由一个来自不同背景的团队制定，叫做 Ecma International Technical Committee 39（通常简称 TC39<a
                    data-link-type="biblio" href="#biblio-tc39">[TC39]</a>）。TC39 在 tc39.es 上维护 ECMAScript 语言的最新规范<a
                    data-link-type="biblio" href="#biblio-ecma-262">[ECMA-262]</a>。</p>
            <p>麻烦的是，每年 TC39 都会选定某个时间点，把规范快照下来，变成当年的 ECMAScript 语言<em>标准</em>，并给出版本号。例如，<cite>ECMAScript® 2019 Language
                    Specification (ECMA-262, 10<sup>版</sup>)</cite> <a data-link-type="biblio"
                    href="#biblio-ecma-262-2019">[ECMA-262-2019]</a>（俗称 ES10 或 ES2019）就是 2019 年 6 月 tc39.es 上的规范，做成 PDF
                存档。</p>
            <p>因此，除非你只想让你的 web 应用跑在 2019 年 6 月的浏览器上，并且这些浏览器也被做成 PDF 存档，否则你应该始终查阅 tc39.es 上最新的规范<a
                    data-link-type="biblio" href="#biblio-ecma-262">[ECMA-262]</a>。但如果你需要兼容旧版浏览器或旧版 Node.js，可以参考历史规范。
            </p>
            <p class="note" role="note"><span>注意：</span> ISO/IEC 也会以 ISO/IEC 22275 <a data-link-type="biblio"
                    href="#biblio-iso-22275-2018">[ISO-22275-2018]</a> 重新发布 ECMAScript 标准。但不用担心，这标准其实就是跳转到<a
                    data-link-type="biblio" href="#biblio-ecma-262">[ECMA-262]</a>。</p>
            <h3 class="heading settled" data-level="1.4" id="navigating-the-spec"><span class="secno">1.4. </span><span
                    class="content">如何导航规范</span><a class="self-link" href="#navigating-the-spec"></a></h3>
            <p>ECMAScript 规范讲的东西非常多。尽管编写者尽量把它分成逻辑块，但整体还是很庞大。</p>
            <p>我个人喜欢把规范分成五部分：</p>
            <ul>
                <li data-md>
                    <p>约定和基础（“什么是 Number？规范说‘抛出 <strong>TypeError</strong> 异常’是什么意思？”）</p>
                <li data-md>
                    <p>语言的语法产生式（“<code class="highlight"><c- k>for</c-></code>-<code
                            class="highlight"><c- k>in</c-></code> 循环怎么写？”）</p>
                <li data-md>
                    <p>语言的静态语义（“<code class="highlight"><c- a>var</c-></code> 语句里的变量名怎么确定？”）</p>
                <li data-md>
                    <p>语言的运行时语义（“<code class="highlight"><c- k>for</c-></code>-<code
                            class="highlight"><c- k>in</c-></code> 循环怎么执行？”）</p>
                <li data-md>
                    <p>API（“<code
                            class="idl highlight">String<c- p>.</c->prototype<c- p>.</c->substring<c- p>()</c-></code>
                        干啥？”）</p>
            </ul>
            <p>但规范不是这样组织的。它将第一个部分放在<a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-notational-conventions"
                    id="ref-for-sec-notational-conventions">§5 记号约定</a>到<a data-link-type="dfn"
                    href="https://tc39.es/ecma262/#sec-ordinary-and-exotic-objects-behaviours"
                    id="ref-for-sec-ordinary-and-exotic-objects-behaviours">§9 普通和特殊对象行为</a>，接下来的三部分交错在<a
                    data-link-type="dfn" href="https://tc39.es/ecma262/#sec-ecmascript-language-source-code"
                    id="ref-for-sec-ecmascript-language-source-code">§10 ECMAScript 语言：源代码</a>到<a data-link-type="dfn"
                    href="https://tc39.es/ecma262/#sec-ecmascript-language-scripts-and-modules"
                    id="ref-for-sec-ecmascript-language-scripts-and-modules">§15 ECMAScript 语言：脚本和模块</a>之间，比如：</p>
            <blockquote>
                <ul>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-if-statement"
                                id="ref-for-sec-if-statement">§13.6 <code class="highlight"><c- k>if</c-></code> 语句</a>
                            <strong>语法产生式</strong>
                        </p>
                        <ul>
                            <li data-md>
                                <p>§13.6.1-6 <strong>静态语义</strong></p>
                            <li data-md>
                                <p>§13.6.7 <strong>运行时语义</strong></p>
                        </ul>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-iteration-statements"
                                id="ref-for-sec-iteration-statements">§13.7 循环语句</a> <strong>语法产生式</strong></p>
                        <ul>
                            <li data-md>
                                <p>§13.7.1 共享<strong>静态</strong>和<strong>运行时语义</strong></p>
                            <li data-md>
                                <p>§13.7.2 <code class="highlight"><c- k>do</c-></code>-<code
                                        class="highlight"><c- k>while</c-></code> 语句</p>
                                <ul>
                                    <li data-md>
                                        <p>§13.7.2.1-5 <strong>静态语义</strong></p>
                                    <li data-md>
                                        <p>§13.7.2.6 <strong>运行时语义</strong></p>
                                </ul>
                            <li data-md>
                                <p>§13.7.3 <code class="highlight"><c- k>while</c-></code> 语句</p>
                                <ul>
                                    <li data-md>
                                        <p>...</p>
                                </ul>
                        </ul>
                </ul>
            </blockquote>
            <p>而 API 分布在<a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-global-object"
                    id="ref-for-sec-global-object">§18 全局对象</a>到<a data-link-type="dfn"
                    href="https://tc39.es/ecma262/#sec-reflection" id="ref-for-sec-reflection">§26 反射</a>之间。</p>
            <p>这里有个重点：<strong>几乎没人</strong>会从头到尾读规范。你只需查找你关心的部分，在对应章节只看需要的内容。试着判断你的问题属于以上五大类中的哪一类；如果判断不了，可以问自己“这东西（你想确认的内容）在哪个阶段被评估？”这样或许有帮助。别担心，规范越读越顺手。
            </p>
            <h2 class="heading settled" data-level="2" id="runtime-semantics"><span class="secno">2. </span><span
                    class="content">运行时语义</span><a class="self-link" href="#runtime-semantics"></a></h2>
            <p>语言和 API 的运行时语义是规范中最大的一部分，也往往是大家最关心的内容。</p>
            <p>整体来看，规范里的这些章节其实挺好读。不过规范用到不少简写方式，对刚入门的人来说可能有点难（至少对我来说是）。我会解释一些常见的约定，并用实际流程说明这些东西怎么用。</p>
            <h3 class="heading settled" data-level="2.1" id="algorithm-steps"><span class="secno">2.1. </span><span
                    class="content">算法步骤</span><a class="self-link" href="#algorithm-steps"></a></h3>
            <p>ECMAScript 里的大多数运行时语义都是用一系列算法步骤来描述的，类似伪代码，但更加精确。</p>
            <div class="example" id="example-e38d6074">
                <a class="self-link" href="#example-e38d6074"></a>
                <div class="algorithm" data-algorithm="sample set of algorithm steps">
                    <p>一组算法步骤示例：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>a</var> 为 <strong>1</strong>。</p>
                        <li data-md>
                            <p>令 <var>b</var> 为 <var>a</var>+<var>a</var>。</p>
                        <li data-md>
                            <p>如果 <var>b</var> 等于 <strong>2</strong>，则</p>
                            <ol>
                                <li data-md>
                                    <p>万岁！算术没坏。</p>
                            </ol>
                        <li data-md>
                            <p>否则</p>
                            <ol>
                                <li data-md>
                                    <p>呜呜！</p>
                            </ol>
                    </ol>
                </div>
            </div>
            <p class="note" role="note">延伸阅读：<a data-link-type="dfn"
                    href="https://tc39.es/ecma262/#sec-algorithm-conventions"
                    id="ref-for-sec-algorithm-conventions">§5.2 算法约定</a></p>
            <h3 class="heading settled" data-level="2.2" id="abstract-operations"><span class="secno">2.2. </span><span
                    class="content">抽象操作</span><a class="self-link" href="#abstract-operations"></a></h3>
            <p>你有时会在规范里看到类似函数调用的结构。比如 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-boolean-constructor-boolean-value" id="ref-for-sec-boolean-constructor-boolean-value">Boolean()</a></code>
                函数的第一步是：</p>
            <div class="algorithm" data-algorithm="to execute Boolean() (excerpt)">
                <p>当用参数 <var>value</var> 调用 <code class="idl highlight">Boolean</code> 时，执行以下步骤：</p>
                <ol>
                    <li data-md>
                        <p>令 <var>b</var> 为 ! <a data-link-type="abstract-op"
                                href="https://tc39.es/ecma262/#sec-toboolean"
                                id="ref-for-sec-toboolean">ToBoolean</a>(<var>value</var>)。</p>
                    <li data-md>
                        <p>...</p>
                </ol>
            </div>
            <p>这个 “ToBoolean” 就是所谓的<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="abstract-operation">抽象操作</dfn>：叫“抽象”是因为它并不作为函数暴露给 JavaScript 代码使用。它只是规范作者发明的一个记法，方便不重复描述同样的逻辑。
            </p>
            <p class="note" role="note"><span>注意：</span> 暂时不用管 ToBoolean 前面的 !，我们后面在 <a
                    href="#completion-records-and-shorthands">§ 2.4 完成记录；? 和 !</a> 再讲。</p>
            <p class="note" role="note">延伸阅读：<a data-link-type="dfn"
                    href="https://tc39.es/ecma262/#sec-algorithm-conventions-abstract-operations"
                    id="ref-for-sec-algorithm-conventions-abstract-operations">§5.2.1 抽象操作</a></p>
            <h3 class="heading settled" data-level="2.3" id="what-is-this"><span class="secno">2.3. </span><span
                    class="content">什么是 [[This]]</span><a class="self-link" href="#what-is-this"></a></h3>
            <p>有时你会看到 <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="double brackets notation" data-noexport
                    id="double-brackets-notation">[[记号]]</dfn>
                被用在类似“令 <var>proto</var> 为 <var>obj</var>.[[Prototype]]。”这样的语句中。这个记号在不同语境下可以表示几种不同的东西，不过只要记住它指的是某种
                JavaScript 代码无法直接访问的内部属性，你就能用很久了。</p>
            <p>严格来说，它可能表示三种东西，下面用规范里的例子说明。当然你暂时可以跳过这些内容。</p>
            <h4 class="heading settled" data-level="2.3.1" id="double-brackets-field-of-record"><span
                    class="secno">2.3.1. </span><span class="content">Record 的字段</span><a class="self-link"
                    href="#double-brackets-field-of-record"></a></h4>
            <p>ECMAScript 规范使用 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="record">Record</dfn>
                指代一个键值固定的映射——有点像 C 语言的结构体。<a data-link-type="dfn" href="#record" id="ref-for-record">Record</a>
                的每个键值对都叫一个 <dfn class="dfn-paneled" data-dfn-for="Record" data-dfn-type="dfn" data-noexport
                    id="record-field">字段</dfn>。由于 <a data-link-type="dfn" href="#record" id="ref-for-record①">Record</a>
                只出现在规范里，实际 JavaScript 代码里没有，因此用 <a data-link-type="dfn" href="#double-brackets-notation"
                    id="ref-for-double-brackets-notation">[[记号]]</a> 来引用 <a data-link-type="dfn" href="#record-field"
                    id="ref-for-record-field">字段</a>很合理。</p>
            <div class="example" id="example-20fef1ef">
                <a class="self-link" href="#example-20fef1ef"></a>
                <p>值得注意的是，<a data-link-type="dfn"
                        href="https://tc39.es/ecma262/#sec-property-descriptor-specification-type"
                        id="ref-for-sec-property-descriptor-specification-type">属性描述符</a>也是用 <a data-link-type="dfn"
                        href="#record" id="ref-for-record③">Record</a> 建模的，拥有 <a data-link-type="dfn"
                        href="#record-field" id="ref-for-record-field①">字段</a>
                    [[Value]]、[[Writable]]、[[Get]]、[[Set]]、[[Enumerable]] 和 [[Configurable]]。<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-isdatadescriptor"
                        id="ref-for-sec-isdatadescriptor">IsDataDescriptor</a> <a data-link-type="dfn"
                        href="#abstract-operation" id="ref-for-abstract-operation">抽象操作</a>大量使用了这种记号：</p>
                <div class="algorithm" data-algorithm="to call the abstract operation IsDataDescriptor">
                    <p>当用 <a data-link-type="dfn"
                            href="https://tc39.es/ecma262/#sec-property-descriptor-specification-type"
                            id="ref-for-sec-property-descriptor-specification-type①">属性描述符</a>
                        <var>Desc</var> 调用 IsDataDescriptor 抽象操作时，执行如下步骤：
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>Desc</var> 是 <strong>undefined</strong>，返回 <strong>false</strong>。</p>
                        <li data-md>
                            <p>如果 <var>Desc</var> 的 [[Value]] 和 [[Writable]] 都不存在，返回 <strong>false</strong>。</p>
                        <li data-md>
                            <p>返回 <strong>true</strong>。</p>
                    </ol>
                </div>
            </div>
            <p>在下一节<a href="#completion-records-and-shorthands">§ 2.4 完成记录；? 和 !</a>还有另一个 <a data-link-type="dfn"
                    href="#record" id="ref-for-record④">Record</a> 的例子。</p>
            <p class="note" role="note">延伸阅读：<a data-link-type="dfn"
                    href="https://tc39.es/ecma262/#sec-list-and-record-specification-type"
                    id="ref-for-sec-list-and-record-specification-type">§6.2.1 List 和 Record 规范类型</a></p>
            <h4 class="heading settled" data-level="2.3.2" id="double-brackets-internal-slot-of-javascript-object"><span
                    class="secno">2.3.2. </span><span class="content">JavaScript 对象的内部槽</span><a class="self-link"
                    href="#double-brackets-internal-slot-of-javascript-object"></a></h4>
            <p>JavaScript 对象可能有一些<a data-link-type="dfn" href="#internal-slot"
                    id="ref-for-internal-slot">内部槽</a>，规范用来存放数据。和 <a data-link-type="dfn" href="#record-field"
                    id="ref-for-record-field②">Record 字段</a>一样，这些<a data-link-type="dfn" href="#internal-slot"
                    id="ref-for-internal-slot①">内部槽</a>也无法用 JavaScript 直接访问，但有些可以通过实现相关工具（比如 Chrome DevTools）看到。因此用 <a
                    data-link-type="dfn" href="#double-brackets-notation"
                    id="ref-for-double-brackets-notation①">[[记号]]</a>来描述<a data-link-type="dfn" href="#internal-slot"
                    id="ref-for-internal-slot②">内部槽</a>也很合适。</p>
            <p><a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot③">内部槽</a>的细节会在<a
                    href="#javascript-objects">§ 2.5 JavaScript 对象</a>中详细介绍。现在不用纠结它们有什么用，只需看下面这个例子：</p>
            <div class="example" id="example-dd7c3217">
                <a class="self-link" href="#example-dd7c3217"></a>
                <p>大多数 JavaScript 对象都有一个内部槽 [[Prototype]]，指向它继承的对象。这个<a data-link-type="dfn" href="#internal-slot"
                        id="ref-for-internal-slot④">内部槽</a>的值通常就是 <code
                        class="idl"><a data-link-type="idl" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf#">Object.getPrototypeOf()</a></code>
                    返回的内容。在 <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-ordinarygetprototypeof"
                        id="ref-for-sec-ordinarygetprototypeof">OrdinaryGetPrototypeOf</a> <a data-link-type="dfn"
                        href="#abstract-operation" id="ref-for-abstract-operation①">抽象操作</a>里，这个<a data-link-type="dfn"
                        href="#internal-slot" id="ref-for-internal-slot⑤">内部槽</a>是这样访问的：</p>
                <div class="algorithm" data-algorithm="to call the abstract operation OrdinaryGetPrototypeOf">
                    <p>当用对象 <var>O</var> 调用 OrdinaryGetPrototypeOf 抽象操作时，执行以下步骤：</p>
                    <ol>
                        <li data-md>
                            <p>返回 <var>O</var>.[[Prototype]]。</p>
                    </ol>
                </div>
            </div>
            <p class="note" role="note"><span>注意：</span> 对象的<a data-link-type="dfn" href="#internal-slot"
                    id="ref-for-internal-slot⑥">内部槽</a>和 <a data-link-type="dfn" href="#record-field"
                    id="ref-for-record-field③">Record 字段</a>在外观上是一样的，但可以通过点号前面的内容来区分（是对象还是<a data-link-type="dfn"
                    href="#record" id="ref-for-record⑤">Record</a>）。通常根据上下文很容易分辨。</p>
            <h4 class="heading settled" data-level="2.3.3" id="double-brackets-internal-method-of-javascript-object">
                <span class="secno">2.3.3. </span><span class="content">JavaScript 对象的内部方法</span><a class="self-link"
                    href="#double-brackets-internal-method-of-javascript-object"></a>
            </h4>
            <p>JavaScript 对象也可能有所谓的 <a data-link-type="dfn" href="#internal-method"
                    id="ref-for-internal-method">内部方法</a>。像 <a data-link-type="dfn" href="#internal-slot"
                    id="ref-for-internal-slot⑦">内部槽</a>一样，这些 <a data-link-type="dfn" href="#internal-method"
                    id="ref-for-internal-method①">内部方法</a>不能通过 JavaScript 直接观察。因此，用 <a data-link-type="dfn"
                    href="#double-brackets-notation" id="ref-for-double-brackets-notation②">[[记号]]</a>描述 <a
                    data-link-type="dfn" href="#internal-method" id="ref-for-internal-method②">内部方法</a>也是合理的。
            </p>
            <p><a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method③">内部方法</a>的具体细节会在 <a
                    href="#javascript-objects">§ 2.5 JavaScript 对象</a>介绍。现在不用纠结它们的具体用途，但可以先看看下面的例子。</p>
            <div class="example" id="example-bdf195eb">
                <a class="self-link" href="#example-bdf195eb"></a>
                <p>所有 JavaScript 函数都有一个内部方法 [[Call]]，用于运行该函数。<a data-link-type="abstract-op"
                        href="https://tc39.es/ecma262/#sec-call" id="ref-for-sec-call">Call</a> <a data-link-type="dfn"
                        href="#abstract-operation" id="ref-for-abstract-operation②">抽象操作</a>有如下步骤：</p>
                <blockquote>
                    <ol start="3">
                        <li data-md>
                            <p>返回 ? <var>F</var>.[[Call]](<var>V</var>, <var>argumentsList</var>)。</p>
                    </ol>
                </blockquote>
                <p>其中 <var>F</var> 是 JavaScript 函数对象。在这里，<var>F</var> 的 [[Call]] 内部方法会用参数 <var>V</var> 和
                    <var>argumentsList</var> 被调用。
                </p>
            </div>
            <p class="note" role="note"><span>注意：</span> 这种 <a data-link-type="dfn" href="#double-brackets-notation"
                    id="ref-for-double-brackets-notation③">[[记号]]</a> 的第三种用法可以通过“像函数调用”这一外观与其他用法区分。</p>
            <h3 class="heading settled" data-level="2.4" id="completion-records-and-shorthands"><span class="secno">2.4.
                </span><span class="content">完成记录；<code class="highlight"><c- o>?</c-></code> 和 <code
                        class="highlight"><c- o>!</c-></code></span><a class="self-link"
                    href="#completion-records-and-shorthands"></a></h3>
            <p>ECMAScript 规范中的每个运行时语义都会显式或隐式返回一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="completion-record">完成记录</dfn>，用于报告其结果。这个 <a data-link-type="dfn" href="#completion-record"
                    id="ref-for-completion-record">完成记录</a>是一个 <a data-link-type="dfn" href="#record"
                    id="ref-for-record⑥">Record</a>，拥有三种可能的 <a data-link-type="dfn" href="#record-field"
                    id="ref-for-record-field④">字段</a>：</p>
            <ul>
                <li data-md>
                    <p>一个 <dfn class="dfn-paneled" data-dfn-for="Completion Record" data-dfn-type="dfn" data-noexport
                            id="completion-record-type">[[Type]]</dfn>（<dfn class="dfn-paneled idl-code"
                            data-dfn-for="Completion Record/[[Type]]" data-dfn-type="enum-value" data-export
                            id="dom-completion-record-type-normal"><code class="highlight">normal</code></dfn>、<dfn
                            class="dfn-paneled idl-code" data-dfn-for="Completion Record/[[Type]]"
                            data-dfn-type="enum-value" data-export id="dom-completion-record-type-return"><code
                                class="highlight"><c- k>return</c-></code></dfn>、<dfn class="dfn-paneled idl-code"
                            data-dfn-for="Completion Record/[[Type]]" data-dfn-type="enum-value" data-export
                            id="dom-completion-record-type-throw"><code class="highlight"><c- k>throw</c-></code></dfn>、
                        <dfn class="dfn-paneled idl-code" data-dfn-for="Completion Record/[[Type]]"
                            data-dfn-type="enum-value" data-export id="dom-completion-record-type-break"><code
                                class="highlight"><c- k>break</c-></code></dfn>，或 <dfn class="dfn-paneled idl-code"
                            data-dfn-for="Completion Record/[[Type]]" data-dfn-type="enum-value" data-export
                            id="dom-completion-record-type-continue"><code
                                class="highlight"><c- k>continue</c-></code></dfn>）
                    </p>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="#completion-record-type"
                            id="ref-for-completion-record-type">[[Type]]</a> 是 <code
                            class="idl"><a data-link-type="idl" href="#dom-completion-record-type-normal" id="ref-for-dom-completion-record-type-normal">normal</a></code>、
                        <code
                            class="idl"><a data-link-type="idl" href="#dom-completion-record-type-return" id="ref-for-dom-completion-record-type-return">return</a></code>、
                        或 <code
                            class="idl"><a data-link-type="idl" href="#dom-completion-record-type-throw" id="ref-for-dom-completion-record-type-throw">throw</a></code>，
                        那么它还可以有一个 <dfn class="dfn-paneled" data-dfn-for="Completion Record" data-dfn-type="dfn"
                            data-noexport id="completion-record-value">[[Value]]</dfn>（即“返回/抛出的内容”）
                    </p>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="#completion-record-type"
                            id="ref-for-completion-record-type①">[[Type]]</a> 是 <code
                            class="idl"><a data-link-type="idl" href="#dom-completion-record-type-break" id="ref-for-dom-completion-record-type-break">break</a></code>
                        或 <code
                            class="idl"><a data-link-type="idl" href="#dom-completion-record-type-continue" id="ref-for-dom-completion-record-type-continue">continue</a></code>，
                        那么它可以带一个 <a data-link-type="dfn"
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label#">标签</a>
                        叫做 <dfn data-dfn-for="Completion Record" data-dfn-type="dfn" data-noexport
                            id="completion-record-target">[[Target]]<a class="self-link"
                                href="#completion-record-target"></a></dfn>，表示脚本执行因该语义而跳转或继续到的标签</p>
            </ul>
            <p class="note" role="note"><span>注意：</span> 两个括号用于表示 <a data-link-type="dfn" href="#record-field"
                    id="ref-for-record-field⑤">Record 字段</a>。见 <a href="#double-brackets-field-of-record">§ 2.3.1 Record
                    的字段</a>，了解 <a data-link-type="dfn" href="#record" id="ref-for-record⑧">Record</a> 及相关记号。</p>
            <p><a data-link-type="dfn" href="#completion-record" id="ref-for-completion-record①">完成记录</a>的 <a
                    data-link-type="dfn" href="#completion-record-type"
                    id="ref-for-completion-record-type②">[[Type]]</a> 为 <code
                    class="idl"><a data-link-type="idl" href="#dom-completion-record-type-normal" id="ref-for-dom-completion-record-type-normal①">normal</a></code>
                时，被称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="normal-completion">正常完成</dfn>。其他所有
                <a data-link-type="dfn" href="#completion-record" id="ref-for-completion-record②">完成记录</a>，除了 <a
                    data-link-type="dfn" href="#normal-completion" id="ref-for-normal-completion">正常完成</a>，也称为 <dfn
                    class="dfn-paneled" data-dfn-type="dfn" data-noexport id="abrupt-completion">异常完成</dfn>。
            </p>
            <p>大多数时候，你只会遇到 <a data-link-type="dfn" href="#abrupt-completion" id="ref-for-abrupt-completion">异常完成</a>，其
                <a data-link-type="dfn" href="#completion-record-type" id="ref-for-completion-record-type③">[[Type]]</a>
                为 <code
                    class="idl"><a data-link-type="idl" href="#dom-completion-record-type-throw" id="ref-for-dom-completion-record-type-throw①">throw</a></code>。其他三种异常完成类型主要用于说明某些语法元素如何被求值。实际上，你在内置函数定义里不会见到这些类型，因为
                <code class="highlight"><c- k>break</c-></code>/<code class="highlight"><c- k>continue</c-></code>/<code
                    class="highlight"><c- k>return</c-></code> 不会跨函数边界起作用。
            </p>
            <p class="note" role="note">延伸阅读：<a data-link-type="dfn"
                    href="https://tc39.es/ecma262/#sec-completion-record-specification-type"
                    id="ref-for-sec-completion-record-specification-type">§6.2.3 完成记录规范类型</a></p>
            <hr>
            <p>由于 <a data-link-type="dfn" href="#completion-record"
                    id="ref-for-completion-record③">完成记录</a>的定义，JavaScript 里的错误冒泡（直到 <code
                    class="highlight"><c- k>try</c-></code>-<code class="highlight"><c- k>catch</c-></code>
                块）这种机制在规范中并不存在。实际上，错误（更准确地说是异常完成）都是显式处理的。</p>
            <p>如果不用任何简写，一个可能返回计算结果或抛出错误的 <a data-link-type="dfn" href="#abstract-operation"
                    id="ref-for-abstract-operation③">抽象操作</a>的规范文本是：</p>
            <div class="example" id="example-273b7f6b">
                <a class="self-link" href="#example-273b7f6b"></a>
                <div class="algorithm"
                    data-algorithm="to call an abstract operation that may throw without any shorthands">
                    <p>调用可能抛错的抽象操作的几个步骤，<strong><em>不使用任何简写</em></strong>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>resultCompletionRecord</var> 为 AbstractOp()。</p>
                            <p class="note" role="note"><span>注意：</span> <var>resultCompletionRecord</var> 是一个 <a
                                    data-link-type="dfn" href="#completion-record"
                                    id="ref-for-completion-record④">完成记录</a>。</p>
                        <li data-md>
                            <p>如果 <var>resultCompletionRecord</var> 是异常完成，返回 <var>resultCompletionRecord</var>。
                            </p>
                            <p class="note" role="note"><span>注意：</span> 这里，<var>resultCompletionRecord</var> 如果是 <a
                                    data-link-type="dfn" href="#abrupt-completion"
                                    id="ref-for-abrupt-completion①">异常完成</a>，就直接返回。换言之，AbstractOp 里抛出的错误会被直接转发，后续步骤会被中止。
                            </p>
                        <li data-md>
                            <p>令 <var>result</var> 为 <var>resultCompletionRecord</var>.[[Value]]。</p>
                            <p class="note" role="note"><span>注意：</span> 确认拿到 <a data-link-type="dfn"
                                    href="#normal-completion" id="ref-for-normal-completion①">正常完成</a>后，可以把 <a
                                    data-link-type="dfn" href="#completion-record"
                                    id="ref-for-completion-record⑤">完成记录</a>解包，得到我们需要的计算结果。</p>
                        <li data-md>
                            <p><var>result</var> 就是我们需要的结果，可以继续操作。</p>
                    </ol>
                </div>
                <p>这可能让你想到 C 语言里的手动错误处理：</p>
                <pre class="language-c highlight"><c- b>int</c-> <c- n>result</c-> <c- o>=</c-> <c- n>abstractOp</c-><c- p>();</c->              <c- c1>// 步骤1</c->
<c- k>if</c-> <c- p>(</c-><c- n>result</c-> <c- o>&lt;</c-> <c- mi>0</c-><c- p>)</c->                         <c- c1>// 步骤2</c->
  <c- k>return</c-> <c- n>result</c-><c- p>;</c->                        <c- c1>// 步骤2（续）</c->
                                        <c- c1>// 步骤3不需要</c->
<c- c1>// func() 成功，可以继续...     // 步骤4</c->
</pre>
            </div>
            <p>但为了减少这些模板化的步骤，ECMAScript 规范编辑者引入了一些简写。从 ES2016 起，可以用如下两种等价方式写同样的规范：</p>
            <div class="example" id="example-9134e1c3">
                <a class="self-link" href="#example-9134e1c3"></a>
                <div class="algorithm"
                    data-algorithm="to call an abstract operation that may throw with ReturnIfAbrupt">
                    <p>调用可能抛错的抽象操作的几个步骤，<strong><em>使用 <a data-link-type="abstract-op"
                                    href="#abstract-opdef-returnifabrupt"
                                    id="ref-for-abstract-opdef-returnifabrupt">ReturnIfAbrupt</a></em></strong>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为 AbstractOp()。</p>
                            <p class="note" role="note"><span>注意：</span> 这里和上一个例子的第一步一样，<var>result</var> 是一个 <a
                                    data-link-type="dfn" href="#completion-record"
                                    id="ref-for-completion-record⑥">完成记录</a>。</p>
                        <li data-md>
                            <p><a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-returnifabrupt"
                                    id="ref-for-sec-returnifabrupt">ReturnIfAbrupt</a>(<var>result</var>)。</p>
                            <p class="note" role="note"><span>注意：</span> <a data-link-type="abstract-op"
                                    href="#abstract-opdef-returnifabrupt"
                                    id="ref-for-abstract-opdef-returnifabrupt①">ReturnIfAbrupt</a> 会处理所有可能的 <a
                                    data-link-type="dfn" href="#abrupt-completion"
                                    id="ref-for-abrupt-completion②">异常完成</a>，自动转发并解包 <var>result</var> 的 <a
                                    data-link-type="dfn" href="#completion-record-value"
                                    id="ref-for-completion-record-value">[[Value]]</a>。
                            </p>
                        <li data-md>
                            <p><var>result</var> 就是我们需要的结果，可以继续操作。</p>
                    </ol>
                </div>
            </div>
            <p>或者更简洁地，用一个特殊的 <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="?" data-noexport
                    id="question-mark">问号 (?)</dfn>记号：</p>
            <div class="example" id="example-77fd4b81">
                <a class="self-link" href="#example-77fd4b81"></a>
                <div class="algorithm"
                    data-algorithm="to call an abstract operation that may throw with a ReturnIfAbrupt shorthand">
                    <p>调用可能抛错的抽象操作的几个步骤，<strong><em>用 <a data-link-type="dfn" href="#question-mark"
                                    id="ref-for-question-mark">问号 (?)</a> 简写</em></strong>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为 ? AbstractOp()。</p>
                            <p class="note" role="note"><span>注意：</span> 用这种记号就不用管 <a data-link-type="dfn"
                                    href="#completion-record" id="ref-for-completion-record⑦">完成记录</a>。<a
                                    data-link-type="dfn" href="#question-mark" id="ref-for-question-mark①">?</a>
                                简写会帮我们全部处理好，<var>result</var> 立刻可用。</p>
                        <li data-md>
                            <p><var>result</var> 就是我们需要的结果，可以继续操作。</p>
                    </ol>
                </div>
            </div>
            <hr>
            <p>有时，如果我们确定某次 AbstractOp 调用绝不会返回异常完成，给规范读者传达更多意图，可以用 <dfn class="dfn-paneled" data-dfn-type="dfn"
                    data-lt="!" data-noexport id="exclamation-mark">感叹号 (!)</dfn>：</p>
            <div class="example" id="example-d11effc2">
                <a class="self-link" href="#example-d11effc2"></a>
                <div class="algorithm"
                    data-algorithm="to call an abstract operation that cannot ever throw with a ReturnIfAbrupt shorthand">
                    <p>调用绝不会抛错的抽象操作的几个步骤，<strong><em>用 <a data-link-type="dfn" href="#exclamation-mark"
                                    id="ref-for-exclamation-mark">感叹号 (!)</a> 简写</em></strong>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为 ! AbstractOp()。</p>
                            <p class="note" role="note"><span>注意：</span> <a data-link-type="dfn" href="#question-mark"
                                    id="ref-for-question-mark②">?</a> 会转发所有可能的错误，<a data-link-type="dfn"
                                    href="#exclamation-mark" id="ref-for-exclamation-mark①">!</a> 则断言这次调用绝不会有异常完成，否则规范就有
                                bug。和 <a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark③">?</a>
                                一样，这里也不用管 <a data-link-type="dfn" href="#completion-record"
                                    id="ref-for-completion-record⑧">完成记录</a>，<var>result</var> 立刻可用。</p>
                        <li data-md>
                            <p><var>result</var> 就是我们需要的结果，可以继续操作。</p>
                    </ol>
                </div>
            </div>
            <div class="advisement no-marker">
                <div class="marker">注意</div>
                <p>如果 <a data-link-type="dfn" href="#exclamation-mark" id="ref-for-exclamation-mark②">!</a> 看起来像有效的
                    JavaScript 表达式，可能会让人困惑：</p>
                <blockquote>
                    <ol>
                        <li data-md>
                            <p>令 <var>b</var> 为 ! <a data-link-type="abstract-op"
                                    href="https://tc39.es/ecma262/#sec-toboolean"
                                    id="ref-for-sec-toboolean①">ToBoolean</a>(<var>value</var>)。</p>
                    </ol>
                    <p><cite>——摘自 <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-boolean-constructor-boolean-value" id="ref-for-sec-boolean-constructor-boolean-value①">Boolean()</a></code>。</cite>
                    </p>
                </blockquote>
                <p>这里，<a data-link-type="dfn" href="#exclamation-mark" id="ref-for-exclamation-mark③">!</a> 只是表示我们确定这次
                    <a data-link-type="abstract-op" href="#abstract-opdef-toboolean"
                        id="ref-for-abstract-opdef-toboolean">ToBoolean</a> 调用绝不会抛异常，<em>不是</em>结果取反！
                </p>
            </div>
            <p class="note" role="note">延伸阅读：<a data-link-type="dfn"
                    href="https://tc39.es/ecma262/#sec-returnifabrupt-shorthands"
                    id="ref-for-sec-returnifabrupt-shorthands">§5.2.3.4 ReturnIfAbrupt 简写</a>。</p>
            <h3 class="heading settled" data-level="2.5" id="javascript-objects"><span class="secno">2.5. </span><span
                    class="content">JavaScript 对象</span><a class="self-link" href="#javascript-objects"></a></h3>
            <p>在 ECMAScript 中，每个对象都有一组 <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="internal method"
                    data-noexport id="internal-method">内部方法</dfn>，规范其它部分会调用这些方法完成某些任务。所有对象都有的一些 <a data-link-type="dfn"
                    href="#internal-method" id="ref-for-internal-method④">内部方法</a>包括：</p>
            <ul>
                <li data-md>
                    <p>[[Get]]，获取对象上的属性（如 <code class="highlight">obj<c- p>.</c->prop</code>）</p>
                <li data-md>
                    <p>[[Set]]，设置对象上的属性（如 <code
                            class="highlight">obj<c- p>.</c->prop <c- o>=</c-> <c- mi>42</c-><c- p>;</c-></code>）</p>
                <li data-md>
                    <p>[[GetPrototypeOf]]，获取对象的原型（即 <code
                            class="highlight">Object<c- p>.</c->getPrototypeOf<c- p>(</c->obj<c- p>)</c-></code>）</p>
                <li data-md>
                    <p>[[GetOwnProperty]]，获取对象自身属性的属性描述符（即
                        <code
                            class="highlight">Object<c- p>.</c->getOwnPropertyDescriptor<c- p>(</c->obj<c- p>,</c-> <c- u>"prop"</c-><c- p>)</c-></code>）
                    </p>
                <li data-md>
                    <p>[[Delete]]，删除对象上的属性（如 <code class="highlight"><c- k>delete</c-> obj<c- p>.</c->prop</code>）</p>
            </ul>
            <p>（完整列表见 <a data-link-type="dfn"
                    href="https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots"
                    id="ref-for-sec-object-internal-methods-and-internal-slots">§6.1.7.2 对象内部方法与内部槽</a>）。</p>
            <p>基于这个定义，<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="function object" data-noexport
                    id="function-object">函数对象</dfn>（或称“函数”）就是额外拥有 [[Call]] 内部方法、可能还有 [[Construct]] 内部方法的对象，因此也叫 <dfn
                    class="dfn-paneled" data-dfn-type="dfn" data-lt="callable object" data-noexport
                    id="callable-object">可调用对象</dfn>。</p>
            <p>规范随后将所有对象分为两类：<a data-link-type="dfn" href="#ordinary-object" id="ref-for-ordinary-object">普通对象</a>和 <a
                    data-link-type="dfn" href="#exotic-object" id="ref-for-exotic-object">特殊对象</a>。大部分遇到的对象是 <dfn
                    class="dfn-paneled" data-dfn-type="dfn" data-lt="ordinary object" data-noexport
                    id="ordinary-object">普通对象</dfn>，即它们的所有 <a data-link-type="dfn" href="#internal-method"
                    id="ref-for-internal-method⑤">内部方法</a>都是 <a data-link-type="dfn"
                    href="https://tc39.es/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots"
                    id="ref-for-sec-ordinary-object-internal-methods-and-internal-slots">§9.1 普通对象内部方法与内部槽</a>规定的默认实现。
            </p>
            <p>不过，ECMAScript 规范还定义了几种 <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="exotic object" data-noexport
                    id="exotic-object">特殊对象</dfn>，它们可以重写这些内部方法的默认实现。规范对特殊对象的行为有限制，但总体上重写后的内部方法可以做很多花活，并不违反规范。</p>
            <div class="example" id="example-52ba9601">
                <a class="self-link" href="#example-52ba9601"></a>
                <p><code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-array-objects" id="ref-for-sec-array-objects①">Array</a></code>
                    对象就是一种 <a data-link-type="dfn" href="#exotic-object" id="ref-for-exotic-object①">特殊对象</a>。比如 <code
                        class="idl highlight">length</code> 属性的一些特殊语义，普通对象的机制无法实现。</p>
                <p>比如，把 <code class="idl highlight">length</code> 属性赋值给一个
                    <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-array-objects" id="ref-for-sec-array-objects③">Array</a></code>
                    对象会移除其属性，但 <code class="idl highlight">length</code> 又只是一个普通的数据属性。相比之下，<code
                        class="highlight"><c- k>new</c-> Map<c- p>().</c->size</code> 只是 <code
                        class="highlight">Map<c- p>.</c->prototype</code> 上定义的 getter，并没有 <code
                        class="highlight"><c- p>[].</c->length</code> 的魔法。
                </p>
                <pre class="highlight"><c- o>></c-> <c- kr>const</c-> arr <c- o>=</c-> <c- p>[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>3</c-><c- p>];</c->
<c- o>></c-> console<c- p>.</c->log<c- p>(</c->arr<c- p>);</c->
<c- p>[</c-> <c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>3</c-> <c- p>]</c->
<c- o>></c-> arr<c- p>.</c->length <c- o>=</c-> <c- mi>1</c-><c- p>;</c->
<c- o>></c-> console<c- p>.</c->log<c- p>(</c->arr<c- p>);</c->
<c- p>[</c-> <c- mi>0</c-> <c- p>]</c->
<c- o>></c-> console<c- p>.</c->log<c- p>(</c->Object<c- p>.</c->getOwnPropertyDescriptor<c- p>([],</c-> <c- u>"length"</c-><c- p>));</c->
<c- p>{</c-> value<c- o>:</c-> <c- mi>1</c-><c- p>,</c->
  writable<c- o>:</c-> <c- kc>true</c-><c- p>,</c->
  enumerable<c- o>:</c-> <c- kc>false</c-><c- p>,</c->
  configurable<c- o>:</c-> <c- kc>false</c-> <c- p>}</c->
</pre>
                <pre class="highlight"><c- o>></c-> console<c- p>.</c->log<c- p>(</c->Object<c- p>.</c->getOwnPropertyDescriptor<c- p>(</c-><c- k>new</c-> Map<c- p>(),</c-> <c- u>"size"</c-><c- p>));</c->
<c- kc>undefined</c->
<c- o>></c-> console<c- p>.</c->log<c- p>(</c->Object<c- p>.</c->getOwnPropertyDescriptor<c- p>(</c->Map<c- p>.</c->prototype<c- p>,</c-> <c- u>"size"</c-><c- p>));</c->
<c- p>{</c-> get<c- o>:</c-> <c- p>[</c->Function<c- o>:</c-> get size<c- p>],</c->
  set<c- o>:</c-> <c- kc>undefined</c-><c- p>,</c->
  enumerable<c- o>:</c-> <c- kc>false</c-><c- p>,</c->
  configurable<c- o>:</c-> <c- kc>true</c-> <c- p>}</c->
</pre>
                <p>这种行为是通过重写 [[DefineOwnProperty]] 内部方法实现的。详细见 <a data-link-type="dfn"
                        href="https://tc39.es/ecma262/#sec-array-exotic-objects"
                        id="ref-for-sec-array-exotic-objects">§9.4.2 数组特殊对象</a>。</p>
            </div>
            <p>ECMAScript 规范也允许其他规范定义自己的特殊对象。浏览器对<a
                    href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#Cross-origin_script_API_access">跨域
                    API 访问</a>的限制就是通过这种机制指定的（见 <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/window-object.html#windowproxy" id="ref-for-windowproxy">WindowProxy</a></code>）
                <a data-link-type="biblio" href="#biblio-html">[HTML]</a>。JavaScript 编程者也可以通过 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-proxy-objects" id="ref-for-sec-proxy-objects①">Proxy</a></code>
                API 创建自己的特殊对象。
            </p>
            <hr>
            <p>JavaScript 对象还可以定义 <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="internal slot" data-noexport
                    id="internal-slot">内部槽</dfn>，用于保存某种值。我倾向于把 <a data-link-type="dfn" href="#internal-slot"
                    id="ref-for-internal-slot⑧">内部槽</a>看作连 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-object.getownpropertysymbols" id="ref-for-sec-object.getownpropertysymbols">Object.getOwnPropertySymbols()</a></code>
                都拿不到的 Symbol 命名属性。<a data-link-type="dfn" href="#ordinary-object"
                    id="ref-for-ordinary-object②">普通对象</a>和 <a data-link-type="dfn" href="#exotic-object"
                    id="ref-for-exotic-object②">特殊对象</a>都允许有 <a data-link-type="dfn" href="#internal-slot"
                    id="ref-for-internal-slot⑨">内部槽</a>。</p>
            <div class="note" role="note">
                <p>在 <a href="#double-brackets-internal-slot-of-javascript-object">§ 2.3.2 JavaScript
                        对象的内部槽</a>里，我提到大多数对象都有一个叫 [[Prototype]] 的 <a data-link-type="dfn" href="#internal-slot"
                        id="ref-for-internal-slot①⓪">内部槽</a>。（实际上所有 <a data-link-type="dfn" href="#ordinary-object"
                        id="ref-for-ordinary-object③">普通对象</a>，甚至一些 <a data-link-type="dfn" href="#exotic-object"
                        id="ref-for-exotic-object③">特殊对象</a>如 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-array-objects" id="ref-for-sec-array-objects④">Array</a></code>
                    对象都有。）但我们也知道有一个叫 [[GetPrototypeOf]] 的 <a data-link-type="dfn" href="#internal-method"
                        id="ref-for-internal-method⑥">内部方法</a>，上面简要介绍过。那么它们有什么区别？</p>
                <p>关键在于 <em>大多数</em>：虽然<em>大多数</em>对象都有 [[Prototype]] 内部槽，但<em>所有</em>对象都实现 [[GetPrototypeOf]]
                    内部方法。需要注意的是，<code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-proxy-objects" id="ref-for-sec-proxy-objects②">Proxy</a></code>
                    对象没有自己的 [[Prototype]]，其 <a data-link-type="abstract-op"
                        href="https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-getprototypeof"
                        id="ref-for-sec-proxy-object-internal-methods-and-internal-slots-getprototypeof">[[GetPrototypeOf]]</a>
                    内部方法会转发到注册的 handler 或目标对象的原型，该原型存储在 <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-proxy-objects" id="ref-for-sec-proxy-objects③">Proxy</a></code>
                    对象的 [[ProxyTarget]] 内部槽里。
                </p>
                <p>因此，处理对象时，几乎总是应该查阅对应的 <a data-link-type="dfn" href="#internal-method"
                        id="ref-for-internal-method⑦">内部方法</a>，而不是直接看 <a data-link-type="dfn" href="#internal-slot"
                        id="ref-for-internal-slot①①">内部槽</a>的值。</p>
            </div>
            <hr>
            <p>另一个理解对象、<a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method⑧">内部方法</a>和 <a
                    data-link-type="dfn" href="#internal-slot"
                    id="ref-for-internal-slot①②">内部槽</a>之间关系的方法，是用经典面向对象的视角。“对象”就像一个接口，规定了必须实现哪些 <a data-link-type="dfn"
                    href="#internal-method" id="ref-for-internal-method⑨">内部方法</a>。<a data-link-type="dfn"
                    href="#ordinary-object" id="ref-for-ordinary-object④">普通对象</a>提供默认实现，<a data-link-type="dfn"
                    href="#exotic-object" id="ref-for-exotic-object④">特殊对象</a>可能部分或全部重写。另一方面，<a data-link-type="dfn"
                    href="#internal-slot" id="ref-for-internal-slot①③">内部槽</a>就像对象的实例变量，是对象的实现细节。</p>
            <p>这些关系都可以用下图 UML 表示（点击放大）：</p>
            <p><a href="https://timothygu.me/es-howto/object-uml.svg"><img
                        alt="Boxes denoting concepts and connections between them denoting hierarchy"
                        src="https://timothygu.me/es-howto/object-uml.svg" style="max-width: 100%"></a></p>
            <h3 class="heading settled" data-level="2.6" id="example-string-prototype-substring"><span
                    class="secno">2.6. </span><span class="content">示例：<code
                        class="idl highlight">String<c- p>.</c->prototype<c- p>.</c->substring<c- p>()</c-></code></span><a
                    class="self-link" href="#example-string-prototype-substring"></a></h3>
            <p>现在我们已经对规范的结构和写法有了很好的理解，让我们来练习一下！</p>
            <p>假设我现在有如下问题：</p>
            <blockquote>
                <p>不运行代码，下面的代码片段会返回什么？</p>
                <pre class="language-js highlight">String<c- p>.</c->prototype<c- p>.</c->substring<c- p>.</c->call<c- p>(</c-><c- kc>undefined</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>4</c-><c- p>)</c->
</pre>
            </blockquote>
            <p>这是个很刁钻的问题。看起来有两种合理的结果：</p>
            <ol>
                <li data-md>
                    <p><code class="idl highlight">String<c- p>.</c->prototype<c- p>.</c->substring<c- p>()</c-></code>
                        可能会先把 <strong>undefined</strong> 转为字符串 <code
                            class="highlight"><c- u>"undefined"</c-></code>，然后取第2和第3个字符（即区间 [2, 4)），<strong>结果为 <code
                                class="highlight"><c- u>"de"</c-></code></strong></p>
                <li data-md>
                    <p>另一方面，<code
                            class="idl highlight">String<c- p>.</c->prototype<c- p>.</c->substring<c- p>()</c-></code>
                        也有可能<strong>直接抛出错误</strong>，拒绝 <strong>undefined</strong> 作为输入。
                    </p>
            </ol>
            <p>不幸的是，<a class="idl-code" data-link-type="method"
                    href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/substring#">MDN</a>
                也没有说明当 <strong>this</strong> 不是字符串时函数会有什么表现。</p>
            <p><em>规范来拯救！</em> 在规范页面左上角搜索框输入 <code class="highlight">substring</code>，我们就会到达 <a data-link-type="dfn"
                    href="https://tc39.es/ecma262/#sec-string.prototype.substring"
                    id="ref-for-sec-string.prototype.substring">§21.1.3.22 String.prototype.substring (
                    <var>start</var>, <var>end</var> )</a>，这是该函数的权威定义。</p>
            <p>在读算法步骤前，先想想我们已知什么。假定我们知道 <code class="highlight">str<c- p>.</c->substring<c- p>()</c-></code>
                一般是返回字符串的一部分。现在不确定的是 <strong>this</strong> 为 <strong>undefined</strong> 时会怎样。所以我们要重点关注涉及
                <strong>this</strong> 的算法步骤。
            </p>
            <p>幸运的是，<code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-string.prototype.substring" id="ref-for-sec-string.prototype.substring①">String.prototype.substring()</a></code>
                的算法第一步就是处理 <strong>this</strong>：</p>
            <blockquote>
                <ol>
                    <li data-md>
                        <p>令 <em>O</em> 为 ? <a data-link-type="abstract-op"
                                href="https://tc39.es/ecma262/#sec-requireobjectcoercible"
                                id="ref-for-sec-requireobjectcoercible">RequireObjectCoercible</a>(<strong>this</strong>
                            value)。</p>
                </ol>
            </blockquote>
            <p><a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark④">?</a> 简写说明 <a
                    data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-requireobjectcoercible"
                    id="ref-for-sec-requireobjectcoercible①">RequireObjectCoercible</a> <a data-link-type="dfn"
                    href="#abstract-operation" id="ref-for-abstract-operation④">抽象操作</a>有可能抛异常，否则应该用 <a
                    data-link-type="dfn" href="#exclamation-mark"
                    id="ref-for-exclamation-mark④">!</a>。实际上如果抛错就和我们的第二种猜测吻合！我们跟进 <a data-link-type="abstract-op"
                    href="https://tc39.es/ecma262/#sec-requireobjectcoercible"
                    id="ref-for-sec-requireobjectcoercible②">RequireObjectCoercible</a> 的链接看看。</p>
            <p><a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-requireobjectcoercible"
                    id="ref-for-sec-requireobjectcoercible③">RequireObjectCoercible</a> <a data-link-type="dfn"
                    href="#abstract-operation" id="ref-for-abstract-operation⑤">抽象操作</a>有点特殊，不像大多数 <a
                    data-link-type="dfn" href="#abstract-operation" id="ref-for-abstract-operation⑥">抽象操作</a>用步骤定义，而是用表：
            </p>
            <blockquote>
                <table class="data">
                    <tbody>
                        <tr>
                            <th>参数类型
                            <th>结果
                        <tr>
                            <td>Undefined
                            <td>抛出 <strong>TypeError</strong> 异常。
                        <tr>
                            <td>...
                            <td>...
                </table>
            </blockquote>
            <p>没关系——在 Undefined（我们传递的 <strong>this</strong> 类型）那一行，规范明确说 <a data-link-type="abstract-op"
                    href="https://tc39.es/ecma262/#sec-requireobjectcoercible"
                    id="ref-for-sec-requireobjectcoercible④">RequireObjectCoercible</a> 应该抛出异常。而且因为函数定义用的是 <a
                    data-link-type="dfn" href="#question-mark" id="ref-for-question-mark⑤">?</a>，我们知道异常会冒泡到函数调用者。搞定！</p>
            <p>所以答案是：<strong>给定代码片段会抛出 TypeError 异常。</strong></p>
            <div class="note" role="note">
                <p>规范只规定了抛出的错误类型，没有规定错误消息。也就是说不同实现的错误消息可能不同，甚至可能是本地化的。</p>
                <p>比如 Google 的 V8 6.4（Chrome 64）消息是：</p>
                <pre class="highlight">TypeError: String.prototype.substring called on null or undefined
</pre>
                <p>而 Mozilla Firefox 57.0 的消息则更简单：</p>
                <pre class="highlight">TypeError: can’t convert undefined to object
</pre>
                <p>同时，ChakraCore 1.7.5.0（Microsoft Edge 的 JS 引擎）采用了 V8 风格：</p>
                <pre class="highlight">TypeError: String.prototype.substring: 'this' is null or undefined
</pre>
            </div>
            <h3 class="heading settled" data-level="2.7" id="example-can-boolean-and-string-ever-throw-exceptions"><span
                    class="secno">2.7. </span><span class="content">示例：<code
                        class="idl highlight">Boolean<c- p>()</c-></code> 和 <code
                        class="idl highlight">String<c- p>()</c-></code> 会抛异常吗？</span><a class="self-link"
                    href="#example-can-boolean-and-string-ever-throw-exceptions"></a></h3>
            <p>写关键代码时，异常处理很重要。所以“某个内建函数到底会不会抛异常？”这个问题常常被考虑。</p>
            <p>本例我们尝试回答 <code class="idl highlight">Boolean<c- p>()</c-></code> 和 <code
                    class="idl highlight">String<c- p>()</c-></code> 这两个内建函数是否会抛异常。这里只看直接调用这两个函数，不考虑 <code
                    class="highlight"><c- k>new</c-> Boolean<c- p>()</c-></code> 和 <code
                    class="highlight"><c- k>new</c-> String<c- p>()</c-></code>（会返回装箱对象——几乎是<a
                    href="https://github.com/getify/You-Dont-Know-JS/blob/master/types%20%26%20grammar/ch3.md#object-wrapper-gotchas">JS
                    最不推荐的特性之一</a>，几乎所有风格指南都不建议用<a data-link-type="biblio" href="#biblio-ydkjs">[YDKJS]</a>）。</p>
            <p>查到规范里 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-boolean-constructor-boolean-value" id="ref-for-sec-boolean-constructor-boolean-value②">Boolean()</a></code>
                的章节，发现算法步骤非常简洁：</p>
            <div class="algorithm" data-algorithm="to execute Boolean()">
                <p>当用参数 <var>value</var> 调用 <code class="idl highlight">Boolean</code> 时，执行以下步骤：</p>
                <ol>
                    <li data-md>
                        <p>令 <var>b</var> 为 ! <a data-link-type="abstract-op"
                                href="https://tc39.es/ecma262/#sec-toboolean"
                                id="ref-for-sec-toboolean②">ToBoolean</a>(<var>value</var>)。</p>
                    <li data-md>
                        <p>如果 NewTarget 是 <strong>undefined</strong>，返回 <var>b</var>。</p>
                    <li data-md>
                        <p>令 <var>O</var> 为 ? <a data-link-type="abstract-op"
                                href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor"
                                id="ref-for-sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a>(NewTarget,
                            <strong>"%BooleanPrototype%"</strong>, « [[BooleanData]] »)。
                        </p>
                    <li data-md>
                        <p>设置 <var>O</var>.[[BooleanData]] 为 <var>b</var>。</p>
                    <li data-md>
                        <p>返回 <var>O</var>。</p>
                </ol>
            </div>
            <p>但其实没那么简单，第三步涉及 <a data-link-type="abstract-op"
                    href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor"
                    id="ref-for-sec-ordinarycreatefromconstructor①">OrdinaryCreateFromConstructor</a>，还有 <a
                    data-link-type="dfn" href="#question-mark" id="ref-for-question-mark⑥">?</a> 简写，说明有可能抛异常。我们仔细看看。</p>
            <p>第1步把 <var>value</var>（函数参数）转成布尔值。注意没有 <a data-link-type="dfn" href="#question-mark"
                    id="ref-for-question-mark⑦">?</a> 或 <a data-link-type="dfn" href="#exclamation-mark"
                    id="ref-for-exclamation-mark⑤">!</a> 简写，通常没有 Completion Record 简写就等价于 <a data-link-type="dfn"
                    href="#exclamation-mark" id="ref-for-exclamation-mark⑥">!</a>。所以第1步不会抛异常。</p>
            <p>第2步判断 <a data-link-type="abstract-op" href="#abstract-opdef-newtarget"
                    id="ref-for-abstract-opdef-newtarget">NewTarget</a> 是否 <strong>undefined</strong>。<dfn
                    class="dfn-paneled" data-dfn-type="abstract-op" data-export
                    id="abstract-opdef-newtarget">NewTarget</dfn> 是规范里 <code
                    class="idl"><a data-link-type="idl" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new.target#">new.target</a></code>
                元属性的等价物，可以让规范区分 <code class="highlight"><c- k>new</c-> Boolean<c- p>()</c-></code>（值为 <code
                    class="highlight">Boolean</code>）和 <code class="highlight">Boolean<c- p>()</c-></code>（值为
                <strong>undefined</strong>）。我们这里只看直接调用 <code class="highlight">Boolean<c- p>()</c-></code>，所以 <a
                    data-link-type="abstract-op" href="#abstract-opdef-newtarget"
                    id="ref-for-abstract-opdef-newtarget①">NewTarget</a> 一定是 <strong>undefined</strong>，算法会直接返回
                <var>b</var>，不会继续后面的处理。
            </p>
            <p>所以直接调用 <code class="highlight">Boolean<c- p>()</c-></code> 只会走到前两步，而这两步都不会抛异常，因此 <strong><code
                        class="idl highlight">Boolean<c- p>()</c-></code> 无论输入是什么都不会抛异常</strong>。</p>
            <hr>
            <p>再来看 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-string-constructor-string-value" id="ref-for-sec-string-constructor-string-value">String()</a></code>：
            </p>
            <div class="algorithm" data-algorithm="to execute String()">
                <p>当用参数 <var>value</var> 调用 <code class="idl highlight">String</code> 时，执行以下步骤：</p>
                <ol>
                    <li data-md>
                        <p>如果没有传参数，令 <var>s</var> 为 <code class="highlight"><c- u>""</c-></code>。</p>
                    <li data-md>
                        <p>否则，</p>
                        <ol>
                            <li data-md>
                                <p>如果 NewTarget 是 <strong>undefined</strong> 且 <a data-link-type="abstract-op"
                                        href="https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values"
                                        id="ref-for-sec-ecmascript-data-types-and-values">Type</a>(<var>value</var>) 是
                                    Symbol，返回 <a data-link-type="abstract-op"
                                        href="https://tc39.es/ecma262/#sec-symboldescriptivestring"
                                        id="ref-for-sec-symboldescriptivestring">SymbolDescriptiveString</a>(<var>value</var>)。
                                </p>
                            <li data-md>
                                <p>令 <var>s</var> 为 ? <a data-link-type="abstract-op"
                                        href="https://tc39.es/ecma262/#sec-tostring"
                                        id="ref-for-sec-tostring">ToString</a>(<var>value</var>)。</p>
                        </ol>
                    <li data-md>
                        <p>如果 NewTarget 是 <strong>undefined</strong>，返回 <var>s</var>。</p>
                    <li data-md>
                        <p>返回 ? <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-stringcreate"
                                id="ref-for-sec-stringcreate">StringCreate</a>(<var>s</var>, ? <a
                                data-link-type="abstract-op"
                                href="https://tc39.es/ecma262/#sec-getprototypefromconstructor"
                                id="ref-for-sec-getprototypefromconstructor">GetPrototypeFromConstructor</a>(NewTarget,
                            <code class="highlight"><c- u>"%StringPrototype%"</c-></code>))。
                        </p>
                </ol>
            </div>
            <p>参照分析 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-boolean-constructor-boolean-value" id="ref-for-sec-boolean-constructor-boolean-value③">Boolean()</a></code>
                的经验，我们知道 <a data-link-type="abstract-op" href="#abstract-opdef-newtarget"
                    id="ref-for-abstract-opdef-newtarget②">NewTarget</a> 对于我们的情况总是
                <strong>undefined</strong>，所以最后一步不用管。<a data-link-type="abstract-op" href="#abstract-opdef-type"
                    id="ref-for-abstract-opdef-type">Type</a> 和 <a data-link-type="abstract-op"
                    href="https://tc39.es/ecma262/#sec-symboldescriptivestring"
                    id="ref-for-sec-symboldescriptivestring①">SymbolDescriptiveString</a> 也安全，因为都不会有异常完成。关键是对 <a
                    data-link-type="dfn" href="#question-mark" id="ref-for-question-mark⑧">?</a> 前缀的 <a
                    data-link-type="abstract-op" href="#abstract-opdef-tostring"
                    id="ref-for-abstract-opdef-tostring">ToString</a> <a data-link-type="dfn" href="#abstract-operation"
                    id="ref-for-abstract-operation⑦">抽象操作</a>。我们仔细看。
            </p>
            <p>和前面讲过的 <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-requireobjectcoercible"
                    id="ref-for-sec-requireobjectcoercible⑤">RequireObjectCoercible</a> 类似，<a
                    data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-tostring"
                    id="ref-for-sec-tostring①">ToString</a>(<var>argument</var>) 也是用表定义：</p>
            <blockquote>
                <table class="data">
                    <tbody>
                        <tr>
                            <th>参数类型
                            <th>结果
                        <tr>
                            <td>Undefined
                            <td>返回 <code class="highlight"><c- u>"undefined"</c-></code>。
                        <tr>
                            <td>Null
                            <td>返回 <code class="highlight"><c- u>"null"</c-></code>。
                        <tr>
                            <td>Boolean
                            <td>
                                如果 <var>argument</var> 是 <strong>true</strong>，返回 <code
                                    class="highlight"><c- u>"true"</c-></code>。
                                <p>如果 <var>argument</var> 是 <strong>false</strong>，返回 <code
                                        class="highlight"><c- u>"false"</c-></code>。</p>
                        <tr>
                            <td>Number
                            <td>返回 <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-numbertostring"
                                    id="ref-for-sec-numbertostring">NumberToString</a>(<var>argument</var>)。
                        <tr>
                            <td>String
                            <td>返回 <var>argument</var>。
                        <tr>
                            <td>Symbol
                            <td>抛出 <strong>TypeError</strong> 异常。
                        <tr>
                            <td>Object
                            <td>
                                <p>按以下步骤操作：</p>
                                <ol>
                                    <li data-md>
                                        <p>令 <var>primValue</var> 为 ? <a data-link-type="abstract-op"
                                                href="https://tc39.es/ecma262/#sec-toprimitive"
                                                id="ref-for-sec-toprimitive">ToPrimitive</a>(<var>argument</var>, hint
                                            String)。</p>
                                    <li data-md>
                                        <p>返回 ? <a data-link-type="abstract-op"
                                                href="https://tc39.es/ecma262/#sec-tostring"
                                                id="ref-for-sec-tostring②">ToString</a>(<var>primValue</var>)。</p>
                                </ol>
                </table>
            </blockquote>
            <p>在 <a data-link-type="abstract-op" href="#abstract-opdef-tostring"
                    id="ref-for-abstract-opdef-tostring①">ToString</a> 被 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-string-constructor-string-value" id="ref-for-sec-string-constructor-string-value①">String()</a></code>
                调用时，
                <var>value</var> 可以是 Symbol 之外的任何值（因为前一步已经过滤掉 Symbol）。但是 Object 那一行还是有两个 <a data-link-type="dfn"
                    href="#question-mark" id="ref-for-question-mark⑨">?</a>。我们可以继续跟进 <a data-link-type="abstract-op"
                    href="https://tc39.es/ecma262/#sec-toprimitive" id="ref-for-sec-toprimitive①">ToPrimitive</a>
                等链接，会发现如果 <var>value</var> 是 Object，规范允许很多抛错的场景：
            </p>
            <div class="example" id="example-14ebaf83">
                <a class="self-link" href="#example-14ebaf83"></a>
                <details>
                    <summary>一些 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-string-constructor-string-value" id="ref-for-sec-string-constructor-string-value②">String()</a></code>
                        抛异常的例子</summary>
                    <pre class="highlight"><c- c1>// 规范调用栈：</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-ordinaryget" id="ref-for-sec-ordinaryget"><c- c1>OrdinaryGet</c-></a><c- c1> 第8步。</c->
<c- c1>//   </c-><a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver" id="ref-for-sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver"><c- c1>普通对象 [[Get]]()</c-></a><c- c1> 第1步。</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="#abstract-opdef-getv" id="ref-for-abstract-opdef-getv"><c- c1>GetV</c-></a><c- c1> 第3步。</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-getmethod" id="ref-for-sec-getmethod"><c- c1>GetMethod</c-></a><c- c1> 第2步。</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="#abstract-opdef-toprimitive" id="ref-for-abstract-opdef-toprimitive"><c- c1>ToPrimitive</c-></a><c- c1> 第2.d。</c->

String<c- p>({</c->
  get <c- p>[</c->Symbol<c- p>.</c->toPrimitive<c- p>]()</c-> <c- p>{</c->
    <c- k>throw</c-> <c- k>new</c-> Error<c- p>(</c-><c- u>"Breaking JavaScript"</c-><c- p>);</c->
  <c- p>}</c->
<c- p>});</c->
</pre>
                    <pre class="highlight"><c- c1>// 规范调用栈：</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-getmethod" id="ref-for-sec-getmethod①"><c- c1>GetMethod</c-></a><c- c1> 第4步。</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="#abstract-opdef-toprimitive" id="ref-for-abstract-opdef-toprimitive①"><c- c1>ToPrimitive</c-></a><c- c1> 第2.d步。</c->

String<c- p>({</c->
  get <c- p>[</c->Symbol<c- p>.</c->toPrimitive<c- p>]()</c-> <c- p>{</c->
    <c- k>return</c-> <c- u>"Breaking JavaScript"</c-><c- p>;</c->
  <c- p>}</c->
<c- p>});</c->
</pre>
                    <pre class="highlight"><c- c1>// 规范调用栈：</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="#abstract-opdef-toprimitive" id="ref-for-abstract-opdef-toprimitive②"><c- c1>ToPrimitive</c-></a><c- c1> 第2.e.i步。</c->

String<c- p>({</c->
  <c- p>[</c->Symbol<c- p>.</c->toPrimitive<c- p>]()</c-> <c- p>{</c->
    <c- k>throw</c-> <c- k>new</c-> Error<c- p>(</c-><c- u>"Breaking JavaScript"</c-><c- p>);</c->
  <c- p>}</c->
<c- p>});</c->
</pre>
                    <pre class="highlight"><c- c1>// 规范调用栈：</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-ordinarytoprimitive" id="ref-for-sec-ordinarytoprimitive"><c- c1>OrdinaryToPrimitive</c-></a><c- c1> 第5.b.i步。</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="#abstract-opdef-toprimitive" id="ref-for-abstract-opdef-toprimitive④"><c- c1>ToPrimitive</c-></a><c- c1> 第2.g步。</c->

String<c- p>({</c->
  toString<c- p>()</c-> <c- p>{</c->
    <c- k>throw</c-> <c- k>new</c-> Error<c- p>(</c-><c- u>"Breaking JavaScript"</c-><c- p>);</c->
  <c- p>}</c->
<c- p>});</c->
</pre>
                    <pre class="highlight"><c- c1>// 规范调用栈：</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-ordinarytoprimitive" id="ref-for-sec-ordinarytoprimitive①"><c- c1>OrdinaryToPrimitive</c-></a><c- c1> 第5.b.i步。</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="#abstract-opdef-toprimitive" id="ref-for-abstract-opdef-toprimitive⑤"><c- c1>ToPrimitive</c-></a><c- c1> 第2.g步。</c->

String<c- p>({</c->
  valueOf<c- p>()</c-> <c- p>{</c->
    <c- k>throw</c-> <c- k>new</c-> Error<c- p>(</c-><c- u>"Breaking JavaScript"</c-><c- p>);</c->
  <c- p>}</c->
<c- p>});</c->
</pre>
                    <pre class="highlight"><c- c1>// 规范调用栈：</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-ordinarytoprimitive" id="ref-for-sec-ordinarytoprimitive②"><c- c1>OrdinaryToPrimitive</c-></a><c- c1> 第6步。</c->
<c- c1>//   </c-><a data-link-type="abstract-op" href="#abstract-opdef-toprimitive" id="ref-for-abstract-opdef-topprimitive⑥"><c- c1>ToPrimitive</c-></a><c- c1> 第2.g步。</c->

String<c- p>(</c->Object<c- p>.</c->create<c- p>(</c-><c- kc>null</c-><c- p>));</c->
</pre>
                </details>
            </div>
            <p>所以对于 <code
                    class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-string-constructor-string-value" id="ref-for-sec-string-constructor-string-value③">String()</a></code>，
                结论是 <strong>对于原始值永不抛异常，但对于对象 <em>有可能</em> 抛异常。</strong></p>
            <h3 class="heading settled" data-level="2.8" id="example-typeof-operator"><span class="secno">2.8.
                </span><span class="content">示例：<code class="highlight"><c- k>typeof</c-></code> 运算符</span><a
                    class="self-link" href="#example-typeof-operator"></a></h3>
            <p>前面我们只分析了 API 函数，这次试试别的内容。</p>
            <p class="issue" id="issue-c1ad3571"><a class="self-link" href="#issue-c1ad3571"></a> 待补充。<a
                    href="https://github.com/TimothyGu/es-howto/issues/2">&lt;https://github.com/TimothyGu/es-howto/issues/2></a>
            </p>
            <h2 class="no-num heading settled" id="glossary"><span class="content">术语表</span><a class="self-link"
                    href="#glossary"></a></h2>
            <h3 class="no-num heading settled" id="common-abstract-operations"><span class="content">常见抽象操作</span><a
                    class="self-link" href="#common-abstract-operations"></a></h3>
            <dl>
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-arraycreate">ArrayCreate<a
                            class="self-link" href="#abstract-opdef-arraycreate"></a></dfn> ( <var>length</var> [ ,
                    <var>proto</var> ] ) (<a data-link-type="abstract-op"
                        href="https://tc39.es/ecma262/#sec-arraycreate" id="ref-for-sec-arraycreate">规范</a>)
                <dd data-md>
                    <p>创建一个长度为 <var>length</var> 的数组对象，<var>proto</var> 作为其 [[Prototype]] <a data-link-type="dfn"
                            href="#internal-slot" id="ref-for-internal-slot①④">内部槽</a>的值。如果未指定 <var>proto</var>，则使用 <a
                            class="idl-code" data-link-type="interface"
                            href="https://tc39.es/ecma262/#sec-properties-of-the-array-prototype-object"
                            id="ref-for-sec-properties-of-the-array-prototype-object">%ArrayPrototype%</a>（当前环境 <a
                            data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm">current realm</a> 中的）。等价于 <code
                            class="highlight"><c- k>new</c-> Array<c- p>(</c-><var>length</var><c- p>)</c-></code>，前提是
                        <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-array-objects" id="ref-for-sec-array-objects⑤">Array</a></code>
                        构造函数及其所有属性未被篡改，并且未指定 <var>proto</var> 或 <a class="idl-code" data-link-type="interface"
                            href="https://tc39.es/ecma262/#sec-properties-of-the-array-prototype-object"
                            id="ref-for-sec-properties-of-the-array-prototype-object①">%ArrayPrototype%</a>（当前环境）。
                    </p>
                <dt data-md><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-call">Call</dfn> ( <var>F</var>, <var>V</var> [ , <var>argumentsList</var> ]
                    ) (<a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-call"
                        id="ref-for-sec-call①">规范</a>)
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-construct">Construct<a
                            class="self-link" href="#abstract-opdef-construct"></a></dfn> ( <var>F</var> [ ,
                    <var>argumentsList</var> [ , <var>newTarget</var> ] ] ) (<a data-link-type="abstract-op"
                        href="https://tc39.es/ecma262/#sec-construct" id="ref-for-sec-construct">规范</a>)
                <dt data-md><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-get">Get</dfn> ( <var>O</var>, <var>P</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-get-o-p"
                        id="ref-for-sec-get-o-p">规范</a>)
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-hasproperty">HasProperty<a
                            class="self-link" href="#abstract-opdef-hasproperty"></a></dfn> ( <var>O</var>, <var>P</var>
                    ) (<a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-hasproperty"
                        id="ref-for-sec-hasproperty">规范</a>)
                <dd data-md>
                    <p>调用 <var>F</var> 或 <var>O</var> 上对应的 <a data-link-type="dfn" href="#internal-method"
                            id="ref-for-internal-method①⓪">内部方法</a>，并把其余参数一并传递。等价于 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-reflect-object" id="ref-for-sec-reflect-object">Reflect</a></code>
                        对象上的对应方法。</p>
                <dt data-md><dfn data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-definepropertyorthrow">DefinePropertyOrThrow<a class="self-link"
                            href="#abstract-opdef-definepropertyorthrow"></a></dfn> ( <var>O</var>, <var>P</var>,
                    <var>desc</var> ) (<a data-link-type="abstract-op"
                        href="https://tc39.es/ecma262/#sec-definepropertyorthrow"
                        id="ref-for-sec-definepropertyorthrow">规范</a>)
                <dt data-md><dfn data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-deletepropertyorthrow">DeletePropertyOrThrow<a class="self-link"
                            href="#abstract-opdef-deletepropertyorthrow"></a></dfn> ( <var>O</var>, <var>P</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-deletepropertyorthrow"
                        id="ref-for-sec-deletepropertyorthrow">规范</a>)
                <dd data-md>
                    <p>在 <var>O</var> 上调用对应的 <a data-link-type="dfn" href="#internal-method"
                            id="ref-for-internal-method①①">内部方法</a>（分别为 [[DefineOwnProperty]] 和
                        [[Delete]]），并传递剩余参数。如果操作失败且 <a data-link-type="dfn" href="#internal-method"
                            id="ref-for-internal-method①②">内部方法</a>返回 <strong>false</strong>，则抛出异常。</p>
                <dt data-md><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-getv">GetV</dfn> ( <var>V</var>, <var>P</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-getv"
                        id="ref-for-sec-getv">规范</a>)
                <dd data-md>
                    <p>返回 <a data-link-type="abstract-op" href="#abstract-opdef-get"
                            id="ref-for-abstract-opdef-get">Get</a>(<var>V</var>, <var>P</var>)，必要时会先用 <a
                            data-link-type="abstract-op" href="#abstract-opdef-toobject"
                            id="ref-for-abstract-opdef-toobject">ToObject</a> 把 <var>V</var> 转换为对象。等价于 <code
                            class="highlight"><var>V</var><c- p>[</c-><var>P</var><c- p>]</c-></code>。</p>
                <dt data-md><dfn data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-hasownproperty">HasOwnProperty<a class="self-link"
                            href="#abstract-opdef-hasownproperty"></a></dfn> ( <var>O</var>, <var>P</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-hasownproperty"
                        id="ref-for-sec-hasownproperty">规范</a>)
                <dd data-md>
                    <p>返回 <var>O</var> 是否拥有名为 <var>P</var> 的自有属性，通过调用
                        <var>O</var>.[[GetOwnProperty]](<var>P</var>)。等价于 <code
                            class="highlight"><a class="idl-code" data-link-type="method" href="https://tc39.es/ecma262/#sec-object.prototype.hasownproperty" id="ref-for-sec-object.prototype.hasownproperty">Object<c- p>.</c->prototype<c- p>.</c->hasOwnProperty</a><c- p>.</c->call<c- p>(</c-><var>O</var><c- p>,</c-> <var>P</var><c- p>)</c-></code>。
                    </p>
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-invoke">Invoke<a
                            class="self-link" href="#abstract-opdef-invoke"></a></dfn> ( <var>V</var>, <var>P</var> [ ,
                    <var>argumentsList</var> ] ) (<a data-link-type="abstract-op"
                        href="https://tc39.es/ecma262/#sec-invoke" id="ref-for-sec-invoke">规范</a>)
                <dd data-md>
                    <p>在 <var>V</var> 上调用名为 <var>P</var> 的方法，并传递 <var>argumentsList</var>。等价于
                        <code
                            class="highlight"><var>V</var><c- p>[</c-><var>P</var><c- p>](...</c-><var>argumentsList</var><c- p>)</c-></code>。
                        <span class="note">与 <a data-link-type="abstract-op" href="#abstract-opdef-call"
                                id="ref-for-abstract-opdef-call">Call</a> 不同，这里的 <var>P</var> 是属性键。</span>
                    </p>
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-isarray">IsArray<a
                            class="self-link" href="#abstract-opdef-isarray"></a></dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-isarray"
                        id="ref-for-sec-isarray">规范</a>)
                <dd data-md>
                    <p>返回 <var>argument</var> 是否为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-array-objects" id="ref-for-sec-array-objects⑥">Array</a></code>
                        <a data-link-type="dfn" href="#exotic-object" id="ref-for-exotic-object⑤">特殊对象</a>，或者如果
                        <var>argument</var> 是 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-proxy-objects" id="ref-for-sec-proxy-objects④">Proxy</a></code>
                        <a data-link-type="dfn" href="#exotic-object" id="ref-for-exotic-object⑥">特殊对象</a>，则判断其最内层的
                        [[ProxyTarget]] <a data-link-type="dfn" href="#internal-slot"
                            id="ref-for-internal-slot①⑤">内部槽</a>是否为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-array-objects" id="ref-for-sec-array-objects⑦">Array</a></code>
                        <a data-link-type="dfn" href="#exotic-object" id="ref-for-exotic-object⑦">特殊对象</a>。等价于 <code
                            class="highlight"><a class="idl-code" data-link-type="method" href="https://tc39.es/ecma262/#sec-array.isarray" id="ref-for-sec-array.isarray">Array<c- p>.</c->isArray</a><c- p>(</c-><var>argument</var><c- p>)</c-></code>。
                    </p>
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-iscallable">IsCallable<a
                            class="self-link" href="#abstract-opdef-iscallable"></a></dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-iscallable"
                        id="ref-for-sec-iscallable">规范</a>)
                <dd data-md>
                    <p>返回 <var>argument</var> 是否为 <a data-link-type="dfn" href="#callable-object"
                            id="ref-for-callable-object">可调用对象</a>，也就是 <a data-link-type="dfn" href="#function-object"
                            id="ref-for-function-object">函数对象</a>。等价于 <code
                            class="highlight"><c- k>typeof</c-> <var>argument</var> <c- o>===</c-> <c- t>'function'</c-></code>
                        （但 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-all" id="ref-for-dom-document-all">document.all</a></code>
                        例外，它是一个有特殊行为的特殊对象；见 <a data-link-type="dfn"
                            href="https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot"
                            id="ref-for-sec-IsHTMLDDA-internal-slot">§B.3.7 [[IsHTMLDDA]] 内部槽</a>）。</p>
                <dt data-md><dfn data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-isconstructor">IsConstructor<a class="self-link"
                            href="#abstract-opdef-isconstructor"></a></dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-isconstructor"
                        id="ref-for-sec-isconstructor">规范</a>)
                <dd data-md>
                    <p>返回 <var>argument</var> 是否为带有 [[Construct]] <a data-link-type="dfn" href="#internal-method"
                            id="ref-for-internal-method①③">内部方法</a>的 <a data-link-type="dfn" href="#function-object"
                            id="ref-for-function-object①">函数对象</a>。</p>
                <dt data-md><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-returnifabrupt">ReturnIfAbrupt</dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-returnifabrupt"
                        id="ref-for-sec-returnifabrupt①">规范</a>)
                <dd data-md>
                    <p>检查 <var>argument</var> 是否为 <a data-link-type="dfn" href="#abrupt-completion"
                            id="ref-for-abrupt-completion③">异常完成</a>（比如抛出的异常），如果是则返回该 <a data-link-type="dfn"
                            href="#abrupt-completion" id="ref-for-abrupt-completion④">异常完成</a>（让异常继续冒泡）。否则如果
                        <var>argument</var> 是 <a data-link-type="dfn" href="#normal-completion"
                            id="ref-for-normal-completion②">正常完成</a>，则解包该 <a data-link-type="dfn"
                            href="#completion-record" id="ref-for-completion-record⑨">完成记录</a>，并把 <var>argument</var>
                        赋值为 <var>argument</var>.<a data-link-type="dfn" href="#completion-record-value"
                            id="ref-for-completion-record-value①">[[Value]]</a>。
                    </p>
                <dd data-md>
                    <p>参见：<a href="#completion-records-and-shorthands">§ 2.4 完成记录；? 和 !</a>。</p>
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-stringcreate">StringCreate<a
                            class="self-link" href="#abstract-opdef-stringcreate"></a></dfn> ( <var>value</var>,
                    <var>prototype</var> ) (<a data-link-type="abstract-op"
                        href="https://tc39.es/ecma262/#sec-stringcreate" id="ref-for-sec-stringcreate①">规范</a>)
                <dd data-md>
                    <p>返回一个对应于字符串 <var>value</var> 的包装 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-string-constructor-string-value" id="ref-for-sec-string-constructor-string-value④">String</a></code>
                        对象，其 [[Prototype]] 内部槽为 <var>prototype</var>。等价于 <code
                            class="highlight"><c- k>new</c-> <a class="idl-code" data-link-type="method" href="https://tc39.es/ecma262/#sec-string-constructor-string-value" id="ref-for-sec-string-constructor-string-value⑤">String</a><c- p>(</c->value<c- p>)</c-></code>，前提是
                        <var>prototype</var> 是 <a class="idl-code" data-link-type="interface"
                            href="https://tc39.es/ecma262/#sec-properties-of-the-string-prototype-object"
                            id="ref-for-sec-properties-of-the-string-prototype-object">%StringPrototype%</a>（当前环境 <a
                            data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm"
                            id="ref-for-current-realm②">current realm</a>）。
                    </p>
                <dt data-md><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-toboolean">ToBoolean</dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-toboolean"
                        id="ref-for-sec-toboolean③">规范</a>)
                <dd data-md>
                    <p>返回 <var>argument</var> 强制转换为布尔值。等价于 <code
                            class="highlight"><c- o>!!</c-><var>argument</var></code>。</p>
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-tointeger">ToInteger<a
                            class="self-link" href="#abstract-opdef-tointeger"></a></dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-tointeger"
                        id="ref-for-sec-tointeger">规范</a>)
                <dd data-md>
                    <p>返回 <a data-link-type="abstract-op" href="#abstract-opdef-tonumber"
                            id="ref-for-abstract-opdef-tonumber">ToNumber</a>(<var>argument</var>)，然后截断（即四舍五入到0）为整数。等价于
                        <code
                            class="highlight"><a class="idl-code" data-link-type="method" href="https://tc39.es/ecma262/#sec-math.trunc" id="ref-for-sec-math.trunc">Math<c- p>.</c->trunc</a><c- p>(</c-><var>argument</var><c- p>)</c-></code>。
                    </p>
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-toint8">ToInt8<a
                            class="self-link" href="#abstract-opdef-toint8"></a></dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-toint8"
                        id="ref-for-sec-toint8">规范</a>)
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-touint8">ToUint8<a
                            class="self-link" href="#abstract-opdef-touint8"></a></dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-touint8"
                        id="ref-for-sec-touint8">规范</a>)
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-toint16">ToInt16<a
                            class="self-link" href="#abstract-opdef-toint16"></a></dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-toint16"
                        id="ref-for-sec-toint16">规范</a>)
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-touint16">ToUint16<a
                            class="self-link" href="#abstract-opdef-touint16"></a></dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-touint16"
                        id="ref-for-sec-touint16">规范</a>)
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-toint32">ToInt32<a
                            class="self-link" href="#abstract-opdef-toint32"></a></dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-toint32"
                        id="ref-for-sec-toint32">规范</a>)
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-touint32">ToUint32<a
                            class="self-link" href="#abstract-opdef-touint32"></a></dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-touint32"
                        id="ref-for-sec-touint32">规范</a>)
                <dd data-md>
                    <p>返回 <var>argument</var> 按指定位数和有符号性转换为整数，方式为截断。</p>
                <dt data-md><dfn data-dfn-type="abstract-op" data-export id="abstract-opdef-touint8clamp">ToUint8Clamp<a
                            class="self-link" href="#abstract-opdef-touint8clamp"></a></dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-touint8clamp"
                        id="ref-for-sec-touint8clamp">规范</a>)
                <dd data-md>
                    <p>返回 <var>argument</var> 通过四舍五入和截断转换为 [0, 255] 范围内的整数。</p>
                <dt data-md><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-tonumber">ToNumber</dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-tonumber"
                        id="ref-for-sec-tonumber">规范</a>)
                <dd data-md>
                    <p>返回 <var>argument</var> 强制转换为数字。等价于 <code
                            class="highlight"><c- o>+</c-><var>argument</var></code>。</p>
                <dt data-md><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-toobject">ToObject</dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-toobject"
                        id="ref-for-sec-toobject">规范</a>)
                <dd data-md>
                    <p>返回 <var>argument</var> 强制转换为对象，必要时使用包装原始对象。等价于 <code
                            class="highlight"><a class="idl-code" data-link-type="method" href="https://tc39.es/ecma262/#sec-object-value" id="ref-for-sec-object-value">Object</a><c- p>(</c-><var>argument</var><c- p>)</c-></code>，但
                        <var>argument</var> 为 <strong>undefined</strong> 或 <strong>null</strong> 时例外。
                    </p>
                <dt data-md><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-toprimitive">ToPrimitive</dfn> ( <var>input</var> [ ,
                    <var>PreferredType</var> ] ) (<a data-link-type="abstract-op"
                        href="https://tc39.es/ecma262/#sec-toprimitive" id="ref-for-sec-toprimitive②">规范</a>)
                <dd data-md>
                    <p>返回 <var>input</var> 强制转换为原始值（即非对象），可以通过 <var>PreferredType</var> 类型提示指定类型。该 <a
                            data-link-type="dfn" href="#abstract-operation"
                            id="ref-for-abstract-operation⑧">抽象操作</a>的具体语义取决于 <var>PreferredType</var>。</p>
                <dt data-md><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-tostring">ToString</dfn> ( <var>argument</var> ) (<a
                        data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-tostring"
                        id="ref-for-sec-tostring③">规范</a>)
                <dd data-md>
                    <p>返回 <var>argument</var> 强制转换为字符串。等价于 <code
                            class="highlight"><c- sb>`</c-><c- si>${</c-><var>argument</var><c- si>}</c-><c- sb>`</c-></code>。
                    </p>
                <dd data-md>
                    <div class="advisement">注意，<code
                            class="highlight">String<c- p>(</c-><var>argument</var><c- p>)</c-></code> 和 <code
                            class="highlight"><var>argument</var> <c- o>+</c-> <c- t>''</c-></code> 都不能完全等价于 <a
                            data-link-type="abstract-op" href="#abstract-opdef-tostring"
                            id="ref-for-abstract-opdef-tostring②">ToString</a>。<code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/#sec-string-constructor-string-value" id="ref-for-sec-string-constructor-string-value⑥">String()</a></code>
                        会把 Symbol 转成字符串描述，而 <a data-link-type="abstract-op" href="#abstract-opdef-tostring"
                            id="ref-for-abstract-opdef-tostring③">ToString</a> 对 Symbol 会抛异常。加法运算符转换字符串时还会调用其它函数，比如
                        <code
                            class="highlight"><var>argument</var><c- p>[</c->Symbol<c- p>.</c->toPrimitive<c- p>]</c-></code>。
                    </div>
                <dt data-md><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export
                        id="abstract-opdef-type">Type</dfn> ( <var>argument</var> ) (<a data-link-type="abstract-op"
                        href="https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values"
                        id="ref-for-sec-ecmascript-data-types-and-values①">规范</a>)
                <dd data-md>
                    <p>返回 <var>argument</var> 的 <a data-link-type="dfn"
                            href="https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values"
                            id="ref-for-sec-ecmascript-data-types-and-values②">类型</a>。</p>
            </dl>
        </div>
    </main>
    <script>
        (function () {
            "use strict";
            var collapseSidebarText = '<span aria-hidden="true">←</span> '
                + '<span>Collapse Sidebar</span>';
            var expandSidebarText = '<span aria-hidden="true">→</span> '
                + '<span>Pop Out Sidebar</span>';
            var tocJumpText = '<span aria-hidden="true">↑</span> '
                + '<span>Jump to Table of Contents</span>';

            var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
            var autoToggle = function (e) { toggleSidebar(e.matches) };
            if (sidebarMedia.addListener) {
                sidebarMedia.addListener(autoToggle);
            }

            function toggleSidebar(on) {
                if (on == undefined) {
                    on = !document.body.classList.contains('toc-sidebar');
                }

                /* Don’t scroll to compensate for the ToC if we’re above it already. */
                var headY = 0;
                var head = document.querySelector('.head');
                if (head) {
                    // terrible approx of "top of ToC"
                    headY += head.offsetTop + head.offsetHeight;
                }
                var skipScroll = window.scrollY < headY;

                var toggle = document.getElementById('toc-toggle');
                var tocNav = document.getElementById('toc');
                if (on) {
                    var tocHeight = tocNav.offsetHeight;
                    document.body.classList.add('toc-sidebar');
                    document.body.classList.remove('toc-inline');
                    toggle.innerHTML = collapseSidebarText;
                    if (!skipScroll) {
                        window.scrollBy(0, 0 - tocHeight);
                    }
                    tocNav.focus();
                    sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
                }
                else {
                    document.body.classList.add('toc-inline');
                    document.body.classList.remove('toc-sidebar');
                    toggle.innerHTML = expandSidebarText;
                    if (!skipScroll) {
                        window.scrollBy(0, tocNav.offsetHeight);
                    }
                    if (toggle.matches(':hover')) {
                        /* Unfocus button when not using keyboard navigation,
                           because I don’t know where else to send the focus. */
                        toggle.blur();
                    }
                }
            }

            function createSidebarToggle() {
                /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
                var toggle = document.createElement('a');
                /* This should probably be a button, but appearance isn’t standards-track.*/
                toggle.id = 'toc-toggle';
                toggle.class = 'toc-toggle';
                toggle.href = '#toc';
                toggle.innerHTML = collapseSidebarText;

                sidebarMedia.addListener(autoToggle);
                var toggler = function (e) {
                    e.preventDefault();
                    sidebarMedia.removeListener(autoToggle); // persist explicit off states
                    toggleSidebar();
                    return false;
                }
                toggle.addEventListener('click', toggler, false);


                /* Get <nav id=toc-nav>, or make it if we don’t have one. */
                var tocNav = document.getElementById('toc-nav');
                if (!tocNav) {
                    tocNav = document.createElement('p');
                    tocNav.id = 'toc-nav';
                    /* Prepend for better keyboard navigation */
                    document.body.insertBefore(tocNav, document.body.firstChild);
                }
                /* While we’re at it, make sure we have a Jump to Toc link. */
                var tocJump = document.getElementById('toc-jump');
                if (!tocJump) {
                    tocJump = document.createElement('a');
                    tocJump.id = 'toc-jump';
                    tocJump.href = '#toc';
                    tocJump.innerHTML = tocJumpText;
                    tocNav.appendChild(tocJump);
                }

                tocNav.appendChild(toggle);
            }

            var toc = document.getElementById('toc');
            if (toc) {
                createSidebarToggle();
                toggleSidebar(sidebarMedia.matches);

                /* If the sidebar has been manually opened and is currently overlaying the text
                   (window too small for the MQ to add the margin to body),
                   then auto-close the sidebar once you click on something in there. */
                toc.addEventListener('click', function (e) {
                    if (e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
                        toggleSidebar(false);
                    }
                }, false);
            }
            else {
                console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
            }

            /* Wrap tables in case they overflow */
            var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
            var numTables = tables.length;
            for (var i = 0; i < numTables; i++) {
                var table = tables[i];
                var wrapper = document.createElement('div');
                wrapper.className = 'overlarge';
                table.parentNode.insertBefore(wrapper, table);
                wrapper.appendChild(table);
            }

        })();
    </script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#exclamation-mark">!</a><span>，见 §2.4</span>
        <li><a href="#question-mark">?</a><span>，见 §2.4</span>
        <li><a href="#abrupt-completion">异常完成（abrupt completion）</a><span>，见 §2.4</span>
        <li><a href="#abstract-operation">抽象操作（abstract operation）</a><span>，见 §2.2</span>
        <li><a href="#abstract-opdef-arraycreate">ArrayCreate</a><span>，见 无编号章节</span>
        <li><a href="#dom-completion-record-type-break">break</a><span>，见 §2.4</span>
        <li><a href="#abstract-opdef-call">Call</a><span>，见 无编号章节</span>
        <li><a href="#callable-object">可调用对象（callable object）</a><span>，见 §2.5</span>
        <li><a href="#completion-record">完成记录（Completion Record）</a><span>，见 §2.4</span>
        <li><a href="#abstract-opdef-construct">Construct</a><span>，见 无编号章节</span>
        <li><a href="#dom-completion-record-type-continue">continue</a><span>，见 §2.4</span>
        <li><a href="#abstract-opdef-definepropertyorthrow">DefinePropertyOrThrow</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-deletepropertyorthrow">DeletePropertyOrThrow</a><span>，见 无编号章节</span>
        <li><a href="#double-brackets-notation">双括号记号（double brackets notation）</a><span>，见 §2.3</span>
        <li><a href="#exotic-object">特殊对象（exotic object）</a><span>，见 §2.5</span>
        <li><a href="#record-field">字段（field）</a><span>，见 §2.3.1</span>
        <li><a href="#function-object">函数对象（function object）</a><span>，见 §2.5</span>
        <li><a href="#abstract-opdef-get">Get</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-getv">GetV</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-hasownproperty">HasOwnProperty</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-hasproperty">HasProperty</a><span>，见 无编号章节</span>
        <li><a href="#internal-method">内部方法（internal method）</a><span>，见 §2.5</span>
        <li><a href="#internal-slot">内部槽（internal slot）</a><span>，见 §2.5</span>
        <li><a href="#abstract-opdef-invoke">Invoke</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-isarray">IsArray</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-iscallable">IsCallable</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-isconstructor">IsConstructor</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-newtarget">NewTarget</a><span>，见 §2.7</span>
        <li><a href="#dom-completion-record-type-normal">normal</a><span>，见 §2.4</span>
        <li><a href="#normal-completion">正常完成（normal completion）</a><span>，见 §2.4</span>
        <li><a href="#ordinary-object">普通对象（ordinary object）</a><span>，见 §2.5</span>
        <li><a href="#record">Record</a><span>，见 §2.3.1</span>
        <li><a href="#dom-completion-record-type-return">return</a><span>，见 §2.4</span>
        <li><a href="#abstract-opdef-returnifabrupt">ReturnIfAbrupt</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-stringcreate">StringCreate</a><span>，见 无编号章节</span>
        <li><a href="#completion-record-target">[[Target]]</a><span>，见 §2.4</span>
        <li><a href="#dom-completion-record-type-throw">throw</a><span>，见 §2.4</span>
        <li><a href="#abstract-opdef-toboolean">ToBoolean</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-toint16">ToInt16</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-toint32">ToInt32</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-toint8">ToInt8</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-tointeger">ToInteger</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-tonumber">ToNumber</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-toobject">ToObject</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-toprimitive">ToPrimitive</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-tostring">ToString</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-touint16">ToUint16</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-touint32">ToUint32</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-touint8">ToUint8</a><span>，见 无编号章节</span>
        <li><a href="#abstract-opdef-touint8clamp">ToUint8Clamp</a><span>，见 无编号章节</span>
        <li><a href="#completion-record-type">[[Type]]</a><span>，见 §2.4</span>
        <li><a href="#abstract-opdef-type">Type</a><span>，见 无编号章节</span>
        <li><a href="#completion-record-value">[[Value]]</a><span>，见 §2.4</span>
    </ul>
    <aside class="dfn-panel" data-for="term-for-namespacedef-console">
        <a
            href="https://console.spec.whatwg.org/#namespacedef-console">https://console.spec.whatwg.org/#namespacedef-console</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-namespacedef-console">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-eventtarget-addeventlistener">
        <a
            href="https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener">https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-eventtarget-addeventlistener">1.2. What belongs to the ECMAScript specification,
                    and what does not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-properties-of-the-array-prototype-object">
        <a
            href="https://tc39.es/ecma262/#sec-properties-of-the-array-prototype-object">https://tc39.es/ecma262/#sec-properties-of-the-array-prototype-object</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-properties-of-the-array-prototype-object">Common abstract operations</a> <a
                    href="#ref-for-sec-properties-of-the-array-prototype-object①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-properties-of-the-string-prototype-object">
        <a
            href="https://tc39.es/ecma262/#sec-properties-of-the-string-prototype-object">https://tc39.es/ecma262/#sec-properties-of-the-string-prototype-object</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-properties-of-the-string-prototype-object">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-array-objects">
        <a href="https://tc39.es/ecma262/#sec-array-objects">https://tc39.es/ecma262/#sec-array-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-array-objects">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
            <li><a href="#ref-for-sec-array-objects①">2.5. JavaScript Objects</a> <a
                    href="#ref-for-sec-array-objects②">(2)</a> <a href="#ref-for-sec-array-objects③">(3)</a> <a
                    href="#ref-for-sec-array-objects④">(4)</a>
            <li><a href="#ref-for-sec-array-objects⑤">Common abstract operations</a> <a
                    href="#ref-for-sec-array-objects⑥">(2)</a> <a href="#ref-for-sec-array-objects⑦">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-array.isarray">
        <a href="https://tc39.es/ecma262/#sec-array.isarray">https://tc39.es/ecma262/#sec-array.isarray</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-array.isarray">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-arraybuffer-objects">
        <a
            href="https://tc39.es/ecma262/#sec-arraybuffer-objects">https://tc39.es/ecma262/#sec-arraybuffer-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-arraybuffer-objects">1.2. What belongs to the ECMAScript specification, and what
                    does not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-arraycreate">
        <a href="https://tc39.es/ecma262/#sec-arraycreate">https://tc39.es/ecma262/#sec-arraycreate</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-arraycreate">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-boolean-constructor-boolean-value">
        <a
            href="https://tc39.es/ecma262/#sec-boolean-constructor-boolean-value">https://tc39.es/ecma262/#sec-boolean-constructor-boolean-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-boolean-constructor-boolean-value">2.2. Abstract operations</a>
            <li><a href="#ref-for-sec-boolean-constructor-boolean-value①">2.4. Completion Records; ? and !</a>
            <li><a href="#ref-for-sec-boolean-constructor-boolean-value②">2.7. Example: Can Boolean() and String() ever
                    throw exceptions?</a> <a href="#ref-for-sec-boolean-constructor-boolean-value③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-call">
        <a href="https://tc39.es/ecma262/#sec-call">https://tc39.es/ecma262/#sec-call</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-call">2.3.3. An internal method of a JavaScript Object</a>
            <li><a href="#ref-for-sec-call①">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-construct">
        <a href="https://tc39.es/ecma262/#sec-construct">https://tc39.es/ecma262/#sec-construct</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-construct">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-definepropertyorthrow">
        <a
            href="https://tc39.es/ecma262/#sec-definepropertyorthrow">https://tc39.es/ecma262/#sec-definepropertyorthrow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-definepropertyorthrow">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-deletepropertyorthrow">
        <a
            href="https://tc39.es/ecma262/#sec-deletepropertyorthrow">https://tc39.es/ecma262/#sec-deletepropertyorthrow</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-deletepropertyorthrow">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-function-objects">
        <a href="https://tc39.es/ecma262/#sec-function-objects">https://tc39.es/ecma262/#sec-function-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-function-objects">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-get-o-p">
        <a href="https://tc39.es/ecma262/#sec-get-o-p">https://tc39.es/ecma262/#sec-get-o-p</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-get-o-p">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-getmethod">
        <a href="https://tc39.es/ecma262/#sec-getmethod">https://tc39.es/ecma262/#sec-getmethod</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-getmethod">2.7. Example: Can Boolean() and String() ever throw exceptions?</a> <a
                    href="#ref-for-sec-getmethod①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-getprototypefromconstructor">
        <a
            href="https://tc39.es/ecma262/#sec-getprototypefromconstructor">https://tc39.es/ecma262/#sec-getprototypefromconstructor</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-getprototypefromconstructor">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-getv">
        <a href="https://tc39.es/ecma262/#sec-getv">https://tc39.es/ecma262/#sec-getv</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-getv">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-hasownproperty">
        <a href="https://tc39.es/ecma262/#sec-hasownproperty">https://tc39.es/ecma262/#sec-hasownproperty</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-hasownproperty">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-hasproperty">
        <a href="https://tc39.es/ecma262/#sec-hasproperty">https://tc39.es/ecma262/#sec-hasproperty</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-hasproperty">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-invoke">
        <a href="https://tc39.es/ecma262/#sec-invoke">https://tc39.es/ecma262/#sec-invoke</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-invoke">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-isarray">
        <a href="https://tc39.es/ecma262/#sec-isarray">https://tc39.es/ecma262/#sec-isarray</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-isarray">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-iscallable">
        <a href="https://tc39.es/ecma262/#sec-iscallable">https://tc39.es/ecma262/#sec-iscallable</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-iscallable">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-isconstructor">
        <a href="https://tc39.es/ecma262/#sec-isconstructor">https://tc39.es/ecma262/#sec-isconstructor</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-isconstructor">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-isdatadescriptor">
        <a href="https://tc39.es/ecma262/#sec-isdatadescriptor">https://tc39.es/ecma262/#sec-isdatadescriptor</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-isdatadescriptor">2.3.1. A field of a Record</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-map-objects">
        <a href="https://tc39.es/ecma262/#sec-map-objects">https://tc39.es/ecma262/#sec-map-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-map-objects">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-math-object">
        <a href="https://tc39.es/ecma262/#sec-math-object">https://tc39.es/ecma262/#sec-math-object</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-math-object">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-math.trunc">
        <a href="https://tc39.es/ecma262/#sec-math.trunc">https://tc39.es/ecma262/#sec-math.trunc</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-math.trunc">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-number-objects">
        <a href="https://tc39.es/ecma262/#sec-number-objects">https://tc39.es/ecma262/#sec-number-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-number-objects">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-numbertostring">
        <a href="https://tc39.es/ecma262/#sec-numbertostring">https://tc39.es/ecma262/#sec-numbertostring</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-numbertostring">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-object-objects">
        <a href="https://tc39.es/ecma262/#sec-object-objects">https://tc39.es/ecma262/#sec-object-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-object-objects">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-object-value">
        <a href="https://tc39.es/ecma262/#sec-object-value">https://tc39.es/ecma262/#sec-object-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-object-value">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-object.getownpropertysymbols">
        <a
            href="https://tc39.es/ecma262/#sec-object.getownpropertysymbols">https://tc39.es/ecma262/#sec-object.getownpropertysymbols</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-object.getownpropertysymbols">2.5. JavaScript Objects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-object.prototype.hasownproperty">
        <a
            href="https://tc39.es/ecma262/#sec-object.prototype.hasownproperty">https://tc39.es/ecma262/#sec-object.prototype.hasownproperty</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-object.prototype.hasownproperty">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-ordinarycreatefromconstructor">
        <a
            href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-ordinarycreatefromconstructor">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a> <a href="#ref-for-sec-ordinarycreatefromconstructor①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-ordinaryget">
        <a href="https://tc39.es/ecma262/#sec-ordinaryget">https://tc39.es/ecma262/#sec-ordinaryget</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-ordinaryget">2.7. Example: Can Boolean() and String() ever throw exceptions?</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-ordinarygetprototypeof">
        <a
            href="https://tc39.es/ecma262/#sec-ordinarygetprototypeof">https://tc39.es/ecma262/#sec-ordinarygetprototypeof</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-ordinarygetprototypeof">2.3.2. An internal slot of a JavaScript Object</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-ordinarytoprimitive">
        <a
            href="https://tc39.es/ecma262/#sec-ordinarytoprimitive">https://tc39.es/ecma262/#sec-ordinarytoprimitive</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-ordinarytoprimitive">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a> <a href="#ref-for-sec-ordinarytoprimitive①">(2)</a> <a
                    href="#ref-for-sec-ordinarytoprimitive②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-promise-objects">
        <a href="https://tc39.es/ecma262/#sec-promise-objects">https://tc39.es/ecma262/#sec-promise-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-promise-objects">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-proxy-objects">
        <a href="https://tc39.es/ecma262/#sec-proxy-objects">https://tc39.es/ecma262/#sec-proxy-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-proxy-objects">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
            <li><a href="#ref-for-sec-proxy-objects①">2.5. JavaScript Objects</a> <a
                    href="#ref-for-sec-proxy-objects②">(2)</a> <a href="#ref-for-sec-proxy-objects③">(3)</a>
            <li><a href="#ref-for-sec-proxy-objects④">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-reflect-object">
        <a href="https://tc39.es/ecma262/#sec-reflect-object">https://tc39.es/ecma262/#sec-reflect-object</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-reflect-object">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-regexp-regular-expression-objects">
        <a
            href="https://tc39.es/ecma262/#sec-regexp-regular-expression-objects">https://tc39.es/ecma262/#sec-regexp-regular-expression-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-regexp-regular-expression-objects">1.2. What belongs to the ECMAScript
                    specification, and what does not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-requireobjectcoercible">
        <a
            href="https://tc39.es/ecma262/#sec-requireobjectcoercible">https://tc39.es/ecma262/#sec-requireobjectcoercible</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-requireobjectcoercible">2.6. Example: String.prototype.substring()</a> <a
                    href="#ref-for-sec-requireobjectcoercible①">(2)</a> <a
                    href="#ref-for-sec-requireobjectcoercible②">(3)</a> <a
                    href="#ref-for-sec-requireobjectcoercible③">(4)</a> <a
                    href="#ref-for-sec-requireobjectcoercible④">(5)</a>
            <li><a href="#ref-for-sec-requireobjectcoercible⑤">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-returnifabrupt">
        <a href="https://tc39.es/ecma262/#sec-returnifabrupt">https://tc39.es/ecma262/#sec-returnifabrupt</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-returnifabrupt">2.4. Completion Records; ? and !</a>
            <li><a href="#ref-for-sec-returnifabrupt①">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-string-constructor-string-value">
        <a
            href="https://tc39.es/ecma262/#sec-string-constructor-string-value">https://tc39.es/ecma262/#sec-string-constructor-string-value</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-string-constructor-string-value">2.7. Example: Can Boolean() and String() ever
                    throw exceptions?</a> <a href="#ref-for-sec-string-constructor-string-value①">(2)</a> <a
                    href="#ref-for-sec-string-constructor-string-value②">(3)</a> <a
                    href="#ref-for-sec-string-constructor-string-value③">(4)</a>
            <li><a href="#ref-for-sec-string-constructor-string-value④">Common abstract operations</a> <a
                    href="#ref-for-sec-string-constructor-string-value⑤">(2)</a> <a
                    href="#ref-for-sec-string-constructor-string-value⑥">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-string.prototype.substring">
        <a
            href="https://tc39.es/ecma262/#sec-string.prototype.substring">https://tc39.es/ecma262/#sec-string.prototype.substring</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-string.prototype.substring">2.6. Example: String.prototype.substring()</a> <a
                    href="#ref-for-sec-string.prototype.substring①">(2)</a> <a
                    href="#ref-for-sec-string.prototype.substring②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-stringcreate">
        <a href="https://tc39.es/ecma262/#sec-stringcreate">https://tc39.es/ecma262/#sec-stringcreate</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-stringcreate">2.7. Example: Can Boolean() and String() ever throw exceptions?</a>
            <li><a href="#ref-for-sec-stringcreate①">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-symboldescriptivestring">
        <a
            href="https://tc39.es/ecma262/#sec-symboldescriptivestring">https://tc39.es/ecma262/#sec-symboldescriptivestring</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-symboldescriptivestring">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a> <a href="#ref-for-sec-symboldescriptivestring①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-toboolean">
        <a href="https://tc39.es/ecma262/#sec-toboolean">https://tc39.es/ecma262/#sec-toboolean</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-toboolean">2.2. Abstract operations</a>
            <li><a href="#ref-for-sec-toboolean①">2.4. Completion Records; ? and !</a>
            <li><a href="#ref-for-sec-toboolean②">2.7. Example: Can Boolean() and String() ever throw exceptions?</a>
            <li><a href="#ref-for-sec-toboolean③">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-toint16">
        <a href="https://tc39.es/ecma262/#sec-toint16">https://tc39.es/ecma262/#sec-toint16</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-toint16">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-toint32">
        <a href="https://tc39.es/ecma262/#sec-toint32">https://tc39.es/ecma262/#sec-toint32</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-toint32">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-toint8">
        <a href="https://tc39.es/ecma262/#sec-toint8">https://tc39.es/ecma262/#sec-toint8</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-toint8">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-tointeger">
        <a href="https://tc39.es/ecma262/#sec-tointeger">https://tc39.es/ecma262/#sec-tointeger</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-tointeger">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-tonumber">
        <a href="https://tc39.es/ecma262/#sec-tonumber">https://tc39.es/ecma262/#sec-tonumber</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-tonumber">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-toobject">
        <a href="https://tc39.es/ecma262/#sec-toobject">https://tc39.es/ecma262/#sec-toobject</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-toobject">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-toprimitive">
        <a href="https://tc39.es/ecma262/#sec-toprimitive">https://tc39.es/ecma262/#sec-toprimitive</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-toprimitive">2.7. Example: Can Boolean() and String() ever throw exceptions?</a>
                <a href="#ref-for-sec-toprimitive①">(2)</a>
            <li><a href="#ref-for-sec-toprimitive②">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-tostring">
        <a href="https://tc39.es/ecma262/#sec-tostring">https://tc39.es/ecma262/#sec-tostring</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-tostring">2.7. Example: Can Boolean() and String() ever throw exceptions?</a> <a
                    href="#ref-for-sec-tostring①">(2)</a> <a href="#ref-for-sec-tostring②">(3)</a>
            <li><a href="#ref-for-sec-tostring③">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-touint16">
        <a href="https://tc39.es/ecma262/#sec-touint16">https://tc39.es/ecma262/#sec-touint16</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-touint16">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-touint32">
        <a href="https://tc39.es/ecma262/#sec-touint32">https://tc39.es/ecma262/#sec-touint32</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-touint32">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-touint8">
        <a href="https://tc39.es/ecma262/#sec-touint8">https://tc39.es/ecma262/#sec-touint8</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-sec-touint8">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-touint8clamp">
        <a href="https://tc39.es/ecma262/#sec-touint8clamp">https://tc39.es/ecma262/#sec-touint8clamp</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-touint8clamp">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-ecmascript-data-types-and-values">
        <a
            href="https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values">https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-ecmascript-data-types-and-values">2.7. Example: Can Boolean() and String() ever
                    throw exceptions?</a>
            <li><a href="#ref-for-sec-ecmascript-data-types-and-values①">Common abstract operations</a> <a
                    href="#ref-for-sec-ecmascript-data-types-and-values②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-typedarray-objects">
        <a href="https://tc39.es/ecma262/#sec-typedarray-objects">https://tc39.es/ecma262/#sec-typedarray-objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-typedarray-objects">1.2. What belongs to the ECMAScript specification, and what
                    does not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-proxy-object-internal-methods-and-internal-slots-getprototypeof">
        <a
            href="https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-getprototypeof">https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-getprototypeof</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-proxy-object-internal-methods-and-internal-slots-getprototypeof">2.5. JavaScript
                    Objects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-current-realm">
        <a href="https://tc39.es/ecma262/#current-realm">https://tc39.es/ecma262/#current-realm</a><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-current-realm">Common abstract operations</a> <a
                    href="#ref-for-current-realm①">(2)</a> <a href="#ref-for-current-realm②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-globalthis">
        <a href="https://tc39.es/ecma262/#sec-globalthis">https://tc39.es/ecma262/#sec-globalthis</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-globalthis">1.2. What belongs to the ECMAScript specification, and what does
                    not</a> <a href="#ref-for-sec-globalthis①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-property-descriptor-specification-type">
        <a
            href="https://tc39.es/ecma262/#sec-property-descriptor-specification-type">https://tc39.es/ecma262/#sec-property-descriptor-specification-type</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-property-descriptor-specification-type">2.3.1. A field of a Record</a> <a
                    href="#ref-for-sec-property-descriptor-specification-type①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-sec-ecmascript-data-types-and-values">
        <a
            href="https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values">https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-sec-ecmascript-data-types-and-values">2.7. Example: Can Boolean() and String() ever
                    throw exceptions?</a>
            <li><a href="#ref-for-sec-ecmascript-data-types-and-values①">Common abstract operations</a> <a
                    href="#ref-for-sec-ecmascript-data-types-and-values②">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-htmlelement">
        <a
            href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement">https://html.spec.whatwg.org/multipage/dom.html#htmlelement</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-htmlelement">1.2. What belongs to the ECMAScript specification, and what does not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-windowproxy">
        <a
            href="https://html.spec.whatwg.org/multipage/window-object.html#windowproxy">https://html.spec.whatwg.org/multipage/window-object.html#windowproxy</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-windowproxy">2.5. JavaScript Objects</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-worker">
        <a
            href="https://html.spec.whatwg.org/multipage/workers.html#worker">https://html.spec.whatwg.org/multipage/workers.html#worker</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-worker">1.2. What belongs to the ECMAScript specification, and what does not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-alert">
        <a
            href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert">https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-alert">1.2. What belongs to the ECMAScript specification, and what does not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-document-all">
        <a
            href="https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-all">https://html.spec.whatwg.org/multipage/obsolete.html#dom-document-all</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-document-all">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-confirm">
        <a
            href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-confirm">https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-confirm</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-confirm">1.2. What belongs to the ECMAScript specification, and what does not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-document-2">
        <a
            href="https://html.spec.whatwg.org/multipage/window-object.html#dom-document-2">https://html.spec.whatwg.org/multipage/window-object.html#dom-document-2</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-document-2">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-dom-window">
        <a
            href="https://html.spec.whatwg.org/multipage/window-object.html#dom-window">https://html.spec.whatwg.org/multipage/window-object.html#dom-window</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-window">1.2. What belongs to the ECMAScript specification, and what does not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-buffer_class_buffer">
        <a
            href="https://nodejs.org/api/buffer.html#buffer_class_buffer">https://nodejs.org/api/buffer.html#buffer_class_buffer</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-buffer_class_buffer">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-modules_dirname">
        <a
            href="https://nodejs.org/api/modules.html#modules_dirname">https://nodejs.org/api/modules.html#modules_dirname</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-modules_dirname">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-modules_filename">
        <a
            href="https://nodejs.org/api/modules.html#modules_filename">https://nodejs.org/api/modules.html#modules_filename</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-modules_filename">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-modules_exports">
        <a
            href="https://nodejs.org/api/modules.html#modules_exports">https://nodejs.org/api/modules.html#modules_exports</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-modules_exports">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-globals_global">
        <a
            href="https://nodejs.org/api/globals.html#globals_global">https://nodejs.org/api/globals.html#globals_global</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-globals_global">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-globals_global_objects">
        <a
            href="https://nodejs.org/api/globals.html#globals_global_objects">https://nodejs.org/api/globals.html#globals_global_objects</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-globals_global_objects">1.2. What belongs to the ECMAScript specification, and what
                    does not</a> <a href="#ref-for-globals_global_objects①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-modules_module">
        <a
            href="https://nodejs.org/api/modules.html#modules_module">https://nodejs.org/api/modules.html#modules_module</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-modules_module">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-modules_modules">
        <a
            href="https://nodejs.org/api/modules.html#modules_modules">https://nodejs.org/api/modules.html#modules_modules</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-modules_modules">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-globals_process">
        <a
            href="https://nodejs.org/api/globals.html#globals_process">https://nodejs.org/api/globals.html#globals_process</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-globals_process">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="term-for-modules_require">
        <a
            href="https://nodejs.org/api/modules.html#modules_require">https://nodejs.org/api/modules.html#modules_require</a><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-modules_require">1.2. What belongs to the ECMAScript specification, and what does
                    not</a>
        </ul>
    </aside>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CONSOLE]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-namespacedef-console" style="color:initial">console</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-dom-eventtarget-addeventlistener"
                        style="color:initial">addEventListener(type, callback)</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMA-262]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-sec-properties-of-the-array-prototype-object"
                        style="color:initial">%ArrayPrototype%</span>
                <li><span class="dfn-paneled" id="term-for-sec-properties-of-the-string-prototype-object"
                        style="color:initial">%StringPrototype%</span>
                <li><span class="dfn-paneled" id="term-for-sec-array-objects" style="color:initial">Array</span>
                <li><span class="dfn-paneled" id="term-for-sec-array.isarray"
                        style="color:initial">Array.isArray()</span>
                <li><span class="dfn-paneled" id="term-for-sec-arraybuffer-objects"
                        style="color:initial">ArrayBuffer</span>
                <li><span class="dfn-paneled" id="term-for-sec-arraycreate" style="color:initial">ArrayCreate</span>
                <li><span class="dfn-paneled" id="term-for-sec-boolean-constructor-boolean-value"
                        style="color:initial">Boolean()</span>
                <li><span class="dfn-paneled" id="term-for-sec-call" style="color:initial">Call</span>
                <li><span class="dfn-paneled" id="term-for-sec-construct" style="color:initial">Construct</span>
                <li><span class="dfn-paneled" id="term-for-sec-definepropertyorthrow"
                        style="color:initial">DefinePropertyOrThrow</span>
                <li><span class="dfn-paneled" id="term-for-sec-deletepropertyorthrow"
                        style="color:initial">DeletePropertyOrThrow</span>
                <li><span class="dfn-paneled" id="term-for-sec-function-objects" style="color:initial">Function</span>
                <li><span class="dfn-paneled" id="term-for-sec-get-o-p" style="color:initial">Get</span>
                <li><span class="dfn-paneled" id="term-for-sec-getmethod" style="color:initial">GetMethod</span>
                <li><span class="dfn-paneled" id="term-for-sec-getprototypefromconstructor"
                        style="color:initial">GetPrototypeFromConstructor</span>
                <li><span class="dfn-paneled" id="term-for-sec-getv" style="color:initial">GetV</span>
                <li><span class="dfn-paneled" id="term-for-sec-hasownproperty"
                        style="color:initial">HasOwnProperty</span>
                <li><span class="dfn-paneled" id="term-for-sec-hasproperty" style="color:initial">HasProperty</span>
                <li><span class="dfn-paneled" id="term-for-sec-invoke" style="color:initial">Invoke</span>
                <li><span class="dfn-paneled" id="term-for-sec-isarray" style="color:initial">IsArray</span>
                <li><span class="dfn-paneled" id="term-for-sec-iscallable" style="color:initial">IsCallable</span>
                <li><span class="dfn-paneled" id="term-for-sec-isconstructor" style="color:initial">IsConstructor</span>
                <li><span class="dfn-paneled" id="term-for-sec-isdatadescriptor"
                        style="color:initial">IsDataDescriptor</span>
                <li><span class="dfn-paneled" id="term-for-sec-map-objects" style="color:initial">Map</span>
                <li><span class="dfn-paneled" id="term-for-sec-math-object" style="color:initial">Math</span>
                <li><span class="dfn-paneled" id="term-for-sec-math.trunc" style="color:initial">Math.trunc()</span>
                <li><span class="dfn-paneled" id="term-for-sec-number-objects" style="color:initial">Number</span>
                <li><span class="dfn-paneled" id="term-for-sec-numbertostring"
                        style="color:initial">NumberToString</span>
                <li><span class="dfn-paneled" id="term-for-sec-object-objects" style="color:initial">Object</span>
                <li><span class="dfn-paneled" id="term-for-sec-object-value" style="color:initial">Object()</span>
                <li><span class="dfn-paneled" id="term-for-sec-object.getownpropertysymbols"
                        style="color:initial">Object.getOwnPropertySymbols()</span>
                <li><span class="dfn-paneled" id="term-for-sec-object.prototype.hasownproperty"
                        style="color:initial">Object.prototype.hasOwnProperty()</span>
                <li><span class="dfn-paneled" id="term-for-sec-ordinarycreatefromconstructor"
                        style="color:initial">OrdinaryCreateFromConstructor</span>
                <li><span class="dfn-paneled" id="term-for-sec-ordinaryget" style="color:initial">OrdinaryGet</span>
                <li><span class="dfn-paneled" id="term-for-sec-ordinarygetprototypeof"
                        style="color:initial">OrdinaryGetPrototypeOf</span>
                <li><span class="dfn-paneled" id="term-for-sec-ordinarytoprimitive"
                        style="color:initial">OrdinaryToPrimitive</span>
                <li><span class="dfn-paneled" id="term-for-sec-promise-objects" style="color:initial">Promise</span>
                <li><span class="dfn-paneled" id="term-for-sec-proxy-objects" style="color:initial">Proxy</span>
                <li><span class="dfn-paneled" id="term-for-sec-reflect-object" style="color:initial">Reflect</span>
                <li><span class="dfn-paneled" id="term-for-sec-regexp-regular-expression-objects"
                        style="color:initial">RegExp</span>
                <li><span class="dfn-paneled" id="term-for-sec-requireobjectcoercible"
                        style="color:initial">RequireObjectCoercible</span>
                <li><span class="dfn-paneled" id="term-for-sec-returnifabrupt"
                        style="color:initial">ReturnIfAbrupt</span>
                <li><span class="dfn-paneled" id="term-for-sec-string-constructor-string-value"
                        style="color:initial">String()</span>
                <li><span class="dfn-paneled" id="term-for-sec-string.prototype.substring"
                        style="color:initial">String.prototype.substring()</span>
                <li><span class="dfn-paneled" id="term-for-sec-stringcreate" style="color:initial">StringCreate</span>
                <li><span class="dfn-paneled" id="term-for-sec-symboldescriptivestring"
                        style="color:initial">SymbolDescriptiveString</span>
                <li><span class="dfn-paneled" id="term-for-sec-toboolean" style="color:initial">ToBoolean</span>
                <li><span class="dfn-paneled" id="term-for-sec-toint16" style="color:initial">ToInt16</span>
                <li><span class="dfn-paneled" id="term-for-sec-toint32" style="color:initial">ToInt32</span>
                <li><span class="dfn-paneled" id="term-for-sec-toint8" style="color:initial">ToInt8</span>
                <li><span class="dfn-paneled" id="term-for-sec-tointeger" style="color:initial">ToInteger</span>
                <li><span class="dfn-paneled" id="term-for-sec-tonumber" style="color:initial">ToNumber</span>
                <li><span class="dfn-paneled" id="term-for-sec-toobject" style="color:initial">ToObject</span>
                <li><span class="dfn-paneled" id="term-for-sec-toprimitive" style="color:initial">ToPrimitive</span>
                <li><span class="dfn-paneled" id="term-for-sec-tostring" style="color:initial">ToString</span>
                <li><span class="dfn-paneled" id="term-for-sec-touint16" style="color:initial">ToUint16</span>
                <li><span class="dfn-paneled" id="term-for-sec-touint32" style="color:initial">ToUint32</span>
                <li><span class="dfn-paneled" id="term-for-sec-touint8" style="color:initial">ToUint8</span>
                <li><span class="dfn-paneled" id="term-for-sec-touint8clamp" style="color:initial">ToUint8Clamp</span>
                <li><span class="dfn-paneled" id="term-for-sec-ecmascript-data-types-and-values"
                        style="color:initial">Type</span>
                <li><span class="dfn-paneled" id="term-for-sec-typedarray-objects"
                        style="color:initial">Uint8Array</span>
                <li><span class="dfn-paneled"
                        id="term-for-sec-proxy-object-internal-methods-and-internal-slots-getprototypeof"
                        style="color:initial">[[GetPrototypeOf]]</span>
                <li><span class="dfn-paneled" id="term-for-current-realm" style="color:initial">current realm</span>
                <li><span class="dfn-paneled" id="term-for-sec-globalthis" style="color:initial">globalThis</span>
                <li><span class="dfn-paneled" id="term-for-sec-property-descriptor-specification-type"
                        style="color:initial">property descriptor</span>
                <li><span class="dfn-paneled" id="term-for-sec-ecmascript-data-types-and-values①"
                        style="color:initial">type</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-htmlelement" style="color:initial">HTMLElement</span>
                <li><span class="dfn-paneled" id="term-for-windowproxy" style="color:initial">WindowProxy</span>
                <li><span class="dfn-paneled" id="term-for-worker" style="color:initial">Worker</span>
                <li><span class="dfn-paneled" id="term-for-dom-alert" style="color:initial">alert(message)</span>
                <li><span class="dfn-paneled" id="term-for-dom-document-all" style="color:initial">all</span>
                <li><span class="dfn-paneled" id="term-for-dom-confirm" style="color:initial">confirm(message)</span>
                <li><span class="dfn-paneled" id="term-for-dom-document-2" style="color:initial">document</span>
                <li><span class="dfn-paneled" id="term-for-dom-window" style="color:initial">window</span>
            </ul>
        <li>
            <a data-link-type="biblio">[NODEJS]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="term-for-buffer_class_buffer" style="color:initial">Buffer</span>
                <li><span class="dfn-paneled" id="term-for-modules_dirname" style="color:initial">__dirname</span>
                <li><span class="dfn-paneled" id="term-for-modules_filename" style="color:initial">__filename</span>
                <li><span class="dfn-paneled" id="term-for-modules_exports" style="color:initial">exports</span>
                <li><span class="dfn-paneled" id="term-for-globals_global" style="color:initial">global</span>
                <li><span class="dfn-paneled" id="term-for-globals_global_objects" style="color:initial">globals</span>
                <li><span class="dfn-paneled" id="term-for-modules_module" style="color:initial">module</span>
                <li><span class="dfn-paneled" id="term-for-modules_modules" style="color:initial">modules</span>
                <li><span class="dfn-paneled" id="term-for-globals_process" style="color:initial">process</span>
                <li><span class="dfn-paneled" id="term-for-modules_require" style="color:initial">require()</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考性文献</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-console">[CONSOLE]
        <dd>Dominic Farolino; Terin Stock; Robert Kowalski. <a href="https://console.spec.whatwg.org/">Console
                Standard</a>. 现行标准. URL: <a href="https://console.spec.whatwg.org/">https://console.spec.whatwg.org/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM 标准</a>. 现行标准. URL: <a
                href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-ecma-262">[ECMA-262]
        <dd><a href="https://tc39.es/ecma262/">ECMAScript 语言规范</a>. URL: <a
                href="https://tc39.es/ecma262/">https://tc39.es/ecma262/</a>
        <dt id="biblio-ecma-262-2019">[ECMA-262-2019]
        <dd><a href="https://ecma-international.org/ecma-262/10.0/">ECMAScript 2019 语言规范</a>. URL: <a
                href="https://ecma-international.org/ecma-262/10.0/">https://ecma-international.org/ecma-262/10.0/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; 等. <a href="https://html.spec.whatwg.org/multipage/">HTML 标准</a>. 现行标准. URL: <a
                href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-iso-22275-2018">[ISO-22275-2018]
        <dd><a href="https://www.iso.org/standard/73002.html">ISO/IEC 22275:2018 - 信息技术 — 编程语言、其环境和系统软件接口 — ECMAScript®
                规范套件</a>.
            URL: <a href="https://www.iso.org/standard/73002.html">https://www.iso.org/standard/73002.html</a>
        <dt id="biblio-johnny-five">[JOHNNY-FIVE]
        <dd><a href="http://johnny-five.io/">Johnny-Five: JavaScript 机器人与物联网平台</a>. URL: <a
                href="http://johnny-five.io/">http://johnny-five.io/</a>
        <dt id="biblio-mdn">[MDN]
        <dd><a href="https://developer.mozilla.org/en-US/">Mozilla 开发者网络</a>. URL: <a
                href="https://developer.mozilla.org/en-US/">https://developer.mozilla.org/en-US/</a>
        <dt id="biblio-nodejs">[NODEJS]
        <dd><a href="https://nodejs.org/">Node.js</a>. URL: <a href="https://nodejs.org/">https://nodejs.org/</a>
        <dt id="biblio-tc39">[TC39]
        <dd><a href="https://www.ecma-international.org/memento/tc39.htm">TC39 - ECMAScript</a>. URL: <a
                href="https://www.ecma-international.org/memento/tc39.htm">https://www.ecma-international.org/memento/tc39.htm</a>
        <dt id="biblio-wat">[WAT]
        <dd>Gary Bernhardt. <a href="https://www.destroyallsoftware.com/talks/wat">Wat</a>. URL: <a
                href="https://www.destroyallsoftware.com/talks/wat">https://www.destroyallsoftware.com/talks/wat</a>
        <dt id="biblio-whatismybrowser">[WHATISMYBROWSER]
        <dd><a href="https://www.whatsmybrowser.org/">我用的是什么浏览器？</a>. URL: <a
                href="https://www.whatsmybrowser.org/">https://www.whatsmybrowser.org/</a>
        <dt id="biblio-xkcd-703">[XKCD-703]
        <dd>Randall Munroe. <a href="https://www.xkcd.com/703/">xkcd: 荣誉学会</a>. URL: <a
                href="https://www.xkcd.com/703/">https://www.xkcd.com/703/</a>
        <dt id="biblio-ydkjs">[YDKJS]
        <dd>Kyle Simpson. <a href="https://github.com/getify/You-Dont-Know-JS">你不了解 JS（书系列）</a>. URL:
            <a href="https://github.com/getify/You-Dont-Know-JS">https://github.com/getify/You-Dont-Know-JS</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">问题索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> 待补充。<a
                href="https://github.com/TimothyGu/es-howto/issues/2">&lt;https://github.com/TimothyGu/es-howto/issues/2></a><a
                href="#issue-c1ad3571"> ↵ </a></div>
    </div>
    <aside class="dfn-panel" data-for="abstract-operation">
        <b><a href="#abstract-operation">#abstract-operation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-operation">2.3.1. A field of a Record</a>
            <li><a href="#ref-for-abstract-operation①">2.3.2. An internal slot of a JavaScript Object</a>
            <li><a href="#ref-for-abstract-operation②">2.3.3. An internal method of a JavaScript Object</a>
            <li><a href="#ref-for-abstract-operation③">2.4. Completion Records; ? and !</a>
            <li><a href="#ref-for-abstract-operation④">2.6. Example: String.prototype.substring()</a> <a
                    href="#ref-for-abstract-operation⑤">(2)</a> <a href="#ref-for-abstract-operation⑥">(3)</a>
            <li><a href="#ref-for-abstract-operation⑦">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a>
            <li><a href="#ref-for-abstract-operation⑧">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="double-brackets-notation">
        <b><a href="#double-brackets-notation">#double-brackets-notation</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-double-brackets-notation">2.3.1. A field of a Record</a>
            <li><a href="#ref-for-double-brackets-notation①">2.3.2. An internal slot of a JavaScript Object</a>
            <li><a href="#ref-for-double-brackets-notation②">2.3.3. An internal method of a JavaScript Object</a> <a
                    href="#ref-for-double-brackets-notation③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="record">
        <b><a href="#record">#record</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-record">2.3.1. A field of a Record</a> <a href="#ref-for-record①">(2)</a> <a
                    href="#ref-for-record②">(3)</a> <a href="#ref-for-record③">(4)</a> <a
                    href="#ref-for-record④">(5)</a>
            <li><a href="#ref-for-record⑤">2.3.2. An internal slot of a JavaScript Object</a>
            <li><a href="#ref-for-record⑥">2.4. Completion Records; ? and !</a> <a href="#ref-for-record⑦">(2)</a> <a
                    href="#ref-for-record⑧">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="record-field">
        <b><a href="#record-field">#record-field</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-record-field">2.3.1. A field of a Record</a> <a href="#ref-for-record-field①">(2)</a>
            <li><a href="#ref-for-record-field②">2.3.2. An internal slot of a JavaScript Object</a> <a
                    href="#ref-for-record-field③">(2)</a>
            <li><a href="#ref-for-record-field④">2.4. Completion Records; ? and !</a> <a
                    href="#ref-for-record-field⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="completion-record">
        <b><a href="#completion-record">#completion-record</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-completion-record">2.4. Completion Records; ? and !</a> <a
                    href="#ref-for-completion-record①">(2)</a> <a href="#ref-for-completion-record②">(3)</a> <a
                    href="#ref-for-completion-record③">(4)</a> <a href="#ref-for-completion-record④">(5)</a> <a
                    href="#ref-for-completion-record⑤">(6)</a> <a href="#ref-for-completion-record⑥">(7)</a> <a
                    href="#ref-for-completion-record⑦">(8)</a> <a href="#ref-for-completion-record⑧">(9)</a>
            <li><a href="#ref-for-completion-record⑨">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="completion-record-type">
        <b><a href="#completion-record-type">#completion-record-type</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-completion-record-type">2.4. Completion Records; ? and !</a> <a
                    href="#ref-for-completion-record-type①">(2)</a> <a href="#ref-for-completion-record-type②">(3)</a>
                <a href="#ref-for-completion-record-type③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-completion-record-type-normal">
        <b><a href="#dom-completion-record-type-normal">#dom-completion-record-type-normal</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-completion-record-type-normal">2.4. Completion Records; ? and !</a> <a
                    href="#ref-for-dom-completion-record-type-normal①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-completion-record-type-return">
        <b><a href="#dom-completion-record-type-return">#dom-completion-record-type-return</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-completion-record-type-return">2.4. Completion Records; ? and !</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-completion-record-type-throw">
        <b><a href="#dom-completion-record-type-throw">#dom-completion-record-type-throw</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-completion-record-type-throw">2.4. Completion Records; ? and !</a> <a
                    href="#ref-for-dom-completion-record-type-throw①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-completion-record-type-break">
        <b><a href="#dom-completion-record-type-break">#dom-completion-record-type-break</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-dom-completion-record-type-break">2.4. Completion Records; ? and !</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="dom-completion-record-type-continue">
        <b><a href="#dom-completion-record-type-continue">#dom-completion-record-type-continue</a></b><b>Referenced
            in:</b>
        <ul>
            <li><a href="#ref-for-dom-completion-record-type-continue">2.4. Completion Records; ? and !</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="completion-record-value">
        <b><a href="#completion-record-value">#completion-record-value</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-completion-record-value">2.4. Completion Records; ? and !</a>
            <li><a href="#ref-for-completion-record-value①">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="normal-completion">
        <b><a href="#normal-completion">#normal-completion</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-normal-completion">2.4. Completion Records; ? and !</a> <a
                    href="#ref-for-normal-completion①">(2)</a>
            <li><a href="#ref-for-normal-completion②">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abrupt-completion">
        <b><a href="#abrupt-completion">#abrupt-completion</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abrupt-completion">2.4. Completion Records; ? and !</a> <a
                    href="#ref-for-abrupt-completion①">(2)</a> <a href="#ref-for-abrupt-completion②">(3)</a>
            <li><a href="#ref-for-abrupt-completion③">Common abstract operations</a> <a
                    href="#ref-for-abrupt-completion④">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="question-mark">
        <b><a href="#question-mark">#question-mark</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-question-mark">2.4. Completion Records; ? and !</a> <a
                    href="#ref-for-question-mark①">(2)</a> <a href="#ref-for-question-mark②">(3)</a> <a
                    href="#ref-for-question-mark③">(4)</a>
            <li><a href="#ref-for-question-mark④">2.6. Example: String.prototype.substring()</a> <a
                    href="#ref-for-question-mark⑤">(2)</a>
            <li><a href="#ref-for-question-mark⑥">2.7. Example: Can Boolean() and String() ever throw exceptions?</a> <a
                    href="#ref-for-question-mark⑦">(2)</a> <a href="#ref-for-question-mark⑧">(3)</a> <a
                    href="#ref-for-question-mark⑨">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="exclamation-mark">
        <b><a href="#exclamation-mark">#exclamation-mark</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-exclamation-mark">2.4. Completion Records; ? and !</a> <a
                    href="#ref-for-exclamation-mark①">(2)</a> <a href="#ref-for-exclamation-mark②">(3)</a> <a
                    href="#ref-for-exclamation-mark③">(4)</a>
            <li><a href="#ref-for-exclamation-mark④">2.6. Example: String.prototype.substring()</a>
            <li><a href="#ref-for-exclamation-mark⑤">2.7. Example: Can Boolean() and String() ever throw exceptions?</a>
                <a href="#ref-for-exclamation-mark⑥">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="internal-method">
        <b><a href="#internal-method">#internal-method</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-internal-method">2.3.3. An internal method of a JavaScript Object</a> <a
                    href="#ref-for-internal-method①">(2)</a> <a href="#ref-for-internal-method②">(3)</a> <a
                    href="#ref-for-internal-method③">(4)</a>
            <li><a href="#ref-for-internal-method④">2.5. JavaScript Objects</a> <a
                    href="#ref-for-internal-method⑤">(2)</a> <a href="#ref-for-internal-method⑥">(3)</a> <a
                    href="#ref-for-internal-method⑦">(4)</a> <a href="#ref-for-internal-method⑧">(5)</a> <a
                    href="#ref-for-internal-method⑨">(6)</a>
            <li><a href="#ref-for-internal-method①⓪">Common abstract operations</a> <a
                    href="#ref-for-internal-method①①">(2)</a> <a href="#ref-for-internal-method①②">(3)</a> <a
                    href="#ref-for-internal-method①③">(4)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="function-object">
        <b><a href="#function-object">#function-object</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-function-object">Common abstract operations</a> <a
                    href="#ref-for-function-object①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="callable-object">
        <b><a href="#callable-object">#callable-object</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-callable-object">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="ordinary-object">
        <b><a href="#ordinary-object">#ordinary-object</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-ordinary-object">2.5. JavaScript Objects</a> <a
                    href="#ref-for-ordinary-object①">(2)</a> <a href="#ref-for-ordinary-object②">(3)</a> <a
                    href="#ref-for-ordinary-object③">(4)</a> <a href="#ref-for-ordinary-object④">(5)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="exotic-object">
        <b><a href="#exotic-object">#exotic-object</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-exotic-object">2.5. JavaScript Objects</a> <a href="#ref-for-exotic-object①">(2)</a>
                <a href="#ref-for-exotic-object②">(3)</a> <a href="#ref-for-exotic-object③">(4)</a> <a
                    href="#ref-for-exotic-object④">(5)</a>
            <li><a href="#ref-for-exotic-object⑤">Common abstract operations</a> <a
                    href="#ref-for-exotic-object⑥">(2)</a> <a href="#ref-for-exotic-object⑦">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="internal-slot">
        <b><a href="#internal-slot">#internal-slot</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-internal-slot">2.3.2. An internal slot of a JavaScript Object</a> <a
                    href="#ref-for-internal-slot①">(2)</a> <a href="#ref-for-internal-slot②">(3)</a> <a
                    href="#ref-for-internal-slot③">(4)</a> <a href="#ref-for-internal-slot④">(5)</a> <a
                    href="#ref-for-internal-slot⑤">(6)</a> <a href="#ref-for-internal-slot⑥">(7)</a>
            <li><a href="#ref-for-internal-slot⑦">2.3.3. An internal method of a JavaScript Object</a>
            <li><a href="#ref-for-internal-slot⑧">2.5. JavaScript Objects</a> <a href="#ref-for-internal-slot⑨">(2)</a>
                <a href="#ref-for-internal-slot①⓪">(3)</a> <a href="#ref-for-internal-slot①①">(4)</a> <a
                    href="#ref-for-internal-slot①②">(5)</a> <a href="#ref-for-internal-slot①③">(6)</a>
            <li><a href="#ref-for-internal-slot①④">Common abstract operations</a> <a
                    href="#ref-for-internal-slot①⑤">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abstract-opdef-newtarget">
        <b><a href="#abstract-opdef-newtarget">#abstract-opdef-newtarget</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-opdef-newtarget">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a> <a href="#ref-for-abstract-opdef-newtarget①">(2)</a> <a
                    href="#ref-for-abstract-opdef-newtarget②">(3)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abstract-opdef-call">
        <b><a href="#abstract-opdef-call">#abstract-opdef-call</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-opdef-call">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abstract-opdef-get">
        <b><a href="#abstract-opdef-get">#abstract-opdef-get</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-opdef-get">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abstract-opdef-getv">
        <b><a href="#abstract-opdef-getv">#abstract-opdef-getv</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-opdef-getv">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abstract-opdef-returnifabrupt">
        <b><a href="#abstract-opdef-returnifabrupt">#abstract-opdef-returnifabrupt</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-opdef-returnifabrupt">2.4. Completion Records; ? and !</a> <a
                    href="#ref-for-abstract-opdef-returnifabrupt①">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abstract-opdef-toboolean">
        <b><a href="#abstract-opdef-toboolean">#abstract-opdef-toboolean</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-opdef-toboolean">2.4. Completion Records; ? and !</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abstract-opdef-tonumber">
        <b><a href="#abstract-opdef-tonumber">#abstract-opdef-tonumber</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-opdef-tonumber">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abstract-opdef-toobject">
        <b><a href="#abstract-opdef-toobject">#abstract-opdef-toobject</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-opdef-toobject">Common abstract operations</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abstract-opdef-toprimitive">
        <b><a href="#abstract-opdef-toprimitive">#abstract-opdef-toprimitive</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-opdef-toprimitive">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a> <a href="#ref-for-abstract-opdef-toprimitive①">(2)</a> <a
                    href="#ref-for-abstract-opdef-toprimitive②">(3)</a> <a
                    href="#ref-for-abstract-opdef-toprimitive③">(4)</a> <a
                    href="#ref-for-abstract-opdef-toprimitive④">(5)</a> <a
                    href="#ref-for-abstract-opdef-toprimitive⑤">(6)</a> <a
                    href="#ref-for-abstract-opdef-toprimitive⑥">(7)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abstract-opdef-tostring">
        <b><a href="#abstract-opdef-tostring">#abstract-opdef-tostring</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-opdef-tostring">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a> <a href="#ref-for-abstract-opdef-tostring①">(2)</a>
            <li><a href="#ref-for-abstract-opdef-tostring②">Common abstract operations</a> <a
                    href="#ref-for-abstract-opdef-tostring③">(2)</a>
        </ul>
    </aside>
    <aside class="dfn-panel" data-for="abstract-opdef-type">
        <b><a href="#abstract-opdef-type">#abstract-opdef-type</a></b><b>Referenced in:</b>
        <ul>
            <li><a href="#ref-for-abstract-opdef-type">2.7. Example: Can Boolean() and String() ever throw
                    exceptions?</a>
        </ul>
    </aside>
    <script>/* script-dfn-panel */

        document.body.addEventListener("click", function (e) {
            var queryAll = function (sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while (el.parentElement) {
                if (el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if (el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if (el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if (target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function (el) {
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if (target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if (dfnPanel) {
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if (panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if (target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
    </script>
    <script>/* script-var-click-highlighting */

        document.addEventListener("click", e => {
            if (e.target.nodeName == "VAR") {
                highlightSameAlgoVars(e.target);
            }
        });
        {
            const indexCounts = new Map();
            const indexNames = new Map();
            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = null;
                let searchEl = v;
                while (algoContainer == null && searchEl != document.body) {
                    searchEl = searchEl.parentNode;
                    if (searchEl.hasAttribute("data-algorithm")) {
                        algoContainer = searchEl;
                    }
                }

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const algoName = algoContainer.getAttribute("data-algorithm");
                const varName = getVarName(v);
                const addClass = !v.classList.contains("selected");
                let highlightClass = null;
                if (addClass) {
                    const index = chooseHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] += 1;
                    indexNames.set(algoName + "///" + varName, index);
                    highlightClass = nameFromIndex(index);
                } else {
                    const index = previousHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] -= 1;
                    highlightClass = nameFromIndex(index);
                }

                // Find all same-name vars, and toggle their class appropriately.
                for (const el of algoContainer.querySelectorAll("var")) {
                    if (getVarName(el) == varName) {
                        el.classList.toggle("selected", addClass);
                        el.classList.toggle(highlightClass, addClass);
                    }
                }
            }
            function getVarName(el) {
                return el.textContent.replace(/(\s| )+/, " ").trim();
            }
            function chooseHighlightIndex(algoName, varName) {
                let indexes = null;
                if (indexCounts.has(algoName)) {
                    indexes = indexCounts.get(algoName);
                } else {
                    // 7 classes right now
                    indexes = [0, 0, 0, 0, 0, 0, 0];
                    indexCounts.set(algoName, indexes);
                }

                // If the element was recently unclicked,
                // *and* that color is still unclaimed,
                // give it back the same color.
                const lastIndex = previousHighlightIndex(algoName, varName);
                if (indexes[lastIndex] === 0) return lastIndex;

                // Find the earliest index with the lowest count.
                const minCount = Math.min.apply(null, indexes);
                let index = null;
                for (var i = 0; i < indexes.length; i++) {
                    if (indexes[i] == minCount) {
                        return i;
                    }
                }
            }
            function previousHighlightIndex(algoName, varName) {
                return indexNames.get(algoName + "///" + varName);
            }
            function nameFromIndex(index) {
                return "selected" + index;
            }
        }
    </script>
    <script src="/dropdown.js"></script>
