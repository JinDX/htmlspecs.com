<!DOCTYPE html>
<html lang="zh-hans" dir="ltr" typeof="bibo:Document w3p:REC"
    prefix="bibo: http://purl.org/ontology/bibo/ w3p: http://www.w3.org/2001/02pd/rec54#">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- <meta lang="" property="dc:language" content="en"> -->
    <style>
        /*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

        .hljs {
            display: block;
            overflow-x: auto;
            padding: 0.5em;
            color: #333;
            background: #f8f8f8;
        }

        .hljs-comment,
        .hljs-quote {
            color: #998;
            font-style: italic;
        }

        .hljs-keyword,
        .hljs-selector-tag,
        .hljs-subst {
            color: #333;
            font-weight: bold;
        }

        .hljs-number,
        .hljs-literal,
        .hljs-variable,
        .hljs-template-variable,
        .hljs-tag .hljs-attr {
            color: #008080;
        }

        .hljs-string,
        .hljs-doctag {
            color: #d14;
        }

        .hljs-title,
        .hljs-section,
        .hljs-selector-id {
            color: #900;
            font-weight: bold;
        }

        .hljs-subst {
            font-weight: normal;
        }

        .hljs-type,
        .hljs-class .hljs-title {
            color: #458;
            font-weight: bold;
        }

        .hljs-tag,
        .hljs-name,
        .hljs-attribute {
            color: #000080;
            font-weight: normal;
        }

        .hljs-regexp,
        .hljs-link {
            color: #009926;
        }

        .hljs-symbol,
        .hljs-bullet {
            color: #990073;
        }

        .hljs-built_in,
        .hljs-builtin-name {
            color: #0086b3;
        }

        .hljs-meta {
            color: #999;
            font-weight: bold;
        }

        .hljs-deletion {
            background: #fdd;
        }

        .hljs-addition {
            background: #dfd;
        }

        .hljs-emphasis {
            font-style: italic;
        }

        .hljs-strong {
            font-weight: bold;
        }
    </style>
    <style>
        /* --- EXAMPLES --- */

        div.example-title {
            min-width: 7.5em;
            color: #b9ab2d;
        }

        div.example-title span {
            text-transform: uppercase;
        }

        aside.example,
        div.example,
        div.illegal-example {
            padding: 0.5em;
            margin: 1em 0;
            position: relative;
            clear: both;
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: black
        }

        aside.example,
        div.example {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid;
            border-color: #e0cb52;
            background: #fcfaee;
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff;
        }

        aside.example div.example div.example-title {
            color: #999;
        }
    </style>
    <style>
        /* --- ISSUES/NOTES --- */

        div.issue-title,
        div.note-title,
        div.ednote-title,
        div.warning-title {
            padding-right: 1em;
            min-width: 7.5em;
            color: #b9ab2d;
        }

        div.issue-title {
            color: #e05252;
        }

        div.note-title,
        div.ednote-title {
            color: #2b2;
        }

        div.warning-title {
            color: #f22;
        }

        div.issue-title span,
        div.note-title span,
        div.ednote-title span,
        div.warning-title span {
            text-transform: uppercase;
        }

        div.note,
        div.issue,
        div.ednote,
        div.warning {
            margin-top: 1em;
            margin-bottom: 1em;
        }

        .note>p:first-child,
        .ednote>p:first-child,
        .issue>p:first-child,
        .warning>p:first-child {
            margin-top: 0
        }

        .issue,
        .note,
        .ednote,
        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid;
        }

        div.issue,
        div.note,
        div.ednote,
        div.warning {
            padding: 1em 1.2em 0.5em;
            margin: 1em 0;
            position: relative;
            clear: both;
        }

        span.note,
        span.ednote,
        span.issue,
        span.warning {
            padding: .1em .5em .15em;
        }

        .issue {
            border-color: #e05252;
            background: #fbe9e9;
        }

        .note,
        .ednote {
            border-color: #52e052;
            background: #e9fbe9;
        }

        .warning {
            border-color: #f11;
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
        }

        .warning-title:before {
            content: "⚠";
            /*U+26A0 WARNING SIGN*/
            font-size: 3em;
            float: left;
            height: 100%;
            padding-right: .3em;
            vertical-align: top;
            margin-top: -0.5em;
        }

        li.task-list-item {
            list-style: none;
        }

        input.task-list-item-checkbox {
            margin: 0 0.35em 0.25em -1.6em;
            vertical-align: middle;
        }
    </style>
    <title>Micropub</title>




    <link rel="pingback" href="https://webmention.io/w3c/xmlrpc">
    <link rel="webmention" href="https://webmention.io/w3c/webmention">
    <style id="respec-mainstyle">
        /*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/
        /* Override code highlighter background */

        .hljs {
            background: transparent !important;
        }

        /* --- INLINES --- */

        em.rfc2119 {
            text-transform: lowercase;
            font-style: normal;
            color: #900;
        }

        h1 abbr,
        h2 abbr,
        h3 abbr,
        h4 abbr,
        h5 abbr,
        h6 abbr,
        a abbr {
            border: none;
        }

        dfn {
            font-weight: bold;
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none;
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none;
        }

        a.bibref {
            text-decoration: none;
        }

        cite .bibref {
            font-style: normal;
        }

        code {
            color: #C83500;
        }

        th code {
            color: inherit;
        }

        /* --- TOC --- */

        .toc a,
        .tof a {
            text-decoration: none;
        }

        a .secno,
        a .figno {
            color: #000;
        }

        ul.tof,
        ol.tof {
            list-style: none outside none;
        }

        .caption {
            margin-top: 0.5em;
            font-style: italic;
        }

        /* --- TABLE --- */

        table.simple {
            border-spacing: 0;
            border-collapse: collapse;
            border-bottom: 3px solid #005a9c;
        }

        .simple th {
            background: #005a9c;
            color: #fff;
            padding: 3px 5px;
            text-align: left;
        }

        .simple th[scope="row"] {
            background: inherit;
            color: inherit;
            border-top: 1px solid #ddd;
        }

        .simple td {
            padding: 3px 10px;
            border-top: 1px solid #ddd;
        }

        .simple tr:nth-child(even) {
            background: #f0f6ff;
        }

        /* --- DL --- */

        .section dd>p:first-child {
            margin-top: 0;
        }

        .section dd>p:last-child {
            margin-bottom: 0;
        }

        .section dd {
            margin-bottom: 1em;
        }

        .section dl.attrs dd,
        .section dl.eldef dd {
            margin-bottom: 0;
        }

        #issue-summary>ul,
        .respec-dfn-list {
            column-count: 2;
        }

        #issue-summary li,
        .respec-dfn-list li {
            list-style: none;
        }

        @media print {
            .removeOnSave {
                display: none;
            }
        }
    </style>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-REC">
    <link rel="canonical" href="https://www.w3.org/TR/micropub/">
    <meta name="generator" content="ReSpec 12.0.6">
    <script id="initialUserConfig" type="application/json">
    {
      "useExperimentalStyles": true,
      "publishDate": "2017-05-23",
      "specStatus": "REC",
      "previousMaturity": "PR",
      "previousPublishDate": "2017-04-13",
      "shortName": "micropub",
      "edDraftURI": "https://micropub.net/draft/",
      "testSuiteURI": "https://micropub.rocks/",
      "implementationReportURI": "https://micropub.net/implementation-reports/",
      "editors": [
      {
        "name": "Aaron Parecki",
        "url": "https://aaronparecki.com/",
        "w3cid": "59996"
      }],
      "wg": "Social Web Working Group",
      "wgURI": "https://www.w3.org/Social/WG",
      "wgPublicList": "public-socialweb",
      "wgPatentURI": "https://www.w3.org/2004/01/pp-impl/72531/status",
      "errata": "https://micropub.net/errata/",
      "license": "w3c-software-doc",
      "postProcess": [
        null
      ],
      "otherLinks": [
      {
        "key": "Repository",
        "data": [
        {
          "value": "Github",
          "href": "https://github.com/w3c/micropub"
        },
        {
          "value": "Issues",
          "href": "https://github.com/w3c/micropub/issues"
        },
        {
          "value": "Commits",
          "href": "https://github.com/w3c/micropub/commits/master"
        }]
      }],
      "localBiblio":
      {
        "Microformats2":
        {
          "title": "Microformats 2",
          "href": "http://microformats.org/wiki/microformats2",
          "authors": [
            "Tantek Çelik"
          ],
          "status": "Living Specification",
          "publisher": "microformats.org"
        },
        "microformats2-parsing":
        {
          "title": "Microformats2 Parsing",
          "href": "http://microformats.org/wiki/microformats2-parsing",
          "authors": [
            "Tantek Çelik"
          ],
          "status": "Living Specification",
          "publisher": "microformats.org"
        },
        "h-entry":
        {
          "title": "h-entry",
          "href": "http://microformats.org/wiki/h-entry",
          "authors": [
            "Tantek Çelik"
          ],
          "status": "Living Specification",
          "publisher": "microformats.org"
        },
        "h-card":
        {
          "title": "h-card",
          "href": "http://microformats.org/wiki/h-card",
          "authors": [
            "Tantek Çelik"
          ],
          "status": "Living Specification",
          "publisher": "microformats.org"
        },
        "h-event":
        {
          "title": "h-event",
          "href": "http://microformats.org/wiki/h-event",
          "authors": [
            "Tantek Çelik"
          ],
          "status": "Living Specification",
          "publisher": "microformats.org"
        },
        "h-adr":
        {
          "title": "h-adr",
          "href": "http://microformats.org/wiki/h-adr",
          "authors": [
            "Tantek Çelik"
          ],
          "status": "Living Specification",
          "publisher": "microformats.org"
        },
        "IndieAuth":
        {
          "title": "IndieAuth",
          "href": "https://indieweb.org/IndieAuth-spec",
          "authors": [
            "Aaron Parecki"
          ],
          "status": "Living Specification",
          "publisher": "indieweb.org"
        },
        "URL":
        {
          "title": "URL",
          "href": "https://url.spec.whatwg.org/",
          "authors": [
            "Anne van Kesteren"
          ],
          "status": "Living Specification",
          "publisher": "WHATWG"
        }
      }
    }
  </script>
</head>

<body aria-busy="false" class="h-entry" id="respecDocument">
    <div class="head" role="contentinfo" id="respecHeader">
        <p>
            <a class="logo" href="https://www.w3.org/"><img width="72" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C"></a>
        </p>
        <h1 class="title p-name" id="title" property="dcterms:title">Micropub</h1>
        <h2 id="w3c-recommendation-23-may-2017"><abbr title="World Wide Web Consortium">W3C</abbr> 推荐 <time
                property="dcterms:issued" class="dt-published" datetime="2017-05-23">2017年5月23日</time></h2>
        <dl>
            <dt>本版本：</dt>
            <dd><a class="u-url"
                    href="https://www.w3.org/TR/2017/REC-micropub-20170523/">https://www.w3.org/TR/2017/REC-micropub-20170523/</a>
            </dd>
            <dt>最新发布版本：</dt>
            <dd><a href="https://www.w3.org/TR/micropub/">https://www.w3.org/TR/micropub/</a></dd>
            <dt>最新编辑草稿：</dt>
            <dd><a href="https://micropub.net/draft/">https://micropub.net/draft/</a></dd>
            <dt>测试套件：</dt>
            <dd><a href="https://micropub.rocks/">https://micropub.rocks/</a></dd>
            <dt>实现报告：</dt>
            <dd><a href="https://micropub.net/implementation-reports/">https://micropub.net/implementation-reports/</a>
            </dd>
            <dt>先前版本：</dt>
            <dd><a rel="dcterms:replaces"
                    href="https://www.w3.org/TR/2017/PR-micropub-20170413/">https://www.w3.org/TR/2017/PR-micropub-20170413/</a>
            </dd>
            <dt>编辑：</dt>
            <dd class="p-author h-card vcard" property="bibo:editor" resource="_:editor0" data-editor-id="59996"><span
                    property="rdf:first" typeof="foaf:Person">
                    <meta property="foaf:name" content="Aaron Parecki"><a class="u-url url p-name fn"
                        property="foaf:homepage" href="https://aaronparecki.com/">Aaron Parecki</a>
                </span>
                <span property="rdf:rest" resource="rdf:nil"></span>
            </dd>

            <dt>代码库：</dt>
            <dd>
                <a href="https://github.com/w3c/micropub">
                    Github
                </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/micropub/issues">
                    问题
                </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/micropub/commits/master">
                    提交记录
                </a>
            </dd>
        </dl>
        <p>
            如需了解发布后报告的任何错误或问题，请查看<a href="https://micropub.net/errata/"><strong>勘误表</strong></a>。
        </p>
        <p>
            本规范的英文版本为唯一具有规范性的版本。也可参考非规范性<a
                href="https://www.w3.org/2003/03/Translations/byTechnology?technology=https://www.w3.org/TR/micropub/">翻译</a>。
        </p>
        <p class="copyright">
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2017

            <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
                href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
            <a href="https://www.ercim.eu/"><abbr
                    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
            <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
            <abbr title="World Wide Web Consortium">W3C</abbr> <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive
                document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>

    <section id="abstract" class="introductory" property="dc:abstract">
        <h2 id="h-abstract" resource="#h-abstract"><span property="xhv:role" resource="xhv:heading">摘要</span></h2>
        <p class="p-summary" id="abstract-p-1">
            Micropub 协议用于通过第三方客户端在自己的域名上创建、更新和删除文章。网页应用和原生应用（如 iPhone、Android）都可以使用 Micropub
            在你自己的网站上发布和编辑文章、短消息、评论、点赞、照片、事件或其他类型的内容。
        </p>

        <section id="authorsnote" class="informative" typeof="bibo:Chapter" resource="#authorsnote"
            property="bibo:hasPart">
            <h3 id="h-authorsnote" resource="#h-authorsnote"><span property="xhv:role"
                    resource="xhv:heading">作者说明</span></h3>
            <p id="authorsnote-p-1"><em>本节为非规范性内容。</em></p>
            <p id="authorsnote-p-2">本规范由<a href="https://indieweb.org/">IndieWeb</a> 社区贡献给 <abbr
                    title="World Wide Web Consortium">W3C</abbr>。关于 Micropub 的更多历史和发展内容可以在
                <a href="https://indieweb.org/micropub">IndieWeb wiki</a> 上查阅。
            </p>
        </section>
    </section>

    <section id="sotd" class="introductory">
        <h2 id="h-sotd" resource="#h-sotd"><span property="xhv:role" resource="xhv:heading">本文件状态</span></h2>
        <p id="sotd-p-1">
            <em>本节描述了本文件在发布时的状态。其它文件可能会取代本文件。当前 <abbr title="World Wide Web Consortium">W3C</abbr> 发布和本技术报告的最新修订版可在 <a
                    href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> 技术报告索引</a>
                https://www.w3.org/TR/ 上查阅。</em>
        </p>

        <p id="sotd-p-2">
            本文件由<a href="https://www.w3.org/Social/WG">社交网络工作组</a>作为推荐标准发布。欢迎就本文件提出意见，请发送至
            <a href="mailto:public-socialweb@w3.org">public-socialweb@w3.org</a>（<a
                href="mailto:public-socialweb-request@w3.org?subject=subscribe">订阅</a>，
            <a href="https://lists.w3.org/Archives/Public/public-socialweb/">存档</a>）。
        </p>
        <p id="sotd-p-3">
            请参阅工作组的<a href="https://micropub.net/implementation-reports/">实现报告</a>。
        </p>
        <p id="sotd-p-4">
            本文件已由 <abbr title="World Wide Web Consortium">W3C</abbr> 成员、软件开发者及其它 <abbr
                title="World Wide Web Consortium">W3C</abbr> 组织和相关方评审，并作为 <abbr
                title="World Wide Web Consortium">W3C</abbr> 推荐标准获得主任认可。该文件为稳定版本，可以作为参考资料使用，也可以被其他文件引用。<abbr
                title="World Wide Web Consortium">W3C</abbr> 制定推荐标准的作用在于引起大家对规范的关注并推动其广泛部署，从而增强 Web 的功能和互操作性。
        </p>
        <p id="sotd-p-5">
            本文件由一支遵循
            <a id="sotd_patent" property="w3p:patentRules"
                href="https://www.w3.org/Consortium/Patent-Policy-20040205/">2004年2月5日 <abbr
                    title="World Wide Web Consortium">W3C</abbr> 专利政策</a>
            运作的小组制作。
            <abbr title="World Wide Web Consortium">W3C</abbr> 维护了一份<a
                href="https://www.w3.org/2004/01/pp-impl/72531/status"
                rel="disclosure">与小组成果相关的专利披露公开列表</a>；该页面也包含披露专利的说明。任何个人如果实际知晓某项专利且认为其包含
            <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">必要权利要求</a>
            ，则必须根据
            <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">《W3C 专利政策》第6节</a>
            披露相关信息。
        </p>
        <p id="sotd-p-6">本文件依据 <a id="w3c_process_revision" href="https://www.w3.org/2017/Process-20170301/">2017年3月1日
                <abbr title="World Wide Web Consortium">W3C</abbr> 流程文件</a> 管理。
        </p>

    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents" resource="#table-of-contents"><span property="xhv:role"
                resource="xhv:heading">目录</span></h2>
        <ol class="toc" role="directory">
            <li class="tocline"><a href="#introduction" class="tocxref"><span class="secno">1. </span>简介</a>
                <ol class="toc">
                    <li class="tocline"><a href="#social-web-working-group" class="tocxref"><span class="secno">1.1
                            </span>社交网络工作组</a></li>
                    <li class="tocline"><a href="#background" class="tocxref"><span class="secno">1.2
                            </span>背景</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#conformance" class="tocxref"><span class="secno">2. </span>一致性</a>
                <ol class="toc">
                    <li class="tocline"><a href="#conformance-classes" class="tocxref"><span class="secno">2.1
                            </span>一致性类别</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#publishing-clients" class="tocxref"><span class="secno">2.1.1
                                    </span>发布客户端</a></li>
                            <li class="tocline"><a href="#editing-clients" class="tocxref"><span class="secno">2.1.2
                                    </span>编辑客户端</a></li>
                            <li class="tocline"><a href="#servers" class="tocxref"><span class="secno">2.1.3
                                    </span>服务器</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#candidate-recommendation-exit-criteria" class="tocxref"><span
                                class="secno">2.2 </span>候选推荐退出标准</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#client" class="tocxref"><span class="secno">2.2.1
                                    </span>客户端</a></li>
                            <li class="tocline"><a href="#server" class="tocxref"><span class="secno">2.2.2
                                    </span>服务器</a></li>
                            <li class="tocline"><a href="#independent" class="tocxref"><span class="secno">2.2.3
                                    </span>独立</a></li>
                            <li class="tocline"><a href="#interoperable" class="tocxref"><span class="secno">2.2.4
                                    </span>互操作性</a></li>
                            <li class="tocline"><a href="#implementation" class="tocxref"><span class="secno">2.2.5
                                    </span>实现</a></li>
                            <li class="tocline"><a href="#feature" class="tocxref"><span class="secno">2.2.6
                                    </span>功能</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#test-suite-and-reporting" class="tocxref"><span class="secno">2.3
                            </span>测试套件与报告</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#syntax" class="tocxref"><span class="secno">3. </span>语法</a>
                <ol class="toc">
                    <li class="tocline"><a href="#overview" class="tocxref"><span class="secno">3.1 </span>概述</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#form-encoded-and-multipart-requests" class="tocxref"><span
                                        class="secno">3.1.1 </span>表单编码与多部分请求</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#reserved-properties" class="tocxref"><span class="secno">3.2
                            </span>保留属性</a></li>
                    <li class="tocline"><a href="#create" class="tocxref"><span class="secno">3.3 </span>创建</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#uploading-files" class="tocxref"><span class="secno">3.3.1
                                    </span>文件上传</a></li>
                            <li class="tocline"><a href="#json-syntax" class="tocxref"><span class="secno">3.3.2
                                    </span>JSON 语法</a></li>
                            <li class="tocline"><a href="#nested-microformats-objects" class="tocxref"><span
                                        class="secno">3.3.3 </span>嵌套 Microformats 对象</a></li>
                            <li class="tocline"><a href="#bidirectional-text" class="tocxref"><span class="secno">3.3.4
                                    </span>双向文本</a></li>
                            <li class="tocline"><a href="#unrecognized-properties" class="tocxref"><span
                                        class="secno">3.3.5 </span>未识别属性</a></li>
                            <li class="tocline"><a href="#response" class="tocxref"><span class="secno">3.3.6
                                    </span>响应</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#update" class="tocxref"><span class="secno">3.4 </span>更新</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#replace" class="tocxref"><span class="secno">3.4.1
                                    </span>替换</a></li>
                            <li class="tocline"><a href="#add" class="tocxref"><span class="secno">3.4.2 </span>添加</a>
                            </li>
                            <li class="tocline"><a href="#remove" class="tocxref"><span class="secno">3.4.3
                                    </span>移除</a></li>
                            <li class="tocline"><a href="#response-1" class="tocxref"><span class="secno">3.4.4
                                    </span>响应</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#delete" class="tocxref"><span class="secno">3.5 </span>删除</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#response-2" class="tocxref"><span class="secno">3.5.1
                                    </span>响应</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#media-endpoint" class="tocxref"><span class="secno">3.6
                            </span>媒体端点</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#discovery" class="tocxref"><span class="secno">3.6.1
                                    </span>发现</a></li>
                            <li class="tocline"><a href="#authentication" class="tocxref"><span class="secno">3.6.2
                                    </span>认证</a></li>
                            <li class="tocline"><a href="#request" class="tocxref"><span class="secno">3.6.3
                                    </span>请求</a></li>
                            <li class="tocline"><a href="#response-3" class="tocxref"><span class="secno">3.6.4
                                    </span>响应</a>
                                <ol class="toc">
                                    <li class="tocline"><a href="#media-endpoint-error-response" class="tocxref"><span
                                                class="secno">3.6.4.1 </span>媒体端点错误响应</a></li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#querying" class="tocxref"><span class="secno">3.7 </span>查询</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#configuration" class="tocxref"><span class="secno">3.7.1
                                    </span>配置</a></li>
                            <li class="tocline"><a href="#source-content" class="tocxref"><span class="secno">3.7.2
                                    </span>源内容</a></li>
                            <li class="tocline"><a href="#syndication-targets" class="tocxref"><span class="secno">3.7.3
                                    </span>联合发布目标</a></li>
                            <li class="tocline"><a href="#query-extensions" class="tocxref"><span class="secno">3.7.4
                                    </span>查询扩展</a></li>
                        </ol>
                    </li>
                    <li class="tocline"><a href="#error-response" class="tocxref"><span class="secno">3.8
                            </span>错误响应</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#vocabulary" class="tocxref"><span class="secno">4. </span>词汇表</a>
                <ol class="toc">
                    <li class="tocline"><a href="#examples-of-creating-objects" class="tocxref"><span class="secno">4.1
                            </span>对象创建示例</a>
                        <ol class="toc">
                            <li class="tocline"><a href="#new-note" class="tocxref"><span class="secno">4.1.1
                                    </span>新建短消息</a></li>
                            <li class="tocline"><a href="#new-reply" class="tocxref"><span class="secno">4.1.2
                                    </span>新建回复</a></li>
                            <li class="tocline"><a href="#new-article-with-html" class="tocxref"><span
                                        class="secno">4.1.3 </span>带 HTML 的新文章</a></li>
                            <li class="tocline"><a href="#new-article-with-embedded-images" class="tocxref"><span
                                        class="secno">4.1.4 </span>含嵌入图片的新文章</a></li>
                            <li class="tocline"><a href="#posting-files" class="tocxref"><span class="secno">4.1.5
                                    </span>上传文件</a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li class="tocline"><a href="#authentication-and-authorization" class="tocxref"><span class="secno">5.
                    </span>认证与授权</a>
                <ol class="toc">
                    <li class="tocline"><a href="#authentication-1" class="tocxref"><span class="secno">5.1
                            </span>认证</a></li>
                    <li class="tocline"><a href="#authorization" class="tocxref"><span class="secno">5.2
                            </span>授权</a></li>
                    <li class="tocline"><a href="#endpoint-discovery" class="tocxref"><span class="secno">5.3
                            </span>端点发现</a></li>
                    <li class="tocline"><a href="#scope" class="tocxref"><span class="secno">5.4 </span>作用域</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#security-considerations" class="tocxref"><span class="secno">6.
                    </span>安全性注意事项</a>
                <ol class="toc">
                    <li class="tocline"><a href="#external-content" class="tocxref"><span class="secno">6.1
                            </span>外部内容</a></li>
                    <li class="tocline"><a href="#security-and-privacy-review" class="tocxref"><span class="secno">6.2
                            </span>安全与隐私评估</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#iana-considerations" class="tocxref"><span class="secno">7. </span>IANA
                    相关事项</a></li>
            <li class="tocline"><a href="#resources" class="tocxref"><span class="secno">A. </span>资源</a>
                <ol class="toc">
                    <li class="tocline"><a href="#implementations" class="tocxref"><span class="secno">A.1
                            </span>实现</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#acknowledgements" class="tocxref"><span class="secno">B.
                    </span>致谢</a></li>
            <li class="tocline"><a href="#change-log" class="tocxref"><span class="secno">C. </span>变更日志</a>
                <ol class="toc">
                    <li class="tocline"><a href="#changes-from-13-april-2017-pr-to-this-version" class="tocxref"><span
                                class="secno">C.1 </span>2017年4月13日 PR 到本版本的变更</a></li>
                    <li class="tocline"><a href="#changes-from-18-october-2016-cr-to-13-april-2017-pr"
                            class="tocxref"><span class="secno">C.2 </span>2016年10月18日 CR 到 2017年4月13日 PR 的变更</a></li>
                    <li class="tocline"><a href="#changes-from-16-august-2016-cr-to-18-october-2016-cr"
                            class="tocxref"><span class="secno">C.3 </span>2016年8月16日 CR 到 2016年10月18日 CR 的变更</a></li>
                    <li class="tocline"><a href="#changes-from-13-july-2016-wd-to-16-august-2016-cr"
                            class="tocxref"><span class="secno">C.4 </span>2016年7月13日 WD 到 2016年8月16日 CR 的变更</a></li>
                    <li class="tocline"><a href="#changes-from-21-june-2016-wd-to-13-july-2016-wd" class="tocxref"><span
                                class="secno">C.5 </span>2016年6月21日 WD 到 2016年7月13日 WD 的变更</a></li>
                    <li class="tocline"><a href="#changes-from-04-may-2016-wd-to-21-june-2016-wd" class="tocxref"><span
                                class="secno">C.6 </span>2016年5月4日 WD 到 2016年6月21日 WD 的变更</a></li>
                    <li class="tocline"><a href="#changes-from-01-march-2016-wd-to-04-may-2016-wd" class="tocxref"><span
                                class="secno">C.7 </span>2016年3月1日 WD 到 2016年5月4日 WD 的变更</a></li>
                    <li class="tocline"><a href="#changes-from-28-january-2016-fpwd-to-01-march-2016-wd"
                            class="tocxref"><span class="secno">C.8 </span>2016年1月28日 FPWD 到 2016年3月1日 WD 的变更</a></li>
                </ol>
            </li>
            <li class="tocline"><a href="#references" class="tocxref"><span class="secno">D. </span>参考文献</a>
                <ol class="toc">
                    <li class="tocline"><a href="#normative-references" class="tocxref"><span class="secno">D.1
                            </span>规范性引用</a></li>
                    <li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">D.2
                            </span>补充引用</a></li>
                </ol>
            </li>
        </ol>
    </nav>



    <section class="informative" id="introduction" typeof="bibo:Chapter" resource="#introduction"
        property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-introduction" resource="#h-introduction"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">1. </span>简介</span>
        </h2>
        <p id="introduction-p-1"><em>本节为非规范性内容。</em></p>

        <p id="introduction-p-2">Micropub 是一个用于通过网页或原生应用客户端在服务器上创建、更新和删除文章的规范。Micropub
            主要关注于在网站上创建“文章”（如博文、照片、短消息、评论等内容的独立片段），虽然它也可以用于其它类型的内容。Micropub 规范定义了一种简单的内容创建机制，以及更为详细的内容更新和删除机制。</p>

        <section id="social-web-working-group" typeof="bibo:Chapter" resource="#social-web-working-group"
            property="bibo:hasPart">
            <h3 id="h-social-web-working-group" resource="#h-social-web-working-group"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">1.1 </span>社交网络工作组</span>
            </h3>

            <p id="social-web-working-group-p-1">Micropub 是由社交网络工作组制定的多个相关规范之一。对替代方案和互补协议感兴趣的实现者应查阅 <a
                    href="https://www.w3.org/TR/activitypub/">ActivityPub</a>，以及总览文档 [<cite><a class="bibref"
                        href="#bib-social-web-protocols">social-web-protocols</a></cite>]。</p>
        </section>

        <section id="background" typeof="bibo:Chapter" resource="#background" property="bibo:hasPart">
            <h3 id="h-background" resource="#h-background"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">1.2 </span>背景</span>
            </h3>

            <p id="background-p-1">Micropub 规范最初是对 AtomPub 和 MetaWeblog API 的简化版本。AtomPub 是用于在 Atom feed 中创建内容的 API，而
                Micropub 则是用于在 [<cite><a class="bibref" href="#bib-Microformats2">Microformats2</a></cite>] feed 中创建内容的
                API。</p>

            <p id="background-p-2">除了采用与 AtomPub 和 MetaWeblog 不同的词汇表外，Micropub 还在许多方面简化和改进了这两种 API。Micropub 使用 OAuth 2.0
                Bearer Token 进行认证，而不是以往不安全的用户名/密码认证方式。Micropub 也支持传统表单提交以及 JSON 提交，比 XMLRPC 方法更简单、更安全。</p>

            <p id="background-p-3">Micropub 的词汇表直接来源于 [<cite><a class="bibref"
                        href="#bib-Microformats2">Microformats2</a></cite>] 词汇表。Micropub 旨在实现一种可通过 HTTP POST 提交的
                Microformats 序列化方式。开发新的 Micropub 词汇表的方法是查看 Microformats 的表示形式并反向推导。</p>
        </section>

    </section>

    <section id="conformance" typeof="bibo:Chapter" resource="#conformance" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-conformance" resource="#h-conformance"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">2. </span>一致性</span>
        </h2>

        <p id="conformance-p-1">本文件中的 "<em class="rfc2119" title="MUST">必须</em>"、"<em class="rfc2119"
                title="MUST NOT">禁止</em>"、"<em class="rfc2119" title="REQUIRED">要求</em>"、"<em class="rfc2119"
                title="SHALL">应当</em>"、"<em class="rfc2119" title="SHALL NOT">不应</em>"、"
            <em class="rfc2119" title="SHOULD">推荐</em>"、"<em class="rfc2119" title="SHOULD NOT">不推荐</em>"、
            "<em class="rfc2119" title="RECOMMENDED">建议</em>"、"<em class="rfc2119" title="MAY">可以</em>" 以及
            "<em class="rfc2119" title="OPTIONAL">可选</em>" 应当按照 [<cite><a class="bibref"
                    href="#bib-RFC2119">RFC2119</a></cite>] 中的定义进行解释。
        </p>

        <section id="conformance-classes" typeof="bibo:Chapter" resource="#conformance-classes" property="bibo:hasPart">
            <h3 id="h-conformance-classes" resource="#h-conformance-classes"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">2.1 </span>一致性类别</span>
            </h3>

            <p id="conformance-classes-p-1">本节描述了 Micropub 客户端和服务器的一致性标准。所有实现 <em class="rfc2119" title="MUST">必须</em>
                支持 UTF-8 编码。</p>

            <section id="publishing-clients" typeof="bibo:Chapter" resource="#publishing-clients"
                property="bibo:hasPart">
                <h4 id="h-publishing-clients" resource="#h-publishing-clients"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">2.1.1 </span>发布客户端</span>
                </h4>

                <p id="publishing-clients-p-1">符合规范的 Micropub 发布客户端需：</p>
                <ul>
                    <li id="publishing-clients-li-1"><em class="rfc2119" title="MUST">必须</em> 支持发送
                        <code>x-www-form-urlencoded</code> 请求
                    </li>
                    <li id="publishing-clients-li-2"><em class="rfc2119" title="MUST">必须</em> 支持 [<cite><a
                                class="bibref" href="#bib-h-entry">h-entry</a></cite>] 词汇表</li>
                    <li id="publishing-clients-li-3">如果客户端通过上传附件文件来创建文章，则 <em class="rfc2119" title="MUST">必须</em>
                        检查是否存在媒体端点（Media Endpoint），如存在，则应将文件发送到该端点而不是 Micropub 端点</li>
                    <li id="publishing-clients-li-4"><em class="rfc2119" title="SHOULD">推荐</em>
                        处理服务器错误消息时应表现优雅，并给用户有帮助的提示</li>
                    <li id="publishing-clients-li-5"><em class="rfc2119" title="SHOULD">推荐</em> 支持 <a
                            href="#endpoint-discovery">端点发现</a></li>
                </ul>
            </section>

            <section id="editing-clients" typeof="bibo:Chapter" resource="#editing-clients" property="bibo:hasPart">
                <h4 id="h-editing-clients" resource="#h-editing-clients"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">2.1.2 </span>编辑客户端</span>
                </h4>

                <p id="editing-clients-p-1">符合规范的 Micropub 编辑客户端需：</p>
                <ul>
                    <li id="editing-clients-li-1"><em class="rfc2119" title="MUST">必须</em> 支持发送 JSON 编码请求</li>
                    <li id="editing-clients-li-2"><em class="rfc2119" title="MUST">必须</em> 支持 [<cite><a class="bibref"
                                href="#bib-h-entry">h-entry</a></cite>] 词汇表</li>
                </ul>
            </section>

            <section id="servers" typeof="bibo:Chapter" resource="#servers" property="bibo:hasPart">
                <h4 id="h-servers" resource="#h-servers"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">2.1.3 </span>服务器</span>
                </h4>

                <p id="servers-p-1">符合规范的 Micropub 服务器需：</p>
                <ul>
                    <li id="servers-li-1"><em class="rfc2119" title="MUST">必须</em> 同时支持通过请求头和表单参数两种 <a
                            href="#authentication">认证</a>方式</li>
                    <li id="servers-li-2"><em class="rfc2119" title="MUST">必须</em> 支持使用 [<cite><a class="bibref"
                                href="#bib-h-entry">h-entry</a></cite>] 词汇表 <a href="#create">创建</a> 文章</li>
                    <li id="servers-li-3"><em class="rfc2119" title="MUST">必须</em> 支持 <a href="#create">创建</a> 文章使用
                        <code>x-www-form-urlencoded</code> 语法
                    </li>
                    <li id="servers-li-4"><em class="rfc2119" title="SHOULD">推荐</em> 支持 <a href="#update">更新</a> 和 <a
                            href="#delete">删除</a> 文章</li>
                    <li id="servers-li-5">如服务器支持文章更新功能，则 <em class="rfc2119" title="MUST">必须</em>
                        支持 <a href="#json-syntax">JSON 语法</a> 和 <a href="#source-content">源内容查询</a></li>
                    <li id="servers-li-6">如服务器未指定媒体端点，则 <em class="rfc2119" title="MUST">必须</em> 支持使用
                        <code>multipart/form-data</code> 请求 <a href="#create">创建</a> 文章
                    </li>
                    <li id="servers-li-7">如服务器指定了媒体端点，则 <em class="rfc2119" title="MUST">必须</em> 支持 <a
                            href="#configuration">配置查询</a>，其他服务器则 <em class="rfc2119" title="SHOULD">推荐</em> 支持配置查询</li>
                </ul>
            </section>

        </section>

        <section id="candidate-recommendation-exit-criteria" typeof="bibo:Chapter"
            resource="#candidate-recommendation-exit-criteria" property="bibo:hasPart">
            <h3 id="h-candidate-recommendation-exit-criteria" resource="#h-candidate-recommendation-exit-criteria"><span
                    property="xhv:role" resource="xhv:heading"><span class="secno">2.2 </span>候选推荐退出标准</span>
            </h3>

            <p id="candidate-recommendation-exit-criteria-p-1">本规范的退出 CR
                标准是每项功能至少有两个独立且可互操作的实现。不同的功能可由不同的产品实现。不要求所有功能都由同一产品实现。为实现此标准，定义如下术语：</p>

            <section id="client" typeof="bibo:Chapter" resource="#client" property="bibo:hasPart">
                <h4 id="h-client" resource="#h-client"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">2.2.1 </span>客户端</span>
                </h4>

                <p id="client-p-1">Micropub 客户端指能向服务器发送 Micropub 请求以创建或操作文章的实现。一致性标准见上文<a
                        href="#conformance-classes">一致性类别</a>。</p>
            </section>

            <section id="server" typeof="bibo:Chapter" resource="#server" property="bibo:hasPart">
                <h4 id="h-server" resource="#h-server"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">2.2.2 </span>服务器</span>
                </h4>

                <p id="server-p-1">Micropub 服务器指可根据 Micropub 请求创建，或可选地编辑、删除文章的实现。Micropub 服务器 <em class="rfc2119"
                        title="MAY">可以</em> 同时支持用于文件上传的媒体端点（Media Endpoint）。一致性标准见上方<a
                        href="#conformance-classes">一致性类别</a>。</p>
            </section>

            <section id="independent" typeof="bibo:Chapter" resource="#independent" property="bibo:hasPart">
                <h4 id="h-independent" resource="#h-independent"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">2.2.3 </span>独立性</span>
                </h4>

                <p id="independent-p-1">每个实现必须由不同的团队开发，不得共享、复用或派生自其他合格实现的代码。与本规范实现无关的代码可不受此限制。</p>
            </section>

            <section id="interoperable" typeof="bibo:Chapter" resource="#interoperable" property="bibo:hasPart">
                <h4 id="h-interoperable" resource="#h-interoperable"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">2.2.4 </span>互操作性</span>
                </h4>

                <p id="interoperable-p-1">当服务器按功能要求执行客户端的请求操作、客户端从服务器获得预期响应，且服务器也按要求向客户端返回响应时，则认为某单项功能的客户端和服务器实现可互操作。
                </p>
            </section>

            <section id="implementation" typeof="bibo:Chapter" resource="#implementation" property="bibo:hasPart">
                <h4 id="h-implementation" resource="#h-implementation"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">2.2.5 </span>实现</span>
                </h4>

                <p id="implementation-p-1">Micropub 实现指满足以下所有条件的客户端或服务器：</p>

                <ul>
                    <li id="implementation-li-1">实现了规范中相应一致性类别的功能</li>
                    <li id="implementation-li-2">以可下载软件或托管服务的形式公开对外提供</li>
                    <li id="implementation-li-3">不是实验性的（即面向广泛用户且可日常使用）</li>
                    <li id="implementation-li-4">适合个人作为其网站的主力实现</li>
                </ul>
            </section>

            <section id="feature" typeof="bibo:Chapter" resource="#feature" property="bibo:hasPart">
                <h4 id="h-feature" resource="#h-feature"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">2.2.6 </span>功能</span>
                </h4>

                <p id="feature-p-1">为评估退出标准，每项下列内容视为一个功能：</p>

                <ul>
                    <li id="feature-li-1">根据用户的资料页面 URL 发现 Micropub 端点</li>
                    <li id="feature-li-2">通过 HTTP <code>Authorization</code> 头部包含访问令牌认证请求</li>
                    <li id="feature-li-3">通过 <code>x-www-form-urlencoded</code> 请求体包含访问令牌认证请求</li>
                    <li id="feature-li-4">通过要求访问令牌包含至少一个 OAuth 2.0 scope 限制创建文章的权限</li>
                    <li id="feature-li-5">使用 <code>x-www-form-urlencoded</code> 语法和一个或多个属性创建文章</li>
                    <li id="feature-li-6">使用 JSON 语法和一个或多个属性创建文章</li>
                    <li id="feature-li-7">使用 <code>x-www-form-urlencoded</code> 语法为同一属性名创建多个值的文章</li>
                    <li id="feature-li-8">使用 JSON 语法为同一属性名创建多个值的文章</li>
                    <li id="feature-li-9">使用 JSON 语法并包含嵌套的 Microformats2 对象创建文章</li>
                    <li id="feature-li-10">向指定媒体端点上传文件</li>
                    <li id="feature-li-11">通过 <code>multipart/form-data</code> 方式向 Micropub 端点发送请求并上传文件创建文章</li>
                    <li id="feature-li-12">通过 URL 引用照片创建文章</li>
                    <li id="feature-li-13">通过包含图片 alt 文本的 URL 引用照片创建文章</li>
                    <li id="feature-li-14">请求中包含服务器未识别属性时创建文章</li>
                    <li id="feature-li-15">创建文章时返回 <code>HTTP 201 Created</code> 及 <code>Location</code> 头部</li>
                    <li id="feature-li-16">创建文章时返回 <code>HTTP 202 Created</code> 及 <code>Location</code> 头部</li>
                    <li id="feature-li-17">更新文章并替换某属性的所有值</li>
                    <li id="feature-li-18">更新文章并向属性添加一个值</li>
                    <li id="feature-li-19">更新文章并从属性中移除某个值</li>
                    <li id="feature-li-20">更新文章并移除某个属性</li>
                    <li id="feature-li-21">更新文章时返回 <code>HTTP 200 OK</code></li>
                    <li id="feature-li-22">如更新导致文章 URL 变更时，返回 <code>HTTP 201 Created</code></li>
                    <li id="feature-li-23">更新文章时返回 <code>HTTP 204 No Content</code></li>
                    <li id="feature-li-24">使用 <code>x-www-form-urlencoded</code> 语法删除文章</li>
                    <li id="feature-li-25">使用 JSON 语法删除文章</li>
                    <li id="feature-li-26">使用 <code>x-www-form-urlencoded</code> 语法取消删除（undelete）文章</li>
                    <li id="feature-li-27">使用 JSON 语法取消删除（undelete）文章</li>
                    <li id="feature-li-28">将照片上传到媒体端点并在创建文章时使用返回的 URL</li>
                    <li id="feature-li-29">通过 <code>q=config</code> 查询 Micropub 端点以获取媒体端点和联合发布目标（如有）</li>
                    <li id="feature-li-30">通过 <code>q=syndicate-to</code> 查询 Micropub 端点以获取联合发布目标列表</li>
                    <li id="feature-li-31">不带属性列表查询 Micropub 端点获取文章源内容</li>
                    <li id="feature-li-32">仅查询特定属性时查询 Micropub 端点获取文章源内容</li>
                </ul>

            </section>
        </section>

        <section id="test-suite-and-reporting" typeof="bibo:Chapter" resource="#test-suite-and-reporting"
            property="bibo:hasPart">
            <h3 id="h-test-suite-and-reporting" resource="#h-test-suite-and-reporting"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">2.3 </span>测试套件与报告</span>
            </h3>

            <p id="test-suite-and-reporting-p-1">请在 <a
                    href="https://micropub.net/implementation-reports/">https://micropub.net/implementation-reports/</a>
                提交你的实现报告。页面中有详细说明。实现报告模板参见 <a href="https://micropub.rocks/">micropub.rocks</a> 所提供的测试。</p>

            <p id="test-suite-and-reporting-p-2"><a href="https://micropub.rocks/">micropub.rocks</a>
                提供了丰富的测试用例，可用于现场测试你的实现，对实现 Micropub 过程中遇到错误时也能获得详细情况反馈，是开发 Micropub 实现的实用工具。</p>
        </section>

    </section>
    <!-- Conformance -->

    <section id="syntax" typeof="bibo:Chapter" resource="#syntax" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-syntax" resource="#h-syntax"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.
                </span>语法</span>
        </h2>

        <p id="syntax-p-1">由于 [<cite><a class="bibref"
                    href="#bib-microformats2-parsing">microformats2-parsing</a></cite>] 对于将 HTML
            文档解析为数据结构的规则集相对较小，Micropub 同样定义了一套较小的规则，用以将 HTTP POST 和 GET 请求解释为 Micropub 命令。和 [<cite><a class="bibref"
                    href="#bib-microformats2-parsing">microformats2-parsing</a></cite>] 一样，在引入新属性（如 [<cite><a
                    class="bibref" href="#bib-h-entry">h-entry</a></cite>]）时不需要更改解析规则，Micropub
            也不要求更改解析规则来处理可能对应不同文章类型（如发布视频和“点赞”）的请求。
        </p>
        <p id="syntax-p-2">Micropub 语法描述了如何将 HTTP POST 和 GET 请求解释为有用的服务器操作。</p>

        <section id="overview" typeof="bibo:Chapter" resource="#overview" property="bibo:hasPart">
            <h3 id="h-overview" resource="#h-overview"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">3.1 </span>概述</span>
            </h3>

            <p id="overview-p-1">所有用于创建文章的 Micropub 请求都采用 UTF-8
                <a
                    href="https://www.w3.org/TR/html5/forms.html#url-encoded-form-data"><code>x-www-form-urlencoded</code></a>、
                <a
                    href="https://www.w3.org/TR/html5/forms.html#multipart-form-data"><code>multipart/form-data</code></a>
                [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]，或 [<cite><a class="bibref"
                        href="#bib-JSON">JSON</a></cite>] 编码的 HTTP 请求发送。通常响应不带响应体，所需信息（如创建的文章 URL）通过 HTTP 头部返回。如需响应体，<em
                    class="rfc2119" title="SHOULD">推荐</em> 返回 [<cite><a class="bibref" href="#bib-JSON">JSON</a></cite>]
                编码对象。
            </p>

            <section id="form-encoded-and-multipart-requests" typeof="bibo:Chapter"
                resource="#form-encoded-and-multipart-requests" property="bibo:hasPart">
                <h4 id="h-form-encoded-and-multipart-requests" resource="#h-form-encoded-and-multipart-requests"><span
                        property="xhv:role" resource="xhv:heading"><span class="secno">3.1.1 </span>表单编码与多部分请求</span>
                </h4>

                <p id="form-encoded-and-multipart-requests-p-1">针对 <code>x-www-form-urlencoded</code> 和
                    <code>multipart/form-data</code> 请求，Micropub 扩展了标准的 URL 编码，增加了对多值属性的显式指示。即，如果需要对某属性发送多个值，<em
                        class="rfc2119" title="MUST">必须</em>
                    在属性名后加上方括号 <code>[]</code>。
                </p>

                <p id="form-encoded-and-multipart-requests-p-2">例如，要给 "category" 属性指定多个值，请求中应为
                    <code>category[]=foo&amp;category[]=bar</code>。
                </p>

                <p id="form-encoded-and-multipart-requests-p-3">服务器端应将其转换为内部数组结构。对应的 JSON 表达例如下：
                </p>
                <pre aria-busy="false" aria-live="polite" class="hljs json">{
  <span class="hljs-attr">"category"</span>: [
    <span class="hljs-string">"foo"</span>,
    <span class="hljs-string">"bar"</span>
  ]
}</pre>
                <p id="form-encoded-and-multipart-requests-p-4"></p>

                <p id="form-encoded-and-multipart-requests-p-5">在多部分请求中同样适用，每个值给在请求的独立“部分”，并使用类似
                    <code>Content-Disposition: form-data; name="category[]"</code> 的行指明名称。
                </p>

                <p id="form-encoded-and-multipart-requests-p-6">注意，对 <a
                        href="https://www.w3.org/TR/html5/forms.html#url-encoded-form-data"><code>x-www-form-urlencoded</code></a>
                    语法的唯一扩展就是增加方括号以表示数组。不支持 <code>foo[0]</code> 和 <code>foo[bar]</code> 这种语法，因此对于更复杂的对象，客户端应使用 <a
                        href="#json-syntax">JSON 语法</a> 提交。

                </p>
            </section>
        </section>

        <section id="reserved-properties" typeof="bibo:Chapter" resource="#reserved-properties" property="bibo:hasPart">
            <h3 id="h-reserved-properties" resource="#h-reserved-properties"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">3.2 </span>保留属性</span>
            </h3>

            <p id="reserved-properties-p-1">当请求采用 <code>x-www-form-urlencoded</code> 或 <code>multipart/form-data</code>
                发送时，有一些属性名是保留的。
            </p>

            <p id="reserved-properties-p-2">
            </p>
            <ul>
                <li id="reserved-properties-li-1"><code>access_token</code> - OAuth Bearer 令牌用于认证请求（可放在 HTTP
                    Authorization 头部或者以此表单参数提交）</li>
                <li id="reserved-properties-li-2"><code>h</code> - 指定要创建的对象类型</li>
                <li id="reserved-properties-li-3"><code>action</code> - 指明本次操作是 <code>delete</code> 或
                    <code>undelete</code>（表单编码语法下不支持 update 操作）
                </li>
                <li id="reserved-properties-li-4"><code>url</code> - 指明操作的对象 URL</li>
                <li id="reserved-properties-li-5"><code>mp-*</code> - 保留作将来扩展</li>
            </ul>
            <p id="reserved-properties-p-3"></p>

            <p id="reserved-properties-p-4">使用 <code>x-www-form-urlencoded</code> 或 <code>multipart/form-data</code>
                创建文章时，请求中的其它属性都视为要创建对象的属性。
            </p>

            <p id="reserved-properties-p-5">服务器 <em class="rfc2119" title="MUST NOT">禁止</em> 将 <code>access_token</code>
                属性存入文章中。
            </p>

            <p id="reserved-properties-p-6">以 <code>mp-</code>
                开头的属性保留给客户端用于向服务器下达命令。通常文章属性对用户可见，而命令对服务器可见，设置文章属性不适用于命令。希望扩展 <code>mp-</code> 命令的客户端和服务器可在 <a
                    href="https://indieweb.org/Micropub-extensions">indieweb.org/Micropub-extensions</a> 讨论并文档化实现方案。</p>

            <p id="reserved-properties-p-7">使用 <a href="#json-syntax">JSON 语法</a> 创建文章时，以 <code>mp-</code> 开头的属性同样依上述保留。
            </p>
        </section>

        <section id="create" typeof="bibo:Chapter" resource="#create" property="bibo:hasPart">
            <h3 id="h-create" resource="#h-create"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">3.3 </span>创建</span>
            </h3>

            <p id="create-p-1">要创建一篇文章，应向 Micropub 端点发送 HTTP POST 请求，指明要创建的文章类型和具体属性。如果未指定类型，则默认应采用 [<cite><a
                        class="bibref" href="#bib-h-entry">h-entry</a></cite>] 类型。客户端和服务器 <em class="rfc2119"
                    title="MUST">必须</em>
                支持使用 <code>x-www-form-urlencoded</code> 语法创建文章，也 <em class="rfc2119" title="MAY">可以</em> 支持 <a
                    href="#json-syntax">JSON 语法</a>创建文章。
            </p>

            <p id="create-p-2"></p>
            <pre aria-busy="false" aria-live="polite" class="hljs undefined">h={Microformats object type}</pre>
            <p id="create-p-3"></p>
            <p id="create-p-4">例如：<code>h=entry</code></p>
            <p id="create-p-5">所有不以“mp-”开头的参数均为创建对象的属性。</p>
            <p id="create-p-6">例如：<code>content=hello+world</code></p>
            <p id="create-p-7">如需为某属性（如 h-entry 的多个分类）指定多个值，应在属性名后加方括号表示该值为数组。</p>
            <p id="create-p-8">例如：<code>category[]=foo&amp;category[]=bar</code></p>
            <p id="create-p-9">可接受多值的属性 <em class="rfc2119" title="MUST">必须</em> 也兼容只带单个值（可带方括号或不带）。如下是 form-encoded
                请求完整样例。</p>
            <p id="create-p-10"></p>
            <div class="example">
                <div class="example-title marker"><span>示例 1</span></div>
                <pre class="hljs undefined" aria-busy="false"
                    aria-live="polite">h=entry&amp;content=hello+world&amp;category[]=foo&amp;category[]=bar</pre>
            </div>
            <p id="create-p-11"></p>

            <section id="uploading-files" typeof="bibo:Chapter" resource="#uploading-files" property="bibo:hasPart">
                <h4 id="h-uploading-files" resource="#h-uploading-files"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.3.1 </span>文件上传</span>
                </h4>

                <p id="uploading-files-p-1">上传文件时，客户端 <em class="rfc2119" title="MUST">必须</em> 检查是否存在 <a
                        href="#media-endpoint">媒体端点</a>。如无媒体端点，则可假定 Micropub 端点可直接接收文件，并可直接向其发起请求。上传文件时，整个请求采用
                    <code>multipart/form-data</code> 格式，并以标准属性名发送文件。
                </p>
                <p id="uploading-files-p-2">例如，要上传一张带标题的照片，需发送包含 <code>h</code>、<code>content</code> 和
                    <code>photo</code> 三个部分的请求。
                </p>
                <p id="uploading-files-p-3"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 2</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">multipart/form-data; boundary=<span class="hljs-number">553</span>d9cee2030456a81931fb708ece92c

-<span class="hljs-number">-553</span>d9cee2030456a81931fb708ece92c
Content-Disposition: form-data; name=<span class="hljs-string">"h"</span>

entry
-<span class="hljs-number">-553</span>d9cee2030456a81931fb708ece92c
Content-Disposition: form-data; name=<span class="hljs-string">"content"</span>

Hello World!
-<span class="hljs-number">-553</span>d9cee2030456a81931fb708ece92c
Content-Disposition: form-data; name=<span class="hljs-string">"photo"</span>; filename=<span class="hljs-string">"aaronpk.png"</span>
Content-Type: image/png
Content-Transfer-Encoding: binary

... (binary data) ...
-<span class="hljs-number">-553</span>d9cee2030456a81931fb708ece92c--</pre>
                </div>
                <p id="uploading-files-p-4"></p>

                <p id="uploading-files-p-5">对于支持文件上传的属性（如 <code>photo</code> 或 <code>video</code>），Micropub 端点 <em
                        class="rfc2119" title="MUST">必须</em> 也接受 URL 值，并将其视同于直接上传。端点 <em class="rfc2119"
                        title="MAY">可以</em> 通过 [<cite><a class="bibref" href="#bib-Fetch">Fetch</a></cite>] 下载该 URL
                    的文件副本，并与直接上传存储一致。例如：
                </p>

                <p id="uploading-files-p-6"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 3</span></div>
                    <pre class="hljs undefined" aria-busy="false"
                        aria-live="polite">h=entry&amp;content=hello+world&amp;photo=https%3A%2F%2Fphotos.example.com%2F592829482876343254.jpg</pre>
                </div>
                <p id="uploading-files-p-7"></p>

                <p id="uploading-files-p-8">这是为了支持通过媒体端点或通过引用其它外部图片进行文件上传。更多信息见 <a href="#media-endpoint">媒体端点</a> 章节。
                </p>

            </section>

            <section id="json-syntax" typeof="bibo:Chapter" resource="#json-syntax" property="bibo:hasPart">
                <h4 id="h-json-syntax" resource="#h-json-syntax"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">3.3.2 </span>JSON 语法</span>
                </h4>

                <p id="json-syntax-p-1">为支持属性的更复杂取值，你可以以 JSON 语法在解析后的 Microformats 2 JSON 格式中发送数据创建文章。</p>
                <p id="json-syntax-p-2">注意此时不能直接上传文件，只能按照前述以 URL 形式引用文件。</p>
                <p id="json-syntax-p-3">使用 JSON 格式创建文章时，所有值 <em class="rfc2119" title="MUST">必须</em>以数组形式指定，即使只有一个值，与
                    Microformats 2 JSON 格式一致。请求需声明内容类型为 <code>application/json</code>。
                </p>
                <p id="json-syntax-p-4">以 <code>mp-</code> 开头的属性依 <a href="#reserved-properties">保留属性</a> 规定保留。</p>
                <p id="json-syntax-p-5"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 4</span></div>
                    <pre class="hljs http" aria-busy="false" aria-live="polite"><span class="hljs-keyword">POST</span> <span class="hljs-string">/micropub</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: aaronpk.example
<span class="hljs-attribute">Content-type</span>: application/json

<span class="json">{
  <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"h-entry"</span>],
  <span class="hljs-attr">"properties"</span>: {
    <span class="hljs-attr">"content"</span>: [<span class="hljs-string">"hello world"</span>],
    <span class="hljs-attr">"category"</span>: [<span class="hljs-string">"foo"</span>,<span class="hljs-string">"bar"</span>],
    <span class="hljs-attr">"photo"</span>: [<span class="hljs-string">"https://photos.example.com/592829482876343254.jpg"</span>]
  }
}</span></pre>
                </div>
                <p id="json-syntax-p-6"></p>

                <h4 id="uploading-a-photo-with-alt-text">上传带 alt 文本的图片</h4>

                <p id="json-syntax-p-7">如需为上传的图片添加 alt 文本，可以用 Microformats 2 语法为 <code>photo</code> 属性同时指定图片 URL 和 alt
                    文本。此时值不是简单 URL，而是包含 <code>value</code>（URL）和 <code>alt</code>（文本）两个属性的对象。由于 <code>photo</code>
                    需要对象型值，不能用 form-encoded 或 multipart 请求实现。请先将图片上传至媒体端点，再在 JSON 请求中引用 URL，如下所示。</p>

                <p id="json-syntax-p-8"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 5</span></div>
                    <pre class="hljs http" aria-busy="false" aria-live="polite"><span class="hljs-keyword">POST</span> <span class="hljs-string">/micropub</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: aaronpk.example
<span class="hljs-attribute">Content-type</span>: application/json

<span class="json">{
  <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"h-entry"</span>],
  <span class="hljs-attr">"properties"</span>: {
    <span class="hljs-attr">"content"</span>: [<span class="hljs-string">"hello world"</span>],
    <span class="hljs-attr">"category"</span>: [<span class="hljs-string">"foo"</span>,<span class="hljs-string">"bar"</span>],
    <span class="hljs-attr">"photo"</span>: [
      {
        <span class="hljs-attr">"value"</span>: <span class="hljs-string">"https://photos.example.com/globe.gif"</span>,
        <span class="hljs-attr">"alt"</span>: <span class="hljs-string">"Spinning globe animation"</span>
      }
    ]
  }
}</span></pre>
                </div>
                <p id="json-syntax-p-9"></p>

                <div class="warning">
                    <div class="warning-title marker"><span>警告</span></div>
                    <p class="" id="json-syntax-p-10">此处补充 alt 文本的方法假设 Microformats 2 关于图片 alt 文本表示的提案（<a
                            href="https://github.com/microformats/microformats2-parsing/issues/2#issuecomment-236712535">issue
                            2</a>）将被采纳。如其最终归纳方式不同，Micropub 规范也应相应调整。</p>
                </div>

            </section>

            <section id="nested-microformats-objects" typeof="bibo:Chapter" resource="#nested-microformats-objects"
                property="bibo:hasPart">
                <h4 id="h-nested-microformats-objects" resource="#h-nested-microformats-objects"><span
                        property="xhv:role" resource="xhv:heading"><span class="secno">3.3.3 </span>嵌套 Microformats
                        对象</span>
                </h4>

                <p id="nested-microformats-objects-p-1">如非必要，应尽量避免使用嵌套 Microformats 对象。更优做法是通过 URL 引用对象。例如在签到或标记照片时引用
                    h-card 场所等对象，建议先创建对象并用其 URL 引用。</p>

                <p id="nested-microformats-objects-p-2">这种方式使每个创建的对象都拥有独立
                    URL（即每条数据都有自己的链接），也方便服务器单独处理各个实体。例如某场所已存在时可以返回已有对象的链接，也可能先合并新数据再返回。</p>

                <p id="nested-microformats-objects-p-3">如果嵌套对象没有 URL 意义，比如发布 h-measure 类型值时，无需为 h-measure 分配
                    URL，这时可接受使用嵌套对象语法。
                </p>

                <p id="nested-microformats-objects-p-4">嵌套对象要求请求采用 JSON 格式，因为表单编码语法无法一致支持嵌套对象。</p>

                <p id="nested-microformats-objects-p-5">下例新建一条“体重”记录（h-entry 类型），其 <code>weight</code> 和
                    <code>bodyfat</code> 属性为 h-measure 嵌套对象。
                </p>

                <p id="nested-microformats-objects-p-6"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 6</span></div>
                    <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"h-entry"</span>],
  <span class="hljs-attr">"properties"</span>: {
    <span class="hljs-attr">"summary"</span>: [
      <span class="hljs-string">"Weighed 70.64 kg"</span>
    ],
    <span class="hljs-attr">"weight"</span>: [
      {
        <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"h-measure"</span>],
        <span class="hljs-attr">"properties"</span>: {
          <span class="hljs-attr">"num"</span>: [<span class="hljs-string">"70.64"</span>],
          <span class="hljs-attr">"unit"</span>: [<span class="hljs-string">"kg"</span>]
        }
      }
    ],
    <span class="hljs-attr">"bodyfat"</span>: [
      {
        <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"h-measure"</span>],
        <span class="hljs-attr">"properties"</span>: {
          <span class="hljs-attr">"num"</span>: [<span class="hljs-string">"19.83"</span>],
          <span class="hljs-attr">"unit"</span>: [<span class="hljs-string">"%"</span>]
        }
      }
    ]
  }
}</pre>
                </div>
                <p id="nested-microformats-objects-p-7"></p>

            </section>

            <section id="bidirectional-text" typeof="bibo:Chapter" resource="#bidirectional-text"
                property="bibo:hasPart">
                <h4 id="h-bidirectional-text" resource="#h-bidirectional-text"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.3.4 </span>双向文本</span>
                </h4>

                <p id="bidirectional-text-p-1">Micropub 请求中的自然语言内容 <em class="rfc2119" title="MAY">可以</em>
                    包含双向文本。Micropub 文本值的默认基方向为从左到右。若需修改某自然语言值的基方向，<em class="rfc2119" title="MAY">可以</em> 按如下方式操作。</p>

                <p id="bidirectional-text-p-2">如指定自然语言文本的双向属性，且首个强方向字符（参见 [<cite><a class="bibref"
                            href="#bib-BIDI">BIDI</a></cite>]）不足以判断文本基方向，客户端 <em class="rfc2119" title="SHOULD">推荐</em>
                    显式指定方向，可在值前加相应 Unicode 控制字符，也可对 HTML 值使用 HTML 方向标记。</p>

                <p id="bidirectional-text-p-3">支持包含双向文本的自然语言值的 Micropub 服务器 <em class="rfc2119" title="SHOULD">推荐</em>
                    通过以下方式识别值的基方向：对纯文本，扫描首个强方向字符；HTML 值则优先用方向标记，否则扫描不在标签内的首个强方向字符。显示这些自然语言内容时，服务器 <em class="rfc2119"
                        title="MUST">必须</em> 按 [<cite><a class="bibref" href="#bib-BIDI">BIDI</a></cite>]
                    算法决定内容渲染是否需包裹额外控制字符或标签，以正确应用基方向。</p>

            </section>

            <section id="unrecognized-properties" typeof="bibo:Chapter" resource="#unrecognized-properties"
                property="bibo:hasPart">
                <h4 id="h-unrecognized-properties" resource="#h-unrecognized-properties"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.3.5 </span>未识别属性</span>
                </h4>

                <p id="unrecognized-properties-p-1">如果请求中包含服务器未识别的属性，<em class="rfc2119" title="MUST">必须</em>
                    忽略这些属性，并仅用已识别的属性创建文章。</p>

                <p id="unrecognized-properties-p-2">这样客户端便可向支持丰富内容类型的服务器发送丰富内容，同时也能向不支持的服务器发送降级内容。</p>

                <p id="unrecognized-properties-p-3">例如，客户端可创建包含体重测量的文章，<code>weight</code> 属性用
                    h-measure，<code>summary</code> 属性加摘要。服务器如不识别 <code>weight</code> 则直接忽略，仅根据 summary 创建纯文本文章。
                </p>
            </section>

            <section id="response" typeof="bibo:Chapter" resource="#response" property="bibo:hasPart">
                <h4 id="h-response" resource="#h-response"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">3.3.6 </span>响应</span>
                </h4>

                <p id="response-p-1">文章创建成功后，Micropub 端点 <em class="rfc2119" title="MUST">必须</em> 返回
                    <code>HTTP 201 Created</code> 或 <code>HTTP 202 Accepted</code> 状态码，并且 <em class="rfc2119"
                        title="MUST">必须</em> 返回 <code>Location</code> 头部，指明创建内容的 URL。[<cite><a class="bibref"
                            href="#bib-RFC2616">RFC2616</a></cite>]
                </p>

                <p id="response-p-2"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 7</span></div>
                    <pre class="hljs http" aria-busy="false" aria-live="polite">HTTP/1.1 <span class="hljs-number">201</span> Created
<span class="hljs-attribute">Location</span>: https://aaronpk.example/post/1000</pre>
                </div>
                <p id="response-p-3"></p>

                <p id="response-p-4">如端点选择异步处理请求而非立即创建并保存文章，则 <em class="rfc2119" title="MUST">必须</em> 返回
                    <code>HTTP 202 Accepted</code> 状态码，并且 <em class="rfc2119" title="MUST">必须</em> 返回
                    <code>Location</code> 头部。服务器 <em class="rfc2119" title="MUST">必须</em> 同步完成所有校验，确保对象可成功创建后再返回 HTTP
                    202。若收到 HTTP 202，客户端应预期该 URL 在稍后会存在。
                </p>

                <p id="response-p-5">如果目标站点还提供短链，或已将文章联合发布到其它位置，Micropub 端点 <em class="rfc2119" title="MAY">可以</em> 通过
                    HTTP Link 头部和合适的 "rel" 值返回其它 URL。例如，可用如下响应返回一篇文章的短链：
                </p>
                <pre aria-busy="false" aria-live="polite"
                    class="hljs javascript">Link: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">http:</span>//<span class="hljs-attr">aaron.pk</span>/<span class="hljs-attr">xxxxx</span>&gt;</span></span>; rel=<span class="hljs-string">"shortlink"</span></pre>
                或返回联合发布文章位置：
                <pre aria-busy="false" aria-live="polite"
                    class="hljs javascript">Link: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">https:</span>//<span class="hljs-attr">myfavoritesocialnetwork.example</span>/<span class="hljs-attr">aaronpk</span>/<span class="hljs-attr">xxxxxx</span>&gt;</span></span>; rel=<span class="hljs-string">"syndication"</span></pre>
                <p id="response-p-6"></p>

                <h4 id="error-response-1">错误响应</h4>

                <p id="response-p-7">具体错误响应的方式见下方 "<a href="#error-response">错误响应</a>" 章节。</p>

            </section>
            <!-- Response -->

        </section>
        <!-- Create -->

        <section id="update" typeof="bibo:Chapter" resource="#update" property="bibo:hasPart">
            <h3 id="h-update" resource="#h-update"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">3.4 </span>更新</span>
            </h3>

            <p id="update-p-1">Micropub 服务器 <em class="rfc2119" title="SHOULD">推荐</em> 支持文章更新，包括新增和移除各属性如本节所述。</p>

            <p id="update-p-2">更新条目采用 JSON POST，描述要修改的内容。</p>

            <p id="update-p-3">要更新条目，应发送 <code>"action": "update"</code> 并通过 "url" 属性给出要更新的条目 URL。<em class="rfc2119"
                    title="MUST">必须</em> 还包含
                <code>replace</code>、
                <code>add</code> 或 <code>delete</code> 属性（或组合），含所需更新内容。
            </p>

            <p id="update-p-4">在 <code>replace</code>、<code>add</code> 或 <code>delete</code> 下的各属性值 <em class="rfc2119"
                    title="MUST">必须</em> 是数组，即使只有一个值也是如此。
            </p>

            <p id="update-p-5">虽然可在同一请求中混合 add/delete 操作，但必须分别作用于不同的属性-值组合。若为同一属性-值组合操作多个，服务器行为未定义。</p>

            <section id="replace" typeof="bibo:Chapter" resource="#replace" property="bibo:hasPart">
                <h4 id="h-replace" resource="#h-replace"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">3.4.1 </span>替换</span>
                </h4>

                <p id="replace-p-1">替换该属性所有值。若属性不存在，则新建该属性。</p>
                <p id="replace-p-2"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 8</span></div>
                    <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"action"</span>: <span class="hljs-string">"update"</span>,
  <span class="hljs-attr">"url"</span>: <span class="hljs-string">"https://aaronpk.example/post/100"</span>,
  <span class="hljs-attr">"replace"</span>: {
    <span class="hljs-attr">"content"</span>: [<span class="hljs-string">"hello moon"</span>]
  }
}</pre>
                </div>
                <p id="replace-p-3"></p>
                <p id="replace-p-4">这样将整条内容替换为新文本，其他已存在属性不变。</p>
            </section>

            <section id="add" typeof="bibo:Chapter" resource="#add" property="bibo:hasPart">
                <h4 id="h-add" resource="#h-add"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">3.4.2 </span>添加</span>
                </h4>

                <p id="add-p-1">如已有属性值则保持不变，只追加新值。如无则新建该属性。</p>

                <h4 id="adding-a-syndication-url">添加联合发布 URL</h4>
                <p id="add-p-2">使用场景：文章发布后再添加联合发布链接，例如先发布后再联合到 MyFavoriteSocialNetwork 或 Wikimedia，此时需要向原文追加新的联合发布 URL。
                </p>
                <p id="add-p-3">要添加联合发布 URL，在更新请求中追加一个或多个 URL。</p>
                <p id="add-p-4"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 9</span></div>
                    <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"action"</span>: <span class="hljs-string">"update"</span>,
  <span class="hljs-attr">"url"</span>: <span class="hljs-string">"https://aaronpk.example/2014/06/01/9/indieweb"</span>,
  <span class="hljs-attr">"add"</span>: {
    <span class="hljs-attr">"syndication"</span>: [<span class="hljs-string">"http://web.archive.org/web/20040104110725/https://aaronpk.example/2014/06/01/9/indieweb"</span>]
  }
}</pre>
                </div>
                <p id="add-p-5"></p>

                <h4 id="adding-tags">添加标签</h4>
                <p id="add-p-6">使用场景：文章已创建后补充标签。</p>
                <p id="add-p-7">为某属性（如 category）添加多个值，直接以数组形式提供。</p>
                <p id="add-p-8"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 10</span></div>
                    <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"action"</span>: <span class="hljs-string">"update"</span>,
  <span class="hljs-attr">"url"</span>: <span class="hljs-string">"https://aaronpk.example/2014/06/01/9/indieweb"</span>,
  <span class="hljs-attr">"add"</span>: {
    <span class="hljs-attr">"category"</span>: [<span class="hljs-string">"micropub"</span>,<span class="hljs-string">"indieweb"</span>]
  }
}</pre>
                </div>
                <p id="add-p-9"></p>
            </section>

            <section id="remove" typeof="bibo:Chapter" resource="#remove" property="bibo:hasPart">
                <h4 id="h-remove" resource="#h-remove"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">3.4.3 </span>移除</span>
                </h4>

                <p id="remove-p-1">存在该属性时，将其完全移除。</p>
                <p id="remove-p-2"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 11</span></div>
                    <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"action"</span>: <span class="hljs-string">"update"</span>,
  <span class="hljs-attr">"url"</span>: <span class="hljs-string">"https://aaronpk.example/2014/06/01/9/indieweb"</span>,
  <span class="hljs-attr">"delete"</span>: [<span class="hljs-string">"category"</span>]
}</pre>
                </div>
                <p id="remove-p-3"></p>

                <p id="remove-p-4">对于多值属性（如分类），可按值单独移除。当没有剩余值时该属性被完全移除。</p>

                <p id="remove-p-5"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 12</span></div>
                    <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"action"</span>: <span class="hljs-string">"update"</span>,
  <span class="hljs-attr">"url"</span>: <span class="hljs-string">"https://aaronpk.example/2014/06/01/9/indieweb"</span>,
  <span class="hljs-attr">"delete"</span>: {
    <span class="hljs-attr">"category"</span>: [<span class="hljs-string">"indieweb"</span>]
  }
}</pre>
                </div>
                <p id="remove-p-6"></p>
            </section>

            <section id="response-1" typeof="bibo:Chapter" resource="#response-1" property="bibo:hasPart">
                <h4 id="h-response-1" resource="#h-response-1"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">3.4.4 </span>响应</span>
                </h4>

                <p id="response-1-p-1">服务器 <em class="rfc2119" title="MUST">必须</em> 对成功的更新请求返回 HTTP 200、201 或
                    204。如果更新导致文章 URL 变更，服务器 <em class="rfc2119" title="MUST">必须</em> 返回 HTTP 201，并在 HTTP
                    <code>Location</code> 头部附上新 URL。否则应返回 200 或 204，视响应体是否含内容而定。响应体不是必须的，但 <em class="rfc2119"
                        title="MAY">可以</em> 包含描述变更的 JSON 对象。
                </p>

            </section>

        </section>
        <!-- Updating -->

        <section id="delete" typeof="bibo:Chapter" resource="#delete" property="bibo:hasPart">
            <h3 id="h-delete" resource="#h-delete"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">3.5 </span>删除</span>
            </h3>

            <p id="delete-p-1">Micropub 服务器<em class="rfc2119" title="SHOULD">推荐</em>支持删除文章，<em class="rfc2119"
                    title="MAY">可以</em>支持恢复（undelete）文章。</p>

            <p id="delete-p-2">如需删除某个 URL 的整条内容，请发送包含
                <code>action=delete</code> 以及该条内容
                <code>url</code> 属性的 POST 请求。
            </p>

            <p id="delete-p-3"></p>
            <div class="example">
                <div class="example-title marker"><span>示例 13</span></div>
                <pre class="hljs javascript" aria-busy="false" aria-live="polite">action=<span class="hljs-keyword">delete</span>
&amp;url=https:<span class="hljs-comment">//aaronpk.example/2014/06/01/9/indieweb</span></pre>
            </div>
            <p id="delete-p-4"></p>
            <p id="delete-p-5"></p>
            <div class="example">
                <div class="example-title marker"><span>示例 14</span></div>
                <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"action"</span>: <span class="hljs-string">"delete"</span>,
  <span class="hljs-attr">"url"</span>: <span class="hljs-string">"https://aaronpk.example/2014/06/01/9/indieweb"</span>
}</pre>
            </div>
            <p id="delete-p-6"></p>

            <p id="delete-p-7">如需恢复被删除的文章，将 action 值设为 "undelete" 即可。</p>
            <p id="delete-p-8"></p>
            <div class="example">
                <div class="example-title marker"><span>示例 15</span></div>
                <pre class="hljs javascript" aria-busy="false" aria-live="polite">action=undelete
&amp;url=https:<span class="hljs-comment">//aaronpk.example/2014/06/01/9/indieweb</span></pre>
            </div>
            <p id="delete-p-9"></p>
            <p id="delete-p-10"></p>
            <div class="example">
                <div class="example-title marker"><span>示例 16</span></div>
                <pre class="hljs json" aria-busy="false" aria-live="polite">{
  <span class="hljs-attr">"action"</span>: <span class="hljs-string">"undelete"</span>,
  <span class="hljs-attr">"url"</span>: <span class="hljs-string">"https://aaronpk.example/2014/06/01/9/indieweb"</span>
}</pre>
            </div>
            <p id="delete-p-11"></p>

            <section id="response-2" typeof="bibo:Chapter" resource="#response-2" property="bibo:hasPart">
                <h4 id="h-response-2" resource="#h-response-2"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">3.5.1 </span>响应</span>
                </h4>

                <p id="response-2-p-1">服务器<em class="rfc2119" title="MUST">必须</em>对删除和恢复（undelete）操作的成功请求返回 HTTP 200、201
                    或 204。如果恢复操作导致文章 URL 发生变化，服务器<em class="rfc2119" title="MUST">必须</em>返回 HTTP 201，并在 HTTP
                    <code>Location</code> 头部包含新 URL。否则，服务器应根据响应体是否有内容返回 200 或 204。响应体可为空，但<em class="rfc2119"
                        title="MAY">可以</em> 包含描述本次变更的 JSON 对象。
                </p>
            </section>

        </section>
        <!-- Delete -->

        <section id="media-endpoint" typeof="bibo:Chapter" resource="#media-endpoint" property="bibo:hasPart">
            <h3 id="h-media-endpoint" resource="#h-media-endpoint"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">3.6 </span>媒体端点</span>
            </h3>

            <p id="media-endpoint-p-1">为提升 Micropub 应用的用户体验，同时解决无法用 JSON 语法上传文件的限制，Micropub 服务器<em class="rfc2119"
                    title="MAY">可以</em>支持 “媒体端点”（Media Endpoint）。媒体端点专门用于处理文件上传，并返回一个可在后续 Micropub 请求里使用的 URL。</p>

            <p id="media-endpoint-p-2">当 Micropub 服务器支持媒体端点时，客户端可在用户创作其它内容的同时，直接上传照片或其它媒体。下图展示了一个应用在上传图片与填写文字异步进行时的界面流程。
            </p>

            <p id="media-endpoint-p-3"><img src="https://www.w3.org/TR/micropub/micropub-photo-app-flow.png"
                    style="width:100%;" alt="一个四格图，展示应用主界面、选择照片上传、在用户填写文字的同时异步上传文件，最后提交正文和图片 URL 至 Micropub 端点。">
            </p>

            <p id="media-endpoint-p-4">上述用户流程适用于移动端和桌面端。一般来说，提升用户体验的关键是让更多操作异步化，让用户可以继续操作而不是等待系统处理完成。</p>

            <section id="discovery" typeof="bibo:Chapter" resource="#discovery" property="bibo:hasPart">
                <h4 id="h-discovery" resource="#h-discovery"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">3.6.1 </span>发现</span>
                </h4>

                <p id="discovery-p-1">若 Micropub 端点支持媒体端点，服务器<em class="rfc2119" title="MUST">必须</em>在 Micropub <a
                        href="#configuration">配置请求</a>返回体内用 <code>media-endpoint</code> 键标明媒体端点的完整 URL。客户端<em
                        class="rfc2119" title="MUST NOT">禁止</em>假设媒体端点与 Micropub 端点同域。</p>

                <p id="discovery-p-2"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 17</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">GET /micropub?q=config
Authorization: Bearer xxxxxxxxx

{
  <span class="hljs-string">"media-endpoint"</span>: <span class="hljs-string">"https://media.example.com/micropub"</span>
}</pre>
                </div>
                <p id="discovery-p-3"></p>
            </section>

            <section id="authentication" typeof="bibo:Chapter" resource="#authentication" property="bibo:hasPart">
                <h4 id="h-authentication" resource="#h-authentication"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.6.2 </span>认证</span>
                </h4>

                <p id="authentication-p-1">媒体端点<em class="rfc2119" title="MUST">必须</em>接受与 Micropub 端点相同的访问令牌。</p>
            </section>

            <section id="request" typeof="bibo:Chapter" resource="#request" property="bibo:hasPart">
                <h4 id="h-request" resource="#h-request"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">3.6.3 </span>请求</span>
                </h4>

                <p id="request-p-1">向媒体端点上传文件，客户端需用 <code>multipart/form-data</code> 格式 POST 请求，其中一个 part 必须命名为
                    <code>file</code>。媒体端点<em class="rfc2119" title="MAY">可以</em> 忽略客户端建议的文件名。
                </p>

                <p id="request-p-2"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 18</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">multipart/form-data; boundary=<span class="hljs-number">553</span>d9cee2030456a81931fb708ece92c

-<span class="hljs-number">-553</span>d9cee2030456a81931fb708ece92c
Content-Disposition: form-data; name=<span class="hljs-string">"file"</span>; filename=<span class="hljs-string">"sunset.jpg"</span>
Content-Type: image/jpeg
Content-Transfer-Encoding: binary

... (binary data) ...
-<span class="hljs-number">-553</span>d9cee2030456a81931fb708ece92c--</pre>
                </div>
                <p id="request-p-3"></p>

                <div class="note">
                    <div class="note-title marker" aria-level="5" role="heading" id="h-note1"><span>注</span></div>
                    <p class="" id="request-p-4">在创建包含图片的文章时，如需传递图片的无障碍信息（如 alt 文本），应将 alt 文本与文章内容关联，而非与媒体文件本身关联。这类似
                        HTML 的 img 标签，其中 src 指向媒体文件，alt 属性为描述文本。详见<a href="#uploading-a-photo-with-alt-text">上传带 alt
                            文本的图片</a>章节。</p>
                </div>

            </section>

            <section id="response-3" typeof="bibo:Chapter" resource="#response-3" property="bibo:hasPart">
                <h4 id="h-response-3" resource="#h-response-3"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">3.6.4 </span>响应</span>
                </h4>

                <p id="response-3-p-1">媒体端点处理完文件上传，可将文件存储在任意后端，并生成该文件的 URL。<em class="rfc2119"
                        title="SHOULD">推荐</em>使用难以猜测的路径（如 UUID）。请求成功时，端点<em class="rfc2119" title="MUST">必须</em> 在 HTTP
                    <code>Location</code> 头返回文件的 URL，并响应 <code>HTTP 201 Created</code>。响应体内容未做规定。
                </p>

                <p id="response-3-p-2"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 19</span></div>
                    <pre class="hljs http" aria-busy="false" aria-live="polite">HTTP/1.1 <span class="hljs-number">201</span> Created
<span class="hljs-attribute">Location</span>: https://media.example.com/file/ff176c461dd111e6b6ba3e1d05defe78.jpg</pre>
                </div>
                <p id="response-3-p-3"></p>

                <p id="response-3-p-4">Micropub 客户端随后可在 Micropub 请求中将此 URL 用作“photo”等属性的值。</p>

                <p id="response-3-p-5">如果媒体文件在一段时间内未被用于 Micropub 请求，媒体端点<em class="rfc2119" title="MAY">可以</em> 定期清理、删除。
                </p>

                <section id="media-endpoint-error-response" typeof="bibo:Chapter"
                    resource="#media-endpoint-error-response" property="bibo:hasPart">
                    <h5 id="h-media-endpoint-error-response" resource="#h-media-endpoint-error-response"><span
                            property="xhv:role" resource="xhv:heading"><span class="secno">3.6.4.1
                            </span>媒体端点错误响应</span>
                    </h5>

                    <p id="media-endpoint-error-response-p-1">媒体端点<em class="rfc2119" title="SHOULD">推荐</em>遵循 Micropub
                        端点返回错误响应的约定，详见<a href="#error-response">错误响应</a>。</p>
                </section>
            </section>

        </section>

        <section id="querying" typeof="bibo:Chapter" resource="#querying" property="bibo:hasPart">
            <h3 id="h-querying" resource="#h-querying"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">3.7 </span>查询</span>
            </h3>

            <p id="querying-p-1">Micropub 客户端可能需要向 Micropub 端点查询其功能，例如查找能展示给用户的联合发布目标列表、或获取文章源数据以便更新界面展示。</p>

            <p id="querying-p-2">查询时，请用 <code>GET</code> 请求 Micropub 端点，通过 <code>q</code> 参数指定想要查询的内容。
            </p>

            <div class="note">
                <div class="note-title marker" aria-level="4" role="heading" id="h-note2"><span>注</span></div>
                <p class="" id="querying-p-3">Micropub 端点 URL 可能带有诸如 <code>?micropub=endpoint</code> 的参数。此时，Micropub
                    客户端<em class="rfc2119" title="MUST">必须</em>追加 <code>q</code> 参数，而不是替换原有参数串。
                </p>
            </div>

            <section id="configuration" typeof="bibo:Chapter" resource="#configuration" property="bibo:hasPart">
                <h4 id="h-configuration" resource="#h-configuration"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.7.1 </span>配置</span>
                </h4>

                <p id="configuration-p-1">当用户首次登录 Micropub 客户端时，客户端通常需要查询端点初始信息。客户端<em class="rfc2119"
                        title="SHOULD">推荐</em>用<code>q=config</code>的查询请求获取初步配置信息。</p>

                <p id="configuration-p-2">服务器<em class="rfc2119" title="SHOULD">推荐</em>在配置响应中包含以下信息。</p>

                <p id="configuration-p-3"></p>
                <ul>
                    <li id="configuration-li-1">所支持的联合发布端点清单，属性名为 <code>syndicate-to</code>（具体格式参见<a
                            href="#syndication-targets">联合发布目标</a>部分）
                    </li>
                    <li id="configuration-li-2">若支持，媒体端点，属性名为 <code>media-endpoint</code>
                    </li>
                </ul>
                <p id="configuration-p-4"></p>

                <p id="configuration-p-5"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 20</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">GET /micropub?q=config
Authorization: Bearer xxxxxxxxx
Accept: application/json

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
Content-type: application/json

{
  <span class="hljs-string">"media-endpoint"</span>: <span class="hljs-string">"https://media.example.com/micropub"</span>,
  <span class="hljs-string">"syndicate-to"</span>: [
    {
      <span class="hljs-string">"uid"</span>: <span class="hljs-string">"https://myfavoritesocialnetwork.example/aaronpk"</span>,
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"aaronpk on myfavoritesocialnetwork"</span>,
      <span class="hljs-string">"service"</span>: {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"My Favorite Social Network"</span>,
        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://myfavoritesocialnetwork.example/"</span>,
        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"https://myfavoritesocialnetwork.example/img/icon.png"</span>
      },
      <span class="hljs-string">"user"</span>: {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"aaronpk"</span>,
        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://myfavoritesocialnetwork.example/aaronpk"</span>,
        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"https://myfavoritesocialnetwork.example/aaronpk/photo.jpg"</span>
      }
    }
  ]
}</pre>
                </div>
                <p id="configuration-p-6"></p>

                <p id="configuration-p-7">服务器<em class="rfc2119" title="SHOULD">推荐</em>支持配置查询，并返回所有相关属性。若无适用属性，响应<em
                        class="rfc2119" title="SHOULD">推荐</em>为空 JSON：<code>{}</code>。</p>

                <p id="configuration-p-8">客户端<em class="rfc2119"
                        title="SHOULD">推荐</em>将异常响应处理为“空响应”，以兼容不支持该查询的服务器。例如服务器完全不实现配置查询时，可能会返回 HTTP 400 而不是 200+空 JSON。
                </p>
            </section>

            <section id="source-content" typeof="bibo:Chapter" resource="#source-content" property="bibo:hasPart">
                <h4 id="h-source-content" resource="#h-source-content"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.7.2 </span>源内容</span>
                </h4>

                <p id="source-content-p-1">Micropub 客户端可查询端点获取文章的特定属性，从而仅请求所需或已知属性，例如搭建“为文章补加标签”界面。</p>

                <p id="source-content-p-2">支持更新文章的服务器<em class="rfc2119" title="MUST">必须</em>支持源内容查询。</p>

                <p id="source-content-p-3">查询时，请用 <code>GET</code> 请求 Micropub 端点，将 <code>q</code> 设为
                    <code>source</code>，用 <code>url</code> 指明目标文章。可用 <code>properties</code> 指定属性名列表，多个时用数组格式，依照
                    [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>] URL 编码规则。
                </p>

                <p id="source-content-p-4">端点<em class="rfc2119" title="MUST">必须</em>用 [<cite><a class="bibref"
                            href="#bib-microformats2-parsing">microformats2-parsing</a></cite>][<cite><a class="bibref"
                            href="#bib-JSON">JSON</a></cite>] 格式响应，顶层为 <code>properties</code> 对象，键为请求属性名。若未指定属性，则响应<em
                        class="rfc2119" title="MUST">必须</em>返回全部属性，并含 <code>type</code> 属性说明词汇表类型。
                </p>

                <p id="source-content-p-5"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 21</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">GET /micropub?q=source&amp;properties[]=published&amp;properties[]=category&amp;url=https:<span class="hljs-comment">//aaronpk.example/post/1000</span>
Authorization: Bearer xxxxxxxxx
Accept: application/json

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
Content-type: application/json

{
  <span class="hljs-string">"properties"</span>: {
    <span class="hljs-string">"published"</span>: [<span class="hljs-string">"2016-02-21T12:50:53-08:00"</span>],
    <span class="hljs-string">"category"</span>: [
      <span class="hljs-string">"foo"</span>, 
      <span class="hljs-string">"bar"</span>
    ]
  }
}</pre>
                </div>
                <p id="source-content-p-6"></p>

                <p id="source-content-p-7"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 22</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">GET /micropub?q=source&amp;url=https:<span class="hljs-comment">//aaronpk.example/post/1000</span>
Authorization: Bearer xxxxxxxxx
Accept: application/json

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
Content-type: application/json

{
  <span class="hljs-string">"type"</span>: [<span class="hljs-string">"h-entry"</span>],
  <span class="hljs-string">"properties"</span>: {
    <span class="hljs-string">"published"</span>: [<span class="hljs-string">"2016-02-21T12:50:53-08:00"</span>],
    <span class="hljs-string">"content"</span>: [<span class="hljs-string">"Hello World"</span>],
    <span class="hljs-string">"category"</span>: [
      <span class="hljs-string">"foo"</span>, 
      <span class="hljs-string">"bar"</span>
    ]
  }
}</pre>
                </div>
                <p id="source-content-p-8"></p>

                <h4 id="html-content">HTML 内容</h4>

                <p id="source-content-p-9">如果文章内容以 HTML 写入，则端点<em class="rfc2119" title="MUST">必须</em>将
                    <code>content</code> 属性以包含 <code>html</code> 键的对象返回。否则应以字符串返回，客户端视为纯文本。此行为与 [<cite><a class="bibref"
                            href="#bib-microformats2-parsing">microformats2-parsing</a></cite>] 属性一致。
                </p>

                <p id="source-content-p-10">下例为请求 HTML 编辑的文章内容。</p>

                <p id="source-content-p-11"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 23</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">GET /micropub?q=source&amp;properties=content&amp;url=https:<span class="hljs-comment">//aaronpk.example/post/1000</span>
Authorization: Bearer xxxxxxxxx
Accept: application/json

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
Content-type: application/json

{
  <span class="hljs-string">"properties"</span>: {
    <span class="hljs-string">"content"</span>: [
      {
        <span class="hljs-string">"html"</span>: <span class="hljs-string">"&lt;b&gt;Hello&lt;/b&gt; &lt;i&gt;World&lt;/i&gt;"</span>
      }
    ]
  }
}</pre>
                </div>
                <p id="source-content-p-12"></p>

            </section>
            <!-- Source Content -->

            <section id="syndication-targets" typeof="bibo:Chapter" resource="#syndication-targets"
                property="bibo:hasPart">
                <h4 id="h-syndication-targets" resource="#h-syndication-targets"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.7.3 </span>联合发布目标</span>
                </h4>

                <p id="syndication-targets-p-1">如需返回所支持的联合发布目标列表，请将 <code>q</code> 参数设为 <code>syndicate-to</code>。
                </p>

                <p id="syndication-targets-p-2"></p>
                <pre aria-busy="false" aria-live="polite" class="hljs undefined">GET /micropub?q=syndicate-to</pre>
                <p id="syndication-targets-p-3"></p>

                <p id="syndication-targets-p-4">端点<em class="rfc2119" title="MUST">必须</em>用 [<cite><a class="bibref"
                            href="#bib-JSON">JSON</a></cite>] 格式响应，顶层键为
                    <code>syndicate-to</code>，值为描述所有目标的对象数组。若未定义任何联合发布目标，<code>syndicate-to</code> 对象值<em
                        class="rfc2119" title="SHOULD">推荐</em>为 <code>[]</code> 空数组。
                </p>

                <p id="syndication-targets-p-5">联合发布目标对象至少<em class="rfc2119" title="MUST">必须</em>包含 <code>uid</code>
                    和可读 <code>name</code>。<code>uid</code> 是端点唯一标识符，非用户可见。<code>name</code> 须清晰描述目标，供发布界面展示。</p>

                <p id="syndication-targets-p-6">目标<em class="rfc2119" title="MAY">可以</em>额外包含目标服务和用户详情，属性分别为
                    <code>service</code> 和 <code>user</code>。二者<em class="rfc2119" title="MUST">必须</em>有
                    <code>name</code>，<em class="rfc2119" title="MAY">可以</em>有 <code>url</code> 和
                    <code>photo</code>，客户端可用名称、头像美化界面。
                </p>

                <p id="syndication-targets-p-7"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 24</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">GET /micropub?q=syndicate-to
Authorization: Bearer xxxxxxxxx
Accept: application/json

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
Content-type: application/json

{
  <span class="hljs-string">"syndicate-to"</span>: [
    {
      <span class="hljs-string">"uid"</span>: <span class="hljs-string">"https://archive.org/"</span>,
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"archive.org"</span>
    },
    {
      <span class="hljs-string">"uid"</span>: <span class="hljs-string">"https://wikimedia.org/"</span>,
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"WikiMedia"</span>
    },
    {
      <span class="hljs-string">"uid"</span>: <span class="hljs-string">"https://myfavoritesocialnetwork.example/aaronpk"</span>,
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"aaronpk on myfavoritesocialnetwork"</span>,
      <span class="hljs-string">"service"</span>: {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"My Favorite Social Network"</span>,
        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://myfavoritesocialnetwork.example/"</span>,
        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"https://myfavoritesocialnetwork.example/img/icon.png"</span>
      },
      <span class="hljs-string">"user"</span>: {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"aaronpk"</span>,
        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://myfavoritesocialnetwork.example/aaronpk"</span>,
        <span class="hljs-string">"photo"</span>: <span class="hljs-string">"https://myfavoritesocialnetwork.example/aaronpk/photo.jpg"</span>
      }
    }
  ]
}</pre>
                </div>
                <p id="syndication-targets-p-8"></p>

                <p id="syndication-targets-p-9">每个联合发布目标至少<em class="rfc2119" title="MUST">必须</em>有 <code>uid</code> 和
                    <code>name</code> 属性。<code>uid</code> 对客户端不透明，为 Micropub 请求指明目标。<code>name</code>
                    供客户端显示，且需消歧，如同一服务下有多个目标。
                </p>

                <p id="syndication-targets-p-10">Micropub 服务器还<em class="rfc2119" title="MAY">可以</em>返回目标服务和用户信息，对应
                    <code>service</code> 与 <code>user</code>，二者可含 <code>name</code>（可读名）、<code>url</code> 和
                    <code>photo</code>（URL）。
                </p>

                <p id="syndication-targets-p-11">客户端可借助 service/user 属性（如头像）优化界面体验。</p>

                <p id="syndication-targets-p-12">支持联合发布的服务器<em class="rfc2119" title="SHOULD">推荐</em>支持
                    <code>syndicate-to</code> 查询。
                </p>

            </section>

            <section id="query-extensions" typeof="bibo:Chapter" resource="#query-extensions" property="bibo:hasPart">
                <h4 id="h-query-extensions" resource="#h-query-extensions"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">3.7.4 </span>查询扩展</span>
                </h4>

                <p id="query-extensions-p-1">如需扩展查询操作的功能，鼓励客户端与服务器在 <a
                        href="https://indieweb.org/Micropub-extensions">indieweb.org/Micropub-extensions</a> 头脑风暴并文档化实现。
                </p>
            </section>
        </section>
        <!-- Querying -->

        <section id="error-response" typeof="bibo:Chapter" resource="#error-response" property="bibo:hasPart">
            <h3 id="h-error-response" resource="#h-error-response"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">3.8 </span>错误响应</span>
            </h3>

            <p id="error-response-p-1">如请求有误，端点<em class="rfc2119" title="MUST">必须</em>返回合适 HTTP 状态码（通常为
                400、401、403），<em class="rfc2119" title="MAY">可以</em>包含错误描述。如果返回错误体，响应体<em class="rfc2119"
                    title="MUST">必须</em>为 [<cite><a class="bibref" href="#bib-JSON">JSON</a></cite>] 对象，且至少含有一个名为
                <code>error</code> 的属性。错误码如下：
            </p>

            <p id="error-response-p-2"></p>
            <ul>
                <li id="error-response-li-1">HTTP 403: <code>"error":"forbidden"</code> - 认证用户无权限执行此请求。</li>
                <li id="error-response-li-2">HTTP 401: <code>"error":"unauthorized"</code> - 本次请求缺少访问令牌。注意 403
                    代表有令牌但无权限，401 为完全未提供令牌。</li>
                <li id="error-response-li-3">HTTP 401: <code>"error":"insufficient_scope"</code> - 此令牌 scope
                    不满足本请求需求，客户端可提示用户重新授权。响应<em class="rfc2119" title="MAY">可以</em>包含所需 <code>"scope"</code>。</li>
                <li id="error-response-li-4">HTTP 400: <code>"error":"invalid_request"</code> - 请求缺少必要参数或某参数有误</li>
            </ul>
            <p id="error-response-p-3"></p>

            <p id="error-response-p-4">客户端<em class="rfc2119" title="SHOULD">推荐</em>对未知错误字符串视为通用错误。响应体<em
                    class="rfc2119" title="MAY">可以</em>含 <code>error_description</code>
                属性，其值为为开发者理解错误而写的人类可读描述。此描述非面向最终用户。</p>

            <p id="error-response-p-5">更多错误响应细节见 OAuth 2 Bearer Token [<cite><a class="bibref"
                        href="#bib-RFC6750">RFC6750</a></cite>] 规范。</p>

            <p id="error-response-p-6"></p>
            <div class="example">
                <div class="example-title marker"><span>示例 25</span></div>
                <pre class="hljs javascript" aria-busy="false" aria-live="polite">GET /micropub?q=source&amp;url=https:<span class="hljs-comment">//aaronpk.example/post/404</span>
Authorization: Bearer xxxxxxxx

HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">400</span> Bad Request
Content-type: application/json

{
  <span class="hljs-string">"error"</span>: <span class="hljs-string">"invalid_request"</span>,
  <span class="hljs-string">"error_description"</span>: <span class="hljs-string">"The post with the requested URL was not found"</span>
}</pre>
            </div>
            <p id="error-response-p-7"></p>

        </section>
        <!-- Error Response -->

    </section>
    <!-- Syntax -->

    <section id="vocabulary" typeof="bibo:Chapter" resource="#vocabulary" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-vocabulary" resource="#h-vocabulary"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">4. </span>词汇表</span>
        </h2>

        <p id="vocabulary-p-1">Micropub 请求中使用的词汇表<em class="rfc2119" title="SHOULD">推荐</em>采用 [<cite><a class="bibref"
                    href="#bib-Microformats2">Microformats2</a></cite>] 定义的那些词汇表。如果使用 Microformats2 词汇表，客户端和服务器<em
                class="rfc2119" title="MUST">必须</em>至少支持 [<cite><a class="bibref"
                    href="#bib-h-entry">h-entry</a></cite>] 词汇表。其它被广泛使用的词汇表包括 [<cite><a class="bibref"
                    href="#bib-h-event">h-event</a></cite>] 和 [<cite><a class="bibref"
                    href="#bib-h-card">h-card</a></cite>]。在创建对象时，该对象使用的词汇表通过参数 <code>h</code>（或在 JSON 语法下为
            <code>type</code>）指明。如果未提供 type，服务器<em class="rfc2119" title="SHOULD">应当</em>假定默认值为 <code>entry</code>。
        </p>

        <section class="informative" id="examples-of-creating-objects" typeof="bibo:Chapter"
            resource="#examples-of-creating-objects" property="bibo:hasPart">
            <h3 id="h-examples-of-creating-objects" resource="#h-examples-of-creating-objects"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">4.1 </span>对象创建示例</span>
            </h3>
            <p id="examples-of-creating-objects-p-1"><em>本节为非规范性内容。</em></p>

            <p id="examples-of-creating-objects-p-2">要指明要创建的对象，使用名为 <code>h</code> 的属性（这个名字不会用于 Microformats 对象的属性），后面加上
                Microformats 对象的名字。例如：
            </p>
            <ul>
                <li id="examples-of-creating-objects-li-1"><code>h=entry</code></li>
                <li id="examples-of-creating-objects-li-2"><code>h=card</code></li>
                <li id="examples-of-creating-objects-li-3"><code>h=event</code></li>
                <li id="examples-of-creating-objects-li-4"><code>h=cite</code></li>
            </ul>
            <p id="examples-of-creating-objects-p-3"></p>

            <p id="examples-of-creating-objects-p-4">以下属性可包含在创建新的 [<cite><a class="bibref"
                        href="#bib-h-entry">h-entry</a></cite>] 的请求中：
            </p>
            <ul>
                <li id="examples-of-creating-objects-li-5">name</li>
                <li id="examples-of-creating-objects-li-6">summary</li>
                <li id="examples-of-creating-objects-li-7">content</li>
                <li id="examples-of-creating-objects-li-8">published</li>
                <li id="examples-of-creating-objects-li-9">updated</li>
                <li id="examples-of-creating-objects-li-10">category</li>
                <li id="examples-of-creating-objects-li-11">location
                    <ul>
                        <li id="examples-of-creating-objects-li-12">描述位置的纯文本字符串</li>
                        <li id="examples-of-creating-objects-li-13">以 Geo URI [<cite><a class="bibref"
                                    href="#bib-RFC5870">RFC5870</a></cite>]
                            方式，例如：<code>geo:45.51533714,-122.646538633</code>
                        </li>
                        <li id="examples-of-creating-objects-li-14">包含 [<cite><a class="bibref"
                                    href="#bib-h-card">h-card</a></cite>] 的 URL</li>
                        <li id="examples-of-creating-objects-li-15">嵌套 [<cite><a class="bibref"
                                    href="#bib-h-adr">h-adr</a></cite>] 对象</li>
                    </ul>
                </li>
                <li id="examples-of-creating-objects-li-16">in-reply-to</li>
                <li id="examples-of-creating-objects-li-17">like-of</li>
                <li id="examples-of-creating-objects-li-18">repost-of</li>
                <li id="examples-of-creating-objects-li-19">syndication - 传递一个或多个指向本条目已存在位置的 URL，可用于导入已有内容到本站。</li>
                <li id="examples-of-creating-objects-li-20">mp-syndicate-to =
                    https://myfavoritesocialnetwork.example/aaronpk, https://archive.org/, 等等
                    <ul>
                        <li id="examples-of-creating-objects-li-21">该属性实际是向 Micropub 端点发命令（而不仅是生成数据），因此用 mp- 前缀。</li>
                    </ul>
                </li>
            </ul>
            <p id="examples-of-creating-objects-p-5"></p>

            <section id="new-note" typeof="bibo:Chapter" resource="#new-note" property="bibo:hasPart">
                <h4 id="h-new-note" resource="#h-new-note"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">4.1.1 </span>新建短消息</span>
                </h4>

                <p id="new-note-p-1">发布带标签的新短消息并联合到 myfavoritesocialnetwork：</p>
                <p id="new-note-p-2"></p>
                <ul>
                    <li id="new-note-li-1">content</li>
                    <li id="new-note-li-2">category</li>
                    <li id="new-note-li-3">published（可选，默认当前时间。如果不写可以支持离线写作后同步。）</li>
                    <li id="new-note-li-4">mp-syndicate-to</li>
                </ul>
                <p id="new-note-p-3"></p>

                <p id="new-note-p-4"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 26</span></div>
                    <pre class="hljs http" aria-busy="false" aria-live="polite"><span class="hljs-keyword">POST</span> <span class="hljs-string">/micropub</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: aaronpk.example
<span class="hljs-attribute">Authorization</span>: Bearer XXXXXXXXXXX
<span class="hljs-attribute">Content-type</span>: application/x-www-form-urlencoded; charset=utf-8

<span class="javascript">h=entry
&amp;content=My+favorite+<span class="hljs-keyword">of</span>+the+%<span class="hljs-number">23</span>quantifiedself+trackers%<span class="hljs-number">2</span>C+<span class="hljs-keyword">finally</span>+released+their+official+API
&amp;category[]=quantifiedself&amp;category[]=api
&amp;mp-syndicate-to=https:<span class="hljs-comment">//myfavoritesocialnetwork.example/aaronpk</span></span></pre>
                </div>
                <p id="new-note-p-5"></p>

                <h4 id="minimal-example">极简示例</h4>

                <p id="new-note-p-6"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 27</span></div>
                    <pre class="hljs http" aria-busy="false" aria-live="polite"><span class="hljs-keyword">POST</span> <span class="hljs-string">/micropub</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: aaronpk.example
<span class="hljs-attribute">Content-type</span>: application/x-www-form-urlencoded; charset=utf-8
<span class="hljs-attribute">Authorization</span>: Bearer XXXXXXX

<span class="undefined">h=entry
&amp;content=Hello+World</span></pre>
                </div>
                <p id="new-note-p-7"></p>

                <p id="new-note-p-8"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 28</span></div>
                    <pre class="hljs javascript" aria-busy="false"
                        aria-live="polite">curl https:<span class="hljs-comment">//aaronpk.example/micropub -d h=entry -d "content=Hello World" -H "Authorization: Bearer XXXXXXX"</span></pre>
                </div>
                <p id="new-note-p-9"></p>

            </section>

            <section id="new-reply" typeof="bibo:Chapter" resource="#new-reply" property="bibo:hasPart">
                <h4 id="h-new-reply" resource="#h-new-reply"><span property="xhv:role" resource="xhv:heading"><span
                            class="secno">4.1.2 </span>新建回复</span>
                </h4>

                <p id="new-reply-p-1">发布带标签的新回复并联合到 myfavoritesocialnetwork：</p>
                <p id="new-reply-p-2"></p>
                <ul>
                    <li id="new-reply-li-1">content</li>
                    <li id="new-reply-li-2">in-reply-to</li>
                    <li id="new-reply-li-3">published</li>
                    <li id="new-reply-li-4">mp-syndicate-to</li>
                </ul>
                <p id="new-reply-p-3"></p>

                <p id="new-reply-p-4"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 29</span></div>
                    <pre class="hljs http" aria-busy="false" aria-live="polite"><span class="hljs-keyword">POST</span> <span class="hljs-string">/micropub</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: aaronpk.example
<span class="hljs-attribute">Authorization</span>: Bearer XXXXXXXXXXX
<span class="hljs-attribute">Content-type</span>: application/x-www-form-urlencoded; charset=utf-8

<span class="javascript">h=entry
&amp;content=%<span class="hljs-number">40</span>BarnabyWalters+My+favorite+<span class="hljs-keyword">for</span>+that+use+<span class="hljs-keyword">case</span>+is+Redis.
&amp;<span class="hljs-keyword">in</span>-reply-to=https:<span class="hljs-comment">//waterpigs.example/notes/4S0LMw/</span>
&amp;mp-syndicate-to=https:<span class="hljs-comment">//myfavoritesocialnetwork.example/aaronpk</span></span></pre>
                </div>
                <p id="new-reply-p-5"></p>

            </section>

            <section id="new-article-with-html" typeof="bibo:Chapter" resource="#new-article-with-html"
                property="bibo:hasPart">
                <h4 id="h-new-article-with-html" resource="#h-new-article-with-html"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">4.1.3 </span>带 HTML 的新文章</span>
                </h4>

                <p id="new-article-with-html-p-1">发布一篇带 HTML 内容的新文章。需要注意，<code>content</code> 属性此时作为带有 <code>html</code>
                    键的对象发送。这与 Microformats 2 语法中的 HTML 解析内容相对应。由于 <code>content</code> 是对象类型，请求必须采用 JSON 格式发送。
                </p>

                <p id="new-article-with-html-p-2"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 30</span></div>
                    <pre class="hljs http" aria-busy="false" aria-live="polite"><span class="hljs-keyword">POST</span> <span class="hljs-string">/micropub</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: aaronpk.example
<span class="hljs-attribute">Content-type</span>: application/json

<span class="json">{
  <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"h-entry"</span>],
  <span class="hljs-attr">"properties"</span>: {
    <span class="hljs-attr">"name"</span>: [<span class="hljs-string">"Itching: h-event to iCal converter"</span>],
    <span class="hljs-attr">"content"</span>: [
      {<span class="hljs-attr">"html"</span>: <span class="hljs-string">"Now that I've been &lt;a href=\"https://aaronparecki.com/events\"&gt;creating a list of events&lt;/a&gt; on my site using &lt;a href=\"https://p3k.io\"&gt;p3k&lt;/a&gt;, it would be great if I could get a more calendar-like view of that list..."</span>}
    ],
    <span class="hljs-attr">"category"</span>: [
      <span class="hljs-string">"indieweb"</span>, <span class="hljs-string">"p3k"</span>
    ]
  }
}</span></pre>
                </div>
                <p id="new-article-with-html-p-3"></p>

            </section>

            <section id="new-article-with-embedded-images" typeof="bibo:Chapter"
                resource="#new-article-with-embedded-images" property="bibo:hasPart">
                <h4 id="h-new-article-with-embedded-images" resource="#h-new-article-with-embedded-images"><span
                        property="xhv:role" resource="xhv:heading"><span class="secno">4.1.4 </span>含嵌入图片的新文章</span>
                </h4>

                <p id="new-article-with-embedded-images-p-1">要创建带有嵌入图片的文章，文章的 HTML 应包含 <code>&lt;img&gt;</code> 标签，src
                    为上传至媒体端点后返回的图片 URL。</p>

                <h4 id="upload-images-to-the-media-endpoint">上传图片到媒体端点</h4>

                <p id="new-article-with-embedded-images-p-2">
                    首先，将一个或多个图片上传到媒体端点。一般此步骤会在文章正式发布前发生，比如用户在富文本编辑器中写作时，编辑器可以一边将用户拖入的图片上传到媒体端点，一边将图片用结果 URL
                    嵌入编辑器内容。相关请求示例见 <a href="#request">上传到媒体端点</a> 示例。</p>

                <p id="new-article-with-embedded-images-p-3">将文件上传到媒体端点后，响应中会返回一个 URL，客户端可在发布文章时使用该 URL。</p>

                <p id="new-article-with-embedded-images-p-4"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 31</span></div>
                    <pre class="hljs http" aria-busy="false" aria-live="polite">HTTP/1.1 <span class="hljs-number">201</span> Created
<span class="hljs-attribute">Location</span>: https://media.example.com/file/ff176c461dd111e6b6ba3e1d05defe78.jpg</pre>
                </div>
                <p id="new-article-with-embedded-images-p-5"></p>

                <p id="new-article-with-embedded-images-p-6">客户端便可用此 URL 将图片嵌入到文章中。</p>

                <p id="new-article-with-embedded-images-p-7"></p>
                <div class="example">
                    <div class="example-title marker"><span>示例 32</span></div>
                    <pre class="hljs http" aria-busy="false" aria-live="polite"><span class="hljs-keyword">POST</span> <span class="hljs-string">/micropub</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: aaronpk.example
<span class="hljs-attribute">Content-type</span>: application/json

<span class="json">{
  <span class="hljs-attr">"type"</span>: [<span class="hljs-string">"h-entry"</span>],
  <span class="hljs-attr">"properties"</span>: {
    <span class="hljs-attr">"content"</span>: [
      {<span class="hljs-attr">"html"</span>:<span class="hljs-string">"&lt;p&gt;Hello World&lt;/p&gt;&lt;p&gt;&lt;img src=\"https://media.example.com/file/ff176c461dd111e6b6ba3e1d05defe78.jpg\"&gt;&lt;/p&gt;"</span>}
    ]
  }
}</span></pre>
                </div>
                <p id="new-article-with-embedded-images-p-8"></p>

            </section>

            <section id="posting-files" typeof="bibo:Chapter" resource="#posting-files" property="bibo:hasPart">
                <h4 id="h-posting-files" resource="#h-posting-files"><span property="xhv:role"
                        resource="xhv:heading"><span class="secno">4.1.5 </span>上传文件</span>
                </h4>

                <p id="posting-files-p-1">当 Micropub 请求中包含文件时，整个请求体采用 <a
                        href="https://www.w3.org/TR/html5/forms.html#multipart-form-data"><code>multipart/form-data</code></a>
                    编码，并用词汇表中属性名（如 <code>audio</code>、<code>video</code> 或 <code>photo</code>）作为文件字段名。一个请求<em
                        class="rfc2119" title="MAY">可以</em>有一个或多个这样的文件。</p>

                <p id="posting-files-p-2">例如，某服务可以把视频发在 <code>video</code> 属性，并把该视频截帧图片作为 <code>photo</code> 属性。</p>

                <p id="posting-files-p-3">在 PHP 中，可通过 $_FILES 数组访问这些文件：
                </p>
                <pre aria-busy="false" aria-live="polite" class="hljs javascript">$_FILES[<span class="hljs-string">'video'</span>]
$_FILES[<span class="hljs-string">'photo'</span>]
$_FILES[<span class="hljs-string">'audio'</span>]</pre>
                <p id="posting-files-p-4"></p>

                <p id="posting-files-p-5">需要注意，JSON 编码请求体无法上传文件。请改为先把照片上传到媒体端点，然后在 JSON 请求里用其 URL。</p>

                <p id="posting-files-p-6">Micropub 端点可以直接保存文件，也可以发送到其它后端存储（如 Amazon S3）进行保存。</p>

            </section>
            <!-- Posting Files -->

        </section>
        <!-- Creating Objects -->

    </section>
    <!-- Vocabulary -->

    <section id="authentication-and-authorization" typeof="bibo:Chapter" resource="#authentication-and-authorization"
        property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-authentication-and-authorization" resource="#h-authentication-and-authorization"><span
                property="xhv:role" resource="xhv:heading"><span class="secno">5. </span>认证与授权</span>
        </h2>

        <section id="authentication-1" typeof="bibo:Chapter" resource="#authentication-1" property="bibo:hasPart">
            <h3 id="h-authentication-1" resource="#h-authentication-1"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">5.1 </span>认证</span>
            </h3>

            <p id="authentication-1-p-1">Micropub 请求<em class="rfc2119" title="MUST">必须</em>通过 Bearer Token 认证，可作为 HTTP
                头或表单 body 参数，具体做法见 OAuth Bearer Token RFC [<cite><a class="bibref"
                        href="#bib-RFC6750">RFC6750</a></cite>]。Micropub 服务器<em class="rfc2119"
                    title="MUST">必须</em>同时支持两种方法接收 token。</p>

            <p id="authentication-1-p-2"></p>
            <h3 id="http-header">HTTP 头</h3>
            <pre aria-busy="false" aria-live="polite"
                class="hljs http"><span class="hljs-attribute">Authorization</span>: Bearer XXXXXXXXX</pre>
            <p id="authentication-1-p-3"></p>

            <p id="authentication-1-p-4"></p>
            <h3 id="form-encoded-body-parameter">表单编码 body 参数</h3>
            <pre aria-busy="false" aria-live="polite" class="hljs undefined">access_token=XXXXXXXXX</pre>
            <p id="authentication-1-p-5"></p>
        </section>
        <!-- Authentication -->

        <section id="authorization" typeof="bibo:Chapter" resource="#authorization" property="bibo:hasPart">
            <h3 id="h-authorization" resource="#h-authorization"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">5.2 </span>授权</span>
            </h3>

            <p id="authorization-p-1">希望向用户 Micropub 端点发文的应用，需要获得用户授权来获取访问令牌。推荐<em class="rfc2119"
                    title="SHOULD">应当</em>用 OAuth 2.0 [<cite><a class="bibref" href="#bib-RFC6749">RFC6749</a></cite>]
                协议获取授权。应用<em class="rfc2119" title="MAY">可以</em>用支持端点发现的 [<cite><a class="bibref"
                        href="#bib-IndieAuth">IndieAuth</a></cite>] 扩展。详见<a
                    href="https://indieweb.org/obtaining-an-access-token">获取访问令牌</a>页面。</p>
        </section>
        <!-- Authorization -->

        <section id="endpoint-discovery" typeof="bibo:Chapter" resource="#endpoint-discovery" property="bibo:hasPart">
            <h3 id="h-endpoint-discovery" resource="#h-endpoint-discovery"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">5.3 </span>端点发现</span>
            </h3>

            <p id="endpoint-discovery-p-1">Micropub 定义了 <code>micropub</code> 链接关系，用于在用户的资料页面中声明网站的 Micropub 端点。</p>

            <p id="endpoint-discovery-p-2">Micropub 客户端<em class="rfc2119" title="SHOULD">推荐</em>能够通过此关系自动发现用户的 Micropub
                端点，实现自动配置。</p>

            <p id="endpoint-discovery-p-3">客户端可在用于认证的 URL 的 HTML 头部查找 <code>&lt;link rel="micropub"&gt;</code> 标签，或在
                HTTP Link 头中查找 rel 属性为 <code>micropub</code> 的链接。
            </p>

            <p id="endpoint-discovery-p-4"></p>
            <h3 id="http-link-header">HTTP Link 头</h3>
            <pre aria-busy="false" aria-live="polite"
                class="hljs javascript">Link: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">https:</span>//<span class="hljs-attr">aaronpk.example</span>/<span class="hljs-attr">micropub</span>&gt;</span></span>; rel=<span class="hljs-string">"micropub"</span></pre>
            <p id="endpoint-discovery-p-5"></p>

            <p id="endpoint-discovery-p-6"></p>
            <h3 id="html-link-tag">HTML link 标签</h3>
            <pre aria-busy="false" aria-live="polite"
                class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"micropub"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://aaronpk.example/micropub"</span>&gt;</span></pre>
            <p id="endpoint-discovery-p-7"></p>

        </section>
        <!-- Discovery -->

        <section id="scope" typeof="bibo:Chapter" resource="#scope" property="bibo:hasPart">
            <h3 id="h-scope" resource="#h-scope"><span property="xhv:role" resource="xhv:heading"><span
                        class="secno">5.4 </span>作用域 (scope)</span>
            </h3>

            <p id="scope-p-1">Micropub 服务器<em class="rfc2119" title="MUST">必须</em>要求 bearer token 至少包含一个 scope 值，确保任意
                token 无法随意创建内容。</p>
            <p id="scope-p-2">客户端可在授权请求时要求一个或多个 scope，方法是参照 OAuth 2.0 [<cite><a class="bibref"
                        href="#bib-RFC6749">RFC6749</a></cite>] 规范，在请求里传递以空格分隔的 scope 名称列表。详见 <a
                    href="https://tools.ietf.org/html/rfc6749#section-3.3">RFC6749 第 3.3 节</a>。</p>
            <p id="scope-p-3">授权服务器<em class="rfc2119" title="MUST">必须</em>向用户显示所有本次请求要求的 scope（不论其是否认识这些
                scope），并且授权服务器<em class="rfc2119" title="MAY">可以</em>允许用户增减客户端请求的 scope。</p>
            <p id="scope-p-4">大多数 Micropub 服务器要求客户端获得“create” scope 才能发内容。但有的服务器也<em class="rfc2119"
                    title="MAY">可以</em>要求更细的 scope，如 “delete”、“update” 或 “create:video”，以限制不同客户端功能。详细及常见值见 <a
                    href="https://indieweb.org/scope">Scope</a> 页面。</p>
        </section>
        <!-- Scope -->

    </section>
    <!-- Authentication and Authorization -->

    <section id="security-considerations" typeof="bibo:Chapter" resource="#security-considerations"
        property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-security-considerations" resource="#h-security-considerations"><span property="xhv:role"
                resource="xhv:heading"><span class="secno">6. </span>安全性注意事项</span>
        </h2>

        <section id="external-content" typeof="bibo:Chapter" resource="#external-content" property="bibo:hasPart">
            <h3 id="h-external-content" resource="#h-external-content"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">6.1 </span>外部内容</span>
            </h3>

            <p id="external-content-p-1">Micropub 端点在接收照片或其它媒体时，可能遇到客户端提交的文件 URL 来自于非 Micropub
                端点或媒体端点的域名，比如客户端提供了自己的文件上传机制。Micropub 服务器可以采取防御性措施，只从受信任域名（如服务器自身域名及其媒体端点）下载和存储媒体文件，否则仅保存文件的 URL。</p>
        </section>

        <section id="security-and-privacy-review" typeof="bibo:Chapter" resource="#security-and-privacy-review"
            property="bibo:hasPart">
            <h3 id="h-security-and-privacy-review" resource="#h-security-and-privacy-review"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">6.2 </span>安全与隐私评估</span>
            </h3>

            <p id="security-and-privacy-review-p-1">下列问题基于自我评估问卷：安全与隐私（[<cite><a class="bibref"
                        href="#bib-security-privacy-questionnaire">security-privacy-questionnaire</a></cite>]
                ），对本规范的安全与隐私注意事项做了概览。</p>

            <dl>
                <dt>本规范是否涉及个人身份信息？</dt>
                <dd>Micropub 允许用户创建和编辑内容，所以用户在创建内容时可能输入个人身份信息。Micropub 客户端知道其管理内容时用的 Micropub 端点的 URL，该 URL
                    可能是个人的，也可能是共享域名。</dd>
                <dt>本规范是否处理高价值数据？</dt>
                <dd>本规范采用了 OAuth 2.0 Bearer Token，根据安全与隐私问卷属于“高价值”数据。可参阅 OAuth 2.0 Bearer Token (RFC6750) <a
                        href="https://tools.ietf.org/html/rfc6750#section-5">安全性注意事项</a>一节了解更多。</dd>
                <dt>本规范是否为某 Origin 引入了可跨浏览会话持久化的新状态？</dt>
                <dd>否，Micropub 不会为跨会话持久化数据提供机制。</dd>
                <dt>本规范是否向 web 暴露了持久性跨域状态？</dt>
                <dd>本规范允许客户端创建文章，服务器可能会使新 URL 可公开访问。</dd>
                <dt>本规范是否向某 Origin 暴露了其当前不可访问的其他数据？</dt>
                <dd>否</dd>
                <dt>本规范是否允许新的脚本执行/加载机制？</dt>
                <dd>否</dd>
                <dt>本规范是否允许 Origin 访问用户位置信息？</dt>
                <dd>否</dd>
                <dt>本规范是否允许 Origin 访问用户设备传感器？</dt>
                <dd>否</dd>
                <dt>本规范是否允许 Origin 访问用户本地计算环境相关信息？</dt>
                <dd>否</dd>
                <dt>本规范是否允许 Origin 访问其它设备？</dt>
                <dd>否</dd>
                <dt>本规范是否允许 Origin 控制 UA 原生界面的一些方面？</dt>
                <dd>否</dd>
                <dt>本规范是否向 web 暴露临时标识符？</dt>
                <dd>否</dd>
                <dt>本规范是否对一方和三方环境有不同行为？</dt>
                <dd>否</dd>
                <dt>本规范应如何在用户代理“隐身”模式下工作？</dt>
                <dd>如果用户代理为 Micropub 客户端，在隐身模式下应“遗忘”会话中相关的 access token 和 micropub 端点。</dd>
                <dt>本规范是否在用户本地设备上存储数据？</dt>
                <dd>Micropub 客户端会存储用户的 Micropub 端点和 access token。当用户清除浏览数据时，客户端应移除所有已存凭据及所有缓存的媒体端点 URL。</dd>
                <dt>本规范是否允许降低默认安全特性？</dt>
                <dd>否</dd>
            </dl>
        </section>
    </section>

    <section id="iana-considerations" typeof="bibo:Chapter" resource="#iana-considerations" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-iana-considerations" resource="#h-iana-considerations"><span property="xhv:role"
                resource="xhv:heading"><span class="secno">7. </span>IANA 相关事项</span>
        </h2>
        <p id="iana-considerations-p-1">IANA 已依 [<cite><a class="bibref" href="#bib-RFC5988">RFC5988</a></cite>] 第 6.2.1
            节登记了如下链接关系类型：</p>
        <dl>
            <dt>关系名：</dt>
            <dd>micropub</dd>
            <dt>描述：</dt>
            <dd>用于发现可依 Micropub 协议创建内容的 Micropub 端点。</dd>
            <dt>参考：</dt>
            <dd>
                <a href="https://www.w3.org/TR/micropub/"><abbr title="World Wide Web Consortium">W3C</abbr> Micropub
                    规范
                    (https://www.w3.org/TR/micropub/)</a>
            </dd>
        </dl>
    </section>

    <section class="appendix informative" id="resources" typeof="bibo:Chapter" resource="#resources"
        property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-resources" resource="#h-resources"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">A. </span>资源</span>
        </h2>
        <p id="resources-p-1"><em>本节为非规范性内容。</em></p>

        <p id="resources-p-2">
        </p>
        <ul>
            <li id="resources-li-1"><a href="https://indieweb.org/Micropub">FAQ 常见问题</a></li>
            <li id="resources-li-2"><a href="https://indieweb.org/micropub-endpoint">Micropub 端点创建指南</a></li>
            <li id="resources-li-3"><a href="https://indieweb.org/obtaining-an-access-token">访问令牌获取</a></li>
            <li id="resources-li-4"><a href="https://indieweb.org/Micropub-brainstorming">头脑风暴</a></li>
        </ul>
        <p id="resources-p-3"></p>

        <section class="appendix informative" id="implementations" typeof="bibo:Chapter" resource="#implementations"
            property="bibo:hasPart">
            <h3 id="h-implementations" resource="#h-implementations"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">A.1 </span>实现</span>
            </h3>
            <p id="implementations-p-1"><em>本节为非规范性内容。</em></p>

            <p id="implementations-p-2">你可以在 micropub.net 上查阅 <a href="https://micropub.net/implementations/">Micropub
                    实现列表</a></p>
        </section>
    </section>

    <section class="appendix" id="acknowledgements" typeof="bibo:Chapter" resource="#acknowledgements"
        property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-acknowledgements" resource="#h-acknowledgements"><span property="xhv:role"
                resource="xhv:heading"><span class="secno">B. </span>致谢</span>
        </h2>

        <p id="acknowledgements-p-1">编辑感谢 <a href="https://indieweb.org/">IndieWeb</a> 社区和所有实现者的支持、鼓励和热情。特别致谢：
            <a href="http://rhiaro.co.uk/">Amy Guy</a>、
            <a href="https://barryfrost.com/">Barry Frost</a>、
            <a href="https://ben.thatmustbe.me/">Benjamin Roberts</a>、
            <a href="http://dustycloud.org/">Chris Webber</a>、
            <a href="http://cweiske.de/">Christian Weiske</a>、
            <a href="https://david.shanske.com/">David Shanske</a>、
            <a href="http://notenoughneon.com/">Emma Kuo</a>、
            <a href="https://kylewm.com/">Kyle Mahan</a>、
            <a href="https://jeena.net/">Jeena Paradies</a>、
            <a href="https://unicyclic.com/mal/">Malcolm Blaney</a>、
            <a href="http://vanderven.se/martijn/">Martijn van der Ven</a>、
            <a href="https://martymcgui.re/">Marty McGuire</a>、
            <a href="https://bear.im/">Mike Taylor</a>、
            <a href="https://voxpelli.com/">Pelle Wessman</a>、
            <a href="https://snarfed.org/">Ryan Barrett</a>、
            <a href="http://hawke.org/sandro/">Sandro Hawke</a>、
            <a href="https://www.svenknebel.de/posts/">Sven Knebel</a>、以及
            <a href="http://tantek.com/">Tantek Çelik</a>。
        </p>
    </section>

    <section class="appendix informative" id="change-log" typeof="bibo:Chapter" resource="#change-log"
        property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-change-log" resource="#h-change-log"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">C. </span>变更日志</span>
        </h2>
        <p id="change-log-p-1"><em>本节为非规范性内容。</em></p>

        <section id="changes-from-13-april-2017-pr-to-this-version" typeof="bibo:Chapter"
            resource="#changes-from-13-april-2017-pr-to-this-version" property="bibo:hasPart">
            <h3 id="h-changes-from-13-april-2017-pr-to-this-version"
                resource="#h-changes-from-13-april-2017-pr-to-this-version"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">C.1 </span>2017年4月13日 PR 到本版本的变更</span>
            </h3>

            <p id="changes-from-13-april-2017-pr-to-this-version-p-1">本节罗列了<a
                    href="https://www.w3.org/TR/2017/PR-micropub-20170413/">2017年4月13日 PR</a>到本版本的变更。</p>

            <h3 id="non-normative-changes">非规范性变更</h3>
            <ul>
                <li id="changes-from-13-april-2017-pr-to-this-version-li-1">补充说明：属性替换类 update 请求不会影响文章的其它属性。</li>
                <li id="changes-from-13-april-2017-pr-to-this-version-li-2">移除 <code>q</code> 参数，从保留 POST 属性列表中删去（因其不用在
                    POST 请求里）。</li>
                <li id="changes-from-13-april-2017-pr-to-this-version-li-3">补充说明 JSON 语法下 <code>mp-</code> 属性也是保留。</li>
                <li id="changes-from-13-april-2017-pr-to-this-version-li-4">补充说明若更新请求中同一属性-值组合存在多种操作，服务器行为未定义。</li>
                <li id="changes-from-13-april-2017-pr-to-this-version-li-5">修正了发现（discovery）小节的拼写错误。</li>
                <li id="changes-from-13-april-2017-pr-to-this-version-li-6">新增 OAuth 2.0 RFC6749 关于 scope 的具体章节链接。</li>
            </ul>
        </section>

        <section id="changes-from-18-october-2016-cr-to-13-april-2017-pr" typeof="bibo:Chapter"
            resource="#changes-from-18-october-2016-cr-to-13-april-2017-pr" property="bibo:hasPart">
            <h3 id="h-changes-from-18-october-2016-cr-to-13-april-2017-pr"
                resource="#h-changes-from-18-october-2016-cr-to-13-april-2017-pr"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">C.2 </span>2016年10月18日 CR 到 2017年4月13日 PR 的变更</span>
            </h3>

            <p id="changes-from-18-october-2016-cr-to-13-april-2017-pr-p-1">本节罗列了<a
                    href="https://www.w3.org/TR/2016/CR-micropub-20161018/">2016年10月18日 CR</a>到<a
                    href="https://www.w3.org/TR/2017/PR-micropub-20170413/">2017年4月13日 PR</a>的变更。</p>

            <h3 id="non-normative-changes-1">非规范性变更</h3>
            <ul>
                <li id="changes-from-18-october-2016-cr-to-13-april-2017-pr-li-1">修正一致性类别描述，明确服务器需支持
                    <code>multipart/form-data</code> 请求以接收媒体内容。
                </li>
                <li id="changes-from-18-october-2016-cr-to-13-april-2017-pr-li-2">补充引用 MetaWeblog 和 AtomPub 相关前作背景。</li>
                <li id="changes-from-18-october-2016-cr-to-13-april-2017-pr-li-3">明确描述客户端何时可尝试上传文件。</li>
                <li id="changes-from-18-october-2016-cr-to-13-april-2017-pr-li-4">修订引言及摘要的表达。</li>
                <li id="changes-from-18-october-2016-cr-to-13-april-2017-pr-li-5">充实致谢名单。</li>
                <li id="changes-from-18-october-2016-cr-to-13-april-2017-pr-li-6">对 <code>x-www-form-urlencoded</code> 和
                    <code>multipart/form-data</code> 统一拼写及代码高亮。
                </li>
                <li id="changes-from-18-october-2016-cr-to-13-april-2017-pr-li-7">在安全性注意事项中补充了关于处理通过 URL 引用文件的说明。</li>
            </ul>
        </section>

        <section id="changes-from-16-august-2016-cr-to-18-october-2016-cr" typeof="bibo:Chapter"
            resource="#changes-from-16-august-2016-cr-to-18-october-2016-cr" property="bibo:hasPart">
            <h3 id="h-changes-from-16-august-2016-cr-to-18-october-2016-cr"
                resource="#h-changes-from-16-august-2016-cr-to-18-october-2016-cr"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">C.3 </span>2016年8月16日 CR 到 2016年10月18日 CR 的变更</span>
            </h3>

            <p id="changes-from-16-august-2016-cr-to-18-october-2016-cr-p-1">本节罗列了<a
                    href="https://www.w3.org/TR/2016/CR-micropub-20160816/">2016年8月16日 CR</a>到<a
                    href="https://www.w3.org/TR/2016/CR-micropub-20161018/">2016年10月18日 CR</a>的变更。</p>

            <h3 id="normative-changes">规范性变更</h3>
            <ul>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-1">为支持图片属性指定 alt 文本增加新的标准方法</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-2">规范化对配置查询和联合发布目标响应的描述</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-3">将 error code 中的
                    <code>not_found</code> 去除，由要求三个推荐值替代，并允许服务器自定义更多错误类型
                </li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-4">删去有关存储 access token 时的“备注”限定</li>
            </ul>

            <h3 id="non-normative-changes-2">非规范性变更</h3>
            <ul>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-5">调整对 HTTP 202 响应说明的表述</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-6">强调 JSON 请求需声明 content-type 头</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-7">新增带嵌入图片的文章示例</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-8">表单编码示例里明确写明 utf-8 charset</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-9">文档了如何指定双向文本基方向的说明</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-10">详细记录了查询（query）一致性要求</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-11">详细记录配置响应为空的情况</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-12">补充客户端如何处理未知配置响应</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-13">修订 update 操作、mp-* 命令和双向文本的表述</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-14">明确 form-encoded 数组可用数字下标</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-15">为媒体端点补充了错误响应部分的参考</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-16">引言段补充了 Social Web Protocols 链接</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-17">新增安全与隐私问卷内容（Security and Privacy
                    Questionnaire）</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-18">进一步澄清表单编码相关用法与限制</li>
                <li id="changes-from-16-august-2016-cr-to-18-october-2016-cr-li-19">补充关于扩展 mp-* 属性和 q= 操作的说明</li>
            </ul>
        </section>

        <section id="changes-from-13-july-2016-wd-to-16-august-2016-cr" typeof="bibo:Chapter"
            resource="#changes-from-13-july-2016-wd-to-16-august-2016-cr" property="bibo:hasPart">
            <h3 id="h-changes-from-13-july-2016-wd-to-16-august-2016-cr"
                resource="#h-changes-from-13-july-2016-wd-to-16-august-2016-cr"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">C.4 </span>2016年7月13日 WD 到 2016年8月16日 CR 的变更</span>
            </h3>

            <p id="changes-from-13-july-2016-wd-to-16-august-2016-cr-p-1">本节罗列了<a
                    href="https://www.w3.org/TR/2016/WD-micropub-20160713/">2016年7月13日 WD</a>到<a
                    href="https://www.w3.org/TR/2016/CR-micropub-20160816/">2016年8月16日 CR</a>的变更。</p>

            <ul>
                <li id="changes-from-13-july-2016-wd-to-16-august-2016-cr-li-1">修正 IndieAuth 相关内容表达，明确为非规范性说明</li>
                <li id="changes-from-13-july-2016-wd-to-16-august-2016-cr-li-2">补充 Fetch 作为下载 URL 内容的参考</li>
            </ul>
        </section>

        <section id="changes-from-21-june-2016-wd-to-13-july-2016-wd" typeof="bibo:Chapter"
            resource="#changes-from-21-june-2016-wd-to-13-july-2016-wd" property="bibo:hasPart">
            <h3 id="h-changes-from-21-june-2016-wd-to-13-july-2016-wd"
                resource="#h-changes-from-21-june-2016-wd-to-13-july-2016-wd"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">C.5 </span>2016年6月21日 WD 到 2016年7月13日 WD 的变更</span>
            </h3>

            <p id="changes-from-21-june-2016-wd-to-13-july-2016-wd-p-1">本节罗列了<a
                    href="https://www.w3.org/TR/2016/WD-micropub-20160621/">2016年6月21日 WD</a>到<a
                    href="https://www.w3.org/TR/2016/WD-micropub-20160713/">2016年7月13日 WD</a>的变更。</p>

            <ul>
                <li id="changes-from-21-june-2016-wd-to-13-july-2016-wd-li-1">澄清了需支持直接文件上传或媒体端点上传</li>
                <li id="changes-from-21-june-2016-wd-to-13-july-2016-wd-li-2">indiewebcamp.com 统一换成 indieweb.org</li>
                <li id="changes-from-21-june-2016-wd-to-13-july-2016-wd-li-3">将 <code>mp-action</code> 改为
                    <code>action</code>，因仅 update 用 JSON 请求
                </li>
                <li id="changes-from-21-june-2016-wd-to-13-july-2016-wd-li-4">文档头部补充了测试套件链接</li>
                <li id="changes-from-21-june-2016-wd-to-13-july-2016-wd-li-5">增加了提交实现报告的说明章节</li>
                <li id="changes-from-21-june-2016-wd-to-13-july-2016-wd-li-6">增补一致性标准和类别章节</li>
                <li id="changes-from-21-june-2016-wd-to-13-july-2016-wd-li-7">更新了一些示例 URL</li>
                <li id="changes-from-21-june-2016-wd-to-13-july-2016-wd-li-8">新增退出标准所需各项功能清单</li>
                <li id="changes-from-21-june-2016-wd-to-13-july-2016-wd-li-9">增加了关于可及性（accessibility）组评审的提示</li>
            </ul>
        </section>

        <section id="changes-from-04-may-2016-wd-to-21-june-2016-wd" typeof="bibo:Chapter"
            resource="#changes-from-04-may-2016-wd-to-21-june-2016-wd" property="bibo:hasPart">
            <h3 id="h-changes-from-04-may-2016-wd-to-21-june-2016-wd"
                resource="#h-changes-from-04-may-2016-wd-to-21-june-2016-wd"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">C.6 </span>2016年5月4日 WD 到 2016年6月21日 WD 的变更</span>
            </h3>

            <p id="changes-from-04-may-2016-wd-to-21-june-2016-wd-p-1">本节罗列了<a
                    href="https://www.w3.org/TR/2016/WD-micropub-20160504/">2016年5月4日 WD</a>到<a
                    href="https://www.w3.org/TR/2016/WD-micropub-20160621/">2016年6月21日 WD</a>的变更。</p>

            <ul>
                <li id="changes-from-04-may-2016-wd-to-21-june-2016-wd-li-1">澄清请求中数组和单值属性的用法</li>
                <li id="changes-from-04-may-2016-wd-to-21-june-2016-wd-li-2">不再支持表单编码方式的 update 请求</li>
                <li id="changes-from-04-may-2016-wd-to-21-june-2016-wd-li-3">新实现出现后，警告删除：缺乏互操作实现</li>
                <li id="changes-from-04-may-2016-wd-to-21-june-2016-wd-li-4">更新实现列表</li>
                <li id="changes-from-04-may-2016-wd-to-21-june-2016-wd-li-5">明确说明不得存储 <code>access_token</code> 值
                </li>
                <li id="changes-from-04-may-2016-wd-to-21-june-2016-wd-li-6">详细描述独立媒体端点处理上传及相关流程、配图等</li>
                <li id="changes-from-04-may-2016-wd-to-21-june-2016-wd-li-7">扩展引言和背景介绍</li>
                <li id="changes-from-04-may-2016-wd-to-21-june-2016-wd-li-8">将实现列表从本文档移至<a
                        href="https://micropub.net/implementations">https://micropub.net/implementations</a></li>
            </ul>
        </section>

        <section id="changes-from-01-march-2016-wd-to-04-may-2016-wd" typeof="bibo:Chapter"
            resource="#changes-from-01-march-2016-wd-to-04-may-2016-wd" property="bibo:hasPart">
            <h3 id="h-changes-from-01-march-2016-wd-to-04-may-2016-wd"
                resource="#h-changes-from-01-march-2016-wd-to-04-may-2016-wd"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">C.7 </span>2016年3月1日 WD 到 2016年5月4日 WD 的变更</span>
            </h3>

            <p id="changes-from-01-march-2016-wd-to-04-may-2016-wd-p-1">本节罗列了<a
                    href="https://www.w3.org/TR/2016/WD-micropub-20160301/">2016年3月1日 WD</a>到<a
                    href="https://www.w3.org/TR/2016/WD-micropub-20160504/">2016年5月4日 WD</a>的变更。</p>

            <ul>
                <li id="changes-from-01-march-2016-wd-to-04-may-2016-wd-li-1">去除 updates 结构中过多的 <code>properties</code>
                    嵌套
                </li>
                <li id="changes-from-01-march-2016-wd-to-04-may-2016-wd-li-2">修正了非规范性错别字</li>
                <li id="changes-from-01-march-2016-wd-to-04-may-2016-wd-li-3">补充 update 操作中返回 HTTP 201 且带 Location
                    头作为响应的说明</li>
                <li id="changes-from-01-march-2016-wd-to-04-may-2016-wd-li-4">syndicate-to 响应补全目标详情</li>
            </ul>
        </section>

        <section id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd" typeof="bibo:Chapter"
            resource="#changes-from-28-january-2016-fpwd-to-01-march-2016-wd" property="bibo:hasPart">
            <h3 id="h-changes-from-28-january-2016-fpwd-to-01-march-2016-wd"
                resource="#h-changes-from-28-january-2016-fpwd-to-01-march-2016-wd"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">C.8 </span>2016年1月28日 FPWD 到 2016年3月1日 WD 的变更</span>
            </h3>

            <p id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-p-1">本节罗列了<a
                    href="https://www.w3.org/TR/2016/WD-micropub-20160128/">2016年1月28日 FPWD</a>到<a
                    href="https://www.w3.org/TR/2016/WD-micropub-20160301/">2016年3月1日 WD</a>的变更。</p>

            <ul>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-1">根据需要纠正了规范性引用标记
                </li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-2">新增一致性部分，总结 Micropub 客户端和服务器一致性要求
                </li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-3">明确服务器收到无法识别属性请求时保留所有可识别属性</li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-4">新增 Micropub 端点支持查询源属性，有助于编辑器场景</li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-5">新增“词汇表”部分，规范引用 Microformats 2 词汇表
                </li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-6">Micropub 服务器 <em class="rfc2119"
                        title="MAY">可以</em>在更新时 JSON 返回描述本次变更的对象
                </li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-7">补充了错误响应列表，并参考 OAuth 2 Bearer Token
                    的其它错误响应</li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-8">响应体如非空，<em class="rfc2119"
                        title="SHOULD">推荐</em>采用 JSON 格式</li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-9">未指定类型时默认创建 h-entry</li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-10">补充上传文件和发送 HTML 内容的说明</li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-11">将“How To”部分拆分进“认证与授权”章节</li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-12">修复了部分 HTTP 请求示例缺少响应头的问题</li>
                <li id="changes-from-28-january-2016-fpwd-to-01-march-2016-wd-li-13">所有 Microformats 引用一致替换为
                    Microformats 2</li>
            </ul>
        </section>
    </section>

    <script>
        // After text is selected (mouseup), find the closest element that has an ID
        // attribute, and update the browser location bar to include that as the fragment
        document.body.onmouseup = function () {
            var selection;
            if (selection = window.getSelection()) {
                var range = selection.getRangeAt(0);
                var el = range.startContainer;
                while ((el = el.parentElement) && !el.attributes["id"]);
                var hash = el.attributes["id"].value;
                if (history.replaceState) {
                    history.replaceState(null, null, "#" + hash);
                }
            }
        };
    </script>


    <section id="references" class="appendix" typeof="bibo:Chapter" resource="#references" property="bibo:hasPart">
        <!--OddPage-->
        <h2 id="h-references" resource="#h-references"><span property="xhv:role" resource="xhv:heading"><span
                    class="secno">D. </span>参考文献</span>
        </h2>

        <section id="normative-references" typeof="bibo:Chapter" resource="#normative-references"
            property="bibo:hasPart">
            <h3 id="h-normative-references" resource="#h-normative-references"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">D.1 </span>规范性引用</span>
            </h3>
            <dl class="bibliography" resource="">
                <dt id="bib-BIDI">[BIDI]</dt>
                <dd><a href="http://www.unicode.org/reports/tr9/tr9-35.html" property="dc:requires"><cite>Unicode
                            双向算法</cite></a>。Mark Davis；Aharon Lanin；Andrew Glass。Unicode Consortium。2016年5月18日。Unicode
                    标准附录 #9。URL: <a href="http://www.unicode.org/reports/tr9/tr9-35.html"
                        property="dc:requires">http://www.unicode.org/reports/tr9/tr9-35.html</a>
                </dd>
                <dt id="bib-Fetch">[Fetch]</dt>
                <dd><a href="https://fetch.spec.whatwg.org/" property="dc:requires"><cite>Fetch 标准</cite></a>。
                    Anne van Kesteren。WHATWG。实时标准。URL: <a href="https://fetch.spec.whatwg.org/"
                        property="dc:requires">https://fetch.spec.whatwg.org/</a>
                </dd>
                <dt id="bib-HTML5">[HTML5]</dt>
                <dd><a href="https://www.w3.org/TR/html5/" property="dc:requires"><cite>HTML5</cite></a>。Ian Hickson；
                    Robin Berjon；Steve Faulkner；Travis Leithead；Erika Doyle Navara；Theresa O'Connor；Silvia
                    Pfeiffer。W3C。2014年10月28日。W3C 推荐标准。URL: <a href="https://www.w3.org/TR/html5/"
                        property="dc:requires">https://www.w3.org/TR/html5/</a>
                </dd>
                <dt id="bib-JSON">[JSON]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc4627" property="dc:requires"><cite>JavaScript 对象表示法 (JSON) 的
                            application/json 媒体类型</cite></a>。D. Crockford。IETF。2006年7月。信息性。URL: <a
                        href="https://tools.ietf.org/html/rfc4627"
                        property="dc:requires">https://tools.ietf.org/html/rfc4627</a>
                </dd>
                <dt id="bib-RFC2119">[RFC2119]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc2119" property="dc:requires"><cite>用于 RFC
                            中指定需求级别的关键词</cite></a>。S. Bradner。IETF。1997年3月。最佳当前实践。URL: <a
                        href="https://tools.ietf.org/html/rfc2119"
                        property="dc:requires">https://tools.ietf.org/html/rfc2119</a>
                </dd>
                <dt id="bib-RFC2616">[RFC2616]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc2616" property="dc:requires"><cite>超文本传输协议 --
                            HTTP/1.1</cite></a>。R. Fielding；J. Gettys；J. Mogul；H. Frystyk；L. Masinter；
                    P. Leach；T. Berners-Lee。IETF。1999年6月。标准草案。URL: <a href="https://tools.ietf.org/html/rfc2616"
                        property="dc:requires">https://tools.ietf.org/html/rfc2616</a>
                </dd>
                <dt id="bib-RFC5988">[RFC5988]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc5988" property="dc:requires"><cite>Web 链接</cite></a>。
                    M. Nottingham。IETF。2010年10月。建议标准。URL: <a href="https://tools.ietf.org/html/rfc5988"
                        property="dc:requires">https://tools.ietf.org/html/rfc5988</a>
                </dd>
                <dt id="bib-RFC6749">[RFC6749]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc6749" property="dc:requires"><cite>OAuth 2.0
                            授权框架</cite></a>。D. Hardt 编。IETF。2012年10月。建议标准。URL: <a
                        href="https://tools.ietf.org/html/rfc6749"
                        property="dc:requires">https://tools.ietf.org/html/rfc6749</a>
                </dd>
                <dt id="bib-RFC6750">[RFC6750]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc6750" property="dc:requires"><cite>OAuth 2.0 授权框架：Bearer
                            Token 用法</cite></a>。M. Jones；D. Hardt。IETF。2012年10月。建议标准。URL: <a
                        href="https://tools.ietf.org/html/rfc6750"
                        property="dc:requires">https://tools.ietf.org/html/rfc6750</a>
                </dd>
                <dt id="bib-h-entry">[h-entry]</dt>
                <dd><a href="http://microformats.org/wiki/h-entry" property="dc:requires"><cite>h-entry</cite></a>。
                    Tantek Çelik。microformats.org。实时规范。URL: <a href="http://microformats.org/wiki/h-entry"
                        property="dc:requires">http://microformats.org/wiki/h-entry</a>
                </dd>
                <dt id="bib-microformats2-parsing">[microformats2-parsing]</dt>
                <dd><a href="http://microformats.org/wiki/microformats2-parsing"
                        property="dc:requires"><cite>Microformats2 解析</cite></a>。Tantek Çelik。microformats.org。
                    实时规范。URL: <a href="http://microformats.org/wiki/microformats2-parsing"
                        property="dc:requires">http://microformats.org/wiki/microformats2-parsing</a>
                </dd>
            </dl>
        </section>

        <section id="informative-references" typeof="bibo:Chapter" resource="#informative-references"
            property="bibo:hasPart">
            <h3 id="h-informative-references" resource="#h-informative-references"><span property="xhv:role"
                    resource="xhv:heading"><span class="secno">D.2 </span>补充引用</span>
            </h3>
            <dl class="bibliography" resource="">
                <dt id="bib-IndieAuth">[IndieAuth]</dt>
                <dd><a href="https://indieweb.org/IndieAuth-spec" property="dc:references"><cite>IndieAuth</cite></a>。
                    Aaron Parecki。indieweb.org。实时规范。URL: <a href="https://indieweb.org/IndieAuth-spec"
                        property="dc:references">https://indieweb.org/IndieAuth-spec</a>
                </dd>
                <dt id="bib-Microformats2">[Microformats2]</dt>
                <dd><a href="http://microformats.org/wiki/microformats2" property="dc:references"><cite>Microformats
                            2</cite></a>。Tantek Çelik。microformats.org。实时规范。URL: <a
                        href="http://microformats.org/wiki/microformats2"
                        property="dc:references">http://microformats.org/wiki/microformats2</a>
                </dd>
                <dt id="bib-RFC5870">[RFC5870]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc5870" property="dc:references"><cite>地理位置的统一资源标识符 ('geo'
                            URI)</cite></a>。A. Mayrhofer；C. Spanring。IETF。2010年6月。建议标准。URL: <a
                        href="https://tools.ietf.org/html/rfc5870"
                        property="dc:references">https://tools.ietf.org/html/rfc5870</a>
                </dd>
                <dt id="bib-h-adr">[h-adr]</dt>
                <dd><a href="http://microformats.org/wiki/h-adr" property="dc:references"><cite>h-adr</cite></a>。Tantek
                    Çelik。microformats.org。实时规范。URL: <a href="http://microformats.org/wiki/h-adr"
                        property="dc:references">http://microformats.org/wiki/h-adr</a>
                </dd>
                <dt id="bib-h-card">[h-card]</dt>
                <dd><a href="http://microformats.org/wiki/h-card" property="dc:references"><cite>h-card</cite></a>。
                    Tantek Çelik。microformats.org。实时规范。URL: <a href="http://microformats.org/wiki/h-card"
                        property="dc:references">http://microformats.org/wiki/h-card</a>
                </dd>
                <dt id="bib-h-event">[h-event]</dt>
                <dd><a href="http://microformats.org/wiki/h-event" property="dc:references"><cite>h-event</cite></a>。
                    Tantek Çelik。microformats.org。实时规范。URL: <a href="http://microformats.org/wiki/h-event"
                        property="dc:references">http://microformats.org/wiki/h-event</a>
                </dd>
                <dt id="bib-security-privacy-questionnaire">[security-privacy-questionnaire]</dt>
                <dd><a href="https://www.w3.org/TR/security-privacy-questionnaire/"
                        property="dc:references"><cite>自我评估问卷：安全与隐私</cite></a>。Mike
                    West。W3C。2015年12月10日。W3C 注记。URL: <a href="https://www.w3.org/TR/security-privacy-questionnaire/"
                        property="dc:references">https://www.w3.org/TR/security-privacy-questionnaire/</a>
                </dd>
                <dt id="bib-social-web-protocols">[social-web-protocols]</dt>
                <dd><a href="https://www.w3.org/TR/social-web-protocols/"
                        property="dc:references"><cite>社交网络协议</cite></a>。Amy Guy。W3C。2017年5月4日。W3C 工作草案。URL: <a
                        href="https://www.w3.org/TR/social-web-protocols/"
                        property="dc:references">https://www.w3.org/TR/social-web-protocols/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="返回顶部">↑</abbr></a></p>
    <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
    <script src="https://htmlspecs.com/dropdown.js"></script>
</body>

</html>