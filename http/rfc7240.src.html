<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RFC 7240 - Prefer Header for HTTP</title>
    <script>
        function getMeta(rfcno, container) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "https://www.rfc-editor.org/rfc/rfc" + rfcno + ".json", true);
            xhr.onload = function (e) {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        var data = JSON.parse(xhr.response);

                        var cont = document.getElementById(container);
                        // empty the container
                        while (cont.firstChild) {
                            cont.removeChild(myNode.firstChild);
                        }

                        var c = data.status;
                        if (c) {
                            var bld = newElementWithText("b", c);
                            cont.appendChild(bld);
                        } else {
                            cont.appendChild(newElementWithText("i", "(document status unknown)"));
                        }

                        c = data.updated_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Updated by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.obsoleted_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Obsoleted by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.errata_url;
                        if (c) {
                            cont.appendChild(newElement("br"));
                            var link = newElementWithText("a", "errata");
                            link.setAttribute("href", c);
                            var errata = newElementWithText("i", "This document has ");
                            errata.appendChild(link);
                            errata.appendChild(newText("."));
                            cont.appendChild(errata);
                        }

                        cont.style.display = "block";
                    } else {
                        console.error(xhr.statusText);
                    }
                }
            };
            xhr.onerror = function (e) {
                console.error(xhr.status + " " + xhr.statusText);
            };
            xhr.send(null);
        }
        function appendRfcLinks(parent, updates) {
            var template = "https://www.rfc-editor.org/rfc/rfc{rfc}.html";
            for (var i = 0; i < updates.length; i++) {
                var rfc = updates[i].trim().toLowerCase();
                if (rfc.substring(0, 3) == "rfc") {
                    var no = parseInt(rfc.substring(3), 10);

                    var link = newElement("a");
                    link.setAttribute("href", template.replace("{rfc}", no));
                    link.appendChild(newText(no));
                    parent.appendChild(link);
                } else {
                    parent.appendChild(newText(rfc));
                }
                if (i != updates.length - 1) {
                    parent.appendChild(newText(", "));
                }
            }
        }

        // DOM helpers
        function newElement(name) {
            return document.createElement(name);
        }
        function newElementWithText(name, txt) {
            var e = document.createElement(name);
            e.appendChild(newText(txt));
            return e;
        }
        function newText(text) {
            return document.createTextNode(text);
        }
    </script>
    <script>
        function anchorRewrite() {
            map = {};
            if (window.location.hash.length >= 1) {
                var fragid = window.location.hash.substr(1);
                if (fragid) {
                    if (!document.getElementById(fragid)) {
                        var prefix = "rfc.";
                        var mapped = map[fragid];
                        if (mapped) {
                            window.location.hash = mapped;
                        } else if (fragid.indexOf("section-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(8).replace("-", ".p.");
                        } else if (fragid.indexOf("appendix-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(9).replace("-", ".p.");
                        } else if (fragid.indexOf("s-") == 0) {
                            var postfix = fragid.substring(2);
                            if (postfix.startsWith("abstract")) {
                                window.location.hash = prefix + postfix;
                            } else if (postfix.startsWith("note-")) {
                                window.location.hash = prefix + "note." + postfix.substring(5).replace("-", ".p.");
                            } else {
                                window.location.hash = prefix + "section." + postfix.replace("-", ".p.");
                            }
                        } else if (fragid.indexOf("p-") == 0) {
                            var r = fragid.substring(2);
                            var p = r.indexOf("-");
                            if (p >= 0) {
                                window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
                            }
                        }
                    }
                }
            }
        }
        window.addEventListener('hashchange', anchorRewrite);
        window.addEventListener('DOMContentLoaded', anchorRewrite);
    </script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script>try {
            PR['registerLangHandler'](
                PR['createSimpleLexer'](
                    [
                        // comment
                        [PR['PR_COMMENT'], /^;[^\x00-\x1f]*/, null, ";"],
                    ],
                    [
                        // string literals
                        [PR['PR_STRING'], /^(\%s|\%i)?"[^"\x00-\x1f]*"/, null],
                        // binary literals
                        [PR['PR_LITERAL'], /^\%b[01]+((-[01]+)|(\.[01]+)*)/, null],
                        // decimal literals
                        [PR['PR_LITERAL'], /^\%d[0-9]+((-[0-9]+)|(\.[0-9]+)*)/, null],
                        // hex literals
                        [PR['PR_LITERAL'], /^(\%x[A-Za-z0-9]+((-[A-Za-z0-9]+)|(\.[A-Za-z0-9]+)*))/, null],
                        // prose rule
                        [PR['PR_NOCODE'], /^<[^>\x00-\x1f]*>/, null],
                        // rule name
                        [PR['PR_TYPE'], /^([A-Za-z][A-Za-z0-9-]*)/, null],
                        [PR['PR_PUNCTUATION'], /^[=\(\)\*\/\[\]#]/, null],
                    ]),
                ['ietf_abnf']);
        } catch (e) { }
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="article">
    <meta property="og:title" content="RFC7240">
    <meta property="og:description" content="Prefer Header for HTTP">
    <meta property="og:url" content="https://httpwg.org/specs/rfc7240.html">
    <meta property="og:site_name" content="IETF HTTP Working Group Specifications">
    <meta property="og:image" content="https://httpwg.org/assets/favicon/apple-icon-180x180.png">
    <link rel="stylesheet" type="text/css" href="/assets/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <style type="text/css">
        body {
            padding-top: 80px;
            padding-bottom: 80px;
            position: relative;
        }

        .table.header th,
        .table.header td {
            border-top: none;
            padding: 0;
        }

        #sidebar {
            margin-top: -10px;
            height: 90%;
            overflow-y: auto;
            font-size: 90%;
        }

        #rfc\.meta {
            width: 40%;
            float: right
        }

        .toc ul {
            list-style: none;
        }

        .filename {
            color: rgb(119, 119, 119);
            font-size: 23px;
            font-weight: normal;
            height: auto;
            line-height: 23px;
        }

        dl {
            margin-left: 1em;
        }

        dl.dl-horizontal: {
            margin-left: 0;
        }

        dl>dt {
            float: left;
            margin-right: 1em;
        }

        dl.nohang>dt {
            float: none;
        }

        dl>dd {
            margin-bottom: .5em;
        }

        dl.compact>dd {
            margin-bottom: 0em;
        }

        dl>dd>dl {
            margin-top: 0.5em;
            margin-bottom: 0em;
        }

        ul.empty {
            list-style-type: none;
        }

        ul.empty li {
            margin-top: .5em;
        }

        td.reference {
            padding-right: 1em;
            vertical-align: top;
        }

        .feedback {
            position: fixed;
            bottom: 5px;
            right: 5px;
        }

        .fbbutton {
            margin-left: 5px;
        }

        h1 a,
        h2 a,
        h3 a,
        h4 a,
        h5 a,
        h6 a {
            color: rgb(51, 51, 51);
        }

        span.tt {
            font: 11pt consolas, monospace;
            font-size-adjust: none;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="/assets/site.css">
    <link rel="Contents" href="#rfc.toc">
    <link rel="Author" href="#rfc.authors">
    <link rel="License" href="#rfc.copyrightnotice">
    <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
    <link rel="Chapter" title="2 The Prefer Request Header Field" href="#rfc.section.2">
    <link rel="Chapter" title="3 The Preference-Applied Response Header Field" href="#rfc.section.3">
    <link rel="Chapter" title="4 Preference Definitions" href="#rfc.section.4">
    <link rel="Chapter" title="5 IANA Considerations" href="#rfc.section.5">
    <link rel="Chapter" title="6 Security Considerations" href="#rfc.section.6">
    <link rel="Chapter" title="7 References" href="#rfc.section.7">
    <link rel="Alternate" title="Plain Text Version" href="http://www.ietf.org/rfc/rfc7240.txt">
    <link rel="Help" title="RFC-Editor's Status Page" href="http://www.rfc-editor.org/info/rfc7240">
    <meta name="viewport" content="initial-scale=1">
    <meta name="generator"
        content="https://github.com/mnot/RFCBootstrap XSLT vendor: Saxonica http://www.saxonica.com/">
    <meta name="keywords" content="http, prefer">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.creator" content="Snell, J.M.">
    <meta name="dcterms.identifier" content="urn:ietf:rfc:7240">
    <meta name="dcterms.issued" content="2014-06">
    <meta name="dcterms.abstract"
        content="This specification defines an HTTP header field that can be used by a client to request that certain behaviors be employed by a server while processing a request.">
    <meta name="dcterms.isPartOf" content="urn:issn:2070-1721">
    <meta name="description"
        content="This specification defines an HTTP header field that can be used by a client to request that certain behaviors be employed by a server while processing a request.">
</head>

<body onload="getMeta(7240,&#34;rfc.meta&#34;);">
    <nav class="navbar navbar-dark bg-dark d-print-none navbar-expand-lg fixed-top ps-3 pe-3" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse"
                aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand" href="https://httpwg.org/"><img src="https://httpwg.org/assets/http.svg"
                    height="23"></a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">

            <div class="navbar-nav me-auto">

                <a class="nav-item ms-1 text-white" href="https://httpwg.org/specs/">📄 Documentation</a>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Work in
                        Progress</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/http-extensions/">HTTP Extensions</a></li>
                        <li class="dropdown-item"><a
                                href="https://github.com/httpwg/admin/issues?q=is%3Aissue+is%3Aopen+label%3Aadoption">Future
                                Work</a></li>
                    </ul>
                </div>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Participate</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/about/">About the HTTP Working Group</a>
                        </li>
                        <li class="divider"></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/CONTRIBUTING.html">Contribution Policy</a>
                        </li>
                        <li class="dropdown-item"><a href="http://datatracker.ietf.org/wg/httpbis/charter/">WG
                                Charter</a></li>
                        <li class="dropdown-item"><a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">Group
                                Mailing List 📨</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/wg-materials/">Meeting Materials</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/admin/editors/">Document Editor
                                Resources</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>
    <div class="container" id="top">
        <div class="row">
            <div class="col-lg-4 order-last d-none d-lg-block" id="sidebar" role="navigation">
                <div class="navbar">
                    <div class="navbar-brand"><a href="#top"><strong>RFC </strong>7240</a></div><br clear="all">
                    <div class="">
                        <div class="toc ">
                            <ul>
                                <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#intro">Introduction</a>
                                    <ul>
                                        <li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.1.1">Syntax Notation</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#prefer">The Prefer
                                        Request Header Field</a>
                                    <ul>
                                        <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.2.1">Examples</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#preference-applied">The
                                        Preference-Applied Response Header Field</a></li>
                                <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#definitions">Preference
                                        Definitions</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#respond-async">The "respond-async" Preference</a></li>
                                        <li><a href="#rfc.section.4.2">4.2.</a>&nbsp;&nbsp;&nbsp;<a href="#return">The
                                                "return=representation" and "return=minimal" Preferences</a></li>
                                        <li><a href="#rfc.section.4.3">4.3.</a>&nbsp;&nbsp;&nbsp;<a href="#wait">The
                                                "wait" Preference</a></li>
                                        <li><a href="#rfc.section.4.4">4.4.</a>&nbsp;&nbsp;&nbsp;<a href="#handling">The
                                                "handling=strict" and "handling=lenient" Processing Preferences</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.5">IANA
                                        Considerations</a>
                                    <ul>
                                        <li><a href="#rfc.section.5.1">5.1.</a>&nbsp;&nbsp;&nbsp;<a href="#registry">The
                                                Registry of Preferences</a></li>
                                        <li><a href="#rfc.section.5.2">5.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.5.2">Initial Registry Contents</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.6">Security
                                        Considerations</a></li>
                                <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references">References</a>
                                    <ul>
                                        <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.1">Normative References</a></li>
                                        <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.2">Informative References</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.authors">Author's Address</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 order-first main" role="main">
                <header>
                    <table class="table table-condensed header" id="rfc.headerblock">
                        <tbody>
                            <tr>
                                <td class="text-left">Internet Engineering Task Force (IETF)</td>
                                <td class="text-right">J. Snell</td>
                            </tr>
                            <tr>
                                <td class="text-left">Request for Comments: 7240</td>
                                <td class="text-right">June 2014</td>
                            </tr>
                            <tr>
                                <td class="text-left">Category: Standards Track</td>
                                <td class="text-right"></td>
                            </tr>
                            <tr>
                                <td class="text-left">ISSN: 2070-1721</td>
                                <td class="text-right"></td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="rfc.title">
                        <h1>Prefer Header for HTTP</h1>
                    </div>
                </header>
                <hr>
                <h2 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h2>
                <div class="lead">
                    <div id="rfc.abstract.p.1">
                        <p>This specification defines an HTTP header field that can be used by a client to request that
                            certain behaviors be employed by a server while processing a request.</p>
                    </div>
                </div>
                <aside id="rfc.meta" class="alert alert-info"></aside>
                <section id="rfc.status">
                    <h2><a href="#rfc.status">Status of This Memo</a></h2>
                    <div id="rfc.boilerplate.1.p.1">
                        <p>This is an Internet Standards Track document.</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.2">
                        <p>This document is a product of the Internet Engineering Task Force (IETF). It represents the
                            consensus of the IETF community. It has received public review and has been approved for
                            publication by the Internet Engineering Steering Group (IESG). Further information on
                            Internet Standards is available in <a
                                href="https://www.rfc-editor.org/rfc/rfc5741.html#section-2">Section 2 of RFC 5741</a>.
                        </p>
                    </div>
                    <div id="rfc.boilerplate.1.p.3">
                        <p>Information about the current status of this document, any errata, and how to provide
                            feedback on it may be obtained at <a
                                href="http://www.rfc-editor.org/info/rfc7240">http://www.rfc-editor.org/info/rfc7240</a>.
                        </p>
                    </div>
                </section>
                <section id="rfc.copyrightnotice">
                    <h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2>
                    <div id="rfc.boilerplate.2.p.1">
                        <p>Copyright (c) 2014 IETF Trust and the persons identified as the document authors. All rights
                            reserved.</p>
                    </div>
                    <div id="rfc.boilerplate.2.p.2">
                        <p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF
                            Documents (<a
                                href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in
                            effect on the date of publication of this document. Please review these documents carefully,
                            as they describe your rights and restrictions with respect to this document. Code Components
                            extracted from this document must include Simplified BSD License text as described in
                            Section 4.e of the Trust Legal Provisions and are provided without warranty as described in
                            the Simplified BSD License.</p>
                    </div>
                </section>
                <div class="toc d-lg-none">
                    <ul>
                        <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#intro">Introduction</a>
                            <ul>
                                <li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.1.1">Syntax Notation</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#prefer">The Prefer Request Header
                                Field</a>
                            <ul>
                                <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.2.1">Examples</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#preference-applied">The
                                Preference-Applied Response Header Field</a></li>
                        <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#definitions">Preference
                                Definitions</a>
                            <ul>
                                <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a href="#respond-async">The
                                        "respond-async" Preference</a></li>
                                <li><a href="#rfc.section.4.2">4.2.</a>&nbsp;&nbsp;&nbsp;<a href="#return">The
                                        "return=representation" and "return=minimal" Preferences</a></li>
                                <li><a href="#rfc.section.4.3">4.3.</a>&nbsp;&nbsp;&nbsp;<a href="#wait">The "wait"
                                        Preference</a></li>
                                <li><a href="#rfc.section.4.4">4.4.</a>&nbsp;&nbsp;&nbsp;<a href="#handling">The
                                        "handling=strict" and "handling=lenient" Processing Preferences</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.5">IANA
                                Considerations</a>
                            <ul>
                                <li><a href="#rfc.section.5.1">5.1.</a>&nbsp;&nbsp;&nbsp;<a href="#registry">The
                                        Registry of Preferences</a></li>
                                <li><a href="#rfc.section.5.2">5.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.5.2">Initial Registry Contents</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.6">Security
                                Considerations</a></li>
                        <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a>
                            <ul>
                                <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.1">Normative References</a></li>
                                <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.2">Informative References</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.authors">Author's Address</a></li>
                    </ul>
                </div>
                <section id="intro">
                    <h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a
                            href="#intro">Introduction</a></h2>
                    <div id="rfc.section.1.p.1">
                        <p>Within the course of processing an HTTP request, there are typically a range of required and
                            optional behaviors that a server or intermediary can employ. These often manifest in a
                            variety of subtle and not-so-subtle ways within the response.</p>
                    </div>
                    <div id="rfc.section.1.p.2">
                        <p>For example, when using the HTTP PUT method to modify a resource -- similar to that defined
                            for the Atom Publishing Protocol <a href="#RFC5023"><cite
                                    title="The Atom Publishing Protocol">[RFC5023]</cite></a> -- the server is given the
                            option of returning either a complete representation of a modified resource or a minimal
                            response that indicates only the successful completion of the operation. The selection of
                            which type of response to return to the client generally has no bearing on the successful
                            processing of the request but could, for instance, have an impact on what actions the client
                            must take after receiving the response. That is, returning a representation of the modified
                            resource within the response can allow the client to avoid sending an additional subsequent
                            GET request.</p>
                    </div>
                    <div id="rfc.section.1.p.3">
                        <p>Similarly, servers that process requests are often faced with decisions about how to process
                            requests that may be technically invalid or incorrect but are still understandable. It might
                            be the case that the server is able to overlook the technical errors in the request but
                            still successfully process the request. Depending on the specific requirements of the
                            application and the nature of the request being made, the client might or might not consider
                            such lenient processing of its request to be appropriate.</p>
                    </div>
                    <div id="rfc.section.1.p.4">
                        <p>While the decision of exactly which behaviors to apply in these cases lies with the server
                            processing the request, the server might wish to defer to the client to specify which
                            optional behavior is preferred.</p>
                    </div>
                    <div id="rfc.section.1.p.5">
                        <p>Currently, HTTP offers no explicitly defined means of expressing the client's preferences
                            regarding the optional aspects of handling of a given request. While HTTP does provide the
                            Expect header -- which can be used to identify mandatory expectations for the processing of
                            a request -- use of the field to communicate optional preferences is problematic: </p>
                        <ol>
                            <li>The semantics of the Expect header field are such that intermediaries and servers are
                                required to reject any request that states unrecognized or unsupported expectations.
                            </li>
                            <li>While the Expect header field is end to end, the HTTP specification requires that the
                                header be processed hop by hop. That is, every interceding intermediary that handles a
                                request between the client and the origin server is required to process an expectation
                                and determine whether it is capable of appropriately handling it.</li>
                        </ol>
                    </div>
                    <div id="rfc.section.1.p.6">
                        <p>The must-understand semantics of the Expect header make it a poor choice for the expression
                            of optional preferences.</p>
                    </div>
                    <div id="rfc.section.1.p.7">
                        <p>Another option available to clients is to utilize Request URI query-string parameters to
                            express preferences. However, any mechanism that alters the URI can have undesirable
                            effects, such as when caches record the altered URI.</p>
                    </div>
                    <div id="rfc.section.1.p.8">
                        <p>As an alternative, this specification defines a new HTTP request header field that can be
                            used by clients to request that optional behaviors be applied by a server during the
                            processing the request. Additionally, a handful of initial preference tokens for use with
                            the new header are defined.</p>
                    </div>
                    <div id="rfc.section.1.p.9">
                        <p>In this document, the key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
                            "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" are to be interpreted as
                            described in <a href="#RFC2119"><cite
                                    title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>.
                        </p>
                    </div>
                    <section id="n-syntax-notation">
                        <h3 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a>&nbsp;<a
                                href="#n-syntax-notation">Syntax Notation</a></h3>
                        <div id="rfc.section.1.1.p.1">
                            <p>This specification uses the Augmented Backus-Naur Form (ABNF) notation of <a
                                    href="#RFC5234"><cite
                                        title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a> and
                                includes, by reference, the "token", "word", "OWS", and "BWS" rules and the #rule
                                extension as defined within Sections 3.2.1 and 3.2.4 of <a href="#RFC7230"><cite
                                        title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[RFC7230]</cite></a>;
                                as well as the "delta-seconds" rule defined in Section 8.1.3 of <a href="#RFC7231"><cite
                                        title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite></a>.
                            </p>
                        </div>
                    </section>
                </section>
                <section id="prefer">
                    <h2 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a href="#prefer">The Prefer Request
                            Header Field</a></h2>
                    <div id="rfc.section.2.p.1">
                        <p>The Prefer request header field is used to indicate that particular server behaviors are
                            preferred by the client but are not required for successful completion of the request.
                            Prefer is similar in nature to the Expect header field defined by Section 6.1.2 of <a
                                href="#RFC7231"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite></a>
                            with the exception that servers are allowed to ignore stated preferences.</p>
                    </div>
                    <div id="rfc.figure.1">
                        <p>ABNF:</p>
                        <div>
                            <pre class="inline prettyprint lang-ietf_abnf">
  Prefer     = "Prefer" ":" 1#preference
  preference = token [ BWS "=" BWS word ] 
               *( OWS ";" [ OWS parameter ] )
  parameter  = token [ BWS "=" BWS word ]
      </pre>
                        </div>
                    </div>
                    <div id="rfc.section.2.p.2">
                        <p>This header field is defined with an extensible syntax to allow for future values included in
                            the Registry of Preferences (<a href="#registry" title="The Registry of Preferences">Section
                                5.1</a>). A server that does not recognize or is unable to comply with particular
                            preference tokens in the Prefer header field of a request MUST ignore those tokens and
                            continue processing instead of signaling an error.</p>
                    </div>
                    <div id="rfc.section.2.p.3">
                        <p>Empty or zero-length values on both the preference token and within parameters are equivalent
                            to no value being specified at all. The following, then, are equivalent examples of a "foo"
                            preference with a single "bar" parameter.</p>
                    </div>
                    <div id="rfc.figure.2">
                        <div>
                            <pre class="text">
  Prefer: foo; bar
  Prefer: foo; bar=""
  Prefer: foo=""; bar
      </pre>
                        </div>
                    </div>
                    <div id="rfc.section.2.p.4">
                        <p>An optional set of parameters can be specified for any preference token. The meaning and
                            application of such parameters is dependent on the definition of each preference token and
                            the server's implementation thereof. There is no significance given to the ordering of
                            parameters on any given preference.</p>
                    </div>
                    <div id="rfc.section.2.p.5">
                        <p>For both preference token names and parameter names, comparison is case insensitive while
                            values are case sensitive regardless of whether token or quoted-string values are used.</p>
                    </div>
                    <div id="rfc.section.2.p.6">
                        <p>The Prefer header field is end to end and MUST be forwarded by a proxy if the request is
                            forwarded unless Prefer is explicitly identified as being hop by hop using the Connection
                            header field defined by <a href="#RFC7230"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[RFC7230]</cite></a>,
                            Section 6.1.</p>
                    </div>
                    <div id="rfc.section.2.p.7">
                        <p>In various situations, a proxy might determine that it is capable of honoring a preference
                            independently of the server to which the request has been directed. For instance, an
                            intervening proxy might be capable of providing asynchronous handling of a request using 202
                            (Accepted) responses independently of the origin server. Such proxies can choose to honor
                            the "respond-async" preference on their own regardless of whether or not the origin is
                            capable or willing to do so.</p>
                    </div>
                    <div id="rfc.section.2.p.8">
                        <p>Individual preference tokens MAY define their own requirements and restrictions as to whether
                            and how intermediaries can apply the preference to a request independently of the origin
                            server.</p>
                    </div>
                    <div id="rfc.section.2.p.9" class="avoidbreakafter">
                        <p>A client MAY use multiple instances of the Prefer header field in a single message, or it MAY
                            use a single Prefer header field with multiple comma-separated preference tokens. If
                            multiple Prefer header fields are used, it is equivalent to a single Prefer header field
                            with the comma-separated concatenation of all of the tokens. For example, the following are
                            equivalent:</p>
                    </div>
                    <div id="rfc.figure.3">
                        <p>Multiple Prefer header fields defining three distinct preference tokens:</p>
                        <div>
                            <pre class="text2">
POST /foo HTTP/1.1
Host: example.org
Prefer: respond-async, wait=100
Prefer: handling=lenient
Date: Tue, 20 Dec 2011 12:34:56 GMT
</pre>
                        </div>
                    </div>
                    <div id="rfc.figure.4">
                        <p>A single Prefer header field defining the same three preference tokens:</p>
                        <div>
                            <pre class="text2">
POST /foo HTTP/1.1
Host: example.org
Prefer: handling=lenient, wait=100, respond-async
Date: Tue, 20 Dec 2011 12:34:56 GMT
</pre>
                        </div>
                    </div>
                    <div id="rfc.section.2.p.10">
                        <p>To avoid any possible ambiguity, individual preference tokens SHOULD NOT appear multiple
                            times within a single request. If any preference is specified more than once, only the first
                            instance is to be considered. All subsequent occurrences SHOULD be ignored without signaling
                            an error or otherwise altering the processing of the request. This is the only case in which
                            the ordering of preferences within a request is considered to be significant.</p>
                    </div>
                    <div id="rfc.section.2.p.11">
                        <p>Due to the inherent complexities involved with properly implementing server-driven content
                            negotiation, effective caching, and the application of optional preferences, implementers
                            are urged to exercise caution when using preferences in a way that impacts the caching of a
                            response and SHOULD NOT use the Prefer header mechanism for content negotiation. If a server
                            supports the optional application of a preference that might result in a variance to a
                            cache's handling of a response entity, a Vary header field MUST be included in the response
                            listing the Prefer header field regardless of whether the client actually used Prefer in the
                            request. Alternatively, the server MAY include a Vary header with the special value "*" as
                            defined by <a href="#RFC7231"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite></a>,
                            Section 8.2.1. Note, however, that use of the "Vary: *" header will make it impossible for a
                            proxy to cache the response.</p>
                    </div>
                    <div id="rfc.section.2.p.12">
                        <p>Note that while Preference tokens are similar in structure to HTTP Expect tokens, the Prefer
                            and Expect header fields serve very distinct purposes and preferences cannot be used as
                            expectations.</p>
                    </div>
                    <section id="n-examples">
                        <h3 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a>&nbsp;<a
                                href="#n-examples">Examples</a></h3>
                        <div id="rfc.section.2.1.p.1" class="avoidbreakafter">
                            <p>The following examples illustrate the use of various preferences defined by this
                                specification, as well as undefined extensions for strictly illustrative purposes:</p>
                        </div>
                        <div id="rfc.figure.5">
                            <p>1. Return a 202 (Accepted) response for asynchronous processing if the request cannot be
                                processed within 10 seconds. An undefined "priority" preference is also specified:</p>
                            <div>
                                <pre class="text2">
POST /some-resource HTTP/1.1
Host: example.org
Content-Type: text/plain
Prefer: respond-async, wait=10
Prefer: priority=5

{...}
</pre>
                            </div>
                        </div>
                        <div id="rfc.figure.6">
                            <p>2. Use lenient processing:</p>
                            <div>
                                <pre class="text2">
POST /some-resource HTTP/1.1
Host: example.org
Content-Type: text/plain
Prefer: Lenient

{...}
</pre>
                            </div>
                        </div>
                        <div id="rfc.figure.7">
                            <p>3. Use of an optional, undefined parameter on the return=minimal preference:</p>
                            <div>
                                <pre class="text2">
POST /some-resource HTTP/1.1
Host: example.org
Content-Type: text/plain
Prefer: return=minimal; foo="some parameter"

{...}
</pre>
                            </div>
                        </div>
                    </section>
                </section>
                <section id="preference-applied">
                    <h2 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a href="#preference-applied">The
                            Preference-Applied Response Header Field</a></h2>
                    <div id="rfc.section.3.p.1">
                        <p>The Preference-Applied response header MAY be included within a response message as an
                            indication as to which Prefer tokens were honored by the server and applied to the
                            processing of a request.</p>
                    </div>
                    <div id="rfc.figure.8">
                        <p>ABNF:</p>
                        <div>
                            <pre class="inline prettyprint lang-ietf_abnf">
  Preference-Applied = "Preference-Applied" ":" 1#applied-pref
  applied-pref = token [ BWS "=" BWS word ]
      </pre>
                        </div>
                    </div>
                    <div id="rfc.section.3.p.2">
                        <p>The syntax of the Preference-Applied header differs from that of the Prefer header in that
                            parameters are not included.</p>
                    </div>
                    <div id="rfc.section.3.p.3">
                        <p>Use of the Preference-Applied header is only necessary when it is not readily and obviously
                            apparent that a server applied a given preference and such ambiguity might have an impact on
                            the client's handling of the response. For instance, when using either the
                            "return=representation" or "return=minimal" preferences, a client application might not be
                            capable of reliably determining if the preference was (or was not) applied simply by
                            examining the payload of the response. In such a case, the Preference-Applied header field
                            can be used.</p>
                    </div>
                    <div id="rfc.figure.9">
                        <p>Request:</p>
                        <div>
                            <pre class="text2">
PATCH /my-document HTTP/1.1
Host: example.org
Content-Type: application/example-patch
Prefer: return=representation

[{"op": "add", "path": "/a", "value": 1}]
</pre>
                        </div>
                    </div>
                    <div id="rfc.figure.10">
                        <p>Response:</p>
                        <div>
                            <pre class="text">
HTTP/1.1 200 OK
Content-Type: application/json
Preference-Applied: return=representation
Content-Location: /my-document

{"a": 1}
</pre>
                        </div>
                    </div>
                </section>
                <section id="definitions">
                    <h2 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a href="#definitions">Preference
                            Definitions</a></h2>
                    <div id="rfc.section.4.p.1">
                        <p>The following subsections define an initial set of preferences. Additional preferences can be
                            registered for convenience and/or to promote reuse by other applications. This specification
                            establishes an IANA registry of preferences (see <a href="#registry"
                                title="The Registry of Preferences">Section 5.1</a>).</p>
                    </div>
                    <section id="respond-async">
                        <h3 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1.</a>&nbsp;<a href="#respond-async">The
                                "respond-async" Preference</a></h3>
                        <div id="rfc.section.4.1.p.1">
                            <p>The "respond-async" preference indicates that the client prefers the server to respond
                                asynchronously to a response. For instance, in the case when the length of time it takes
                                to generate a response will exceed some arbitrary threshold established by the server,
                                the server can honor the "respond-async" preference by returning a 202 (Accepted)
                                response.</p>
                        </div>
                        <div id="rfc.figure.11">
                            <p>ABNF:</p>
                            <div>
                                <pre class="inline prettyprint lang-ietf_abnf">
  respond-async = "respond-async"
      </pre>
                            </div>
                        </div>
                        <div id="rfc.section.4.1.p.2">
                            <p>The key motivation for the "respond-async" preference is to facilitate the operation of
                                asynchronous request handling by allowing the client to indicate to a server its
                                capability and preference for handling asynchronous responses.</p>
                        </div>
                        <div id="rfc.figure.12">
                            <p>An example request specifying the "respond-async" preference:</p>
                            <div>
                                <pre class="text2">
POST /collection HTTP/1.1
Host: example.org
Content-Type: text/plain
Prefer: respond-async

{Data}
</pre>
                            </div>
                        </div>
                        <div id="rfc.figure.13">
                            <p>An example asynchronous response using 202 (Accepted):</p>
                            <div>
                                <pre class="text">
HTTP/1.1 202 Accepted
Location: http://example.org/collection/123
</pre>
                            </div>
                        </div>
                        <div id="rfc.section.4.1.p.3">
                            <p>While the 202 (Accepted) response status is defined by <a href="#RFC7231"><cite
                                        title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite></a>,
                                little guidance is given on how and when to use the response code and the process for
                                determining the subsequent final result of the operation is left entirely undefined.
                                Therefore, whether and how any given server supports asynchronous responses is an
                                implementation-specific detail that is considered to be out of the scope of this
                                specification.</p>
                        </div>
                    </section>
                    <section id="return">
                        <h3 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2.</a>&nbsp;<a href="#return">The
                                "return=representation" and "return=minimal" Preferences</a></h3>
                        <div id="rfc.section.4.2.p.1">
                            <p>The "return=representation" preference indicates that the client prefers that the server
                                include an entity representing the current state of the resource in the response to a
                                successful request.</p>
                        </div>
                        <div id="rfc.section.4.2.p.2">
                            <p>The "return=minimal" preference, on the other hand, indicates that the client wishes the
                                server to return only a minimal response to a successful request. Typically, such
                                responses would utilize the 204 (No Content) status, but other codes MAY be used as
                                appropriate, such as a 200 (OK) status with a zero-length response entity. The
                                determination of what constitutes an appropriate minimal response is solely at the
                                discretion of the server.</p>
                        </div>
                        <div id="rfc.figure.14">
                            <p>ABNF:</p>
                            <div>
                                <pre class="inline prettyprint lang-ietf_abnf">
  return = "return" BWS "=" BWS ("representation" / "minimal")
      </pre>
                            </div>
                        </div>
                        <div id="rfc.section.4.2.p.3">
                            <p>When honoring the "return=representation" preference, the returned representation might
                                not be a representation of the effective request URI when the request is affecting
                                another resource. In such cases, the Content-Location header can be used to identify the
                                URI of the returned representation.</p>
                        </div>
                        <div id="rfc.section.4.2.p.4">
                            <p>The "return=representation" preference is intended to provide a means of optimizing
                                communication between the client and server by eliminating the need for a subsequent GET
                                request to retrieve the current representation of the resource following a modification.
                            </p>
                        </div>
                        <div id="rfc.section.4.2.p.5">
                            <p>After successfully processing a modification request such as a POST or PUT, a server can
                                choose to return either an entity describing the status of the operation or a
                                representation of the modified resource itself. While the selection of which type of
                                entity to return, if any at all, is solely at the discretion of the server, the
                                "return=representation" preference -- along with the "return=minimal" preference defined
                                below -- allow the server to take the client's preferences into consideration while
                                constructing the response.</p>
                        </div>
                        <div id="rfc.figure.15">
                            <p>An example request specifying the "return=representation" preference:</p>
                            <div>
                                <pre class="text2">
PATCH /item/123 HTTP/1.1
Host: example.org
Content-Type: application/example-patch
Prefer: return=representation

1c1
&lt; ABCDEFGHIJKLMNOPQRSTUVWXYZ
---
&gt; BCDFGHJKLMNPQRSTVWXYZ
</pre>
                            </div>
                        </div>
                        <div id="rfc.figure.16">
                            <p>An example response containing the resource representation:</p>
                            <div>
                                <pre class="text">
HTTP/1.1 200 OK
Content-Location: http://example.org/item/123
Content-Type: text/plain
ETag: "d3b07384d113edec49eaa6238ad5ff00"

BCDFGHJKLMNPQRSTVWXYZ
</pre>
                            </div>
                        </div>
                        <div id="rfc.section.4.2.p.6">
                            <p>In contrast, the "return=minimal" preference can reduce the amount of data the server is
                                required to return to the client following a request. This can be particularly useful,
                                for instance, when communicating with limited-bandwidth mobile devices or when the
                                client simply does not require any further information about the result of a request
                                beyond knowing if it was successfully processed.</p>
                        </div>
                        <div id="rfc.figure.17">
                            <p>An example request specifying the "return=minimal" preference:</p>
                            <div>
                                <pre class="text2">
POST /collection HTTP/1.1
Host: example.org
Content-Type: text/plain
Prefer: return=minimal

{Data}
</pre>
                            </div>
                        </div>
                        <div id="rfc.figure.18">
                            <p>An example minimal response:</p>
                            <div>
                                <pre class="text">
HTTP/1.1 201 Created
Location: http://example.org/collection/123
</pre>
                            </div>
                        </div>
                        <div id="rfc.section.4.2.p.7">
                            <p>The "return=minimal" and "return=representation" preferences are mutually exclusive
                                directives. It is anticipated that there will never be a situation where it will make
                                sense for a single request to include both preferences. Any such requests will likely be
                                the result of a coding error within the client. As such, a request containing both
                                preferences can be treated as though neither were specified.</p>
                        </div>
                    </section>
                    <section id="wait">
                        <h3 id="rfc.section.4.3"><a href="#rfc.section.4.3">4.3.</a>&nbsp;<a href="#wait">The "wait"
                                Preference</a></h3>
                        <div id="rfc.section.4.3.p.1">
                            <p>The "wait" preference can be used to establish an upper bound on the length of time, in
                                seconds, the client expects it will take the server to process the request once it has
                                been received. In the case that generating a response will take longer than the time
                                specified, the server, or proxy, can choose to utilize an asynchronous processing model
                                by returning -- for example -- a 202 (Accepted) response.</p>
                        </div>
                        <div id="rfc.figure.19">
                            <p>ABNF:</p>
                            <div>
                                <pre class="inline prettyprint lang-ietf_abnf">
  wait = "wait" BWS "=" BWS delta-seconds
      </pre>
                            </div>
                        </div>
                        <div id="rfc.section.4.3.p.2">
                            <p>It is important to consider that HTTP messages spend some time traversing the network and
                                being processed by intermediaries. This increases the length of time that a client will
                                wait for a response in addition to the time the server takes to process the request. A
                                client that has strict timing requirements can estimate these factors and adjust the
                                wait value accordingly.</p>
                        </div>
                        <div id="rfc.section.4.3.p.3">
                            <p>As with other preferences, the "wait" preference could be ignored. Clients can abandon
                                requests that take longer than they are prepared to wait.</p>
                        </div>
                        <div id="rfc.figure.20">
                            <p>For example, a server receiving the following request might choose to respond
                                asynchronously if processing the request will take longer than 10 seconds:</p>
                            <div>
                                <pre class="text2">
POST /collection HTTP/1.1
Host: example.org
Content-Type: text/plain
Prefer: respond-async, wait=10

{Data}
</pre>
                            </div>
                        </div>
                    </section>
                    <section id="handling">
                        <h3 id="rfc.section.4.4"><a href="#rfc.section.4.4">4.4.</a>&nbsp;<a href="#handling">The
                                "handling=strict" and "handling=lenient" Processing Preferences</a></h3>
                        <div id="rfc.section.4.4.p.1">
                            <p>The "handling=strict" and "handling=lenient" preferences indicate, at the server's
                                discretion, how the client wishes the server to handle potential error conditions that
                                can arise in the processing of a request. For instance, if the payload of a request
                                contains various minor syntactical or semantic errors, but the server is still capable
                                of comprehending and successfully processing the request, a decision must be made to
                                either reject the request with an appropriate "4xx" error response or go ahead with
                                processing. The "handling=strict" preference can be used to indicate that, while any
                                particular error may be recoverable, the client would prefer that the server reject the
                                request. The "handling=lenient" preference, on the other hand, indicates that the client
                                wishes the server to attempt to process the request.</p>
                        </div>
                        <div id="rfc.figure.21">
                            <p>ABNF:</p>
                            <div>
                                <pre class="inline prettyprint lang-ietf_abnf">
  handling = "handling" BWS "=" BWS ("strict" / "lenient")
    </pre>
                            </div>
                        </div>
                        <div id="rfc.figure.22">
                            <p>An example request specifying the "strict" preference:</p>
                            <div>
                                <pre class="text2">
POST /collection HTTP/1.1
Host: example.org
Content-Type: text/plain
Prefer: handling=strict
</pre>
                            </div>
                        </div>
                        <div id="rfc.section.4.4.p.2">
                            <p>The "handling=strict" and "handling=lenient" preferences are mutually exclusive
                                directives. It is anticipated that there will never be a situation where it will make
                                sense for a single request to include both preferences. Any such requests will likely be
                                the result of a coding error within the client. As such, a request containing both
                                preferences can be treated as though neither were specified.</p>
                        </div>
                    </section>
                </section>
                <section id="n-iana-considerations">
                    <h2 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a href="#n-iana-considerations">IANA
                            Considerations</a></h2>
                    <div id="rfc.section.5.p.1">
                        <p>The 'Prefer' and 'Preference-Applied' header fields have been added to the "Permanent Message
                            Header Field Names" registry defined in <a href="#RFC3864"><cite
                                    title="Registration Procedures for Message Header Fields">[RFC3864]</cite></a>
                            (http://www.iana.org/assignments/message-headers).</p>
                    </div>
                    <div id="rfc.section.5.p.2">
                        <ul class="empty">
                            <li>Header field name: Prefer</li>
                            <li>Applicable Protocol: HTTP</li>
                            <li>Status: Standard</li>
                            <li>Author: James M Snell &lt;jasnell@gmail.com&gt;</li>
                            <li>Change controller: IETF</li>
                            <li>Specification document: this specification, <a href="#prefer"
                                    title="The Prefer Request Header Field">Section 2</a></li>
                        </ul>
                    </div>
                    <div id="rfc.section.5.p.3">
                        <ul class="empty">
                            <li>Header field name: Preference-Applied</li>
                            <li>Applicable Protocol: HTTP</li>
                            <li>Status: Standard</li>
                            <li>Author: James M Snell &lt;jasnell@gmail.com&gt;</li>
                            <li>Change controller: IETF</li>
                            <li>Specification document: this specification, <a href="#preference-applied"
                                    title="The Preference-Applied Response Header Field">Section 3</a></li>
                        </ul>
                    </div>
                    <section id="registry">
                        <h3 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1.</a>&nbsp;<a href="#registry">The
                                Registry of Preferences</a></h3>
                        <div id="rfc.section.5.1.p.1">
                            <p>IANA has created a new registry, "HTTP Preferences", under the "Hypertext Transfer
                                Protocol (HTTP) Parameters" registry. New registrations will use the Specification
                                Required policy <a href="#RFC5226"><cite
                                        title="Guidelines for Writing an IANA Considerations Section in RFCs">[RFC5226]</cite></a>.
                                The requirements for registered preferences are described in <a href="#definitions"
                                    title="Preference Definitions">Section 4</a>.</p>
                        </div>
                        <div id="rfc.section.5.1.p.2">
                            <p>Registration requests consist of the completed registration template below, typically
                                published in the required specification. However, to allow for the allocation of values
                                prior to publication, the Designated Expert can approve registration based on a
                                separately submitted template once they are satisfied that a specification will be
                                published. Preferences can be registered by third parties if the Designated Expert
                                determines that an unregistered preference is widely deployed and not likely to be
                                registered in a timely manner.</p>
                        </div>
                        <div id="rfc.section.5.1.p.3" class="avoidbreakafter">
                            <p>The registration template is:</p>
                        </div>
                        <div id="rfc.section.5.1.p.4">
                            <ul>
                                <li>Preference: (A value for the Prefer request header field that conforms to the syntax
                                    rule given in <a href="#prefer" title="The Prefer Request Header Field">Section
                                        2</a>)</li>
                                <li>Value: (An enumeration or description of possible values for the preference token).
                                </li>
                                <li>Optional Parameters: (An enumeration of optional parameters, and their values,
                                    associated with the preference token).</li>
                                <li>Description:</li>
                                <li>Reference:</li>
                                <li>Notes: [optional]</li>
                            </ul>
                        </div>
                        <div id="rfc.section.5.1.p.5">
                            <p>The "Value" and "Optional Parameters" fields MAY be omitted from the registration
                                template if the specific preference token definition does not define either.</p>
                        </div>
                        <div id="rfc.section.5.1.p.6">
                            <p>Registration requests should be sent to the &lt;ietf-http-wg@w3.org&gt; mailing list,
                                marked clearly in the subject line (e.g., "NEW PREFERENCE - example" to register an
                                "example" preference). Within at most 14 days of the request, the Designated Expert(s)
                                will either approve or deny the registration request, communicating this decision to the
                                review list and IANA. Denials should include an explanation and, if applicable,
                                suggestions as to how to make the request successful.</p>
                        </div>
                        <div id="rfc.section.5.1.p.7">
                            <p>The Expert Reviewer shall ensure: </p>
                            <ul>
                                <li>That the requested preference name conforms to the token rule in <a href="#prefer"
                                        title="The Prefer Request Header Field">Section 2</a> and that it is not
                                    identical to any other registered preference name;</li>
                                <li>That any associated value, parameter names, and values conform to the relevant ABNF
                                    grammar specifications in <a href="#prefer"
                                        title="The Prefer Request Header Field">Section 2</a>;</li>
                                <li>That the name is appropriate to the specificity of the preference; i.e., if the
                                    semantics are highly specific to a particular application, the name should reflect
                                    that, so that more general names remain available for less specific uses.</li>
                                <li>That requested preferences do not constrain servers, clients, or any intermediaries
                                    to any behavior required for successful processing; and</li>
                                <li>That the specification document defining the preference includes a proper and
                                    complete discussion of any security considerations relevant to the use of the
                                    preference.</li>
                            </ul>
                        </div>
                    </section>
                    <section id="n-initial-registry-contents">
                        <h3 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2.</a>&nbsp;<a
                                href="#n-initial-registry-contents">Initial Registry Contents</a></h3>
                        <div id="rfc.section.5.2.p.1" class="avoidbreakafter">
                            <p>The "HTTP Preferences" registry's initial contents are:</p>
                        </div>
                        <div id="rfc.section.5.2.p.2">
                            <ul>
                                <li>Preference: respond-async</li>
                                <li>Description: Indicates that the client prefers that the server respond
                                    asynchronously to a request.</li>
                                <li>Reference: [this specification], <a href="#respond-async"
                                        title="The &#34;respond-async&#34; Preference">Section 4.1</a></li>
                            </ul>
                        </div>
                        <div id="rfc.section.5.2.p.3">
                            <ul>
                                <li>Preference: return</li>
                                <li>Value: One of either "minimal" or "representation"</li>
                                <li>Description: When the value is "minimal", it indicates that the client prefers that
                                    the server return a minimal response to a request. When the value is
                                    "representation", it indicates that the client prefers that the server include a
                                    representation of the current state of the resource in response to a request.</li>
                                <li>Reference: [this specification], <a href="#return"
                                        title="The &#34;return=representation&#34; and &#34;return=minimal&#34; Preferences">Section
                                        4.2</a></li>
                            </ul>
                        </div>
                        <div id="rfc.section.5.2.p.4">
                            <ul>
                                <li>Preference: wait</li>
                                <li>Description: Indicates an upper bound to the length of time the client expects it
                                    will take for the server to process the request once it has been received.</li>
                                <li>Reference: [this specification], <a href="#wait"
                                        title="The &#34;wait&#34; Preference">Section 4.3</a></li>
                            </ul>
                        </div>
                        <div id="rfc.section.5.2.p.5">
                            <ul>
                                <li>Preference: handling</li>
                                <li>Value: One of either "strict" or "lenient"</li>
                                <li>Description: When value is "strict", it indicates that the client wishes the server
                                    to apply strict validation and error handling to the processing of a request. When
                                    the value is "lenient", it indicates that the client wishes the server to apply
                                    lenient validation and error handling to the processing of the request.</li>
                                <li>Reference: [this specification], <a href="#handling"
                                        title="The &#34;handling=strict&#34; and &#34;handling=lenient&#34; Processing Preferences">Section
                                        4.4</a></li>
                            </ul>
                        </div>
                    </section>
                </section>
                <section id="n-security-considerations">
                    <h2 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;<a
                            href="#n-security-considerations">Security Considerations</a></h2>
                    <div id="rfc.section.6.p.1">
                        <p>Specific preferences requested by a client can introduce security considerations and concerns
                            beyond those discussed within <a href="#RFC7230"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">HTTP/1.1</cite></a>
                            <cite
                                title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[RFC7230]</cite>
                            and its associated specification documents (see <a href="#RFC7230"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[RFC7230]</cite></a>
                            for the list of associated works). Implementers need to refer to the specifications and
                            descriptions of each preference to determine the security considerations relevant to each.
                        </p>
                    </div>
                    <div id="rfc.section.6.p.2">
                        <p>A server could incur greater costs in attempting to comply with a particular preference (for
                            instance, the cost of providing a representation in a response that would not ordinarily
                            contain one; or the commitment of resources necessary to track state for an asynchronous
                            response). Unconditional compliance from a server could allow the use of preferences for
                            denial of service. A server can ignore an expressed preference to avoid expending resources
                            that it does not wish to commit.</p>
                    </div>
                </section>
                <section id="rfc.references">
                    <h2 id="rfc.section.7"><a href="#rfc.section.7">7.</a> References</h2>
                    <section>
                        <div id="rfc.references.1">
                            <h3 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1.</a> Normative References</h3>
                            <dl class="dl-horizontal">
                                <dt id="RFC2119">[<a href="#RFC2119" class="smpl">RFC2119</a>]</dt>
                                <dd>Bradner, S., “<a href="https://www.rfc-editor.org/rfc/rfc2119.html">Key words for
                                        use in RFCs to Indicate Requirement Levels</a>”, <a
                                        href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>, RFC 2119, March 1997,
                                    &lt;<a
                                        href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.
                                </dd>
                                <dt id="RFC3864">[<a href="#RFC3864" class="smpl">RFC3864</a>]</dt>
                                <dd>Klyne, G., Nottingham, M., and J. Mogul, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc3864.html">Registration Procedures for
                                        Message Header Fields</a>”, <a href="https://www.rfc-editor.org/info/bcp90">BCP
                                        90</a>, RFC 3864, September 2004, &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc3864">https://www.rfc-editor.org/info/rfc3864</a>&gt;.
                                </dd>
                                <dt id="RFC5226">[<a href="#RFC5226" class="smpl">RFC5226</a>]</dt>
                                <dd>Narten, T. and H. Alvestrand, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc5226.html">Guidelines for Writing an
                                        IANA Considerations Section in RFCs</a>”, RFC 5226, May 2008, &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc5226">https://www.rfc-editor.org/info/rfc5226</a>&gt;.
                                </dd>
                                <dt id="RFC5234">[<a href="#RFC5234" class="smpl">RFC5234</a>]</dt>
                                <dd>Crocker, D., Ed. and P. Overell, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc5234.html">Augmented BNF for Syntax
                                        Specifications: ABNF</a>”, <a href="https://www.rfc-editor.org/info/std68">STD
                                        68</a>, RFC 5234, January 2008, &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;.
                                </dd>
                                <dt id="RFC7230">[<a href="#RFC7230" class="smpl">RFC7230</a>]</dt>
                                <dd>Fielding, R., Ed. and J. Reschke, Ed., “<a
                                        href="https://www.rfc-editor.org/rfc/rfc7230.html">Hypertext Transfer Protocol
                                        (HTTP/1.1): Message Syntax and Routing</a>”, RFC 7230, June 2014.</dd>
                                <dt id="RFC7231">[<a href="#RFC7231" class="smpl">RFC7231</a>]</dt>
                                <dd>Fielding, R., Ed. and J. Reschke, Ed., “<a
                                        href="https://www.rfc-editor.org/rfc/rfc7231.html">Hypertext Transfer Protocol
                                        (HTTP/1.1): Semantics and Content</a>”, RFC 7231, June 2014.</dd>
                            </dl>
                        </div>
                    </section>
                    <section>
                        <div id="rfc.references.2">
                            <h3 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2.</a> Informative References</h3>
                            <dl class="dl-horizontal">
                                <dt id="RFC5023">[<a href="#RFC5023" class="smpl">RFC5023</a>]</dt>
                                <dd>Gregorio, J., Ed. and B. de hOra, Ed., “<a
                                        href="https://www.rfc-editor.org/rfc/rfc5023.html">The Atom Publishing
                                        Protocol</a>”, RFC 5023, October 2007, &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc5023">https://www.rfc-editor.org/info/rfc5023</a>&gt;.
                                </dd>
                            </dl>
                        </div>
                    </section>
                </section>
                <section id="rfc.authors" class="avoidbreakinside">
                    <h2><a href="#rfc.authors">Author's Address</a></h2>
                    <address><b>James M Snell</b><br>Email: <a href="mailto:jasnell@gmail.com">jasnell@gmail.com</a>
                    </address>
                </section>
            </div>
        </div>
    </div>
    <script src="/assets/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
</body>

</html>