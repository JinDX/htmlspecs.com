<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="zh-hans">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RFC 9112 - HTTP/1.1</title>
    <script>
        function getMeta(rfcno, container) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "https://www.rfc-editor.org/rfc/rfc" + rfcno + ".json", true);
            xhr.onload = function (e) {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        var data = JSON.parse(xhr.response);

                        var cont = document.getElementById(container);
                        // empty the container
                        while (cont.firstChild) {
                            cont.removeChild(myNode.firstChild);
                        }

                        var c = data.status;
                        if (c) {
                            var bld = newElementWithText("b", c);
                            cont.appendChild(bld);
                        } else {
                            cont.appendChild(newElementWithText("i", "(document status unknown)"));
                        }

                        c = data.updated_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Updated by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.obsoleted_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Obsoleted by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.errata_url;
                        if (c) {
                            cont.appendChild(newElement("br"));
                            var link = newElementWithText("a", "errata");
                            link.setAttribute("href", c);
                            var errata = newElementWithText("i", "This document has ");
                            errata.appendChild(link);
                            errata.appendChild(newText("."));
                            cont.appendChild(errata);
                        }

                        cont.style.display = "block";
                    } else {
                        console.error(xhr.statusText);
                    }
                }
            };
            xhr.onerror = function (e) {
                console.error(xhr.status + " " + xhr.statusText);
            };
            xhr.send(null);
        }
        function appendRfcLinks(parent, updates) {
            var template = "https://www.rfc-editor.org/rfc/rfc{rfc}.html";
            for (var i = 0; i < updates.length; i++) {
                var rfc = updates[i].trim().toLowerCase();
                if (rfc.substring(0, 3) == "rfc") {
                    var no = parseInt(rfc.substring(3), 10);

                    var link = newElement("a");
                    link.setAttribute("href", template.replace("{rfc}", no));
                    link.appendChild(newText(no));
                    parent.appendChild(link);
                } else {
                    parent.appendChild(newText(rfc));
                }
                if (i != updates.length - 1) {
                    parent.appendChild(newText(", "));
                }
            }
        }

        // DOM helpers
        function newElement(name) {
            return document.createElement(name);
        }
        function newElementWithText(name, txt) {
            var e = document.createElement(name);
            e.appendChild(newText(txt));
            return e;
        }
        function newText(text) {
            return document.createTextNode(text);
        }
    </script>
    <script>
        function anchorRewrite() {
            map = { "ALPHA": "core.rules", "CR": "core.rules", "CRLF": "core.rules", "CTL": "core.rules", "DIGIT": "core.rules", "DQUOTE": "core.rules", "HEXDIG": "core.rules", "HTAB": "core.rules", "LF": "core.rules", "OCTET": "core.rules", "SP": "core.rules", "VCHAR": "core.rules", "absolute-path": "imported.rules", "comment": "imported.rules", "field-name": "imported.rules", "field-value": "imported.rules", "obs-text": "imported.rules", "quoted-string": "imported.rules", "token": "imported.rules", "absolute-URI": "imported.uri.rules", "authority": "imported.uri.rules", "query": "imported.uri.rules", "generic-message": "message.format", "message.types": "message.format", "HTTP-message": "message.format", "start-line": "message.format", "HTTP-version": "http.version", "HTTP-name": "http.version", "Request": "request.line", "request-line": "request.line", "method": "request.method", "request-target": "request.target", "h1.effective.request.uri": "reconstructing.target.uri", "response": "status.line", "status-line": "status.line", "status-code": "status.line", "status code": "status.line", "reason-phrase": "status.line", "field-line": "header.field.syntax", "header.parsing": "field.parsing", "obs-fold": "line.folding", "message-body": "message.body", "header.transfer-encoding": "field.transfer-encoding", "Transfer-Encoding": "field.transfer-encoding", "Content-Length": "body.content-length", "chunk": "chunked.encoding", "chunked-body": "chunked.encoding", "chunk-data": "chunked.encoding", "chunk-size": "chunked.encoding", "last-chunk": "chunked.encoding", "chunk-ext": "chunked.extension", "chunk-ext-name": "chunked.extension", "chunk-ext-val": "chunked.extension", "trailer-section": "chunked.trailer.section", "persistent connections": "persistent.connections", "pipeline": "pipelining", "close": "persistent.tear-down", "MIME-Version": "mime-version" };
            if (window.location.hash.length >= 1) {
                var fragid = window.location.hash.substr(1);
                if (fragid) {
                    if (!document.getElementById(fragid)) {
                        var prefix = "rfc.";
                        var mapped = map[fragid];
                        if (mapped) {
                            window.location.hash = mapped;
                        } else if (fragid.indexOf("section-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(8).replace("-", ".p.");
                        } else if (fragid.indexOf("appendix-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(9).replace("-", ".p.");
                        } else if (fragid.indexOf("s-") == 0) {
                            var postfix = fragid.substring(2);
                            if (postfix.startsWith("abstract")) {
                                window.location.hash = prefix + postfix;
                            } else if (postfix.startsWith("note-")) {
                                window.location.hash = prefix + "note." + postfix.substring(5).replace("-", ".p.");
                            } else {
                                window.location.hash = prefix + "section." + postfix.replace("-", ".p.");
                            }
                        } else if (fragid.indexOf("p-") == 0) {
                            var r = fragid.substring(2);
                            var p = r.indexOf("-");
                            if (p >= 0) {
                                window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
                            }
                        }
                    }
                }
            }
        }
        window.addEventListener('hashchange', anchorRewrite);
        window.addEventListener('DOMContentLoaded', anchorRewrite);
    </script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script>try {
            PR['registerLangHandler'](
                PR['createSimpleLexer'](
                    [
                        // comment
                        [PR['PR_COMMENT'], /^;[^\x00-\x1f]*/, null, ";"],
                    ],
                    [
                        // string literals
                        [PR['PR_STRING'], /^(\%s|\%i)?"[^"\x00-\x1f]*"/, null],
                        // binary literals
                        [PR['PR_LITERAL'], /^\%b[01]+((-[01]+)|(\.[01]+)*)/, null],
                        // decimal literals
                        [PR['PR_LITERAL'], /^\%d[0-9]+((-[0-9]+)|(\.[0-9]+)*)/, null],
                        // hex literals
                        [PR['PR_LITERAL'], /^(\%x[A-Za-z0-9]+((-[A-Za-z0-9]+)|(\.[A-Za-z0-9]+)*))/, null],
                        // prose rule
                        [PR['PR_NOCODE'], /^<[^>\x00-\x1f]*>/, null],
                        // rule name
                        [PR['PR_TYPE'], /^([A-Za-z][A-Za-z0-9-]*)/, null],
                        [PR['PR_PUNCTUATION'], /^[=\(\)\*\/\[\]#]/, null],
                    ]),
                ['ietf_abnf']);
        } catch (e) { }
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="article">
    <meta property="og:title" content="RFC9112">
    <meta property="og:description" content="HTTP/1.1">
    <meta property="og:url" content="https://httpwg.org/specs/rfc9112.html">
    <meta property="og:site_name" content="IETF HTTP Working Group Specifications">
    <meta property="og:image" content="https://httpwg.org/assets/favicon/apple-icon-180x180.png">
    <link rel="stylesheet" type="text/css"
        href="https://httpwg.org/assets/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <style type="text/css">
        body {
            padding-top: 80px;
            padding-bottom: 80px;
            position: relative;
        }

        .table.header th,
        .table.header td {
            border-top: none;
            padding: 0;
        }

        #sidebar {
            margin-top: -10px;
            height: 90%;
            overflow-y: auto;
            font-size: 90%;
        }

        #rfc\.meta {
            width: 40%;
            float: right
        }

        .toc ul {
            list-style: none;
        }

        .filename {
            color: rgb(119, 119, 119);
            font-size: 23px;
            font-weight: normal;
            height: auto;
            line-height: 23px;
        }

        dl {
            margin-left: 1em;
        }

        dl.dl-horizontal {
            margin-left: 0;
        }

        dl>dt {
            float: left;
            margin-right: 1em;
        }

        dl.nohang>dt {
            float: none;
        }

        dl>dd {
            margin-bottom: .5em;
        }

        dl.compact>dd {
            margin-bottom: 0em;
        }

        dl>dd>dl {
            margin-top: 0.5em;
            margin-bottom: 0em;
        }

        ul.empty {
            list-style-type: none;
        }

        ul.empty li {
            margin-top: .5em;
        }

        td.reference {
            padding-right: 1em;
            vertical-align: top;
        }

        .feedback {
            position: fixed;
            bottom: 5px;
            right: 5px;
        }

        .fbbutton {
            margin-left: 5px;
        }

        h1 a,
        h2 a,
        h3 a,
        h4 a,
        h5 a,
        h6 a {
            color: rgb(51, 51, 51);
        }

        span.tt {
            font: 11pt consolas, monospace;
            font-size-adjust: none;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="https://httpwg.org/assets/site.css">
    <link rel="Contents" href="#rfc.toc">
    <link rel="Author" href="#rfc.authors">
    <link rel="License" href="#rfc.copyrightnotice">
    <link rel="Index" href="#rfc.index">
    <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
    <link rel="Chapter" title="2 Message" href="#rfc.section.2">
    <link rel="Chapter" title="3 Request Line" href="#rfc.section.3">
    <link rel="Chapter" title="4 Status Line" href="#rfc.section.4">
    <link rel="Chapter" title="5 Field Syntax" href="#rfc.section.5">
    <link rel="Chapter" title="6 Message Body" href="#rfc.section.6">
    <link rel="Chapter" title="7 Transfer Codings" href="#rfc.section.7">
    <link rel="Chapter" title="8 Handling Incomplete Messages" href="#rfc.section.8">
    <link rel="Chapter" title="9 Connection Management" href="#rfc.section.9">
    <link rel="Chapter" title="10 Enclosing Messages as Data" href="#rfc.section.10">
    <link rel="Chapter" title="11 Security Considerations" href="#rfc.section.11">
    <link rel="Chapter" title="12 IANA Considerations" href="#rfc.section.12">
    <link rel="Chapter" title="13 References" href="#rfc.section.13">
    <link rel="Appendix" title="A Collected ABNF" href="#rfc.section.A">
    <link rel="Appendix" title="B Differences between HTTP and MIME" href="#rfc.section.B">
    <link rel="Appendix" title="C Changes from Previous RFCs" href="#rfc.section.C">
    <link rel="Appendix" title="Acknowledgements" href="#rfc.section.unnumbered-1">
    <link rel="Alternate" title="Plain Text Version" href="http://www.ietf.org/rfc/rfc9112.txt">
    <link rel="Help" title="RFC-Editor's Status Page" href="https://www.rfc-editor.org/info/rfc9112">
    <meta name="viewport" content="initial-scale=1">
    <meta name="generator"
        content="https://github.com/mnot/RFCBootstrap XSLT vendor: Saxonica http://www.saxonica.com/">
    <meta name="keywords" content="Hypertext Transfer Protocol, HTTP, HTTP message format">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.creator" content="Fielding, R.">
    <meta name="dcterms.creator" content="Nottingham, M.">
    <meta name="dcterms.creator" content="Reschke, J.">
    <meta name="dcterms.identifier" content="urn:ietf:rfc:9112">
    <meta name="dcterms.issued" content="2022-06">
    <meta name="dct.replaces" content="urn:ietf:rfc:7230">
    <meta name="dcterms.abstract"
        content="The Hypertext Transfer Protocol (HTTP) is a stateless application-level protocol for distributed, collaborative, hypertext information systems. This document specifies the HTTP/1.1 message syntax, message parsing, connection management, and related security concerns. This document obsoletes portions of RFC 7230.">
    <meta name="dcterms.isPartOf" content="urn:issn:2070-1721">
    <meta name="description"
        content="The Hypertext Transfer Protocol (HTTP) is a stateless application-level protocol for distributed, collaborative, hypertext information systems. This document specifies the HTTP/1.1 message syntax, message parsing, connection management, and related security concerns. This document obsoletes portions of RFC 7230.">
</head>

<body onload="getMeta(9112,'rfc.meta');">
    <nav class="navbar navbar-dark bg-dark d-print-none navbar-expand-lg fixed-top ps-3 pe-3" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse"
                aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand" href="https://httpwg.org/"><img src="https://httpwg.org/assets/http.svg"
                    height="23"></a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">

            <div class="navbar-nav me-auto">

                <a class="nav-item ms-1 text-white" href="https://httpwg.org/specs/">📄 Documentation</a>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Work in
                        Progress</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/http-extensions/">HTTP Extensions</a></li>
                        <li class="dropdown-item"><a
                                href="https://github.com/httpwg/admin/issues?q=is%3Aissue+is%3Aopen+label%3Aadoption">Future
                                Work</a></li>
                    </ul>
                </div>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Participate</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/about/">About the HTTP Working Group</a>
                        </li>
                        <li class="divider"></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/CONTRIBUTING.html">Contribution Policy</a>
                        </li>
                        <li class="dropdown-item"><a href="http://datatracker.ietf.org/wg/httpbis/charter/">WG
                                Charter</a></li>
                        <li class="dropdown-item"><a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">Group
                                Mailing List 📨</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/wg-materials/">Meeting Materials</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/admin/editors/">Document Editor
                                Resources</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>
    <div class="container" id="top">
        <div class="row">
            <div class="col-lg-4 order-last d-none d-lg-block" id="sidebar" role="navigation">
                <div class="navbar">
                    <div class="navbar-brand"><a href="#top"><strong>RFC </strong>9112</a></div><br clear="all">
                    <div class="">
                        <div class="toc ">
                            <ul>
                                <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#introduction">引言</a>
                                    <ul>
                                        <li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#requirements.notation">需求表示法</a></li>
                                        <li><a href="#rfc.section.1.2">1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#notation">语法表示法</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#http.message">消息</a>
                                    <ul>
                                        <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#message.format">消息格式</a></li>
                                        <li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#message.parsing">消息解析</a></li>
                                        <li><a href="#rfc.section.2.3">2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#http.version">HTTP 版本</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#request.line">请求行</a>
                                    <ul>
                                        <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#request.method">方法</a></li>
                                        <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#request.target">请求目标</a>
                                            <ul>
                                                <li><a href="#rfc.section.3.2.1">3.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#origin-form">origin-form</a></li>
                                                <li><a href="#rfc.section.3.2.2">3.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#absolute-form">absolute-form</a></li>
                                                <li><a href="#rfc.section.3.2.3">3.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#authority-form">authority-form</a></li>
                                                <li><a href="#rfc.section.3.2.4">3.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#asterisk-form">asterisk-form</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.3.3">3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#reconstructing.target.uri">重建目标 URI</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#status.line">状态行</a></li>
                                <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#header.field.syntax">字段语法</a>
                                    <ul>
                                        <li><a href="#rfc.section.5.1">5.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#field.parsing">字段行解析</a></li>
                                        <li><a href="#rfc.section.5.2">5.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#line.folding">过时的行折叠</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#message.body">消息主体</a>
                                    <ul>
                                        <li><a href="#rfc.section.6.1">6.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#field.transfer-encoding">Transfer-Encoding</a></li>
                                        <li><a href="#rfc.section.6.2">6.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#body.content-length">Content-Length</a></li>
                                        <li><a href="#rfc.section.6.3">6.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#message.body.length">消息主体长度</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#transfer.codings">传输编码</a>
                                    <ul>
                                        <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#chunked.encoding">分块传输编码</a>
                                            <ul>
                                                <li><a href="#rfc.section.7.1.1">7.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#chunked.extension">分块扩展</a></li>
                                                <li><a href="#rfc.section.7.1.2">7.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#chunked.trailer.section">分块尾部节</a></li>
                                                <li><a href="#rfc.section.7.1.3">7.1.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#decoding.chunked">解码分块</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#compression.codings">用于压缩的传输编码</a></li>
                                        <li><a href="#rfc.section.7.3">7.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#transfer.coding.registry">传输编码注册表</a></li>
                                        <li><a href="#rfc.section.7.4">7.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#transfer.coding.negotiation">传输编码协商</a>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#incomplete.messages">处理不完整消息</a></li>
                                <li><a href="#rfc.section.9">9.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#connection.management">连接管理</a>
                                    <ul>
                                        <li><a href="#rfc.section.9.1">9.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#persistent.establishment">建立</a></li>
                                        <li><a href="#rfc.section.9.2">9.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#associating.response.to.request">将响应与请求关联</a></li>
                                        <li><a href="#rfc.section.9.3">9.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#persistent.connections">持久性</a>
                                            <ul>
                                                <li><a href="#rfc.section.9.3.1">9.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#persistent.retrying.requests">重试请求</a></li>
                                                <li><a href="#rfc.section.9.3.2">9.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#pipelining">管道化</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.9.4">9.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#persistent.concurrency">并发</a></li>
                                        <li><a href="#rfc.section.9.5">9.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#persistent.failures">失败与超时</a></li>
                                        <li><a href="#rfc.section.9.6">9.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#persistent.tear-down">终止</a></li>
                                        <li><a href="#rfc.section.9.7">9.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#tls.connection.initiation">TLS 连接发起</a></li>
                                        <li><a href="#rfc.section.9.8">9.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#tls.connection.closure">TLS 连接关闭</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.10">10.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#enclosing.messages">将消息作为数据封装</a>
                                    <ul>
                                        <li><a href="#rfc.section.10.1">10.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#media.type.message.http">媒体类型 message/http</a></li>
                                        <li><a href="#rfc.section.10.2">10.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#media.type.application.http">媒体类型 application/http</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.11">11.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#security.considerations">安全注意事项</a>
                                    <ul>
                                        <li><a href="#rfc.section.11.1">11.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#response.splitting">响应分割</a></li>
                                        <li><a href="#rfc.section.11.2">11.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#request.smuggling">请求走私</a></li>
                                        <li><a href="#rfc.section.11.3">11.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#message.integrity">消息完整性</a></li>
                                        <li><a href="#rfc.section.11.4">11.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#message.confidentiality">消息机密性</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.12">12.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#IANA.considerations">IANA 注意事项</a>
                                    <ul>
                                        <li><a href="#rfc.section.12.1">12.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#field.name.registration">字段名注册</a></li>
                                        <li><a href="#rfc.section.12.2">12.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#media.type.http">媒体类型注册</a></li>
                                        <li><a href="#rfc.section.12.3">12.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#transfer.coding.registration">传输编码注册</a>
                                        </li>
                                        <li><a href="#rfc.section.12.4">12.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#alpn.registration">ALPN 协议 ID 注册</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.13">13.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references">参考文献</a>
                                    <ul>
                                        <li><a href="#rfc.section.13.1">13.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.1">规范性参考文献</a></li>
                                        <li><a href="#rfc.section.13.2">13.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.2">补充参考文献</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#collected.abnf">汇总的 ABNF</a></li>
                                <li><a href="#rfc.section.B">Appendix B.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#differences.between.http.and.mime">HTTP 与 MIME 的差异</a>
                                    <ul>
                                        <li><a href="#rfc.section.B.1">B.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#mime-version">MIME-Version</a></li>
                                        <li><a href="#rfc.section.B.2">B.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#conversion.to.canonical.form">转换到规范形式</a>
                                        </li>
                                        <li><a href="#rfc.section.B.3">B.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#conversion.of.date.formats">日期格式转换</a></li>
                                        <li><a href="#rfc.section.B.4">B.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#conversion.of.content-encoding">内容编码转换</a></li>
                                        <li><a href="#rfc.section.B.5">B.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#conversion.of.content-transfer-encoding">内容传输编码转换</a></li>
                                        <li><a href="#rfc.section.B.6">B.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#mhtml.line.length">MHTML 与行长限制</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.C">Appendix C.</a>&nbsp;&nbsp;&nbsp;<a href="#changes">与以前 RFC
                                        的差异</a>
                                    <ul>
                                        <li><a href="#rfc.section.C.1">C.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#changes.from.0.9">来自 HTTP/0.9 的变化</a></li>
                                        <li><a href="#rfc.section.C.2">C.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#changes.from.1.0">来自 HTTP/1.0 的变化</a>
                                            <ul>
                                                <li><a href="#rfc.section.C.2.1">C.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#changes.to.simplify.multihomed.web.servers.and.conserve.ip.addresses">多宿主网站服务器</a>
                                                </li>
                                                <li><a href="#rfc.section.C.2.2">C.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#compatibility.with.http.1.0.persistent.connections">Keep-Alive
                                                        连接</a></li>
                                                <li><a href="#rfc.section.C.2.3">C.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#introduction.of.transfer-encoding">引入
                                                        Transfer-Encoding</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.C.3">C.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#changes.from.rfc.7230">来自 RFC 7230 的变化</a></li>
                                    </ul>
                                </li>
                                <li><a href="#acks">致谢</a></li>
                                <li><a href="#rfc.index">索引</a></li>
                                <li><a href="#rfc.authors">作者地址</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 order-first main" role="main">
                <header>
                    <table class="table table-condensed header" id="rfc.headerblock">
                        <tbody>
                            <tr>
                                <td class="text-left">互联网工程任务组（IETF）</td>
                                <td class="text-right">R. Fielding, 编辑</td>
                            </tr>
                            <tr>
                                <td class="text-left">请求评注：9112</td>
                                <td class="text-right">Adobe</td>
                            </tr>
                            <tr>
                                <td class="text-left">废止： <a href="#RFC7230">7230</a></td>
                                <td class="text-right">M. Nottingham, 编辑</td>
                            </tr>
                            <tr>
                                <td class="text-left">STD： <a href="https://www.rfc-editor.org/info/std99">99</a></td>
                                <td class="text-right">Fastly</td>
                            </tr>
                            <tr>
                                <td class="text-left">类别：标准轨道</td>
                                <td class="text-right">J. Reschke, 编辑</td>
                            </tr>
                            <tr>
                                <td class="text-left">ISSN：2070-1721</td>
                                <td class="text-right">greenbytes</td>
                            </tr>
                            <tr>
                                <td class="text-left"></td>
                                <td class="text-right">2022年6月</td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="rfc.title">
                        <h1>HTTP/1.1</h1>
                    </div>
                </header>
                <hr>
                <h2 id="rfc.abstract"><a href="#rfc.abstract">摘要</a></h2>
                <div class="lead">
                    <div id="rfc.abstract.p.1">
                        <p>超文本传输协议（HTTP）是一种用于分布式、协作型超文本信息系统的无状态应用层协议。本文档规定了 HTTP/1.1 的消息语法、消息解析、连接管理以及相关的安全问题。</p>
                    </div>
                    <div id="rfc.abstract.p.2">
                        <p>本文档废止了 RFC 7230 的部分内容。</p>
                    </div>
                </div>
                <aside id="rfc.meta" class="alert alert-info"></aside>
                <section id="rfc.status">
                    <h2><a href="#rfc.status">本备忘录的状态</a></h2>
                    <div id="rfc.boilerplate.1.p.1">
                        <p>这是一个互联网标准轨道文档。</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.2">
                        <p>本文档是互联网工程任务组（IETF）的产物。它代表了 IETF 社区的共识。它已接受公开审查并获得互联网工程指导组（IESG）批准发布。有关互联网标准的更多信息，请参见 <a
                                href="https://www.rfc-editor.org/rfc/rfc7841.html#section-2">RFC 7841 的第 2 节</a>.</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.3">
                        <p>有关本文档当前状态、任何勘误以及如何提供反馈的信息，可在 <a
                                href="https://www.rfc-editor.org/info/rfc9112">https://www.rfc-editor.org/info/rfc9112</a>
                            获取。</p>
                    </div>
                </section>
                <section id="rfc.copyrightnotice">
                    <h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2>
                    <div id="rfc.boilerplate.2.p.1">
                        <p>Copyright (c) 2022 IETF Trust and the persons identified as the document authors. All rights
                            reserved.</p>
                    </div>
                    <div id="rfc.boilerplate.2.p.2">
                        <p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF
                            Documents (<a
                                href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>)
                            in effect on the date of publication of this document. Please review these documents
                            carefully, as they describe your rights and restrictions with respect to this document. Code
                            Components extracted from this document must include Revised BSD License text as described
                            in Section 4.e of the Trust Legal Provisions and are provided without warranty as described
                            in the Revised BSD License.</p>
                    </div>
                    <div id="rfc.boilerplate.2.p.3">
                        <p>This document may contain material from IETF Documents or IETF Contributions published or
                            made publicly available before November 10, 2008. The person(s) controlling the copyright in
                            some of this material may not have granted the IETF Trust the right to allow modifications
                            of such material outside the IETF Standards Process. Without obtaining an adequate license
                            from the person(s) controlling the copyright in such materials, this document may not be
                            modified outside the IETF Standards Process, and derivative works of it may not be created
                            outside the IETF Standards Process, except to format it for publication as an RFC or to
                            translate it into languages other than English.</p>
                    </div>
                </section>
                <div class="toc d-lg-none">
                    <ul>
                        <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#introduction">引言</a>
                            <ul>
                                <li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#requirements.notation">需求表示法</a></li>
                                <li><a href="#rfc.section.1.2">1.2.</a>&nbsp;&nbsp;&nbsp;<a href="#notation">语法表示法</a>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#http.message">消息</a>
                            <ul>
                                <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#message.format">消息格式</a></li>
                                <li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#message.parsing">消息解析</a></li>
                                <li><a href="#rfc.section.2.3">2.3.</a>&nbsp;&nbsp;&nbsp;<a href="#http.version">HTTP
                                        版本</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#request.line">请求行</a>
                            <ul>
                                <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#request.method">方法</a></li>
                                <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#request.target">请求目标</a>
                                    <ul>
                                        <li><a href="#rfc.section.3.2.1">3.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#origin-form">origin-form</a></li>
                                        <li><a href="#rfc.section.3.2.2">3.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#absolute-form">absolute-form</a></li>
                                        <li><a href="#rfc.section.3.2.3">3.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#authority-form">authority-form</a></li>
                                        <li><a href="#rfc.section.3.2.4">3.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#asterisk-form">asterisk-form</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.3.3">3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#reconstructing.target.uri">重建目标 URI</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#status.line">状态行</a></li>
                        <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#header.field.syntax">字段语法</a>
                            <ul>
                                <li><a href="#rfc.section.5.1">5.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#field.parsing">字段行解析</a></li>
                                <li><a href="#rfc.section.5.2">5.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#line.folding">过时的行折叠</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#message.body">消息主体</a>
                            <ul>
                                <li><a href="#rfc.section.6.1">6.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#field.transfer-encoding">Transfer-Encoding</a></li>
                                <li><a href="#rfc.section.6.2">6.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#body.content-length">Content-Length</a></li>
                                <li><a href="#rfc.section.6.3">6.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#message.body.length">消息主体长度</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#transfer.codings">传输编码</a>
                            <ul>
                                <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#chunked.encoding">分块传输编码</a>
                                    <ul>
                                        <li><a href="#rfc.section.7.1.1">7.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#chunked.extension">分块扩展</a></li>
                                        <li><a href="#rfc.section.7.1.2">7.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#chunked.trailer.section">分块尾部节</a></li>
                                        <li><a href="#rfc.section.7.1.3">7.1.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#decoding.chunked">解码分块</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#compression.codings">用于压缩的传输编码</a></li>
                                <li><a href="#rfc.section.7.3">7.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#transfer.coding.registry">传输编码注册表</a></li>
                                <li><a href="#rfc.section.7.4">7.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#transfer.coding.negotiation">传输编码协商</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a href="#incomplete.messages">处理不完整消息</a>
                        </li>
                        <li><a href="#rfc.section.9">9.</a>&nbsp;&nbsp;&nbsp;<a href="#connection.management">连接管理</a>
                            <ul>
                                <li><a href="#rfc.section.9.1">9.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#persistent.establishment">建立</a></li>
                                <li><a href="#rfc.section.9.2">9.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#associating.response.to.request">将响应与请求关联</a>
                                </li>
                                <li><a href="#rfc.section.9.3">9.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#persistent.connections">持久性</a>
                                    <ul>
                                        <li><a href="#rfc.section.9.3.1">9.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#persistent.retrying.requests">重试请求</a></li>
                                        <li><a href="#rfc.section.9.3.2">9.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#pipelining">管道化</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.9.4">9.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#persistent.concurrency">并发</a></li>
                                <li><a href="#rfc.section.9.5">9.5.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#persistent.failures">失败与超时</a></li>
                                <li><a href="#rfc.section.9.6">9.6.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#persistent.tear-down">终止</a></li>
                                <li><a href="#rfc.section.9.7">9.7.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#tls.connection.initiation">TLS 连接发起</a></li>
                                <li><a href="#rfc.section.9.8">9.8.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#tls.connection.closure">TLS 连接关闭</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.10">10.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#enclosing.messages">将消息作为数据封装</a>
                            <ul>
                                <li><a href="#rfc.section.10.1">10.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#media.type.message.http">媒体类型 message/http</a></li>
                                <li><a href="#rfc.section.10.2">10.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#media.type.application.http">媒体类型 application/http</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.11">11.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#security.considerations">安全注意事项</a>
                            <ul>
                                <li><a href="#rfc.section.11.1">11.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#response.splitting">响应分割</a></li>
                                <li><a href="#rfc.section.11.2">11.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#request.smuggling">请求走私</a></li>
                                <li><a href="#rfc.section.11.3">11.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#message.integrity">消息完整性</a></li>
                                <li><a href="#rfc.section.11.4">11.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#message.confidentiality">消息机密性</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.12">12.</a>&nbsp;&nbsp;&nbsp;<a href="#IANA.considerations">IANA
                                注意事项</a>
                            <ul>
                                <li><a href="#rfc.section.12.1">12.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#field.name.registration">字段名注册</a></li>
                                <li><a href="#rfc.section.12.2">12.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#media.type.http">媒体类型注册</a></li>
                                <li><a href="#rfc.section.12.3">12.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#transfer.coding.registration">传输编码注册</a></li>
                                <li><a href="#rfc.section.12.4">12.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#alpn.registration">ALPN 协议 ID 注册</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.13">13.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">参考文献</a>
                            <ul>
                                <li><a href="#rfc.section.13.1">13.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.1">规范性参考文献</a></li>
                                <li><a href="#rfc.section.13.2">13.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.2">补充参考文献</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a href="#collected.abnf">汇总的
                                ABNF</a></li>
                        <li><a href="#rfc.section.B">Appendix B.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#differences.between.http.and.mime">HTTP 与 MIME 的差异</a>
                            <ul>
                                <li><a href="#rfc.section.B.1">B.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#mime-version">MIME-Version</a></li>
                                <li><a href="#rfc.section.B.2">B.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#conversion.to.canonical.form">转换到规范形式</a></li>
                                <li><a href="#rfc.section.B.3">B.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#conversion.of.date.formats">日期格式转换</a></li>
                                <li><a href="#rfc.section.B.4">B.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#conversion.of.content-encoding">内容编码转换</a></li>
                                <li><a href="#rfc.section.B.5">B.5.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#conversion.of.content-transfer-encoding">内容传输编码转换</a></li>
                                <li><a href="#rfc.section.B.6">B.6.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#mhtml.line.length">MHTML 与行长限制</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.C">Appendix C.</a>&nbsp;&nbsp;&nbsp;<a href="#changes">与以前 RFC 的差异</a>
                            <ul>
                                <li><a href="#rfc.section.C.1">C.1.</a>&nbsp;&nbsp;&nbsp;<a href="#changes.from.0.9">来自
                                        HTTP/0.9 的变化</a></li>
                                <li><a href="#rfc.section.C.2">C.2.</a>&nbsp;&nbsp;&nbsp;<a href="#changes.from.1.0">来自
                                        HTTP/1.0 的变化</a>
                                    <ul>
                                        <li><a href="#rfc.section.C.2.1">C.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#changes.to.simplify.multihomed.web.servers.and.conserve.ip.addresses">多宿主网站服务器</a>
                                        </li>
                                        <li><a href="#rfc.section.C.2.2">C.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#compatibility.with.http.1.0.persistent.connections">Keep-Alive
                                                连接</a></li>
                                        <li><a href="#rfc.section.C.2.3">C.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#introduction.of.transfer-encoding">引入 Transfer-Encoding</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.C.3">C.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#changes.from.rfc.7230">来自 RFC 7230 的变化</a></li>
                            </ul>
                        </li>
                        <li><a href="#acks">致谢</a></li>
                        <li><a href="#rfc.index">索引</a></li>
                        <li><a href="#rfc.authors">作者地址</a></li>
                    </ul>
                </div>
                <section id="introduction">
                    <h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a
                            href="#introduction">引言</a></h2>
                    <div id="rfc.section.1.p.1" class="avoidbreakafter">
                        <p>超文本传输协议（HTTP）是一种无状态的应用层请求/响应协议，使用可扩展的语义和自描述的消息来与基于网络的超文本信息系统进行灵活交互。HTTP/1.1 由下列文档定义：</p>
                    </div>
                    <div id="rfc.section.1.p.2">
                        <ul>
                            <li>本文档</li>
                            <li>"HTTP Semantics" <a href="#HTTP" id="rfc.xref.HTTP.1"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a></li>
                            <li>"HTTP Caching" <a href="#CACHING" id="rfc.xref.CACHING.1"><cite
                                        title="HTTP Caching">[CACHING]</cite></a></li>
                        </ul>
                    </div>
                    <div id="rfc.section.1.p.3">
                        <p>本文档规定了如何使用 HTTP/1.1 消息语法、分帧和连接管理机制来传达 HTTP 语义。其目标是为 HTTP/1.1 消息解析器和消息转发中间件定义完整的一组要求。</p>
                    </div>
                    <div id="rfc.section.1.p.4">
                        <p>本文档废止了与 HTTP/1.1 消息和连接管理相关的 <a href="#RFC7230" id="rfc.xref.RFC7230.1"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">RFC
                                    7230</cite></a> 的部分内容，变更在 <a href="#changes.from.rfc.7230"
                                title="Changes from RFC 7230">附录 C.3</a> 中进行了总结。RFC 7230 的其他部分已被 "HTTP Semantics" <a
                                href="#HTTP" id="rfc.xref.HTTP.2"><cite title="HTTP Semantics">[HTTP]</cite></a> 所废止。
                        </p>
                    </div>
                    <section id="requirements.notation">
                        <h3 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a>&nbsp;<a
                                href="#requirements.notation">需求表示法</a></h3>
                        <div id="rfc.section.1.1.p.1">
                            <p>在本文档中，关键字 "<em class="bcp14">MUST</em>"、"<em class="bcp14">MUST NOT</em>"、"<em
                                    class="bcp14">REQUIRED</em>"、"<em class="bcp14">SHALL</em>"、"<em class="bcp14">SHALL
                                    NOT</em>"、"<em class="bcp14">SHOULD</em>"、"<em class="bcp14">SHOULD NOT</em>"、"<em
                                    class="bcp14">RECOMMENDED</em>"、"<em class="bcp14">NOT RECOMMENDED</em>"、"<em
                                    class="bcp14">MAY</em>" 和 "<em class="bcp14">OPTIONAL</em>" 的解释应当与 BCP 14 中所述一致 <a
                                    href="#RFC2119" id="rfc.xref.RFC2119.1"><cite
                                        title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>
                                <a href="#RFC8174" id="rfc.xref.RFC8174.1"><cite
                                        title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">[RFC8174]</cite></a>，
                                且仅当它们以全大写形式出现时按此解释，如上所示。
                            </p>
                        </div>
                        <div id="rfc.section.1.1.p.2">
                            <p>关于一致性准则和错误处理方面的考虑，请参见 <a href="rfc9110.html#conformance" title="Conformance">第 2 节</a> 的
                                <a href="#HTTP" id="rfc.xref.HTTP.3"><cite title="HTTP Semantics">[HTTP]</cite></a>。
                            </p>
                        </div>
                    </section>
                    <section id="notation">
                        <h3 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2.</a>&nbsp;<a href="#notation">语法表示法</a>
                        </h3>
                        <div id="rfc.section.1.2.p.1">
                            <p>本规范使用扩展巴科斯-诺尔范式（ABNF），即 <a href="#RFC5234" id="rfc.xref.RFC5234.1"><cite
                                        title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a>
                                中的表示法，并扩展了 <a href="#RFC7405" id="rfc.xref.RFC7405.1"><cite
                                        title="Case-Sensitive String Support in ABNF">[RFC7405]</cite></a>
                                中定义的字符串大小写敏感表示法。</p>
                        </div>
                        <div id="rfc.section.1.2.p.2">
                            <p>它还使用了一种列表扩展，该扩展在 <a href="rfc9110.html#abnf.extension"
                                    title="Lists (#rule ABNF Extension)">第 5.6.1 节</a> 中定义（参见 <a href="#HTTP"
                                    id="rfc.xref.HTTP.4"><cite title="HTTP Semantics">[HTTP]</cite></a>），允许使用 "#"
                                操作符对以逗号分隔的列表进行简明定义（类似于 "*" 操作符用于表示重复）。<a href="#collected.abnf"
                                    title="Collected ABNF">附录 A</a> 展示了将所有列表操作符展开为标准 ABNF 表示的完整语法集合。</p>
                        </div>
                        <div id="rfc.section.1.2.p.3">
                            <p>约定上，前缀为 "obs-" 的 ABNF 规则表示出于历史原因保留的过时语法规则。</p>
                        </div>
                        <div id="rfc.section.1.2.p.4">
                            <p id="core.rules">下列核心规则按引用包含，定义见 <a href="#RFC5234" id="rfc.xref.RFC5234.2"><cite
                                        title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a> 的 <a
                                    href="https://www.rfc-editor.org/rfc/rfc5234.html#appendix-B.1">附录
                                    B.1</a>：ALPHA（字母）、CR（回车）、CRLF（CR LF）、CTL（控制字符）、DIGIT（十进制
                                0-9）、DQUOTE（双引号）、HEXDIG（十六进制 0-9/A-F/a-f）、HTAB（水平制表符）、LF（换行）、OCTET（任意 8 位数据序列）、SP（空格）和
                                VCHAR（任何可见的 <a href="#USASCII" id="rfc.xref.USASCII.1"><cite
                                        title="Coded Character Set -- 7-bit American Standard Code for Information Interchange">[USASCII]</cite></a>
                                字符）。</p>
                        </div>
                        <div id="rfc.section.1.2.p.5" class="avoidbreakafter">
                            <p id="imported.rules">下列规则在 <a href="#HTTP" id="rfc.xref.HTTP.5"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a> 中定义：</p>
                        </div>
                        <div id="rfc.section.1.2.p.6">
                            <pre class="inline prettyprint lang-ietf_abnf">  <a href="rfc9110.html#whitespace" class="smpl">BWS</a>           = &lt;BWS, see <a href="#HTTP" id="rfc.xref.HTTP.6"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#whitespace" title="Whitespace">Section 5.6.3</a>&gt;
  <a href="rfc9110.html#whitespace" class="smpl">OWS</a>           = &lt;OWS, see <a href="#HTTP" id="rfc.xref.HTTP.7"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#whitespace" title="Whitespace">Section 5.6.3</a>&gt;
  <a href="rfc9110.html#whitespace" class="smpl">RWS</a>           = &lt;RWS, see <a href="#HTTP" id="rfc.xref.HTTP.8"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#whitespace" title="Whitespace">Section 5.6.3</a>&gt;
  <a href="#imported.rules" class="smpl">absolute-path</a> = &lt;absolute-path, see <a href="#HTTP" id="rfc.xref.HTTP.9"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#uri.references" title="URI References">Section 4.1</a>&gt;
  <a href="#imported.rules" class="smpl">field-name</a>    = &lt;field-name, see <a href="#HTTP" id="rfc.xref.HTTP.10"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#fields.names" title="Field Names">Section 5.1</a>&gt;
  <a href="#imported.rules" class="smpl">field-value</a>   = &lt;field-value, see <a href="#HTTP" id="rfc.xref.HTTP.11"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#fields.values" title="Field Values">Section 5.5</a>&gt;
  <a href="#imported.rules" class="smpl">obs-text</a>      = &lt;obs-text, see <a href="#HTTP" id="rfc.xref.HTTP.12"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#quoted.strings" title="Quoted Strings">Section 5.6.4</a>&gt;
  <a href="#imported.rules" class="smpl">quoted-string</a> = &lt;quoted-string, see <a href="#HTTP" id="rfc.xref.HTTP.13"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#quoted.strings" title="Quoted Strings">Section 5.6.4</a>&gt;
  <a href="#imported.rules" class="smpl">token</a>         = &lt;token, see <a href="#HTTP" id="rfc.xref.HTTP.14"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#tokens" title="Tokens">Section 5.6.2</a>&gt;
  <a href="rfc9110.html#field.te" class="smpl">transfer-coding</a> =
                  &lt;transfer-coding, see <a href="#HTTP" id="rfc.xref.HTTP.15"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#field.te" title="TE">Section 10.1.4</a>&gt;
</pre>
                        </div>
                        <div id="rfc.section.1.2.p.7" class="avoidbreakafter">
                            <p id="imported.uri.rules">下列规则在 <a href="#URI" id="rfc.xref.URI.1"><cite
                                        title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</cite></a> 中定义：
                            </p>
                        </div>
                        <div id="rfc.section.1.2.p.8">
                            <pre class="inline prettyprint lang-ietf_abnf">  <a href="#imported.uri.rules" class="smpl">absolute-URI</a>  = &lt;absolute-URI, see <a href="#URI" id="rfc.xref.URI.2"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</cite></a>, <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-4.3">Section 4.3</a>&gt;
  <a href="#imported.uri.rules" class="smpl">authority</a>     = &lt;authority, see <a href="#URI" id="rfc.xref.URI.3"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</cite></a>, <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-3.2">Section 3.2</a>&gt;
  <a href="rfc9110.html#uri.references" class="smpl">uri-host</a>      = &lt;host, see <a href="#URI" id="rfc.xref.URI.4"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</cite></a>, <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-3.2.2">Section 3.2.2</a>&gt;
  <a href="rfc9110.html#uri.references" class="smpl">port</a>          = &lt;port, see <a href="#URI" id="rfc.xref.URI.5"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</cite></a>, <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-3.2.3">Section 3.2.3</a>&gt;
  <a href="#imported.uri.rules" class="smpl">query</a>         = &lt;query, see <a href="#URI" id="rfc.xref.URI.6"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</cite></a>, <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-3.4">Section 3.4</a>&gt;
</pre>
                        </div>
                    </section>
                </section>
                <section id="http.message">
                    <h2 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a href="#http.message">消息</a></h2>
                    <div id="rfc.section.2.p.1">
                        <p>HTTP/1.1 客户端和服务器通过发送消息进行通信。有关 HTTP 的一般术语和核心概念，请参见 <a href="rfc9110.html#terminology"
                                title="Terminology and Core Concepts">第 3 节</a> 的 <a href="#HTTP"
                                id="rfc.xref.HTTP.16"><cite title="HTTP Semantics">[HTTP]</cite></a>。</p>
                    </div>
                    <section id="message.format">
                        <h3 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a>&nbsp;<a
                                href="#message.format">消息格式</a></h3>
                        <div id="rfc.section.2.1.p.1">
                            <p>一个 HTTP/1.1 消息由起始行组成，起始行后跟随 CRLF 和一系列与互联网消息格式相似的八位元序列（Internet Message
                                Format）：零个或多个首部字段行（统称为“首部”或“首部节”）、一行空行表示首部节结束，以及可选的消息主体。</p>
                        </div>
                        <div id="rfc.section.2.1.p.2">
                            <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.1"></span>  <a href="#message.format" class="smpl">HTTP-message</a>   = <a href="#message.format" class="smpl">start-line</a> <a href="#core.rules" class="smpl">CRLF</a>
                   *( <a href="#header.field.syntax" class="smpl">field-line</a> <a href="#core.rules" class="smpl">CRLF</a> )
                   <a href="#core.rules" class="smpl">CRLF</a>
                   [ <a href="#message.body" class="smpl">message-body</a> ]
</pre>
                        </div>
                        <div id="rfc.section.2.1.p.3">
                            <p>消息可以是客户端发往服务器的请求，或者是服务器发往客户端的响应。从语法上看，两类消息仅在起始行上不同：请求使用 request-line，而响应使用
                                status-line；并且在确定消息主体长度的算法上有所不同（参见 <a href="#message.body" title="Message Body">第 6
                                    节</a>）。</p>
                        </div>
                        <div id="rfc.section.2.1.p.4">
                            <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.2"></span>  <a href="#message.format" class="smpl">start-line</a>     = <a href="#request.line" class="smpl">request-line</a> / <a href="#status.line" class="smpl">status-line</a>
</pre>
                        </div>
                        <div id="rfc.section.2.1.p.5">
                            <p>理论上，客户端也可能接收请求而服务器也可能接收响应，并可通过不同的起始行格式来区分。但在实践中，服务器通常只期望接收请求（将响应解释为未知或无效的请求方法），而客户端通常只期望接收响应。
                            </p>
                        </div>
                        <div id="rfc.section.2.1.p.6">
                            <p>HTTP 使用了一些与多用途互联网邮件扩展（MIME）相似的协议元素。有关 HTTP 与 MIME 消息之间的差异，请参见 <a
                                    href="#differences.between.http.and.mime"
                                    title="Differences between HTTP and MIME">附录 B</a>。</p>
                        </div>
                    </section>
                    <section id="message.parsing">
                        <h3 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a>&nbsp;<a
                                href="#message.parsing">消息解析</a></h3>
                        <div id="rfc.section.2.2.p.1">
                            <p>解析 HTTP
                                消息的常规过程是：将起始行读入结构体，逐行读取每个首部字段行并按字段名存入哈希表，直到遇到空行，然后使用解析出的数据判断是否应存在消息主体。如果指示存在消息主体，则将其作为流读取，直到读取与消息主体长度相等的八位元数，或连接被关闭为止。
                            </p>
                        </div>
                        <div id="rfc.section.2.2.p.2">
                            <p>接收方 <em class="bcp14">MUST</em> 将 HTTP 消息作为在 US-ASCII 的超集编码下的八位元序列来解析 <a href="#USASCII"
                                    id="rfc.xref.USASCII.2"><cite
                                        title="Coded Character Set -- 7-bit American Standard Code for Information Interchange">[USASCII]</cite></a>。将
                                HTTP 消息作为 Unicode 字符流解析而忽视具体编码会引入安全漏洞，因为字符串处理库对包含八位元 LF (%x0A)
                                的无效多字节字符序列的处理方式各不相同。仅在协议元素被从消息中提取出来之后（例如在消息解析已分隔出单独字段行的情况下）才可以在元素内部安全地使用基于字符串的解析器。</p>
                        </div>
                        <div id="rfc.section.2.2.p.3">
                            <p>尽管理论上起始行和字段的行终止符为序列 CRLF，接收方 <em class="bcp14">MAY</em> 将单个 LF 识别为行终止符并忽略任何前置的 CR。</p>
                        </div>
                        <div id="rfc.section.2.2.p.4">
                            <p>发送方 <em class="bcp14">MUST NOT</em> 在除内容之外的任何协议元素中生成裸 CR（即 CR 后不紧跟 LF）。对于接收到此类裸 CR
                                的接收方，<em class="bcp14">MUST</em> 将该元素视为无效，或在处理该元素或转发消息之前用 SP 替换每个裸 CR。</p>
                        </div>
                        <div id="rfc.section.2.2.p.5">
                            <p>较早的 HTTP/1.0 用户代理实现可能在 POST 请求之后发送额外的 CRLF，作为对某些早期服务器应用无法读取未以行结束符终止的消息主体内容的变通办法。HTTP/1.1
                                用户代理 <em class="bcp14">MUST NOT</em> 在请求之前或之后添加额外的 CRLF。如果希望以行结束符终止请求消息主体，则用户代理 <em
                                    class="bcp14">MUST</em> 将终止的 CRLF 八位元计入消息主体长度。</p>
                        </div>
                        <div id="rfc.section.2.2.p.6">
                            <p>为提高健壮性，期望接收并解析 request-line 的服务器 <em class="bcp14">SHOULD</em> 忽略在 request-line
                                之前接收的至少一行空行（CRLF）。</p>
                        </div>
                        <div id="rfc.section.2.2.p.7">
                            <p>发送方 <em class="bcp14">MUST NOT</em> 在起始行与第一个首部字段之间发送空白字符。</p>
                        </div>
                        <div id="rfc.section.2.2.p.8">
                            <p>接收方若在起始行与第一个首部字段之间接收到空白字符，<em class="bcp14">MUST</em>
                                要么将消息拒绝为无效，要么消费（丢弃）每个以空白开头的行（即忽略整行以及随后的任何以空白开头的行），直到接收到格式正确的首部字段或首部节终止。拒绝或移除无效的以空白开头的行对于防止下游接收方将其误解并受到请求走私（<a
                                    href="#request.smuggling" title="Request Smuggling">第 11.2 节</a>）或响应分割（<a
                                    href="#response.splitting" title="Response Splitting">第 11.1 节</a>）攻击是必要的。</p>
                        </div>
                        <div id="rfc.section.2.2.p.9">
                            <p>当仅监听 HTTP 请求消息的服务器，或根据起始行判断应为 HTTP 请求消息的处理器，接收到一串除了上面列出的鲁棒性例外之外不符合 HTTP-message
                                语法的八位元序列时，服务器 <em class="bcp14">SHOULD</em> 响应 <a href="rfc9110.html#status.400"
                                    class="smpl">400 (Bad Request)</a> 并关闭连接。</p>
                        </div>
                    </section>
                    <section id="http.version">
                        <h3 id="rfc.section.2.3"><a href="#rfc.section.2.3">2.3.</a>&nbsp;<a href="#http.version">HTTP
                                版本</a></h3>
                        <div id="rfc.section.2.3.p.1">
                            <p>HTTP 使用 "&lt;major&gt;.&lt;minor&gt;" 的编号方案来指示协议版本。本规范定义版本 "1.1"。<a
                                    href="rfc9110.html#protocol.version" title="Protocol Version">第 2.5 节</a> 的
                                <a href="#HTTP" id="rfc.xref.HTTP.17"><cite title="HTTP Semantics">[HTTP]</cite></a> 指定了
                                HTTP 版本号的语义。
                            </p>
                        </div>
                        <div id="rfc.section.2.3.p.2">
                            <p>HTTP/1.x 消息的版本由起始行中的 HTTP-version 字段指示。HTTP-version 是大小写敏感的。</p>
                        </div>
                        <div id="rfc.section.2.3.p.3">
                            <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.3"></span><span id="rfc.iref.g.4"></span>  <a href="#http.version" class="smpl">HTTP-version</a>  = <a href="#http.version" class="smpl">HTTP-name</a> "/" <a href="#core.rules" class="smpl">DIGIT</a> "." <a href="#core.rules" class="smpl">DIGIT</a>
  <a href="#http.version" class="smpl">HTTP-name</a>     = %s"HTTP"
</pre>
                        </div>
                        <div id="rfc.section.2.3.p.4">
                            <p>当将 HTTP/1.1 消息发送给 HTTP/1.0 接收方 <a href="#HTTP10" id="rfc.xref.HTTP10.1"><cite
                                        title="Hypertext Transfer Protocol -- HTTP/1.0">[HTTP/1.0]</cite></a>
                                或版本未知的接收方时，HTTP/1.1 消息应当以便在忽略所有新特性的情况下仍可被解释为有效的 HTTP/1.0
                                消息来构造。本规范对某些新特性施加了接收方版本要求，以便合规的发送方在通过配置或接收消息确定接收方支持 HTTP/1.1 之前，只使用兼容的特性。</p>
                        </div>
                        <div id="rfc.section.2.3.p.5">
                            <p>处理 HTTP 消息的中间件（即除作为隧道的中间件之外的所有中间件）<em class="bcp14">MUST</em> 在转发消息时发送它们自己的
                                HTTP-version，除非出于解决上游问题的目的有意降级。换言之，中间件不得在不确保消息中的协议版本与该中间件在接收和发送消息时所遵循的版本相匹配的情况下盲目地转发起始行。在不重写
                                HTTP-version 的情况下转发消息可能导致下游接收方在以后与该消息发送方通信时根据消息发送方的版本判断哪些特性可安全使用，从而引发通信错误。</p>
                        </div>
                        <div id="rfc.section.2.3.p.6">
                            <p>如果已知或怀疑客户端错误实现了 HTTP 规范且无法正确处理更高版本的响应（例如客户端无法正确解析版本号，或某个中间件已知会在不符合给定次版本时盲目转发
                                HTTP-version），服务器 <em class="bcp14">MAY</em> 向 HTTP/1.1 请求发送 HTTP/1.0
                                响应。除非由特定客户端属性触发（例如某些请求首部字段值如 <a href="rfc9110.html#field.user-agent"
                                    class="smpl">User-Agent</a> 唯一匹配已知有问题的客户端发送的值），否则不应执行此类协议降级 <em class="bcp14">SHOULD
                                    NOT</em>。</p>
                        </div>
                    </section>
                </section>
                <section id="request.line">
                    <h2 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a href="#request.line">请求行</a>
                    </h2>
                    <div id="rfc.section.3.p.1">
                        <p>请求行以一个 method 令牌开始，随后是一个单个空格 (SP)、request-target，再一个单个空格 (SP)，并以协议版本结束。</p>
                    </div>
                    <div id="rfc.section.3.p.2">
                        <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.5"></span>  <a href="#request.line" class="smpl">request-line</a>   = <a href="#request.method" class="smpl">method</a> <a href="#core.rules" class="smpl">SP</a> <a href="#request.target" class="smpl">request-target</a> <a href="#core.rules" class="smpl">SP</a> <a href="#http.version" class="smpl">HTTP-version</a>
</pre>
                    </div>
                    <div id="rfc.section.3.p.3">
                        <p>尽管 request-line 的语法规则要求各组件元素之间以单个 SP 八位元分隔，但接收方 <em class="bcp14">MAY</em>
                            也可以基于以空白分隔的词边界进行解析，且在除 CRLF 终止符之外的情况下，将任何形式的空白视为 SP
                            分隔符并忽略前导或尾随空白；此类空白可以包括一个或多个下列八位元：SP、HTAB、VT (%x0B)、FF (%x0C) 或 裸
                            CR。然而，如果消息有多个接收方且每个接收方对鲁棒性的解释各不相同，则宽松解析可能导致请求走私等安全漏洞（参见 <a href="#request.smuggling"
                                title="Request Smuggling">第 11.2 节</a>）。</p>
                    </div>
                    <div id="rfc.section.3.p.4">
                        <p>HTTP 对请求行长度没有预置的限制，详见 <a href="rfc9110.html#length.requirements"
                                title="Length Requirements">RFC9110 第 2.3 节</a>。接收比其实现中任何方法都更长的方法的服务器 <em
                                class="bcp14">SHOULD</em> 响应 <a href="rfc9110.html#status.501" class="smpl">501 (Not
                                Implemented)</a> 状态码。接收请求目标比其愿意解析的任意 URI 更长的服务器 <em class="bcp14">MUST</em> 响应 <a
                                href="rfc9110.html#status.414" class="smpl">414 (URI Too Long)</a> 状态码（参见 <a
                                href="rfc9110.html#status.414" title="414 URI Too Long">RFC9110 第 15.5.15 节</a>）。</p>
                    </div>
                    <div id="rfc.section.3.p.5">
                        <p>实践中对请求行长度存在各种临时性限制。建议（<em class="bcp14">RECOMMENDED</em>）所有 HTTP 发送方和接收方至少支持 8000 八位元的请求行长度。
                        </p>
                    </div>
                    <section id="request.method">
                        <h3 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a>&nbsp;<a
                                href="#request.method">方法</a></h3>
                        <div id="rfc.section.3.1.p.1">
                            <p>method 令牌表示要在目标资源上执行的请求方法。请求方法区分大小写。</p>
                        </div>
                        <div id="rfc.section.3.1.p.2">
                            <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.6"></span>  <a href="#request.method" class="smpl">method</a>         = <a href="#imported.rules" class="smpl">token</a>
</pre>
                        </div>
                        <div id="rfc.section.3.1.p.3">
                            <p>本规范定义的请求方法可在 <a href="rfc9110.html#methods" title="Methods">RFC9110 第 9 节</a> 找到，文中还包含关于
                                HTTP 方法注册表以及定义新方法时的注意事项。</p>
                        </div>
                    </section>
                    <section id="request.target">
                        <h3 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a>&nbsp;<a
                                href="#request.target">请求目标</a></h3>
                        <div id="rfc.section.3.2.p.1">
                            <p>request-target 指明要对其应用请求的目标资源。客户端根据其期望的目标 URI 推导出
                                request-target。根据被请求的方法以及请求是否发送到代理，request-target 有四种不同的格式。</p>
                        </div>
                        <div id="rfc.section.3.2.p.2">
                            <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.7"></span><span id="rfc.iref.g.8"></span><span id="rfc.iref.g.9"></span><span id="rfc.iref.g.10"></span><span id="rfc.iref.g.11"></span>  <a href="#request.target" class="smpl">request-target</a> = <a href="#origin-form" class="smpl">origin-form</a>
                 / <a href="#absolute-form" class="smpl">absolute-form</a>
                 / <a href="#authority-form" class="smpl">authority-form</a>
                 / <a href="#asterisk-form" class="smpl">asterisk-form</a>
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.3">
                            <p>request-target 中不允许出现空白字符。不幸的是，一些用户代理不能正确对超文本引用中的空白进行编码或排除，导致这些不允许的字符作为 request-target
                                被发送，形成格式错误的 request-line。</p>
                        </div>
                        <div id="rfc.section.3.2.p.4">
                            <p>接收方对于无效的 request-line <em class="bcp14">SHOULD</em> 响应 <a href="rfc9110.html#status.400"
                                    class="smpl">400 (Bad Request)</a> 错误，或使用正确编码的 request-target 发出 <a
                                    href="rfc9110.html#status.301" class="smpl">301 (Moved Permanently)</a> 重定向。接收方 <em
                                    class="bcp14">SHOULD NOT</em> 试图自动修正然后在不重定向的情况下处理该请求，因为该无效的 request-line
                                可能是刻意构造以绕过请求链上的安全过滤器。</p>
                        </div>
                        <div id="rfc.section.3.2.p.5">
                            <p>客户端 <em class="bcp14">MUST</em> 在所有 HTTP/1.1 请求消息中发送一个 Host 首部字段（参见 <a
                                    href="rfc9110.html#field.host" class="smpl">Host</a>，以及 <a
                                    href="rfc9110.html#field.host" title="Host and :authority">RFC9110 第 7.2 节</a>）。如果目标
                                URI 包含 authority 组成部分，则客户端 <em class="bcp14">MUST</em> 发送与该 authority 组成部分相同的 Host
                                字段值，排除任何 userinfo 子组件及其 "@" 定界符（参见 <a href="rfc9110.html#uri.schemes"
                                    title="HTTP-Related URI Schemes">RFC9110 第 4.2 节</a>）。如果目标 URI 的 authority
                                组成部分缺失或未定义，则客户端 <em class="bcp14">MUST</em> 发送一个 Host 首部字段，其字段值为空。</p>
                        </div>
                        <div id="rfc.section.3.2.p.6">
                            <p>服务器 <em class="bcp14">MUST</em> 对任何缺少 Host 首部字段的 HTTP/1.1 请求消息，以及对任何包含多于一行 Host 首部字段或
                                Host 字段值无效的请求消息，返回 <a href="rfc9110.html#status.400" class="smpl">400 (Bad Request)</a>
                                状态码。</p>
                        </div>
                        <section id="origin-form">
                            <h4 id="rfc.section.3.2.1"><a href="#rfc.section.3.2.1">3.2.1.</a>&nbsp;<a
                                    href="#origin-form">origin-form</a></h4>
                            <div id="rfc.section.3.2.1.p.1">
                                <p>最常见的 request-target 形式是 <dfn>origin-form</dfn>。</p>
                            </div>
                            <div id="rfc.section.3.2.1.p.2">
                                <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.12"></span>  <a href="#origin-form" class="smpl">origin-form</a>    = <a href="#imported.rules" class="smpl">absolute-path</a> [ "?" <a href="#imported.uri.rules" class="smpl">query</a> ]
</pre>
                            </div>
                            <div id="rfc.section.3.2.1.p.3">
                                <p>当直接向源服务器（origin server）发出请求时（除 CONNECT 或整站 OPTIONS 请求外，如下文所述），客户端 <em
                                        class="bcp14">MUST</em> 仅发送目标 URI 的绝对路径和查询组件作为 request-target。如果目标 URI
                                    的路径组件为空，则客户端 <em class="bcp14">MUST</em> 在 origin-form 的 request-target 中发送 "/"
                                    作为路径。同时还要发送一个 <a href="rfc9110.html#field.host" class="smpl">Host</a> 首部字段，详见 <a
                                        href="rfc9110.html#field.host" title="Host and :authority">RFC9110 第 7.2 节</a>。
                                </p>
                            </div>
                            <div id="rfc.section.3.2.1.p.4">
                                <p>例如，想要直接从源服务器检索下列资源表示的客户端：</p>
                            </div>
                            <div id="rfc.section.3.2.1.p.5">
                                <pre class="text">http://www.example.org/where?q=now
</pre>
                            </div>
                            <div id="rfc.section.3.2.1.p.6" class="avoidbreakafter">
                                <p>将会打开（或重用）到主机 "www.example.org" 的 80 端口的 TCP 连接并发送如下行：</p>
                            </div>
                            <div id="rfc.section.3.2.1.p.7">
                                <pre class="text">GET /where?q=now HTTP/1.1
Host: www.example.org
</pre>
                            </div>
                            <div id="rfc.section.3.2.1.p.8">
                                <p>随后是请求消息的其余部分。</p>
                            </div>
                        </section>
                        <section id="absolute-form">
                            <h4 id="rfc.section.3.2.2"><a href="#rfc.section.3.2.2">3.2.2.</a>&nbsp;<a
                                    href="#absolute-form">absolute-form</a></h4>
                            <div id="rfc.section.3.2.2.p.1">
                                <p>当向代理发送请求时（除 CONNECT 或整站 OPTIONS 请求外，如下文所述），客户端 <em class="bcp14">MUST</em> 将目标 URI 以
                                    <dfn>absolute-form</dfn> 的形式作为 request-target 发送。
                                </p>
                            </div>
                            <div id="rfc.section.3.2.2.p.2">
                                <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.13"></span>  <a href="#absolute-form" class="smpl">absolute-form</a>  = <a href="#imported.uri.rules" class="smpl">absolute-URI</a>
</pre>
                            </div>
                            <div id="rfc.section.3.2.2.p.3">
                                <p>代理会被请求在可能的情况下从有效缓存中处理该请求，或者代表客户端对下一个入站代理服务器或 request-target
                                    指示的源服务器发出相同请求。有关此类“转发”消息的要求定义，请参见 <a href="rfc9110.html#message.forwarding"
                                        title="Message Forwarding">RFC9110 第 7.6 节</a>。</p>
                            </div>
                            <div id="rfc.section.3.2.2.p.4" class="avoidbreakafter">
                                <p>一个绝对形式的 request-line 示例为：</p>
                            </div>
                            <div id="rfc.section.3.2.2.p.5">
                                <pre class="text">GET http://www.example.org/pub/WWW/TheProject.html HTTP/1.1
</pre>
                            </div>
                            <div id="rfc.section.3.2.2.p.6">
                                <p>即使 request-target 为 absolute-form，客户端 <em class="bcp14">MUST</em> 仍应在 HTTP/1.1 请求中发送
                                    Host 首部字段，因为这允许通过可能未实现 Host 的老旧 HTTP/1.0 代理转发 Host 信息。</p>
                            </div>
                            <div id="rfc.section.3.2.2.p.7">
                                <p>当代理接收到具有 absolute-form request-target 的请求时，代理 <em class="bcp14">MUST</em> 忽略接收到的 Host
                                    首部字段（如果有），并改为用 request-target 的主机信息替换它。转发此类请求的代理 <em class="bcp14">MUST</em> 基于接收到的
                                    request-target 生成新的 Host 字段值，而不是转发接收的 Host 字段值。</p>
                            </div>
                            <div id="rfc.section.3.2.2.p.8">
                                <p>当源服务器接收到具有 absolute-form request-target 的请求时，源服务器 <em class="bcp14">MUST</em> 忽略接收到的
                                    Host 首部字段（如果有），并改为使用 request-target 的主机信息。注意，如果 request-target 没有 authority
                                    组成部分，在这种情况下会发送一个空的 Host 首部字段值。</p>
                            </div>
                            <div id="rfc.section.3.2.2.p.9">
                                <p>服务器 <em class="bcp14">MUST</em> 接受请求中的 absolute-form，尽管大多数 HTTP/1.1 客户端只会将
                                    absolute-form 发送给代理。</p>
                            </div>
                        </section>
                        <section id="authority-form">
                            <h4 id="rfc.section.3.2.3"><a href="#rfc.section.3.2.3">3.2.3.</a>&nbsp;<a
                                    href="#authority-form">authority-form</a></h4>
                            <div id="rfc.section.3.2.3.p.1">
                                <p>request-target 的 <dfn>authority-form</dfn> 仅用于 CONNECT 请求（参见 <a
                                        href="rfc9110.html#CONNECT" title="CONNECT">RFC9110 第 9.3.6 节</a>）。它仅由隧道目标的 <a
                                        href="rfc9110.html#uri.references" class="smpl">uri-host</a> 和 <a
                                        href="rfc9110.html#uri.references" class="smpl">port</a> 组成，以冒号 (":") 分隔。</p>
                            </div>
                            <div id="rfc.section.3.2.3.p.2">
                                <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.14"></span>  <a href="#authority-form" class="smpl">authority-form</a> = <a href="rfc9110.html#uri.references" class="smpl">uri-host</a> ":" <a href="rfc9110.html#uri.references" class="smpl">port</a>
</pre>
                            </div>
                            <div id="rfc.section.3.2.3.p.3" class="avoidbreakafter">
                                <p>当发起 CONNECT 请求以通过一个或多个代理建立隧道时，客户端 <em class="bcp14">MUST</em> 仅发送隧道目标的主机和端口作为
                                    request-target。客户端从目标 URI 的 <a href="#imported.uri.rules" class="smpl">authority</a>
                                    组件获取主机和端口，但如果目标 URI 省略端口，则发送该方案的默认端口。例如，对 "http://www.example.com" 的 CONNECT 请求如下所示：
                                </p>
                            </div>
                            <div id="rfc.section.3.2.3.p.4">
                                <pre class="text">CONNECT www.example.com:80 HTTP/1.1
Host: www.example.com

</pre>
                            </div>
                        </section>
                        <section id="asterisk-form">
                            <h4 id="rfc.section.3.2.4"><a href="#rfc.section.3.2.4">3.2.4.</a>&nbsp;<a
                                    href="#asterisk-form">asterisk-form</a></h4>
                            <div id="rfc.section.3.2.4.p.1">
                                <p>request-target 的 <dfn>asterisk-form</dfn> 仅用于针对整个服务器的 OPTIONS 请求（参见 <a
                                        href="rfc9110.html#OPTIONS" title="OPTIONS">RFC9110 第 9.3.7 节</a>）。</p>
                            </div>
                            <div id="rfc.section.3.2.4.p.2">
                                <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.15"></span>  <a href="#asterisk-form" class="smpl">asterisk-form</a>  = "*"
</pre>
                            </div>
                            <div id="rfc.section.3.2.4.p.3">
                                <p>当客户端希望请求针对整个服务器的 OPTIONS（而不是该服务器的某个具体命名资源）时，客户端 <em class="bcp14">MUST</em> 仅发送 "*"
                                    (%x2A) 作为 request-target。例如，</p>
                            </div>
                            <div id="rfc.section.3.2.4.p.4">
                                <pre class="text">OPTIONS * HTTP/1.1
</pre>
                            </div>
                            <div id="rfc.section.3.2.4.p.5">
                                <p>如果代理接收到具有 absolute-form request-target 的 OPTIONS 请求，且该 URI
                                    的路径为空且无查询组件，则请求链上的最后一个代理在将请求转发给指定的源服务器时 <em class="bcp14">MUST</em> 发送 "*" 作为
                                    request-target。</p>
                            </div>
                            <div id="rfc.section.3.2.4.p.6">
                                <p>例如，下列请求</p>
                            </div>
                            <div id="rfc.section.3.2.4.p.7">
                                <pre class="text">OPTIONS http://www.example.org:8001 HTTP/1.1
</pre>
                            </div>
                            <div id="rfc.section.3.2.4.p.8">
                                <p>将由最后一个代理转发为</p>
                            </div>
                            <div id="rfc.section.3.2.4.p.9">
                                <pre class="text">OPTIONS * HTTP/1.1
Host: www.example.org:8001
</pre>
                            </div>
                            <div id="rfc.section.3.2.4.p.10">
                                <p>在连接到主机 "www.example.org" 的 8001 端口之后。</p>
                            </div>
                        </section>
                    </section>
                    <section id="reconstructing.target.uri">
                        <h3 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3.</a>&nbsp;<a
                                href="#reconstructing.target.uri">重建目标 URI</a></h3>
                        <div id="rfc.section.3.3.p.1">
                            <p>当 request-target 为 <a href="#absolute-form" class="smpl">absolute-form</a> 时，目标 URI 即为该
                                <a href="#request.target" class="smpl">request-target</a>。在这种情况下，服务器将把 URI
                                解析为其通用组件以便进一步评估。
                            </p>
                        </div>
                        <div id="rfc.section.3.3.p.2" class="avoidbreakafter">
                            <p>否则，服务器将根据连接上下文及请求消息的各个部分重构目标 URI，以识别目标资源（参见 <a href="rfc9110.html#target.resource"
                                    title="Determining the Target Resource">RFC9110 第 7.1 节</a>）：</p>
                        </div>
                        <div id="rfc.section.3.3.p.3">
                            <ul>
                                <li>如果服务器配置提供了固定的 URI scheme，或受信任的出站网关提供了 scheme，则在目标 URI 中使用该
                                    scheme。在大规模部署中，这很常见，因为网关服务器会接收客户端的连接上下文并使用它们与入站服务器建立自己的连接。否则，如果请求是通过受保护的连接接收的，则目标
                                    URI 的 scheme 为 "https"；否则为 "http"。</li>
                                <li>如果 request-target 为 <a href="#authority-form" class="smpl">authority-form</a>，则目标
                                    URI 的 authority 组件就是 request-target。否则，目标 URI 的 authority 组件为 <a
                                        href="rfc9110.html#field.host" class="smpl">Host</a> 首部字段的字段值。如果不存在 <a
                                        href="rfc9110.html#field.host" class="smpl">Host</a> 首部字段，或其字段值为空或无效，则目标 URI 的
                                    authority 组件为空。</li>
                                <li>如果 request-target 为 <a href="#authority-form" class="smpl">authority-form</a> 或 <a
                                        href="#asterisk-form" class="smpl">asterisk-form</a>，则目标 URI 的合并 <a
                                        href="rfc9110.html#uri.references" class="smpl">path</a> 和 <a
                                        href="#imported.uri.rules" class="smpl">query</a> 组件为空。否则，目标 URI 的合并 <a
                                        href="rfc9110.html#uri.references" class="smpl">path</a> 和 <a
                                        href="#imported.uri.rules" class="smpl">query</a> 组件即为 request-target。</li>
                                <li>一旦按上述方法确定了重建的目标 URI 的各组件，就可以通过连接 scheme、"://"、authority 以及合并的路径和查询组件将其重新组合为 <a
                                        href="#imported.uri.rules" class="smpl">absolute-URI</a> 形式。</li>
                            </ul>
                        </div>
                        <div id="rfc.section.3.3.p.4">
                            <p>示例 1：下列通过安全连接接收的消息</p>
                        </div>
                        <div id="rfc.section.3.3.p.5">
                            <pre class="text">GET /pub/WWW/TheProject.html HTTP/1.1
Host: www.example.org
</pre>
                        </div>
                        <div id="rfc.section.3.3.p.6">
                            <p>的目标 URI 为</p>
                        </div>
                        <div id="rfc.section.3.3.p.7">
                            <pre class="text">https://www.example.org/pub/WWW/TheProject.html
</pre>
                        </div>
                        <div id="rfc.section.3.3.p.8">
                            <p>示例 2：下列通过不安全连接接收的消息</p>
                        </div>
                        <div id="rfc.section.3.3.p.9">
                            <pre class="text">OPTIONS * HTTP/1.1
Host: www.example.org:8080
</pre>
                        </div>
                        <div id="rfc.section.3.3.p.10">
                            <p>的目标 URI 为</p>
                        </div>
                        <div id="rfc.section.3.3.p.11">
                            <pre class="text">http://www.example.org:8080
</pre>
                        </div>
                        <div id="rfc.section.3.3.p.12">
                            <p>如果目标 URI 的 authority 组件为空且其 URI scheme 要求非空的 authority（例如 "http" 和
                                "https"），服务器可以拒绝该请求，或确定是否有一个与入站连接上下文一致的配置默认值适用。上下文可能包括连接细节（如地址和端口）、所应用的安全性以及服务器特定配置的本地定义信息。在进一步处理请求之前，空的
                                authority 会被替换为配置的默认值。</p>
                        </div>
                        <div id="rfc.section.3.3.p.13">
                            <p>如果在受保护连接的上下文中提供 authority 的默认名称存在任何可能导致用户代理意图的 authority
                                与默认值不同的情况，则提供默认名称本质上是不安全的。能够从请求上下文中唯一识别出 authority 的服务器 <em class="bcp14">MAY</em>
                                在没有该风险的情况下使用该身份作为默认值。作为替代，可能更好的做法是将请求重定向到一个安全资源，说明如何获取新的客户端。</p>
                        </div>
                        <div id="rfc.section.3.3.p.14">
                            <p>注意，重建客户端的目标 URI 只是识别目标资源过程的一半。另一半是确定该目标 URI 是否标识了服务器愿意并能够发送响应的资源，详见 <a
                                    href="rfc9110.html#routing.reject" title="Rejecting Misdirected Requests">RFC9110 第
                                    7.4 节</a>。</p>
                        </div>
                    </section>
                </section>
                <section id="status.line">
                    <h2 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a href="#status.line">状态行</a>
                    </h2>
                    <div id="rfc.section.4.p.1">
                        <p>响应消息的第一行是 status-line，由协议版本、一个空格 (SP)、状态码、另一个空格组成，并以一个用于描述状态码的可选文本短语结束（该短语为 <em
                                class="bcp14">OPTIONAL</em>）。</p>
                    </div>
                    <div id="rfc.section.4.p.2">
                        <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.16"></span>  <a href="#status.line" class="smpl">status-line</a> = <a href="#http.version" class="smpl">HTTP-version</a> <a href="#core.rules" class="smpl">SP</a> <a href="#status.line" class="smpl">status-code</a> <a href="#core.rules" class="smpl">SP</a> [ <a href="#status.line" class="smpl">reason-phrase</a> ]
</pre>
                    </div>
                    <div id="rfc.section.4.p.3">
                        <p>尽管 status-line 的语法规则要求各组件元素之间以单个 SP 八位元分隔，但接收方 <em class="bcp14">MAY</em>
                            也可以基于以空白分隔的词边界进行解析，且在除行终止符之外的情况下，将任何形式的空白视为 SP 分隔符并忽略前导或尾随空白；此类空白可以包括一个或多个下列八位元：SP、HTAB、VT
                            (%x0B)、FF (%x0C) 或 裸 CR。然而，如果消息有多个接收方且每个接收方对鲁棒性的解释各不相同，则宽松解析可能导致响应分割等安全漏洞（参见 <a
                                href="#response.splitting" title="Response Splitting">第 11.1 节</a>）。</p>
                    </div>
                    <div id="rfc.section.4.p.4">
                        <p>status-code
                            元素是一个三位整数代码，用于描述服务器理解并满足客户端对应请求的尝试结果。接收方在解析并解释响应消息的其余部分时，应依据该状态码对其定义的语义（如果接收方识别该状态码）或依据该状态码所属的类别（如果具体代码未被识别）来进行处理。
                        </p>
                    </div>
                    <div id="rfc.section.4.p.5">
                        <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.17"></span>  <a href="#status.line" class="smpl">status-code</a>    = 3<a href="#core.rules" class="smpl">DIGIT</a>
</pre>
                    </div>
                    <div id="rfc.section.4.p.6">
                        <p>HTTP 的核心状态码定义于 <a href="rfc9110.html#status.codes" title="Status Codes">RFC9110 第 15
                                节</a>，其中包含状态码类别、定义新状态码时的注意事项以及用于收集此类定义的 IANA 注册表。</p>
                    </div>
                    <div id="rfc.section.4.p.7">
                        <p>reason-phrase 的存在仅用于为数值状态码提供文本描述，主要是为了向早期更常与交互式文本客户端一起使用的 Internet 应用协议致敬。</p>
                    </div>
                    <div id="rfc.section.4.p.8">
                        <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.18"></span>  <a href="#status.line" class="smpl">reason-phrase</a>  = 1*( <a href="#core.rules" class="smpl">HTAB</a> / <a href="#core.rules" class="smpl">SP</a> / <a href="#core.rules" class="smpl">VCHAR</a> / <a href="#imported.rules" class="smpl">obs-text</a> )
</pre>
                    </div>
                    <div id="rfc.section.4.p.9">
                        <p>客户端 <em class="bcp14">SHOULD</em> 忽略 reason-phrase
                            的内容，因为它不是可靠的信息通道（可能会针对特定语言环境被翻译、被中间件覆盖，或在通过其它版本的 HTTP 转发消息时被丢弃）。服务器 <em
                                class="bcp14">MUST</em> 在状态码与 reason-phrase 之间发送分隔空格，即使 reason-phrase 缺失（即 status-line
                            将以该空格结尾）。</p>
                    </div>
                </section>
                <section id="header.field.syntax">
                    <h2 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a href="#header.field.syntax">字段语法</a>
                    </h2>
                    <div id="rfc.section.5.p.1">
                        <p>每一行字段由不区分大小写的字段名、冒号 (":")、可选的前导空白、字段行值以及可选的尾随空白组成。</p>
                    </div>
                    <div id="rfc.section.5.p.2">
                        <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.19"></span><span id="rfc.iref.g.20"></span><span id="rfc.iref.g.21"></span>  <a href="#header.field.syntax" class="smpl">field-line</a>   = <a href="#imported.rules" class="smpl">field-name</a> ":" <a href="rfc9110.html#whitespace" class="smpl">OWS</a> <a href="#imported.rules" class="smpl">field-value</a> <a href="rfc9110.html#whitespace" class="smpl">OWS</a>
</pre>
                    </div>
                    <div id="rfc.section.5.p.3">
                        <p>在字段值内部的解析规则定义于 <a href="rfc9110.html#fields.values" title="Field Values">RFC9110 第 5.5
                                节</a>。本节涵盖了在 HTTP/1.1 消息中包含与提取首部字段的一般语法。</p>
                    </div>
                    <section id="field.parsing">
                        <h3 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1.</a>&nbsp;<a
                                href="#field.parsing">字段行解析</a></h3>
                        <div id="rfc.section.5.1.p.1">
                            <p>消息使用通用算法解析，与具体字段名无关。给定字段行值内的内容直到消息字段节整个处理完成后的后续阶段才会被解析（通常在此之后进行）。</p>
                        </div>
                        <div id="rfc.section.5.1.p.2">
                            <p>字段名与冒号之间不允许出现空白。过去对此类空白处理的差异导致了请求路由和响应处理方面的安全漏洞。服务器 <em class="bcp14">MUST</em>
                                对任何在头字段名与冒号之间包含空白的接收请求消息以 <a href="rfc9110.html#status.400" class="smpl">400 (Bad
                                    Request)</a> 状态码拒绝。代理 <em class="bcp14">MUST</em> 在转发响应消息到下游之前移除任何此类空白。</p>
                        </div>
                        <div id="rfc.section.5.1.p.3">
                            <p>字段行值可以被可选空白（OWS）包围；在人类可读性方面，字段行值前置一个单个 SP
                                更为首选。字段行值不包括这些前导或尾随空白：在从字段行中提取字段行值时，位于字段行值第一个非空白八位元之前或最后一个非空白八位元之后的 OWS 将由解析器排除。</p>
                        </div>
                    </section>
                    <section id="line.folding">
                        <h3 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2.</a>&nbsp;<a
                                href="#line.folding">过时的行折叠</a></h3>
                        <div id="rfc.section.5.2.p.1">
                            <p>历史上，HTTP/1.x 字段值可以通过在每个额外行之前加入至少一个空格或水平制表符（obs-fold）来扩展到多行。本规范弃用此类行折叠，除非在 "message/http"
                                媒体类型内（参见 <a href="#media.type.message.http" title="Media Type message/http">第 10.1
                                    节</a>）。</p>
                        </div>
                        <div id="rfc.section.5.2.p.2">
                            <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.22"></span>  <a href="#line.folding" class="smpl">obs-fold</a>     = <a href="rfc9110.html#whitespace" class="smpl">OWS</a> <a href="#core.rules" class="smpl">CRLF</a> <a href="rfc9110.html#whitespace" class="smpl">RWS</a>
               ; obsolete line folding
</pre>
                        </div>
                        <div id="rfc.section.5.2.p.3">
                            <p>发送方 <em class="bcp14">MUST NOT</em> 生成包含行折叠的消息（即任何字段行值包含与 <a href="#line.folding"
                                    class="smpl">obs-fold</a> 规则匹配的情况），除非该消息打算被封装在 "message/http" 媒体类型内。</p>
                        </div>
                        <div id="rfc.section.5.2.p.4">
                            <p>服务器在接收到非 "message/http" 容器内的请求消息中出现 <a href="#line.folding" class="smpl">obs-fold</a>
                                时，<em class="bcp14">MUST</em> 要么以 <a href="rfc9110.html#status.400" class="smpl">400
                                    (Bad Request)</a> 拒绝该消息（优先附带说明过时行折叠不可接受的表示），要么在解释字段值或将消息转发到下游之前，将每个接收到的 <a
                                    href="#line.folding" class="smpl">obs-fold</a> 替换为一个或多个 <a href="#core.rules"
                                    class="smpl">SP</a> 八位元。</p>
                        </div>
                        <div id="rfc.section.5.2.p.5">
                            <p>代理或网关在接收到非 "message/http" 容器内的响应消息中出现 <a href="#line.folding" class="smpl">obs-fold</a>
                                时，<em class="bcp14">MUST</em> 要么丢弃该消息并以 <a href="rfc9110.html#status.502"
                                    class="smpl">502 (Bad Gateway)</a>
                                替代（优先附带说明收到不可接受的行折叠的表示），要么在解释字段值或将消息转发到下游之前，将每个接收到的 <a href="#line.folding"
                                    class="smpl">obs-fold</a> 替换为一个或多个 <a href="#core.rules" class="smpl">SP</a> 八位元。
                            </p>
                        </div>
                        <div id="rfc.section.5.2.p.6">
                            <p>用户代理在接收到非 "message/http" 容器内的响应消息中出现 <a href="#line.folding" class="smpl">obs-fold</a>
                                时，<em class="bcp14">MUST</em> 在解释字段值之前将每个接收到的 <a href="#line.folding"
                                    class="smpl">obs-fold</a> 替换为一个或多个 <a href="#core.rules" class="smpl">SP</a> 八位元。
                            </p>
                        </div>
                    </section>
                </section>
                <section id="message.body">
                    <h2 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;<a href="#message.body">消息主体</a>
                    </h2>
                    <div id="rfc.section.6.p.1">
                        <p>HTTP/1.1 消息的消息主体（如果存在）用于承载请求或响应的内容（参见 <a href="rfc9110.html#content" title="Content">Section
                                6.4</a> of <a href="#HTTP" id="rfc.xref.HTTP.31"><cite
                                    title="HTTP Semantics">[HTTP]</cite></a>）。除非已应用传输编码（如 <a
                                href="#field.transfer-encoding" id="rfc.xref.field.transfer-encoding.1"
                                title="Transfer-Encoding">Section 6.1</a> 所述），消息主体与内容是相同的。</p>
                    </div>
                    <div id="rfc.section.6.p.2">
                        <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.23"></span>  <a href="#message.body" class="smpl">message-body</a> = *OCTET
</pre>
                    </div>
                    <div id="rfc.section.6.p.3">
                        <p>确定 HTTP/1.1 消息中是否存在消息主体的规则在请求和响应之间有所不同。</p>
                    </div>
                    <div id="rfc.section.6.p.4">
                        <p>请求中是否包含消息主体由 <a href="#body.content-length" class="smpl">Content-Length</a> 或 <a
                                href="#field.transfer-encoding" class="smpl">Transfer-Encoding</a>
                            首部字段指示。请求消息的分帧与方法语义无关。</p>
                    </div>
                    <div id="rfc.section.6.p.5">
                        <p>响应中消息主体的存在（如 <a href="#message.body.length" title="Message Body Length">Section 6.3</a>
                            所述）取决于其所对应的请求方法以及响应状态码。这与 HTTP 语义允许何时包含响应内容相对应（参见 <a href="rfc9110.html#content.semantics"
                                title="Content Semantics">Section 6.4.1</a> of <a href="#HTTP"
                                id="rfc.xref.HTTP.32"><cite title="HTTP Semantics">[HTTP]</cite></a>）。</p>
                    </div>
                    <section id="field.transfer-encoding">
                        <h3 id="rfc.section.6.1"><a href="#rfc.section.6.1">6.1.</a>&nbsp;<a
                                href="#field.transfer-encoding">Transfer-Encoding</a></h3>
                        <div id="rfc.section.6.1.p.1">
                            <p>Transfer-Encoding 首部字段列出与为形成消息主体而已应用（或将要应用）于内容的一系列传输编码相对应的传输编码名称。传输编码在 <a
                                    href="#transfer.codings" title="Transfer Codings">Section 7</a> 中定义。</p>
                        </div>
                        <div id="rfc.section.6.1.p.2">
                            <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.24"></span>  <a href="#field.transfer-encoding" class="smpl">Transfer-Encoding</a> = #<a href="rfc9110.html#field.te" class="smpl">transfer-coding</a>
                       ; defined in <a href="#HTTP" id="rfc.xref.HTTP.33"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#field.te" title="TE">Section 10.1.4</a>
</pre>
                        </div>
                        <div id="rfc.section.6.1.p.3">
                            <p>Transfer-Encoding 类似于 MIME 的 Content-Transfer-Encoding 字段（其用于在 7 位传输服务上安全传输二进制数据），但安全传输对于
                                8bit-清洁传输协议而言有不同侧重点。在 HTTP 中，Transfer-Encoding
                                主要用于在内容大小未知的情况下准确界定动态生成的内容。它也用于区分仅在传输过程中应用的编码与选定表示所固有的编码。</p>
                        </div>
                        <div id="rfc.section.6.1.p.4">
                            <p>接收方 <em class="bcp14">MUST</em> 能够解析 chunked 传输编码（参见 <a href="#chunked.encoding"
                                    title="Chunked Transfer Coding">Section 7.1</a>），因为当内容大小事先未知时，它在消息分帧中起着关键作用。发送方 <em
                                    class="bcp14">MUST NOT</em> 对同一消息体重复应用 chunked 传输编码（即不得对已分块的消息再分块）。如果对请求的内容应用了除
                                chunked 之外的任何传输编码，发送方 <em class="bcp14">MUST</em> 将 chunked
                                作为最终的传输编码以确保消息正确分帧。如果对响应的内容应用了除 chunked 之外的任何传输编码，发送方 <em class="bcp14">MUST</em> 要么将
                                chunked 作为最终传输编码应用，要么通过关闭连接来终止消息。</p>
                        </div>
                        <div id="rfc.section.6.1.p.5">
                            <p>例如，</p>
                        </div>
                        <div id="rfc.section.6.1.p.6">
                            <pre class="text">Transfer-Encoding: gzip, chunked
</pre>
                        </div>
                        <div id="rfc.section.6.1.p.7">
                            <p>表示内容先使用 gzip 编码压缩，然后在形成消息主体时再使用 chunked 分块编码。</p>
                        </div>
                        <div id="rfc.section.6.1.p.8">
                            <p>与 <a href="rfc9110.html#field.content-encoding" class="smpl">Content-Encoding</a>（参见 <a
                                    href="rfc9110.html#content.codings" title="Content Codings">Section 8.4.1</a> of <a
                                    href="#HTTP" id="rfc.xref.HTTP.34"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>）不同，Transfer-Encoding
                                是消息的属性，而不是表示的属性。请求/响应链上的任何接收方 <em class="bcp14">MAY</em>
                                解码所接收的传输编码或对消息主体应用额外的传输编码，前提是相应地更改 Transfer-Encoding 字段值。有关编码参数的附加信息可以由本规范未定义的其他首部字段提供。
                            </p>
                        </div>
                        <div id="rfc.section.6.1.p.9">
                            <p>Transfer-Encoding <em class="bcp14">MAY</em> 在对 HEAD 请求的响应中发送，或在对 GET 请求的 <a
                                    href="rfc9110.html#status.304" class="smpl">304 (Not Modified)</a> 响应中发送（参见 <a
                                    href="rfc9110.html#status.304" title="304 Not Modified">Section 15.4.5</a> of <a
                                    href="#HTTP" id="rfc.xref.HTTP.35"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>），尽管这些响应不包含消息主体，用以指示如果请求为无条件的
                                GET，源服务器本会对消息主体应用传输编码。但该指示并非必需，因为响应链上的任何接收方（包括源服务器）都可以在不需要时移除传输编码。</p>
                        </div>
                        <div id="rfc.section.6.1.p.10">
                            <p>服务器 <em class="bcp14">MUST NOT</em> 在任何状态码为 <a href="rfc9110.html#status.1xx"
                                    class="smpl">1xx (Informational)</a> 或 <a href="rfc9110.html#status.204"
                                    class="smpl">204 (No Content)</a> 的响应中发送 Transfer-Encoding 首部字段。服务器 <em
                                    class="bcp14">MUST NOT</em> 在对 CONNECT 请求的任何 <a href="rfc9110.html#status.2xx"
                                    class="smpl">2xx (Successful)</a> 响应中发送 Transfer-Encoding 首部字段（参见 <a
                                    href="rfc9110.html#CONNECT" title="CONNECT">Section 9.3.6</a> of <a href="#HTTP"
                                    id="rfc.xref.HTTP.36"><cite title="HTTP Semantics">[HTTP]</cite></a>）。</p>
                        </div>
                        <div id="rfc.section.6.1.p.11">
                            <p>接收含有其不理解的传输编码的请求消息的服务器 <em class="bcp14">SHOULD</em> 响应 <a href="rfc9110.html#status.501"
                                    class="smpl">501 (Not Implemented)</a>。</p>
                        </div>
                        <div id="rfc.section.6.1.p.12">
                            <p>Transfer-Encoding 是在 HTTP/1.1 中加入的。一般假定仅声明支持 HTTP/1.0 的实现将无法理解如何处理传输编码的内容，并且收到包含
                                Transfer-Encoding 的 HTTP/1.0 消息很可能是在传输过程中被转发而未正确处理 chunked 编码。</p>
                        </div>
                        <div id="rfc.section.6.1.p.13">
                            <p>客户端 <em class="bcp14">MUST NOT</em> 发送包含 Transfer-Encoding 的请求，除非其知道服务器会处理 HTTP/1.1
                                请求（或更高次版本）；这种知识可以来自特定用户配置或记住先前收到响应的版本。服务器 <em class="bcp14">MUST NOT</em> 发送包含
                                Transfer-Encoding 的响应，除非相应的请求表明了 HTTP/1.1（或更高次版本）。</p>
                        </div>
                        <div id="rfc.section.6.1.p.14">
                            <p>早期 Transfer-Encoding 的实现有时会同时发送用于消息分帧的 chunked 编码和用于进度条的估计 Content-Length 首部字段。因此
                                Transfer-Encoding 被定义为覆盖 Content-Length，而不是两者互斥。不幸的是，如果任何下游接收方未按本规范解析消息（尤其是仅实现 HTTP/1.0
                                的下游接收方），转发此类消息可能导致关于请求走私或响应分割的漏洞。</p>
                        </div>
                        <div id="rfc.section.6.1.p.15">
                            <p>服务器 <em class="bcp14">MAY</em> 拒绝包含 Content-Length 和 Transfer-Encoding 的请求，或仅根据
                                Transfer-Encoding 来处理该请求。无论采取何种处理，服务器 <em class="bcp14">MUST</em> 在响应此类请求后关闭连接以避免潜在攻击。
                            </p>
                        </div>
                        <div id="rfc.section.6.1.p.16">
                            <p>接收包含 Transfer-Encoding 首部字段的 HTTP/1.0 消息的服务器或客户端 <em class="bcp14">MUST</em>
                                将该消息视为分帧有误，即使存在 Content-Length，也应在处理完消息后关闭连接。消息发送方可能在缓冲中保留了消息的一部分，后续对连接的使用可能导致该部分被误解。
                            </p>
                        </div>
                    </section>
                    <section id="body.content-length">
                        <h3 id="rfc.section.6.2"><a href="#rfc.section.6.2">6.2.</a>&nbsp;<a
                                href="#body.content-length">Content-Length</a></h3>
                        <div id="rfc.section.6.2.p.1">
                            <p>当消息未包含 <a href="#field.transfer-encoding" class="smpl">Transfer-Encoding</a>
                                首部字段时，Content-Length 首部字段（参见 <a href="rfc9110.html#field.content-length"
                                    title="Content-Length">Section 8.6</a> of <a href="#HTTP"
                                    id="rfc.xref.HTTP.37"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>）可提供预期的大小，以十进制八位元数表示，用于潜在内容的长度。对于包含内容的消息，Content-Length
                                字段值提供了确定数据（和消息）结束位置所需的分帧信息。对于不包含内容的消息，Content-Length 指示所选择表示的大小（参见 <a
                                    href="rfc9110.html#field.content-length" title="Content-Length">Section 8.6</a> of
                                <a href="#HTTP" id="rfc.xref.HTTP.38"><cite title="HTTP Semantics">[HTTP]</cite></a>）。
                            </p>
                        </div>
                        <div id="rfc.section.6.2.p.2">
                            <p>发送方 <em class="bcp14">MUST NOT</em> 在任何包含 <a href="#field.transfer-encoding"
                                    class="smpl">Transfer-Encoding</a> 首部字段的消息中发送 Content-Length 首部字段。</p>
                        </div>
                        <div id="rfc.section.6.2.p.3">
                            <aside>
                                <div id="rfc.section.6.2.p.3.1">
                                    <p><b>注意：</b>HTTP 用于消息分帧的 Content-Length 用法与 MIME 中相同字段的用法有显著不同；在 MIME 中它是一个可选字段，仅在
                                        "message/external-body" 媒体类型中使用。</p>
                                </div>
                            </aside>
                        </div>
                    </section>
                    <section id="message.body.length">
                        <h3 id="rfc.section.6.3"><a href="#rfc.section.6.3">6.3.</a>&nbsp;<a
                                href="#message.body.length">消息主体长度</a></h3>
                        <div id="rfc.section.6.3.p.1" class="avoidbreakafter">
                            <p>消息主体的长度由下列规则之一决定（按优先级顺序）：</p>
                        </div>
                        <div id="rfc.section.6.3.p.2">
                            <ol>
                                <li>
                                    <div>
                                        <p>对任何 HEAD 请求的响应以及任何状态码为 <a href="rfc9110.html#status.1xx" class="smpl">1xx
                                                (Informational)</a>、<a href="rfc9110.html#status.204" class="smpl">204
                                                (No Content)</a> 或 <a href="rfc9110.html#status.304" class="smpl">304
                                                (Not Modified)</a>
                                            的响应，总是在首部字段之后的第一个空行处终止，不论消息中存在何种首部字段，因此这些响应不能包含消息主体或尾部节。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>对 CONNECT 请求的任何 <a href="rfc9110.html#status.2xx" class="smpl">2xx
                                                (Successful)</a> 响应意味着在结束首部字段的空行之后连接将立即成为隧道。客户端 <em
                                                class="bcp14">MUST</em> 忽略此类消息中接收到的任何 <a href="#body.content-length"
                                                class="smpl">Content-Length</a> 或 <a href="#field.transfer-encoding"
                                                class="smpl">Transfer-Encoding</a> 首部字段。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>如果收到的消息同时具有 <a href="#field.transfer-encoding"
                                                class="smpl">Transfer-Encoding</a> 和 <a href="#body.content-length"
                                                class="smpl">Content-Length</a> 首部字段，则 Transfer-Encoding 覆盖
                                            Content-Length。此类消息可能表示试图执行请求走私（参见 <a href="#request.smuggling"
                                                title="Request Smuggling">Section 11.2</a>）或响应分割（参见 <a
                                                href="#response.splitting" title="Response Splitting">Section
                                                11.1</a>），应被视为错误。选择转发该消息的中间件 <em class="bcp14">MUST</em>
                                            在将消息转发下游之前，先移除接收到的 Content-Length 字段并处理 Transfer-Encoding（如下面所述）。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>如果存在 <a href="#field.transfer-encoding" class="smpl">Transfer-Encoding</a>
                                            首部字段且 chunked 传输编码（参见 <a href="#chunked.encoding"
                                                title="Chunked Transfer Coding">Section
                                                7.1</a>）是最终编码，则消息主体长度由读取并解码分块数据直到传输编码表明数据已完整为止来确定。</p>
                                    </div>
                                    <div>
                                        <p>如果在响应中存在 <a href="#field.transfer-encoding"
                                                class="smpl">Transfer-Encoding</a> 首部字段且 chunked
                                            传输编码并非最终编码，则消息主体长度由读取直到服务器关闭连接来确定。</p>
                                    </div>
                                    <div>
                                        <p>如果在请求中存在 <a href="#field.transfer-encoding"
                                                class="smpl">Transfer-Encoding</a> 首部字段且 chunked
                                            传输编码并非最终编码，则消息主体长度无法可靠确定；服务器 <em class="bcp14">MUST</em> 响应 <a
                                                href="rfc9110.html#status.400" class="smpl">400 (Bad Request)</a>
                                            并随后关闭连接。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>如果收到的消息没有 <a href="#field.transfer-encoding"
                                                class="smpl">Transfer-Encoding</a> 且包含无效的 <a href="#body.content-length"
                                                class="smpl">Content-Length</a> 首部字段，则消息分帧无效且接收方 <em
                                                class="bcp14">MUST</em> 将其视为不可恢复的错误，除非该字段值可以被成功解析为以逗号分隔的列表（参见 <a
                                                href="rfc9110.html#abnf.extension"
                                                title="Lists (#rule ABNF Extension)">Section 5.6.1</a> of <a
                                                href="#HTTP" id="rfc.xref.HTTP.39"><cite
                                                    title="HTTP Semantics">[HTTP]</cite></a>），且列表中的所有值均有效且相同（在这种情况下，消息按该单一值作为
                                            Content-Length 字段值来处理）。如果不可恢复的错误出现在请求消息中，服务器 <em class="bcp14">MUST</em> 响应
                                            <a href="rfc9110.html#status.400" class="smpl">400 (Bad Request)</a>
                                            并随后关闭连接。如果出现在代理接收到的响应消息中，代理 <em class="bcp14">MUST</em>
                                            关闭与服务器的连接，丢弃接收到的响应，并向客户端发送 <a href="rfc9110.html#status.502"
                                                class="smpl">502 (Bad Gateway)</a> 响应。如果出现在用户代理接收到的响应消息中，用户代理 <em
                                                class="bcp14">MUST</em> 关闭与服务器的连接并丢弃接收到的响应。
                                        </p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>如果存在有效的 <a href="#body.content-length" class="smpl">Content-Length</a>
                                            首部字段且不存在 <a href="#field.transfer-encoding"
                                                class="smpl">Transfer-Encoding</a>，其十进制值定义了预期的消息主体长度（以八位元计）。如果发送方在指示的八位元数接收完之前关闭连接或接收方超时，则接收方
                                            <em class="bcp14">MUST</em> 视该消息为不完整并关闭连接。
                                        </p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>如果这是请求消息且以上情况都不成立，则消息主体长度为零（不存在消息主体）。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>否则，这是一个未声明主体长度的响应消息，因此消息主体长度由服务器关闭连接之前接收到的八位元数来确定。</p>
                                    </div>
                                </li>
                            </ol>
                        </div>
                        <div id="rfc.section.6.3.p.3">
                            <p>由于无法区分成功完成的、以关闭连接作为界定的响应消息与因网络故障而部分接收的消息，服务器 <em class="bcp14">SHOULD</em>
                                在可能的情况下生成编码或长度限定的消息。关闭界定的特性主要为向后兼容 HTTP/1.0 而保留。</p>
                        </div>
                        <div id="rfc.section.6.3.p.4">
                            <aside>
                                <div id="rfc.section.6.3.p.4.1">
                                    <p><b>注意：</b>请求消息从不以关闭作为界定方式，因为它们总是通过长度或传输编码显式分帧，缺少这两者则意味着请求在首部节之后立即结束。</p>
                                </div>
                            </aside>
                        </div>
                        <div id="rfc.section.6.3.p.5">
                            <p>服务器 <em class="bcp14">MAY</em> 拒绝包含消息主体但未包含 <a href="#body.content-length"
                                    class="smpl">Content-Length</a> 的请求，响应 <a href="rfc9110.html#status.411"
                                    class="smpl">411 (Length Required)</a>。</p>
                        </div>
                        <div id="rfc.section.6.3.p.6">
                            <p>除非已应用除 chunked 之外的传输编码，发送包含消息主体的请求的客户端 <em class="bcp14">SHOULD</em> 在已知消息主体长度时使用有效的 <a
                                    href="#body.content-length" class="smpl">Content-Length</a> 首部字段，而不是使用 chunked
                                传输编码，因为某些现有服务即使理解 chunked 也会对 chunked 响应 <a href="rfc9110.html#status.411"
                                    class="smpl">411 (Length Required)</a>
                                状态码。这通常是因为这些服务通过一个需要事先知道内容长度的网关实现，而服务器无法或不愿在处理之前缓存整个请求。</p>
                        </div>
                        <div id="rfc.section.6.3.p.7">
                            <p>发送包含消息主体的请求的用户代理 <em class="bcp14">MUST</em> 发送有效的 <a href="#body.content-length"
                                    class="smpl">Content-Length</a> 首部字段或使用 chunked 传输编码。客户端 <em class="bcp14">MUST
                                    NOT</em> 使用 chunked 传输编码，除非它知道服务器将处理 HTTP/1.1（或更高）请求；这种知识可以来自特定用户配置或记住先前收到响应的版本。</p>
                        </div>
                        <div id="rfc.section.6.3.p.8">
                            <p>如果某连接上最后一个请求的最终响应已完全接收但仍有额外数据可读，用户代理 <em class="bcp14">MAY</em>
                                丢弃剩余数据或尝试确定该数据是否属于之前的消息主体（这可能发生在之前消息的 Content-Length 值不正确的情况下）。客户端 <em
                                    class="bcp14">MUST NOT</em> 将此类额外数据作为单独响应来处理、缓存或转发，因为这种行为会使缓存中毒变得可能。</p>
                        </div>
                    </section>
                </section>
                <section id="transfer.codings">
                    <h2 id="rfc.section.7"><a href="#rfc.section.7">7.</a>&nbsp;<a href="#transfer.codings">传输编码</a>
                    </h2>
                    <div id="rfc.section.7.p.1">
                        <p>传输编码名称用于指示已、可或可能需要对消息内容应用的编码转换，以确保通过网络的“安全传输”。这不同于内容编码，因为传输编码是消息的属性，而不是被传输表示的属性。</p>
                    </div>
                    <div id="rfc.section.7.p.2">
                        <p>所有传输编码名称均不区分大小写，应在 HTTP 传输编码注册表中注册，如 <a href="#transfer.coding.registry"
                                title="Transfer Coding Registry">Section 7.3</a> 所定义。它们用于 <a
                                href="#field.transfer-encoding" class="smpl">Transfer-Encoding</a>（<a
                                href="#field.transfer-encoding" id="rfc.xref.field.transfer-encoding.2"
                                title="Transfer-Encoding">Section 6.1</a>）和 <a href="rfc9110.html#field.te"
                                class="smpl">TE</a>（<a href="rfc9110.html#field.te" title="TE">Section 10.1.4</a> of <a
                                href="#HTTP" id="rfc.xref.HTTP.40"><cite
                                    title="HTTP Semantics">[HTTP]</cite></a>）首部字段中（后者还定义了 "transfer-coding" 语法）。</p>
                    </div>
                    <section id="chunked.encoding">
                        <h3 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1.</a>&nbsp;<a
                                href="#chunked.encoding">分块传输编码</a></h3>
                        <div id="rfc.section.7.1.p.1">
                            <p>分块传输编码将内容封装为一系列分块，每个分块有自己的大小指示符，随后可选一个包含尾部字段的尾部节。分块使得未知大小的内容流可以作为一系列长度限定的缓冲区被传输，从而使发送方能够保持连接持久性，接收方也能知道何时已接收完整消息。
                            </p>
                        </div>
                        <div id="rfc.section.7.1.p.2">
                            <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.25"></span><span id="rfc.iref.g.26"></span><span id="rfc.iref.g.27"></span><span id="rfc.iref.g.28"></span><span id="rfc.iref.g.29"></span><span id="rfc.iref.g.30"></span><span id="rfc.iref.g.31"></span>  <a href="#chunked.encoding" class="smpl">chunked-body</a>   = *<a href="#chunked.encoding" class="smpl">chunk</a>
                   <a href="#chunked.encoding" class="smpl">last-chunk</a>
                   <a href="#chunked.trailer.section" class="smpl">trailer-section</a>
                   <a href="#core.rules" class="smpl">CRLF</a>

  <a href="#chunked.encoding" class="smpl">chunk</a>          = <a href="#chunked.encoding" class="smpl">chunk-size</a> [ <a href="#chunked.extension" class="smpl">chunk-ext</a> ] <a href="#core.rules" class="smpl">CRLF</a>
                   <a href="#chunked.encoding" class="smpl">chunk-data</a> <a href="#core.rules" class="smpl">CRLF</a>
  <a href="#chunked.encoding" class="smpl">chunk-size</a>     = 1*<a href="#core.rules" class="smpl">HEXDIG</a>
  <a href="#chunked.encoding" class="smpl">last-chunk</a>     = 1*("0") [ <a href="#chunked.extension" class="smpl">chunk-ext</a> ] <a href="#core.rules" class="smpl">CRLF</a>

  <a href="#chunked.encoding" class="smpl">chunk-data</a>     = 1*<a href="#core.rules" class="smpl">OCTET</a> ; a sequence of chunk-size octets
</pre>
                        </div>
                        <div id="rfc.section.7.1.p.3">
                            <p>chunk-size 字段是一串十六进制数字，指示 chunk-data 的八位元大小。当接收到 chunk-size
                                为零的分块（可能后跟一个尾部节）并最终以空行终止时，分块传输编码完成。</p>
                        </div>
                        <div id="rfc.section.7.1.p.4">
                            <p>接收方 <em class="bcp14">MUST</em> 能够解析并解码分块传输编码。</p>
                        </div>
                        <div id="rfc.section.7.1.p.5">
                            <p>HTTP/1.1
                                未定义任何手段来限制分块响应的大小以便中间件能确保证明其能缓冲整个响应。此外，非常大的分块大小如果在接收实现中不能被准确表示，可能导致溢出或精度丢失。因此，接收方 <em
                                    class="bcp14">MUST</em> 预期可能出现大的十六进制数值，并防止因整数转换溢出或整数表示精度损失而导致的解析错误。</p>
                        </div>
                        <div id="rfc.section.7.1.p.6">
                            <p>分块编码不定义任何参数。其存在参数时 <em class="bcp14">SHOULD</em> 被视为错误。</p>
                        </div>
                        <section id="chunked.extension">
                            <h4 id="rfc.section.7.1.1"><a href="#rfc.section.7.1.1">7.1.1.</a>&nbsp;<a
                                    href="#chunked.extension">分块扩展</a></h4>
                            <div id="rfc.section.7.1.1.p.1">
                                <p>分块编码允许每个分块在 <a href="#chunked.encoding" class="smpl">chunk-size</a>
                                    之后包含零个或多个分块扩展，用于提供每块的元数据（如签名或哈希）、消息中间控制信息，或用于使消息主体大小随机化。</p>
                            </div>
                            <div id="rfc.section.7.1.1.p.2">
                                <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.32"></span><span id="rfc.iref.g.33"></span><span id="rfc.iref.g.34"></span>  <a href="#chunked.extension" class="smpl">chunk-ext</a>      = *( <a href="rfc9110.html#whitespace" class="smpl">BWS</a> ";" <a href="rfc9110.html#whitespace" class="smpl">BWS</a> <a href="#chunked.extension" class="smpl">chunk-ext-name</a>
                      [ <a href="rfc9110.html#whitespace" class="smpl">BWS</a> "=" <a href="rfc9110.html#whitespace" class="smpl">BWS</a> <a href="#chunked.extension" class="smpl">chunk-ext-val</a> ] )

  <a href="#chunked.extension" class="smpl">chunk-ext-name</a> = <a href="#imported.rules" class="smpl">token</a>
  <a href="#chunked.extension" class="smpl">chunk-ext-val</a>  = <a href="#imported.rules" class="smpl">token</a> / <a href="#imported.rules" class="smpl">quoted-string</a>
</pre>
                            </div>
                            <div id="rfc.section.7.1.1.p.3">
                                <p>分块编码是特定于每个连接的，并且在到达更高层应用检查扩展之前，很可能被每个接收方（包括中间件）移除或重新编码。因此，分块扩展的使用通常仅限于诸如“长轮询”等专用 HTTP
                                    服务（在那里客户端和服务器可以对分块扩展的使用有共享预期），或在端到端安全连接内用于填充。</p>
                            </div>
                            <div id="rfc.section.7.1.1.p.4">
                                <p>接收方 <em class="bcp14">MUST</em>
                                    忽略无法识别的分块扩展。服务器应限制在请求中接收的分块扩展的总长度至与所提供服务相称的合理数量，类似于对消息其他部分应用长度限制和超时；如果超过该数量，应生成适当的
                                    <a href="rfc9110.html#status.4xx" class="smpl">4xx (Client Error)</a> 响应。
                                </p>
                            </div>
                        </section>
                        <section id="chunked.trailer.section">
                            <h4 id="rfc.section.7.1.2"><a href="#rfc.section.7.1.2">7.1.2.</a>&nbsp;<a
                                    href="#chunked.trailer.section">分块尾部节</a></h4>
                            <div id="rfc.section.7.1.2.p.1">
                                <p>尾部节允许发送方在分块消息末尾包含附加字段，以便提供在发送内容时可能动态生成的元数据，例如消息完整性校验、数字签名或后处理状态。尾部字段的正确使用和限制在 <a
                                        href="rfc9110.html#trailer.fields" title="Trailer Fields">Section 6.5</a> of <a
                                        href="#HTTP" id="rfc.xref.HTTP.41"><cite
                                            title="HTTP Semantics">[HTTP]</cite></a> 中定义。</p>
                            </div>
                            <div id="rfc.section.7.1.2.p.2">
                                <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.35"></span><span id="rfc.iref.g.36"></span>  <a href="#chunked.trailer.section" class="smpl">trailer-section</a>   = *( <a href="#header.field.syntax" class="smpl">field-line</a> <a href="#core.rules" class="smpl">CRLF</a> )
</pre>
                            </div>
                            <div id="rfc.section.7.1.2.p.3">
                                <p>去除分块编码的接收方 <em class="bcp14">MAY</em> 有选择地保留或丢弃接收到的尾部字段。保留接收到的尾部字段的接收方 <em
                                        class="bcp14">MUST</em>
                                    要么将尾部字段单独存储/转发，要么将接收到的尾部字段合并到首部节中。除非相应的首部字段定义明确允许并指示如何安全地合并尾部字段值，接收方 <em
                                        class="bcp14">MUST NOT</em> 将接收到的尾部字段合并到首部节中。</p>
                            </div>
                        </section>
                        <section id="decoding.chunked">
                            <h4 id="rfc.section.7.1.3"><a href="#rfc.section.7.1.3">7.1.3.</a>&nbsp;<a
                                    href="#decoding.chunked">解码分块</a></h4>
                            <div id="rfc.section.7.1.3.p.1" class="avoidbreakafter">
                                <p>分块传输编码的解码过程可用伪代码表示为：</p>
                            </div>
                            <div id="rfc.section.7.1.3.p.2">
                                <pre class="text">  length := 0
  read chunk-size, chunk-ext (if any), and CRLF
  while (chunk-size &gt; 0) {
     read chunk-data and CRLF
     append chunk-data to content
     length := length + chunk-size
     read chunk-size, chunk-ext (if any), and CRLF
  }
  read trailer field
  while (trailer field is not empty) {
     if (trailer fields are stored/forwarded separately) {
         append trailer field to existing trailer fields
     }
     else if (trailer field is understood and defined as mergeable) {
         merge trailer field with existing header fields
     }
     else {
         discard trailer field
     }
     read trailer field
  }
  Content-Length := length
  Remove "chunked" from Transfer-Encoding
</pre>
                            </div>
                        </section>
                    </section>
                    <section id="compression.codings">
                        <h3 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2.</a>&nbsp;<a
                                href="#compression.codings">用于压缩的传输编码</a></h3>
                        <div id="rfc.section.7.2.p.1" class="avoidbreakafter">
                            <p>下列传输编码名称用于压缩，并按与其相应内容编码相同的算法定义：</p>
                        </div>
                        <div id="rfc.section.7.2.p.2">
                            <dl class="nohang">
                                <dt>compress (and x-compress)</dt>
                                <dd>参见 <a href="rfc9110.html#compress.coding" title="Compress Coding">Section
                                        8.4.1.1</a> of <a href="#HTTP" id="rfc.xref.HTTP.42"><cite
                                            title="HTTP Semantics">[HTTP]</cite></a>。</dd>
                                <dt>deflate</dt>
                                <dd>参见 <a href="rfc9110.html#deflate.coding" title="Deflate Coding">Section 8.4.1.2</a>
                                    of <a href="#HTTP" id="rfc.xref.HTTP.43"><cite
                                            title="HTTP Semantics">[HTTP]</cite></a>。</dd>
                                <dt>gzip (and x-gzip)</dt>
                                <dd>参见 <a href="rfc9110.html#gzip.coding" title="Gzip Coding">Section 8.4.1.3</a> of <a
                                        href="#HTTP" id="rfc.xref.HTTP.44"><cite
                                            title="HTTP Semantics">[HTTP]</cite></a>。</dd>
                            </dl>
                        </div>
                        <div id="rfc.section.7.2.p.3">
                            <p>这些压缩编码不定义任何参数。出现参数时 <em class="bcp14">SHOULD</em> 将其视为错误。</p>
                        </div>
                    </section>
                    <section id="transfer.coding.registry">
                        <h3 id="rfc.section.7.3"><a href="#rfc.section.7.3">7.3.</a>&nbsp;<a
                                href="#transfer.coding.registry">传输编码注册表</a></h3>
                        <div id="rfc.section.7.3.p.1">
                            <p>“HTTP 传输编码注册表”定义了传输编码名称的命名空间。其维护地址为 <a
                                    href="https://www.iana.org/assignments/http-parameters">https://www.iana.org/assignments/http-parameters</a>。
                            </p>
                        </div>
                        <div id="rfc.section.7.3.p.2" class="avoidbreakafter">
                            <p>注册 <em class="bcp14">MUST</em> 包含下列字段：</p>
                        </div>
                        <div id="rfc.section.7.3.p.3">
                            <ul>
                                <li>Name</li>
                                <li>Description</li>
                                <li>Pointer to specification text</li>
                            </ul>
                        </div>
                        <div id="rfc.section.7.3.p.4">
                            <p>传输编码的名称 <em class="bcp14">MUST NOT</em> 与内容编码的名称重叠（参见 <a
                                    href="rfc9110.html#content.codings" title="Content Codings">Section 8.4.1</a> of <a
                                    href="#HTTP" id="rfc.xref.HTTP.45"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>），除非编码转换是相同的情况（如第 <a
                                    href="#compression.codings" title="Transfer Codings for Compression">7.2 节</a>
                                中定义的压缩编码）。</p>
                        </div>
                        <div id="rfc.section.7.3.p.5">
                            <p><a href="rfc9110.html#field.te" class="smpl">TE</a> 首部字段（参见 <a
                                    href="rfc9110.html#field.te" title="TE">Section 10.1.4</a> of <a href="#HTTP"
                                    id="rfc.xref.HTTP.46"><cite title="HTTP Semantics">[HTTP]</cite></a>）在可接受多个传输编码时使用名为
                                "q" 的伪参数作为排序值。未来对传输编码的注册 <em class="bcp14">SHOULD NOT</em> 定义名为 "q"（不区分大小写）的参数以避免歧义。</p>
                        </div>
                        <div id="rfc.section.7.3.p.6">
                            <p>添加到该命名空间的值需要 IETF 审查（参见 <a
                                    href="https://www.rfc-editor.org/rfc/rfc8126.html#section-4.8">RFC8126 第 4.8
                                    节</a>）并且 <em class="bcp14">MUST</em> 符合本规范中对传输编码目的的定义。</p>
                        </div>
                        <div id="rfc.section.7.3.p.7">
                            <p>不鼓励并且不宜在将来使用程序名来标识编码格式。</p>
                        </div>
                    </section>
                    <section id="transfer.coding.negotiation">
                        <h3 id="rfc.section.7.4"><a href="#rfc.section.7.4">7.4.</a>&nbsp;<a
                                href="#transfer.coding.negotiation">传输编码协商</a></h3>
                        <div id="rfc.section.7.4.p.1">
                            <p>TE 字段（参见 <a href="rfc9110.html#field.te" title="TE">Section 10.1.4</a> of <a href="#HTTP"
                                    id="rfc.xref.HTTP.47"><cite title="HTTP Semantics">[HTTP]</cite></a>）在 HTTP/1.1
                                中用于指示客户端在响应中愿意接受除 chunked 之外的哪些传输编码，以及客户端是否愿意保留分块传输编码中的尾部字段。</p>
                        </div>
                        <div id="rfc.section.7.4.p.2">
                            <p>客户端 <em class="bcp14">MUST NOT</em> 在 TE 中发送 chunked 传输编码名称；chunked 对 HTTP/1.1
                                接收方始终是可接受的。</p>
                        </div>
                        <div id="rfc.section.7.4.p.3">
                            <p>下面给出三个 TE 使用示例。</p>
                        </div>
                        <div id="rfc.section.7.4.p.4">
                            <pre class="text">TE: deflate
TE:
TE: trailers, deflate;q=0.5
</pre>
                        </div>
                        <div id="rfc.section.7.4.p.5">
                            <p>当多个传输编码可接受时，客户端 <em class="bcp14">MAY</em> 使用不区分大小写的 "q" 参数按偏好对编码进行排序（类似于内容协商字段中使用的 q
                                值；参见 <a href="rfc9110.html#quality.values" title="Quality Values">Section 12.4.2</a> of
                                <a href="#HTTP" id="rfc.xref.HTTP.48"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>）。排序值为 0 到 1 范围内的实数，0.001 为最低偏好，1
                                为最高偏好；值为 0 表示“不可接受”。
                            </p>
                        </div>
                        <div id="rfc.section.7.4.p.6">
                            <p>如果 TE 字段值为空或不存在 TE 字段，则唯一可接受的传输编码是 chunked。无传输编码的消息始终是可接受的。</p>
                        </div>
                        <div id="rfc.section.7.4.p.7">
                            <p>关键字 "trailers" 指示发送方不会丢弃尾部字段，如 <a href="rfc9110.html#trailer.fields"
                                    title="Trailer Fields">Section 6.5</a> 所述。</p>
                        </div>
                        <div id="rfc.section.7.4.p.8">
                            <p>由于 TE 首部字段仅适用于即时连接，发送 TE 的发送方 <em class="bcp14">MUST</em> 还应在 <a
                                    href="rfc9110.html#field.connection" class="smpl">Connection</a> 首部字段中发送一个 "TE"
                                连接选项（参见 <a href="rfc9110.html#field.connection" title="Connection">Section 7.6.1</a> of
                                <a href="#HTTP" id="rfc.xref.HTTP.50"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>），以防止不支持其语义的中间件转发 TE 首部字段。
                            </p>
                        </div>
                    </section>
                </section>
                <section id="incomplete.messages">
                    <h2 id="rfc.section.8"><a href="#rfc.section.8">8.</a>&nbsp;<a
                            href="#incomplete.messages">处理不完整消息</a></h2>
                    <div id="rfc.section.8.p.1">
                        <p>服务器在收到不完整的请求消息（通常由于请求被取消或触发了超时异常）时，<em class="bcp14">MAY</em> 在关闭连接之前发送错误响应。</p>
                    </div>
                    <div id="rfc.section.8.p.2">
                        <p>客户端在接收到不完整的响应消息时（例如连接被过早关闭或在解码看似分块的传输编码时失败），<em class="bcp14">MUST</em>
                            将该消息记录为不完整。关于不完整响应的缓存要求定义于 <a href="rfc9111.html#incomplete.responses"
                                title="Storing Incomplete Responses">Section 3.3</a> of <a href="#CACHING"
                                id="rfc.xref.CACHING.2"><cite title="HTTP Caching">[CACHING]</cite></a>。</p>
                    </div>
                    <div id="rfc.section.8.p.3">
                        <p>如果响应在首部节中途终止（在接收到空行之前），并且状态码可能依赖首部字段来传达响应的完整含义，则客户端不能假定该含义已被传达；客户端可能需要重复该请求以确定下一步应采取的操作。</p>
                    </div>
                    <div id="rfc.section.8.p.4">
                        <p>使用分块传输编码的消息主体若未收到终止该编码的零长度分块，则视为不完整。使用有效 <a href="#body.content-length"
                                class="smpl">Content-Length</a> 的消息若接收的消息主体大小（以八位元计）小于 Content-Length
                            给出的值，则视为不完整。既无分块传输编码也无 Content-Length 的响应由连接关闭终止，并且如果首部节已完整接收，则被视为完整，除非底层连接表明了错误（例如 TLS
                            中的“incomplete close”会使响应不完整，如 <a href="#tls.connection.closure"
                                title="TLS Connection Closure">Section 9.8</a> 所述）。</p>
                    </div>
                </section>
                <section id="connection.management">
                    <h2 id="rfc.section.9"><a href="#rfc.section.9">9.</a>&nbsp;<a
                            href="#connection.management">连接管理</a></h2>
                    <div id="rfc.section.9.p.1">
                        <p>HTTP 消息独立于底层传输层或会话层连接协议。HTTP 仅假定可靠的传输且请求按序到达并且对应的响应也按序到达。将 HTTP 请求和响应结构映射到底层传输协议的数据单元超出本规范范围。
                        </p>
                    </div>
                    <div id="rfc.section.9.p.2">
                        <p>正如 <a href="rfc9110.html#routing.inbound" title="Routing Inbound Requests">Section 7.3</a> of
                            <a href="#HTTP" id="rfc.xref.HTTP.51"><cite title="HTTP Semantics">[HTTP]</cite></a> 所述，用于
                            HTTP 交互的具体连接协议由客户端配置和 <a href="rfc9110.html#target.resource" class="smpl">target URI</a>
                            决定。例如，"http" URI 方案（<a href="rfc9110.html#http.uri" title="http URI Scheme">Section
                                4.2.1</a> of <a href="#HTTP" id="rfc.xref.HTTP.52"><cite
                                    title="HTTP Semantics">[HTTP]</cite></a>）表示默认使用基于 IP 的 TCP 连接，默认 TCP 端口为
                            80，但客户端可能被配置通过某个代理使用其他连接、端口或协议。
                        </p>
                    </div>
                    <div id="rfc.section.9.p.3">
                        <p>HTTP
                            实现应执行连接管理，包括维护当前连接的状态、建立新连接或重用现有连接、处理在连接上接收到的消息、检测连接失败以及关闭每个连接。大多数客户端会并行维护多个连接，包括对每个服务器端点的多个连接。大多数服务器设计为维护成千上万的并发连接，同时控制请求队列以实现公平使用并检测拒绝服务攻击。
                        </p>
                    </div>
                    <section id="persistent.establishment">
                        <h3 id="rfc.section.9.1"><a href="#rfc.section.9.1">9.1.</a>&nbsp;<a
                                href="#persistent.establishment">建立</a></h3>
                        <div id="rfc.section.9.1.p.1">
                            <p>描述如何通过各种传输或会话层协议建立连接超出本规范范围。每个 HTTP 连接映射到一个底层传输连接。</p>
                        </div>
                    </section>
                    <section id="associating.response.to.request">
                        <h3 id="rfc.section.9.2"><a href="#rfc.section.9.2">9.2.</a>&nbsp;<a
                                href="#associating.response.to.request">将响应与请求关联</a></h3>
                        <div id="rfc.section.9.2.p.1">
                            <p>HTTP/1.1
                                未包含用于将给定请求消息与其对应的一个或多个响应消息关联的请求标识符。因此，它依赖响应到达的顺序与在同一连接上发出的请求顺序完全对应。每个请求可能对应多于一个响应，只有当一个或多个信息性响应（<a
                                    href="rfc9110.html#status.1xx" class="smpl">1xx</a>; 参见 <a
                                    href="rfc9110.html#status.1xx" title="Informational 1xx">Section 15.2</a> of <a
                                    href="#HTTP" id="rfc.xref.HTTP.53"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>）在对同一请求的最终响应之前出现时才会发生。</p>
                        </div>
                        <div id="rfc.section.9.2.p.2">
                            <p>在连接上有多个未完成请求的客户端 <em class="bcp14">MUST</em> 按发送顺序维护未完成请求的列表，并且 <em
                                    class="bcp14">MUST</em> 将该连接上接收到的每个响应消息关联到第一个尚未收到最终（非 <a
                                    href="rfc9110.html#status.1xx" class="smpl">1xx</a>）响应的未完成请求。</p>
                        </div>
                        <div id="rfc.section.9.2.p.3">
                            <p>如果客户端在没有未完成请求的连接上接收到数据，客户端 <em class="bcp14">MUST NOT</em> 将该数据视为有效响应；客户端 <em
                                    class="bcp14">SHOULD</em> 关闭连接，因为消息定界现在变得模糊，除非该数据仅由一个或多个 CRLF 组成（可根据 <a
                                    href="#message.parsing" title="Message Parsing">Section 2.2</a> 丢弃）。</p>
                        </div>
                    </section>
                    <section id="persistent.connections">
                        <h3 id="rfc.section.9.3"><a href="#rfc.section.9.3">9.3.</a>&nbsp;<a
                                href="#persistent.connections">持久性</a></h3>
                        <div id="rfc.section.9.3.p.1">
                            <p>HTTP/1.1 默认使用 <dfn>持久连接</dfn>，允许在单个连接上承载多个请求和响应。HTTP 实现 <em class="bcp14">SHOULD</em>
                                支持持久连接。</p>
                        </div>
                        <div id="rfc.section.9.3.p.2" class="avoidbreakafter">
                            <p>接收方是否认为连接为持久连接取决于所接收的最近一条消息的协议版本和 <a href="rfc9110.html#field.connection"
                                    class="smpl">Connection</a> 首部字段（参见 <a href="rfc9110.html#field.connection"
                                    title="Connection">Section 7.6.1</a> of <a href="#HTTP" id="rfc.xref.HTTP.54"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>）：</p>
                        </div>
                        <div id="rfc.section.9.3.p.3">
                            <ul>
                                <li>如果存在 "<a href="#persistent.tear-down" class="smpl">close</a>" 连接选项（见 <a
                                        href="#persistent.tear-down" id="rfc.xref.persistent.tear-down.1"
                                        title="Tear-down">Section 9.6</a>），则当前响应后连接不会保持持久；否则，</li>
                                <li>如果接收到的协议是 HTTP/1.1（或更高），则当前响应后连接保持持久；否则，</li>
                                <li>如果接收到的协议是 HTTP/1.0，且存在 "keep-alive" 连接选项，且接收方不是代理或该消息是响应，并且接收方希望遵守 HTTP/1.0 的
                                    "keep-alive" 机制，则当前响应后连接保持持久；否则，</li>
                                <li>连接将在当前响应后关闭。</li>
                            </ul>
                        </div>
                        <div id="rfc.section.9.3.p.4">
                            <p>不支持 <a href="#persistent.connections" class="smpl">持久连接</a> 的客户端 <em
                                    class="bcp14">MUST</em> 在每个请求消息中发送 "<a href="#persistent.tear-down"
                                    class="smpl">close</a>" 连接选项。</p>
                        </div>
                        <div id="rfc.section.9.3.p.5">
                            <p>不支持 <a href="#persistent.connections" class="smpl">持久连接</a> 的服务器 <em
                                    class="bcp14">MUST</em> 在每个非 <a href="rfc9110.html#status.1xx" class="smpl">1xx
                                    (Informational)</a> 状态码的响应消息中发送 "<a href="#persistent.tear-down"
                                    class="smpl">close</a>" 连接选项。</p>
                        </div>
                        <div id="rfc.section.9.3.p.6">
                            <p>客户端 <em class="bcp14">MAY</em> 在持久连接上发送额外请求，直到它发送或接收到 "<a href="#persistent.tear-down"
                                    class="smpl">close</a>" 连接选项或接收到不带 "keep-alive" 连接选项的 HTTP/1.0 响应。</p>
                        </div>
                        <div id="rfc.section.9.3.p.7">
                            <p>为保持持久性，连接上的所有消息需要具有自我定义的消息长度（即非通过关闭连接来界定的长度），如 <a href="#message.body"
                                    title="Message Body">第 6 节</a> 所述。服务器 <em class="bcp14">MUST</em>
                                读取完整的请求消息主体，或在发送响应后关闭连接；否则，持久连接上的剩余数据可能被误解为下一个请求。同样，若客户端打算重用连接发送后续请求，则客户端 <em
                                    class="bcp14">MUST</em> 读取完整的响应消息主体。</p>
                        </div>
                        <div id="rfc.section.9.3.p.8">
                            <p>代理服务器 <em class="bcp14">MUST NOT</em> 与 HTTP/1.0 客户端保持持久连接（关于许多 HTTP/1.0 客户端实现的
                                Keep-Alive 首部字段存在的问题及信息，请参见 <a
                                    href="#compatibility.with.http.1.0.persistent.connections"
                                    title="Keep-Alive Connections">附录 C.2.2</a>）。</p>
                        </div>
                        <div id="rfc.section.9.3.p.9">
                            <p>有关与 HTTP/1.0 客户端向后兼容的更多信息，请参见 <a
                                    href="#compatibility.with.http.1.0.persistent.connections"
                                    title="Keep-Alive Connections">附录 C.2.2</a>。</p>
                        </div>
                        <section id="persistent.retrying.requests">
                            <h4 id="rfc.section.9.3.1"><a href="#rfc.section.9.3.1">9.3.1.</a>&nbsp;<a
                                    href="#persistent.retrying.requests">重试请求</a></h4>
                            <div id="rfc.section.9.3.1.p.1">
                                <p>连接可以在任何时候被关闭，可能是有意也可能是无意。实现应预期需要从异步关闭事件中恢复。客户端自动重试一系列未完成请求的条件定义于 <a
                                        href="rfc9110.html#idempotent.methods" title="Idempotent Methods">Section
                                        9.2.2</a> of <a href="#HTTP" id="rfc.xref.HTTP.55"><cite
                                            title="HTTP Semantics">[HTTP]</cite></a>。</p>
                            </div>
                        </section>
                        <section id="pipelining">
                            <h4 id="rfc.section.9.3.2"><a href="#rfc.section.9.3.2">9.3.2.</a>&nbsp;<a
                                    href="#pipelining">管道化</a></h4>
                            <div id="rfc.section.9.3.2.p.1">
                                <p>支持持久连接的客户端 <em class="bcp14">MAY</em> 对其请求进行
                                    <dfn>管道化</dfn>（即在不等待每个响应的情况下发送多个请求）。若一系列管道化的请求全部使用安全方法（参见 <a
                                        href="rfc9110.html#safe.methods" title="Safe Methods">Section 9.2.1</a> of <a
                                        href="#HTTP" id="rfc.xref.HTTP.56"><cite
                                            title="HTTP Semantics">[HTTP]</cite></a>），服务器 <em class="bcp14">MAY</em>
                                    并行处理这些请求，但 <em class="bcp14">MUST</em> 以接收请求的相同顺序发送相应的响应。
                                </p>
                            </div>
                            <div id="rfc.section.9.3.2.p.2">
                                <p>对请求进行管道化的客户端 <em class="bcp14">SHOULD</em>
                                    在连接在接收所有相应响应之前关闭时重试未得到响应的请求。在失败连接（即服务器在其最后完整响应中未明确关闭连接的情况下导致的连接失败）之后重试管道化请求时，客户端 <em
                                        class="bcp14">MUST NOT</em>
                                    在重新建立连接后立即进行管道化，因为先前管道中的第一个未完成请求可能已导致错误响应，如果在过早关闭的连接上再次发送多个请求，该错误响应可能再次丢失（参见 <a
                                        href="#persistent.tear-down" id="rfc.xref.persistent.tear-down.2"
                                        title="Tear-down">Section 9.6</a> 中描述的 TCP 重置问题）。</p>
                            </div>
                            <div id="rfc.section.9.3.2.p.3">
                                <p>幂等方法（参见 <a href="rfc9110.html#idempotent.methods" title="Idempotent Methods">Section
                                        9.2.2</a> of <a href="#HTTP" id="rfc.xref.HTTP.57"><cite
                                            title="HTTP Semantics">[HTTP]</cite></a>）对于管道化很重要，因为它们在连接失败后可以被自动重试。用户代理 <em
                                        class="bcp14">SHOULD NOT</em>
                                    在非幂等方法之后进行管道化，直到该方法的最终响应状态码已收到，除非用户代理具有检测并从涉及该管道化序列的部分失败条件中恢复的手段。</p>
                            </div>
                            <div id="rfc.section.9.3.2.p.4">
                                <p>接收管道化请求的中间件 <em class="bcp14">MAY</em>
                                    在转发入站请求时对这些请求进行管道化，因为它可以依赖出站用户代理来决定哪些请求可以安全地管道化。如果入站连接在收到响应之前失败，管道化中间件 <em
                                        class="bcp14">MAY</em> 尝试重试尚未收到响应的一系列请求（如果这些请求都使用幂等方法）；否则，管道化中间件 <em
                                        class="bcp14">SHOULD</em> 转发已接收的任何响应然后关闭相应的出站连接，以便出站用户代理可以相应地恢复。</p>
                            </div>
                        </section>
                    </section>
                    <section id="persistent.concurrency">
                        <h3 id="rfc.section.9.4"><a href="#rfc.section.9.4">9.4.</a>&nbsp;<a
                                href="#persistent.concurrency">并发</a></h3>
                        <div id="rfc.section.9.4.p.1">
                            <p>客户端应限制其对同一服务器维持的同时打开连接数。</p>
                        </div>
                        <div id="rfc.section.9.4.p.2">
                            <p>HTTP 的早期修订给出了具体的连接上限，但事实证明对许多应用不切实际。因此，本规范不强制规定特定的最大连接数，而是鼓励客户端在打开多连接时保持谨慎。</p>
                        </div>
                        <div id="rfc.section.9.4.p.3">
                            <p>通常使用多个连接以避免“队头阻塞”问题，即某个请求需要大量服务器端处理或传输非常大的内容会阻塞同一连接上的后续请求。然而，每个连接都会消耗服务器资源。</p>
                        </div>
                        <div id="rfc.section.9.4.p.4">
                            <p>此外，在拥塞网络中使用多个连接可能产生不良副作用。在非拥塞网络中使用更多连接也可能产生副作用，因为它们的整体且初始同步的发送行为可能导致原本不会出现的拥塞。</p>
                        </div>
                        <div id="rfc.section.9.4.p.5">
                            <p>请注意，服务器可能会拒绝其认为滥用或具有拒绝服务攻击特征的流量，例如来自单一客户端的过多打开连接。</p>
                        </div>
                    </section>
                    <section id="persistent.failures">
                        <h3 id="rfc.section.9.5"><a href="#rfc.section.9.5">9.5.</a>&nbsp;<a
                                href="#persistent.failures">失败与超时</a></h3>
                        <div id="rfc.section.9.5.p.1">
                            <p>服务器通常会设置某个超时值，超过该值将不再维持空闲连接。代理服务器可能将该值设得更高，因为客户端可能通过同一代理服务器发起更多连接。持久连接的使用并不对客户端或服务器的该超时长度（或存在与否）施加要求。
                            </p>
                        </div>
                        <div id="rfc.section.9.5.p.2">
                            <p>希望超时的客户端或服务器 <em class="bcp14">SHOULD</em> 对连接执行优雅关闭。实现 <em class="bcp14">SHOULD</em>
                                不断监测打开的连接是否收到了关闭信号并相应地处理，因为及时关闭连接的双方有助于回收已分配的系统资源。</p>
                        </div>
                        <div id="rfc.section.9.5.p.3">
                            <p>客户端、服务器或代理 <em class="bcp14">MAY</em>
                                在任何时候关闭传输连接。例如，客户端可能在服务器决定关闭“空闲”连接的同时开始发送新请求。从服务器角度看，连接是在空闲时被关闭；但从客户端角度看，请求正在进行中。</p>
                        </div>
                        <div id="rfc.section.9.5.p.4">
                            <p>服务器 <em class="bcp14">SHOULD</em>
                                在可能的情况下维持持久连接，并允许底层传输的流量控制机制来解决临时超载，而不是终止连接并期望客户端重试。后者技术可能会加剧网络拥塞或服务器负载。</p>
                        </div>
                        <div id="rfc.section.9.5.p.5">
                            <p>发送消息主体的客户端 <em class="bcp14">SHOULD</em>
                                在传输请求时监测网络连接以便检测错误响应。如果客户端看到响应表示服务器不希望接收消息主体并正在关闭连接，则客户端 <em class="bcp14">SHOULD</em>
                                立即停止传输主体并关闭其一侧的连接。</p>
                        </div>
                    </section>
                    <section id="persistent.tear-down">
                        <h3 id="rfc.section.9.6"><a href="#rfc.section.9.6">9.6.</a>&nbsp;<a
                                href="#persistent.tear-down">终止</a></h3>
                        <div id="rfc.section.9.6.p.1">
                            <p>"close" 连接选项被定义为发送方将在响应完成后关闭该连接的信号。当发送方打算关闭连接时，<em class="bcp14">SHOULD</em> 发送包含 "close"
                                连接选项的 <a href="rfc9110.html#field.connection" class="smpl">Connection</a> 首部字段（参见 <a
                                    href="rfc9110.html#field.connection" title="Connection">Section 7.6.1</a> of <a
                                    href="#HTTP" id="rfc.xref.HTTP.58"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>）。例如，</p>
                        </div>
                        <div id="rfc.section.9.6.p.2">
                            <pre class="text">Connection: close
</pre>
                        </div>
                        <div id="rfc.section.9.6.p.3">
                            <p>作为请求首部字段表示这是客户端将在该连接上发送的最后一个请求；而作为响应时，同样的字段表示服务器在响应消息完成后将关闭该连接。</p>
                        </div>
                        <div id="rfc.section.9.6.p.4">
                            <p id="field.close"><span id="rfc.iref.f.1"></span>注意字段名 "Close" 是保留的，因为将该名称用作首部字段可能与
                                "close" 连接选项冲突。</p>
                        </div>
                        <div id="rfc.section.9.6.p.5">
                            <p>发送了 "close" 连接选项的客户端 <em class="bcp14">MUST NOT</em> 在该连接上发送该包含 "close" 的请求之后的进一步请求，并且
                                <em class="bcp14">MUST</em> 在读取到与该请求对应的最终响应消息后关闭连接。
                            </p>
                        </div>
                        <div id="rfc.section.9.6.p.6">
                            <p>接收包含 "close" 连接选项的服务器 <em class="bcp14">MUST</em> 在向包含 "close"
                                连接选项的请求发送最终响应后启动连接关闭（见下文）。服务器 <em class="bcp14">SHOULD</em> 在该连接上的最终响应中发送 "close"
                                连接选项。服务器 <em class="bcp14">MUST NOT</em> 处理在该连接上随后接收到的任何请求。</p>
                        </div>
                        <div id="rfc.section.9.6.p.7">
                            <p>发送 "close" 连接选项的服务器 <em class="bcp14">MUST</em> 在发送包含 "close" 连接选项的响应后启动连接关闭（见下文）。服务器 <em
                                    class="bcp14">MUST NOT</em> 处理在该连接上随后接收到的任何请求。</p>
                        </div>
                        <div id="rfc.section.9.6.p.8">
                            <p>接收 "close" 连接选项的客户端 <em class="bcp14">MUST</em> 停止在该连接上发送请求，并在读取包含 "close"
                                连接选项的响应消息后关闭连接；如果该连接上已经发送了额外的管道化请求，客户端 <em class="bcp14">SHOULD NOT</em> 假定这些请求会被服务器处理。
                            </p>
                        </div>
                        <div id="rfc.section.9.6.p.9">
                            <p>如果服务器对 TCP 连接执行立即关闭，则存在客户端可能无法读取最后一个 HTTP
                                响应的重大风险。如果服务器在完全关闭的连接上从客户端接收到额外数据，例如客户端在接收服务器响应之前就发送了另一个请求，服务器的 TCP
                                栈将向客户端发送重置（reset）包；不幸的是，重置包可能在客户端的未确认输入缓冲被读取并由客户端的 HTTP 解析器解析之前擦除这些缓冲。</p>
                        </div>
                        <div id="rfc.section.9.6.p.10">
                            <p>为避免 TCP
                                重置问题，服务器通常分阶段关闭连接。首先，服务器通过仅关闭读/写连接的写入端来执行半关闭。然后服务器继续从连接中读取，直到收到客户端的相应关闭，或直到服务器合理确定其 TCP
                                栈已收到客户端对包含服务器最后响应的数据包的确认。最后，服务器完全关闭连接。</p>
                        </div>
                        <div id="rfc.section.9.6.p.11">
                            <p>尚不清楚重置问题是否仅限于 TCP，或是否也可能出现在其它传输连接协议中。</p>
                        </div>
                        <div id="rfc.section.9.6.p.12">
                            <p>注意客户端对连接执行半关闭并不界定一个请求消息，也不意味着客户端不再关心响应。通常，不能依赖传输信号来表示边界情况，因为 HTTP/1.1 与传输无关。</p>
                        </div>
                    </section>
                    <section id="tls.connection.initiation">
                        <h3 id="rfc.section.9.7"><a href="#rfc.section.9.7">9.7.</a>&nbsp;<a
                                href="#tls.connection.initiation">TLS 连接发起</a></h3>
                        <div id="rfc.section.9.7.p.1">
                            <p>概念上，HTTP/TLS 只是将 HTTP 消息通过经 TLS 保护的连接发送，详见 <a href="#TLS13" id="rfc.xref.TLS13.1"><cite
                                        title="The Transport Layer Security (TLS) Protocol Version 1.3">[TLS13]</cite></a>。
                            </p>
                        </div>
                        <div id="rfc.section.9.7.p.2">
                            <p>HTTP 客户端同时充当 TLS 客户端。它在适当端口向服务器发起连接并发送 TLS ClientHello 来开始 TLS 握手。当 TLS 握手完成后，客户端可以发起第一个
                                HTTP 请求。所有 HTTP 数据 <em class="bcp14">MUST</em> 作为 TLS 的“application
                                data”发送，但在其他方面与普通连接相同（包括可能作为持久连接重用）。</p>
                        </div>
                    </section>
                    <section id="tls.connection.closure">
                        <h3 id="rfc.section.9.8"><a href="#rfc.section.9.8">9.8.</a>&nbsp;<a
                                href="#tls.connection.closure">TLS 连接关闭</a></h3>
                        <div id="rfc.section.9.8.p.1">
                            <p>TLS 在（非错误的）连接关闭之前使用关闭告警的交换来提供安全的连接关闭；参见 <a
                                    href="https://www.rfc-editor.org/rfc/rfc8446.html#section-6.1">Section 6.1</a> of <a
                                    href="#TLS13" id="rfc.xref.TLS13.2"><cite
                                        title="The Transport Layer Security (TLS) Protocol Version 1.3">[TLS13]</cite></a>。当接收到有效的关闭告警时，实现可以确认在该连接上不会再收到进一步的数据。
                            </p>
                        </div>
                        <div id="rfc.section.9.8.p.2">
                            <p>当实现知道它已发送或接收到所有关心的消息数据时，通常通过检测 HTTP 消息边界，它可能生成一个“incomplete
                                close”，即发送关闭告警然后在未等待接收对端相应关闭告警的情况下关闭连接。</p>
                        </div>
                        <div id="rfc.section.9.8.p.3">
                            <p>不完整关闭不会影响已接收数据的安全性，但它可能表明后续数据可能已被截断。由于 TLS 并不直接感知 HTTP 消息分帧，因此需要检查 HTTP
                                数据本身以确定消息是否完整。不完整消息的处理在 <a href="#incomplete.messages"
                                    title="Handling Incomplete Messages">第 8 节</a> 中定义。</p>
                        </div>
                        <div id="rfc.section.9.8.p.4">
                            <p>在遇到不完整关闭时，客户端 <em class="bcp14">SHOULD</em> 将其认为已完成的所有请求限定为它已收到以下任一内容的请求：</p>
                        </div>
                        <div id="rfc.section.9.8.p.5">
                            <ol>
                                <li>已按 <a href="#body.content-length" class="smpl">Content-Length</a> 首部字段指定的长度接收到的数据，或
                                </li>
                                <li>终止分块时的零长度分块（当使用 chunked 传输编码时）。</li>
                            </ol>
                        </div>
                        <div id="rfc.section.9.8.p.6">
                            <p>既无分块传输编码也无 Content-Length 的响应仅在收到有效关闭告警时才被视为完整。将不完整消息视为完整可能使实现暴露于攻击风险。</p>
                        </div>
                        <div id="rfc.section.9.8.p.7">
                            <p>检测到不完整关闭的客户端 <em class="bcp14">SHOULD</em> 优雅地恢复。</p>
                        </div>
                        <div id="rfc.section.9.8.p.8">
                            <p>客户端 <em class="bcp14">MUST</em> 在关闭连接之前发送关闭告警。不再期望接收任何数据的客户端 <em class="bcp14">MAY</em>
                                选择不等待服务器的关闭告警并直接关闭连接，从而在服务器端生成不完整关闭。</p>
                        </div>
                        <div id="rfc.section.9.8.p.9">
                            <p>服务器 <em class="bcp14">SHOULD</em> 准备好接收来自客户端的不完整关闭，因为客户端通常能定位服务器数据的结束。</p>
                        </div>
                        <div id="rfc.section.9.8.p.10">
                            <p>服务器 <em class="bcp14">MUST</em> 在关闭连接之前尝试与客户端发起关闭告警的交换。服务器 <em class="bcp14">MAY</em>
                                在发送关闭告警后关闭连接，从而在客户端产生不完整关闭。</p>
                        </div>
                    </section>
                </section>
                <section id="enclosing.messages">
                    <h2 id="rfc.section.10"><a href="#rfc.section.10">10.</a>&nbsp;<a
                            href="#enclosing.messages">将消息作为数据封装</a></h2>
                    <section id="media.type.message.http">
                        <h3 id="rfc.section.10.1"><a href="#rfc.section.10.1">10.1.</a>&nbsp;<a
                                href="#media.type.message.http">媒体类型 message/http</a></h3>
                        <div id="rfc.section.10.1.p.1">
                            <p>"message/http" 媒体类型可用于封装单个 HTTP 请求或响应消息，前提是它遵守所有 "message" 类型在行长度和编码方面的 MIME
                                限制。由于行长度限制，"message/http" 中的字段值允许使用行折叠（<a href="#line.folding"
                                    class="smpl">obs-fold</a>），如 <a href="#line.folding" title="Obsolete Line Folding">第
                                    5.2 节</a> 所述，以便将字段值跨多行传递。接收 "message/http" 数据的实体 <em class="bcp14">MUST</em>
                                在使用该消息时将任何过时的行折叠替换为一个或多个 SP 字符。</p>
                        </div>
                        <div id="rfc.section.10.1.p.2">
                            <dl>
                                <dt>类型名：</dt>
                                <dd>message</dd>
                                <dt>子类型名：</dt>
                                <dd>http</dd>
                                <dt>必须参数：</dt>
                                <dd>N/A</dd>
                                <dt>可选参数：</dt>
                                <dd>
                                    <div>version, msgtype</div>
                                    <div>
                                        <dl>
                                            <dt>version：</dt>
                                            <dd>被封装消息的 HTTP 版本号（例如 "1.1"）。如果不存在，该版本可以从主体的第一行确定。</dd>
                                            <dt>msgtype：</dt>
                                            <dd>消息类型——"request" 或 "response"。如果不存在，该类型可以从主体的第一行确定。</dd>
                                        </dl>
                                    </div>
                                </dd>
                                <dt>编码注意事项：</dt>
                                <dd>仅允许 "7bit"、"8bit" 或 "binary"</dd>
                                <dt>安全注意事项：</dt>
                                <dd>参见 <a href="#security.considerations" title="Security Considerations">第 11 节</a>
                                </dd>
                                <dt>互操作性注意事项：</dt>
                                <dd>N/A</dd>
                                <dt>已发布规范：</dt>
                                <dd>RFC 9112（参见 <a href="#media.type.message.http" title="Media Type message/http">第
                                        10.1 节</a>）。</dd>
                                <dt>使用此媒体类型的应用：</dt>
                                <dd>N/A</dd>
                                <dt>片段标识符注意事项：</dt>
                                <dd>N/A</dd>
                                <dt>附加信息：</dt>
                                <dd>
                                    <div>
                                        <dl>
                                            <dt>魔术数字：</dt>
                                            <dd>N/A</dd>
                                            <dt>此类型的已弃用别名：</dt>
                                            <dd>N/A</dd>
                                            <dt>文件扩展名：</dt>
                                            <dd>N/A</dd>
                                            <dt>Macintosh 文件类型代码：</dt>
                                            <dd>N/A</dd>
                                        </dl>
                                    </div>
                                </dd>
                                <dt>用于进一步信息的联系人及电子邮件地址：</dt>
                                <dd>参见作者地址章节。</dd>
                                <dt>预期用途：</dt>
                                <dd>COMMON</dd>
                                <dt>使用限制：</dt>
                                <dd>N/A</dd>
                                <dt>作者：</dt>
                                <dd>参见作者地址章节。</dd>
                                <dt>变更控制者：</dt>
                                <dd>IESG</dd>
                            </dl>
                        </div>
                    </section>
                    <section id="media.type.application.http">
                        <h3 id="rfc.section.10.2"><a href="#rfc.section.10.2">10.2.</a>&nbsp;<a
                                href="#media.type.application.http">媒体类型 application/http</a></h3>
                        <div id="rfc.section.10.2.p.1">
                            <p>"application/http" 媒体类型可用于封装一条或多条 HTTP 请求或响应消息的管道（但不能混合请求与响应）。</p>
                        </div>
                        <div id="rfc.section.10.2.p.2">
                            <dl>
                                <dt>类型名：</dt>
                                <dd>application</dd>
                                <dt>子类型名：</dt>
                                <dd>http</dd>
                                <dt>必须参数：</dt>
                                <dd>N/A</dd>
                                <dt>可选参数：</dt>
                                <dd>
                                    <div>version, msgtype</div>
                                    <div>
                                        <dl>
                                            <dt>version：</dt>
                                            <dd>被封装消息的 HTTP 版本号（例如 "1.1"）。如果不存在，该版本可以从主体的第一行确定。</dd>
                                            <dt>msgtype：</dt>
                                            <dd>消息类型——"request" 或 "response"。如果不存在，该类型可以从主体的第一行确定。</dd>
                                        </dl>
                                    </div>
                                </dd>
                                <dt>编码注意事项：</dt>
                                <dd>此类型封装的 HTTP 消息为 "binary" 格式；通过电子邮件传输时需使用适当的 Content-Transfer-Encoding。</dd>
                                <dt>安全注意事项：</dt>
                                <dd>参见 <a href="#security.considerations" title="Security Considerations">第 11 节</a>
                                </dd>
                                <dt>互操作性注意事项：</dt>
                                <dd>N/A</dd>
                                <dt>已发布规范：</dt>
                                <dd>RFC 9112（参见 <a href="#media.type.application.http"
                                        title="Media Type application/http">第 10.2 节</a>）。</dd>
                                <dt>使用此媒体类型的应用：</dt>
                                <dd>N/A</dd>
                                <dt>片段标识符注意事项：</dt>
                                <dd>N/A</dd>
                                <dt>附加信息：</dt>
                                <dd>
                                    <div>
                                        <dl>
                                            <dt>此类型的已弃用别名：</dt>
                                            <dd>N/A</dd>
                                            <dt>魔术数字：</dt>
                                            <dd>N/A</dd>
                                            <dt>文件扩展名：</dt>
                                            <dd>N/A</dd>
                                            <dt>Macintosh 文件类型代码：</dt>
                                            <dd>N/A</dd>
                                        </dl>
                                    </div>
                                </dd>
                                <dt>用于进一步信息的联系人及电子邮件地址：</dt>
                                <dd>参见作者地址章节。</dd>
                                <dt>预期用途：</dt>
                                <dd>COMMON</dd>
                                <dt>使用限制：</dt>
                                <dd>N/A</dd>
                                <dt>作者：</dt>
                                <dd>参见作者地址章节。</dd>
                                <dt>变更控制者：</dt>
                                <dd>IESG</dd>
                            </dl>
                        </div>
                    </section>
                </section>
                <section id="security.considerations">
                    <h2 id="rfc.section.11"><a href="#rfc.section.11">11.</a>&nbsp;<a
                            href="#security.considerations">安全注意事项</a></h2>
                    <div id="rfc.section.11.p.1">
                        <p>本节旨在告知开发者、信息提供者和用户与 HTTP 消息语法和解析相关的已知安全注意事项。关于 HTTP 语义、内容和路由的安全注意事项，见 <a href="#HTTP"
                                id="rfc.xref.HTTP.59"><cite title="HTTP Semantics">[HTTP]</cite></a>。</p>
                    </div>
                    <section id="response.splitting">
                        <h3 id="rfc.section.11.1"><a href="#rfc.section.11.1">11.1.</a>&nbsp;<a
                                href="#response.splitting">响应分割</a></h3>
                        <div id="rfc.section.11.1.p.1">
                            <p>响应分割（又称 CRLF 注入）是一种常见手段，用于针对 Web 的各种攻击，利用了 HTTP 消息分帧的基于行的特性以及持久连接上请求与响应的有序关联 <a
                                    href="#Klein" id="rfc.xref.Klein.1"><cite
                                        title="Divide and Conquer - HTTP Response Splitting, Web Cache Poisoning Attacks, and Related Topics">[Klein]</cite></a>。当请求经过共享缓存时，该技术可能尤其具有破坏性。
                            </p>
                        </div>
                        <div id="rfc.section.11.1.p.2">
                            <p>响应分割利用服务器（通常在应用服务器中）的一个漏洞：攻击者可以在请求的某些参数中发送编码的数据，这些数据随后被解码并回显到响应的任一响应头字段中。如果解码后的数据被精心构造成看起来像响应已结束且随后的响应已开始，则响应被分割，攻击者即可控制表面上第二个响应的内容。随后攻击者可以在同一持久连接上发出任何其他请求，并欺骗接收者（包括中间体）相信被分割的后半部分是对第二个请求的权威响应。
                            </p>
                        </div>
                        <div id="rfc.section.11.1.p.3">
                            <p>例如，请求目标内的某个参数可能被应用服务器读取并在重定向时重用，导致该参数在响应的 <a href="rfc9110.html#field.location"
                                    class="smpl">Location</a> 头字段中被回显。如果应用对该参数进行了 URI 解码但在放入响应字段时未正确转义，攻击者就可以发送编码的 CRLF
                                八位元和其他内容，使应用的单个响应看起来像是两个或多个响应。</p>
                        </div>
                        <div id="rfc.section.11.1.p.4">
                            <p>防止响应分割的常见防御措施是过滤看起来像编码的 CR 和 LF（例如 "%0D" 和 "%0A"）的请求数据。然而，这假设应用服务器只执行 URI
                                解码，而不是更隐蔽的数据转换（如字符集转码、XML 实体转换、base64 解码、sprintf
                                重格式化等）。更有效的缓解措施是禁止除服务器核心协议库之外的任何组件在首部节内发送 CR 或 LF，这意味着限制头字段输出仅使用能过滤不良八位元的
                                API，而不允许应用服务器直接写入协议流。</p>
                        </div>
                    </section>
                    <section id="request.smuggling">
                        <h3 id="rfc.section.11.2"><a href="#rfc.section.11.2">11.2.</a>&nbsp;<a
                                href="#request.smuggling">请求走私</a></h3>
                        <div id="rfc.section.11.2.p.1">
                            <p>请求走私（<a href="#Linhart" id="rfc.xref.Linhart.1"><cite
                                        title="HTTP Request Smuggling">[Linhart]</cite></a>）是一种利用不同接收方在协议解析上差异的技术，用以在看似无害的请求中隐藏额外请求（这些请求本可能被策略阻止或禁用）。与响应分割类似，请求走私可导致对
                                HTTP 使用的各种攻击。</p>
                        </div>
                        <div id="rfc.section.11.2.p.2">
                            <p>本规范在请求解析方面引入了新的要求，尤其涉及第 <a href="#message.body.length" title="Message Body Length">6.3
                                    节</a> 中的消息分帧，以降低请求走私的有效性。</p>
                        </div>
                    </section>
                    <section id="message.integrity">
                        <h3 id="rfc.section.11.3"><a href="#rfc.section.11.3">11.3.</a>&nbsp;<a
                                href="#message.integrity">消息完整性</a></h3>
                        <div id="rfc.section.11.3.p.1">
                            <p>HTTP 不定义确保消息完整性的具体机制，而是依赖底层传输协议的差错检测能力以及使用长度或分块分界来检测完整性。从历史上看，缺乏单一完整性机制被认为可以接受，因为大多数 HTTP
                                通信属于非正式性质。然而，HTTP 作为信息访问机制的普及导致其越来越多地被用于需要验证消息完整性的环境。</p>
                        </div>
                        <div id="rfc.section.11.3.p.2">
                            <p>"https" 方案提供的机制（例如经认证的加密）可防止消息被篡改。然而需要注意，必须防止连接关闭被用于截断消息（见 <a
                                    href="#tls.connection.closure" title="TLS Connection Closure">第 9.8
                                    节</a>）。用户代理可能拒绝接受不完整消息或对其做特别处理。例如，用于查看病历或药物相互作用信息的浏览器需要在检测到协议传输中信息不完整、过期或损坏时向用户指示。这类机制可能通过用户代理扩展或在响应中包含消息完整性元数据时选择性启用。
                            </p>
                        </div>
                        <div id="rfc.section.11.3.p.3">
                            <p>"http" 方案不提供保护来防止消息被意外或恶意修改。</p>
                        </div>
                        <div id="rfc.section.11.3.p.4">
                            <p>可通过扩展协议来缓解中间体对消息进行非期望修改的风险，即使在使用 "https" 方案时也是如此。可以通过在消息中选择性添加可扩展元数据字段的消息认证码或数字签名来保证完整性。
                            </p>
                        </div>
                    </section>
                    <section id="message.confidentiality">
                        <h3 id="rfc.section.11.4"><a href="#rfc.section.11.4">11.4.</a>&nbsp;<a
                                href="#message.confidentiality">消息机密性</a></h3>
                        <div id="rfc.section.11.4.p.1">
                            <p>当需要消息机密性时，HTTP 依赖底层传输协议来提供。HTTP 被特别设计为与传输协议无关，以便可在多种加密连接形式上使用，选择此类传输通常由 URI 方案或用户代理配置决定。
                            </p>
                        </div>
                        <div id="rfc.section.11.4.p.2">
                            <p>"https" 方案可用于标识需要机密连接的资源，如 <a href="rfc9110.html#https.uri"
                                    title="https URI Scheme">RFC9110 第 4.2.2 节</a> 所述。</p>
                        </div>
                    </section>
                </section>
                <section id="IANA.considerations">
                    <h2 id="rfc.section.12"><a href="#rfc.section.12">12.</a>&nbsp;<a href="#IANA.considerations">IANA
                            注意事项</a></h2>
                    <div id="rfc.section.12.p.1">
                        <p>下列注册的变更控制者为："IETF (iesg@ietf.org) - Internet Engineering Task Force"。</p>
                    </div>
                    <section id="field.name.registration">
                        <h3 id="rfc.section.12.1"><a href="#rfc.section.12.1">12.1.</a>&nbsp;<a
                                href="#field.name.registration">字段名注册</a></h3>
                        <div id="rfc.section.12.1.p.1">
                            <p>IANA 已将下列字段名称添加到 "Hypertext Transfer Protocol (HTTP) Field Name Registry"（位于 <a
                                    href="https://www.iana.org/assignments/http-fields">https://www.iana.org/assignments/http-fields</a>），如
                                <a href="rfc9110.html#field.name.registration" title="Field Name Registration">RFC9110 第
                                    18.4 节</a> 所述。
                            </p>
                        </div>
                        <div class="table table-condensed table-striped" id="iana.header.registration.table">
                            <table class="v3 tleft">
                                <caption>表 1</caption>
                                <thead>
                                    <tr>
                                        <th class="text-left">字段名</th>
                                        <th class="text-left">状态</th>
                                        <th class="text-left">节</th>
                                        <th class="text-left">注释</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-left">Close</td>
                                        <td class="text-left">permanent</td>
                                        <td class="text-left"><a href="#persistent.tear-down"
                                                id="rfc.xref.persistent.tear-down.3" title="Tear-down">9.6</a> </td>
                                        <td class="text-left">(reserved)</td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">MIME-Version</td>
                                        <td class="text-left">permanent</td>
                                        <td class="text-left"><a href="#mime-version" id="rfc.xref.mime-version.1"
                                                title="MIME-Version">B.1</a> </td>
                                        <td class="text-left"></td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">Transfer-Encoding</td>
                                        <td class="text-left">permanent</td>
                                        <td class="text-left"><a href="#field.transfer-encoding"
                                                id="rfc.xref.field.transfer-encoding.3"
                                                title="Transfer-Encoding">6.1</a> </td>
                                        <td class="text-left"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                    <section id="media.type.http">
                        <h3 id="rfc.section.12.2"><a href="#rfc.section.12.2">12.2.</a>&nbsp;<a
                                href="#media.type.http">媒体类型注册</a></h3>
                        <div id="rfc.section.12.2.p.1">
                            <p>IANA 已根据第 <a href="#media.type.message.http" title="Media Type message/http">10.1 节</a>
                                和第 <a href="#media.type.application.http" title="Media Type application/http">10.2 节</a>
                                的注册信息，更新了 "Media Types" 注册表（位于 <a
                                    href="https://www.iana.org/assignments/media-types">https://www.iana.org/assignments/media-types</a>），以包含
                                "message/http" 和 "application/http" 媒体类型的注册信息。</p>
                        </div>
                    </section>
                    <section id="transfer.coding.registration">
                        <h3 id="rfc.section.12.3"><a href="#rfc.section.12.3">12.3.</a>&nbsp;<a
                                href="#transfer.coding.registration">传输编码注册</a></h3>
                        <div id="rfc.section.12.3.p.1">
                            <p>IANA 已根据 <a href="#transfer.coding.registry" title="Transfer Coding Registry">第 7.3 节</a>
                                的注册程序，更新了 "HTTP Transfer Coding Registry"（位于 <a
                                    href="https://www.iana.org/assignments/http-parameters/">https://www.iana.org/assignments/http-parameters/</a>），并在下表中汇总了内容编码名称。
                            </p>
                        </div>
                        <div class="table table-condensed table-striped" id="iana.transfer.coding.registration.table">
                            <table class="v3 tleft">
                                <caption>表 2</caption>
                                <thead>
                                    <tr>
                                        <th class="text-left">名称</th>
                                        <th class="text-left">描述</th>
                                        <th class="text-left">节</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-left">chunked</td>
                                        <td class="text-left">以一系列分块传输</td>
                                        <td class="text-left"><a href="#chunked.encoding"
                                                title="Chunked Transfer Coding">7.1</a></td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">compress</td>
                                        <td class="text-left">UNIX "compress" 数据格式 <a href="#Welch"
                                                id="rfc.xref.Welch.1"><cite
                                                    title="A Technique for High-Performance Data Compression">[Welch]</cite></a>
                                        </td>
                                        <td class="text-left"><a href="#compression.codings"
                                                title="Transfer Codings for Compression">7.2</a></td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">deflate</td>
                                        <td class="text-left">"deflate" 压缩数据（在 "zlib" 数据格式内） (<a href="#RFC1951"
                                                id="rfc.xref.RFC1951.1"><cite
                                                    title="DEFLATE Compressed Data Format Specification version 1.3">[RFC1951]</cite></a>
                                            在 <a href="#RFC1950" id="rfc.xref.RFC1950.1"><cite
                                                    title="ZLIB Compressed Data Format Specification version 3.3">[RFC1950]</cite></a>
                                            中定义)</td>
                                        <td class="text-left"><a href="#compression.codings"
                                                title="Transfer Codings for Compression">7.2</a></td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">gzip</td>
                                        <td class="text-left">GZIP 文件格式 <a href="#RFC1952" id="rfc.xref.RFC1952.1"><cite
                                                    title="GZIP file format specification version 4.3">[RFC1952]</cite></a>
                                        </td>
                                        <td class="text-left"><a href="#compression.codings"
                                                title="Transfer Codings for Compression">7.2</a></td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">trailers</td>
                                        <td class="text-left">(reserved)</td>
                                        <td class="text-left"><a href="#transfer.coding.registration"
                                                title="Transfer Coding Registration">12.3</a></td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">x-compress</td>
                                        <td class="text-left">已弃用（为 compress 的别名）</td>
                                        <td class="text-left"><a href="#compression.codings"
                                                title="Transfer Codings for Compression">7.2</a></td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">x-gzip</td>
                                        <td class="text-left">已弃用（为 gzip 的别名）</td>
                                        <td class="text-left"><a href="#compression.codings"
                                                title="Transfer Codings for Compression">7.2</a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div id="rfc.section.12.3.p.2">
                            <aside>
                                <div id="rfc.section.12.3.p.2.1">
                                    <p><b>注意：</b>编码名称 "trailers" 被保留，因为其使用将与 <a href="rfc9110.html#field.te"
                                            class="smpl">TE</a> 首部字段中的关键字 "trailers" 冲突（见 <a
                                            href="rfc9110.html#field.te" title="TE">RFC9110 第 10.1.4 节</a>）。</p>
                                </div>
                            </aside>
                        </div>
                    </section>
                    <section id="alpn.registration">
                        <h3 id="rfc.section.12.4"><a href="#rfc.section.12.4">12.4.</a>&nbsp;<a
                                href="#alpn.registration">ALPN 协议 ID 注册</a></h3>
                        <div id="rfc.section.12.4.p.1" class="avoidbreakafter">
                            <p>IANA 已在 "TLS Application-Layer Protocol Negotiation (ALPN) Protocol IDs" 注册表（位于 <a
                                    href="https://www.iana.org/assignments/tls-extensiontype-values/">https://www.iana.org/assignments/tls-extensiontype-values/</a>）中更新了如下注册信息：
                            </p>
                        </div>
                        <div class="table table-condensed table-striped">
                            <table class="v3 text-center">
                                <caption>表 3</caption>
                                <thead>
                                    <tr>
                                        <th class="text-left">协议</th>
                                        <th class="text-left">标识序列</th>
                                        <th class="text-left">参考</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-left">HTTP/1.1</td>
                                        <td class="text-left">0x68 0x74 0x74 0x70 0x2f 0x31 0x2e 0x31 ("http/1.1")</td>
                                        <td class="text-left">RFC 9112</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                </section>
                <section id="rfc.references">
                    <h2 id="rfc.section.13"><a href="#rfc.section.13">13.</a> 参考文献</h2>
                    <section>
                        <div id="rfc.references.1">
                            <h3 id="rfc.section.13.1"><a href="#rfc.section.13.1">13.1.</a> 规范性参考文献</h3>
                            <dl class="dl-horizontal">
                                <dt id="CACHING">[<a href="#CACHING" class="smpl">CACHING</a>]</dt>
                                <dd>Fielding, R., 编辑；Nottingham, M., 编辑；J. Reschke, 编辑，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc9111.html">HTTP Caching</a>”，STD 98，RFC
                                    9111，DOI 10.17487/RFC9111，2022 年 6 月。</dd>
                                <dt id="HTTP">[<a href="#HTTP" class="smpl">HTTP</a>]</dt>
                                <dd>Fielding, R., 编辑；Nottingham, M., 编辑；J. Reschke, 编辑，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc9110.html">HTTP Semantics</a>”，STD
                                    97，RFC 9110，DOI 10.17487/RFC9110，2022 年 6 月。</dd>
                                <dt id="RFC1950">[<a href="#RFC1950" class="smpl">RFC1950</a>]</dt>
                                <dd>Deutsch, P. 与 J-L. Gailly，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc1950.html">ZLIB Compressed Data Format
                                        Specification version 3.3</a>”，RFC 1950，DOI 10.17487/RFC1950，1996 年 5 月。</dd>
                                <dt id="RFC1951">[<a href="#RFC1951" class="smpl">RFC1951</a>]</dt>
                                <dd>Deutsch, P.，“<a href="https://www.rfc-editor.org/rfc/rfc1951.html">DEFLATE
                                        Compressed Data Format Specification version 1.3</a>”，RFC 1951，DOI
                                    10.17487/RFC1951，1996 年 5 月。</dd>
                                <dt id="RFC1952">[<a href="#RFC1952" class="smpl">RFC1952</a>]</dt>
                                <dd>Deutsch, P.，“<a href="https://www.rfc-editor.org/rfc/rfc1952.html">GZIP file format
                                        specification version 4.3</a>”，RFC 1952，DOI 10.17487/RFC1952，1996 年 5 月。</dd>
                                <dt id="RFC2119">[<a href="#RFC2119" class="smpl">RFC2119</a>]</dt>
                                <dd>Bradner, S.，“<a href="https://www.rfc-editor.org/rfc/rfc2119.html">Key words for use
                                        in RFCs to Indicate Requirement Levels</a>”，BCP 14，RFC 2119，DOI
                                    10.17487/RFC2119，1997 年 3 月。</dd>
                                <dt id="RFC5234">[<a href="#RFC5234" class="smpl">RFC5234</a>]</dt>
                                <dd>Crocker, D., 编辑；P. Overell，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc5234.html">Augmented BNF for Syntax
                                        Specifications: ABNF</a>”，STD 68，RFC 5234，DOI 10.17487/RFC5234，2008 年 1 月。</dd>
                                <dt id="RFC7405">[<a href="#RFC7405" class="smpl">RFC7405</a>]</dt>
                                <dd>Kyzivat, P.，“<a href="https://www.rfc-editor.org/rfc/rfc7405.html">Case-Sensitive
                                        String Support in ABNF</a>”，RFC 7405，DOI 10.17487/RFC7405，2014 年 12 月。</dd>
                                <dt id="RFC8174">[<a href="#RFC8174" class="smpl">RFC8174</a>]</dt>
                                <dd>Leiba, B.，“<a href="https://www.rfc-editor.org/rfc/rfc8174.html">Ambiguity of
                                        Uppercase vs Lowercase in RFC 2119 Key Words</a>”，BCP 14，RFC 8174，DOI
                                    10.17487/RFC8174，2017 年 5 月。</dd>
                                <dt id="TLS13">[<a href="#TLS13" class="smpl">TLS13</a>]</dt>
                                <dd>Rescorla, E.，“<a href="https://www.rfc-editor.org/rfc/rfc8446.html">The Transport
                                        Layer Security (TLS) Protocol Version 1.3</a>”，RFC 8446，DOI
                                    10.17487/RFC8446，2018 年 8 月。</dd>
                                <dt id="URI">[<a href="#URI" class="smpl">URI</a>]</dt>
                                <dd>Berners-Lee, T., Fielding, R., 与 L. Masinter，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc3986.html">Uniform Resource Identifier
                                        (URI): Generic Syntax</a>”，STD 66，RFC 3986，DOI 10.17487/RFC3986，2005 年 1 月。</dd>
                                <dt id="USASCII">[<a href="#USASCII" class="smpl">USASCII</a>]</dt>
                                <dd>American National Standards Institute，“Coded Character Set -- 7-bit American
                                    Standard Code for Information Interchange”，ANSI X3.4，1986 年。</dd>
                                <dt id="Welch">[<a href="#Welch" class="smpl">Welch</a>]</dt>
                                <dd>Welch, T.，“<a href="https://ieeexplore.ieee.org/document/1659158/">A Technique for
                                        High-Performance Data Compression</a>”，IEEE Computer 17(6)，DOI
                                    10.1109/MC.1984.1659158，1984 年 6 月。</dd>
                            </dl>
                        </div>
                    </section>
                    <section id="informative.references">
                        <div id="rfc.references.2">
                            <h3 id="rfc.section.13.2"><a href="#rfc.section.13.2">13.2.</a> 参考性参考文献</h3>
                            <dl class="dl-horizontal">
                                <dt id="HTTP10">[<a href="#HTTP10" class="smpl">HTTP/1.0</a>]</dt>
                                <dd>Berners-Lee, T., Fielding, R., 与 H. Frystyk，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc1945.html">Hypertext Transfer Protocol
                                        -- HTTP/1.0</a>”，RFC 1945，DOI 10.17487/RFC1945，1996 年 5 月。</dd>
                                <dt id="Klein">[<a href="#Klein" class="smpl">Klein</a>]</dt>
                                <dd>Klein, A.，“<a
                                        href="https://packetstormsecurity.com/papers/general/whitepaper_httpresponse.pdf">Divide
                                        and Conquer - HTTP Response Splitting, Web Cache Poisoning Attacks, and Related
                                        Topics</a>”，2004 年 3 月。</dd>
                                <dt id="Linhart">[<a href="#Linhart" class="smpl">Linhart</a>]</dt>
                                <dd>Linhart, C., Klein, A., Heled, R., 与 S. Orrin，“<a
                                        href="https://www.cgisecurity.com/lib/HTTP-Request-Smuggling.pdf">HTTP Request
                                        Smuggling</a>”，2005 年 6 月。</dd>
                                <dt id="RFC2045">[<a href="#RFC2045" class="smpl">RFC2045</a>]</dt>
                                <dd>Freed, N. 与 N. Borenstein，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc2045.html">Multipurpose Internet Mail
                                        Extensions (MIME) Part One: Format of Internet Message Bodies</a>”，RFC 2045，DOI
                                    10.17487/RFC2045，1996 年 11 月。</dd>
                                <dt id="RFC2046">[<a href="#RFC2046" class="smpl">RFC2046</a>]</dt>
                                <dd>Freed, N. 与 N. Borenstein，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc2046.html">Multipurpose Internet Mail
                                        Extensions (MIME) Part Two: Media Types</a>”，RFC 2046，DOI 10.17487/RFC2046，1996
                                    年 11 月。</dd>
                                <dt id="RFC2049">[<a href="#RFC2049" class="smpl">RFC2049</a>]</dt>
                                <dd>Freed, N. 与 N. Borenstein，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc2049.html">Multipurpose Internet Mail
                                        Extensions (MIME) Part Five: Conformance Criteria and Examples</a>”，RFC 2049，DOI
                                    10.17487/RFC2049，1996 年 11 月。</dd>
                                <dt id="RFC2068">[<a href="#RFC2068" class="smpl">RFC2068</a>]</dt>
                                <dd>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., 与 T. Berners-Lee，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc2068.html">Hypertext Transfer Protocol
                                        -- HTTP/1.1</a>”，RFC 2068，DOI 10.17487/RFC2068，1997 年 1 月。</dd>
                                <dt id="RFC2557">[<a href="#RFC2557" class="smpl">RFC2557</a>]</dt>
                                <dd>Palme, J., Hopmann, A., 与 N. Shelness，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc2557.html">MIME Encapsulation of
                                        Aggregate Documents, such as HTML (MHTML)</a>”，RFC 2557，DOI
                                    10.17487/RFC2557，1999 年 3 月。</dd>
                                <dt id="RFC5322">[<a href="#RFC5322" class="smpl">RFC5322</a>]</dt>
                                <dd>Resnick, P., 编辑，“<a href="https://www.rfc-editor.org/rfc/rfc5322.html">Internet
                                        Message Format</a>”，RFC 5322，DOI 10.17487/RFC5322，2008 年 10 月。</dd>
                                <dt id="RFC7230">[<a href="#RFC7230" class="smpl">RFC7230</a>]</dt>
                                <dd>Fielding, R., 编辑；J. Reschke, 编辑，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc7230.html">Hypertext Transfer Protocol
                                        (HTTP/1.1): Message Syntax and Routing</a>”，RFC 7230，DOI 10.17487/RFC7230，2014 年
                                    6 月。</dd>
                                <dt id="RFC8126">[<a href="#RFC8126" class="smpl">RFC8126</a>]</dt>
                                <dd>Cotton, M., Leiba, B., 与 T. Narten，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc8126.html">Guidelines for Writing an
                                        IANA Considerations Section in RFCs</a>”，BCP 26，RFC 8126，DOI
                                    10.17487/RFC8126，2017 年 6 月。</dd>
                            </dl>
                        </div>
                    </section>
                </section>
                <section id="collected.abnf">
                    <h2 id="rfc.section.A" class="np"><a href="#rfc.section.A">附录 A.</a>&nbsp;<a
                            href="#collected.abnf">汇总的 ABNF</a></h2>
                    <div id="rfc.section.A.p.1">
                        <p>在下列汇总的 ABNF 中，列表规则已按照 <a href="rfc9110.html#abnf.extension"
                                title="Lists (#rule ABNF Extension">第 5.6.1 节</a> 的规定展开（见 <a href="#HTTP"
                                id="rfc.xref.HTTP.63"><cite title="HTTP Semantics">[HTTP]</cite></a>）。</p>
                    </div>
                    <div id="rfc.section.A.p.2">
                        <pre class="inline prettyprint lang-ietf_abnf"><a href="rfc9110.html#whitespace" class="smpl">BWS</a> = &lt;BWS, see <a href="#HTTP" id="rfc.xref.HTTP.64"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.6.3">Section 5.6.3</a>&gt;

<a href="#message.format" class="smpl">HTTP-message</a> = start-line CRLF *( field-line CRLF ) CRLF [
 message-body ]
<a href="#http.version" class="smpl">HTTP-name</a> = %x48.54.54.50 ; HTTP
<a href="#http.version" class="smpl">HTTP-version</a> = HTTP-name "/" DIGIT "." DIGIT

<a href="rfc9110.html#whitespace" class="smpl">OWS</a> = &lt;OWS, see <a href="#HTTP" id="rfc.xref.HTTP.65"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.6.3">Section 5.6.3</a>&gt;

<a href="rfc9110.html#whitespace" class="smpl">RWS</a> = &lt;RWS, see <a href="#HTTP" id="rfc.xref.HTTP.66"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.6.3">Section 5.6.3</a>&gt;

<a href="#field.transfer-encoding" class="smpl">Transfer-Encoding</a> = [ transfer-coding *( OWS "," OWS transfer-coding
 ) ]

<a href="#imported.uri.rules" class="smpl">absolute-URI</a> = &lt;absolute-URI, see <a href="#URI" id="rfc.xref.URI.7"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</cite></a>, <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-4.3">Section 4.3</a>&gt;
<a href="#absolute-form" class="smpl">absolute-form</a> = absolute-URI
<a href="#imported.rules" class="smpl">absolute-path</a> = &lt;absolute-path, see <a href="#HTTP" id="rfc.xref.HTTP.67"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.4.1">Section 4.1</a>&gt;
<a href="#asterisk-form" class="smpl">asterisk-form</a> = "*"
<a href="#imported.uri.rules" class="smpl">authority</a> = &lt;authority, see <a href="#URI" id="rfc.xref.URI.8"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</cite></a>, <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-3.2">Section 3.2</a>&gt;
<a href="#authority-form" class="smpl">authority-form</a> = uri-host ":" port

<a href="#chunked.encoding" class="smpl">chunk</a> = chunk-size [ chunk-ext ] CRLF chunk-data CRLF
<a href="#chunked.encoding" class="smpl">chunk-data</a> = 1*OCTET
<a href="#chunked.extension" class="smpl">chunk-ext</a> = *( BWS ";" BWS chunk-ext-name [ BWS "=" BWS chunk-ext-val
 ] )
<a href="#chunked.extension" class="smpl">chunk-ext-name</a> = token
<a href="#chunked.extension" class="smpl">chunk-ext-val</a> = token / quoted-string
<a href="#chunked.encoding" class="smpl">chunk-size</a> = 1*HEXDIG
<a href="#chunked.encoding" class="smpl">chunked-body</a> = *chunk last-chunk trailer-section CRLF

<a href="#header.field.syntax" class="smpl">field-line</a> = field-name ":" OWS field-value OWS
<a href="#imported.rules" class="smpl">field-name</a> = &lt;field-name, see <a href="#HTTP" id="rfc.xref.HTTP.68"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.1">Section 5.1</a>&gt;
<a href="#imported.rules" class="smpl">field-value</a> = &lt;field-value, see <a href="#HTTP" id="rfc.xref.HTTP.69"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.5">Section 5.5</a>&gt;

<a href="#chunked.encoding" class="smpl">last-chunk</a> = 1*"0" [ chunk-ext ] CRLF

<a href="#message.body" class="smpl">message-body</a> = *OCTET
<a href="#request.method" class="smpl">method</a> = token

<a href="#line.folding" class="smpl">obs-fold</a> = OWS CRLF RWS
<a href="#imported.rules" class="smpl">obs-text</a> = &lt;obs-text, see <a href="#HTTP" id="rfc.xref.HTTP.70"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.6.4">Section 5.6.4</a>&gt;
<a href="#origin-form" class="smpl">origin-form</a> = absolute-path [ "?" query ]

<a href="rfc9110.html#uri.references" class="smpl">port</a> = &lt;port, see <a href="#URI" id="rfc.xref.URI.9"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</cite></a>, <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-3.2.3">Section 3.2.3</a>&gt;

<a href="#imported.uri.rules" class="smpl">query</a> = &lt;query, see <a href="#URI" id="rfc.xref.URI.10"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</cite></a>, <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-3.4">Section 3.4</a>&gt;
<a href="#imported.rules" class="smpl">quoted-string</a> = &lt;quoted-string, see <a href="#HTTP" id="rfc.xref.HTTP.71"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.6.4">Section 5.6.4</a>&gt;

<a href="#status.line" class="smpl">reason-phrase</a> = 1*( HTAB / SP / VCHAR / obs-text )
<a href="#request.line" class="smpl">request-line</a> = method SP request-target SP HTTP-version
<a href="#request.target" class="smpl">request-target</a> = origin-form / absolute-form / authority-form /
 asterisk-form

<a href="#message.format" class="smpl">start-line</a> = request-line / status-line
<a href="#status.line" class="smpl">status-code</a> = 3DIGIT
<a href="#status.line" class="smpl">status-line</a> = HTTP-version SP status-code SP [ reason-phrase ]

<a href="#imported.rules" class="smpl">token</a> = &lt;token, see <a href="#HTTP" id="rfc.xref.HTTP.72"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.6.2">Section 5.6.2</a>&gt;
<a href="#chunked.trailer.section" class="smpl">trailer-section</a> = *( field-line CRLF )
<a href="rfc9110.html#field.te" class="smpl">transfer-coding</a> = &lt;transfer-coding, see <a href="#HTTP" id="rfc.xref.HTTP.73"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.10.1.4">Section 10.1.4</a>&gt;

<a href="rfc9110.html#uri.references" class="smpl">uri-host</a> = &lt;host, see <a href="#URI" id="rfc.xref.URI.11"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[URI]</cite></a>, <a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-3.2.2">Section 3.2.2</a>&gt;
</pre>
                    </div>
                </section>
                <section id="differences.between.http.and.mime">
                    <h2 id="rfc.section.B"><a href="#rfc.section.B">附录 B.</a>&nbsp;<a
                            href="#differences.between.http.and.mime">HTTP 与 MIME 的差异</a></h2>
                    <div id="rfc.section.B.p.1">
                        <p>HTTP/1.1 使用了许多为 Internet Message Format <a href="#RFC5322" id="rfc.xref.RFC5322.2"><cite
                                    title="Internet Message Format">[RFC5322]</cite></a> 和多用途互联网邮件扩展（MIME） <a
                                href="#RFC2045" id="rfc.xref.RFC2045.3"><cite
                                    title="Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies">[RFC2045]</cite></a>
                            定义的构造来允许以多种表示形式传输消息主体并使用可扩展字段。但其中一些构造已被重新解释以更好地满足交互式通信的需求，导致 MIME 构造在 HTTP
                            中的使用方式出现差异。这些差异是经过慎重选择以优化在二进制连接上的性能、允许更灵活地使用新媒体类型、简化日期比较并兼容常见实现。</p>
                    </div>
                    <div id="rfc.section.B.p.2">
                        <p>本附录描述了 HTTP 与 MIME 在具体方面的差异。代理和网关在与严格 MIME 环境互通时需要注意这些差异并在必要时提供相应的转换。</p>
                    </div>
                    <section id="mime-version">
                        <h3 id="rfc.section.B.1"><a href="#rfc.section.B.1">B.1.</a>&nbsp;<a
                                href="#mime-version">MIME-Version</a></h3>
                        <div id="rfc.section.B.1.p.1">
                            <p>HTTP 并非严格遵循 MIME 协议。然而，消息可以包含单个 MIME-Version 首部字段以指示用于构造该消息的 MIME 协议版本。使用 MIME-Version
                                首部字段表示该消息完全符合 MIME 协议（如 <a href="#RFC2045" id="rfc.xref.RFC2045.4"><cite
                                        title="Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies">[RFC2045]</cite></a>
                                所定义）。在将 HTTP 消息导出到严格的 MIME 环境时，发送方有责任在可能的情况下确保完全符合。</p>
                        </div>
                    </section>
                    <section id="conversion.to.canonical.form">
                        <h3 id="rfc.section.B.2"><a href="#rfc.section.B.2">B.2.</a>&nbsp;<a
                                href="#conversion.to.canonical.form">转换到规范形式</a></h3>
                        <div id="rfc.section.B.2.p.1">
                            <p>MIME 要求在传输之前将 Internet 邮件的实体部分转换为规范形式，如 <a
                                    href="https://www.rfc-editor.org/rfc/rfc2049.html#section-4">RFC2049 第 4 节</a>
                                所述，并且类型为 "text" 的内容必须将行分隔表示为 CRLF，禁止在行分隔序列之外使用裸 CR 或裸 LF（见 <a href="#RFC2046"
                                    id="rfc.xref.RFC2046.1"><cite
                                        title="Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types">[RFC2046]</cite></a>）。相比之下，HTTP
                                并不关心内容中是否使用 CRLF、裸 CR 或裸 LF 来表示行分隔。</p>
                        </div>
                        <div id="rfc.section.B.2.p.2">
                            <p>从 HTTP 到严格 MIME 环境的代理或网关应将文本媒体类型内的所有行分隔转换为 RFC 2049 要求的 CRLF 规范形式。但需注意，这可能因存在 <a
                                    href="rfc9110.html#field.content-encoding" class="smpl">Content-Encoding</a> 而变得复杂，且
                                HTTP 允许使用某些字符集，这些字符集中并不使用八位元 13 和 10 来表示 CR 与 LF。</p>
                        </div>
                        <div id="rfc.section.B.2.p.3">
                            <p>若原始内容已带有任何加密校验和，则转换会破坏这些校验和，除非原始内容已处于规范形式。因此，建议对使用此类校验和的 HTTP 内容采用规范形式。</p>
                        </div>
                    </section>
                    <section id="conversion.of.date.formats">
                        <h3 id="rfc.section.B.3"><a href="#rfc.section.B.3">B.3.</a>&nbsp;<a
                                href="#conversion.of.date.formats">日期格式转换</a></h3>
                        <div id="rfc.section.B.3.p.1">
                            <p>HTTP/1.1 使用受限的日期格式集（参见 <a href="rfc9110.html#http.date" title="Date/Time Formats">RFC9110
                                    第 5.6.7 节</a>）以简化日期比较。来自其它协议的代理和网关应确保消息中的任何 <a href="rfc9110.html#field.date"
                                    class="smpl">Date</a> 首部字段符合 HTTP/1.1 的格式之一，并在必要时重写该日期。</p>
                        </div>
                    </section>
                    <section id="conversion.of.content-encoding">
                        <h3 id="rfc.section.B.4"><a href="#rfc.section.B.4">B.4.</a>&nbsp;<a
                                href="#conversion.of.content-encoding">内容编码的转换</a></h3>
                        <div id="rfc.section.B.4.p.1">
                            <p>MIME 并不包含与 HTTP 的 <a href="rfc9110.html#field.content-encoding"
                                    class="smpl">Content-Encoding</a> 首部字段等价的概念。由于该字段作为媒体类型的修饰器，HTTP 到 MIME 的代理和网关应当要么更改
                                <a href="rfc9110.html#field.content-type" class="smpl">Content-Type</a>
                                首部的值，要么在转发消息之前对表示进行解码。（一些用于 Internet 邮件的试验性 Content-Type 用法通过参数
                                ";conversions=&lt;content-coding&gt;" 提供了类似功能，但该参数并非 MIME 标准的一部分。）
                            </p>
                        </div>
                    </section>
                    <section id="conversion.of.content-transfer-encoding">
                        <h3 id="rfc.section.B.5"><a href="#rfc.section.B.5">B.5.</a>&nbsp;<a
                                href="#conversion.of.content-transfer-encoding">Content-Transfer-Encoding 的转换</a></h3>
                        <div id="rfc.section.B.5.p.1">
                            <p>HTTP 不使用 MIME 的 Content-Transfer-Encoding 字段。从 MIME 合规协议到 HTTP 的代理和网关需要在将响应消息传递给 HTTP
                                客户端之前移除任何 Content-Transfer-Encoding。</p>
                        </div>
                        <div id="rfc.section.B.5.p.2">
                            <p>从 HTTP 到 MIME 合规协议的代理和网关负责确保消息以适当的格式和编码进行转换，以便在目标协议上安全传输，“安全传输”由所使用协议的限制定义。若进行适当转换并使用合适的
                                Content-Transfer-Encoding 能提高在目标协议上安全传输的可能性，则代理或网关应进行该转换并标注相应的
                                Content-Transfer-Encoding。</p>
                        </div>
                    </section>
                    <section id="mhtml.line.length">
                        <h3 id="rfc.section.B.6"><a href="#rfc.section.B.6">B.6.</a>&nbsp;<a
                                href="#mhtml.line.length">MHTML 与行长限制</a></h3>
                        <div id="rfc.section.B.6.p.1">
                            <p>与 MHTML <a href="#RFC2557" id="rfc.xref.RFC2557.1"><cite
                                        title="MIME Encapsulation of Aggregate Documents, such as HTML (MHTML)">[RFC2557]</cite></a>
                                共用代码的 HTTP 实现需要注意 MIME 的行长限制。由于 HTTP 本身没有此限制，因此 HTTP 不会折叠长行。通过 HTTP 传输的 MHTML 消息应遵循
                                MHTML 的所有约定，包括行长限制与折叠、规范化等，因为 HTTP 在不修改消息主体的情况下传输内容，且（除 "multipart/byteranges"
                                类型外）不会解释其中可能包含的内容或 MIME 首部行。</p>
                        </div>
                    </section>
                </section>
                <section id="changes">
                    <h2 id="rfc.section.C"><a href="#rfc.section.C">附录 C.</a>&nbsp;<a href="#changes">与以前 RFC 的差异</a>
                    </h2>
                    <section id="changes.from.0.9">
                        <h3 id="rfc.section.C.1"><a href="#rfc.section.C.1">C.1.</a>&nbsp;<a href="#changes.from.0.9">来自
                                HTTP/0.9 的变化</a></h3>
                        <div id="rfc.section.C.1.p.1">
                            <p>由于 HTTP/0.9 不支持请求中的首部字段，因此它无法支持基于名称的虚拟主机（通过检查 <a href="rfc9110.html#field.host"
                                    class="smpl">Host</a> 首部字段来选择资源）。实现基于名称的虚拟主机的服务器应禁用对 HTTP/0.9 的支持。大多数看起来像 HTTP/0.9
                                的请求实际上是因客户端未正确编码 request-target 而构造不良的 HTTP/1.x 请求。</p>
                        </div>
                    </section>
                    <section id="changes.from.1.0">
                        <h3 id="rfc.section.C.2"><a href="#rfc.section.C.2">C.2.</a>&nbsp;<a href="#changes.from.1.0">来自
                                HTTP/1.0 的变化</a></h3>
                        <section id="changes.to.simplify.multihomed.web.servers.and.conserve.ip.addresses">
                            <h4 id="rfc.section.C.2.1"><a href="#rfc.section.C.2.1">C.2.1.</a>&nbsp;<a
                                    href="#changes.to.simplify.multihomed.web.servers.and.conserve.ip.addresses">多宿主网站服务器</a>
                            </h4>
                            <div id="rfc.section.C.2.1.p.1">
                                <p>客户端和服务器需支持 <a href="rfc9110.html#field.host" class="smpl">Host</a> 首部字段（见 RFC9110 第
                                    7.2 节），当 HTTP/1.1 请求缺少该首部字段时报告错误，并接受绝对 URI（见第 3.2 节）——这些是 HTTP/1.1 定义的最重要变更之一。</p>
                            </div>
                            <div id="rfc.section.C.2.1.p.2">
                                <p>较早的 HTTP/1.0 客户端假定 IP 地址与服务器是一一对应的关系；当时没有通过其他机制来区分请求所针对的服务器，除非检查请求所定向的 IP 地址。Host
                                    首部字段是在开发 HTTP/1.1 时引入的，尽管它很快被大多数 HTTP/1.0 浏览器实现，但为确保全面采用，HTTP/1.1
                                    对所有请求施加了额外要求。截至撰写时，大多数基于 HTTP 的服务都依赖 Host 首部字段来定位请求目标。</p>
                            </div>
                        </section>
                        <section id="compatibility.with.http.1.0.persistent.connections">
                            <h4 id="rfc.section.C.2.2"><a href="#rfc.section.C.2.2">C.2.2.</a>&nbsp;<a
                                    href="#compatibility.with.http.1.0.persistent.connections">Keep-Alive 连接</a></h4>
                            <div id="rfc.section.C.2.2.p.1">
                                <p>在 HTTP/1.0 中，每个连接由客户端在请求之前建立，由服务器在发送响应后关闭。然而，一些实现实现了在 RFC2068 第 19.7.1 节
                                    中描述的显式协商的持久连接（"Keep-Alive"）。</p>
                            </div>
                            <div id="rfc.section.C.2.2.p.2">
                                <p>一些客户端与服务器可能希望兼容这些早期的持久连接方法，通过在请求中显式协商 "Connection: keep-alive" 头字段来实现。然而，一些实验性的
                                    HTTP/1.0 持久连接实现有缺陷；例如，如果某个 HTTP/1.0 代理不理解 <a href="rfc9110.html#field.connection"
                                        class="smpl">Connection</a>，它会将该头字段错误地转发到下一个入站服务器，从而导致连接挂起。</p>
                            </div>
                            <div id="rfc.section.C.2.2.p.3">
                                <p>曾尝试引入专门针对代理的 Proxy-Connection 首部字段来解决该问题。但实际上这也不可行，因为代理通常部署为多层，导致前述相同问题再次出现。</p>
                            </div>
                            <div id="rfc.section.C.2.2.p.4">
                                <p>因此，建议客户端不要在任何请求中发送 Proxy-Connection 首部字段。</p>
                            </div>
                            <div id="rfc.section.C.2.2.p.5">
                                <p>客户端在考虑在请求中使用 "Connection: keep-alive" 时也应谨慎；虽然它们可以与 HTTP/1.0
                                    服务器启用持久连接，但使用该机制的客户端需要监控连接以检测“挂起”请求（这表明客户端应停止发送该首部字段），且在使用代理时不应使用该机制。</p>
                            </div>
                        </section>
                        <section id="introduction.of.transfer-encoding">
                            <h4 id="rfc.section.C.2.3"><a href="#rfc.section.C.2.3">C.2.3.</a>&nbsp;<a
                                    href="#introduction.of.transfer-encoding">引入 Transfer-Encoding</a></h4>
                            <div id="rfc.section.C.2.3.p.1">
                                <p>HTTP/1.1 引入了 <a href="#field.transfer-encoding" class="smpl">Transfer-Encoding</a>
                                    首部字段（见第 6.1 节）。在将消息通过 MIME 合规协议转发之前，必须先对传输编码进行解码。</p>
                            </div>
                        </section>
                    </section>
                    <section id="changes.from.rfc.7230">
                        <h3 id="rfc.section.C.3"><a href="#rfc.section.C.3">C.3.</a>&nbsp;<a
                                href="#changes.from.rfc.7230">来自 RFC 7230 的变更</a></h3>
                        <div id="rfc.section.C.3.p.1">
                            <p>介绍 HTTP 设计目标、历史、架构、一致性准则、协议版本控制、URI、消息路由和首部字段的大部分章节已移至 <a href="#HTTP"
                                    id="rfc.xref.HTTP.77"><cite title="HTTP Semantics">[HTTP]</cite></a>。本文档现仅保留与
                                HTTP/1.1 消息语法和连接管理相关的要求。</p>
                        </div>
                        <div id="rfc.section.C.3.p.2">
                            <p>禁止在内容之外使用裸 CR。（见 <a href="#message.parsing" title="Message Parsing">第 2.2 节</a>）</p>
                        </div>
                        <div id="rfc.section.C.3.p.3">
                            <p><a href="#authority-form" class="smpl">authority-form</a> 的 ABNF 定义已从 URI 的更通用的 authority
                                组件（其端口可选）更改为 CONNECT 所要求的特定 host:port 格式。（见第 3.2.3 节）</p>
                        </div>
                        <div id="rfc.section.C.3.p.4">
                            <p>接收方在处理不明确的消息分帧时必须避免走私/分割攻击。（见 <a href="#field.transfer-encoding"
                                    id="rfc.xref.field.transfer-encoding.5" title="Transfer-Encoding">第 6.1 节</a>）</p>
                        </div>
                        <div id="rfc.section.C.3.p.5">
                            <p>在分块扩展的 ABNF 中，围绕 ";" 和 "=" 的（不良）空白已被重新引入。空白在 RFC7230 中被移除，但该更改被发现会破坏现有实现。（见 <a
                                    href="#chunked.extension" title="Chunk Extensions">第 7.1.1 节</a>）</p>
                        </div>
                        <div id="rfc.section.C.3.p.6">
                            <p>尾部字段语义现在超越了对分块传输编码的具体约束。分块的解码算法（见 <a href="#decoding.chunked" title="Decoding Chunked">第
                                    7.1.3
                                    节</a>）已更新，鼓励将尾部字段单独存储/转发而不是合并入首部节，仅当接收方知道相应的首部字段定义允许并说明如何合并时才允许合并，否则应丢弃尾部字段。尾部部分现在称为尾部节，以便与首部节更一致并与消息主体部分更区分。（见
                                <a href="#chunked.trailer.section" title="Chunked Trailer Section">第 7.1.2 节</a>）
                            </p>
                        </div>
                        <div id="rfc.section.C.3.p.7">
                            <p>为了避免与 <a href="rfc9110.html#field.te" class="smpl">TE</a> 首部字段中用于排序的用法冲突，传输编码参数中名为 "q"
                                的参数被禁止。（见 <a href="#transfer.coding.registry" title="Transfer Coding Registry">第 7.3
                                    节</a>）</p>
                        </div>
                    </section>
                </section>
                <section id="acks">
                    <h2 id="rfc.section.unnumbered-1"><a href="#acks">致谢</a></h2>
                    <div id="rfc.section.unnumbered-1.p.1">
                        <p>参见 <a href="rfc9110.html#acks" title="Acknowledgements">RFC9110 的“致谢”附录</a>，该附录同样适用于本文档。</p>
                    </div>
                </section>
                <section id="rfc.index">
                    <h2><a href="#rfc.index">索引</a></h2>
                    <p class="hidden-print"><a href="#rfc.index.A">A</a> <a href="#rfc.index.C">C</a> <a
                            href="#rfc.index.D">D</a> <a href="#rfc.index.F">F</a> <a href="#rfc.index.G">G</a> <a
                            href="#rfc.index.H">H</a> <a href="#rfc.index.K">K</a> <a href="#rfc.index.L">L</a> <a
                            href="#rfc.index.M">M</a> <a href="#rfc.index.O">O</a> <a href="#rfc.index.R">R</a> <a
                            href="#rfc.index.T">T</a> <a href="#rfc.index.U">U</a> <a href="#rfc.index.W">W</a> <a
                            href="#rfc.index.X">X</a> </p>
                    <div class="print2col">
                        <ul class="ind">
                            <li><a id="rfc.index.A" href="#rfc.index.A"><b>A</b></a>
                                <ul>
                                    <li>absolute-form（request-target 的形式）&nbsp;&nbsp;<a
                                            href="#rfc.section.3.2.2">3.2.2</a></li>
                                    <li>application/http 媒体类型&nbsp;&nbsp;<a href="#rfc.section.10.2"><b>10.2</b></a>
                                    </li>
                                    <li>asterisk-form（request-target 的形式）&nbsp;&nbsp;<a
                                            href="#rfc.section.3.2.4">3.2.4</a></li>
                                    <li>authority-form（request-target 的形式）&nbsp;&nbsp;<a
                                            href="#rfc.section.3.2.3">3.2.3</a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.C" href="#rfc.index.C"><b>C</b></a>
                                <ul>
                                    <li><em>CACHING</em>&nbsp;&nbsp;<a href="#rfc.xref.CACHING.1">1</a>, <a
                                            href="#rfc.xref.CACHING.2">8</a>, <a href="#CACHING"><b>13.1</b></a>
                                        <ul>
                                            <li><em>Section 3.3</em>&nbsp;&nbsp;<a href="#rfc.xref.CACHING.2">8</a></li>
                                        </ul>
                                    </li>
                                    <li>chunked（编码格式）&nbsp;&nbsp;<a href="#rfc.section.6.1">6.1</a>, <a
                                            href="#rfc.section.6.3">6.3</a></li>
                                    <li>chunked（传输编码）&nbsp;&nbsp;<a href="#rfc.section.7.1"><b>7.1</b></a>
                                    </li>
                                    <li>close（连接选项）&nbsp;&nbsp;<a href="#rfc.section.9.3">9.3</a>, <a
                                            href="#rfc.xref.persistent.tear-down.1">9.3</a>, <a
                                            href="#rfc.xref.persistent.tear-down.2">9.3.2</a>, <a
                                            href="#rfc.section.9.6"><b>9.6</b></a>, <a
                                            href="#rfc.xref.persistent.tear-down.3">12.1</a></li>
                                    <li>compress（传输编码）&nbsp;&nbsp;<a href="#rfc.section.7.2"><b>7.2</b></a>
                                    </li>
                                    <li>Connection 首部字段&nbsp;&nbsp;<a href="#rfc.xref.persistent.tear-down.1">9.3</a>,
                                        <a href="#rfc.xref.persistent.tear-down.2">9.3.2</a>, <a
                                            href="#rfc.section.9.6">9.6</a>, <a
                                            href="#rfc.xref.persistent.tear-down.3">12.1</a>
                                    </li>
                                    <li>Content-Length 首部字段&nbsp;&nbsp;<a href="#rfc.section.6.2">6.2</a></li>
                                    <li>Content-Transfer-Encoding 首部字段&nbsp;&nbsp;<a href="#rfc.section.B.5">B.5</a>
                                    </li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.D" href="#rfc.index.D"><b>D</b></a>
                                <ul>
                                    <li>deflate（传输编码）&nbsp;&nbsp;<a href="#rfc.section.7.2"><b>7.2</b></a>
                                    </li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.F" href="#rfc.index.F"><b>F</b></a>
                                <ul>
                                    <li>字段（Fields）&nbsp;&nbsp;<ul>
                                            <li>Close&nbsp;&nbsp;<a href="#rfc.iref.f.1"><b>9.6</b></a></li>
                                            <li>MIME-Version&nbsp;&nbsp;<a href="#rfc.xref.mime-version.1">12.1</a>, <a
                                                    href="#rfc.section.B.1"><b>B.1</b></a></li>
                                            <li>Transfer-Encoding&nbsp;&nbsp;<a
                                                    href="#rfc.xref.field.transfer-encoding.1">6</a>, <a
                                                    href="#rfc.section.6.1"><b>6.1</b></a>, <a
                                                    href="#rfc.xref.field.transfer-encoding.2">7</a>, <a
                                                    href="#rfc.xref.field.transfer-encoding.3">12.1</a>, <a
                                                    href="#rfc.xref.field.transfer-encoding.4">C.2.3</a>, <a
                                                    href="#rfc.xref.field.transfer-encoding.5">C.3</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.G" href="#rfc.index.G"><b>G</b></a>
                                <ul>
                                    <li><span class="tt">语法 (Grammar)</span>&nbsp;&nbsp;<ul>
                                            <li><span class="tt">absolute-form</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.9">3.2</a>, <a
                                                    href="#rfc.iref.g.13"><b>3.2.2</b></a></li>
                                            <li>ALPHA&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li><span class="tt">asterisk-form</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.11">3.2</a>, <a
                                                    href="#rfc.iref.g.15"><b>3.2.4</b></a></li>
                                            <li><span class="tt">authority-form</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.10">3.2</a>, <a
                                                    href="#rfc.iref.g.14"><b>3.2.3</b></a></li>
                                            <li><span class="tt">chunk</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.26"><b>7.1</b></a></li>
                                            <li><span class="tt">chunk-data</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.31"><b>7.1</b></a></li>
                                            <li><span class="tt">chunk-ext</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.30">7.1</a>, <a
                                                    href="#rfc.iref.g.32"><b>7.1.1</b></a></li>
                                            <li><span class="tt">chunk-ext-name</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.33"><b>7.1.1</b></a></li>
                                            <li><span class="tt">chunk-ext-val</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.34"><b>7.1.1</b></a></li>
                                            <li><span class="tt">chunk-size</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.27"><b>7.1</b></a></li>
                                            <li><span class="tt">chunked-body</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.25"><b>7.1</b></a></li>
                                            <li>CR&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li>CRLF&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li>CTL&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li>DIGIT&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li>DQUOTE&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li><span class="tt">field-line</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.19"><b>5</b></a>, <a
                                                    href="#rfc.iref.g.36">7.1.2</a></li>
                                            <li>field-name&nbsp;&nbsp;<a href="#rfc.iref.g.20">5</a></li>
                                            <li>field-value&nbsp;&nbsp;<a href="#rfc.iref.g.21">5</a></li>
                                            <li>HEXDIG&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li>HTAB&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li><span class="tt">HTTP-message</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.1"><b>2.1</b></a></li>
                                            <li><span class="tt">HTTP-name</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.4"><b>2.3</b></a></li>
                                            <li><span class="tt">HTTP-version</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.3"><b>2.3</b></a></li>
                                            <li><span class="tt">last-chunk</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.28"><b>7.1</b></a></li>
                                            <li>LF&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li><span class="tt">message-body</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.23"><b>6</b></a></li>
                                            <li><span class="tt">method</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.6"><b>3.1</b></a></li>
                                            <li><span class="tt">obs-fold</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.22"><b>5.2</b></a></li>
                                            <li>OCTET&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li><span class="tt">origin-form</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.8">3.2</a>, <a
                                                    href="#rfc.iref.g.12"><b>3.2.1</b></a></li>
                                            <li><span class="tt">reason-phrase</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.18"><b>4</b></a></li>
                                            <li><span class="tt">request-line</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.5"><b>3</b></a></li>
                                            <li><span class="tt">request-target</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.7"><b>3.2</b></a></li>
                                            <li>SP&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li><span class="tt">start-line</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.2"><b>2.1</b></a></li>
                                            <li><span class="tt">status-code</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.17"><b>4</b></a></li>
                                            <li><span class="tt">status-line</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.16"><b>4</b></a></li>
                                            <li><span class="tt">trailer-section</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.29">7.1</a>, <a
                                                    href="#rfc.iref.g.35"><b>7.1.2</b></a></li>
                                            <li><span class="tt">Transfer-Encoding</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.24"><b>6.1</b></a></li>
                                            <li>VCHAR&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                        </ul>
                                    </li>
                                    <li>gzip（传输编码）&nbsp;&nbsp;<a href="#rfc.section.7.2"><b>7.2</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.H" href="#rfc.index.H"><b>H</b></a>
                                <ul>
                                    <li>首部字段（Header Fields）&nbsp;&nbsp;<ul>
                                            <li>MIME-Version&nbsp;&nbsp;<a href="#rfc.xref.mime-version.1">12.1</a>, <a
                                                    href="#rfc.section.B.1"><b>B.1</b></a></li>
                                            <li>Transfer-Encoding&nbsp;&nbsp;<a
                                                    href="#rfc.xref.field.transfer-encoding.1">6</a>, <a
                                                    href="#rfc.section.6.1"><b>6.1</b></a>, <a
                                                    href="#rfc.xref.field.transfer-encoding.2">7</a>, <a
                                                    href="#rfc.xref.field.transfer-encoding.3">12.1</a>, <a
                                                    href="#rfc.xref.field.transfer-encoding.4">C.2.3</a>, <a
                                                    href="#rfc.xref.field.transfer-encoding.5">C.3</a></li>
                                        </ul>
                                    </li>
                                    <li>header line（首部行）&nbsp;&nbsp;<a href="#rfc.section.2.1">2.1</a></li>
                                    <li>header section（首部节）&nbsp;&nbsp;<a href="#rfc.section.2.1">2.1</a></li>
                                    <li>headers（首部）&nbsp;&nbsp;<a href="#rfc.section.2.1">2.1</a></li>
                                    <li><em>HTTP</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.1">1</a>, <a
                                            href="#rfc.xref.HTTP.2">1</a>, <a href="#rfc.xref.HTTP.3">1.1</a>, <a
                                            href="#rfc.xref.HTTP.4">1.2</a>, <a href="#rfc.xref.HTTP.5">1.2</a>, <a
                                            href="#rfc.xref.HTTP.6">1.2</a>, <a href="#rfc.xref.HTTP.7">1.2</a>, <a
                                            href="#rfc.xref.HTTP.8">1.2</a>, <a href="#rfc.xref.HTTP.9">1.2</a>, <a
                                            href="#rfc.xref.HTTP.10">1.2</a>, <a href="#rfc.xref.HTTP.11">1.2</a>, <a
                                            href="#rfc.xref.HTTP.12">1.2</a>, <a href="#rfc.xref.HTTP.13">1.2</a>, <a
                                            href="#rfc.xref.HTTP.14">1.2</a>, <a href="#rfc.xref.HTTP.15">1.2</a>, <a
                                            href="#rfc.xref.HTTP.16">2</a>, <a href="#rfc.xref.HTTP.17">2.3</a>, <a
                                            href="#rfc.xref.HTTP.18">3</a>, <a href="#rfc.xref.HTTP.19">3</a>, <a
                                            href="#rfc.xref.HTTP.20">3.1</a>, <a href="#rfc.xref.HTTP.21">3.2</a>, <a
                                            href="#rfc.xref.HTTP.22">3.2</a>, <a href="#rfc.xref.HTTP.23">3.2.1</a>, <a
                                            href="#rfc.xref.HTTP.24">3.2.2</a>, <a href="#rfc.xref.HTTP.25">3.2.3</a>,
                                        <a href="#rfc.xref.HTTP.26">3.2.4</a>, <a href="#rfc.xref.HTTP.27">3.3</a>, <a
                                            href="#rfc.xref.HTTP.28">3.3</a>, <a href="#rfc.xref.HTTP.29">4</a>, <a
                                            href="#rfc.xref.HTTP.30">5</a>, <a href="#rfc.xref.HTTP.31">6</a>, <a
                                            href="#rfc.xref.HTTP.32">6</a>, <a href="#rfc.xref.HTTP.33">6.1</a>, <a
                                            href="#rfc.xref.HTTP.34">6.1</a>, <a href="#rfc.xref.HTTP.35">6.1</a>, <a
                                            href="#rfc.xref.HTTP.36">6.1</a>, <a href="#rfc.xref.HTTP.37">6.2</a>, <a
                                            href="#rfc.xref.HTTP.38">6.2</a>, <a href="#rfc.xref.HTTP.39">6.3</a>, <a
                                            href="#rfc.xref.HTTP.40">7</a>, <a href="#rfc.xref.HTTP.41">7.1.2</a>, <a
                                            href="#rfc.xref.HTTP.42">7.2</a>, <a href="#rfc.xref.HTTP.43">7.2</a>, <a
                                            href="#rfc.xref.HTTP.44">7.2</a>, <a href="#rfc.xref.HTTP.45">7.3</a>, <a
                                            href="#rfc.xref.HTTP.46">7.3</a>, <a href="#rfc.xref.HTTP.47">7.4</a>, <a
                                            href="#rfc.xref.HTTP.48">7.4</a>, <a href="#rfc.xref.HTTP.49">7.4</a>, <a
                                            href="#rfc.xref.HTTP.50">7.4</a>, <a href="#rfc.xref.HTTP.51">9</a>, <a
                                            href="#rfc.xref.HTTP.52">9</a>, <a href="#rfc.xref.HTTP.53">9.2</a>, <a
                                            href="#rfc.xref.HTTP.54">9.3</a>, <a href="#rfc.xref.HTTP.55">9.3.1</a>, <a
                                            href="#rfc.xref.HTTP.56">9.3.2</a>, <a href="#rfc.xref.HTTP.57">9.3.2</a>,
                                        <a href="#rfc.xref.HTTP.58">9.6</a>, <a href="#rfc.xref.HTTP.59">11</a>, <a
                                            href="#rfc.xref.HTTP.60">11.4</a>, <a href="#rfc.xref.HTTP.61">12.1</a>, <a
                                            href="#rfc.xref.HTTP.62">12.3</a>, <a href="#HTTP"><b>13.1</b></a>, <a
                                            href="#rfc.xref.HTTP.63">A</a>, <a href="#rfc.xref.HTTP.64">A</a>, <a
                                            href="#rfc.xref.HTTP.65">A</a>, <a href="#rfc.xref.HTTP.66">A</a>, <a
                                            href="#rfc.xref.HTTP.67">A</a>, <a href="#rfc.xref.HTTP.68">A</a>, <a
                                            href="#rfc.xref.HTTP.69">A</a>, <a href="#rfc.xref.HTTP.70">A</a>, <a
                                            href="#rfc.xref.HTTP.71">A</a>, <a href="#rfc.xref.HTTP.72">A</a>, <a
                                            href="#rfc.xref.HTTP.73">A</a>, <a href="#rfc.xref.HTTP.74">B.3</a>, <a
                                            href="#rfc.xref.HTTP.75">B.6</a>, <a href="#rfc.xref.HTTP.76">C.2.1</a>, <a
                                            href="#rfc.xref.HTTP.77">C.3</a>, <a
                                            href="#rfc.xref.HTTP.78">"Acknowledgements"</a>
                                        <ul>
                                            <li><em>Section 4.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.67">A</a></li>
                                            <li><em>Section 5.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.68">A</a></li>
                                            <li><em>Section 5.5</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.69">A</a></li>
                                            <li><em>Section 5.6.2</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.72">A</a></li>
                                            <li><em>Section 5.6.3</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.64">A</a>, <a
                                                    href="#rfc.xref.HTTP.65">A</a>, <a href="#rfc.xref.HTTP.66">A</a>
                                            </li>
                                            <li><em>Section 5.6.4</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.70">A</a>, <a
                                                    href="#rfc.xref.HTTP.71">A</a></li>
                                            <li><em>Section 10.1.4</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.73">A</a>
                                            </li>
                                        </ul>
                                        <ul>
                                            <li><em>Section 2</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.3">1.1</a></li>
                                            <li><em>Section 2.3</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.18">3</a></li>
                                            <li><em>Section 2.5</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.17">2.3</a></li>
                                            <li><em>Section 3</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.16">2</a></li>
                                            <li><em>Section 4.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.9">1.2</a></li>
                                            <li><em>Section 4.2</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.22">3.2</a></li>
                                            <li><em>Section 4.2.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.52">9</a></li>
                                            <li><em>Section 4.2.2</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.60">11.4</a>
                                            </li>
                                            <li><em>Section 5.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.10">1.2</a></li>
                                            <li><em>Section 5.5</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.11">1.2</a>, <a
                                                    href="#rfc.xref.HTTP.30">5</a></li>
                                            <li><em>Section 5.6.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.4">1.2</a>, <a
                                                    href="#rfc.xref.HTTP.39">6.3</a>, <a href="#rfc.xref.HTTP.63">A</a>
                                            </li>
                                            <li><em>Section 5.6.2</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.14">1.2</a>
                                            </li>
                                            <li><em>Section 5.6.3</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.6">1.2</a>, <a
                                                    href="#rfc.xref.HTTP.7">1.2</a>, <a href="#rfc.xref.HTTP.8">1.2</a>
                                            </li>
                                            <li><em>Section 5.6.4</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.12">1.2</a>,
                                                <a href="#rfc.xref.HTTP.13">1.2</a>
                                            </li>
                                            <li><em>Section 5.6.7</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.74">B.3</a>
                                            </li>
                                            <li><em>Section 6.4</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.31">6</a></li>
                                            <li><em>Section 6.4.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.32">6</a></li>
                                            <li><em>Section 6.5</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.41">7.1.2</a>,
                                                <a href="#rfc.xref.HTTP.49">7.4</a>
                                            </li>
                                            <li><em>Section 7.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.27">3.3</a></li>
                                            <li><em>Section 7.2</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.21">3.2</a>, <a
                                                    href="#rfc.xref.HTTP.23">3.2.1</a>, <a
                                                    href="#rfc.xref.HTTP.76">C.2.1</a></li>
                                            <li><em>Section 7.3</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.51">9</a></li>
                                            <li><em>Section 7.4</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.28">3.3</a></li>
                                            <li><em>Section 7.6</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.24">3.2.2</a>
                                            </li>
                                            <li><em>Section 7.6.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.50">7.4</a>,
                                                <a href="#rfc.xref.HTTP.54">9.3</a>, <a href="#rfc.xref.HTTP.58">9.6</a>
                                            </li>
                                            <li><em>Section 8.4.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.34">6.1</a>,
                                                <a href="#rfc.xref.HTTP.45">7.3</a>
                                            </li>
                                            <li><em>Section 8.4.1.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.42">7.2</a>
                                            </li>
                                            <li><em>Section 8.4.1.2</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.43">7.2</a>
                                            </li>
                                            <li><em>Section 8.4.1.3</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.44">7.2</a>
                                            </li>
                                            <li><em>Section 8.6</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.37">6.2</a>, <a
                                                    href="#rfc.xref.HTTP.38">6.2</a></li>
                                            <li><em>Section 9</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.20">3.1</a></li>
                                            <li><em>Section 9.2.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.56">9.3.2</a>
                                            </li>
                                            <li><em>Section 9.2.2</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.55">9.3.1</a>,
                                                <a href="#rfc.xref.HTTP.57">9.3.2</a>
                                            </li>
                                            <li><em>Section 9.3.6</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.25">3.2.3</a>,
                                                <a href="#rfc.xref.HTTP.36">6.1</a>
                                            </li>
                                            <li><em>Section 9.3.7</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.26">3.2.4</a>
                                            </li>
                                            <li><em>Section 10.1.4</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.15">1.2</a>,
                                                <a href="#rfc.xref.HTTP.33">6.1</a>, <a href="#rfc.xref.HTTP.40">7</a>,
                                                <a href="#rfc.xref.HTTP.46">7.3</a>, <a
                                                    href="#rfc.xref.HTTP.47">7.4</a>, <a
                                                    href="#rfc.xref.HTTP.62">12.3</a>
                                            </li>
                                            <li><em>Section 12.4.2</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.48">7.4</a>
                                            </li>
                                            <li><em>Section 14.6</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.75">B.6</a>
                                            </li>
                                            <li><em>Section 15</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.29">4</a></li>
                                            <li><em>Section 15.2</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.53">9.2</a>
                                            </li>
                                            <li><em>Section 15.4.5</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.35">6.1</a>
                                            </li>
                                            <li><em>Section 15.5.15</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.19">3</a>
                                            </li>
                                            <li><em>Section 18.4</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.61">12.1</a>
                                            </li>
                                            <li><em>Acknowledgements</em>&nbsp;&nbsp;<a
                                                    href="#rfc.xref.HTTP.78">"Acknowledgements"</a></li>
                                        </ul>
                                    </li>
                                    <li><em>HTTP/1.0</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP10.1">2.3</a>, <a
                                            href="#HTTP10"><b>13.2</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.K" href="#rfc.index.K"><b>K</b></a>
                                <ul>
                                    <li><em>Klein</em>&nbsp;&nbsp;<a href="#rfc.xref.Klein.1">11.1</a>, <a
                                            href="#Klein"><b>13.2</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.L" href="#rfc.index.L"><b>L</b></a>
                                <ul>
                                    <li><em>Linhart</em>&nbsp;&nbsp;<a href="#rfc.xref.Linhart.1">11.2</a>, <a
                                            href="#Linhart"><b>13.2</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.M" href="#rfc.index.M"><b>M</b></a>
                                <ul>
                                    <li>媒体类型（Media Type）&nbsp;&nbsp;<ul>
                                            <li>application/http&nbsp;&nbsp;<a href="#rfc.section.10.2"><b>10.2</b></a>
                                            </li>
                                            <li>message/http&nbsp;&nbsp;<a href="#rfc.section.10.1"><b>10.1</b></a></li>
                                        </ul>
                                    </li>
                                    <li>message/http 媒体类型&nbsp;&nbsp;<a href="#rfc.section.10.1"><b>10.1</b></a>
                                    </li>
                                    <li>method（方法）&nbsp;&nbsp;<a href="#rfc.section.3.1"><b>3.1</b></a></li>
                                    <li>MIME-Version 首部字段&nbsp;&nbsp;<a href="#rfc.xref.mime-version.1">12.1</a>, <a
                                            href="#rfc.section.B.1"><b>B.1</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.O" href="#rfc.index.O"><b>O</b></a>
                                <ul>
                                    <li>origin-form（request-target 的形式）&nbsp;&nbsp;<a
                                            href="#rfc.section.3.2.1">3.2.1</a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.R" href="#rfc.index.R"><b>R</b></a>
                                <ul>
                                    <li>request-target&nbsp;&nbsp;<a href="#rfc.section.3.2"><b>3.2</b></a></li>
                                    <li><em>RFC1950</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC1950.1">12.3</a>, <a
                                            href="#RFC1950"><b>13.1</b></a></li>
                                    <li><em>RFC1951</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC1951.1">12.3</a>, <a
                                            href="#RFC1951"><b>13.1</b></a></li>
                                    <li><em>RFC1952</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC1952.1">12.3</a>, <a
                                            href="#RFC1952"><b>13.1</b></a></li>
                                    <li><em>RFC2045</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2045.1">2.1</a>, <a
                                            href="#rfc.xref.RFC2045.2">6.1</a>, <a href="#RFC2045"><b>13.2</b></a>, <a
                                            href="#rfc.xref.RFC2045.3">B</a>, <a href="#rfc.xref.RFC2045.4">B.1</a>
                                        <ul>
                                            <li><em>Section 6</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2045.2">6.1</a></li>
                                        </ul>
                                    </li>
                                    <li><em>RFC2046</em>&nbsp;&nbsp;<a href="#RFC2046"><b>13.2</b></a>, <a
                                            href="#rfc.xref.RFC2046.1">B.2</a></li>
                                    <li><em>RFC2049</em>&nbsp;&nbsp;<a href="#RFC2049"><b>13.2</b></a>, <a
                                            href="#rfc.xref.RFC2049.1">B.2</a>
                                        <ul>
                                            <li><em>Section 4</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2049.1">B.2</a></li>
                                        </ul>
                                    </li>
                                    <li><em>RFC2068</em>&nbsp;&nbsp;<a href="#RFC2068"><b>13.2</b></a>, <a
                                            href="#rfc.xref.RFC2068.1">C.2.2</a>
                                        <ul>
                                            <li><em>Section 19.7.1</em>&nbsp;&nbsp;<a
                                                    href="#rfc.xref.RFC2068.1">C.2.2</a></li>
                                        </ul>
                                    </li>
                                    <li><em>RFC2119</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2119.1">1.1</a>, <a
                                            href="#RFC2119"><b>13.1</b></a></li>
                                    <li><em>RFC2557</em>&nbsp;&nbsp;<a href="#RFC2557"><b>13.2</b></a>, <a
                                            href="#rfc.xref.RFC2557.1">B.6</a></li>
                                    <li><em>RFC5234</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC5234.1">1.2</a>, <a
                                            href="#rfc.xref.RFC5234.2">1.2</a>, <a href="#RFC5234"><b>13.1</b></a>
                                        <ul>
                                            <li><em>Appendix B.1</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC5234.2">1.2</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><em>RFC5322</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC5322.1">2.1</a>, <a
                                            href="#RFC5322"><b>13.2</b></a>, <a href="#rfc.xref.RFC5322.2">B</a></li>
                                    <li><em>RFC7230</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC7230.1">1</a>, <a
                                            href="#rfc.xref.RFC7230.2">1</a>, <a href="#RFC7230"><b>13.2</b></a>, <a
                                            href="#rfc.xref.RFC7230.3">C.3</a></li>
                                    <li><em>RFC7405</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC7405.1">1.2</a>, <a
                                            href="#RFC7405"><b>13.1</b></a></li>
                                    <li><em>RFC8126</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC8126.1">7.3</a>, <a
                                            href="#RFC8126"><b>13.2</b></a>
                                        <ul>
                                            <li><em>Section 4.8</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC8126.1">7.3</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><em>RFC8174</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC8174.1">1.1</a>, <a
                                            href="#RFC8174"><b>13.1</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.T" href="#rfc.index.T"><b>T</b></a>
                                <ul>
                                    <li><em>TLS13</em>&nbsp;&nbsp;<a href="#rfc.xref.TLS13.1">9.7</a>, <a
                                            href="#rfc.xref.TLS13.2">9.8</a>, <a href="#TLS13"><b>13.1</b></a>
                                        <ul></ul>
                                    </li>
                                    <li>Transfer-Encoding 首部字段&nbsp;&nbsp;<a
                                            href="#rfc.xref.field.transfer-encoding.1">6</a>, <a
                                            href="#rfc.section.6.1"><b>6.1</b></a>, <a
                                            href="#rfc.xref.field.transfer-encoding.2">7</a>, <a
                                            href="#rfc.xref.field.transfer-encoding.3">12.1</a>, <a
                                            href="#rfc.xref.field.transfer-encoding.4">C.2.3</a>, <a
                                            href="#rfc.xref.field.transfer-encoding.5">C.3</a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.U" href="#rfc.index.U"><b>U</b></a>
                                <ul>
                                    <li><em>URI</em>&nbsp;&nbsp;<a href="#rfc.xref.URI.1">1.2</a>, <a
                                            href="#rfc.xref.URI.2">1.2</a>, <a href="#rfc.xref.URI.3">1.2</a>, <a
                                            href="#rfc.xref.URI.4">1.2</a>, <a href="#rfc.xref.URI.5">1.2</a>, <a
                                            href="#rfc.xref.URI.6">1.2</a>, <a href="#URI"><b>13.1</b></a>, <a
                                            href="#rfc.xref.URI.7">A</a>, <a href="#rfc.xref.URI.8">A</a>, <a
                                            href="#rfc.xref.URI.9">A</a>, <a href="#rfc.xref.URI.10">A</a>, <a
                                            href="#rfc.xref.URI.11">A</a>
                                        <ul>
                                            <li><em>Section 3.2</em>&nbsp;&nbsp;<a href="#rfc.xref.URI.3">1.2</a>, <a
                                                    href="#rfc.xref.URI.8">A</a></li>
                                            <li><em>Section 3.2.2</em>&nbsp;&nbsp;<a href="#rfc.xref.URI.4">1.2</a>, <a
                                                    href="#rfc.xref.URI.11">A</a></li>
                                            <li><em>Section 3.2.3</em>&nbsp;&nbsp;<a href="#rfc.xref.URI.5">1.2</a>, <a
                                                    href="#rfc.xref.URI.9">A</a></li>
                                            <li><em>Section 3.4</em>&nbsp;&nbsp;<a href="#rfc.xref.URI.6">1.2</a>, <a
                                                    href="#rfc.xref.URI.10">A</a></li>
                                            <li><em>Section 4.3</em>&nbsp;&nbsp;<a href="#rfc.xref.URI.2">1.2</a>, <a
                                                    href="#rfc.xref.URI.7">A</a></li>
                                        </ul>
                                    </li>
                                    <li><em>USASCII</em>&nbsp;&nbsp;<a href="#rfc.xref.USASCII.1">1.2</a>, <a
                                            href="#rfc.xref.USASCII.2">2.2</a>, <a href="#USASCII"><b>13.1</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.W" href="#rfc.index.W"><b>W</b></a>
                                <ul>
                                    <li><em>Welch</em>&nbsp;&nbsp;<a href="#rfc.xref.Welch.1">12.3</a>, <a
                                            href="#Welch"><b>13.1</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.X" href="#rfc.index.X"><b>X</b></a>
                                <ul>
                                    <li>x-compress（传输编码）&nbsp;&nbsp;<a href="#rfc.section.7.2"><b>7.2</b></a></li>
                                    <li>x-gzip（传输编码）&nbsp;&nbsp;<a href="#rfc.section.7.2"><b>7.2</b></a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </section>
                <section id="rfc.authors" class="avoidbreakinside">
                    <h2><a href="#rfc.authors">作者地址</a></h2>
                    <address><b>Roy T. Fielding</b> (编辑)<br>Adobe<br>345 Park Ave<br>San Jose, CA 95110<br>United
                        States of America<br>电子邮件: fielding@gbiv.com<br>URI: <a
                            href="https://roy.gbiv.com/">https://roy.gbiv.com/</a></address>
                    <address><b>Mark Nottingham</b> (编辑)<br>Fastly<br>Prahran<br>Australia<br>电子邮件:
                        mnot@mnot.net<br>URI: <a href="https://www.mnot.net/">https://www.mnot.net/</a></address>
                    <address><b>Julian Reschke</b> (编辑)<br>greenbytes GmbH<br>Hafenweg 16<br>48155
                        Münster<br>Germany<br>电子邮件: julian.reschke@greenbytes.de<br>URI: <a
                            href="https://greenbytes.de/tech/webdav/">https://greenbytes.de/tech/webdav/</a></address>
                </section>
            </div>
        </div>
    </div>
    <script src="https://httpwg.org/assets/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="https://httpwg.org/assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/dropdown.js"></script>
</body>

</html>