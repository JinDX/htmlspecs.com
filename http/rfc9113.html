<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="zh-hans">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RFC 9113 - HTTP/2</title>
    <script>
        function getMeta(rfcno, container) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "https://www.rfc-editor.org/rfc/rfc" + rfcno + ".json", true);
            xhr.onload = function (e) {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        var data = JSON.parse(xhr.response);

                        var cont = document.getElementById(container);
                        // empty the container
                        while (cont.firstChild) {
                            cont.removeChild(myNode.firstChild);
                        }

                        var c = data.status;
                        if (c) {
                            var bld = newElementWithText("b", c);
                            cont.appendChild(bld);
                        } else {
                            cont.appendChild(newElementWithText("i", "(document status unknown)"));
                        }

                        c = data.updated_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Updated by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.obsoleted_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Obsoleted by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.errata_url;
                        if (c) {
                            cont.appendChild(newElement("br"));
                            var link = newElementWithText("a", "errata");
                            link.setAttribute("href", c);
                            var errata = newElementWithText("i", "This document has ");
                            errata.appendChild(link);
                            errata.appendChild(newText("."));
                            cont.appendChild(errata);
                        }

                        cont.style.display = "block";
                    } else {
                        console.error(xhr.statusText);
                    }
                }
            };
            xhr.onerror = function (e) {
                console.error(xhr.status + " " + xhr.statusText);
            };
            xhr.send(null);
        }
        function appendRfcLinks(parent, updates) {
            var template = "https://www.rfc-editor.org/rfc/rfc{rfc}.html";
            for (var i = 0; i < updates.length; i++) {
                var rfc = updates[i].trim().toLowerCase();
                if (rfc.substring(0, 3) == "rfc") {
                    var no = parseInt(rfc.substring(3), 10);

                    var link = newElement("a");
                    link.setAttribute("href", template.replace("{rfc}", no));
                    link.appendChild(newText(no));
                    parent.appendChild(link);
                } else {
                    parent.appendChild(newText(rfc));
                }
                if (i != updates.length - 1) {
                    parent.appendChild(newText(", "));
                }
            }
        }

        // DOM helpers
        function newElement(name) {
            return document.createElement(name);
        }
        function newElementWithText(name, txt) {
            var e = document.createElement(name);
            e.appendChild(newText(txt));
            return e;
        }
        function newText(text) {
            return document.createTextNode(text);
        }
    </script>
    <script>
        function anchorRewrite() {
            map = {};
            if (window.location.hash.length >= 1) {
                var fragid = window.location.hash.substr(1);
                if (fragid) {
                    if (!document.getElementById(fragid)) {
                        var prefix = "rfc.";
                        var mapped = map[fragid];
                        if (mapped) {
                            window.location.hash = mapped;
                        } else if (fragid.indexOf("section-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(8).replace("-", ".p.");
                        } else if (fragid.indexOf("appendix-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(9).replace("-", ".p.");
                        } else if (fragid.indexOf("s-") == 0) {
                            var postfix = fragid.substring(2);
                            if (postfix.startsWith("abstract")) {
                                window.location.hash = prefix + postfix;
                            } else if (postfix.startsWith("note-")) {
                                window.location.hash = prefix + "note." + postfix.substring(5).replace("-", ".p.");
                            } else {
                                window.location.hash = prefix + "section." + postfix.replace("-", ".p.");
                            }
                        } else if (fragid.indexOf("p-") == 0) {
                            var r = fragid.substring(2);
                            var p = r.indexOf("-");
                            if (p >= 0) {
                                window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
                            }
                        }
                    }
                }
            }
        }
        window.addEventListener('hashchange', anchorRewrite);
        window.addEventListener('DOMContentLoaded', anchorRewrite);
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="article">
    <meta property="og:title" content="RFC9113">
    <meta property="og:description" content="HTTP/2">
    <meta property="og:url" content="https://httpwg.org/specs/rfc9113.html">
    <meta property="og:site_name" content="IETF HTTP Working Group Specifications">
    <meta property="og:image" content="https://httpwg.org/assets/favicon/apple-icon-180x180.png">
    <link rel="stylesheet" type="text/css"
        href="https://httpwg.org/assets/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <style type="text/css">
        body {
            padding-top: 80px;
            padding-bottom: 80px;
            position: relative;
        }

        .table.header th,
        .table.header td {
            border-top: none;
            padding: 0;
        }

        #sidebar {
            margin-top: -10px;
            height: 90%;
            overflow-y: auto;
            font-size: 90%;
        }

        #rfc\.meta {
            width: 40%;
            float: right
        }

        .toc ul {
            list-style: none;
        }

        .filename {
            color: rgb(119, 119, 119);
            font-size: 23px;
            font-weight: normal;
            height: auto;
            line-height: 23px;
        }

        dl {
            margin-left: 1em;
        }

        dl.dl-horizontal {
            margin-left: 0;
        }

        dl>dt {
            float: left;
            margin-right: 1em;
        }

        dl.nohang>dt {
            float: none;
        }

        dl>dd {
            margin-bottom: .5em;
        }

        dl.compact>dd {
            margin-bottom: 0em;
        }

        dl>dd>dl {
            margin-top: 0.5em;
            margin-bottom: 0em;
        }

        ul.empty {
            list-style-type: none;
        }

        ul.empty li {
            margin-top: .5em;
        }

        td.reference {
            padding-right: 1em;
            vertical-align: top;
        }

        .feedback {
            position: fixed;
            bottom: 5px;
            right: 5px;
        }

        .fbbutton {
            margin-left: 5px;
        }

        h1 a,
        h2 a,
        h3 a,
        h4 a,
        h5 a,
        h6 a {
            color: rgb(51, 51, 51);
        }

        span.tt {
            font: 11pt consolas, monospace;
            font-size-adjust: none;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="https://httpwg.org/assets/site.css">
    <link rel="Contents" href="#rfc.toc">
    <link rel="Author" href="#rfc.authors">
    <link rel="License" href="#rfc.copyrightnotice">
    <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
    <link rel="Chapter" title="2 HTTP/2 Protocol Overview" href="#rfc.section.2">
    <link rel="Chapter" title="3 Starting HTTP/2" href="#rfc.section.3">
    <link rel="Chapter" title="4 HTTP Frames" href="#rfc.section.4">
    <link rel="Chapter" title="5 Streams and Multiplexing" href="#rfc.section.5">
    <link rel="Chapter" title="6 Frame Definitions" href="#rfc.section.6">
    <link rel="Chapter" title="7 Error Codes" href="#rfc.section.7">
    <link rel="Chapter" title="8 Expressing HTTP Semantics in HTTP/2" href="#rfc.section.8">
    <link rel="Chapter" title="9 HTTP/2 Connections" href="#rfc.section.9">
    <link rel="Chapter" title="10 Security Considerations" href="#rfc.section.10">
    <link rel="Chapter" title="11 IANA Considerations" href="#rfc.section.11">
    <link rel="Chapter" title="12 References" href="#rfc.section.12">
    <link rel="Appendix" title="A Prohibited TLS 1.2 Cipher Suites" href="#rfc.section.A">
    <link rel="Appendix" title="B Changes from RFC 7540" href="#rfc.section.B">
    <link rel="Appendix" title="Acknowledgments" href="#rfc.section.unnumbered-4">
    <link rel="Appendix" title="Contributors" href="#rfc.section.unnumbered-5">
    <link href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-http2bis-latest" rel="prev">
    <link href="https://dx.doi.org/10.17487/rfc9113" rel="alternate">
    <link href="urn:issn:2070-1721" rel="alternate">
    <link rel="Alternate" title="Plain Text Version" href="http://www.ietf.org/rfc/rfc9113.txt">
    <link rel="Help" title="RFC-Editor's Status Page" href="https://www.rfc-editor.org/info/rfc9113">
    <meta name="viewport" content="initial-scale=1">
    <meta name="generator"
        content="https://github.com/mnot/RFCBootstrap XSLT vendor: Saxonica http://www.saxonica.com/">
    <meta name="keywords" content="HTTP, SPDY, Web">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.creator" content="Thomson, M.">
    <meta name="dcterms.creator" content="Benfield, C.">
    <meta name="dcterms.identifier" content="urn:ietf:rfc:9113">
    <meta name="dcterms.issued" content="2022-06">
    <meta name="dct.replaces" content="urn:ietf:rfc:7540">
    <meta name="dct.replaces" content="urn:ietf:rfc:8740">
    <meta name="dcterms.abstract"
        content="This specification describes an optimized expression of the semantics of the Hypertext Transfer Protocol (HTTP), referred to as HTTP version 2 (HTTP/2). HTTP/2 enables a more efficient use of network resources and a reduced latency by introducing field compression and allowing multiple concurrent exchanges on the same connection.This document obsoletes RFCs 7540 and 8740.">
    <meta name="dcterms.isPartOf" content="urn:issn:2070-1721">
    <meta name="description"
        content="This specification describes an optimized expression of the semantics of the Hypertext Transfer Protocol (HTTP), referred to as HTTP version 2 (HTTP/2). HTTP/2 enables a more efficient use of network resources and a reduced latency by introducing field compression and allowing multiple concurrent exchanges on the same connection.This document obsoletes RFCs 7540 and 8740.">
</head>

<body onload="getMeta(9113,'rfc.meta');">
    <nav class="navbar navbar-dark bg-dark d-print-none navbar-expand-lg fixed-top ps-3 pe-3" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse"
                aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand" href="https://httpwg.org/"><img src="https://httpwg.org/assets/http.svg"
                    height="23"></a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">

            <div class="navbar-nav me-auto">

                <a class="nav-item ms-1 text-white" href="https://httpwg.org/specs/">📄 Documentation</a>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Work in
                        Progress</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/http-extensions/">HTTP Extensions</a></li>
                        <li class="dropdown-item"><a
                                href="https://github.com/httpwg/admin/issues?q=is%3Aissue+is%3Aopen+label%3Aadoption">Future
                                Work</a></li>
                    </ul>
                </div>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Participate</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/about/">About the HTTP Working Group</a>
                        </li>
                        <li class="divider"></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/CONTRIBUTING.html">Contribution Policy</a>
                        </li>
                        <li class="dropdown-item"><a href="http://datatracker.ietf.org/wg/httpbis/charter/">WG
                                Charter</a></li>
                        <li class="dropdown-item"><a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">Group
                                Mailing List 📨</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/wg-materials/">Meeting Materials</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/admin/editors/">Document Editor
                                Resources</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>
    <div class="container" id="top">
        <div class="row">
            <div class="col-lg-4 order-last d-none d-lg-block" id="sidebar" role="navigation">
                <div class="navbar">
                    <div class="navbar-brand"><a href="#top"><strong>RFC </strong>9113</a></div><br clear="all">
                    <div class="">
                        <div class="toc ">
                            <ul>
                                <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#intro">介绍</a>
                                </li>
                                <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#Overview">HTTP/2 协议概述</a>
                                    <ul>
                                        <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.2.1">文档组织</a></li>
                                        <li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.2.2">约定与术语</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#starting">启动
                                        HTTP/2</a>
                                    <ul>
                                        <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#versioning">HTTP/2 版本标识</a></li>
                                        <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#discover-https">为 "<span class="tt">https</span>" URI 启动
                                                HTTP/2</a></li>
                                        <li><a href="#rfc.section.3.3">3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#known-http">通过先验知识启动 HTTP/2</a></li>
                                        <li><a href="#rfc.section.3.4">3.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#preface">HTTP/2 连接前言</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#FramingLayer">HTTP
                                        帧</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#FrameHeader">帧格式</a></li>
                                        <li><a href="#rfc.section.4.2">4.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#FrameSize">帧大小</a></li>
                                        <li><a href="#rfc.section.4.3">4.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#FieldBlock">字段段压缩与解压缩</a>
                                            <ul>
                                                <li><a href="#rfc.section.4.3.1">4.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#dynamic-table">压缩状态</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#StreamsLayer">流与
                                        复用</a>
                                    <ul>
                                        <li><a href="#rfc.section.5.1">5.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#StreamStates">流状态</a>
                                            <ul>
                                                <li><a href="#rfc.section.5.1.1">5.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#StreamIdentifiers">流标识符</a></li>
                                                <li><a href="#rfc.section.5.1.2">5.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#rfc.section.5.1.2">流并发</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.5.2">5.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#FlowControl">流控制</a>
                                            <ul>
                                                <li><a href="#rfc.section.5.2.1">5.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#fc-principles">流控制原则</a></li>
                                                <li><a href="#rfc.section.5.2.2">5.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#DisableFlowControl">流控制的适当使用</a>
                                                </li>
                                                <li><a href="#rfc.section.5.2.3">5.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#FlowControlPerformance">流控制性能</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.5.3">5.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#StreamPriority">优先级</a>
                                            <ul>
                                                <li><a href="#rfc.section.5.3.1">5.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#PriorityHistory">RFC 7540 中的优先级背景</a>
                                                </li>
                                                <li><a href="#rfc.section.5.3.2">5.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#PriorityHere">本文档中的优先级信令</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.5.4">5.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ErrorHandler">错误处理</a>
                                            <ul>
                                                <li><a href="#rfc.section.5.4.1">5.4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ConnectionErrorHandler">连接错误处理</a>
                                                </li>
                                                <li><a href="#rfc.section.5.4.2">5.4.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#StreamErrorHandler">流错误处理</a></li>
                                                <li><a href="#rfc.section.5.4.3">5.4.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#rfc.section.5.4.3">连接终止</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.5.5">5.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#extensibility">扩展 HTTP/2</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#FrameTypes">帧
                                        定义</a>
                                    <ul>
                                        <li><a href="#rfc.section.6.1">6.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#DATA">DATA</a></li>
                                        <li><a href="#rfc.section.6.2">6.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#HEADERS">HEADERS</a></li>
                                        <li><a href="#rfc.section.6.3">6.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#PRIORITY">PRIORITY</a></li>
                                        <li><a href="#rfc.section.6.4">6.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#RST_STREAM">RST_STREAM</a></li>
                                        <li><a href="#rfc.section.6.5">6.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#SETTINGS">SETTINGS</a>
                                            <ul>
                                                <li><a href="#rfc.section.6.5.1">6.5.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#SettingFormat">SETTINGS 格式</a></li>
                                                <li><a href="#rfc.section.6.5.2">6.5.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#SettingValues">已定义的设置</a></li>
                                                <li><a href="#rfc.section.6.5.3">6.5.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#SettingsSync">设置同步</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.6.6">6.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#PUSH_PROMISE">PUSH_PROMISE</a></li>
                                        <li><a href="#rfc.section.6.7">6.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#PING">PING</a></li>
                                        <li><a href="#rfc.section.6.8">6.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#GOAWAY">GOAWAY</a></li>
                                        <li><a href="#rfc.section.6.9">6.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#WINDOW_UPDATE">WINDOW_UPDATE</a>
                                            <ul>
                                                <li><a href="#rfc.section.6.9.1">6.9.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#rfc.section.6.9.1">流控制窗口</a></li>
                                                <li><a href="#rfc.section.6.9.2">6.9.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#InitialWindowSize">初始流控制窗口大小</a>
                                                </li>
                                                <li><a href="#rfc.section.6.9.3">6.9.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#rfc.section.6.9.3">减少流窗口大小</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.6.10">6.10.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#CONTINUATION">CONTINUATION</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#ErrorCodes">错误
                                        代码</a></li>
                                <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a href="#HttpLayer">在 HTTP/2 中表达
                                        HTTP 语义</a>
                                    <ul>
                                        <li><a href="#rfc.section.8.1">8.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#HttpFraming">HTTP 消息封帧</a>
                                            <ul>
                                                <li><a href="#rfc.section.8.1.1">8.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#malformed">格式错误的消息</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.8.2">8.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#HttpHeaders">HTTP 字段</a>
                                            <ul>
                                                <li><a href="#rfc.section.8.2.1">8.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#rfc.section.8.2.1">字段有效性</a></li>
                                                <li><a href="#rfc.section.8.2.2">8.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ConnectionSpecific">连接特定的首部字段</a>
                                                </li>
                                                <li><a href="#rfc.section.8.2.3">8.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#CompressCookie">压缩 Cookie 首部字段</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.8.3">8.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#PseudoHeaderFields">HTTP 控制数据</a>
                                            <ul>
                                                <li><a href="#rfc.section.8.3.1">8.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#HttpRequest">请求伪首部字段</a></li>
                                                <li><a href="#rfc.section.8.3.2">8.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#HttpResponse">响应伪首部字段</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.8.4">8.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#PushResources">服务器推送</a>
                                            <ul>
                                                <li><a href="#rfc.section.8.4.1">8.4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#PushRequests">推送请求</a></li>
                                                <li><a href="#rfc.section.8.4.2">8.4.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#PushResponses">推送响应</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.8.5">8.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#CONNECT">CONNECT 方法</a></li>
                                        <li><a href="#rfc.section.8.6">8.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#informational-responses">Upgrade 首部字段</a></li>
                                        <li><a href="#rfc.section.8.7">8.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#Reliability">请求可靠性</a></li>
                                        <li><a href="#rfc.section.8.8">8.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#HttpExamples">示例</a>
                                            <ul>
                                                <li><a href="#rfc.section.8.8.1">8.8.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#rfc.section.8.8.1">简单请求</a></li>
                                                <li><a href="#rfc.section.8.8.2">8.8.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#rfc.section.8.8.2">简单响应</a></li>
                                                <li><a href="#rfc.section.8.8.3">8.8.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#rfc.section.8.8.3">复杂请求</a></li>
                                                <li><a href="#rfc.section.8.8.4">8.8.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#rfc.section.8.8.4">带主体的响应</a></li>
                                                <li><a href="#rfc.section.8.8.5">8.8.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#rfc.section.8.8.5">信息性响应</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.9">9.</a>&nbsp;&nbsp;&nbsp;<a href="#HttpExtra">HTTP/2
                                        连接</a>
                                    <ul>
                                        <li><a href="#rfc.section.9.1">9.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.9.1">连接管理</a>
                                            <ul>
                                                <li><a href="#rfc.section.9.1.1">9.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#reuse">连接重用</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.9.2">9.2.</a>&nbsp;&nbsp;&nbsp;<a href="#TLSUsage">TLS
                                                特性的使用</a>
                                            <ul>
                                                <li><a href="#rfc.section.9.2.1">9.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#tls12features">TLS 1.2 特性</a></li>
                                                <li><a href="#rfc.section.9.2.2">9.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#tls12ciphers">TLS 1.2 密码套件</a></li>
                                                <li><a href="#rfc.section.9.2.3">9.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#tls13features">TLS 1.3 特性</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.10">10.</a>&nbsp;&nbsp;&nbsp;<a href="#security">安全注意事项</a>
                                    <ul>
                                        <li><a href="#rfc.section.10.1">10.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#authority">服务器权限</a></li>
                                        <li><a href="#rfc.section.10.2">10.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.10.2">跨协议攻击</a></li>
                                        <li><a href="#rfc.section.10.3">10.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.10.3">中间人封装攻击</a></li>
                                        <li><a href="#rfc.section.10.4">10.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.10.4">推送响应的可缓存性</a></li>
                                        <li><a href="#rfc.section.10.5">10.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#dos">拒绝服务（DoS）考虑</a>
                                            <ul>
                                                <li><a href="#rfc.section.10.5.1">10.5.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#MaxFieldBlock">字段块大小限制</a></li>
                                                <li><a href="#rfc.section.10.5.2">10.5.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#connectDos">CONNECT 问题</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.10.6">10.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.10.6">压缩的使用</a></li>
                                        <li><a href="#rfc.section.10.7">10.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#padding">填充的使用</a></li>
                                        <li><a href="#rfc.section.10.8">10.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.10.8">隐私考虑</a></li>
                                        <li><a href="#rfc.section.10.9">10.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.10.9">远程时序攻击</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.11">11.</a>&nbsp;&nbsp;&nbsp;<a href="#iana">IANA
                                        注意事项</a>
                                    <ul>
                                        <li><a href="#rfc.section.11.1">11.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#HTTP2-Settings">HTTP2-Settings 首部字段注册</a></li>
                                        <li><a href="#rfc.section.11.2">11.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#iana-h2c">h2c Upgrade 令牌</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.12">12.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references">参考文献</a>
                                    <ul>
                                        <li><a href="#rfc.section.12.1">12.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.2">规范性参考文献</a></li>
                                        <li><a href="#rfc.section.12.2">12.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.3">信息性参考文献</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#BadCipherSuites">附录 A. 禁止的 TLS 1.2 密码套件</a></li>
                                <li><a href="#rfc.section.B">Appendix B.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#revision-updates">附录 B. 与 RFC 7540 的变更</a></li>
                                <li><a href="#rfc.section.unnumbered-4">Acknowledgments</a></li>
                                <li><a href="#rfc.section.unnumbered-5">Contributors</a></li>
                                <li><a href="#rfc.authors">Authors' Addresses</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 order-first main" role="main">
                <header>
                    <table class="table table-condensed header" id="rfc.headerblock">
                        <tbody>
                            <tr>
                                <td class="text-left">互联网工程任务组（IETF）</td>
                                <td class="text-right">M. Thomson，编辑</td>
                            </tr>
                            <tr>
                                <td class="text-left">请求评论：9113</td>
                                <td class="text-right">Mozilla</td>
                            </tr>
                            <tr>
                                <td class="text-left">废止： <a href="#RFC7540">7540</a>, <a href="#RFC8740">8740</a></td>
                                <td class="text-right">C. Benfield，编辑</td>
                            </tr>
                            <tr>
                                <td class="text-left">类别：标准轨道</td>
                                <td class="text-right">Apple Inc.</td>
                            </tr>
                            <tr>
                                <td class="text-left">ISSN：2070-1721</td>
                                <td class="text-right">2022年6月</td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="rfc.title">
                        <h1>HTTP/2</h1>
                    </div>
                </header>
                <hr>
                <h2 id="rfc.abstract"><a href="#rfc.abstract">摘要</a></h2>
                <div class="lead">
                    <div id="rfc.abstract.p.1">
                        <p>本规范描述了超文本传输协议（HTTP）语义的一种优化表达，称为 HTTP 版本 2（HTTP/2）。HTTP/2
                            通过引入字段压缩并允许在同一连接上进行多个并发交换，实现了更有效的网络资源利用并降低了延迟。</p>
                    </div>
                    <div id="rfc.abstract.p.2">
                        <p>本文件废止了 RFC 7540 和 8740。</p>
                    </div>
                </div>
                <aside id="rfc.meta" class="alert alert-info"></aside>
                <section id="rfc.status">
                    <h2><a href="#rfc.status">本备忘录的状态</a></h2>
                    <div id="rfc.boilerplate.1.p.1">
                        <p>这是一个互联网标准轨道文档。</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.2">
                        <p>本文件是互联网工程任务组（IETF）的产物。它代表了 IETF 社区的共识。它已接受公开审查并获互联网工程指导小组（IESG）批准发布。有关互联网标准的更多信息，请参见 <a
                                href="https://www.rfc-editor.org/rfc/rfc7841.html#section-2">RFC 7841 的第2节</a>。</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.3">
                        <p>有关本文件当前状态、任何勘误以及如何就其提供反馈的信息，请访问 <a
                                href="https://www.rfc-editor.org/info/rfc9113">https://www.rfc-editor.org/info/rfc9113</a>。
                        </p>
                    </div>
                </section>
                <section id="rfc.copyrightnotice">
                    <h2><a href="#rfc.copyrightnotice">版权声明</a></h2>
                    <div id="rfc.boilerplate.2.p.1">
                        <p>版权 (c) 2022 IETF Trust 及文件作者所列人员。保留所有权利。</p>
                    </div>
                    <div id="rfc.boilerplate.2.p.2">
                        <p>本文件受 BCP 78 以及 IETF Trust 的与 IETF 文档相关的法律规定（<a
                                href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>）约束，自本文件发布之日生效。请仔细阅读这些文件，因为它们描述了您就本文件的权利和限制。从本文件中提取的代码组件必须包含信托法律规定第
                            4.e 节所述的修订 BSD 许可证文本，并且按修订 BSD 许可证所述不提供任何担保。</p>
                    </div>
                </section>
                <div class="toc d-lg-none">
                    <ul>
                        <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#intro">介绍</a></li>
                        <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#Overview">HTTP/2 协议概述</a>
                            <ul>
                                <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.2.1">文档组织</a></li>
                                <li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.2.2">约定与术语</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#starting">启动 HTTP/2</a>
                            <ul>
                                <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a href="#versioning">HTTP/2
                                        版本标识</a></li>
                                <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a href="#discover-https">为
                                        "<span class="tt">https</span>" URI 启动 HTTP/2</a></li>
                                <li><a href="#rfc.section.3.3">3.3.</a>&nbsp;&nbsp;&nbsp;<a href="#known-http">通过先验知识启动
                                        HTTP/2</a></li>
                                <li><a href="#rfc.section.3.4">3.4.</a>&nbsp;&nbsp;&nbsp;<a href="#preface">HTTP/2
                                        连接前言</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#FramingLayer">HTTP 帧</a>
                            <ul>
                                <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a href="#FrameHeader">帧格式</a>
                                </li>
                                <li><a href="#rfc.section.4.2">4.2.</a>&nbsp;&nbsp;&nbsp;<a href="#FrameSize">帧大小</a>
                                </li>
                                <li><a href="#rfc.section.4.3">4.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#FieldBlock">字段段压缩与解压缩</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.3.1">4.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#dynamic-table">压缩状态</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#StreamsLayer">流与复用</a>
                            <ul>
                                <li><a href="#rfc.section.5.1">5.1.</a>&nbsp;&nbsp;&nbsp;<a href="#StreamStates">流状态</a>
                                    <ul>
                                        <li><a href="#rfc.section.5.1.1">5.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#StreamIdentifiers">流标识符</a></li>
                                        <li><a href="#rfc.section.5.1.2">5.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.5.1.2">流并发</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.5.2">5.2.</a>&nbsp;&nbsp;&nbsp;<a href="#FlowControl">流控制</a>
                                    <ul>
                                        <li><a href="#rfc.section.5.2.1">5.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#fc-principles">流控制原则</a></li>
                                        <li><a href="#rfc.section.5.2.2">5.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#DisableFlowControl">流控制的适当使用</a></li>
                                        <li><a href="#rfc.section.5.2.3">5.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#FlowControlPerformance">流控制性能</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.5.3">5.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#StreamPriority">优先级</a>
                                    <ul>
                                        <li><a href="#rfc.section.5.3.1">5.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#PriorityHistory">RFC 7540 中的优先级背景</a></li>
                                        <li><a href="#rfc.section.5.3.2">5.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#PriorityHere">本文档中的优先级信令</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.5.4">5.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#ErrorHandler">错误处理</a>
                                    <ul>
                                        <li><a href="#rfc.section.5.4.1">5.4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ConnectionErrorHandler">连接错误处理</a></li>
                                        <li><a href="#rfc.section.5.4.2">5.4.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#StreamErrorHandler">流错误处理</a></li>
                                        <li><a href="#rfc.section.5.4.3">5.4.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.5.4.3">连接终止</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.5.5">5.5.</a>&nbsp;&nbsp;&nbsp;<a href="#extensibility">扩展
                                        HTTP/2</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#FrameTypes">帧定义</a>
                            <ul>
                                <li><a href="#rfc.section.6.1">6.1.</a>&nbsp;&nbsp;&nbsp;<a href="#DATA">DATA</a></li>
                                <li><a href="#rfc.section.6.2">6.2.</a>&nbsp;&nbsp;&nbsp;<a href="#HEADERS">HEADERS</a>
                                </li>
                                <li><a href="#rfc.section.6.3">6.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#PRIORITY">PRIORITY</a></li>
                                <li><a href="#rfc.section.6.4">6.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#RST_STREAM">RST_STREAM</a></li>
                                <li><a href="#rfc.section.6.5">6.5.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#SETTINGS">SETTINGS</a>
                                    <ul>
                                        <li><a href="#rfc.section.6.5.1">6.5.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#SettingFormat">SETTINGS 格式</a></li>
                                        <li><a href="#rfc.section.6.5.2">6.5.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#SettingValues">已定义的设置</a></li>
                                        <li><a href="#rfc.section.6.5.3">6.5.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#SettingsSync">设置同步</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.6.6">6.6.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#PUSH_PROMISE">PUSH_PROMISE</a></li>
                                <li><a href="#rfc.section.6.7">6.7.</a>&nbsp;&nbsp;&nbsp;<a href="#PING">PING</a></li>
                                <li><a href="#rfc.section.6.8">6.8.</a>&nbsp;&nbsp;&nbsp;<a href="#GOAWAY">GOAWAY</a>
                                </li>
                                <li><a href="#rfc.section.6.9">6.9.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#WINDOW_UPDATE">WINDOW_UPDATE</a>
                                    <ul>
                                        <li><a href="#rfc.section.6.9.1">6.9.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.6.9.1">流控制窗口</a></li>
                                        <li><a href="#rfc.section.6.9.2">6.9.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#InitialWindowSize">初始流控制窗口大小</a></li>
                                        <li><a href="#rfc.section.6.9.3">6.9.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.6.9.3">减少流窗口大小</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.6.10">6.10.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#CONTINUATION">CONTINUATION</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#ErrorCodes">错误代码</a></li>
                        <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a href="#HttpLayer">在 HTTP/2 中表达 HTTP
                                语义</a>
                            <ul>
                                <li><a href="#rfc.section.8.1">8.1.</a>&nbsp;&nbsp;&nbsp;<a href="#HttpFraming">HTTP
                                        消息封帧</a>
                                    <ul>
                                        <li><a href="#rfc.section.8.1.1">8.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#malformed">格式错误的消息</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.8.2">8.2.</a>&nbsp;&nbsp;&nbsp;<a href="#HttpHeaders">HTTP
                                        字段</a>
                                    <ul>
                                        <li><a href="#rfc.section.8.2.1">8.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.8.2.1">字段有效性</a></li>
                                        <li><a href="#rfc.section.8.2.2">8.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ConnectionSpecific">连接特定的首部字段</a></li>
                                        <li><a href="#rfc.section.8.2.3">8.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#CompressCookie">压缩 Cookie 首部字段</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.8.3">8.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#PseudoHeaderFields">HTTP 控制数据</a>
                                    <ul>
                                        <li><a href="#rfc.section.8.3.1">8.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#HttpRequest">请求伪首部字段</a></li>
                                        <li><a href="#rfc.section.8.3.2">8.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#HttpResponse">响应伪首部字段</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.8.4">8.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#PushResources">服务器推送</a>
                                    <ul>
                                        <li><a href="#rfc.section.8.4.1">8.4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#PushRequests">推送请求</a></li>
                                        <li><a href="#rfc.section.8.4.2">8.4.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#PushResponses">推送响应</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.8.5">8.5.</a>&nbsp;&nbsp;&nbsp;<a href="#CONNECT">CONNECT
                                        方法</a></li>
                                <li><a href="#rfc.section.8.6">8.6.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#informational-responses">Upgrade 首部字段</a></li>
                                <li><a href="#rfc.section.8.7">8.7.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#Reliability">请求可靠性</a></li>
                                <li><a href="#rfc.section.8.8">8.8.</a>&nbsp;&nbsp;&nbsp;<a href="#HttpExamples">示例</a>
                                    <ul>
                                        <li><a href="#rfc.section.8.8.1">8.8.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.8.8.1">简单请求</a></li>
                                        <li><a href="#rfc.section.8.8.2">8.8.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.8.8.2">简单响应</a></li>
                                        <li><a href="#rfc.section.8.8.3">8.8.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.8.8.3">复杂请求</a></li>
                                        <li><a href="#rfc.section.8.8.4">8.8.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.8.8.4">带主体的响应</a></li>
                                        <li><a href="#rfc.section.8.8.5">8.8.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.8.8.5">信息性响应</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.9">9.</a>&nbsp;&nbsp;&nbsp;<a href="#HttpExtra">HTTP/2 连接</a>
                            <ul>
                                <li><a href="#rfc.section.9.1">9.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.9.1">连接管理</a>
                                    <ul>
                                        <li><a href="#rfc.section.9.1.1">9.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#reuse">连接重用</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.9.2">9.2.</a>&nbsp;&nbsp;&nbsp;<a href="#TLSUsage">TLS
                                        特性的使用</a>
                                    <ul>
                                        <li><a href="#rfc.section.9.2.1">9.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#tls12features">TLS 1.2 特性</a></li>
                                        <li><a href="#rfc.section.9.2.2">9.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#tls12ciphers">TLS 1.2 密码套件</a></li>
                                        <li><a href="#rfc.section.9.2.3">9.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#tls13features">TLS 1.3 特性</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.10">10.</a>&nbsp;&nbsp;&nbsp;<a href="#security">安全注意事项</a>
                            <ul>
                                <li><a href="#rfc.section.10.1">10.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#authority">服务器权限</a></li>
                                <li><a href="#rfc.section.10.2">10.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.10.2">跨协议攻击</a></li>
                                <li><a href="#rfc.section.10.3">10.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.10.3">中间人封装攻击</a></li>
                                <li><a href="#rfc.section.10.4">10.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.10.4">推送响应的可缓存性</a></li>
                                <li><a href="#rfc.section.10.5">10.5.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#dos">拒绝服务（DoS）考虑</a>
                                    <ul>
                                        <li><a href="#rfc.section.10.5.1">10.5.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#MaxFieldBlock">字段块大小限制</a></li>
                                        <li><a href="#rfc.section.10.5.2">10.5.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#connectDos">CONNECT 问题</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.10.6">10.6.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.10.6">压缩的使用</a></li>
                                <li><a href="#rfc.section.10.7">10.7.</a>&nbsp;&nbsp;&nbsp;<a href="#padding">填充的使用</a>
                                </li>
                                <li><a href="#rfc.section.10.8">10.8.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.10.8">隐私考虑</a></li>
                                <li><a href="#rfc.section.10.9">10.9.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.10.9">远程时序攻击</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.11">11.</a>&nbsp;&nbsp;&nbsp;<a href="#iana">IANA 注意事项</a>
                            <ul>
                                <li><a href="#rfc.section.11.1">11.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#HTTP2-Settings">HTTP2-Settings 首部字段注册</a></li>
                                <li><a href="#rfc.section.11.2">11.2.</a>&nbsp;&nbsp;&nbsp;<a href="#iana-h2c">h2c
                                        Upgrade 令牌</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.12">12.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">参考文献</a>
                            <ul>
                                <li><a href="#rfc.section.12.1">12.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.2">规范性参考文献</a></li>
                                <li><a href="#rfc.section.12.2">12.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.3">信息性参考文献</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.A">附录 A.</a>&nbsp;&nbsp;&nbsp;<a href="#BadCipherSuites">禁止的 TLS 1.2
                                密码套件</a></li>
                        <li><a href="#rfc.section.B">附录 B.</a>&nbsp;&nbsp;&nbsp;<a href="#revision-updates">与 RFC 7540
                                的变更</a></li>
                        <li><a href="#rfc.section.unnumbered-4">致谢</a></li>
                        <li><a href="#rfc.section.unnumbered-5">贡献者</a></li>
                        <li><a href="#rfc.authors">作者联系方式</a></li>
                    </ul>
                </div>
                <hr class="hidden-print">
                <section id="intro">
                    <h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a href="#intro">介绍</a></h2>
                    <div id="rfc.section.1.p.1">
                        <p>使用超文本传输协议（HTTP，<a href="#RFC9110"><cite title="HTTP Semantics">[HTTP]</cite></a>）的应用的性能与每个
                            HTTP 版本如何使用底层传输以及传输运行的条件有关。</p>
                    </div>
                    <div id="rfc.section.1.p.2">
                        <p>发出多个并发请求可以降低延迟并提高应用性能。HTTP/1.0 仅允许在给定的 TCP <a href="#RFC0793"><cite
                                    title="Transmission Control Protocol">[TCP]</cite></a> 连接上同时存在一个未完成的请求。HTTP/1.1 <a
                                href="#RFC9112"><cite title="HTTP/1.1">[HTTP/1.1]</cite></a>
                            增加了请求流水线，但这只是部分解决了请求并发问题，仍然存在应用层的队首阻塞。因此，HTTP/1.0 和 HTTP/1.1 客户端使用与服务器的多个连接来发出并发请求。</p>
                    </div>
                    <div id="rfc.section.1.p.3">
                        <p>此外，HTTP 字段通常重复且冗长，导致不必要的网络流量，并使初始 TCP 拥塞窗口快速填满。当在新的 TCP 连接上发出多个请求时，这可能导致过高的延迟。</p>
                    </div>
                    <div id="rfc.section.1.p.4">
                        <p>HTTP/2 通过定义 HTTP 语义到底层连接的优化映射来解决这些问题。具体来说，它允许在同一连接上交错消息，并为 HTTP
                            字段使用高效编码。它还允许对请求进行优先级排序，使更重要的请求更快完成，从而进一步提高性能。</p>
                    </div>
                    <div id="rfc.section.1.p.5">
                        <p>由此产生的协议对网络更加友好，因为与 HTTP/1.x 相比可以使用更少的 TCP 连接。这意味着与其他流的竞争更少且连接寿命更长，从而更好地利用可用的网络容量。但请注意，本协议并未解决
                            TCP 的队首阻塞问题。</p>
                    </div>
                    <div id="rfc.section.1.p.6">
                        <p>最后，HTTP/2 还通过使用二进制消息分帧来实现更高效的消息处理。</p>
                    </div>
                    <div id="rfc.section.1.p.7">
                        <p>本文件废止 RFCs 7540 和 8740。<a href="#revision-updates" title="Changes from RFC 7540">附录 B</a>
                            列出了显著的变更。</p>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="Overview">
                    <h2 id="rfc.section.2" class="np"><a href="#rfc.section.2">2.</a>&nbsp;<a href="#Overview">HTTP/2
                            协议概述</a></h2>
                    <div id="rfc.section.2.p.1">
                        <p>HTTP/2 为 HTTP 语义提供了一个优化的传输。HTTP/2 支持所有核心的 HTTP 功能，但目标是比 HTTP/1.1 更高效。</p>
                    </div>
                    <div id="rfc.section.2.p.2">
                        <p>HTTP/2 是一种面向连接的应用层协议，运行在 TCP 连接之上（<a href="#RFC0793"><cite
                                    title="Transmission Control Protocol">[TCP]</cite></a>）。客户端为 TCP 连接的发起端。</p>
                    </div>
                    <div id="rfc.section.2.p.3">
                        <p>HTTP/2 中的基本协议单元是帧（<a href="#FrameHeader" title="Frame Format">第 4.1 节</a>）。每种帧类型具有不同的用途。例如，<a
                                href="#HEADERS" title="HEADERS">HEADERS</a> 和 <a href="#DATA" title="DATA">DATA</a> 帧构成了
                            HTTP 请求和响应的基础（<a href="#HttpFraming" title="HTTP Message Framing">第 8.1 节</a>）；其他帧类型如 <a
                                href="#SETTINGS" title="SETTINGS">SETTINGS</a>、<a href="#WINDOW_UPDATE"
                                title="WINDOW_UPDATE">WINDOW_UPDATE</a> 和 <a href="#PUSH_PROMISE"
                                title="PUSH_PROMISE">PUSH_PROMISE</a> 则用于支持其他 HTTP/2 特性。</p>
                    </div>
                    <div id="rfc.section.2.p.4">
                        <p>通过为每个 HTTP 请求/响应交换关联各自的流（<a href="#StreamsLayer" title="Streams and Multiplexing">第 5
                                节</a>）来实现请求的复用。流在很大程度上互相独立，因此被阻塞或停滞的请求或响应不会阻止其他流的进展。</p>
                    </div>
                    <div id="rfc.section.2.p.5">
                        <p>有效使用复用依赖于流量控制与优先级。流量控制（<a href="#FlowControl" title="Flow Control">第 5.2
                                节</a>）通过限制传输的数据量到接收方能够处理的范围，确保可以高效地使用复用流。优先级（<a href="#StreamPriority"
                                title="Prioritization">第 5.3 节</a>）确保有限资源得到最有效的使用。本次对 HTTP/2 的修订弃用了来自 <a
                                href="#RFC7540"><cite
                                    title="Hypertext Transfer Protocol Version 2 (HTTP/2)">[RFC7540]</cite></a>
                            的优先级信令方案。</p>
                    </div>
                    <div id="rfc.section.2.p.6">
                        <p>由于连接中使用的 HTTP 字段可能包含大量冗余数据，携带这些字段的帧会被压缩（<a href="#FieldBlock"
                                title="Field Section Compression and Decompression">第 4.3
                                节</a>）。这对常见情况下的请求大小尤其有利，允许将多个请求压缩为一个数据包。</p>
                    </div>
                    <div id="rfc.section.2.p.7">
                        <p>最后，HTTP/2 增加了一种新的可选交互模式，服务器可以将响应推送给客户端（<a href="#PushResources" title="Server Push">第 8.4
                                节</a>）。这旨在允许服务器推测性地向客户端发送服务器预期客户端需要的数据，以牺牲部分网络使用换取潜在的延迟收益。服务器通过合成一个请求并将其作为 <a
                                href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a>
                            帧发送来实现此目的，然后可以在单独的流上向该合成请求发送响应。</p>
                    </div>
                    <section id="n-document-organization">
                        <h3 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a>&nbsp;<a
                                href="#n-document-organization">文档组织</a></h3>
                        <div id="rfc.section.2.1.p.1" class="avoidbreakafter">
                            <p>HTTP/2 规范分为四部分：</p>
                        </div>
                        <div id="rfc.section.2.1.p.2">
                            <ul>
                                <li>启动 HTTP/2（<a href="#starting" title="Starting HTTP/2">第 3 节</a>）涵盖了如何启动 HTTP/2 连接。
                                </li>
                                <li>帧层（<a href="#FramingLayer" title="HTTP Frames">第 4 节</a>）和流层（<a href="#StreamsLayer"
                                        title="Streams and Multiplexing">第 5 节</a>）描述了 HTTP/2 帧的结构以及如何形成复用流。</li>
                                <li>帧（<a href="#FrameTypes" title="Frame Definitions">第 6 节</a>）和错误（<a
                                        href="#ErrorCodes" title="Error Codes">第 7 节</a>）定义包含了 HTTP/2 中使用的帧和错误类型的详尽信息。
                                </li>
                                <li>HTTP 映射（<a href="#HttpLayer" title="Expressing HTTP Semantics in HTTP/2">第 8
                                        节</a>）和附加要求（<a href="#HttpExtra" title="HTTP/2 Connections">第 9
                                        节</a>）描述了如何使用帧和流来表达 HTTP 语义。</li>
                            </ul>
                        </div>
                        <div id="rfc.section.2.1.p.3">
                            <p>虽然某些帧和流层的概念与 HTTP 是分离的，但本规范并不定义一个完全通用的帧层。帧和流层是为满足 HTTP 的需求而定制的。</p>
                        </div>
                    </section>
                    <section id="n-conventions-and-terminology">
                        <h3 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a>&nbsp;<a
                                href="#n-conventions-and-terminology">约定与术语</a></h3>
                        <div id="rfc.section.2.2.p.1">
                            <p>在本文档中，关键字 "<em class="bcp14">MUST</em>"、"<em class="bcp14">MUST NOT</em>"、"<em
                                    class="bcp14">REQUIRED</em>"、"<em class="bcp14">SHALL</em>"、"<em class="bcp14">SHALL
                                    NOT</em>"、"<em class="bcp14">SHOULD</em>"、"<em class="bcp14">SHOULD NOT</em>"、"<em
                                    class="bcp14">RECOMMENDED</em>"、"<em class="bcp14">NOT RECOMMENDED</em>"、"<em
                                    class="bcp14">MAY</em>" 和 "<em class="bcp14">OPTIONAL</em>" 的解释应当按照 <span
                                    class="nobr">BCP 14</span> 中的定义来理解，且仅当它们以全大写形式出现时，如此处所示。<a href="#RFC2119"><cite
                                        title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>
                                <a href="#RFC8174"><cite
                                        title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">[RFC8174]</cite></a>
                            </p>
                        </div>
                        <div id="rfc.section.2.2.p.2">
                            <p>所有数值均采用网络字节序。除非另有说明，值为无符号。字面值以十进制或十六进制表示，视情况而定。十六进制字面值以 "<span class="tt">0x</span>"
                                为前缀以区别于十进制字面值。</p>
                        </div>
                        <div id="rfc.section.2.2.p.3">
                            <p>本规范使用 <a href="https://www.rfc-editor.org/rfc/rfc9000.html#section-1.3">第 1.3 节</a>
                                中描述的约定来描述二进制格式（见 <a href="#RFC9000"><cite
                                        title="QUIC: A UDP-Based Multiplexed and Secure Transport">RFC 9000</cite></a>
                                <cite
                                    title="QUIC: A UDP-Based Multiplexed and Secure Transport">[QUIC]</cite>）。注意该格式使用网络字节序，并且高位比特在前，低位比特在后。
                            </p>
                        </div>
                        <div id="rfc.section.2.2.p.4" class="avoidbreakafter">
                            <p>下列术语将被使用：</p>
                        </div>
                        <div id="rfc.section.2.2.p.5">
                            <dl>
                                <dt>client:</dt>
                                <dd style="margin-left: 1.5em">发起 HTTP/2 连接的端点。客户端发送 HTTP 请求并接收 HTTP 响应。</dd>
                                <dt>connection:</dt>
                                <dd style="margin-left: 1.5em">两个端点之间的传输层连接。</dd>
                                <dt>connection error:</dt>
                                <dd style="margin-left: 1.5em">影响整个 HTTP/2 连接的错误。</dd>
                                <dt>endpoint:</dt>
                                <dd style="margin-left: 1.5em">连接的一端，指客户端或服务器中的任意一方。</dd>
                                <dt>frame:</dt>
                                <dd style="margin-left: 1.5em">HTTP/2 连接内的最小通信单元，由一个头部和根据帧类型结构化的可变长度八位组序列组成。</dd>
                                <dt>peer:</dt>
                                <dd style="margin-left: 1.5em">一个端点。当讨论特定端点时，“peer” 指的是相对于主要讨论对象的远端端点。</dd>
                                <dt>receiver:</dt>
                                <dd style="margin-left: 1.5em">接收帧的端点。</dd>
                                <dt>sender:</dt>
                                <dd style="margin-left: 1.5em">发送帧的端点。</dd>
                                <dt>server:</dt>
                                <dd style="margin-left: 1.5em">接受 HTTP/2 连接的端点。服务器接收 HTTP 请求并发送 HTTP 响应。</dd>
                                <dt>stream:</dt>
                                <dd style="margin-left: 1.5em">HTTP/2 连接内的双向帧流。</dd>
                                <dt>stream error:</dt>
                                <dd style="margin-left: 1.5em">单个 HTTP/2 流上的错误。</dd>
                            </dl>
                        </div>
                        <div id="rfc.section.2.2.p.6">
                            <p>最后，术语 "gateway"、"intermediary"、"proxy" 和 "tunnel" 在 <a
                                    href="https://www.rfc-editor.org/rfc/rfc9110.html#section-3.7">RFC 9110 第 3.7 节</a>
                                中定义（见 <a href="#RFC9110"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>）。中间件在不同时候既充当客户端又充当服务器的角色。</p>
                        </div>
                        <div id="rfc.section.2.2.p.7">
                            <p>消息主体中“内容”一词的含义在 <a href="https://www.rfc-editor.org/rfc/rfc9110.html#section-6.4">RFC
                                    9110 第 6.4 节</a> 中定义（见 <a href="#RFC9110"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>）。</p>
                        </div>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="starting">
                    <h2 id="rfc.section.3" class="np"><a href="#rfc.section.3">3.</a>&nbsp;<a href="#starting">启动
                            HTTP/2</a></h2>
                    <div id="rfc.section.3.p.1">
                        <p>生成 HTTP 请求的实现需要发现服务器是否支持 HTTP/2。</p>
                    </div>
                    <div id="rfc.section.3.p.2">
                        <p>HTTP/2 使用在 <a href="https://www.rfc-editor.org/rfc/rfc9110.html#section-4.2">RFC 9110 第 4.2
                                节</a> 中定义的 "<span class="tt">http</span>" 和 "<span class="tt">https</span>" URI 方案，与
                            HTTP/1.1 相同的默认端口号（见 <a href="#RFC9110"><cite title="HTTP Semantics">[HTTP]</cite></a> 和 <a
                                href="#RFC9112"><cite title="HTTP/1.1">[HTTP/1.1]</cite></a>）。这些 URI
                            并不包含关于上游服务器（客户端希望建立连接的直接对端）支持哪些 HTTP 版本的任何指示。</p>
                    </div>
                    <div id="rfc.section.3.p.3">
                        <p>确定对 "<span class="tt">http</span>" 和 "<span class="tt">https</span>" URI 的 HTTP/2
                            支持的方式是不同的。针对 "<span class="tt">https</span>" URI 的发现描述见 <a href="#discover-https"
                                title="Starting HTTP/2 for &#34;https&#34; URIs">第 3.2 节</a>。对于 "<span
                                class="tt">http</span>" URI 的 HTTP/2 支持只能通过带外手段发现，并且需要如 <a href="#known-http"
                                title="Starting HTTP/2 with Prior Knowledge">第 3.3 节</a> 所述的先验知识。</p>
                    </div>
                    <section id="versioning">
                        <h3 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a>&nbsp;<a href="#versioning">HTTP/2
                                版本标识</a></h3>
                        <div id="rfc.section.3.1.p.1">
                            <p>本文档定义的协议有两个标识符。基于任一标识符创建连接都意味着使用本文档中描述的传输、分帧和消息语义。</p>
                        </div>
                        <div id="rfc.section.3.1.p.2">
                            <ul>
                                <li>
                                    <div>
                                        <p>字符串 "h2" 标识在使用传输层安全（TLS）的情况下的协议；参见 <a href="#TLSUsage"
                                                title="Use of TLS Features">第 9.2 节</a>。该标识符用于 TLS 的 <a
                                                href="#RFC7301"><cite
                                                    title="Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension">ALPN
                                                    扩展</cite></a> 字段，并在任何标识通过 TLS 的 HTTP/2 的地方使用。</p>
                                    </div>
                                    <div>
                                        <p>字符串 "h2" 被序列化为 ALPN 协议标识符时为两个八位组序列：0x68, 0x32。</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>字符串 "h2c" 以前用于 HTTP Upgrade 机制的 Upgrade 首部字段中的令牌（参见 <a
                                                href="https://www.rfc-editor.org/rfc/rfc9110.html#section-7.8">RFC 9110
                                                第 7.8 节</a>）。该用法从未被广泛部署，并在本文档中被弃用。与之相关的 HTTP2-Settings 首部字段在用于升级到 "h2c"
                                            时也同样被弃用。</p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </section>
                    <section id="discover-https">
                        <h3 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a>&nbsp;<a href="#discover-https">为
                                "<span class="tt">https</span>" URI 启动 HTTP/2</a></h3>
                        <div id="rfc.section.3.2.p.1">
                            <p>向 "<span class="tt">https</span>" URI 发出请求的客户端使用 <a href="#RFC8446"><cite
                                        title="The Transport Layer Security (TLS) Protocol Version 1.3">TLS</cite></a>
                                <cite title="The Transport Layer Security (TLS) Protocol Version 1.3">[TLS13]</cite>，并使用
                                <a href="#RFC7301"><cite
                                        title="Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension">ALPN
                                        扩展</cite></a> <cite
                                    title="Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension">[TLS-ALPN]</cite>。
                            </p>
                        </div>
                        <div id="rfc.section.3.2.p.2">
                            <p>在 TLS 上的 HTTP/2 使用 "h2" 协议标识符。客户端不得发送或服务器不得选择 "h2c" 协议标识符；"h2c" 描述的是不使用 TLS 的协议。</p>
                        </div>
                        <div id="rfc.section.3.2.p.3">
                            <p>一旦 TLS 协商完成，客户端和服务器都 <em class="bcp14">MUST</em> 发送连接前言（<a href="#preface"
                                    title="HTTP/2 Connection Preface">第 3.4 节</a>）。</p>
                        </div>
                    </section>
                    <section id="known-http">
                        <h3 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3.</a>&nbsp;<a href="#known-http">通过先验知识启动
                                HTTP/2</a></h3>
                        <div id="rfc.section.3.3.p.1">
                            <p>客户端可以通过其他方式获知特定服务器支持 HTTP/2。例如，客户端可以被配置为知道某个服务器支持 HTTP/2。</p>
                        </div>
                        <div id="rfc.section.3.3.p.2">
                            <p>知道服务器支持 HTTP/2 的客户端可以建立 TCP 连接并发送连接前言（<a href="#preface"
                                    title="HTTP/2 Connection Preface">第 3.4 节</a>）随后发送 HTTP/2
                                帧。服务器可以通过连接前言的存在来识别这些连接。这仅影响通过明文 TCP 建立的 HTTP/2 连接；通过 TLS 的 HTTP/2 连接 <em
                                    class="bcp14">MUST</em> 使用 <a href="#RFC7301"><cite
                                        title="Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension">TLS
                                        中的协议协商</cite></a> <cite
                                    title="Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension">[TLS-ALPN]</cite>。
                            </p>
                        </div>
                        <div id="rfc.section.3.3.p.3">
                            <p>同样，服务器 <em class="bcp14">MUST</em> 发送连接前言（<a href="#preface"
                                    title="HTTP/2 Connection Preface">第 3.4 节</a>）。</p>
                        </div>
                        <div id="rfc.section.3.3.p.4">
                            <p>在没有额外信息的情况下，先前支持 HTTP/2 并不能强烈表明给定服务器将来仍会支持
                                HTTP/2。例如，服务器配置可能发生变化，集群中不同实例之间的配置可能不同，或网络条件可能发生变化。</p>
                        </div>
                    </section>
                    <section id="preface">
                        <h3 id="rfc.section.3.4"><a href="#rfc.section.3.4">3.4.</a>&nbsp;<a href="#preface">HTTP/2
                                连接前言</a></h3>
                        <div id="rfc.section.3.4.p.1">
                            <p>在 HTTP/2 中，每个端点都必须发送连接前言，以最终确认所使用的协议并为 HTTP/2 连接建立初始设置。客户端和服务器各自发送不同的连接前言。</p>
                        </div>
                        <div id="rfc.section.3.4.p.2" class="avoidbreakafter">
                            <p>客户端连接前言以 24 个八位组的序列开始，用十六进制表示为：</p>
                        </div>
                        <div id="rfc.section.3.4.p.3">
                            <pre class="inline">
  0x505249202a20485454502f322e300d0a0d0a534d0d0a0d0a
</pre>
                        </div>
                        <div id="rfc.section.3.4.p.4">
                            <p>即，连接前言以字符串 "<span class="tt">PRI * HTTP/2.0\r\n\r\nSM\r\n\r\n</span>" 开始。此序列 <em
                                    class="bcp14">MUST</em> 后接一个 <a href="#SETTINGS" title="SETTINGS">SETTINGS</a> 帧（<a
                                    href="#SETTINGS" title="SETTINGS">第 6.5 节</a>），该帧 <em class="bcp14">MAY</em>
                                为空。客户端将客户端连接前言作为连接的第一个应用数据八位组发送。</p>
                        </div>
                        <div id="rfc.section.3.4.p.5">
                            <aside>
                                <div id="rfc.section.3.4.p.5.1">
                                    <p>注意：选择该客户端连接前言是为了使大多数 HTTP/1.1 或 HTTP/1.0 服务器和中间件不尝试处理随后的帧。注意这并未解决在 <a
                                            href="#TALKING"><cite
                                                title="Talking to Yourself for Fun and Profit">[TALKING]</cite></a>
                                        中提出的担忧。</p>
                                </div>
                            </aside>
                        </div>
                        <div id="rfc.section.3.4.p.6">
                            <p>服务器连接前言由一个可能为空的 <a href="#SETTINGS" title="SETTINGS">SETTINGS</a> 帧组成（<a href="#SETTINGS"
                                    title="SETTINGS">第 6.5 节</a>），该帧 <em class="bcp14">MUST</em> 是服务器在 HTTP/2
                                连接中发送的第一个帧。</p>
                        </div>
                        <div id="rfc.section.3.4.p.7">
                            <p>作为连接前言一部分从对端收到的 <a href="#SETTINGS" title="SETTINGS">SETTINGS</a> 帧 <em
                                    class="bcp14">MUST</em> 在发送连接前言后被确认（参见 <a href="#SettingsSync"
                                    title="Settings Synchronization">第 6.5.3 节</a>）。</p>
                        </div>
                        <div id="rfc.section.3.4.p.8">
                            <p>为避免不必要的延迟，客户端允许在发送客户端连接前言后立即向服务器发送额外的帧，而无需等待接收服务器连接前言。但需要注意的是，服务器连接前言的 <a
                                    href="#SETTINGS" title="SETTINGS">SETTINGS</a> 帧可能包含必须更改客户端与服务器通信方式的设置。收到 <a
                                    href="#SETTINGS" title="SETTINGS">SETTINGS</a>
                                帧后，客户端应遵守所建立的任何设置。在某些配置中，服务器可能在客户端发送额外帧之前先发送 <a href="#SETTINGS"
                                    title="SETTINGS">SETTINGS</a>，从而避免该问题。</p>
                        </div>
                        <div id="rfc.section.3.4.p.9">
                            <p>客户端和服务器 <em class="bcp14">MUST</em> 将无效的连接前言视为一种连接错误（<a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>），错误类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a>。在这种情况下可以省略 <a href="#GOAWAY"
                                    title="GOAWAY">GOAWAY</a> 帧（<a href="#GOAWAY" title="GOAWAY">第 6.8
                                    节</a>），因为无效的前言表明对端未使用 HTTP/2。</p>
                        </div>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="FramingLayer">
                    <h2 id="rfc.section.4" class="np"><a href="#rfc.section.4">4.</a>&nbsp;<a href="#FramingLayer">HTTP
                            帧</a></h2>
                    <div id="rfc.section.4.p.1">
                        <p>一旦建立 HTTP/2 连接，端点就可以开始交换帧。</p>
                    </div>
                    <section id="FrameHeader">
                        <h3 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1.</a>&nbsp;<a href="#FrameHeader">帧
                                格式</a></h3>
                        <div id="rfc.section.4.1.p.1">
                            <p>所有帧以固定的 9 八位组头部开始，随后是可变长度的帧负载。</p>
                        </div>
                        <div id="FrameLayout"></div>
                        <div id="rfc.figure.1">
                            <div>
                                <pre class="inline">
HTTP Frame {
  Length (24),
  Type (8),

  Flags (8),

  Reserved (1),
  Stream Identifier (31),

  Frame Payload (..),
}
</pre>
                            </div>
                        </div>
                        <p class="figure">图 1：帧 布局</p>
                        <div id="rfc.section.4.1.p.2" class="avoidbreakafter">
                            <p>帧头的各字段定义如下：</p>
                        </div>
                        <div id="rfc.section.4.1.p.3">
                            <dl>
                                <dt>Length:</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>帧负载的长度，以无符号 24 位整数表示，单位为八位组。除非接收方为 <a
                                            href="#SETTINGS_MAX_FRAME_SIZE">SETTINGS_MAX_FRAME_SIZE</a> 设置了更大的值，否则不得发送大于
                                        2<sup>14</sup>（16,384）的值。</div>
                                    <div>帧头的 9 个八位组不计入该值。</div>
                                </dd>
                                <dt>Type:</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>帧的 8 位类型。帧类型决定帧的格式和语义。本文档中定义的帧列在 <a href="#FrameTypes"
                                            title="Frame Definitions">第 6 节</a> 中。实现 <em class="bcp14">MUST</em>
                                        忽略并丢弃未知类型的帧。</div>
                                </dd>
                                <dt>Flags:</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>一个 8 位字段，保留给与帧类型相关的布尔标志。</div>
                                    <div>标志的语义由指定的帧类型定义。未使用的标志指在特定帧类型下没有定义语义的标志。未使用的标志在接收时 <em class="bcp14">MUST</em>
                                        被忽略，发送时 <em class="bcp14">MUST</em> 保持未置位（0x00）。</div>
                                </dd>
                                <dt>Reserved:</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>一个保留的 1 位字段。该位的语义未定义，发送时 <em class="bcp14">MUST</em> 保持未置位（0x00），接收时 <em
                                            class="bcp14">MUST</em> 被忽略。</div>
                                </dd>
                                <dt>Stream Identifier:</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>流标识符（参见 <a href="#StreamIdentifiers" title="Stream Identifiers">第 5.1.1
                                            节</a>）以无符号 31 位整数表示。值 0x00 保留给与整个连接相关而非某个单独流相关的帧。</div>
                                </dd>
                            </dl>
                        </div>
                        <div id="rfc.section.4.1.p.4">
                            <p>帧负载的结构和内容完全取决于帧类型。</p>
                        </div>
                    </section>
                    <section id="FrameSize">
                        <h3 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2.</a>&nbsp;<a href="#FrameSize">帧
                                大小</a></h3>
                        <div id="rfc.section.4.2.p.1">
                            <p>帧负载的大小受接收方在 <a href="#SETTINGS_MAX_FRAME_SIZE">SETTINGS_MAX_FRAME_SIZE</a>
                                设置中通告的最大值限制。该设置可以取值在 2<sup>14</sup>（16,384）到 2<sup>24</sup>-1（16,777,215）八位组之间的任意值，含端点。
                            </p>
                        </div>
                        <div id="rfc.section.4.2.p.2">
                            <p>所有实现 <em class="bcp14">MUST</em> 能够接收并最小限度处理长度达 2<sup>14</sup> 八位组的帧，外加 9 八位组的帧头（<a
                                    href="#FrameHeader" title="Frame Format">第 4.1 节</a>）。描述帧大小时不包括帧头的大小。</p>
                        </div>
                        <div id="rfc.section.4.2.p.3">
                            <aside>
                                <div id="rfc.section.4.2.p.3.1">
                                    <p>注意：某些帧类型（例如 PING（<a href="#PING" title="PING">第 6.7 节</a>））对允许的帧负载数据量施加了额外限制。</p>
                                </div>
                            </aside>
                        </div>
                        <div id="rfc.section.4.2.p.4">
                            <p>如果帧超出 <a href="#SETTINGS_MAX_FRAME_SIZE">SETTINGS_MAX_FRAME_SIZE</a>
                                中定义的大小、超出为该帧类型定义的任何限制，或太小以致无法包含强制性帧数据，则端点 <em class="bcp14">MUST</em> 发送错误代码 <a
                                    href="#FRAME_SIZE_ERROR">FRAME_SIZE_ERROR</a>。在可能改变整个连接状态的帧中出现的帧大小错误 <em
                                    class="bcp14">MUST</em> 被视为连接错误（<a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）；这包括任何携带字段块（<a href="#FieldBlock"
                                    title="Field Section Compression and Decompression">第 4.3 节</a>）（即 <a
                                    href="#HEADERS" title="HEADERS">HEADERS</a>、<a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">PUSH_PROMISE</a> 和 <a href="#CONTINUATION"
                                    title="CONTINUATION">CONTINUATION</a>）、<a href="#SETTINGS"
                                    title="SETTINGS">SETTINGS</a> 帧，以及任何流标识为 0 的帧。</p>
                        </div>
                        <div id="rfc.section.4.2.p.5">
                            <p>端点没有义务使用帧中所有可用空间。使用小于允许最大值的帧可以提高响应性。发送大的帧可能会导致发送时间敏感的帧（例如 <a href="#RST_STREAM"
                                    title="RST_STREAM">RST_STREAM</a>、<a href="#WINDOW_UPDATE"
                                    title="WINDOW_UPDATE">WINDOW_UPDATE</a> 或 <a href="#PRIORITY"
                                    title="PRIORITY">PRIORITY</a>）的延迟，如果这些时间敏感帧被较大的帧阻塞，可能会影响性能。</p>
                        </div>
                    </section>
                    <section id="FieldBlock">
                        <h3 id="rfc.section.4.3"><a href="#rfc.section.4.3">4.3.</a>&nbsp;<a
                                href="#FieldBlock">字段段压缩与解压缩</a></h3>
                        <div id="rfc.section.4.3.p.1">
                            <p>字段段压缩是将一组字段行（参见 <a href="https://www.rfc-editor.org/rfc/rfc9110.html#section-5.2">RFC
                                    9110 第 5.2 节</a>）压缩以形成字段块的过程。字段段解压缩是将字段块解码回字段行集合的过程。HTTP/2 字段段压缩与解压缩的细节在 <a
                                    href="#RFC7541"><cite
                                        title="HPACK: Header Compression for HTTP/2">[COMPRESSION]</cite></a>
                                中定义，该文档出于历史原因将这些过程称为头部压缩与解压缩。</p>
                        </div>
                        <div id="rfc.section.4.3.p.2">
                            <p>每个字段块承载单个字段段的所有压缩字段行。头部段还包括以伪首部字段形式存在的与消息相关的控制数据（见 <a href="#PseudoHeaderFields"
                                    title="HTTP Control Data">第 8.3 节</a>），其格式与字段行相同。</p>
                        </div>
                        <div id="rfc.section.4.3.p.3">
                            <aside>
                                <div id="rfc.section.4.3.p.3.1">
                                    <p>注意：<a href="#RFC7540"><cite
                                                title="Hypertext Transfer Protocol Version 2 (HTTP/2)">RFC
                                                7540</cite></a> 使用术语 “header block” 来代替更通用的 “field block”。</p>
                                </div>
                            </aside>
                        </div>
                        <div id="rfc.section.4.3.p.4">
                            <p>字段块承载请求、响应、承诺请求和推送响应的控制数据和头部段（参见 <a href="#PushResources" title="Server Push">第 8.4
                                    节</a>）。除临时响应和包含在 PUSH_PROMISE（<a href="#PUSH_PROMISE" title="PUSH_PROMISE">第 6.6
                                    节</a>）帧中的请求外，所有这些消息都可以选择性地包含承载尾部段的字段块。</p>
                        </div>
                        <div id="rfc.section.4.3.p.5">
                            <p>字段段是字段行的集合。字段块中的每个字段行承载单个值。序列化后的字段块随后被划分为一个或多个八位组序列，称为字段块片段。第一个字段块片段在 HEADERS（<a
                                    href="#HEADERS" title="HEADERS">第 6.2 节</a>）或 PUSH_PROMISE（<a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">第 6.6 节</a>）的帧负载中传输，后续字段块片段可以跟随 CONTINUATION（<a
                                    href="#CONTINUATION" title="CONTINUATION">第 6.10 节</a>）帧来承载。</p>
                        </div>
                        <div id="rfc.section.4.3.p.6">
                            <p><a href="#RFC6265"><cite title="HTTP State Management Mechanism">Cookie header
                                        field</cite></a> 在 HTTP 映射中被特殊处理（见 <a href="#CompressCookie"
                                    title="Compressing the Cookie Header Field">第 8.2.3 节</a>）。</p>
                        </div>
                        <div id="rfc.section.4.3.p.7">
                            <p>接收端点通过将片段串联重组字段块，然后解压缩该块以重建字段段。</p>
                        </div>
                        <div id="rfc.section.4.3.p.8" class="avoidbreakafter">
                            <p>完整的字段段由以下任一项组成：</p>
                        </div>
                        <div id="rfc.section.4.3.p.9">
                            <ul>
                                <li>一个带有 END_HEADERS 标志已置位的单个 <a href="#HEADERS" title="HEADERS">HEADERS</a> 或 <a
                                        href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a> 帧，或</li>
                                <li>一个 END_HEADERS 标志未置位的 <a href="#HEADERS" title="HEADERS">HEADERS</a> 或 <a
                                        href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a> 帧以及一个或多个 <a
                                        href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧，其中最后一个 <a
                                        href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧的 END_HEADERS 标志已置位。
                                </li>
                            </ul>
                        </div>
                        <div id="rfc.section.4.3.p.10">
                            <p>每个字段块作为一个离散单元进行处理。字段块 <em class="bcp14">MUST</em> 作为一连串连续的帧传输，不得与任何其他类型的帧或来自任何其他流的帧交错。<a
                                    href="#HEADERS" title="HEADERS">HEADERS</a> 或 <a href="#CONTINUATION"
                                    title="CONTINUATION">CONTINUATION</a> 帧序列中的最后一帧具有 END_HEADERS 标志。<a
                                    href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a> 或 <a href="#CONTINUATION"
                                    title="CONTINUATION">CONTINUATION</a> 帧序列中的最后一帧也具有 END_HEADERS 标志。这使得字段块在逻辑上等价于单个帧。
                            </p>
                        </div>
                        <div id="rfc.section.4.3.p.11">
                            <p>字段块片段只能作为 <a href="#HEADERS" title="HEADERS">HEADERS</a>、<a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">PUSH_PROMISE</a> 或 <a href="#CONTINUATION"
                                    title="CONTINUATION">CONTINUATION</a> 帧的帧负载发送，因为这些帧携带可能修改接收方维护的压缩上下文的数据。接收 <a
                                    href="#HEADERS" title="HEADERS">HEADERS</a>、<a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">PUSH_PROMISE</a> 或 <a href="#CONTINUATION"
                                    title="CONTINUATION">CONTINUATION</a> 帧的端点需要重组字段块并执行解压缩，即使这些帧将被丢弃。接收方 <em
                                    class="bcp14">MUST</em> 在不能对字段块进行解压缩时以连接错误（<a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）的类型 <a
                                    href="#COMPRESSION_ERROR">COMPRESSION_ERROR</a> 终止连接。</p>
                        </div>
                        <div id="rfc.section.4.3.p.12">
                            <p>字段块解码错误 <em class="bcp14">MUST</em> 被视为连接错误（<a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）且类型为 <a
                                    href="#COMPRESSION_ERROR">COMPRESSION_ERROR</a>。</p>
                        </div>
                        <section id="dynamic-table">
                            <h4 id="rfc.section.4.3.1"><a href="#rfc.section.4.3.1">4.3.1.</a>&nbsp;<a
                                    href="#dynamic-table">压缩状态</a></h4>
                            <div id="rfc.section.4.3.1.p.1">
                                <p>字段压缩是有状态的。每个端点都有一个 HPACK 编码器上下文和一个 HPACK 解码器上下文，用于对连接上的所有字段块进行编码和解码。<a
                                        href="https://www.rfc-editor.org/rfc/rfc7541.html#section-4">RFC 7541 第 4 节</a>
                                    定义了动态表，这是每个上下文的主要状态。</p>
                            </div>
                            <div id="rfc.section.4.3.1.p.2">
                                <p>动态表有一个由 HPACK 解码器设置的最大尺寸。端点通过 SETTINGS_HEADER_TABLE_SIZE 设置通告其 HPACK 解码器上下文所选择的大小；见
                                    <a href="#SettingValues" title="Defined Settings">第 6.5.2 节</a>。当连接建立时，双方 HPACK
                                    解码器和编码器的动态表大小从 4,096 字节开始，这是 SETTINGS_HEADER_TABLE_SIZE 设置的初始值。
                                </p>
                            </div>
                            <div id="rfc.section.4.3.1.p.3">
                                <p>对 SETTINGS_HEADER_TABLE_SIZE 所设置最大值的任何更改在端点确认设置（<a href="#SettingsSync"
                                        title="Settings Synchronization">第 6.5.3 节</a>）后生效。该端点的 HPACK
                                    编码器可以将动态表设置为不超过解码器所设置的最大值的任意大小。HPACK 编码器通过动态表大小更新指令声明动态表的大小（参见 <a
                                        href="https://www.rfc-editor.org/rfc/rfc7541.html#section-6.3">RFC 7541 第 6.3
                                        节</a>）。</p>
                            </div>
                            <div id="rfc.section.4.3.1.p.4">
                                <p>一旦端点确认了将 SETTINGS_HEADER_TABLE_SIZE 的值降低到低于动态表当前大小的更改，其 HPACK 编码器 <em
                                        class="bcp14">MUST</em> 在下一个字段块以一个动态表大小更新指令开始，该指令将动态表设置为小于或等于降低后的最大值；参见 <a
                                        href="https://www.rfc-editor.org/rfc/rfc7541.html#section-4.2">RFC 7541 第 4.2
                                        节</a>。如果在确认将动态表最大值降低后随后的字段块未以符合要求的动态表大小更新指令开始，端点 <em class="bcp14">MUST</em>
                                    将该字段块视为连接错误（<a href="#ConnectionErrorHandler" title="Connection Error Handling">第
                                        5.4.1 节</a>），错误类型为 <a href="#COMPRESSION_ERROR">COMPRESSION_ERROR</a>。</p>
                            </div>
                            <div id="rfc.section.4.3.1.p.5">
                                <aside>
                                    <div id="rfc.section.4.3.1.p.5.1">
                                        <p>实现者应注意，降低 SETTINGS_HEADER_TABLE_SIZE 的值在互操作性方面并不广泛支持。使用连接前言将该值降低到初始值 4,096
                                            以下的做法支持性略好，但在某些实现中仍可能失败。</p>
                                    </div>
                                </aside>
                            </div>
                        </section>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="StreamsLayer">
                    <h2 id="rfc.section.5" class="np"><a href="#rfc.section.5">5.</a>&nbsp;<a
                            href="#StreamsLayer">Streams and Multiplexing</a></h2>
                    <div id="rfc.section.5.p.1" class="avoidbreakafter">
                        <p>“流”是在 HTTP/2 连接内客户端和服务器之间交换的独立双向帧序列。流具有若干重要特性：</p>
                    </div>
                    <div id="rfc.section.5.p.2">
                        <ul>
                            <li>单个 HTTP/2 连接可以包含多个并发打开的流，任一端点可以交错发送来自多个流的帧。</li>
                            <li>流可以由任一端点单方面建立并使用，或由任一端点共享。</li>
                            <li>流可以由任一端点关闭。</li>
                            <li>发送帧的顺序具有重要意义。接收方按接收顺序处理帧。特别地，<a href="#HEADERS" title="HEADERS">HEADERS</a> 和 <a
                                    href="#DATA" title="DATA">DATA</a> 帧的顺序在语义上是重要的。</li>
                            <li>流由整数标识。流标识符由发起该流的端点分配。</li>
                        </ul>
                    </div>
                    <section id="StreamStates">
                        <h3 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1.</a>&nbsp;<a href="#StreamStates">Stream
                                States</a></h3>
                        <div id="rfc.section.5.1.p.1">
                            <p>流的生命周期如<a href="#StreamStatesFigure" title="Stream States">图 2</a>所示。</p>
                        </div>
                        <div id="StreamStatesFigure"></div>
                        <div id="rfc.figure.2">
                            <div class="artwork art-svg"><svg xmlns="http://www.w3.org/2000/svg"
                                    xmlns:xi="http://www.w3.org/2001/XInclude" version="1.1" height="480" width="488"
                                    viewBox="0 0 488 480" class="diagram" text-anchor="middle" font-family="monospace"
                                    font-size="13px">
                                    <g transform="translate(8,16)">
                                        <path d="M 0,112 L 0,416" fill="none" stroke="black" />
                                        <path d="M 56,80 L 56,144" fill="none" stroke="black" />
                                        <path d="M 56,240 L 56,304" fill="none" stroke="black" />
                                        <path d="M 88,144 L 88,232" fill="none" stroke="black" />
                                        <path d="M 96,304 L 96,384" fill="none" stroke="black" />
                                        <path d="M 144,80 L 144,144" fill="none" stroke="black" />
                                        <path d="M 144,240 L 144,304" fill="none" stroke="black" />
                                        <path d="M 200,0 L 200,64" fill="none" stroke="black" />
                                        <path d="M 200,160 L 200,224" fill="none" stroke="black" />
                                        <path d="M 200,368 L 200,432" fill="none" stroke="black" />
                                        <path d="M 232,64 L 232,152" fill="none" stroke="black" />
                                        <path d="M 232,224 L 232,360" fill="none" stroke="black" />
                                        <path d="M 272,0 L 272,64" fill="none" stroke="black" />
                                        <path d="M 272,160 L 272,224" fill="none" stroke="black" />
                                        <path d="M 272,368 L 272,432" fill="none" stroke="black" />
                                        <path d="M 328,80 L 328,144" fill="none" stroke="black" />
                                        <path d="M 328,240 L 328,304" fill="none" stroke="black" />
                                        <path d="M 376,304 L 376,384" fill="none" stroke="black" />
                                        <path d="M 384,144 L 384,232" fill="none" stroke="black" />
                                        <path d="M 416,80 L 416,144" fill="none" stroke="black" />
                                        <path d="M 416,240 L 416,304" fill="none" stroke="black" />
                                        <path d="M 472,112 L 472,416" fill="none" stroke="black" />
                                        <path d="M 200,0 L 272,0" fill="none" stroke="black" />
                                        <path d="M 128,32 L 200,32" fill="none" stroke="black" />
                                        <path d="M 272,32 L 344,32" fill="none" stroke="black" />
                                        <path d="M 200,64 L 272,64" fill="none" stroke="black" />
                                        <path d="M 56,80 L 144,80" fill="none" stroke="black" />
                                        <path d="M 328,80 L 416,80" fill="none" stroke="black" />
                                        <path d="M 0,112 L 56,112" fill="none" stroke="black" />
                                        <path d="M 416,112 L 472,112" fill="none" stroke="black" />
                                        <path d="M 56,144 L 144,144" fill="none" stroke="black" />
                                        <path d="M 328,144 L 416,144" fill="none" stroke="black" />
                                        <path d="M 200,160 L 272,160" fill="none" stroke="black" />
                                        <path d="M 136,192 L 200,192" fill="none" stroke="black" />
                                        <path d="M 272,192 L 336,192" fill="none" stroke="black" />
                                        <path d="M 200,224 L 272,224" fill="none" stroke="black" />
                                        <path d="M 56,240 L 144,240" fill="none" stroke="black" />
                                        <path d="M 328,240 L 416,240" fill="none" stroke="black" />
                                        <path d="M 56,304 L 144,304" fill="none" stroke="black" />
                                        <path d="M 328,304 L 416,304" fill="none" stroke="black" />
                                        <path d="M 200,368 L 272,368" fill="none" stroke="black" />
                                        <path d="M 96,384 L 192,384" fill="none" stroke="black" />
                                        <path d="M 280,384 L 376,384" fill="none" stroke="black" />
                                        <path d="M 0,416 L 192,416" fill="none" stroke="black" />
                                        <path d="M 280,416 L 472,416" fill="none" stroke="black" />
                                        <path d="M 200,432 L 272,432" fill="none" stroke="black" />
                                        <path d="M 336,192 L 356,232" fill="none" stroke="black" />
                                        <path d="M 344,32 L 364,72" fill="none" stroke="black" />
                                        <path d="M 108,72 L 128,32" fill="none" stroke="black" />
                                        <path d="M 116,232 L 136,192" fill="none" stroke="black" />
                                        <polygon class="arrowhead" points="392,232 380,226.4 380,237.6" fill="black"
                                            transform="rotate(90,384,232)" />
                                        <polygon class="arrowhead" points="372,72 360,66.4 360,77.6" fill="black"
                                            transform="rotate(63.43494882292201,364,72)" />
                                        <polygon class="arrowhead" points="364,232 352,226.4 352,237.6" fill="black"
                                            transform="rotate(63.43494882292201,356,232)" />
                                        <polygon class="arrowhead" points="288,416 276,410.4 276,421.6" fill="black"
                                            transform="rotate(180,280,416)" />
                                        <polygon class="arrowhead" points="288,384 276,378.4 276,389.6" fill="black"
                                            transform="rotate(180,280,384)" />
                                        <polygon class="arrowhead" points="240,360 228,354.4 228,365.6" fill="black"
                                            transform="rotate(90,232,360)" />
                                        <polygon class="arrowhead" points="240,152 228,146.4 228,157.6" fill="black"
                                            transform="rotate(90,232,152)" />
                                        <polygon class="arrowhead" points="200,416 188,410.4 188,421.6" fill="black"
                                            transform="rotate(0,192,416)" />
                                        <polygon class="arrowhead" points="200,384 188,378.4 188,389.6" fill="black"
                                            transform="rotate(0,192,384)" />
                                        <polygon class="arrowhead" points="124,232 112,226.4 112,237.6" fill="black"
                                            transform="rotate(116.56505117707799,116,232)" />
                                        <polygon class="arrowhead" points="116,72 104,66.4 104,77.6" fill="black"
                                            transform="rotate(116.56505117707799,108,72)" />
                                        <polygon class="arrowhead" points="96,232 84,226.4 84,237.6" fill="black"
                                            transform="rotate(90,88,232)" />
                                        <g class="text">
                                            <text x="160" y="20">send PP</text>
                                            <text x="312" y="20">recv PP</text>
                                            <text x="236" y="36">idle</text>
                                            <text x="276" y="100">send H /</text>
                                            <text x="100" y="116">reserved</text>
                                            <text x="268" y="116">recv H</text>
                                            <text x="372" y="116">reserved</text>
                                            <text x="96" y="132">(local)</text>
                                            <text x="372" y="132">(remote)</text>
                                            <text x="160" y="180">recv ES</text>
                                            <text x="312" y="180">send ES</text>
                                            <text x="52" y="196">send H</text>
                                            <text x="236" y="196">open</text>
                                            <text x="420" y="196">recv H</text>
                                            <text x="100" y="260">half-</text>
                                            <text x="372" y="260">half-</text>
                                            <text x="100" y="276">closed</text>
                                            <text x="276" y="276">send R /</text>
                                            <text x="372" y="276">closed</text>
                                            <text x="100" y="292">(remote)</text>
                                            <text x="268" y="292">recv R</text>
                                            <text x="368" y="292">(local)</text>
                                            <text x="144" y="340">send ES /</text>
                                            <text x="328" y="340">recv ES /</text>
                                            <text x="148" y="356">send R /</text>
                                            <text x="332" y="356">send R /</text>
                                            <text x="140" y="372">recv R</text>
                                            <text x="324" y="372">recv R</text>
                                            <text x="44" y="388">send R /</text>
                                            <text x="428" y="388">send R /</text>
                                            <text x="36" y="404">recv R</text>
                                            <text x="236" y="404">closed</text>
                                            <text x="420" y="404">recv R</text>
                                        </g>
                                    </g>
                                </svg></div>
                        </div>
                        <p class="figure">图 2：流状态</p>
                        <div id="rfc.section.5.1.p.2">
                            <dl class="compact">
                                <dt><span class="tt">send</span>:</dt>
                                <dd style="margin-left: 1.5em">端点发送该帧</dd>
                                <dt><span class="tt">recv</span>:</dt>
                                <dd style="margin-left: 1.5em">端点接收该帧</dd>
                                <dt><span class="tt">H</span>:</dt>
                                <dd style="margin-left: 1.5em"><a href="#HEADERS" title="HEADERS">HEADERS</a> 帧（含隐含的 <a
                                        href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧）</dd>
                                <dt><span class="tt">ES</span>:</dt>
                                <dd style="margin-left: 1.5em">END_STREAM 标志</dd>
                                <dt><span class="tt">R</span>:</dt>
                                <dd style="margin-left: 1.5em"><a href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a> 帧
                                </dd>
                                <dt><span class="tt">PP</span>:</dt>
                                <dd style="margin-left: 1.5em"><a href="#PUSH_PROMISE"
                                        title="PUSH_PROMISE">PUSH_PROMISE</a> 帧（含隐含的 <a href="#CONTINUATION"
                                        title="CONTINUATION">CONTINUATION</a> 帧）；状态转换针对被承诺的流</dd>
                            </dl>
                        </div>
                        <div id="rfc.section.5.1.p.3">
                            <p>注意此图仅显示流状态转换以及影响这些转换的帧和标志。在这方面，<a href="#CONTINUATION"
                                    title="CONTINUATION">CONTINUATION</a> 帧不会导致状态转换；它们实际上是所跟随的 <a href="#HEADERS"
                                    title="HEADERS">HEADERS</a> 或 <a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">PUSH_PROMISE</a> 的一部分。就状态转换而言，END_STREAM
                                标志被作为与承载它的帧分离的单独事件来处理；带有 END_STREAM 标志的 <a href="#HEADERS" title="HEADERS">HEADERS</a>
                                帧可能会导致两个状态转换。</p>
                        </div>
                        <div id="rfc.section.5.1.p.4">
                            <p>双方对流状态有主观视图，当有帧在传输中时双方的视图可能不同。端点不会协调流的创建；流由任一端点单方面创建。状态不匹配的负面影响仅限于发送 <a
                                    href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a>
                                后的“closed”状态，在该状态下可能在一段时间内仍然接收到帧。</p>
                        </div>
                        <div id="rfc.section.5.1.p.5" class="avoidbreakafter">
                            <p>流具有以下状态：</p>
                        </div>
                        <div id="rfc.section.5.1.p.6">
                            <dl>
                                <dt>idle:</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>所有流以“idle”（空闲）状态开始。</div>
                                    <div>从该状态的有效转换如下：</div>
                                    <div>
                                        <ul>
                                            <li>作为客户端发送 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧，或作为服务器接收
                                                HEADERS 帧，会使流变为“open”（打开）。流标识符按 <a href="#StreamIdentifiers"
                                                    title="Stream Identifiers">第 5.1.1 节</a> 所述选择。相同的 <a href="#HEADERS"
                                                    title="HEADERS">HEADERS</a> 帧也可能使流立即变为“half-closed”。</li>
                                            <li>在另一个流上发送 <a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a>
                                                帧会为之后使用保留一个空闲流。该被保留的流状态转换为“reserved (local)”。只有服务器可以发送 <a
                                                    href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a> 帧。</li>
                                            <li>在另一个流上接收 <a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a>
                                                帧会为之后使用保留一个空闲流。该被保留的流状态转换为“reserved (remote)”。只有客户端可以接收 <a
                                                    href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a> 帧。</li>
                                            <li>注意 <a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a>
                                                帧不是在被保留的空闲流上发送的，而是在 Promised Stream ID 字段中引用新保留的流。</li>
                                            <li>使用较大编号的流标识符打开流会导致该流立即转换为“closed”；注意该转换未画在图中。</li>
                                        </ul>
                                    </div>
                                    <div>在此状态上接收除 <a href="#HEADERS" title="HEADERS">HEADERS</a> 或 <a href="#PRIORITY"
                                            title="PRIORITY">PRIORITY</a> 以外的任何帧，<em class="bcp14">MUST</em> 将其视为类型为 <a
                                            href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（见 <a
                                            href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                            节</a>）。如果该流是由服务器发起（见 <a href="#StreamIdentifiers"
                                            title="Stream Identifiers">第 5.1.1 节</a>），则接收 <a href="#HEADERS"
                                            title="HEADERS">HEADERS</a> 帧 <em class="bcp14">MUST</em> 也被视为类型为 <a
                                            href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（见 <a
                                            href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                            节</a>）。</div>
                                </dd>
                                <dt>reserved (local):</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>“reserved (local)” 状态的流是通过发送 <a href="#PUSH_PROMISE"
                                            title="PUSH_PROMISE">PUSH_PROMISE</a> 帧而被承诺的流。<a href="#PUSH_PROMISE"
                                            title="PUSH_PROMISE">PUSH_PROMISE</a> 帧通过将该流与由远端对端发起的打开流相关联来保留一个空闲流（见 <a
                                            href="#PushResources" title="Server Push">第 8.4 节</a>）。</div>
                                    <div>在此状态下，仅允许以下转换：</div>
                                    <div>
                                        <ul>
                                            <li>端点可以发送 <a href="#HEADERS" title="HEADERS">HEADERS</a>
                                                帧。这会使流以“half-closed (remote)” 状态打开。</li>
                                            <li>任一端点可以发送 <a href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a>
                                                帧使该流变为“closed”，从而释放该流的保留。</li>
                                        </ul>
                                    </div>
                                    <div>端点在该状态下<em class="bcp14">MUST NOT</em>发送除 <a href="#HEADERS"
                                            title="HEADERS">HEADERS</a>、<a href="#RST_STREAM"
                                            title="RST_STREAM">RST_STREAM</a> 或 <a href="#PRIORITY"
                                            title="PRIORITY">PRIORITY</a> 以外的任何类型的帧。</div>
                                    <div>在此状态下可以接收 <a href="#PRIORITY" title="PRIORITY">PRIORITY</a> 或 <a
                                            href="#WINDOW_UPDATE" title="WINDOW_UPDATE">WINDOW_UPDATE</a> 帧。接收除 <a
                                            href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a>、<a href="#PRIORITY"
                                            title="PRIORITY">PRIORITY</a> 或 <a href="#WINDOW_UPDATE"
                                            title="WINDOW_UPDATE">WINDOW_UPDATE</a> 以外的任何帧，<em class="bcp14">MUST</em>
                                        被视为类型为 <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（见 <a
                                            href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                            节</a>）。</div>
                                </dd>
                                <dt>reserved (remote):</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>“reserved (remote)” 状态的流已被远端对等方保留。</div>
                                    <div>在此状态下，仅允许以下转换：</div>
                                    <div>
                                        <ul>
                                            <li>接收 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧会使流转换为“half-closed
                                                (local)”。</li>
                                            <li>任一端点可以发送 <a href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a>
                                                帧使该流变为“closed”，从而释放该流的保留。</li>
                                        </ul>
                                    </div>
                                    <div>端点在该状态下<em class="bcp14">MUST NOT</em>发送除 <a href="#RST_STREAM"
                                            title="RST_STREAM">RST_STREAM</a>、<a href="#WINDOW_UPDATE"
                                            title="WINDOW_UPDATE">WINDOW_UPDATE</a> 或 <a href="#PRIORITY"
                                            title="PRIORITY">PRIORITY</a> 以外的任何类型的帧。</div>
                                    <div>在此状态上接收除 <a href="#HEADERS" title="HEADERS">HEADERS</a>、<a href="#RST_STREAM"
                                            title="RST_STREAM">RST_STREAM</a> 或 <a href="#PRIORITY"
                                            title="PRIORITY">PRIORITY</a> 以外的任何帧，<em class="bcp14">MUST</em> 被视为类型为 <a
                                            href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（见 <a
                                            href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                            节</a>）。</div>
                                </dd>
                                <dt>open:</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>处于“open”状态的流可由双方用于发送任意类型的帧。在此状态中，发送方须遵守已通告的流级别流量控制限制（见 <a href="#FlowControl"
                                            title="Flow Control">第 5.2 节</a>）。</div>
                                    <div>在该状态下，任一端点可以发送带有 END_STREAM 标志的帧，这会使流转换到某一“half-closed”状态。发送 END_STREAM
                                        标志的端点会使流变为“half-closed (local)”；接收 END_STREAM 标志的端点会使流变为“half-closed (remote)”。
                                    </div>
                                    <div>任一端点可以从该状态发送 <a href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a>
                                        帧，使其立即转换为“closed”。</div>
                                </dd>
                                <dt>half-closed (local):</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>处于“half-closed (local)” 的流不能用于发送除 <a href="#WINDOW_UPDATE"
                                            title="WINDOW_UPDATE">WINDOW_UPDATE</a>、<a href="#PRIORITY"
                                            title="PRIORITY">PRIORITY</a> 和 <a href="#RST_STREAM"
                                            title="RST_STREAM">RST_STREAM</a> 以外的帧。</div>
                                    <div>当接收到带有 END_STREAM 标志的帧或任一对等方发送 <a href="#RST_STREAM"
                                            title="RST_STREAM">RST_STREAM</a> 帧时，该流会从此状态转换为“closed”。</div>
                                    <div>在此状态下可以接收任何类型的帧。为继续接收受流控的帧，需要使用 <a href="#WINDOW_UPDATE"
                                            title="WINDOW_UPDATE">WINDOW_UPDATE</a> 帧提供流量控制额度。在发送带有 END_STREAM
                                        标志的帧后的一段短时间内，接收方可以忽略到达的 <a href="#WINDOW_UPDATE"
                                            title="WINDOW_UPDATE">WINDOW_UPDATE</a> 帧。</div>
                                    <div>此状态下可以接收 <a href="#PRIORITY" title="PRIORITY">PRIORITY</a> 帧。</div>
                                </dd>
                                <dt>half-closed (remote):</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>处于“half-closed (remote)” 的流不再被对端用于发送帧。在此状态下，端点不再有义务维护接收方的流量控制窗口。</div>
                                    <div>如果端点在该状态下接收到除 <a href="#WINDOW_UPDATE"
                                            title="WINDOW_UPDATE">WINDOW_UPDATE</a>、<a href="#PRIORITY"
                                            title="PRIORITY">PRIORITY</a> 或 <a href="#RST_STREAM"
                                            title="RST_STREAM">RST_STREAM</a> 以外的其他帧，<em class="bcp14">MUST</em> 使用类型为
                                        <a href="#STREAM_CLOSED">STREAM_CLOSED</a> 的流错误进行响应（见 <a
                                            href="#StreamErrorHandler" title="Stream Error Handling">第 5.4.2 节</a>）。
                                    </div>
                                    <div>“half-closed (remote)” 状态的流仍可由端点用来发送任意类型的帧。在此状态中，端点继续遵守已通告的流级别流量控制限制（见 <a
                                            href="#FlowControl" title="Flow Control">第 5.2 节</a>）。</div>
                                    <div>该流可通过发送带有 END_STREAM 标志的帧或任一对等方发送 <a href="#RST_STREAM"
                                            title="RST_STREAM">RST_STREAM</a> 帧而转换为“closed”。</div>
                                </dd>
                                <dt>closed:</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>“closed” 状态为终止状态。</div>
                                    <div>当端点既发送又接收了带有 END_STREAM 标志的帧后，流进入“closed”状态。端点发送或接收 <a href="#RST_STREAM"
                                            title="RST_STREAM">RST_STREAM</a> 帧后，流也会进入“closed”状态。</div>
                                    <div>端点<em class="bcp14">MUST NOT</em>在已关闭的流上发送除 <a href="#PRIORITY"
                                            title="PRIORITY">PRIORITY</a> 以外的帧。端点<em
                                            class="bcp14">MAY</em>将接收已关闭流上任何其他类型的帧视为类型为 <a
                                            href="#STREAM_CLOSED">STREAM_CLOSED</a> 的连接错误（见 <a
                                            href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                            节</a>），但有如下说明。</div>
                                    <div>在对等方接收并处理使流进入“closed”状态的帧之前，发送了带有 END_STREAM 标志或 <a href="#RST_STREAM"
                                            title="RST_STREAM">RST_STREAM</a> 帧的端点可能会收到来自其对等方的 <a href="#WINDOW_UPDATE"
                                            title="WINDOW_UPDATE">WINDOW_UPDATE</a> 或 <a href="#RST_STREAM"
                                            title="RST_STREAM">RST_STREAM</a> 帧。</div>
                                    <div>在“open”或“half-closed (local)” 状态的流上发送 <a href="#RST_STREAM"
                                            title="RST_STREAM">RST_STREAM</a> 帧的端点可能会收到任意类型的帧。对等方可能在处理 <a
                                            href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a> 帧之前已发送或排队发送了这些帧。端点<em
                                            class="bcp14">MUST</em> 对在该状态收到的帧执行最小处理然后丢弃。这意味着要更新 HEADERS 和 PUSH_PROMISE
                                        帧的头部压缩状态。接收 <a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a>
                                        帧也会导致被承诺的流变为“reserved (remote)”，即使该 <a href="#PUSH_PROMISE"
                                            title="PUSH_PROMISE">PUSH_PROMISE</a> 帧是收到在已关闭的流上。同时，<a href="#DATA"
                                            title="DATA">DATA</a> 帧的内容计入连接的流量控制窗口。</div>
                                    <div>端点可以对所有处于“closed”状态的流执行此最小处理。端点<em
                                            class="bcp14">MAY</em>使用其他信号来检测对等方已接收导致流进入“closed”状态的帧，并将除 <a
                                            href="#PRIORITY" title="PRIORITY">PRIORITY</a> 以外的任何帧的接收视为类型为 <a
                                            href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（见 <a
                                            href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                            节</a>）。端点可以使用指示对等方已接收关闭信号的帧来驱动此行为。端点<em class="bcp14">SHOULD NOT</em>
                                        使用定时器来完成此目的。例如，在关闭流后发送 <a href="#SETTINGS" title="SETTINGS">SETTINGS</a>
                                        帧的端点，在接收到该设置的确认后，可以安全地将随后在该流上接收的 <a href="#DATA" title="DATA">DATA</a>
                                        帧视为错误。其他可用的信号可能包括 <a href="#PING" title="PING">PING</a>
                                        帧、在关闭流后创建的流上接收数据，或对关闭流后创建的请求的响应。</div>
                                </dd>
                            </dl>
                        </div>
                        <div id="rfc.section.5.1.p.7">
                            <p>在没有更具体规则的情况下，实现者<em class="bcp14">SHOULD</em>将接收在某状态描述中未明确允许的帧视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。注意 <a href="#PRIORITY"
                                    title="PRIORITY">PRIORITY</a> 可以在任何流状态中发送和接收。</p>
                        </div>
                        <div id="rfc.section.5.1.p.8">
                            <p>本节中的规则仅适用于本文档定义的帧。对于其语义未知的帧的接收不能被视为错误，因为这些帧的发送和接收条件也未知；参见 <a href="#extensibility"
                                    title="Extending HTTP/2">第 5.5 节</a>。</p>
                        </div>
                        <div id="rfc.section.5.1.p.9">
                            <p>关于 HTTP 请求/响应交换的状态转换示例可见于 <a href="#HttpExamples" title="Examples">第 8.8
                                    节</a>。服务器推送的状态转换示例可见于 <a href="#PushRequests" title="Push Requests">第 8.4.1 节</a> 和
                                <a href="#PushResponses" title="Push Responses">第 8.4.2 节</a>。
                            </p>
                        </div>
                        <section id="StreamIdentifiers">
                            <h4 id="rfc.section.5.1.1"><a href="#rfc.section.5.1.1">5.1.1.</a>&nbsp;<a
                                    href="#StreamIdentifiers">Stream Identifiers</a></h4>
                            <div id="rfc.section.5.1.1.p.1">
                                <p>流由无符号 31 位整数标识。由客户端发起的流<em class="bcp14">MUST</em>使用奇数编号的流标识符；由服务器发起的流<em
                                        class="bcp14">MUST</em>使用偶数编号的流标识符。流标识符零（0x00）用于连接控制消息；流标识符零不能用于建立新流。</p>
                            </div>
                            <div id="rfc.section.5.1.1.p.2">
                                <p>新建立流的标识符<em class="bcp14">MUST</em>在数值上大于发起端之前已打开或保留的所有流。这适用于通过 <a href="#HEADERS"
                                        title="HEADERS">HEADERS</a> 帧打开的流以及使用 <a href="#PUSH_PROMISE"
                                        title="PUSH_PROMISE">PUSH_PROMISE</a> 保留的流。接收端点对意外的流标识符<em
                                        class="bcp14">MUST</em>以类型为 <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a>
                                    的连接错误进行响应（见 <a href="#ConnectionErrorHandler" title="Connection Error Handling">第
                                        5.4.1 节</a>）。</p>
                            </div>
                            <div id="rfc.section.5.1.1.p.3">
                                <p>一个 <a href="#HEADERS" title="HEADERS">HEADERS</a>
                                    帧会将帧头中流标识符指定的客户端发起的流从“idle”转换为“open”。一个 <a href="#PUSH_PROMISE"
                                        title="PUSH_PROMISE">PUSH_PROMISE</a> 帧会将帧负载中 Promised Stream ID
                                    字段指定的服务器发起的流从“idle”转换为“reserved (local)”或“reserved
                                    (remote)”。当流从“idle”状态转换时，所有可能已被对等方使用较低编号打开的“idle”状态流会立即转换为“closed”。即，端点可以跳过某个流标识符，其效果是该被跳过的流立即被关闭。
                                </p>
                            </div>
                            <div id="rfc.section.5.1.1.p.4">
                                <p>流标识符不能重用。长连接可能导致端点耗尽可用的流标识符范围。无法建立新流标识符的客户端可以为新流建立新连接。无法建立新流标识符的服务器可以发送 <a
                                        href="#GOAWAY" title="GOAWAY">GOAWAY</a> 帧，从而迫使客户端为新流打开新连接。</p>
                            </div>
                        </section>
                        <section id="n-stream-concurrency">
                            <h4 id="rfc.section.5.1.2"><a href="#rfc.section.5.1.2">5.1.2.</a>&nbsp;<a
                                    href="#n-stream-concurrency">Stream Concurrency</a></h4>
                            <div id="rfc.section.5.1.2.p.1">
                                <p>对等方可以使用 <a
                                        href="#SETTINGS_MAX_CONCURRENT_STREAMS">SETTINGS_MAX_CONCURRENT_STREAMS</a>
                                    参数（参见 <a href="#SettingValues" title="Defined Settings">第 6.5.2 节</a>）在 <a
                                        href="#SETTINGS" title="SETTINGS">SETTINGS</a>
                                    帧中限制并发活动流的数量。最大并发流设置针对每个端点是特定的，仅适用于接收该设置的对等方。也就是说，客户端指定服务器可发起的最大并发流数，服务器指定客户端可发起的最大并发流数。
                                </p>
                            </div>
                            <div id="rfc.section.5.1.2.p.2">
                                <p>处于“open”状态或任一“half-closed”状态的流计入端点被允许打开的最大流数。处于这三种状态中的流计入 <a
                                        href="#SETTINGS_MAX_CONCURRENT_STREAMS">SETTINGS_MAX_CONCURRENT_STREAMS</a>
                                    设置所通告的限制。处于任一“reserved”状态的流不计入流限制。</p>
                            </div>
                            <div id="rfc.section.5.1.2.p.3">
                                <p>端点<em class="bcp14">MUST NOT</em> 超过其对等方设置的限制。接收导致其已通告并发流限制被超出的 <a href="#HEADERS"
                                        title="HEADERS">HEADERS</a> 帧的端点<em class="bcp14">MUST</em>将其视为类型为 <a
                                        href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 或 <a
                                        href="#REFUSED_STREAM">REFUSED_STREAM</a> 的流错误（见 <a href="#StreamErrorHandler"
                                        title="Stream Error Handling">第 5.4.2 节</a>）。错误码的选择决定了端点是否希望启用自动重试（有关详细信息，请参见 <a
                                        href="#Reliability" title="Request Reliability">第 8.7 节</a>）。</p>
                            </div>
                            <div id="rfc.section.5.1.2.p.4">
                                <p>希望将 <a href="#SETTINGS_MAX_CONCURRENT_STREAMS">SETTINGS_MAX_CONCURRENT_STREAMS</a>
                                    值降低到低于当前打开流数的端点，可以通过关闭超出新值的流或允许流完成来实现。</p>
                            </div>
                        </section>
                    </section>
                    <section id="FlowControl">
                        <h3 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2.</a>&nbsp;<a href="#FlowControl">Flow
                                Control</a></h3>
                        <div id="rfc.section.5.2.p.1">
                            <p>在流上进行复用会引入对同一 TCP 连接使用的争用，从而导致流被阻塞。流量控制机制确保同一连接上的各流不会相互破坏性地干扰。流量控制既用于单个流，也用于整个连接。</p>
                        </div>
                        <div id="rfc.section.5.2.p.2">
                            <p>HTTP/2 通过使用 <a href="#WINDOW_UPDATE" title="WINDOW_UPDATE">WINDOW_UPDATE</a> 帧（见 <a
                                    href="#WINDOW_UPDATE" title="WINDOW_UPDATE">第 6.9 节</a>）提供流量控制。</p>
                        </div>
                        <section id="fc-principles">
                            <h4 id="rfc.section.5.2.1"><a href="#rfc.section.5.2.1">5.2.1.</a>&nbsp;<a
                                    href="#fc-principles">Flow-Control Principles</a></h4>
                            <div id="rfc.section.5.2.1.p.1" class="avoidbreakafter">
                                <p>HTTP/2 的流量控制旨在允许使用各种流量控制算法，而无需更改协议。HTTP/2 中的流量控制具有以下特征：</p>
                            </div>
                            <div id="rfc.section.5.2.1.p.2">
                                <ol type="1">
                                    <li>流量控制是特定于单个连接的。HTTP/2 流量控制在单跳的端点之间运行，而不是覆盖整个端到端路径。</li>
                                    <li>流量控制基于 <a href="#WINDOW_UPDATE" title="WINDOW_UPDATE">WINDOW_UPDATE</a>
                                        帧。接收方通告它在某个流和整个连接上准备接收的八位组数量。这是基于额度的方案。</li>
                                    <li>流量控制是有方向性的，总体控制由接收方提供。接收方<em class="bcp14">MAY</em>为每个流和整个连接选择任意窗口大小。发送方<em
                                            class="bcp14">MUST</em>尊重接收方施加的流量控制限制。客户端、服务器和中间件都作为接收方独立通告其流量控制窗口，并在发送时遵守对等方设置的流量控制限制。
                                    </li>
                                    <li>初始的流量控制窗口值对于新流和整个连接均为 65,535 八位组。</li>
                                    <li>帧类型决定流量控制是否适用于该帧。在本文档指定的帧中，仅 <a href="#DATA" title="DATA">DATA</a>
                                        帧受流量控制；所有其他帧类型不占用已通告的流量控制窗口空间。这确保控制帧不会被流量控制阻塞。</li>
                                    <li>端点可以选择禁用自己的流量控制，但端点不能忽略对等方发出的流量控制信号。</li>
                                    <li>HTTP/2 仅定义 <a href="#WINDOW_UPDATE" title="WINDOW_UPDATE">WINDOW_UPDATE</a>
                                        帧的格式和语义（见 <a href="#WINDOW_UPDATE" title="WINDOW_UPDATE">第 6.9
                                            节</a>）。本文档不规定接收方何时发送该帧或发送何值，也不指定发送方如何选择发送数据包。实现可以选择适合其需求的任何算法。</li>
                                </ol>
                            </div>
                            <div id="rfc.section.5.2.1.p.3">
                                <p>实现者还负责对请求和响应的发送进行优先级安排，选择如何避免请求的队首阻塞，以及管理新流的创建。这些算法选择可能会与任何流量控制算法相互作用。</p>
                            </div>
                        </section>
                        <section id="DisableFlowControl">
                            <h4 id="rfc.section.5.2.2"><a href="#rfc.section.5.2.2">5.2.2.</a>&nbsp;<a
                                    href="#DisableFlowControl">Appropriate Use of Flow Control</a></h4>
                            <div id="rfc.section.5.2.2.p.1">
                                <p>流量控制的定义是为了保护在资源受限下运行的端点。例如，代理需要在多个连接之间共享内存，并且可能存在上游连接慢、下游连接快的情况。流量控制用于当接收方无法处理某个流上的数据但又希望继续处理同一连接上的其他流时的场景。
                                </p>
                            </div>
                            <div id="rfc.section.5.2.2.p.2">
                                <p>不需要该能力的部署可以通告最大大小（2<sup>31</sup>-1）的流量控制窗口，并在收到任何数据时通过发送 <a href="#WINDOW_UPDATE"
                                        title="WINDOW_UPDATE">WINDOW_UPDATE</a>
                                    帧来维护该窗口。这实际上对该接收方禁用了流量控制。相反，发送方始终受接收方通告的流量控制窗口约束。</p>
                            </div>
                            <div id="rfc.section.5.2.2.p.3">
                                <p>资源受限的部署（例如内存受限）可以通过流量控制限制对等方可消耗的内存量。但请注意，如果在不了解带宽*时延积的情况下启用流量控制，可能导致对可用网络资源的次优使用（参见
                                    <a href="#RFC7323"><cite
                                            title="TCP Extensions for High Performance">[RFC7323]</cite></a>）。
                                </p>
                            </div>
                            <div id="rfc.section.5.2.2.p.4">
                                <p>即便完全了解当前的带宽*时延积，实施流量控制也可能很困难。端点<em class="bcp14">MUST</em>在数据可用时尽快从 TCP 接收缓冲区读取并处理
                                    HTTP/2 帧。未能及时读取可能在关键帧（如 <a href="#WINDOW_UPDATE"
                                        title="WINDOW_UPDATE">WINDOW_UPDATE</a>）未被读取和处理时导致死锁。及时读取帧并不会使端点暴露于资源耗尽攻击，因为
                                    HTTP/2 的流量控制限制了资源承诺。</p>
                            </div>
                        </section>
                        <section id="FlowControlPerformance">
                            <h4 id="rfc.section.5.2.3"><a href="#rfc.section.5.2.3">5.2.3.</a>&nbsp;<a
                                    href="#FlowControlPerformance">Flow-Control Performance</a></h4>
                            <div id="rfc.section.5.2.3.p.1">
                                <p>如果端点无法确保其对等方在此连接上始终拥有大于对等方带宽*时延积的可用流量控制窗口空间，则其接收吞吐量将受限于 HTTP/2 流量控制，从而导致性能下降。</p>
                            </div>
                            <div id="rfc.section.5.2.3.p.2">
                                <p>及时发送 <a href="#WINDOW_UPDATE" title="WINDOW_UPDATE">WINDOW_UPDATE</a>
                                    帧可以改善性能。端点需要在提高接收吞吐量与管理资源耗尽风险之间取得平衡，并在定义其窗口大小管理策略时仔细注意 <a href="#dos"
                                        title="Denial-of-Service Considerations">第 10.5 节</a>。</p>
                            </div>
                        </section>
                    </section>
                    <section id="StreamPriority">
                        <h3 id="rfc.section.5.3"><a href="#rfc.section.5.3">5.3.</a>&nbsp;<a
                                href="#StreamPriority">Prioritization</a></h3>
                        <div id="rfc.section.5.3.p.1">
                            <p>在像 HTTP/2 这样的复用协议中，为流分配带宽和计算资源的优先级安排对获得良好性能至关重要。糟糕的优先级方案可能导致 HTTP/2 性能变差。在 TCP
                                层没有并行性的情况下，性能甚至可能显著低于 HTTP/1.1。</p>
                        </div>
                        <div id="rfc.section.5.3.p.2">
                            <p>良好的优先级方案受益于上下文相关知识的应用，例如资源内容、资源之间的相互关系以及这些资源将如何被对等方使用。特别是，客户端可以掌握有关请求优先级的知识，这对于服务器的优先级安排是有用的。在这些情况下，让客户端提供优先级信息可以提高性能。
                            </p>
                        </div>
                        <section id="PriorityHistory">
                            <h4 id="rfc.section.5.3.1"><a href="#rfc.section.5.3.1">5.3.1.</a>&nbsp;<a
                                    href="#PriorityHistory">Background on Priority in RFC 7540</a></h4>
                            <div id="rfc.section.5.3.1.p.1">
                                <p>RFC 7540 定义了用于请求优先级信令的复杂系统。然而，该系统被证明过于复杂，且未能被一致实现。</p>
                            </div>
                            <div id="rfc.section.5.3.1.p.2">
                                <p>该灵活方案使得客户端可以以非常不同的方式表达优先级，采用的做法缺乏一致性。对服务器而言，实现对该方案的通用支持很复杂。客户端和服务器中优先级的实现都不均衡。许多服务器部署在优先处理请求时忽略客户端信号。
                                </p>
                            </div>
                            <div id="rfc.section.5.3.1.p.3">
                                <p>简言之，RFC 7540 中的优先级信令未取得成功。</p>
                            </div>
                        </section>
                        <section id="PriorityHere">
                            <h4 id="rfc.section.5.3.2"><a href="#rfc.section.5.3.2">5.3.2.</a>&nbsp;<a
                                    href="#PriorityHere">Priority Signaling in This Document</a></h4>
                            <div id="rfc.section.5.3.2.p.1">
                                <p>此次对 HTTP/2 的更新弃用了在 <a href="#RFC7540"><cite
                                            title="Hypertext Transfer Protocol Version 2 (HTTP/2)">RFC 7540</cite></a>
                                    中定义的优先级信令。与优先级信号相关的大部分文本未包含在本文档中。为确保与使用 RFC 7540
                                    中描述的优先级信令的实现互操作，保留了有关帧字段的说明和部分强制处理要求。</p>
                            </div>
                            <div id="rfc.section.5.3.2.p.2">
                                <p>关于 RFC 7540 优先级方案的详尽描述仍可在 <a
                                        href="https://www.rfc-editor.org/rfc/rfc7540.html#section-5.3">RFC 7540 第 5.3
                                        节</a> 中找到。</p>
                            </div>
                            <div id="rfc.section.5.3.2.p.3">
                                <p>在许多情况下，信令优先级信息对于获得良好性能是必要的。在优先级信令很重要的场景中，鼓励端点使用替代方案，例如在 <a href="#RFC9218"><cite
                                            title="Extensible Prioritization Scheme for HTTP">[HTTP-PRIORITY]</cite></a>
                                    中描述的方案。</p>
                            </div>
                            <div id="rfc.section.5.3.2.p.4">
                                <p>尽管 RFC 7540 的优先级信令未被广泛采用，但其提供的信息在缺乏更好信息时仍可能有用。接收 <a href="#HEADERS"
                                        title="HEADERS">HEADERS</a> 或 <a href="#PRIORITY" title="PRIORITY">PRIORITY</a>
                                    帧中优先级信号的端点可以通过应用这些信息受益。尤其是，消费这些信号的实现不应在没有替代方案的情况下丢弃这些优先级信号。</p>
                            </div>
                            <div id="rfc.section.5.3.2.p.5">
                                <p>服务器在缺乏任何优先级信号时<em class="bcp14">SHOULD</em>使用其他上下文信息来确定请求的优先级。服务器<em
                                        class="bcp14">MAY</em>将完全缺乏信号解释为客户端未实现该功能。<a
                                        href="https://www.rfc-editor.org/rfc/rfc7540.html#section-5.3.5">RFC 7540 第
                                        5.3.5 节</a> 中描述的默认行为在大多数条件下已知性能较差，因此其使用不太可能是有意的。</p>
                            </div>
                        </section>
                    </section>
                    <section id="ErrorHandler">
                        <h3 id="rfc.section.5.4"><a href="#rfc.section.5.4">5.4.</a>&nbsp;<a href="#ErrorHandler">Error
                                Handling</a></h3>
                        <div id="rfc.section.5.4.p.1" class="avoidbreakafter">
                            <p>HTTP/2 分帧机制允许两类错误：</p>
                        </div>
                        <div id="rfc.section.5.4.p.2">
                            <ul>
                                <li>使整个连接不可用的错误条件称为连接错误。</li>
                                <li>发生在单个流上的错误称为流错误。</li>
                            </ul>
                        </div>
                        <div id="rfc.section.5.4.p.3">
                            <p>错误代码列表见 <a href="#ErrorCodes" title="Error Codes">第 7 节</a>。</p>
                        </div>
                        <div id="rfc.section.5.4.p.4">
                            <p>端点在处理过程中可能会遇到会导致多个错误的帧。实现者<em class="bcp14">MAY</em>在处理时发现多个错误，但<em
                                    class="bcp14">SHOULD</em>最多报告一个流错误和一个连接错误。</p>
                        </div>
                        <div id="rfc.section.5.4.p.5">
                            <p>对给定流报告的第一个流错误会阻止该流上报告任何其他错误。相比较，协议允许发送多个 <a href="#GOAWAY" title="GOAWAY">GOAWAY</a>
                                帧，但端点<em class="bcp14">SHOULD</em>仅报告一种连接错误，除非在优雅关闭期间遇到错误。如果发生这种情况，端点<em
                                    class="bcp14">MAY</em>在已有包含 <a href="#NO_ERROR">NO_ERROR</a> 的 GOAWAY
                                后，发送一个带有新错误码的额外 GOAWAY。</p>
                        </div>
                        <div id="rfc.section.5.4.p.6">
                            <p>如果端点检测到多个不同错误，它<em class="bcp14">MAY</em>选择报告其中任意一个。如果某帧导致连接错误，则必须报告该错误。此外，端点<em
                                    class="bcp14">MAY</em>在检测到错误条件时使用任何适用的错误码；可以始终使用通用错误码（如 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 或 <a
                                    href="#INTERNAL_ERROR">INTERNAL_ERROR</a>）代替更具体的错误码。</p>
                        </div>
                        <section id="ConnectionErrorHandler">
                            <h4 id="rfc.section.5.4.1"><a href="#rfc.section.5.4.1">5.4.1.</a>&nbsp;<a
                                    href="#ConnectionErrorHandler">Connection Error Handling</a></h4>
                            <div id="rfc.section.5.4.1.p.1">
                                <p>连接错误是任何阻止帧层进一步处理或破坏任何连接状态的错误。</p>
                            </div>
                            <div id="rfc.section.5.4.1.p.2">
                                <p>遇到连接错误的端点<em class="bcp14">SHOULD</em>首先发送一个 <a href="#GOAWAY"
                                        title="GOAWAY">GOAWAY</a> 帧（见 <a href="#GOAWAY" title="GOAWAY">第 6.8
                                        节</a>），并在其中包含其最后成功从对等方接收的流标识符。GOAWAY 帧包含表示连接终止原因的错误码（见 <a href="#ErrorCodes"
                                        title="Error Codes">第 7 节</a>）。在为错误情况发送 GOAWAY 帧后，端点<em class="bcp14">MUST</em>
                                    关闭 TCP 连接。</p>
                            </div>
                            <div id="rfc.section.5.4.1.p.3">
                                <p>GOAWAY 可能不会被可靠地被接收端接收。在发生连接错误时，GOAWAY 仅提供一种尽力而为的尝试，以向对等方说明为什么连接被终止。</p>
                            </div>
                            <div id="rfc.section.5.4.1.p.4">
                                <p>端点可以随时结束连接。特别地，端点<em class="bcp14">MAY</em>选择将流错误视为连接错误。若条件允许，端点<em
                                        class="bcp14">SHOULD</em>在结束连接时发送 GOAWAY 帧。</p>
                            </div>
                        </section>
                        <section id="StreamErrorHandler">
                            <h4 id="rfc.section.5.4.2"><a href="#rfc.section.5.4.2">5.4.2.</a>&nbsp;<a
                                    href="#StreamErrorHandler">Stream Error Handling</a></h4>
                            <div id="rfc.section.5.4.2.p.1">
                                <p>流错误是与特定流相关的错误，不影响其他流的处理。</p>
                            </div>
                            <div id="rfc.section.5.4.2.p.2">
                                <p>检测到流错误的端点应发送一个 <a href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a> 帧（见 <a
                                        href="#RST_STREAM" title="RST_STREAM">第 6.4 节</a>），其中包含发生错误的流的流标识符。RST_STREAM
                                    帧包含表示错误类型的错误码。</p>
                            </div>
                            <div id="rfc.section.5.4.2.p.3">
                                <p><a href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a> 是端点可在流上发送的最后一帧。发送 <a
                                        href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a> 帧的一方<em
                                        class="bcp14">MUST</em>准备接收对端已发送或已排队待发送的任何帧。这些帧可以被忽略，除非它们修改了连接状态（例如字段段压缩（见 <a
                                        href="#FieldBlock" title="Field Section Compression and Decompression">第 4.3
                                        节</a>）或流量控制所维护的状态）。</p>
                            </div>
                            <div id="rfc.section.5.4.2.p.4">
                                <p>通常，端点<em class="bcp14">SHOULD NOT</em>为同一流发送多个 <a href="#RST_STREAM"
                                        title="RST_STREAM">RST_STREAM</a> 帧。但如果在超过一个往返时间后仍在已关闭的流上接收到帧，端点<em
                                        class="bcp14">MAY</em>发送额外的 <a href="#RST_STREAM"
                                        title="RST_STREAM">RST_STREAM</a> 帧。允许此行为是为处理不良实现所设计的。</p>
                            </div>
                            <div id="rfc.section.5.4.2.p.5">
                                <p>为避免循环，端点<em class="bcp14">MUST NOT</em>对 <a href="#RST_STREAM"
                                        title="RST_STREAM">RST_STREAM</a> 帧作出 <a href="#RST_STREAM"
                                        title="RST_STREAM">RST_STREAM</a> 的响应。</p>
                            </div>
                        </section>
                        <section id="n-connection-termination">
                            <h4 id="rfc.section.5.4.3"><a href="#rfc.section.5.4.3">5.4.3.</a>&nbsp;<a
                                    href="#n-connection-termination">Connection Termination</a></h4>
                            <div id="rfc.section.5.4.3.p.1">
                                <p>如果在流仍处于“open”或“half-closed”状态时 TCP 连接被关闭或重置，则受影响的流无法被自动重试（有关详情见 <a
                                        href="#Reliability" title="Request Reliability">第 8.7 节</a>）。</p>
                            </div>
                        </section>
                    </section>
                    <section id="extensibility">
                        <h3 id="rfc.section.5.5"><a href="#rfc.section.5.5">5.5.</a>&nbsp;<a
                                href="#extensibility">Extending HTTP/2</a></h3>
                        <div id="rfc.section.5.5.p.1">
                            <p>HTTP/2 允许对协议进行扩展。在本节所述的限制范围内，协议扩展可用于提供附加服务或更改协议的任何方面。扩展仅在单个 HTTP/2 连接的范围内生效。</p>
                        </div>
                        <div id="rfc.section.5.5.p.2">
                            <p>这适用于本文档中定义的协议元素。这不影响扩展 HTTP 的现有选项，例如定义新的方法、状态码或字段（参见 <a
                                    href="https://www.rfc-editor.org/rfc/rfc9110.html#section-16">RFC 9110 第 16 节</a>）。
                            </p>
                        </div>
                        <div id="rfc.section.5.5.p.3">
                            <p>扩展允许使用新的帧类型（见 <a href="#FrameHeader" title="Frame Format">第 4.1 节</a>）、新的设置（见 <a
                                    href="#SETTINGS" title="SETTINGS">第 6.5 节</a>）或新的错误码（见 <a href="#ErrorCodes"
                                    title="Error Codes">第 7 节</a>）。用于管理这些扩展点的登记表在 <a
                                    href="https://www.rfc-editor.org/rfc/rfc7540.html#section-11">RFC 7540 第 11 节</a>
                                中定义。</p>
                        </div>
                        <div id="rfc.section.5.5.p.4">
                            <p>实现者<em class="bcp14">MUST</em>忽略可扩展协议元素中未知或不支持的值。实现者<em
                                    class="bcp14">MUST</em>丢弃具有未知或不支持类型的帧。这意味着任何这些扩展点都可以在无需事先安排或协商的情况下由扩展安全使用。然而，出现在字段块中间的扩展帧（见
                                <a href="#FieldBlock" title="Field Section Compression and Decompression">第 4.3
                                    节</a>）是不允许的；这些帧<em class="bcp14">MUST</em> 被视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。
                            </p>
                        </div>
                        <div id="rfc.section.5.5.p.5">
                            <p>扩展<em class="bcp14">SHOULD</em>避免更改本文档中定义的协议元素或未定义扩展机制的元素。这包括更改帧布局、对将帧组成 HTTP
                                消息的方式的添加或更改（见 <a href="#HttpFraming" title="HTTP Message Framing">第 8.1
                                    节</a>）、伪首部字段的定义，或更改任何合规端点可能将其视为连接错误的协议元素（见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.5.5.p.6">
                            <p>更改现有协议元素或状态的扩展<em class="bcp14">MUST</em>在使用前进行协商。例如，改变 <a href="#HEADERS"
                                    title="HEADERS">HEADERS</a>
                                帧布局的扩展在对端发出接受该改变的积极信号之前不得使用。在这种情况下，可能还需要协调何时使修订后的布局生效。例如，将除 <a href="#DATA"
                                    title="DATA">DATA</a> 帧以外的帧视为受流量控制需要双方都理解的语义改变，因此只能通过协商来完成。</p>
                        </div>
                        <div id="rfc.section.5.5.p.7">
                            <p>本文档不强制规定用于协商扩展的具体方法，但注意到可以使用一个设置（见 <a href="#SettingValues" title="Defined Settings">第
                                    6.5.2
                                    节</a>）来实现该目的。如果双方都设置了表明愿意使用该扩展的值，则可以使用该扩展。如果使用设置进行扩展协商，则必须以使扩展初始处于禁用状态的方式定义该设置的初始值。
                            </p>
                        </div>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="FrameTypes">
                    <h2 id="rfc.section.6" class="np"><a href="#rfc.section.6">6.</a>&nbsp;<a href="#FrameTypes">帧
                            定义</a></h2>
                    <div id="rfc.section.6.p.1">
                        <p>本规范定义了若干帧类型，每种由唯一的 8 位类型代码标识。每种帧类型在建立和管理整个连接或各个流时发挥不同的作用。</p>
                    </div>
                    <div id="rfc.section.6.p.2">
                        <p>特定帧类型的传输可以改变连接状态。如果端点未能保持对连接状态的同步视图，则连接内的成功通信将不再可能。因此，端点需要对任意给定帧如何影响状态具有一致的理解。</p>
                    </div>
                    <section id="DATA">
                        <h3 id="rfc.section.6.1"><a href="#rfc.section.6.1">6.1.</a>&nbsp;<a href="#DATA">DATA</a></h3>
                        <div id="rfc.section.6.1.p.1">
                            <p>DATA 帧（type=0x00）传输与流相关的任意可变长度八位组序列。例如，一个或多个 DATA 帧用于承载 HTTP 请求或响应的消息内容。</p>
                        </div>
                        <div id="rfc.section.6.1.p.2">
                            <p>DATA 帧<em class="bcp14">MAY</em>也可以包含填充（padding）。可以向 DATA 帧添加填充以掩盖消息的实际长度。填充是一种安全特性；参见 <a
                                    href="#padding" title="Use of Padding">第 10.7 节</a>。</p>
                        </div>
                        <div id="DATAFrameFormat"></div>
                        <div id="rfc.figure.3">
                            <div>
                                <pre class="inline">
DATA Frame {
  Length (24),
  Type (8) = 0x00,

  Unused Flags (4),
  PADDED Flag (1),
  Unused Flags (2),
  END_STREAM Flag (1),

  Reserved (1),
  Stream Identifier (31),

  [Pad Length (8)],
  Data (..),
  Padding (..2040),
}
</pre>
                            </div>
                        </div>
                        <p class="figure">图 3：DATA 帧格式</p>
                        <div id="rfc.section.6.1.p.3" class="avoidbreakafter">
                            <p>Length、Type、Unused Flag(s)、Reserved 和 Stream Identifier 字段在 <a href="#FramingLayer"
                                    title="HTTP Frames">第 4 节</a> 中描述。DATA 帧还包含下列附加字段：</p>
                        </div>
                        <div id="rfc.section.6.1.p.4">
                            <dl>
                                <dt>Pad Length:</dt>
                                <dd style="margin-left: 1.5em">一个 8 位字段，包含帧填充的长度（以八位组为单位）。仅当 PADDED 标志被置位时才存在此字段。</dd>
                                <dt>Data:</dt>
                                <dd style="margin-left: 1.5em">应用数据。数据的长度为在减去存在的其他字段长度后帧负载中剩余的部分。</dd>
                                <dt>Padding:</dt>
                                <dd style="margin-left: 1.5em">不含应用语义的填充八位组。发送时填充八位组<em
                                        class="bcp14">MUST</em>被设置为零。接收方没有义务验证填充，但可以将非零填充视为类型为 <a
                                        href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a
                                        href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。
                                </dd>
                            </dl>
                        </div>
                        <div id="rfc.section.6.1.p.5" class="avoidbreakafter">
                            <p>DATA 帧定义了以下标志：</p>
                        </div>
                        <div id="rfc.section.6.1.p.6">
                            <dl>
                                <dt>PADDED (0x08):</dt>
                                <dd style="margin-left: 1.5em">置位时表示存在 Pad Length 字段及其描述的任何填充。</dd>
                                <dt>END_STREAM (0x01):</dt>
                                <dd style="margin-left: 1.5em">
                                    置位时表示该帧是端点为标识流发送的最后一个帧。设置该标志会使流进入某个“half-closed”状态或“closed”状态（参见 <a
                                        href="#StreamStates" title="Stream States">第 5.1 节</a>）。</dd>
                            </dl>
                        </div>
                        <div id="rfc.section.6.1.p.7">
                            <aside>
                                <div id="rfc.section.6.1.p.7.1">
                                    <p>注：若端点在发送完所有数据后才得知流已关闭，可以通过发送一个数据字段长度为零且带有 END_STREAM 标志的 DATA
                                        帧来关闭流。仅当端点不发送尾部（trailers）时才可这样做，因为当发送尾部时 END_STREAM 标志会出现在 HEADERS 帧上；参见 <a
                                            href="#HttpFraming" title="HTTP Message Framing">第 8.1 节</a>。</p>
                                </div>
                            </aside>
                        </div>
                        <div id="rfc.section.6.1.p.8">
                            <p>DATA 帧<em class="bcp14">MUST</em>关联到某个流。如果接收到 Stream Identifier 字段为 0x00 的 DATA 帧，接收方<em
                                    class="bcp14">MUST</em>以类型为 <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a>
                                的连接错误进行响应（参见 <a href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                    节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.1.p.9">
                            <p>DATA 帧受流量控制约束，只能在流处于“open”或“half-closed (remote)”状态时发送。整个 DATA 帧负载都计入流量控制，包括 Pad Length 和
                                Padding 字段（如存在）。如果接收到的 DATA 帧所属流不处于“open”或“half-closed (local)”状态，接收方<em
                                    class="bcp14">MUST</em>以类型为 <a href="#STREAM_CLOSED">STREAM_CLOSED</a> 的流错误进行响应（参见
                                <a href="#StreamErrorHandler" title="Stream Error Handling">第 5.4.2 节</a>）。
                            </p>
                        </div>
                        <div id="rfc.section.6.1.p.10">
                            <p>填充八位组的总数由 Pad Length 字段的值决定。如果填充长度等于或大于帧负载长度，接收方<em class="bcp14">MUST</em>将其视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.1.p.11">
                            <aside>
                                <div id="rfc.section.6.1.p.11.1">
                                    <p>注：通过包含一个值为零的 Pad Length 字段，可以将帧大小增加一个八位组。</p>
                                </div>
                            </aside>
                        </div>
                    </section>
                    <section id="HEADERS">
                        <h3 id="rfc.section.6.2"><a href="#rfc.section.6.2">6.2.</a>&nbsp;<a href="#HEADERS">HEADERS</a>
                        </h3>
                        <div id="rfc.section.6.2.p.1">
                            <p>HEADERS 帧（type=0x01）用于打开流（参见 <a href="#StreamStates" title="Stream States">第 5.1
                                    节</a>），并携带字段块片段。尽管名称为 HEADERS，HEADERS 帧既可以承载头部段也可以承载尾部段。HEADERS
                                帧可以在流处于“idle”、“reserved (local)”、“open”或“half-closed (remote)”状态时发送。</p>
                        </div>
                        <div id="HEADERSFrameFormat"></div>
                        <div id="rfc.figure.4">
                            <div>
                                <pre class="inline">
HEADERS Frame {
  Length (24),
  Type (8) = 0x01,

  Unused Flags (2),
  PRIORITY Flag (1),
  Unused Flag (1),
  PADDED Flag (1),
  END_HEADERS Flag (1),
  Unused Flag (1),
  END_STREAM Flag (1),

  Reserved (1),
  Stream Identifier (31),

  [Pad Length (8)],
  [Exclusive (1)],
  [Stream Dependency (31)],
  [Weight (8)],
  Field Block Fragment (..),
  Padding (..2040),
}
</pre>
                            </div>
                        </div>
                        <p class="figure">图 4：HEADERS 帧格式</p>
                        <div id="rfc.section.6.2.p.2" class="avoidbreakafter">
                            <p>Length、Type、Unused Flag(s)、Reserved 和 Stream Identifier 字段在 <a href="#FramingLayer"
                                    title="HTTP Frames">第 4 节</a> 中描述。HEADERS 帧负载还具有下列附加字段：</p>
                        </div>
                        <div id="rfc.section.6.2.p.3">
                            <dl>
                                <dt>Pad Length:</dt>
                                <dd style="margin-left: 1.5em">一个 8 位字段，包含帧填充的长度（以八位组为单位）。仅当 PADDED 标志被置位时才存在此字段。</dd>
                                <dt>Exclusive:</dt>
                                <dd style="margin-left: 1.5em">一个单比特标志。仅当 PRIORITY 标志被置位时才存在此字段。HEADERS 帧中的优先级信号已被弃用；参见
                                    <a href="#PriorityHere" title="Priority Signaling in This Document">第 5.3.2 节</a>。
                                </dd>
                                <dt>Stream Dependency:</dt>
                                <dd style="margin-left: 1.5em">一个 31 位流标识符。仅当 PRIORITY 标志被置位时才存在此字段。</dd>
                                <dt>Weight:</dt>
                                <dd style="margin-left: 1.5em">一个无符号 8 位整数。仅当 PRIORITY 标志被置位时才存在此字段。</dd>
                                <dt>Field Block Fragment:</dt>
                                <dd style="margin-left: 1.5em">字段块片段（参见 <a href="#FieldBlock"
                                        title="Field Section Compression and Decompression">第 4.3 节</a>）。</dd>
                                <dt>Padding:</dt>
                                <dd style="margin-left: 1.5em">不含应用语义的填充八位组。发送时填充八位组<em
                                        class="bcp14">MUST</em>被设置为零。接收方没有义务验证填充，但可以将非零填充视为类型为 <a
                                        href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a
                                        href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。
                                </dd>
                            </dl>
                        </div>
                        <div id="rfc.section.6.2.p.4" class="avoidbreakafter">
                            <p>HEADERS 帧定义了以下标志：</p>
                        </div>
                        <div id="rfc.section.6.2.p.5">
                            <dl>
                                <dt>PRIORITY (0x20):</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>置位时表示 Exclusive、Stream Dependency 和 Weight 字段存在。</div>
                                </dd>
                                <dt>PADDED (0x08):</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>置位时表示 Pad Length 字段及其描述的任何填充存在。</div>
                                </dd>
                                <dt>END_HEADERS (0x04):</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>置位时表示该帧包含完整的字段块（参见 <a href="#FieldBlock"
                                            title="Field Section Compression and Decompression">第 4.3 节</a>），并且后面不再跟随任何
                                        <a href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧。
                                    </div>
                                    <div>若 HEADERS 帧未置 END_HEADERS 标志，则<em class="bcp14">MUST</em>由同一流的 <a
                                            href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧继续。接收方<em
                                            class="bcp14">MUST</em>将任何其他类型的帧或来自不同流的帧视为类型为 <a
                                            href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a
                                            href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                            节</a>）。</div>
                                </dd>
                                <dt>END_STREAM (0x01):</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>置位时表示该字段块（参见 <a href="#FieldBlock"
                                            title="Field Section Compression and Decompression">第 4.3
                                            节</a>）是端点为标识流发送的最后一个字段块。</div>
                                    <div>带有 END_STREAM 标志的 HEADERS 帧表示流的结束。但是，带有 END_STREAM 标志的 HEADERS 帧之后可以跟随同一流的 <a
                                            href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧。从逻辑上讲，这些
                                        CONTINUATION 帧是 HEADERS 帧的一部分。</div>
                                </dd>
                            </dl>
                        </div>
                        <div id="rfc.section.6.2.p.6">
                            <p>HEADERS 帧的帧负载包含字段块片段（参见 <a href="#FieldBlock"
                                    title="Field Section Compression and Decompression">第 4.3 节</a>）。不能完全放入 HEADERS
                                帧的字段块将在 CONTINUATION 帧中继续（参见 <a href="#CONTINUATION" title="CONTINUATION">第 6.10 节</a>）。
                            </p>
                        </div>
                        <div id="rfc.section.6.2.p.7">
                            <p>HEADERS 帧<em class="bcp14">MUST</em>关联到某个流。如果接收到 Stream Identifier 字段为 0x00 的 HEADERS
                                帧，接收方<em class="bcp14">MUST</em>以类型为 <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a>
                                的连接错误进行响应（参见 <a href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                    节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.2.p.8">
                            <p>HEADERS 帧按照 <a href="#FieldBlock" title="Field Section Compression and Decompression">第
                                    4.3 节</a> 描述的方式改变连接状态。</p>
                        </div>
                        <div id="rfc.section.6.2.p.9">
                            <p>填充八位组的总数由 Pad Length 字段的值决定。如果填充长度等于或大于帧负载长度，接收方<em class="bcp14">MUST</em>将其视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.2.p.10">
                            <aside>
                                <div id="rfc.section.6.2.p.10.1">
                                    <p>注：通过包含一个值为零的 Pad Length 字段，可以将帧大小增加一个八位组。</p>
                                </div>
                            </aside>
                        </div>
                    </section>
                    <section id="PRIORITY">
                        <h3 id="rfc.section.6.3"><a href="#rfc.section.6.3">6.3.</a>&nbsp;<a
                                href="#PRIORITY">PRIORITY</a></h3>
                        <div id="rfc.section.6.3.p.1">
                            <p>PRIORITY 帧（type=0x02）已被弃用；参见 <a href="#PriorityHere"
                                    title="Priority Signaling in This Document">第 5.3.2 节</a>。PRIORITY 帧可以在任何流状态发送，包括
                                idle 或 closed 流。</p>
                        </div>
                        <div id="PRIORITYFrameFormat"></div>
                        <div id="rfc.figure.5">
                            <div>
                                <pre class="inline">
PRIORITY Frame {
  Length (24) = 0x05,
  Type (8) = 0x02,

  Unused Flags (8),

  Reserved (1),
  Stream Identifier (31),

  Exclusive (1),
  Stream Dependency (31),
  Weight (8),
}
</pre>
                            </div>
                        </div>
                        <p class="figure">图 5：PRIORITY 帧格式</p>
                        <div id="rfc.section.6.3.p.2" class="avoidbreakafter">
                            <p>Length、Type、Unused Flag(s)、Reserved 和 Stream Identifier 字段在 <a href="#FramingLayer"
                                    title="HTTP Frames">第 4 节</a> 中描述。PRIORITY 帧的帧负载包含下列附加字段：</p>
                        </div>
                        <div id="rfc.section.6.3.p.3">
                            <dl>
                                <dt>Exclusive:</dt>
                                <dd style="margin-left: 1.5em">一个单比特标志。</dd>
                                <dt>Stream Dependency:</dt>
                                <dd style="margin-left: 1.5em">一个 31 位流标识符。</dd>
                                <dt>Weight:</dt>
                                <dd style="margin-left: 1.5em">一个无符号 8 位整数。</dd>
                            </dl>
                        </div>
                        <div id="rfc.section.6.3.p.4">
                            <p>PRIORITY 帧不定义任何标志。</p>
                        </div>
                        <div id="rfc.section.6.3.p.5">
                            <p>PRIORITY 帧总是标识一个流。如果接收到的 PRIORITY 帧的流标识符为 0x00，接收方<em class="bcp14">MUST</em>以类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误进行响应（参见 <a
                                    href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.3.p.6">
                            <p>发送或接收 PRIORITY 帧不会影响任何流的状态（参见 <a href="#StreamStates" title="Stream States">第 5.1
                                    节</a>）。PRIORITY 帧可以在任何状态的流上发送，包括 "idle" 或 "closed"。PRIORITY 帧不得发送在构成单个字段块的连续帧之间（参见
                                <a href="#FieldBlock" title="Field Section Compression and Decompression">第 4.3 节</a>）。
                            </p>
                        </div>
                        <div id="rfc.section.6.3.p.7">
                            <p>长度不是 5 个八位组的 PRIORITY 帧<em class="bcp14">MUST</em>被视为类型为 <a
                                    href="#FRAME_SIZE_ERROR">FRAME_SIZE_ERROR</a> 的流错误（参见 <a href="#StreamErrorHandler"
                                    title="Stream Error Handling">第 5.4.2 节</a>）。</p>
                        </div>
                    </section>
                    <section id="RST_STREAM">
                        <h3 id="rfc.section.6.4"><a href="#rfc.section.6.4">6.4.</a>&nbsp;<a
                                href="#RST_STREAM">RST_STREAM</a></h3>
                        <div id="rfc.section.6.4.p.1">
                            <p>RST_STREAM 帧（type=0x03）允许立即终止流。发送 RST_STREAM 用于请求取消流或指示已发生错误情况。</p>
                        </div>
                        <div id="RST_STREAMFrameFormat"></div>
                        <div id="rfc.figure.6">
                            <div>
                                <pre class="inline">
RST_STREAM Frame {
  Length (24) = 0x04,
  Type (8) = 0x03,

  Unused Flags (8),

  Reserved (1),
  Stream Identifier (31),

  Error Code (32),
}
</pre>
                            </div>
                        </div>
                        <p class="figure">图 6：RST_STREAM 帧格式</p>
                        <div id="rfc.section.6.4.p.2">
                            <p>Length、Type、Unused Flag(s)、Reserved 和 Stream Identifier 字段在 <a href="#FramingLayer"
                                    title="HTTP Frames">第 4 节</a> 中描述。此外，RST_STREAM 帧包含一个无符号 32 位整数，标识错误码（参见 <a
                                    href="#ErrorCodes" title="Error Codes">第 7 节</a>）。该错误码指示流被终止的原因。</p>
                        </div>
                        <div id="rfc.section.6.4.p.3">
                            <p>RST_STREAM 帧不定义任何标志。</p>
                        </div>
                        <div id="rfc.section.6.4.p.4">
                            <p>RST_STREAM 帧会完全终止被引用的流并使其进入“closed”状态。接收到针对某流的 RST_STREAM 后，接收方<em class="bcp14">MUST
                                    NOT</em>为该流发送额外的帧（PRIORITY 除外）。然而，在发送 RST_STREAM 之后，发送端<em
                                    class="bcp14">MUST</em>准备接收并处理可能在对端处理到 RST_STREAM 之前已发送或已排队的额外帧。</p>
                        </div>
                        <div id="rfc.section.6.4.p.5">
                            <p>RST_STREAM 帧<em class="bcp14">MUST</em>关联到某个流。如果接收到 Stream Identifier 字段为 0x00 的
                                RST_STREAM 帧，接收方<em class="bcp14">MUST</em>将其视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.4.p.6">
                            <p>不得对处于“idle”状态的流发送 RST_STREAM 帧。如果接收到标识空闲流的 RST_STREAM 帧，接收方<em
                                    class="bcp14">MUST</em>将其视为类型为 <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见
                                <a href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。
                            </p>
                        </div>
                        <div id="rfc.section.6.4.p.7">
                            <p>长度不是 4 个八位组的 RST_STREAM 帧<em class="bcp14">MUST</em>被视为类型为 <a
                                    href="#FRAME_SIZE_ERROR">FRAME_SIZE_ERROR</a> 的连接错误（参见 <a
                                    href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                    </section>
                    <section id="SETTINGS">
                        <h3 id="rfc.section.6.5"><a href="#rfc.section.6.5">6.5.</a>&nbsp;<a
                                href="#SETTINGS">SETTINGS</a></h3>
                        <div id="rfc.section.6.5.p.1">
                            <p>SETTINGS 帧（type=0x04）传递影响端点通信方式的配置参数，例如对等方行为的偏好和约束。SETTINGS 帧也用于确认接收到的这些设置。SETTINGS
                                帧中的单个配置参数称为“setting”。</p>
                        </div>
                        <div id="rfc.section.6.5.p.2">
                            <p>设置不是协商的；它们描述发送方的特性，由接收方使用。各对等方可以为同一设置通告不同的值。例如，客户端可能设置较大的初始流量控制窗口，而服务器可能设置较小的值以节约资源。</p>
                        </div>
                        <div id="rfc.section.6.5.p.3">
                            <p>在连接开始时，双方端点<em class="bcp14">MUST</em>发送 SETTINGS 帧，并且在连接的整个生命周期内任一端点<em
                                    class="bcp14">MAY</em>在任何时候发送 SETTINGS 帧。实现<em class="bcp14">MUST</em>支持本规范定义的所有设置。
                            </p>
                        </div>
                        <div id="rfc.section.6.5.p.4">
                            <p>SETTINGS 帧中的每个参数会替换该参数的任何现有值。设置按出现顺序处理，接收 SETTINGS 帧的一方不需要维护除每个设置当前值之外的任何状态。因此，SETTINGS
                                参数的值为接收方最后看到的值。</p>
                        </div>
                        <div id="rfc.section.6.5.p.5" class="avoidbreakafter">
                            <p>SETTINGS 帧由接收端点进行确认。为支持此点，SETTINGS 帧定义了 ACK 标志：</p>
                        </div>
                        <div id="rfc.section.6.5.p.6">
                            <dl>
                                <dt>ACK (0x01):</dt>
                                <dd style="margin-left: 1.5em">置位时表示该帧确认已接收并应用了对等方的 SETTINGS 帧。置位该位时，SETTINGS 帧的帧负载<em
                                        class="bcp14">MUST</em>为空。接收带有 ACK 标志且长度字段不为 0 的 SETTINGS 帧<em
                                        class="bcp14">MUST</em>被视为类型为 <a href="#FRAME_SIZE_ERROR">FRAME_SIZE_ERROR</a>
                                    的连接错误（参见 <a href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                        节</a>）。更多信息见 <a href="#SettingsSync" title="Settings Synchronization">第 6.5.3
                                        节</a>（“Settings Synchronization”）。</dd>
                            </dl>
                        </div>
                        <div id="rfc.section.6.5.p.7">
                            <p>SETTINGS 帧始终适用于连接，而不是单个流。SETTINGS 帧的流标识符<em class="bcp14">MUST</em>为 0x00。如果接收到的 SETTINGS
                                帧的 Stream Identifier 字段不是 0x00，接收方<em class="bcp14">MUST</em>以类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误进行响应（参见 <a
                                    href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.5.p.8">
                            <p>SETTINGS 帧影响连接状态。格式错误或不完整的 SETTINGS 帧<em class="bcp14">MUST</em>被视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.5.p.9">
                            <p>长度不是 6 的倍数的 SETTINGS 帧<em class="bcp14">MUST</em>被视为类型为 <a
                                    href="#FRAME_SIZE_ERROR">FRAME_SIZE_ERROR</a> 的连接错误（参见 <a
                                    href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <section id="SettingFormat">
                            <h4 id="rfc.section.6.5.1"><a href="#rfc.section.6.5.1">6.5.1.</a>&nbsp;<a
                                    href="#SettingFormat">SETTINGS 格式</a></h4>
                            <div id="rfc.section.6.5.1.p.1">
                                <p>SETTINGS 帧的帧负载由零个或多个 setting 组成，每个 setting 包含一个无符号 16 位的设置标识符和一个无符号 32 位的值。</p>
                            </div>
                            <div id="SettingFrameFormat"></div>
                            <div id="rfc.figure.7">
                                <div>
                                    <pre class="inline">
SETTINGS Frame {
  Length (24),
  Type (8) = 0x04,

  Unused Flags (7),
  ACK Flag (1),

  Reserved (1),
  Stream Identifier (31) = 0,

  Setting (48) ...,
}

Setting {
  Identifier (16),
  Value (32),
}
</pre>
                                </div>
                            </div>
                            <p class="figure">图 7：SETTINGS 帧格式</p>
                            <div id="rfc.section.6.5.1.p.2" class="avoidbreakafter">
                                <p>Length、Type、Unused Flag(s)、Reserved 和 Stream Identifier 字段在 <a href="#FramingLayer"
                                        title="HTTP Frames">第 4 节</a> 中描述。SETTINGS 帧的帧负载包含任意数量的 Setting 字段，每个 Setting
                                    包含：</p>
                            </div>
                            <div id="rfc.section.6.5.1.p.3">
                                <dl>
                                    <dt>Identifier:</dt>
                                    <dd style="margin-left: 1.5em">一个 16 位的设置标识符；见 <a href="#SettingValues"
                                            title="Defined Settings">第 6.5.2 节</a>。</dd>
                                    <dt>Value:</dt>
                                    <dd style="margin-left: 1.5em">该设置的 32 位值。</dd>
                                </dl>
                            </div>
                        </section>
                        <section id="SettingValues">
                            <h4 id="rfc.section.6.5.2"><a href="#rfc.section.6.5.2">6.5.2.</a>&nbsp;<a
                                    href="#SettingValues">已定义的设置</a></h4>
                            <div id="rfc.section.6.5.2.p.1" class="avoidbreakafter">
                                <p>定义如下设置：</p>
                            </div>
                            <div id="rfc.section.6.5.2.p.2">
                                <dl>
                                    <dt id="SETTINGS_HEADER_TABLE_SIZE">SETTINGS_HEADER_TABLE_SIZE (0x01):</dt>
                                    <dd style="margin-left: 1.5em">
                                        <div>
                                            该设置允许发送方告知远端端点用于解码字段块的压缩表的最大大小（以八位组为单位）。编码器可以通过字段块内部特定的压缩格式信令选择任何小于或等于该值的大小（参见
                                            <a href="#RFC7541"><cite
                                                    title="HPACK: Header Compression for HTTP/2">[COMPRESSION]</cite></a>）。初始值为
                                            4,096 八位组。
                                        </div>
                                    </dd>
                                    <dt id="SETTINGS_ENABLE_PUSH">SETTINGS_ENABLE_PUSH (0x02):</dt>
                                    <dd style="margin-left: 1.5em">
                                        <div>该设置可用于启用或禁用服务器推送。如果服务器接收到此参数被设置为 0，则服务器<em class="bcp14">MUST NOT</em>发送 <a
                                                href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a> 帧；参见 <a
                                                href="#PushResources" title="Server Push">第 8.4 节</a>。一个客户端在将该参数设为 0
                                            并被确认后，若接收到 <a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a>
                                            帧，<em class="bcp14">MUST</em>将其视为类型为 <a
                                                href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a
                                                href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                                节</a>）。</div>
                                        <div>SETTINGS_ENABLE_PUSH 的初始值为 1。对于客户端，该值表示它愿意接收 PUSH_PROMISE
                                            帧。对于服务器，该初始值无效且等同于 0。任何非 0 或 1 的值<em class="bcp14">MUST</em>被视为类型为 <a
                                                href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a
                                                href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                                节</a>）。</div>
                                        <div>服务器<em class="bcp14">MUST NOT</em>显式将此值设为 1。服务器可以在发送 SETTINGS
                                            帧时选择省略该设置，但若包含该设置，其值<em class="bcp14">MUST</em>为 0。客户端<em
                                                class="bcp14">MUST</em>将接收带有 SETTINGS_ENABLE_PUSH 为 1 的 SETTINGS 帧视为类型为
                                            <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a
                                                href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                                节</a>）。
                                        </div>
                                    </dd>
                                    <dt id="SETTINGS_MAX_CONCURRENT_STREAMS">SETTINGS_MAX_CONCURRENT_STREAMS (0x03):
                                    </dt>
                                    <dd style="margin-left: 1.5em">
                                        <div>该设置指示发送方允许的最大并发流数。该限制具有方向性：它适用于发送方允许接收方创建的流数量。最初，该值无限。建议该值不少于
                                            100，以免不必要地限制并行度。</div>
                                        <div>对于 SETTINGS_MAX_CONCURRENT_STREAMS 的值为 0，端点<em class="bcp14">SHOULD
                                                NOT</em>将其视为特殊情况。零值会阻止新流的创建；但任何耗尽活动流的限制都会产生相同效果。服务器<em
                                                class="bcp14">SHOULD</em>仅在短时间内设置零值；如果服务器不希望接收请求，关闭连接更为合适。</div>
                                    </dd>
                                    <dt id="SETTINGS_INITIAL_WINDOW_SIZE">SETTINGS_INITIAL_WINDOW_SIZE (0x04):</dt>
                                    <dd style="margin-left: 1.5em">
                                        <div>该设置指示发送方用于流级别流量控制的初始窗口大小（以八位组为单位）。初始值为 2<sup>16</sup>-1（65,535）八位组。</div>
                                        <div>该设置影响所有流的窗口大小（见 <a href="#InitialWindowSize"
                                                title="Initial Flow-Control Window Size">第 6.9.2 节</a>）。</div>
                                        <div>超过最大流量控制窗口 2<sup>31</sup>-1 的值<em class="bcp14">MUST</em>被视为类型为 <a
                                                href="#FLOW_CONTROL_ERROR">FLOW_CONTROL_ERROR</a> 的连接错误（参见 <a
                                                href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                                节</a>）。</div>
                                    </dd>
                                    <dt id="SETTINGS_MAX_FRAME_SIZE">SETTINGS_MAX_FRAME_SIZE (0x05):</dt>
                                    <dd style="margin-left: 1.5em">
                                        <div>该设置指示发送方愿意接收的最大帧负载大小（以八位组为单位）。</div>
                                        <div>初始值为 2<sup>14</sup>（16,384）八位组。端点通告的值<em
                                                class="bcp14">MUST</em>位于该初始值与允许的最大帧大小（2<sup>24</sup>-1 或 16,777,215
                                            八位组）之间（含端点）。超出此范围的值<em class="bcp14">MUST</em>被视为类型为 <a
                                                href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a
                                                href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                                节</a>）。</div>
                                    </dd>
                                    <dt id="SETTINGS_MAX_HEADER_LIST_SIZE">SETTINGS_MAX_HEADER_LIST_SIZE (0x06):</dt>
                                    <dd style="margin-left: 1.5em">
                                        <div>该建议性设置告知对等方发送方可接受的最大字段段大小（以八位组为单位）。该值基于未压缩的字段行大小，包括名和值的长度（以八位组为单位）加上每个字段行
                                            32 八位组的开销。</div>
                                        <div>对于任意给定请求，可以强制执行比通告值更低的限制。该设置的初始值为无限制。</div>
                                    </dd>
                                </dl>
                            </div>
                            <div id="rfc.section.6.5.2.p.3">
                                <p>接收带有任何未知或不支持标识符的 SETTINGS 帧的端点<em class="bcp14">MUST</em>忽略该设置。</p>
                            </div>
                        </section>
                        <section id="SettingsSync">
                            <h4 id="rfc.section.6.5.3"><a href="#rfc.section.6.5.3">6.5.3.</a>&nbsp;<a
                                    href="#SettingsSync">设置同步</a></h4>
                            <div id="rfc.section.6.5.3.p.1">
                                <p>大多数 SETTINGS 值受益于或需要了解对等方何时已接收并应用了更改的参数值。为提供此类同步时点，接收未置 ACK 的 SETTINGS 帧的端点<em
                                        class="bcp14">MUST</em>在收到后尽快应用更新的设置。SETTINGS 帧按接收顺序被确认。</p>
                            </div>
                            <div id="rfc.section.6.5.3.p.2">
                                <p>SETTINGS 帧中的值<em class="bcp14">MUST</em>按出现顺序处理，中间不得有其他帧处理。Unsupported settings <em
                                        class="bcp14">MUST</em> be ignored. Once all values have been processed, the
                                    recipient <em class="bcp14">MUST</em> immediately emit a SETTINGS frame with the ACK
                                    flag set. Upon receiving a SETTINGS frame with the ACK flag set, the sender of the
                                    altered settings can rely on the values from the oldest unacknowledged SETTINGS
                                    frame having been applied.</p>
                            </div>
                            <div id="rfc.section.6.5.3.p.3">
                                <p>如果 SETTINGS 帧的发送方在合理时间内未收到确认，则<em class="bcp14">MAY</em>发起类型为 <a
                                        href="#SETTINGS_TIMEOUT">SETTINGS_TIMEOUT</a> 的连接错误（参见 <a
                                        href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                        节</a>）。在设置超时时需要为对端的处理延迟留出余量；仅基于端点间的往返时间来设置超时可能导致误报错误。</p>
                            </div>
                        </section>
                    </section>
                    <section id="PUSH_PROMISE">
                        <h3 id="rfc.section.6.6"><a href="#rfc.section.6.6">6.6.</a>&nbsp;<a
                                href="#PUSH_PROMISE">PUSH_PROMISE</a></h3>
                        <div id="rfc.section.6.6.p.1">
                            <p>PUSH_PROMISE 帧（type=0x05）用于提前通知对等端点发送方打算发起的流。PUSH_PROMISE 帧包含发送方计划创建的流的无符号 31
                                位标识符，以及提供该流上下文的字段段。第 <a href="#PushResources" title="Server Push">8.4 节</a> 对
                                PUSH_PROMISE 的使用进行了详尽描述。</p>
                        </div>
                        <div id="PUSH_PROMISEFrameFormat"></div>
                        <div id="rfc.figure.8">
                            <div>
                                <pre class="inline">
PUSH_PROMISE Frame {
  Length (24),
  Type (8) = 0x05,

  Unused Flags (4),
  PADDED Flag (1),
  END_HEADERS Flag (1),
  Unused Flags (2),

  Reserved (1),
  Stream Identifier (31),

  [Pad Length (8)],
  Reserved (1),
  Promised Stream ID (31),
  Field Block Fragment (..),
  Padding (..2040),
}
</pre>
                            </div>
                        </div>
                        <p class="figure">图 8：PUSH_PROMISE 帧格式</p>
                        <div id="rfc.section.6.6.p.2" class="avoidbreakafter">
                            <p>Length、Type、Unused Flag(s)、Reserved 和 Stream Identifier 字段在 <a href="#FramingLayer"
                                    title="HTTP Frames">第 4 节</a> 中描述。PUSH_PROMISE 帧负载具有下列附加字段：</p>
                        </div>
                        <div id="rfc.section.6.6.p.3">
                            <dl>
                                <dt>Pad Length:</dt>
                                <dd style="margin-left: 1.5em">一个 8 位字段，包含帧填充的长度（以八位组为单位）。仅当 PADDED 标志被置位时才存在此字段。</dd>
                                <dt>Promised Stream ID:</dt>
                                <dd style="margin-left: 1.5em">一个无符号 31 位整数，标识被 PUSH_PROMISE 保留的流。被承诺的流标识符<em
                                        class="bcp14">MUST</em>为发送方下一次发送流时的合法选择（参见 <a href="#StreamIdentifiers"
                                        title="Stream Identifiers">第 5.1.1 节</a> 中的“new stream identifier”）。</dd>
                                <dt>Field Block Fragment:</dt>
                                <dd style="margin-left: 1.5em">字段块片段（参见 <a href="#FieldBlock"
                                        title="Field Section Compression and Decompression">第 4.3 节</a>），包含请求控制数据和头部段。
                                </dd>
                                <dt>Padding:</dt>
                                <dd style="margin-left: 1.5em">不含应用语义的填充八位组。发送时填充八位组<em
                                        class="bcp14">MUST</em>被设置为零。接收方没有义务验证填充，但可以将非零填充视为类型为 <a
                                        href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a
                                        href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。
                                </dd>
                            </dl>
                        </div>
                        <div id="rfc.section.6.6.p.4" class="avoidbreakafter">
                            <p>PUSH_PROMISE 帧定义了以下标志：</p>
                        </div>
                        <div id="rfc.section.6.6.p.5">
                            <dl>
                                <dt>PADDED (0x08):</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>置位时表示存在 Pad Length 字段及其描述的任何填充。</div>
                                </dd>
                                <dt>END_HEADERS (0x04):</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>置位时表示该帧包含完整的字段块（参见 <a href="#FieldBlock"
                                            title="Field Section Compression and Decompression">第 4.3 节</a>），并且后面不再跟随任何
                                        <a href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧。
                                    </div>
                                    <div>若 PUSH_PROMISE 帧未置 END_HEADERS 标志，则<em class="bcp14">MUST</em>由同一流的
                                        CONTINUATION 帧继续。接收方<em class="bcp14">MUST</em>将任何其他类型的帧或来自不同流的帧视为类型为 <a
                                            href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a
                                            href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                            节</a>）。</div>
                                </dd>
                            </dl>
                        </div>
                        <div id="rfc.section.6.6.p.6">
                            <p>PUSH_PROMISE 帧<em class="bcp14">MUST</em>仅发送在对等方发起并处于“open”或“half-closed
                                (remote)”状态的流上。PUSH_PROMISE 的 Stream Identifier 字段指示它所关联的流。如果 Stream Identifier 字段为
                                0x00，接收方<em class="bcp14">MUST</em>以类型为 <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a>
                                的连接错误进行响应（参见 <a href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                    节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.6.p.7">
                            <p>被承诺的流不必按承诺顺序使用。PUSH_PROMISE 仅为稍后使用保留流标识符。</p>
                        </div>
                        <div id="rfc.section.6.6.p.8">
                            <p>如果对等端点的 <a href="#SETTINGS_ENABLE_PUSH">SETTINGS_ENABLE_PUSH</a> 设置为 0，则不得发送
                                PUSH_PROMISE。将该设置设为 0 并收到确认的端点<em class="bcp14">MUST</em>将接收 PUSH_PROMISE 视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.6.p.9">
                            <p>PUSH_PROMISE 的接收方可以通过对被承诺的流返回引用该被承诺流标识符的 <a href="#RST_STREAM"
                                    title="RST_STREAM">RST_STREAM</a> 来选择拒绝被承诺的流。</p>
                        </div>
                        <div id="rfc.section.6.6.p.10">
                            <p>PUSH_PROMISE 帧以两种方式修改连接状态。首先，包含字段块（参见 <a href="#FieldBlock"
                                    title="Field Section Compression and Decompression">第 4.3
                                    节</a>）可能修改接收方为字段段压缩维护的状态。其次，PUSH_PROMISE 还为稍后使用保留一个流，使被承诺流进入“reserved
                                (local)”或“reserved (remote)”状态。发送方<em class="bcp14">MUST
                                    NOT</em>在流既非“open”也非“half-closed (remote)”的情况下发送 PUSH_PROMISE；发送方<em
                                    class="bcp14">MUST</em>确保被承诺的流对于新的流标识符是有效的选择（参见 <a href="#StreamIdentifiers"
                                    title="Stream Identifiers">第 5.1.1 节</a>）（即，被承诺的流<em
                                    class="bcp14">MUST</em>处于“idle”状态）。</p>
                        </div>
                        <div id="rfc.section.6.6.p.11">
                            <p>由于 PUSH_PROMISE 会保留流，忽略 PUSH_PROMISE 将导致该流状态变得不确定。接收方<em
                                    class="bcp14">MUST</em>将对既不处于“open”也不处于“half-closed (local)”状态的流上接收 PUSH_PROMISE
                                视为类型为 <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a
                                    href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                    节</a>）。但是，在关联流上已发送 <a href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a> 的端点<em
                                    class="bcp14">MUST</em>处理可能在接收并处理 RST_STREAM 之前创建的 PUSH_PROMISE 帧。</p>
                        </div>
                        <div id="rfc.section.6.6.p.12">
                            <p>接收方<em class="bcp14">MUST</em>将承诺非法流标识符的 PUSH_PROMISE（参见 <a href="#StreamIdentifiers"
                                    title="Stream Identifiers">第 5.1.1 节</a>）视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。注意，非法流标识符指的是不是当前处于“idle”状态的流的标识符。
                            </p>
                        </div>
                        <div id="rfc.section.6.6.p.13">
                            <p>填充八位组的总数由 Pad Length 字段的值决定。如果填充长度等于或大于帧负载长度，接收方<em class="bcp14">MUST</em>将其视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.6.p.14">
                            <aside>
                                <div id="rfc.section.6.6.p.14.1">
                                    <p>注：通过包含一个值为零的 Pad Length 字段，可以将帧大小增加一个八位组。</p>
                                </div>
                            </aside>
                        </div>
                    </section>
                    <section id="PING">
                        <h3 id="rfc.section.6.7"><a href="#rfc.section.6.7">6.7.</a>&nbsp;<a href="#PING">PING</a></h3>
                        <div id="rfc.section.6.7.p.1">
                            <p>PING 帧（type=0x06）是一种测量发送方最小往返时间并确定空闲连接是否仍然可用的机制。PING 帧可以由任一端点发送。</p>
                        </div>
                        <div id="PINGFrameFormat"></div>
                        <div id="rfc.figure.9">
                            <div>
                                <pre class="inline">
PING Frame {
  Length (24) = 0x08,
  Type (8) = 0x06,

  Unused Flags (7),
  ACK Flag (1),

  Reserved (1),
  Stream Identifier (31) = 0,

  Opaque Data (64),
}
</pre>
                            </div>
                        </div>
                        <p class="figure">图 9：PING 帧格式</p>
                        <div id="rfc.section.6.7.p.2">
                            <p>Length、Type、Unused Flag(s)、Reserved 和 Stream Identifier 字段在 <a href="#FramingLayer"
                                    title="HTTP Frames">第 4 节</a> 中描述。</p>
                        </div>
                        <div id="rfc.section.6.7.p.3">
                            <p>除了帧头外，PING 帧<em class="bcp14">MUST</em>在帧负载中包含 8 个字节的不透明数据。发送方可以选择任意值并以任意方式使用这些八位组。</p>
                        </div>
                        <div id="rfc.section.6.7.p.4">
                            <p>接收未包含 ACK 标志的 PING 帧的接收方<em class="bcp14">MUST</em>发送一个带有 ACK 标志的 PING
                                帧作为响应，且帧负载应与原始帧相同。PING 响应<em class="bcp14">SHOULD</em>被赋予比其他任何帧更高的优先级。</p>
                        </div>
                        <div id="rfc.section.6.7.p.5" class="avoidbreakafter">
                            <p>PING 帧定义了以下标志：</p>
                        </div>
                        <div id="rfc.section.6.7.p.6">
                            <dl>
                                <dt>ACK (0x01):</dt>
                                <dd style="margin-left: 1.5em">置位时表示该 PING 帧为 PING 响应。接收方<em class="bcp14">MUST</em>在
                                    PING 响应中置位该标志。含该标志的 PING 帧<em class="bcp14">MUST NOT</em>再被响应。</dd>
                            </dl>
                        </div>
                        <div id="rfc.section.6.7.p.7">
                            <p>PING 帧不关联到任何单独的流。如果接收到 Stream Identifier 字段值不是 0x00 的 PING 帧，接收方<em
                                    class="bcp14">MUST</em>以类型为 <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a>
                                的连接错误进行响应（参见 <a href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                    节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.7.p.8">
                            <p>长度字段值不是 8 的 PING 帧的接收应被视为类型为 <a href="#FRAME_SIZE_ERROR">FRAME_SIZE_ERROR</a> 的连接错误（参见 <a
                                    href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                    </section>
                    <section id="GOAWAY">
                        <h3 id="rfc.section.6.8"><a href="#rfc.section.6.8">6.8.</a>&nbsp;<a href="#GOAWAY">GOAWAY</a>
                        </h3>
                        <div id="rfc.section.6.8.p.1">
                            <p>GOAWAY 帧（type=0x07）用于启动连接关闭或指示严重错误条件。GOAWAY
                                允许端点优雅地停止接受新流，同时继续完成对先前已建立流的处理。这使得诸如服务器维护等管理操作成为可能。</p>
                        </div>
                        <div id="rfc.section.6.8.p.2">
                            <p>在端点启动新流与远端发送 GOAWAY 帧之间存在固有的竞争条件。为处理这种情况，GOAWAY
                                包含发送端可能已处理或可能处理的最后一个由对端发起的流的流标识符。例如，如果服务器发送 GOAWAY，则该标识符为客户端所发起的编号最高的流。</p>
                        </div>
                        <div id="rfc.section.6.8.p.3">
                            <p>一旦发送 GOAWAY，发送方将忽略对端在具有大于所包含最后流标识符的标识符上发送的帧。GOAWAY 的接收方<em class="bcp14">MUST
                                    NOT</em>在该连接上打开更多流，尽管可以为新流建立新连接。</p>
                        </div>
                        <div id="rfc.section.6.8.p.4">
                            <p>如果 GOAWAY 的接收方已在标识符比 GOAWAY 指示值更高的流上发送数据，则这些流未被或将不会被处理。GOAWAY
                                的接收方可以将这些流视为从未被创建，从而允许这些流在新连接上稍后重试。</p>
                        </div>
                        <div id="rfc.section.6.8.p.5">
                            <p>端点<em class="bcp14">SHOULD</em>在关闭连接之前始终发送 GOAWAY，以便远端可以知道某个流是否已被部分处理。例如，如果 HTTP
                                客户端在服务器关闭连接的同时发送了 POST，请求的客户端无法知道服务器是否开始处理该 POST，除非服务器发送 GOAWAY 来指示它可能已作用于哪些流。</p>
                        </div>
                        <div id="rfc.section.6.8.p.6">
                            <p>端点可能选择在对方行为不当时关闭连接而不发送 GOAWAY。</p>
                        </div>
                        <div id="rfc.section.6.8.p.7">
                            <p>GOAWAY 帧不一定紧跟在关闭连接之前；若接收方不再需要连接，仍应在终止连接之前发送 GOAWAY 帧。</p>
                        </div>
                        <div id="GOAWAYFrameFormat"></div>
                        <div id="rfc.figure.10">
                            <div>
                                <pre class="inline">
GOAWAY Frame {
  Length (24),
  Type (8) = 0x07,

  Unused Flags (8),

  Reserved (1),
  Stream Identifier (31) = 0,

  Reserved (1),
  Last-Stream-ID (31),
  Error Code (32),
  Additional Debug Data (..),
}
</pre>
                            </div>
                        </div>
                        <p class="figure">图 10：GOAWAY 帧格式</p>
                        <div id="rfc.section.6.8.p.8">
                            <p>Length、Type、Unused Flag(s)、Reserved 和 Stream Identifier 字段在 <a href="#FramingLayer"
                                    title="HTTP Frames">第 4 节</a> 中描述。</p>
                        </div>
                        <div id="rfc.section.6.8.p.9">
                            <p>GOAWAY 帧不定义任何标志。</p>
                        </div>
                        <div id="rfc.section.6.8.p.10">
                            <p>GOAWAY 帧适用于连接，而非特定流。若接收到带有非 0x00 流标识符的 GOAWAY，端点<em class="bcp14">MUST</em>将其视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.8.p.11">
                            <p>GOAWAY 中的最后流标识符包含发送 GOAWAY
                                的一方可能已对其采取或可能采取动作的编号最高的流标识符。所有编号小于或等于该标识符的流都可能以某种方式被处理。若未处理任何流，则最后流标识符可设置为 0。</p>
                        </div>
                        <div id="rfc.section.6.8.p.12">
                            <aside>
                                <div id="rfc.section.6.8.p.12.1">
                                    <p>注：在此情境中，“processed（处理）”指的是流的某些数据已传递给某个更高层的软件，该软件可能据此采取了某些动作。</p>
                                </div>
                            </aside>
                        </div>
                        <div id="rfc.section.6.8.p.13">
                            <p>如果连接在没有 GOAWAY 帧的情况下终止，则最后流标识符实际相当于可能的最高流标识符。</p>
                        </div>
                        <div id="rfc.section.6.8.p.14">
                            <p>对于编号小于或等于最后流标识符且在连接关闭前未完全关闭的流，无法重新尝试请求、事务或任何协议活动，惟可对幂等操作（如 HTTP GET、PUT 或
                                DELETE）进行重试。任何使用更高编号流的协议活动都可以安全地在新连接上重试。</p>
                        </div>
                        <div id="rfc.section.6.8.p.15">
                            <p>编号小于或等于最后流标识符的流上的活动仍可能成功完成。GOAWAY 的发送者可以通过发送 GOAWAY 并在所有进行中的流完成之前保持连接“open”状态来优雅地关闭连接。
                            </p>
                        </div>
                        <div id="rfc.section.6.8.p.16">
                            <p>端点<em class="bcp14">MAY</em>在情况变化时发送多个 GOAWAY。例如，在优雅关闭期间发送带有 <a
                                    href="#NO_ERROR">NO_ERROR</a> 的 GOAWAY 后，端点可能遇到需要立即终止连接的情况。最后收到的 GOAWAY
                                中的最后流标识符表示哪些流可能已被作用。端点<em class="bcp14">MUST
                                    NOT</em>增加其在最后流标识符中发送的值，因为对等方可能已在另一连接上重试未处理的请求。</p>
                        </div>
                        <div id="rfc.section.6.8.p.17">
                            <p>无法重试请求的客户端会在服务器关闭连接时失去所有在飞请求。这对于可能不使用 HTTP/2 与客户端通信的中间件尤为如此。试图优雅关闭连接的服务器<em
                                    class="bcp14">SHOULD</em>先发送一个最后流标识符设置为 2<sup>31</sup>-1 且错误码为 <a
                                    href="#NO_ERROR">NO_ERROR</a> 的初始
                                GOAWAY，向客户端表示即将关闭且禁止发起更多请求。在允许至少一个往返时间以便处理任何进行中的流创建后，服务器<em
                                    class="bcp14">MAY</em>发送另一个带有更新最后流标识符的 GOAWAY，从而确保连接可以在不丢失请求的情况下被干净地关闭。</p>
                        </div>
                        <div id="rfc.section.6.8.p.18">
                            <p>在发送 GOAWAY 后，发送方可以丢弃由接收方发起且编号高于已指示最后流标识符的流的帧。然而，任何改变连接状态的帧不能完全被忽略。例如，<a href="#HEADERS"
                                    title="HEADERS">HEADERS</a>、<a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">PUSH_PROMISE</a> 和 <a href="#CONTINUATION"
                                    title="CONTINUATION">CONTINUATION</a> 帧<em
                                    class="bcp14">MUST</em>被最小处理，以确保字段段压缩维护的状态一致（参见 <a href="#FieldBlock"
                                    title="Field Section Compression and Decompression">第 4.3 节</a>）；类似地，DATA 帧<em
                                    class="bcp14">MUST</em>计入连接的流量控制窗口。不处理这些帧会导致流量控制或字段段压缩状态不同步。</p>
                        </div>
                        <div id="rfc.section.6.8.p.19">
                            <p>GOAWAY 帧还包含一个 32 位错误码（参见 <a href="#ErrorCodes" title="Error Codes">第 7 节</a>），指出关闭连接的原因。
                            </p>
                        </div>
                        <div id="rfc.section.6.8.p.20">
                            <p>端点<em class="bcp14">MAY</em>在任何 GOAWAY
                                帧的帧负载中附加不透明数据。附加调试数据仅用于诊断目的且不承载语义值。调试信息可能包含安全或隐私敏感数据。对日志或以其他方式持久保存的调试数据<em
                                    class="bcp14">MUST</em>采取足够的防护以防止未授权访问。</p>
                        </div>
                    </section>
                    <section id="WINDOW_UPDATE">
                        <h3 id="rfc.section.6.9"><a href="#rfc.section.6.9">6.9.</a>&nbsp;<a
                                href="#WINDOW_UPDATE">WINDOW_UPDATE</a></h3>
                        <div id="rfc.section.6.9.p.1">
                            <p>WINDOW_UPDATE 帧（type=0x08）用于实现流量控制；概述见 <a href="#FlowControl" title="Flow Control">第 5.2
                                    节</a>。</p>
                        </div>
                        <div id="rfc.section.6.9.p.2">
                            <p>流量控制在两个层面上运行：每个单独流以及整个连接。</p>
                        </div>
                        <div id="rfc.section.6.9.p.3">
                            <p>这两类流量控制都是逐跳（hop-by-hop）的，即仅在两个端点之间。中间件不会在依赖的连接间转发 WINDOW_UPDATE
                                帧。然而，任何接收方对数据传输的节流都可能间接导致流量控制信息向原始发送方传播。</p>
                        </div>
                        <div id="rfc.section.6.9.p.4">
                            <p>流量控制仅适用于被标识为受流控的帧。在本文档定义的帧类型中，仅包括 <a href="#DATA" title="DATA">DATA</a> 帧。免于流量控制的帧<em
                                    class="bcp14">MUST</em>被接受并处理，除非接收方无法分配资源来处理该帧。若接收方无法接受帧，接收方<em
                                    class="bcp14">MAY</em>以类型为 <a href="#FLOW_CONTROL_ERROR">FLOW_CONTROL_ERROR</a>
                                的流错误（参见 <a href="#StreamErrorHandler" title="Stream Error Handling">第 5.4.2
                                    节</a>）或连接错误（参见 <a href="#ConnectionErrorHandler" title="Connection Error Handling">第
                                    5.4.1 节</a>）作出响应。</p>
                        </div>
                        <div id="WINDOW_UPDATEFrameFormat"></div>
                        <div id="rfc.figure.11">
                            <div>
                                <pre class="inline">
WINDOW_UPDATE Frame {
  Length (24) = 0x04,
  Type (8) = 0x08,

  Unused Flags (8),

  Reserved (1),
  Stream Identifier (31),

  Reserved (1),
  Window Size Increment (31),
}
</pre>
                            </div>
                        </div>
                        <p class="figure">图 11：WINDOW_UPDATE 帧格式</p>
                        <div id="rfc.section.6.9.p.5">
                            <p>Length、Type、Unused Flag(s)、Reserved 和 Stream Identifier 字段在 <a href="#FramingLayer"
                                    title="HTTP Frames">第 4 节</a> 中描述。WINDOW_UPDATE 帧的帧负载由一位保留位加上一个无符号 31
                                位整数组成，该整数指示发送方可在现有流量控制窗口之外额外发送的八位组数。窗口增量的合法范围为 1 到 2<sup>31</sup>-1（2,147,483,647）八位组。
                            </p>
                        </div>
                        <div id="rfc.section.6.9.p.6">
                            <p>WINDOW_UPDATE 帧不定义任何标志。</p>
                        </div>
                        <div id="rfc.section.6.9.p.7">
                            <p>WINDOW_UPDATE 帧可以特定于某个流，也可以针对整个连接。在前一种情况下，帧的流标识符指示受影响的流；在后一种情况下，值 "0" 表示整个连接为该帧的主体。</p>
                        </div>
                        <div id="rfc.section.6.9.p.8">
                            <p>接收方<em class="bcp14">MUST</em>将窗口增量为 0 的 WINDOW_UPDATE 视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的流错误（参见 <a href="#StreamErrorHandler"
                                    title="Stream Error Handling">第 5.4.2 节</a>）；对连接流量控制窗口的错误<em
                                    class="bcp14">MUST</em>视为连接错误（参见 <a href="#ConnectionErrorHandler"
                                    title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.9.p.9">
                            <p>发送过带有 END_STREAM 标志的帧的端点也可以发送 WINDOW_UPDATE。这意味着接收方可能在“half-closed
                                (remote)”或“closed”状态的流上收到 WINDOW_UPDATE。接收方<em class="bcp14">MUST NOT</em>将此视为错误（参见 <a
                                    href="#StreamStates" title="Stream States">第 5.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.9.p.10">
                            <p>接收方在接收受流控帧时<em class="bcp14">MUST</em>始终将其计入连接流量控制窗口，除非接收方将此视为连接错误（参见 <a
                                    href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                    节</a>）。即便该帧存在错误，也必须这样做。发送方将该帧计入流量控制窗口，但若接收方不计入，则发送方与接收方的流量控制窗口可能不同步。</p>
                        </div>
                        <div id="rfc.section.6.9.p.11">
                            <p>长度不是 4 个八位组的 WINDOW_UPDATE 帧<em class="bcp14">MUST</em>被视为类型为 <a
                                    href="#FRAME_SIZE_ERROR">FRAME_SIZE_ERROR</a> 的连接错误（参见 <a
                                    href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <section id="n-the-flow-control-window">
                            <h4 id="rfc.section.6.9.1"><a href="#rfc.section.6.9.1">6.9.1.</a>&nbsp;<a
                                    href="#n-the-flow-control-window">流量控制窗口</a></h4>
                            <div id="rfc.section.6.9.1.p.1">
                                <p>HTTP/2 的流量控制通过每个发送方在每个流上维护的窗口实现。流量控制窗口是一个简单的整数值，指示发送方被允许传输的八位组数；因此其大小衡量了接收方的缓冲能力。</p>
                            </div>
                            <div id="rfc.section.6.9.1.p.2">
                                <p>适用两类流量控制窗口：流级别窗口和连接级别窗口。发送方<em class="bcp14">MUST
                                        NOT</em>发送长度超过接收方通告的任一流量控制窗口可用空间的受流控帧。具有 END_STREAM 标志且长度为零的帧（即空的 DATA 帧）<em
                                        class="bcp14">MAY</em>在两种流量控制窗口均无可用空间时发送。</p>
                            </div>
                            <div id="rfc.section.6.9.1.p.3">
                                <p>在流量控制计算中，不计入 9 八位组的帧头。</p>
                            </div>
                            <div id="rfc.section.6.9.1.p.4">
                                <p>发送受流控帧后，发送方将两种窗口中可用的空间均按已发送帧的长度减少。</p>
                            </div>
                            <div id="rfc.section.6.9.1.p.5">
                                <p>帧的接收方在消费数据并释放窗口空间时发送 WINDOW_UPDATE 帧。流级别和连接级别窗口分别发送各自的 WINDOW_UPDATE。建议接收方避免发送非常小增量的
                                    WINDOW_UPDATE；参见 <a
                                        href="https://www.rfc-editor.org/rfc/rfc1122.html#section-4.2.3.3">RFC 1122 第
                                        4.2.3.3 节</a>。</p>
                            </div>
                            <div id="rfc.section.6.9.1.p.6">
                                <p>接收 WINDOW_UPDATE 的发送方按帧中指定的数量更新相应的窗口。</p>
                            </div>
                            <div id="rfc.section.6.9.1.p.7">
                                <p>发送方<em class="bcp14">MUST NOT</em>允许流量控制窗口超过 2<sup>31</sup>-1 八位组。如果发送方接收到使窗口超过该最大值的
                                    WINDOW_UPDATE，则应适当终止流或连接：对流发送带有 <a href="#FLOW_CONTROL_ERROR">FLOW_CONTROL_ERROR</a>
                                    错误码的 <a href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a>；对连接发送带有 <a
                                        href="#FLOW_CONTROL_ERROR">FLOW_CONTROL_ERROR</a> 错误码的 <a href="#GOAWAY"
                                        title="GOAWAY">GOAWAY</a>。</p>
                            </div>
                            <div id="rfc.section.6.9.1.p.8">
                                <p>发送方的受流控帧与接收方的 WINDOW_UPDATE 帧完全异步。这一属性允许接收方积极地更新发送方维护的窗口大小以防止流停滞。</p>
                            </div>
                        </section>
                        <section id="InitialWindowSize">
                            <h4 id="rfc.section.6.9.2"><a href="#rfc.section.6.9.2">6.9.2.</a>&nbsp;<a
                                    href="#InitialWindowSize">初始流量控制窗口大小</a></h4>
                            <div id="rfc.section.6.9.2.p.1">
                                <p>在 HTTP/2 连接首次建立时，新流的初始流量控制窗口大小为 65,535 八位组。连接级别的流量控制窗口也为 65,535 八位组。双方端点可以通过在
                                    SETTINGS 帧中包含 <a
                                        href="#SETTINGS_INITIAL_WINDOW_SIZE">SETTINGS_INITIAL_WINDOW_SIZE</a>
                                    的值来调整新流的初始窗口大小。连接级别窗口只能通过 WINDOW_UPDATE 帧更改。</p>
                            </div>
                            <div id="rfc.section.6.9.2.p.2">
                                <p>在收到设置 <a href="#SETTINGS_INITIAL_WINDOW_SIZE">SETTINGS_INITIAL_WINDOW_SIZE</a> 值的
                                    SETTINGS 帧之前，端点在发送受流控帧时只能使用默认的初始窗口大小。同样，连接流量控制窗口在收到 WINDOW_UPDATE 之前基于默认初始窗口大小设置。
                                </p>
                            </div>
                            <div id="rfc.section.6.9.2.p.3">
                                <p>除了改变尚未活动的流的流控窗口外，SETTINGS 帧还可以更改具有活动流控窗口（即处于“open”或“half-closed
                                    (remote)”状态的流）的初始窗口大小。当 <a
                                        href="#SETTINGS_INITIAL_WINDOW_SIZE">SETTINGS_INITIAL_WINDOW_SIZE</a>
                                    的值发生变化时，接收方<em class="bcp14">MUST</em>按新值与旧值之差调整其维护的所有流的流控窗口大小。</p>
                            </div>
                            <div id="rfc.section.6.9.2.p.4">
                                <p>对 <a href="#SETTINGS_INITIAL_WINDOW_SIZE">SETTINGS_INITIAL_WINDOW_SIZE</a>
                                    的更改可能导致某个流的可用窗口空间变为负值。发送方<em class="bcp14">MUST</em>跟踪负的流量控制窗口，并在收到使窗口变为正的
                                    WINDOW_UPDATE 之前<em class="bcp14">MUST NOT</em>发送新的受流控帧。</p>
                            </div>
                            <div id="rfc.section.6.9.2.p.5">
                                <p>例如，如果客户端在连接建立时立即发送 60 KB，而服务器将初始窗口大小设置为 16 KB，则客户端在接收到该 SETTINGS 帧后会重新计算可用流控窗口为 -44
                                    KB。客户端在 WINDOW_UPDATE 帧将窗口恢复为正值之前，保持负窗口并等待恢复后才可继续发送。</p>
                            </div>
                            <div id="rfc.section.6.9.2.p.6">
                                <p>SETTINGS 帧不能更改连接级别的流量控制窗口。</p>
                            </div>
                            <div id="rfc.section.6.9.2.p.7">
                                <p>端点<em class="bcp14">MUST</em>将导致任一流量控制窗口超出最大大小的 <a
                                        href="#SETTINGS_INITIAL_WINDOW_SIZE">SETTINGS_INITIAL_WINDOW_SIZE</a> 更改视为类型为 <a
                                        href="#FLOW_CONTROL_ERROR">FLOW_CONTROL_ERROR</a> 的连接错误（参见 <a
                                        href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。
                                </p>
                            </div>
                        </section>
                        <section id="n-reducing-the-stream-window-size">
                            <h4 id="rfc.section.6.9.3"><a href="#rfc.section.6.9.3">6.9.3.</a>&nbsp;<a
                                    href="#n-reducing-the-stream-window-size">减少流窗口大小</a></h4>
                            <div id="rfc.section.6.9.3.p.1">
                                <p>希望使用比当前大小更小的流量控制窗口的接收方可以发送新的 SETTINGS 帧。然而，接收方<em
                                        class="bcp14">MUST</em>准备接收超过该窗口大小的数据，因为发送方可能在处理 SETTINGS 帧之前发送超过更低限制的数据。</p>
                            </div>
                            <div id="rfc.section.6.9.3.p.2">
                                <p>在发送降低初始流量控制窗口大小的 SETTINGS 帧之后，接收方<em
                                        class="bcp14">MAY</em>继续处理超过流控限制的流。允许这些流继续并不意味着接收方可以立即减少其为流量控制窗口保留的空间。由于需要
                                    WINDOW_UPDATE 帧以允许发送方恢复发送，这些流的进展也可能停滞。接收方<em class="bcp14">MAY</em>改为对受影响的流发送带有 <a
                                        href="#FLOW_CONTROL_ERROR">FLOW_CONTROL_ERROR</a> 错误码的 <a href="#RST_STREAM"
                                        title="RST_STREAM">RST_STREAM</a>。</p>
                            </div>
                        </section>
                    </section>
                    <section id="CONTINUATION">
                        <h3 id="rfc.section.6.10"><a href="#rfc.section.6.10">6.10.</a>&nbsp;<a
                                href="#CONTINUATION">CONTINUATION</a></h3>
                        <div id="rfc.section.6.10.p.1">
                            <p>CONTINUATION 帧（type=0x09）用于继续字段块片段的序列（参见 <a href="#FieldBlock"
                                    title="Field Section Compression and Decompression">第 4.3 节</a>）。只要前面的帧位于同一流并且是未置
                                END_HEADERS 标志的 <a href="#HEADERS" title="HEADERS">HEADERS</a>、<a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">PUSH_PROMISE</a> 或 CONTINUATION 帧，就可以发送任意数量的 CONTINUATION 帧。
                            </p>
                        </div>
                        <div id="CONTINUATIONFrameFormat"></div>
                        <div id="rfc.figure.12">
                            <div>
                                <pre class="inline">
CONTINUATION Frame {
  Length (24),
  Type (8) = 0x09,

  Unused Flags (5),
  END_HEADERS Flag (1),
  Unused Flags (2),

  Reserved (1),
  Stream Identifier (31),

  Field Block Fragment (..),
}
</pre>
                            </div>
                        </div>
                        <p class="figure">图 12：CONTINUATION 帧格式</p>
                        <div id="rfc.section.6.10.p.2">
                            <p>Length、Type、Unused Flag(s)、Reserved 和 Stream Identifier 字段在 <a href="#FramingLayer"
                                    title="HTTP Frames">第 4 节</a> 中描述。CONTINUATION 帧负载包含字段块片段（参见 <a href="#FieldBlock"
                                    title="Field Section Compression and Decompression">第 4.3 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.10.p.3" class="avoidbreakafter">
                            <p>CONTINUATION 帧定义了以下标志：</p>
                        </div>
                        <div id="rfc.section.6.10.p.4">
                            <dl>
                                <dt>END_HEADERS (0x04):</dt>
                                <dd style="margin-left: 1.5em">
                                    <div>置位时表示该帧结束一个字段块（参见 <a href="#FieldBlock"
                                            title="Field Section Compression and Decompression">第 4.3 节</a>）。</div>
                                    <div>如果未置 END_HEADERS 标志，则此帧<em class="bcp14">MUST</em>后续另一个 CONTINUATION 帧。接收方<em
                                            class="bcp14">MUST</em>将任何其他类型的帧或来自不同流的帧视为类型为 <a
                                            href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（参见 <a
                                            href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                            节</a>）。</div>
                                </dd>
                            </dl>
                        </div>
                        <div id="rfc.section.6.10.p.5">
                            <p>CONTINUATION 帧按 <a href="#FieldBlock"
                                    title="Field Section Compression and Decompression">第 4.3 节</a> 定义的方式改变连接状态。</p>
                        </div>
                        <div id="rfc.section.6.10.p.6">
                            <p>CONTINUATION 帧<em class="bcp14">MUST</em>关联到某个流。如果接收到 Stream Identifier 字段为 0x00 的
                                CONTINUATION 帧，接收方<em class="bcp14">MUST</em>以类型为 PROTOCOL_ERROR 的连接错误进行响应（参见 <a
                                    href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.6.10.p.7">
                            <p>CONTINUATION 帧<em class="bcp14">MUST</em>由未置 END_HEADERS 标志的 <a href="#HEADERS"
                                    title="HEADERS">HEADERS</a>、<a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">PUSH_PROMISE</a> 或 CONTINUATION 帧先行。若接收方观察到违反此规则的情况，接收方<em
                                    class="bcp14">MUST</em>以类型为 <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a>
                                的连接错误进行响应（参见 <a href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                    节</a>）。</p>
                        </div>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="ErrorCodes">
                    <h2 id="rfc.section.7" class="np"><a href="#rfc.section.7">7.</a>&nbsp;<a
                            href="#ErrorCodes">错误代码</a></h2>
                    <div id="rfc.section.7.p.1">
                        <p>错误代码是 32 位字段，用于在 <a href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a> 和 <a href="#GOAWAY"
                                title="GOAWAY">GOAWAY</a> 帧中传达流或连接错误的原因。</p>
                    </div>
                    <div id="rfc.section.7.p.2">
                        <p>错误代码共享通用代码空间。某些错误代码仅适用于流或整个连接，在另一种上下文中没有定义语义。</p>
                    </div>
                    <div id="rfc.section.7.p.3" class="avoidbreakafter">
                        <p>定义了以下错误代码：</p>
                    </div>
                    <div id="rfc.section.7.p.4">
                        <dl>
                            <dt>NO_ERROR (0x00):</dt>
                            <dd id="NO_ERROR" style="margin-left: 1.5em">相关情况并非由错误导致。例如，<a href="#GOAWAY"
                                    title="GOAWAY">GOAWAY</a> 可能包含此代码以指示连接的优雅关闭。</dd>
                            <dt>PROTOCOL_ERROR (0x01):</dt>
                            <dd id="PROTOCOL_ERROR" style="margin-left: 1.5em">端点检测到不具体的协议错误。当没有更具体的错误代码可用时使用此错误。</dd>
                            <dt>INTERNAL_ERROR (0x02):</dt>
                            <dd id="INTERNAL_ERROR" style="margin-left: 1.5em">端点遇到意外的内部错误。</dd>
                            <dt>FLOW_CONTROL_ERROR (0x03):</dt>
                            <dd id="FLOW_CONTROL_ERROR" style="margin-left: 1.5em">端点检测到其对等方违反了流量控制协议。</dd>
                            <dt>SETTINGS_TIMEOUT (0x04):</dt>
                            <dd id="SETTINGS_TIMEOUT" style="margin-left: 1.5em">端点发送了一个 <a href="#SETTINGS"
                                    title="SETTINGS">SETTINGS</a> 帧但未在及时的时间内收到响应。见 <a href="#SettingsSync"
                                    title="Settings Synchronization">第 6.5.3 节</a>（“设置同步”）。</dd>
                            <dt>STREAM_CLOSED (0x05):</dt>
                            <dd id="STREAM_CLOSED" style="margin-left: 1.5em">在流半关闭后，端点收到了一个帧。</dd>
                            <dt>FRAME_SIZE_ERROR (0x06):</dt>
                            <dd id="FRAME_SIZE_ERROR" style="margin-left: 1.5em">端点收到了大小无效的帧。</dd>
                            <dt>REFUSED_STREAM (0x07):</dt>
                            <dd id="REFUSED_STREAM" style="margin-left: 1.5em">在进行任何应用层处理之前，端点拒绝了该流（详情见 <a
                                    href="#Reliability" title="Request Reliability">第 8.7 节</a>）。</dd>
                            <dt>CANCEL (0x08):</dt>
                            <dd id="CANCEL" style="margin-left: 1.5em">端点使用此错误代码表明该流不再需要。</dd>
                            <dt>COMPRESSION_ERROR (0x09):</dt>
                            <dd id="COMPRESSION_ERROR" style="margin-left: 1.5em">端点无法维护连接的字段段压缩上下文。</dd>
                            <dt>CONNECT_ERROR (0x0a):</dt>
                            <dd id="CONNECT_ERROR" style="margin-left: 1.5em">对 CONNECT 请求（<a href="#CONNECT"
                                    title="The CONNECT Method">第 8.5 节</a>）建立的连接已被重置或异常关闭。</dd>
                            <dt>ENHANCE_YOUR_CALM (0x0b):</dt>
                            <dd id="ENHANCE_YOUR_CALM" style="margin-left: 1.5em">端点检测到其对等方表现出可能导致过高负载的行为。</dd>
                            <dt>INADEQUATE_SECURITY (0x0c):</dt>
                            <dd id="INADEQUATE_SECURITY" style="margin-left: 1.5em">底层传输具有不满足最低安全要求的属性（见 <a
                                    href="#TLSUsage" title="Use of TLS Features">第 9.2 节</a>）。</dd>
                            <dt>HTTP_1_1_REQUIRED (0x0d):</dt>
                            <dd id="HTTP_1_1_REQUIRED" style="margin-left: 1.5em">端点要求使用 HTTP/1.1 而不是 HTTP/2。</dd>
                        </dl>
                    </div>
                    <div id="rfc.section.7.p.5">
                        <p>未知或不被支持的错误代码<em class="bcp14">MUST NOT</em>触发任何特殊行为。实现<em class="bcp14">MAY</em>将它们等同于 <a
                                href="#INTERNAL_ERROR">INTERNAL_ERROR</a> 来处理。</p>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="HttpLayer">
                    <h2 id="rfc.section.8" class="np"><a href="#rfc.section.8">8.</a>&nbsp;<a href="#HttpLayer">在 HTTP/2
                            中表达 HTTP 语义</a></h2>
                    <div id="rfc.section.8.p.1">
                        <p>HTTP/2 是 HTTP 消息抽象的一个实现（见 <a href="https://www.rfc-editor.org/rfc/rfc9110.html#section-6">RFC
                                9110 第 6 节</a>）。</p>
                    </div>
                    <section id="HttpFraming">
                        <h3 id="rfc.section.8.1"><a href="#rfc.section.8.1">8.1.</a>&nbsp;<a href="#HttpFraming">HTTP
                                消息分帧</a></h3>
                        <div id="rfc.section.8.1.p.1">
                            <p>客户端在新流上发送 HTTP 请求，使用先前未使用的流标识符（见 <a href="#StreamIdentifiers"
                                    title="Stream Identifiers">第 5.1.1 节</a>）。服务器在与请求相同的流上发送 HTTP 响应。</p>
                        </div>
                        <div id="rfc.section.8.1.p.2" class="avoidbreakafter">
                            <p>一个 HTTP 消息（请求或响应）由以下部分组成：</p>
                        </div>
                        <div id="rfc.section.8.1.p.3">
                            <ol type="1">
                                <li>一个 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧（后接零个或多个 <a href="#CONTINUATION"
                                        title="CONTINUATION">CONTINUATION</a> 帧），包含头部段（参见 RFC 9110 第 6.3 节），</li>
                                <li>零个或多个包含消息内容的 <a href="#DATA" title="DATA">DATA</a> 帧（参见 RFC 9110 第 6.4 节），以及</li>
                                <li>可选地，一个 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧（后接零个或多个 <a
                                        href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧）包含尾部段（如存在，参见 RFC
                                    9110 第 6.5 节）。</li>
                            </ol>
                        </div>
                        <div id="rfc.section.8.1.p.4">
                            <p>仅对于响应，服务器<em class="bcp14">MAY</em>在包含最终响应的 <a href="#HEADERS"
                                    title="HEADERS">HEADERS</a> 帧之前发送任意数量的临时响应。临时响应由一个 <a href="#HEADERS"
                                    title="HEADERS">HEADERS</a> 帧（可能后接零个或多个 <a href="#CONTINUATION"
                                    title="CONTINUATION">CONTINUATION</a> 帧）组成，包含信息性（1xx）HTTP 响应的控制数据和头部段。携带信息性状态码的、带有
                                END_STREAM 标志的 HEADERS 帧是格式错误的（见 <a href="#malformed" title="Malformed Messages">第 8.1.1
                                    节</a>）。</p>
                        </div>
                        <div id="rfc.section.8.1.p.5">
                            <p>序列中的最后一帧带有 END_STREAM 标志，注意带有 END_STREAM 标志的 <a href="#HEADERS"
                                    title="HEADERS">HEADERS</a> 帧后仍可跟随承载字段块剩余片段的 <a href="#CONTINUATION"
                                    title="CONTINUATION">CONTINUATION</a> 帧。</p>
                        </div>
                        <div id="rfc.section.8.1.p.6">
                            <p>在 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧与可能随后出现的任何 <a href="#CONTINUATION"
                                    title="CONTINUATION">CONTINUATION</a> 帧之间，不得出现来自任何流的其他帧。</p>
                        </div>
                        <div id="rfc.section.8.1.p.7">
                            <p>HTTP/2 使用 DATA 帧承载消息内容。在 HTTP/2 中不能使用在 HTTP/1.1 中定义的 <span class="tt">chunked</span>
                                传输编码；参见 <a href="#ConnectionSpecific" title="Connection-Specific Header Fields">第 8.2.2
                                    节</a>。</p>
                        </div>
                        <div id="rfc.section.8.1.p.8">
                            <p>尾部字段由也终止流的字段块承载。即，尾部字段由一个 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧开始，后接零个或多个 <a
                                    href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧，其中该 <a href="#HEADERS"
                                    title="HEADERS">HEADERS</a> 帧带有 END_STREAM 标志。尾部<em class="bcp14">MUST
                                    NOT</em>包含伪首部字段（见 <a href="#PseudoHeaderFields" title="HTTP Control Data">第 8.3
                                    节</a>）。接收方若在尾部中收到伪首部字段，<em class="bcp14">MUST</em>将该请求或响应视为格式错误（见 <a
                                    href="#malformed" title="Malformed Messages">第 8.1.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.8.1.p.9">
                            <p>接收在打开请求的 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧之后且未置 END_STREAM 的另一个 <a
                                    href="#HEADERS" title="HEADERS">HEADERS</a> 帧，或者在接收到包含最终（非信息性）状态码的 <a
                                    href="#HEADERS" title="HEADERS">HEADERS</a> 帧之后接收额外的 HEADERS，接收方<em
                                    class="bcp14">MUST</em>将对应的请求或响应视为格式错误（见 <a href="#malformed"
                                    title="Malformed Messages">第 8.1.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.8.1.p.10">
                            <p>一次 HTTP 请求/响应交换完全消耗单个流。请求以将流置为“open”的 <a href="#HEADERS" title="HEADERS">HEADERS</a>
                                帧开始。请求以带有 END_STREAM 标志的帧结束，这会使客户端的流变为“half-closed (local)”，服务器的流变为“half-closed
                                (remote)”。响应流以零个或多个信息性响应（HEADERS 帧）开始，随后是包含最终状态码的 HEADERS 帧。</p>
                        </div>
                        <div id="rfc.section.8.1.p.11">
                            <p>在服务器发送——或客户端接收——带有 END_STREAM 标志的帧（包括完成字段块所需的任何 CONTINUATION 帧）后，HTTP
                                响应即完成。如果响应不依赖于尚未发送和接收的请求部分，服务器可以在客户端发送完整请求之前发送完整响应。若成立，服务器<em
                                    class="bcp14">MAY</em>在发送完整响应后通过发送带有 <a href="#RST_STREAM"
                                    title="RST_STREAM">RST_STREAM</a> 且错误码为 <a href="#NO_ERROR">NO_ERROR</a>
                                的帧来请求客户端无错误地中止请求传输。客户端<em class="bcp14">MUST NOT</em>因接收到此类 <a href="#RST_STREAM"
                                    title="RST_STREAM">RST_STREAM</a> 而丢弃响应，尽管客户端可出于其他原因随时丢弃响应。</p>
                        </div>
                        <section id="malformed">
                            <h4 id="rfc.section.8.1.1"><a href="#rfc.section.8.1.1">8.1.1.</a>&nbsp;<a
                                    href="#malformed">格式错误的消息</a></h4>
                            <div id="rfc.section.8.1.1.p.1">
                                <p>格式错误的请求或响应是指帧序列在其它方面有效但因存在多余帧、禁止的字段或伪首部字段、缺少强制伪首部字段、包含大写字段名或在某些情况下字段名/值无效等原因而无效（见 <a
                                        href="#HttpHeaders" title="HTTP Fields">第 8.2 节</a>）。</p>
                            </div>
                            <div id="rfc.section.8.1.1.p.2">
                                <p>包含消息内容的请求或响应可以包含 <span class="tt">content-length</span> 头字段。如果 <span
                                        class="tt">content-length</span> 头字段的值不等于形成内容的 <a href="#DATA"
                                        title="DATA">DATA</a> 帧负载长度之和（除非该消息被定义为无内容），则该请求或响应也是格式错误的。例如，204 或 304
                                    响应无内容，HEAD 请求的响应亦无内容。被定义为无内容的响应<em class="bcp14">MAY</em>包含非零的 <span
                                        class="tt">content-length</span> 头字段，尽管 <a href="#DATA" title="DATA">DATA</a>
                                    帧中未包含内容。</p>
                            </div>
                            <div id="rfc.section.8.1.1.p.3">
                                <p>处理 HTTP 请求或响应的中间件（即任何不充当隧道的中间件）<em class="bcp14">MUST
                                        NOT</em>转发格式错误的请求或响应。被检测到的格式错误请求或响应<em class="bcp14">MUST</em>被视为类型为 <a
                                        href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的流错误（见 <a href="#StreamErrorHandler"
                                        title="Stream Error Handling">第 5.4.2 节</a>）。</p>
                            </div>
                            <div id="rfc.section.8.1.1.p.4">
                                <p>对于格式错误的请求，服务器<em class="bcp14">MAY</em>在关闭或重置流之前发送 HTTP 响应。客户端<em class="bcp14">MUST
                                        NOT</em>接受格式错误的响应。</p>
                            </div>
                            <div id="rfc.section.8.1.1.p.5">
                                <p>逐步处理消息的端点可能在识别请求或响应为格式错误之前已执行了一些处理。例如，在未接收完整请求的情况下，可能生成信息性或 404
                                    状态码。同样，中间件在检测到错误之前可能已转发不完整的消息。当响应不依赖于请求其余部分时，服务器<em
                                        class="bcp14">MAY</em>在接收完整请求前生成最终响应。</p>
                            </div>
                            <div id="rfc.section.8.1.1.p.6">
                                <p>这些要求旨在防范若干针对 HTTP 的常见攻击；它们被刻意制定得严格，因为宽松的行为可能使实现暴露于这些漏洞之中。</p>
                            </div>
                        </section>
                    </section>
                    <section id="HttpHeaders">
                        <h3 id="rfc.section.8.2"><a href="#rfc.section.8.2">8.2.</a>&nbsp;<a href="#HttpHeaders">HTTP
                                字段</a></h3>
                        <div id="rfc.section.8.2.p.1">
                            <p>HTTP 字段（见 RFC 9110 第 5 节）通过 HTTP/2 的 HEADERS、CONTINUATION 和 PUSH_PROMISE 帧传输，并使用 <a
                                    href="#RFC7541"><cite title="HPACK: Header Compression for HTTP/2">HPACK</cite></a>
                                进行压缩。</p>
                        </div>
                        <div id="rfc.section.8.2.p.2">
                            <p>构造 HTTP/2 消息时，字段名<em class="bcp14">MUST</em>转换为小写。</p>
                        </div>
                        <section id="n-field-validity">
                            <h4 id="rfc.section.8.2.1"><a href="#rfc.section.8.2.1">8.2.1.</a>&nbsp;<a
                                    href="#n-field-validity">字段有效性</a></h4>
                            <div id="rfc.section.8.2.1.p.1">
                                <p>HTTP 中对字段名和值的定义禁止某些字符，而 HPACK 可能能够传递这些字符。HTTP/2 实现<em class="bcp14">SHOULD</em>根据 RFC
                                    9110 第 5.1 和 5.5 节的定义验证字段名和值，并将包含禁止字符的消息视为格式错误（见 <a href="#malformed"
                                        title="Malformed Messages">第 8.1.1 节</a>）。</p>
                            </div>
                            <div id="rfc.section.8.2.1.p.2" class="avoidbreakafter">
                                <p>未能验证字段可被用于请求走私攻击。特别是，当消息通过 HTTP/1.1
                                    转发时，未验证的字段可能使攻击成为可能，因为像回车（CR）、换行（LF）和冒号（COLON）等字符用作分隔符。实现<em
                                        class="bcp14">MUST</em>执行以下对字段名和值的最小验证：</p>
                            </div>
                            <div id="rfc.section.8.2.1.p.3">
                                <ul>
                                    <li>字段名<em class="bcp14">MUST NOT</em>包含范围 0x00-0x20、0x41-0x5a、或
                                        0x7f-0xff（包含端点）的字符。这明确排除了所有不可见的 ASCII 字符、ASCII 空格（0x20）以及大写字母（'A' 到 'Z'，ASCII
                                        0x41 到 0x5a）。</li>
                                    <li>除伪首部字段外（其名称以单个冒号开头），字段名<em class="bcp14">MUST NOT</em>包含冒号（ASCII COLON，0x3a）。
                                    </li>
                                    <li>字段值<em class="bcp14">MUST NOT</em>在任何位置包含零值（ASCII NUL，0x00）、换行（ASCII
                                        LF，0x0a）或回车（ASCII CR，0x0d）。</li>
                                    <li>字段值<em class="bcp14">MUST NOT</em>以 ASCII 空白字符（ASCII SP 或 HTAB，0x20 或
                                        0x09）开始或结束。</li>
                                </ul>
                            </div>
                            <div id="rfc.section.8.2.1.p.4">
                                <aside>
                                    <div id="rfc.section.8.2.1.p.4.1">
                                        <p>注：按照 RFC 9110 第 5.1 和 5.5 节的定义验证字段的实现仅需要额外检查字段名不包含大写字符。</p>
                                    </div>
                                </aside>
                            </div>
                            <div id="rfc.section.8.2.1.p.5">
                                <p>包含违反上述任一条件字段的请求或响应<em class="bcp14">MUST</em>被视为格式错误（见 <a href="#malformed"
                                        title="Malformed Messages">第 8.1.1 节</a>）。特别是，不在转发消息时处理字段的中间件<em
                                        class="bcp14">MUST NOT</em>转发包含上述任何禁止值的字段。</p>
                            </div>
                            <div id="rfc.section.8.2.1.p.6">
                                <p>当请求消息违反这些要求时，实现<em class="bcp14">SHOULD</em>返回 400（Bad
                                    Request）状态码，除非有更合适的状态码或无法发送（例如错误发生在尾部字段中）。</p>
                            </div>
                            <div id="rfc.section.8.2.1.p.7">
                                <aside>
                                    <div id="rfc.section.8.2.1.p.7.1">
                                        <p>注：不符合相应字段定义的字段值并不会导致请求被视为格式错误；上述要求仅适用于 RFC 9110 第 5 节定义的字段通用语法。</p>
                                    </div>
                                </aside>
                            </div>
                        </section>
                        <section id="ConnectionSpecific">
                            <h4 id="rfc.section.8.2.2"><a href="#rfc.section.8.2.2">8.2.2.</a>&nbsp;<a
                                    href="#ConnectionSpecific">连接特定的首部字段</a></h4>
                            <div id="rfc.section.8.2.2.p.1">
                                <p>HTTP/2 不使用 <span class="tt">Connection</span>
                                    头字段来指示连接特定的首部字段；在此协议中，连接特定的元数据通过其他方式传递。端点<em class="bcp14">MUST
                                        NOT</em>生成包含连接特定首部字段的 HTTP/2 消息。这包括 <span class="tt">Connection</span> 头字段以及在
                                    RFC 9110 第 7.6.1 节中列为具有连接特定语义的字段（即 <span class="tt">Proxy-Connection</span>、<span
                                        class="tt">Keep-Alive</span>、<span class="tt">Transfer-Encoding</span> 和 <span
                                        class="tt">Upgrade</span>）。任何包含连接特定首部字段的消息<em class="bcp14">MUST</em>被视为格式错误（见
                                    <a href="#malformed" title="Malformed Messages">第 8.1.1 节</a>）。
                                </p>
                            </div>
                            <div id="rfc.section.8.2.2.p.2">
                                <p>唯一的例外是 TE 头字段，它<em class="bcp14">MAY</em>出现在 HTTP/2 请求中；当出现时，其值<em class="bcp14">MUST
                                        NOT</em>包含除 "trailers" 以外的任何值。</p>
                            </div>
                            <div id="rfc.section.8.2.2.p.3">
                                <p>将 HTTP/1.x 消息转换为 HTTP/2 的中间件<em class="bcp14">MUST</em>移除连接特定的首部字段，否则它们的消息将被其他 HTTP/2
                                    端点视为格式错误（见 RFC 9110 第 7.6.1 节）。</p>
                            </div>
                            <div id="rfc.section.8.2.2.p.4">
                                <aside>
                                    <div id="rfc.section.8.2.2.p.4.1">
                                        <p>注：HTTP/2 有意不支持升级到其它协议。第 3 节描述的握手方法被认为足以协商替代协议的使用。</p>
                                    </div>
                                </aside>
                            </div>
                        </section>
                        <section id="CompressCookie">
                            <h4 id="rfc.section.8.2.3"><a href="#rfc.section.8.2.3">8.2.3.</a>&nbsp;<a
                                    href="#CompressCookie">压缩 Cookie 头字段</a></h4>
                            <div id="rfc.section.8.2.3.p.1">
                                <p><a href="#RFC6265"><cite title="HTTP State Management Mechanism">Cookie header
                                            field</cite></a> 使用分号 (";") 分隔 cookie-pair（或“crumbs”）。该头字段包含多个值，但不使用逗号 (",")
                                    作为分隔符，因此无法将 cookie-pair 放在多个字段行上发送。这会显著降低压缩效率，因为对单个 cookie-pair 的更新会使存储在 HPACK
                                    表中的字段行失效。</p>
                            </div>
                            <div id="rfc.section.8.2.3.p.2">
                                <p>为提高压缩效率，Cookie 头字段<em class="bcp14">MAY</em>被拆分为多个首部字段，每个字段包含一个或多个
                                    cookie-pair。如果在解压后存在多个 Cookie 头字段，这些字段在传递到非 HTTP/2 上下文（例如 HTTP/1.1 连接或通用 HTTP
                                    服务器应用）之前，<em class="bcp14">MUST</em>使用两个八位组分隔符 0x3b, 0x20（ASCII 字符串 ";
                                    "）将它们连接成单个八位串。</p>
                            </div>
                            <div id="rfc.section.8.2.3.p.3" class="avoidbreakafter">
                                <p>因此，下面两组 Cookie 头字段在语义上等价。</p>
                            </div>
                            <div id="rfc.section.8.2.3.p.4">
                                <pre class="inline">
cookie: a=b; c=d; e=f

cookie: a=b
cookie: c=d
cookie: e=f
</pre>
                            </div>
                        </section>
                    </section>
                    <section id="PseudoHeaderFields">
                        <h3 id="rfc.section.8.3"><a href="#rfc.section.8.3">8.3.</a>&nbsp;<a
                                href="#PseudoHeaderFields">HTTP 控制数据</a></h3>
                        <div id="rfc.section.8.3.p.1">
                            <p>HTTP/2 使用以 ':' 字符（ASCII 0x3a）开头的特殊伪首部字段来传达消息控制数据（见 RFC 9110 第 6.2 节）。</p>
                        </div>
                        <div id="rfc.section.8.3.p.2">
                            <p>伪首部字段不是 HTTP 首部字段。端点<em class="bcp14">MUST NOT</em>生成除本文档定义之外的伪首部字段。注意扩展可以协商使用额外的伪首部字段；参见
                                <a href="#extensibility" title="Extending HTTP/2">第 5.5 节</a>。
                            </p>
                        </div>
                        <div id="rfc.section.8.3.p.3">
                            <p>伪首部字段仅在其定义的上下文中有效。为请求定义的伪首部字段<em class="bcp14">MUST NOT</em>出现在响应中；为响应定义的伪首部字段<em
                                    class="bcp14">MUST NOT</em>出现在请求中。伪首部字段<em class="bcp14">MUST
                                    NOT</em>出现在尾部段中。端点在请求或响应中包含未定义或无效的伪首部字段时，<em class="bcp14">MUST</em>将其视为格式错误（见 <a
                                    href="#malformed" title="Malformed Messages">第 8.1.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.8.3.p.4">
                            <p>所有伪首部字段<em class="bcp14">MUST</em>在字段块中出现在所有常规字段行之前。任何包含在字段块中出现在常规字段行之后的伪首部字段的请求或响应<em
                                    class="bcp14">MUST</em>被视为格式错误（见 <a href="#malformed" title="Malformed Messages">第
                                    8.1.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.8.3.p.5">
                            <p>相同的伪首部字段名<em class="bcp14">MUST NOT</em>在字段块中出现多次。包含重复伪首部字段名的请求或响应字段块<em
                                    class="bcp14">MUST</em>被视为格式错误（见 <a href="#malformed" title="Malformed Messages">第
                                    8.1.1 节</a>）。</p>
                        </div>
                        <section id="HttpRequest">
                            <h4 id="rfc.section.8.3.1"><a href="#rfc.section.8.3.1">8.3.1.</a>&nbsp;<a
                                    href="#HttpRequest">请求伪首部字段</a></h4>
                            <div id="rfc.section.8.3.1.p.1" class="avoidbreakafter">
                                <p>为 HTTP/2 请求定义了以下伪首部字段：</p>
                            </div>
                            <div id="rfc.section.8.3.1.p.2">
                                <ul>
                                    <li>
                                        <div>
                                            <p>“<span class="tt">:method</span>” 伪首部字段包含 HTTP 方法（见 RFC 9110 第 9 节）。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>“<span class="tt">:scheme</span>” 伪首部字段包含请求目标中 scheme 部分。方案来自目标 URI 的
                                                scheme，或者来自已转换请求的 scheme（例如见 RFC 9112 第 3.3 节）。对于 CONNECT 请求省略 scheme。
                                            </p>
                                        </div>
                                        <div>
                                            <p>“<span class="tt">:scheme</span>” 不仅限于 "<span class="tt">http</span>" 和
                                                "<span class="tt">https</span>"。代理或网关可以翻译对非 HTTP 方案的请求，使得使用 HTTP 与非 HTTP
                                                服务交互成为可能。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>“<span class="tt">:authority</span>” 伪首部字段传达目标 URI 的 authority 部分。接收
                                                HTTP/2 请求的一方<em class="bcp14">MUST NOT</em>在存在 “<span
                                                    class="tt">:authority</span>” 时使用 Host 头字段来确定目标 URI。</p>
                                        </div>
                                        <div>
                                            <p>直接生成 HTTP/2 请求的客户端<em class="bcp14">MUST</em>使用 “<span
                                                    class="tt">:authority</span>” 伪首部字段传递 authority 信息，除非没有要传递的
                                                authority 信息（在这种情况下不得生成 “<span class="tt">:authority</span>”）。</p>
                                        </div>
                                        <div>
                                            <p>客户端不得生成与 “<span class="tt">:authority</span>” 伪首部字段不同的 Host 头字段。服务器<em
                                                    class="bcp14">SHOULD</em>将包含与 “<span class="tt">:authority</span>”
                                                不同实体的 Host 字段视为格式错误。比较字段值时需要规范化（见 RFC 3986 第 6.2
                                                节）。源服务器可应用任意规范化方法，而其他服务器<em class="bcp14">MUST</em>执行基于 scheme 的规范化。</p>
                                        </div>
                                        <div>
                                            <p>转发请求到 HTTP/2 的中间件<em class="bcp14">MUST</em>使用原始请求控制数据的 authority 信息构造
                                                “<span class="tt">:authority</span>” 伪首部字段，除非原始请求目标 URI 不包含 authority
                                                信息（在此情况下不得生成 “<span class="tt">:authority</span>”）。注意 Host
                                                头字段并非该信息的唯一来源。</p>
                                        </div>
                                        <div>
                                            <p>需要生成 Host 头字段的中间件（例如为构造 HTTP/1.1 请求）<em class="bcp14">MUST</em>使用 “<span
                                                    class="tt">:authority</span>” 的值作为 Host
                                                字段的值，除非中间件也改变了请求目标。这样可以替换任何现有的 Host 字段以避免 HTTP 路由中的潜在漏洞。</p>
                                        </div>
                                        <div>
                                            <p>转发请求到 HTTP/2 的中间件<em class="bcp14">MAY</em>保留任何 Host 头字段。</p>
                                        </div>
                                        <div>
                                            <p>注意 CONNECT 或星号形式的 OPTIONS 请求的请求目标从不包含 authority 信息。</p>
                                        </div>
                                        <div>
                                            <p>对于 "<span class="tt">http</span>" 或 "<span class="tt">https</span>"
                                                scheme 的 URI，“<span class="tt">:authority</span>”<em class="bcp14">MUST
                                                    NOT</em>包含已弃用的 userinfo 子组件。</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>“<span class="tt">:path</span>” 伪首部字段包含目标 URI 的路径和查询部分（即 <span
                                                    class="tt">absolute-path</span> 的产生式，且可选地在其后有 '?' 和 <span
                                                    class="tt">query</span>）。对于星号形式的 OPTIONS 请求，"<span
                                                    class="tt">:path</span>" 的值为 '*'.</p>
                                        </div>
                                        <div class="avoidbreakafter">
                                            <p>对于 "<span class="tt">http</span>" 或 "<span class="tt">https</span>"
                                                URI，该伪首部字段<em class="bcp14">MUST NOT</em>为空；若这些 URI 不包含路径组件，则<em
                                                    class="bcp14">MUST</em>使用 '/' 作为值。此规则的例外包括：</p>
                                        </div>
                                        <div>
                                            <ul>
                                                <li>对不包含路径组件的 "<span class="tt">http</span>" 或 "<span
                                                        class="tt">https</span>" URI 的 OPTIONS 请求；这些<em
                                                        class="bcp14">MUST</em>使用值 '*' 的 "<span
                                                        class="tt">:path</span>"（见 RFC 9110 第 7.1 节）。</li>
                                                <li>CONNECT 请求（见第 8.5 节），其中 "<span class="tt">:path</span>" 伪首部字段被省略。
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div id="rfc.section.8.3.1.p.3">
                                <p>所有 HTTP/2 请求<em class="bcp14">MUST</em>包含恰好一个有效的 "<span
                                        class="tt">:method</span>"、"<span class="tt">:scheme</span>" 和 "<span
                                        class="tt">:path</span>" 伪首部字段，除非它们是 CONNECT 请求。省略强制伪首部字段的 HTTP 请求是格式错误的（见 <a
                                        href="#malformed" title="Malformed Messages">第 8.1.1 节</a>）。</p>
                            </div>
                            <div id="rfc.section.8.3.1.p.4">
                                <p>单个 HTTP/2 请求不携带显式的协议版本指示。所有 HTTP/2 请求隐含的协议版本为 "2.0"。</p>
                            </div>
                        </section>
                        <section id="HttpResponse">
                            <h4 id="rfc.section.8.3.2"><a href="#rfc.section.8.3.2">8.3.2.</a>&nbsp;<a
                                    href="#HttpResponse">响应伪首部字段</a></h4>
                            <div id="rfc.section.8.3.2.p.1">
                                <p>对于 HTTP/2 响应，定义了单个 "<span class="tt">:status</span>" 伪首部字段，用于承载 HTTP 状态码字段。该伪首部字段<em
                                        class="bcp14">MUST</em>包含在所有响应中，包括临时响应；否则响应为格式错误（见 <a href="#malformed"
                                        title="Malformed Messages">第 8.1.1 节</a>）。</p>
                            </div>
                            <div id="rfc.section.8.3.2.p.2">
                                <p>HTTP/2 响应隐含的协议版本为 "2.0"。</p>
                            </div>
                        </section>
                    </section>
                    <section id="PushResources">
                        <h3 id="rfc.section.8.4"><a href="#rfc.section.8.4">8.4.</a>&nbsp;<a
                                href="#PushResources">服务器推送</a></h3>
                        <div id="rfc.section.8.4.p.1">
                            <p>HTTP/2 允许服务器在与先前客户端发起的请求相关联时，预先向客户端发送（或“推送”）响应（以及相应的“被承诺”请求）。</p>
                        </div>
                        <div id="rfc.section.8.4.p.2">
                            <p>服务器推送的设计目标是通过预测客户端随后会发出的请求来改善客户端感知的性能，从而为这些请求节省一次往返。例如，请求 HTML
                                常常会随后请求该页面引用的样式表和脚本。若这些请求被推送，客户端就不需要等待在 HTML 中接收到它们的引用再发出单独请求。</p>
                        </div>
                        <div id="rfc.section.8.4.p.3">
                            <p>实际上，服务器推送难以有效使用，因为它要求服务器正确预测客户端会发出的附加请求，同时考虑缓存、内容协商和用户行为等因素。预测错误可能导致性能下降，因为额外的数据占用了带宽，可能与更重要的响应产生竞争。尤其是，推送大量数据可能会与更重要的响应发生争用。
                            </p>
                        </div>
                        <div id="rfc.section.8.4.p.4">
                            <p>客户端可以请求禁用服务器推送，但这是逐跳协商的。可以将 <a href="#SETTINGS_ENABLE_PUSH">SETTINGS_ENABLE_PUSH</a> 设置为
                                0 以表示禁用服务器推送。</p>
                        </div>
                        <div id="rfc.section.8.4.p.5">
                            <p>被承诺的请求<em class="bcp14">MUST</em>是安全的并且可缓存（参见 RFC 9110
                                中相应部分）。被承诺的请求不得包含任何内容或尾部段。客户端在接收到不具备可缓存性、或未知为安全、或表明存在请求内容的被承诺请求时，<em
                                    class="bcp14">MUST</em>使用类型为 <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a>
                                的流错误重置被承诺的流。</p>
                        </div>
                        <div id="rfc.section.8.4.p.6">
                            <p>如果客户端实现了 HTTP 缓存，且被推送的响应可缓存，则客户端可以存储它们。被推送的响应在被承诺流标识符标识的流仍然打开时，被视为已在源服务器上成功验证（例如当响应具有
                                "no-cache" 指令时）。</p>
                        </div>
                        <div id="rfc.section.8.4.p.7">
                            <p>不可缓存的被推送响应<em class="bcp14">MUST NOT</em>被任何 HTTP 缓存存储，但它们<em
                                    class="bcp14">MAY</em>单独提供给应用程序使用。</p>
                        </div>
                        <div id="rfc.section.8.4.p.8">
                            <p>服务器<em class="bcp14">MUST</em>在 "<span class="tt">:authority</span>"
                                伪首部字段中包含服务器有权代表之值。客户端在接收到由服务器并非权威的 <a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">PUSH_PROMISE</a> 时，<em class="bcp14">MUST</em>将其视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的流错误。</p>
                        </div>
                        <div id="rfc.section.8.4.p.9">
                            <p>中间件可以从服务器接收推送并选择不将其转发给客户端。换言之，如何使用推送信息由中间件决定。同样，中间件也可能选择在没有服务器动作的情况下向客户端发起额外的推送。</p>
                        </div>
                        <div id="rfc.section.8.4.p.10">
                            <p>客户端不能推送。因此，服务器<em class="bcp14">MUST</em>将接收客户端的 <a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">PUSH_PROMISE</a> 帧视为类型为 <a
                                    href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误。服务器不得将 <a
                                    href="#SETTINGS_ENABLE_PUSH">SETTINGS_ENABLE_PUSH</a> 设置为非 0 的值（见第 6.5.2 节）。</p>
                        </div>
                        <section id="PushRequests">
                            <h4 id="rfc.section.8.4.1"><a href="#rfc.section.8.4.1">8.4.1.</a>&nbsp;<a
                                    href="#PushRequests">推送请求</a></h4>
                            <div id="rfc.section.8.4.1.p.1">
                                <p>服务器推送在语义上等同于服务器对请求的响应；但在此情况下，该请求由服务器作为 <a href="#PUSH_PROMISE"
                                        title="PUSH_PROMISE">PUSH_PROMISE</a> 帧发送。</p>
                            </div>
                            <div id="rfc.section.8.4.1.p.2">
                                <p><a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a>
                                    帧包含字段块，内含服务器归属该请求的控制数据和完整的请求头字段集合。无法对包含消息内容的请求进行推送响应。</p>
                            </div>
                            <div id="rfc.section.8.4.1.p.3">
                                <p>被承诺的请求总是与客户端的显式请求关联。服务器发送的 <a href="#PUSH_PROMISE"
                                        title="PUSH_PROMISE">PUSH_PROMISE</a> 帧在该显式请求的流上发送。PUSH_PROMISE
                                    帧还包含一个由服务器从可用流标识符中选择的被承诺流标识符（见第 5.1.1 节）。</p>
                            </div>
                            <div id="rfc.section.8.4.1.p.4">
                                <p><a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a> 和随后任何 <a
                                        href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧中的头字段<em
                                        class="bcp14">MUST</em>构成一组有效且完整的请求头字段集合（见第 8.3.1 节）。服务器<em
                                        class="bcp14">MUST</em>在 ":method" 伪首部字段中包含一个安全且可缓存的方法。如果客户端收到不完整或无效头字段集合的
                                    PUSH_PROMISE，或 ":method" 标识的方法非安全，则客户端<em class="bcp14">MUST</em>在被承诺流上使用类型为 <a
                                        href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的流错误响应。</p>
                            </div>
                            <div id="rfc.section.8.4.1.p.5">
                                <p>服务器<em class="bcp14">SHOULD</em>在发送任何引用被承诺响应的帧之前发送 <a href="#PUSH_PROMISE"
                                        title="PUSH_PROMISE">PUSH_PROMISE</a> 帧，以避免客户端在接收到任何 PUSH_PROMISE 帧之前发起相应请求的竞争。
                                </p>
                            </div>
                            <div id="rfc.section.8.4.1.p.6">
                                <p>例如，若服务器接收到对包含多个图像文件嵌入链接的文档的请求并选择将这些图像推送给客户端，则在包含图像链接的 <a href="#DATA"
                                        title="DATA">DATA</a> 帧之前发送 <a href="#PUSH_PROMISE"
                                        title="PUSH_PROMISE">PUSH_PROMISE</a> 帧可以确保客户端在发现嵌入链接之前就知道资源将被推送。</p>
                            </div>
                            <div id="rfc.section.8.4.1.p.7">
                                <p><a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a> 帧<em class="bcp14">MUST
                                        NOT</em>由客户端发送。</p>
                            </div>
                            <div id="rfc.section.8.4.1.p.8">
                                <p>服务器可以在任何客户端发起的流上发送 <a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a>
                                    帧，但该流相对于服务器必须处于“open”或“half-closed (remote)” 状态。PUSH_PROMISE
                                    帧可与构成响应的帧交错，但不得与构成单个字段块的 <a href="#HEADERS" title="HEADERS">HEADERS</a> 和 <a
                                        href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧交错。</p>
                            </div>
                            <div id="rfc.section.8.4.1.p.9">
                                <p>发送 <a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a> 帧会创建一个新流，并将该流置为服务器的
                                    “reserved (local)” 状态和客户端的 “reserved (remote)” 状态。</p>
                            </div>
                        </section>
                        <section id="PushResponses">
                            <h4 id="rfc.section.8.4.2"><a href="#rfc.section.8.4.2">8.4.2.</a>&nbsp;<a
                                    href="#PushResponses">推送响应</a></h4>
                            <div id="rfc.section.8.4.2.p.1">
                                <p>在发送 <a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a>
                                    帧之后，服务器可以在使用被承诺流标识符的服务器发起流上开始传送被推送的响应，服务器在该流上以与第 8.1 节定义相同的帧序列传输 HTTP 响应。该流在发送初始 <a
                                        href="#HEADERS" title="HEADERS">HEADERS</a> 帧后变为对服务器的 “half-closed (remote)”
                                    状态（对客户端为 “half-closed (local)”）。</p>
                            </div>
                            <div id="rfc.section.8.4.2.p.2">
                                <p>一旦客户端接收到 <a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a>
                                    并选择接受被推送的响应，客户端<em class="bcp14">SHOULD NOT</em>在被承诺流关闭之前为该被承诺响应发起任何请求。</p>
                            </div>
                            <div id="rfc.section.8.4.2.p.3">
                                <p>如果客户端出于任何原因决定不希望从服务器接收被推送的响应，或服务器在开始发送被承诺响应方面过慢，客户端可以发送 <a href="#RST_STREAM"
                                        title="RST_STREAM">RST_STREAM</a> 帧，使用 <a href="#CANCEL">CANCEL</a> 或 <a
                                        href="#REFUSED_STREAM">REFUSED_STREAM</a> 错误码并引用被推送流的标识符。</p>
                            </div>
                            <div id="rfc.section.8.4.2.p.4">
                                <p>客户端可以使用 <a
                                        href="#SETTINGS_MAX_CONCURRENT_STREAMS">SETTINGS_MAX_CONCURRENT_STREAMS</a>
                                    设置限制服务器可并发推送的响应数量。将该设置通告为零会阻止服务器打开推送响应所需的流；但这并不阻止服务器使用 <a href="#PUSH_PROMISE"
                                        title="PUSH_PROMISE">PUSH_PROMISE</a>
                                    保留流，因为保留的流不计入并发流限制。若客户端不希望接收被推送资源，需要重置任何不需要的保留流或将 <a
                                        href="#SETTINGS_ENABLE_PUSH">SETTINGS_ENABLE_PUSH</a> 设为 0。</p>
                            </div>
                            <div id="rfc.section.8.4.2.p.5">
                                <p>接收被推送响应的客户端<em class="bcp14">MUST</em>验证服务器是否为权威（见第 10.1
                                    节）或提供被推送响应的代理是否已为对应请求配置。例如，仅为 <span class="tt">example.com</span> DNS-ID
                                    提供证书的服务器不允许为 <span class="tt">&lt;https://www.example.org/doc&gt;</span> 推送响应。</p>
                            </div>
                            <div id="rfc.section.8.4.2.p.6">
                                <p>PUSH_PROMISE 流的响应以 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧开始，这会立即将流置为服务器的
                                    “half-closed (remote)” 状态和客户端的 “half-closed (local)” 状态，并以带有 END_STREAM
                                    标志的帧结束，该帧将流置为 “closed”。</p>
                            </div>
                            <div id="rfc.section.8.4.2.p.7">
                                <aside>
                                    <div id="rfc.section.8.4.2.p.7.1">
                                        <p>注：客户端从不为服务器推送发送带有 END_STREAM 标志的帧。</p>
                                    </div>
                                </aside>
                            </div>
                        </section>
                    </section>
                    <section id="CONNECT">
                        <h3 id="rfc.section.8.5"><a href="#rfc.section.8.5">8.5.</a>&nbsp;<a href="#CONNECT">CONNECT
                                方法</a></h3>
                        <div id="rfc.section.8.5.p.1">
                            <p>CONNECT 方法用于将 HTTP 连接转换为到远程主机的隧道。CONNECT 主要与 HTTP 代理一起使用，以建立到源服务器的 TLS 会话，从而访问 "<span
                                    class="tt">https</span>" 资源。</p>
                        </div>
                        <div id="rfc.section.8.5.p.2" class="avoidbreakafter">
                            <p>在 HTTP/2 中，CONNECT 方法在单个 HTTP/2 流上建立到远程主机的隧道，而不是将整个连接转换为隧道。CONNECT 头部段按照第 8.3.1
                                节定义来构造，但有若干区别。具体而言：</p>
                        </div>
                        <div id="rfc.section.8.5.p.3">
                            <ul>
                                <li>“<span class="tt">:method</span>” 伪首部字段被设为 <span class="tt">CONNECT</span>。</li>
                                <li>“<span class="tt">:scheme</span>” 和 “<span class="tt">:path</span>” 伪首部字段<em
                                        class="bcp14">MUST</em>被省略。</li>
                                <li>“<span class="tt">:authority</span>” 伪首部字段包含要连接的主机和端口（等价于 CONNECT 请求目标的 authority
                                    形式）。</li>
                            </ul>
                        </div>
                        <div id="rfc.section.8.5.p.4">
                            <p>不符合这些限制的 CONNECT 请求为格式错误（见 <a href="#malformed" title="Malformed Messages">第 8.1.1
                                    节</a>）。</p>
                        </div>
                        <div id="rfc.section.8.5.p.5">
                            <p>支持 CONNECT 的代理会为 "<span class="tt">:authority</span>" 伪首部字段中标识的主机和端口建立一个 TCP
                                连接。一旦该连接成功建立，代理向客户端发送包含 2xx 系列状态码的 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧。</p>
                        </div>
                        <div id="rfc.section.8.5.p.6">
                            <p>在每一端首次发送的 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧之后，所有后续的 <a href="#DATA"
                                    title="DATA">DATA</a> 帧对应于在该 TCP 连接上发送的数据。代理将客户端发送的任何 <a href="#DATA"
                                    title="DATA">DATA</a> 帧的帧负载转发到 TCP 服务器；从 TCP 服务器接收的数据由代理组装为 <a href="#DATA"
                                    title="DATA">DATA</a> 帧。除 <a href="#DATA" title="DATA">DATA</a> 或流管理帧（如 <a
                                    href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a>、<a href="#WINDOW_UPDATE"
                                    title="WINDOW_UPDATE">WINDOW_UPDATE</a>、<a href="#PRIORITY"
                                    title="PRIORITY">PRIORITY</a>）外的帧类型不得在已连接的流上发送，若接收则<em class="bcp14">MUST</em>视为流错误。
                            </p>
                        </div>
                        <div id="rfc.section.8.5.p.7">
                            <p>TCP 连接可以由任一端关闭。带有 END_STREAM 标志的 <a href="#DATA" title="DATA">DATA</a> 帧被视为与 TCP FIN
                                位等价。客户端在接收到带有 END_STREAM 标志的帧后，预期发送一个带有 END_STREAM 标志的 <a href="#DATA"
                                    title="DATA">DATA</a> 帧。代理在接收到带有 END_STREAM 标志的 <a href="#DATA"
                                    title="DATA">DATA</a> 帧时，会在最后一个 TCP 段上以 FIN 位发送附带数据；代理在接收到带有 FIN 位的 TCP 段时，会发送带有
                                END_STREAM 标志的 <a href="#DATA" title="DATA">DATA</a> 帧。注意最终的 TCP 段或 <a href="#DATA"
                                    title="DATA">DATA</a> 帧可能为空。</p>
                        </div>
                        <div id="rfc.section.8.5.p.8">
                            <p>TCP 连接错误以 <a href="#RST_STREAM" title="RST_STREAM">RST_STREAM</a> 方式报告。代理将 TCP
                                连接的任何错误（包括接收到带有 RST 位的 TCP 段）视为类型为 <a href="#CONNECT_ERROR">CONNECT_ERROR</a>
                                的流错误。相应地，代理在检测到流或 HTTP/2 连接错误时<em class="bcp14">MUST</em>发送带有 RST 位的 TCP 段。</p>
                        </div>
                    </section>
                    <section id="informational-responses">
                        <h3 id="rfc.section.8.6"><a href="#rfc.section.8.6">8.6.</a>&nbsp;<a
                                href="#informational-responses">Upgrade 首部字段</a></h3>
                        <div id="rfc.section.8.6.p.1">
                            <p>HTTP/2 不支持 101（Switching Protocols）信息性状态码。</p>
                        </div>
                        <div id="rfc.section.8.6.p.2">
                            <p>101（Switching Protocols）的语义不适用于多路复用协议。类似功能可通过使用扩展 CONNECT（RFC 8441）实现，其他协议也能使用 HTTP/2
                                用于协商的相同机制。</p>
                        </div>
                    </section>
                    <section id="Reliability">
                        <h3 id="rfc.section.8.7"><a href="#rfc.section.8.7">8.7.</a>&nbsp;<a
                                href="#Reliability">请求可靠性</a></h3>
                        <div id="rfc.section.8.7.p.1">
                            <p>通常，当发生错误时，HTTP 客户端无法重试非幂等请求，因为无法确定错误的性质。在错误发生之前可能已进行了一些服务器处理，重新尝试请求可能导致不良后果。</p>
                        </div>
                        <div id="rfc.section.8.7.p.2" class="avoidbreakafter">
                            <p>HTTP/2 提供两种机制以向客户端保证请求未被处理：</p>
                        </div>
                        <div id="rfc.section.8.7.p.3">
                            <ul>
                                <li><a href="#GOAWAY" title="GOAWAY">GOAWAY</a> 帧指示可能被处理的最高流编号。编号更高的流上的请求因此可保证安全地重试。
                                </li>
                                <li><a href="#REFUSED_STREAM">REFUSED_STREAM</a> 错误码可以包含在 <a href="#RST_STREAM"
                                        title="RST_STREAM">RST_STREAM</a> 帧中，以指示在任何处理发生之前流被关闭。发送在该重置流上的任何请求都可安全重试。</li>
                            </ul>
                        </div>
                        <div id="rfc.section.8.7.p.4">
                            <p>未被处理的请求尚未失败；客户端<em class="bcp14">MAY</em>自动重试它们，即使这些请求使用非幂等方法。</p>
                        </div>
                        <div id="rfc.section.8.7.p.5">
                            <p>服务器<em class="bcp14">MUST NOT</em>声明某流未被处理，除非它能保证此事实。如果某流上的帧已被传递给应用层，则<em
                                    class="bcp14">MUST NOT</em>对该流使用 <a href="#REFUSED_STREAM">REFUSED_STREAM</a>，并且 <a
                                    href="#GOAWAY" title="GOAWAY">GOAWAY</a> 帧必须包含大于或等于该流标识符的值。</p>
                        </div>
                        <div id="rfc.section.8.7.p.6">
                            <p>此外，<a href="#PING" title="PING">PING</a> 帧为客户端提供了一种简单测试连接的方法。闲置的连接可能会被某些中间盒静默丢弃绑定。<a
                                    href="#PING" title="PING">PING</a> 帧允许客户端在不发送请求的情况下安全地测试连接是否仍然活动。</p>
                        </div>
                    </section>
                    <section id="HttpExamples">
                        <h3 id="rfc.section.8.8"><a href="#rfc.section.8.8">8.8.</a>&nbsp;<a href="#HttpExamples">示例</a>
                        </h3>
                        <div id="rfc.section.8.8.p.1">
                            <p>本节展示 HTTP/1.1 的请求和响应，并说明等效的 HTTP/2 请求和响应示例。</p>
                        </div>
                        <section id="n-simple-request">
                            <h4 id="rfc.section.8.8.1"><a href="#rfc.section.8.8.1">8.8.1.</a>&nbsp;<a
                                    href="#n-simple-request">简单请求</a></h4>
                            <div id="rfc.section.8.8.1.p.1">
                                <p>一个 HTTP GET 请求包含控制数据和无消息内容的请求头，因此可作为单个 <a href="#HEADERS" title="HEADERS">HEADERS</a>
                                    帧传输，后接零或多个包含序列化请求头字段块的 <a href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a>
                                    帧。下面的 HEADERS 帧同时置有 END_HEADERS 和 END_STREAM 标志；不发送任何 CONTINUATION 帧。</p>
                            </div>
                            <div id="rfc.section.8.8.1.p.2">
                                <pre class="inline">
  GET /resource HTTP/1.1           HEADERS
  Host: example.org          ==&gt;     + END_STREAM
  Accept: image/jpeg                 + END_HEADERS
                                       :method = GET
                                       :scheme = https
                                       :authority = example.org
                                       :path = /resource
                                       host = example.org
                                       accept = image/jpeg
</pre>
                            </div>
                        </section>
                        <section id="n-simple-response">
                            <h4 id="rfc.section.8.8.2"><a href="#rfc.section.8.8.2">8.8.2.</a>&nbsp;<a
                                    href="#n-simple-response">简单响应</a></h4>
                            <div id="rfc.section.8.8.2.p.1">
                                <p>类似地，仅包含控制数据和响应头的响应作为一个 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧（后接零或多个
                                    CONTINUATION）传输，包含序列化的响应头字段块。</p>
                            </div>
                            <div id="rfc.section.8.8.2.p.2">
                                <pre class="inline">
  HTTP/1.1 304 Not Modified        HEADERS
  ETag: "xyzzy"              ==&gt;     + END_STREAM
  Expires: Thu, 23 Jan ...           + END_HEADERS
                                       :status = 304
                                       etag = "xyzzy"
                                       expires = Thu, 23 Jan ...
</pre>
                            </div>
                        </section>
                        <section id="n-complex-request">
                            <h4 id="rfc.section.8.8.3"><a href="#rfc.section.8.8.3">8.8.3.</a>&nbsp;<a
                                    href="#n-complex-request">复杂请求</a></h4>
                            <div id="rfc.section.8.8.3.p.1" class="avoidbreakafter">
                                <p>包含控制数据、请求头及消息内容的 HTTP POST 请求被传输为一个 <a href="#HEADERS" title="HEADERS">HEADERS</a>
                                    帧（后接零或多个 CONTINUATION），随后是一个或多个 <a href="#DATA" title="DATA">DATA</a> 帧，最后的
                                    CONTINUATION（或 HEADERS）帧置有 END_HEADERS，最后的 DATA 帧置有 END_STREAM。</p>
                            </div>
                            <div id="rfc.section.8.8.3.p.2">
                                <pre class="inline">
  POST /resource HTTP/1.1          HEADERS
  Host: example.org          ==&gt;     - END_STREAM
  Content-Type: image/jpeg           - END_HEADERS
  Content-Length: 123                  :method = POST
                                       :authority = example.org
                                       :path = /resource
  {binary data}                        :scheme = https

                                   CONTINUATION
                                     + END_HEADERS
                                       content-type = image/jpeg
                                       host = example.org
                                       content-length = 123

                                   DATA
                                     + END_STREAM
                                   {binary data}
</pre>
                            </div>
                            <div id="rfc.section.8.8.3.p.3" class="avoidbreakbefore">
                                <p>注意，构成任何给定字段行的数据可以分布在字段块片段之间。示例中字段行分配到帧的方式仅为说明性。</p>
                            </div>
                        </section>
                        <section id="n-response-with-body">
                            <h4 id="rfc.section.8.8.4"><a href="#rfc.section.8.8.4">8.8.4.</a>&nbsp;<a
                                    href="#n-response-with-body">带主体的响应</a></h4>
                            <div id="rfc.section.8.8.4.p.1" class="avoidbreakafter">
                                <p>包含控制数据、响应头及消息内容的响应作为一个 <a href="#HEADERS" title="HEADERS">HEADERS</a> 帧（后接零或多个
                                    CONTINUATION），随后是一个或多个 <a href="#DATA" title="DATA">DATA</a> 帧传输，序列中的最后一个 DATA 帧置有
                                    END_STREAM 标志：</p>
                            </div>
                            <div id="rfc.section.8.8.4.p.2">
                                <pre class="inline">
  HTTP/1.1 200 OK                  HEADERS
  Content-Type: image/jpeg   ==&gt;     - END_STREAM
  Content-Length: 123                + END_HEADERS
                                       :status = 200
  {binary data}                        content-type = image/jpeg
                                       content-length = 123

                                   DATA
                                     + END_STREAM
                                   {binary data}
</pre>
                            </div>
                        </section>
                        <section id="n-informational-responses">
                            <h4 id="rfc.section.8.8.5"><a href="#rfc.section.8.8.5">8.8.5.</a>&nbsp;<a
                                    href="#n-informational-responses">信息性响应</a></h4>
                            <div id="rfc.section.8.8.5.p.1">
                                <p>使用除 101 外的 1xx 状态码的信息性响应作为一个 <a href="#HEADERS" title="HEADERS">HEADERS</a>
                                    帧传输，后接零或多个 <a href="#CONTINUATION" title="CONTINUATION">CONTINUATION</a> 帧。</p>
                            </div>
                            <div id="rfc.section.8.8.5.p.2">
                                <p>尾部段作为字段块在请求或响应字段块和所有 <a href="#DATA" title="DATA">DATA</a> 帧发送完之后发送。组成尾部段的字段块所起始的 <a
                                        href="#HEADERS" title="HEADERS">HEADERS</a> 帧带有 END_STREAM 标志。</p>
                            </div>
                            <div id="rfc.section.8.8.5.p.3" class="avoidbreakafter">
                                <p>下面的示例包含一个 100 (Continue) 状态码（作为对包含 Expect: 100-continue 的请求的响应）以及一个尾部段：</p>
                            </div>
                            <div id="rfc.section.8.8.5.p.4">
                                <pre class="inline">
  HTTP/1.1 100 Continue            HEADERS
  Extension-Field: bar       ==&gt;     - END_STREAM
                                     + END_HEADERS
                                       :status = 100
                                       extension-field = bar

  HTTP/1.1 200 OK                  HEADERS
  Content-Type: image/jpeg   ==&gt;     - END_STREAM
  Transfer-Encoding: chunked         + END_HEADERS
  Trailer: Foo                         :status = 200
                                       content-type = image/jpeg
  123                                  trailer = Foo
  {binary data}
  0                                DATA
  Foo: bar                           - END_STREAM
                                   {binary data}

                                   HEADERS
                                     + END_STREAM
                                     + END_HEADERS
                                       foo = bar
</pre>
                            </div>
                        </section>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="HttpExtra">
                    <h2 id="rfc.section.9" class="np"><a href="#rfc.section.9">9.</a>&nbsp;<a href="#HttpExtra">HTTP/2
                            连接</a></h2>
                    <div id="rfc.section.9.p.1">
                        <p>本节概述了若干 HTTP 属性，这些属性可改善互操作性、降低已知安全漏洞的暴露，或减少实现差异的可能性。</p>
                    </div>
                    <section id="n-connection-management">
                        <h3 id="rfc.section.9.1"><a href="#rfc.section.9.1">9.1.</a>&nbsp;<a
                                href="#n-connection-management">连接管理</a></h3>
                        <div id="rfc.section.9.1.p.1">
                            <p>HTTP/2 连接是持久的。为获得最佳性能，期望客户端在确定不再需要与服务器进行更多通信（例如用户导航离开某个网页）之前，不关闭连接，或直到服务器关闭连接为止。</p>
                        </div>
                        <div id="rfc.section.9.1.p.2">
                            <p>客户端<em class="bcp14">不应</em>对给定的主机和端口对打开多个 HTTP/2 连接（该主机由 URI、选定的<a href="#RFC7838"><cite
                                        title="HTTP Alternative Services">alternative service</cite></a> 或已配置的代理推导得出）。
                            </p>
                        </div>
                        <div id="rfc.section.9.1.p.3">
                            <p>客户端可以创建附加连接作为替换，用以替换接近耗尽可用流标识符空间的连接（见 <a href="#StreamIdentifiers"
                                    title="Stream Identifiers">第 5.1.1 节</a>）、刷新 TLS 连接的密钥材料，或替换已遇到错误的连接（见 <a
                                    href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。</p>
                        </div>
                        <div id="rfc.section.9.1.p.4">
                            <p>客户端<em class="bcp14">可以</em>使用不同的<a href="#RFC6066"><cite
                                        title="Transport Layer Security (TLS) Extensions: Extension Definitions">Server
                                        Name Indication</cite></a> 值或使用不同的 TLS 客户端证书对相同 IP 地址和 TCP 端口打开多个连接，但<em
                                    class="bcp14">应</em>避免创建配置相同的多个连接。</p>
                        </div>
                        <div id="rfc.section.9.1.p.5">
                            <p>鼓励服务器尽可能长时间保持连接打开，但在必要时允许终止空闲连接。当任一端点选择关闭传输层 TCP 连接时，终止端点<em class="bcp14">应</em>先发送一个 <a
                                    href="#GOAWAY" title="GOAWAY">GOAWAY</a>（见 <a href="#GOAWAY" title="GOAWAY">第 6.8
                                    节</a>）帧，以便双方能可靠地确定此前发送的帧是否已被处理，并优雅地完成或终止任何必要的剩余任务。</p>
                        </div>
                        <section id="reuse">
                            <h4 id="rfc.section.9.1.1"><a href="#rfc.section.9.1.1">9.1.1.</a>&nbsp;<a
                                    href="#reuse">连接重用</a></h4>
                            <div id="rfc.section.9.1.1.p.1">
                                <p>对源服务器建立的连接，无论是直接建立还是通过使用 CONNECT 方法（见 <a href="#CONNECT" title="The CONNECT Method">第
                                        8.5 节</a>）创建的隧道，都<em class="bcp14">可以</em>被重用于具有多个不同 URI authority
                                    分量的请求。只要源服务器对该 URI 具有权威性（见 <a href="#authority" title="Server Authority">第 10.1
                                        节</a>），连接就可以重用。对于没有 TLS 的 TCP 连接，这取决于主机解析到相同的 IP 地址。</p>
                            </div>
                            <div id="rfc.section.9.1.1.p.2">
                                <p>对于 "<span class="tt">https</span>" 资源，连接重用还取决于是否具有对该 URI 主机有效的证书。服务器呈现的证书<em
                                        class="bcp14">必须</em>满足客户端在为该 URI 主机建立新的 TLS 连接时会执行的任何检查。单个证书可用于为多个源建立权限。<a
                                        href="https://www.rfc-editor.org/rfc/rfc9110.html#section-4.3">RFC 9110 第 4.3
                                        节</a> 描述了客户端如何确定服务器是否对某个 URI 具有权威性。</p>
                            </div>
                            <div id="rfc.section.9.1.1.p.3">
                                <p>在某些部署中，将一个连接重用于多个来源可能导致请求被定向到错误的源服务器。例如，可能存在在中间盒上执行 TLS 终止的情况，该中间盒使用 TLS 的 <a
                                        href="#RFC6066"><cite
                                            title="Transport Layer Security (TLS) Extensions: Extension Definitions">Server
                                            Name Indication</cite></a>
                                    扩展来选择源服务器。这意味着客户端可能向并非请求意图目标的服务器发送请求，即使该服务器在其他方面具有权威性。</p>
                            </div>
                            <div id="rfc.section.9.1.1.p.4">
                                <p>不希望客户端重用连接的服务器可以通过在响应请求时返回 421（Misdirected Request）状态码来表明其对该请求并非权威（见 <a
                                        href="https://www.rfc-editor.org/rfc/rfc9110.html#section-15.5.20">RFC 9110 第
                                        15.5.20 节</a>）。</p>
                            </div>
                            <div id="rfc.section.9.1.1.p.5">
                                <p>配置为通过 HTTP/2 使用代理的客户端通过单个连接将请求定向到该代理。也就是说，通过代理发送的所有请求都重用与该代理的连接。</p>
                            </div>
                        </section>
                    </section>
                    <section id="TLSUsage">
                        <h3 id="rfc.section.9.2"><a href="#rfc.section.9.2">9.2.</a>&nbsp;<a href="#TLSUsage">TLS
                                特性使用</a></h3>
                        <div id="rfc.section.9.2.p.1">
                            <p>对通过 TLS 的 HTTP/2 实现，<em class="bcp14">必须</em>使用 <a href="#RFC5246"><cite
                                        title="The Transport Layer Security (TLS) Protocol Version 1.2">TLS
                                        1.2</cite></a> 或更高版本。应遵循 <a href="#RFC7525"><cite
                                        title="Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)">通用的
                                        TLS 使用指导</cite></a>，同时还需遵守对 HTTP/2 特有的一些额外限制。</p>
                        </div>
                        <div id="rfc.section.9.2.p.2">
                            <p>TLS 实现<em class="bcp14">必须</em>支持 TLS 的 <a href="#RFC6066"><cite
                                        title="Transport Layer Security (TLS) Extensions: Extension Definitions">Server
                                        Name Indication (SNI)</cite></a> 扩展。如果通过域名识别服务器，客户端<em class="bcp14">必须</em>发送
                                server_name TLS 扩展，除非使用了其他方式指示目标主机。</p>
                        </div>
                        <div id="rfc.section.9.2.p.3">
                            <p>有关协商 <a href="#RFC8446"><cite
                                        title="The Transport Layer Security (TLS) Protocol Version 1.3">TLS
                                        1.3</cite></a> 的 HTTP/2 部署要求见 <a href="#tls13features"
                                    title="TLS 1.3 Features">第 9.2.3 节</a>。TLS 1.2 部署需遵守 <a href="#tls12features"
                                    title="TLS 1.2 Features">第 9.2.1 节</a> 和 <a href="#tls12ciphers"
                                    title="TLS 1.2 Cipher Suites">第 9.2.2 节</a> 的要求。鼓励实现提供符合这些要求的默认值，但承认最终由部署方负责合规性。</p>
                        </div>
                        <section id="tls12features">
                            <h4 id="rfc.section.9.2.1"><a href="#rfc.section.9.2.1">9.2.1.</a>&nbsp;<a
                                    href="#tls12features">TLS 1.2 特性</a></h4>
                            <div id="rfc.section.9.2.1.p.1">
                                <p>本节描述了可与 HTTP/2 一起使用的 TLS 1.2 特性集的限制。由于部署限制，若不满足这些限制可能无法导致 TLS 协商失败。端点<em
                                        class="bcp14">可以</em>对不满足这些 TLS 要求的 HTTP/2 连接立即以类型为 <a
                                        href="#INADEQUATE_SECURITY">INADEQUATE_SECURITY</a> 的连接错误（见 <a
                                        href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                        节</a>）终止连接。</p>
                            </div>
                            <div id="rfc.section.9.2.1.p.2">
                                <p>在 TLS 1.2 上部署的 HTTP/2<em class="bcp14">必须</em>禁用压缩。TLS 压缩可能导致暴露原本不会被泄露的信息。通用压缩并不必要，因为
                                    HTTP/2 提供了更具上下文意识的压缩功能，通常在性能和安全方面更合适。</p>
                            </div>
                            <div id="rfc.section.9.2.1.p.3">
                                <p>在 TLS 1.2 上部署的 HTTP/2<em class="bcp14">必须</em>禁用重新协商。端点<em class="bcp14">必须</em>将 TLS
                                    重新协商视为类型为 <a href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（见 <a
                                        href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                        节</a>）。注意，禁用重新协商可能会导致由于底层密码套件可加密消息数的限制而使长连接变得不可用。</p>
                            </div>
                            <div id="rfc.section.9.2.1.p.4">
                                <p>端点<em class="bcp14">可以</em>使用重新协商为握手中提供的客户端凭证提供机密保护，但任何重新协商<em
                                        class="bcp14">必须</em>在发送连接前言（connection preface）之前发生。服务器在建立连接后立刻看到重新协商请求时，<em
                                        class="bcp14">应</em>请求客户端证书。</p>
                            </div>
                            <div id="rfc.section.9.2.1.p.5">
                                <p>这实际上阻止了在对特定受保护资源的请求之后使用重新协商。未来的规范可能提供支持此用例的方法。或者，服务器可能使用类型为 <a
                                        href="#HTTP_1_1_REQUIRED">HTTP_1_1_REQUIRED</a> 的错误来请求客户端使用支持重新协商的协议。</p>
                            </div>
                            <div id="rfc.section.9.2.1.p.6">
                                <p>实现<em class="bcp14">必须</em>为使用临时有限域 Diffie-Hellman (DHE) 的密码套件支持至少 2048
                                    位的短暂密钥交换大小，为使用临时椭圆曲线 Diffie-Hellman (ECDHE) 的密码套件支持至少 224 位。客户端<em
                                        class="bcp14">必须</em>接受最高到 4096 位的 DHE 大小。端点<em
                                        class="bcp14">可</em>将协商到比最小限制更小的密钥大小视为类型为 <a
                                        href="#INADEQUATE_SECURITY">INADEQUATE_SECURITY</a> 的连接错误（见 <a
                                        href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。
                                </p>
                            </div>
                        </section>
                        <section id="tls12ciphers">
                            <h4 id="rfc.section.9.2.2"><a href="#rfc.section.9.2.2">9.2.2.</a>&nbsp;<a
                                    href="#tls12ciphers">TLS 1.2 密码套件</a></h4>
                            <div id="rfc.section.9.2.2.p.1">
                                <p>在 TLS 1.2 上部署的 HTTP/2<em class="bcp14">不应</em>使用附录 A（<a href="#BadCipherSuites"
                                        title="Prohibited TLS 1.2 Cipher Suites">禁止的 TLS 1.2 密码套件</a>）中列出的任何被禁止的密码套件。
                                </p>
                            </div>
                            <div id="rfc.section.9.2.2.p.2">
                                <p>端点<em class="bcp14">可以</em>在协商出被禁止的密码套件时选择生成类型为 <a
                                        href="#INADEQUATE_SECURITY">INADEQUATE_SECURITY</a>
                                    的连接错误。若部署选择使用被禁止的密码套件，则有触发连接错误的风险，除非已知潜在对等方接受该密码套件。</p>
                            </div>
                            <div id="rfc.section.9.2.2.p.3">
                                <p>实现<em class="bcp14">不得</em>对协商到并非被禁止的密码套件生成此错误。因此，当客户端提供一个非被禁止的密码套件时，它们必须准备在 HTTP/2
                                    中使用该密码套件。</p>
                            </div>
                            <div id="rfc.section.9.2.2.p.4">
                                <p>被禁止的密码套件列表包含 TLS 1.2 所强制要求的密码套件，这意味着 TLS 1.2 部署可能会出现许可密码套件集合不相交的问题。为避免这种导致 TLS
                                    握手失败的问题，使用 TLS 1.2 的 HTTP/2 部署<em class="bcp14">必须</em>支持
                                    TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256，并使用 P-256 椭圆曲线。</p>
                            </div>
                            <div id="rfc.section.9.2.2.p.5">
                                <p>注意，客户端可能会声明支持被禁止的密码套件以便允许与不支持 HTTP/2 的服务器建立连接。这允许服务器在 HTTP/1.1 上选择那些在 HTTP/2
                                    中被禁止的密码套件。然而，如果应用层协议和密码套件被独立选择，这可能导致使用被禁止的密码套件协商出 HTTP/2。</p>
                            </div>
                        </section>
                        <section id="tls13features">
                            <h4 id="rfc.section.9.2.3"><a href="#rfc.section.9.2.3">9.2.3.</a>&nbsp;<a
                                    href="#tls13features">TLS 1.3 特性</a></h4>
                            <div id="rfc.section.9.2.3.p.1">
                                <p>TLS 1.3 包含许多早期版本中不可用的特性。本节讨论这些特性的使用。</p>
                            </div>
                            <div id="rfc.section.9.2.3.p.2">
                                <p>HTTP/2 服务器<em class="bcp14">不得</em>发送 TLS 1.3 握手后证书请求（post-handshake
                                    CertificateRequest）消息。HTTP/2 客户端<em class="bcp14">必须</em>将 TLS 握手后证书请求消息视为类型为 <a
                                        href="#PROTOCOL_ERROR">PROTOCOL_ERROR</a> 的连接错误（见 <a
                                        href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）。
                                </p>
                            </div>
                            <div id="rfc.section.9.2.3.p.3">
                                <p>对握手后认证的禁止适用于即便客户端提供了 "post_handshake_auth" TLS 扩展的情况。握手后认证支持可能独立于 <a
                                        href="#RFC7301"><cite
                                            title="Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension">ALPN</cite></a>
                                    被通告。客户端可能在其他协议中提供该能力，但包含该扩展并不意味着在 HTTP/2 中支持。</p>
                            </div>
                            <div id="rfc.section.9.2.3.p.4">
                                <p><a href="#RFC8446"><cite
                                            title="The Transport Layer Security (TLS) Protocol Version 1.3">TLS
                                            1.3</cite></a> 定义了其他握手后消息，如 NewSessionTicket 和 KeyUpdate，因其与 HTTP/2
                                    无直接交互，可照常使用。除非某种新类型的 TLS 消息的使用依赖于与应用层协议的交互，否则该 TLS 消息可在握手完成后发送。</p>
                            </div>
                            <div id="rfc.section.9.2.3.p.5">
                                <p>TLS 早期数据（early data）<em class="bcp14">可以</em>用于发送请求，前提是遵循 <a href="#RFC8470"><cite
                                            title="Using Early Data in HTTP">RFC 8470</cite></a>
                                    中的指导。客户端在早期数据中发送请求时假设服务器设置为初始值。</p>
                            </div>
                        </section>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="security">
                    <h2 id="rfc.section.10" class="np"><a href="#rfc.section.10">10.</a>&nbsp;<a
                            href="#security">安全注意事项</a></h2>
                    <div id="rfc.section.10.p.1">
                        <p>TLS 的使用对于提供本协议的许多安全属性是必要的。除非按照 <a href="#TLSUsage" title="Use of TLS Features">第 9.2 节</a>
                            中所述使用 TLS，本节中的许多声明并不成立。</p>
                    </div>
                    <section id="authority">
                        <h3 id="rfc.section.10.1"><a href="#rfc.section.10.1">10.1.</a>&nbsp;<a
                                href="#authority">服务器权威性</a></h3>
                        <div id="rfc.section.10.1.p.1">
                            <p>HTTP/2 依赖于 HTTP 对 authority 的定义来确定服务器在提供特定响应时是否具有权威性（参见 <a
                                    href="https://www.rfc-editor.org/rfc/rfc9110.html#section-4.3">RFC 9110 第 4.3
                                    节</a>）。这依赖于对于 "<span class="tt">http</span>" URI 方案的本地名称解析以及对于 "<span
                                    class="tt">https</span>" 方案的经过认证的服务器身份。</p>
                        </div>
                    </section>
                    <section id="n-cross-protocol-attacks">
                        <h3 id="rfc.section.10.2"><a href="#rfc.section.10.2">10.2.</a>&nbsp;<a
                                href="#n-cross-protocol-attacks">跨协议攻击</a></h3>
                        <div id="rfc.section.10.2.p.1">
                            <p>在跨协议攻击中，攻击者促使客户端在一个协议中向理解另一种协议的服务器发起事务。攻击者可能能使该事务在第二种协议中看起来是有效事务。结合 Web
                                环境的能力，这可以被用来与私有网络中保护不佳的服务器交互。</p>
                        </div>
                        <div id="rfc.section.10.2.p.2">
                            <p>完成带有 HTTP/2 ALPN 标识符的 TLS 握手可被视为对跨协议攻击的充分防护。ALPN 提供了服务器愿意继续使用 HTTP/2 的积极指示，从而防止对其他基于 TLS
                                的协议的攻击。</p>
                        </div>
                        <div id="rfc.section.10.2.p.3">
                            <p>TLS 中的加密使得攻击者难以控制可用于对明文协议进行跨协议攻击的数据。</p>
                        </div>
                        <div id="rfc.section.10.2.p.4">
                            <p>HTTP/2 的明文版本对跨协议攻击的保护最小。连接前言（见 <a href="#preface" title="HTTP/2 Connection Preface">第 3.4
                                    节</a>）包含一个旨在使 HTTP/1.1 服务器困惑的字符串，但对其他协议并未提供特殊保护。</p>
                        </div>
                    </section>
                    <section id="n-intermediary-encapsulation-attacks">
                        <h3 id="rfc.section.10.3"><a href="#rfc.section.10.3">10.3.</a>&nbsp;<a
                                href="#n-intermediary-encapsulation-attacks">中间件封装攻击</a></h3>
                        <div id="rfc.section.10.3.p.1">
                            <p>HPACK 允许对字段名和值进行编码，这些字段在其他 HTTP 版本中可能被视为定界符。将 HTTP/2 请求或响应转换为其他 HTTP 版本的中间件<em
                                    class="bcp14">必须</em>在转换消息之前根据 <a href="#HttpHeaders" title="HTTP Fields">第 8.2
                                    节</a> 的规则验证字段。翻译包含无效定界符的字段可能导致接收方错误地解释消息，这可能被攻击者利用。</p>
                        </div>
                        <div id="rfc.section.10.3.p.2">
                            <p><a href="#HttpHeaders" title="HTTP Fields">第 8.2 节</a>
                                未包含伪首部字段的具体验证规则。如果这些字段的值被使用，则需要额外的验证。这在将 "<span class="tt">:scheme</span>"、"<span
                                    class="tt">:authority</span>" 和 "<span class="tt">:path</span>" 组合成单一 URI
                                字符串时尤为重要。类似问题也可能在将该 URI 或仅 "<span class="tt">:path</span>" 与 "<span
                                    class="tt">:method</span>" 组合以构造请求行时出现。除非输入值被完全验证，否则简单的串联是不安全的。</p>
                        </div>
                        <div id="rfc.section.10.3.p.3">
                            <p>中间件可拒绝包含无效字段名或字段值的字段——尤其是那些不符合 RFC 9110 第 5 节 ABNF 语法的字段。不仅限于此，未执行第 <a
                                    href="#HttpHeaders" title="HTTP Fields">8.2 节</a> 最低验证要求的中间件可能会转发包含无效字段名或值的消息。</p>
                        </div>
                        <div id="rfc.section.10.3.p.4">
                            <p>接收需要在转发前移除的字段的中间件（参见 RFC 9110 第 7.6.1 节）<em
                                    class="bcp14">必须</em>在转发消息时移除或替换这些首部字段。此外，中间件在转发包含 <span
                                    class="tt">Content-Length</span> 字段的消息时应谨慎，以确保消息格式正确（见 <a href="#malformed"
                                    title="Malformed Messages">第 8.1.1 节</a>）。这可确保当消息被转换为 HTTP/1.1 时，分帧将是正确的。</p>
                        </div>
                    </section>
                    <section id="n-cacheability-of-pushed-responses">
                        <h3 id="rfc.section.10.4"><a href="#rfc.section.10.4">10.4.</a>&nbsp;<a
                                href="#n-cacheability-of-pushed-responses">被推送响应的可缓存性</a></h3>
                        <div id="rfc.section.10.4.p.1">
                            <p>被推送的响应并没有来自客户端的显式请求；该请求由服务器在 <a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">PUSH_PROMISE</a> 帧中提供。</p>
                        </div>
                        <div id="rfc.section.10.4.p.2">
                            <p>是否缓存被推送的响应可依据源服务器在 Cache-Control 头字段中提供的指导。但如果单个服务器承载多个租户，这可能引发问题。例如，服务器可能为多个用户提供其 URI
                                空间的不同小部分。</p>
                        </div>
                        <div id="rfc.section.10.4.p.3">
                            <p>当多个租户共享同一服务器空间时，该服务器<em
                                    class="bcp14">必须</em>确保租户不能推送其无权拥有的资源的表示。未能强制执行此点将允许某租户提供一个表示并使其从缓存中被提供，从而覆盖权威租户所提供的实际表示。
                            </p>
                        </div>
                        <div id="rfc.section.10.4.p.4">
                            <p>对源服务器并非权威的被推送响应（见 <a href="#authority" title="Server Authority">第 10.1 节</a>）<em
                                    class="bcp14">不得</em>被使用或缓存。</p>
                        </div>
                    </section>
                    <section id="dos">
                        <h3 id="rfc.section.10.5"><a href="#rfc.section.10.5">10.5.</a>&nbsp;<a
                                href="#dos">拒绝服务（DoS）考量</a></h3>
                        <div id="rfc.section.10.5.p.1">
                            <p>与 HTTP/1.1 连接相比，HTTP/2 连接可能需要更多的资源来运行。字段段压缩和流量控制依赖于更多状态的承诺。这些特性的设置确保了对此类功能的内存承诺是严格有界的。
                            </p>
                        </div>
                        <div id="rfc.section.10.5.p.2">
                            <p><a href="#PUSH_PROMISE" title="PUSH_PROMISE">PUSH_PROMISE</a>
                                帧的数量并不以相同方式受限。接受服务器推送的客户端<em class="bcp14">应</em>限制允许处于 “reserved (remote)”
                                状态的流数量。过多的服务器推送流可被视为类型为 <a href="#ENHANCE_YOUR_CALM">ENHANCE_YOUR_CALM</a> 的流错误（见 <a
                                    href="#StreamErrorHandler" title="Stream Error Handling">第 5.4.2 节</a>）。</p>
                        </div>
                        <div id="rfc.section.10.5.p.3" class="avoidbreakafter">
                            <p>已发现若干 HTTP/2 实现易受拒绝服务攻击的影响。以下列出实现可能受到拒绝服务攻击的已知方式：</p>
                        </div>
                        <div id="rfc.section.10.5.p.4">
                            <ul>
                                <li>
                                    <div class="avoidbreakafter">
                                        <p>对未完成的出站帧进行低效跟踪可能导致过载，若对手能促使大量帧排队发送。对手可以使用多种技术导致大量帧被生成：</p>
                                    </div>
                                    <div>
                                        <ul>
                                            <li>在 <a href="#WINDOW_UPDATE" title="WINDOW_UPDATE">WINDOW_UPDATE</a>
                                                帧中提供极小的流量控制增量，会促使发送方生成大量 <a href="#DATA" title="DATA">DATA</a> 帧。</li>
                                            <li>端点必须响应 <a href="#PING" title="PING">PING</a> 帧。</li>
                                            <li>每个 <a href="#SETTINGS" title="SETTINGS">SETTINGS</a> 帧都需要确认。</li>
                                            <li>无效的请求（或服务器推送）可能导致对端发送 <a href="#RST_STREAM"
                                                    title="RST_STREAM">RST_STREAM</a> 帧作为响应。</li>
                                        </ul>
                                    </div>
                                </li>
                                <li>攻击者可以在 HTTP/2 层提供大量流量控制额度，但在 TCP 层扣留这些额度，阻止帧被发送。如果端点在不考虑 TCP
                                    限制的情况下构建并记忆要发送的帧，可能会遭受资源耗尽。</li>
                                <li>大量小帧或空帧可以被滥用以迫使对端花费时间处理帧头。对此需谨慎，因为某些使用小帧的场景是合法的，例如在流结束时发送空的 <a href="#DATA"
                                        title="DATA">DATA</a> 或 <a href="#CONTINUATION"
                                        title="CONTINUATION">CONTINUATION</a> 帧。</li>
                                <li><a href="#SETTINGS" title="SETTINGS">SETTINGS</a>
                                    帧也可能被滥用以消耗对端的额外处理时间，例如通过无意义地更改设置、发送多个未定义设置或在同一帧中重复更改相同设置。</li>
                                <li>使用 <a href="#PRIORITY" title="PRIORITY">PRIORITY</a> 帧处理重新优先级可能需要大量处理时间，如果发送大量 <a
                                        href="#PRIORITY" title="PRIORITY">PRIORITY</a> 帧，会导致过载。</li>
                                <li>字段段压缩也为攻击者浪费处理资源提供了机会；参见 <a
                                        href="https://www.rfc-editor.org/rfc/rfc7541.html#section-7">HPACK 第 7
                                        节</a>，了解潜在滥用的更多细节。</li>
                                <li><a href="#SETTINGS" title="SETTINGS">SETTINGS</a>
                                    中的限制无法立即降低，这使端点暴露于可能超过新限制的对等方行为之下。尤其是在建立连接之后，客户端在知晓服务器设置之前可能会超出限制而并非明显的协议违规。</li>
                            </ul>
                        </div>
                        <div id="rfc.section.10.5.p.5">
                            <p>大多数可能被滥用以实施拒绝服务的特性（如 <a href="#SETTINGS" title="SETTINGS">SETTINGS</a>
                                更改、小帧、字段段压缩）都有合法用途。仅在不必要或过度使用这些特性时，它们才成为负担。</p>
                        </div>
                        <div id="rfc.section.10.5.p.6">
                            <p>不监控这些特性使用情况的端点将面临拒绝服务风险。实现<em class="bcp14">应</em>跟踪这些特性的使用并对其设置限制。端点<em
                                    class="bcp14">可以</em>将可疑活动视为类型为 <a href="#ENHANCE_YOUR_CALM">ENHANCE_YOUR_CALM</a>
                                的连接错误（见 <a href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1
                                    节</a>）。</p>
                        </div>
                        <section id="MaxFieldBlock">
                            <h4 id="rfc.section.10.5.1"><a href="#rfc.section.10.5.1">10.5.1.</a>&nbsp;<a
                                    href="#MaxFieldBlock">字段块大小限制</a></h4>
                            <div id="rfc.section.10.5.1.p.1">
                                <p>大型字段块（见 <a href="#FieldBlock" title="Field Section Compression and Decompression">第
                                        4.3
                                        节</a>）会导致实现承诺大量状态。用于路由的字段行可能出现在字段块的末尾，这阻止了将字段流式传输到其最终目的地。由于该顺序和其它原因（例如确保缓存正确性），端点可能需要缓冲整个字段块。因为字段块大小没有硬性上限，一些端点可能被迫为字段块承诺大量可用内存。
                                </p>
                            </div>
                            <div id="rfc.section.10.5.1.p.2">
                                <p>端点可以使用 <a href="#SETTINGS_MAX_HEADER_LIST_SIZE">SETTINGS_MAX_HEADER_LIST_SIZE</a>
                                    向对等方建议未压缩字段块大小可能适用的限制。该设置仅为建议，端点<em
                                        class="bcp14">可以</em>选择发送超过此限制的字段块并承担请求或响应被视为格式错误的风险。该设置是特定于连接的，因此任何请求或响应都可能遇到具有更低、未知限制的跃点。中间件可以尝试通过传递不同对等方提供的值来避免该问题，但它们没有义务这么做。
                                </p>
                            </div>
                            <div id="rfc.section.10.5.1.p.3">
                                <p>服务器若接收到其不愿处理的大字段块，可以返回 HTTP 431（Request Header Fields Too
                                    Large）状态码。客户端可以丢弃其无法处理的响应。必须对字段块进行处理以确保一致的连接状态，除非连接被关闭。</p>
                            </div>
                        </section>
                        <section id="connectDos">
                            <h4 id="rfc.section.10.5.2"><a href="#rfc.section.10.5.2">10.5.2.</a>&nbsp;<a
                                    href="#connectDos">CONNECT 相关问题</a></h4>
                            <div id="rfc.section.10.5.2.p.1">
                                <p>CONNECT 方法可能会对代理造成不成比例的负载，因为与创建和维护 TCP 连接相比，创建流的开销相对较小。代理在关闭承载 CONNECT 请求的流之后可能仍为该
                                    TCP 连接保留一些资源，因为外发的 TCP 连接可能仍处于 TIME_WAIT 状态。因此，代理不能仅依赖 <a
                                        href="#SETTINGS_MAX_CONCURRENT_STREAMS">SETTINGS_MAX_CONCURRENT_STREAMS</a> 来限制
                                    CONNECT 请求消耗的资源。</p>
                            </div>
                        </section>
                    </section>
                    <section id="n-use-of-compression">
                        <h3 id="rfc.section.10.6"><a href="#rfc.section.10.6">10.6.</a>&nbsp;<a
                                href="#n-use-of-compression">压缩使用</a></h3>
                        <div id="rfc.section.10.6.p.1">
                            <p>当秘密数据与攻击者可控数据在相同上下文中被压缩时，压缩可能允许攻击者恢复秘密数据。HTTP/2 支持字段行的压缩（见 <a href="#FieldBlock"
                                    title="Field Section Compression and Decompression">第 4.3 节</a>）；下列关注点同样适用于 HTTP
                                压缩内容编码的使用（见 RFC 9110 第 8.4.1 节）。</p>
                        </div>
                        <div id="rfc.section.10.6.p.2">
                            <p>已有针对压缩的可行攻击利用了 Web 的特性（例如 <a href="#BREACH"><cite
                                        title="BREACH: Reviving the CRIME Attack">BREACH</cite></a>）。攻击者诱导包含不同明文的多次请求，观察每次得到的密文长度，当对秘密的猜测正确时，所得到的密文长度会更短，从而泄露信息。
                            </p>
                        </div>
                        <div id="rfc.section.10.6.p.3">
                            <p>在安全信道上通信的实现<em
                                    class="bcp14">不得</em>压缩同时包含机密数据和攻击者可控数据的内容，除非对每个数据源使用了独立的压缩字典。如果无法可靠确定数据来源，则<em
                                    class="bcp14">不得</em>使用压缩。通用流压缩（例如 TLS 提供的）<em class="bcp14">不得</em>与 HTTP/2 一起使用（见
                                <a href="#TLSUsage" title="Use of TLS Features">第 9.2 节</a>）。
                            </p>
                        </div>
                        <div id="rfc.section.10.6.p.4">
                            <p>关于头字段压缩的更多注意事项见 <a href="#RFC7541"><cite
                                        title="HPACK: Header Compression for HTTP/2">HPACK</cite></a>。</p>
                        </div>
                    </section>
                    <section id="padding">
                        <h3 id="rfc.section.10.7"><a href="#rfc.section.10.7">10.7.</a>&nbsp;<a
                                href="#padding">填充的使用</a></h3>
                        <div id="rfc.section.10.7.p.1">
                            <p>HTTP/2 中的填充并非用于替代通用填充（例如 TLS 提供的填充）。冗余填充甚至可能适得其反。正确使用填充可能依赖于对被填充数据的具体了解。</p>
                        </div>
                        <div id="rfc.section.10.7.p.2">
                            <p>为缓解依赖于压缩的攻击，禁用或限制压缩可能比使用填充作为对策更可取。</p>
                        </div>
                        <div id="rfc.section.10.7.p.3">
                            <p>填充可用于模糊帧内容的精确大小，并用于缓解 HTTP 中的特定攻击——例如当压缩内容同时包含攻击者可控明文与秘密数据时（如 <a href="#BREACH"><cite
                                        title="BREACH: Reviving the CRIME Attack">BREACH</cite></a>）。</p>
                        </div>
                        <div id="rfc.section.10.7.p.4">
                            <p>使用填充可能产生低于直观预期的保护效果。充其量，填充只是通过增加攻击者需要观察的帧数来使其更难推断长度信息。不正确实现的填充方案容易被击破。尤其是，具有可预测分布的随机填充提供的保护非常有限；同样，将帧负载填充到固定大小会在帧负载大小跨越固定边界时泄露信息，如果攻击者可以控制明文，这种情况是可能的。
                            </p>
                        </div>
                        <div id="rfc.section.10.7.p.5">
                            <p>中间件<em class="bcp14">应</em>保留 <a href="#DATA" title="DATA">DATA</a> 帧的填充，但对于 <a
                                    href="#HEADERS" title="HEADERS">HEADERS</a> 和 <a href="#PUSH_PROMISE"
                                    title="PUSH_PROMISE">PUSH_PROMISE</a> 帧中间件<em
                                    class="bcp14">可以</em>去除填充。中间件改变帧填充量的一个合理原因是为了增强填充所提供的保护。</p>
                        </div>
                    </section>
                    <section id="n-privacy-considerations">
                        <h3 id="rfc.section.10.8"><a href="#rfc.section.10.8">10.8.</a>&nbsp;<a
                                href="#n-privacy-considerations">隐私考量</a></h3>
                        <div id="rfc.section.10.8.p.1">
                            <p>HTTP/2
                                的若干特性使观察者有机会随时间关联单个客户端或服务器的行为。这些包括设置的值、流量控制窗口的管理方式、为流分配优先级的方式、对刺激的反应时序，以及由设置控制的任何特性的处理方式。
                            </p>
                        </div>
                        <div id="rfc.section.10.8.p.2">
                            <p>由于这些在行为上创建了可观察的差异，它们可能被用于对特定客户端进行指纹识别，如 <a
                                    href="https://www.rfc-editor.org/rfc/rfc6973.html#section-3.2">RFC 6973 第 3.2 节</a>
                                所定义。</p>
                        </div>
                        <div id="rfc.section.10.8.p.3">
                            <p>HTTP/2 倾向于使用单个 TCP 连接，这允许关联用户在站点上的活动。为不同来源重用连接允许跨这些来源进行跟踪。</p>
                        </div>
                        <div id="rfc.section.10.8.p.4">
                            <p>由于 PING 和 SETTINGS 帧会引发即时响应，它们可被端点用于测量到对等方的延迟。在某些场景中，这可能具有隐私影响。</p>
                        </div>
                    </section>
                    <section id="n-remote-timing-attacks">
                        <h3 id="rfc.section.10.9"><a href="#rfc.section.10.9">10.9.</a>&nbsp;<a
                                href="#n-remote-timing-attacks">远程计时攻击</a></h3>
                        <div id="rfc.section.10.9.p.1">
                            <p>远程计时攻击通过观察服务器在处理使用秘密的数据的请求时所需时间的变化来提取秘密。HTTP/2 支持并发请求的创建和处理，这可以使攻击者更好地控制请求处理何时开始。多个
                                HTTP/2 请求可以包含在同一 IP 分组或 TLS 记录中。因此，HTTP/2
                                通过消除请求传递的可变性，仅留下请求顺序和响应的交付作为计时可变性的来源，从而使远程计时攻击更高效。</p>
                        </div>
                        <div id="rfc.section.10.9.p.2">
                            <p>确保处理时间不依赖于秘密值是防御任何形式计时攻击的最佳方法。</p>
                        </div>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="iana">
                    <h2 id="rfc.section.11" class="np"><a href="#rfc.section.11">11.</a>&nbsp;<a href="#iana">IANA
                            注意事项</a></h2>
                    <div id="rfc.section.11.p.1">
                        <p>此修订版的 HTTP/2 将 <span class="tt">HTTP2-Settings</span> 头字段和 <span class="tt">h2c</span>
                            升级标记（两者均在 <a href="#RFC7540"><cite
                                    title="Hypertext Transfer Protocol Version 2 (HTTP/2)">[RFC7540]</cite></a>
                            中定义）标记为已过时。</p>
                    </div>
                    <div id="rfc.section.11.p.2">
                        <p><a href="https://www.rfc-editor.org/rfc/rfc7540.html#section-11">Section 11</a> of <a
                                href="#RFC7540"><cite
                                    title="Hypertext Transfer Protocol Version 2 (HTTP/2)">[RFC7540]</cite></a>
                            登记了 <span class="tt">h2</span> 与 <span class="tt">h2c</span> 的 ALPN 标识符以及 <span
                                class="tt">PRI</span> HTTP 方法。RFC 7540 还为帧类型、设置和错误代码建立了登记表。这些注册和注册表适用于
                            HTTP/2，但在本文档中未重新定义。</p>
                    </div>
                    <div id="rfc.section.11.p.3">
                        <p>IANA 已在下列注册表中将对 RFC 7540 的引用更新为指向本文档：“TLS Application-Layer Protocol Negotiation (ALPN)
                            Protocol IDs”、“HTTP/2 Frame Type”、“HTTP/2 Settings”、“HTTP/2 Error Code” 和 “HTTP Method
                            Registry”。对 <span class="tt">PRI</span> 方法的注册已更新为参照 <a href="#preface"
                                title="HTTP/2 Connection Preface">Section 3.4</a>；所有其他节号保持不变。</p>
                    </div>
                    <div id="rfc.section.11.p.4">
                        <p>IANA 已更改 RFC 7540 中为试验性使用保留的 “HTTP/2 Frame Type” 和 “HTTP/2 Settings”
                            注册表部分的策略。注册表的这些部分将采用与各注册表其余部分相同的策略运行。</p>
                    </div>
                    <section id="HTTP2-Settings">
                        <h3 id="rfc.section.11.1"><a href="#rfc.section.11.1">11.1.</a>&nbsp;<a
                                href="#HTTP2-Settings">HTTP2-Settings 头字段注册</a></h3>
                        <div id="rfc.section.11.1.p.1" class="avoidbreakafter">
                            <p>本节将由 <a href="https://www.rfc-editor.org/rfc/rfc7540.html#section-11.5">Section 11.5</a>
                                of
                                <a href="#RFC7540"><cite
                                        title="Hypertext Transfer Protocol Version 2 (HTTP/2)">[RFC7540]</cite></a> 注册的
                                <span class="tt">HTTP2-Settings</span> 头字段在 “Hypertext Transfer Protocol (HTTP) Field
                                Name Registry” 中标注为已过时。该功能已被移除：参见 <a href="#versioning"
                                    title="HTTP/2 Version Identification">Section 3.1</a>。根据 <a
                                    href="https://www.rfc-editor.org/rfc/rfc9110.html#section-18.4">Section 18.4</a> of
                                <a href="#RFC9110"><cite title="HTTP Semantics">[HTTP]</cite></a> 的要求，注册信息已更新以包括必要的细节：
                            </p>
                        </div>
                        <div id="rfc.section.11.1.p.2">
                            <dl>
                                <dt>Field Name:</dt>
                                <dd style="margin-left: 1.5em">HTTP2-Settings</dd>
                                <dt>Status:</dt>
                                <dd style="margin-left: 1.5em">obsoleted</dd>
                                <dt>Reference:</dt>
                                <dd style="margin-left: 1.5em"><a
                                        href="https://www.rfc-editor.org/rfc/rfc7540.html#section-3.2.1">Section
                                        3.2.1</a> of <a href="#RFC7540"><cite
                                            title="Hypertext Transfer Protocol Version 2 (HTTP/2)">[RFC7540]</cite></a>&nbsp;
                                </dd>
                                <dt>Comments:</dt>
                                <dd style="margin-left: 1.5em">已过时；参见本文件的 <a href="#HTTP2-Settings"
                                        title="HTTP2-Settings Header Field Registration">第 11.1 节</a>。</dd>
                            </dl>
                        </div>
                    </section>
                    <section id="iana-h2c">
                        <h3 id="rfc.section.11.2"><a href="#rfc.section.11.2">11.2.</a>&nbsp;<a href="#iana-h2c">h2c
                                升级标记</a></h3>
                        <div id="rfc.section.11.2.p.1" class="avoidbreakafter">
                            <p>本节记录了由 <a href="https://www.rfc-editor.org/rfc/rfc7540.html#section-11.8">Section
                                    11.8</a> of
                                <a href="#RFC7540"><cite
                                        title="Hypertext Transfer Protocol Version 2 (HTTP/2)">[RFC7540]</cite></a> 在
                                “Hypertext Transfer Protocol (HTTP) Upgrade Token Registry” 中注册的 <span
                                    class="tt">h2c</span> 升级标记为已过时。该功能已被移除：参见 <a href="#versioning"
                                    title="HTTP/2 Version Identification">Section 3.1</a>。注册信息更新如下：
                            </p>
                        </div>
                        <div id="rfc.section.11.2.p.2">
                            <dl>
                                <dt>Value:</dt>
                                <dd style="margin-left: 1.5em">h2c</dd>
                                <dt>Description:</dt>
                                <dd style="margin-left: 1.5em">(OBSOLETE) Hypertext Transfer Protocol version 2 (HTTP/2)
                                </dd>
                                <dt>Expected Version Tokens:</dt>
                                <dd style="margin-left: 1.5em">None</dd>
                                <dt>Reference:</dt>
                                <dd style="margin-left: 1.5em"><a href="#versioning"
                                        title="HTTP/2 Version Identification">Section 3.1</a> of this document</dd>
                            </dl>
                        </div>
                    </section>
                </section>
                <section class="np">
                    <div id="rfc.references">
                        <h2 id="rfc.section.12"><a href="#rfc.section.12">12.</a> 参考文献</h2>
                        <section>
                            <div id="rfc.references.2">
                                <h3 id="rfc.section.12.1"><a href="#rfc.section.12.1">12.1.</a> 规范性参考文献
                                </h3>
                                <dl class="dl-horizontal">
                                    <dt id="RFC9111">[<a href="#RFC9111" class="smpl">CACHING</a>]</dt>
                                    <dd>Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke, Ed., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc9111.html">HTTP Caching</a>”, <a
                                            href="https://www.rfc-editor.org/info/std98">STD 98</a>, RFC 9111, <a
                                            href="https://dx.doi.org/10.17487/RFC9111">DOI 10.17487/RFC9111</a>, June
                                        2022, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc9111">https://www.rfc-editor.org/info/rfc9111</a>&gt;.
                                    </dd>
                                    <dt id="RFC7541">[<a href="#RFC7541" class="smpl">COMPRESSION</a>]</dt>
                                    <dd>Peon, R. and H. Ruellan, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc7541.html">HPACK: Header Compression
                                            for HTTP/2</a>”, RFC 7541, <a href="https://dx.doi.org/10.17487/RFC7541">DOI
                                            10.17487/RFC7541</a>, May 2015, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc7541">https://www.rfc-editor.org/info/rfc7541</a>&gt;.
                                    </dd>
                                    <dt id="RFC6265">[<a href="#RFC6265" class="smpl">COOKIE</a>]</dt>
                                    <dd>Barth, A., “<a href="https://www.rfc-editor.org/rfc/rfc6265.html">HTTP State
                                            Management Mechanism</a>”, RFC 6265, <a
                                            href="https://dx.doi.org/10.17487/RFC6265">DOI 10.17487/RFC6265</a>, April
                                        2011, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc6265">https://www.rfc-editor.org/info/rfc6265</a>&gt;.
                                    </dd>
                                    <dt id="RFC9110">[<a href="#RFC9110" class="smpl">HTTP</a>]</dt>
                                    <dd>Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke, Ed., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc9110.html">HTTP Semantics</a>”, <a
                                            href="https://www.rfc-editor.org/info/std97">STD 97</a>, RFC 9110, <a
                                            href="https://dx.doi.org/10.17487/RFC9110">DOI 10.17487/RFC9110</a>, June
                                        2022, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc9110">https://www.rfc-editor.org/info/rfc9110</a>&gt;.
                                    </dd>
                                    <dt id="RFC9000">[<a href="#RFC9000" class="smpl">QUIC</a>]</dt>
                                    <dd>Iyengar, J., Ed. and M. Thomson, Ed., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc9000.html">QUIC: A UDP-Based
                                            Multiplexed and Secure Transport</a>”, RFC 9000, <a
                                            href="https://dx.doi.org/10.17487/RFC9000">DOI 10.17487/RFC9000</a>, May
                                        2021, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc9000">https://www.rfc-editor.org/info/rfc9000</a>&gt;.
                                    </dd>
                                    <dt id="RFC2119">[<a href="#RFC2119" class="smpl">RFC2119</a>]</dt>
                                    <dd>Bradner, S., “<a href="https://www.rfc-editor.org/rfc/rfc2119.html">Key words
                                            for use in RFCs to Indicate Requirement Levels</a>”, <a
                                            href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>, RFC 2119, <a
                                            href="https://dx.doi.org/10.17487/RFC2119">DOI 10.17487/RFC2119</a>, March
                                        1997, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.
                                    </dd>
                                    <dt id="RFC3986">[<a href="#RFC3986" class="smpl">RFC3986</a>]</dt>
                                    <dd>Berners-Lee, T., Fielding, R., and L. Masinter, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc3986.html">Uniform Resource
                                            Identifier (URI): Generic Syntax</a>”, <a
                                            href="https://www.rfc-editor.org/info/std66">STD 66</a>, RFC 3986, <a
                                            href="https://dx.doi.org/10.17487/RFC3986">DOI 10.17487/RFC3986</a>, January
                                        2005, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;.
                                    </dd>
                                    <dt id="RFC8174">[<a href="#RFC8174" class="smpl">RFC8174</a>]</dt>
                                    <dd>Leiba, B., “<a href="https://www.rfc-editor.org/rfc/rfc8174.html">Ambiguity of
                                            Uppercase vs Lowercase in RFC 2119 Key Words</a>”, <a
                                            href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>, RFC 8174, <a
                                            href="https://dx.doi.org/10.17487/RFC8174">DOI 10.17487/RFC8174</a>, May
                                        2017, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.
                                    </dd>
                                    <dt id="RFC8422">[<a href="#RFC8422" class="smpl">RFC8422</a>]</dt>
                                    <dd>Nir, Y., Josefsson, S., and M. Pegourie-Gonnard, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc8422.html">Elliptic Curve
                                            Cryptography (ECC) Cipher Suites for Transport Layer Security (TLS) Versions
                                            1.2 and Earlier</a>”, RFC 8422, <a
                                            href="https://dx.doi.org/10.17487/RFC8422">DOI 10.17487/RFC8422</a>, August
                                        2018, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8422">https://www.rfc-editor.org/info/rfc8422</a>&gt;.
                                    </dd>
                                    <dt id="RFC8470">[<a href="#RFC8470" class="smpl">RFC8470</a>]</dt>
                                    <dd>Thomson, M., Nottingham, M., and W. Tarreau, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc8470.html">Using Early Data in
                                            HTTP</a>”, RFC 8470, <a href="https://dx.doi.org/10.17487/RFC8470">DOI
                                            10.17487/RFC8470</a>, September 2018, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8470">https://www.rfc-editor.org/info/rfc8470</a>&gt;.
                                    </dd>
                                    <dt id="RFC0793">[<a href="#RFC0793" class="smpl">TCP</a>]</dt>
                                    <dd>Postel, J., “<a href="https://www.rfc-editor.org/rfc/rfc793.html">Transmission
                                            Control Protocol</a>”, <a href="https://www.rfc-editor.org/info/std7">STD
                                            7</a>, RFC 793, <a href="https://dx.doi.org/10.17487/RFC0793">DOI
                                            10.17487/RFC0793</a>, September 1981, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc793">https://www.rfc-editor.org/info/rfc793</a>&gt;.
                                    </dd>
                                    <dt id="RFC7301">[<a href="#RFC7301" class="smpl">TLS-ALPN</a>]</dt>
                                    <dd>Friedl, S., Popov, A., Langley, A., and E. Stephan, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc7301.html">Transport Layer Security
                                            (TLS) Application-Layer Protocol Negotiation Extension</a>”, RFC 7301, <a
                                            href="https://dx.doi.org/10.17487/RFC7301">DOI 10.17487/RFC7301</a>, July
                                        2014, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc7301">https://www.rfc-editor.org/info/rfc7301</a>&gt;.
                                    </dd>
                                    <dt id="RFC5289">[<a href="#RFC5289" class="smpl">TLS-ECDHE</a>]</dt>
                                    <dd>Rescorla, E., “<a href="https://www.rfc-editor.org/rfc/rfc5289.html">TLS
                                            Elliptic Curve Cipher Suites with SHA-256/384 and AES Galois Counter Mode
                                            (GCM)</a>”, RFC 5289, <a href="https://dx.doi.org/10.17487/RFC5289">DOI
                                            10.17487/RFC5289</a>, August 2008, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc5289">https://www.rfc-editor.org/info/rfc5289</a>&gt;.
                                    </dd>
                                    <dt id="RFC6066">[<a href="#RFC6066" class="smpl">TLS-EXT</a>]</dt>
                                    <dd>Eastlake 3rd, D., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc6066.html">Transport
                                            Layer Security
                                            (TLS) Extensions: Extension Definitions</a>”, RFC 6066, <a
                                            href="https://dx.doi.org/10.17487/RFC6066">DOI 10.17487/RFC6066</a>, January
                                        2011, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc6066">https://www.rfc-editor.org/info/rfc6066</a>&gt;.
                                    </dd>
                                    <dt id="RFC5246">[<a href="#RFC5246" class="smpl">TLS12</a>]</dt>
                                    <dd>Dierks, T. and E. Rescorla, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc5246.html">The Transport Layer
                                            Security (TLS) Protocol Version 1.2</a>”, RFC 5246, <a
                                            href="https://dx.doi.org/10.17487/RFC5246">DOI 10.17487/RFC5246</a>, August
                                        2008, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc5246">https://www.rfc-editor.org/info/rfc5246</a>&gt;.
                                    </dd>
                                    <dt id="RFC8446">[<a href="#RFC8446" class="smpl">TLS13</a>]</dt>
                                    <dd>Rescorla, E., “<a href="https://www.rfc-editor.org/rfc/rfc8446.html">The
                                            Transport Layer Security (TLS) Protocol Version 1.3</a>”, RFC 8446, <a
                                            href="https://dx.doi.org/10.17487/RFC8446">DOI 10.17487/RFC8446</a>, August
                                        2018, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;.
                                    </dd>
                                    <dt id="RFC7525">[<a href="#RFC7525" class="smpl">TLSBCP</a>]</dt>
                                    <dd>Sheffer, Y., Holz, R., and P. Saint-Andre, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc7525.html">Recommendations for
                                            Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer
                                            Security (DTLS)</a>”, <a href="https://www.rfc-editor.org/info/bcp195">BCP
                                            195</a>, RFC 7525, <a href="https://dx.doi.org/10.17487/RFC7525">DOI
                                            10.17487/RFC7525</a>, May 2015, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc7525">https://www.rfc-editor.org/info/rfc7525</a>&gt;.
                                    </dd>
                                </dl>
                            </div>
                        </section>
                        <section>
                            <div id="rfc.references.3">
                                <h3 id="rfc.section.12.2"><a href="#rfc.section.12.2">12.2.</a> 参考资料（补充）</h3>
                                <dl class="dl-horizontal">
                                    <dt id="RFC7838">[<a href="#RFC7838" class="smpl">ALT-SVC</a>]</dt>
                                    <dd>Nottingham, M., McManus, P., and J. Reschke, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc7838.html">HTTP Alternative
                                            Services</a>”, RFC 7838, <a href="https://dx.doi.org/10.17487/RFC7838">DOI
                                            10.17487/RFC7838</a>, April 2016, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc7838">https://www.rfc-editor.org/info/rfc7838</a>&gt;.
                                    </dd>
                                    <dt id="BREACH">[<a href="#BREACH" class="smpl">BREACH</a>]</dt>
                                    <dd>Gluck, Y., Harris, N., and A. Prado, “<a
                                            href="https://breachattack.com/resources/BREACH%20-%20SSL,%20gone%20in%2030%20seconds.pdf">BREACH:
                                            Reviving the CRIME Attack</a>”, July 2013, &lt;<a
                                            href="https://breachattack.com/resources/BREACH%20-%20SSL,%20gone%20in%2030%20seconds.pdf">https://breachattack.com/resources/BREACH%20-%20SSL,%20gone%20in%2030%20seconds.pdf</a>&gt;.
                                    </dd>
                                    <dt id="RFC8499">[<a href="#RFC8499" class="smpl">DNS-TERMS</a>]</dt>
                                    <dd>Hoffman, P., Sullivan, A., and K. Fujiwara, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc8499.html">DNS Terminology</a>”, <a
                                            href="https://www.rfc-editor.org/info/bcp219">BCP 219</a>, RFC 8499, <a
                                            href="https://dx.doi.org/10.17487/RFC8499">DOI 10.17487/RFC8499</a>, January
                                        2019, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8499">https://www.rfc-editor.org/info/rfc8499</a>&gt;.
                                    </dd>
                                    <dt id="RFC9218">[<a href="#RFC9218" class="smpl">HTTP-PRIORITY</a>]</dt>
                                    <dd>Oku, K. and L. Pardue, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc9218.html">Extensible Prioritization
                                            Scheme for HTTP</a>”, RFC 9218, <a
                                            href="https://dx.doi.org/10.17487/RFC9218">DOI 10.17487/RFC9218</a>, June
                                        2022, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc9218">https://www.rfc-editor.org/info/rfc9218</a>&gt;.
                                    </dd>
                                    <dt id="RFC9112">[<a href="#RFC9112" class="smpl">HTTP/1.1</a>]</dt>
                                    <dd>Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke, Ed., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc9112.html">HTTP/1.1</a>”, <a
                                            href="https://www.rfc-editor.org/info/std99">STD 99</a>, RFC 9112, <a
                                            href="https://dx.doi.org/10.17487/RFC9112">DOI 10.17487/RFC9112</a>, June
                                        2022, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc9112">https://www.rfc-editor.org/info/rfc9112</a>&gt;.
                                    </dd>
                                    <dt id="NFLX-2019-002">[<a href="#NFLX-2019-002" class="smpl">NFLX-2019-002</a>]
                                    </dt>
                                    <dd>Netflix, “<a
                                            href="https://github.com/Netflix/security-bulletins/blob/master/advisories/third-party/2019-002.md">HTTP/2
                                            Denial of Service Advisory</a>”, August 2019, &lt;<a
                                            href="https://github.com/Netflix/security-bulletins/blob/master/advisories/third-party/2019-002.md">https://github.com/Netflix/security-bulletins/blob/master/advisories/third-party/2019-002.md</a>&gt;.
                                    </dd>
                                    <dt id="RFC6973">[<a href="#RFC6973" class="smpl">PRIVACY</a>]</dt>
                                    <dd>Cooper, A., Tschofenig, H., Aboba, B., Peterson, J., Morris, J., Hansen, M., and
                                        R. Smith, “<a href="https://www.rfc-editor.org/rfc/rfc6973.html">Privacy
                                            Considerations for Internet Protocols</a>”, RFC 6973, <a
                                            href="https://dx.doi.org/10.17487/RFC6973">DOI 10.17487/RFC6973</a>, July
                                        2013, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc6973">https://www.rfc-editor.org/info/rfc6973</a>&gt;.
                                    </dd>
                                    <dt id="RFC1122">[<a href="#RFC1122" class="smpl">RFC1122</a>]</dt>
                                    <dd>Braden, R., Ed., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc1122.html">Requirements
                                            for Internet
                                            Hosts - Communication Layers</a>”, <a
                                            href="https://www.rfc-editor.org/info/std3">STD 3</a>, RFC 1122, <a
                                            href="https://dx.doi.org/10.17487/RFC1122">DOI 10.17487/RFC1122</a>, October
                                        1989, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc1122">https://www.rfc-editor.org/info/rfc1122</a>&gt;.
                                    </dd>
                                    <dt id="RFC3749">[<a href="#RFC3749" class="smpl">RFC3749</a>]</dt>
                                    <dd>Hollenbeck, S., “<a href="https://www.rfc-editor.org/rfc/rfc3749.html">Transport
                                            Layer Security Protocol Compression Methods</a>”, RFC 3749, <a
                                            href="https://dx.doi.org/10.17487/RFC3749">DOI 10.17487/RFC3749</a>, May
                                        2004, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc3749">https://www.rfc-editor.org/info/rfc3749</a>&gt;.
                                    </dd>
                                    <dt id="RFC6125">[<a href="#RFC6125" class="smpl">RFC6125</a>]</dt>
                                    <dd>Saint-Andre, P. and J. Hodges, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc6125.html">Representation and
                                            Verification of Domain-Based Application Service Identity within Internet
                                            Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of
                                            Transport Layer Security (TLS)</a>”, RFC 6125, <a
                                            href="https://dx.doi.org/10.17487/RFC6125">DOI 10.17487/RFC6125</a>, March
                                        2011, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc6125">https://www.rfc-editor.org/info/rfc6125</a>&gt;.
                                    </dd>
                                    <dt id="RFC6585">[<a href="#RFC6585" class="smpl">RFC6585</a>]</dt>
                                    <dd>Nottingham, M. and R. Fielding, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc6585.html">Additional HTTP Status
                                            Codes</a>”, RFC 6585, <a href="https://dx.doi.org/10.17487/RFC6585">DOI
                                            10.17487/RFC6585</a>, April 2012, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc6585">https://www.rfc-editor.org/info/rfc6585</a>&gt;.
                                    </dd>
                                    <dt id="RFC7323">[<a href="#RFC7323" class="smpl">RFC7323</a>]</dt>
                                    <dd>Borman, D., Braden, B., Jacobson, V., and R. Scheffenegger, Ed., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc7323.html">TCP Extensions for High
                                            Performance</a>”, RFC 7323, <a
                                            href="https://dx.doi.org/10.17487/RFC7323">DOI
                                            10.17487/RFC7323</a>,
                                        September 2014, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc7323">https://www.rfc-editor.org/info/rfc7323</a>&gt;.
                                    </dd>
                                    <dt id="RFC7540">[<a href="#RFC7540" class="smpl">RFC7540</a>]</dt>
                                    <dd>Belshe, M., Peon, R., and M. Thomson, Ed., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc7540.html">Hypertext Transfer
                                            Protocol Version 2 (HTTP/2)</a>”, RFC 7540, <a
                                            href="https://dx.doi.org/10.17487/RFC7540">DOI 10.17487/RFC7540</a>, May
                                        2015, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc7540">https://www.rfc-editor.org/info/rfc7540</a>&gt;.
                                    </dd>
                                    <dt id="RFC8441">[<a href="#RFC8441" class="smpl">RFC8441</a>]</dt>
                                    <dd>McManus, P., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc8441.html">Bootstrapping
                                            WebSockets
                                            with HTTP/2</a>”, RFC 8441, <a
                                            href="https://dx.doi.org/10.17487/RFC8441">DOI
                                            10.17487/RFC8441</a>,
                                        September 2018, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8441">https://www.rfc-editor.org/info/rfc8441</a>&gt;.
                                    </dd>
                                    <dt id="RFC8740">[<a href="#RFC8740" class="smpl">RFC8740</a>]</dt>
                                    <dd>Benjamin, D., “<a href="https://www.rfc-editor.org/rfc/rfc8740.html">Using TLS
                                            1.3 with HTTP/2</a>”, RFC 8740, <a
                                            href="https://dx.doi.org/10.17487/RFC8740">DOI 10.17487/RFC8740</a>,
                                        February 2020, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8740">https://www.rfc-editor.org/info/rfc8740</a>&gt;.
                                    </dd>
                                    <dt id="TALKING">[<a href="#TALKING" class="smpl">TALKING</a>]</dt>
                                    <dd>Huang, L., Chen, E., Barth, A., Rescorla, E., and C. Jackson, “<a
                                            href="https://www.adambarth.com/papers/2011/huang-chen-barth-rescorla-jackson.pdf">Talking
                                            to Yourself for Fun and Profit</a>”, 2011, &lt;<a
                                            href="https://www.adambarth.com/papers/2011/huang-chen-barth-rescorla-jackson.pdf">https://www.adambarth.com/papers/2011/huang-chen-barth-rescorla-jackson.pdf</a>&gt;.
                                    </dd>
                                </dl>
                            </div>
                        </section>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="BadCipherSuites">
                    <h2 id="rfc.section.A" class="np"><a href="#rfc.section.A">附录 A.</a>&nbsp;<a
                            href="#BadCipherSuites">禁止的 TLS 1.2 密码套件</a></h2>
                    <div id="rfc.section.A.p.1" class="avoidbreakafter">
                        <p>HTTP/2 实现<em class="bcp14">可以</em>将使用 TLS 1.2 协商下列任一密码套件视为类型为 <a
                                href="#INADEQUATE_SECURITY">INADEQUATE_SECURITY</a> 的连接错误（参见 <a
                                href="#ConnectionErrorHandler" title="Connection Error Handling">第 5.4.1 节</a>）：</p>
                    </div>
                    <div id="rfc.section.A.p.2">
                        <ul>
                            <li>TLS_NULL_WITH_NULL_NULL</li>
                            <li>TLS_RSA_WITH_NULL_MD5</li>
                            <li>TLS_RSA_WITH_NULL_SHA</li>
                            <li>TLS_RSA_EXPORT_WITH_RC4_40_MD5</li>
                            <li>TLS_RSA_WITH_RC4_128_MD5</li>
                            <li>TLS_RSA_WITH_RC4_128_SHA</li>
                            <li>TLS_RSA_EXPORT_WITH_RC2_CBC_40_MD5</li>
                            <li>TLS_RSA_WITH_IDEA_CBC_SHA</li>
                            <li>TLS_RSA_EXPORT_WITH_DES40_CBC_SHA</li>
                            <li>TLS_RSA_WITH_DES_CBC_SHA</li>
                            <li>TLS_RSA_WITH_3DES_EDE_CBC_SHA</li>
                            <li>TLS_DH_DSS_EXPORT_WITH_DES40_CBC_SHA</li>
                            <li>TLS_DH_DSS_WITH_DES_CBC_SHA</li>
                            <li>TLS_DH_DSS_WITH_3DES_EDE_CBC_SHA</li>
                            <li>TLS_DH_RSA_EXPORT_WITH_DES40_CBC_SHA</li>
                            <li>TLS_DH_RSA_WITH_DES_CBC_SHA</li>
                            <li>TLS_DH_RSA_WITH_3DES_EDE_CBC_SHA</li>
                            <li>TLS_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA</li>
                            <li>TLS_DHE_DSS_WITH_DES_CBC_SHA</li>
                            <li>TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA</li>
                            <li>TLS_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA</li>
                            <li>TLS_DHE_RSA_WITH_DES_CBC_SHA</li>
                            <li>TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA</li>
                            <li>TLS_DH_anon_EXPORT_WITH_RC4_40_MD5</li>
                            <li>TLS_DH_anon_WITH_RC4_128_MD5</li>
                            <li>TLS_DH_anon_EXPORT_WITH_DES40_CBC_SHA</li>
                            <li>TLS_DH_anon_WITH_DES_CBC_SHA</li>
                            <li>TLS_DH_anon_WITH_3DES_EDE_CBC_SHA</li>
                            <li>TLS_KRB5_WITH_DES_CBC_SHA</li>
                            <li>TLS_KRB5_WITH_3DES_EDE_CBC_SHA</li>
                            <li>TLS_KRB5_WITH_RC4_128_SHA</li>
                            <li>TLS_KRB5_WITH_IDEA_CBC_SHA</li>
                            <li>TLS_KRB5_WITH_DES_CBC_MD5</li>
                            <li>TLS_KRB5_WITH_3DES_EDE_CBC_MD5</li>
                            <li>TLS_KRB5_WITH_RC4_128_MD5</li>
                            <li>TLS_KRB5_WITH_IDEA_CBC_MD5</li>
                            <li>TLS_KRB5_EXPORT_WITH_DES_CBC_40_SHA</li>
                            <li>TLS_KRB5_EXPORT_WITH_RC2_CBC_40_SHA</li>
                            <li>TLS_KRB5_EXPORT_WITH_RC4_40_SHA</li>
                            <li>TLS_KRB5_EXPORT_WITH_DES_CBC_40_MD5</li>
                            <li>TLS_KRB5_EXPORT_WITH_RC2_CBC_40_MD5</li>
                            <li>TLS_KRB5_EXPORT_WITH_RC4_40_MD5</li>
                            <li>TLS_PSK_WITH_NULL_SHA</li>
                            <li>TLS_DHE_PSK_WITH_NULL_SHA</li>
                            <li>TLS_RSA_PSK_WITH_NULL_SHA</li>
                            <li>TLS_RSA_WITH_AES_128_CBC_SHA</li>
                            <li>TLS_DH_DSS_WITH_AES_128_CBC_SHA</li>
                            <li>TLS_DH_RSA_WITH_AES_128_CBC_SHA</li>
                            <li>TLS_DHE_DSS_WITH_AES_128_CBC_SHA</li>
                            <li>TLS_DHE_RSA_WITH_AES_128_CBC_SHA</li>
                            <li>TLS_DH_anon_WITH_AES_128_CBC_SHA</li>
                            <li>TLS_RSA_WITH_AES_256_CBC_SHA</li>
                            <li>TLS_DH_DSS_WITH_AES_256_CBC_SHA</li>
                            <li>TLS_DH_RSA_WITH_AES_256_CBC_SHA</li>
                            <li>TLS_DHE_DSS_WITH_AES_256_CBC_SHA</li>
                            <li>TLS_DHE_RSA_WITH_AES_256_CBC_SHA</li>
                            <li>TLS_DH_anon_WITH_AES_256_CBC_SHA</li>
                            <li>TLS_RSA_WITH_NULL_SHA256</li>
                            <li>TLS_RSA_WITH_AES_128_CBC_SHA256</li>
                            <li>TLS_RSA_WITH_AES_256_CBC_SHA256</li>
                            <li>TLS_DH_DSS_WITH_AES_128_CBC_SHA256</li>
                            <li>TLS_DH_RSA_WITH_AES_128_CBC_SHA256</li>
                            <li>TLS_DHE_DSS_WITH_AES_128_CBC_SHA256</li>
                            <li>TLS_RSA_WITH_CAMELLIA_128_CBC_SHA</li>
                            <li>TLS_DH_DSS_WITH_CAMELLIA_128_CBC_SHA</li>
                            <li>TLS_DH_RSA_WITH_CAMELLIA_128_CBC_SHA</li>
                            <li>TLS_DHE_DSS_WITH_CAMELLIA_128_CBC_SHA</li>
                            <li>TLS_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA</li>
                            <li>TLS_DH_anon_WITH_CAMELLIA_128_CBC_SHA</li>
                            <li>TLS_DHE_RSA_WITH_AES_128_CBC_SHA256</li>
                            <li>TLS_DH_DSS_WITH_AES_256_CBC_SHA256</li>
                            <li>TLS_DH_RSA_WITH_AES_256_CBC_SHA256</li>
                            <li>TLS_DHE_DSS_WITH_AES_256_CBC_SHA256</li>
                            <li>TLS_DHE_RSA_WITH_AES_256_CBC_SHA256</li>
                            <li>TLS_DH_anon_WITH_AES_128_CBC_SHA256</li>
                            <li>TLS_DH_anon_WITH_AES_256_CBC_SHA256</li>
                            <li>TLS_RSA_WITH_CAMELLIA_256_CBC_SHA</li>
                            <li>TLS_DH_DSS_WITH_CAMELLIA_256_CBC_SHA</li>
                            <li>TLS_DH_RSA_WITH_CAMELLIA_256_CBC_SHA</li>
                            <li>TLS_DHE_DSS_WITH_CAMELLIA_256_CBC_SHA</li>
                            <li>TLS_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA</li>
                            <li>TLS_DH_anon_WITH_CAMELLIA_256_CBC_SHA</li>
                            <li>TLS_PSK_WITH_RC4_128_SHA</li>
                            <li>TLS_PSK_WITH_3DES_EDE_CBC_SHA</li>
                            <li>TLS_PSK_WITH_AES_128_CBC_SHA</li>
                            <li>TLS_PSK_WITH_AES_256_CBC_SHA</li>
                            <li>TLS_DHE_PSK_WITH_RC4_128_SHA</li>
                            <li>TLS_DHE_PSK_WITH_3DES_EDE_CBC_SHA</li>
                            <li>TLS_DHE_PSK_WITH_AES_128_CBC_SHA</li>
                            <li>TLS_DHE_PSK_WITH_AES_256_CBC_SHA</li>
                            <li>TLS_RSA_PSK_WITH_RC4_128_SHA</li>
                            <li>TLS_RSA_PSK_WITH_3DES_EDE_CBC_SHA</li>
                            <li>TLS_RSA_PSK_WITH_AES_128_CBC_SHA</li>
                            <li>TLS_RSA_PSK_WITH_AES_256_CBC_SHA</li>
                            <li>TLS_RSA_WITH_SEED_CBC_SHA</li>
                            <li>TLS_DH_DSS_WITH_SEED_CBC_SHA</li>
                            <li>TLS_DH_RSA_WITH_SEED_CBC_SHA</li>
                            <li>TLS_DHE_DSS_WITH_SEED_CBC_SHA</li>
                            <li>TLS_DHE_RSA_WITH_SEED_CBC_SHA</li>
                            <li>TLS_DH_anon_WITH_SEED_CBC_SHA</li>
                            <li>TLS_RSA_WITH_AES_128_GCM_SHA256</li>
                            <li>TLS_RSA_WITH_AES_256_GCM_SHA384</li>
                            <li>TLS_DH_RSA_WITH_AES_128_GCM_SHA256</li>
                            <li>TLS_DH_RSA_WITH_AES_256_GCM_SHA384</li>
                            <li>TLS_DH_DSS_WITH_AES_128_GCM_SHA256</li>
                            <li>TLS_DH_DSS_WITH_AES_256_GCM_SHA384</li>
                            <li>TLS_DH_anon_WITH_AES_128_GCM_SHA256</li>
                            <li>TLS_DH_anon_WITH_AES_256_GCM_SHA384</li>
                            <li>TLS_PSK_WITH_AES_128_GCM_SHA256</li>
                            <li>TLS_PSK_WITH_AES_256_GCM_SHA384</li>
                            <li>TLS_RSA_PSK_WITH_AES_128_GCM_SHA256</li>
                            <li>TLS_RSA_PSK_WITH_AES_256_GCM_SHA384</li>
                            <li>TLS_PSK_WITH_AES_128_CBC_SHA256</li>
                            <li>TLS_PSK_WITH_AES_256_CBC_SHA384</li>
                            <li>TLS_PSK_WITH_NULL_SHA256</li>
                            <li>TLS_PSK_WITH_NULL_SHA384</li>
                            <li>TLS_DHE_PSK_WITH_AES_128_CBC_SHA256</li>
                            <li>TLS_DHE_PSK_WITH_AES_256_CBC_SHA384</li>
                            <li>TLS_DHE_PSK_WITH_NULL_SHA256</li>
                            <li>TLS_DHE_PSK_WITH_NULL_SHA384</li>
                            <li>TLS_RSA_PSK_WITH_AES_128_CBC_SHA256</li>
                            <li>TLS_RSA_PSK_WITH_AES_256_CBC_SHA384</li>
                            <li>TLS_RSA_PSK_WITH_NULL_SHA256</li>
                            <li>TLS_RSA_PSK_WITH_NULL_SHA384</li>
                            <li>TLS_RSA_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_DH_DSS_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_DH_RSA_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_DHE_DSS_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_DH_anon_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_RSA_WITH_CAMELLIA_256_CBC_SHA256</li>
                            <li>TLS_DH_DSS_WITH_CAMELLIA_256_CBC_SHA256</li>
                            <li>TLS_DH_RSA_WITH_CAMELLIA_256_CBC_SHA256</li>
                            <li>TLS_DHE_DSS_WITH_CAMELLIA_256_CBC_SHA256</li>
                            <li>TLS_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA256</li>
                            <li>TLS_DH_anon_WITH_CAMELLIA_256_CBC_SHA256</li>
                            <li>TLS_RSA_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_RSA_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_DH_DSS_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_DH_DSS_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_DH_RSA_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_DH_RSA_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_DHE_DSS_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_DHE_DSS_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_DHE_RSA_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_DHE_RSA_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_DH_anon_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_DH_anon_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_ECDHE_ECDSA_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_ECDHE_ECDSA_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_ECDH_ECDSA_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_ECDH_ECDSA_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_ECDHE_RSA_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_ECDHE_RSA_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_ECDH_RSA_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_ECDH_RSA_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_RSA_WITH_ARIA_128_GCM_SHA256</li>
                            <li>TLS_RSA_WITH_ARIA_256_GCM_SHA384</li>
                            <li>TLS_DH_RSA_WITH_ARIA_128_GCM_SHA256</li>
                            <li>TLS_DH_RSA_WITH_ARIA_256_GCM_SHA384</li>
                            <li>TLS_DH_DSS_WITH_ARIA_128_GCM_SHA256</li>
                            <li>TLS_DH_DSS_WITH_ARIA_256_GCM_SHA384</li>
                            <li>TLS_DH_anon_WITH_ARIA_128_GCM_SHA256</li>
                            <li>TLS_DH_anon_WITH_ARIA_256_GCM_SHA384</li>
                            <li>TLS_ECDH_ECDSA_WITH_ARIA_128_GCM_SHA256</li>
                            <li>TLS_ECDH_ECDSA_WITH_ARIA_256_GCM_SHA384</li>
                            <li>TLS_ECDH_RSA_WITH_ARIA_128_GCM_SHA256</li>
                            <li>TLS_ECDH_RSA_WITH_ARIA_256_GCM_SHA384</li>
                            <li>TLS_PSK_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_PSK_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_DHE_PSK_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_DHE_PSK_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_RSA_PSK_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_RSA_PSK_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_PSK_WITH_ARIA_128_GCM_SHA256</li>
                            <li>TLS_PSK_WITH_ARIA_256_GCM_SHA384</li>
                            <li>TLS_RSA_PSK_WITH_ARIA_128_GCM_SHA256</li>
                            <li>TLS_RSA_PSK_WITH_ARIA_256_GCM_SHA384</li>
                            <li>TLS_ECDHE_PSK_WITH_ARIA_128_CBC_SHA256</li>
                            <li>TLS_ECDHE_PSK_WITH_ARIA_256_CBC_SHA384</li>
                            <li>TLS_ECDHE_ECDSA_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_ECDHE_ECDSA_WITH_CAMELLIA_256_CBC_SHA384</li>
                            <li>TLS_ECDH_ECDSA_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_ECDH_ECDSA_WITH_CAMELLIA_256_CBC_SHA384</li>
                            <li>TLS_ECDHE_RSA_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_ECDHE_RSA_WITH_CAMELLIA_256_CBC_SHA384</li>
                            <li>TLS_ECDH_RSA_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_ECDH_RSA_WITH_CAMELLIA_256_CBC_SHA384</li>
                            <li>TLS_RSA_WITH_CAMELLIA_128_GCM_SHA256</li>
                            <li>TLS_RSA_WITH_CAMELLIA_256_GCM_SHA384</li>
                            <li>TLS_DH_RSA_WITH_CAMELLIA_128_GCM_SHA256</li>
                            <li>TLS_DH_RSA_WITH_CAMELLIA_256_GCM_SHA384</li>
                            <li>TLS_DH_DSS_WITH_CAMELLIA_128_GCM_SHA256</li>
                            <li>TLS_DH_DSS_WITH_CAMELLIA_256_GCM_SHA384</li>
                            <li>TLS_DH_anon_WITH_CAMELLIA_128_GCM_SHA256</li>
                            <li>TLS_DH_anon_WITH_CAMELLIA_256_GCM_SHA384</li>
                            <li>TLS_ECDH_ECDSA_WITH_CAMELLIA_128_GCM_SHA256</li>
                            <li>TLS_ECDH_ECDSA_WITH_CAMELLIA_256_GCM_SHA384</li>
                            <li>TLS_ECDH_RSA_WITH_CAMELLIA_128_GCM_SHA256</li>
                            <li>TLS_ECDH_RSA_WITH_CAMELLIA_256_GCM_SHA384</li>
                            <li>TLS_PSK_WITH_CAMELLIA_128_GCM_SHA256</li>
                            <li>TLS_PSK_WITH_CAMELLIA_256_GCM_SHA384</li>
                            <li>TLS_RSA_PSK_WITH_CAMELLIA_128_GCM_SHA256</li>
                            <li>TLS_RSA_PSK_WITH_CAMELLIA_256_GCM_SHA384</li>
                            <li>TLS_PSK_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_PSK_WITH_CAMELLIA_256_CBC_SHA384</li>
                            <li>TLS_DHE_PSK_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_DHE_PSK_WITH_CAMELLIA_256_CBC_SHA384</li>
                            <li>TLS_RSA_PSK_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_RSA_PSK_WITH_CAMELLIA_256_CBC_SHA384</li>
                            <li>TLS_ECDHE_PSK_WITH_CAMELLIA_128_CBC_SHA256</li>
                            <li>TLS_ECDHE_PSK_WITH_CAMELLIA_256_CBC_SHA384</li>
                            <li>TLS_RSA_WITH_AES_128_CCM</li>
                            <li>TLS_RSA_WITH_AES_256_CCM</li>
                            <li>TLS_RSA_WITH_AES_128_CCM_8</li>
                            <li>TLS_RSA_WITH_AES_256_CCM_8</li>
                            <li>TLS_PSK_WITH_AES_128_CCM</li>
                            <li>TLS_PSK_WITH_AES_256_CCM</li>
                            <li>TLS_PSK_WITH_AES_128_CCM_8</li>
                            <li>TLS_PSK_WITH_AES_256_CCM_8</li>
                        </ul>
                    </div>
                    <div id="rfc.section.A.p.3">
                        <aside>
                            <div id="rfc.section.A.p.3.1">
                                <p>注：本列表是从开发 <a href="#RFC7540"><cite
                                            title="Hypertext Transfer Protocol Version 2 (HTTP/2)">[RFC7540]</cite></a>
                                    时注册的 TLS 密码套件集合中汇编而成。列表包括那些不提供短暂（ephemeral）密钥交换的密码套件，以及基于 TLS null、流或块加密类型的密码套件（参见
                                    <a href="https://www.rfc-editor.org/rfc/rfc5246.html#section-6.2.3">RFC 5246 第 6.2.3
                                        节</a>）。具有这些属性的其他密码套件可能会被定义；这些不会被逐一明确禁止。
                                </p>
                            </div>
                        </aside>
                    </div>
                    <div id="rfc.section.A.p.4">
                        <p>欲了解更多细节，请参阅 <a href="#tls12ciphers" title="TLS 1.2 Cipher Suites">第 9.2.2 节</a>。</p>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="revision-updates">
                    <h2 id="rfc.section.B" class="np"><a href="#rfc.section.B">附录 B.</a>&nbsp;<a
                            href="#revision-updates">相对于 RFC 7540 的变更</a></h2>
                    <div id="rfc.section.B.p.1" class="avoidbreakafter">
                        <p>本修订包含下列实质性更改：</p>
                    </div>
                    <div id="rfc.section.B.p.2">
                        <ul>
                            <li>基于 <a href="#RFC8740"><cite title="Using TLS 1.3 with HTTP/2">[RFC8740]</cite></a> 定义了对
                                TLS 1.3 的使用，且本文件已取代该文档。</li>
                            <li>RFC 7540 中定义的优先级方案已弃用。保留了 <a href="#PRIORITY" title="PRIORITY">PRIORITY</a> 帧的格式定义以及 <a
                                    href="#HEADERS" title="HEADERS">HEADERS</a> 帧中优先级字段的定义，并保留了何时可以发送和接收 <a
                                    href="#PRIORITY" title="PRIORITY">PRIORITY</a> 帧的规则，但这些字段的语义仅在 RFC 7540 中描述。RFC 7540
                                的优先级信令方案并不成功。推荐使用在 <a href="#RFC9218"><cite
                                        title="Extensible Prioritization Scheme for HTTP">[HTTP-PRIORITY]</cite></a>
                                中描述的更简单信令。</li>
                            <li>HTTP/1.1 的 Upgrade 机制已弃用，并且不再在本文档中指定。该机制从未得到广泛部署，明文 HTTP/2 用户选择了 prior-knowledge 实现。
                            </li>
                            <li>字段名和值的验证范围已收窄。明确规定了中间件必须执行的强制性验证，并修改了请求的错误报告以鼓励返回 400 系列状态码。</li>
                            <li>之前为试验性使用保留的设置和帧类型码点范围现已可供通用使用。</li>
                            <li>明确且更全面地标识了被禁止的连接特定首部字段。</li>
                            <li><span class="tt">Host</span> 与 "<span class="tt">:authority</span>" 不再允许不一致。</li>
                            <li>在 <a href="#dynamic-table" title="Compression State">第 4.3.1 节</a>
                                中澄清了在设置更改后发送动态表大小更新指令的规则。</li>
                        </ul>
                    </div>
                    <div id="rfc.section.B.p.3">
                        <p>还包含了编辑性更改。特别是，术语和文档结构的更改是响应对 <a href="#RFC9110"><cite title="HTTP Semantics">核心 HTTP
                                    语义</cite></a> 的更新所做出的调整。那些文档现在包含一些最初在 RFC 7540 中定义的概念，例如 421 状态码或连接合并（connection
                            coalescing）。</p>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="n-acknowledgments">
                    <h2 id="rfc.section.unnumbered-4" class="np"><a href="#n-acknowledgments">致谢</a></h2>
                    <div id="rfc.section.unnumbered-4.p.1">
                        <p>本文档的非平凡贡献应归功于多年来为 HTTP 工作组作出贡献的大量人员。<a href="#RFC7540"><cite
                                    title="Hypertext Transfer Protocol Version 2 (HTTP/2)">[RFC7540]</cite></a>
                            列出了更多应当被感谢的人员名单。</p>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="n-contributors">
                    <h2 id="rfc.section.unnumbered-5" class="np"><a href="#n-contributors">贡献者</a></h2>
                    <div id="rfc.section.unnumbered-5.p.1">
                        <p>Mike Belshe 和 Roberto Peon 撰写了本文档所基于的文本。</p>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="rfc.authors" class="np">
                    <h2><a href="#rfc.authors">作者联系方式</a></h2>
                    <address><b>Martin Thomson</b> (editor)<br>Mozilla<br>Australia<br>EMail: <a
                            href="mailto:mt@lowentropy.net">mt@lowentropy.net</a></address>
                    <address><b>Cory Benfield</b> (editor)<br>Apple Inc.<br>EMail: <a
                            href="mailto:cbenfield@apple.com">cbenfield@apple.com</a></address>
                </section>
            </div>
        </div>
    </div>
    <script src="https://httpwg.org/assets/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="https://httpwg.org/assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/dropdown.js"></script>
</body>

</html>