<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="zh-hans">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RFC 9111 - HTTP 缓存</title>
    <script>
        function getMeta(rfcno, container) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "https://www.rfc-editor.org/rfc/rfc" + rfcno + ".json", true);
            xhr.onload = function (e) {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        var data = JSON.parse(xhr.response);

                        var cont = document.getElementById(container);
                        // empty the container
                        while (cont.firstChild) {
                            cont.removeChild(myNode.firstChild);
                        }

                        var c = data.status;
                        if (c) {
                            var bld = newElementWithText("b", c);
                            cont.appendChild(bld);
                        } else {
                            cont.appendChild(newElementWithText("i", "(document status unknown)"));
                        }

                        c = data.updated_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Updated by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.obsoleted_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Obsoleted by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.errata_url;
                        if (c) {
                            cont.appendChild(newElement("br"));
                            var link = newElementWithText("a", "errata");
                            link.setAttribute("href", c);
                            var errata = newElementWithText("i", "This document has ");
                            errata.appendChild(link);
                            errata.appendChild(newText("."));
                            cont.appendChild(errata);
                        }

                        cont.style.display = "block";
                    } else {
                        console.error(xhr.statusText);
                    }
                }
            };
            xhr.onerror = function (e) {
                console.error(xhr.status + " " + xhr.statusText);
            };
            xhr.send(null);
        }
        function appendRfcLinks(parent, updates) {
            var template = "https://www.rfc-editor.org/rfc/rfc{rfc}.html";
            for (var i = 0; i < updates.length; i++) {
                var rfc = updates[i].trim().toLowerCase();
                if (rfc.substring(0, 3) == "rfc") {
                    var no = parseInt(rfc.substring(3), 10);

                    var link = newElement("a");
                    link.setAttribute("href", template.replace("{rfc}", no));
                    link.appendChild(newText(no));
                    parent.appendChild(link);
                } else {
                    parent.appendChild(newText(rfc));
                }
                if (i != updates.length - 1) {
                    parent.appendChild(newText(", "));
                }
            }
        }

        // DOM helpers
        function newElement(name) {
            return document.createElement(name);
        }
        function newElementWithText(name, txt) {
            var e = document.createElement(name);
            e.appendChild(newText(txt));
            return e;
        }
        function newText(text) {
            return document.createTextNode(text);
        }
    </script>
    <script>
        function anchorRewrite() {
            map = { "DIGIT": "core.rules", "HTTP-date": "imported.rules", "OWS": "imported.rules", "field-name": "imported.rules", "quoted-string": "imported.rules", "token": "imported.rules", "header.age": "field.age", "Age": "field.age", "age-value": "field.age", "header.cache-control": "field.cache-control", "Cache-Control": "field.cache-control", "cache-directive": "field.cache-control", "cache-response-directive": "cache-response-directive", "header.expires": "field.expires", "Expires": "field.expires", "header.pragma": "field.pragma", "extension-pragma": "field.pragma", "Pragma": "field.pragma", "pragma-directive": "field.pragma", "header.warning": "field.warning", "Warning": "field.warning" };
            if (window.location.hash.length >= 1) {
                var fragid = window.location.hash.substr(1);
                if (fragid) {
                    if (!document.getElementById(fragid)) {
                        var prefix = "rfc.";
                        var mapped = map[fragid];
                        if (mapped) {
                            window.location.hash = mapped;
                        } else if (fragid.indexOf("section-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(8).replace("-", ".p.");
                        } else if (fragid.indexOf("appendix-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(9).replace("-", ".p.");
                        } else if (fragid.indexOf("s-") == 0) {
                            var postfix = fragid.substring(2);
                            if (postfix.startsWith("abstract")) {
                                window.location.hash = prefix + postfix;
                            } else if (postfix.startsWith("note-")) {
                                window.location.hash = prefix + "note." + postfix.substring(5).replace("-", ".p.");
                            } else {
                                window.location.hash = prefix + "section." + postfix.replace("-", ".p.");
                            }
                        } else if (fragid.indexOf("p-") == 0) {
                            var r = fragid.substring(2);
                            var p = r.indexOf("-");
                            if (p >= 0) {
                                window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
                            }
                        }
                    }
                }
            }
        }
        window.addEventListener('hashchange', anchorRewrite);
        window.addEventListener('DOMContentLoaded', anchorRewrite);
    </script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script>try {
            PR['registerLangHandler'](
                PR['createSimpleLexer'](
                    [
                        // comment
                        [PR['PR_COMMENT'], /^;[^\x00-\x1f]*/, null, ";"],
                    ],
                    [
                        // string literals
                        [PR['PR_STRING'], /^(\%s|\%i)?"[^"\x00-\x1f]*"/, null],
                        // binary literals
                        [PR['PR_LITERAL'], /^\%b[01]+((-[01]+)|(\.[01]+)*)/, null],
                        // decimal literals
                        [PR['PR_LITERAL'], /^\%d[0-9]+((-[0-9]+)|(\.[0-9]+)*)/, null],
                        // hex literals
                        [PR['PR_LITERAL'], /^(\%x[A-Za-z0-9]+((-[A-Za-z0-9]+)|(\.[A-Za-z0-9]+)*))/, null],
                        // prose rule
                        [PR['PR_NOCODE'], /^<[^>\x00-\x1f]*>/, null],
                        // rule name
                        [PR['PR_TYPE'], /^([A-Za-z][A-Za-z0-9-]*)/, null],
                        [PR['PR_PUNCTUATION'], /^[=\(\)\*\/\[\]#]/, null],
                    ]),
                ['ietf_abnf']);
        } catch (e) { }
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="article">
    <meta property="og:title" content="RFC9111">
    <meta property="og:description" content="HTTP Caching">
    <meta property="og:url" content="https://httpwg.org/specs/rfc9111.html">
    <meta property="og:site_name" content="IETF HTTP Working Group Specifications">
    <meta property="og:image" content="https://httpwg.org/assets/favicon/apple-icon-180x180.png">
    <link rel="stylesheet" type="text/css"
        href="https://httpwg.org/assets/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <style type="text/css">
        body {
            padding-top: 80px;
            padding-bottom: 80px;
            position: relative;
        }

        .table.header th,
        .table.header td {
            border-top: none;
            padding: 0;
        }

        #sidebar {
            margin-top: -10px;
            height: 90%;
            overflow-y: auto;
            font-size: 90%;
        }

        #rfc\.meta {
            width: 40%;
            float: right
        }

        .toc ul {
            list-style: none;
        }

        .filename {
            color: rgb(119, 119, 119);
            font-size: 23px;
            font-weight: normal;
            height: auto;
            line-height: 23px;
        }

        dl {
            margin-left: 1em;
        }

        dl.dl-horizontal {
            margin-left: 0;
        }

        dl>dt {
            float: left;
            margin-right: 1em;
        }

        dl.nohang>dt {
            float: none;
        }

        dl>dd {
            margin-bottom: .5em;
        }

        dl.compact>dd {
            margin-bottom: 0em;
        }

        dl>dd>dl {
            margin-top: 0.5em;
            margin-bottom: 0em;
        }

        ul.empty {
            list-style-type: none;
        }

        ul.empty li {
            margin-top: .5em;
        }

        td.reference {
            padding-right: 1em;
            vertical-align: top;
        }

        .feedback {
            position: fixed;
            bottom: 5px;
            right: 5px;
        }

        .fbbutton {
            margin-left: 5px;
        }

        h1 a,
        h2 a,
        h3 a,
        h4 a,
        h5 a,
        h6 a {
            color: rgb(51, 51, 51);
        }

        span.tt {
            font: 11pt consolas, monospace;
            font-size-adjust: none;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="https://httpwg.org/assets/site.css">
    <link rel="Contents" href="#rfc.toc">
    <link rel="Author" href="#rfc.authors">
    <link rel="License" href="#rfc.copyrightnotice">
    <link rel="Index" href="#rfc.index">
    <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
    <link rel="Chapter" title="2 Overview of Cache Operation" href="#rfc.section.2">
    <link rel="Chapter" title="3 Storing Responses in Caches" href="#rfc.section.3">
    <link rel="Chapter" title="4 Constructing Responses from Caches" href="#rfc.section.4">
    <link rel="Chapter" title="5 Field Definitions" href="#rfc.section.5">
    <link rel="Chapter" title="6 Relationship to Applications and Other Caches" href="#rfc.section.6">
    <link rel="Chapter" title="7 Security Considerations" href="#rfc.section.7">
    <link rel="Chapter" title="8 IANA Considerations" href="#rfc.section.8">
    <link rel="Chapter" title="9 References" href="#rfc.section.9">
    <link rel="Appendix" title="A Collected ABNF" href="#rfc.section.A">
    <link rel="Appendix" title="B Changes from RFC 7234" href="#rfc.section.B">
    <link rel="Appendix" title="Acknowledgements" href="#rfc.section.unnumbered-1">
    <link rel="Alternate" title="Plain Text Version" href="http://www.ietf.org/rfc/rfc9111.txt">
    <link rel="Help" title="RFC-Editor's Status Page" href="https://www.rfc-editor.org/info/rfc9111">
    <meta name="viewport" content="initial-scale=1">
    <meta name="generator"
        content="https://github.com/mnot/RFCBootstrap XSLT vendor: Saxonica http://www.saxonica.com/">
    <meta name="keywords" content="Hypertext Transfer Protocol, HTTP, HTTP Caching">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.creator" content="Fielding, R.">
    <meta name="dcterms.creator" content="Nottingham, M.">
    <meta name="dcterms.creator" content="Reschke, J.">
    <meta name="dcterms.identifier" content="urn:ietf:rfc:9111">
    <meta name="dcterms.issued" content="2022-06">
    <meta name="dct.replaces" content="urn:ietf:rfc:7234">
    <meta name="dcterms.abstract"
        content="The Hypertext Transfer Protocol (HTTP) is a stateless application-level protocol for distributed, collaborative, hypertext information systems. This document defines HTTP caches and the associated header fields that control cache behavior or indicate cacheable response messages. This document obsoletes RFC 7234.">
    <meta name="dcterms.isPartOf" content="urn:issn:2070-1721">
    <meta name="description"
        content="The Hypertext Transfer Protocol (HTTP) is a stateless application-level protocol for distributed, collaborative, hypertext information systems. This document defines HTTP caches and the associated header fields that control cache behavior or indicate cacheable response messages. This document obsoletes RFC 7234.">
</head>

<body onload="getMeta(9111,'rfc.meta');">
    <nav class="navbar navbar-dark bg-dark d-print-none navbar-expand-lg fixed-top ps-3 pe-3" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse"
                aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand" href="https://httpwg.org/"><img src="https://httpwg.org/assets/http.svg"
                    height="23"></a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">

            <div class="navbar-nav me-auto">

                <a class="nav-item ms-1 text-white" href="https://httpwg.org/specs/">📄 Documentation</a>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Work in
                        Progress</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/http-extensions/">HTTP Extensions</a></li>
                        <li class="dropdown-item"><a
                                href="https://github.com/httpwg/admin/issues?q=is%3Aissue+is%3Aopen+label%3Aadoption">Future
                                Work</a></li>
                    </ul>
                </div>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Participate</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/about/">About the HTTP Working Group</a>
                        </li>
                        <li class="divider"></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/CONTRIBUTING.html">Contribution Policy</a>
                        </li>
                        <li class="dropdown-item"><a href="http://datatracker.ietf.org/wg/httpbis/charter/">WG
                                Charter</a></li>
                        <li class="dropdown-item"><a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">Group
                                Mailing List 📨</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/wg-materials/">Meeting Materials</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/admin/editors/">Document Editor
                                Resources</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>
    <div class="container" id="top">
        <div class="row">
            <div class="col-lg-4 order-last d-none d-lg-block" id="sidebar" role="navigation">
                <div class="navbar">
                    <div class="navbar-brand"><a href="#top"><strong>RFC </strong>9111</a></div><br clear="all">
                    <div class="">
                        <div class="toc ">
                            <ul>
                                <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#caching">介绍</a>
                                    <ul>
                                        <li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#requirements.notation">需求表示法</a></li>
                                        <li><a href="#rfc.section.1.2">1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#notation">语法表示法</a>
                                            <ul>
                                                <li><a href="#rfc.section.1.2.1">1.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#abnf.imported">导入规则</a></li>
                                                <li><a href="#rfc.section.1.2.2">1.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#delta-seconds">增量秒数</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#caching.overview">缓存操作概述</a></li>
                                <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#response.cacheability">将响应存储在缓存中</a>
                                    <ul>
                                        <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#storing.fields">存储头部和尾部字段</a></li>
                                        <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#update">更新已存储的头字段</a></li>
                                        <li><a href="#rfc.section.3.3">3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#incomplete.responses">存储不完整的响应</a></li>
                                        <li><a href="#rfc.section.3.4">3.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#combining.responses">合并部分内容</a></li>
                                        <li><a href="#rfc.section.3.5">3.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#caching.authenticated.responses">存储对已认证请求的响应</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#constructing.responses.from.caches">从缓存构建响应</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#caching.negotiated.responses">使用 Vary 头字段计算缓存键</a></li>
                                        <li><a href="#rfc.section.4.2">4.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#expiration.model">新鲜度</a>
                                            <ul>
                                                <li><a href="#rfc.section.4.2.1">4.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#calculating.freshness.lifetime">计算新鲜度生存期</a></li>
                                                <li><a href="#rfc.section.4.2.2">4.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#heuristic.freshness">计算启发式新鲜度</a>
                                                </li>
                                                <li><a href="#rfc.section.4.2.3">4.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#age.calculations">计算 Age</a></li>
                                                <li><a href="#rfc.section.4.2.4">4.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#serving.stale.responses">提供陈旧的响应</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.4.3">4.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#validation.model">验证</a>
                                            <ul>
                                                <li><a href="#rfc.section.4.3.1">4.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#validation.sent">发送验证请求</a></li>
                                                <li><a href="#rfc.section.4.3.2">4.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#validation.received">处理收到的验证请求</a></li>
                                                <li><a href="#rfc.section.4.3.3">4.3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#validation.response">处理验证响应</a>
                                                </li>
                                                <li><a href="#rfc.section.4.3.4">4.3.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#freshening.responses">在验证时刷新已存储的响应</a></li>
                                                <li><a href="#rfc.section.4.3.5">4.3.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#head.effects">使用 HEAD 刷新响应</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.4.4">4.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#invalidation">使已存储的响应失效</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#header.field.definitions">字段定义</a>
                                    <ul>
                                        <li><a href="#rfc.section.5.1">5.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#field.age">Age</a></li>
                                        <li><a href="#rfc.section.5.2">5.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#field.cache-control">Cache-Control</a>
                                            <ul>
                                                <li><a href="#rfc.section.5.2.1">5.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-request-directive">请求指令</a>
                                                    <ul>
                                                        <li><a
                                                                href="#rfc.section.5.2.1.1">5.2.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-request-directive.max-age">max-age</a></li>
                                                        <li><a
                                                                href="#rfc.section.5.2.1.2">5.2.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-request-directive.max-stale">max-stale</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.1.3">5.2.1.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-request-directive.min-fresh">min-fresh</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.1.4">5.2.1.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-request-directive.no-cache">no-cache</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.1.5">5.2.1.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-request-directive.no-store">no-store</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.1.6">5.2.1.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-request-directive.no-transform">no-transform</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.1.7">5.2.1.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-request-directive.only-if-cached">only-if-cached</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li><a href="#rfc.section.5.2.2">5.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-response-directive">响应指令</a>
                                                    <ul>
                                                        <li><a
                                                                href="#rfc.section.5.2.2.1">5.2.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-response-directive.max-age">max-age</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.2.2">5.2.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-response-directive.must-revalidate">must-revalidate</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.2.3">5.2.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-response-directive.must-understand">must-understand</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.2.4">5.2.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-response-directive.no-cache">no-cache</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.2.5">5.2.2.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-response-directive.no-store">no-store</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.2.6">5.2.2.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-response-directive.no-transform">no-transform</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.2.7">5.2.2.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-response-directive.private">private</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.2.8">5.2.2.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-response-directive.proxy-revalidate">proxy-revalidate</a>
                                                        </li>
                                                        <li><a
                                                                href="#rfc.section.5.2.2.9">5.2.2.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-response-directive.public">public</a></li>
                                                        <li><a
                                                                href="#rfc.section.5.2.2.10">5.2.2.10.</a>&nbsp;&nbsp;&nbsp;<a
                                                                href="#cache-response-directive.s-maxage">s-maxage</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                                <li><a href="#rfc.section.5.2.3">5.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache.control.extensions">扩展指令</a></li>
                                                <li><a href="#rfc.section.5.2.4">5.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache.directive.registry">缓存指令注册表</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.5.3">5.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#field.expires">Expires</a></li>
                                        <li><a href="#rfc.section.5.4">5.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#field.pragma">Pragma</a></li>
                                        <li><a href="#rfc.section.5.5">5.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#field.warning">Warning</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#history.lists">与应用程序和其他缓存的关系</a></li>
                                <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#security.considerations">安全性考虑</a>
                                    <ul>
                                        <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#cache.poisoning">缓存投毒</a></li>
                                        <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#security.timing">计时攻击</a></li>
                                        <li><a href="#rfc.section.7.3">7.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#caching.of.sensitive.information">敏感信息的缓存</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a href="#iana.considerations">IANA
                                        注意事项</a>
                                    <ul>
                                        <li><a href="#rfc.section.8.1">8.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#field.name.registration">字段名称注册</a></li>
                                        <li><a href="#rfc.section.8.2">8.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#cache.directive.registration">缓存指令注册</a>
                                        </li>
                                        <li><a href="#rfc.section.8.3">8.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#warn.code.registration">Warn 代码注册表</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.9">9.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">参考文献</a>
                                    <ul>
                                        <li><a href="#rfc.section.9.1">9.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.1">规范性参考文献</a></li>
                                        <li><a href="#rfc.section.9.2">9.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.2">参考资料</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#collected.abnf">收集的 ABNF</a></li>
                                <li><a href="#rfc.section.B">Appendix B.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#changes.from.rfc.7234">来自 RFC 7234 的变更</a></li>
                                <li><a href="#acks">致谢</a></li>
                                <li><a href="#rfc.index">索引</a></li>
                                <li><a href="#rfc.authors">作者地址</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 order-first main" role="main">
                <header>
                    <table class="table table-condensed header" id="rfc.headerblock">
                        <tbody>
                            <tr>
                                <td class="text-left">Internet Engineering Task Force (IETF)</td>
                                <td class="text-right">R. Fielding, Editor</td>
                            </tr>
                            <tr>
                                <td class="text-left">Request for Comments: 9111</td>
                                <td class="text-right">Adobe</td>
                            </tr>
                            <tr>
                                <td class="text-left">Obsoletes: <a href="#RFC7234">7234</a></td>
                                <td class="text-right">M. Nottingham, Editor</td>
                            </tr>
                            <tr>
                                <td class="text-left">STD: <a href="https://www.rfc-editor.org/info/std98">98</a></td>
                                <td class="text-right">Fastly</td>
                            </tr>
                            <tr>
                                <td class="text-left">Category: Standards Track</td>
                                <td class="text-right">J. Reschke, Editor</td>
                            </tr>
                            <tr>
                                <td class="text-left">ISSN: 2070-1721</td>
                                <td class="text-right">greenbytes</td>
                            </tr>
                            <tr>
                                <td class="text-left"></td>
                                <td class="text-right">June 2022</td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="rfc.title">
                        <h1>HTTP 缓存</h1>
                    </div>
                </header>
                <hr>
                <h2 id="rfc.abstract"><a href="#rfc.abstract">摘要</a></h2>
                <div class="lead">
                    <div id="rfc.abstract.p.1">
                        <p>超文本传输协议 (HTTP) 是一种用于分布式、协作性超文本信息系统的无状态应用层协议。本文档定义了 HTTP 缓存以及用于控制缓存行为或指示可缓存响应消息的相关头字段。</p>
                    </div>
                    <div id="rfc.abstract.p.2">
                        <p>本文件取代 RFC 7234。</p>
                    </div>
                </div>
                <aside id="rfc.meta" class="alert alert-info"></aside>
                <section id="rfc.status">
                    <h2><a href="#rfc.status">本备忘录的状态</a></h2>
                    <div id="rfc.boilerplate.1.p.1">
                        <p>这是互联网标准轨道的文档。</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.2">
                        <p>本文件由因特网工程任务组 (IETF) 制作，代表 IETF 社区的共识。它已通过公开审查并已被因特网工程指导小组 (IESG) 批准发布。有关互联网标准的更多信息，请参见 <a
                                href="https://www.rfc-editor.org/rfc/rfc7841.html#section-2">RFC 7841 第 2 节</a>。</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.3">
                        <p>可在 <a
                                href="https://www.rfc-editor.org/info/rfc9111">https://www.rfc-editor.org/info/rfc9111</a>
                            获取有关本文件当前状态、任何勘误以及如何提供反馈的信息。</p>
                    </div>
                </section>
                <section id="rfc.copyrightnotice">
                    <h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2>
                    <div id="rfc.boilerplate.2.p.1">
                        <p>Copyright (c) 2022 IETF Trust and the persons identified as the document authors. All rights
                            reserved.</p>
                    </div>
                    <div id="rfc.boilerplate.2.p.2">
                        <p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF
                            Documents (<a
                                href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>)
                            in effect on the date of publication of this document. Please review these documents
                            carefully, as they describe your rights and restrictions with respect to this document. Code
                            Components extracted from this document must include Revised BSD License text as described
                            in Section 4.e of the Trust Legal Provisions and are provided without warranty as described
                            in the Revised BSD License.</p>
                    </div>
                    <div id="rfc.boilerplate.2.p.3">
                        <p>This document may contain material from IETF Documents or IETF Contributions published or
                            made publicly available before November 10, 2008. The person(s) controlling the copyright in
                            some of this material may not have granted the IETF Trust the right to allow modifications
                            of such material outside the IETF Standards Process. Without obtaining an adequate license
                            from the person(s) controlling the copyright in such materials, this document may not be
                            modified outside the IETF Standards Process, and derivative works of it may not be created
                            outside the IETF Standards Process, except to format it for publication as an RFC or to
                            translate it into languages other than English.</p>
                    </div>
                </section>
                <div class="toc d-lg-none">
                    <ul>
                        <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#caching">介绍</a>
                            <ul>
                                <li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#requirements.notation">需求表示法</a></li>
                                <li><a href="#rfc.section.1.2">1.2.</a>&nbsp;&nbsp;&nbsp;<a href="#notation">语法表示法</a>
                                    <ul>
                                        <li><a href="#rfc.section.1.2.1">1.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#abnf.imported">Imported Rules</a></li>
                                        <li><a href="#rfc.section.1.2.2">1.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#delta-seconds">Delta Seconds</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#caching.overview">缓存操作概述</a></li>
                        <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#response.cacheability">将响应存储在缓存中</a>
                            <ul>
                                <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#storing.fields">存储头部和尾部字段</a></li>
                                <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a href="#update">更新已存储的头字段</a>
                                </li>
                                <li><a href="#rfc.section.3.3">3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#incomplete.responses">存储不完整的响应</a></li>
                                <li><a href="#rfc.section.3.4">3.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#combining.responses">合并部分内容</a></li>
                                <li><a href="#rfc.section.3.5">3.5.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#caching.authenticated.responses">存储对已认证请求的响应</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#constructing.responses.from.caches">从缓存构建响应</a>
                            <ul>
                                <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#caching.negotiated.responses">使用 Vary 头字段计算缓存键</a></li>
                                <li><a href="#rfc.section.4.2">4.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#expiration.model">新鲜度</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.2.1">4.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#calculating.freshness.lifetime">计算新鲜度生存期</a></li>
                                        <li><a href="#rfc.section.4.2.2">4.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#heuristic.freshness">计算启发式新鲜度</a></li>
                                        <li><a href="#rfc.section.4.2.3">4.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#age.calculations">计算 Age</a></li>
                                        <li><a href="#rfc.section.4.2.4">4.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#serving.stale.responses">提供陈旧的响应</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.4.3">4.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#validation.model">验证</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.3.1">4.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#validation.sent">发送验证请求</a></li>
                                        <li><a href="#rfc.section.4.3.2">4.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#validation.received">处理收到的验证请求</a></li>
                                        <li><a href="#rfc.section.4.3.3">4.3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#validation.response">处理验证响应</a></li>
                                        <li><a href="#rfc.section.4.3.4">4.3.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#freshening.responses">在验证时刷新已存储的响应</a></li>
                                        <li><a href="#rfc.section.4.3.5">4.3.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#head.effects">使用 HEAD 刷新响应</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.4.4">4.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#invalidation">使已存储的响应失效</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#header.field.definitions">字段定义</a>
                            <ul>
                                <li><a href="#rfc.section.5.1">5.1.</a>&nbsp;&nbsp;&nbsp;<a href="#field.age">Age</a>
                                </li>
                                <li><a href="#rfc.section.5.2">5.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#field.cache-control">Cache-Control</a>
                                    <ul>
                                        <li><a href="#rfc.section.5.2.1">5.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#cache-request-directive">Request Directives</a>
                                            <ul>
                                                <li><a href="#rfc.section.5.2.1.1">5.2.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-request-directive.max-age">max-age</a></li>
                                                <li><a href="#rfc.section.5.2.1.2">5.2.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-request-directive.max-stale">max-stale</a></li>
                                                <li><a href="#rfc.section.5.2.1.3">5.2.1.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-request-directive.min-fresh">min-fresh</a></li>
                                                <li><a href="#rfc.section.5.2.1.4">5.2.1.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-request-directive.no-cache">no-cache</a></li>
                                                <li><a href="#rfc.section.5.2.1.5">5.2.1.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-request-directive.no-store">no-store</a></li>
                                                <li><a href="#rfc.section.5.2.1.6">5.2.1.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-request-directive.no-transform">no-transform</a>
                                                </li>
                                                <li><a href="#rfc.section.5.2.1.7">5.2.1.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-request-directive.only-if-cached">only-if-cached</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.5.2.2">5.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#cache-response-directive">Response Directives</a>
                                            <ul>
                                                <li><a href="#rfc.section.5.2.2.1">5.2.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-response-directive.max-age">max-age</a></li>
                                                <li><a href="#rfc.section.5.2.2.2">5.2.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-response-directive.must-revalidate">must-revalidate</a>
                                                </li>
                                                <li><a href="#rfc.section.5.2.2.3">5.2.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-response-directive.must-understand">must-understand</a>
                                                </li>
                                                <li><a href="#rfc.section.5.2.2.4">5.2.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-response-directive.no-cache">no-cache</a></li>
                                                <li><a href="#rfc.section.5.2.2.5">5.2.2.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-response-directive.no-store">no-store</a></li>
                                                <li><a href="#rfc.section.5.2.2.6">5.2.2.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-response-directive.no-transform">no-transform</a>
                                                </li>
                                                <li><a href="#rfc.section.5.2.2.7">5.2.2.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-response-directive.private">private</a></li>
                                                <li><a href="#rfc.section.5.2.2.8">5.2.2.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-response-directive.proxy-revalidate">proxy-revalidate</a>
                                                </li>
                                                <li><a href="#rfc.section.5.2.2.9">5.2.2.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-response-directive.public">public</a></li>
                                                <li><a href="#rfc.section.5.2.2.10">5.2.2.10.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#cache-response-directive.s-maxage">s-maxage</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.5.2.3">5.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#cache.control.extensions">扩展指令</a></li>
                                        <li><a href="#rfc.section.5.2.4">5.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#cache.directive.registry">缓存指令注册表</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.5.3">5.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#field.expires">Expires</a></li>
                                <li><a href="#rfc.section.5.4">5.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#field.pragma">Pragma</a></li>
                                <li><a href="#rfc.section.5.5">5.5.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#field.warning">Warning</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#history.lists">与应用程序和其他缓存的关系</a>
                        </li>
                        <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#security.considerations">安全性考虑</a>
                            <ul>
                                <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#cache.poisoning">缓存投毒</a></li>
                                <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#security.timing">计时攻击</a></li>
                                <li><a href="#rfc.section.7.3">7.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#caching.of.sensitive.information">敏感信息的缓存</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a href="#iana.considerations">IANA
                                注意事项</a>
                            <ul>
                                <li><a href="#rfc.section.8.1">8.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#field.name.registration">字段名称注册</a></li>
                                <li><a href="#rfc.section.8.2">8.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#cache.directive.registration">缓存指令注册</a></li>
                                <li><a href="#rfc.section.8.3">8.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#warn.code.registration">Warn 代码注册表</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.9">9.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">参考文献</a>
                            <ul>
                                <li><a href="#rfc.section.9.1">9.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.1">规范性参考文献</a></li>
                                <li><a href="#rfc.section.9.2">9.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.2">参考资料</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#collected.abnf">Collected ABNF</a></li>
                        <li><a href="#rfc.section.B">Appendix B.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#changes.from.rfc.7234">Changes from RFC 7234</a></li>
                        <li><a href="#acks">致谢</a></li>
                        <li><a href="#rfc.index">索引</a></li>
                        <li><a href="#rfc.authors">作者地址</a></li>
                    </ul>
                </div>
                <section id="caching">
                    <h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a href="#caching">介绍</a>
                    </h2>
                    <div id="rfc.section.1.p.1">
                        <p>超文本传输协议 (HTTP)
                            是一种无状态的应用层请求/响应协议，使用可扩展的语义和自描述消息以便与基于网络的超文本信息系统进行灵活交互。它通常用于分布式信息系统，其中使用响应缓存可以提高性能。本文档定义了与缓存和重用响应消息有关的
                            HTTP 方面。</p>
                    </div>
                    <div id="rfc.iref.c.1"></div>
                    <div id="rfc.section.1.p.2">
                        <p>HTTP 的 <dfn>cache</dfn>
                            是响应消息的本地存储以及控制其存储、检索和删除的子系统。缓存存储可缓存的响应，以在将来的等价请求上减少响应时间和网络带宽消耗。任何客户端或服务器 <em
                                class="bcp14">MAY</em> 使用缓存，尽管在作为隧道时不适用（<a href="rfc9110.html#intermediaries"
                                title="Intermediaries">第 3.7 节</a>，见 <a href="#HTTP" id="rfc.xref.HTTP.1"><cite
                                    title="HTTP Semantics">[HTTP]</cite></a>）。</p>
                    </div>
                    <div id="rfc.iref.s.1"></div>
                    <div id="rfc.iref.p.1"></div>
                    <div id="rfc.section.1.p.3">
                        <p id="shared.and.private.caches"><dfn>shared cache</dfn>
                            是为多个用户重用而存储响应的缓存；共享缓存通常（但不总是）作为中间体的一部分部署。相反，<dfn>private cache</dfn>
                            专用于单个用户；它们通常作为用户代理的一个组件部署。</p>
                    </div>
                    <div id="rfc.section.1.p.4">
                        <p>HTTP 缓存的目标是通过重用先前的响应消息来满足当前请求，从而显著提高性能。缓存将已存储的响应视为“新鲜的”（在 <a href="#expiration.model"
                                title="Freshness">第 4.2 节</a>
                            中定义），如果可以在不进行“验证”（向源服务器检查缓存响应对于该请求是否仍然有效）的情况下重用它。一次新鲜的响应因此可以在缓存每次重用时减少延迟和网络开销。当缓存的响应不再新鲜时，如果可以通过验证使其变为新鲜（<a
                                href="#validation.model" title="Validation">第 4.3 节</a>）或源不可用（<a
                                href="#serving.stale.responses" title="Serving Stale Responses">第 4.2.4 节</a>），它仍可能可重用。
                        </p>
                    </div>
                    <div id="rfc.section.1.p.5">
                        <p>本文件取代 <a href="#RFC7234" id="rfc.xref.RFC7234.1"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Caching">RFC 7234</cite></a>，变更汇总见 <a
                                href="#changes.from.rfc.7234" title="Changes from RFC 7234">附录 B</a>。</p>
                    </div>
                    <section id="requirements.notation">
                        <h3 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a>&nbsp;<a
                                href="#requirements.notation">需求表示法</a></h3>
                        <div id="rfc.section.1.1.p.1">
                            <p>在本文档中，关键字 "<em class="bcp14">MUST</em>"、"<em class="bcp14">MUST NOT</em>"、"<em
                                    class="bcp14">REQUIRED</em>"、"<em class="bcp14">SHALL</em>"、"<em class="bcp14">SHALL
                                    NOT</em>"、"<em class="bcp14">SHOULD</em>"、"<em class="bcp14">SHOULD NOT</em>"、"<em
                                    class="bcp14">RECOMMENDED</em>"、"<em class="bcp14">NOT RECOMMENDED</em>"、"<em
                                    class="bcp14">MAY</em>" 和 "<em class="bcp14">OPTIONAL</em>" 在并且仅在以全部大写字母出现时，应按 BCP
                                14 <a href="#RFC2119" id="rfc.xref.RFC2119.1"><cite
                                        title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>
                                和 <a href="#RFC8174" id="rfc.xref.RFC8174.1"><cite
                                        title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">[RFC8174]</cite></a>
                                中所述进行解释。</p>
                        </div>
                        <div id="rfc.section.1.1.p.2">
                            <p><a href="rfc9110.html#conformance" title="Conformance">第 2 节</a> 在 <a href="#HTTP"
                                    id="rfc.xref.HTTP.2"><cite title="HTTP Semantics">[HTTP]</cite></a>
                                中定义了合规性标准并包含有关错误处理的注意事项。</p>
                        </div>
                    </section>
                    <section id="notation">
                        <h3 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2.</a>&nbsp;<a href="#notation">语法表示法</a>
                        </h3>
                        <div id="rfc.section.1.2.p.1">
                            <p>本规范使用 <a href="#RFC5234" id="rfc.xref.RFC5234.1"><cite
                                        title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a>
                                的扩充巴科斯-诺尔范式 (ABNF) 表示法，并辅以在 <a href="#RFC7405" id="rfc.xref.RFC7405.1"><cite
                                        title="Case-Sensitive String Support in ABNF">[RFC7405]</cite></a>
                                中定义的字符串大小写敏感记法扩展。</p>
                        </div>
                        <div id="rfc.section.1.2.p.2">
                            <p>它还使用在 <a href="rfc9110.html#abnf.extension" title="Lists (#rule ABNF Extension)">第 5.6.1
                                    节</a> 中定义的列表扩展，该扩展允许使用 "#" 运算符对逗号分隔列表进行紧凑定义（类似于 "*" 运算符表示重复）。<a
                                    href="#collected.abnf" title="Collected ABNF">附录 A</a> 显示了将所有列表运算符展开为标准 ABNF
                                表示法后的汇集语法。</p>
                        </div>
                        <section id="abnf.imported">
                            <h4 id="rfc.section.1.2.1"><a href="#rfc.section.1.2.1">1.2.1.</a>&nbsp;<a
                                    href="#abnf.imported">导入规则</a></h4>
                            <div id="rfc.section.1.2.1.p.1">
                                <p id="core.rules">下面的核心规则按引用包含，如在 <a href="#RFC5234" id="rfc.xref.RFC5234.2"><cite
                                            title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a> 的
                                    <a href="https://www.rfc-editor.org/rfc/rfc5234.html#appendix-B.1">附录 B.1</a>
                                    中所定义：DIGIT（十进制 0-9）。
                                </p>
                            </div>
                            <div id="rfc.section.1.2.1.p.2" class="avoidbreakafter">
                                <p id="imported.rules"><a href="#HTTP" id="rfc.xref.HTTP.4"><cite
                                            title="HTTP Semantics">[HTTP]</cite></a> 定义了以下规则：</p>
                            </div>
                            <div id="rfc.section.1.2.1.p.3">
                                <pre class="inline prettyprint lang-ietf_abnf">  <a href="#imported.rules" class="smpl">HTTP-date</a>     = &lt;HTTP-date, see <a href="#HTTP" id="rfc.xref.HTTP.5"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#http.date" title="Date/Time Formats">Section 5.6.7</a>&gt;
  <a href="#imported.rules" class="smpl">OWS</a>           = &lt;OWS, see <a href="#HTTP" id="rfc.xref.HTTP.6"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#whitespace" title="Whitespace">Section 5.6.3</a>&gt;
  <a href="#imported.rules" class="smpl">field-name</a>    = &lt;field-name, see <a href="#HTTP" id="rfc.xref.HTTP.7"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#fields.names" title="Field Names">Section 5.1</a>&gt;
  <a href="#imported.rules" class="smpl">quoted-string</a> = &lt;quoted-string, see <a href="#HTTP" id="rfc.xref.HTTP.8"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#quoted.strings" title="Quoted Strings">Section 5.6.4</a>&gt;
  <a href="#imported.rules" class="smpl">token</a>         = &lt;token, see <a href="#HTTP" id="rfc.xref.HTTP.9"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#tokens" title="Tokens">Section 5.6.2</a>&gt;
</pre>
                            </div>
                        </section>
                        <section id="delta-seconds">
                            <h4 id="rfc.section.1.2.2"><a href="#rfc.section.1.2.2">1.2.2.</a>&nbsp;<a
                                    href="#delta-seconds">增量秒数</a></h4>
                            <div id="rfc.section.1.2.2.p.1">
                                <p>delta-seconds 规则指定一个非负整数，表示以秒为单位的时间。</p>
                            </div>
                            <div id="rfc.section.1.2.2.p.2">
                                <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.1"></span>  <a href="#delta-seconds" class="smpl">delta-seconds</a>  = 1*<a href="#core.rules" class="smpl">DIGIT</a>
</pre>
                            </div>
                            <div id="rfc.section.1.2.2.p.3">
                                <p>解析 delta-seconds 值并将其转换为二进制形式的接收方应使用至少具有 31 位非负整数范围的算术类型。如果缓存收到大于其能表示的最大整数的
                                    delta-seconds 值，或者其任何后续计算发生溢出，缓存 <em class="bcp14">MUST</em> 将该值视为 2147483648
                                    (2<sup>31</sup>) 或者它能够方便表示的最大正整数。</p>
                            </div>
                            <div id="rfc.section.1.2.2.p.4">
                                <aside>
                                    <div id="rfc.section.1.2.2.p.4.1">
                                        <p><b>注意：</b> 值 2147483648 在此出于历史原因，表示无穷（超过 68
                                            年），并且不需要以二进制形式存储；如果发生任何溢出，实施可以将其作为字符串产生，即使计算使用的算术类型不能直接表示该数字。这里重要的是能够检测到溢出并避免在后续计算中将其当作负值处理。
                                        </p>
                                    </div>
                                </aside>
                            </div>
                        </section>
                    </section>
                </section>
                <section id="caching.overview">
                    <h2 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a href="#caching.overview">缓存操作概述</a>
                    </h2>
                    <div id="rfc.section.2.p.1">
                        <p>正确的缓存操作在减少已在缓存中持有的信息传输的同时保留 HTTP 传输的语义。有关一般术语和 HTTP 的核心概念，请参见 <a
                                href="rfc9110.html#terminology" title="Terminology and Core Concepts">第 3 节</a>，见 <a
                                href="#HTTP" id="rfc.xref.HTTP.10"><cite title="HTTP Semantics">[HTTP]</cite></a>。</p>
                    </div>
                    <div id="rfc.section.2.p.2">
                        <p>尽管缓存是 HTTP 的一个完全 <em class="bcp14">OPTIONAL</em>
                            功能，但可以假定重用缓存响应是可取的，并且当没有要求或本地配置阻止它时，这种重用是默认行为。因此，HTTP
                            缓存要求侧重于防止缓存存储不可重用的响应或不恰当地重用已存储的响应，而不是强制缓存始终存储和重用特定响应。</p>
                    </div>
                    <div id="rfc.iref.c.2"></div>
                    <div id="rfc.section.2.p.3">
                        <p> <dfn>cache key</dfn> 是缓存用来选择响应的信息，至少由用于检索已存储响应的请求方法和目标 URI
                            组成；方法决定在何种情况下该响应可用于满足后续请求。然而，如今许多常用的 HTTP 缓存仅缓存 GET 响应，因此仅使用 URI 作为缓存键。</p>
                    </div>
                    <div id="rfc.section.2.p.4">
                        <p>对于受内容协商影响的请求目标，缓存可能存储多个响应。缓存通过将原始请求的某些头字段合并到缓存键中来区分这些响应，使用 <a href="rfc9110.html#field.vary"
                                class="smpl">Vary</a> 响应头字段中的信息，详见 <a href="#caching.negotiated.responses"
                                title="Calculating Cache Keys with the Vary Header Field">第 4.1 节</a>。</p>
                    </div>
                    <div id="rfc.section.2.p.5">
                        <p>缓存可能将附加内容纳入缓存键。例如，用户代理缓存可能包括引用站点的身份，从而“二重键控”缓存以避免某些隐私风险（参见 <a href="#security.timing"
                                title="Timing Attacks">第 7.2 节</a>）。</p>
                    </div>
                    <div id="rfc.section.2.p.6">
                        <p>缓存最常见地存储检索请求的成功结果：即对 GET 请求的 <a href="rfc9110.html#status.200" class="smpl">200 (OK)</a>
                            响应，其中包含目标资源的表示（见 <a href="rfc9110.html#GET" title="GET">第 9.3.1 节</a>，见 <a href="#HTTP"
                                id="rfc.xref.HTTP.11"><cite
                                    title="HTTP Semantics">[HTTP]</cite></a>）。然而，也可以存储重定向、否定结果（例如 <a
                                href="rfc9110.html#status.404" class="smpl">404 (Not Found)</a>）、不完整结果（例如 <a
                                href="rfc9110.html#status.206" class="smpl">206 (Partial Content)</a>）以及对 GET
                            以外的方法的响应（如果该方法的定义允许此类缓存并定义了适合作为缓存键的内容）。</p>
                    </div>
                    <div id="rfc.section.2.p.7">
                        <p>当缓存无法联系源服务器或无法为请求找到转发路径时，缓存为 <dfn>disconnected</dfn>。在某些情况下，断开连接的缓存可以提供陈旧的响应（参见 <a
                                href="#serving.stale.responses" title="Serving Stale Responses">第 4.2.4 节</a>）。</p>
                    </div>
                </section>
                <section id="response.cacheability">
                    <h2 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a
                            href="#response.cacheability">将响应存储在缓存中</a></h2>
                    <div id="rfc.section.3.p.1" class="avoidbreakafter">
                        <p>缓存 <em class="bcp14">MUST NOT</em> 存储对请求的响应，除非满足以下条件：</p>
                    </div>
                    <div id="rfc.section.3.p.2">
                        <ul>
                            <li>
                                <div>
                                    <p>请求方法为缓存所理解；</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>响应状态码为最终状态（参见 <a href="rfc9110.html#status.codes" title="Status Codes">第 15
                                            节</a>，见 <a href="#HTTP" id="rfc.xref.HTTP.12"><cite
                                                title="HTTP Semantics">[HTTP]</cite></a>）；</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>如果响应状态码为 206 或 304，或存在 must-understand 缓存指令（见 <a
                                            href="#cache-response-directive.must-understand" title="must-understand">第
                                            5.2.2.3 节</a>）：缓存理解该响应状态码；</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>响应中未出现 no-store 缓存指令（参见 <a href="#cache-response-directive.no-store"
                                            title="no-store">第 5.2.2.5 节</a>）；</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>如果缓存为共享：private 响应指令要么不存在，要么允许共享缓存存储经过修改的响应；参见 <a
                                            href="#cache-response-directive.private" title="private">第 5.2.2.7 节</a>）；
                                    </p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>如果缓存为共享：请求中不存在 <a href="rfc9110.html#field.authorization"
                                            class="smpl">Authorization</a> 头字段（参见 <a
                                            href="rfc9110.html#field.authorization" title="Authorization">第 11.6.2
                                            节</a>，见 <a href="#HTTP" id="rfc.xref.HTTP.13"><cite
                                                title="HTTP Semantics">[HTTP]</cite></a>），或者存在明确允许共享缓存的响应指令（参见 <a
                                            href="#caching.authenticated.responses"
                                            title="Storing Responses to Authenticated Requests">第 3.5 节</a>）；并且</p>
                                </div>
                            </li>
                            <li>
                                <div class="avoidbreakafter">
                                    <p>响应包含以下至少一项：</p>
                                </div>
                                <div>
                                    <ul>
                                        <li>a public 响应指令（参见 <a href="#cache-response-directive.public" title="public">第
                                                5.2.2.9 节</a>）；</li>
                                        <li>a private 响应指令（如果缓存不是共享的，参见 <a href="#cache-response-directive.private"
                                                title="private">第 5.2.2.7 节</a>）；</li>
                                        <li>一个 <a href="#field.expires" class="smpl">Expires</a> 头字段（参见 <a
                                                href="#field.expires" id="rfc.xref.field.expires.1" title="Expires">第
                                                5.3 节</a>）；</li>
                                        <li>a max-age 响应指令（参见 <a href="#cache-response-directive.max-age"
                                                title="max-age">第 5.2.2.1 节</a>）；</li>
                                        <li>如果缓存为共享：一个 s-maxage 响应指令（参见 <a href="#cache-response-directive.s-maxage"
                                                title="s-maxage">第 5.2.2.10 节</a>）；</li>
                                        <li>允许其被缓存的缓存扩展（参见 <a href="#cache.control.extensions"
                                                title="Extension Directives">第 5.2.3 节</a>）；或</li>
                                        <li>已定义为可启发式缓存的状态码（参见 <a href="#heuristic.freshness"
                                                title="Calculating Heuristic Freshness">第 4.2.2 节</a>）。</li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div id="rfc.section.3.p.3">
                        <p>注意，缓存扩展可以覆盖所列的任何要求；见 <a href="#cache.control.extensions" title="Extension Directives">第 5.2.3
                                节</a>。</p>
                    </div>
                    <div id="rfc.section.3.p.4">
                        <p>在此上下文中，如果缓存识别某请求方法或某响应状态码并实现所有指定的与缓存相关的行为，则称其“已理解”该方法或状态码。</p>
                    </div>
                    <div id="rfc.section.3.p.5">
                        <p>注意，在正常操作中，一些缓存不会存储既没有缓存验证器也没有显式过期时间的响应，因为此类响应通常不适合存储。然而，并未禁止缓存存储此类响应。</p>
                    </div>
                    <section id="storing.fields">
                        <h3 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a>&nbsp;<a
                                href="#storing.fields">存储头部和尾部字段</a></h3>
                        <div id="rfc.section.3.1.p.1" class="avoidbreakafter">
                            <p>缓存在存储响应时 <em class="bcp14">MUST</em> 包含所有接收到的响应头字段 — 包括未识别的字段 —；这保证了新的 HTTP
                                头字段可以成功部署。但作以下例外：</p>
                        </div>
                        <div id="rfc.section.3.1.p.2">
                            <ul>
                                <li>The Connection 头字段以及其列出的字段根据 <a href="rfc9110.html#field.connection"
                                        title="Connection">第 7.6.1 节</a> 要求在转发消息前被移除。此操作 <em class="bcp14">MAY</em>
                                    在存储之前完成以实现该要求。</li>
                                <li>同样，某些字段的语义要求在转发消息前移除这些字段，该操作 <em class="bcp14">MAY</em> 在存储之前完成；示例见 <a
                                        href="rfc9110.html#field.connection" title="Connection">第 7.6.1 节</a>。</li>
                                <li>no-cache（参见 <a href="#cache-response-directive.no-cache" title="no-cache">第 5.2.2.4
                                        节</a>）和 private（参见 <a href="#cache-response-directive.private" title="private">第
                                        5.2.2.7 节</a>）缓存指令可以带有参数，分别阻止所有缓存或共享缓存存储某些头字段。</li>
                                <li>针对缓存在转发请求时所使用代理特有的头字段 <em class="bcp14">MUST NOT</em> 被存储，除非缓存将该代理的身份纳入缓存键。实际上，这主要限于
                                    Proxy-Authenticate（参见 <a href="rfc9110.html#field.proxy-authenticate"
                                        title="Proxy-Authenticate">第 11.7.1 节</a>）、Proxy-Authentication-Info（参见 <a
                                        href="rfc9110.html#field.proxy-authentication-info"
                                        title="Proxy-Authentication-Info">第 11.7.3 节</a>）和 Proxy-Authorization（参见 <a
                                        href="rfc9110.html#field.proxy-authorization" title="Proxy-Authorization">第
                                        11.7.2 节</a>）。</li>
                            </ul>
                        </div>
                        <div id="rfc.section.3.1.p.3">
                            <p>缓存 <em class="bcp14">MAY</em> 将尾部字段与头部字段分开存储，也可以丢弃它们。缓存 <em class="bcp14">MUST NOT</em>
                                将尾部字段与头部字段合并。</p>
                        </div>
                    </section>
                    <section id="update">
                        <h3 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a>&nbsp;<a
                                href="#update">更新已存储的头字段</a></h3>
                        <div id="rfc.section.3.2.p.1">
                            <p>缓存在若干情况下需要用另一个（通常是更新的）响应来更新已存储响应的头字段；例如，见第 <a href="#combining.responses"
                                    title="Combining Partial Content">3.4 节</a>、<a href="#freshening.responses"
                                    title="Freshening Stored Responses upon Validation">第 4.3.4 节</a> 和 <a
                                    href="#head.effects" title="Freshening Responses with HEAD">第 4.3.5 节</a>。</p>
                        </div>
                        <div id="rfc.section.3.2.p.2" class="avoidbreakafter">
                            <p>在这样做时，缓存 <em class="bcp14">MUST</em> 将所提供响应中的每个头字段添加到已存储的响应中，替换已存在的字段值，但有以下例外：</p>
                        </div>
                        <div id="rfc.section.3.2.p.3">
                            <ul>
                                <li>第 3.1 节 (<a href="#storing.fields"
                                        title="Storing Header and Trailer Fields">存储头部和尾部字段</a>) 中从存储中例外的头字段，</li>
                                <li>缓存所依赖的已存响应中的头字段，如下所述，</li>
                                <li>接收方自动处理并移除的头字段，如下所述，和</li>
                                <li> <a href="rfc9110.html#field.content-length" class="smpl">Content-Length</a> 头字段。
                                </li>
                            </ul>
                        </div>
                        <div id="rfc.section.3.2.p.4">
                            <p>在某些情况下（尤其是在用户代理中），缓存存储的是对接收响应进行处理后的结果，而不是响应本身；更新影响该处理的头字段可能导致不一致行为和安全问题。处于这种情况的缓存 <em
                                    class="bcp14">MAY</em> 在例外情况下从更新已存响应中省略这些头字段，但 <em class="bcp14">SHOULD</em>
                                将此类省略限制为为保证已存响应完整性所必需的字段。</p>
                        </div>
                        <div id="rfc.section.3.2.p.5">
                            <p>例如，浏览器可能在接收响应时解码内容编码，从而在其已存储的数据与响应的原始元数据之间产生脱节。用不同的 <a
                                    href="rfc9110.html#field.content-encoding" class="smpl">Content-Encoding</a>
                                头字段更新该已存元数据将是有问题的。同样，浏览器可能存储解析后的 HTML 树而不是响应中接收到的内容；在此情况下更新 <a
                                    href="rfc9110.html#field.content-type" class="smpl">Content-Type</a>
                                头字段也不可行，因为解析时对格式所做的任何假设将不再有效。</p>
                        </div>
                        <div id="rfc.section.3.2.p.6">
                            <p>此外，一些字段会被 HTTP 实现自动处理并移除，例如 <a href="rfc9110.html#field.content-range"
                                    class="smpl">Content-Range</a> 头字段。实现 <em class="bcp14">MAY</em>
                                在更新时自动省略此类头字段，即使实际未执行该处理。</p>
                        </div>
                        <div id="rfc.section.3.2.p.7">
                            <p>注意，Content-* 前缀并不表示某个头字段在更新时会被省略；它是 MIME 头字段的约定，而非 HTTP 专用信号。</p>
                        </div>
                    </section>
                    <section id="incomplete.responses">
                        <h3 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3.</a>&nbsp;<a
                                href="#incomplete.responses">存储不完整的响应</a></h3>
                        <div id="rfc.section.3.3.p.1">
                            <p>如果请求方法为 GET，响应状态码为 <a href="rfc9110.html#status.200" class="smpl">200
                                    (OK)</a>，并且已接收了整个响应头部分，则缓存 <em class="bcp14">MAY</em> 存储不完整的响应（见 <a
                                    href="rfc9110.html#message.framing" title="Framing and Completeness">第 6.1 节</a>，见
                                <a href="#HTTP" id="rfc.xref.HTTP.19"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>），前提是将已存响应记录为不完整。类似地，<a
                                    href="rfc9110.html#status.206" class="smpl">206 (Partial Content)</a> 响应 <em
                                    class="bcp14">MAY</em> 按作不完整的 <a href="rfc9110.html#status.200" class="smpl">200
                                    (OK)</a> 响应存储。但如果缓存不支持 <a href="rfc9110.html#field.range" class="smpl">Range</a> 和
                                <a href="rfc9110.html#field.content-range" class="smpl">Content-Range</a>
                                头字段，或不理解这些字段中使用的范围单位，则缓存 <em class="bcp14">MUST NOT</em> 存储不完整或部分内容响应。
                            </p>
                        </div>
                        <div id="rfc.section.3.3.p.2">
                            <p>缓存 <em class="bcp14">MAY</em> 通过发出后续范围请求（见 <a href="rfc9110.html#field.range"
                                    title="Range">第 14.2 节</a>，见 <a href="#HTTP" id="rfc.xref.HTTP.20"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>）并将成功响应与已存响应合并来完成已存的不完整响应，如 <a
                                    href="#combining.responses" title="Combining Partial Content">第 3.4 节</a>
                                中定义。除非响应已被补全，或请求是部分请求并指定的范围完全位于不完整响应内，否则缓存 <em class="bcp14">MUST NOT</em>
                                使用不完整响应来回答请求。缓存 <em class="bcp14">MUST NOT</em> 在未明确使用 <a href="rfc9110.html#status.206"
                                    class="smpl">206 (Partial Content)</a> 状态码标记的情况下向客户端发送部分响应。</p>
                        </div>
                    </section>
                    <section id="combining.responses">
                        <h3 id="rfc.section.3.4"><a href="#rfc.section.3.4">3.4.</a>&nbsp;<a
                                href="#combining.responses">合并部分内容</a></h3>
                        <div id="rfc.section.3.4.p.1">
                            <p>如果连接过早关闭或请求使用了一个或多个 Range 说明符（见 <a href="rfc9110.html#field.range" title="Range">第 14.2
                                    节</a>，见 <a href="#HTTP" id="rfc.xref.HTTP.21"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>），响应可能仅传输部分表示。在多次此类传输之后，缓存可能已接收同一表示的若干范围。如果这些部分都共享相同的强验证器并且缓存遵守
                                <a href="rfc9110.html#combining.byte.ranges" title="Combining Parts">第 15.3.7.3 节</a>
                                中客户端要求，则缓存 <em class="bcp14">MAY</em> 将这些范围合并为单个已存响应，并重用该响应以满足后续请求。
                            </p>
                        </div>
                        <div id="rfc.section.3.4.p.2">
                            <p>在将新响应与一个或多个已存响应合并时，缓存 <em class="bcp14">MUST</em> 使用新响应中提供的头字段更新已存响应头字段，按 <a
                                    href="#update" title="Updating Stored Header Fields">第 3.2 节</a> 的规定。</p>
                        </div>
                    </section>
                    <section id="caching.authenticated.responses">
                        <h3 id="rfc.section.3.5"><a href="#rfc.section.3.5">3.5.</a>&nbsp;<a
                                href="#caching.authenticated.responses">存储对已认证请求的响应</a>
                        </h3>
                        <div id="rfc.section.3.5.p.1">
                            <p>共享缓存 <em class="bcp14">MUST NOT</em> 使用对带有 <a href="rfc9110.html#field.authorization"
                                    class="smpl">Authorization</a> 头字段的请求的已缓存响应来满足任何后续请求，除非该响应包含一个 <a
                                    href="#field.cache-control" class="smpl">Cache-Control</a> 字段，其带有允许共享缓存存储该响应的响应指令（见
                                <a href="#cache-response-directive" title="Response Directives">第 5.2.2
                                    节</a>），并且缓存对该响应遵从该指令的要求。
                            </p>
                        </div>
                        <div id="rfc.section.3.5.p.2">
                            <p>在本规范中，下列响应指令具有此类效果：must-revalidate（参见 <a href="#cache-response-directive.must-revalidate"
                                    title="must-revalidate">第 5.2.2.2 节</a>）、public（参见 <a
                                    href="#cache-response-directive.public" title="public">第 5.2.2.9 节</a>）和 s-maxage（参见
                                <a href="#cache-response-directive.s-maxage" title="s-maxage">第 5.2.2.10 节</a>）。
                            </p>
                        </div>
                    </section>
                </section>
                <section id="constructing.responses.from.caches">
                    <h2 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a
                            href="#constructing.responses.from.caches">从缓存构建响应</a></h2>
                    <div id="rfc.section.4.p.1" class="avoidbreakafter">
                        <p>当收到请求时，缓存 <em class="bcp14">MUST NOT</em> 重用已存的响应，除非满足下列条件：</p>
                    </div>
                    <div id="rfc.section.4.p.2">
                        <ul>
                            <li>
                                <div>
                                    <p>所呈现的目标 URI（<a href="rfc9110.html#target.resource"
                                            title="Determining the Target Resource">第 7.1 节</a>，见 <a href="#HTTP"
                                            id="rfc.xref.HTTP.24"><cite
                                                title="HTTP Semantics">[HTTP]</cite></a>）与已存响应的目标 URI 匹配，且</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>与已存响应关联的请求方法允许将其用于所呈现的请求，且</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>已存响应指定用于缓存键的请求头字段（如果有）与当前呈现的请求中这些字段相匹配（参见 <a href="#caching.negotiated.responses"
                                            title="Calculating Cache Keys with the Vary Header Field">第 4.1 节</a>），且</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>已存响应不包含 no-cache 指令（见 <a href="#cache-response-directive.no-cache"
                                            title="no-cache">第 5.2.2.4 节</a>），除非它已被成功验证（见 <a href="#validation.model"
                                            title="Validation">第 4.3 节</a>），且</p>
                                </div>
                            </li>
                            <li>
                                <div class="avoidbreakafter">
                                    <p>已存响应满足下列之一：</p>
                                </div>
                                <div>
                                    <ul>
                                        <li>是新鲜的（参见 <a href="#expiration.model" title="Freshness">第 4.2 节</a>），或</li>
                                        <li>被允许作为陈旧的响应提供（参见 <a href="#serving.stale.responses"
                                                title="Serving Stale Responses">第 4.2.4 节</a>），或</li>
                                        <li>已被成功验证（参见 <a href="#validation.model" title="Validation">第 4.3 节</a>）。</li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div id="rfc.section.4.p.3">
                        <p>请注意，缓存扩展可以覆盖上述任何要求；见 <a href="#cache.control.extensions" title="Extension Directives">第 5.2.3
                                节</a>。</p>
                    </div>
                    <div id="rfc.section.4.p.4">
                        <p>当在不进行验证的情况下使用已存响应来满足请求时，缓存 <em class="bcp14">MUST</em> 生成一个 <a href="#field.age"
                                class="smpl">Age</a> 头字段（<a href="#field.age" id="rfc.xref.field.age.1" title="Age">第
                                5.1 节</a>），用等于该已存响应 current_age 的值替换响应中任何已存在的 Age 字段；参见 <a href="#age.calculations"
                                title="Calculating Age">第 4.2.3 节</a>。</p>
                    </div>
                    <div id="rfc.section.4.p.5">
                        <p>对于不安全的方法（参见 <a href="rfc9110.html#safe.methods" title="Safe Methods">第 9.2.1 节</a>，见 <a
                                href="#HTTP" id="rfc.xref.HTTP.25"><cite title="HTTP Semantics">[HTTP]</cite></a>），缓存
                            <em class="bcp14">MUST</em> 将请求写通到源服务器；也就是说，缓存不得在将请求转发并收到相应响应之前为此类请求生成回复。
                        </p>
                    </div>
                    <div id="rfc.section.4.p.6">
                        <p>另外，注意不安全的请求可能会使已存响应失效；参见 <a href="#invalidation" title="Invalidating Stored Responses">第 4.4
                                节</a>。</p>
                    </div>
                    <div id="rfc.iref.c.3"></div>
                    <div id="rfc.section.4.p.7">
                        <p>缓存可以使用已存或可存储的响应来满足多个请求，前提是允许将该响应重用于这些请求。这使缓存能够“合并请求”（将多个到达的请求在缓存未命中时合并为单个向源的转发请求），从而减少源服务器和网络的负载。但请注意，如果缓存无法将返回的响应用于某些或全部合并的请求，它仍需要转发这些请求以满足它们，这可能会引入额外的延迟。
                        </p>
                    </div>
                    <div id="rfc.section.4.p.8">
                        <p>当存有多个合适的响应时，缓存 <em class="bcp14">MUST</em> 使用最近的那个（以 <a href="rfc9110.html#field.date"
                                class="smpl">Date</a> 头字段确定）。它也可以通过转发带有 "Cache-Control: max-age=0" 或 "Cache-Control:
                            no-cache" 的请求来消除歧义以决定使用哪个响应。</p>
                    </div>
                    <div id="rfc.section.4.p.9">
                        <p>没有时钟的缓存（参见 <a href="rfc9110.html#http.date" title="Date/Time Formats">第 5.6.7 节</a>，见 <a
                                href="#HTTP" id="rfc.xref.HTTP.26"><cite title="HTTP Semantics">[HTTP]</cite></a>）<em
                                class="bcp14">MUST</em> 在每次使用时重新验证已存响应。</p>
                    </div>
                    <section id="caching.negotiated.responses">
                        <h3 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1.</a>&nbsp;<a
                                href="#caching.negotiated.responses">使用 Vary 头字段计算缓存键</a></h3>
                        <div id="rfc.section.4.1.p.1">
                            <p>当缓存收到一个可以由已存响应满足的请求，并且该已存响应包含 <a href="rfc9110.html#field.vary" class="smpl">Vary</a>
                                头字段（见 <a href="rfc9110.html#field.vary" title="Vary">第 12.5.5 节</a>，见 <a href="#HTTP"
                                    id="rfc.xref.HTTP.27"><cite title="HTTP Semantics">[HTTP]</cite></a>）时，除非已呈现请求中由该
                                Vary 值指定的所有请求头字段与存储该响应时原始请求中的对应字段匹配（即导致缓存该响应的请求），否则缓存 <em class="bcp14">MUST NOT</em>
                                在不进行重新验证的情况下使用该已存响应。</p>
                        </div>
                        <div id="rfc.section.4.1.p.2" class="avoidbreakafter">
                            <p>两个请求的头字段当且仅当可以通过下列任一转换将第一个请求的头字段变换为第二个请求的头字段时，定义为匹配：</p>
                        </div>
                        <div id="rfc.section.4.1.p.3">
                            <ul>
                                <li>添加或移除允许的空白（在头字段语法中允许的情况下）；</li>
                                <li>合并具有相同字段名的多个头字段行（参见 <a href="rfc9110.html#field.lines"
                                        title="Field Lines and Combined Field Value">第 5.2 节</a>，见 <a href="#HTTP"
                                        id="rfc.xref.HTTP.28"><cite title="HTTP Semantics">[HTTP]</cite></a>）；</li>
                                <li>按照头字段规范已知语义等价的方式规范化两个头字段值（例如：在顺序不重要时重新排序字段值；在值被定义为大小写不敏感时进行大小写规范化）。</li>
                            </ul>
                        </div>
                        <div id="rfc.section.4.1.p.4">
                            <p>如果（在可能进行的任何规范化之后）某头字段在请求中缺失，它仅在另一个请求中也缺失时才能匹配。</p>
                        </div>
                        <div id="rfc.section.4.1.p.5">
                            <p>包含成员 "*" 的 <a href="rfc9110.html#field.vary" class="smpl">Vary</a> 头字段值的已存响应总是匹配失败。</p>
                        </div>
                        <div id="rfc.section.4.1.p.6">
                            <p>如果多个已存响应匹配，缓存需要选择一个来使用。当被提名的请求头字段具有已知的偏好排序机制时（例如 <a href="rfc9110.html#field.accept"
                                    class="smpl">Accept</a> 等请求头字段上的 q 值），可以使用该机制来选择首选响应。如果没有此类机制，或导致响应同等优先，则按 <a
                                    href="rfc9110.html#field.date" class="smpl">Date</a> 头字段选择最近的响应，参见 <a
                                    href="#constructing.responses.from.caches"
                                    title="Constructing Responses from Caches">第 4 节</a>。</p>
                        </div>
                        <div id="rfc.section.4.1.p.7">
                            <p>有些资源在默认响应（即请求不表达任何偏好时发送的响应）中错误地省略了 Vary 头字段，这会导致在后续请求中选择该默认响应，即使存在更优先的响应也会如此。当缓存针对某目标 URI
                                有多个已存响应且其中一个或多个省略了 Vary 头字段时，缓存 <em class="bcp14">SHOULD</em> 选择最近的、具有有效 Vary
                                字段值的已存响应（参见 <a href="#age.calculations" title="Calculating Age">第 4.2.3 节</a>）。</p>
                        </div>
                        <div id="rfc.section.4.1.p.8">
                            <p>如果没有已存响应匹配，则缓存无法满足该呈现的请求。通常，这个请求会被转发到源服务器，可能在转发时加入用于描述缓存已存哪些响应的前置条件（参见 <a
                                    href="#validation.model" title="Validation">第 4.3 节</a>）。</p>
                        </div>
                    </section>
                    <section id="expiration.model">
                        <h3 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2.</a>&nbsp;<a
                                href="#expiration.model">新鲜度</a></h3>
                        <div id="rfc.section.4.2.p.1">
                            <p><dfn>新鲜的</dfn> 响应是指其 age 尚未超过其 freshness lifetime 的响应。相反，<dfn>陈旧的</dfn> 响应则是已超过该期限的响应。
                            </p>
                        </div>
                        <div id="rfc.iref.f.1"></div>
                        <div id="rfc.iref.e.1"></div>
                        <div id="rfc.iref.h.1"></div>
                        <div id="rfc.section.4.2.p.2">
                            <p>响应的 <dfn>freshness lifetime</dfn> 是其由源服务器生成到其到期时间之间的时长。<dfn>显式到期时间</dfn>
                                是源服务器期望缓存在不进行进一步验证的情况下不再使用已存响应的时间，而 <dfn>启发式到期时间</dfn> 则是在没有显式到期时间可用时由缓存分配的时间。</p>
                        </div>
                        <div id="rfc.iref.a.1"></div>
                        <div id="rfc.section.4.2.p.3">
                            <p>响应的 <dfn>age</dfn> 是自响应由源服务器生成或通过与源服务器成功验证以来所经过的时间。</p>
                        </div>
                        <div id="rfc.section.4.2.p.4">
                            <p>当响应是新鲜的时，可以在不联系源服务器的情况下用于满足后续请求，从而提高效率。</p>
                        </div>
                        <div id="rfc.section.4.2.p.5">
                            <p>确定新鲜度的主要机制是源服务器在将来的某一时间提供显式到期时间，使用 <a href="#field.expires" class="smpl">Expires</a>
                                头字段（见 <a href="#field.expires" id="rfc.xref.field.expires.2" title="Expires">第 5.3
                                    节</a>）或 max-age 响应指令（见 <a href="#cache-response-directive.max-age" title="max-age">第
                                    5.2.2.1 节</a>）。通常，源服务器会为响应分配未来的显式到期时间，认为在到期时间到达之前，表示不太可能在语义上发生显著变化。</p>
                        </div>
                        <div id="rfc.section.4.2.p.6">
                            <p>如果源服务器希望强制缓存对每个请求都进行验证，它可以将显式到期时间设置为过去的时间以表明响应已经陈旧。合规的缓存通常会在重用陈旧缓存响应之前进行验证（参见 <a
                                    href="#serving.stale.responses" title="Serving Stale Responses">第 4.2.4 节</a>）。</p>
                        </div>
                        <div id="rfc.section.4.2.p.7">
                            <p>由于源服务器并不总是提供显式到期时间，因此在某些情况下缓存也被允许使用启发式来确定到期时间（参见 <a href="#heuristic.freshness"
                                    title="Calculating Heuristic Freshness">第 4.2.2 节</a>）。</p>
                        </div>
                        <div id="rfc.section.4.2.p.8" class="avoidbreakafter">
                            <p>确定响应是否新鲜的计算如下：</p>
                        </div>
                        <div id="rfc.section.4.2.p.9">
                            <pre class="text">   response_is_fresh = (freshness_lifetime &gt; current_age)
</pre>
                        </div>
                        <div id="rfc.section.4.2.p.10">
                            <p>freshness_lifetime 的定义见 <a href="#calculating.freshness.lifetime"
                                    title="Calculating Freshness Lifetime">第 4.2.1 节</a>；current_age 的定义见 <a
                                    href="#age.calculations" title="Calculating Age">第 4.2.3 节</a>。</p>
                        </div>
                        <div id="rfc.section.4.2.p.11">
                            <p>客户端可以发送 max-age 或 min-fresh 请求指令（见 <a href="#cache-request-directive"
                                    title="Request Directives">第 5.2.1 节</a>）以建议对应响应的新鲜度计算限制。然而，缓存不必强制遵从这些建议。</p>
                        </div>
                        <div id="rfc.section.4.2.p.12" class="avoidbreakafter">
                            <p>在计算新鲜度时，为避免常见的日期解析问题：</p>
                        </div>
                        <div id="rfc.section.4.2.p.13">
                            <ul>
                                <li>尽管所有日期格式都被规定为大小写敏感，缓存接收方 <em class="bcp14">SHOULD</em> 以大小写不敏感的方式匹配字段值。</li>
                                <li>如果缓存接收方的内部时间实现的分辨率低于 HTTP-date 的值，则接收方 <em class="bcp14">MUST</em> 将解析后的 <a
                                        href="#field.expires" class="smpl">Expires</a> 日期内部表示为小于或等于接收值的最接近时间。</li>
                                <li>缓存接收方 <em class="bcp14">MUST NOT</em> 允许本地时区影响 age 或过期时间的计算或比较。</li>
                                <li>缓存接收方 <em class="bcp14">SHOULD</em> 将带有非 "GMT" 时区缩写的日期视为计算过期时无效。</li>
                            </ul>
                        </div>
                        <div id="rfc.section.4.2.p.14">
                            <p>注意，新鲜度仅适用于缓存操作；它不能用来强制用户代理刷新其显示或重新加载资源。有关缓存与历史机制之间差异的解释，见 <a href="#history.lists"
                                    title="Relationship to Applications and Other Caches">第 6 节</a>。</p>
                        </div>
                        <section id="calculating.freshness.lifetime">
                            <h4 id="rfc.section.4.2.1"><a href="#rfc.section.4.2.1">4.2.1.</a>&nbsp;<a
                                    href="#calculating.freshness.lifetime">计算新鲜度生存期</a></h4>
                            <div id="rfc.section.4.2.1.p.1" class="avoidbreakafter">
                                <p>缓存可以通过评估以下规则并使用第一个匹配项来计算响应的 freshness_lifetime：</p>
                            </div>
                            <div id="rfc.section.4.2.1.p.2">
                                <ul>
                                    <li>如果缓存是共享的并且存在 s-maxage 响应指令（见 <a href="#cache-response-directive.s-maxage"
                                            title="s-maxage">第 5.2.2.10 节</a>），则使用其值；或</li>
                                    <li>如果存在 max-age 响应指令（见 <a href="#cache-response-directive.max-age"
                                            title="max-age">第 5.2.2.1 节</a>），则使用其值；或</li>
                                    <li>如果存在 <a href="#field.expires" class="smpl">Expires</a> 响应头字段（见 <a
                                            href="#field.expires" id="rfc.xref.field.expires.3" title="Expires">第 5.3
                                            节</a>），则使用其值减去 <a href="rfc9110.html#field.date" class="smpl">Date</a>
                                        响应头字段的值（如果不存在 Date，则使用接收消息的时间，参见 <a href="rfc9110.html#field.date"
                                            title="Date">第 6.6.1 节</a>）；或</li>
                                    <li>否则，响应中没有显式的到期时间。启发式的 freshness lifetime 可能适用；参见 <a href="#heuristic.freshness"
                                            title="Calculating Heuristic Freshness">第 4.2.2 节</a>。</li>
                                </ul>
                            </div>
                            <div id="rfc.section.4.2.1.p.3">
                                <p>请注意，此计算旨在通过尽可能使用源服务器提供的时钟信息来减少时钟偏移的影响。</p>
                            </div>
                            <div id="rfc.section.4.2.1.p.4">
                                <p>当某指令存在多个值（例如，两行 <a href="#field.expires" class="smpl">Expires</a> 头字段或多个
                                    Cache-Control: max-age 指令），应使用第一个出现的值，或将响应视为已陈旧。如果指令相互冲突（例如同时存在 max-age 和
                                    no-cache），应遵从最严格的指令。鼓励缓存将具有无效新鲜度信息的响应（例如 max-age 指令内容非整数）视为已陈旧。</p>
                            </div>
                        </section>
                        <section id="heuristic.freshness">
                            <h4 id="rfc.section.4.2.2"><a href="#rfc.section.4.2.2">4.2.2.</a>&nbsp;<a
                                    href="#heuristic.freshness">计算启发式新鲜度</a></h4>
                            <div id="rfc.section.4.2.2.p.1">
                                <p>由于源服务器并不总是提供显式到期时间，当未指定显式时间时，缓存 <em class="bcp14">MAY</em> 使用启发式为响应分配到期时间，使用其他字段值（例如
                                    <a href="rfc9110.html#field.last-modified" class="smpl">Last-Modified</a>
                                    时间）来估算合理的到期时间。本规范不提供具体算法，但对其结果施加最坏情况约束。
                                </p>
                            </div>
                            <div id="rfc.section.4.2.2.p.2">
                                <p>当已存响应中存在显式到期时间时，缓存 <em class="bcp14">MUST NOT</em> 使用启发式来确定新鲜度。由于 <a
                                        href="#response.cacheability" title="Storing Responses in Caches">第 3 节</a>
                                    中的要求，启发式仅可用于对没有显式新鲜度且其状态码被定义为可启发式缓存的响应（例如见 <a
                                        href="rfc9110.html#overview.of.status.codes" title="Overview of Status Codes">第
                                        15.1 节</a>）以及对没有显式新鲜度但被明确标记为可缓存（例如带有 public 指令）的响应。</p>
                            </div>
                            <div id="rfc.section.4.2.2.p.3">
                                <p>注意，在之前的规范中，可启发式缓存的响应状态码被称为“默认可缓存”。</p>
                            </div>
                            <div id="rfc.section.4.2.2.p.4">
                                <p>如果响应具有 <a href="rfc9110.html#field.last-modified" class="smpl">Last-Modified</a>
                                    头字段（见 <a href="rfc9110.html#field.last-modified" title="Last-Modified">第 8.8.2
                                        节</a>），鼓励缓存使用不超过自该时间以来间隔某一分数的启发式到期值。此分数的典型设置可能是 10%。</p>
                            </div>
                            <div id="rfc.section.4.2.2.p.5">
                                <aside>
                                    <div id="rfc.section.4.2.2.p.5.1">
                                        <p><b>注意：</b> 早期版本的 HTTP 规范（见 <a
                                                href="https://www.rfc-editor.org/rfc/rfc2616.html#section-13.9">RFC2616
                                                第 13.9 节</a>）禁止缓存对带查询组件（即包含 "?"）的 URI
                                            计算启发式新鲜度。实际上，这一限制并未被广泛实现。因此，鼓励源服务器在希望阻止缓存时发送显式指令（例如 Cache-Control:
                                            no-cache）。</p>
                                    </div>
                                </aside>
                            </div>
                        </section>
                        <section id="age.calculations">
                            <h4 id="rfc.section.4.2.3"><a href="#rfc.section.4.2.3">4.2.3.</a>&nbsp;<a
                                    href="#age.calculations">计算 Age</a></h4>
                            <div id="rfc.section.4.2.3.p.1">
                                <p><a href="#field.age" class="smpl">Age</a> 头字段用于在从缓存获取响应消息时传达对其估计的年龄。Age
                                    字段值是缓存估计的自源服务器生成或验证该响应以来经过的秒数。因此，Age 值等于该响应在从源服务器到缓存路径上每个缓存中驻留的时间之和，加上在网络路径上传输的时间。
                                </p>
                            </div>
                            <div id="rfc.section.4.2.3.p.2" class="avoidbreakafter">
                                <p>Age 的计算使用以下数据：</p>
                            </div>
                            <div id="rfc.section.4.2.3.p.3">
                                <dl class="nohang">
                                    <dt><dfn>age_value</dfn></dt>
                                    <dd>术语 "age_value" 表示 <a href="#field.age" class="smpl">Age</a> 头字段的值（见 <a
                                            href="#field.age" id="rfc.xref.field.age.2" title="Age">第 5.1
                                            节</a>），以适合算术运算的形式表示；如果不可用则为 0。</dd>
                                    <dt><dfn>date_value</dfn></dt>
                                    <dd>术语 "date_value" 表示 Date 头字段的值，以适合算术运算的形式表示。有关 Date 头字段的定义及对缺失 Date 的响应的要求，请参见 <a
                                            href="rfc9110.html#field.date" title="Date">第 6.6.1 节</a>，见 <a href="#HTTP"
                                            id="rfc.xref.HTTP.32"><cite title="HTTP Semantics">[HTTP]</cite></a>。</dd>
                                    <dt><dfn>now</dfn></dt>
                                    <dd>术语 "now" 表示本实现时钟的当前值（参见 <a href="rfc9110.html#http.date"
                                            title="Date/Time Formats">第 5.6.7 节</a>，见 <a href="#HTTP"
                                            id="rfc.xref.HTTP.33"><cite title="HTTP Semantics">[HTTP]</cite></a>）。</dd>
                                    <dt><dfn>request_time</dfn></dt>
                                    <dd>发出导致已存响应的请求时的时钟值。</dd>
                                    <dt><dfn>response_time</dfn></dt>
                                    <dd>接收该响应时的时钟值。</dd>
                                </dl>
                            </div>
                            <div id="rfc.section.4.2.3.p.4" class="avoidbreakafter">
                                <p>响应的年龄可以通过两种完全独立的方式计算：</p>
                            </div>
                            <div id="rfc.section.4.2.3.p.5">
                                <ol>
                                    <li>“apparent_age”：response_time 减去 date_value，如果该实现的时钟与源服务器时钟合理同步；若结果为负，则替换为零。</li>
                                    <li>“corrected_age_value”：如果响应路径上的所有缓存都实现了 HTTP/1.1 或更高版本，则使用该值。缓存 <em
                                            class="bcp14">MUST</em> 将此值相对于发起请求的时间解释，而非响应被接收的时间。</li>
                                </ol>
                            </div>
                            <div id="rfc.section.4.2.3.p.6">
                                <pre class="text">  apparent_age = max(0, response_time - date_value);

  response_delay = response_time - request_time;
  corrected_age_value = age_value + response_delay;
</pre>
                            </div>
                            <div id="rfc.section.4.2.3.p.7">
                                <p>在存在可能不会正确插入 <a href="#field.age" class="smpl">Age</a>
                                    的非常老旧缓存实现的情况下，corrected_age_value <em class="bcp14">MAY</em> 被用作
                                    corrected_initial_age。更保守的计算方法为：</p>
                            </div>
                            <div id="rfc.section.4.2.3.p.8">
                                <pre class="text">  corrected_initial_age = max(apparent_age, corrected_age_value);
</pre>
                            </div>
                            <div id="rfc.section.4.2.3.p.9">
                                <p>已存响应的 current_age 可以通过将自上次由源服务器验证以来经过的时间（以秒为单位）加到 corrected_initial_age 上来计算。</p>
                            </div>
                            <div id="rfc.section.4.2.3.p.10">
                                <pre class="text">  resident_time = now - response_time;
  current_age = corrected_initial_age + resident_time;
</pre>
                            </div>
                        </section>
                        <section id="serving.stale.responses">
                            <h4 id="rfc.section.4.2.4"><a href="#rfc.section.4.2.4">4.2.4.</a>&nbsp;<a
                                    href="#serving.stale.responses">提供陈旧的响应</a></h4>
                            <div id="rfc.section.4.2.4.p.1">
                                <p>“陈旧的”响应是指那些具有显式或可启发式计算的到期信息，但根据 <a href="#expiration.model" title="Freshness">第 4.2
                                        节</a> 的计算并不新鲜的响应。</p>
                            </div>
                            <div id="rfc.section.4.2.4.p.2">
                                <p>如果被协议内的显式指令禁止（例如 no-cache 响应指令、must-revalidate 响应指令，或适用的 s-maxage 或 proxy-revalidate
                                    响应指令；参见 <a href="#cache-response-directive" title="Response Directives">第 5.2.2
                                        节</a>），缓存 <em class="bcp14">MUST NOT</em> 生成陈旧响应。</p>
                            </div>
                            <div id="rfc.section.4.2.4.p.3">
                                <p>除非缓存处于断开连接状态或客户端或源服务器明确允许（例如通过请求中的 max-stale 指令，见 <a href="#cache-request-directive"
                                        title="Request Directives">第 5.2.1 节</a>，或通过如 <a href="#RFC5861"
                                        id="rfc.xref.RFC5861.1"><cite
                                            title="HTTP Cache-Control Extensions for Stale Content">[RFC5861]</cite></a>
                                    中定义的扩展指令，或根据带外合同的配置），否则缓存 <em class="bcp14">MUST NOT</em> 生成陈旧响应。</p>
                            </div>
                        </section>
                    </section>
                    <section id="validation.model">
                        <h3 id="rfc.section.4.3"><a href="#rfc.section.4.3">4.3.</a>&nbsp;<a
                                href="#validation.model">验证</a></h3>
                        <div id="rfc.section.4.3.p.1">
                            <p>当缓存对所请求的 URI 存有一个或多个已存响应但不能使用其中任何一个来满足请求（例如因为它们不新鲜或无法选择；见 <a
                                    href="#caching.negotiated.responses"
                                    title="Calculating Cache Keys with the Vary Header Field">第 4.1
                                    节</a>）时，它可以在转发请求中使用有条件请求机制（见 <a href="rfc9110.html#conditional.requests"
                                    title="Conditional Requests">第 13 节</a>，见 <a href="#HTTP"
                                    id="rfc.xref.HTTP.34"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a>），以便让下一个接收请求的服务器有机会选择一个可用的已存响应并在此过程中更新存储的元数据，或用新响应替换已存响应。这一过程称为对已存响应进行验证或重新验证。
                            </p>
                        </div>
                        <section id="validation.sent">
                            <h4 id="rfc.section.4.3.1"><a href="#rfc.section.4.3.1">4.3.1.</a>&nbsp;<a
                                    href="#validation.sent">发送验证请求</a></h4>
                            <div id="rfc.section.4.3.1.p.1">
                                <p>当为验证生成有条件请求时，缓存要么从其正尝试满足的请求开始，要么（如果它独立地发起请求）通过复制已存响应的 method、target URI 和由 Vary
                                    头字段标识的请求头字段来合成一个请求（参见 <a href="#caching.negotiated.responses"
                                        title="Calculating Cache Keys with the Vary Header Field">第 4.1 节</a>）。</p>
                            </div>
                            <div id="rfc.section.4.3.1.p.2">
                                <p>然后它用一个或多个前置条件头字段更新该请求。这些字段包含来自具有相同 URI
                                    的已存响应的验证器元数据。通常，这将仅包含具有相同缓存键的已存响应，尽管缓存被允许对它不能选择的响应进行验证（见 <a
                                        href="#caching.negotiated.responses"
                                        title="Calculating Cache Keys with the Vary Header Field">第 4.1 节</a>）。</p>
                            </div>
                            <div id="rfc.section.4.3.1.p.3">
                                <p>接收方随后比较这些前置条件头字段以确定是否存在与资源的当前表示等价的任何已存响应。</p>
                            </div>
                            <div id="rfc.section.4.3.1.p.4">
                                <p>其中一种验证器是 <a href="rfc9110.html#field.last-modified" class="smpl">Last-Modified</a>
                                    头字段中给出的时间戳（见 <a href="rfc9110.html#field.last-modified" title="Last-Modified">第
                                        8.8.2 节</a>），它可用于 <a href="rfc9110.html#field.if-modified-since"
                                        class="smpl">If-Modified-Since</a> 头字段以进行响应验证，或用于 <a
                                        href="rfc9110.html#field.if-unmodified-since"
                                        class="smpl">If-Unmodified-Since</a> 或 <a href="rfc9110.html#field.if-range"
                                        class="smpl">If-Range</a> 头字段以进行表示选择（即客户端特指具有该时间戳的先前获取的表示）。</p>
                            </div>
                            <div id="rfc.section.4.3.1.p.5">
                                <p>另一种验证器是 <a href="rfc9110.html#field.etag" class="smpl">ETag</a> 字段中给出的实体标签（见 <a
                                        href="rfc9110.html#field.etag" title="ETag">第 8.8.3
                                        节</a>）。一个或多个实体标签（表示一个或多个已存响应）可以被用在 <a href="rfc9110.html#field.if-none-match"
                                        class="smpl">If-None-Match</a> 头字段中用于响应验证，或用于 <a
                                        href="rfc9110.html#field.if-match" class="smpl">If-Match</a> 或 <a
                                        href="rfc9110.html#field.if-range" class="smpl">If-Range</a>
                                    头字段用于表示选择（即客户端特指具有所列实体标签的一个或多个先前获取的表示）。</p>
                            </div>
                            <div id="rfc.section.4.3.1.p.6" class="avoidbreakafter">
                                <p>在为验证生成有条件请求时，缓存：</p>
                            </div>
                            <div id="rfc.section.4.3.1.p.7">
                                <ul>
                                    <li><em class="bcp14">MUST</em> 发送相关的实体标签（使用 <a href="rfc9110.html#field.if-match"
                                            class="smpl">If-Match</a>、<a href="rfc9110.html#field.if-none-match"
                                            class="smpl">If-None-Match</a> 或 <a href="rfc9110.html#field.if-range"
                                            class="smpl">If-Range</a>），如果要验证的已存响应中提供了实体标签。</li>
                                    <li><em class="bcp14">SHOULD</em> 发送 <a href="rfc9110.html#field.last-modified"
                                            class="smpl">Last-Modified</a> 值（使用 <a
                                            href="rfc9110.html#field.if-modified-since"
                                            class="smpl">If-Modified-Since</a>），如果请求不是子范围请求、正在验证单个已存响应且该响应包含
                                        Last-Modified 值。</li>
                                    <li><em class="bcp14">MAY</em> 发送 <a href="rfc9110.html#field.last-modified"
                                            class="smpl">Last-Modified</a> 值（使用 <a
                                            href="rfc9110.html#field.if-unmodified-since"
                                            class="smpl">If-Unmodified-Since</a> 或 <a href="rfc9110.html#field.if-range"
                                            class="smpl">If-Range</a>），如果请求为子范围请求、正在验证单个已存响应，且该响应仅包含 Last-Modified
                                        值（而无实体标签）。</li>
                                </ul>
                            </div>
                            <div id="rfc.section.4.3.1.p.8">
                                <p>在大多数情况下，即使实体标签明显更优，缓存在验证请求中也会同时生成两种验证器，以允许不理解实体标签前置条件的旧中间件做出适当响应。</p>
                            </div>
                        </section>
                        <section id="validation.received">
                            <h4 id="rfc.section.4.3.2"><a href="#rfc.section.4.3.2">4.3.2.</a>&nbsp;<a
                                    href="#validation.received">处理收到的验证请求</a></h4>
                            <div id="rfc.section.4.3.2.p.1">
                                <p>请求链中的每个客户端可能都有自己的缓存，因此中间缓存常常会收到来自其它（出站）缓存的有条件请求。同样，一些用户代理也使用有条件请求以将数据传输限制为最近修改的表示或完成部分检索的表示的传输。
                                </p>
                            </div>
                            <div id="rfc.section.4.3.2.p.2">
                                <p>如果缓存收到的请求可以按 <a href="#constructing.responses.from.caches"
                                        title="Constructing Responses from Caches">第 4 节</a> 的规定通过重用已存的 <a
                                        href="rfc9110.html#status.200" class="smpl">200 (OK)</a> 或 <a
                                        href="rfc9110.html#status.206" class="smpl">206 (Partial Content)</a> 响应来满足，则缓存
                                    <em class="bcp14">SHOULD</em> 使用存储响应内的相应验证器去评估该请求中任何适用的有条件头字段前置条件。
                                </p>
                            </div>
                            <div id="rfc.section.4.3.2.p.3">
                                <p>缓存 <em class="bcp14">MUST NOT</em>
                                    评估仅适用于源服务器的有条件头字段、出现在其语义无法用缓存响应满足的请求中，或出现在其目标资源没有已存响应的请求中；此类前置条件很可能是针对其它（入站）服务器的。
                                </p>
                            </div>
                            <div id="rfc.section.4.3.2.p.4">
                                <p>缓存正确评估有条件请求取决于接收的前置条件头字段及其优先级。总的来说，<a href="rfc9110.html#field.if-match"
                                        class="smpl">If-Match</a> 和 <a href="rfc9110.html#field.if-unmodified-since"
                                        class="smpl">If-Unmodified-Since</a> 条件头字段不适用于缓存，而 <a
                                        href="rfc9110.html#field.if-none-match" class="smpl">If-None-Match</a> 优先于 <a
                                        href="rfc9110.html#field.if-modified-since"
                                        class="smpl">If-Modified-Since</a>。有关前置条件优先级的完整规范，见 <a
                                        href="rfc9110.html#precedence" title="Precedence of Preconditions">第 13.2.2
                                        节</a>。</p>
                            </div>
                            <div id="rfc.section.4.3.2.p.5">
                                <p>包含 <a href="rfc9110.html#field.if-none-match" class="smpl">If-None-Match</a>
                                    头字段的请求表明客户端希望将其一个或多个已存响应与缓存选择的已存响应进行比较以验证其有效性（参见 <a
                                        href="#constructing.responses.from.caches"
                                        title="Constructing Responses from Caches">第 4 节</a>）。</p>
                            </div>
                            <div id="rfc.section.4.3.2.p.6">
                                <p>如果没有 If-None-Match 头字段，则包含 <a href="rfc9110.html#field.if-modified-since"
                                        class="smpl">If-Modified-Since</a> 头字段的请求表明客户端希望按修改日期验证其一个或多个已存响应。</p>
                            </div>
                            <div id="rfc.section.4.3.2.p.7">
                                <p>如果请求包含 <a href="rfc9110.html#field.if-modified-since"
                                        class="smpl">If-Modified-Since</a> 且已存响应中不存在 <a
                                        href="rfc9110.html#field.last-modified" class="smpl">Last-Modified</a> 头字段，则缓存
                                    <em class="bcp14">SHOULD</em> 使用已存响应的 <a href="rfc9110.html#field.date"
                                        class="smpl">Date</a> 字段值（如果没有 Date 字段，则使用接收已存响应的时间）来评估该条件。
                                </p>
                            </div>
                            <div id="rfc.section.4.3.2.p.8">
                                <p>实现对范围请求返回部分响应的缓存（见 <a href="rfc9110.html#field.range" title="Range">第 14.2
                                        节</a>）还需要针对缓存所选响应评估接收的 <a href="rfc9110.html#field.if-range"
                                        class="smpl">If-Range</a> 头字段（见 <a href="rfc9110.html#field.if-range"
                                        title="If-Range">第 13.1.5 节</a>）。</p>
                            </div>
                            <div id="rfc.section.4.3.2.p.9">
                                <p>当缓存决定为包含 <a href="rfc9110.html#field.if-none-match" class="smpl">If-None-Match</a>
                                    实体标签列表的请求转发以重新验证其自身已存响应时，缓存 <em class="bcp14">MAY</em>
                                    将接收的列表与自身已存响应（无论新鲜还是陈旧）中的实体标签列表合并，并在转发请求中发送两者的并集作为替换的 <a
                                        href="rfc9110.html#field.if-none-match" class="smpl">If-None-Match</a>
                                    值。如果已存响应仅包含部分内容，则除非请求所需的范围可以被该部分已存响应完全满足，否则缓存 <em class="bcp14">MUST NOT</em>
                                    将其实体标签包含在并集中。如果转发请求的响应为 <a href="rfc9110.html#status.304" class="smpl">304 (Not
                                        Modified)</a> 且包含一个实体标签，该实体标签不在客户端的列表中，则缓存 <em class="bcp14">MUST</em>
                                    通过重用其相应的已存响应（并用 304 响应的元数据更新之，参见 <a href="#freshening.responses"
                                        title="Freshening Stored Responses upon Validation">第 4.3.4 节</a>）为客户端生成一个 <a
                                        href="rfc9110.html#status.200" class="smpl">200 (OK)</a> 响应。</p>
                            </div>
                        </section>
                        <section id="validation.response">
                            <h4 id="rfc.section.4.3.3"><a href="#rfc.section.4.3.3">4.3.3.</a>&nbsp;<a
                                    href="#validation.response">处理验证响应</a></h4>
                            <div id="rfc.section.4.3.3.p.1" class="avoidbreakafter">
                                <p>对有条件请求的响应，缓存的处理取决于其状态码：</p>
                            </div>
                            <div id="rfc.section.4.3.3.p.2">
                                <ul>
                                    <li><a href="rfc9110.html#status.304" class="smpl">304 (Not Modified)</a>
                                        表示已存响应可以被更新并重用；见 <a href="#freshening.responses"
                                            title="Freshening Stored Responses upon Validation">第 4.3.4 节</a>。</li>
                                    <li>完整响应（即包含内容的响应）表明在有条件请求中被提名的已存响应都不合适。缓存 <em class="bcp14">MUST</em>
                                        使用该完整响应来满足请求。缓存 <em class="bcp14">MAY</em> 存储该完整响应，受其约束（见 <a
                                            href="#response.cacheability" title="Storing Responses in Caches">第 3
                                            节</a>）。</li>
                                    <li>然而，如果缓存在尝试验证响应时收到 <a href="rfc9110.html#status.5xx" class="smpl">5xx (Server
                                            Error)</a> 响应，它可以将该响应转发给请求客户端，或视作服务器未响应。在后一种情况下，缓存可以发送先前存储的响应（受其提供陈旧响应的约束，见
                                        <a href="#serving.stale.responses" title="Serving Stale Responses">第 4.2.4
                                            节</a>），或重试验证请求。
                                    </li>
                                </ul>
                            </div>
                        </section>
                        <section id="freshening.responses">
                            <h4 id="rfc.section.4.3.4"><a href="#rfc.section.4.3.4">4.3.4.</a>&nbsp;<a
                                    href="#freshening.responses">在验证时刷新已存响应</a></h4>
                            <div id="rfc.section.4.3.4.p.1">
                                <p>当缓存收到 <a href="rfc9110.html#status.304" class="smpl">304 (Not Modified)</a>
                                    响应时，它需要识别适合用新信息更新的已存响应，然后进行更新。</p>
                            </div>
                            <div id="rfc.section.4.3.4.p.2">
                                <p>初始要更新的已存响应集合是那些可被为该请求选用的响应——即符合 <a href="#constructing.responses.from.caches"
                                        title="Constructing Responses from Caches">第 4 节</a>
                                    中的要求的响应，除最后一项（关于是新鲜的、可作为陈旧提供或刚被验证的要求）之外。</p>
                            </div>
                            <div id="rfc.section.4.3.4.p.3" class="avoidbreakafter">
                                <p>然后，基于下述规则的第一个匹配项进一步过滤该初始集合：</p>
                            </div>
                            <div id="rfc.section.4.3.4.p.4">
                                <ul>
                                    <li>如果新响应包含一个或多个 <dfn>强验证器</dfn>（见 <a href="rfc9110.html#weak.and.strong.validators"
                                            title="Weak versus Strong">第 8.8.1
                                            节</a>），那么每个这些强验证器都标识了要更新的选定表示。初始集合中所有具有相同强验证器的已存响应都被识别为待更新对象。如果初始集合中没有任一项包含至少一个相同的强验证器，则缓存
                                        <em class="bcp14">MUST NOT</em> 使用新响应更新任何已存响应。
                                    </li>
                                    <li>如果新响应不包含强验证器但包含一个或多个
                                        <dfn>弱验证器</dfn>，且这些验证器与初始集合中的某一已存响应相对应，则选择这些匹配的已存响应中最新的一个进行更新。
                                    </li>
                                    <li>如果新响应不包含任何形式的验证器（例如客户端从不是来自 <a href="rfc9110.html#field.last-modified"
                                            class="smpl">Last-Modified</a> 响应头字段的来源生成了 <a
                                            href="rfc9110.html#field.if-modified-since"
                                            class="smpl">If-Modified-Since</a>
                                        请求），并且初始集合中只有一个已存响应，且该已存响应也缺乏验证器，则该已存响应被识别为待更新对象。</li>
                                </ul>
                            </div>
                            <div id="rfc.section.4.3.4.p.5">
                                <p>对于每个被识别的已存响应，缓存 <em class="bcp14">MUST</em> 使用 <a href="rfc9110.html#status.304"
                                        class="smpl">304 (Not Modified)</a> 响应中提供的头字段来更新其头字段，按 <a href="#update"
                                        title="Updating Stored Header Fields">第 3.2 节</a> 的规定。</p>
                            </div>
                        </section>
                        <section id="head.effects">
                            <h4 id="rfc.section.4.3.5"><a href="#rfc.section.4.3.5">4.3.5.</a>&nbsp;<a
                                    href="#head.effects">使用 HEAD 刷新响应</a></h4>
                            <div id="rfc.section.4.3.5.p.1">
                                <p>对 HEAD 方法的响应与等效的 GET 请求的响应相同，但不发送实体主体。HEAD 响应的此属性可用于在更高效的有条件 GET
                                    机制不可用（因为已存响应没有验证器）或即使内容已更改也不希望传输内容时使缓存的 GET 响应失效或更新它。</p>
                            </div>
                            <div id="rfc.section.4.3.5.p.2">
                                <p>当缓存为某目标 URI 发起入站 HEAD 请求并收到 <a href="rfc9110.html#status.200" class="smpl">200
                                        (OK)</a> 响应时，缓存 <em class="bcp14">SHOULD</em> 更新或使其所有可能被用于该请求的已存 GET 响应失效（见 <a
                                        href="#caching.negotiated.responses"
                                        title="Calculating Cache Keys with the Vary Header Field">第 4.1 节</a>）。</p>
                            </div>
                            <div id="rfc.section.4.3.5.p.3">
                                <p>对于每个可能被选用的已存响应，如果已存响应与 HEAD 响应在任何接收到的验证器字段（<a href="rfc9110.html#field.etag"
                                        class="smpl">ETag</a> 和 <a href="rfc9110.html#field.last-modified"
                                        class="smpl">Last-Modified</a>）上具有匹配值，并且如果 HEAD 响应有 <a
                                        href="rfc9110.html#field.content-length" class="smpl">Content-Length</a>
                                    头字段，则其值与已存响应的 Content-Length 相匹配，则缓存 <em class="bcp14">SHOULD</em> 按下述方式更新已存响应；否则，缓存
                                    <em class="bcp14">SHOULD</em> 将已存响应视为陈旧。
                                </p>
                            </div>
                            <div id="rfc.section.4.3.5.p.4">
                                <p>如果缓存使用 HEAD 响应中提供的元数据更新已存响应，缓存 <em class="bcp14">MUST</em> 使用 HEAD 响应中提供的头字段来更新已存响应（见
                                    <a href="#update" title="Updating Stored Header Fields">第 3.2 节</a>）。
                                </p>
                            </div>
                        </section>
                    </section>
                    <section id="invalidation">
                        <h3 id="rfc.section.4.4"><a href="#rfc.section.4.4">4.4.</a>&nbsp;<a
                                href="#invalidation">使已存响应失效</a></h3>
                        <div id="rfc.section.4.4.p.1">
                            <p>由于不安全的请求方法（见 <a href="rfc9110.html#safe.methods" title="Safe Methods">第 9.2.1 节</a>）如
                                PUT、POST 或 DELETE 可能在源服务器上改变状态，中间缓存被要求使已存响应失效以保持其内容最新。</p>
                        </div>
                        <div id="rfc.section.4.4.p.2">
                            <p>当缓存收到对不安全请求方法的非错误状态码响应（包括安全性未知的方法）时，缓存 <em class="bcp14">MUST</em> 使目标 URI（见 <a
                                    href="rfc9110.html#target.resource" title="Determining the Target Resource">第 7.1
                                    节</a>）失效。</p>
                        </div>
                        <div id="rfc.section.4.4.p.3">
                            <p>当缓存收到对不安全请求方法的非错误状态码响应时，缓存 <em class="bcp14">MAY</em> 使其它 URI 失效（包括安全性未知的方法）。特别地，响应头字段中的
                                <a href="rfc9110.html#field.location" class="smpl">Location</a> 和 <a
                                    href="rfc9110.html#field.content-location" class="smpl">Content-Location</a>（如果存在）中的
                                URI 是失效候选；也可能通过本文件未指定的机制发现其它 URI。然而，如果要失效的 URI 的源（见 <a href="rfc9110.html#origin"
                                    title="URI Origin">第 4.3.1 节</a>）与目标 URI 的源不同，则缓存 <em class="bcp14">MUST NOT</em>
                                在这些条件下触发失效。这有助于防止拒绝服务攻击。
                            </p>
                        </div>
                        <div id="rfc.section.4.4.p.4">
                            <p><dfn>使失效</dfn> 意味着缓存将删除所有目标 URI 与给定 URI 匹配的已存响应，或将它们标记为“无效”并需要在作为后续请求响应之前进行强制验证。</p>
                        </div>
                        <div id="rfc.section.4.4.p.5">
                            <p>“非错误响应” 指具有 <a href="rfc9110.html#status.2xx" class="smpl">2xx (Successful)</a> 或 <a
                                    href="rfc9110.html#status.3xx" class="smpl">3xx (Redirection)</a> 状态码的响应。</p>
                        </div>
                        <div id="rfc.section.4.4.p.6">
                            <p>请注意，这并不保证在全局范围内使所有适当的响应失效；一次改变状态的请求仅会使其所经过的缓存中的响应失效。</p>
                        </div>
                    </section>
                </section>
                <section id="header.field.definitions">
                    <h2 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a
                            href="#header.field.definitions">字段定义</a></h2>
                    <div id="rfc.section.5.p.1">
                        <p>本节定义与缓存相关的 HTTP 字段的语法和语义。</p>
                    </div>
                    <section id="field.age">
                        <h3 id="rfc.section.5.1"><a href="#rfc.section.5.1">5.1.</a>&nbsp;<a href="#field.age">Age</a>
                        </h3>
                        <div id="rfc.section.5.1.p.1">
                            <p>“Age” 响应头字段传达发送方对响应自源服务器生成或成功验证以来所经过时间的估计。Age 值按 <a href="#age.calculations"
                                    title="Calculating Age">第 4.2.3 节</a> 所述进行计算。</p>
                        </div>
                        <div id="rfc.section.5.1.p.2">
                            <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.2"></span>  <a href="#field.age" class="smpl">Age</a> = <a href="#delta-seconds" class="smpl">delta-seconds</a>
</pre>
                        </div>
                        <div id="rfc.section.5.1.p.3">
                            <p>Age 字段值为非负整数，表示以秒为单位的时间（参见 <a href="#delta-seconds" title="Delta Seconds">第 1.2.2 节</a>）。
                            </p>
                        </div>
                        <div id="rfc.section.5.1.p.4">
                            <p>尽管它被定义为单例头字段，但当缓存遇到具有基于列表的 Age 字段值的消息时，<em class="bcp14">SHOULD</em>
                                使用该字段值的第一个成员，并丢弃后续成员。</p>
                        </div>
                        <div id="rfc.section.5.1.p.5">
                            <p>如果字段值（按上述丢弃附加成员后）无效（例如包含非非负整数的内容），缓存 <em class="bcp14">SHOULD</em> 忽略该字段。</p>
                        </div>
                        <div id="rfc.section.5.1.p.6">
                            <p>Age 头字段的存在意味着该响应并非为此请求由源服务器生成或验证。然而，缺少 Age 头字段并不意味着已联系源服务器。</p>
                        </div>
                    </section>
                    <section id="field.cache-control">
                        <h3 id="rfc.section.5.2"><a href="#rfc.section.5.2">5.2.</a>&nbsp;<a
                                href="#field.cache-control">Cache-Control</a></h3>
                        <div id="rfc.section.5.2.p.1">
                            <p>“Cache-Control” 头字段用于列出沿请求/响应链的缓存应遵循的指令。缓存指令是单向的：在请求中出现某个指令并不意味着响应中也存在或复制了相同的指令。</p>
                        </div>
                        <div id="rfc.section.5.2.p.2">
                            <p>关于如何处理在其他地方定义的 Cache-Control 指令的信息，请参见 <a href="#cache.control.extensions"
                                    title="Extension Directives">第 5.2.3 节</a>。</p>
                        </div>
                        <div id="rfc.section.5.2.p.3">
                            <p>无论是否实现缓存，代理在转发消息时 <em class="bcp14">MUST</em>
                                将缓存指令一并转发，不论这些指令对该应用是否重要，因为这些指令可能适用于请求/响应链上的所有接收者。无法将指令定向到特定缓存。</p>
                        </div>
                        <div id="rfc.section.5.2.p.4">
                            <p>缓存指令由一个 token 标识，比较时应不区分大小写，并且可以有一个可选参数，该参数可以使用 token 或 quoted-string
                                语法。对于下文定义且带参数的指令，接收者应接受这两种形式，即使在生成时要求特定形式也应如此。</p>
                        </div>
                        <div id="rfc.section.5.2.p.5">
                            <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.3"></span><span id="rfc.iref.g.4"></span>  <a href="#field.cache-control" class="smpl">Cache-Control</a>   = #<a href="#field.cache-control" class="smpl">cache-directive</a>

  <a href="#field.cache-control" class="smpl">cache-directive</a> = <a href="#imported.rules" class="smpl">token</a> [ "=" ( <a href="#imported.rules" class="smpl">token</a> / <a href="#imported.rules" class="smpl">quoted-string</a> ) ]
</pre>
                        </div>
                        <div id="rfc.section.5.2.p.6">
                            <p>对于下文定义的缓存指令，除非另有说明，否则不定义（也不允许）参数。</p>
                        </div>
                        <section id="cache-request-directive">
                            <h4 id="rfc.section.5.2.1"><a href="#rfc.section.5.2.1">5.2.1.</a>&nbsp;<a
                                    href="#cache-request-directive">请求指令</a></h4>
                            <div id="rfc.section.5.2.1.p.1">
                                <p>本节定义缓存请求指令。它们是建议性的；缓存 <em class="bcp14">MAY</em> 实现它们，但并非必须。</p>
                            </div>
                            <section id="cache-request-directive.max-age">
                                <h5 id="rfc.section.5.2.1.1"><a href="#rfc.section.5.2.1.1">5.2.1.1.</a>&nbsp;<a
                                        href="#cache-request-directive.max-age">max-age</a></h5>
                                <div id="rfc.section.5.2.1.1.p.1" class="avoidbreakafter">
                                    <p>参数语法：</p>
                                </div>
                                <div id="rfc.section.5.2.1.1.p.2">
                                    <ul class="empty">
                                        <li><a href="#delta-seconds" class="smpl">delta-seconds</a> (参见 <a
                                                href="#delta-seconds" title="Delta Seconds">第 1.2.2 节</a>)</li>
                                    </ul>
                                </div>
                                <div id="rfc.section.5.2.1.1.p.3">
                                    <p>max-age 请求指令表示客户端偏好响应的 age 小于或等于指定的秒数。除非同时存在 max-stale 请求指令，否则客户端不希望接收陈旧响应。</p>
                                </div>
                                <div id="rfc.section.5.2.1.1.p.4">
                                    <p>该指令使用参数语法的 token 形式：例如 'max-age=5' 而不是 'max-age="5"'。发送者 <em class="bcp14">MUST
                                            NOT</em> 生成带引号的形式。</p>
                                </div>
                            </section>
                            <section id="cache-request-directive.max-stale">
                                <h5 id="rfc.section.5.2.1.2"><a href="#rfc.section.5.2.1.2">5.2.1.2.</a>&nbsp;<a
                                        href="#cache-request-directive.max-stale">max-stale</a></h5>
                                <div id="rfc.section.5.2.1.2.p.1" class="avoidbreakafter">
                                    <p>参数语法：</p>
                                </div>
                                <div id="rfc.section.5.2.1.2.p.2">
                                    <ul class="empty">
                                        <li><a href="#delta-seconds" class="smpl">delta-seconds</a> (参见 <a
                                                href="#delta-seconds" title="Delta Seconds">第 1.2.2 节</a>)</li>
                                    </ul>
                                </div>
                                <div id="rfc.section.5.2.1.2.p.3">
                                    <p>max-stale 请求指令表示客户端将接受已超过其新鲜寿命的响应。如果存在值，则客户端愿意接受超过新鲜寿命不多于指定秒数的响应。如果没有为 max-stale
                                        指定值，则客户端将接受任何年龄的陈旧响应。</p>
                                </div>
                                <div id="rfc.section.5.2.1.2.p.4">
                                    <p>该指令使用参数语法的 token 形式：例如 'max-stale=10' 而不是 'max-stale="10"'。发送者 <em
                                            class="bcp14">MUST NOT</em> 生成带引号的形式。</p>
                                </div>
                            </section>
                            <section id="cache-request-directive.min-fresh">
                                <h5 id="rfc.section.5.2.1.3"><a href="#rfc.section.5.2.1.3">5.2.1.3.</a>&nbsp;<a
                                        href="#cache-request-directive.min-fresh">min-fresh</a></h5>
                                <div id="rfc.section.5.2.1.3.p.1" class="avoidbreakafter">
                                    <p>参数语法：</p>
                                </div>
                                <div id="rfc.section.5.2.1.3.p.2">
                                    <ul class="empty">
                                        <li><a href="#delta-seconds" class="smpl">delta-seconds</a> (参见 <a
                                                href="#delta-seconds" title="Delta Seconds">第 1.2.2 节</a>)</li>
                                    </ul>
                                </div>
                                <div id="rfc.section.5.2.1.3.p.3">
                                    <p>min-fresh 请求指令表示客户端偏好响应的 freshness lifetime 至少等于其当前 age
                                        加上指定的秒数。也就是说，客户端希望响应在指定秒数内仍然保持新鲜。</p>
                                </div>
                                <div id="rfc.section.5.2.1.3.p.4">
                                    <p>该指令使用参数语法的 token 形式：例如 'min-fresh=20' 而不是 'min-fresh="20"'。发送者 <em
                                            class="bcp14">MUST NOT</em> 生成带引号的形式。</p>
                                </div>
                            </section>
                            <section id="cache-request-directive.no-cache">
                                <h5 id="rfc.section.5.2.1.4"><a href="#rfc.section.5.2.1.4">5.2.1.4.</a>&nbsp;<a
                                        href="#cache-request-directive.no-cache">no-cache</a></h5>
                                <div id="rfc.section.5.2.1.4.p.1">
                                    <p>no-cache 请求指令表示客户端偏好在未在源服务器上成功验证的情况下不使用已存的响应来满足该请求。</p>
                                </div>
                            </section>
                            <section id="cache-request-directive.no-store">
                                <h5 id="rfc.section.5.2.1.5"><a href="#rfc.section.5.2.1.5">5.2.1.5.</a>&nbsp;<a
                                        href="#cache-request-directive.no-store">no-store</a></h5>
                                <div id="rfc.section.5.2.1.5.p.1">
                                    <p>no-store 请求指令表示缓存 <em class="bcp14">MUST NOT</em>
                                        存储该请求的任何部分或其任何响应。该指令适用于私有和共享缓存。“MUST NOT store” 在此上下文中意味着缓存 <em
                                            class="bcp14">MUST NOT</em> 故意将信息存入非易失性存储，并且 <em class="bcp14">MUST</em>
                                        在转发后尽最大努力尽快从易失性存储中删除该信息。</p>
                                </div>
                                <div id="rfc.section.5.2.1.5.p.2">
                                    <p>该指令不是确保隐私的可靠或充分机制。特别是，恶意或被攻破的缓存可能不会识别或遵守该指令，通信网络也可能易受窃听攻击。</p>
                                </div>
                                <div id="rfc.section.5.2.1.5.p.3">
                                    <p>注意，如果包含该指令的请求是从缓存中满足的，则 no-store 请求指令不适用于已存在的已存响应。</p>
                                </div>
                            </section>
                            <section id="cache-request-directive.no-transform">
                                <h5 id="rfc.section.5.2.1.6"><a href="#rfc.section.5.2.1.6">5.2.1.6.</a>&nbsp;<a
                                        href="#cache-request-directive.no-transform">no-transform</a></h5>
                                <div id="rfc.section.5.2.1.6.p.1">
                                    <p>no-transform 请求指令表示客户端请求中间体避免对内容进行转换，按 <a
                                            href="rfc9110.html#message.transformations"
                                            title="Message Transformations">第 7.7 节</a> 所定义。</p>
                                </div>
                            </section>
                            <section id="cache-request-directive.only-if-cached">
                                <h5 id="rfc.section.5.2.1.7"><a href="#rfc.section.5.2.1.7">5.2.1.7.</a>&nbsp;<a
                                        href="#cache-request-directive.only-if-cached">only-if-cached</a></h5>
                                <div id="rfc.section.5.2.1.7.p.1">
                                    <p>only-if-cached 请求指令表示客户端仅希望获得已存响应。遵守此请求指令的缓存 <em class="bcp14">SHOULD</em>
                                        在接收到它时，要么返回与请求其他约束一致的已存响应，要么返回 <a href="rfc9110.html#status.504"
                                            class="smpl">504 (Gateway Timeout)</a> 状态码。</p>
                                </div>
                            </section>
                        </section>
                        <section id="cache-response-directive">
                            <h4 id="rfc.section.5.2.2"><a href="#rfc.section.5.2.2">5.2.2.</a>&nbsp;<a
                                    href="#cache-response-directive">响应指令</a></h4>
                            <div id="rfc.section.5.2.2.p.1">
                                <p>本节定义缓存响应指令。缓存 <em class="bcp14">MUST</em> 遵守本节定义的 Cache-Control 指令。</p>
                            </div>
                            <section id="cache-response-directive.max-age">
                                <h5 id="rfc.section.5.2.2.1"><a href="#rfc.section.5.2.2.1">5.2.2.1.</a>&nbsp;<a
                                        href="#cache-response-directive.max-age">max-age</a></h5>
                                <div id="rfc.section.5.2.2.1.p.1" class="avoidbreakafter">
                                    <p>参数语法：</p>
                                </div>
                                <div id="rfc.section.5.2.2.1.p.2">
                                    <ul class="empty">
                                        <li><a href="#delta-seconds" class="smpl">delta-seconds</a> (参见 <a
                                                href="#delta-seconds" title="Delta Seconds">第 1.2.2 节</a>)</li>
                                    </ul>
                                </div>
                                <div id="rfc.section.5.2.2.1.p.3">
                                    <p>max-age 响应指令表示当响应的 age 大于指定的秒数时，该响应被视为陈旧。</p>
                                </div>
                                <div id="rfc.section.5.2.2.1.p.4">
                                    <p>该指令使用参数语法的 token 形式：例如 'max-age=5' 而不是 'max-age="5"'。发送者 <em class="bcp14">MUST
                                            NOT</em> 生成带引号的形式。</p>
                                </div>
                            </section>
                            <section id="cache-response-directive.must-revalidate">
                                <h5 id="rfc.section.5.2.2.2"><a href="#rfc.section.5.2.2.2">5.2.2.2.</a>&nbsp;<a
                                        href="#cache-response-directive.must-revalidate">must-revalidate</a></h5>
                                <div id="rfc.section.5.2.2.2.p.1">
                                    <p>must-revalidate 响应指令表示一旦响应变为陈旧，缓存 <em class="bcp14">MUST NOT</em>
                                        在未被源成功验证之前重用该响应，以满足另一个请求（按 <a href="#validation.model" title="Validation">第 4.3
                                            节</a> 的定义）。</p>
                                </div>
                                <div id="rfc.section.5.2.2.2.p.2">
                                    <p>must-revalidate 指令对于支持某些协议特性的可靠运行是必要的。在所有情况下，缓存 <em class="bcp14">MUST NOT</em>
                                        忽略 must-revalidate 指令；特别地，如果缓存处于断开状态，缓存 <em class="bcp14">MUST</em>
                                        生成错误响应而不是重用陈旧响应。生成的状态码 <em class="bcp14">SHOULD</em> 为 <a
                                            href="rfc9110.html#status.504" class="smpl">504 (Gateway
                                            Timeout)</a>，除非另有更适用的错误状态码。</p>
                                </div>
                                <div id="rfc.section.5.2.2.2.p.3">
                                    <p>只有在未能验证请求可能导致不正确操作（例如未显式执行的金融交易）时，服务器才应使用 must-revalidate 指令。</p>
                                </div>
                                <div id="rfc.section.5.2.2.2.p.4">
                                    <p>must-revalidate 指令还允许共享缓存在满足带有 <a href="rfc9110.html#field.authorization"
                                            class="smpl">Authorization</a> 头字段的请求时重用响应，前提是遵守上述关于重新验证的要求（见 <a
                                            href="#caching.authenticated.responses"
                                            title="Storing Responses to Authenticated Requests">第 3.5 节</a>）。</p>
                                </div>
                            </section>
                            <section id="cache-response-directive.must-understand">
                                <h5 id="rfc.section.5.2.2.3"><a href="#rfc.section.5.2.2.3">5.2.2.3.</a>&nbsp;<a
                                        href="#cache-response-directive.must-understand">must-understand</a></h5>
                                <div id="rfc.section.5.2.2.3.p.1">
                                    <p>must-understand 响应指令将响应的缓存限制为理解并遵从该响应状态码要求的缓存。</p>
                                </div>
                                <div id="rfc.section.5.2.2.3.p.2">
                                    <p>包含 must-understand 指令的响应 <em class="bcp14">SHOULD</em> 也包含 no-store 指令。当实现
                                        must-understand 指令的缓存收到包含该指令的响应时，如果该缓存理解并实现该状态码的缓存要求，则该缓存 <em
                                            class="bcp14">SHOULD</em> 忽略 no-store 指令。</p>
                                </div>
                            </section>
                            <section id="cache-response-directive.no-cache">
                                <h5 id="rfc.section.5.2.2.4"><a href="#rfc.section.5.2.2.4">5.2.2.4.</a>&nbsp;<a
                                        href="#cache-response-directive.no-cache">no-cache</a></h5>
                                <div id="rfc.section.5.2.2.4.p.1" class="avoidbreakafter">
                                    <p>参数语法：</p>
                                </div>
                                <div id="rfc.section.5.2.2.4.p.2">
                                    <ul class="empty">
                                        <li>#<a href="#imported.rules" class="smpl">field-name</a></li>
                                    </ul>
                                </div>
                                <div id="rfc.section.5.2.2.4.p.3">
                                    <p>未限定形式的 no-cache 响应指令（无参数）表示该响应 <em class="bcp14">MUST NOT</em>
                                        在未转发以进行验证并收到成功响应的情况下被用于满足任何其他请求；参见 <a href="#validation.model"
                                            title="Validation">第 4.3 节</a>。</p>
                                </div>
                                <div id="rfc.section.5.2.2.4.p.4">
                                    <p>这允许源服务器阻止缓存在未联系其的情况下使用响应来满足请求，即使是被配置为发送陈旧响应的缓存也无法绕过这一点。</p>
                                </div>
                                <div id="rfc.section.5.2.2.4.p.5">
                                    <p>带参数的 no-cache 响应指令（列出一个或多个字段名）表示缓存 <em class="bcp14">MAY</em>
                                        在满足其他缓存限制的前提下，若后续响应中去除了列出的头字段，或后续响应已被源成功重新验证（更新或移除了那些字段），则可以使用该响应来满足后续请求。这允许源服务器阻止响应中特定头字段的重用，同时仍允许缓存响应的其余部分。
                                    </p>
                                </div>
                                <div id="rfc.section.5.2.2.4.p.6">
                                    <p>指定的字段名不限于本规范定义的头字段集合。字段名不区分大小写。</p>
                                </div>
                                <div id="rfc.section.5.2.2.4.p.7">
                                    <p>该指令使用参数语法的 quoted-string 形式。发送者 <em class="bcp14">SHOULD NOT</em> 生成 token
                                        形式（即使在单条目列表看似不需要引用时）。</p>
                                </div>
                                <div id="rfc.section.5.2.2.4.p.8">
                                    <aside>
                                        <div id="rfc.section.5.2.2.4.p.8.1">
                                            <p><b>注意：</b> 带参数形式的该指令通常被缓存当作未限定的 no-cache 处理；也就是说，对带参数形式的特殊处理并未被广泛实现。</p>
                                        </div>
                                    </aside>
                                </div>
                            </section>
                            <section id="cache-response-directive.no-store">
                                <h5 id="rfc.section.5.2.2.5"><a href="#rfc.section.5.2.2.5">5.2.2.5.</a>&nbsp;<a
                                        href="#cache-response-directive.no-store">no-store</a></h5>
                                <div id="rfc.section.5.2.2.5.p.1">
                                    <p>no-store 响应指令表示缓存 <em class="bcp14">MUST NOT</em> 存储立即请求或响应的任何部分，且 <em
                                            class="bcp14">MUST NOT</em> 将该响应用于满足任何其他请求。</p>
                                </div>
                                <div id="rfc.section.5.2.2.5.p.2">
                                    <p>该指令适用于私有和共享缓存。“MUST NOT store” 在此上下文中意味着缓存 <em class="bcp14">MUST NOT</em>
                                        故意将信息存入非易失性存储，并且 <em class="bcp14">MUST</em> 在转发后尽最大努力尽快从易失性存储中删除该信息。</p>
                                </div>
                                <div id="rfc.section.5.2.2.5.p.3">
                                    <p>该指令不是确保隐私的可靠或充分机制。恶意或被攻破的缓存可能不会识别或遵守该指令，通信网络也可能易受窃听攻击。</p>
                                </div>
                                <div id="rfc.section.5.2.2.5.p.4">
                                    <p>注意 must-understand 缓存指令在某些情况下会覆盖 no-store；参见 <a
                                            href="#cache-response-directive.must-understand" title="must-understand">第
                                            5.2.2.3 节</a>。</p>
                                </div>
                            </section>
                            <section id="cache-response-directive.no-transform">
                                <h5 id="rfc.section.5.2.2.6"><a href="#rfc.section.5.2.2.6">5.2.2.6.</a>&nbsp;<a
                                        href="#cache-response-directive.no-transform">no-transform</a></h5>
                                <div id="rfc.section.5.2.2.6.p.1">
                                    <p>no-transform 响应指令表示中间体（无论是否实现缓存） <em class="bcp14">MUST NOT</em> 对内容进行转换，按 <a
                                            href="rfc9110.html#message.transformations"
                                            title="Message Transformations">第 7.7 节</a> 的定义。</p>
                                </div>
                            </section>
                            <section id="cache-response-directive.private">
                                <h5 id="rfc.section.5.2.2.7"><a href="#rfc.section.5.2.2.7">5.2.2.7.</a>&nbsp;<a
                                        href="#cache-response-directive.private">private</a></h5>
                                <div id="rfc.section.5.2.2.7.p.1" class="avoidbreakafter">
                                    <p>参数语法：</p>
                                </div>
                                <div id="rfc.section.5.2.2.7.p.2">
                                    <ul class="empty">
                                        <li>#<a href="#imported.rules" class="smpl">field-name</a></li>
                                    </ul>
                                </div>
                                <div id="rfc.section.5.2.2.7.p.3">
                                    <p>未限定的 private 响应指令表示共享缓存 <em class="bcp14">MUST NOT</em>
                                        存储该响应（即该响应针对单个用户）。它还表示私有缓存 <em class="bcp14">MAY</em> 存储该响应，受 <a
                                            href="#response.cacheability" title="Storing Responses in Caches">第 3 节</a>
                                        所定义的约束， 即使该响应否则不会被私有缓存启发式缓存。</p>
                                </div>
                                <div id="rfc.section.5.2.2.7.p.4">
                                    <p>如果存在带参数的 private 响应指令，参数列出一个或多个字段名，则只有列出的头字段限制为单个用户：共享缓存 <em class="bcp14">MUST
                                            NOT</em> 存储这些在原始响应中存在的列出字段，但在不包含这些头字段的情况下，<em class="bcp14">MAY</em>
                                        存储响应的其余部分，受 <a href="#response.cacheability"
                                            title="Storing Responses in Caches">第 3 节</a> 中定义的约束。</p>
                                </div>
                                <div id="rfc.section.5.2.2.7.p.5">
                                    <p>指定的字段名不限于本规范定义的头字段集合。字段名不区分大小写。</p>
                                </div>
                                <div id="rfc.section.5.2.2.7.p.6">
                                    <p>该指令使用参数语法的 quoted-string 形式。发送者 <em class="bcp14">SHOULD NOT</em> 生成 token
                                        形式（即使在单条目列表看似不需要引用时）。</p>
                                </div>
                                <div id="rfc.section.5.2.2.7.p.7">
                                    <aside>
                                        <div id="rfc.section.5.2.2.7.p.7.1">
                                            <p><b>注意：</b> 此处“private”一词仅控制响应可以被存储的位置；它不能确保消息内容的隐私。此外，带参数形式通常被缓存当作未限定的
                                                private 处理；也就是说，对带参数形式的特殊处理并未被广泛实现。</p>
                                        </div>
                                    </aside>
                                </div>
                            </section>
                            <section id="cache-response-directive.proxy-revalidate">
                                <h5 id="rfc.section.5.2.2.8"><a href="#rfc.section.5.2.2.8">5.2.2.8.</a>&nbsp;<a
                                        href="#cache-response-directive.proxy-revalidate">proxy-revalidate</a></h5>
                                <div id="rfc.section.5.2.2.8.p.1">
                                    <p>proxy-revalidate 响应指令表示一旦响应变为陈旧，共享缓存 <em class="bcp14">MUST NOT</em>
                                        在未被源成功验证之前重用该响应，以满足另一个请求（按 <a href="#validation.model" title="Validation">第 4.3
                                            节</a> 的定义）。这类似于 must-revalidate，但 proxy-revalidate 不适用于私有缓存。</p>
                                </div>
                                <div id="rfc.section.5.2.2.8.p.2">
                                    <p>注意单独的 proxy-revalidate 并不意味着响应可被缓存。例如，它可能与 public 指令结合使用，允许响应被缓存同时要求共享缓存在陈旧时重新验证。
                                    </p>
                                </div>
                            </section>
                            <section id="cache-response-directive.public">
                                <h5 id="rfc.section.5.2.2.9"><a href="#rfc.section.5.2.2.9">5.2.2.9.</a>&nbsp;<a
                                        href="#cache-response-directive.public">public</a></h5>
                                <div id="rfc.section.5.2.2.9.p.1">
                                    <p>public 响应指令表示缓存 <em class="bcp14">MAY</em> 存储该响应，即使按 <a
                                            href="#response.cacheability" title="Storing Responses in Caches">第 3 节</a>
                                        的规则原本不允许存储，前提是遵守该节定义的约束。换言之，public 明确将响应标记为可缓存。例如，public 允许共享缓存在存在 Authorization
                                        头字段的请求的响应上重用该响应（见 <a href="#caching.authenticated.responses"
                                            title="Storing Responses to Authenticated Requests">第 3.5 节</a>）。</p>
                                </div>
                                <div id="rfc.section.5.2.2.9.p.2">
                                    <p>注意，对于已根据 <a href="#response.cacheability" title="Storing Responses in Caches">第 3
                                            节</a> 可缓存的响应，不需要再添加 public 指令。</p>
                                </div>
                                <div id="rfc.section.5.2.2.9.p.3">
                                    <p>如果带有 public 指令的响应没有显式的新鲜度信息，则它是可启发式缓存的（见 <a href="#heuristic.freshness"
                                            title="Calculating Heuristic Freshness">第 4.2.2 节</a>）。</p>
                                </div>
                            </section>
                            <section id="cache-response-directive.s-maxage">
                                <h5 id="rfc.section.5.2.2.10"><a href="#rfc.section.5.2.2.10">5.2.2.10.</a>&nbsp;<a
                                        href="#cache-response-directive.s-maxage">s-maxage</a></h5>
                                <div id="rfc.section.5.2.2.10.p.1" class="avoidbreakafter">
                                    <p>参数语法：</p>
                                </div>
                                <div id="rfc.section.5.2.2.10.p.2">
                                    <ul class="empty">
                                        <li><a href="#delta-seconds" class="smpl">delta-seconds</a> (参见 <a
                                                href="#delta-seconds" title="Delta Seconds">第 1.2.2 节</a>)</li>
                                    </ul>
                                </div>
                                <div id="rfc.section.5.2.2.10.p.3">
                                    <p>s-maxage 响应指令表示对于共享缓存，该指令指定的最大年龄覆盖由 max-age 指令或 <a href="#field.expires"
                                            class="smpl">Expires</a> 头字段指定的最大年龄。</p>
                                </div>
                                <div id="rfc.section.5.2.2.10.p.4">
                                    <p>s-maxage 指令包含了 proxy-revalidate 指令的语义（见 <a
                                            href="#cache-response-directive.proxy-revalidate" title="proxy-revalidate">第
                                            5.2.2.8 节</a>）。共享缓存 <em class="bcp14">MUST NOT</em> 在未被源成功验证之前重用带有 s-maxage
                                        的陈旧响应以满足另一个请求（按 <a href="#validation.model" title="Validation">第 4.3 节</a>
                                        的定义）。该指令还允许共享缓存在满足最大年龄和重新验证要求的前提下，重用对带有 Authorization 头字段的请求的响应（见 <a
                                            href="#caching.authenticated.responses"
                                            title="Storing Responses to Authenticated Requests">第 3.5 节</a>）。</p>
                                </div>
                                <div id="rfc.section.5.2.2.10.p.5">
                                    <p>该指令使用参数语法的 token 形式：例如 's-maxage=10' 而不是 's-maxage="10"'。发送者 <em
                                            class="bcp14">MUST NOT</em> 生成带引号的形式。</p>
                                </div>
                            </section>
                        </section>
                        <section id="cache.control.extensions">
                            <h4 id="rfc.section.5.2.3"><a href="#rfc.section.5.2.3">5.2.3.</a>&nbsp;<a
                                    href="#cache.control.extensions">扩展指令</a></h4>
                            <div id="rfc.section.5.2.3.p.1">
                                <p>Cache-Control 头字段可以通过使用一个或多个扩展缓存指令来扩展。缓存 <em class="bcp14">MUST</em> 忽略未识别的缓存指令。</p>
                            </div>
                            <div id="rfc.section.5.2.3.p.2">
                                <p>信息性扩展（不要求改变缓存行为的）可以在不改变其他指令语义的情况下添加。</p>
                            </div>
                            <div id="rfc.section.5.2.3.p.3">
                                <p>行为性扩展旨在通过作为现有缓存指令的修饰符发挥作用。既提供新指令，也提供旧指令，这样不理解新指令的应用将默认采用旧指令指定的行为，而理解新指令的应用将识别其为对旧指令相关要求的修改。通过这种方式，可以在不破坏已部署缓存的情况下对现有缓存指令进行扩展。
                                </p>
                            </div>
                            <div id="rfc.section.5.2.3.p.4">
                                <p>例如，考虑一个假设的新响应指令 "community"，它作为 private 指令的修饰符：除了私有缓存之外，只有被命名社区的成员共享的缓存才被允许缓存该响应。希望允许
                                    UCI 社区在其共享缓存中使用原本为私有的响应的源服务器可以包含</p>
                            </div>
                            <div id="rfc.section.5.2.3.p.5">
                                <pre class="text">Cache-Control: private, community="UCI"
</pre>
                            </div>
                            <div id="rfc.section.5.2.3.p.6">
                                <p>识别此类 community 缓存指令的缓存可以根据该扩展扩展其行为。不识别 community 指令的缓存将忽略它并遵守 private 指令。</p>
                            </div>
                            <div id="rfc.section.5.2.3.p.7" class="avoidbreakafter">
                                <p>新的扩展指令应考虑定义：</p>
                            </div>
                            <div id="rfc.section.5.2.3.p.8">
                                <ul>
                                    <li>指令被多次指定时的含义，</li>
                                    <li>当指令不带参数时，如果出现参数其含义，</li>
                                    <li>当指令需要参数时，缺失参数时的含义，和</li>
                                    <li>该指令是特定于请求、特定于响应，还是两者均可使用。</li>
                                </ul>
                            </div>
                        </section>
                        <section id="cache.directive.registry">
                            <h4 id="rfc.section.5.2.4"><a href="#rfc.section.5.2.4">5.2.4.</a>&nbsp;<a
                                    href="#cache.directive.registry">缓存指令注册表</a></h4>
                            <div id="rfc.section.5.2.4.p.1">
                                <p>“超文本传输协议 (HTTP) 缓存指令注册表”定义了缓存指令的命名空间。该注册表已在 <a
                                        href="https://www.iana.org/assignments/http-cache-directives">https://www.iana.org/assignments/http-cache-directives</a>
                                    创建并维护。</p>
                            </div>
                            <div id="rfc.section.5.2.4.p.2" class="avoidbreakafter">
                                <p>一次注册 <em class="bcp14">MUST</em> 包含下列字段：</p>
                            </div>
                            <div id="rfc.section.5.2.4.p.3">
                                <ul>
                                    <li>缓存指令名称</li>
                                    <li>指向规范文本的指针</li>
                                </ul>
                            </div>
                            <div id="rfc.section.5.2.4.p.4">
                                <p>要添加到该命名空间的值需要 IETF 审查（参见 <a href="#RFC8126" id="rfc.xref.RFC8126.1"><cite
                                            title="Guidelines for Writing an IANA Considerations Section in RFCs">[RFC8126]</cite></a>，<a
                                        href="https://www.rfc-editor.org/rfc/rfc8126.html#section-4.8">第 4.8 节</a>）。</p>
                            </div>
                        </section>
                    </section>
                    <section id="field.expires">
                        <h3 id="rfc.section.5.3"><a href="#rfc.section.5.3">5.3.</a>&nbsp;<a
                                href="#field.expires">Expires</a></h3>
                        <div id="rfc.section.5.3.p.1">
                            <p>“Expires” 响应头字段给出响应被视为陈旧的日期/时间。有关新鲜度模型的进一步讨论，见 <a href="#expiration.model"
                                    title="Freshness">第 4.2 节</a>。</p>
                        </div>
                        <div id="rfc.section.5.3.p.2">
                            <p>Expires 头字段的存在并不意味着原始资源会在该时间点之前、之后或在该时间点发生变化或停止存在。</p>
                        </div>
                        <div id="rfc.section.5.3.p.3">
                            <p>Expires 字段值为 HTTP-date 时间戳，定义见 <a href="rfc9110.html#http.date"
                                    title="Date/Time Formats">第 5.6.7 节</a>。另请参见 <a href="#expiration.model"
                                    title="Freshness">第 4.2 节</a> 中针对缓存的解析要求。</p>
                        </div>
                        <div id="rfc.section.5.3.p.4">
                            <pre class="inline prettyprint lang-ietf_abnf"><span id="rfc.iref.g.5"></span>  <a href="#field.expires" class="smpl">Expires</a> = <a href="#imported.rules" class="smpl">HTTP-date</a>
</pre>
                        </div>
                        <div id="rfc.section.5.3.p.5">
                            <p>例如</p>
                        </div>
                        <div id="rfc.section.5.3.p.6">
                            <pre class="text">Expires: Thu, 01 Dec 1994 16:00:00 GMT
</pre>
                        </div>
                        <div id="rfc.section.5.3.p.7">
                            <p>缓存接收者 <em class="bcp14">MUST</em> 将无效的日期格式（尤其是值 "0"）解释为表示过去的时间（即“已过期”）。</p>
                        </div>
                        <div id="rfc.section.5.3.p.8">
                            <p>如果响应包含带有 max-age 指令的 <a href="#field.cache-control" class="smpl">Cache-Control</a> 头字段（见
                                <a href="#cache-response-directive.max-age" title="max-age">第 5.2.2.1 节</a>），接收者 <em
                                    class="bcp14">MUST</em> 忽略 Expires 头字段。同样地，如果响应包含 s-maxage 指令（见 <a
                                    href="#cache-response-directive.s-maxage" title="s-maxage">第 5.2.2.10 节</a>），共享缓存接收者
                                <em class="bcp14">MUST</em> 忽略 Expires 头字段。在这两种情况下，Expires 中的值仅供尚未实现 Cache-Control
                                头字段的接收者使用。
                            </p>
                        </div>
                        <div id="rfc.section.5.3.p.9">
                            <p>没有时钟的源服务器（参见 <a href="rfc9110.html#http.date" title="Date/Time Formats">第 5.6.7 节</a>）<em
                                    class="bcp14">MUST NOT</em> 生成 Expires 头字段，除非其值表示固定的过去时间（始终已过期），或该值已由具有时钟的系统与资源相关联。
                            </p>
                        </div>
                        <div id="rfc.section.5.3.p.10">
                            <p>历史上，HTTP 要求 Expires 字段值不超过未来一年。虽然现在不再禁止更长的新鲜寿命，但极大的值已被证明会引起问题（例如使用 32
                                位整数表示时间时的时钟溢出），且许多缓存会在更早时间逐出响应。</p>
                        </div>
                    </section>
                    <section id="field.pragma">
                        <h3 id="rfc.section.5.4"><a href="#rfc.section.5.4">5.4.</a>&nbsp;<a
                                href="#field.pragma">Pragma</a></h3>
                        <div id="rfc.section.5.4.p.1">
                            <p>“Pragma” 请求头字段是在 HTTP/1.0 缓存中定义的，以便客户端能够指定 “no-cache” 请求（因为在 HTTP/1.1 之前未定义 <a
                                    href="#field.cache-control" class="smpl">Cache-Control</a>）。</p>
                        </div>
                        <div id="rfc.section.5.4.p.2">
                            <p>然而，Cache-Control 的支持现已广泛。因此，本规范弃用 Pragma。</p>
                        </div>
                        <div id="rfc.section.5.4.p.3">
                            <aside>
                                <div id="rfc.section.5.4.p.3.1">
                                    <p><b>注意：</b> 由于在响应中 “Pragma: no-cache” 的含义从未被指定，它无法可靠地替代响应中的 “Cache-Control:
                                        no-cache”。</p>
                                </div>
                            </aside>
                        </div>
                    </section>
                    <section id="field.warning">
                        <h3 id="rfc.section.5.5"><a href="#rfc.section.5.5">5.5.</a>&nbsp;<a
                                href="#field.warning">Warning</a></h3>
                        <div id="rfc.iref.f.2"></div>
                        <div id="rfc.iref.h.2"></div>
                        <div id="rfc.iref.w.1"></div>
                        <div id="rfc.section.5.5.p.1">
                            <p>“Warning”
                                头字段曾用于传达关于消息状态或转换的附加信息，这些信息可能未反映在状态码中。本规范将其作废，因为它并不常被生成或呈现给用户。其所携带的信息可以通过检查其他头字段（例如 <a
                                    href="#field.age" class="smpl">Age</a>）来推断。</p>
                        </div>
                    </section>
                </section>
                <section id="history.lists">
                    <h2 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;<a
                            href="#history.lists">与应用程序和其他缓存的关系</a></h2>
                    <div id="rfc.section.6.p.1">
                        <p>使用 HTTP 的应用程序常常指定其他形式的缓存。例如，Web 浏览器通常具有历史机制（例如“后退”按钮），可用于重新显示会话中先前检索的表示。</p>
                    </div>
                    <div id="rfc.section.6.p.2">
                        <p>同样，一些 Web 浏览器在页面视图内对图像和其他资源实现缓存；它们可能会也可能不会遵循 HTTP 缓存语义。</p>
                    </div>
                    <div id="rfc.section.6.p.3">
                        <p>本规范中的要求不一定适用于应用程序在从 HTTP 缓存检索数据后如何使用这些数据。例如，历史机制可以显示已过期的先前表示，应用程序也可以在超出其新鲜度生存期后以其他方式使用已缓存的数据。
                        </p>
                    </div>
                    <div id="rfc.section.6.p.4">
                        <p>本规范并不禁止应用程序将 HTTP 缓存纳入考虑；例如，历史机制可能会告知用户某个视图已过期，或可能遵守缓存指令（例如 Cache-Control: no-store）。</p>
                    </div>
                    <div id="rfc.section.6.p.5">
                        <p>但是，当应用程序缓存数据且未向用户显式表明或便于用户控制时，强烈建议其基于 HTTP 缓存指令来定义其操作，以免令期望遵守缓存语义的作者感到意外。例如，定义一个“位于”HTTP
                            之上的应用程序缓存，以允许对包含 Cache-Control: no-store
                            的响应在与获取它的请求直接相关的请求（例如在同一页面加载期间创建的那些请求）中重用，可能是合理的；但如果允许在与获取该响应的请求无关的请求中重用，则很可能令用户和作者感到惊讶和困惑。
                        </p>
                    </div>
                </section>
                <section id="security.considerations">
                    <h2 id="rfc.section.7"><a href="#rfc.section.7">7.</a>&nbsp;<a
                            href="#security.considerations">安全性考虑</a></h2>
                    <div id="rfc.section.7.p.1">
                        <p>本节旨在告知开发者、信息提供者和用户与 HTTP 缓存相关的已知安全问题。更一般的安全性考虑在 “HTTP/1.1” （<a
                                href="rfc9112.html#security.considerations" title="Security Considerations">第 11 节</a>，见
                            <a href="#HTTP11" id="rfc.xref.HTTP11.1"><cite title="HTTP/1.1">[HTTP/1.1]</cite></a>）和
                            “HTTP Semantics” （<a href="rfc9110.html#security.considerations"
                                title="Security Considerations">第 17 节</a>，见 <a href="#HTTP" id="rfc.xref.HTTP.52"><cite
                                    title="HTTP Semantics">[HTTP]</cite></a>）中讨论。
                        </p>
                    </div>
                    <div id="rfc.section.7.p.2">
                        <p>缓存增加了额外的攻击面，因为缓存内容对恶意利用者来说是有吸引力的目标。由于缓存内容在 HTTP
                            请求完成后仍然存在，对缓存的攻击可能在用户认为信息已从网络中移除很久之后仍会泄露信息。因此，缓存内容需要被作为敏感信息来保护。</p>
                    </div>
                    <div id="rfc.section.7.p.3">
                        <p>特别地，由于私有缓存仅限于单个用户，它们可以被用来重建用户的活动。因此，用户代理应允许终端用户控制私有缓存，例如允许为某些或所有源服务器移除已存的响应。</p>
                    </div>
                    <section id="cache.poisoning">
                        <h3 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1.</a>&nbsp;<a
                                href="#cache.poisoning">缓存投毒</a></h3>
                        <div id="rfc.section.7.1.p.1">
                            <p>在缓存中存储恶意内容可以扩展攻击者影响多个用户的能力。所谓的“缓存投毒”攻击发生在攻击者利用实现缺陷、提升的权限或其它技术将响应插入缓存时。当使用共享缓存来向许多客户端分发恶意内容时，这种攻击尤其有效。
                            </p>
                        </div>
                        <div id="rfc.section.7.1.p.2">
                            <p>缓存投毒的一个常见攻击向量是利用代理和用户代理在消息解析上的差异；有关 HTTP/1.1 的相关要求，请参见 <a
                                    href="rfc9112.html#message.body.length" title="Message Body Length">第 6.3 节</a>（见 <a
                                    href="#HTTP11" id="rfc.xref.HTTP11.2"><cite title="HTTP/1.1">[HTTP/1.1]</cite></a>）。
                            </p>
                        </div>
                    </section>
                    <section id="security.timing">
                        <h3 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2.</a>&nbsp;<a
                                href="#security.timing">计时攻击</a></h3>
                        <div id="rfc.section.7.2.p.1">
                            <p>由于缓存的主要用途之一是优化性能，其使用可以“泄露”有关哪些资源先前被请求的信息。</p>
                        </div>
                        <div id="rfc.section.7.2.p.2">
                            <p>例如，如果用户访问了某站点且其浏览器对其某些响应进行了缓存，然后导航到第二个站点，该站点可以尝试加载它知道存在于第一个站点的响应。如果这些响应加载很快，则可以推断用户曾访问过该站点，甚至是该站点上的特定页面。
                            </p>
                        </div>
                        <div id="rfc.section.7.2.p.3">
                            <p>可以通过向缓存键添加更多信息来减轻此类“计时攻击”，例如添加引用站点的身份（以防止上述攻击）。这有时被称为“二重键控”。</p>
                        </div>
                    </section>
                    <section id="caching.of.sensitive.information">
                        <h3 id="rfc.section.7.3"><a href="#rfc.section.7.3">7.3.</a>&nbsp;<a
                                href="#caching.of.sensitive.information">敏感信息的缓存</a></h3>
                        <div id="rfc.section.7.3.p.1">
                            <p>实现和部署缺陷（常由对缓存操作的误解引起）可能导致被认为是私密的敏感信息（例如验证凭据）被缓存，从而将其暴露给未授权方。</p>
                        </div>
                        <div id="rfc.section.7.3.p.2">
                            <p>请注意，Set-Cookie 响应头字段（<a href="#COOKIE" id="rfc.xref.COOKIE.1"><cite
                                        title="HTTP State Management Mechanism">[COOKIE]</cite></a>）并不会阻止缓存；带有
                                Set-Cookie 头字段的可缓存响应可以（并且通常会）用于满足对缓存的后续请求。希望控制这些响应缓存的服务器应当发送适当的 Cache-Control 响应头字段。</p>
                        </div>
                    </section>
                </section>
                <section id="iana.considerations">
                    <h2 id="rfc.section.8"><a href="#rfc.section.8">8.</a>&nbsp;<a href="#iana.considerations">IANA
                            注意事项</a></h2>
                    <div id="rfc.section.8.p.1">
                        <p>以下注册的变更控制者为：“IETF (iesg@ietf.org) - Internet Engineering Task Force”。</p>
                    </div>
                    <section id="field.name.registration">
                        <h3 id="rfc.section.8.1"><a href="#rfc.section.8.1">8.1.</a>&nbsp;<a
                                href="#field.name.registration">字段名称注册</a></h3>
                        <div id="rfc.section.8.1.p.1" class="avoidbreakafter">
                            <p>IANA 已在 <a
                                    href="https://www.iana.org/assignments/http-fields">https://www.iana.org/assignments/http-fields</a>
                                更新了“超文本传输协议 (HTTP) 字段名称注册表”，如 <a href="rfc9110.html#field.name.registration"
                                    title="Field Name Registration">第 18.4 节</a> 所述（见 <a href="#HTTP"
                                    id="rfc.xref.HTTP.53"><cite title="HTTP Semantics">[HTTP]</cite></a>），并在下表中列出了字段名称：
                            </p>
                        </div>
                        <div class="table table-condensed table-striped" id="iana.header.registration.table">
                            <table class="v3 tleft">
                                <caption>表 1</caption>
                                <thead>
                                    <tr>
                                        <th class="text-left">字段名称</th>
                                        <th class="text-left">状态</th>
                                        <th class="text-left">节</th>
                                        <th class="text-left">注释</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-left">Age</td>
                                        <td class="text-left">permanent</td>
                                        <td class="text-left"><a href="#field.age" id="rfc.xref.field.age.3"
                                                title="Age">5.1</a> </td>
                                        <td class="text-left"></td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">Cache-Control</td>
                                        <td class="text-left">permanent</td>
                                        <td class="text-left"><a href="#field.cache-control"
                                                id="rfc.xref.field.cache-control.1" title="Cache-Control">5.2</a> </td>
                                        <td class="text-left"></td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">Expires</td>
                                        <td class="text-left">permanent</td>
                                        <td class="text-left"><a href="#field.expires" id="rfc.xref.field.expires.4"
                                                title="Expires">5.3</a> </td>
                                        <td class="text-left"></td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">Pragma</td>
                                        <td class="text-left">deprecated</td>
                                        <td class="text-left"><a href="#field.pragma" id="rfc.xref.field.pragma.1"
                                                title="Pragma">5.4</a> </td>
                                        <td class="text-left"></td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">Warning</td>
                                        <td class="text-left">obsoleted</td>
                                        <td class="text-left"><a href="#field.warning" id="rfc.xref.field.warning.1"
                                                title="Warning">5.5</a> </td>
                                        <td class="text-left"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                    <section id="cache.directive.registration">
                        <h3 id="rfc.section.8.2"><a href="#rfc.section.8.2">8.2.</a>&nbsp;<a
                                href="#cache.directive.registration">缓存指令注册</a></h3>
                        <div id="rfc.section.8.2.p.1">
                            <p>IANA 已在 <a
                                    href="https://www.iana.org/assignments/http-cache-directives">https://www.iana.org/assignments/http-cache-directives</a>
                                更新了“超文本传输协议 (HTTP) 缓存指令注册表”，并根据 <a href="#cache.directive.registry"
                                    title="Cache Directive Registry">第 5.2.4 节</a> 的注册程序以及下表中汇总的缓存指令名称进行了更新。</p>
                        </div>
                        <div class="table table-condensed table-striped" id="iana.cache.directive.registration.table">
                            <table class="v3 tleft">
                                <caption>表 2</caption>
                                <thead>
                                    <tr>
                                        <th class="text-left">缓存指令</th>
                                        <th class="text-left">节</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-left">max-age</td>
                                        <td class="text-left"><a href="#cache-request-directive.max-age"
                                                title="max-age">5.2.1.1</a>, <a href="#cache-response-directive.max-age"
                                                title="max-age">5.2.2.1</a> </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">max-stale</td>
                                        <td class="text-left"><a href="#cache-request-directive.max-stale"
                                                title="max-stale">5.2.1.2</a> </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">min-fresh</td>
                                        <td class="text-left"><a href="#cache-request-directive.min-fresh"
                                                title="min-fresh">5.2.1.3</a> </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">must-revalidate</td>
                                        <td class="text-left"><a href="#cache-response-directive.must-revalidate"
                                                title="must-revalidate">5.2.2.2</a> </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">must-understand</td>
                                        <td class="text-left"><a href="#cache-response-directive.must-understand"
                                                title="must-understand">5.2.2.3</a> </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">no-cache</td>
                                        <td class="text-left"><a href="#cache-request-directive.no-cache"
                                                title="no-cache">5.2.1.4</a>, <a
                                                href="#cache-response-directive.no-cache" title="no-cache">5.2.2.4</a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">no-store</td>
                                        <td class="text-left"><a href="#cache-request-directive.no-store"
                                                title="no-store">5.2.1.5</a>, <a
                                                href="#cache-response-directive.no-store" title="no-store">5.2.2.5</a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">no-transform</td>
                                        <td class="text-left"><a href="#cache-request-directive.no-transform"
                                                title="no-transform">5.2.1.6</a>, <a
                                                href="#cache-response-directive.no-transform"
                                                title="no-transform">5.2.2.6</a> </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">only-if-cached</td>
                                        <td class="text-left"><a href="#cache-request-directive.only-if-cached"
                                                title="only-if-cached">5.2.1.7</a> </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">private</td>
                                        <td class="text-left"><a href="#cache-response-directive.private"
                                                title="private">5.2.2.7</a> </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">proxy-revalidate</td>
                                        <td class="text-left"><a href="#cache-response-directive.proxy-revalidate"
                                                title="proxy-revalidate">5.2.2.8</a> </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">public</td>
                                        <td class="text-left"><a href="#cache-response-directive.public"
                                                title="public">5.2.2.9</a> </td>
                                    </tr>
                                    <tr>
                                        <td class="text-left">s-maxage</td>
                                        <td class="text-left"><a href="#cache-response-directive.s-maxage"
                                                title="s-maxage">5.2.2.10</a> </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                    <section id="warn.code.registration">
                        <h3 id="rfc.section.8.3"><a href="#rfc.section.8.3">8.3.</a>&nbsp;<a
                                href="#warn.code.registration">Warn 代码注册表</a></h3>
                        <div id="rfc.section.8.3.p.1" class="avoidbreakafter">
                            <p>IANA 已在 “超文本传输协议 (HTTP) Warn 代码” 注册表（位于 <a
                                    href="https://www.iana.org/assignments/http-warn-codes">https://www.iana.org/assignments/http-warn-codes</a>）中添加了如下注释，声明
                                “Warning” 已被作废：</p>
                        </div>
                        <div id="rfc.section.8.3.p.2">
                            <blockquote>
                                <div id="rfc.section.8.3.p.2.1">
                                    <p>Warning 头字段（以及其使用的 warn 代码）已根据 [RFC9111] 在 HTTP 中被作废。</p>
                                </div>
                            </blockquote>
                        </div>
                    </section>
                </section>
                <section id="rfc.references">
                    <h2 id="rfc.section.9"><a href="#rfc.section.9">9.</a> 参考文献</h2>
                    <section>
                        <div id="rfc.references.1">
                            <h3 id="rfc.section.9.1"><a href="#rfc.section.9.1">9.1.</a> 规范性参考文献</h3>
                            <dl class="dl-horizontal">
                                <dt id="HTTP">[<a href="#HTTP" class="smpl">HTTP</a>]</dt>
                                <dd>Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke, Ed., “<a
                                        href="https://www.rfc-editor.org/rfc/rfc9110.html">HTTP Semantics</a>”, <a
                                        href="https://www.rfc-editor.org/info/std97">STD 97</a>, RFC 9110, <a
                                        href="https://dx.doi.org/10.17487/RFC9110">DOI 10.17487/RFC9110</a>, 2022 年 6 月。
                                </dd>
                                <dt id="RFC2119">[<a href="#RFC2119" class="smpl">RFC2119</a>]</dt>
                                <dd>Bradner, S., “<a href="https://www.rfc-editor.org/rfc/rfc2119.html">在 RFC
                                        中指示要求级别的关键词</a>”, <a href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>,
                                    RFC 2119, <a href="https://dx.doi.org/10.17487/RFC2119">DOI 10.17487/RFC2119</a>,
                                    1997 年 3 月, &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;。
                                </dd>
                                <dt id="RFC5234">[<a href="#RFC5234" class="smpl">RFC5234</a>]</dt>
                                <dd>Crocker, D., Ed. and P. Overell, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc5234.html">语法规范的扩展 BNF：ABNF</a>”, <a
                                        href="https://www.rfc-editor.org/info/std68">STD 68</a>, RFC 5234, <a
                                        href="https://dx.doi.org/10.17487/RFC5234">DOI 10.17487/RFC5234</a>, 2008 年 1 月,
                                    &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;。
                                </dd>
                                <dt id="RFC7405">[<a href="#RFC7405" class="smpl">RFC7405</a>]</dt>
                                <dd>Kyzivat, P., “<a href="https://www.rfc-editor.org/rfc/rfc7405.html">ABNF
                                        中对大小写敏感字符串的支持</a>”, RFC 7405, <a href="https://dx.doi.org/10.17487/RFC7405">DOI
                                        10.17487/RFC7405</a>, 2014 年 12 月, &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc7405">https://www.rfc-editor.org/info/rfc7405</a>&gt;。
                                </dd>
                                <dt id="RFC8174">[<a href="#RFC8174" class="smpl">RFC8174</a>]</dt>
                                <dd>Leiba, B., “<a href="https://www.rfc-editor.org/rfc/rfc8174.html">RFC 2119
                                        关键词中大写与小写的歧义</a>”, <a href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>,
                                    RFC 8174, <a href="https://dx.doi.org/10.17487/RFC8174">DOI 10.17487/RFC8174</a>,
                                    2017 年 5 月, &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;。
                                </dd>
                            </dl>
                        </div>
                    </section>
                    <section>
                        <div id="rfc.references.2">
                            <h3 id="rfc.section.9.2"><a href="#rfc.section.9.2">9.2.</a> 参考资料</h3>
                            <dl class="dl-horizontal">
                                <dt id="COOKIE">[<a href="#COOKIE" class="smpl">COOKIE</a>]</dt>
                                <dd>Barth, A., “<a href="https://www.rfc-editor.org/rfc/rfc6265.html">HTTP 状态管理机制</a>”,
                                    RFC 6265, <a href="https://dx.doi.org/10.17487/RFC6265">DOI 10.17487/RFC6265</a>,
                                    2011 年 4 月, &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc6265">https://www.rfc-editor.org/info/rfc6265</a>&gt;。
                                </dd>
                                <dt id="HTTP11">[<a href="#HTTP11" class="smpl">HTTP/1.1</a>]</dt>
                                <dd>Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke, Ed., “<a
                                        href="https://www.rfc-editor.org/rfc/rfc9112.html">HTTP/1.1</a>”, <a
                                        href="https://www.rfc-editor.org/info/std99">STD 99</a>, RFC 9112, <a
                                        href="https://dx.doi.org/10.17487/RFC9112">DOI 10.17487/RFC9112</a>, 2022 年 6 月。
                                </dd>
                                <dt id="RFC2616">[<a href="#RFC2616" class="smpl">RFC2616</a>]</dt>
                                <dd>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T.
                                    Berners-Lee, “<a href="https://www.rfc-editor.org/rfc/rfc2616.html">超文本传输协议 --
                                        HTTP/1.1</a>”, RFC 2616, <a href="https://dx.doi.org/10.17487/RFC2616">DOI
                                        10.17487/RFC2616</a>, 1999 年 6 月, &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc2616">https://www.rfc-editor.org/info/rfc2616</a>&gt;。
                                </dd>
                                <dt id="RFC5861">[<a href="#RFC5861" class="smpl">RFC5861</a>]</dt>
                                <dd>Nottingham, M., “<a href="https://www.rfc-editor.org/rfc/rfc5861.html">用于陈旧内容的 HTTP
                                        Cache-Control 扩展</a>”, RFC 5861, <a
                                        href="https://dx.doi.org/10.17487/RFC5861">DOI 10.17487/RFC5861</a>, 2010 年 5 月,
                                    &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc5861">https://www.rfc-editor.org/info/rfc5861</a>&gt;。
                                </dd>
                                <dt id="RFC7234">[<a href="#RFC7234" class="smpl">RFC7234</a>]</dt>
                                <dd>Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke, Ed., “<a
                                        href="https://www.rfc-editor.org/rfc/rfc7234.html">超文本传输协议 (HTTP/1.1)：缓存</a>”,
                                    RFC 7234, <a href="https://dx.doi.org/10.17487/RFC7234">DOI 10.17487/RFC7234</a>,
                                    2014 年 6 月, &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc7234">https://www.rfc-editor.org/info/rfc7234</a>&gt;。
                                </dd>
                                <dt id="RFC8126">[<a href="#RFC8126" class="smpl">RFC8126</a>]</dt>
                                <dd>Cotton, M., Leiba, B., and T. Narten, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc8126.html">在 RFC 中编写 IANA
                                        注意事项部分的指南</a>”, <a href="https://www.rfc-editor.org/info/bcp26">BCP 26</a>, RFC
                                    8126, <a href="https://dx.doi.org/10.17487/RFC8126">DOI 10.17487/RFC8126</a>, 2017 年
                                    6 月, &lt;<a
                                        href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;。
                                </dd>
                            </dl>
                        </div>
                    </section>
                </section>
                <section id="collected.abnf">
                    <h2 id="rfc.section.A" class="np"><a href="#rfc.section.A">附录 A.</a>&nbsp;<a
                            href="#collected.abnf">汇总的 ABNF</a></h2>
                    <div id="rfc.section.A.p.1">
                        <p>在下面的汇总 ABNF 中，列表规则按照 <a href="rfc9110.html#abnf.extension"
                                title="Lists (#rule ABNF Extension)">第 5.6.1 节</a> 的规定展开，见 <a href="#HTTP"
                                id="rfc.xref.HTTP.54"><cite title="HTTP Semantics">[HTTP]</cite></a>。</p>
                    </div>
                    <div id="rfc.section.A.p.2">
                        <pre class="inline prettyprint lang-ietf_abnf"><a href="#field.age" class="smpl">Age</a> = delta-seconds

<a href="#field.cache-control" class="smpl">Cache-Control</a> = [ cache-directive *( OWS "," OWS cache-directive ) ]

<a href="#field.expires" class="smpl">Expires</a> = HTTP-date

<a href="#imported.rules" class="smpl">HTTP-date</a> = &lt;HTTP-date, see <a href="#HTTP" id="rfc.xref.HTTP.55"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.6.7">Section 5.6.7</a>&gt;

<a href="#imported.rules" class="smpl">OWS</a> = &lt;OWS, see <a href="#HTTP" id="rfc.xref.HTTP.56"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.6.3">Section 5.6.3</a>&gt;

<a href="#field.cache-control" class="smpl">cache-directive</a> = token [ "=" ( token / quoted-string ) ]

<a href="#delta-seconds" class="smpl">delta-seconds</a> = 1*DIGIT

<a href="#imported.rules" class="smpl">field-name</a> = &lt;field-name, see <a href="#HTTP" id="rfc.xref.HTTP.57"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.1">Section 5.1</a>&gt;

<a href="#imported.rules" class="smpl">quoted-string</a> = &lt;quoted-string, see <a href="#HTTP" id="rfc.xref.HTTP.58"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.6.4">Section 5.6.4</a>&gt;

<a href="#imported.rules" class="smpl">token</a> = &lt;token, see <a href="#HTTP" id="rfc.xref.HTTP.59"><cite title="HTTP Semantics">[HTTP]</cite></a>, <a href="rfc9110.html#rfc.section.5.6.2">Section 5.6.2</a>&gt;
</pre>
                    </div>
                </section>
                <section id="changes.from.rfc.7234">
                    <h2 id="rfc.section.B"><a href="#rfc.section.B">附录 B.</a>&nbsp;<a href="#changes.from.rfc.7234">来自
                            RFC 7234 的变更</a></h2>
                    <div id="rfc.section.B.p.1">
                        <p>对重复和冲突的缓存指令的处理已澄清。（<a href="#calculating.freshness.lifetime"
                                title="Calculating Freshness Lifetime">第 4.2.1 节</a>）</p>
                    </div>
                    <div id="rfc.section.B.p.2">
                        <p>对 Location 和 Content-Location 头字段中 URI 的缓存失效现在不再是必需的，但仍然允许。（<a href="#invalidation"
                                title="Invalidating Stored Responses">第 4.4 节</a>）</p>
                    </div>
                    <div id="rfc.section.B.p.3">
                        <p>当源不同（以前是主机）时，禁止对 Location 和 Content-Location 头字段中 URI 的缓存失效。（<a href="#invalidation"
                                title="Invalidating Stored Responses">第 4.4 节</a>）</p>
                    </div>
                    <div id="rfc.section.B.p.4">
                        <p>对无效和多个 Age 头字段值的处理已澄清。（<a href="#field.age" id="rfc.xref.field.age.4" title="Age">第 5.1
                                节</a>）</p>
                    </div>
                    <div id="rfc.section.B.p.5">
                        <p>本规范定义的一些缓存指令现在更强烈地禁止生成其值的带引号形式，因为发现这会造成互操作性问题。扩展缓存指令的使用者不再被要求接受 token 与 quoted-string
                            两种形式，但仍需对未知扩展正确解析。（<a href="#field.cache-control" id="rfc.xref.field.cache-control.2"
                                title="Cache-Control">第 5.2 节</a>）</p>
                    </div>
                    <div id="rfc.section.B.p.6">
                        <p>public 与 private 缓存指令已澄清，使其不再在任意条件下将响应标记为可重用。（<a href="#cache-response-directive"
                                title="Response Directives">第 5.2.2 节</a>）</p>
                    </div>
                    <div id="rfc.section.B.p.7">
                        <p>引入了 must-understand 缓存指令；除非存在该指令，否则缓存不再被要求理解新响应状态码的语义。（<a
                                href="#cache-response-directive.must-understand" title="must-understand">第 5.2.2.3
                                节</a>）</p>
                    </div>
                    <div id="rfc.section.B.p.8">
                        <p>Warning 响应头已被作废。通过检查响应本身可以推断出 Warning 支持的大部分信息，而剩余的信息——尽管可能有用——完全是建议性的。实际上，缓存或中间体很少添加
                            Warning。（<a href="#field.warning" id="rfc.xref.field.warning.2" title="Warning">第 5.5 节</a>）
                        </p>
                    </div>
                </section>
                <section id="acks">
                    <h2 id="rfc.section.unnumbered-1"><a href="#acks">致谢</a></h2>
                    <div id="rfc.section.unnumbered-1.p.1">
                        <p>参见 <a href="rfc9110.html#acks" title="Acknowledgements">“致谢”附录</a>，来源为 <a href="#HTTP"
                                id="rfc.xref.HTTP.60"><cite title="HTTP Semantics">[HTTP]</cite></a>，同样适用于本文件。</p>
                    </div>
                </section>
                <section id="rfc.index">
                    <h2><a href="#rfc.index">索引</a></h2>
                    <p class="hidden-print"><a href="#rfc.index.A">A</a> <a href="#rfc.index.C">C</a> <a
                            href="#rfc.index.E">E</a> <a href="#rfc.index.F">F</a> <a href="#rfc.index.G">G</a> <a
                            href="#rfc.index.H">H</a> <a href="#rfc.index.M">M</a> <a href="#rfc.index.N">N</a> <a
                            href="#rfc.index.O">O</a> <a href="#rfc.index.P">P</a> <a href="#rfc.index.R">R</a> <a
                            href="#rfc.index.S">S</a> <a href="#rfc.index.V">V</a> <a href="#rfc.index.W">W</a> </p>
                    <div class="print2col">
                        <ul class="ind">
                            <li><a id="rfc.index.A" href="#rfc.index.A"><b>A</b></a>
                                <ul>
                                    <li>age&nbsp;&nbsp;<a href="#rfc.iref.a.1">4.2</a></li>
                                    <li>Age 头字段&nbsp;&nbsp;<a href="#rfc.xref.field.age.1">4</a>, <a
                                            href="#rfc.xref.field.age.2">4.2.3</a>, <a
                                            href="#rfc.section.5.1"><b>5.1</b></a>, <a
                                            href="#rfc.xref.field.age.3">8.1</a>, <a href="#rfc.xref.field.age.4">B</a>
                                    </li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.C" href="#rfc.index.C"><b>C</b></a>
                                <ul>
                                    <li>cache&nbsp;&nbsp;<a href="#rfc.iref.c.1">1</a></li>
                                    <li>cache key&nbsp;&nbsp;<a href="#rfc.section.2">2</a>, <a
                                            href="#rfc.iref.c.2">2</a></li>
                                    <li>Cache-Control 头字段&nbsp;&nbsp;<a href="#rfc.section.5.2"><b>5.2</b></a>,
                                        <a href="#rfc.xref.field.cache-control.1">8.1</a>, <a
                                            href="#rfc.xref.field.cache-control.2">B</a>
                                    </li>
                                    <li>collapsed requests&nbsp;&nbsp;<a href="#rfc.iref.c.3">4</a></li>
                                    <li><em>COOKIE</em>&nbsp;&nbsp;<a href="#rfc.xref.COOKIE.1">7.3</a>, <a
                                            href="#COOKIE"><b>9.2</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.E" href="#rfc.index.E"><b>E</b></a>
                                <ul>
                                    <li>Expires 头字段&nbsp;&nbsp;<a href="#rfc.xref.field.expires.1">3</a>, <a
                                            href="#rfc.xref.field.expires.2">4.2</a>, <a
                                            href="#rfc.xref.field.expires.3">4.2.1</a>, <a
                                            href="#rfc.section.5.3"><b>5.3</b></a>, <a
                                            href="#rfc.xref.field.expires.4">8.1</a></li>
                                    <li>显式到期时间&nbsp;&nbsp;<a href="#rfc.iref.e.1">4.2</a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.F" href="#rfc.index.F"><b>F</b></a>
                                <ul>
                                    <li>字段&nbsp;&nbsp;<ul>
                                            <li>Age&nbsp;&nbsp;<a href="#rfc.xref.field.age.1">4</a>, <a
                                                    href="#rfc.xref.field.age.2">4.2.3</a>, <a
                                                    href="#rfc.section.5.1"><b>5.1</b></a>, <a
                                                    href="#rfc.xref.field.age.3">8.1</a>, <a
                                                    href="#rfc.xref.field.age.4">B</a></li>
                                            <li>Cache-Control&nbsp;&nbsp;<a href="#rfc.section.5.2"><b>5.2</b></a>, <a
                                                    href="#rfc.xref.field.cache-control.1">8.1</a>, <a
                                                    href="#rfc.xref.field.cache-control.2">B</a></li>
                                            <li>Expires&nbsp;&nbsp;<a href="#rfc.xref.field.expires.1">3</a>, <a
                                                    href="#rfc.xref.field.expires.2">4.2</a>, <a
                                                    href="#rfc.xref.field.expires.3">4.2.1</a>, <a
                                                    href="#rfc.section.5.3"><b>5.3</b></a>, <a
                                                    href="#rfc.xref.field.expires.4">8.1</a></li>
                                            <li>Pragma&nbsp;&nbsp;<a href="#rfc.section.5.4"><b>5.4</b></a>, <a
                                                    href="#rfc.xref.field.pragma.1">8.1</a></li>
                                            <li>Warning&nbsp;&nbsp;<a href="#rfc.iref.f.2"><b>5.5</b></a>, <a
                                                    href="#rfc.xref.field.warning.1">8.1</a>, <a
                                                    href="#rfc.xref.field.warning.2">B</a></li>
                                        </ul>
                                    </li>
                                    <li>fresh&nbsp;&nbsp;<a href="#rfc.section.4.2">4.2</a></li>
                                    <li>freshness lifetime&nbsp;&nbsp;<a href="#rfc.iref.f.1">4.2</a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.G" href="#rfc.index.G"><b>G</b></a>
                                <ul>
                                    <li><span class="tt">语法</span>&nbsp;&nbsp;<ul>
                                            <li><span class="tt">Age</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.2"><b>5.1</b></a></li>
                                            <li><span class="tt">Cache-Control</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.3"><b>5.2</b></a></li>
                                            <li><span class="tt">cache-directive</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.4"><b>5.2</b></a></li>
                                            <li><span class="tt">delta-seconds</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.1"><b>1.2.2</b></a></li>
                                            <li>DIGIT&nbsp;&nbsp;<a href="#rfc.section.1.2"><b>1.2</b></a></li>
                                            <li><span class="tt">Expires</span>&nbsp;&nbsp;<a
                                                    href="#rfc.iref.g.5"><b>5.3</b></a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.H" href="#rfc.index.H"><b>H</b></a>
                                <ul>
                                    <li>头字段&nbsp;&nbsp;<ul>
                                            <li>Age&nbsp;&nbsp;<a href="#rfc.xref.field.age.1">4</a>, <a
                                                    href="#rfc.xref.field.age.2">4.2.3</a>, <a
                                                    href="#rfc.section.5.1"><b>5.1</b></a>, <a
                                                    href="#rfc.xref.field.age.3">8.1</a>, <a
                                                    href="#rfc.xref.field.age.4">B</a></li>
                                            <li>Cache-Control&nbsp;&nbsp;<a href="#rfc.section.5.2"><b>5.2</b></a>, <a
                                                    href="#rfc.xref.field.cache-control.1">8.1</a>, <a
                                                    href="#rfc.xref.field.cache-control.2">B</a></li>
                                            <li>Expires&nbsp;&nbsp;<a href="#rfc.xref.field.expires.1">3</a>, <a
                                                    href="#rfc.xref.field.expires.2">4.2</a>, <a
                                                    href="#rfc.xref.field.expires.3">4.2.1</a>, <a
                                                    href="#rfc.section.5.3"><b>5.3</b></a>, <a
                                                    href="#rfc.xref.field.expires.4">8.1</a></li>
                                            <li>Pragma&nbsp;&nbsp;<a href="#rfc.section.5.4"><b>5.4</b></a>, <a
                                                    href="#rfc.xref.field.pragma.1">8.1</a></li>
                                            <li>Warning&nbsp;&nbsp;<a href="#rfc.iref.h.2"><b>5.5</b></a>, <a
                                                    href="#rfc.xref.field.warning.1">8.1</a>, <a
                                                    href="#rfc.xref.field.warning.2">B</a></li>
                                        </ul>
                                    </li>
                                    <li>启发式到期时间&nbsp;&nbsp;<a href="#rfc.iref.h.1">4.2</a></li>
                                    <li>启发式可缓存&nbsp;&nbsp;<a href="#rfc.section.4.2.2">4.2.2</a></li>
                                    <li><em>HTTP</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.1">1</a>, <a
                                            href="#rfc.xref.HTTP.2">1.1</a>, <a href="#rfc.xref.HTTP.3">1.2</a>, <a
                                            href="#rfc.xref.HTTP.4">1.2.1</a>, <a href="#rfc.xref.HTTP.5">1.2.1</a>, <a
                                            href="#rfc.xref.HTTP.6">1.2.1</a>, <a href="#rfc.xref.HTTP.7">1.2.1</a>, <a
                                            href="#rfc.xref.HTTP.8">1.2.1</a>, <a href="#rfc.xref.HTTP.9">1.2.1</a>, <a
                                            href="#rfc.xref.HTTP.10">2</a>, <a href="#rfc.xref.HTTP.11">2</a>, <a
                                            href="#rfc.xref.HTTP.12">3</a>, <a href="#rfc.xref.HTTP.13">3</a>, <a
                                            href="#rfc.xref.HTTP.14">3.1</a>, <a href="#rfc.xref.HTTP.15">3.1</a>, <a
                                            href="#rfc.xref.HTTP.16">3.1</a>, <a href="#rfc.xref.HTTP.17">3.1</a>, <a
                                            href="#rfc.xref.HTTP.18">3.1</a>, <a href="#rfc.xref.HTTP.19">3.3</a>, <a
                                            href="#rfc.xref.HTTP.20">3.3</a>, <a href="#rfc.xref.HTTP.21">3.4</a>, <a
                                            href="#rfc.xref.HTTP.22">3.4</a>, <a href="#rfc.xref.HTTP.23">3.5</a>, <a
                                            href="#rfc.xref.HTTP.24">4</a>, <a href="#rfc.xref.HTTP.25">4</a>, <a
                                            href="#rfc.xref.HTTP.26">4</a>, <a href="#rfc.xref.HTTP.27">4.1</a>, <a
                                            href="#rfc.xref.HTTP.28">4.1</a>, <a href="#rfc.xref.HTTP.29">4.2.1</a>, <a
                                            href="#rfc.xref.HTTP.30">4.2.2</a>, <a href="#rfc.xref.HTTP.31">4.2.2</a>,
                                        <a href="#rfc.xref.HTTP.32">4.2.3</a>, <a href="#rfc.xref.HTTP.33">4.2.3</a>, <a
                                            href="#rfc.xref.HTTP.34">4.3</a>, <a href="#rfc.xref.HTTP.35">4.3.1</a>, <a
                                            href="#rfc.xref.HTTP.36">4.3.1</a>, <a href="#rfc.xref.HTTP.37">4.3.2</a>,
                                        <a href="#rfc.xref.HTTP.38">4.3.2</a>, <a href="#rfc.xref.HTTP.39">4.3.2</a>, <a
                                            href="#rfc.xref.HTTP.40">4.3.2</a>, <a href="#rfc.xref.HTTP.41">4.3.2</a>,
                                        <a href="#rfc.xref.HTTP.42">4.3.4</a>, <a href="#rfc.xref.HTTP.43">4.4</a>, <a
                                            href="#rfc.xref.HTTP.44">4.4</a>, <a href="#rfc.xref.HTTP.45">4.4</a>, <a
                                            href="#rfc.xref.HTTP.46">4.4</a>, <a href="#rfc.xref.HTTP.47">5.2.1.6</a>,
                                        <a href="#rfc.xref.HTTP.48">5.2.2.2</a>, <a
                                            href="#rfc.xref.HTTP.49">5.2.2.6</a>, <a href="#rfc.xref.HTTP.50">5.3</a>,
                                        <a href="#rfc.xref.HTTP.51">5.3</a>, <a href="#rfc.xref.HTTP.52">7</a>, <a
                                            href="#rfc.xref.HTTP.53">8.1</a>, <a href="#HTTP"><b>9.1</b></a>, <a
                                            href="#rfc.xref.HTTP.54">A</a>, <a href="#rfc.xref.HTTP.55">A</a>, <a
                                            href="#rfc.xref.HTTP.56">A</a>, <a href="#rfc.xref.HTTP.57">A</a>, <a
                                            href="#rfc.xref.HTTP.58">A</a>, <a href="#rfc.xref.HTTP.59">A</a>, <a
                                            href="#rfc.xref.HTTP.60">"致谢"</a>
                                        <ul>
                                            <li><em>第 5.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.57">A</a></li>
                                            <li><em>第 5.6.2 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.59">A</a></li>
                                            <li><em>第 5.6.3 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.56">A</a></li>
                                            <li><em>第 5.6.4 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.58">A</a></li>
                                            <li><em>第 5.6.7 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.55">A</a></li>
                                        </ul>
                                        <ul>
                                            <li><em>第 2 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.2">1.1</a></li>
                                            <li><em>第 3 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.10">2</a></li>
                                            <li><em>第 3.7 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.1">1</a></li>
                                            <li><em>第 4.3.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.45">4.4</a>
                                            </li>
                                            <li><em>第 5.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.7">1.2.1</a>
                                            </li>
                                            <li><em>第 5.2 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.28">4.1</a></li>
                                            <li><em>第 5.6.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.3">1.2</a>, <a
                                                    href="#rfc.xref.HTTP.54">A</a></li>
                                            <li><em>第 5.6.2 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.9">1.2.1</a>
                                            </li>
                                            <li><em>第 5.6.3 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.6">1.2.1</a>
                                            </li>
                                            <li><em>第 5.6.4 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.8">1.2.1</a>
                                            </li>
                                            <li><em>第 5.6.7 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.5">1.2.1</a>,
                                                <a href="#rfc.xref.HTTP.26">4</a>, <a
                                                    href="#rfc.xref.HTTP.33">4.2.3</a>, <a
                                                    href="#rfc.xref.HTTP.50">5.3</a>, <a
                                                    href="#rfc.xref.HTTP.51">5.3</a>
                                            </li>
                                            <li><em>第 6.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.19">3.3</a></li>
                                            <li><em>第 6.6.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.29">4.2.1</a>,
                                                <a href="#rfc.xref.HTTP.32">4.2.3</a>
                                            </li>
                                            <li><em>第 7.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.24">4</a>, <a
                                                    href="#rfc.xref.HTTP.44">4.4</a>, <a
                                                    href="#rfc.xref.HTTP.46">4.4</a></li>
                                            <li><em>第 7.6.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.14">3.1</a>,
                                                <a href="#rfc.xref.HTTP.15">3.1</a>
                                            </li>
                                            <li><em>第 7.7 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.47">5.2.1.6</a>,
                                                <a href="#rfc.xref.HTTP.49">5.2.2.6</a>
                                            </li>
                                            <li><em>第 8.8.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.42">4.3.4</a>
                                            </li>
                                            <li><em>第 8.8.2 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.31">4.2.2</a>,
                                                <a href="#rfc.xref.HTTP.35">4.3.1</a>
                                            </li>
                                            <li><em>第 8.8.3 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.36">4.3.1</a>
                                            </li>
                                            <li><em>第 9.2.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.25">4</a>, <a
                                                    href="#rfc.xref.HTTP.43">4.4</a></li>
                                            <li><em>第 9.3.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.11">2</a></li>
                                            <li><em>第 11.6.2 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.13">3</a>, <a
                                                    href="#rfc.xref.HTTP.23">3.5</a>, <a
                                                    href="#rfc.xref.HTTP.48">5.2.2.2</a></li>
                                            <li><em>第 11.7.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.16">3.1</a>
                                            </li>
                                            <li><em>第 11.7.2 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.18">3.1</a>
                                            </li>
                                            <li><em>第 11.7.3 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.17">3.1</a>
                                            </li>
                                            <li><em>第 12.5.5 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.27">4.1</a>
                                            </li>
                                            <li><em>第 13 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.34">4.3</a></li>
                                            <li><em>第 13.1.2 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.38">4.3.2</a>
                                            </li>
                                            <li><em>第 13.1.3 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.39">4.3.2</a>
                                            </li>
                                            <li><em>第 13.1.5 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.41">4.3.2</a>
                                            </li>
                                            <li><em>第 13.2.2 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.37">4.3.2</a>
                                            </li>
                                            <li><em>第 14.2 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.20">3.3</a>, <a
                                                    href="#rfc.xref.HTTP.21">3.4</a>, <a
                                                    href="#rfc.xref.HTTP.40">4.3.2</a></li>
                                            <li><em>第 15 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.12">3</a></li>
                                            <li><em>第 15.1 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.30">4.2.2</a>
                                            </li>
                                            <li><em>第 15.3.7.3 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.22">3.4</a>
                                            </li>
                                            <li><em>第 17 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.52">7</a></li>
                                            <li><em>第 18.4 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.53">8.1</a>
                                            </li>
                                            <li><em>致谢</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP.60">"致谢"</a></li>
                                        </ul>
                                    </li>
                                    <li><em>HTTP/1.1</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP11.1">7</a>, <a
                                            href="#rfc.xref.HTTP11.2">7.1</a>, <a href="#HTTP11"><b>9.2</b></a>
                                        <ul>
                                            <li><em>第 6.3 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP11.2">7.1</a>
                                            </li>
                                            <li><em>第 11 节</em>&nbsp;&nbsp;<a href="#rfc.xref.HTTP11.1">7</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.M" href="#rfc.index.M"><b>M</b></a>
                                <ul>
                                    <li>max-age（缓存指令）&nbsp;&nbsp;<a href="#rfc.section.5.2.1.1"><b>5.2.1.1</b></a>, <a
                                            href="#rfc.section.5.2.2.1"><b>5.2.2.1</b></a></li>
                                    <li>max-stale（缓存指令）&nbsp;&nbsp;<a href="#rfc.section.5.2.1.2"><b>5.2.1.2</b></a>
                                    </li>
                                    <li>min-fresh（缓存指令）&nbsp;&nbsp;<a href="#rfc.section.5.2.1.3"><b>5.2.1.3</b></a>
                                    </li>
                                    <li>must-revalidate（缓存指令）&nbsp;&nbsp;<a
                                            href="#rfc.section.5.2.2.2"><b>5.2.2.2</b></a></li>
                                    <li>must-understand（缓存指令）&nbsp;&nbsp;<a
                                            href="#rfc.section.5.2.2.3"><b>5.2.2.3</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.N" href="#rfc.index.N"><b>N</b></a>
                                <ul>
                                    <li>no-cache（缓存指令）&nbsp;&nbsp;<a href="#rfc.section.5.2.1.4"><b>5.2.1.4</b></a>, <a
                                            href="#rfc.section.5.2.2.4"><b>5.2.2.4</b></a></li>
                                    <li>no-store（缓存指令）&nbsp;&nbsp;<a href="#rfc.section.5.2.1.5"><b>5.2.1.5</b></a>, <a
                                            href="#rfc.section.5.2.2.5"><b>5.2.2.5</b></a></li>
                                    <li>no-transform（缓存指令）&nbsp;&nbsp;<a href="#rfc.section.5.2.1.6"><b>5.2.1.6</b></a>,
                                        <a href="#rfc.section.5.2.2.6"><b>5.2.2.6</b></a>
                                    </li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.O" href="#rfc.index.O"><b>O</b></a>
                                <ul>
                                    <li>only-if-cached（缓存指令）&nbsp;&nbsp;<a
                                            href="#rfc.section.5.2.1.7"><b>5.2.1.7</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.P" href="#rfc.index.P"><b>P</b></a>
                                <ul>
                                    <li>Pragma 头字段&nbsp;&nbsp;<a href="#rfc.section.5.4"><b>5.4</b></a>, <a
                                            href="#rfc.xref.field.pragma.1">8.1</a></li>
                                    <li>private（缓存指令）&nbsp;&nbsp;<a href="#rfc.section.5.2.2.7"><b>5.2.2.7</b></a></li>
                                    <li>private cache&nbsp;&nbsp;<a href="#rfc.iref.p.1">1</a></li>
                                    <li>proxy-revalidate（缓存指令）&nbsp;&nbsp;<a
                                            href="#rfc.section.5.2.2.8"><b>5.2.2.8</b></a></li>
                                    <li>public（缓存指令）&nbsp;&nbsp;<a href="#rfc.section.5.2.2.9"><b>5.2.2.9</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.R" href="#rfc.index.R"><b>R</b></a>
                                <ul>
                                    <li><em>RFC2119</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2119.1">1.1</a>, <a
                                            href="#RFC2119"><b>9.1</b></a></li>
                                    <li><em>RFC2616</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2616.1">4.2.2</a>, <a
                                            href="#RFC2616"><b>9.2</b></a>
                                        <ul>
                                            <li><em>第 13.9 节</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2616.1">4.2.2</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><em>RFC5234</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC5234.1">1.2</a>, <a
                                            href="#rfc.xref.RFC5234.2">1.2.1</a>, <a href="#RFC5234"><b>9.1</b></a>
                                        <ul>
                                            <li><em>附录 B.1</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC5234.2">1.2.1</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><em>RFC5861</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC5861.1">4.2.4</a>, <a
                                            href="#RFC5861"><b>9.2</b></a></li>
                                    <li><em>RFC7234</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC7234.1">1</a>, <a
                                            href="#RFC7234"><b>9.2</b></a></li>
                                    <li><em>RFC7405</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC7405.1">1.2</a>, <a
                                            href="#RFC7405"><b>9.1</b></a></li>
                                    <li><em>RFC8126</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC8126.1">5.2.4</a>, <a
                                            href="#RFC8126"><b>9.2</b></a>
                                        <ul>
                                            <li><em>第 4.8 节</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC8126.1">5.2.4</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><em>RFC8174</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC8174.1">1.1</a>, <a
                                            href="#RFC8174"><b>9.1</b></a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.S" href="#rfc.index.S"><b>S</b></a>
                                <ul>
                                    <li>s-maxage（缓存指令）&nbsp;&nbsp;<a href="#rfc.section.5.2.2.10"><b>5.2.2.10</b></a>
                                    </li>
                                    <li>shared cache&nbsp;&nbsp;<a href="#rfc.iref.s.1">1</a></li>
                                    <li>stale&nbsp;&nbsp;<a href="#rfc.section.4.2">4.2</a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.V" href="#rfc.index.V"><b>V</b></a>
                                <ul>
                                    <li>validator&nbsp;&nbsp;<a href="#rfc.section.4.3.1">4.3.1</a></li>
                                </ul>
                            </li>
                            <li><a id="rfc.index.W" href="#rfc.index.W"><b>W</b></a>
                                <ul>
                                    <li>Warning 头字段&nbsp;&nbsp;<a href="#rfc.iref.w.1"><b>5.5</b></a>, <a
                                            href="#rfc.xref.field.warning.1">8.1</a>, <a
                                            href="#rfc.xref.field.warning.2">B</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </section>
                <section id="rfc.authors" class="avoidbreakinside">
                    <h2><a href="#rfc.authors">作者地址</a></h2>
                    <address><b>Roy T. Fielding</b> (editor)<br>Adobe<br>345 Park Ave<br>San Jose, CA 95110<br>United
                        States of America<br>Email: fielding@gbiv.com<br>URI: <a
                            href="https://roy.gbiv.com/">https://roy.gbiv.com/</a></address>
                    <address><b>Mark Nottingham</b> (editor)<br>Fastly<br>Prahran<br>Australia<br>Email:
                        mnot@mnot.net<br>URI: <a href="https://www.mnot.net/">https://www.mnot.net/</a></address>
                    <address><b>Julian Reschke</b> (editor)<br>greenbytes GmbH<br>Hafenweg 16<br>48155
                        Münster<br>Germany<br>Email: julian.reschke@greenbytes.de<br>URI: <a
                            href="https://greenbytes.de/tech/webdav/">https://greenbytes.de/tech/webdav/</a></address>
                </section>
            </div>
        </div>
    </div>
    <script src="https://httpwg.org/assets/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="https://httpwg.org/assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/dropdown.js"></script>
</body>

</html>