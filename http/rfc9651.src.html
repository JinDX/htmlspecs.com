<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RFC 9651 - Structured Field Values for HTTP</title>
    <script>
        function getMeta(rfcno, container) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "https://www.rfc-editor.org/rfc/rfc" + rfcno + ".json", true);
            xhr.onload = function (e) {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        var data = JSON.parse(xhr.response);

                        var cont = document.getElementById(container);
                        // empty the container
                        while (cont.firstChild) {
                            cont.removeChild(myNode.firstChild);
                        }

                        var c = data.status;
                        if (c) {
                            var bld = newElementWithText("b", c);
                            cont.appendChild(bld);
                        } else {
                            cont.appendChild(newElementWithText("i", "(document status unknown)"));
                        }

                        c = data.updated_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Updated by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.obsoleted_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Obsoleted by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.errata_url;
                        if (c) {
                            cont.appendChild(newElement("br"));
                            var link = newElementWithText("a", "errata");
                            link.setAttribute("href", c);
                            var errata = newElementWithText("i", "This document has ");
                            errata.appendChild(link);
                            errata.appendChild(newText("."));
                            cont.appendChild(errata);
                        }

                        cont.style.display = "block";
                    } else {
                        console.error(xhr.statusText);
                    }
                }
            };
            xhr.onerror = function (e) {
                console.error(xhr.status + " " + xhr.statusText);
            };
            xhr.send(null);
        }
        function appendRfcLinks(parent, updates) {
            var template = "https://www.rfc-editor.org/rfc/rfc{rfc}.html";
            for (var i = 0; i < updates.length; i++) {
                var rfc = updates[i].trim().toLowerCase();
                if (rfc.substring(0, 3) == "rfc") {
                    var no = parseInt(rfc.substring(3), 10);

                    var link = newElement("a");
                    link.setAttribute("href", template.replace("{rfc}", no));
                    link.appendChild(newText(no));
                    parent.appendChild(link);
                } else {
                    parent.appendChild(newText(rfc));
                }
                if (i != updates.length - 1) {
                    parent.appendChild(newText(", "));
                }
            }
        }

        // DOM helpers
        function newElement(name) {
            return document.createElement(name);
        }
        function newElementWithText(name, txt) {
            var e = document.createElement(name);
            e.appendChild(newText(txt));
            return e;
        }
        function newText(text) {
            return document.createTextNode(text);
        }
    </script>
    <script>
        function anchorRewrite() {
            map = {};
            if (window.location.hash.length >= 1) {
                var fragid = window.location.hash.substr(1);
                if (fragid) {
                    if (!document.getElementById(fragid)) {
                        var prefix = "rfc.";
                        var mapped = map[fragid];
                        if (mapped) {
                            window.location.hash = mapped;
                        } else if (fragid.indexOf("section-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(8).replace("-", ".p.");
                        } else if (fragid.indexOf("appendix-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(9).replace("-", ".p.");
                        } else if (fragid.indexOf("s-") == 0) {
                            var postfix = fragid.substring(2);
                            if (postfix.startsWith("abstract")) {
                                window.location.hash = prefix + postfix;
                            } else if (postfix.startsWith("note-")) {
                                window.location.hash = prefix + "note." + postfix.substring(5).replace("-", ".p.");
                            } else {
                                window.location.hash = prefix + "section." + postfix.replace("-", ".p.");
                            }
                        } else if (fragid.indexOf("p-") == 0) {
                            var r = fragid.substring(2);
                            var p = r.indexOf("-");
                            if (p >= 0) {
                                window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
                            }
                        }
                    }
                }
            }
        }
        window.addEventListener('hashchange', anchorRewrite);
        window.addEventListener('DOMContentLoaded', anchorRewrite);
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="article">
    <meta property="og:title" content="RFC9651">
    <meta property="og:description" content="Structured Field Values for HTTP">
    <meta property="og:url" content="https://httpwg.org/specs/rfc9651.html">
    <meta property="og:site_name" content="IETF HTTP Working Group Specifications">
    <meta property="og:image" content="https://httpwg.org/assets/favicon/apple-icon-180x180.png">
    <link rel="stylesheet" type="text/css" href="/assets/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <style type="text/css">
        body {
            padding-top: 80px;
            padding-bottom: 80px;
            position: relative;
        }

        .table.header th,
        .table.header td {
            border-top: none;
            padding: 0;
        }

        #sidebar {
            margin-top: -10px;
            height: 90%;
            overflow-y: auto;
            font-size: 90%;
        }

        #rfc\.meta {
            width: 40%;
            float: right
        }

        .toc ul {
            list-style: none;
        }

        .filename {
            color: rgb(119, 119, 119);
            font-size: 23px;
            font-weight: normal;
            height: auto;
            line-height: 23px;
        }

        dl {
            margin-left: 1em;
        }

        dl.dl-horizontal: {
            margin-left: 0;
        }

        dl>dt {
            float: left;
            margin-right: 1em;
        }

        dl.nohang>dt {
            float: none;
        }

        dl>dd {
            margin-bottom: .5em;
        }

        dl.compact>dd {
            margin-bottom: 0em;
        }

        dl>dd>dl {
            margin-top: 0.5em;
            margin-bottom: 0em;
        }

        ul.empty {
            list-style-type: none;
        }

        ul.empty li {
            margin-top: .5em;
        }

        td.reference {
            padding-right: 1em;
            vertical-align: top;
        }

        .feedback {
            position: fixed;
            bottom: 5px;
            right: 5px;
        }

        .fbbutton {
            margin-left: 5px;
        }

        h1 a,
        h2 a,
        h3 a,
        h4 a,
        h5 a,
        h6 a {
            color: rgb(51, 51, 51);
        }

        span.tt {
            font: 11pt consolas, monospace;
            font-size-adjust: none;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="/assets/site.css">
    <link rel="Contents" href="#rfc.toc">
    <link rel="Author" href="#rfc.authors">
    <link rel="License" href="#rfc.copyrightnotice">
    <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
    <link rel="Chapter" title="2 Defining New Structured Fields" href="#rfc.section.2">
    <link rel="Chapter" title="3 Structured Data Types" href="#rfc.section.3">
    <link rel="Chapter" title="4 Working with Structured Fields in HTTP" href="#rfc.section.4">
    <link rel="Chapter" title="5 IANA Considerations" href="#rfc.section.5">
    <link rel="Chapter" title="6 Security Considerations" href="#rfc.section.6">
    <link rel="Chapter" title="7 References" href="#rfc.section.7">
    <link rel="Appendix" title="A Frequently Asked Questions" href="#rfc.section.A">
    <link rel="Appendix" title="B Implementation Notes" href="#rfc.section.B">
    <link rel="Appendix" title="C ABNF" href="#rfc.section.C">
    <link rel="Appendix" title="D Changes from RFC 8941" href="#rfc.section.D">
    <link rel="Appendix" title="Acknowledgements" href="#rfc.section.unnumbered-4">
    <link href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-sfbis-06" rel="prev">
    <link href="https://dx.doi.org/10.17487/rfc9651" rel="alternate">
    <link href="urn:issn:2070-1721" rel="alternate">
    <link rel="Alternate" title="Plain Text Version" href="http://www.ietf.org/rfc/rfc9651.txt">
    <link rel="Help" title="RFC-Editor's Status Page" href="https://www.rfc-editor.org/info/rfc9651">
    <meta name="viewport" content="initial-scale=1">
    <meta name="generator"
        content="https://github.com/mnot/RFCBootstrap XSLT vendor: Saxonica http://www.saxonica.com/">
    <meta name="keywords" content="trailer, header">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.creator" content="Nottingham, M.">
    <meta name="dcterms.creator" content="Kamp, P-H.">
    <meta name="dcterms.identifier" content="urn:ietf:rfc:9651">
    <meta name="dcterms.issued" content="2024-09">
    <meta name="dct.replaces" content="urn:ietf:rfc:8941">
    <meta name="dcterms.abstract"
        content="This document describes a set of data types and associated algorithms that are intended to make it easier and safer to define and handle HTTP header and trailer fields, known as &#34;Structured Fields&#34;, &#34;Structured Headers&#34;, or &#34;Structured Trailers&#34;. It is intended for use by specifications of new HTTP fields.This document obsoletes RFC 8941.">
    <meta name="dcterms.isPartOf" content="urn:issn:2070-1721">
    <meta name="description"
        content="This document describes a set of data types and associated algorithms that are intended to make it easier and safer to define and handle HTTP header and trailer fields, known as &#34;Structured Fields&#34;, &#34;Structured Headers&#34;, or &#34;Structured Trailers&#34;. It is intended for use by specifications of new HTTP fields.This document obsoletes RFC 8941.">
</head>

<body onload="getMeta(9651,&#34;rfc.meta&#34;);">
    <nav class="navbar navbar-dark bg-dark d-print-none navbar-expand-lg fixed-top ps-3 pe-3" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse"
                aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand" href="https://httpwg.org/"><img src="https://httpwg.org/assets/http.svg"
                    height="23"></a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">

            <div class="navbar-nav me-auto">

                <a class="nav-item ms-1 text-white" href="https://httpwg.org/specs/">📄 Documentation</a>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Work in
                        Progress</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/http-extensions/">HTTP Extensions</a></li>
                        <li class="dropdown-item"><a
                                href="https://github.com/httpwg/admin/issues?q=is%3Aissue+is%3Aopen+label%3Aadoption">Future
                                Work</a></li>
                    </ul>
                </div>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Participate</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/about/">About the HTTP Working Group</a>
                        </li>
                        <li class="divider"></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/CONTRIBUTING.html">Contribution Policy</a>
                        </li>
                        <li class="dropdown-item"><a href="http://datatracker.ietf.org/wg/httpbis/charter/">WG
                                Charter</a></li>
                        <li class="dropdown-item"><a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">Group
                                Mailing List 📨</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/wg-materials/">Meeting Materials</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/admin/editors/">Document Editor
                                Resources</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>
    <div class="container" id="top">
        <div class="row">
            <div class="col-lg-4 order-last d-none d-lg-block" id="sidebar" role="navigation">
                <div class="navbar">
                    <div class="navbar-brand"><a href="#top"><strong>RFC </strong>9651</a></div><br clear="all">
                    <div class="">
                        <div class="toc ">
                            <ul>
                                <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#introduction">Introduction</a>
                                    <ul>
                                        <li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#strict">Intentionally Strict Processing</a></li>
                                        <li><a href="#rfc.section.1.2">1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#notational-conventions">Notational Conventions</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#specify">Defining New
                                        Structured Fields</a>
                                    <ul>
                                        <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#example">Example</a></li>
                                        <li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#error-handling">Error Handling</a></li>
                                        <li><a href="#rfc.section.2.3">2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#preserving-extensibility">Preserving Extensibility</a></li>
                                        <li><a href="#rfc.section.2.4">2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#using-new-structured-types-in-extensions">Using New Structured
                                                Types in Extensions</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#types">Structured Data
                                        Types</a>
                                    <ul>
                                        <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#list">Lists</a>
                                            <ul>
                                                <li><a href="#rfc.section.3.1.1">3.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#inner-list">Inner Lists</a></li>
                                                <li><a href="#rfc.section.3.1.2">3.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#param">Parameters</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#dictionary">Dictionaries</a></li>
                                        <li><a href="#rfc.section.3.3">3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#item">Items</a>
                                            <ul>
                                                <li><a href="#rfc.section.3.3.1">3.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#integer">Integers</a></li>
                                                <li><a href="#rfc.section.3.3.2">3.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#decimal">Decimals</a></li>
                                                <li><a href="#rfc.section.3.3.3">3.3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#string">Strings</a></li>
                                                <li><a href="#rfc.section.3.3.4">3.3.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#token">Tokens</a></li>
                                                <li><a href="#rfc.section.3.3.5">3.3.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#binary">Byte Sequences</a></li>
                                                <li><a href="#rfc.section.3.3.6">3.3.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#boolean">Booleans</a></li>
                                                <li><a href="#rfc.section.3.3.7">3.3.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#date">Dates</a></li>
                                                <li><a href="#rfc.section.3.3.8">3.3.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#displaystring">Display Strings</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#text">Working with
                                        Structured Fields in HTTP</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#text-serialize">Serializing Structured Fields</a>
                                            <ul>
                                                <li><a href="#rfc.section.4.1.1">4.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-list">Serializing a List</a></li>
                                                <li><a href="#rfc.section.4.1.2">4.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-dictionary">Serializing a Dictionary</a></li>
                                                <li><a href="#rfc.section.4.1.3">4.1.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-item">Serializing an Item</a></li>
                                                <li><a href="#rfc.section.4.1.4">4.1.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-integer">Serializing an Integer</a></li>
                                                <li><a href="#rfc.section.4.1.5">4.1.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-decimal">Serializing a Decimal</a></li>
                                                <li><a href="#rfc.section.4.1.6">4.1.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-string">Serializing a String</a></li>
                                                <li><a href="#rfc.section.4.1.7">4.1.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-token">Serializing a Token</a></li>
                                                <li><a href="#rfc.section.4.1.8">4.1.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-binary">Serializing a Byte Sequence</a></li>
                                                <li><a href="#rfc.section.4.1.9">4.1.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-boolean">Serializing a Boolean</a></li>
                                                <li><a href="#rfc.section.4.1.10">4.1.10.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-date">Serializing a Date</a></li>
                                                <li><a href="#rfc.section.4.1.11">4.1.11.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#ser-display">Serializing a Display String</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#rfc.section.4.2">4.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#text-parse">Parsing Structured Fields</a>
                                            <ul>
                                                <li><a href="#rfc.section.4.2.1">4.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-list">Parsing a List</a></li>
                                                <li><a href="#rfc.section.4.2.2">4.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-dictionary">Parsing a Dictionary</a></li>
                                                <li><a href="#rfc.section.4.2.3">4.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-item">Parsing an Item</a></li>
                                                <li><a href="#rfc.section.4.2.4">4.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-number">Parsing an Integer or Decimal</a></li>
                                                <li><a href="#rfc.section.4.2.5">4.2.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-string">Parsing a String</a></li>
                                                <li><a href="#rfc.section.4.2.6">4.2.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-token">Parsing a Token</a></li>
                                                <li><a href="#rfc.section.4.2.7">4.2.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-binary">Parsing a Byte Sequence</a></li>
                                                <li><a href="#rfc.section.4.2.8">4.2.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-boolean">Parsing a Boolean</a></li>
                                                <li><a href="#rfc.section.4.2.9">4.2.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-date">Parsing a Date</a></li>
                                                <li><a href="#rfc.section.4.2.10">4.2.10.</a>&nbsp;&nbsp;&nbsp;<a
                                                        href="#parse-display">Parsing a Display String</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#iana">IANA
                                        Considerations</a></li>
                                <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#security">Security
                                        Considerations</a></li>
                                <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references">References</a>
                                    <ul>
                                        <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.2">Normative References</a></li>
                                        <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.3">Informative References</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a href="#faq">Frequently
                                        Asked Questions</a>
                                    <ul>
                                        <li><a href="#rfc.section.A.1">A.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#why-not-json">Why Not JSON?</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.B">Appendix B.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#implementation-notes">Implementation Notes</a></li>
                                <li><a href="#rfc.section.C">Appendix C.</a>&nbsp;&nbsp;&nbsp;<a href="#abnf">ABNF</a>
                                </li>
                                <li><a href="#rfc.section.D">Appendix D.</a>&nbsp;&nbsp;&nbsp;<a href="#changes">Changes
                                        from RFC 8941</a></li>
                                <li><a href="#acknowledgements">Acknowledgements</a></li>
                                <li><a href="#rfc.authors">Authors' Addresses</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 order-first main" role="main">
                <header>
                    <table class="table table-condensed header" id="rfc.headerblock">
                        <tbody>
                            <tr>
                                <td class="text-left">Internet Engineering Task Force (IETF)</td>
                                <td class="text-right">M. Nottingham</td>
                            </tr>
                            <tr>
                                <td class="text-left">Request for Comments: 9651</td>
                                <td class="text-right">Cloudflare</td>
                            </tr>
                            <tr>
                                <td class="text-left">Obsoletes: <a
                                        href="https://www.rfc-editor.org/rfc/rfc8941.html">8941</a></td>
                                <td class="text-right">P-H. Kamp</td>
                            </tr>
                            <tr>
                                <td class="text-left">Category: Standards Track</td>
                                <td class="text-right">The Varnish Cache Project</td>
                            </tr>
                            <tr>
                                <td class="text-left">ISSN: 2070-1721</td>
                                <td class="text-right">September 2024</td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="rfc.title">
                        <h1>Structured Field Values for HTTP</h1>
                    </div>
                </header>
                <hr>
                <h2 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h2>
                <div class="lead">
                    <div id="rfc.abstract.p.1">
                        <p>This document describes a set of data types and associated algorithms that are intended to
                            make it easier and safer to define and handle HTTP header and trailer fields, known as
                            "Structured Fields", "Structured Headers", or "Structured Trailers". It is intended for use
                            by specifications of new HTTP fields.</p>
                    </div>
                    <div id="rfc.abstract.p.2">
                        <p>This document obsoletes RFC 8941.</p>
                    </div>
                </div>
                <aside id="rfc.meta" class="alert alert-info"></aside>
                <section id="rfc.status">
                    <h2><a href="#rfc.status">Status of This Memo</a></h2>
                    <div id="rfc.boilerplate.1.p.1">
                        <p>This is an Internet Standards Track document.</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.2">
                        <p>This document is a product of the Internet Engineering Task Force (IETF). It represents the
                            consensus of the IETF community. It has received public review and has been approved for
                            publication by the Internet Engineering Steering Group (IESG). Further information on
                            Internet Standards is available in <a
                                href="https://www.rfc-editor.org/rfc/rfc7841.html#section-2">Section 2 of RFC 7841</a>.
                        </p>
                    </div>
                    <div id="rfc.boilerplate.1.p.3">
                        <p>Information about the current status of this document, any errata, and how to provide
                            feedback on it may be obtained at <a
                                href="https://www.rfc-editor.org/info/rfc9651">https://www.rfc-editor.org/info/rfc9651</a>.
                        </p>
                    </div>
                </section>
                <section id="rfc.copyrightnotice">
                    <h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2>
                    <div id="rfc.boilerplate.2.p.1">
                        <p>Copyright (c) 2024 IETF Trust and the persons identified as the document authors. All rights
                            reserved.</p>
                    </div>
                    <div id="rfc.boilerplate.2.p.2">
                        <p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF
                            Documents (<a
                                href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>)
                            in effect on the date of publication of this document. Please review these documents
                            carefully, as they describe your rights and restrictions with respect to this document. Code
                            Components extracted from this document must include Revised BSD License text as described
                            in Section 4.e of the Trust Legal Provisions and are provided without warranty as described
                            in the Revised BSD License.</p>
                    </div>
                </section>
                <div class="toc d-lg-none">
                    <ul>
                        <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#introduction">Introduction</a>
                            <ul>
                                <li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a href="#strict">Intentionally
                                        Strict Processing</a></li>
                                <li><a href="#rfc.section.1.2">1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#notational-conventions">Notational Conventions</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#specify">Defining New Structured
                                Fields</a>
                            <ul>
                                <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a href="#example">Example</a>
                                </li>
                                <li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a href="#error-handling">Error
                                        Handling</a></li>
                                <li><a href="#rfc.section.2.3">2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#preserving-extensibility">Preserving Extensibility</a></li>
                                <li><a href="#rfc.section.2.4">2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#using-new-structured-types-in-extensions">Using New Structured Types in
                                        Extensions</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#types">Structured Data Types</a>
                            <ul>
                                <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a href="#list">Lists</a>
                                    <ul>
                                        <li><a href="#rfc.section.3.1.1">3.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#inner-list">Inner Lists</a></li>
                                        <li><a href="#rfc.section.3.1.2">3.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#param">Parameters</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#dictionary">Dictionaries</a></li>
                                <li><a href="#rfc.section.3.3">3.3.</a>&nbsp;&nbsp;&nbsp;<a href="#item">Items</a>
                                    <ul>
                                        <li><a href="#rfc.section.3.3.1">3.3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#integer">Integers</a></li>
                                        <li><a href="#rfc.section.3.3.2">3.3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#decimal">Decimals</a></li>
                                        <li><a href="#rfc.section.3.3.3">3.3.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#string">Strings</a></li>
                                        <li><a href="#rfc.section.3.3.4">3.3.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#token">Tokens</a></li>
                                        <li><a href="#rfc.section.3.3.5">3.3.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#binary">Byte Sequences</a></li>
                                        <li><a href="#rfc.section.3.3.6">3.3.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#boolean">Booleans</a></li>
                                        <li><a href="#rfc.section.3.3.7">3.3.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#date">Dates</a></li>
                                        <li><a href="#rfc.section.3.3.8">3.3.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#displaystring">Display Strings</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#text">Working with Structured
                                Fields in HTTP</a>
                            <ul>
                                <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#text-serialize">Serializing Structured Fields</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.1.1">4.1.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-list">Serializing a List</a></li>
                                        <li><a href="#rfc.section.4.1.2">4.1.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-dictionary">Serializing a Dictionary</a></li>
                                        <li><a href="#rfc.section.4.1.3">4.1.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-item">Serializing an Item</a></li>
                                        <li><a href="#rfc.section.4.1.4">4.1.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-integer">Serializing an Integer</a></li>
                                        <li><a href="#rfc.section.4.1.5">4.1.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-decimal">Serializing a Decimal</a></li>
                                        <li><a href="#rfc.section.4.1.6">4.1.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-string">Serializing a String</a></li>
                                        <li><a href="#rfc.section.4.1.7">4.1.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-token">Serializing a Token</a></li>
                                        <li><a href="#rfc.section.4.1.8">4.1.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-binary">Serializing a Byte Sequence</a></li>
                                        <li><a href="#rfc.section.4.1.9">4.1.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-boolean">Serializing a Boolean</a></li>
                                        <li><a href="#rfc.section.4.1.10">4.1.10.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-date">Serializing a Date</a></li>
                                        <li><a href="#rfc.section.4.1.11">4.1.11.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#ser-display">Serializing a Display String</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.4.2">4.2.</a>&nbsp;&nbsp;&nbsp;<a href="#text-parse">Parsing
                                        Structured Fields</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.2.1">4.2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-list">Parsing a List</a></li>
                                        <li><a href="#rfc.section.4.2.2">4.2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-dictionary">Parsing a Dictionary</a></li>
                                        <li><a href="#rfc.section.4.2.3">4.2.3.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-item">Parsing an Item</a></li>
                                        <li><a href="#rfc.section.4.2.4">4.2.4.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-number">Parsing an Integer or Decimal</a></li>
                                        <li><a href="#rfc.section.4.2.5">4.2.5.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-string">Parsing a String</a></li>
                                        <li><a href="#rfc.section.4.2.6">4.2.6.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-token">Parsing a Token</a></li>
                                        <li><a href="#rfc.section.4.2.7">4.2.7.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-binary">Parsing a Byte Sequence</a></li>
                                        <li><a href="#rfc.section.4.2.8">4.2.8.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-boolean">Parsing a Boolean</a></li>
                                        <li><a href="#rfc.section.4.2.9">4.2.9.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-date">Parsing a Date</a></li>
                                        <li><a href="#rfc.section.4.2.10">4.2.10.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#parse-display">Parsing a Display String</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#iana">IANA Considerations</a>
                        </li>
                        <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#security">Security
                                Considerations</a></li>
                        <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a>
                            <ul>
                                <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.2">Normative References</a></li>
                                <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.3">Informative References</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a href="#faq">Frequently Asked
                                Questions</a>
                            <ul>
                                <li><a href="#rfc.section.A.1">A.1.</a>&nbsp;&nbsp;&nbsp;<a href="#why-not-json">Why Not
                                        JSON?</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.B">Appendix B.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#implementation-notes">Implementation Notes</a></li>
                        <li><a href="#rfc.section.C">Appendix C.</a>&nbsp;&nbsp;&nbsp;<a href="#abnf">ABNF</a></li>
                        <li><a href="#rfc.section.D">Appendix D.</a>&nbsp;&nbsp;&nbsp;<a href="#changes">Changes from
                                RFC 8941</a></li>
                        <li><a href="#acknowledgements">Acknowledgements</a></li>
                        <li><a href="#rfc.authors">Authors' Addresses</a></li>
                    </ul>
                </div>
                <hr class="hidden-print">
                <section id="introduction">
                    <h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a
                            href="#introduction">Introduction</a></h2>
                    <div id="rfc.section.1.p.1">
                        <p>Specifying the syntax of new HTTP header (and trailer) fields is an onerous task; even with
                            the guidance in <a href="https://www.rfc-editor.org/rfc/rfc9110.html#section-16.3.2">Section
                                16.3.2</a> of <a href="#RFC9110"><cite title="HTTP Semantics">[HTTP]</cite></a>, there
                            are many decisions -- and pitfalls -- for a prospective HTTP field author.</p>
                    </div>
                    <div id="rfc.section.1.p.2">
                        <p>Once a field is defined, bespoke parsers and serializers often need to be written, because
                            each field value has a slightly different handling of what looks like common syntax.</p>
                    </div>
                    <div id="rfc.section.1.p.3">
                        <p>This document introduces a set of common data structures for use in definitions of new HTTP
                            field values to address these problems. In particular, it defines a generic, abstract model
                            for them, along with a concrete serialization for expressing that model in HTTP <a
                                href="#RFC9110"><cite title="HTTP Semantics">[HTTP]</cite></a> header and trailer
                            fields.</p>
                    </div>
                    <div id="rfc.section.1.p.4">
                        <p>An HTTP field that is defined as a "Structured Header" or "Structured Trailer" (if the field
                            can be either, it is a "Structured Field") uses the types defined in this specification to
                            define its syntax and basic handling rules, thereby simplifying both its definition by
                            specification writers and handling by implementations.</p>
                    </div>
                    <div id="rfc.section.1.p.5">
                        <p>Additionally, future versions of HTTP can define alternative serializations of the abstract
                            model of these structures, allowing fields that use that model to be transmitted more
                            efficiently without being redefined.</p>
                    </div>
                    <div id="rfc.section.1.p.6">
                        <p>Note that it is not a goal of this document to redefine the syntax of existing HTTP fields;
                            the mechanisms described herein are only intended to be used with fields that explicitly opt
                            into them.</p>
                    </div>
                    <div id="rfc.section.1.p.7">
                        <p><a href="#specify" title="Defining New Structured Fields">Section 2</a> describes how to
                            specify a Structured Field.</p>
                    </div>
                    <div id="rfc.section.1.p.8">
                        <p><a href="#types" title="Structured Data Types">Section 3</a> defines a number of abstract
                            data types that can be used in Structured Fields.</p>
                    </div>
                    <div id="rfc.section.1.p.9">
                        <p>Those abstract types can be serialized into and parsed from HTTP field values using the
                            algorithms described in <a href="#text"
                                title="Working with Structured Fields in HTTP">Section 4</a>.</p>
                    </div>
                    <section id="strict">
                        <h3 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a>&nbsp;<a
                                href="#strict">Intentionally Strict Processing</a></h3>
                        <div id="rfc.section.1.1.p.1">
                            <p>This specification intentionally defines strict parsing and serialization behaviors using
                                step-by-step algorithms; the only error handling defined is to fail the entire operation
                                altogether.</p>
                        </div>
                        <div id="rfc.section.1.1.p.2">
                            <p>It is designed to encourage faithful implementation and good interoperability. Therefore,
                                an implementation that tried to be helpful by being more tolerant of input would make
                                interoperability worse, since that would create pressure on other implementations to
                                implement similar (but likely subtly different) workarounds.</p>
                        </div>
                        <div id="rfc.section.1.1.p.3">
                            <p>In other words, strict processing is an intentional feature of this specification; it
                                allows non-conformant input to be discovered and corrected by the producer early and
                                avoids both interoperability and security issues that might otherwise result.</p>
                        </div>
                        <div id="rfc.section.1.1.p.4">
                            <p>Note that as a result of this strictness, if a field is appended to by multiple parties
                                (e.g., intermediaries or different components in the sender), an error in one party's
                                value is likely to cause the entire field value to fail parsing.</p>
                        </div>
                    </section>
                    <section id="notational-conventions">
                        <h3 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2.</a>&nbsp;<a
                                href="#notational-conventions">Notational Conventions</a></h3>
                        <div id="rfc.section.1.2.p.1">
                            <p>The key words "<em class="bcp14">MUST</em>", "<em class="bcp14">MUST NOT</em>", "<em
                                    class="bcp14">REQUIRED</em>", "<em class="bcp14">SHALL</em>", "<em
                                    class="bcp14">SHALL NOT</em>", "<em class="bcp14">SHOULD</em>", "<em
                                    class="bcp14">SHOULD NOT</em>", "<em class="bcp14">RECOMMENDED</em>", "<em
                                    class="bcp14">NOT RECOMMENDED</em>", "<em class="bcp14">MAY</em>", and "<em
                                    class="bcp14">OPTIONAL</em>" in this document are to be interpreted as described in
                                <span class="nobr">BCP 14</span> <a href="#RFC2119"><cite
                                        title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>
                                <a href="#RFC8174"><cite
                                        title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">[RFC8174]</cite></a>
                                when, and only when, they appear in all capitals, as shown here.
                            </p>
                        </div>
                        <div id="rfc.section.1.2.p.2">
                            <p>This document uses the VCHAR, SP, DIGIT, ALPHA, and DQUOTE rules from <a
                                    href="#RFC5234"><cite
                                        title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a> to
                                specify characters and/or their corresponding ASCII bytes, depending on context. It uses
                                the tchar and OWS rules from <a href="#RFC9110"><cite
                                        title="HTTP Semantics">[HTTP]</cite></a> for the same purpose.</p>
                        </div>
                        <div id="rfc.section.1.2.p.3">
                            <p>This document uses algorithms to specify parsing and serialization behaviors. When
                                parsing from HTTP fields, implementations <em class="bcp14">MUST</em> have behavior that
                                is indistinguishable from following the algorithms.</p>
                        </div>
                        <div id="rfc.section.1.2.p.4">
                            <p>For serialization to HTTP fields, the algorithms define the recommended way to produce
                                them. Implementations <em class="bcp14">MAY</em> vary from the specified behavior so
                                long as the output is still correctly handled by the parsing algorithm described in <a
                                    href="#text-parse" title="Parsing Structured Fields">Section 4.2</a>.</p>
                        </div>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="specify">
                    <h2 id="rfc.section.2" class="np"><a href="#rfc.section.2">2.</a>&nbsp;<a href="#specify">Defining
                            New Structured Fields</a></h2>
                    <div id="rfc.section.2.p.1" class="avoidbreakafter">
                        <p>To specify an HTTP field as a Structured Field, its authors need to:</p>
                    </div>
                    <div id="rfc.section.2.p.2">
                        <ul>
                            <li>
                                <div>
                                    <p>Normatively reference this specification. Recipients and generators of the field
                                        need to know that the requirements of this document are in effect.</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Identify whether the field is a Structured Header (i.e., it can only be used in
                                        the header section -- the common case), a Structured Trailer (only in the
                                        trailer section), or a Structured Field (both).</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Specify the type of the field value; either List (<a href="#list"
                                            title="Lists">Section 3.1</a>), Dictionary (<a href="#dictionary"
                                            title="Dictionaries">Section 3.2</a>), or Item (<a href="#item"
                                            title="Items">Section 3.3</a>).</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Define the semantics of the field value.</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Specify any additional constraints upon the field value, as well as the
                                        consequences when those constraints are violated.</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div id="rfc.section.2.p.3">
                        <p>Typically, this means that a field definition will specify the top-level type -- List,
                            Dictionary, or Item -- and then define its allowable types and constraints upon them. For
                            example, a header defined as a List might have all Integer members, or a mix of types; a
                            header defined as an Item might allow only Strings, and additionally only strings beginning
                            with the letter "Q", or strings in lowercase. Likewise, Inner Lists (<a href="#inner-list"
                                title="Inner Lists">Section 3.1.1</a>) are only valid when a field definition explicitly
                            allows them.</p>
                    </div>
                    <div id="rfc.section.2.p.4">
                        <p>Fields that use the Display String type are advised to carefully specify their allowable
                            Unicode code points; for example, specifying the use of a profile from <a
                                href="#RFC8264"><cite
                                    title="PRECIS Framework: Preparation, Enforcement, and Comparison of Internationalized Strings in Application Protocols">[PRECIS]</cite></a>.
                        </p>
                    </div>
                    <div id="rfc.section.2.p.5">
                        <p>Field definitions can only use this specification for the entire field value, not a portion
                            thereof.</p>
                    </div>
                    <div id="rfc.section.2.p.6">
                        <p>Specifications can refer to a field name as a "Structured Header name", "Structured Trailer
                            name", or "Structured Field name" as appropriate. Likewise, they can refer its field value
                            as a "Structured Header value", "Structured Trailer value", or "Structured Field value" as
                            necessary.</p>
                    </div>
                    <div id="rfc.section.2.p.7">
                        <p>This specification defines minimums for the length or number of various structures supported
                            by implementations. It does not specify maximum sizes in most cases, but authors should be
                            aware that HTTP implementations do impose various limits on the size of individual fields,
                            the total number of fields, and/or the size of the entire header or trailer section.</p>
                    </div>
                    <section id="example">
                        <h3 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a>&nbsp;<a href="#example">Example</a>
                        </h3>
                        <div id="rfc.section.2.1.p.1" class="avoidbreakafter">
                            <p>A fictitious Foo-Example header field might be specified as:</p>
                        </div>
                        <div id="rfc.section.2.1.p.2">
                            <blockquote>
                                <div id="rfc.section.2.1.p.2.1">
                                    <p>42. Foo-Example Header Field</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.2">
                                    <p>The Foo-Example HTTP header field conveys information about how much Foo the
                                        message has.</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.3">
                                    <p>Foo-Example is an Item Structured Header Field [RFC9651]. Its value <em
                                            class="bcp14">MUST</em> be an Integer (Section 3.3.1 of [RFC9651]).</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.4">
                                    <p>Its value indicates the amount of Foo in the message, and it <em
                                            class="bcp14">MUST</em> be between 0 and 10, inclusive; other values <em
                                            class="bcp14">MUST</em> cause the entire header field to be ignored.</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.5" class="avoidbreakafter">
                                    <p>The following parameter is defined:</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.6">
                                    <ul>
                                        <li>A parameter whose key is "foourl", and whose value is a String (Section
                                            3.3.3 of [RFC9651]), conveying the Foo URL for the message. See below for
                                            processing requirements.</li>
                                    </ul>
                                </div>
                                <div id="rfc.section.2.1.p.2.7">
                                    <p>"foourl" contains a URI-reference (Section 4.1 of [RFC3986]). If its value is not
                                        a valid URI-reference, the entire header field <em class="bcp14">MUST</em> be
                                        ignored. If its value is a relative reference (Section 4.2 of [RFC3986]), it <em
                                            class="bcp14">MUST</em> be resolved (Section 5 of [RFC3986]) before being
                                        used.</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.8" class="avoidbreakafter">
                                    <p>For example:</p>
                                </div>
                                <div id="rfc.section.2.1.p.2.9">
                                    <pre>
  Foo-Example: 2; foourl="https://foo.example.com/"
</pre>
                                </div>
                            </blockquote>
                        </div>
                    </section>
                    <section id="error-handling">
                        <h3 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a>&nbsp;<a
                                href="#error-handling">Error Handling</a></h3>
                        <div id="rfc.section.2.2.p.1">
                            <p>When parsing fails, the entire field is ignored (see <a href="#text-parse"
                                    title="Parsing Structured Fields">Section 4.2</a>). Field definitions cannot
                                override this because doing so would preclude handling by generic software; they can
                                only add additional constraints (for example, on the numeric range of Integers and
                                Decimals, the format of Strings and Tokens, the types allowed in a Dictionary's values,
                                or the number of Items in a List).</p>
                        </div>
                        <div id="rfc.section.2.2.p.2">
                            <p>When field-specific constraints are violated, the entire field is also ignored, unless
                                the field definition defines other handling requirements. For example, if a header field
                                is defined as an Item and required to be an Integer, but a String is received, it should
                                be ignored unless that field's definition explicitly specifies otherwise.</p>
                        </div>
                    </section>
                    <section id="preserving-extensibility">
                        <h3 id="rfc.section.2.3"><a href="#rfc.section.2.3">2.3.</a>&nbsp;<a
                                href="#preserving-extensibility">Preserving Extensibility</a></h3>
                        <div id="rfc.section.2.3.p.1">
                            <p>Structured Fields are designed to be extensible because experience has shown that, even
                                when it is not foreseen, it is often necessary to modify and add to the allowable syntax
                                and semantics of a field in a controlled fashion.</p>
                        </div>
                        <div id="rfc.section.2.3.p.2">
                            <p>Both Items and Inner Lists allow Parameters as an extensibility mechanism; this means
                                that their values can later be extended to accommodate more information, if need be. To
                                preserve forward compatibility, field specifications are discouraged from defining the
                                presence of an unrecognized parameter as an error condition.</p>
                        </div>
                        <div id="rfc.section.2.3.p.3">
                            <p>Field specifications are required to be either an Item, List, or Dictionary to preserve
                                extensibility. Fields that erroneously defined as another type (e.g., Integer) are
                                assumed to be Items (i.e., they allow Parameters).</p>
                        </div>
                        <div id="rfc.section.2.3.p.4">
                            <p>To further assure that this extensibility is available in the future, and to encourage
                                consumers to use a complete parser implementation, a field definition can specify that
                                "grease" parameters be added by senders. A specification could stipulate that all
                                parameters that fit a defined pattern are reserved for this use and then encourage them
                                to be sent on some portion of requests. This helps to discourage recipients from writing
                                a parser that does not account for Parameters.</p>
                        </div>
                        <div id="rfc.section.2.3.p.5">
                            <p>Specifications that use Dictionaries can also allow for forward compatibility by
                                requiring that the presence of -- as well as value and type associated with -- unknown
                                keys be ignored. Subsequent specifications can then add additional keys, specifying
                                constraints on them as appropriate.</p>
                        </div>
                        <div id="rfc.section.2.3.p.6">
                            <p>An extension to a Structured Field can then require that an entire field value be ignored
                                by a recipient that understands the extension if constraints on the value it defines are
                                not met.</p>
                        </div>
                    </section>
                    <section id="using-new-structured-types-in-extensions">
                        <h3 id="rfc.section.2.4"><a href="#rfc.section.2.4">2.4.</a>&nbsp;<a
                                href="#using-new-structured-types-in-extensions">Using New Structured Types in
                                Extensions</a></h3>
                        <div id="rfc.section.2.4.p.1">
                            <p>Because a field definition needs to reference a specific RFC for Structured Fields, the
                                types available for use in its value are limited to those defined in that RFC. For
                                example, a field whose definition references this document can have a value that uses
                                the Date type (<a href="#date" title="Dates">Section 3.3.7</a>), whereas a field whose
                                definition references RFC 8941 cannot because it will be treated as invalid (and
                                therefore discarded) by implementations of that specification.</p>
                        </div>
                        <div id="rfc.section.2.4.p.2">
                            <p>This limitation also applies to future extensions to a field; for example, a field that
                                is defined with a reference to RFC 8941 cannot use the Date type because some recipients
                                might still be using a parser based on RFC 8941 to process it.</p>
                        </div>
                        <div id="rfc.section.2.4.p.3">
                            <p>However, this document is designed to be backward compatible with RFC 8941; a parser that
                                implements the requirements here can also parse valid Structured Fields whose
                                definitions reference RFC 8941.</p>
                        </div>
                        <div id="rfc.section.2.4.p.4">
                            <p>Upgrading a Structured Fields implementation to support a newer revision of the
                                specification (such as this document) brings the possibility that some field values that
                                were invalid according to the earlier RFC might become valid when processed.</p>
                        </div>
                        <div id="rfc.section.2.4.p.5">
                            <p>For example, a field instance might contain a syntactically valid Date (<a href="#date"
                                    title="Dates">Section 3.3.7</a>), even though that field's definition does not
                                accommodate Dates. An implementation based on RFC 8941 would fail parsing such a field
                                instance because it is not defined in that specification. If that implementation were
                                upgraded to this specification, parsing would now succeed. In some cases, the resulting
                                Date value will be rejected by field-specific logic, but values in fields that are
                                otherwise ignored (such as extension parameters) might not be detected, and the field
                                might subsequently be accepted and processed.</p>
                        </div>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="types">
                    <h2 id="rfc.section.3" class="np"><a href="#rfc.section.3">3.</a>&nbsp;<a href="#types">Structured
                            Data Types</a></h2>
                    <div id="rfc.section.3.p.1">
                        <p>This section provides an overview of the abstract types that Structured Fields use and gives
                            a brief description and examples of how each of those types are serialized into textual HTTP
                            fields. <a href="#text" title="Working with Structured Fields in HTTP">Section 4</a>
                            specifies the details of how they are parsed from and serialized into textual HTTP fields.
                        </p>
                    </div>
                    <div id="rfc.section.3.p.2" class="avoidbreakafter">
                        <p>In summary:</p>
                    </div>
                    <div id="rfc.section.3.p.3">
                        <ul>
                            <li>
                                <div>
                                    <p>There are three top-level types that an HTTP field can be defined as: Lists,
                                        Dictionaries, and Items.</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Lists and Dictionaries are containers; their members can be Items or Inner Lists
                                        (which are themselves arrays of Items).</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Both Items and Inner Lists can be Parameterized with key/value pairs.</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <section id="list">
                        <h3 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a>&nbsp;<a href="#list">Lists</a></h3>
                        <div id="rfc.section.3.1.p.1">
                            <p>Lists are arrays of zero or more members, each of which can be an Item (<a href="#item"
                                    title="Items">Section 3.3</a>) or an Inner List (<a href="#inner-list"
                                    title="Inner Lists">Section 3.1.1</a>), both of which can be Parameterized (<a
                                    href="#param" title="Parameters">Section 3.1.2</a>).</p>
                        </div>
                        <div id="rfc.section.3.1.p.2">
                            <p>An empty List is denoted by not serializing the field at all. This implies that fields
                                defined as Lists have a default empty value.</p>
                        </div>
                        <div id="rfc.section.3.1.p.3" class="avoidbreakafter">
                            <p>When serialized as a textual HTTP field, each member is separated by a comma and optional
                                whitespace. For example, a field whose value is defined as a List of Tokens could look
                                like:</p>
                        </div>
                        <div id="rfc.section.3.1.p.4">
                            <pre class="text">
Example-List: sugar, tea, rum
</pre>
                        </div>
                        <div id="rfc.section.3.1.p.5" class="avoidbreakafter">
                            <p>Note that Lists can have their members split across multiple lines of the same header or
                                trailer section, as per <a
                                    href="https://www.rfc-editor.org/rfc/rfc9110.html#section-5.3">Section 5.3</a> of <a
                                    href="#RFC9110"><cite title="HTTP Semantics">[HTTP]</cite></a>; for example, the
                                following are equivalent:</p>
                        </div>
                        <div id="rfc.section.3.1.p.6">
                            <pre class="text">
Example-List: sugar, tea, rum
</pre>
                        </div>
                        <div id="rfc.section.3.1.p.7">
                            <p>and</p>
                        </div>
                        <div id="rfc.section.3.1.p.8">
                            <pre class="text">
Example-List: sugar, tea
Example-List: rum
</pre>
                        </div>
                        <div id="rfc.section.3.1.p.9">
                            <p>However, individual members of a List cannot be safely split between lines; see <a
                                    href="#text-parse" title="Parsing Structured Fields">Section 4.2</a> for details.
                            </p>
                        </div>
                        <div id="rfc.section.3.1.p.10">
                            <p>Parsers <em class="bcp14">MUST</em> support Lists containing at least 1024 members. Field
                                specifications can constrain the types and cardinality of individual List values as they
                                require.</p>
                        </div>
                        <section id="inner-list">
                            <h4 id="rfc.section.3.1.1"><a href="#rfc.section.3.1.1">3.1.1.</a>&nbsp;<a
                                    href="#inner-list">Inner Lists</a></h4>
                            <div id="rfc.section.3.1.1.p.1">
                                <p>An Inner List is an array of zero or more Items (<a href="#item"
                                        title="Items">Section 3.3</a>). Both the individual Items and the Inner List
                                    itself can be Parameterized (<a href="#param" title="Parameters">Section 3.1.2</a>).
                                </p>
                            </div>
                            <div id="rfc.section.3.1.1.p.2" class="avoidbreakafter">
                                <p>When serialized in a textual HTTP field, Inner Lists are denoted by surrounding
                                    parenthesis, and their values are delimited by one or more spaces. A field whose
                                    value is defined as a List of Inner Lists of Strings could look like:</p>
                            </div>
                            <div id="rfc.section.3.1.1.p.3">
                                <pre class="text">
Example-List: ("foo" "bar"), ("baz"), ("bat" "one"), ()
</pre>
                            </div>
                            <div id="rfc.section.3.1.1.p.4">
                                <p>Note that the last member in this example is an empty Inner List.</p>
                            </div>
                            <div id="rfc.section.3.1.1.p.5" class="avoidbreakafter">
                                <p>A header field whose value is defined as a List of Inner Lists with Parameters at
                                    both levels could look like:</p>
                            </div>
                            <div id="rfc.section.3.1.1.p.6">
                                <pre class="text">
Example-List: ("foo"; a=1;b=2);lvl=5, ("bar" "baz");lvl=1
</pre>
                            </div>
                            <div id="rfc.section.3.1.1.p.7">
                                <p>Parsers <em class="bcp14">MUST</em> support Inner Lists containing at least 256
                                    members. Field specifications can constrain the types and cardinality of individual
                                    Inner List members as they require.</p>
                            </div>
                        </section>
                        <section id="param">
                            <h4 id="rfc.section.3.1.2"><a href="#rfc.section.3.1.2">3.1.2.</a>&nbsp;<a
                                    href="#param">Parameters</a></h4>
                            <div id="rfc.section.3.1.2.p.1">
                                <p>Parameters are an ordered map of key-value pairs that are associated with an Item (<a
                                        href="#item" title="Items">Section 3.3</a>) or Inner List (<a href="#inner-list"
                                        title="Inner Lists">Section 3.1.1</a>). The keys are unique within the scope of
                                    the Parameters they occur within, and the values are bare items (i.e., they
                                    themselves cannot be parameterized; see <a href="#item" title="Items">Section
                                        3.3</a>).</p>
                            </div>
                            <div id="rfc.section.3.1.2.p.2">
                                <p>Implementations <em class="bcp14">MUST</em> provide access to Parameters both by
                                    index and by key. Specifications <em class="bcp14">MAY</em> use either means of
                                    accessing them.</p>
                            </div>
                            <div id="rfc.section.3.1.2.p.3">
                                <p>Note that parameters are ordered, and parameter keys cannot contain uppercase
                                    letters.</p>
                            </div>
                            <div id="rfc.section.3.1.2.p.4" class="avoidbreakafter">
                                <p>When serialized in a textual HTTP field, a Parameter is separated from its Item or
                                    Inner List and other Parameters by a semicolon. For example:</p>
                            </div>
                            <div id="rfc.section.3.1.2.p.5">
                                <pre class="text">
Example-List: abc;a=1;b=2; cde_456, (ghi;jk=4 l);q="9";r=w
</pre>
                            </div>
                            <div id="rfc.section.3.1.2.p.6" class="avoidbreakafter">
                                <p>Parameters whose value is Boolean (see <a href="#boolean" title="Booleans">Section
                                        3.3.6</a>) true <em class="bcp14">MUST</em> omit that value when serialized. For
                                    example, the "a" parameter here is true, while the "b" parameter is false:</p>
                            </div>
                            <div id="rfc.section.3.1.2.p.7">
                                <pre class="text">
Example-Integer: 1; a; b=?0
</pre>
                            </div>
                            <div id="rfc.section.3.1.2.p.8">
                                <p>Note that this requirement is only on serialization; parsers are still required to
                                    correctly handle the true value when it appears in a parameter.</p>
                            </div>
                            <div id="rfc.section.3.1.2.p.9">
                                <p>Parsers <em class="bcp14">MUST</em> support at least 256 parameters on an Item or
                                    Inner List, and support parameter keys with at least 64 characters. Field
                                    specifications can constrain the order of individual parameters, as well as their
                                    values' types as required.</p>
                            </div>
                        </section>
                    </section>
                    <section id="dictionary">
                        <h3 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a>&nbsp;<a
                                href="#dictionary">Dictionaries</a></h3>
                        <div id="rfc.section.3.2.p.1">
                            <p>Dictionaries are ordered maps of key-value pairs, where the keys are short textual
                                strings and the values are Items (<a href="#item" title="Items">Section 3.3</a>) or
                                arrays of Items, both of which can be Parameterized (<a href="#param"
                                    title="Parameters">Section 3.1.2</a>). There can be zero or more members, and their
                                keys are unique in the scope of the Dictionary they occur within.</p>
                        </div>
                        <div id="rfc.section.3.2.p.2">
                            <p>Implementations <em class="bcp14">MUST</em> provide access to Dictionaries both by index
                                and by key. Specifications <em class="bcp14">MAY</em> use either means of accessing the
                                members.</p>
                        </div>
                        <div id="rfc.section.3.2.p.3">
                            <p>As with Lists, an empty Dictionary is represented by omitting the entire field. This
                                implies that fields defined as Dictionaries have a default empty value.</p>
                        </div>
                        <div id="rfc.section.3.2.p.4">
                            <p>Typically, a field specification will define the semantics of Dictionaries by specifying
                                the allowed type(s) for individual members by their keys, as well as whether their
                                presence is required or optional. Recipients <em class="bcp14">MUST</em> ignore members
                                whose keys are undefined or unknown, unless the field's specification specifically
                                disallows them.</p>
                        </div>
                        <div id="rfc.section.3.2.p.5" class="avoidbreakafter">
                            <p>When serialized as a textual HTTP field, members are ordered as serialized and separated
                                by a comma with optional whitespace. Member keys cannot contain uppercase characters.
                                Keys and values are separated by "=" (without whitespace). For example:</p>
                        </div>
                        <div id="rfc.section.3.2.p.6">
                            <pre class="text">
Example-Dict: en="Applepie", da=:w4ZibGV0w6ZydGU=:
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.7">
                            <p>Note that in this example, the final "=" is due to the inclusion of a Byte Sequence; see
                                <a href="#binary" title="Byte Sequences">Section 3.3.5</a>.
                            </p>
                        </div>
                        <div id="rfc.section.3.2.p.8" class="avoidbreakafter">
                            <p>Members whose value is Boolean (see <a href="#boolean" title="Booleans">Section
                                    3.3.6</a>) true <em class="bcp14">MUST</em> omit that value when serialized. For
                                example, here both "b" and "c" are true:</p>
                        </div>
                        <div id="rfc.section.3.2.p.9">
                            <pre class="text">
Example-Dict: a=?0, b, c; foo=bar
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.10">
                            <p>Note that this requirement is only on serialization; parsers are still required to
                                correctly handle the true Boolean value when it appears in Dictionary values.</p>
                        </div>
                        <div id="rfc.section.3.2.p.11" class="avoidbreakafter">
                            <p>A Dictionary with a member whose value is an Inner List of Tokens:</p>
                        </div>
                        <div id="rfc.section.3.2.p.12">
                            <pre class="text">
Example-Dict: rating=1.5, feelings=(joy sadness)
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.13" class="avoidbreakafter">
                            <p>A Dictionary with a mix of Items and Inner Lists, some with parameters:</p>
                        </div>
                        <div id="rfc.section.3.2.p.14">
                            <pre class="text">
Example-Dict: a=(1 2), b=3, c=4;aa=bb, d=(5 6);valid
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.15" class="avoidbreakafter">
                            <p>Note that Dictionaries can have their members split across multiple lines of the same
                                header or trailer section; for example, the following are equivalent:</p>
                        </div>
                        <div id="rfc.section.3.2.p.16">
                            <pre class="text">
Example-Dict: foo=1, bar=2
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.17">
                            <p>and</p>
                        </div>
                        <div id="rfc.section.3.2.p.18">
                            <pre class="text">
Example-Dict: foo=1
Example-Dict: bar=2
</pre>
                        </div>
                        <div id="rfc.section.3.2.p.19">
                            <p>However, individual members of a Dictionary cannot be safely split between lines; see <a
                                    href="#text-parse" title="Parsing Structured Fields">Section 4.2</a> for details.
                            </p>
                        </div>
                        <div id="rfc.section.3.2.p.20">
                            <p>Parsers <em class="bcp14">MUST</em> support Dictionaries containing at least 1024
                                key/value pairs and keys with at least 64 characters. Field specifications can constrain
                                the order of individual Dictionary members, as well as their values' types as required.
                            </p>
                        </div>
                    </section>
                    <section id="item">
                        <h3 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3.</a>&nbsp;<a href="#item">Items</a></h3>
                        <div id="rfc.section.3.3.p.1">
                            <p>An Item can be an Integer (<a href="#integer" title="Integers">Section 3.3.1</a>), a
                                Decimal (<a href="#decimal" title="Decimals">Section 3.3.2</a>), a String (<a
                                    href="#string" title="Strings">Section 3.3.3</a>), a Token (<a href="#token"
                                    title="Tokens">Section 3.3.4</a>), a Byte Sequence (<a href="#binary"
                                    title="Byte Sequences">Section 3.3.5</a>), a Boolean (<a href="#boolean"
                                    title="Booleans">Section 3.3.6</a>), or a Date (<a href="#date"
                                    title="Dates">Section 3.3.7</a>). It can have associated parameters (<a
                                    href="#param" title="Parameters">Section 3.1.2</a>).</p>
                        </div>
                        <div id="rfc.section.3.3.p.2" class="avoidbreakafter">
                            <p>For example, a header field that is defined to be an Item that is an Integer might look
                                like:</p>
                        </div>
                        <div id="rfc.section.3.3.p.3">
                            <pre class="text">
Example-Integer: 5
</pre>
                        </div>
                        <div id="rfc.section.3.3.p.4" class="avoidbreakafter">
                            <p>or with parameters:</p>
                        </div>
                        <div id="rfc.section.3.3.p.5">
                            <pre class="text">
Example-Integer: 5; foo=bar
</pre>
                        </div>
                        <section id="integer">
                            <h4 id="rfc.section.3.3.1"><a href="#rfc.section.3.3.1">3.3.1.</a>&nbsp;<a
                                    href="#integer">Integers</a></h4>
                            <div id="rfc.section.3.3.1.p.1">
                                <p>Integers have a range of -999,999,999,999,999 to 999,999,999,999,999 inclusive (i.e.,
                                    up to fifteen digits, signed), for IEEE 754 compatibility <a href="#IEEE754"><cite
                                            title="IEEE Standard for Floating-Point Arithmetic">[IEEE754]</cite></a>.
                                </p>
                            </div>
                            <div id="rfc.section.3.3.1.p.2" class="avoidbreakafter">
                                <p>For example:</p>
                            </div>
                            <div id="rfc.section.3.3.1.p.3">
                                <pre class="text">
Example-Integer: 42
</pre>
                            </div>
                            <div id="rfc.section.3.3.1.p.4">
                                <p>Integers larger than 15 digits can be supported in a variety of ways; for example, by
                                    using a String (<a href="#string" title="Strings">Section 3.3.3</a>), a Byte
                                    Sequence (<a href="#binary" title="Byte Sequences">Section 3.3.5</a>), or a
                                    parameter on an Integer that acts as a scaling factor.</p>
                            </div>
                            <div id="rfc.section.3.3.1.p.5">
                                <p>While it is possible to serialize Integers with leading zeros (e.g., "0002", "-01")
                                    and signed zero ("-0"), these distinctions may not be preserved by implementations.
                                </p>
                            </div>
                            <div id="rfc.section.3.3.1.p.6">
                                <p>Note that commas in Integers are used in this section's prose only for readability;
                                    they are not valid in the wire format.</p>
                            </div>
                        </section>
                        <section id="decimal">
                            <h4 id="rfc.section.3.3.2"><a href="#rfc.section.3.3.2">3.3.2.</a>&nbsp;<a
                                    href="#decimal">Decimals</a></h4>
                            <div id="rfc.section.3.3.2.p.1">
                                <p>Decimals are numbers with an integer and a fractional component. The integer
                                    component has at most 12 digits; the fractional component has at most three digits.
                                </p>
                            </div>
                            <div id="rfc.section.3.3.2.p.2" class="avoidbreakafter">
                                <p>For example, a header whose value is defined as a Decimal could look like:</p>
                            </div>
                            <div id="rfc.section.3.3.2.p.3">
                                <pre class="text">
Example-Decimal: 4.5
</pre>
                            </div>
                            <div id="rfc.section.3.3.2.p.4">
                                <p>While it is possible to serialize Decimals with leading zeros (e.g., "0002.5",
                                    "-01.334"), trailing zeros (e.g., "5.230", "-0.40"), and signed zero (e.g., "-0.0"),
                                    these distinctions may not be preserved by implementations.</p>
                            </div>
                            <div id="rfc.section.3.3.2.p.5">
                                <p>Note that the serialization algorithm (<a href="#ser-decimal"
                                        title="Serializing a Decimal">Section 4.1.5</a>) rounds input with more than
                                    three digits of precision in the fractional component. If an alternative rounding
                                    strategy is desired, this should be specified by the field definition to occur
                                    before serialization.</p>
                            </div>
                        </section>
                        <section id="string">
                            <h4 id="rfc.section.3.3.3"><a href="#rfc.section.3.3.3">3.3.3.</a>&nbsp;<a
                                    href="#string">Strings</a></h4>
                            <div id="rfc.section.3.3.3.p.1">
                                <p>Strings are zero or more printable ASCII <a href="#RFC0020"><cite
                                            title="ASCII format for network interchange">[RFC0020]</cite></a> characters
                                    (i.e., the range %x20 to %x7E). Note that this excludes tabs, newlines, carriage
                                    returns, etc.</p>
                            </div>
                            <div id="rfc.section.3.3.3.p.2">
                                <p>Non-ASCII characters are not directly supported in Strings because they cause a
                                    number of interoperability issues, and -- with few exceptions -- field values do not
                                    require them.</p>
                            </div>
                            <div id="rfc.section.3.3.3.p.3">
                                <p>When it is necessary for a field value to convey non-ASCII content, a Display String
                                    (<a href="#displaystring" title="Display Strings">Section 3.3.8</a>) can be
                                    specified.</p>
                            </div>
                            <div id="rfc.section.3.3.3.p.4" class="avoidbreakafter">
                                <p>When serialized in a textual HTTP field, Strings are delimited with double quotes,
                                    using a backslash ("\") to escape double quotes and backslashes. For example:</p>
                            </div>
                            <div id="rfc.section.3.3.3.p.5">
                                <pre class="text">
Example-String: "hello world"
</pre>
                            </div>
                            <div id="rfc.section.3.3.3.p.6">
                                <p>Note that Strings only use DQUOTE as a delimiter; single quotes do not delimit
                                    Strings. Furthermore, only DQUOTE and "\" can be escaped; other characters after "\"
                                    <em class="bcp14">MUST</em> cause parsing to fail.
                                </p>
                            </div>
                            <div id="rfc.section.3.3.3.p.7">
                                <p>Parsers <em class="bcp14">MUST</em> support Strings (after any decoding) with at
                                    least 1024 characters.</p>
                            </div>
                        </section>
                        <section id="token">
                            <h4 id="rfc.section.3.3.4"><a href="#rfc.section.3.3.4">3.3.4.</a>&nbsp;<a
                                    href="#token">Tokens</a></h4>
                            <div id="rfc.section.3.3.4.p.1">
                                <p>Tokens are short textual words that begin with an alphabetic character or "*",
                                    followed by zero to many token characters, which are the same as those allowed by
                                    the "token" ABNF rule defined in <a href="#RFC9110"><cite
                                            title="HTTP Semantics">[HTTP]</cite></a> plus the ":" and "/" characters.
                                </p>
                            </div>
                            <div id="rfc.section.3.3.4.p.2" class="avoidbreakafter">
                                <p>For example:</p>
                            </div>
                            <div id="rfc.section.3.3.4.p.3">
                                <pre class="text">
Example-Token: foo123/456
</pre>
                            </div>
                            <div id="rfc.section.3.3.4.p.4">
                                <p>Parsers <em class="bcp14">MUST</em> support Tokens with at least 512 characters.</p>
                            </div>
                            <div id="rfc.section.3.3.4.p.5">
                                <p>Note that Tokens are defined largely for compatibility with the data model of
                                    existing HTTP fields and may require additional steps to use in some
                                    implementations. As a result, new fields are encouraged to use Strings.</p>
                            </div>
                        </section>
                        <section id="binary">
                            <h4 id="rfc.section.3.3.5"><a href="#rfc.section.3.3.5">3.3.5.</a>&nbsp;<a
                                    href="#binary">Byte Sequences</a></h4>
                            <div id="rfc.section.3.3.5.p.1">
                                <p>Byte Sequences can be conveyed in Structured Fields.</p>
                            </div>
                            <div id="rfc.section.3.3.5.p.2" class="avoidbreakafter">
                                <p>When serialized in a textual HTTP field, a Byte Sequence is delimited with colons and
                                    encoded using base64 (<a href="#RFC4648"><cite
                                            title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>,
                                    <a href="https://www.rfc-editor.org/rfc/rfc4648.html#section-4">Section 4</a>). For
                                    example:
                                </p>
                            </div>
                            <div id="rfc.section.3.3.5.p.3">
                                <pre class="text">
Example-ByteSequence: :cHJldGVuZCB0aGlzIGlzIGJpbmFyeSBjb250ZW50Lg==:
</pre>
                            </div>
                            <div id="rfc.section.3.3.5.p.4">
                                <p>Parsers <em class="bcp14">MUST</em> support Byte Sequences with at least 16384 octets
                                    after decoding.</p>
                            </div>
                        </section>
                        <section id="boolean">
                            <h4 id="rfc.section.3.3.6"><a href="#rfc.section.3.3.6">3.3.6.</a>&nbsp;<a
                                    href="#boolean">Booleans</a></h4>
                            <div id="rfc.section.3.3.6.p.1">
                                <p>Boolean values can be conveyed in Structured Fields.</p>
                            </div>
                            <div id="rfc.section.3.3.6.p.2" class="avoidbreakafter">
                                <p>When serialized in a textual HTTP field, a Boolean is indicated with a leading "?"
                                    character followed by a "1" for a true value or "0" for false. For example:</p>
                            </div>
                            <div id="rfc.section.3.3.6.p.3">
                                <pre class="text">
Example-Boolean: ?1
</pre>
                            </div>
                            <div id="rfc.section.3.3.6.p.4">
                                <p>Note that in Dictionary (<a href="#dictionary" title="Dictionaries">Section 3.2</a>)
                                    and Parameter (<a href="#param" title="Parameters">Section 3.1.2</a>) values,
                                    Boolean true is indicated by omitting the value.</p>
                            </div>
                        </section>
                        <section id="date">
                            <h4 id="rfc.section.3.3.7"><a href="#rfc.section.3.3.7">3.3.7.</a>&nbsp;<a
                                    href="#date">Dates</a></h4>
                            <div id="rfc.section.3.3.7.p.1">
                                <p>Date values can be conveyed in Structured Fields.</p>
                            </div>
                            <div id="rfc.section.3.3.7.p.2">
                                <p>Dates have a data model that is similar to Integers, representing a (possibly
                                    negative) delta in seconds from 1970-01-01T00:00:00Z, excluding leap seconds.
                                    Accordingly, their serialization in textual HTTP fields is similar to that of
                                    Integers, distinguished from them with a leading "@".</p>
                            </div>
                            <div id="rfc.section.3.3.7.p.3" class="avoidbreakafter">
                                <p>For example:</p>
                            </div>
                            <div id="rfc.section.3.3.7.p.4">
                                <pre class="text">
Example-Date: @1659578233
</pre>
                            </div>
                            <div id="rfc.section.3.3.7.p.5">
                                <p>Parsers <em class="bcp14">MUST</em> support Dates whose values include all days in
                                    years 1 to 9999 (i.e., -62,135,596,800 to 253,402,214,400 delta seconds from
                                    1970-01-01T00:00:00Z).</p>
                            </div>
                        </section>
                        <section id="displaystring">
                            <h4 id="rfc.section.3.3.8"><a href="#rfc.section.3.3.8">3.3.8.</a>&nbsp;<a
                                    href="#displaystring">Display Strings</a></h4>
                            <div id="rfc.section.3.3.8.p.1">
                                <p>Display Strings are similar to Strings, in that they consist of zero or more
                                    characters, but they allow Unicode scalar values (i.e., all Unicode code points
                                    except for surrogates), unlike Strings.</p>
                            </div>
                            <div id="rfc.section.3.3.8.p.2">
                                <p>Display Strings are intended for use in cases where a value is displayed to end users
                                    and therefore may need to carry non-ASCII content. It is <em class="bcp14">NOT
                                        RECOMMENDED</em> that they be used in situations where a String (<a
                                        href="#string" title="Strings">Section 3.3.3</a>) or Token (<a href="#token"
                                        title="Tokens">Section 3.3.4</a>) would be adequate because Unicode has
                                    processing considerations (e.g., normalization) and security considerations (e.g.,
                                    homograph attacks) that make it more difficult to handle correctly.</p>
                            </div>
                            <div id="rfc.section.3.3.8.p.3">
                                <p>Note that Display Strings do not indicate the language used in the value; that can be
                                    done separately if necessary (e.g., with a parameter).</p>
                            </div>
                            <div id="rfc.section.3.3.8.p.4">
                                <p>In textual HTTP fields, Display Strings are represented in a manner similar to
                                    Strings, except that non-ASCII characters are percent-encoded; there is a leading
                                    "%" to distinguish them from Strings.</p>
                            </div>
                            <div id="rfc.section.3.3.8.p.5" class="avoidbreakafter">
                                <p>For example:</p>
                            </div>
                            <div id="rfc.section.3.3.8.p.6">
                                <pre class="text">
Example-DisplayString: %"This is intended for display to %c3%bcsers."
</pre>
                            </div>
                            <div id="rfc.section.3.3.8.p.7">
                                <p>See <a href="#security" title="Security Considerations">Section 6</a> for additional
                                    security considerations when handling Display Strings.</p>
                            </div>
                        </section>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="text">
                    <h2 id="rfc.section.4" class="np"><a href="#rfc.section.4">4.</a>&nbsp;<a href="#text">Working with
                            Structured Fields in HTTP</a></h2>
                    <div id="rfc.section.4.p.1">
                        <p>This section defines how to serialize and parse the abstract types defined by <a
                                href="#types" title="Structured Data Types">Section 3</a> into textual HTTP field values
                            and other encodings compatible with them (e.g., in HTTP/2 <a href="#RFC9113"><cite
                                    title="HTTP/2">[HTTP/2]</cite></a> before compression with HPACK <a
                                href="#RFC7541"><cite title="HPACK: Header Compression for HTTP/2">[HPACK]</cite></a>).
                        </p>
                    </div>
                    <section id="text-serialize">
                        <h3 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1.</a>&nbsp;<a
                                href="#text-serialize">Serializing Structured Fields</a></h3>
                        <div id="rfc.section.4.1.p.1">
                            <p>Given a structure defined in this specification, return an ASCII string suitable for use
                                in an HTTP field value.</p>
                        </div>
                        <div id="rfc.section.4.1.p.2">
                            <ol type="1">
                                <li>
                                    <div>
                                        <p>If the structure is a Dictionary or List and its value is empty (i.e., it has
                                            no members), do not serialize the field at all (i.e., omit both the
                                            field-name and field-value).</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>If the structure is a List, let output_string be the result of running
                                            Serializing a List (<a href="#ser-list" title="Serializing a List">Section
                                                4.1.1</a>) with the structure.</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>Else, if the structure is a Dictionary, let output_string be the result of
                                            running Serializing a Dictionary (<a href="#ser-dictionary"
                                                title="Serializing a Dictionary">Section 4.1.2</a>) with the structure.
                                        </p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>Else, if the structure is an Item, let output_string be the result of running
                                            Serializing an Item (<a href="#ser-item" title="Serializing an Item">Section
                                                4.1.3</a>) with the structure.</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>Else, fail serialization.</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>Return output_string converted into an array of bytes, using ASCII encoding
                                            <a href="#RFC0020"><cite
                                                    title="ASCII format for network interchange">[RFC0020]</cite></a>.
                                        </p>
                                    </div>
                                </li>
                            </ol>
                        </div>
                        <section id="ser-list">
                            <h4 id="rfc.section.4.1.1"><a href="#rfc.section.4.1.1">4.1.1.</a>&nbsp;<a
                                    href="#ser-list">Serializing a List</a></h4>
                            <div id="rfc.section.4.1.1.p.1">
                                <p>Given an array of (member_value, parameters) tuples as input_list, return an ASCII
                                    string suitable for use in an HTTP field value.</p>
                            </div>
                            <div id="rfc.section.4.1.1.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>Let output be an empty string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>For each (member_value, parameters) of input_list:</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>If member_value is an array, append the result of running
                                                            Serializing an Inner List (<a href="#ser-innerlist"
                                                                title="Serializing an Inner List">Section 4.1.1.1</a>)
                                                            with (member_value, parameters) to output.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Otherwise, append the result of running Serializing an Item
                                                            (<a href="#ser-item" title="Serializing an Item">Section
                                                                4.1.3</a>) with (member_value, parameters) to output.
                                                        </p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>If more member_values remain in input_list:</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>Append "," to output.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Append a single SP to output.</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <section id="ser-innerlist">
                                <h5 id="rfc.section.4.1.1.1"><a href="#rfc.section.4.1.1.1">4.1.1.1.</a>&nbsp;<a
                                        href="#ser-innerlist">Serializing an Inner List</a></h5>
                                <div id="rfc.section.4.1.1.1.p.1">
                                    <p>Given an array of (member_value, parameters) tuples as inner_list, and parameters
                                        as list_parameters, return an ASCII string suitable for use in an HTTP field
                                        value.</p>
                                </div>
                                <div id="rfc.section.4.1.1.1.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>Let output be the string "(".</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="avoidbreakafter">
                                                <p>For each (member_value, parameters) of inner_list:</p>
                                            </div>
                                            <div>
                                                <ol type="1">
                                                    <li>
                                                        <div>
                                                            <p>Append the result of running Serializing an Item (<a
                                                                    href="#ser-item" title="Serializing an Item">Section
                                                                    4.1.3</a>) with (member_value, parameters) to
                                                                output.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>If more values remain in inner_list, append a single SP
                                                                to output.</p>
                                                        </div>
                                                    </li>
                                                </ol>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Append ")" to output.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Append the result of running Serializing Parameters (<a
                                                        href="#ser-params" title="Serializing Parameters">Section
                                                        4.1.1.2</a>) with list_parameters to output.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Return output.</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                            <section id="ser-params">
                                <h5 id="rfc.section.4.1.1.2"><a href="#rfc.section.4.1.1.2">4.1.1.2.</a>&nbsp;<a
                                        href="#ser-params">Serializing Parameters</a></h5>
                                <div id="rfc.section.4.1.1.2.p.1">
                                    <p>Given an ordered Dictionary as input_parameters (each member having a param_key
                                        and a param_value), return an ASCII string suitable for use in an HTTP field
                                        value.</p>
                                </div>
                                <div id="rfc.section.4.1.1.2.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>Let output be an empty string.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="avoidbreakafter">
                                                <p>For each param_key with a value of param_value in input_parameters:
                                                </p>
                                            </div>
                                            <div>
                                                <ol type="1">
                                                    <li>
                                                        <div>
                                                            <p>Append ";" to output.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>Append the result of running Serializing a Key (<a
                                                                    href="#ser-key" title="Serializing a Key">Section
                                                                    4.1.1.3</a>) with param_key to output.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="avoidbreakafter">
                                                            <p>If param_value is not Boolean true:</p>
                                                        </div>
                                                        <div>
                                                            <ol type="1">
                                                                <li>
                                                                    <div>
                                                                        <p>Append "=" to output.</p>
                                                                    </div>
                                                                </li>
                                                                <li>
                                                                    <div>
                                                                        <p>Append the result of running Serializing a
                                                                            bare Item (<a href="#ser-bare-item"
                                                                                title="Serializing a Bare Item">Section
                                                                                4.1.3.1</a>) with param_value to output.
                                                                        </p>
                                                                    </div>
                                                                </li>
                                                            </ol>
                                                        </div>
                                                    </li>
                                                </ol>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Return output.</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                            <section id="ser-key">
                                <h5 id="rfc.section.4.1.1.3"><a href="#rfc.section.4.1.1.3">4.1.1.3.</a>&nbsp;<a
                                        href="#ser-key">Serializing a Key</a></h5>
                                <div id="rfc.section.4.1.1.3.p.1">
                                    <p>Given a key as input_key, return an ASCII string suitable for use in an HTTP
                                        field value.</p>
                                </div>
                                <div id="rfc.section.4.1.1.3.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>Convert input_key into a sequence of ASCII characters; if conversion
                                                    fails, fail serialization.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If input_key contains characters not in lcalpha, DIGIT, "_", "-",
                                                    ".", or "*", fail serialization.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If the first character of input_key is not lcalpha or "*", fail
                                                    serialization.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Let output be an empty string.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Append input_key to output.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Return output.</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                        </section>
                        <section id="ser-dictionary">
                            <h4 id="rfc.section.4.1.2"><a href="#rfc.section.4.1.2">4.1.2.</a>&nbsp;<a
                                    href="#ser-dictionary">Serializing a Dictionary</a></h4>
                            <div id="rfc.section.4.1.2.p.1">
                                <p>Given an ordered Dictionary as input_dictionary (each member having a member_key and
                                    a tuple value of (member_value, parameters)), return an ASCII string suitable for
                                    use in an HTTP field value.</p>
                            </div>
                            <div id="rfc.section.4.1.2.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>Let output be an empty string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>For each member_key with a value of (member_value, parameters) in
                                                input_dictionary:</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>Append the result of running Serializing a Key (<a
                                                                href="#ser-key" title="Serializing a Key">Section
                                                                4.1.1.3</a>) with member's member_key to output.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>If member_value is Boolean true:</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>Append the result of running Serializing
                                                                        Parameters (<a href="#ser-params"
                                                                            title="Serializing Parameters">Section
                                                                            4.1.1.2</a>) with parameters to output.</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>Otherwise:</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>Append "=" to output.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>If member_value is an array, append the result of
                                                                        running Serializing an Inner List (<a
                                                                            href="#ser-innerlist"
                                                                            title="Serializing an Inner List">Section
                                                                            4.1.1.1</a>) with (member_value, parameters)
                                                                        to output.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Otherwise, append the result of running
                                                                        Serializing an Item (<a href="#ser-item"
                                                                            title="Serializing an Item">Section
                                                                            4.1.3</a>) with (member_value, parameters)
                                                                        to output.</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>If more members remain in input_dictionary:</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>Append "," to output.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Append a single SP to output.</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-item">
                            <h4 id="rfc.section.4.1.3"><a href="#rfc.section.4.1.3">4.1.3.</a>&nbsp;<a
                                    href="#ser-item">Serializing an Item</a></h4>
                            <div id="rfc.section.4.1.3.p.1">
                                <p>Given an Item as bare_item and Parameters as item_parameters, return an ASCII string
                                    suitable for use in an HTTP field value.</p>
                            </div>
                            <div id="rfc.section.4.1.3.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>Let output be an empty string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append the result of running Serializing a Bare Item (<a
                                                    href="#ser-bare-item" title="Serializing a Bare Item">Section
                                                    4.1.3.1</a>) with bare_item to output.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append the result of running Serializing Parameters (<a
                                                    href="#ser-params" title="Serializing Parameters">Section
                                                    4.1.1.2</a>) with item_parameters to output.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <section id="ser-bare-item">
                                <h5 id="rfc.section.4.1.3.1"><a href="#rfc.section.4.1.3.1">4.1.3.1.</a>&nbsp;<a
                                        href="#ser-bare-item">Serializing a Bare Item</a></h5>
                                <div id="rfc.section.4.1.3.1.p.1">
                                    <p>Given an Item as input_item, return an ASCII string suitable for use in an HTTP
                                        field value.</p>
                                </div>
                                <div id="rfc.section.4.1.3.1.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>If input_item is an Integer, return the result of running Serializing
                                                    an Integer (<a href="#ser-integer"
                                                        title="Serializing an Integer">Section 4.1.4</a>) with
                                                    input_item.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If input_item is a Decimal, return the result of running Serializing
                                                    a Decimal (<a href="#ser-decimal"
                                                        title="Serializing a Decimal">Section 4.1.5</a>) with
                                                    input_item.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If input_item is a String, return the result of running Serializing a
                                                    String (<a href="#ser-string" title="Serializing a String">Section
                                                        4.1.6</a>) with input_item.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If input_item is a Token, return the result of running Serializing a
                                                    Token (<a href="#ser-token" title="Serializing a Token">Section
                                                        4.1.7</a>) with input_item.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If input_item is a Byte Sequence, return the result of running
                                                    Serializing a Byte Sequence (<a href="#ser-binary"
                                                        title="Serializing a Byte Sequence">Section 4.1.8</a>) with
                                                    input_item.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If input_item is a Boolean, return the result of running Serializing
                                                    a Boolean (<a href="#ser-boolean"
                                                        title="Serializing a Boolean">Section 4.1.9</a>) with
                                                    input_item.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If input_item is a Date, return the result of running Serializing a
                                                    Date (<a href="#ser-date" title="Serializing a Date">Section
                                                        4.1.10</a>) with input_item.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If input_item is a Display String, return the result of running
                                                    Serializing a Display String (<a href="#ser-display"
                                                        title="Serializing a Display String">Section 4.1.11</a>) with
                                                    input_item.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Otherwise, fail serialization.</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                        </section>
                        <section id="ser-integer">
                            <h4 id="rfc.section.4.1.4"><a href="#rfc.section.4.1.4">4.1.4.</a>&nbsp;<a
                                    href="#ser-integer">Serializing an Integer</a></h4>
                            <div id="rfc.section.4.1.4.p.1">
                                <p>Given an Integer as input_integer, return an ASCII string suitable for use in an HTTP
                                    field value.</p>
                            </div>
                            <div id="rfc.section.4.1.4.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>If input_integer is not an integer in the range of -999,999,999,999,999
                                                to 999,999,999,999,999 inclusive, fail serialization.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let output be an empty string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If input_integer is less than (but not equal to) 0, append "-" to output.
                                            </p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append input_integer's numeric value represented in base 10 using only
                                                decimal digits to output.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-decimal">
                            <h4 id="rfc.section.4.1.5"><a href="#rfc.section.4.1.5">4.1.5.</a>&nbsp;<a
                                    href="#ser-decimal">Serializing a Decimal</a></h4>
                            <div id="rfc.section.4.1.5.p.1">
                                <p>Given a decimal number as input_decimal, return an ASCII string suitable for use in
                                    an HTTP field value.</p>
                            </div>
                            <div id="rfc.section.4.1.5.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>If input_decimal is not a decimal number, fail serialization.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If input_decimal has more than three significant digits to the right of
                                                the decimal point, round it to three decimal places, rounding the final
                                                digit to the nearest value, or to the even value if it is equidistant.
                                            </p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If input_decimal has more than 12 significant digits to the left of the
                                                decimal point after rounding, fail serialization.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let output be an empty string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If input_decimal is less than (but not equal to) 0, append "-" to output.
                                            </p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append input_decimal's integer component represented in base 10 (using
                                                only decimal digits) to output; if it is zero, append "0".</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append "." to output.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If input_decimal's fractional component is zero, append "0" to output.
                                            </p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Otherwise, append the significant digits of input_decimal's fractional
                                                component represented in base 10 (using only decimal digits) to output.
                                            </p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-string">
                            <h4 id="rfc.section.4.1.6"><a href="#rfc.section.4.1.6">4.1.6.</a>&nbsp;<a
                                    href="#ser-string">Serializing a String</a></h4>
                            <div id="rfc.section.4.1.6.p.1">
                                <p>Given a String as input_string, return an ASCII string suitable for use in an HTTP
                                    field value.</p>
                            </div>
                            <div id="rfc.section.4.1.6.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>Convert input_string into a sequence of ASCII characters; if conversion
                                                fails, fail serialization.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If input_string contains characters in the range %x00-1f or %x7f-ff
                                                (i.e., not in VCHAR or SP), fail serialization.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let output be the string DQUOTE.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>For each character char in input_string:</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>If char is "\" or DQUOTE:</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>Append "\" to output.</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Append char to output.</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append DQUOTE to output.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-token">
                            <h4 id="rfc.section.4.1.7"><a href="#rfc.section.4.1.7">4.1.7.</a>&nbsp;<a
                                    href="#ser-token">Serializing a Token</a></h4>
                            <div id="rfc.section.4.1.7.p.1">
                                <p>Given a Token as input_token, return an ASCII string suitable for use in an HTTP
                                    field value.</p>
                            </div>
                            <div id="rfc.section.4.1.7.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>Convert input_token into a sequence of ASCII characters; if conversion
                                                fails, fail serialization.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If the first character of input_token is not ALPHA or "*", or the
                                                remaining portion contains a character not in tchar, ":", or "/", fail
                                                serialization.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let output be an empty string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append input_token to output.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-binary">
                            <h4 id="rfc.section.4.1.8"><a href="#rfc.section.4.1.8">4.1.8.</a>&nbsp;<a
                                    href="#ser-binary">Serializing a Byte Sequence</a></h4>
                            <div id="rfc.section.4.1.8.p.1">
                                <p>Given a Byte Sequence as input_bytes, return an ASCII string suitable for use in an
                                    HTTP field value.</p>
                            </div>
                            <div id="rfc.section.4.1.8.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>If input_bytes is not a sequence of bytes, fail serialization.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let output be an empty string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append ":" to output.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append the result of base64-encoding input_bytes as per <a
                                                    href="#RFC4648"><cite
                                                        title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>,
                                                <a href="https://www.rfc-editor.org/rfc/rfc4648.html#section-4">Section
                                                    4</a>, taking account of the requirements below.
                                            </p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append ":" to output.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <div id="rfc.section.4.1.8.p.3">
                                <p>The encoded data is required to be padded with "=", as per <a href="#RFC4648"><cite
                                            title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>,
                                    <a href="https://www.rfc-editor.org/rfc/rfc4648.html#section-3.2">Section 3.2</a>.
                                </p>
                            </div>
                            <div id="rfc.section.4.1.8.p.4">
                                <p>Likewise, encoded data <em class="bcp14">SHOULD</em> have pad bits set to zero, as
                                    per <a href="#RFC4648"><cite
                                            title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>,
                                    <a href="https://www.rfc-editor.org/rfc/rfc4648.html#section-3.5">Section 3.5</a>,
                                    unless it is not possible to do so due to implementation constraints.
                                </p>
                            </div>
                        </section>
                        <section id="ser-boolean">
                            <h4 id="rfc.section.4.1.9"><a href="#rfc.section.4.1.9">4.1.9.</a>&nbsp;<a
                                    href="#ser-boolean">Serializing a Boolean</a></h4>
                            <div id="rfc.section.4.1.9.p.1">
                                <p>Given a Boolean as input_boolean, return an ASCII string suitable for use in an HTTP
                                    field value.</p>
                            </div>
                            <div id="rfc.section.4.1.9.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>If input_boolean is not a boolean, fail serialization.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let output be an empty string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append "?" to output.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If input_boolean is true, append "1" to output.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If input_boolean is false, append "0" to output.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-date">
                            <h4 id="rfc.section.4.1.10"><a href="#rfc.section.4.1.10">4.1.10.</a>&nbsp;<a
                                    href="#ser-date">Serializing a Date</a></h4>
                            <div id="rfc.section.4.1.10.p.1">
                                <p>Given a Date as input_date, return an ASCII string suitable for use in an HTTP field
                                    value.</p>
                            </div>
                            <div id="rfc.section.4.1.10.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>Let output be "@".</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append to output the result of running Serializing an Integer with
                                                input_date (<a href="#ser-integer"
                                                    title="Serializing an Integer">Section 4.1.4</a>).</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="ser-display">
                            <h4 id="rfc.section.4.1.11"><a href="#rfc.section.4.1.11">4.1.11.</a>&nbsp;<a
                                    href="#ser-display">Serializing a Display String</a></h4>
                            <div id="rfc.section.4.1.11.p.1">
                                <p>Given a sequence of Unicode code points as input_sequence, return an ASCII string
                                    suitable for use in an HTTP field value.</p>
                            </div>
                            <div id="rfc.section.4.1.11.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>If input_sequence is not a sequence of Unicode code points, fail
                                                serialization.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let byte_array be the result of applying UTF-8 encoding (<a
                                                    href="https://www.rfc-editor.org/rfc/rfc3629.html#section-3">Section
                                                    3</a> of <a href="#RFC3629"><cite
                                                        title="UTF-8, a transformation format of ISO 10646">[UTF8]</cite></a>)
                                                to input_sequence. If encoding fails, fail serialization.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let encoded_string be a string containing "%" followed by DQUOTE.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>For each byte in byte_array:</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>If byte is %x25 ("%"), %x22 (DQUOTE), or in the ranges
                                                            %x00-1f or %x7f-ff:</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>Append "%" to encoded_string.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Let encoded_byte be the result of applying base16
                                                                        encoding (<a
                                                                            href="https://www.rfc-editor.org/rfc/rfc4648.html#section-8">Section
                                                                            8</a> of <a href="#RFC4648"><cite
                                                                                title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>)
                                                                        to byte, with any alphabetic characters
                                                                        converted to lowercase.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Append encoded_byte to encoded_string.</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Otherwise, decode byte as an ASCII character and append the
                                                            result to encoded_string.</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Append DQUOTE to encoded_string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return encoded_string.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <div id="rfc.section.4.1.11.p.3">
                                <p>Note that <a href="#RFC3629"><cite
                                            title="UTF-8, a transformation format of ISO 10646">[UTF8]</cite></a>
                                    prohibits the encoding of code points between U+D800 and U+DFFF (surrogates); if
                                    they occur in input_sequence, serialization will fail.</p>
                            </div>
                        </section>
                    </section>
                    <section id="text-parse">
                        <h3 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2.</a>&nbsp;<a href="#text-parse">Parsing
                                Structured Fields</a></h3>
                        <div id="rfc.section.4.2.p.1">
                            <p>When a receiving implementation parses HTTP fields that are known to be Structured
                                Fields, it is important that care be taken, as there are a number of edge cases that can
                                cause interoperability or even security problems. This section specifies the algorithm
                                for doing so.</p>
                        </div>
                        <div id="rfc.section.4.2.p.2">
                            <p>Given an array of bytes as input_bytes that represent the chosen field's field-value
                                (which is empty if that field is not present) and field_type (one of "dictionary",
                                "list", or "item"), return the parsed field value.</p>
                        </div>
                        <div id="rfc.section.4.2.p.3">
                            <ol type="1">
                                <li>
                                    <div>
                                        <p>Convert input_bytes into an ASCII string input_string; if conversion fails,
                                            fail parsing.</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>Discard any leading SP characters from input_string.</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>If field_type is "list", let output be the result of running Parsing a List
                                            (<a href="#parse-list" title="Parsing a List">Section 4.2.1</a>) with
                                            input_string.</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>If field_type is "dictionary", let output be the result of running Parsing a
                                            Dictionary (<a href="#parse-dictionary" title="Parsing a Dictionary">Section
                                                4.2.2</a>) with input_string.</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>If field_type is "item", let output be the result of running Parsing an Item
                                            (<a href="#parse-item" title="Parsing an Item">Section 4.2.3</a>) with
                                            input_string.</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>Discard any leading SP characters from input_string.</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>If input_string is not empty, fail parsing.</p>
                                    </div>
                                </li>
                                <li>
                                    <div>
                                        <p>Otherwise, return output.</p>
                                    </div>
                                </li>
                            </ol>
                        </div>
                        <div id="rfc.section.4.2.p.4">
                            <p>When generating input_bytes, parsers <em class="bcp14">MUST</em> combine all field lines
                                in the same section (header or trailer) that case-insensitively match the field name
                                into one comma-separated field-value, as per <a
                                    href="https://www.rfc-editor.org/rfc/rfc9110.html#section-5.2">Section 5.2</a> of <a
                                    href="#RFC9110"><cite title="HTTP Semantics">[HTTP]</cite></a>; this assures that
                                the entire field value is processed correctly.</p>
                        </div>
                        <div id="rfc.section.4.2.p.5">
                            <p>For Lists and Dictionaries, this has the effect of correctly concatenating all of the
                                field's lines, as long as individual members of the top-level data structure are not
                                split across multiple field instances. The parsing algorithms for both types allow tab
                                characters, since these might be used to combine field lines by some implementations.
                            </p>
                        </div>
                        <div id="rfc.section.4.2.p.6">
                            <p>Strings split across multiple field lines will have unpredictable results, because one or
                                more commas (with optional whitespace) will become part of the string output by the
                                parser. Since concatenation might be done by an upstream intermediary, the results are
                                not under the control of the serializer or the parser, even when they are both under the
                                control of the same party.</p>
                        </div>
                        <div id="rfc.section.4.2.p.7">
                            <p>Tokens, Integers, Decimals, and Byte Sequences cannot be split across multiple field
                                lines because the inserted commas will cause parsing to fail.</p>
                        </div>
                        <div id="rfc.section.4.2.p.8" class="avoidbreakafter">
                            <p>Parsers <em class="bcp14">MAY</em> fail when processing a field value spread across
                                multiple field lines, when one of those lines does not parse as that field. For example,
                                a parsing handling an Example-String field that's defined as an sf-string is allowed to
                                fail when processing this field section:</p>
                        </div>
                        <div id="rfc.section.4.2.p.9">
                            <pre class="text">
Example-String: "foo
Example-String: bar"
</pre>
                        </div>
                        <div id="rfc.section.4.2.p.10">
                            <p>If parsing fails, either the entire field value <em class="bcp14">MUST</em> be ignored
                                (i.e., treated as if the field were not present in the section), or alternatively the
                                complete HTTP message <em class="bcp14">MUST</em> be treated as malformed. This is
                                intentionally strict to improve interoperability and safety, and field specifications
                                that use Structured Fields are not allowed to loosen this requirement.</p>
                        </div>
                        <div id="rfc.section.4.2.p.11">
                            <p>Note that this requirement does not apply to an implementation that is not parsing the
                                field; for example, an intermediary is not required to strip a failing field from a
                                message before forwarding it.</p>
                        </div>
                        <section id="parse-list">
                            <h4 id="rfc.section.4.2.1"><a href="#rfc.section.4.2.1">4.2.1.</a>&nbsp;<a
                                    href="#parse-list">Parsing a List</a></h4>
                            <div id="rfc.section.4.2.1.p.1">
                                <p>Given an ASCII string as input_string, return an array of (item_or_inner_list,
                                    parameters) tuples. input_string is modified to remove the parsed value.</p>
                            </div>
                            <div id="rfc.section.4.2.1.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>Let members be an empty array.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>While input_string is not empty:</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>Append the result of running Parsing an Item or Inner List
                                                            (<a href="#parse-item-or-list"
                                                                title="Parsing an Item or Inner List">Section
                                                                4.2.1.1</a>) with input_string to members.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Discard any leading OWS characters from input_string.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>If input_string is empty, return members.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Consume the first character of input_string; if it is not
                                                            ",", fail parsing.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Discard any leading OWS characters from input_string.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>If input_string is empty, there is a trailing comma; fail
                                                            parsing.</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>No structured data has been found; return members (which is empty).</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <section id="parse-item-or-list">
                                <h5 id="rfc.section.4.2.1.1"><a href="#rfc.section.4.2.1.1">4.2.1.1.</a>&nbsp;<a
                                        href="#parse-item-or-list">Parsing an Item or Inner List</a></h5>
                                <div id="rfc.section.4.2.1.1.p.1">
                                    <p>Given an ASCII string as input_string, return the tuple (item_or_inner_list,
                                        parameters), where item_or_inner_list can be either a single bare item or an
                                        array of (bare_item, parameters) tuples. input_string is modified to remove the
                                        parsed value.</p>
                                </div>
                                <div id="rfc.section.4.2.1.1.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>If the first character of input_string is "(", return the result of
                                                    running Parsing an Inner List (<a href="#parse-innerlist"
                                                        title="Parsing an Inner List">Section 4.2.1.2</a>) with
                                                    input_string.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Return the result of running Parsing an Item (<a href="#parse-item"
                                                        title="Parsing an Item">Section 4.2.3</a>) with input_string.
                                                </p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                            <section id="parse-innerlist">
                                <h5 id="rfc.section.4.2.1.2"><a href="#rfc.section.4.2.1.2">4.2.1.2.</a>&nbsp;<a
                                        href="#parse-innerlist">Parsing an Inner List</a></h5>
                                <div id="rfc.section.4.2.1.2.p.1">
                                    <p>Given an ASCII string as input_string, return the tuple (inner_list, parameters),
                                        where inner_list is an array of (bare_item, parameters) tuples. input_string is
                                        modified to remove the parsed value.</p>
                                </div>
                                <div id="rfc.section.4.2.1.2.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>Consume the first character of input_string; if it is not "(", fail
                                                    parsing.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Let inner_list be an empty array.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="avoidbreakafter">
                                                <p>While input_string is not empty:</p>
                                            </div>
                                            <div>
                                                <ol type="1">
                                                    <li>
                                                        <div>
                                                            <p>Discard any leading SP characters from input_string.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="avoidbreakafter">
                                                            <p>If the first character of input_string is ")":</p>
                                                        </div>
                                                        <div>
                                                            <ol type="1">
                                                                <li>
                                                                    <div>
                                                                        <p>Consume the first character of input_string.
                                                                        </p>
                                                                    </div>
                                                                </li>
                                                                <li>
                                                                    <div>
                                                                        <p>Let parameters be the result of running
                                                                            Parsing Parameters (<a href="#parse-param"
                                                                                title="Parsing Parameters">Section
                                                                                4.2.3.2</a>) with input_string.</p>
                                                                    </div>
                                                                </li>
                                                                <li>
                                                                    <div>
                                                                        <p>Return the tuple (inner_list, parameters).
                                                                        </p>
                                                                    </div>
                                                                </li>
                                                            </ol>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>Let item be the result of running Parsing an Item (<a
                                                                    href="#parse-item" title="Parsing an Item">Section
                                                                    4.2.3</a>) with input_string.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>Append item to inner_list.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>If the first character of input_string is not SP or ")",
                                                                fail parsing.</p>
                                                        </div>
                                                    </li>
                                                </ol>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>The end of the Inner List was not found; fail parsing.</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                        </section>
                        <section id="parse-dictionary">
                            <h4 id="rfc.section.4.2.2"><a href="#rfc.section.4.2.2">4.2.2.</a>&nbsp;<a
                                    href="#parse-dictionary">Parsing a Dictionary</a></h4>
                            <div id="rfc.section.4.2.2.p.1">
                                <p>Given an ASCII string as input_string, return an ordered map whose values are
                                    (item_or_inner_list, parameters) tuples. input_string is modified to remove the
                                    parsed value.</p>
                            </div>
                            <div id="rfc.section.4.2.2.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>Let dictionary be an empty, ordered map.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>While input_string is not empty:</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>Let this_key be the result of running Parsing a Key (<a
                                                                href="#parse-key" title="Parsing a Key">Section
                                                                4.2.3.3</a>) with input_string.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>If the first character of input_string is "=":</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>Consume the first character of input_string.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Let member be the result of running Parsing an
                                                                        Item or Inner List (<a
                                                                            href="#parse-item-or-list"
                                                                            title="Parsing an Item or Inner List">Section
                                                                            4.2.1.1</a>) with input_string.</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>Otherwise:</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>Let value be Boolean true.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Let parameters be the result of running Parsing
                                                                        Parameters (<a href="#parse-param"
                                                                            title="Parsing Parameters">Section
                                                                            4.2.3.2</a>) with input_string.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Let member be the tuple (value, parameters).</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>If dictionary already contains a key this_key (comparing
                                                            character for character), overwrite its value with member.
                                                        </p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Otherwise, append key this_key with value member to
                                                            dictionary.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Discard any leading OWS characters from input_string.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>If input_string is empty, return dictionary.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Consume the first character of input_string; if it is not
                                                            ",", fail parsing.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Discard any leading OWS characters from input_string.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>If input_string is empty, there is a trailing comma; fail
                                                            parsing.</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>No structured data has been found; return dictionary (which is empty).
                                            </p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <div id="rfc.section.4.2.2.p.3">
                                <p>Note that when duplicate Dictionary keys are encountered, all but the last instance
                                    are ignored.</p>
                            </div>
                        </section>
                        <section id="parse-item">
                            <h4 id="rfc.section.4.2.3"><a href="#rfc.section.4.2.3">4.2.3.</a>&nbsp;<a
                                    href="#parse-item">Parsing an Item</a></h4>
                            <div id="rfc.section.4.2.3.p.1">
                                <p>Given an ASCII string as input_string, return a (bare_item, parameters) tuple.
                                    input_string is modified to remove the parsed value.</p>
                            </div>
                            <div id="rfc.section.4.2.3.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>Let bare_item be the result of running Parsing a Bare Item (<a
                                                    href="#parse-bare-item" title="Parsing a Bare Item">Section
                                                    4.2.3.1</a>) with input_string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let parameters be the result of running Parsing Parameters (<a
                                                    href="#parse-param" title="Parsing Parameters">Section 4.2.3.2</a>)
                                                with input_string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return the tuple (bare_item, parameters).</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <section id="parse-bare-item">
                                <h5 id="rfc.section.4.2.3.1"><a href="#rfc.section.4.2.3.1">4.2.3.1.</a>&nbsp;<a
                                        href="#parse-bare-item">Parsing a Bare Item</a></h5>
                                <div id="rfc.section.4.2.3.1.p.1">
                                    <p>Given an ASCII string as input_string, return a bare Item. input_string is
                                        modified to remove the parsed value.</p>
                                </div>
                                <div id="rfc.section.4.2.3.1.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>If the first character of input_string is a "-" or a DIGIT, return
                                                    the result of running Parsing an Integer or Decimal (<a
                                                        href="#parse-number"
                                                        title="Parsing an Integer or Decimal">Section 4.2.4</a>) with
                                                    input_string.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If the first character of input_string is a DQUOTE, return the result
                                                    of running Parsing a String (<a href="#parse-string"
                                                        title="Parsing a String">Section 4.2.5</a>) with input_string.
                                                </p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If the first character of input_string is an ALPHA or "*", return the
                                                    result of running Parsing a Token (<a href="#parse-token"
                                                        title="Parsing a Token">Section 4.2.6</a>) with input_string.
                                                </p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If the first character of input_string is ":", return the result of
                                                    running Parsing a Byte Sequence (<a href="#parse-binary"
                                                        title="Parsing a Byte Sequence">Section 4.2.7</a>) with
                                                    input_string.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If the first character of input_string is "?", return the result of
                                                    running Parsing a Boolean (<a href="#parse-boolean"
                                                        title="Parsing a Boolean">Section 4.2.8</a>) with input_string.
                                                </p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If the first character of input_string is "@", return the result of
                                                    running Parsing a Date (<a href="#parse-date"
                                                        title="Parsing a Date">Section 4.2.9</a>) with input_string.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>If the first character of input_string is "%", return the result of
                                                    running Parsing a Display String (<a href="#parse-display"
                                                        title="Parsing a Display String">Section 4.2.10</a>) with
                                                    input_string.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Otherwise, the item type is unrecognized; fail parsing.</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                            <section id="parse-param">
                                <h5 id="rfc.section.4.2.3.2"><a href="#rfc.section.4.2.3.2">4.2.3.2.</a>&nbsp;<a
                                        href="#parse-param">Parsing Parameters</a></h5>
                                <div id="rfc.section.4.2.3.2.p.1">
                                    <p>Given an ASCII string as input_string, return an ordered map whose values are
                                        bare Items. input_string is modified to remove the parsed value.</p>
                                </div>
                                <div id="rfc.section.4.2.3.2.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>Let parameters be an empty, ordered map.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="avoidbreakafter">
                                                <p>While input_string is not empty:</p>
                                            </div>
                                            <div>
                                                <ol type="1">
                                                    <li>
                                                        <div>
                                                            <p>If the first character of input_string is not ";", exit
                                                                the loop.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>Consume the ";" character from the beginning of
                                                                input_string.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>Discard any leading SP characters from input_string.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>Let param_key be the result of running Parsing a Key (<a
                                                                    href="#parse-key" title="Parsing a Key">Section
                                                                    4.2.3.3</a>) with input_string.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>Let param_value be Boolean true.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div class="avoidbreakafter">
                                                            <p>If the first character of input_string is "=":</p>
                                                        </div>
                                                        <div>
                                                            <ol type="1">
                                                                <li>
                                                                    <div>
                                                                        <p>Consume the "=" character at the beginning of
                                                                            input_string.</p>
                                                                    </div>
                                                                </li>
                                                                <li>
                                                                    <div>
                                                                        <p>Let param_value be the result of running
                                                                            Parsing a Bare Item (<a
                                                                                href="#parse-bare-item"
                                                                                title="Parsing a Bare Item">Section
                                                                                4.2.3.1</a>) with input_string.</p>
                                                                    </div>
                                                                </li>
                                                            </ol>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>If parameters already contains a key param_key (comparing
                                                                character for character), overwrite its value with
                                                                param_value.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>Otherwise, append key param_key with value param_value to
                                                                parameters.</p>
                                                        </div>
                                                    </li>
                                                </ol>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Return parameters.</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                                <div id="rfc.section.4.2.3.2.p.3">
                                    <p>Note that when duplicate parameter keys are encountered, all but the last
                                        instance are ignored.</p>
                                </div>
                            </section>
                            <section id="parse-key">
                                <h5 id="rfc.section.4.2.3.3"><a href="#rfc.section.4.2.3.3">4.2.3.3.</a>&nbsp;<a
                                        href="#parse-key">Parsing a Key</a></h5>
                                <div id="rfc.section.4.2.3.3.p.1">
                                    <p>Given an ASCII string as input_string, return a key. input_string is modified to
                                        remove the parsed value.</p>
                                </div>
                                <div id="rfc.section.4.2.3.3.p.2">
                                    <ol type="1">
                                        <li>
                                            <div>
                                                <p>If the first character of input_string is not lcalpha or "*", fail
                                                    parsing.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Let output_string be an empty string.</p>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="avoidbreakafter">
                                                <p>While input_string is not empty:</p>
                                            </div>
                                            <div>
                                                <ol type="1">
                                                    <li>
                                                        <div>
                                                            <p>If the first character of input_string is not one of
                                                                lcalpha, DIGIT, "_", "-", ".", or "*", return
                                                                output_string.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>Let char be the result of consuming the first character
                                                                of input_string.</p>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <div>
                                                            <p>Append char to output_string.</p>
                                                        </div>
                                                    </li>
                                                </ol>
                                            </div>
                                        </li>
                                        <li>
                                            <div>
                                                <p>Return output_string.</p>
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                            </section>
                        </section>
                        <section id="parse-number">
                            <h4 id="rfc.section.4.2.4"><a href="#rfc.section.4.2.4">4.2.4.</a>&nbsp;<a
                                    href="#parse-number">Parsing an Integer or Decimal</a></h4>
                            <div id="rfc.section.4.2.4.p.1">
                                <p>Given an ASCII string as input_string, return an Integer or Decimal. input_string is
                                    modified to remove the parsed value.</p>
                            </div>
                            <div id="rfc.section.4.2.4.p.2">
                                <p>NOTE: This algorithm parses both Integers (<a href="#integer"
                                        title="Integers">Section 3.3.1</a>) and Decimals (<a href="#decimal"
                                        title="Decimals">Section 3.3.2</a>), and returns the corresponding structure.
                                </p>
                            </div>
                            <div id="rfc.section.4.2.4.p.3">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>Let type be "integer".</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let sign be 1.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let input_number be an empty string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If the first character of input_string is "-", consume it and set sign to
                                                -1.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If input_string is empty, there is an empty integer; fail parsing.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If the first character of input_string is not a DIGIT, fail parsing.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>While input_string is not empty:</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>Let char be the result of consuming the first character of
                                                            input_string.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>If char is a DIGIT, append it to input_number.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>Else, if type is "integer" and char is ".":</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>If input_number contains more than 12 characters,
                                                                        fail parsing.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Otherwise, append char to input_number and set
                                                                        type to "decimal".</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Otherwise, prepend char to input_string, and exit the loop.
                                                        </p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>If type is "integer" and input_number contains more than 15
                                                            characters, fail parsing.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>If type is "decimal" and input_number contains more than 16
                                                            characters, fail parsing.</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>If type is "integer":</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>Let output_number be an Integer that is the result of parsing
                                                            input_number as an integer.</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>Otherwise:</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>If the final character of input_number is ".", fail parsing.
                                                        </p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>If the number of characters after "." in input_number is
                                                            greater than three, fail parsing.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Let output_number be a Decimal that is the result of parsing
                                                            input_number as a decimal number.</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let output_number be the product of output_number and sign.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output_number.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="parse-string">
                            <h4 id="rfc.section.4.2.5"><a href="#rfc.section.4.2.5">4.2.5.</a>&nbsp;<a
                                    href="#parse-string">Parsing a String</a></h4>
                            <div id="rfc.section.4.2.5.p.1">
                                <p>Given an ASCII string as input_string, return an unquoted String. input_string is
                                    modified to remove the parsed value.</p>
                            </div>
                            <div id="rfc.section.4.2.5.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>Let output_string be an empty string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If the first character of input_string is not DQUOTE, fail parsing.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Discard the first character of input_string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>While input_string is not empty:</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>Let char be the result of consuming the first character of
                                                            input_string.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>If char is a backslash ("\"):</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>If input_string is now empty, fail parsing.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Let next_char be the result of consuming the
                                                                        first character of input_string.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>If next_char is not DQUOTE or "\", fail parsing.
                                                                    </p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Append next_char to output_string.</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Else, if char is DQUOTE, return output_string.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Else, if char is in the range %x00-1f or %x7f-ff (i.e., it is
                                                            not in VCHAR or SP), fail parsing.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Else, append char to output_string.</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Reached the end of input_string without finding a closing DQUOTE; fail
                                                parsing.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="parse-token">
                            <h4 id="rfc.section.4.2.6"><a href="#rfc.section.4.2.6">4.2.6.</a>&nbsp;<a
                                    href="#parse-token">Parsing a Token</a></h4>
                            <div id="rfc.section.4.2.6.p.1">
                                <p>Given an ASCII string as input_string, return a Token. input_string is modified to
                                    remove the parsed value.</p>
                            </div>
                            <div id="rfc.section.4.2.6.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>If the first character of input_string is not ALPHA or "*", fail parsing.
                                            </p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let output_string be an empty string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>While input_string is not empty:</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>If the first character of input_string is not in tchar, ":",
                                                            or "/", return output_string.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Let char be the result of consuming the first character of
                                                            input_string.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>Append char to output_string.</p>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output_string.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="parse-binary">
                            <h4 id="rfc.section.4.2.7"><a href="#rfc.section.4.2.7">4.2.7.</a>&nbsp;<a
                                    href="#parse-binary">Parsing a Byte Sequence</a></h4>
                            <div id="rfc.section.4.2.7.p.1">
                                <p>Given an ASCII string as input_string, return a Byte Sequence. input_string is
                                    modified to remove the parsed value.</p>
                            </div>
                            <div id="rfc.section.4.2.7.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>If the first character of input_string is not ":", fail parsing.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Discard the first character of input_string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If there is not a ":" character before the end of input_string, fail
                                                parsing.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let b64_content be the result of consuming content of input_string up to
                                                but not including the first instance of the character ":".</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Consume the ":" character at the beginning of input_string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If b64_content contains a character not included in ALPHA, DIGIT, "+",
                                                "/", and "=", fail parsing.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let binary_content be the result of base64-decoding <a
                                                    href="#RFC4648"><cite
                                                        title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>
                                                b64_content, synthesizing padding if necessary (note the requirements
                                                about recipient behavior below). If base64 decoding fails, parsing
                                                fails.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return binary_content.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                            <div id="rfc.section.4.2.7.p.3">
                                <p>Because some implementations of base64 do not allow rejection of encoded data that is
                                    not properly "=" padded (see <a href="#RFC4648"><cite
                                            title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>,
                                    <a href="https://www.rfc-editor.org/rfc/rfc4648.html#section-3.2">Section 3.2</a>),
                                    parsers <em class="bcp14">SHOULD NOT</em> fail when "=" padding is not present,
                                    unless they cannot be configured to do so.
                                </p>
                            </div>
                            <div id="rfc.section.4.2.7.p.4">
                                <p>Because some implementations of base64 do not allow rejection of encoded data that
                                    has non-zero pad bits (see <a href="#RFC4648"><cite
                                            title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>,
                                    <a href="https://www.rfc-editor.org/rfc/rfc4648.html#section-3.5">Section 3.5</a>),
                                    parsers <em class="bcp14">SHOULD NOT</em> fail when non-zero pad bits are present,
                                    unless they cannot be configured to do so.
                                </p>
                            </div>
                            <div id="rfc.section.4.2.7.p.5">
                                <p>This specification does not relax the requirements in Sections <a
                                        href="https://www.rfc-editor.org/rfc/rfc4648.html#section-3.1">3.1</a> and <a
                                        href="https://www.rfc-editor.org/rfc/rfc4648.html#section-3.3">3.3</a> of <a
                                        href="#RFC4648"><cite
                                            title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>;
                                    therefore, parsers <em class="bcp14">MUST</em> fail on characters outside the base64
                                    alphabet and on line feeds in encoded data.</p>
                            </div>
                        </section>
                        <section id="parse-boolean">
                            <h4 id="rfc.section.4.2.8"><a href="#rfc.section.4.2.8">4.2.8.</a>&nbsp;<a
                                    href="#parse-boolean">Parsing a Boolean</a></h4>
                            <div id="rfc.section.4.2.8.p.1">
                                <p>Given an ASCII string as input_string, return a Boolean. input_string is modified to
                                    remove the parsed value.</p>
                            </div>
                            <div id="rfc.section.4.2.8.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>If the first character of input_string is not "?", fail parsing.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Discard the first character of input_string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If the first character of input_string matches "1", discard the first
                                                character, and return true.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If the first character of input_string matches "0", discard the first
                                                character, and return false.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>No value has matched; fail parsing.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="parse-date">
                            <h4 id="rfc.section.4.2.9"><a href="#rfc.section.4.2.9">4.2.9.</a>&nbsp;<a
                                    href="#parse-date">Parsing a Date</a></h4>
                            <div id="rfc.section.4.2.9.p.1">
                                <p>Given an ASCII string as input_string, return a Date. input_string is modified to
                                    remove the parsed value.</p>
                            </div>
                            <div id="rfc.section.4.2.9.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>If the first character of input_string is not "@", fail parsing.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Discard the first character of input_string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let output_date be the result of running Parsing an Integer or Decimal
                                                (<a href="#parse-number" title="Parsing an Integer or Decimal">Section
                                                    4.2.4</a>) with input_string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>If output_date is a Decimal, fail parsing.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Return output_date.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                        <section id="parse-display">
                            <h4 id="rfc.section.4.2.10"><a href="#rfc.section.4.2.10">4.2.10.</a>&nbsp;<a
                                    href="#parse-display">Parsing a Display String</a></h4>
                            <div id="rfc.section.4.2.10.p.1">
                                <p>Given an ASCII string as input_string, return a sequence of Unicode code points.
                                    input_string is modified to remove the parsed value.</p>
                            </div>
                            <div id="rfc.section.4.2.10.p.2">
                                <ol type="1">
                                    <li>
                                        <div>
                                            <p>If the first two characters of input_string are not "%" followed by
                                                DQUOTE, fail parsing.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Discard the first two characters of input_string.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Let byte_array be an empty byte array.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="avoidbreakafter">
                                            <p>While input_string is not empty:</p>
                                        </div>
                                        <div>
                                            <ol type="1">
                                                <li>
                                                    <div>
                                                        <p>Let char be the result of consuming the first character of
                                                            input_string.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <p>If char is in the range %x00-1f or %x7f-ff (i.e., it is not
                                                            in VCHAR or SP), fail parsing.</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>If char is "%":</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>Let octet_hex be the result of consuming two
                                                                        characters from input_string. If there are not
                                                                        two characters, fail parsing.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>If octet_hex contains characters outside the
                                                                        range %x30-39 or %x61-66 (i.e., it is not in 0-9
                                                                        or lowercase a-f), fail parsing.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Let octet be the result of hex decoding octet_hex
                                                                        (<a
                                                                            href="https://www.rfc-editor.org/rfc/rfc4648.html#section-8">Section
                                                                            8</a> of <a href="#RFC4648"><cite
                                                                                title="The Base16, Base32, and Base64 Data Encodings">[RFC4648]</cite></a>).
                                                                    </p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Append octet to byte_array.</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>If char is DQUOTE:</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>Let unicode_sequence be the result of decoding
                                                                        byte_array as a UTF-8 string (<a
                                                                            href="https://www.rfc-editor.org/rfc/rfc3629.html#section-3">Section
                                                                            3</a> of <a href="#RFC3629"><cite
                                                                                title="UTF-8, a transformation format of ISO 10646">[UTF8]</cite></a>).
                                                                        Fail parsing if decoding fails.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Return unicode_sequence.</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="avoidbreakafter">
                                                        <p>Otherwise, if char is not "%" or DQUOTE:</p>
                                                    </div>
                                                    <div>
                                                        <ol type="1">
                                                            <li>
                                                                <div>
                                                                    <p>Let byte be the result of applying ASCII encoding
                                                                        to char.</p>
                                                                </div>
                                                            </li>
                                                            <li>
                                                                <div>
                                                                    <p>Append byte to byte_array.</p>
                                                                </div>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </li>
                                            </ol>
                                        </div>
                                    </li>
                                    <li>
                                        <div>
                                            <p>Reached the end of input_string without finding a closing DQUOTE; fail
                                                parsing.</p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </section>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="iana">
                    <h2 id="rfc.section.5" class="np"><a href="#rfc.section.5">5.</a>&nbsp;<a href="#iana">IANA
                            Considerations</a></h2>
                    <div id="rfc.section.5.p.1" class="avoidbreakafter">
                        <p>IANA has added the following note to the "Hypertext Transfer Protocol (HTTP) Field Name
                            Registry":</p>
                    </div>
                    <div id="rfc.section.5.p.2">
                        <blockquote>
                            <div id="rfc.section.5.p.2.1">
                                <p>The "Structured Type" column indicates the type of the field (per RFC 9651), if any,
                                    and may be "Dictionary", "List", or "Item".</p>
                            </div>
                            <div id="rfc.section.5.p.2.2">
                                <p>Note that field names beginning with characters other than ALPHA or "*" will not be
                                    able to be represented as a Structured Fields Token and therefore may be
                                    incompatible with being mapped into field values that refer to it.</p>
                            </div>
                        </blockquote>
                    </div>
                    <div id="rfc.section.5.p.3">
                        <p>A new column, "Structured Type", has been added to the registry.</p>
                    </div>
                    <div id="rfc.section.5.p.4">
                        <p>The indicated Structured Type for each existing registry entry listed in <a
                                href="#existing-fields" title="Existing Fields">Table 1</a> has also been added.</p>
                    </div>
                    <div class="table table-condensed table-striped" id="existing-fields">
                        <table class="v3 text-center">
                            <caption>Table 1: Existing Fields</caption>
                            <thead>
                                <tr>
                                    <th class="text-left" colspan="1" rowspan="1">Field Name</th>
                                    <th class="text-left" colspan="1" rowspan="1">Structured Type</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Accept-CH</td>
                                    <td class="text-left" colspan="1" rowspan="1">List</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Cache-Status</td>
                                    <td class="text-left" colspan="1" rowspan="1">List</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">CDN-Cache-Control</td>
                                    <td class="text-left" colspan="1" rowspan="1">Dictionary</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Cross-Origin-Embedder-Policy</td>
                                    <td class="text-left" colspan="1" rowspan="1">Item</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">
                                        Cross-Origin-Embedder-Policy-Report-Only</td>
                                    <td class="text-left" colspan="1" rowspan="1">Item</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Cross-Origin-Opener-Policy</td>
                                    <td class="text-left" colspan="1" rowspan="1">Item</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Cross-Origin-Opener-Policy-Report-Only
                                    </td>
                                    <td class="text-left" colspan="1" rowspan="1">Item</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Origin-Agent-Cluster</td>
                                    <td class="text-left" colspan="1" rowspan="1">Item</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Priority</td>
                                    <td class="text-left" colspan="1" rowspan="1">Dictionary</td>
                                </tr>
                                <tr>
                                    <td class="text-left" colspan="1" rowspan="1">Proxy-Status</td>
                                    <td class="text-left" colspan="1" rowspan="1">List</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="security">
                    <h2 id="rfc.section.6" class="np"><a href="#rfc.section.6">6.</a>&nbsp;<a href="#security">Security
                            Considerations</a></h2>
                    <div id="rfc.section.6.p.1">
                        <p>The size of most types defined by Structured Fields is not limited; as a result, extremely
                            large fields could be an attack vector (e.g., for resource consumption). Most HTTP
                            implementations limit the sizes of individual fields as well as the overall header or
                            trailer section size to mitigate such attacks.</p>
                    </div>
                    <div id="rfc.section.6.p.2">
                        <p>It is possible for parties with the ability to inject new HTTP fields to change the meaning
                            of a Structured Field. In some circumstances, this will cause parsing to fail, but it is not
                            possible to reliably fail in all such circumstances.</p>
                    </div>
                    <div id="rfc.section.6.p.3">
                        <p>The Display String type can convey any possible Unicode code point without sanitization; for
                            example, they might contain unassigned code points, control points (including NUL), or
                            noncharacters. Therefore, applications consuming Display Strings need to consider strategies
                            such as filtering or escaping untrusted content before displaying it. See <a
                                href="#RFC8264"><cite
                                    title="PRECIS Framework: Preparation, Enforcement, and Comparison of Internationalized Strings in Application Protocols">[PRECIS]</cite></a>
                            and <a href="#UNICODE-SECURITY"><cite
                                    title="Unicode Security Considerations">[UNICODE-SECURITY]</cite></a>.</p>
                    </div>
                </section>
                <section class="np">
                    <div id="rfc.references">
                        <h2 id="rfc.section.7"><a href="#rfc.section.7">7.</a> References</h2>
                        <section id="sec-normative-references">
                            <div id="rfc.references.2">
                                <h3 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1.</a> Normative References</h3>
                                <dl class="dl-horizontal">
                                    <dt id="RFC9110">[<a href="#RFC9110" class="smpl">HTTP</a>]</dt>
                                    <dd>Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke, Ed., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc9110.html">HTTP Semantics</a>”, <a
                                            href="https://www.rfc-editor.org/info/std97">STD 97</a>, RFC 9110, <a
                                            href="https://dx.doi.org/10.17487/RFC9110">DOI 10.17487/RFC9110</a>, June
                                        2022, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc9110">https://www.rfc-editor.org/info/rfc9110</a>&gt;.
                                    </dd>
                                    <dt id="RFC0020">[<a href="#RFC0020" class="smpl">RFC0020</a>]</dt>
                                    <dd>Cerf, V., “<a href="https://www.rfc-editor.org/rfc/rfc20.html">ASCII format for
                                            network interchange</a>”, <a
                                            href="https://www.rfc-editor.org/info/std80">STD 80</a>, RFC 20, <a
                                            href="https://dx.doi.org/10.17487/RFC0020">DOI 10.17487/RFC0020</a>, October
                                        1969, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc20">https://www.rfc-editor.org/info/rfc20</a>&gt;.
                                    </dd>
                                    <dt id="RFC2119">[<a href="#RFC2119" class="smpl">RFC2119</a>]</dt>
                                    <dd>Bradner, S., “<a href="https://www.rfc-editor.org/rfc/rfc2119.html">Key words
                                            for use in RFCs to Indicate Requirement Levels</a>”, <a
                                            href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>, RFC 2119, <a
                                            href="https://dx.doi.org/10.17487/RFC2119">DOI 10.17487/RFC2119</a>, March
                                        1997, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.
                                    </dd>
                                    <dt id="RFC4648">[<a href="#RFC4648" class="smpl">RFC4648</a>]</dt>
                                    <dd>Josefsson, S., “<a href="https://www.rfc-editor.org/rfc/rfc4648.html">The
                                            Base16, Base32, and Base64 Data Encodings</a>”, RFC 4648, <a
                                            href="https://dx.doi.org/10.17487/RFC4648">DOI 10.17487/RFC4648</a>, October
                                        2006, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc4648">https://www.rfc-editor.org/info/rfc4648</a>&gt;.
                                    </dd>
                                    <dt id="RFC8174">[<a href="#RFC8174" class="smpl">RFC8174</a>]</dt>
                                    <dd>Leiba, B., “<a href="https://www.rfc-editor.org/rfc/rfc8174.html">Ambiguity of
                                            Uppercase vs Lowercase in RFC 2119 Key Words</a>”, <a
                                            href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>, RFC 8174, <a
                                            href="https://dx.doi.org/10.17487/RFC8174">DOI 10.17487/RFC8174</a>, May
                                        2017, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.
                                    </dd>
                                    <dt id="RFC3629">[<a href="#RFC3629" class="smpl">UTF8</a>]</dt>
                                    <dd>Yergeau, F., “<a href="https://www.rfc-editor.org/rfc/rfc3629.html">UTF-8, a
                                            transformation format of ISO 10646</a>”, <a
                                            href="https://www.rfc-editor.org/info/std63">STD 63</a>, RFC 3629, <a
                                            href="https://dx.doi.org/10.17487/RFC3629">DOI 10.17487/RFC3629</a>,
                                        November 2003, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;.
                                    </dd>
                                </dl>
                            </div>
                        </section>
                        <section id="sec-informative-references">
                            <div id="rfc.references.3">
                                <h3 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2.</a> Informative References</h3>
                                <dl class="dl-horizontal">
                                    <dt id="RFC7541">[<a href="#RFC7541" class="smpl">HPACK</a>]</dt>
                                    <dd>Peon, R. and H. Ruellan, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc7541.html">HPACK: Header Compression
                                            for HTTP/2</a>”, RFC 7541, <a href="https://dx.doi.org/10.17487/RFC7541">DOI
                                            10.17487/RFC7541</a>, May 2015, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc7541">https://www.rfc-editor.org/info/rfc7541</a>&gt;.
                                    </dd>
                                    <dt id="RFC9113">[<a href="#RFC9113" class="smpl">HTTP/2</a>]</dt>
                                    <dd>Thomson, M., Ed. and C. Benfield, Ed., “<a
                                            href="https://www.rfc-editor.org/rfc/rfc9113.html">HTTP/2</a>”, RFC 9113, <a
                                            href="https://dx.doi.org/10.17487/RFC9113">DOI 10.17487/RFC9113</a>, June
                                        2022, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc9113">https://www.rfc-editor.org/info/rfc9113</a>&gt;.
                                    </dd>
                                    <dt id="IEEE754">[<a href="#IEEE754" class="smpl">IEEE754</a>]</dt>
                                    <dd>IEEE, “<a href="https://ieeexplore.ieee.org/document/8766229">IEEE Standard for
                                            Floating-Point Arithmetic</a>”, IEEE Std 754-2019, <a
                                            href="https://dx.doi.org/10.1109/IEEESTD.2019.8766229">DOI
                                            10.1109/IEEESTD.2019.8766229</a>, <a
                                            href="https://www.worldcat.org/search?q=isbn:9781504459242">ISBN
                                            978-1-5044-5924-2</a>, July 2019, &lt;<a
                                            href="https://ieeexplore.ieee.org/document/8766229">https://ieeexplore.ieee.org/document/8766229</a>&gt;.
                                    </dd>
                                    <dt id="RFC8264">[<a href="#RFC8264" class="smpl">PRECIS</a>]</dt>
                                    <dd>Saint-Andre, P. and M. Blanchet, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc8264.html">PRECIS Framework:
                                            Preparation, Enforcement, and Comparison of Internationalized Strings in
                                            Application Protocols</a>”, RFC 8264, <a
                                            href="https://dx.doi.org/10.17487/RFC8264">DOI 10.17487/RFC8264</a>, October
                                        2017, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8264">https://www.rfc-editor.org/info/rfc8264</a>&gt;.
                                    </dd>
                                    <dt id="RFC5234">[<a href="#RFC5234" class="smpl">RFC5234</a>]</dt>
                                    <dd>Crocker, D., Ed. and P. Overell, “<a
                                            href="https://www.rfc-editor.org/rfc/rfc5234.html">Augmented BNF for Syntax
                                            Specifications: ABNF</a>”, <a
                                            href="https://www.rfc-editor.org/info/std68">STD 68</a>, RFC 5234, <a
                                            href="https://dx.doi.org/10.17487/RFC5234">DOI 10.17487/RFC5234</a>, January
                                        2008, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;.
                                    </dd>
                                    <dt id="RFC7493">[<a href="#RFC7493" class="smpl">RFC7493</a>]</dt>
                                    <dd>Bray, T., Ed., “<a href="https://www.rfc-editor.org/rfc/rfc7493.html">The I-JSON
                                            Message Format</a>”, RFC 7493, <a
                                            href="https://dx.doi.org/10.17487/RFC7493">DOI 10.17487/RFC7493</a>, March
                                        2015, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc7493">https://www.rfc-editor.org/info/rfc7493</a>&gt;.
                                    </dd>
                                    <dt id="RFC8259">[<a href="#RFC8259" class="smpl">RFC8259</a>]</dt>
                                    <dd>Bray, T., Ed., “<a href="https://www.rfc-editor.org/rfc/rfc8259.html">The
                                            JavaScript Object Notation (JSON) Data Interchange Format</a>”, <a
                                            href="https://www.rfc-editor.org/info/std90">STD 90</a>, RFC 8259, <a
                                            href="https://dx.doi.org/10.17487/RFC8259">DOI 10.17487/RFC8259</a>,
                                        December 2017, &lt;<a
                                            href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;.
                                    </dd>
                                    <dt id="UNICODE-SECURITY">[<a href="#UNICODE-SECURITY"
                                            class="smpl">UNICODE-SECURITY</a>]</dt>
                                    <dd>Davis, M. and M. Suignard, “<a
                                            href="https://www.unicode.org/reports/tr36/tr36-15.html">Unicode Security
                                            Considerations</a>”, Unicode Technical Report #36, September 2014, &lt;<a
                                            href="https://www.unicode.org/reports/tr36/tr36-15.html">https://www.unicode.org/reports/tr36/tr36-15.html</a>&gt;.<br>Latest
                                        version available at &lt;<a
                                            href="https://www.unicode.org/reports/tr36/">https://www.unicode.org/reports/tr36/</a>&gt;.
                                    </dd>
                                </dl>
                            </div>
                        </section>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="faq">
                    <h2 id="rfc.section.A" class="np"><a href="#rfc.section.A">Appendix A.</a>&nbsp;<a
                            href="#faq">Frequently Asked Questions</a></h2>
                    <section id="why-not-json">
                        <h3 id="rfc.section.A.1"><a href="#rfc.section.A.1">A.1.</a>&nbsp;<a href="#why-not-json">Why
                                Not JSON?</a></h3>
                        <div id="rfc.section.A.1.p.1">
                            <p>Earlier proposals for Structured Fields were based upon JSON <a href="#RFC8259"><cite
                                        title="The JavaScript Object Notation (JSON) Data Interchange Format">[RFC8259]</cite></a>.
                                However, constraining its use to make it suitable for HTTP fields required senders and
                                recipients to implement specific additional handling.</p>
                        </div>
                        <div id="rfc.section.A.1.p.2">
                            <p>For example, JSON has specification issues around large numbers and objects with
                                duplicate members. Although advice for avoiding these issues is available (e.g., <a
                                    href="#RFC7493"><cite title="The I-JSON Message Format">[RFC7493]</cite></a>), it
                                cannot be relied upon.</p>
                        </div>
                        <div id="rfc.section.A.1.p.3">
                            <p>Likewise, JSON strings are by default Unicode strings, which have a number of potential
                                interoperability issues (e.g., in comparison). Although implementers can be advised to
                                avoid non-ASCII content where unnecessary, this is difficult to enforce.</p>
                        </div>
                        <div id="rfc.section.A.1.p.4">
                            <p>Another example is JSON's ability to nest content to arbitrary depths. Since the
                                resulting memory commitment might be unsuitable (e.g., in embedded and other limited
                                server deployments), it's necessary to limit it in some fashion; however, existing JSON
                                implementations have no such limits, and even if a limit is specified, it's likely that
                                some field definition will find a need to violate it.</p>
                        </div>
                        <div id="rfc.section.A.1.p.5">
                            <p>Because of JSON's broad adoption and implementation, it is difficult to impose such
                                additional constraints across all implementations; some deployments would fail to
                                enforce them, thereby harming interoperability. In short, if it looks like JSON, people
                                will be tempted to use a JSON parser/serializer on field values.</p>
                        </div>
                        <div id="rfc.section.A.1.p.6">
                            <p>Since a major goal for Structured Fields is to improve interoperability and simplify
                                implementation, these concerns led to a format that requires a dedicated parser and
                                serializer.</p>
                        </div>
                        <div id="rfc.section.A.1.p.7">
                            <p>Additionally, there were widely shared feelings that JSON doesn't "look right" in HTTP
                                fields.</p>
                        </div>
                    </section>
                </section>
                <hr class="hidden-print">
                <section id="implementation-notes">
                    <h2 id="rfc.section.B" class="np"><a href="#rfc.section.B">Appendix B.</a>&nbsp;<a
                            href="#implementation-notes">Implementation Notes</a></h2>
                    <div id="rfc.section.B.p.1">
                        <p>A generic implementation of this specification should expose the top-level serialize (<a
                                href="#text-serialize" title="Serializing Structured Fields">Section 4.1</a>) and parse
                            (<a href="#text-parse" title="Parsing Structured Fields">Section 4.2</a>) functions. They
                            need not be functions; for example, it could be implemented as an object, with methods for
                            each of the different top-level types.</p>
                    </div>
                    <div id="rfc.section.B.p.2">
                        <p>For interoperability, it's important that generic implementations be complete and follow the
                            algorithms closely; see <a href="#strict" title="Intentionally Strict Processing">Section
                                1.1</a>. To aid this, a common test suite is being maintained by the community at
                            &lt;https://github.com/httpwg/structured-field-tests&gt;.</p>
                    </div>
                    <div id="rfc.section.B.p.3">
                        <p>Implementers should note that Dictionaries and Parameters are order-preserving maps. Some
                            fields may not convey meaning in the ordering of these data types, but it should still be
                            exposed so that it will be available to applications that need to use it.</p>
                    </div>
                    <div id="rfc.section.B.p.4">
                        <p>Likewise, implementations should note that it's important to preserve the distinction between
                            Tokens and Strings. While most programming languages have built-in types that map to the
                            other types well, it may be necessary to create a wrapper "token" object or use a parameter
                            on functions to assure that these types remain separate.</p>
                    </div>
                    <div id="rfc.section.B.p.5">
                        <p>The serialization algorithm is defined in a way that it is not strictly limited to the data
                            types defined in <a href="#types" title="Structured Data Types">Section 3</a> in every case.
                            For example, Decimals are designed to take broader input and round to allowed values.</p>
                    </div>
                    <div id="rfc.section.B.p.6">
                        <p>Implementations are allowed to limit the size of different structures, subject to the
                            minimums defined for each type. When a structure exceeds an implementation limit, that
                            structure fails parsing or serialization.</p>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="abnf">
                    <h2 id="rfc.section.C" class="np"><a href="#rfc.section.C">Appendix C.</a>&nbsp;<a
                            href="#abnf">ABNF</a></h2>
                    <div id="rfc.section.C.p.1">
                        <p>This section uses the Augmented Backus-Naur Form (ABNF) notation <a href="#RFC5234"><cite
                                    title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a> to
                            illustrate the expected syntax of Structured Fields. However, it cannot be used to validate
                            their syntax because it does not capture all requirements.</p>
                    </div>
                    <div id="rfc.section.C.p.2">
                        <p>This section is non-normative. If there is disagreement between the parsing algorithms and
                            ABNF, the specified algorithms take precedence.</p>
                    </div>
                    <div id="rfc.section.C.p.3">
                        <pre class="inline">
sf-list       = list-member *( OWS "," OWS list-member )
list-member   = sf-item / inner-list

inner-list    = "(" *SP [ sf-item *( 1*SP sf-item ) *SP ] ")"
                parameters

parameters    = *( ";" *SP parameter )
parameter     = param-key [ "=" param-value ]
param-key     = key
key           = ( lcalpha / "*" )
                *( lcalpha / DIGIT / "_" / "-" / "." / "*" )
lcalpha       = %x61-7A ; a-z
param-value   = bare-item

sf-dictionary = dict-member *( OWS "," OWS dict-member )
dict-member   = member-key ( parameters / ( "=" member-value ))
member-key    = key
member-value  = sf-item / inner-list

sf-item   = bare-item parameters
bare-item = sf-integer / sf-decimal / sf-string / sf-token
            / sf-binary / sf-boolean / sf-date / sf-displaystring

sf-integer       = ["-"] 1*15DIGIT
sf-decimal       = ["-"] 1*12DIGIT "." 1*3DIGIT
sf-string        = DQUOTE *( unescaped / "%" / bs-escaped ) DQUOTE
sf-token         = ( ALPHA / "*" ) *( tchar / ":" / "/" )
sf-binary        = ":" base64 ":"
sf-boolean       = "?" ( "0" / "1" )
sf-date          = "@" sf-integer
sf-displaystring = "%" DQUOTE *( unescaped / "\" / pct-encoded )
                   DQUOTE

base64       = *( ALPHA / DIGIT / "+" / "/" ) *"="

unescaped    = %x20-21 / %x23-24 / %x26-5B / %x5D-7E
bs-escaped   = "\" ( DQUOTE / "\" )

pct-encoded  = "%" lc-hexdig lc-hexdig
lc-hexdig = DIGIT / %x61-66 ; 0-9, a-f
</pre>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="changes">
                    <h2 id="rfc.section.D" class="np"><a href="#rfc.section.D">Appendix D.</a>&nbsp;<a
                            href="#changes">Changes from RFC 8941</a></h2>
                    <div id="rfc.section.D.p.1" class="avoidbreakafter">
                        <p>This revision of the "Structured Field Values for HTTP" specification has made the following
                            changes:</p>
                    </div>
                    <div id="rfc.section.D.p.2">
                        <ul>
                            <li>
                                <div>
                                    <p>Added the Date Structured Type. (<a href="#date" title="Dates">Section 3.3.7</a>)
                                    </p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Stopped encouraging use of ABNF in definitions of new Structured Fields. (<a
                                            href="#specify" title="Defining New Structured Fields">Section 2</a>)</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Moved ABNF to an informative appendix. (<a href="#abnf" title="ABNF">Appendix
                                            C</a>)</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Added a "Structured Type" column to the "Hypertext Transfer Protocol (HTTP) Field
                                        Name Registry". (<a href="#iana" title="IANA Considerations">Section 5</a>)</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Refined parse failure handling. (<a href="#text-parse"
                                            title="Parsing Structured Fields">Section 4.2</a>)</p>
                                </div>
                            </li>
                            <li>
                                <div>
                                    <p>Added the Display String Structured Type. (<a href="#displaystring"
                                            title="Display Strings">Section 3.3.8</a>)</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="acknowledgements">
                    <h2 id="rfc.section.unnumbered-4" class="np"><a href="#acknowledgements">Acknowledgements</a></h2>
                    <div id="rfc.section.unnumbered-4.p.1">
                        <p>Many thanks to Matthew Kerwin for his detailed feedback and careful consideration during the
                            development of this specification.</p>
                    </div>
                    <div id="rfc.section.unnumbered-4.p.2">
                        <p>Thanks also to Ian Clelland, Roy Fielding, Anne van Kesteren, Kazuho Oku, Evert Pot, Julian
                            Reschke, Martin Thomson, Mike West, and Jeffrey Yasskin for their contributions.</p>
                    </div>
                </section>
                <hr class="hidden-print">
                <section id="rfc.authors" class="np">
                    <h2><a href="#rfc.authors">Authors' Addresses</a></h2>
                    <address><b>Mark Nottingham</b><br>Cloudflare<br>Prahran, VIC<br>Australia<br>EMail: <a
                            href="mailto:mnot@mnot.net">mnot@mnot.net</a><br>URI: <a
                            href="https://www.mnot.net/">https://www.mnot.net/</a></address>
                    <address><b>Poul-Henning Kamp</b><br>The Varnish Cache Project<br>EMail: <a
                            href="mailto:phk@varnish-cache.org">phk@varnish-cache.org</a></address>
                </section>
            </div>
        </div>
    </div>
    <script src="/assets/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
</body>

</html>