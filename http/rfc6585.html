<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="zh-hans">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RFC 6585 - 附加的 HTTP 状态码</title>
    <script>
        function getMeta(rfcno, container) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "https://www.rfc-editor.org/rfc/rfc" + rfcno + ".json", true);
            xhr.onload = function (e) {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        var data = JSON.parse(xhr.response);

                        var cont = document.getElementById(container);
                        // empty the container
                        while (cont.firstChild) {
                            cont.removeChild(myNode.firstChild);
                        }

                        var c = data.status;
                        if (c) {
                            var bld = newElementWithText("b", c);
                            cont.appendChild(bld);
                        } else {
                            cont.appendChild(newElementWithText("i", "(document status unknown)"));
                        }

                        c = data.updated_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Updated by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.obsoleted_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Obsoleted by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.errata_url;
                        if (c) {
                            cont.appendChild(newElement("br"));
                            var link = newElementWithText("a", "errata");
                            link.setAttribute("href", c);
                            var errata = newElementWithText("i", "This document has ");
                            errata.appendChild(link);
                            errata.appendChild(newText("."));
                            cont.appendChild(errata);
                        }

                        cont.style.display = "block";
                    } else {
                        console.error(xhr.statusText);
                    }
                }
            };
            xhr.onerror = function (e) {
                console.error(xhr.status + " " + xhr.statusText);
            };
            xhr.send(null);
        }
        function appendRfcLinks(parent, updates) {
            var template = "https://www.rfc-editor.org/rfc/rfc{rfc}.html";
            for (var i = 0; i < updates.length; i++) {
                var rfc = updates[i].trim().toLowerCase();
                if (rfc.substring(0, 3) == "rfc") {
                    var no = parseInt(rfc.substring(3), 10);

                    var link = newElement("a");
                    link.setAttribute("href", template.replace("{rfc}", no));
                    link.appendChild(newText(no));
                    parent.appendChild(link);
                } else {
                    parent.appendChild(newText(rfc));
                }
                if (i != updates.length - 1) {
                    parent.appendChild(newText(", "));
                }
            }
        }

        // DOM helpers
        function newElement(name) {
            return document.createElement(name);
        }
        function newElementWithText(name, txt) {
            var e = document.createElement(name);
            e.appendChild(newText(txt));
            return e;
        }
        function newText(text) {
            return document.createTextNode(text);
        }
    </script>
    <script>
        function anchorRewrite() {
            map = {};
            if (window.location.hash.length >= 1) {
                var fragid = window.location.hash.substr(1);
                if (fragid) {
                    if (!document.getElementById(fragid)) {
                        var prefix = "rfc.";
                        var mapped = map[fragid];
                        if (mapped) {
                            window.location.hash = mapped;
                        } else if (fragid.indexOf("section-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(8).replace("-", ".p.");
                        } else if (fragid.indexOf("appendix-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(9).replace("-", ".p.");
                        } else if (fragid.indexOf("s-") == 0) {
                            var postfix = fragid.substring(2);
                            if (postfix.startsWith("abstract")) {
                                window.location.hash = prefix + postfix;
                            } else if (postfix.startsWith("note-")) {
                                window.location.hash = prefix + "note." + postfix.substring(5).replace("-", ".p.");
                            } else {
                                window.location.hash = prefix + "section." + postfix.replace("-", ".p.");
                            }
                        } else if (fragid.indexOf("p-") == 0) {
                            var r = fragid.substring(2);
                            var p = r.indexOf("-");
                            if (p >= 0) {
                                window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
                            }
                        }
                    }
                }
            }
        }
        window.addEventListener('hashchange', anchorRewrite);
        window.addEventListener('DOMContentLoaded', anchorRewrite);
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="article">
    <meta property="og:title" content="RFC6585">
    <meta property="og:description" content="Additional HTTP Status Codes">
    <meta property="og:url" content="https://httpwg.org/specs/rfc6585.html">
    <meta property="og:site_name" content="IETF HTTP Working Group Specifications">
    <meta property="og:image" content="https://httpwg.org/assets/favicon/apple-icon-180x180.png">
    <link rel="stylesheet" type="text/css"
        href="https://httpwg.org/assets/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <style type="text/css">
        body {
            padding-top: 80px;
            padding-bottom: 80px;
            position: relative;
        }

        .table.header th,
        .table.header td {
            border-top: none;
            padding: 0;
        }

        #sidebar {
            margin-top: -10px;
            height: 90%;
            overflow-y: auto;
            font-size: 90%;
        }

        #rfc\.meta {
            width: 40%;
            float: right
        }

        .toc ul {
            list-style: none;
        }

        .filename {
            color: rgb(119, 119, 119);
            font-size: 23px;
            font-weight: normal;
            height: auto;
            line-height: 23px;
        }

        dl {
            margin-left: 1em;
        }

        dl.dl-horizontal {
            margin-left: 0;
        }

        dl>dt {
            float: left;
            margin-right: 1em;
        }

        dl.nohang>dt {
            float: none;
        }

        dl>dd {
            margin-bottom: .5em;
        }

        dl.compact>dd {
            margin-bottom: 0em;
        }

        dl>dd>dl {
            margin-top: 0.5em;
            margin-bottom: 0em;
        }

        ul.empty {
            list-style-type: none;
        }

        ul.empty li {
            margin-top: .5em;
        }

        td.reference {
            padding-right: 1em;
            vertical-align: top;
        }

        .feedback {
            position: fixed;
            bottom: 5px;
            right: 5px;
        }

        .fbbutton {
            margin-left: 5px;
        }

        h1 a,
        h2 a,
        h3 a,
        h4 a,
        h5 a,
        h6 a {
            color: rgb(51, 51, 51);
        }

        span.tt {
            font: 11pt consolas, monospace;
            font-size-adjust: none;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="https://httpwg.org/assets/site.css">
    <link rel="Contents" href="#rfc.toc">
    <link rel="Author" href="#rfc.authors">
    <link rel="License" href="#rfc.copyrightnotice">
    <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
    <link rel="Chapter" title="2 Requirements" href="#rfc.section.2">
    <link rel="Chapter" title="3 428 Precondition Required" href="#rfc.section.3">
    <link rel="Chapter" title="4 429 Too Many Requests" href="#rfc.section.4">
    <link rel="Chapter" title="5 431 Request Header Fields Too Large" href="#rfc.section.5">
    <link rel="Chapter" title="6 511 Network Authentication Required" href="#rfc.section.6">
    <link rel="Chapter" title="7 Security Considerations" href="#rfc.section.7">
    <link rel="Chapter" title="8 IANA Considerations" href="#rfc.section.8">
    <link rel="Chapter" title="9 References" href="#rfc.section.9">
    <link rel="Appendix" title="A Acknowledgements" href="#rfc.section.A">
    <link rel="Appendix" title="B Issues Raised by Captive Portals" href="#rfc.section.B">
    <link rel="Alternate" title="Plain Text Version" href="http://www.ietf.org/rfc/rfc6585.txt">
    <link rel="Help" title="RFC-Editor's Status Page" href="http://www.rfc-editor.org/info/rfc6585">
    <meta name="viewport" content="initial-scale=1">
    <meta name="generator"
        content="https://github.com/mnot/RFCBootstrap XSLT vendor: Saxonica http://www.saxonica.com/">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.creator" content="Nottingham, M.">
    <meta name="dcterms.creator" content="Fielding, R.">
    <meta name="dcterms.identifier" content="urn:ietf:rfc:6585">
    <meta name="dcterms.issued" content="2012-04">
    <meta name="dcterms.abstract"
        content="This document specifies additional HyperText Transfer Protocol (HTTP) status codes for a variety of common situations.">
    <meta name="dcterms.isPartOf" content="urn:issn:2070-1721">
    <meta name="description"
        content="This document specifies additional HyperText Transfer Protocol (HTTP) status codes for a variety of common situations.">
</head>

<body onload="getMeta(6585,'rfc.meta');">
    <nav class="navbar navbar-dark bg-dark d-print-none navbar-expand-lg fixed-top ps-3 pe-3" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse"
                aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand" href="https://httpwg.org/"><img src="https://httpwg.org/assets/http.svg"
                    height="23"></a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">

            <div class="navbar-nav me-auto">

                <a class="nav-item ms-1 text-white" href="https://httpwg.org/specs/">📄 Documentation</a>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Work in
                        Progress</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/http-extensions/">HTTP Extensions</a></li>
                        <li class="dropdown-item"><a
                                href="https://github.com/httpwg/admin/issues?q=is%3Aissue+is%3Aopen+label%3Aadoption">Future
                                Work</a></li>
                    </ul>
                </div>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Participate</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/about/">About the HTTP Working Group</a>
                        </li>
                        <li class="divider"></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/CONTRIBUTING.html">Contribution Policy</a>
                        </li>
                        <li class="dropdown-item"><a href="http://datatracker.ietf.org/wg/httpbis/charter/">WG
                                Charter</a></li>
                        <li class="dropdown-item"><a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">Group
                                Mailing List 📨</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/wg-materials/">Meeting Materials</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/admin/editors/">Document Editor
                                Resources</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>
    <div class="container" id="top">
        <div class="row">
            <div class="col-lg-4 order-last d-none d-lg-block" id="sidebar" role="navigation">
                <div class="navbar">
                    <div class="navbar-brand"><a href="#top"><strong>RFC </strong>6585</a></div><br clear="all">
                    <div class="">
                        <div class="toc ">
                            <ul>
                                <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.1">引言</a>
                                </li>
                                <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.2">要求</a>
                                </li>
                                <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#status-428">428
                                        需要先决条件</a></li>
                                <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#status-429">429 请求过多</a>
                                </li>
                                <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#status-431">431
                                        请求报头字段过大</a></li>
                                <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#status-511">511
                                        需要网络认证</a></li>
                                <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#security-considerations">安全性考虑</a></li>
                                <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.8">IANA
                                        注意事项</a></li>
                                <li><a href="#rfc.section.9">9.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">参考文献</a>
                                    <ul>
                                        <li class="excluded"></li>
                                        <li class="excluded"></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.A">致谢</a></li>
                                <li><a href="#rfc.section.B">Appendix B.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#issues-511">由强制门户引发的问题</a></li>
                                <li><a href="#rfc.authors">Authors' Addresses</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 order-first main" role="main">
                <header>
                    <table class="table table-condensed header" id="rfc.headerblock">
                        <tbody>
                            <tr>
                                <td class="text-left">互联网工程任务组 (IETF)</td>
                                <td class="text-right">M. Nottingham</td>
                            </tr>
                            <tr>
                                <td class="text-left">请求评论： 6585</td>
                                <td class="text-right">Rackspace</td>
                            </tr>
                            <tr>
                                <td class="text-left">更新： <a href="#RFC2616">2616</a></td>
                                <td class="text-right">R. Fielding</td>
                            </tr>
                            <tr>
                                <td class="text-left">类别： 标准轨道</td>
                                <td class="text-right">Adobe</td>
                            </tr>
                            <tr>
                                <td class="text-left">ISSN： 2070-1721</td>
                                <td class="text-right">2012年4月</td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="rfc.title">
                        <h1>附加的 HTTP 状态码</h1>
                    </div>
                </header>
                <hr>
                <h2 id="rfc.abstract"><a href="#rfc.abstract">摘要</a></h2>
                <div class="lead">
                    <div id="rfc.abstract.p.1">
                        <p>本文档为各种常见情况指定了附加的超文本传输协议 (HTTP) 状态码。</p>
                    </div>
                </div>
                <aside id="rfc.meta" class="alert alert-info"></aside>
                <section id="rfc.status">
                    <h2><a href="#rfc.status">本备忘录的状态</a></h2>
                    <div id="rfc.boilerplate.1.p.1">
                        <p>这是一个互联网标准轨道文档。</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.2">
                        <p>本文档由互联网工程任务组 (IETF) 制作。它代表了 IETF 社区的一致意见。它已接受公开审查并已获得互联网工程指导小组 (IESG) 批准发布。有关互联网标准的更多信息，请参见
                            <a href="https://www.rfc-editor.org/rfc/rfc5741.html#section-2">RFC 5741 第2节</a>。
                        </p>
                    </div>
                    <div id="rfc.boilerplate.1.p.3">
                        <p>有关本文件当前状态、任何勘误以及如何提供反馈的信息，请访问 <a
                                href="http://www.rfc-editor.org/info/rfc6585">http://www.rfc-editor.org/info/rfc6585</a>。
                        </p>
                    </div>
                </section>
                <section id="rfc.copyrightnotice">
                    <h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2>
                    <div id="rfc.boilerplate.2.p.1">
                        <p>Copyright (c) 2012 IETF Trust and the persons identified as the document authors. All rights
                            reserved.</p>
                    </div>
                    <div id="rfc.boilerplate.2.p.2">
                        <p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF
                            Documents (<a
                                href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in
                            effect on the date of publication of this document. Please review these documents carefully,
                            as they describe your rights and restrictions with respect to this document. Code Components
                            extracted from this document must include Simplified BSD License text as described in
                            Section 4.e of the Trust Legal Provisions and are provided without warranty as described in
                            the Simplified BSD License.</p>
                    </div>
                </section>
                <div class="toc d-lg-none">
                    <ul>
                        <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.1">引言</a>
                        </li>
                        <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.2">要求</a>
                        </li>
                        <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#status-428">428 需要先决条件</a></li>
                        <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#status-429">429 请求过多</a></li>
                        <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#status-431">431 请求报头字段过大</a></li>
                        <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#status-511">511 需要网络认证</a></li>
                        <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#security-considerations">安全性考虑</a></li>
                        <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.8">IANA 注意事项</a></li>
                        <li><a href="#rfc.section.9">9.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">参考文献</a>
                            <ul>
                                <li class="excluded"></li>
                                <li class="excluded"></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.A">致谢</a>
                        </li>
                        <li><a href="#rfc.section.B">Appendix B.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#issues-511">由强制门户引发的问题</a></li>
                        <li><a href="#rfc.authors">Authors' Addresses</a></li>
                    </ul>
                </div>
                <section id="n-introduction">
                    <h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a
                            href="#n-introduction">引言</a></h2>
                    <div id="rfc.section.1.p.1">
                        <p>本文档为各种常见情况指定了附加的 HTTP <a href="#RFC2616"><cite
                                    title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>
                            状态码，以改进互操作性并在使用其他不太精确的状态码时避免产生混淆。</p>
                    </div>
                    <div id="rfc.section.1.p.2">
                        <p>请注意，这些状态码是可选的；不能强制要求服务器支持它们。然而，因为客户端会将未知状态码视为同一类的通用错误（例如，如果未被识别，499 会被视为
                            400），现有服务器可以安全地部署这些状态码（更多信息请参见 <a href="#RFC2616"><cite
                                    title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a> 第6.1.1 节）。</p>
                    </div>
                </section>
                <section id="n-requirements">
                    <h2 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a href="#n-requirements">要求</a></h2>
                    <div id="rfc.section.2.p.1">
                        <p>本文档中关键字 "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
                            "RECOMMENDED", "MAY", 和 "OPTIONAL" 的解释应当依照 <a href="#RFC2119"><cite
                                    title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>
                            中的说明进行。</p>
                    </div>
                </section>
                <section id="status-428">
                    <h2 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a href="#status-428">428 需要先决条件</a>
                    </h2>
                    <div id="rfc.section.3.p.1">
                        <p>428 状态码表示源服务器要求该请求为有条件请求。</p>
                    </div>
                    <div id="rfc.section.3.p.2">
                        <p>它的典型用途是避免“丢失更新”（lost update）问题：客户端 GET 了资源的状态，修改后又 PUT
                            回服务器，而与此同时第三方已修改了服务器上的状态，导致冲突。通过要求请求为有条件的，服务器可以确保客户端正在使用正确的副本。</p>
                    </div>
                    <div id="rfc.section.3.p.3" class="avoidbreakafter">
                        <p>使用该状态码的响应应当解释如何成功地重新提交请求。例如：</p>
                    </div>
                    <div id="rfc.figure.u.1">
                        <div>
                            <pre class="text">
HTTP/1.1 428 需要先决条件
Content-Type: text/html

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;需要先决条件&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1&gt;需要先决条件&lt;/h1&gt;
      &lt;p&gt;此请求需要为有条件请求；
      尝试使用 "If-Match".&lt;/p&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
                        </div>
                    </div>
                    <div id="rfc.section.3.p.4">
                        <p>带有 428 状态码的响应不得被缓存所存储。</p>
                    </div>
                </section>
                <section id="status-429">
                    <h2 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a href="#status-429">429 请求过多</a></h2>
                    <div id="rfc.section.4.p.1">
                        <p>429 状态码表示用户在给定时间内发送了过多请求（“速率限制”）。</p>
                    </div>
                    <div id="rfc.section.4.p.2">
                        <p>响应表示应当包含解释该状况的详细信息，并且可以包含一个 Retry-After 首部来指示在再次发起请求之前需要等待的时间。</p>
                    </div>
                    <div id="rfc.section.4.p.3" class="avoidbreakafter">
                        <p>例如：</p>
                    </div>
                    <div id="rfc.figure.u.2">
                        <div>
                            <pre class="text">
HTTP/1.1 429 请求过多
Content-Type: text/html
Retry-After: 3600

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;请求过多&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1&gt;请求过多&lt;/h1&gt;
      &lt;p&gt;每个登录用户我每小时仅允许对该网站发起 50 次请求。
         请稍后再试。&lt;/p&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
                        </div>
                    </div>
                    <div id="rfc.section.4.p.4">
                        <p>注意，本规范并未定义源服务器如何识别用户，也未定义如何计数请求。例如，一个限制请求速率的源服务器可以基于按资源计数、整个服务器范围内计数，或甚至在一组服务器间计数来进行限制。同样，它可能通过认证凭证或有状态的
                            cookie 来识别用户。</p>
                    </div>
                    <div id="rfc.section.4.p.5">
                        <p>带有 429 状态码的响应不得被缓存所存储。</p>
                    </div>
                </section>
                <section id="status-431">
                    <h2 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a href="#status-431">431 请求报头字段过大</a>
                    </h2>
                    <div id="rfc.section.5.p.1">
                        <p>431 状态码表示服务器不愿意处理该请求，因为其报头字段过大。可以在减小请求报头字段的大小后重新提交该请求。</p>
                    </div>
                    <div id="rfc.section.5.p.2">
                        <p>该状态码既可用于整个请求报头字段集合过大时，也可用于单个报头字段过大时。在后者情况下，响应表示应当指明哪个报头字段过大。</p>
                    </div>
                    <div id="rfc.section.5.p.3" class="avoidbreakafter">
                        <p>例如：</p>
                    </div>
                    <div id="rfc.figure.u.3">
                        <div>
                            <pre class="text">
HTTP/1.1 431 请求报头字段过大
Content-Type: text/html

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;请求报头字段过大&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1&gt;请求报头字段过大&lt;/h1&gt;
      &lt;p&gt;“Example” 报头过大。&lt;/p&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
                        </div>
                    </div>
                    <div id="rfc.section.5.p.4">
                        <p>带有 431 状态码的响应不得被缓存所存储。</p>
                    </div>
                </section>
                <section id="status-511">
                    <h2 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;<a href="#status-511">511 需要网络认证</a>
                    </h2>
                    <div id="rfc.section.6.p.1">
                        <p>511 状态码表示客户端需要进行认证以获得网络访问权限。</p>
                    </div>
                    <div id="rfc.section.6.p.2">
                        <p>响应表示应当包含一个指向允许用户提交凭证的资源的链接（例如，带有 HTML 表单的页面）。</p>
                    </div>
                    <div id="rfc.section.6.p.3">
                        <p>注意，511 响应不应当包含挑战或登录界面本身，因为浏览器会将登录界面显示为与原始请求的 URL 相关联，这可能会导致混淆。</p>
                    </div>
                    <div id="rfc.section.6.p.4">
                        <p>511 状态不应由源服务器生成；它旨在由作为控制网络访问手段的拦截代理使用。</p>
                    </div>
                    <div id="rfc.section.6.p.5">
                        <p>带有 511 状态码的响应不得被缓存所存储。</p>
                    </div>
                    <section id="using-511">
                        <h3 id="rfc.section.6.1"><a href="#rfc.section.6.1">6.1.</a>&nbsp;<a href="#using-511">511
                                状态码与强制门户</a></h3>
                        <div id="rfc.section.6.1.p.1">
                            <p>511 状态码旨在缓解“强制门户”（captive
                                portals）对期望从请求所指向的服务器获得响应的软件（尤其是非浏览器代理）造成的问题，而不是鼓励部署强制门户——仅用于限制其造成的损害。</p>
                        </div>
                        <div id="rfc.section.6.1.p.2">
                            <p>希望在授予访问权限之前要求某些认证、接受条款或其他用户交互的网络运营者通常通过其媒体访问控制（MAC）地址来识别尚未完成这些操作的客户端（“未知客户端”）。</p>
                        </div>
                        <div id="rfc.section.6.1.p.3">
                            <p>对于未知客户端，通常会阻止所有流量，除了 TCP 端口 80 的流量会被发送到一个专用于“登录”未知客户端的 HTTP 服务器（“登录服务器”），以及发往登录服务器本身的流量。
                            </p>
                        </div>
                        <div id="rfc.section.6.1.p.4" class="avoidbreakafter">
                            <p>例如，用户代理可能连接到网络并在 TCP 端口 80 上发出如下 HTTP 请求：</p>
                        </div>
                        <div id="rfc.figure.u.4">
                            <div>
                                <pre class="text2">
GET /index.htm HTTP/1.1
Host: www.example.com
</pre>
                            </div>
                        </div>
                        <div id="rfc.section.6.1.p.5" class="avoidbreakafter">
                            <p>登录服务器在接收到此类请求后会生成一个 511 响应：</p>
                        </div>
                        <div id="rfc.figure.u.5">
                            <div>
                                <pre class="text">
HTTP/1.1 511 需要网络认证
Content-Type: text/html

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;需要网络认证&lt;/title&gt;
      &lt;meta http-equiv="refresh" 
            content="0; url=https://login.example.net/"&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;p&gt;您需要在本地网络上 &lt;a href="https://login.example.net/"&gt;
      进行认证&lt;/a&gt; 才能获得访问权限。&lt;/p&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
                            </div>
                        </div>
                        <div id="rfc.section.6.1.p.6">
                            <p>在这里，511 状态码可以保证非浏览器客户端不会将响应解释为来自源服务器，并且 META HTML 元素会将用户代理重定向到登录服务器。</p>
                        </div>
                    </section>
                </section>
                <section id="security-considerations">
                    <h2 id="rfc.section.7"><a href="#rfc.section.7">7.</a>&nbsp;<a
                            href="#security-considerations">安全性考虑</a></h2>
                    <section id="n-428-precondition-required">
                        <h3 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1.</a>&nbsp;<a
                                href="#n-428-precondition-required">428 需要先决条件</a></h3>
                        <div id="rfc.section.7.1.p.1">
                            <p>428 状态码是可选的；客户端不能依赖其来防止“丢失更新”冲突。</p>
                        </div>
                    </section>
                    <section id="n-429-too-many-requests">
                        <h3 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2.</a>&nbsp;<a
                                href="#n-429-too-many-requests">429 请求过多</a></h3>
                        <div id="rfc.section.7.2.p.1">
                            <p>当服务器受到攻击或仅仅是从单一方收到了非常大量的请求时，用 429 状态码响应每个请求会消耗资源。</p>
                        </div>
                        <div id="rfc.section.7.2.p.2">
                            <p>因此，服务器没有义务使用 429 状态码；在限制资源使用时，直接丢弃连接或采取其他措施可能更为合适。</p>
                        </div>
                    </section>
                    <section id="n-431-request-header-fields-too-large">
                        <h3 id="rfc.section.7.3"><a href="#rfc.section.7.3">7.3.</a>&nbsp;<a
                                href="#n-431-request-header-fields-too-large">431 请求报头字段过大</a>
                        </h3>
                        <div id="rfc.section.7.3.p.1">
                            <p>服务器没有义务使用 431 状态码；在遭受攻击时，直接丢弃连接或采取其他措施可能更为合适。</p>
                        </div>
                    </section>
                    <section id="n-511-network-authentication-required">
                        <h3 id="rfc.section.7.4"><a href="#rfc.section.7.4">7.4.</a>&nbsp;<a
                                href="#n-511-network-authentication-required">511 需要网络认证</a>
                        </h3>
                        <div id="rfc.section.7.4.p.1">
                            <p>在常见用法中，携带 511 状态码的响应并不会来自请求 URL 中指示的源服务器。这会带来许多安全问题；例如，攻击性的中间人可能会将 cookie
                                插入到原域名空间，可能会观察到从用户代理发送的 cookie 或 HTTP 认证凭证，等等。</p>
                        </div>
                        <div id="rfc.section.7.4.p.2">
                            <p>然而，这些风险并非 511 状态码独有；换言之，没有使用该状态码的强制门户也会引入相同的问题。</p>
                        </div>
                        <div id="rfc.section.7.4.p.3">
                            <p>此外，请注意，在安全套接层（SSL）或传输层安全（TLS）连接（通常为端口 443）上使用该状态码的强制门户会在客户端产生证书错误。</p>
                        </div>
                    </section>
                </section>
                <section id="n-iana-considerations">
                    <h2 id="rfc.section.8"><a href="#rfc.section.8">8.</a>&nbsp;<a href="#n-iana-considerations">IANA
                            注意事项</a></h2>
                    <div id="rfc.section.8.p.1" class="avoidbreakafter">
                        <p>HTTP 状态码注册表已使用以下条目进行更新：</p>
                    </div>
                    <div id="rfc.section.8.p.2">
                        <ul class="empty">
                            <li>Value: 428</li>
                            <li>Description: Precondition Required</li>
                            <li>Reference: [RFC6585]</li>
                        </ul>
                    </div>
                    <div id="rfc.section.8.p.3">
                        <ul class="empty">
                            <li>Value: 429</li>
                            <li>Description: Too Many Requests</li>
                            <li>Reference: [RFC6585]</li>
                        </ul>
                    </div>
                    <div id="rfc.section.8.p.4">
                        <ul class="empty">
                            <li>Value: 431</li>
                            <li>Description: Request Header Fields Too Large</li>
                            <li>Reference: [RFC6585]</li>
                        </ul>
                    </div>
                    <div id="rfc.section.8.p.5">
                        <ul class="empty">
                            <li>Value: 511</li>
                            <li>Description: Network Authentication Required</li>
                            <li>Reference: [RFC6585]</li>
                        </ul>
                    </div>
                </section>
                <section id="rfc.references">
                    <h2 id="rfc.section.9"><a href="#rfc.section.9">9.</a> 参考文献</h2>
                    <section>
                        <div id="rfc.references.1">
                            <h3 id="rfc.section.9.1"><a href="#rfc.section.9.1">9.1.</a> 规范性引用文献</h3>
                            <dl class="dl-horizontal">
                                <dt id="RFC2119">[<a href="#RFC2119" class="smpl">RFC2119</a>]</dt>
                                <dd><a href="mailto:sob@harvard.edu">Bradner, S.</a>, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc2119.html">在 RFC 中用于指示要求级别的关键词</a>”, <a
                                        href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>, RFC 2119, 1997 年 3 月。
                                </dd>
                                <dt id="RFC2616">[<a href="#RFC2616" class="smpl">RFC2616</a>]</dt>
                                <dd><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a
                                        href="mailto:jg@w3.org">Gettys, J.</a>, <a
                                        href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a
                                        href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a
                                        href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a
                                        href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a
                                        href="mailto:timbl@w3.org">T. Berners-Lee</a>, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc2616.html">超文本传输协议 -- HTTP/1.1</a>”, RFC
                                    2616, 1999 年 6 月。</dd>
                            </dl>
                        </div>
                    </section>
                    <section>
                        <div id="rfc.references.2">
                            <h3 id="rfc.section.9.2"><a href="#rfc.section.9.2">9.2.</a> 参考性引用文献</h3>
                            <dl class="dl-horizontal">
                                <dt id="CORS">[<a href="#CORS" class="smpl">CORS</a>]</dt>
                                <dd>van Kesteren, A., Ed., “<a href="http://www.w3.org/TR/cors/">跨域资源共享</a>”, W3C 工作草案
                                    WD-cors-20100727, 2010 年 7 月, &lt;<a
                                        href="http://www.w3.org/TR/cors/">http://www.w3.org/TR/cors/</a>&gt;。</dd>
                                <dt id="Favicon">[<a href="#Favicon" class="smpl">Favicon</a>]</dt>
                                <dd>Wikipedia, “<a
                                        href="http://en.wikipedia.org/w/index.php?title=Favicon&amp;oldid=484627550">Favicon</a>”,
                                    2012 年 3 月, &lt;<a
                                        href="http://en.wikipedia.org/w/index.php?title=Favicon&amp;oldid=484627550">http://en.wikipedia.org/w/index.php?title=Favicon&amp;oldid=484627550</a>&gt;。
                                </dd>
                                <dt id="OAuth2.0">[<a href="#OAuth2.0" class="smpl">OAuth2.0</a>]</dt>
                                <dd>Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, “OAuth 2.0 授权协议”, 工作进行中, 2012 年 3
                                    月。</dd>
                                <dt id="P3P">[<a href="#P3P" class="smpl">P3P</a>]</dt>
                                <dd>Marchiori, M., Ed., “<a href="http://www.w3.org/TR/P3P/">隐私偏好平台 1.0 (P3P1.0)
                                        规范</a>”, W3C 推荐 REC-P3P-20020416, 2002 年 4 月, &lt;<a
                                        href="http://www.w3.org/TR/P3P/">http://www.w3.org/TR/P3P/</a>&gt;。</dd>
                                <dt id="RFC4791">[<a href="#RFC4791" class="smpl">RFC4791</a>]</dt>
                                <dd><a href="mailto:cyrus@daboo.name">Daboo, C.</a>, <a
                                        href="mailto:bernard.desruisseaux@oracle.com">Desruisseaux, B.</a>, and <a
                                        href="mailto:ldusseault@commerce.net">L. Dusseault</a>, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc4791.html">WebDAV 的日历扩展 (CalDAV)</a>”,
                                    RFC 4791, 2007 年 3 月。</dd>
                                <dt id="RFC4918">[<a href="#RFC4918" class="smpl">RFC4918</a>]</dt>
                                <dd>Dusseault, L., Ed., “<a
                                        href="https://www.rfc-editor.org/rfc/rfc4918.html">用于网络分布式创作与版本控制的 HTTP 扩展
                                        (WebDAV)</a>”, RFC 4918, 2007 年 6 月。</dd>
                                <dt id="WIDGETS">[<a href="#WIDGETS" class="smpl">WIDGETS</a>]</dt>
                                <dd>Caceres, M., Ed., “<a href="http://www.w3.org/TR/widgets/">Widget 打包与 XML 配置</a>”,
                                    W3C 推荐 REC-widgets-20110927, 2011 年 9 月, &lt;<a
                                        href="http://www.w3.org/TR/widgets/">http://www.w3.org/TR/widgets/</a>&gt;。
                                </dd>
                                <dt id="WebFinger">[<a href="#WebFinger" class="smpl">WebFinger</a>]</dt>
                                <dd>WebFinger 项目, “<a
                                        href="http://code.google.com/p/webfinger/wiki/WebFingerProtocol">WebFinger 协议
                                        (草案)</a>”, 2010 年 1 月, &lt;<a
                                        href="http://code.google.com/p/webfinger/wiki/WebFingerProtocol">http://code.google.com/p/webfinger/wiki/WebFingerProtocol</a>&gt;。
                                </dd>
                            </dl>
                        </div>
                    </section>
                </section>
                <section id="n-acknowledgements">
                    <h2 id="rfc.section.A" class="np"><a href="#rfc.section.A">Appendix A.</a>&nbsp;<a
                            href="#n-acknowledgements">致谢</a></h2>
                    <div id="rfc.section.A.p.1">
                        <p>感谢 Jan Algermissen 和 Julian Reschke 的建议与反馈。</p>
                    </div>
                </section>
                <section id="issues-511">
                    <h2 id="rfc.section.B"><a href="#rfc.section.B">Appendix B.</a>&nbsp;<a
                            href="#issues-511">由强制门户引发的问题</a></h2>
                    <div id="rfc.section.B.p.1">
                        <p>由于客户端无法区分门户的响应与它们本意要通信的 HTTP 服务器的响应，会产生许多问题。511 状态码旨在帮助缓解其中的一些问题。</p>
                    </div>
                    <div id="rfc.section.B.p.2">
                        <p>一个例子是浏览器常用来标识被访问站点的 "favicon.ico" <a href="#Favicon"><cite
                                    title="Favicon">[Favicon]</cite></a>。如果某个站点的 favicon
                            被从强制门户而非目标站点获取（例如因为用户未认证），它常常会被浏览器的缓存“粘住”（大多数实现对 favicon 的缓存非常激进），超出门户会话的时间范围，从而看起来门户的
                            favicon 已“接管”了合法站点。</p>
                    </div>
                    <div id="rfc.section.B.p.3">
                        <p>另一个基于浏览器的问题出现在支持隐私偏好平台 <a href="#P3P"><cite
                                    title="The Platform for Privacy Preferences 1.0 (P3P1.0) Specification">[P3P]</cite></a>
                            时。取决于其实现方式，浏览器可能会将门户对 p3p.xml 文件的响应解释为服务器的响应，导致门户所声明的隐私策略（或缺乏隐私策略）被解释为适用于目标站点。其他基于 Web 的协议例如
                            WebFinger <a href="#WebFinger"><cite
                                    title="WebFingerProtocol (Draft)">[WebFinger]</cite></a>、跨域资源共享 <a
                                href="#CORS"><cite title="Cross-Origin Resource Sharing">[CORS]</cite></a> 和开放授权 <a
                                href="#OAuth2.0"><cite
                                    title="The OAuth 2.0 Authorization Protocol">[OAuth2.0]</cite></a> 也可能受到此类问题的影响。</p>
                    </div>
                    <div id="rfc.section.B.p.4">
                        <p>尽管 HTTP 在浏览器中最为广泛使用，但越来越多的非浏览器应用程序将其用作底层协议。例如，网络分布式创作与版本控制 (WebDAV) <a href="#RFC4918"><cite
                                    title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite></a>
                            和 WebDAV 的日历扩展 (CalDAV) <a href="#RFC4791"><cite
                                    title="Calendaring Extensions to WebDAV (CalDAV)">[RFC4791]</cite></a> 都以 HTTP
                            为基础（分别用于远程创作和日历）。在强制门户后使用这些应用可能导致向用户显示虚假的错误，极端情况下可能导致内容损坏。</p>
                    </div>
                    <div id="rfc.section.B.p.5">
                        <p>同样，其他使用 HTTP 的非浏览器应用也可能受到影响，例如小部件 <a href="#WIDGETS"><cite
                                    title="Widget Packaging and XML Configuration">[WIDGETS]</cite></a>、软件更新，以及其他专用软件如
                            Twitter 客户端和 iTunes 音乐商店。</p>
                    </div>
                    <div id="rfc.section.B.p.6">
                        <p>应注意，有时人们认为使用 HTTP 重定向将流量导向门户可以解决这些问题。然而，由于许多使用场景会“跟随”重定向，这并不是一个好的解决方案。</p>
                    </div>
                </section>
                <section id="rfc.authors" class="avoidbreakinside">
                    <h2><a href="#rfc.authors">Authors' Addresses</a></h2>
                    <address><b>Mark Nottingham</b><br>Rackspace<br>Email: <a
                            href="mailto:mnot@mnot.net">mnot@mnot.net</a><br>URI: <a
                            href="http://www.mnot.net/">http://www.mnot.net/</a></address>
                    <address><b>Roy T. Fielding</b><br>Adobe Systems Incorporated<br>345 Park Ave.<br>San Jose, CA
                        95110<br>USA<br>Email: <a href="mailto:fielding@gbiv.com">fielding@gbiv.com</a><br>URI: <a
                            href="http://roy.gbiv.com/">http://roy.gbiv.com/</a></address>
                </section>
            </div>
        </div>
    </div>
    <script src="https://httpwg.org/assets/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="https://httpwg.org/assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/dropdown.js"></script>
</body>

</html>