<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="zh-hans">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RFC 7694 - 超文本传输协议 (HTTP) 客户端发起的内容编码</title>
    <script>
        function getMeta(rfcno, container) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "https://www.rfc-editor.org/rfc/rfc" + rfcno + ".json", true);
            xhr.onload = function (e) {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        var data = JSON.parse(xhr.response);

                        var cont = document.getElementById(container);
                        // empty the container
                        while (cont.firstChild) {
                            cont.removeChild(myNode.firstChild);
                        }

                        var c = data.status;
                        if (c) {
                            var bld = newElementWithText("b", c);
                            cont.appendChild(bld);
                        } else {
                            cont.appendChild(newElementWithText("i", "(document status unknown)"));
                        }

                        c = data.updated_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Updated by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.obsoleted_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Obsoleted by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.errata_url;
                        if (c) {
                            cont.appendChild(newElement("br"));
                            var link = newElementWithText("a", "errata");
                            link.setAttribute("href", c);
                            var errata = newElementWithText("i", "This document has ");
                            errata.appendChild(link);
                            errata.appendChild(newText("."));
                            cont.appendChild(errata);
                        }

                        cont.style.display = "block";
                    } else {
                        console.error(xhr.statusText);
                    }
                }
            };
            xhr.onerror = function (e) {
                console.error(xhr.status + " " + xhr.statusText);
            };
            xhr.send(null);
        }
        function appendRfcLinks(parent, updates) {
            var template = "https://www.rfc-editor.org/rfc/rfc{rfc}.html";
            for (var i = 0; i < updates.length; i++) {
                var rfc = updates[i].trim().toLowerCase();
                if (rfc.substring(0, 3) == "rfc") {
                    var no = parseInt(rfc.substring(3), 10);

                    var link = newElement("a");
                    link.setAttribute("href", template.replace("{rfc}", no));
                    link.appendChild(newText(no));
                    parent.appendChild(link);
                } else {
                    parent.appendChild(newText(rfc));
                }
                if (i != updates.length - 1) {
                    parent.appendChild(newText(", "));
                }
            }
        }

        // DOM helpers
        function newElement(name) {
            return document.createElement(name);
        }
        function newElementWithText(name, txt) {
            var e = document.createElement(name);
            e.appendChild(newText(txt));
            return e;
        }
        function newText(text) {
            return document.createTextNode(text);
        }
    </script>
    <script>
        function anchorRewrite() {
            map = {};
            if (window.location.hash.length >= 1) {
                var fragid = window.location.hash.substr(1);
                if (fragid) {
                    if (!document.getElementById(fragid)) {
                        var prefix = "rfc.";
                        var mapped = map[fragid];
                        if (mapped) {
                            window.location.hash = mapped;
                        } else if (fragid.indexOf("section-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(8).replace("-", ".p.");
                        } else if (fragid.indexOf("appendix-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(9).replace("-", ".p.");
                        } else if (fragid.indexOf("s-") == 0) {
                            var postfix = fragid.substring(2);
                            if (postfix.startsWith("abstract")) {
                                window.location.hash = prefix + postfix;
                            } else if (postfix.startsWith("note-")) {
                                window.location.hash = prefix + "note." + postfix.substring(5).replace("-", ".p.");
                            } else {
                                window.location.hash = prefix + "section." + postfix.replace("-", ".p.");
                            }
                        } else if (fragid.indexOf("p-") == 0) {
                            var r = fragid.substring(2);
                            var p = r.indexOf("-");
                            if (p >= 0) {
                                window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
                            }
                        }
                    }
                }
            }
        }
        window.addEventListener('hashchange', anchorRewrite);
        window.addEventListener('DOMContentLoaded', anchorRewrite);
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="article">
    <meta property="og:title" content="RFC7694">
    <meta property="og:description" content="Hypertext Transfer Protocol (HTTP) Client-Initiated Content-Encoding">
    <meta property="og:url" content="https://httpwg.org/specs/rfc7694.html">
    <meta property="og:site_name" content="IETF HTTP Working Group Specifications">
    <meta property="og:image" content="https://httpwg.org/assets/favicon/apple-icon-180x180.png">
    <link rel="stylesheet" type="text/css"
        href="https://httpwg.org/assets/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <style type="text/css">
        body {
            padding-top: 80px;
            padding-bottom: 80px;
            position: relative;
        }

        .table.header th,
        .table.header td {
            border-top: none;
            padding: 0;
        }

        #sidebar {
            margin-top: -10px;
            height: 90%;
            overflow-y: auto;
            font-size: 90%;
        }

        #rfc\.meta {
            width: 40%;
            float: right
        }

        .toc ul {
            list-style: none;
        }

        .filename {
            color: rgb(119, 119, 119);
            font-size: 23px;
            font-weight: normal;
            height: auto;
            line-height: 23px;
        }

        dl {
            margin-left: 1em;
        }

        dl.dl-horizontal {
            margin-left: 0;
        }

        dl>dt {
            float: left;
            margin-right: 1em;
        }

        dl.nohang>dt {
            float: none;
        }

        dl>dd {
            margin-bottom: .5em;
        }

        dl.compact>dd {
            margin-bottom: 0em;
        }

        dl>dd>dl {
            margin-top: 0.5em;
            margin-bottom: 0em;
        }

        ul.empty {
            list-style-type: none;
        }

        ul.empty li {
            margin-top: .5em;
        }

        td.reference {
            padding-right: 1em;
            vertical-align: top;
        }

        .feedback {
            position: fixed;
            bottom: 5px;
            right: 5px;
        }

        .fbbutton {
            margin-left: 5px;
        }

        h1 a,
        h2 a,
        h3 a,
        h4 a,
        h5 a,
        h6 a {
            color: rgb(51, 51, 51);
        }

        span.tt {
            font: 11pt consolas, monospace;
            font-size-adjust: none;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="https://httpwg.org/assets/site.css">
    <link rel="Contents" href="#rfc.toc">
    <link rel="Author" href="#rfc.authors">
    <link rel="License" href="#rfc.copyrightnotice">
    <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
    <link rel="Chapter" title="2 Notational Conventions" href="#rfc.section.2">
    <link rel="Chapter" title="3 Using the 'Accept-Encoding' Header Field in Responses" href="#rfc.section.3">
    <link rel="Chapter" title="4 Example" href="#rfc.section.4">
    <link rel="Chapter" title="5 Deployment Considerations" href="#rfc.section.5">
    <link rel="Chapter" title="6 Security Considerations" href="#rfc.section.6">
    <link rel="Chapter" title="7 IANA Considerations" href="#rfc.section.7">
    <link rel="Chapter" title="8 References" href="#rfc.section.8">
    <link rel="Appendix" title="Acknowledgements" href="#rfc.section.unnumbered-1">
    <link rel="Alternate" title="Plain Text Version" href="http://www.ietf.org/rfc/rfc7694.txt">
    <link rel="Help" title="RFC-Editor's Status Page" href="http://www.rfc-editor.org/info/rfc7694">
    <meta name="viewport" content="initial-scale=1">
    <meta name="generator"
        content="https://github.com/mnot/RFCBootstrap XSLT vendor: Saxonica http://www.saxonica.com/">
    <meta name="keywords" content="HTTP, content-encoding">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.creator" content="Reschke, J. F.">
    <meta name="dcterms.identifier" content="urn:ietf:rfc:7694">
    <meta name="dcterms.issued" content="2015-11">
    <meta name="dcterms.abstract"
        content="In HTTP, content codings allow for payload encodings such as for compression or integrity checks. In particular, the &#34;gzip&#34; content coding is widely used for payload data sent in response messages. Content codings can be used in request messages as well; however, discoverability is not on par with response messages. This document extends the HTTP &#34;Accept-Encoding&#34; header field for use in responses, to indicate the content codings that are supported in requests.">
    <meta name="dcterms.isPartOf" content="urn:issn:2070-1721">
    <meta name="description"
        content="In HTTP, content codings allow for payload encodings such as for compression or integrity checks. In particular, the &#34;gzip&#34; content coding is widely used for payload data sent in response messages. Content codings can be used in request messages as well; however, discoverability is not on par with response messages. This document extends the HTTP &#34;Accept-Encoding&#34; header field for use in responses, to indicate the content codings that are supported in requests.">
</head>

<body onload="getMeta(7694,'rfc.meta');">
    <nav class="navbar navbar-dark bg-dark d-print-none navbar-expand-lg fixed-top ps-3 pe-3" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse"
                aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand" href="https://httpwg.org/"><img src="https://httpwg.org/assets/http.svg"
                    height="23"></a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">

            <div class="navbar-nav me-auto">

                <a class="nav-item ms-1 text-white" href="https://httpwg.org/specs/">📄 Documentation</a>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Work in
                        Progress</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/http-extensions/">HTTP Extensions</a></li>
                        <li class="dropdown-item"><a
                                href="https://github.com/httpwg/admin/issues?q=is%3Aissue+is%3Aopen+label%3Aadoption">Future
                                Work</a></li>
                    </ul>
                </div>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Participate</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/about/">About the HTTP Working Group</a>
                        </li>
                        <li class="divider"></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/CONTRIBUTING.html">Contribution Policy</a>
                        </li>
                        <li class="dropdown-item"><a href="http://datatracker.ietf.org/wg/httpbis/charter/">WG
                                Charter</a></li>
                        <li class="dropdown-item"><a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">Group
                                Mailing List 📨</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/wg-materials/">Meeting Materials</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/admin/editors/">Document Editor
                                Resources</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>
    <div class="container" id="top">
        <div class="row">
            <div class="col-lg-4 order-last d-none d-lg-block" id="sidebar" role="navigation">
                <div class="navbar">
                    <div class="navbar-brand"><a href="#top"><strong>RFC </strong>7694</a></div><br clear="all">
                    <div class="">
                        <div class="toc ">
                            <ul>
                                <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#introduction">引言</a></li>
                                <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#notational.conventions">符号约定</a></li>
                                <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#accept-encoding">在响应中使用
                                        'Accept-Encoding' 首部字段</a></li>
                                <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#example">示例</a></li>
                                <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#deployment.considerations">部署注意事项</a></li>
                                <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#security.considerations">安全性注意事项</a></li>
                                <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#iana.considerations">IANA
                                        注意事项</a>
                                    <ul>
                                        <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.7.1">首部字段注册表</a></li>
                                        <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.7.2">状态码注册表</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">参考文献</a>
                                    <ul>
                                        <li><a href="#rfc.section.8.1">8.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.1">规范性参考文献</a></li>
                                        <li><a href="#rfc.section.8.2">8.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.2">补充性参考文献</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.unnumbered-1">致谢</a></li>
                                <li><a href="#rfc.authors">作者地址</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 order-first main" role="main">
                <header>
                    <table class="table table-condensed header" id="rfc.headerblock">
                        <tbody>
                            <tr>
                                <td class="text-left">互联网工程任务组 (IETF)</td>
                                <td class="text-right">J. Reschke</td>
                            </tr>
                            <tr>
                                <td class="text-left">请求评议：7694</td>
                                <td class="text-right">greenbytes</td>
                            </tr>
                            <tr>
                                <td class="text-left">类别：标准轨道</td>
                                <td class="text-right">2015年11月</td>
                            </tr>
                            <tr>
                                <td class="text-left">ISSN: 2070-1721</td>
                                <td class="text-right"></td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="rfc.title">
                        <h1>超文本传输协议 (HTTP) 客户端发起的内容编码</h1>
                    </div>
                </header>
                <hr>
                <h2 id="rfc.abstract"><a href="#rfc.abstract">摘要</a></h2>
                <div class="lead">
                    <div id="rfc.abstract.p.1">
                        <p>在 HTTP 中，内容编码允许对有效负载进行编码，例如用于压缩或完整性校验。特别地，"gzip" 内容编码被广泛用于响应消息中发送的有效负载数据。</p>
                    </div>
                    <div id="rfc.abstract.p.2">
                        <p>内容编码也可以用于请求消息；然而，其可发现性并不如响应消息。本文件扩展了 HTTP 的 "Accept-Encoding" 首部字段以用于响应中，表明在请求中支持的内容编码。</p>
                    </div>
                </div>
                <aside id="rfc.meta" class="alert alert-info"></aside>
                <section id="rfc.status">
                    <h2><a href="#rfc.status">本备忘录的状态</a></h2>
                    <div id="rfc.boilerplate.1.p.1">
                        <p>这是一个互联网标准轨道文档。</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.2">
                        <p>本文件是互联网工程任务组 (IETF) 的成果，代表 IETF 社区的共识。它已获得公开评审，并由互联网工程指导小组 (IESG) 批准发布。有关互联网标准的更多信息，请参见 <a
                                href="https://www.rfc-editor.org/rfc/rfc5741.html#section-2">RFC 5741 第2节</a>。</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.3">
                        <p>有关本文档当前状态、任何勘误及如何提供反馈的信息，可从 <a
                                href="http://www.rfc-editor.org/info/rfc7694">http://www.rfc-editor.org/info/rfc7694</a>
                            获取。</p>
                    </div>
                </section>
                <section id="rfc.copyrightnotice">
                    <h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2>
                    <div id="rfc.boilerplate.2.p.1">
                        <p>Copyright (c) 2015 IETF Trust and the persons identified as the document authors. All rights
                            reserved.</p>
                    </div>
                    <div id="rfc.boilerplate.2.p.2">
                        <p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF
                            Documents (<a
                                href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in
                            effect on the date of publication of this document. Please review these documents carefully,
                            as they describe your rights and restrictions with respect to this document. Code Components
                            extracted from this document must include Simplified BSD License text as described in
                            Section 4.e of the Trust Legal Provisions and are provided without warranty as described in
                            the Simplified BSD License.</p>
                    </div>
                </section>
                <div class="toc d-lg-none">
                    <ul>
                        <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#introduction">引言</a>
                        </li>
                        <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#notational.conventions">符号约定</a>
                        </li>
                        <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#accept-encoding">在响应中使用
                                'Accept-Encoding' 首部字段</a></li>
                        <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#example">示例</a></li>
                        <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#deployment.considerations">部署注意事项</a></li>
                        <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#security.considerations">安全性
                                注意事项</a></li>
                        <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#iana.considerations">IANA
                                注意事项</a>
                            <ul>
                                <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.7.1">首部字段注册表</a></li>
                                <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.7.2">状态码注册表</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">参考文献</a>
                            <ul>
                                <li><a href="#rfc.section.8.1">8.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.1">规范性参考文献</a></li>
                                <li><a href="#rfc.section.8.2">8.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.2">补充性参考文献</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.unnumbered-1">致谢</a></li>
                        <li><a href="#rfc.authors">作者地址</a></li>
                    </ul>
                </div>
                <section id="introduction">
                    <h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a
                            href="#introduction">引言</a></h2>
                    <div id="rfc.section.1.p.1">
                        <p>在 HTTP 中，内容编码允许对有效负载进行编码，例如用于压缩或完整性校验（<a href="#RFC7231"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite></a>，
                            <a href="rfc7231.html#data.encoding" title="Encoding for Compression or Integrity">第 3.1.2
                                节</a>）。
                            特别地，“gzip” 内容编码（<a href="#RFC7230"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[RFC7230]</cite></a>，
                            <a href="rfc7230.html#compression.codings" title="Compression Codings">第 4.2
                                节</a>）被广泛用于响应消息中发送的有效负载数据。
                        </p>
                    </div>
                    <div id="rfc.section.1.p.2">
                        <p>内容编码也可以用于请求消息；然而，其可发现性不如响应消息。本文件扩展了 HTTP 的 "Accept-Encoding" 首部字段（<a href="#RFC7231"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite></a>，
                            <a href="rfc7231.html#header.accept-encoding" title="Accept-Encoding">第 5.3.4 节</a>）以在响应中使用，
                            用于指示在请求中支持的内容编码。此外，它还更新了状态码 415（Unsupported Media Type， 不支持的媒体类型）（<a href="#RFC7231"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite></a>，
                            <a href="rfc7231.html#status.415" title="415 Unsupported Media Type">第 6.5.13 节</a>）的定义，
                            建议在适当时包含 "Accept-Encoding" 首部字段。
                        </p>
                    </div>
                </section>
                <section id="notational.conventions">
                    <h2 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a
                            href="#notational.conventions">符号约定</a></h2>
                    <div id="rfc.section.2.p.1">
                        <p>文中关键词 "MUST"、"MUST NOT"、"REQUIRED"、"SHALL"、"SHALL NOT"、"SHOULD"、"SHOULD NOT"、
                            "RECOMMENDED"、"MAY" 和 "OPTIONAL" 应按 <a href="#RFC2119"><cite
                                    title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>
                            的说明来解释。
                        </p>
                    </div>
                    <div id="rfc.section.2.p.2">
                        <p>本文件重用基础 HTTP 规范中定义的术语，即 <a href="rfc7230.html#architecture" title="Architecture">第 2 节</a>（见
                            <a href="#RFC7230"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[RFC7230]</cite></a>）
                            与 <a href="rfc7231.html#data.encoding" title="Encoding for Compression or Integrity">第 3.1.2
                                节</a>（见 <a href="#RFC7231"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite></a>）。
                        </p>
                    </div>
                </section>
                <section id="accept-encoding">
                    <h2 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a href="#accept-encoding">在响应中使用
                            'Accept-Encoding' 首部字段</a></h2>
                    <div id="rfc.section.3.p.1">
                        <p><a href="rfc7231.html#header.accept-encoding" title="Accept-Encoding">RFC7231 第 5.3.4 节</a>
                            将 "Accept-Encoding" 定义为仅用于请求的首部字段。</p>
                    </div>
                    <div id="rfc.section.3.p.2">
                        <p>本规范扩展该定义，允许将 "Accept-Encoding" 用作响应首部字段。当它出现在响应中时，表示该资源在关联的请求中愿意接受哪些内容编码。字段值仅包含 "identity"
                            则意味着不支持任何内容编码。</p>
                    </div>
                    <div id="rfc.section.3.p.3">
                        <p>注意这些信息是针对于关联请求特定的；同一服务器上其他资源支持的编码集合可能不同，并且可能随时间变化或取决于请求的其他方面（例如请求方法）。</p>
                    </div>
                    <div id="rfc.section.3.p.4">
                        <p><a href="rfc7231.html#status.415" title="415 Unsupported Media Type">RFC7231 第 6.5.13 节</a>
                            将状态码 415（Unsupported Media Type）定义为适用于与媒体类型和内容编码相关的问题。</p>
                    </div>
                    <div id="rfc.section.3.p.5">
                        <p>因不受支持的内容编码而导致请求失败的服务器应当使用 415 状态响应，并且应当在该响应中包含 "Accept-Encoding"
                            首部字段，便于客户端区分与内容编码相关的问题与媒体类型相关的问题。为避免与媒体类型相关的问题混淆，服务器若因与内容编码无关的原因返回 415，则 <em
                                class="bcp14">不得</em> 在响应中包含 "Accept-Encoding" 首部字段。</p>
                    </div>
                    <div id="rfc.section.3.p.6">
                        <p>预期在响应中使用 "Accept-Encoding" 最常见的情形是与 415（Unsupported Media
                            Type）状态码一起，用于响应客户端对请求中乐观使用的内容编码失败的情况。然而，该首部字段也可用于向客户端指示支持哪些内容编码，以优化未来的交互。例如，当请求有效负载足够大以值得使用压缩编码但客户端未使用时，资源可能在
                            2xx 响应中包含该字段。</p>
                    </div>
                </section>
                <section id="example">
                    <h2 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a href="#example">示例</a></h2>
                    <div id="rfc.section.4.p.1" class="avoidbreakafter">
                        <p>客户端提交了一个使用 "compress" 内容编码的 POST 请求（<a href="#RFC7231"><cite
                                    title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[RFC7231]</cite></a>，
                            <a href="rfc7231.html#content.codings" title="Content Codings">第 3.1.2.1 节</a>）：
                        </p>
                    </div>
                    <div id="rfc.figure.u.1">
                        <div>
                            <pre class="text2">POST /edit/ HTTP/1.1
Host: example.org
Content-Type: application/atom+xml;type=entry
Content-Encoding: compress

...compressed payload...
</pre>
                        </div>
                    </div>
                    <div id="rfc.section.4.p.2" class="avoidbreakafter">
                        <p>服务器拒绝该请求，因为它只允许 "gzip" 内容编码：</p>
                    </div>
                    <div id="rfc.figure.u.2">
                        <div>
                            <pre class="text">HTTP/1.1 415 Unsupported Media Type
Date: Fri, 09 May 2014 11:43:53 GMT
Accept-Encoding: gzip
Content-Length: 68
Content-Type: text/plain

<span id="exbody">This resource only supports the "gzip" content coding in requests.
</span></pre>
                        </div>
                    </div>
                    <div id="rfc.section.4.p.3">
                        <p>此时，客户端可以使用受支持的 "gzip" 内容编码重试该请求。</p>
                    </div>
                    <div id="rfc.section.4.p.4" class="avoidbreakafter">
                        <p>或者，不支持请求中任何内容编码的服务器可以返回：</p>
                    </div>
                    <div id="rfc.figure.u.3">
                        <div>
                            <pre class="text">HTTP/1.1 415 Unsupported Media Type
Date: Fri, 09 May 2014 11:43:53 GMT
Accept-Encoding: identity
Content-Length: 61
Content-Type: text/plain

<span id="exbody2">This resource does not support content codings in requests.
</span></pre>
                        </div>
                    </div>
                </section>
                <section id="deployment.considerations">
                    <h2 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a
                            href="#deployment.considerations">部署注意事项</a></h2>
                    <div id="rfc.section.5.p.1">
                        <p>不支持请求中内容编码的服务器已被要求对使用内容编码的请求返回失败。<a href="rfc7231.html#status.415"
                                title="415 Unsupported Media Type">RFC7231 第 6.5.13 节</a> 为此目的定义了 415
                            状态码，因此唯一需要的更改是在该响应中包含值为 "identity" 的 "Accept-Encoding" 首部字段。</p>
                    </div>
                    <div id="rfc.section.5.p.2">
                        <p>支持某些内容编码的服务器也被要求对不受支持的内容编码的请求返回失败。为了符合本规范，服务器需要使用状态码 415 来标识问题，并且必须在响应中包含列举所支持内容编码的
                            "Accept-Encoding" 首部字段。由于支持的内容编码集合通常是静态且较小的，添加该首部字段应该是很容易的。</p>
                    </div>
                </section>
                <section id="security.considerations">
                    <h2 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;<a
                            href="#security.considerations">安全性注意事项</a></h2>
                    <div id="rfc.section.6.p.1">
                        <p>本规范仅增加了对支持的内容编码的发现以及因不受支持的内容编码导致请求失败时的诊断。因此，它并未引入超出 HTTP/1.1（见 <a
                                href="rfc7231.html#security.considerations" title="Security Considerations">第 9 节</a>）
                            与 HTTP/2（见 <a href="https://www.rfc-editor.org/rfc/rfc7540.html#section-10"
                                title="Security Considerations">第 10 节</a>）中已存在的安全注意事项之外的新问题。</p>
                    </div>
                    <div id="rfc.section.6.p.2">
                        <p>不过，更好的可发现性和诊断旨在使在请求中使用内容编码更容易。这可能导致对像 gzip 这样的压缩编码的使用增加（参见 <a
                                href="rfc7230.html#compression.codings" title="Compression Codings">RFC7230 第 4.2
                                节</a>），而当在安全通道上使用时，可能会使侧信道攻击（例如 BREACH）成为可能（参见 <a
                                href="https://www.rfc-editor.org/rfc/rfc7540.html#section-10.6">RFC7540 第 10.6 节</a> 与
                            <a href="#BREACH"><cite
                                    title="BREACH: Reviving the CRIME Attack">[BREACH]</cite></a>）。在本文件发表时，尚不清楚如何将类
                            BREACH 的攻击应用于 HTTP 请求中的压缩。
                        </p>
                    </div>
                </section>
                <section id="iana.considerations">
                    <h2 id="rfc.section.7"><a href="#rfc.section.7">7.</a>&nbsp;<a href="#iana.considerations">IANA
                            注意事项</a></h2>
                    <section id="n-header-field-registry">
                        <h3 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1.</a>&nbsp;<a
                                href="#n-header-field-registry">首部字段注册表</a></h3>
                        <div id="rfc.section.7.1.p.1">
                            <p>HTTP 首部字段在位于 &lt;<a
                                    href="http://www.iana.org/assignments/message-headers">http://www.iana.org/assignments/message-headers</a>&gt;
                                的 “Message Headers” 注册表中注册，该注册表由 <a href="#BCP90"><cite
                                        title="Registration Procedures for Message Header Fields">[BCP90]</cite></a> 定义。
                            </p>
                        </div>
                        <div id="rfc.section.7.1.p.2" class="avoidbreakafter">
                            <p>本文件更新了 "Accept-Encoding" 首部字段的定义。“永久消息首部字段名”注册表已按如下方式更新：</p>
                        </div>
                        <div id="rfc.table.1" class="table table-condensed table-striped">
                            <div id="iana.header.registration.table"></div>
                            <table class="table table-condensed table-striped full tleft">
                                <thead>
                                    <tr>
                                        <th>Header Field Name</th>
                                        <th>Protocol</th>
                                        <th>Status</th>
                                        <th>Reference</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-left">Accept-Encoding</td>
                                        <td class="text-left">http</td>
                                        <td class="text-left">standard</td>
                                        <td class="text-left"><a href="rfc7231.html#header.accept-encoding"
                                                title="Accept-Encoding">RFC7231 第 5.3.4 节</a> 与本文件第 <a
                                                href="#accept-encoding"
                                                title="Using the 'Accept-Encoding' Header Field in Responses">第 3 节</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                    <section id="n-status-code-registry">
                        <h3 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2.</a>&nbsp;<a
                                href="#n-status-code-registry">状态码注册表</a></h3>
                        <div id="rfc.section.7.2.p.1">
                            <p>HTTP 状态码在位于 &lt;<a
                                    href="http://www.iana.org/assignments/http-status-codes">http://www.iana.org/assignments/http-status-codes</a>&gt;
                                的 “HTTP Status Codes” 注册表中注册。</p>
                        </div>
                        <div id="rfc.section.7.2.p.2" class="avoidbreakafter">
                            <p>本文件更新了状态码 415（Unsupported Media Type）的定义。“HTTP Status Codes” 注册表已按如下方式更新：</p>
                        </div>
                        <div id="rfc.table.2" class="table table-condensed table-striped">
                            <div id="iana.status.code.registration.table"></div>
                            <table class="table table-condensed table-striped full tleft">
                                <thead>
                                    <tr>
                                        <th>Value</th>
                                        <th>Description</th>
                                        <th>Reference</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-left">415</td>
                                        <td class="text-left">Unsupported Media Type</td>
                                        <td class="text-left"><a href="rfc7231.html#status.415"
                                                title="415 Unsupported Media Type">RFC7231 第 6.5.13 节</a> 与本文件第 <a
                                                href="#accept-encoding"
                                                title="Using the 'Accept-Encoding' Header Field in Responses">第 3 节</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                </section>
                <section id="rfc.references">
                    <h2 id="rfc.section.8"><a href="#rfc.section.8">8.</a> 参考文献</h2>
                    <section>
                        <div id="rfc.references.1">
                            <h3 id="rfc.section.8.1"><a href="#rfc.section.8.1">8.1.</a> 规范性参考文献</h3>
                            <dl class="dl-horizontal">
                                <dt id="RFC2119">[<a href="#RFC2119" class="smpl">RFC2119</a>]</dt>
                                <dd><a href="mailto:sob@harvard.edu">Bradner, S.</a>，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc2119.html">Key words for use in RFCs to
                                        Indicate Requirement Levels</a>”，BCP 14, RFC 2119, March 1997。</dd>
                                <dt id="RFC7230">[<a href="#RFC7230" class="smpl">RFC7230</a>]</dt>
                                <dd><a href="mailto:fielding@gbiv.com">Fielding, R., Ed.</a> 和 <a
                                        href="mailto:julian.reschke@greenbytes.de">J. Reschke, Ed.</a>，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc7230.html">Hypertext Transfer Protocol
                                        (HTTP/1.1): Message Syntax and Routing</a>”，RFC 7230, June 2014。</dd>
                                <dt id="RFC7231">[<a href="#RFC7231" class="smpl">RFC7231</a>]</dt>
                                <dd><a href="mailto:fielding@gbiv.com">Fielding, R., Ed.</a> 和 <a
                                        href="mailto:julian.reschke@greenbytes.de">J. Reschke, Ed.</a>，“<a
                                        href="https://www.rfc-editor.org/rfc/rfc7231.html">Hypertext Transfer Protocol
                                        (HTTP/1.1): Semantics and Content</a>”，RFC 7231, June 2014。</dd>
                            </dl>
                        </div>
                    </section>
                    <section>
                        <div id="rfc.references.2">
                            <h3 id="rfc.section.8.2"><a href="#rfc.section.8.2">8.2.</a> 补充性参考文献</h3>
                            <dl class="dl-horizontal">
                                <dt id="BCP90">[<a href="#BCP90" class="smpl">BCP90</a>]</dt>
                                <dd>Klyne, G., Nottingham, M., and J. Mogul, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc3864.html">Registration Procedures for
                                        Message Header Fields</a>”，BCP 90, RFC 3864, September 2004。</dd>
                                <dt id="BREACH">[<a href="#BREACH" class="smpl">BREACH</a>]</dt>
                                <dd>Gluck, Y., Harris, N., and A. Prado, “<a
                                        href="http://breachattack.com/resources/BREACH%20-%20SSL,%20gone%20in%2030%20seconds.pdf">BREACH:
                                        Reviving the CRIME Attack</a>”，July 2013。</dd>
                                <dt id="RFC7540">[<a href="#RFC7540" class="smpl">RFC7540</a>]</dt>
                                <dd>Belshe, M., Peon, R., and M. Thomson, Ed., “<a
                                        href="https://www.rfc-editor.org/rfc/rfc7540.html">Hypertext Transfer Protocol
                                        Version 2 (HTTP/2)</a>”，RFC 7540, May 2015。</dd>
                            </dl>
                        </div>
                    </section>
                </section>
                <section id="n-acknowledgements">
                    <h2 id="rfc.section.unnumbered-1"><a href="#n-acknowledgements">致谢</a></h2>
                    <div id="rfc.section.unnumbered-1.p.1">
                        <p>感谢超文本传输协议工作组的参与者：Amos Jeffries、Ben Campbell、Mark Nottingham、Pete Resnick、Stephen Farrell 和
                            Ted Hardie。</p>
                    </div>
                </section>
                <section id="rfc.authors" class="avoidbreakinside">
                    <h2><a href="#rfc.authors">作者地址</a></h2>
                    <address><b>Julian F. Reschke</b><br>greenbytes GmbH<br>Hafenweg 16<br>Muenster, NW
                        48155<br>Germany<br>Email: <a
                            href="mailto:julian.reschke@greenbytes.de">julian.reschke@greenbytes.de</a><br>URI: <a
                            href="http://greenbytes.de/tech/webdav/">http://greenbytes.de/tech/webdav/</a></address>
                </section>
            </div>
        </div>
    </div>
    <script src="https://httpwg.org/assets/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="https://httpwg.org/assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/dropdown.js"></script>
</body>

</html>