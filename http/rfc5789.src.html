<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RFC 5789 - PATCH Method for HTTP</title>
    <script>
        function getMeta(rfcno, container) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "https://www.rfc-editor.org/rfc/rfc" + rfcno + ".json", true);
            xhr.onload = function (e) {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        var data = JSON.parse(xhr.response);

                        var cont = document.getElementById(container);
                        // empty the container
                        while (cont.firstChild) {
                            cont.removeChild(myNode.firstChild);
                        }

                        var c = data.status;
                        if (c) {
                            var bld = newElementWithText("b", c);
                            cont.appendChild(bld);
                        } else {
                            cont.appendChild(newElementWithText("i", "(document status unknown)"));
                        }

                        c = data.updated_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Updated by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.obsoleted_by;
                        if (c && c.length > 0 && c[0] !== null && c[0].length > 0) {
                            cont.appendChild(newElement("br"));
                            cont.appendChild(newText("Obsoleted by: "));
                            appendRfcLinks(cont, c);
                        }

                        c = data.errata_url;
                        if (c) {
                            cont.appendChild(newElement("br"));
                            var link = newElementWithText("a", "errata");
                            link.setAttribute("href", c);
                            var errata = newElementWithText("i", "This document has ");
                            errata.appendChild(link);
                            errata.appendChild(newText("."));
                            cont.appendChild(errata);
                        }

                        cont.style.display = "block";
                    } else {
                        console.error(xhr.statusText);
                    }
                }
            };
            xhr.onerror = function (e) {
                console.error(xhr.status + " " + xhr.statusText);
            };
            xhr.send(null);
        }
        function appendRfcLinks(parent, updates) {
            var template = "https://www.rfc-editor.org/rfc/rfc{rfc}.html";
            for (var i = 0; i < updates.length; i++) {
                var rfc = updates[i].trim().toLowerCase();
                if (rfc.substring(0, 3) == "rfc") {
                    var no = parseInt(rfc.substring(3), 10);

                    var link = newElement("a");
                    link.setAttribute("href", template.replace("{rfc}", no));
                    link.appendChild(newText(no));
                    parent.appendChild(link);
                } else {
                    parent.appendChild(newText(rfc));
                }
                if (i != updates.length - 1) {
                    parent.appendChild(newText(", "));
                }
            }
        }

        // DOM helpers
        function newElement(name) {
            return document.createElement(name);
        }
        function newElementWithText(name, txt) {
            var e = document.createElement(name);
            e.appendChild(newText(txt));
            return e;
        }
        function newText(text) {
            return document.createTextNode(text);
        }
    </script>
    <script>
        function anchorRewrite() {
            map = {};
            if (window.location.hash.length >= 1) {
                var fragid = window.location.hash.substr(1);
                if (fragid) {
                    if (!document.getElementById(fragid)) {
                        var prefix = "rfc.";
                        var mapped = map[fragid];
                        if (mapped) {
                            window.location.hash = mapped;
                        } else if (fragid.indexOf("section-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(8).replace("-", ".p.");
                        } else if (fragid.indexOf("appendix-") == 0) {
                            window.location.hash = prefix + "section." + fragid.substring(9).replace("-", ".p.");
                        } else if (fragid.indexOf("s-") == 0) {
                            var postfix = fragid.substring(2);
                            if (postfix.startsWith("abstract")) {
                                window.location.hash = prefix + postfix;
                            } else if (postfix.startsWith("note-")) {
                                window.location.hash = prefix + "note." + postfix.substring(5).replace("-", ".p.");
                            } else {
                                window.location.hash = prefix + "section." + postfix.replace("-", ".p.");
                            }
                        } else if (fragid.indexOf("p-") == 0) {
                            var r = fragid.substring(2);
                            var p = r.indexOf("-");
                            if (p >= 0) {
                                window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
                            }
                        }
                    }
                }
            }
        }
        window.addEventListener('hashchange', anchorRewrite);
        window.addEventListener('DOMContentLoaded', anchorRewrite);
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="article">
    <meta property="og:title" content="RFC5789">
    <meta property="og:description" content="PATCH Method for HTTP">
    <meta property="og:url" content="https://httpwg.org/specs/rfc5789.html">
    <meta property="og:site_name" content="IETF HTTP Working Group Specifications">
    <meta property="og:image" content="https://httpwg.org/assets/favicon/apple-icon-180x180.png">
    <link rel="stylesheet" type="text/css" href="/assets/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <style type="text/css">
        body {
            padding-top: 80px;
            padding-bottom: 80px;
            position: relative;
        }

        .table.header th,
        .table.header td {
            border-top: none;
            padding: 0;
        }

        #sidebar {
            margin-top: -10px;
            height: 90%;
            overflow-y: auto;
            font-size: 90%;
        }

        #rfc\.meta {
            width: 40%;
            float: right
        }

        .toc ul {
            list-style: none;
        }

        .filename {
            color: rgb(119, 119, 119);
            font-size: 23px;
            font-weight: normal;
            height: auto;
            line-height: 23px;
        }

        dl {
            margin-left: 1em;
        }

        dl.dl-horizontal: {
            margin-left: 0;
        }

        dl>dt {
            float: left;
            margin-right: 1em;
        }

        dl.nohang>dt {
            float: none;
        }

        dl>dd {
            margin-bottom: .5em;
        }

        dl.compact>dd {
            margin-bottom: 0em;
        }

        dl>dd>dl {
            margin-top: 0.5em;
            margin-bottom: 0em;
        }

        ul.empty {
            list-style-type: none;
        }

        ul.empty li {
            margin-top: .5em;
        }

        td.reference {
            padding-right: 1em;
            vertical-align: top;
        }

        .feedback {
            position: fixed;
            bottom: 5px;
            right: 5px;
        }

        .fbbutton {
            margin-left: 5px;
        }

        h1 a,
        h2 a,
        h3 a,
        h4 a,
        h5 a,
        h6 a {
            color: rgb(51, 51, 51);
        }

        span.tt {
            font: 11pt consolas, monospace;
            font-size-adjust: none;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="/assets/site.css">
    <link rel="Contents" href="#rfc.toc">
    <link rel="Author" href="#rfc.authors">
    <link rel="License" href="#rfc.copyrightnotice">
    <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
    <link rel="Chapter" title="2 The PATCH Method" href="#rfc.section.2">
    <link rel="Chapter" title="3 Advertising Support in OPTIONS" href="#rfc.section.3">
    <link rel="Chapter" title="4 IANA Considerations" href="#rfc.section.4">
    <link rel="Chapter" title="5 Security Considerations" href="#rfc.section.5">
    <link rel="Chapter" title="6 References" href="#rfc.section.6">
    <link rel="Appendix" title="A Acknowledgements" href="#rfc.section.A">
    <link rel="Alternate" title="Plain Text Version" href="http://www.ietf.org/rfc/rfc5789.txt">
    <link rel="Help" title="RFC-Editor's Status Page" href="http://www.rfc-editor.org/info/rfc5789">
    <meta name="viewport" content="initial-scale=1">
    <meta name="generator"
        content="https://github.com/mnot/RFCBootstrap XSLT vendor: Saxonica http://www.saxonica.com/">
    <meta name="keywords" content="http, patch">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.creator" content="Dusseault, L.M.">
    <meta name="dcterms.creator" content="Snell, J.M.">
    <meta name="dcterms.identifier" content="urn:ietf:rfc:5789">
    <meta name="dcterms.issued" content="2010-03">
    <meta name="dcterms.abstract"
        content="Several applications extending the Hypertext Transfer Protocol (HTTP) require a feature to do partial resource modification. The existing HTTP PUT method only allows a complete replacement of a document. This proposal adds a new HTTP method, PATCH, to modify an existing HTTP resource.">
    <meta name="dcterms.isPartOf" content="urn:issn:2070-1721">
    <meta name="description"
        content="Several applications extending the Hypertext Transfer Protocol (HTTP) require a feature to do partial resource modification. The existing HTTP PUT method only allows a complete replacement of a document. This proposal adds a new HTTP method, PATCH, to modify an existing HTTP resource.">
</head>

<body onload="getMeta(5789,&#34;rfc.meta&#34;);">
    <nav class="navbar navbar-dark bg-dark d-print-none navbar-expand-lg fixed-top ps-3 pe-3" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse"
                aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <a class="navbar-brand" href="https://httpwg.org/"><img src="https://httpwg.org/assets/http.svg"
                    height="23"></a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">

            <div class="navbar-nav me-auto">

                <a class="nav-item ms-1 text-white" href="https://httpwg.org/specs/">📄 Documentation</a>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Work in
                        Progress</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/http-extensions/">HTTP Extensions</a></li>
                        <li class="dropdown-item"><a
                                href="https://github.com/httpwg/admin/issues?q=is%3Aissue+is%3Aopen+label%3Aadoption">Future
                                Work</a></li>
                    </ul>
                </div>

                <div class="dropdown ms-4">
                    <a href="#" class="nav-item dropdown-toggle text-white" data-bs-toggle="dropdown">Participate</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="https://httpwg.org/about/">About the HTTP Working Group</a>
                        </li>
                        <li class="divider"></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/CONTRIBUTING.html">Contribution Policy</a>
                        </li>
                        <li class="dropdown-item"><a href="http://datatracker.ietf.org/wg/httpbis/charter/">WG
                                Charter</a></li>
                        <li class="dropdown-item"><a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">Group
                                Mailing List 📨</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/wg-materials/">Meeting Materials</a></li>
                        <li class="dropdown-item"><a href="https://httpwg.org/admin/editors/">Document Editor
                                Resources</a></li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>
    <div class="container" id="top">
        <div class="row">
            <div class="col-lg-4 order-last d-none d-lg-block" id="sidebar" role="navigation">
                <div class="navbar">
                    <div class="navbar-brand"><a href="#top"><strong>RFC </strong>5789</a></div><br clear="all">
                    <div class="">
                        <div class="toc ">
                            <ul>
                                <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#intro">Introduction</a>
                                </li>
                                <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#patch">The PATCH
                                        Method</a>
                                    <ul>
                                        <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.2.1">A Simple PATCH Example</a></li>
                                        <li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#error.handling">Error Handling</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#adv">Advertising Support
                                        in OPTIONS</a>
                                    <ul>
                                        <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#accept-patch">The Accept-Patch Header</a></li>
                                        <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.3.2">Example OPTIONS Request and Response</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.4">IANA
                                        Considerations</a>
                                    <ul>
                                        <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.section.4.1">The Accept-Patch Response Header</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.5">Security
                                        Considerations</a></li>
                                <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references">References</a>
                                    <ul>
                                        <li><a href="#rfc.section.6.1">6.1.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.1">Normative References</a></li>
                                        <li><a href="#rfc.section.6.2">6.2.</a>&nbsp;&nbsp;&nbsp;<a
                                                href="#rfc.references.2">Informative References</a></li>
                                    </ul>
                                </li>
                                <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.A">Acknowledgements</a></li>
                                <li><a href="#rfc.authors">Authors' Addresses</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 order-first main" role="main">
                <header>
                    <table class="table table-condensed header" id="rfc.headerblock">
                        <tbody>
                            <tr>
                                <td class="text-left">Internet Engineering Task Force (IETF)</td>
                                <td class="text-right">L. Dusseault</td>
                            </tr>
                            <tr>
                                <td class="text-left">Request for Comments: 5789</td>
                                <td class="text-right">Linden Lab</td>
                            </tr>
                            <tr>
                                <td class="text-left">Category: Standards Track</td>
                                <td class="text-right">J. Snell</td>
                            </tr>
                            <tr>
                                <td class="text-left">ISSN: 2070-1721</td>
                                <td class="text-right">March 2010</td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="rfc.title">
                        <h1>PATCH Method for HTTP</h1>
                    </div>
                </header>
                <hr>
                <h2 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h2>
                <div class="lead">
                    <div id="rfc.abstract.p.1">
                        <p>Several applications extending the Hypertext Transfer Protocol (HTTP) require a feature to do
                            partial resource modification. The existing HTTP PUT method only allows a complete
                            replacement of a document. This proposal adds a new HTTP method, PATCH, to modify an
                            existing HTTP resource.</p>
                    </div>
                </div>
                <aside id="rfc.meta" class="alert alert-info"></aside>
                <section id="rfc.status">
                    <h2><a href="#rfc.status">Status of This Memo</a></h2>
                    <div id="rfc.boilerplate.1.p.1">
                        <p>This is an Internet Standards Track document.</p>
                    </div>
                    <div id="rfc.boilerplate.1.p.2">
                        <p>This document is a product of the Internet Engineering Task Force (IETF). It represents the
                            consensus of the IETF community. It has received public review and has been approved for
                            publication by the Internet Engineering Steering Group (IESG). Further information on
                            Internet Standards is available in <a
                                href="https://www.rfc-editor.org/rfc/rfc5741.html#section-2">Section 2 of RFC 5741</a>.
                        </p>
                    </div>
                    <div id="rfc.boilerplate.1.p.3">
                        <p>Information about the current status of this document, any errata, and how to provide
                            feedback on it may be obtained at <a
                                href="http://www.rfc-editor.org/info/rfc5789">http://www.rfc-editor.org/info/rfc5789</a>.
                        </p>
                    </div>
                </section>
                <section id="rfc.copyrightnotice">
                    <h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2>
                    <div id="rfc.boilerplate.2.p.1">
                        <p>Copyright (c) 2010 IETF Trust and the persons identified as the document authors. All rights
                            reserved.</p>
                    </div>
                    <div id="rfc.boilerplate.2.p.2">
                        <p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF
                            Documents (<a
                                href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in
                            effect on the date of publication of this document. Please review these documents carefully,
                            as they describe your rights and restrictions with respect to this document. Code Components
                            extracted from this document must include Simplified BSD License text as described in
                            Section 4.e of the Trust Legal Provisions and are provided without warranty as described in
                            the Simplified BSD License.</p>
                    </div>
                </section>
                <div class="toc d-lg-none">
                    <ul>
                        <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#intro">Introduction</a></li>
                        <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#patch">The PATCH Method</a>
                            <ul>
                                <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.2.1">A
                                        Simple PATCH Example</a></li>
                                <li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a href="#error.handling">Error
                                        Handling</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#adv">Advertising Support in
                                OPTIONS</a>
                            <ul>
                                <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a href="#accept-patch">The
                                        Accept-Patch Header</a></li>
                                <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.section.3.2">Example OPTIONS Request and Response</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.4">IANA
                                Considerations</a>
                            <ul>
                                <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.4.1">The
                                        Accept-Patch Response Header</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.section.5">Security
                                Considerations</a></li>
                        <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a>
                            <ul>
                                <li><a href="#rfc.section.6.1">6.1.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.1">Normative References</a></li>
                                <li><a href="#rfc.section.6.2">6.2.</a>&nbsp;&nbsp;&nbsp;<a
                                        href="#rfc.references.2">Informative References</a></li>
                            </ul>
                        </li>
                        <li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a
                                href="#rfc.section.A">Acknowledgements</a></li>
                        <li><a href="#rfc.authors">Authors' Addresses</a></li>
                    </ul>
                </div>
                <section id="intro">
                    <h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a
                            href="#intro">Introduction</a></h2>
                    <div id="rfc.section.1.p.1">
                        <p>This specification defines the new HTTP/1.1 <a href="#RFC2616"><cite
                                    title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a> method, PATCH,
                            which is used to apply partial modifications to a resource.</p>
                    </div>
                    <div id="rfc.section.1.p.2">
                        <p>A new method is necessary to improve interoperability and prevent errors. The PUT method is
                            already defined to overwrite a resource with a complete new body, and cannot be reused to do
                            partial changes. Otherwise, proxies and caches, and even clients and servers, may get
                            confused as to the result of the operation. POST is already used but without broad
                            interoperability (for one, there is no standard way to discover patch format support). PATCH
                            was mentioned in earlier HTTP specifications, but not completely defined.</p>
                    </div>
                    <div id="rfc.section.1.p.3">
                        <p>In this document, the key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
                            "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" are to be interpreted as
                            described in <a href="#RFC2119"><cite
                                    title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>.
                        </p>
                    </div>
                    <div id="rfc.section.1.p.4">
                        <p>Furthermore, this document uses the ABNF syntax defined in Section 2.1 of <a
                                href="#RFC2616"><cite
                                    title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>.</p>
                    </div>
                </section>
                <section id="patch">
                    <h2 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a href="#patch">The PATCH Method</a>
                    </h2>
                    <div id="rfc.section.2.p.1">
                        <p>The PATCH method requests that a set of changes described in the request entity be applied to
                            the resource identified by the Request-URI. The set of changes is represented in a format
                            called a "patch document" identified by a media type. If the Request-URI does not point to
                            an existing resource, the server MAY create a new resource, depending on the patch document
                            type (whether it can logically modify a null resource) and permissions, etc.</p>
                    </div>
                    <div id="rfc.section.2.p.2">
                        <p>The difference between the PUT and PATCH requests is reflected in the way the server
                            processes the enclosed entity to modify the resource identified by the Request-URI. In a PUT
                            request, the enclosed entity is considered to be a modified version of the resource stored
                            on the origin server, and the client is requesting that the stored version be replaced. With
                            PATCH, however, the enclosed entity contains a set of instructions describing how a resource
                            currently residing on the origin server should be modified to produce a new version. The
                            PATCH method affects the resource identified by the Request-URI, and it also MAY have side
                            effects on other resources; i.e., new resources may be created, or existing ones modified,
                            by the application of a PATCH.</p>
                    </div>
                    <div id="rfc.section.2.p.3">
                        <p>PATCH is neither safe nor idempotent as defined by <a href="#RFC2616"><cite
                                    title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>, Section 9.1.
                        </p>
                    </div>
                    <div id="rfc.section.2.p.4">
                        <p>A PATCH request can be issued in such a way as to be idempotent, which also helps prevent bad
                            outcomes from collisions between two PATCH requests on the same resource in a similar time
                            frame. Collisions from multiple PATCH requests may be more dangerous than PUT collisions
                            because some patch formats need to operate from a known base-point or else they will corrupt
                            the resource. Clients using this kind of patch application SHOULD use a conditional request
                            such that the request will fail if the resource has been updated since the client last
                            accessed the resource. For example, the client can use a strong ETag <a
                                href="#RFC2616"><cite
                                    title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a> in an If-Match
                            header on the PATCH request.</p>
                    </div>
                    <div id="rfc.section.2.p.5">
                        <p>There are also cases where patch formats do not need to operate from a known base-point
                            (e.g., appending text lines to log files, or non-colliding rows to database tables), in
                            which case the same care in client requests is not needed.</p>
                    </div>
                    <div id="rfc.section.2.p.6">
                        <p>The server MUST apply the entire set of changes atomically and never provide (e.g., in
                            response to a GET during this operation) a partially modified representation. If the entire
                            patch document cannot be successfully applied, then the server MUST NOT apply any of the
                            changes. The determination of what constitutes a successful PATCH can vary depending on the
                            patch document and the type of resource(s) being modified. For example, the common 'diff'
                            utility can generate a patch document that applies to multiple files in a directory
                            hierarchy. The atomicity requirement holds for all directly affected files. See "Error
                            Handling", <a href="#error.handling" title="Error Handling">Section 2.2</a>, for details on
                            status codes and possible error conditions.</p>
                    </div>
                    <div id="rfc.section.2.p.7">
                        <p>If the request passes through a cache and the Request-URI identifies one or more currently
                            cached entities, those entries SHOULD be treated as stale. A response to this method is only
                            cacheable if it contains explicit freshness information (such as an Expires header or
                            "Cache-Control: max-age" directive) as well as the Content-Location header matching the
                            Request-URI, indicating that the PATCH response body is a resource representation. A cached
                            PATCH response can only be used to respond to subsequent GET and HEAD requests; it MUST NOT
                            be used to respond to other methods (in particular, PATCH).</p>
                    </div>
                    <div id="rfc.section.2.p.8">
                        <p>Note that entity-headers contained in the request apply only to the contained patch document
                            and MUST NOT be applied to the resource being modified. Thus, a Content-Language header
                            could be present on the request, but it would only mean (for whatever that's worth) that the
                            patch document had a language. Servers SHOULD NOT store such headers except as trace
                            information, and SHOULD NOT use such header values the same way they might be used on PUT
                            requests. Therefore, this document does not specify a way to modify a document's
                            Content-Type or Content-Language value through headers, though a mechanism could well be
                            designed to achieve this goal through a patch document.</p>
                    </div>
                    <div id="rfc.section.2.p.9">
                        <p>There is no guarantee that a resource can be modified with PATCH. Further, it is expected
                            that different patch document formats will be appropriate for different types of resources
                            and that no single format will be appropriate for all types of resources. Therefore, there
                            is no single default patch document format that implementations are required to support.
                            Servers MUST ensure that a received patch document is appropriate for the type of resource
                            identified by the Request-URI.</p>
                    </div>
                    <div id="rfc.section.2.p.10">
                        <p>Clients need to choose when to use PATCH rather than PUT. For example, if the patch document
                            size is larger than the size of the new resource data that would be used in a PUT, then it
                            might make sense to use PUT instead of PATCH. A comparison to POST is even more difficult,
                            because POST is used in widely varying ways and can encompass PUT and PATCH-like operations
                            if the server chooses. If the operation does not modify the resource identified by the
                            Request-URI in a predictable way, POST should be considered instead of PATCH or PUT.</p>
                    </div>
                    <section id="n-a-simple-patch-example">
                        <h3 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a>&nbsp;<a
                                href="#n-a-simple-patch-example">A Simple PATCH Example</a></h3>
                        <div id="rfc.figure.u.1">
                            <div>
                                <pre class="text2">
PATCH /file.txt HTTP/1.1
Host: www.example.com
Content-Type: application/example
If-Match: "e0023aa4e"
Content-Length: 100

[description of changes]
</pre>
                            </div>
                        </div>
                        <div id="rfc.section.2.1.p.1">
                            <p>This example illustrates use of a hypothetical patch document on an existing resource.
                            </p>
                        </div>
                        <div id="rfc.figure.u.2">
                            <p>Successful PATCH response to existing text file:</p>
                            <div>
                                <pre class="text">
HTTP/1.1 204 No Content
Content-Location: /file.txt
ETag: "e0023aa4f"
</pre>
                            </div>
                        </div>
                        <div id="rfc.section.2.1.p.2">
                            <p>The 204 response code is used because the response does not carry a message body (which a
                                response with the 200 code would have). Note that other success codes could be used as
                                well.</p>
                        </div>
                        <div id="rfc.section.2.1.p.3">
                            <p>Furthermore, the ETag response header field contains the ETag for the entity created by
                                applying the PATCH, available at http://www.example.com/file.txt, as indicated by the
                                Content-Location response header field.</p>
                        </div>
                    </section>
                    <section id="error.handling">
                        <h3 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a>&nbsp;<a
                                href="#error.handling">Error Handling</a></h3>
                        <div id="rfc.section.2.2.p.1">
                            <p>There are several known conditions under which a PATCH request can fail.</p>
                        </div>
                        <div id="rfc.section.2.2.p.2">
                            <dl>
                                <dt>Malformed patch document:</dt>
                                <dd>When the server determines that the patch document provided by the client is not
                                    properly formatted, it SHOULD return a 400 (Bad Request) response. The definition of
                                    badly formatted depends on the patch document chosen.</dd>
                                <dt>Unsupported patch document:</dt>
                                <dd>Can be specified using a 415 (Unsupported Media Type) response when the client sends
                                    a patch document format that the server does not support for the resource identified
                                    by the Request-URI. Such a response SHOULD include an Accept-Patch response header
                                    as described in <a href="#accept-patch" title="The Accept-Patch Header">Section
                                        3.1</a> to notify the client what patch document media types are supported.</dd>
                                <dt>Unprocessable request:</dt>
                                <dd>Can be specified with a 422 (Unprocessable Entity) response (<a
                                        href="#RFC4918"><cite
                                            title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite></a>,
                                    Section 11.2) when the server understands the patch document and the syntax of the
                                    patch document appears to be valid, but the server is incapable of processing the
                                    request. This might include attempts to modify a resource in a way that would cause
                                    the resource to become invalid; for instance, a modification to a well-formed XML
                                    document that would cause it to no longer be well-formed. There may also be more
                                    specific errors like "Conflicting State" that could be signaled with this status
                                    code, but the more specific error would generally be more helpful.</dd>
                                <dt>Resource not found:</dt>
                                <dd>Can be specified with a 404 (Not Found) status code when the client attempted to
                                    apply a patch document to a non-existent resource, but the patch document chosen
                                    cannot be applied to a non-existent resource.</dd>
                                <dt>Conflicting state:</dt>
                                <dd>Can be specified with a 409 (Conflict) status code when the request cannot be
                                    applied given the state of the resource. For example, if the client attempted to
                                    apply a structural modification and the structures assumed to exist did not exist
                                    (with XML, a patch might specify changing element 'foo' to element 'bar' but element
                                    'foo' might not exist).</dd>
                                <dt>Conflicting modification:</dt>
                                <dd>When a client uses either the If-Match or If-Unmodified-Since header to define a
                                    precondition, and that precondition failed, then the 412 (Precondition Failed) error
                                    is most helpful to the client. However, that response makes no sense if there was no
                                    precondition on the request. In cases when the server detects a possible conflicting
                                    modification and no precondition was defined in the request, the server can return a
                                    409 (Conflict) response.</dd>
                                <dt>Concurrent modification:</dt>
                                <dd>Some applications of PATCH might require the server to process requests in the order
                                    in which they are received. If a server is operating under those restrictions, and
                                    it receives concurrent requests to modify the same resource, but is unable to queue
                                    those requests, the server can usefully indicate this error by using a 409
                                    (Conflict) response.</dd>
                            </dl>
                        </div>
                        <div id="rfc.section.2.2.p.3">
                            <p>Note that the 409 Conflict response gives reasonably consistent information to clients.
                                Depending on the application and the nature of the patch format, the client might be
                                able to reissue the request as is (e.g., an instruction to append a line to a log file),
                                have to retrieve the resource content to recalculate a patch, or have to fail the
                                operation.</p>
                        </div>
                        <div id="rfc.section.2.2.p.4">
                            <p>Other HTTP status codes can also be used under the appropriate circumstances.</p>
                        </div>
                        <div id="rfc.section.2.2.p.5">
                            <p>The entity body of error responses SHOULD contain enough information to communicate the
                                nature of the error to the client. The content-type of the response entity can vary
                                across implementations.</p>
                        </div>
                    </section>
                </section>
                <section id="adv">
                    <h2 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a href="#adv">Advertising Support in
                            OPTIONS</a></h2>
                    <div id="rfc.section.3.p.1">
                        <p>A server can advertise its support for the PATCH method by adding it to the listing of
                            allowed methods in the "Allow" OPTIONS response header defined in HTTP/1.1. The PATCH method
                            MAY appear in the "Allow" header even if the Accept-Patch header is absent, in which case
                            the list of allowed patch documents is not advertised.</p>
                    </div>
                    <section id="accept-patch">
                        <h3 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a>&nbsp;<a href="#accept-patch">The
                                Accept-Patch Header</a></h3>
                        <div id="rfc.section.3.1.p.1">
                            <p>This specification introduces a new response header Accept-Patch used to specify the
                                patch document formats accepted by the server. Accept-Patch SHOULD appear in the OPTIONS
                                response for any resource that supports the use of the PATCH method. The presence of the
                                Accept-Patch header in response to any method is an implicit indication that PATCH is
                                allowed on the resource identified by the Request-URI. The presence of a specific patch
                                document format in this header indicates that that specific format is allowed on the
                                resource identified by the Request-URI.</p>
                        </div>
                        <div id="rfc.figure.u.3">
                            <div>
                                <pre class="inline">
Accept-Patch = "Accept-Patch" ":" 1#media-type </pre>
                            </div>
                        </div>
                        <div id="rfc.section.3.1.p.2">
                            <p>The Accept-Patch header specifies a comma-separated listing of media-types (with optional
                                parameters) as defined by <a href="#RFC2616"><cite
                                        title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>, Section
                                3.7.</p>
                        </div>
                        <div id="rfc.section.3.1.p.3" class="avoidbreakafter">
                            <p>Example:</p>
                        </div>
                        <div id="rfc.section.3.1.p.4">
                            <p>Accept-Patch: text/example;charset=utf-8</p>
                        </div>
                    </section>
                    <section id="n-example-options-request-and-response">
                        <h3 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a>&nbsp;<a
                                href="#n-example-options-request-and-response">Example OPTIONS Request and Response</a>
                        </h3>
                        <div id="rfc.figure.u.4">
                            <p>[request]</p>
                            <div>
                                <pre class="text2">
OPTIONS /example/buddies.xml HTTP/1.1
Host: www.example.com
</pre>
                            </div>
                        </div>
                        <div id="rfc.figure.u.5">
                            <p>[response]</p>
                            <div>
                                <pre class="text">
HTTP/1.1 200 OK
Allow: GET, PUT, POST, OPTIONS, HEAD, DELETE, PATCH
Accept-Patch: application/example, text/example
</pre>
                            </div>
                        </div>
                        <div id="rfc.section.3.2.p.1">
                            <p>The examples show a server that supports PATCH generally using two hypothetical patch
                                document formats.</p>
                        </div>
                    </section>
                </section>
                <section id="n-iana-considerations">
                    <h2 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a href="#n-iana-considerations">IANA
                            Considerations</a></h2>
                    <section id="n-the-accept-patch-response-header">
                        <h3 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1.</a>&nbsp;<a
                                href="#n-the-accept-patch-response-header">The Accept-Patch Response Header</a></h3>
                        <div id="rfc.section.4.1.p.1">
                            <p>The Accept-Patch response header has been added to the permanent registry (see <a
                                    href="#RFC3864"><cite
                                        title="Registration Procedures for Message Header Fields">[RFC3864]</cite></a>).
                            </p>
                        </div>
                        <div id="rfc.section.4.1.p.2">
                            <dl>
                                <dt>Header field name:</dt>
                                <dd>Accept-Patch</dd>
                                <dt>Applicable Protocol:</dt>
                                <dd>HTTP</dd>
                                <dt>Author/Change controller:</dt>
                                <dd>IETF</dd>
                                <dt>Specification document:</dt>
                                <dd>this specification</dd>
                            </dl>
                        </div>
                    </section>
                </section>
                <section id="n-security-considerations">
                    <h2 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a
                            href="#n-security-considerations">Security Considerations</a></h2>
                    <div id="rfc.section.5.p.1">
                        <p>The security considerations for PATCH are nearly identical to the security considerations for
                            PUT (<a href="#RFC2616"><cite
                                    title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>, Section 9.6).
                            These include authorizing requests (possibly through access control and/or authentication)
                            and ensuring that data is not corrupted through transport errors or through accidental
                            overwrites. Whatever mechanisms are used for PUT can be used for PATCH as well. The
                            following considerations apply especially to PATCH.</p>
                    </div>
                    <div id="rfc.section.5.p.2">
                        <p>A document that is patched might be more likely to be corrupted than a document that is
                            overridden in entirety, but that concern can be addressed through the use of mechanisms such
                            as conditional requests using ETags and the If-Match request header as described in <a
                                href="#patch" title="The PATCH Method">Section 2</a>. If a PATCH request fails, the
                            client can issue a GET request to the resource to see what state it is in. In some cases,
                            the client might be able to check the contents of the resource to see if the PATCH request
                            can be resent, but in other cases, the attempt will just fail and/or a user will have to
                            verify intent. In the case of a failure of the underlying transport channel, where a PATCH
                            response is not received before the channel fails or some other timeout happens, the client
                            might have to issue a GET request to see whether the request was applied. The client might
                            want to ensure that the GET request bypasses caches using mechanisms described in HTTP
                            specifications (see, for example, Section 13.1.6 of <a href="#RFC2616"><cite
                                    title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>).</p>
                    </div>
                    <div id="rfc.section.5.p.3">
                        <p>Sometimes an HTTP intermediary might try to detect viruses being sent via HTTP by checking
                            the body of the PUT/POST request or GET response. The PATCH method complicates such
                            watch-keeping because neither the source document nor the patch document might be a virus,
                            yet the result could be. This security consideration is not materially different from those
                            already introduced by byte-range downloads, downloading patch documents, uploading zipped
                            (compressed) files, and so on.</p>
                    </div>
                    <div id="rfc.section.5.p.4">
                        <p>Individual patch documents will have their own specific security considerations that will
                            likely vary depending on the types of resources being patched. The considerations for
                            patched binary resources, for instance, will be different than those for patched XML
                            documents. Servers MUST take adequate precautions to ensure that malicious clients cannot
                            consume excessive server resources (e.g., CPU, disk I/O) through the client's use of PATCH.
                        </p>
                    </div>
                </section>
                <section id="rfc.references">
                    <h2 id="rfc.section.6"><a href="#rfc.section.6">6.</a> References</h2>
                    <section>
                        <div id="rfc.references.1">
                            <h3 id="rfc.section.6.1"><a href="#rfc.section.6.1">6.1.</a> Normative References</h3>
                            <dl class="dl-horizontal">
                                <dt id="RFC2119">[<a href="#RFC2119" class="smpl">RFC2119</a>]</dt>
                                <dd><a href="mailto:sob@harvard.edu">Bradner, S.</a>, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc2119.html">Key words for use in RFCs to
                                        Indicate Requirement Levels</a>”, <a
                                        href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>, RFC 2119, March 1997.
                                </dd>
                                <dt id="RFC2616">[<a href="#RFC2616" class="smpl">RFC2616</a>]</dt>
                                <dd><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a
                                        href="mailto:jg@w3.org">Gettys, J.</a>, <a
                                        href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a
                                        href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a
                                        href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a
                                        href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a
                                        href="mailto:timbl@w3.org">T. Berners-Lee</a>, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc2616.html">Hypertext Transfer Protocol
                                        -- HTTP/1.1</a>”, RFC 2616, June 1999.</dd>
                                <dt id="RFC3864">[<a href="#RFC3864" class="smpl">RFC3864</a>]</dt>
                                <dd>Klyne, G., Nottingham, M., and J. Mogul, “<a
                                        href="https://www.rfc-editor.org/rfc/rfc3864.html">Registration Procedures for
                                        Message Header Fields</a>”, <a href="https://www.rfc-editor.org/info/bcp90">BCP
                                        90</a>, RFC 3864, September 2004.</dd>
                            </dl>
                        </div>
                    </section>
                    <section>
                        <div id="rfc.references.2">
                            <h3 id="rfc.section.6.2"><a href="#rfc.section.6.2">6.2.</a> Informative References</h3>
                            <dl class="dl-horizontal">
                                <dt id="RFC4918">[<a href="#RFC4918" class="smpl">RFC4918</a>]</dt>
                                <dd>Dusseault, L., “<a href="https://www.rfc-editor.org/rfc/rfc4918.html">HTTP
                                        Extensions for Web Distributed Authoring and Versioning (WebDAV)</a>”, RFC 4918,
                                    June 2007.</dd>
                            </dl>
                        </div>
                    </section>
                </section>
                <section id="n-acknowledgements">
                    <h2 id="rfc.section.A" class="np"><a href="#rfc.section.A">Appendix A.</a>&nbsp;<a
                            href="#n-acknowledgements">Acknowledgements</a></h2>
                    <div id="rfc.section.A.p.1">
                        <p>PATCH is not a new concept, it first appeared in HTTP in drafts of version 1.1 written by Roy
                            Fielding and Henrik Frystyk and also appears in Section 19.6.1.1 of RFC 2068.</p>
                    </div>
                    <div id="rfc.section.A.p.2">
                        <p>Thanks to Adam Roach, Chris Sharp, Julian Reschke, Geoff Clemm, Scott Lawrence, Jeffrey
                            Mogul, Roy Fielding, Greg Stein, Jim Luther, Alex Rousskov, Jamie Lokier, Joe Hildebrand,
                            Mark Nottingham, Michael Balloni, Cyrus Daboo, Brian Carpenter, John Klensin, Eliot Lear,
                            SM, and Bernie Hoeneisen for review and advice on this document. In particular, Julian
                            Reschke did repeated reviews, made many useful suggestions, and was critical to the
                            publication of this document.</p>
                    </div>
                </section>
                <section id="rfc.authors" class="avoidbreakinside">
                    <h2><a href="#rfc.authors">Authors' Addresses</a></h2>
                    <address><b>Lisa Dusseault</b><br>Linden Lab<br>945 Battery Street<br>San Francisco, CA
                        94111<br>USA<br>Email: <a href="mailto:lisa.dusseault@gmail.com">lisa.dusseault@gmail.com</a>
                    </address>
                    <address><b>James M. Snell</b><br>Email: <a
                            href="mailto:jasnell@gmail.com">jasnell@gmail.com</a><br>URI: <a
                            href="http://www.snellspace.com">http://www.snellspace.com</a></address>
                </section>
            </div>
        </div>
    </div>
    <script src="/assets/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
</body>

</html>