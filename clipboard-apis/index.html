<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>剪贴板 API 和事件</title>
    <meta content="w3c/WD" name="w3c-status">
    <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
    <meta content="Bikeshed version 3383f409d, updated Fri Apr 28 15:49:22 2023 -0700" name="generator">
    <link href="https://www.w3.org/TR/clipboard-apis/" rel="canonical">
    <style>
        /* style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }
    </style>
    <style>
        /* style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            white-space: pre;
            display: inline-block;
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled[role="button"] {
            cursor: pointer;
        }
    </style>
    <style>
        /* style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* style-mdn-anno */
        :root {
            --mdn-bg: #EEE;
            --mdn-shadow: #999;
            --mdn-nosupport-text: #ccc;
        }

        .mdn-anno {
            background: var(--mdn-bg, #EEE);
            border-radius: .25em;
            box-shadow: 0 0 3px var(--mdn-shadow, #999);
            color: var(--text, black);
            font: 1em sans-serif;
            hyphens: none;
            max-width: min-content;
            overflow: hidden;
            padding: 0.2em;
            position: absolute;
            right: 0.3em;
            top: auto;
            white-space: nowrap;
            word-wrap: normal;
            z-index: 8;
        }

        .mdn-anno.unpositioned {
            display: none;
        }

        .mdn-anno.overlapping-main {
            opacity: .2;
            transition: opacity .1s;
        }

        .mdn-anno[open] {
            opacity: 1;
            z-index: 9;
            min-width: 9em;
        }

        .mdn-anno:hover {
            opacity: 1;
            outline: var(--text, black) 1px solid;
        }

        .mdn-anno>summary {
            font-weight: normal;
            text-align: right;
            cursor: pointer;
            display: block;
        }

        .mdn-anno>summary>.less-than-two-engines-flag {
            color: red;
            padding-right: 2px;
        }

        .mdn-anno>summary>.all-engines-flag {
            color: green;
            padding-right: 2px;
        }

        .mdn-anno>summary>span {
            color: #fff;
            background-color: #000;
            font-weight: normal;
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            padding: 2px 3px 0px 3px;
            line-height: 1.3em;
            vertical-align: top;
        }

        .mdn-anno>.feature {
            margin-top: 20px;
        }

        .mdn-anno>.feature:not(:first-of-type) {
            border-top: 1px solid #999;
            margin-top: 6px;
            padding-top: 2px;
        }

        .mdn-anno>.feature>.less-than-two-engines-text {
            color: red;
        }

        .mdn-anno>.feature>.all-engines-text {
            color: green;
        }

        .mdn-anno>.feature>p {
            font-size: .75em;
            margin-top: 6px;
            margin-bottom: 0;
        }

        .mdn-anno>.feature>p+p {
            margin-top: 3px;
        }

        .mdn-anno>.feature>.support {
            display: block;
            font-size: 0.6em;
            margin: 0;
            padding: 0;
            margin-top: 2px;
        }

        .mdn-anno>.feature>.support+div {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>hr {
            display: block;
            border: none;
            border-top: 1px dotted #999;
            padding: 3px 0px 0px 0px;
            margin: 2px 3px 0px 3px;
        }

        .mdn-anno>.feature>.support>hr::before {
            content: "";
        }

        .mdn-anno>.feature>.support>span {
            padding: 0.2em 0;
            display: block;
            display: table;
        }

        .mdn-anno>.feature>.support>span.no {
            color: var(--mdn-nosupport-text);
            filter: grayscale(100%);
        }

        .mdn-anno>.feature>.support>span.no::before {
            opacity: 0.5;
        }

        .mdn-anno>.feature>.support>span:first-of-type {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>span>span {
            padding: 0 0.5em;
            display: table-cell;
        }

        .mdn-anno>.feature>.support>span>span:first-child {
            width: 100%;
        }

        .mdn-anno>.feature>.support>span>span:last-child {
            width: 100%;
            white-space: pre;
            padding: 0;
        }

        .mdn-anno>.feature>.support>span::before {
            content: ' ';
            display: table-cell;
            min-width: 1.5em;
            height: 1.5em;
            background: no-repeat center center;
            background-size: contain;
            text-align: right;
            font-size: 0.75em;
            font-weight: bold;
        }

        .mdn-anno>.feature>.support>.chrome_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.firefox_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.chrome::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.edge_blink::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
        }

        .mdn-anno>.feature>.support>.edge::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
        }

        .mdn-anno>.feature>.support>.firefox::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.ie::before {
            background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
        }

        .mdn-anno>.feature>.support>.safari_ios::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
        }

        .mdn-anno>.feature>.support>.nodejs::before {
            background-image: url(https://nodejs.org/static/images/favicons/favicon.ico);
        }

        .mdn-anno>.feature>.support>.opera_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.opera::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.safari::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
        }

        .mdn-anno>.feature>.support>.samsunginternet_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
        }

        .mdn-anno>.feature>.support>.webview_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
        }

        .name-slug-mismatch {
            color: red;
        }

        .caniuse-status:hover {
            z-index: 9;
        }

        /* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */
        ;

        .h-entry:not(.status-LS) dt>.mdn-anno,
        .h-entry:not(.status-LS) li>.mdn-anno,
        .h-entry:not(.status-LS) .issue>.mdn-anno,
        .h-entry:not(.status-LS) .note>.mdn-anno,
        .h-entry:not(.status-LS) .example>.mdn-anno {
            right: -6.7em;
        }

        .h-entry p+.mdn-anno {
            margin-top: 0;
        }

        h2+.mdn-anno.after {
            margin: -48px 0 0 0;
        }

        h3+.mdn-anno.after {
            margin: -46px 0 0 0;
        }

        h4+.mdn-anno.after {
            margin: -42px 0 0 0;
        }

        h5+.mdn-anno.after {
            margin: -40px 0 0 0;
        }

        h6+.mdn-anno.after {
            margin: -40px 0 0 0;
        }
    </style>
    <style>
        /* style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* style-syntax-highlighting */

        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */
    </style>
    <style>
        /* style-var-click-highlighting */
        var {
            cursor: pointer;
        }

        var.selected0 {
            background-color: #F4D200;
            box-shadow: 0 0 0 2px #F4D200;
        }

        var.selected1 {
            background-color: #FF87A2;
            box-shadow: 0 0 0 2px #FF87A2;
        }

        var.selected2 {
            background-color: #96E885;
            box-shadow: 0 0 0 2px #96E885;
        }

        var.selected3 {
            background-color: #3EEED2;
            box-shadow: 0 0 0 2px #3EEED2;
        }

        var.selected4 {
            background-color: #EACFB6;
            box-shadow: 0 0 0 2px #EACFB6;
        }

        var.selected5 {
            background-color: #82DDFF;
            box-shadow: 0 0 0 2px #82DDFF;
        }

        var.selected6 {
            background-color: #FFBCF2;
            box-shadow: 0 0 0 2px #FFBCF2;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1>剪贴板 API 和事件</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#WD">W3C 工作草案</a>, <time class="dt-updated"
                datetime="2023-05-16">2023年5月16日</time></p>
        <details open>
            <summary>更多关于此文档的细节</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>此版本:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2023/WD-clipboard-apis-20230516/">https://www.w3.org/TR/2023/WD-clipboard-apis-20230516/</a>
                    <dt>最新发布版本:
                    <dd><a href="https://www.w3.org/TR/clipboard-apis/">https://www.w3.org/TR/clipboard-apis/</a>
                    <dt>编辑草案:
                    <dd><a href="https://w3c.github.io/clipboard-apis/">https://w3c.github.io/clipboard-apis/</a>
                    <dt>之前版本:
                    <dd><a href="https://www.w3.org/TR/2021/WD-clipboard-apis-20210806/"
                            rel="prev">https://www.w3.org/TR/2021/WD-clipboard-apis-20210806/</a>
                    <dt>历史:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/clipboard-apis">https://www.w3.org/standards/history/clipboard-apis</a>
                    <dt>反馈:
                    <dd><a href="https://github.com/w3c/clipboard-apis/issues/">GitHub</a>
                    <dd><a href="#issues-index">规范内联反馈</a>
                    <dt class="editor">编辑:
                    <dd class="editor p-author h-card vcard" data-editor-id="59482"><a class="p-name fn u-email email"
                            href="mailto:garykac@google.com">Gary Kacmarcik</a> (<span class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="126950"><a class="p-name fn u-email email"
                            href="mailto:snianu@microsoft.com">Anupam Snigdha</a> (<span
                            class="p-org org">Microsoft</span>)
                    <dt class="editor">前任编辑:
                    <dd class="editor p-author h-card vcard"><span class="p-name fn">Hallvord R. M. Steen</span> (<span
                            class="p-org org">Mozilla</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="78883"><a class="p-name fn u-email email"
                            href="mailto:glyuk@microsoft.com">Grisha Lyukshin</a> (<span
                            class="p-org org">Microsoft</span>)
                    <dt>解释器:
                    <dd><a href="https://github.com/w3c/clipboard-apis/blob/master/explainer.adoc">异步剪贴板 API 解释器</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">版权</a> © 2023 <a
                href="https://www.w3.org/">万维网联盟</a>。<abbr title="万维网联盟">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">责任</a>、<a
                href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">商标</a>和<a
                href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document"
                rel="license">许可文件</a>规则适用。
        </p>
        <hr title="头部分隔线">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本文档描述了访问系统剪贴板数据的 API。它提供了覆盖默认剪贴板操作（剪切、复制和粘贴）以及直接访问剪贴板内容的操作。</p>
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档的状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布时的状态。当前的 <abbr title="万维网联盟">W3C</abbr> 出版物列表和本技术报告的最新修订版可在 <a
                    href="https://www.w3.org/TR/">https://www.w3.org/TR/</a> 中找到。</em></p>
        <p>本文档由 <a href="https://www.w3.org/groups/wg/webediting">Web Editing 工作组</a> 作为工作草案发布。本文档旨在成为 <abbr
                title="万维网联盟">W3C</abbr> 推荐标准。</p>
        <p><strong>本文档的更改可能会在 <a href="https://github.com/w3c/clipboard-apis">https://github.com/w3c/clipboard-apis</a>
                中跟踪。</strong></p>
        <p>本文档由 <a href="https://www.w3.org/groups/wg/webediting">Web Editing 工作组</a> 作为工作草案，使用 <a
                href="https://www.w3.org/2021/Process-20211102/#recs-and-notes">推荐轨道</a> 发布。</p>
        <p>欢迎对本规范提供反馈和意见。请使用 <a href="https://github.com/w3c/clipboard-apis/issues">GitHub 问题</a> 提交反馈。历史讨论可在 <a
                href="https://lists.w3.org/Archives/Public/public-editing-tf/">public-editing-tf@w3.org 归档</a> 中找到。</p>
        <p>作为工作草案发布并不意味着 <abbr title="万维网联盟">W3C</abbr> 及其成员的认可。这是一份草案文件，可能随时更新、替换或由其他文件取代。将本文档作为其他进程中的工作引用是不合适的。</p>
        <p>本文档由在 <a href="https://www.w3.org/Consortium/Patent-Policy-20200915/"><abbr title="万维网联盟">W3C</abbr> 专利政策</a>
            下运作的小组制作。 <abbr title="万维网联盟">W3C</abbr> 维护了一个 <a href="https://www.w3.org/groups/wg/webediting/ipr"
                rel="disclosure">公开的专利披露列表</a>，其中列出了与该小组的交付物有关的任何专利披露；该页面还包括披露专利的说明。任何个人如果实际了解某项专利，并认为其包含 <a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">必要主张</a>，则必须根据 <a
                href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C 专利政策第 6 节</a> 进行披露。</p>
        <p>本文件受 <a href="https://www.w3.org/2021/Process-20211102/" id="w3c_process_revision">2021 年 11 月 2 日 W3C
                过程文件</a> 管辖。</p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#secintro"><span class="secno">1</span> <span class="content">简介</span></a></li>
            <li>
                <a href="#Cases"><span class="secno">2</span> <span class="content">用例</span></a>
                <ol class="toc">
                    <li><a href="#change-default-clipboard-ops"><span class="secno">2.1</span> <span
                                class="content">更改默认剪贴板操作</span></a></li>
                    <li><a href="#remote-clipboard-sync"><span class="secno">2.2</span> <span
                                class="content">远程剪贴板同步</span></a></li>
                    <li><a href="#trigger-clipboard-actions"><span class="secno">2.3</span> <span
                                class="content">触发剪贴板操作</span></a></li>
                </ol>
            </li>
            <li><a href="#terminolofy"><span class="secno">3</span> <span class="content">术语</span></a></li>
            <li><a href="#model"><span class="secno">4</span> <span class="content">模型</span></a></li>
            <li>
                <a href="#clipboard-events-and-interfaces"><span class="secno">5</span> <span
                        class="content">剪贴板事件</span></a>
                <ol class="toc">
                    <li><a href="#clipboard-event-interfaces"><span class="secno">5.1</span> <span
                                class="content">剪贴板事件接口</span></a></li>
                    <li>
                        <a href="#clipboard-event-definitions"><span class="secno">5.2</span> <span
                                class="content">剪贴板事件</span></a>
                        <ol class="toc">
                            <li><a href="#clipboard-event-clipboardchange"><span class="secno">5.2.1</span> <span
                                        class="content"><span><code>clipboardchange</code></span> 事件</span></a></li>
                            <li><a href="#clipboard-event-copy"><span class="secno">5.2.2</span> <span
                                        class="content"><span><code>copy</code></span> 事件</span></a></li>
                            <li><a href="#clipboard-event-cut"><span class="secno">5.2.3</span> <span
                                        class="content"><span><code>cut</code></span> 事件</span></a></li>
                            <li><a href="#clipboard-event-paste"><span class="secno">5.2.4</span> <span
                                        class="content"><span><code>paste</code></span> 事件</span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#integration-with-other-scripts-and-events"><span class="secno">5.3</span> <span
                                class="content">与其他脚本和事件的集成</span></a>
                        <ol class="toc">
                            <li><a href="#allow-modify-clipboard"><span class="secno">5.3.1</span> <span
                                        class="content">允许修改剪贴板的事件处理程序</span></a></li>
                            <li><a href="#allow-read-clipboard"><span class="secno">5.3.2</span> <span
                                        class="content">允许从剪贴板读取的事件处理程序</span></a></li>
                            <li><a href="#integration-with-rich-text-editing"><span class="secno">5.3.3</span> <span
                                        class="content">与富文本编辑 API 的集成</span></a></li>
                            <li><a href="#otherevents"><span class="secno">5.3.4</span> <span
                                        class="content">与其他事件的交互</span></a></li>
                            <li><a href="#selection-mod"><span class="secno">5.3.5</span> <span
                                        class="content">修改选择或焦点的事件监听器</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#clipboard-event-api"><span class="secno">6</span> <span class="content">剪贴板事件 API</span></a>
                <ol class="toc">
                    <li><a href="#override-copy"><span class="secno">6.1</span> <span class="content">覆盖复制事件</span></a>
                    </li>
                    <li><a href="#override-cut"><span class="secno">6.2</span> <span class="content">覆盖剪切事件</span></a>
                    </li>
                    <li><a href="#override-paste"><span class="secno">6.3</span> <span class="content">覆盖粘贴事件</span></a>
                    </li>
                    <li>
                        <a href="#mandatory-data-types-x"><span class="secno">6.4</span> <span
                                class="content">必需的数据类型</span></a>
                        <ol class="toc">
                            <li><a href="#reading-from-clipboard"><span class="secno">6.4.1</span> <span
                                        class="content">从剪贴板读取</span></a></li>
                            <li><a href="#writing-to-clipboard"><span class="secno">6.4.2</span> <span
                                        class="content">写入剪贴板</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#async-clipboard-api"><span class="secno">7</span> <span class="content">异步剪贴板 API</span></a>
                <ol class="toc">
                    <li>
                        <a href="#navigator-interface"><span class="secno">7.1</span> <span class="content">Navigator
                                接口</span></a>
                        <ol class="toc">
                            <li><a href="#h-navigator-clipboard"><span class="secno">7.1.1</span> <span
                                        class="content"><span>clipboard</span></span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#clipboard-item-interface"><span class="secno">7.2</span> <span
                                class="content">ClipboardItem 接口</span></a>
                        <ol class="toc">
                            <li><a href="#dom-clipboarditem-presentationstyle"><span class="secno">7.2.1</span> <span
                                        class="content">presentationStyle</span></a></li>
                            <li><a href="#dom-clipboarditem-types"><span class="secno">7.2.2</span> <span
                                        class="content">types</span></a></li>
                            <li><a href="#dom-clipboarditem-gettype"><span class="secno">7.2.3</span> <span
                                        class="content">getType(type)</span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#clipboard-interface"><span class="secno">7.3</span> <span class="content">Clipboard
                                接口</span></a>
                        <ol class="toc">
                            <li><a href="#dom-clipboard-read"><span class="secno">7.3.1</span> <span
                                        class="content">read()</span></a></li>
                            <li><a href="#dom-clipboard-readtext"><span class="secno">7.3.2</span> <span
                                        class="content">readText()</span></a></li>
                            <li><a href="#dom-clipboard-write"><span class="secno">7.3.3</span> <span
                                        class="content">write(<var>data</var>)</span></a></li>
                            <li><a href="#dom-clipboard-writetext"><span class="secno">7.3.4</span> <span
                                        class="content">writeText(<var>data</var>)</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#clipboard-actions"><span class="secno">8</span> <span class="content">剪贴板操作</span></a>
                <ol class="toc">
                    <li><a href="#copy-action"><span class="secno">8.1</span> <span class="content">复制操作</span></a></li>
                    <li><a href="#cut-action"><span class="secno">8.2</span> <span class="content">剪切操作</span></a></li>
                    <li><a href="#paste-action"><span class="secno">8.3</span> <span class="content">粘贴操作</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#clipboard-permissions"><span class="secno">9</span> <span class="content">权限 API 集成</span></a>
                <ol class="toc">
                    <li>
                        <a href="#read-permission"><span class="secno">9.1</span> <span
                                class="content">剪贴板读取权限</span></a>
                        <ol class="toc">
                            <li><a href="#h-clipboard-read-permission"><span class="secno">9.1.1</span> <span
                                        class="content"><span>检查剪贴板读取权限</span></span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#write-permission"><span class="secno">9.2</span> <span
                                class="content">剪贴板写入权限</span></a>
                        <ol class="toc">
                            <li><a href="#h-clipboard-write-permission"><span class="secno">9.2.1</span> <span
                                        class="content"><span>检查剪贴板写入权限</span></span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#security"><span class="secno">10</span> <span class="content">安全考虑</span></a>
                <ol class="toc">
                    <li><a href="#pasting-html"><span class="secno">10.1</span> <span class="content">粘贴 HTML
                                和多部分数据</span></a></li>
                    <li><a href="#general-security-policies"><span class="secno">10.2</span> <span
                                class="content">通用安全策略</span></a></li>
                    <li><a href="#image-transcode"><span class="secno">10.3</span> <span class="content">图像转码</span></a>
                    </li>
                    <li><a href="#nuisances"><span class="secno">10.4</span> <span class="content">烦扰问题</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#privacy"><span class="secno">11</span> <span class="content">隐私考虑</span></a>
                <ol class="toc">
                    <li><a href="#privacy-events"><span class="secno">11.1</span> <span class="content">隐私与剪贴板事件
                                API</span></a></li>
                    <li>
                        <a href="#privacy-async"><span class="secno">11.2</span> <span class="content">隐私与异步剪贴板
                                API</span></a>
                        <ol class="toc">
                            <li><a href="#privacy-permission"><span class="secno">11.2.1</span> <span
                                        class="content">隐私与剪贴板权限</span></a></li>
                        </ol>
                    </li>
                    <li><a href="#privacy-other"><span class="secno">11.3</span> <span class="content">其他隐私问题</span></a>
                    </li>
                </ol>
            </li>
            <li><a href="#acknowledge"><span class="secno">12</span> <span class="content">致谢</span></a></li>
            <li>
                <a href="#algorithms"><span class="secno"></span> <span class="content">附录 A：算法</span></a>
                <ol class="toc">
                    <li><a href="#to-write-content-to-clipboard"><span class="secno"></span> <span
                                class="content"><span>将内容写入剪贴板</span></span></a></li>
                    <li><a href="#to-write-blobs-to-clipboard"><span class="secno"></span> <span class="content"><span>将
                                    Blobs 和选项写入剪贴板</span></span></a></li>
                    <li><a href="#to-os-specific-well-known-format"><span class="secno"></span> <span
                                class="content"><span>操作系统特定的已知格式</span></span></a></li>
                    <li><a href="#to-fire-a-clipboard-event"><span class="secno"></span> <span
                                class="content"><span>触发剪贴板事件</span></span></a></li>
                    <li><a href="#to-process-html-paste-event"><span class="secno"></span> <span
                                class="content"><span>处理 HTML 粘贴事件</span></span></a></li>
                </ol>
            </li>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a>
                    </li>
                    <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span
                                class="content">一致性算法</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本文定义的术语</span></a></li>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性参考文献</span></a></li>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">信息性参考文献</span></a></li>
                </ol>
            </li>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a></li>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a></li>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="secintro"><span class="secno">1. </span><span
                class="content">介绍</span><a class="self-link" href="#secintro"></a></h2>
        <p><i>本节为非规范性部分。</i></p>
        <p>本规范定义了如何将系统剪贴板暴露给 Web 应用程序。</p>
        <p>本规范描述了两种通用 API：</p>
        <ul>
            <li data-md>
                <p>剪贴板事件 API - 此 API 提供了一种挂接到常见剪贴板操作（剪切、复制和粘贴）的方法，使 Web 应用程序可以根据需要调整剪贴板数据。</p>
            <li data-md>
                <p>异步剪贴板 API - 此 API 提供了直接访问剪贴板数据的功能。由于这被认为是一种<a data-link-type="dfn"
                        href="https://www.w3.org/TR/permissions/#dfn-powerful-feature"
                        id="ref-for-dfn-powerful-feature">强大功能</a>，
                    因此对该 API 的访问受到权限控制。</p>
        </ul>

        <h2 class="heading settled" data-level="2" id="Cases"><span class="secno">2. </span><span
                class="content">用例</span><a class="self-link" href="#Cases"></a></h2>
        <p><i>本节为非规范性部分。</i></p>

        <h3 class="heading settled" data-level="2.1" id="change-default-clipboard-ops"><span class="secno">2.1.
            </span><span class="content">更改默认剪贴板操作</span><a class="self-link" href="#change-default-clipboard-ops"></a>
        </h3>
        <p>在许多场景中，期望更改默认的剪贴板操作（剪切/复制/粘贴）。以下是一些示例：</p>
        <ul>
            <li><strong>元数据</strong> 在从文档库中复制文本时，复制的文本可以包含有关复制内容来源的元数据。</li>
            <li><strong>富内容编辑</strong> 在复制包含超链接或其他结构的文本时，能够重新格式化内容以保留重要信息通常很有用。</li>
            <li><strong>内置语义的图形</strong> 为了创建允许操控富文本或图形内容的 Web 应用程序，例如 <a data-link-type="biblio" href="#biblio-svg11"
                    title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[SVG11]</a>，提供一种复制不仅仅是渲染内容的机制是有用的。</li>
            <li><strong>数学信息</strong> 对于数学等内容，简单复制已渲染的文本并将其粘贴到另一个应用程序中通常会导致大部分语义丢失。MathML 通常需要在复制时进行转换，例如将其转换为纯文本以确保公式中的
                "幂" 使用符号 "^" 表示。XML 源代码也可以被复制到剪贴板中，并在粘贴时进行相应的转换。</li>
        </ul>

        <h3 class="heading settled" data-level="2.2" id="remote-clipboard-sync"><span class="secno">2.2. </span><span
                class="content">远程剪贴板同步</span><a class="self-link" href="#remote-clipboard-sync"></a></h3>
        <p>对于与远程设备通信的 Web 应用程序（例如远程访问或远程 shell 应用程序），通常需要在两个设备之间保持剪贴板数据的同步。</p>
        <p>此用例的一个重要方面是，它需要在没有用户手势或交互的情况下访问剪贴板。</p>
        <div class="example" id="example-6b4972a0"><a class="self-link" href="#example-6b4972a0"></a>
            要将远程设备的剪贴板数据复制到本地剪贴板，Web 应用程序将获取远程剪贴板数据，然后使用 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write">write()</a></code>
            将数据写入本地剪贴板。</div>
        <div class="example" id="example-75fe78bd"><a class="self-link" href="#example-75fe78bd"></a>
            要将本地剪贴板数据复制到远程设备，Web 应用程序将监听 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange">clipboardchange</a></code>
            事件，并在每次剪贴板更新时 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read">read()</a></code>
            剪贴板数据，然后将新数据发送到远程设备。</div>

        <h3 class="heading settled" data-level="2.3" id="trigger-clipboard-actions"><span class="secno">2.3.
            </span><span class="content">触发剪贴板操作</span><a class="self-link" href="#trigger-clipboard-actions"></a></h3>
        <p>提供替代用户代理界面的应用程序有时需要能够在用户代理中触发剪贴板操作。</p>
        <p>例如，考虑一个为标准 Web
            浏览器提供更无障碍界面的屏幕阅读器应用程序。尽管阅读器可以显示内容并允许用户与其交互，但像复制这样的剪贴板操作需要在底层浏览器中发生，以确保剪贴板内容设置正确（浏览器在复制过程中可能会添加元数据）。</p>

        <h2 class="heading settled" data-level="3" id="terminolofy"><span class="secno">3. </span><span
                class="content">术语</span><a class="self-link" href="#terminolofy"></a></h2>
        <p>术语 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="editable-context">可编辑上下文</dfn> 指的是任何 <a
                data-link-type="dfn" href="http://w3c.github.io/editing/contentEditable.html#dfn-editing-host"
                id="ref-for-dfn-editing-host">编辑主机</a>
            元素、文本区域元素或其类型属性设置为“text”、“search”、“tel”、“url”、“email”、“password”或“number”的输入元素。</p>

        <h2 class="heading settled" data-level="4" id="model"><span class="secno">4. </span><span
                class="content">模型</span><a class="self-link" href="#model"></a></h2>
        <p>平台提供了一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="system-clipboard">系统剪贴板</dfn>。</p>
        <p>该 <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard">系统剪贴板</a>
            具有一个剪贴板项目列表，这些项目统称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="system-clipboard-data">系统剪贴板数据</dfn>。</p>
        <ul>
            <li data-md>
                <p>对于 <a href="#clipboard-event-api">§ 6 剪贴板事件 API</a>，<a data-link-type="dfn"
                        href="#system-clipboard-data" id="ref-for-system-clipboard-data">系统剪贴板数据</a> 被作为 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer">DataTransfer</a></code>
                    对象暴露，该对象镜像剪贴板的内容。</p>
            <li data-md>
                <p>对于 <a href="#async-clipboard-api">§ 7 异步剪贴板 API</a>，<a data-link-type="dfn"
                        href="#system-clipboard-data" id="ref-for-system-clipboard-data①">系统剪贴板数据</a> 作为 <a
                        data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item">剪贴板项目</a>
                    对象序列暴露，该对象镜像剪贴板的内容。</p>
        </ul>
        <h2 class="heading settled" data-level="5" id="clipboard-events-and-interfaces"><span class="secno">5.
            </span><span class="content">剪贴板事件</span><a class="self-link" href="#clipboard-events-and-interfaces"></a>
        </h2>

        <h3 class="heading settled" data-level="5.1" id="clipboard-event-interfaces"><span class="secno">5.1.
            </span><span class="content">剪贴板事件接口</span><a class="self-link" href="#clipboard-event-interfaces"></a></h3>

        <p><code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code>接口扩展了
            <code class="idl"><a data-link-type="idl" href="#clipboardeventinit-idl">ClipboardEvent</a></code>接口。
        </p>

        <div id="clipboardeventinit-idl">
            <pre class="idl highlight def" data-highlight="webidl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clipboardeventinit"><code><c- g>ClipboardEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①"><c- n>DataTransfer</c-></a>? <dfn class="idl-code" data-default="null" data-dfn-for="ClipboardEventInit" data-dfn-type="dict-member" data-export data-type="DataTransfer? " id="dom-clipboardeventinit-clipboarddata"><code><c- g>clipboardData</c-></code><a class="self-link" href="#dom-clipboardeventinit-clipboarddata"></a></dfn> = <c- b>null</c->;
};
</pre>
            <dl>
                <dt data-md><dfn data-dfn-for="ClipboardEventInit" data-dfn-type="dfn" data-export
                        id="clipboardeventinit-clipboarddata">clipboardData<a class="self-link"
                            href="#clipboardeventinit-clipboarddata"></a></dfn>
                <dd data-md>
                    <p>一个 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer②">DataTransfer</a></code>
                        对象，用于保存与事件相关的数据和元数据。</p>
            </dl>
        </div>

        <div id="clipboardevent-idl">
            <pre class="idl highlight def" data-highlight="webidl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="clipboardevent"><code><c- g>ClipboardEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①"><c- n>Event</c-></a> {
  <dfn class="idl-code" data-dfn-for="ClipboardEvent" data-dfn-type="constructor" data-export data-lt="ClipboardEvent(type, eventInitDict)|constructor(type, eventInitDict)|ClipboardEvent(type)|constructor(type)" id="dom-clipboardevent-clipboardevent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-clipboardevent-clipboardevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="ClipboardEvent/ClipboardEvent(type, eventInitDict), ClipboardEvent/constructor(type, eventInitDict), ClipboardEvent/ClipboardEvent(type), ClipboardEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-clipboardevent-clipboardevent-type-eventinitdict-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-clipboardevent-clipboardevent-type-eventinitdict-type"></a></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboardeventinit" id="ref-for-dictdef-clipboardeventinit"><c- n>ClipboardEventInit</c-></a> <dfn class="idl-code" data-dfn-for="ClipboardEvent/ClipboardEvent(type, eventInitDict), ClipboardEvent/constructor(type, eventInitDict), ClipboardEvent/ClipboardEvent(type), ClipboardEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-clipboardevent-clipboardevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code><a class="self-link" href="#dom-clipboardevent-clipboardevent-type-eventinitdict-eventinitdict"></a></dfn> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer③"><c- n>DataTransfer</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardEvent" data-dfn-type="attribute" data-export data-readonly data-type="DataTransfer?" id="dom-clipboardevent-clipboarddata"><code><c- g>clipboardData</c-></code></dfn>;
};
</pre>
            <dl>
                <dt data-md><dfn data-dfn-for="ClipboardEvent" data-dfn-type="dfn" data-export
                        id="clipboardevent-clipboarddata">clipboardData<a class="self-link"
                            href="#clipboardevent-clipboarddata"></a></dfn>
                <dd data-md>
                    <p>clipboardData 属性是一个 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer④">DataTransfer</a></code>
                        接口的实例，允许脚本在用户发起的剪切、复制和粘贴操作期间读取和操作系统剪贴板上的值。相关的拖动数据存储区是系统剪贴板的实时但过滤视图，暴露了实现知道脚本可以安全访问的 <a
                            data-link-type="dfn" href="#mandatory-data-types"
                            id="ref-for-mandatory-data-types">必需数据类型</a>。对于合成事件，拖动数据存储区包含由创建事件的脚本添加的数据。</p>
                <dd data-md>
                    <p>clipboardData 对象的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items">items</a></code>
                        和 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files" id="ref-for-dom-datatransfer-files">files</a></code>
                        属性支持处理剪贴板上的多部分或非文本数据。</p>
            </dl>
        </div>

        <p>该接口可用于 <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#constructing-events"
                id="ref-for-constructing-events">构建事件</a>。以下是一个示例：</p>
        <pre class="example javascript" id="example-92782271"><a class="self-link" href="#example-92782271"></a>var pasteEvent = new ClipboardEvent('paste');
pasteEvent.clipboardData.items.add('My string', 'text/plain');
document.dispatchEvent(pasteEvent);
</pre>

        <p class="note" role="note"><span class="marker">注意：</span> 合成剪贴板事件不会实际修改剪贴板或文档。换句话说，虽然上述脚本会触发粘贴事件，但数据不会粘贴到文档中。
        </p>

        <h3 class="heading settled" data-level="5.2" id="clipboard-event-definitions"><span class="secno">5.2.
            </span><span class="content">剪贴板事件</span><a class="self-link" href="#clipboard-event-definitions"></a></h3>

        <h4 class="heading settled" data-level="5.2.1" id="clipboard-event-clipboardchange"><span class="secno">5.2.1.
            </span><span class="content"><dfn class="dfn-paneled idl-code"
                    data-dfn-for="DocumentAndElementEventHandlers" data-dfn-type="event" data-export
                    id="eventdef-documentandelementeventhandlers-clipboardchange"><code>clipboardchange</code></dfn>
                事件</span><a class="self-link" href="#clipboard-event-clipboardchange"></a></h4>

        <p><code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange①">clipboardchange</a></code>
            事件在 <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①">系统剪贴板</a>
            内容更改时触发。此更改可能由于以下原因（非详尽列表）：</p>

        <ul>
            <li data-md>
                <p>用户发起的剪切或复制操作</p>
            <li data-md>
                <p>使用 <a href="#async-clipboard-api">§ 7 异步剪贴板 API</a> 的脚本将数据写入剪贴板</p>
            <li data-md>
                <p>在用户代理之外的操作更新了剪贴板</p>
        </ul>

        <p>如果剪贴板内容在用户代理之外更改，则当用户代理重新获得焦点时，<code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange②">clipboardchange</a></code>
            事件必须触发。</p>

        <p>由于合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut">cut</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy">copy</a></code>
            事件不会更新 <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard②">系统剪贴板</a>，因此它们不会触发
            "clipboardchange" 事件。</p>

        <h4 class="heading settled" data-level="5.2.2" id="clipboard-event-copy"><span class="secno">5.2.2. </span><span
                class="content"><dfn class="dfn-paneled idl-code" data-dfn-for="DocumentAndElementEventHandlers"
                    data-dfn-type="event" data-export
                    id="eventdef-documentandelementeventhandlers-copy"><code>copy</code></dfn> 事件</span><a
                class="self-link" href="#clipboard-event-copy"></a></h4>

        <p>当用户发起复制操作时，用户代理会 <a data-link-type="dfn" href="#fire-a-clipboard-event"
                id="ref-for-fire-a-clipboard-event">触发剪贴板事件</a>，该事件名为 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy①">copy</a></code>。
        </p>

        <p>如果该事件未被取消，则当前选定的数据将被复制到 <a data-link-type="dfn" href="#system-clipboard"
                id="ref-for-system-clipboard③">系统剪贴板</a>。当前的文档选区不会受到影响。</p>

        <p><code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy②">copy</a></code>
            事件会冒泡、可取消并且是复合的。</p>

        <p>请参阅 <a href="#copy-action">§ 8.1 复制操作</a> 以获取此事件的详细处理模型。</p>

        <p>可以手动构建和分发合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy③">copy</a></code>
            事件，但它不会影响 <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard④">系统剪贴板</a> 的内容。</p>

        <h4 class="heading settled" data-level="5.2.3" id="clipboard-event-cut"><span class="secno">5.2.3. </span><span
                class="content"><dfn class="dfn-paneled idl-code" data-dfn-for="DocumentAndElementEventHandlers"
                    data-dfn-type="event" data-export
                    id="eventdef-documentandelementeventhandlers-cut"><code>cut</code></dfn> 事件</span><a
                class="self-link" href="#clipboard-event-cut"></a></h4>

        <p>当用户发起剪切操作时，用户代理会 <a data-link-type="dfn" href="#fire-a-clipboard-event"
                id="ref-for-fire-a-clipboard-event①">触发剪贴板事件</a>，该事件名为 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut①">cut</a></code>。
        </p>

        <p>在 <a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context">可编辑上下文</a>
            中，如果事件未被取消，则操作会将当前选定的数据放入 <a data-link-type="dfn" href="#system-clipboard"
                id="ref-for-system-clipboard⑤">系统剪贴板</a> 并从文档中删除选区。<code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut②">cut</a></code>
            事件会在选定数据被移除之前触发。当剪切操作完成时，选区会折叠。</p>

        <p>在非 <a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context①">可编辑上下文</a> 中，<code
                class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata">clipboardData</a></code>
            将为空列表。请注意，在此情况下仍会触发 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut③">cut</a></code>
            事件。</p>

        <p><code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut④">cut</a></code>
            事件会冒泡、可取消并且是复合的。</p>

        <p>请参阅 <a href="#cut-action">§ 8.2 剪切操作</a> 以获取此事件的详细处理模型。</p>

        <p>可以手动构建和分发合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut⑤">cut</a></code>
            事件，但它不会影响文档或 <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard⑥">系统剪贴板</a> 的内容。
        </p>

        <h4 class="heading settled" data-level="5.2.4" id="clipboard-event-paste"><span class="secno">5.2.4.
            </span><span class="content"><dfn class="dfn-paneled idl-code"
                    data-dfn-for="DocumentAndElementEventHandlers" data-dfn-type="event" data-export
                    id="eventdef-documentandelementeventhandlers-paste"><code>paste</code></dfn> 事件</span><a
                class="self-link" href="#clipboard-event-paste"></a></h4>

        <p>当用户发起粘贴操作时，用户代理会 <a data-link-type="dfn" href="#fire-a-clipboard-event"
                id="ref-for-fire-a-clipboard-event②">触发剪贴板事件</a>，该事件名为 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste">paste</a></code>。事件在任何剪贴板数据插入到文档之前触发。
        </p>

        <p>如果光标位于 <a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context②">可编辑上下文</a>
            中，粘贴操作将以适合给定上下文的最合适格式插入剪贴板数据（如果有的话）。</p>

        <p>粘贴操作在非 <a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context③">可编辑上下文</a>
            中没有效果，但无论如何都会触发 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste①">paste</a></code>
            事件。</p>

        <p><code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste②">paste</a></code>
            事件会冒泡、可取消并且是复合的。</p>

        <p>请参阅 <a href="#paste-action">§ 8.3 粘贴操作</a> 以获取此事件的详细处理模型。</p>

        <p>可以手动构建和分发合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste③">paste</a></code>
            事件，但它不会影响文档的内容。</p>
        <h3 class="heading settled" data-level="5.3" id="integration-with-other-scripts-and-events"><span
                class="secno">5.3. </span><span class="content">与其他脚本和事件的集成</span><a class="self-link"
                href="#integration-with-other-scripts-and-events"></a></h3>
        <h4 class="heading settled" data-level="5.3.1" id="allow-modify-clipboard"><span class="secno">5.3.1.
            </span><span class="content">被允许修改剪贴板的事件处理程序</span><a class="self-link" href="#allow-modify-clipboard"></a>
        </h4>
        <p>事件处理程序可以在以下任一条件为真的情况下写入剪贴板：</p>
        <ul>
            <li data-md>
                <p>触发事件的操作是由用户代理的用户界面自身调用的，例如通过“复制”菜单项或快捷键。</p>
            <li data-md>
                <p>触发事件的操作是由允许显示弹出窗口的脚本线程调用的。</p>
        </ul>
        <p>如果实现作者认为这些事件类型可能表达用户意图，实现可以允许其他可信事件类型修改剪贴板。实现还可以支持配置，信任特定站点或应用程序修改剪贴板，无论脚本线程的来源如何。</p>
        <p>合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut⑥">cut</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy④">copy</a></code>
            事件不得修改系统剪贴板中的数据。</p>

        <h4 class="heading settled" data-level="5.3.2" id="allow-read-clipboard"><span class="secno">5.3.2. </span><span
                class="content">被允许从剪贴板读取数据的事件处理程序</span><a class="self-link" href="#allow-read-clipboard"></a></h4>
        <p>事件处理程序可以从系统剪贴板中读取数据，如果以下任一条件为真：</p>
        <ul>
            <li data-md>
                <p>触发事件的操作是由用户代理的用户界面自身调用的，例如通过“粘贴”菜单项或快捷键。</p>
            <li data-md>
                <p>触发操作的脚本在通过实现依赖机制被授予读取剪贴板数据的权限的站点上运行。</p>
            <li data-md>
                <p>触发事件的操作在具有读取剪贴板权限的应用程序中触发。</p>
        </ul>
        <p>合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste④">paste</a></code>
            事件不得允许脚本访问系统剪贴板中的数据。</p>

        <h4 class="heading settled" data-level="5.3.3" id="integration-with-rich-text-editing"><span
                class="secno">5.3.3. </span><span class="content">与富文本编辑 API 的集成</span><a class="self-link"
                href="#integration-with-rich-text-editing"></a></h4>
        <p>如果实现支持通过脚本执行剪贴板命令的方法，例如通过使用命令“cut”、“copy”和“paste”调用 <code>document.execCommand()</code>
            方法，则实现必须触发相应的操作，并且会再次调度相关的剪贴板事件。</p>
        <p>以下是通过脚本 API 触发复制、剪切或粘贴操作时的步骤：</p>
        <ol>
            <li data-md>
                <p>同步执行相应的操作。</p>
            <li data-md>
                <p>将操作的返回值用作 API 调用的返回值。</p>
        </ol>
        <p class="note" role="note"><span class="marker">注意：</span> 通过脚本 API
            触发的复制和剪切命令只有在事件由用户触发的可信事件调度，或实现配置为允许时，才会影响真实剪贴板的内容。通过脚本 API
            触发的粘贴命令只会触发粘贴事件并提供对剪贴板内容的访问权限，如果实现配置允许这样做。如何配置实现以允许读取或写入剪贴板的访问权限不在本规范范围内。</p>

        <h4 class="heading settled" data-level="5.3.4" id="otherevents"><span class="secno">5.3.4. </span><span
                class="content">与其他事件的交互</span><a class="self-link" href="#otherevents"></a></h4>
        <p>如果剪贴板操作是由键盘输入触发的，实施必须触发启动剪贴板操作的相应事件。该事件是异步的，但必须在相关键的 <b>keyup</b> 事件之前调度。</p>
        <p>剪切和粘贴操作可能导致实现调度其他支持的事件，例如 textInput、input、change、validation 事件、DOMCharacterDataModified 和 DOMNodeRemoved /
            DOMNodeInserted。任何此类事件将在剪切/粘贴事件处理完成后排队触发。</p>
        <p>实现不得在响应复制操作时调度其他与输入相关的事件，例如 textInput、input、change 和 validation 事件。</p>

        <h4 class="heading settled" data-level="5.3.5" id="selection-mod"><span class="secno">5.3.5. </span><span
                class="content">修改选择或焦点的事件监听器</span><a class="self-link" href="#selection-mod"></a></h4>
        <p>如果事件监听器修改了选择或焦点区域，剪贴板操作必须在修改后的选择上完成。</p>
        <h2 class="heading settled" data-level="6" id="clipboard-event-api"><span class="secno">6. </span><span
                class="content">剪贴板事件 API</span><a class="self-link" href="#clipboard-event-api"></a></h2>
        <p>剪贴板事件 API 允许你重写用户代理的默认剪切、复制和粘贴行为。</p>
        <p>访问剪贴板是通过标准的 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑤">DataTransfer</a></code>
            方法来修改 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items①">items</a></code>，它位于
            <code
                class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent">ClipboardEvent</a></code>
            的 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata①">clipboardData</a></code>
            属性中。其结果之一是这些剪贴板 API 只能在 <code
                class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent①">ClipboardEvent</a></code>
            处理程序的上下文中访问剪贴板数据。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span> 如果你需要在剪贴板事件处理程序之外访问剪贴板，请参阅 <a
                href="#async-clipboard-api">§ 7 异步剪贴板 API</a>。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 剪贴板事件 API 是同步的，因此它们的功能有限。不能执行可能阻塞的操作（如请求权限或转码图像）。请参阅
            <a href="#async-clipboard-api">§ 7 异步剪贴板 API</a>，获取支持阻塞或其他耗时操作的更强大的 API。
        </p>

        <h3 class="heading settled" data-level="6.1" id="override-copy"><span class="secno">6.1. </span><span
                class="content">重写复制事件</span><a class="self-link" href="#override-copy"></a></h3>
        <p>要重写默认的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy⑤">copy</a></code>
            事件行为，需要添加一个 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy⑥">copy</a></code>
            事件处理程序，并且该事件处理程序必须调用 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-preventdefault" id="ref-for-dom-event-preventdefault">preventDefault()</a></code>
            来取消事件。</p>
        <p>取消事件是必要的，以便用 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata②">clipboardData</a></code>
            中的数据更新 <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard⑦">系统剪贴板</a>。如果没有取消
            <code
                class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent②">ClipboardEvent</a></code>，则将复制当前文档选择中的数据。
        </p>
        <pre class="example javascript" id="example-e7776e65"><a class="self-link" href="#example-e7776e65"></a>// 重写复制到剪贴板的内容。
document.addEventListener('copy', function(e) {
  // e.clipboardData 最初为空，但我们可以设置要复制到剪贴板的数据。
  e.clipboardData.setData('text/plain', 'Hello, world!');
  e.clipboardData.setData('text/html', '&lt;b>Hello, world!&lt;/b>');

  // 这是必要的，以防止当前文档选择内容被写入剪贴板。
  e.preventDefault();
});
</pre>

        <h3 class="heading settled" data-level="6.2" id="override-cut"><span class="secno">6.2. </span><span
                class="content">重写剪切事件</span><a class="self-link" href="#override-cut"></a></h3>
        <p>要重写默认的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut⑦">cut</a></code>
            事件行为，需要添加一个 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut⑧">cut</a></code>
            事件处理程序，并且该事件处理程序必须调用 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-preventdefault" id="ref-for-dom-event-preventdefault①">preventDefault()</a></code>
            来取消事件。</p>
        <p>取消事件是必要的，以便用 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata③">clipboardData</a></code>
            中的数据更新 <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard⑧">系统剪贴板</a>。如果没有取消
            <code
                class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent③">ClipboardEvent</a></code>，则将复制当前文档选择中的数据。
        </p>
        <p>注意，取消 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut⑨">cut</a></code>
            事件还会阻止文档更新（即当前选择不会被删除）。事件处理程序需要手动更新文档，以删除当前选择的文本。</p>
        <pre class="example javascript" id="example-c4f2319f"><a class="self-link" href="#example-c4f2319f"></a>// 重写剪切到剪贴板的内容。
document.addEventListener('cut', function(e) {
  // e.clipboardData 最初为空，但我们可以设置要作为剪切一部分复制到剪贴板的数据。
  e.clipboardData.setData('text/plain', 'Hello, world!');
  e.clipboardData.setData('text/html', '&lt;b>Hello, world!&lt;/b>');

  // 由于我们将取消剪切操作，因此需要手动更新文档以删除当前选择的文本。
  deleteCurrentDocumentSelection();

  // 这是必要的，以防止文档选择内容被写入剪贴板。
  e.preventDefault();
});
</pre>

        <h3 class="heading settled" data-level="6.3" id="override-paste"><span class="secno">6.3. </span><span
                class="content">重写粘贴事件</span><a class="self-link" href="#override-paste"></a></h3>
        <p>要重写默认的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste⑤">paste</a></code>
            事件行为，需要添加一个 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste⑥">paste</a></code>
            事件处理程序，并且该事件处理程序必须调用 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-preventdefault" id="ref-for-dom-event-preventdefault②">preventDefault()</a></code>
            来取消事件。</p>
        <p>取消事件是为了防止用户代理用 <a data-link-type="dfn" href="#system-clipboard"
                id="ref-for-system-clipboard⑨">系统剪贴板</a>中的数据更新文档。</p>
        <p>注意，取消 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste⑦">paste</a></code>
            事件还会阻止文档更新（即，文档中不会粘贴任何内容）。事件处理程序需要手动将数据粘贴到文档中。</p>
        <p>还要注意的是，粘贴时 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode"
                id="ref-for-drag-data-store-mode">拖动数据存储模式</a>标志为 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-ro"
                id="ref-for-concept-dnd-ro">只读</a>，因此，从 <code
                class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste⑧">paste</a></code>
            事件处理程序调用 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata" id="ref-for-dom-datatransfer-setdata">setData()</a></code>
            不会修改插入的数据，也不会修改剪贴板上的数据。</p>
        <pre class="example javascript" id="example-20246db5"><a class="self-link" href="#example-20246db5"></a>// 重写粘贴到剪贴板的内容。
document.addEventListener('paste', function(e) {
  // e.clipboardData 包含即将粘贴的数据。
  if (e.clipboardData.types.indexOf('text/html') > -1) {
    var oldData = e.clipboardData.getData('text/html');
    var newData = '&lt;b>哈哈！&lt;/b> ' + oldData;

    // 由于我们取消了粘贴操作，因此需要手动将数据粘贴到文档中。
    pasteClipboardData(newData);

    // 这是必要的，以防止默认的粘贴操作。
    e.preventDefault();
  }
});
</pre>
        <h3 class="heading settled" data-level="6.4" id="mandatory-data-types-x"><span class="secno">6.4. </span><span
                class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="mandatory-data-types">强制数据类型</dfn></span><a class="self-link"
                href="#mandatory-data-types-x"></a></h3>
        <p>实现必须识别以下数据类型的本地操作系统剪贴板格式描述，以便在 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist">DataTransferItemList</a></code>
            中为粘贴事件填充正确的描述，并在复制和剪切事件响应时在操作系统剪贴板上设置正确的数据格式。</p>

        <h4 class="heading settled" data-level="6.4.1" id="reading-from-clipboard"><span class="secno">6.4.1.
            </span><span class="content">从剪贴板读取</span><a class="self-link" href="#reading-from-clipboard"></a></h4>
        <p>如果剪贴板上存在相应的本地类型，这些数据类型必须在 <em>粘贴</em> 事件中暴露：</p>
        <ul>
            <li data-md>
                <p>text/plain</p>
            <li data-md>
                <p>text/html</p>
            <li data-md>
                <p>image/png</p>
        </ul>

        <h4 class="heading settled" data-level="6.4.2" id="writing-to-clipboard"><span class="secno">6.4.2. </span><span
                class="content">写入剪贴板</span><a class="self-link" href="#writing-to-clipboard"></a></h4>
        <p>如果在 <em>复制</em> 和 <em>剪切</em> 事件期间将这些数据类型添加到 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑥">DataTransfer</a></code>
            对象中，它们必须与相应的本地类型描述一起放置在剪贴板上。</p>
        <ul>
            <li data-md>
                <p>text/plain</p>
            <li data-md>
                <p>text/html</p>
            <li data-md>
                <p>image/png</p>
        </ul>

        <p><strong class="advisement">
                警告！为了安全考虑，未受信任的脚本被允许写入剪贴板的数据类型是有限的。未受信任的脚本可能尝试通过在剪贴板上放置已知可以触发本地软件漏洞的数据来利用安全漏洞。</strong></p>

        <h2 class="heading settled" data-level="7" id="async-clipboard-api"><span class="secno">7. </span><span
                class="content">异步剪贴板 API</span><a class="self-link" href="#async-clipboard-api"></a></h2>

        <h3 class="heading settled" data-level="7.1" id="navigator-interface"><span class="secno">7.1. </span><span
                class="content">Navigator 接口</span><a class="self-link" href="#navigator-interface"></a></h3>
        <pre class="idl highlight def" data-highlight="webidl"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#clipboard" id="ref-for-clipboard"><c- n>Clipboard</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="attribute" data-export data-readonly data-type="Clipboard" id="dom-navigator-clipboard"><code><c- g>clipboard</c-></code></dfn>;
};
</pre>

        <div id="navigator-idl">
            <div class="algorithm" data-algorithm="navigator-clipboard">
                <h4 class="heading settled" data-level="7.1.1" id="h-navigator-clipboard"><span class="secno">7.1.1.
                    </span><span class="content"><dfn class="dfn-paneled" data-dfn-for="Navigator" data-dfn-type="dfn"
                            data-noexport id="navigator-clipboard">剪贴板</dfn></span><a class="self-link"
                        href="#h-navigator-clipboard"></a></h4>
                它用于从/向 <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①⓪">系统剪贴板</a>
                执行读/写操作。
                <code
                    class="idl"><a data-link-type="idl" href="#dom-navigator-clipboard" id="ref-for-dom-navigator-clipboard">clipboard</a></code>
                getter 步骤是返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-this">this</a> 的 <a data-link-type="dfn" href="#navigator-clipboard"
                    id="ref-for-navigator-clipboard">clipboard</a> 对象。
            </div>
        </div>

        <h3 class="heading settled" data-level="7.2" id="clipboard-item-interface"><span class="secno">7.2. </span><span
                class="content">ClipboardItem 接口</span><a class="self-link" href="#clipboard-item-interface"></a></h3>
        <pre class="idl highlight def" data-highlight="webidl"><c- b>typedef</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob"><c- n>Blob</c-></a>)> <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-clipboarditemdata"><code><c- g>ClipboardItemData</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="clipboarditem"><code><c- g>ClipboardItem</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#dom-clipboarditem-clipboarditem" id="ref-for-dom-clipboarditem-clipboarditem"><c- g>constructor</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a>, <a data-link-type="idl-name" href="#typedefdef-clipboarditemdata" id="ref-for-typedefdef-clipboarditemdata"><c- n>ClipboardItemData</c-></a>> <dfn class="idl-code" data-dfn-for="ClipboardItem/ClipboardItem(items, options), ClipboardItem/constructor(items, options), ClipboardItem/ClipboardItem(items), ClipboardItem/constructor(items)" data-dfn-type="argument" data-export id="dom-clipboarditem-clipboarditem-items-options-items"><code><c- g>items</c-></code><a class="self-link" href="#dom-clipboarditem-clipboarditem-items-options-items"></a></dfn>,
              <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboarditemoptions" id="ref-for-dictdef-clipboarditemoptions"><c- n>ClipboardItemOptions</c-></a> <dfn class="idl-code" data-dfn-for="ClipboardItem/ClipboardItem(items, options), ClipboardItem/constructor(items, options), ClipboardItem/ClipboardItem(items), ClipboardItem/constructor(items)" data-dfn-type="argument" data-export id="dom-clipboarditem-clipboarditem-items-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-clipboarditem-clipboarditem-items-options-options"></a></dfn> = {});

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-presentationstyle" id="ref-for-enumdef-presentationstyle"><c- n>PresentationStyle</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PresentationStyle" href="#dom-clipboarditem-presentationstyle" id="ref-for-dom-clipboarditem-presentationstyle"><c- g>presentationStyle</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>" href="#dom-clipboarditem-types" id="ref-for-dom-clipboarditem-types"><c- g>types</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①"><c- n>Blob</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboarditem-gettype" id="ref-for-dom-clipboarditem-gettype"><c- g>getType</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="ClipboardItem/getType(type)" data-dfn-type="argument" data-export id="dom-clipboarditem-gettype-type-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-clipboarditem-gettype-type-type"></a></dfn>);
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-presentationstyle"><code><c- g>PresentationStyle</c-></code></dfn> { <dfn class="idl-code" data-dfn-for="PresentationStyle" data-dfn-type="enum-value" data-export id="dom-presentationstyle-unspecified"><code><c- s>"unspecified"</c-></code><a class="self-link" href="#dom-presentationstyle-unspecified"></a></dfn>, <dfn class="idl-code" data-dfn-for="PresentationStyle" data-dfn-type="enum-value" data-export id="dom-presentationstyle-inline"><code><c- s>"inline"</c-></code><a class="self-link" href="#dom-presentationstyle-inline"></a></dfn>, <dfn class="idl-code" data-dfn-for="PresentationStyle" data-dfn-type="enum-value" data-export id="dom-presentationstyle-attachment"><code><c- s>"attachment"</c-></code><a class="self-link" href="#dom-presentationstyle-attachment"></a></dfn> };

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clipboarditemoptions"><code><c- g>ClipboardItemOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="#enumdef-presentationstyle" id="ref-for-enumdef-presentationstyle①"><c- n>PresentationStyle</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;unspecified&quot;" data-dfn-for="ClipboardItemOptions" data-dfn-type="dict-member" data-export data-type="PresentationStyle " id="dom-clipboarditemoptions-presentationstyle"><code><c- g>presentationStyle</c-></code></dfn> = "unspecified";
};
</pre>
        <dl class="note">
            <dt><code><var>clipboardItem</var> = new ClipboardItem([<var>items</var>, <var>options</var>])</code>
            <dd>
                创建一个新的 <code
                    class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem">ClipboardItem</a></code>
                对象。<var>items</var> 表示 <a data-link-type="dfn" href="#list-of-representations"
                    id="ref-for-list-of-representations">表示列表</a>，每个 <a data-link-type="dfn" href="#representation"
                    id="ref-for-representation">表示</a> 都有一个 <a data-link-type="dfn" href="#representation-mime-type"
                    id="ref-for-representation-mime-type">MIME 类型</a> 和一个 <a data-link-type="dfn"
                    href="http://tc39.github.io/ecma262/#sec-promise-objects"
                    id="ref-for-sec-promise-objects">Promise</a> 对应于 <code
                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob②">Blob</a></code>
                或 <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤">DOMString</a></code>，<var>options</var>
                用于填充 <code
                    class="idl"><a data-link-type="idl" href="#dictdef-clipboarditemoptions" id="ref-for-dictdef-clipboarditemoptions①">ClipboardItemOptions</a></code>，如下示例所示。
                <pre class="example javascript highlight" id="example-92be93df"><a class="self-link" href="#example-92be93df"></a><c- a>const</c-> format1 <c- o>=</c-> <c- t>'text/plain'</c-><c- p>;</c-> 
<c- a>const</c-> promise_text_blob <c- o>=</c-> Promise<c- p>.</c->resolve<c- p>(</c-><c- ow>new</c-> Blob<c- p>([</c-><c- t>'hello'</c-><c- p>],</c-> <c- p>{</c->type<c- o>:</c-> format1<c- p>}));</c-> 
<c- a>const</c-> clipboardItemInput <c- o>=</c-> <c- ow>new</c-> ClipboardItem<c- p>(</c-> 
  <c- p>{[</c->format1<c- p>]</c-><c- o>:</c-> promise_text_blob<c- p>},</c-> 
  <c- p>{</c->presentationStyle<c- o>:</c-> <c- u>"unspecified"</c-><c- p>});</c-> 
</pre>
            <dt><code><var>clipboardItem</var>.getType(<var>type</var>)</code>
            <dd>返回一个 <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
                    id="ref-for-sec-promise-objects①">Promise</a> 对应于 <code
                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob③">Blob</a></code>，与
                <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type②">MIME
                    类型</a> <var>type</var> 相对应。
            <dt><code><var>clipboardItem</var>.<var>types</var></code>
            <dd>返回 <a data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type③">MIME
                    类型</a> 列表，包含在 <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①">剪贴板项目</a>
                对象中。
        </dl>
        <p>一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clipboard-item">剪贴板项目</dfn>
            从概念上讲是用户通过调用“剪切”或“复制”命令表示希望共享的数据。一个 <a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item②">剪贴板项目</a> 有两个用途。首先，它允许网站读取用户复制到系统剪贴板的数据。其次，它允许网站将数据写入系统剪贴板。</p>
        <p class="note" role="note"> 例如，如果用户从本地应用程序的电子表格中复制一组单元格，它将生成一个 <a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item③">剪贴板项目</a>。如果用户从桌面复制一组文件，则该文件列表将由多个 <a data-link-type="dfn"
                href="#clipboard-item" id="ref-for-clipboard-item④">剪贴板项目</a> 表示。</p>
        <p>某些平台可能支持在 <a data-link-type="dfn" href="#navigator-clipboard" id="ref-for-navigator-clipboard①">剪贴板</a>
            上一次拥有多个 <a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item⑤">剪贴板项目</a>，而其他平台则会用新的项目替换先前的 <a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item⑥">剪贴板项目</a>。</p>
        <p>一个 <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item⑦">剪贴板项目</a> 有一个 <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="list-of-representations">表示列表</dfn>，每个 <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="representation">表示</dfn> 具有关联的 <dfn
                class="dfn-paneled" data-dfn-for="representation" data-dfn-type="dfn" data-noexport
                id="representation-mime-type">MIME 类型</dfn>（<a data-link-type="dfn"
                href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type">MIME 类型</a>）和 <dfn
                class="dfn-paneled" data-dfn-for="representation" data-dfn-type="dfn" data-noexport
                id="representation-data">数据</dfn>（<code
                class="idl"><a data-link-type="idl" href="#typedefdef-clipboarditemdata" id="ref-for-typedefdef-clipboarditemdata①">ClipboardItemData</a></code>）。
        </p>
        <p class="note" role="note"> 在用户从电子表格中复制一组单元格的示例中，它可以表示为图像（image/png）、HTML 表格（text/html）或纯文本（text/plain）。</p>
        <p>这些 <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type①">MIME
                类型</a> 中的每一种描述了同一个 <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item⑧">剪贴板项目</a>
            的不同 <a data-link-type="dfn" href="#representation" id="ref-for-representation①">表示</a>，它们在不同的保真度下使 <a
                data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item⑨">剪贴板项目</a> 在粘贴时更易于目标应用程序使用。</p>
        <p class="note" role="note"> 使该单元格范围作为图像可用将允许用户将单元格粘贴到照片编辑应用程序中，而 text/plain 格式可供文本编辑器应用程序使用。</p>
        <p>一个 <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①⓪">剪贴板项目</a> 具有一个 <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="presentation-style">展示样式</dfn>（<code
                class="idl"><a data-link-type="idl" href="#enumdef-presentationstyle" id="ref-for-enumdef-presentationstyle②">PresentationStyle</a></code>）。它有助于区分粘贴
            <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①①">剪贴板项目</a> 时应用程序是否应在粘贴点内联插入适当的
            <a data-link-type="dfn" href="#representation" id="ref-for-representation②">表示</a>，或是否应将其视为附件。
        </p>
        <p>支持粘贴单个 <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①②">剪贴板项目</a> 的 Web
            应用程序应使用第一个 <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①③">剪贴板项目</a>。</p>
        <p class="note" role="note"> <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write①">write()</a></code>
            会选择最后一个 <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①④">剪贴板项目</a>。</p>
        <p>支持粘贴多个 <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①⑤">剪贴板项目</a> 的 Web
            应用程序可以提供一个用户界面，预览每个 <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①⑥">剪贴板项目</a>
            的内容，并允许用户选择粘贴哪个项目。此外，应用程序应枚举它们正在粘贴的 <a data-link-type="dfn"
                href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type②">MIME
                类型</a>，并根据某些特定于应用程序的算法选择最适合该应用程序的类型。或者，应用程序可以为用户提供如何粘贴 <a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item①⑧">剪贴板项目</a> 的选项，例如“粘贴为图像”或“粘贴格式化文本”等。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①">ClipboardItem</a></code>
            对象具有一个关联的 <dfn class="dfn-paneled" data-dfn-for="ClipboardItem" data-dfn-type="dfn" data-noexport
                id="clipboarditem-clipboard-item">剪贴板项目</dfn>，它是一个 <a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item①⑨">剪贴板项目</a>。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem②">ClipboardItem</a></code>
            对象具有一个关联的 <dfn class="dfn-paneled" data-dfn-for="ClipboardItem" data-dfn-type="dfn" data-noexport
                id="clipboarditem-types-array">类型数组</dfn>，它是一个 <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array①">FrozenArray</a></code>&lt;<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥">DOMString</a></code>>。
        </p>
        <p>要 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-clipboarditem-object">创建 <code
                    class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem③">ClipboardItem</a></code>
                对象</dfn>，给定一个 <a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item②⓪">剪贴板项目</a>
            <var>clipboardItem</var> 和一个 Realm <var>realm</var>，请按以下步骤运行：
        </p>
        <ol>
            <li data-md>
                <p>将 <var>clipboardItemObject</var> 设为一个 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#new" id="ref-for-new">新的</a> <code
                        class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem④">ClipboardItem</a></code>
                    与 <var>realm</var>。</p>
            </li>
            <li data-md>
                <p>将 <var>clipboardItemObject</var> 的 <a data-link-type="dfn" href="#clipboard-item"
                        id="ref-for-clipboard-item②①">剪贴板项目</a> 设置为 <var>clipboardItem</var>。</p>
            </li>
        </ol>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="constructor" data-export
                data-lt="ClipboardItem(items, options)|constructor(items, options)|ClipboardItem(items)|constructor(items)"
                id="dom-clipboarditem-clipboarditem"><code>new ClipboardItem(<var>items</var>, <var>options</var>)</code></dfn>
            构造步骤如下：</p>
        <ol>
            <li data-md>
                <p>如果 <var>items</var> 为空，则抛出 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>
                    错误。
                </p>
            <li data-md>
                <p>如果 <var>options</var> 为空，则将 options["presentationStyle"] 设置为 "unspecified"。</p>
            <li data-md>
                <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a> 的
                    <a data-link-type="dfn" href="#clipboarditem-clipboard-item"
                        id="ref-for-clipboarditem-clipboard-item">clipboard item</a> 设置为一个新的 <a data-link-type="dfn"
                        href="#clipboard-item" id="ref-for-clipboard-item②②">clipboard item</a>。
                </p>
            <li data-md>
                <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a> 的
                    <a data-link-type="dfn" href="#clipboarditem-clipboard-item"
                        id="ref-for-clipboarditem-clipboard-item①">clipboard item</a> 的 <a data-link-type="dfn"
                        href="#presentation-style" id="ref-for-presentation-style">presentation style</a> 设置为
                    <var>options</var>["<code
                        class="idl"><a data-link-type="idl" href="#dom-clipboarditemoptions-presentationstyle" id="ref-for-dom-clipboarditemoptions-presentationstyle">presentationStyle</a></code>"]。
                </p>
            <li data-md>
                <p>令 <var>types</var> 为一个 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦">DOMString</a></code>
                    的列表。
                </p>
            <li data-md>
                <p>对于 <var>items</var> 中的每个 (<var>key</var>, <var>value</var>)：</p>
                <ol>
                    <li data-md>
                        <p>令 <var>mimeType</var> 为给定 <var>key</var> 时 <a data-link-type="dfn"
                                href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type"
                                id="ref-for-parse-a-mime-type">解析 MIME 类型</a> 的结果。</p>
                    <li data-md>
                        <p>如果 <var>mimeType</var> 解析失败，则抛出 <code
                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>
                            错误。
                        </p>
                    <li data-md>
                        <p>如果 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this③">this</a> 的 <a data-link-type="dfn"
                                href="#clipboarditem-clipboard-item"
                                id="ref-for-clipboarditem-clipboard-item②">clipboard item</a> 的 <a data-link-type="dfn"
                                href="#list-of-representations" id="ref-for-list-of-representations①">表示列表</a>中
                            包含一个 <a data-link-type="dfn" href="#representation" id="ref-for-representation③">表示</a>，其 <a
                                data-link-type="dfn" href="#representation-mime-type"
                                id="ref-for-representation-mime-type④">MIME 类型</a> 为
                            <var>mimeType</var>，则抛出 <code
                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>
                            错误。
                        </p>
                    <li data-md>
                        <p>令 <var>representation</var> 为一个新的 <a data-link-type="dfn" href="#representation"
                                id="ref-for-representation④">表示</a>。</p>
                    <li data-md>
                        <p>将 <var>representation</var> 的 <a data-link-type="dfn" href="#representation-mime-type"
                                id="ref-for-representation-mime-type⑤">MIME 类型</a> 设置为 <var>mimeType</var>。</p>
                    <li data-md>
                        <p>将 <var>representation</var> 的 <a data-link-type="dfn" href="#representation-data"
                                id="ref-for-representation-data">数据</a> 设置为 <var>value</var>。</p>
                    <li data-md>
                        <p>将 <var>representation</var> 附加到 <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a> 的 <a
                                data-link-type="dfn" href="#clipboarditem-clipboard-item"
                                id="ref-for-clipboarditem-clipboard-item③">clipboard item</a> 的 <a data-link-type="dfn"
                                href="#list-of-representations" id="ref-for-list-of-representations②">表示列表</a> 中。</p>
                    <li data-md>
                        <p>令 <var>mimeTypeString</var> 为 <a data-link-type="dfn"
                                href="https://mimesniff.spec.whatwg.org/#serialize-a-mime-type"
                                id="ref-for-serialize-a-mime-type">序列化 MIME 类型</a> 后的 <var>mimeType</var> 结果。
                        </p>
                    <li data-md>
                        <p>将 <var>mimeTypeString</var> 添加到 <var>types</var> 中。</p>
                </ol>
            <li data-md>
                <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a> 的
                    <a data-link-type="dfn" href="#clipboarditem-types-array"
                        id="ref-for-clipboarditem-types-array">类型数组</a> 设置为运行 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array"
                        id="ref-for-dfn-create-frozen-array">创建一个冻结数组</a> 的结果。
                </p>
        </ol>
        <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="attribute"
            data-export data-level="7.2.1" data-lt="presentationStyle" id="dom-clipboarditem-presentationstyle"><span
                class="secno">7.2.1. </span><span class="content">presentationStyle</span><a class="self-link"
                href="#dom-clipboarditem-presentationstyle" id="ref-for-dom-clipboarditem-presentationstyle②"></a></h4>
        <p> <code
                class="idl"><a data-link-type="idl" href="#dom-clipboarditem-presentationstyle" id="ref-for-dom-clipboarditem-presentationstyle①">presentationStyle</a></code>
            的 getter 步骤是返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                id="ref-for-this⑥">this</a> 的 <a data-link-type="dfn" href="#clipboarditem-clipboard-item"
                id="ref-for-clipboarditem-clipboard-item④">clipboard item</a> 的 <a data-link-type="dfn"
                href="#presentation-style" id="ref-for-presentation-style①">presentation style</a>。 </p>
        <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="attribute"
            data-export data-level="7.2.2" data-lt="types" id="dom-clipboarditem-types"><span class="secno">7.2.2.
            </span><span class="content">types</span><a class="self-link" href="#dom-clipboarditem-types"
                id="ref-for-dom-clipboarditem-types②"></a></h4>
        <p> <code
                class="idl"><a data-link-type="idl" href="#dom-clipboarditem-types" id="ref-for-dom-clipboarditem-types①">types</a></code>
            的 getter 步骤是返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                id="ref-for-this⑦">this</a> 的 <a data-link-type="dfn" href="#clipboarditem-types-array"
                id="ref-for-clipboarditem-types-array①">类型数组</a>。 </p>
        <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="method" data-export
            data-level="7.2.3" data-lt="getType(type)" id="dom-clipboarditem-gettype"><span class="secno">7.2.3.
            </span><span class="content">getType(type)</span><a class="self-link" href="#dom-clipboarditem-gettype"
                id="ref-for-dom-clipboarditem-gettype①"></a></h4>
        <p>此方法必须按以下步骤执行：</p>
        <ol>
            <li data-md>
                <p>令 <var>realm</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-this⑧">this</a> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                        id="ref-for-concept-relevant-realm">相关 realm</a>。</p>
            <li data-md>
                <p>令 <var>mimeType</var> 为给定 <var>type</var> 时 <a data-link-type="dfn"
                        href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type①">解析
                        MIME 类型</a> 的结果。</p>
            <li data-md>
                <p>如果 <var>mimeType</var> 解析失败，则抛出 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>
                    错误。
                </p>
            <li data-md>
                <p>令 <var>itemTypeList</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-this⑨">this</a> 的 <a data-link-type="dfn" href="#clipboarditem-clipboard-item"
                        id="ref-for-clipboarditem-clipboard-item⑤">clipboard item</a> 的 <a data-link-type="dfn"
                        href="#list-of-representations" id="ref-for-list-of-representations③">表示列表</a>。</p>
            <li data-md>
                <p>令 <var>p</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                        id="ref-for-a-new-promise">在 <var>realm</var> 中创建的新 Promise</a>。</p>
            <li data-md>
                <p>对于 <var>itemTypeList</var> 中的每个 <var>representation</var>：</p>
                <ol>
                    <li data-md>
                        <p>如果 <var>representation</var> 的 <a data-link-type="dfn" href="#representation-mime-type"
                                id="ref-for-representation-mime-type⑥">MIME 类型</a> 是 <var>mimeType</var>，则：</p>
                        <ol>
                            <li data-md>
                                <p>令 <var>representationDataPromise</var> 为 <var>representation</var> 的 <a
                                        data-link-type="dfn" href="#representation-data"
                                        id="ref-for-representation-data①">数据</a>。</p>
                            <li data-md>
                                <p><a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                                        id="ref-for-dfn-perform-steps-once-promise-is-settled">响应</a>
                                    <var>representationDataPromise</var>：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>如果 <var>representationDataPromise</var> 成功，并返回值 <var>v</var>，则：
                                        </p>
                                        <ol>
                                            <li data-md>
                                                <p>如果 <var>v</var> 是 <code
                                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧">DOMString</a></code>，
                                                    按以下步骤处理：</p>
                                                <ol>
                                                    <li data-md>
                                                        <p>令 <var>dataAsBytes</var> 为 <a data-link-type="dfn"
                                                                href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                                                id="ref-for-utf-8-encode">将 <var>v</var> 进行 UTF-8 编码</a>
                                                            的结果。
                                                        </p>
                                                    <li data-md>
                                                        <p>令 <var>blobData</var> 为使用 <var>dataAsBytes</var> 创建的 <code
                                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob④">Blob</a></code>，
                                                            其 <code
                                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type">type</a></code>
                                                            设置为序列化后的 <var>mimeType</var>。</p>
                                                    <li data-md>
                                                        <p>使用 <var>blobData</var> 来解决 <var>p</var>。</p>
                                                </ol>
                                            <li data-md>
                                                <p>如果 <var>v</var> 是 <code
                                                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑤">Blob</a></code>，
                                                    按以下步骤处理：</p>
                                                <ol>
                                                    <li data-md>
                                                        <p>使用 <var>v</var> 来解决 <var>p</var>。</p>
                                                </ol>
                                        </ol>
                                    <li data-md>
                                        <p>如果 <var>representationDataPromise</var> 被拒绝，则：</p>
                                        <ol>
                                            <li data-md>
                                                <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                        id="ref-for-reject">使用</a> <code
                                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror">"NotFoundError"</a></code>，
                                                    在 <var>realm</var> 中的 <code
                                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>
                                                    拒绝 <var>p</var>。
                                                </p>
                                                <p class="issue" id="issue-2d83c5ad"><a class="self-link"
                                                        href="#issue-2d83c5ad"></a> Web 开发者可能对底层拒绝原因感兴趣。</p>
                                        </ol>
                                </ol>
                            <li data-md>
                                <p>返回 <var>p</var>。</p>
                        </ol>
                </ol>
            <li data-md>
                <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">拒绝</a>
                    <var>p</var>，并使用 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror①">"NotFoundError"</a></code>，
                    在 <var>realm</var> 中抛出 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>。
                </p>
            <li data-md>
                <p>返回 <var>p</var>。</p>
        </ol>
        <h3 class="heading settled" data-level="7.3" id="clipboard-interface"><span class="secno">7.3. </span><span
                class="content">剪贴板接口</span><a class="self-link" href="#clipboard-interface"></a></h3>
        <pre class="idl highlight def" data-highlight="webidl"><c- b>typedef</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#clipboarditem" id="ref-for-clipboarditem⑤"><c- n>ClipboardItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-clipboarditems"><code><c- g>ClipboardItems</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="clipboard"><code><c- g>Clipboard</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-clipboarditems" id="ref-for-typedefdef-clipboarditems"><c- n>ClipboardItems</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read①"><c- g>read</c-></a>();
<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑨"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext"><c- g>readText</c-></a>();
<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write②"><c- g>write</c-></a>(<a data-link-type="idl-name" href="#typedefdef-clipboarditems" id="ref-for-typedefdef-clipboarditems①"><c- n>ClipboardItems</c-></a> <dfn class="idl-code" data-dfn-for="Clipboard/write(data)" data-dfn-type="argument" data-export id="dom-clipboard-write-data-data"><code><c- g>data</c-></code><a class="self-link" href="#dom-clipboard-write-data-data"></a></dfn>);
<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-writetext" id="ref-for-dom-clipboard-writetext"><c- g>writeText</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="Clipboard/writeText(data)" data-dfn-type="argument" data-export id="dom-clipboard-writetext-data-data"><code><c- g>data</c-></code><a class="self-link" href="#dom-clipboard-writetext-data-data"></a></dfn>);
};
</pre>
        <p>剪贴板接口中的某些方法使用或返回多个 <code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑥">ClipboardItem</a></code>
            对象。然而，并非所有平台都支持多个 <a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item②③">剪贴板项</a>；在这些平台上，下面的算法将忽略传递给 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write③">write()</a></code>
            的第一个以外的 <code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑦">ClipboardItem</a></code>
            对象，并且 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read②">read()</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext①">readText()</a></code>
            仅从操作系统获取一个剪贴板项。</p>
        <p>一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clipboard-items">剪贴板项</dfn>
            对象是 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"
                id="ref-for-idl-sequence①">序列</a> 的 <a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item②④">剪贴板项</a>。</p>
        <p class="note" role="note"> Web 作者需要创建一个包含 <code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑧">ClipboardItem</a></code>
            数组的 <var>data</var>
            以使用 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write④">write(data)</a></code>
            方法将内容写入 <a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①①">系统剪贴板</a>。 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read③">read()</a></code>
            返回一个 <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
                id="ref-for-sec-promise-objects②">Promise</a>，表示系统剪贴板内容的 <a data-link-type="dfn" href="#clipboard-items"
                id="ref-for-clipboard-items">剪贴板项</a> 对象。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clipboard-task-source">剪贴板任务源</dfn> 是响应读取或写入
            <a data-link-type="dfn" href="#system-clipboard-data" id="ref-for-system-clipboard-data②">系统剪贴板数据</a> 而触发的。
        </p>
        <div id="clipboard-idl">
            <div class="algorithm" data-algorithm="clipboard-read">
                <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method"
                    data-export data-level="7.3.1" data-lt="read()" id="dom-clipboard-read"><span class="secno">7.3.1.
                    </span><span class="content">read()</span><a class="self-link" href="#dom-clipboard-read"
                        id="ref-for-dom-clipboard-read⑤"></a></h4>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read④">read()</a></code>
                    方法必须执行以下步骤：</p>
                <ol>
                    <li data-md>
                        <p>让 <var>realm</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this①⓪">this</a> 的 <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                id="ref-for-concept-relevant-realm①">相关 realm</a>。</p>
                    <li data-md>
                        <p>在 <var>realm</var> 中让 <var>p</var> 为 <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">新
                                Promise</a>。</p>
                    <li data-md>
                        <p>并行运行以下步骤：</p>
                        <ol>
                            <li data-md>
                                <p>让 <var>r</var> 为运行 <a data-link-type="dfn" href="#check-clipboard-read-permission"
                                        id="ref-for-check-clipboard-read-permission">检查剪贴板读取权限</a> 的结果。</p>
                            <li data-md>
                                <p>如果 <var>r</var> 为 false，则：</p>
                                <ol>
                                    <li data-md>
                                        <p><a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                                id="ref-for-queue-a-global-task">在</a> <var>realm</var> 的 <a
                                                data-link-type="dfn">全局对象</a> 上，在 <a data-link-type="dfn">权限任务源</a>
                                            上排队全局任务，来 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#reject"
                                                id="ref-for-reject②">拒绝</a> <var>p</var>，并使用 <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">"NotAllowedError"</a></code>
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>
                                            来拒绝 <var>p</var>。
                                        </p>
                                    <li data-md>
                                        <p>终止这些步骤。</p>
                                </ol>
                            <li data-md>
                                <p>让 <var>data</var> 为 <a data-link-type="dfn" href="#system-clipboard-data"
                                        id="ref-for-system-clipboard-data③">系统剪贴板数据</a> 的副本，表示为 <a data-link-type="dfn"
                                        href="#clipboard-items" id="ref-for-clipboard-items①">剪贴板项</a>。对于在 <a
                                        data-link-type="dfn" href="#mandatory-data-types"
                                        id="ref-for-mandatory-data-types①">强制数据类型</a> 列表中定义的 MIME 类型，<var>data</var>
                                    可能会被清理，但 image/png 格式的有效载荷未经过清理，以保留元数据。</p>
                                <p class="issue" id="issue-c148910f"><a class="self-link" href="#issue-c148910f"></a>
                                    一些操作系统包含多个剪贴板（例如 Linux，“主剪贴板”、“辅助剪贴板”、“选择剪贴板”）。请定义从哪个剪贴板中读取数据。</p>
                                <p class="issue" id="issue-2147149e"><a class="self-link" href="#issue-2147149e"></a>
                                    添加清理的定义。</p>
                                <p class="note" role="note"><span class="marker">注意：</span> 正如在 <a
                                        href="#image-transcode">§ 10.3 转码图片</a> 中进一步描述的那样，这显式地不转码图片。
                                    相反，应该将原始未修改的图片数据暴露给网站。</p>
                            <li data-md>
                                <p><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                        id="ref-for-queue-a-global-task①">在</a> <var>realm</var> 的 <a
                                        data-link-type="dfn">全局对象</a> 上，在 <a data-link-type="dfn"
                                        href="#clipboard-task-source" id="ref-for-clipboard-task-source">剪贴板任务源</a>
                                    上排队全局任务，以执行以下步骤：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>让 <var>items</var> 为一个 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#idl-sequence"
                                                id="ref-for-idl-sequence②">序列</a>&lt;<code
                                                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑨">ClipboardItem</a></code>>。
                                        </p>
                                    <li data-md>
                                        <p>对于 <var>data</var> 中的每个 <a data-link-type="dfn" href="#clipboard-item"
                                                id="ref-for-clipboard-item②⑤">剪贴板项</a> <var>underlyingItem</var>：
                                        </p>
                                        <ol>
                                            <li data-md>
                                                <p>让 <var>item</var> 为运行 <a data-link-type="dfn"
                                                        href="#create-a-clipboarditem-object"
                                                        id="ref-for-create-a-clipboarditem-object">创建 ClipboardItem
                                                        对象</a> 的步骤结果，给定 <var>underlyingItem</var> 和
                                                    <var>realm</var>。
                                                </p>
                                            <li data-md>
                                                <p>将 <var>item</var> 添加到 <var>items</var>。</p>
                                        </ol>
                                    <li data-md>
                                        <p>使用 <var>items</var> 解析 <var>p</var>。</p>
                                </ol>
                        </ol>
                    <li data-md>
                        <p>返回 <var>p</var>。</p>
                </ol>
                <div></div>
                <pre class="example javascript highlight" id="example-c237e9e8"><a class="self-link" href="#example-c237e9e8"></a><c- a>const</c-> items <c- o>=</c-> <c- k>await</c-> navigator<c- p>.</c->clipboard<c- p>.</c->read<c- p>();</c->
<c- a>const</c-> textBlob <c- o>=</c-> <c- k>await</c-> items<c- p>[</c-><c- mf>0</c-><c- p>].</c->getType<c- p>(</c-><c- u>"text/plain"</c-><c- p>);</c->
<c- a>const</c-> text <c- o>=</c-> <c- k>await</c-> <c- p>(</c-><c- ow>new</c-> Response<c- p>(</c->textBlob<c- p>)).</c->text<c- p>();</c->
</pre>
            </div>
            <div class="algorithm" data-algorithm="clipboard-readtext">
                <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method"
                    data-export data-level="7.3.2" data-lt="readText()" id="dom-clipboard-readtext"><span
                        class="secno">7.3.2. </span><span class="content">readText()</span><a class="self-link"
                        href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext③"></a></h4>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext②">readText()</a></code>
                    方法必须执行以下步骤：</p>
                <ol>
                    <li data-md>
                        <p>让 <var>realm</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this①①">this</a> 的 <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                id="ref-for-concept-relevant-realm②">相关 realm</a>。</p>
                    <li data-md>
                        <p>在 <var>realm</var> 中让 <var>p</var> 为 <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②">新
                                Promise</a>。</p>
                    <li data-md>
                        <p>并行运行以下步骤：</p>
                        <ol>
                            <li data-md>
                                <p>让 <var>r</var> 为运行 <a data-link-type="dfn" href="#check-clipboard-read-permission"
                                        id="ref-for-check-clipboard-read-permission①">检查剪贴板读取权限</a> 的结果。</p>
                            <li data-md>
                                <p>如果 <var>r</var> 为 false，则：</p>
                                <ol>
                                    <li data-md>
                                        <p><a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                                id="ref-for-queue-a-global-task②">在</a> <var>realm</var> 的 <a
                                                data-link-type="dfn">全局对象</a> 上，在 <a data-link-type="dfn">权限任务源</a>
                                            上排队全局任务，来 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#reject"
                                                id="ref-for-reject③">拒绝</a> <var>p</var>，并使用 <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">"NotAllowedError"</a></code>
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>
                                            来拒绝 <var>p</var>。
                                        </p>
                                    <li data-md>
                                        <p>终止这些步骤。</p>
                                </ol>
                            <li data-md>
                                <p>让 <var>data</var> 为 <a data-link-type="dfn" href="#system-clipboard-data"
                                        id="ref-for-system-clipboard-data④">系统剪贴板数据</a> 的副本，表示为 <a data-link-type="dfn"
                                        href="#clipboard-items" id="ref-for-clipboard-items②">剪贴板项</a>。对于在 <a
                                        data-link-type="dfn" href="#mandatory-data-types"
                                        id="ref-for-mandatory-data-types②">强制数据类型</a> 列表中定义的 MIME 类型，<var>data</var>
                                    可能包含 text/plain 格式的清理副本。</p>
                                <p class="issue" id="issue-c148910f①"><a class="self-link" href="#issue-c148910f①"></a>
                                    一些操作系统包含多个剪贴板（例如 Linux，“主剪贴板”、“辅助剪贴板”、“选择剪贴板”）。请定义从哪个剪贴板中读取数据。</p>
                                <p class="issue" id="issue-1755f975"><a class="self-link" href="#issue-1755f975"></a>
                                    添加清理副本的定义。</p>
                            <li data-md>
                                <p><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                        id="ref-for-queue-a-global-task③">在</a> <var>realm</var> 的 <a
                                        data-link-type="dfn">全局对象</a> 上，在 <a data-link-type="dfn"
                                        href="#clipboard-task-source" id="ref-for-clipboard-task-source①">剪贴板任务源</a>
                                    上排队全局任务，以执行以下步骤：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>让 <var>dataList</var> 为一个 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#idl-sequence"
                                                id="ref-for-idl-sequence③">序列</a> 的 <a data-link-type="dfn"
                                                href="#clipboard-item" id="ref-for-clipboard-item②⑥">剪贴板项</a>。</p>
                                    <li data-md>
                                        <p>如果 <var>data</var> 的 <a data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#list-size"
                                                id="ref-for-list-size">大小</a>大于 1，则将 <var>data</var>[0] 添加到
                                            <var>dataList</var>。
                                        </p>
                                        <p class="issue" id="issue-52b202fd"><a class="self-link"
                                                href="#issue-52b202fd"></a> 在
                                            https://github.com/w3c/clipboard-apis/issues/166 中应修复读取多个剪贴板项的问题。</p>
                                    <li data-md>
                                        <p>让 <var>itemTypeList</var> 为 <var>dataList</var> 的 <a data-link-type="dfn"
                                                href="#clipboarditem-clipboard-item"
                                                id="ref-for-clipboarditem-clipboard-item⑥">剪贴板项</a> 的 <a
                                                data-link-type="dfn" href="#list-of-representations"
                                                id="ref-for-list-of-representations④">表示列表</a>。</p>
                                    <li data-md>
                                        <p>对于 <var>itemTypeList</var> 中的每个 <var>representation</var>：</p>
                                        <ol>
                                            <li data-md>
                                                <p>如果 <var>representation</var> 的 <a data-link-type="dfn"
                                                        href="#representation-mime-type"
                                                        id="ref-for-representation-mime-type⑦">MIME 类型</a> <a
                                                        data-link-type="dfn"
                                                        href="https://mimesniff.spec.whatwg.org/#mime-type-essence"
                                                        id="ref-for-mime-type-essence">精髓</a> 是 "text/plain"，则：</p>
                                                <ol>
                                                    <li data-md>
                                                        <p>让 <var>representationDataPromise</var> 为
                                                            <var>representation</var> 的 <a data-link-type="dfn"
                                                                href="#representation-data"
                                                                id="ref-for-representation-data②">数据</a>。
                                                        </p>
                                                    <li data-md>
                                                        <p><a data-link-type="dfn"
                                                                href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                                                                id="ref-for-dfn-perform-steps-once-promise-is-settled①">对</a>
                                                            <var>representationDataPromise</var> 进行响应：
                                                        </p>
                                                        <ol>
                                                            <li data-md>
                                                                <p>如果 <var>representationDataPromise</var> 已经使用值
                                                                    <var>v</var> 完成，则：
                                                                </p>
                                                                <ol>
                                                                    <li data-md>
                                                                        <p>如果 <var>v</var> 是一个 <code
                                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①①">DOMString</a></code>，则执行以下步骤：
                                                                        </p>
                                                                        <ol>
                                                                            <li data-md>
                                                                                <p>使用 <var>v</var> 解析 <var>p</var>。</p>
                                                                        </ol>
                                                                    <li data-md>
                                                                        <p>如果 <var>v</var> 是一个 <code
                                                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑥">Blob</a></code>，则执行以下步骤：
                                                                        </p>
                                                                        <ol>
                                                                            <li data-md>
                                                                                <p>让 <var>string</var> 为 <a
                                                                                        data-link-type="dfn"
                                                                                        href="https://encoding.spec.whatwg.org/#utf-8-decode"
                                                                                        id="ref-for-utf-8-decode">UTF-8
                                                                                        解码</a> <var>v</var> 的底层字节序列的结果。
                                                                                </p>
                                                                            <li data-md>
                                                                                <p>使用 <var>string</var> 解析 <var>p</var>。
                                                                                </p>
                                                                        </ol>
                                                                </ol>
                                                            <li data-md>
                                                                <p>如果 <var>representationDataPromise</var> 被拒绝，则：</p>
                                                                <ol>
                                                                    <li data-md>
                                                                        <p><a data-link-type="dfn"
                                                                                href="https://webidl.spec.whatwg.org/#reject"
                                                                                id="ref-for-reject④">拒绝</a>
                                                                            <var>p</var>，并使用 <code
                                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror②">"NotFoundError"</a></code>
                                                                            <code
                                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>
                                                                            在 <var>realm</var> 中拒绝。
                                                                        </p>
                                                                </ol>
                                                        </ol>
                                                </ol>
                                        </ol>
                                    <li data-md>
                                        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                id="ref-for-reject⑤">拒绝</a> <var>p</var>，并使用 <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror③">"NotFoundError"</a></code>
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>
                                            在 <var>realm</var> 中拒绝。
                                        </p>
                                    <li data-md>
                                        <p>返回 <var>p</var>。</p>
                                </ol>
                        </ol>
                </ol>
                <div></div>
                <pre class="example javascript highlight" id="example-18b01409"><a class="self-link" href="#example-18b01409"></a>navigator<c- p>.</c->clipboard<c- p>.</c->readText<c- p>().</c->then<c- p>(</c-><c- a>function</c-><c- p>(</c->data<c- p>)</c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- u>"Your string: "</c-><c- p>,</c-> data<c- p>);</c->
<c- p>});</c->
</pre>
            </div>
            <div class="algorithm" data-algorithm="clipboard-write">
                <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method"
                    data-export data-level="7.3.3" data-lt="write(data)" id="dom-clipboard-write"><span
                        class="secno">7.3.3. </span><span class="content">write(<var>data</var>)</span><a
                        class="self-link" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write⑥"></a></h4>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write⑤">write(data)</a></code>
                    方法必须执行以下步骤：</p>
                <ol>
                    <li data-md>
                        <p>让 <var>realm</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this①②">this</a> 的 <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                id="ref-for-concept-relevant-realm③">相关 realm</a>。</p>
                    <li data-md>
                        <p>在 <var>realm</var> 中让 <var>p</var> 为 <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise③">新
                                Promise</a>。</p>
                    <li data-md>
                        <p>并行运行以下步骤：</p>
                        <ol>
                            <li data-md>
                                <p>让 <var>r</var> 为运行 <a data-link-type="dfn" href="#check-clipboard-write-permission"
                                        id="ref-for-check-clipboard-write-permission">检查剪贴板写入权限</a> 的结果。</p>
                                <p class="issue" id="issue-1b338371"><a class="self-link" href="#issue-1b338371"></a>
                                    clipboard-write 在 https://github.com/w3c/clipboard-apis/pull/164 中已被移除。</p>
                            <li data-md>
                                <p>如果 <var>r</var> 为 false，则：</p>
                                <ol>
                                    <li data-md>
                                        <p><a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                                id="ref-for-queue-a-global-task④">在</a> <var>realm</var> 的 <a
                                                data-link-type="dfn">全局对象</a> 上，在 <a data-link-type="dfn">权限任务源</a>
                                            上排队全局任务，来 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#reject"
                                                id="ref-for-reject⑥">拒绝</a> <var>p</var>，并使用 <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror②">"NotAllowedError"</a></code>
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>
                                            来拒绝 <var>p</var>。
                                        </p>
                                    <li data-md>
                                        <p>终止这些步骤。</p>
                                </ol>
                            <li data-md>
                                <p><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                        id="ref-for-queue-a-global-task⑤">在</a> <var>realm</var> 的 <a
                                        data-link-type="dfn">全局对象</a> 上，在 <a data-link-type="dfn"
                                        href="#clipboard-task-source" id="ref-for-clipboard-task-source②">剪贴板任务源</a>
                                    上排队全局任务，以执行以下步骤：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>让 <var>itemList</var> 和 <var>cleanItemList</var> 为一个空的 <a
                                                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"
                                                id="ref-for-idl-sequence④">序列</a> 的 <code
                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑦">Blob</a></code>。
                                        </p>
                                    <li data-md>
                                        <p>让 <var>dataList</var> 为一个 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#idl-sequence"
                                                id="ref-for-idl-sequence⑤">序列</a> 的 <code
                                                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①⓪">ClipboardItem</a></code>。
                                        </p>
                                    <li data-md>
                                        <p>如果 <var>data</var> 的 <a data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#list-size"
                                                id="ref-for-list-size①">大小</a> 大于 1，且当前操作系统不支持 <a data-link-type="dfn"
                                                href="#system-clipboard" id="ref-for-system-clipboard①③">系统剪贴板</a>
                                            上的多个原生剪贴板项，则将 <var>data</var>[0] 添加到 <var>dataList</var> 中，否则将
                                            <var>dataList</var> 设置为 <var>data</var>。
                                        </p>
                                        <p class="issue" id="issue-f23cf1e2"><a class="self-link"
                                                href="#issue-f23cf1e2"></a> 当 <var>data</var>
                                            包含多个项目并且操作系统支持多个原生剪贴板项目时，当前算法依次将项目写入系统剪贴板，而不是将它们集体写入。</p>
                                    <li data-md>
                                        <p>对于 <var>dataList</var> 中的每个 <var>clipboardItem</var>：</p>
                                        <ol>
                                            <li data-md>
                                                <p>对于 <var>clipboardItem</var> 的 <a data-link-type="dfn"
                                                        href="#clipboarditem-clipboard-item"
                                                        id="ref-for-clipboarditem-clipboard-item⑦">剪贴板项目</a> 的每个
                                                    <var>representation</var>：
                                                </p>
                                                <ol>
                                                    <li data-md>
                                                        <p>让 <var>representationDataPromise</var> 为
                                                            <var>representation</var> 的 <a data-link-type="dfn"
                                                                href="#representation-data"
                                                                id="ref-for-representation-data③">数据</a>。
                                                        </p>
                                                    <li data-md>
                                                        <p><a data-link-type="dfn"
                                                                href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                                                                id="ref-for-dfn-perform-steps-once-promise-is-settled②">对</a>
                                                            <var>representationDataPromise</var> 进行响应：
                                                        </p>
                                                        <ol>
                                                            <li data-md>
                                                                <p>如果 <var>representationDataPromise</var> 已经使用值
                                                                    <var>v</var> 完成，则：
                                                                </p>
                                                                <ol>
                                                                    <li data-md>
                                                                        <p>如果 <var>v</var> 是一个 <code
                                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①②">DOMString</a></code>，则执行以下步骤：
                                                                        </p>
                                                                        <ol>
                                                                            <li data-md>
                                                                                <p>让 <var>dataAsBytes</var> 为使用 <a
                                                                                        data-link-type="dfn"
                                                                                        href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                                                                        id="ref-for-utf-8-encode①">UTF-8
                                                                                        编码</a> <var>v</var> 的结果。</p>
                                                                            <li data-md>
                                                                                <p>让 <var>blobData</var> 为一个使用
                                                                                    <var>dataAsBytes</var> 创建的 <code
                                                                                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑧">Blob</a></code>，其
                                                                                    <code
                                                                                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type①">type</a></code>
                                                                                    设置为 <var>representation</var> 的 <a
                                                                                        data-link-type="dfn"
                                                                                        href="#representation-mime-type"
                                                                                        id="ref-for-representation-mime-type⑧">MIME
                                                                                        类型</a>。
                                                                                </p>
                                                                            <li data-md>
                                                                                <p>将 <var>blobData</var> 添加到
                                                                                    <var>itemList</var> 中。
                                                                                </p>
                                                                        </ol>
                                                                    <li data-md>
                                                                        <p>如果 <var>v</var> 是一个 <code
                                                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑨">Blob</a></code>，则将
                                                                            <var>v</var> 添加到 <var>itemList</var> 中。
                                                                        </p>
                                                                </ol>
                                                            <li data-md>
                                                                <p>如果 <var>representationDataPromise</var> 被拒绝，则：</p>
                                                                <ol>
                                                                    <li data-md>
                                                                        <p><a data-link-type="dfn"
                                                                                href="https://webidl.spec.whatwg.org/#reject"
                                                                                id="ref-for-reject⑦">拒绝</a>
                                                                            <var>p</var>，并使用 <code
                                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror③">"NotAllowedError"</a></code>
                                                                            <code
                                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>
                                                                            在 <var>realm</var> 中拒绝。
                                                                        </p>
                                                                    <li data-md>
                                                                        <p>终止这些步骤。</p>
                                                                </ol>
                                                        </ol>
                                                </ol>
                                            <li data-md>
                                                <p>对于 <var>itemList</var> 中的每个 <var>blob</var>：</p>
                                                <ol>
                                                    <li data-md>
                                                        <p>让 <var>type</var> 为 <var>blob</var> 的 <code
                                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type②">type</a></code>。
                                                        </p>
                                                    <li data-md>
                                                        <p>如果 <var>type</var> 不在 <a data-link-type="dfn"
                                                                href="#mandatory-data-types"
                                                                id="ref-for-mandatory-data-types③">强制数据类型</a> 列表中，则使用
                                                            <code
                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror④">"NotAllowedError"</a></code>
                                                            <code
                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑧">DOMException</a></code>
                                                            拒绝 <var>p</var>，并终止这些步骤。
                                                        </p>
                                                    <li data-md>
                                                        <p>让 <var>cleanItem</var> 为 <var>blob</var> 的可选清理副本。</p>
                                                        <p class="issue" id="issue-1755f975①"><a class="self-link"
                                                                href="#issue-1755f975①"></a> 添加清理副本定义。</p>
                                                    <li data-md>
                                                        <p>如果尝试清理且未成功完成清理，则执行以下步骤：</p>
                                                        <ol>
                                                            <li data-md>
                                                                <p>使用 <code
                                                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror⑤">"NotAllowedError"</a></code>
                                                                    DOMException 来 <a data-link-type="dfn"
                                                                        href="https://webidl.spec.whatwg.org/#reject"
                                                                        id="ref-for-reject⑨">拒绝</a> <var>p</var>。</p>
                                                            <li data-md>
                                                                <p>终止这些步骤。</p>
                                                        </ol>
                                                    <li data-md>
                                                        <p>将 <var>cleanItem</var> 添加到 <var>cleanItemList</var> 中。</p>
                                                </ol>
                                            <li data-md>
                                                <p>让 <var>option</var> 为 <var>clipboardItem</var> 的 <a
                                                        data-link-type="dfn" href="#clipboarditem-clipboard-item"
                                                        id="ref-for-clipboarditem-clipboard-item⑧">剪贴板项目</a> 的 <a
                                                        data-link-type="dfn" href="#presentation-style"
                                                        id="ref-for-presentation-style②">展示样式</a>。</p>
                                            <li data-md>
                                                <p>使用 <var>cleanItemList</var> 和 <var>option</var> 将 blob 和选项写入剪贴板。</p>
                                        </ol>
                                    <li data-md>
                                        <p>解析 <var>p</var>。</p>
                                </ol>
                        </ol>
                    <li data-md>
                        <p>返回 <var>p</var>。</p>
                </ol>
                <div></div>
                <pre class="example javascript highlight" id="example-fd9ca915"><a class="self-link" href="#example-fd9ca915"></a><c- a>var</c-> data <c- o>=</c-> <c- p>[</c-><c- ow>new</c-> ClipboardItem<c- p>({</c-> <c- u>"text/plain"</c-><c- o>:</c-> Promise<c- p>.</c->resolve<c- p>(</c-><c- ow>new</c-> Blob<c- p>([</c-><c- u>"Text data"</c-><c- p>],</c-> <c- p>{</c-> type<c- o>:</c-> <c- u>"text/plain"</c-> <c- p>})</c-> <c- p>}))];</c->
navigator<c- p>.</c->clipboard<c- p>.</c->write<c- p>(</c->data<c- p>).</c->then<c- p>(</c-><c- a>function</c-><c- p>()</c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- u>"Copied to clipboard successfully!"</c-><c- p>);</c->
<c- p>},</c-> <c- a>function</c-><c- p>()</c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- u>"Unable to write to clipboard. :-("</c-><c- p>);</c->
<c- p>});</c->
</pre>
            </div>
            <div class="algorithm" data-algorithm="clipboard-writetext">
                <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method"
                    data-export data-level="7.3.4" data-lt="writeText(data)" id="dom-clipboard-writetext"><span
                        class="secno">7.3.4. </span><span class="content">writeText(<var>data</var>)</span><a
                        class="self-link" href="#dom-clipboard-writetext" id="ref-for-dom-clipboard-writetext②"></a>
                </h4>
                <p><code
                        class="idl"><a data-link-type="idl" href="#dom-clipboard-writetext" id="ref-for-dom-clipboard-writetext①">writeText(data)</a></code>
                    方法必须执行以下步骤：</p>
                <ol>
                    <li data-md>
                        <p>让 <var>realm</var> 为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this①③">this</a> 的 <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                id="ref-for-concept-relevant-realm④">相关 realm</a>。</p>
                    <li data-md>
                        <p>在 <var>realm</var> 中让 <var>p</var> 为 <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise④">新的
                                Promise</a>。</p>
                    <li data-md>
                        <p>并行运行以下步骤：</p>
                        <ol>
                            <li data-md>
                                <p>让 <var>r</var> 为运行 <a data-link-type="dfn" href="#check-clipboard-write-permission"
                                        id="ref-for-check-clipboard-write-permission①">检查剪贴板写入权限</a> 的结果。</p>
                                <p class="issue" id="issue-1b338371①"><a class="self-link" href="#issue-1b338371①"></a>
                                    clipboard-write 在 https://github.com/w3c/clipboard-apis/pull/164 中已被移除。</p>
                            <li data-md>
                                <p>如果 <var>r</var> 为 false，则：</p>
                                <ol>
                                    <li data-md>
                                        <p><a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                                id="ref-for-queue-a-global-task⑥">在</a> <var>realm</var> 的 <a
                                                data-link-type="dfn">全局对象</a> 上，在 <a data-link-type="dfn">权限任务源</a>
                                            上排队全局任务，来 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#reject"
                                                id="ref-for-reject①⓪">拒绝</a> <var>p</var>，并使用 <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror⑥">"NotAllowedError"</a></code>
                                            DOMException 来拒绝 <var>p</var>。</p>
                                    <li data-md>
                                        <p>终止这些步骤。</p>
                                </ol>
                            <li data-md>
                                <p><a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                        id="ref-for-queue-a-global-task⑦">在</a> <var>realm</var> 的 <a
                                        data-link-type="dfn">全局对象</a> 上，在 <a data-link-type="dfn"
                                        href="#clipboard-task-source" id="ref-for-clipboard-task-source③">剪贴板任务源</a>
                                    上排队全局任务，以执行以下步骤：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>让 <var>itemList</var> 为一个空的 <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#idl-sequence"
                                                id="ref-for-idl-sequence⑥">序列</a> 的 <code
                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①⓪">Blob</a></code>。
                                        </p>
                                    <li data-md>
                                        <p>让 <var>textBlob</var> 为一个新创建的 <code
                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①①">Blob</a></code>，其
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type③">type</a></code>
                                            属性设置为 "<code>text/plain;charset=utf-8</code>"，且其底层字节序列设置为 <var>data</var> 的
                                            <a data-link-type="dfn"
                                                href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                                id="ref-for-utf-8-encode②">UTF-8 编码</a>。
                                        </p>
                                        <p class="note" role="note"><span class="marker">注意：</span>在 Windows 上，将
                                            <var>data</var> 中的 `\n` 字符替换为 `\r\n` 后再创建 <var>textBlob</var>。
                                        </p>
                                    <li data-md>
                                        <p>将 <var>textBlob</var> 添加到 <var>itemList</var> 中。</p>
                                    <li data-md>
                                        <p>将 <var>option</var> 设置为 "unspecified"。</p>
                                    <li data-md>
                                        <p>使用 <var>itemList</var> 和 <var>option</var> 将 blob 和选项写入剪贴板。</p>
                                    <li data-md>
                                        <p>解析 <var>p</var>。</p>
                                </ol>
                        </ol>
                    <li data-md>
                        <p>返回 <var>p</var>。</p>
                </ol>
                <div></div>
                <pre class="example javascript highlight" id="example-a984ae2d"><a class="self-link" href="#example-a984ae2d"></a><c- k>await</c-> navigator<c- p>.</c->clipboard<c- p>.</c->writeText<c- p>(</c-><c- u>"Howdy, partner!"</c-><c- p>);</c->
</pre>
            </div>
        </div>
        <h2 class="heading settled" data-level="8" id="clipboard-actions"><span class="secno">8. </span><span
                class="content">剪贴板操作</span><a class="self-link" href="#clipboard-actions"></a></h2>
        <p>本节定义了剪贴板操作和事件派发的处理模型。</p>
        <p>每个剪贴板操作都有两个标志，分别称为 <a data-link-type="dfn" href="#script-triggered"
                id="ref-for-script-triggered">script-triggered</a> 和 <a data-link-type="dfn"
                href="#script-may-access-clipboard"
                id="ref-for-script-may-access-clipboard">script-may-access-clipboard</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="script-triggered">script-triggered</dfn>
            标志在操作由于脚本运行时设置，例如 <code>document.execCommand()</code> 调用。
            将来与剪贴板交互的脚本 API 也应使用这些操作，并且必须相应地设置 <a data-link-type="dfn" href="#script-triggered"
                id="ref-for-script-triggered①">script-triggered</a> 标志。</p>
        <div class="algorithm" data-algorithm="script-may-access-clipboard">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="script-may-access-clipboard">script-may-access-clipboard</dfn> 标志按如下方式设置：</p>
            <ol>
                <li data-md>
                    <p>如果操作是 <em>copy</em> 或 <em>cut</em> 并且脚本线程被 <a data-link-type="dfn"
                            href="#allowed-to-modify-the-clipboard"
                            id="ref-for-allowed-to-modify-the-clipboard">允许修改剪贴板</a>，那么</p>
                    <ol>
                        <li data-md>
                            <p>设置操作的 <a data-link-type="dfn" href="#script-may-access-clipboard"
                                    id="ref-for-script-may-access-clipboard①">script-may-access-clipboard</a> 标志。</p>
                    </ol>
                <li data-md>
                    <p>如果操作是 <em>paste</em> 并且脚本线程被 <a data-link-type="dfn" href="#allowed-to-read-from-clipboard"
                            id="ref-for-allowed-to-read-from-clipboard">允许从剪贴板读取</a>，那么</p>
                    <ol>
                        <li data-md>
                            <p>设置操作的 <a data-link-type="dfn" href="#script-may-access-clipboard"
                                    id="ref-for-script-may-access-clipboard②">script-may-access-clipboard</a> 标志。</p>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled" data-level="8.1" id="copy-action"><span class="secno">8.1. </span><span
                class="content">复制操作</span><a class="self-link" href="#copy-action"></a></h3>
        <div class="algorithm" data-algorithm="clipboard-copy-action">
            <p>复制操作包括以下步骤：</p>
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="#script-triggered"
                            id="ref-for-script-triggered②">script-triggered</a> 标志已设置，则</p>
                    <ol>
                        <li data-md>
                            <p>如果 <a data-link-type="dfn" href="#script-may-access-clipboard"
                                    id="ref-for-script-may-access-clipboard③">script-may-access-clipboard</a> 标志未设置，则
                            </p>
                            <ol>
                                <li data-md>
                                    <p>返回 false 并终止此算法。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="#fire-a-clipboard-event"
                            id="ref-for-fire-a-clipboard-event③">触发名为</a> <code
                            class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-copy" id="ref-for-eventdef-documentandelementeventhandlers-copy⑦">copy</a></code>
                        的剪贴板事件。</p>
                <li data-md>
                    <p>如果事件未被取消，则</p>
                    <ol>
                        <li data-md>
                            <p>将所选内容（如果有）复制到剪贴板。实现应该在网页中选择内容时创建替代的 text/html 和 text/plain 剪贴板格式。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#fire-a-clipboard-event"
                                    id="ref-for-fire-a-clipboard-event④">触发名为</a> <code
                                    class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange③">clipboardchange</a></code>
                                的剪贴板事件。</p>
                    </ol>
                <li data-md>
                    <p>否则，如果事件被取消，则</p>
                    <ol>
                        <li data-md>
                            <p>调用 <a data-link-type="dfn" href="#write-content-to-the-clipboard"
                                    id="ref-for-write-content-to-the-clipboard">将内容写入剪贴板</a> 的算法，传递 <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist①">DataTransferItemList</a></code>
                                列表 <em>items</em>，<em>clear-was-called</em> 标志和 <em>types-to-clear</em> 列表。</p>
                    </ol>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="8.2" id="cut-action"><span class="secno">8.2. </span><span
                class="content">剪切操作</span><a class="self-link" href="#cut-action"></a></h3>
        <div class="algorithm" data-algorithm="clipboard-cut-action">
            <p>剪切操作包括以下步骤：</p>
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="#script-triggered"
                            id="ref-for-script-triggered③">script-triggered</a> 标志已设置，则</p>
                    <ol>
                        <li data-md>
                            <p>如果 <a data-link-type="dfn" href="#script-may-access-clipboard"
                                    id="ref-for-script-may-access-clipboard④">script-may-access-clipboard</a> 标志未设置，则
                            </p>
                            <ol>
                                <li data-md>
                                    <p>返回 false 并终止此算法。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="#fire-a-clipboard-event"
                            id="ref-for-fire-a-clipboard-event⑤">触发名为</a> <code
                            class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-cut" id="ref-for-eventdef-documentandelementeventhandlers-cut①⓪">cut</a></code>
                        的剪贴板事件。</p>
                <li data-md>
                    <p>如果事件未被取消，则</p>
                    <ol>
                        <li data-md>
                            <p>如果在启用剪切的 <a data-link-type="dfn" href="#editable-context"
                                    id="ref-for-editable-context④">可编辑上下文</a> 中有选择，则</p>
                            <ol>
                                <li data-md>
                                    <p>将所选内容（如果有）复制到剪贴板。实现应该在网页中选择内容时创建替代的 text/html 和 text/plain 剪贴板格式。</p>
                                <li data-md>
                                    <p>从文档中删除选择内容并折叠选择。</p>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#fire-a-clipboard-event"
                                            id="ref-for-fire-a-clipboard-event⑥">触发名为</a> <code
                                            class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange④">clipboardchange</a></code>
                                        的剪贴板事件。</p>
                                <li data-md>
                                    <p>排队任务以触发由于修改而应触发的任何事件，详细信息请参见 <a
                                            href="#integration-with-other-scripts-and-events">§ 5.3 与其他脚本和事件的集成</a>。</p>
                            </ol>
                        <li data-md>
                            <p>否则，如果没有选择或上下文不可编辑，则</p>
                            <ol>
                                <li data-md>
                                    <p>返回 false。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>否则，如果事件被取消，则</p>
                    <ol>
                        <li data-md>
                            <p>调用 <a data-link-type="dfn" href="#write-content-to-the-clipboard"
                                    id="ref-for-write-content-to-the-clipboard①">将内容写入剪贴板</a> 的算法，传递 <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist②">DataTransferItemList</a></code>
                                列表 <em>items</em>，<em>clear-was-called</em> 标志和 <em>types-to-clear</em> 列表。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#fire-a-clipboard-event"
                                    id="ref-for-fire-a-clipboard-event⑦">触发名为</a> <code
                                    class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-clipboardchange" id="ref-for-eventdef-documentandelementeventhandlers-clipboardchange⑤">clipboardchange</a></code>
                                的剪贴板事件。</p>
                    </ol>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="8.3" id="paste-action"><span class="secno">8.3. </span><span
                class="content">粘贴操作</span><a class="self-link" href="#paste-action"></a></h3>
        <p>对于粘贴操作，<a data-link-type="dfn" href="#script-may-access-clipboard"
                id="ref-for-script-may-access-clipboard⑤">script-may-access-clipboard</a>
            标志取决于一个特定实现的权限机制，用于确定哪些站点或应用程序可以从剪贴板读取内容。当粘贴操作由脚本触发时，除非获得用户的许可，否则不得提供剪贴板内容。如果尚未授予权限，权限提示必须包含与脚本线程关联的文档的主机名。
        </p>
        <div class="algorithm" data-algorithm="clipboard-paste-action">
            <p>粘贴操作包括以下步骤：</p>
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="#script-triggered"
                            id="ref-for-script-triggered④">script-triggered</a> 标志已设置，则</p>
                    <ol>
                        <li data-md>
                            <p>如果 <a data-link-type="dfn" href="#script-may-access-clipboard"
                                    id="ref-for-script-may-access-clipboard⑥">script-may-access-clipboard</a> 未设置，则</p>
                            <ol>
                                <li data-md>
                                    <p>返回 false 并终止此算法。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p><a href="#fire-a-clipboard-event" id="ref-for-fire-a-clipboard-event⑧">触发名为</a> <code
                            class="idl"><a data-link-type="idl" href="#eventdef-documentandelementeventhandlers-paste" id="ref-for-eventdef-documentandelementeventhandlers-paste⑨">paste</a></code>
                        的剪贴板事件。</p>
                <li data-md>
                    <p>如果事件未被取消，则</p>
                    <ol>
                        <li data-md>
                            <p>如果在启用粘贴的 <a data-link-type="dfn" href="#editable-context"
                                    id="ref-for-editable-context⑤">可编辑上下文</a> 中有选择或光标，则</p>
                            <ol>
                                <li data-md>
                                    <p>将剪贴板中最合适的内容（如果有）插入到上下文中。</p>
                                <li data-md>
                                    <p>排队任务以触发由于修改而应触发的任何事件，详细信息请参见 <a
                                            href="#integration-with-other-scripts-and-events">§ 5.3 与其他脚本和事件的集成</a>。</p>
                            </ol>
                        <li data-md>
                            <p>否则</p>
                            <ol>
                                <li data-md>
                                    <p>返回 false。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>否则，如果事件被取消</p>
                    <ol>
                        <li data-md>
                            <p>返回 false。</p>
                    </ol>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="9" id="clipboard-permissions"><span class="secno">9. </span><span
                class="content">权限 API 集成</span><a class="self-link" href="#clipboard-permissions"></a></h2>
        <p><a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[permissions]</a> API
            提供了一个统一的方法，让网站能够访问诸如剪贴板之类的 <a data-link-type="dfn"
                href="https://www.w3.org/TR/permissions/#dfn-powerful-feature"
                id="ref-for-dfn-powerful-feature①">强大功能</a>。它允许网站向用户请求权限，并查询它们拥有的权限。</p>
        <p>对于剪贴板，定义了一个权限：<dfn class="idl-code" data-dfn-for="PermissionName" data-dfn-type="enum-value" data-export
                id="dom-permissionname-clipboard-write"><code>"clipboard-write"</code><a class="self-link"
                    href="#dom-permissionname-clipboard-write"></a></dfn></p>
        <p class="note" role="note"><span class="marker">注意：</span> 剪贴板权限目前仅适用于异步剪贴板 API。未来版本的此规范可能会更新，以将此权限应用于其他剪贴板交互。
        </p>
        <p>这些剪贴板权限是 <a data-link-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-powerful-feature"
                id="ref-for-dfn-powerful-feature②">强大功能</a>，与权限相关的算法和类型定义如下：</p>
        <dl>
            <dt data-md><a data-link-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-permission-descriptor-type"
                    id="ref-for-dfn-permission-descriptor-type">权限描述符类型</a>
            <dd data-md>
                <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clipboardpermissiondescriptor"><code><c- g>ClipboardPermissionDescriptor</c-></code></dfn> : <a data-link-type="idl-name" href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor"><c- n>PermissionDescriptor</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="idl-code" data-default="false" data-dfn-for="ClipboardPermissionDescriptor" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-clipboardpermissiondescriptor-allowwithoutgesture"><code><c- g>allowWithoutGesture</c-></code><a class="self-link" href="#dom-clipboardpermissiondescriptor-allowwithoutgesture"></a></dfn> = <c- b>false</c->;
};
</pre>
        </dl>
        <p>剪贴板权限有4种：</p>
        <ul>
            <li data-md>
                <p>{ name: "clipboard-write", allowWithoutGesture: false }</p>
            <li data-md>
                <p>{ name: "clipboard-write", allowWithoutGesture: true }</p>
        </ul>
        <p>其关系如下：</p>
        <ul>
            <li data-md>
                <p><code>{ "clipboard-write" + true }</code> 比 <code>{ "clipboard-write" + false }</code> 更强。</p>
        </ul>
        <p>虽然用户代理必须支持按照本规范描述的 <code
                class="idl"><a data-link-type="idl" href="#dictdef-clipboardpermissiondescriptor" id="ref-for-dictdef-clipboardpermissiondescriptor">ClipboardPermissionDescriptor</a></code>，
            但它们当然完全控制默认设置以及是否（或如何）向用户公开这些设置。</p>
        <div class="example" id="example-88786e0d">
            <a class="self-link" href="#example-88786e0d"></a> 一个希望对剪贴板进行单独用户可设置写控件，并始终要求用户手势的用户代理会按照如下方式处理每个描述符：
            <ul>
                <li data-md>
                    <p><code class="perm">{ "clipboard-write" + false }</code> 向用户公开用于控制。</p>
                <li data-md>
                    <p><code class="perm">{ "clipboard-write" + true }</code> 总是 <a data-link-type="dfn"
                            href="https://w3c.github.io/permissions/#dom-permissionstate-denied"
                            id="ref-for-dom-permissionstate-denied">被拒绝</a>。</p>
            </ul>
        </div>
        <h3 class="heading settled" data-level="9.1" id="read-permission"><span class="secno">9.1. </span><span
                class="content">剪贴板读取权限</span><a class="self-link" href="#read-permission"></a></h3>
        <div class="algorithm" data-algorithm="clipboard-read-permission">
            <h4 class="heading settled" data-level="9.1.1" id="h-clipboard-read-permission"><span class="secno">9.1.1.
                </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="check-clipboard-read-permission">检查剪贴板读取权限</dfn></span><a class="self-link"
                    href="#h-clipboard-read-permission"></a></h4>
            <ol>
                <li data-md>
                    <p>如果 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global">相关全局对象</a> 的 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a> 有 <a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"
                            id="ref-for-transient-activation">瞬时激活</a>，则 <var>hasGesture</var> 为 true，否则为 false。</p>
                <li data-md>
                    <p>如果 <var>hasGesture</var>，则</p>
                    <ol>
                        <li data-md>
                            <p>如果当前脚本是由于用户与用户代理或操作系统创建的 "粘贴" 元素的交互而运行的，则返回 true。</p>
                    </ol>
                <li data-md>
                    <p>返回 false。</p>
            </ol>
        </div>
        <h3 class="heading settled" data-level="9.2" id="write-permission"><span class="secno">9.2. </span><span
                class="content">剪贴板写入权限</span><a class="self-link" href="#write-permission"></a></h3>
        <div class="algorithm" data-algorithm="clipboard-write-permission">
            <h4 class="heading settled" data-level="9.2.1" id="h-clipboard-write-permission"><span class="secno">9.2.1.
                </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="check-clipboard-write-permission">检查剪贴板写入权限</dfn></span><a class="self-link"
                    href="#h-clipboard-write-permission"></a></h4>
            <ol>
                <li data-md>
                    <p>让 <var>writeWithoutGesture</var> 成为
                        <code>{ name: "clipboard-write", allowWithoutGesture: true }</code> 权限的 <a data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions/#dfn-permission-state"
                            id="ref-for-dfn-permission-state">权限状态</a>。
                    </p>
                <li data-md>
                    <p>如果 <var>writeWithoutGesture</var> 为 <a data-link-type="dfn"
                            href="https://w3c.github.io/permissions/#dom-permissionstate-granted"
                            id="ref-for-dom-permissionstate-granted">已授予</a>，则返回 true。</p>
                <li data-md>
                    <p>如果 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global①">相关全局对象</a> 的 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a> 有 <a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"
                            id="ref-for-transient-activation①">瞬时激活</a>，则 <var>hasGesture</var> 为 true，否则为 false。</p>
                <li data-md>
                    <p>如果 <var>hasGesture</var>，则</p>
                    <ol>
                        <li data-md>
                            <p>让 <var>systemCopy</var> 成为 true，表示当前脚本是由于用户与用户代理或操作系统创建的 "剪切" 或 "复制" 元素的交互而运行的。</p>
                        <li data-md>
                            <p>如果 <var>systemCopy</var> 为 true，则返回 true。</p>
                        <li data-md>
                            <p>返回 <a data-link-type="dfn"
                                    href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use"
                                    id="ref-for-dfn-request-permission-to-use">请求使用权限</a>
                                <code>{ name: "clipboard-write", allowWithoutGesture: false }</code> 的结果。
                            </p>
                            <p class="note" role="note"><span class="marker">注意：</span> 用户代理可能选择请求更强的权限，这将隐式更新此权限。</p>
                    </ol>
                <li data-md>
                    <p>返回 <a data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use"
                            id="ref-for-dfn-request-permission-to-use①">请求使用权限</a>
                        <code>{ name: "clipboard-write", allowWithoutGesture: true }</code> 的结果。
                    </p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="10" id="security"><span class="secno">10. </span><span
                class="content">安全注意事项</span><a class="self-link" href="#security"></a></h2>
        <p>允许作者更改用户复制的内容，或自动复制未选择的内容，并允许不受限制地调用粘贴信息，可能会引发各种安全问题。</p>
        <p>一些示例场景包括：</p>
        <ul>
            <li data-md>
                <p>用户选择一个链接并复制，但另一个链接被复制到剪贴板。其影响可能从粘贴时的意外结果到尝试进行 "钓鱼" 攻击。</p>
            <li data-md>
                <p>(自我 XSS) 可在剪贴板中放置 shell 命令或可执行脚本，意图让用户运行粘贴的内容。</p>
            <li data-md>
                <p>可以将特制的图像写入剪贴板，利用核心操作系统图像处理代码中的漏洞。</p>
        </ul>
        <h3 class="heading settled" data-level="10.1" id="pasting-html"><span class="secno">10.1. </span><span
                class="content">粘贴 HTML 和多部分数据</span><a class="self-link" href="#pasting-html"></a>
        </h3>
        <p><em>本节非规范性。</em></p>
        <p>粘贴格式化或多部分数据存在某些安全风险。</p>
        <ul>
            <li data-md>
                <p>用户可能会在不知情的情况下粘贴隐藏数据。例如，标记包含 &lt;input type="hidden"> 标签或 HTML 注释。此类隐藏数据可能包含敏感信息。</p>
            <li data-md>
                <p>用户可能会将恶意 JavaScript 粘贴到可信页面中。</p>
            <li data-md>
                <p>实现可能会授予脚本访问用户未打算暴露的本地文件的权限。</p>
        </ul>
        <p>为了确定使用何种策略，我们考虑的因素包括：</p>
        <ul>
            <li data-md>
                <p>粘贴数据的来源</p>
            <li data-md>
                <p>数据子部分的来源，如引用的图像</p>
            <li data-md>
                <p>运行脚本的来源</p>
        </ul>
        <p>以下是场景概述及可能的安全策略：</p>
        <table class="simple">
            <tbody>
                <tr>
                    <th>数据来源
                    <th>脚本来源
                    <th>规则
                <tr>
                    <td rowspan="2">来自在线资源
                    <td>与数据相同
                    <td>不清理 HTML。不要访问任何本地文件。
                <tr>
                    <td>不同来源
                    <td>可选择清理内容。不访问任何本地文件。
                <tr>
                    <td>来自本地应用
                    <td>任意
                    <td>不清理 HTML。允许访问本地文件
        </table>
        <p>一些实现通过在粘贴富文本时默认删除潜在的恶意内容（如 SCRIPT 元素和 javascript: 链接），来减轻粘贴富文本的相关风险，但允许粘贴事件处理器检索和处理原始的未清理数据。</p>
        <h3 class="heading settled" data-level="10.2" id="general-security-policies"><span class="secno">10.2.
            </span><span class="content">通用安全策略</span><a class="self-link" href="#general-security-policies"></a></h3>
        <p>实现 <em>不得</em> 下载引用的在线资源，或在 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files" id="ref-for-dom-datatransfer-files①">files</a></code>
            列表或 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist③">DataTransferItemList</a></code>
            中暴露其内容。</p>
        <p>如果剪贴板上的数据不是来自本地应用，<em>不得</em> 允许访问任何引用的本地文件。例如，如果数据包含 &lt;img
            src="file://localhost/example.jpg">，但数据的来源是在线资源，则实现不得将 example.jpg 添加到 clipboardData.items 列表中。</p>
        <h3 class="heading settled" data-level="10.3" id="image-transcode"><span class="secno">10.3. </span><span
                class="content">转码图像</span><a class="self-link" href="#image-transcode"></a></h3>
        <p>为了防止恶意图像数据被放入剪贴板，图像数据可以被转码以生成安全版本的图像。这可以防止网站试图利用其他应用程序中的安全漏洞。</p>
        <p>实现不应转码从剪贴板读取的图像。转码图像可能会丢失重要的元数据（如图像的物理分辨率）。这也与通过其他方式与网站共享图像的方式（如 &lt;input type=file>）保持一致。</p>
        <h3 class="heading settled" data-level="10.4" id="nuisances"><span class="secno">10.4. </span><span
                class="content">滋扰注意事项</span><a class="self-link" href="#nuisances"></a></h3>
        <p>脚本可能使用 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑦">DataTransfer</a></code>
            API 通过改变系统剪贴板上来自复制和剪切事件的数据来骚扰和混淆用户。本规范不试图防止这种骚扰，尽管实现可能会增加额外的限制。</p>
        <p>实现必须优雅地处理试图将过多数据放入剪贴板的脚本。</p>
        <h2 class="heading settled" data-level="11" id="privacy"><span class="secno">11. </span><span
                class="content">隐私注意事项</span><a class="self-link" href="#privacy"></a></h2>
        <p>由于这些 API 提供了对用户剪贴板数据的访问权限，因此可能会存在隐私问题，因为剪贴板中可能包含个人可识别信息（PII），如姓名、地址或密码。</p>
        <p>一般来说，用户代理<em>必须</em>确保不受信任的脚本无法通过这些 API 不受控制地访问用户的剪贴板数据。</p>
        <h3 class="heading settled" data-level="11.1" id="privacy-events"><span class="secno">11.1. </span><span
                class="content">隐私与剪贴板事件 API</span><a class="self-link" href="#privacy-events"></a></h3>
        <p>剪贴板事件 API 允许在剪贴板事件处理程序上下文中运行的脚本访问系统剪贴板的副本，并可能修改写入剪贴板的数据。</p>
        <p>用户代理应注意以下与确保剪贴板事件 API 访问的数据安全相关的要求：</p>
        <ul>
            <li data-md>
                <p>实现 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑧">DataTransfer</a></code>
                    接口以返回剪贴板数据的对象<em>不得</em>在提供给剪贴板事件处理程序之外的地方使用。</p>
            <li data-md>
                <p>如果脚本存储了实现 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑨">DataTransfer</a></code>
                    接口的对象以供剪贴板事件处理程序外部使用，则所有方法在预期上下文之外调用时<em>必须</em>无效。</p>
            <li data-md>
                <p>实现<em>不得</em>让脚本创建合成剪贴板事件以访问真实的剪贴板数据（除非用户已配置允许这样做）。</p>
        </ul>
        <p>即使剪贴板事件 API 不受剪贴板权限的覆盖，用户代理也可以选择为用户提供禁用此 API 的方法或配置允许哪些网站访问它。</p>
        <h3 class="heading settled" data-level="11.2" id="privacy-async"><span class="secno">11.2. </span><span
                class="content">隐私与异步剪贴板 API</span><a class="self-link" href="#privacy-async"></a></h3>
        <p>异步剪贴板 API 是一项强大的功能，因为它可以允许任何脚本访问剪贴板数据（访问不受限于剪贴板事件处理程序），并且可以在没有用户提供手势的情况下访问数据。</p>
        <p>为防止滥用，除非脚本在具有 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps"
                id="ref-for-has-focus-steps">焦点</a> 的文档上下文中执行，否则此 API <em>不得</em> 可用。</p>
        <h4 class="heading settled" data-level="11.2.1" id="privacy-permission"><span class="secno">11.2.1. </span><span
                class="content">隐私与剪贴板权限</span><a class="self-link" href="#privacy-permission"></a></h4>
        <p>剪贴板权限控制对该 API 的访问，但用户代理可以选择权限默认设置以及哪些权限设置可以由用户设置。例如，用户代理可以选择仅在存在用户手势时允许访问异步剪贴板 API，并始终拒绝没有手势的脚本访问请求。</p>
        <p>用户代理可以选择在用户授予权限后自动使该权限在一段时间后过期，例如，权限可以在以下时间后过期：</p>
        <ul>
            <li data-md>
                <p>自第一次授予权限以来经过的设定时间</p>
            <li data-md>
                <p>自用户最后一次访问站点以来经过的设定时间</p>
            <li data-md>
                <p>当用户离开页面时</p>
        </ul>
        <h3 class="heading settled" data-level="11.3" id="privacy-other"><span class="secno">11.3. </span><span
                class="content">其他隐私问题</span><a class="self-link" href="#privacy-other"></a></h3>
        <p>如果用户代理允许使用 <code>document.execCommand("paste")</code> 读取剪贴板数据，则用户代理<em>必须</em>确保用户已明确允许进行该访问。</p>
        <h2 class="heading settled" data-level="12" id="acknowledge"><span class="secno">12. </span><span
                class="content">致谢</span><a class="self-link" href="#acknowledge"></a></h2>
        <p><em>本节非规范性</em></p>
        <p>编辑们感谢前任编辑的贡献，他们帮助将本规范通过各种会议和邮件列表讨论带到当前状态。</p>
        <ul>
            <li data-md>
                <p>Hallvord R. M. Steen</p>
        </ul>
        <p>编辑们还感谢 Microsoft <a data-link-type="biblio" href="#biblio-microsoft-clip-op"
                title="About DHTML Data Transfer. Microsoft Developer Network.">[MICROSOFT-CLIP-OP]</a> 对数据传输功能的文档及<a
                data-link-type="biblio" href="#biblio-html5" title="HTML5">[HTML5]</a> 规范早期草案的智力贡献。我们也感谢 Paul Libbrecht
            的 "安全复制粘贴" 草案（该草案已不再提供在线访问）。</p>
        <p>最后，我们还要感谢以下人士的贡献：</p>
        <p>Adam Barth,
            Shawn Carnell,
            Daniel Cheng,
            Daniel Dardailler,
            Domenic Denicola,
            Al Gilman,
            James Graham,
            James Greene,
            Ian Hickson,
            Darwin Huang,
            Lachlan Hunt,
            Philip Jägenstedt,
            Anne van Kesteren,
            Marijn Kruisselbrink,
            Aaron Leventhal,
            Jim Ley,
            Paul Libbrecht,
            "Martijn",
            Glenn Maynard,
            Chris Mills,
            ms2ger,
            Ryosuke Niwa,
            Robert O’Callahan,
            Dave Poehlman,
            "ROBO Design",
            Janina Sajka,
            Rich Schwerdtfeger,
            Jonas Sicking,
            Maciej Stachowiak,
            Mihai Sucan,
            Dmitry Titov,
            Ojan Vafai,
            Tarquin Wilton-Jones,
            Tom Wlodkowski,
            Bo Cupp,
            mbrodesser
            以及 Boris Zbarsky。</p>
        <h2 class="heading settled" id="algorithms"><span class="content">附录 A: 算法</span><a class="self-link"
                href="#algorithms"></a></h2>
        <div class="algorithm" data-algorithm="write-content-to-clipboard">
            <h3 class="heading settled" id="to-write-content-to-clipboard"><span class="content"><dfn
                        class="dfn-paneled" data-dfn-type="dfn" data-noexport id="write-content-to-the-clipboard">写入
                        剪贴板内容</dfn></span><a class="self-link" href="#to-write-content-to-clipboard"></a></h3>
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>items</var>，一个<code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist④">DataTransferItemList</a></code>
                        要写入的项目列表</p>
                <dd data-md>
                    <p><var>clear-was-called</var>，一个布尔值</p>
                <dd data-md>
                    <p><var>types-to-clear</var>，一个列表</p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>如果<var>items</var>列表不为空，那么</p>
                    <ol>
                        <li data-md>
                            <p>清空剪贴板</p>
                        <li data-md>
                            <p>对于列表中的每一部分，</p>
                            <ol>
                                <li data-md>
                                    <p>如果数据类型为<i>text/plain</i>，那么</p>
                                    <ol>
                                        <li data-md>
                                            <p>确保编码根据操作系统和区域设置规范正确</p>
                                        <li data-md>
                                            <p>根据平台规范规范化行结尾</p>
                                        <li data-md>
                                            <p>使用适当的操作系统剪贴板格式描述将文本放在剪贴板上</p>
                                    </ol>
                                <li data-md>
                                    <p>否则，如果数据类型列在<a data-link-type="dfn" href="#mandatory-data-types"
                                            id="ref-for-mandatory-data-types④">强制数据类型</a>列表中，</p>
                                    <ol>
                                        <li data-md>
                                            <p>使用适当的操作系统剪贴板格式描述将部分放在剪贴板上</p>
                                    </ol>
                                <li data-md>
                                    <p>否则</p>
                                    <ol>
                                        <li data-md>
                                            <p>这由实现决定...</p>
                                            <p class="issue" id="issue-77e1973e"><a class="self-link"
                                                    href="#issue-77e1973e"></a> 不应该把事情交给实现。这里应该发生什么？</p>
                                            <p class="note" role="note"><span
                                                    class="marker">注意：</span>由于操作系统剪贴板实现的限制，脚本不应假设自定义格式将可供系统上的其他应用程序使用。例如，在
                                                Microsoft Windows 中可以注册的自定义剪贴板格式有一个限制。尽管可以对<a
                                                    data-link-type="functionish"
                                                    href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata"
                                                    id="ref-for-dom-datatransfer-setdata①">setData()</a>的类型参数使用任何字符串，但强烈建议坚持使用<a
                                                    data-link-type="dfn" href="#mandatory-data-types"
                                                    id="ref-for-mandatory-data-types⑤">强制数据类型</a>。</p>
                                    </ol>
                            </ol>
                    </ol>
                <li data-md>
                    <p>否则，<var>items</var>列表为空。按以下步骤确定是否清空剪贴板：</p>
                    <ol>
                        <li data-md>
                            <p>如果项目列表为空且<var>clear-was-called</var>标志为<i>true</i>，那么</p>
                            <ol>
                                <li data-md>
                                    <p>如果<var>types-to-clear</var>列表为空，</p>
                                    <ol>
                                        <li data-md>
                                            <p>清空剪贴板</p>
                                    </ol>
                                <li data-md>
                                    <p>否则</p>
                                    <ol>
                                        <li data-md>
                                            <p>以操作系统和实现特定的方式从剪贴板中移除<var>types-to-clear</var>列表中的类型</p>
                                            <p class="issue" id="issue-0a3703dc"><a class="self-link"
                                                    href="#issue-0a3703dc"></a>
                                                “从剪贴板中删除特定类型”功能存在风险。它似乎并不重要，而且不清楚它是否可以在所有相关平台上轻松实现。</p>
                                    </ol>
                            </ol>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="write-blobs-to-clipboard">
            <h3 class="heading settled" id="to-write-blobs-to-clipboard"><span class="content"><dfn class="dfn-paneled"
                        data-dfn-type="dfn" data-noexport id="write-blobs-and-option-to-the-clipboard">写入 blobs
                        和选项到剪贴板</dfn></span><a class="self-link" href="#to-write-blobs-to-clipboard"></a></h3>
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>items</var>，一个 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"
                            id="ref-for-idl-sequence⑦">sequence</a>&lt;<code
                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①②">Blob</a></code>>
                    </p>
                <dd data-md>
                    <p><var>presentationStyle</var>，一个 <a data-link-type="dfn" href="#clipboarditem-clipboard-item"
                            id="ref-for-clipboarditem-clipboard-item⑨">剪贴板项目</a>的 <a data-link-type="dfn"
                            href="#presentation-style" id="ref-for-presentation-style③">展示样式</a></p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>对于<var>items</var>中的每一个<var>item</var>：</p>
                    <ol>
                        <li data-md>
                            <p>令<var>formatString</var>为执行<a data-link-type="dfn" href="#os-specific-well-known-format"
                                    id="ref-for-os-specific-well-known-format">操作系统特定的已知格式</a>，给定<var>item</var>的<code
                                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type④">type</a></code>的结果。
                            </p>
                        <li data-md>
                            <p>如果<var>formatString</var>为空，则中止这些步骤。</p>
                        <li data-md>
                            <p>令<var>payload</var>为<var>item</var>的底层字节序列的<a data-link-type="dfn"
                                    href="https://encoding.spec.whatwg.org/#utf-8-decode"
                                    id="ref-for-utf-8-decode①">UTF-8 解码</a>结果。</p>
                        <li data-md>
                            <p>使用<var>formatString</var>作为本地剪贴板格式，将<var>payload</var>和<var>presentationStyle</var>插入到<a
                                    data-link-type="dfn" href="#system-clipboard"
                                    id="ref-for-system-clipboard①④">系统剪贴板</a>中。</p>
                    </ol>
                    <p class="issue" id="issue-3887584b"><a class="self-link" href="#issue-3887584b"></a>
                        一些操作系统包含多个剪贴板（例如，Linux 的 "primary"、"secondary"、"selection"）。需要定义数据写入到哪个剪贴板。</p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="os-specific-well-known-format">
            <h3 class="heading settled" id="to-os-specific-well-known-format"><span class="content"><dfn
                        class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="os-specific-well-known-format">操作系统特定的已知格式</dfn></span><a class="self-link"
                    href="#to-os-specific-well-known-format"></a></h3>
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>mimeType</var>，一个<code
                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type⑤">type</a></code>
                    </p>
                <dt data-md>输出
                <dd data-md>
                    <p><var>wellKnownFormat</var>，一个平台特定的字符串类型。在Mac上它是NSPasteboardType，在Windows上它是LPCWSTR，在Linux上它是const
                        char*。</p>
            </dl>
            <p class="note" role="note">对于Windows，参见
                https://docs.microsoft.com/en-us/windows/win32/dataxchg/standard-clipboard-formats 和
                https://docs.microsoft.com/en-us/windows/win32/dataxchg/about-atom-tables?redirectedfrom=MSDN
                对于Mac，参见 https://developer.apple.com/documentation/appkit/nspasteboardtype</p>
            <ol>
                <li data-md>
                    <p>令<var>wellKnownFormat</var>为一个字符串。</p>
                <li data-md>
                    <p>如果<var>mimeType</var>的<a data-link-type="dfn"
                            href="https://mimesniff.spec.whatwg.org/#mime-type-essence"
                            id="ref-for-mime-type-essence①">essence</a>是"text/plain"，那么</p>
                    <p>在Windows上，遵循如下约定：</p>
                    <ol>
                        <li data-md>
                            <p>将CF_UNICODETEXT赋给<var>wellKnownFormat</var>。</p>
                        <li data-md>
                            <p>返回<var>wellKnownFormat</var>。</p>
                    </ol>
                    <p>在MacOS上，遵循如下约定：</p>
                    <ol>
                        <li data-md>
                            <p>将NSPasteboardTypeString赋给<var>wellKnownFormat</var>。</p>
                        <li data-md>
                            <p>返回<var>wellKnownFormat</var>。</p>
                    </ol>
                    <p>在Linux、ChromeOS和Android上，遵循如下约定：</p>
                    <ol>
                        <li data-md>
                            <p>将"text/plain"赋给<var>wellKnownFormat</var>。</p>
                        <li data-md>
                            <p>返回<var>wellKnownFormat</var>。</p>
                    </ol>
                <li data-md>
                    <p>否则，如果<var>mimeType</var>的<a data-link-type="dfn"
                            href="https://mimesniff.spec.whatwg.org/#mime-type-essence"
                            id="ref-for-mime-type-essence②">essence</a>是"text/html"，那么</p>
                    <p>在Windows上，遵循如下约定：</p>
                    <ol>
                        <li data-md>
                            <p>将CF_HTML赋给<var>wellKnownFormat</var>。</p>
                        <li data-md>
                            <p>返回<var>wellKnownFormat</var>。</p>
                    </ol>
                    <p>在MacOS上，遵循如下约定：</p>
                    <ol>
                        <li data-md>
                            <p>将NSHTMLPboardType赋给<var>wellKnownFormat</var>。</p>
                        <li data-md>
                            <p>返回<var>wellKnownFormat</var>。</p>
                    </ol>
                    <p>在Linux、ChromeOS和Android上，遵循如下约定：</p>
                    <ol>
                        <li data-md>
                            <p>将"text/html"赋给<var>wellKnownFormat</var>。</p>
                        <li data-md>
                            <p>返回<var>wellKnownFormat</var>。</p>
                    </ol>
                <li data-md>
                    <p>否则，如果<var>mimeType</var>的<a data-link-type="dfn"
                            href="https://mimesniff.spec.whatwg.org/#mime-type-essence"
                            id="ref-for-mime-type-essence③">essence</a>是"image/png"，那么</p>
                    <p>在Windows上，遵循如下约定：</p>
                    <ol>
                        <li data-md>
                            <p>将"PNG"赋给<var>wellKnownFormat</var>。</p>
                        <li data-md>
                            <p>返回<var>wellKnownFormat</var>。</p>
                    </ol>
                    <p>在MacOS上，遵循如下约定：</p>
                    <ol>
                        <li data-md>
                            <p>将NSPasteboardTypePNG赋给<var>wellKnownFormat</var>。</p>
                        <li data-md>
                            <p>返回<var>wellKnownFormat</var>。</p>
                    </ol>
                    <p>在Linux、ChromeOS和Android上，遵循如下约定：</p>
                    <ol>
                        <li data-md>
                            <p>将"image/png"赋给<var>wellKnownFormat</var>。</p>
                        <li data-md>
                            <p>返回<var>wellKnownFormat</var>。</p>
                    </ol>
                <li data-md>
                    <p>否则</p>
                    <ol>
                        <li data-md>
                            <p>这留给实现决定...</p>
                            <p class="issue" id="issue-77e1973e①"><a class="self-link" href="#issue-77e1973e①"></a>
                                不应将事情留给实现决定。这里应该发生什么？</p>
                            <p class="note" role="note"><span class="marker">注意：</span> 由于操作系统剪贴板实现的限制，脚本不应假设自定义
                                格式将对系统上的其他应用程序可用。例如，在Microsoft Windows中，可以注册的自定义剪贴板格式数量有限。
                                虽然可以对<a data-link-type="functionish"
                                    href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata"
                                    id="ref-for-dom-datatransfer-setdata②">setData()</a>的type参数使用任何字符串，但强烈建议遵循<a
                                    data-link-type="dfn" href="#mandatory-data-types"
                                    id="ref-for-mandatory-data-types⑥">强制数据类型</a>。</p>
                    </ol>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="algo-fire-a-clipboard-event">
            <h3 class="heading settled" id="to-fire-a-clipboard-event"><span class="content"><dfn class="dfn-paneled"
                        data-dfn-type="dfn" data-noexport id="fire-a-clipboard-event">触发剪贴板事件</dfn></span><a
                    class="self-link" href="#to-fire-a-clipboard-event"></a></h3>
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>e</var>，要触发的<code
                            class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent④">ClipboardEvent</a></code>
                    </p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>令<var>clear-was-called</var>为<em>false</em></p>
                <li data-md>
                    <p>令<var>types-to-clear</var>为空列表</p>
                <li data-md>
                    <p>令<var>clipboard-event-data</var>为一个新的<code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①⓪">DataTransfer</a></code>对象，具有空的<code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items②">items</a></code>列表。
                    </p>
                <li data-md>
                    <p>令<var>clipboard-entry</var>为当前剪贴板内容的序列号，或者如果操作系统剪贴板不支持序列号，则为null</p>
                <li data-md>
                    <p>令<var>trusted</var>为<em>true</em>，如果事件是由用户代理生成的，否则为<em>false</em></p>
                <li data-md>
                    <p>设置<var>target</var>如下：</p>
                    <ol>
                        <li data-md>
                            <p>如果上下文是可编辑的，那么</p>
                            <ol>
                                <li data-md>
                                    <p>将<var>target</var>设置为包含文档顺序中可见选择或光标开始的元素，或者如果没有可见选择或光标，则设置为<a
                                            data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2"
                                            id="ref-for-the-body-element-2">body元素</a>。</p>
                            </ol>
                        <li data-md>
                            <p>否则，如果上下文不可编辑，那么</p>
                            <ol>
                                <li data-md>
                                    <p>将<var>target</var>设置为聚焦的节点，或者如果没有节点聚焦，则设置为<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2"
                                            id="ref-for-the-body-element-2①">body元素</a>。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>按如下方式处理事件：</p>
                    <ol>
                        <li data-md>
                            <p>如果<var>e</var>是"paste"事件，那么</p>
                            <ol>
                                <li data-md>
                                    <p>将<var>clipboard-event-data</var>的内部<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode"
                                            id="ref-for-drag-data-store-mode①">拖放数据存储模式</a>标志设置为<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-ro"
                                            id="ref-for-concept-dnd-ro①">只读</a>。</p>
                                <li data-md>
                                    <p>如果<var>trusted</var>为<em>true</em>，或实现配置为允许脚本生成的事件读取操作系统剪贴板数据，</p>
                                    <ol>
                                        <li data-md>
                                            <p>对于操作系统剪贴板上的每个<var>clipboard-part</var>，执行以下步骤：</p>
                                            <ol>
                                                <li data-md>
                                                    <p>如果<var>clipboard-part</var>包含纯文本，那么</p>
                                                    <ol>
                                                        <li data-md>
                                                            <p>确保文本符合脚本引擎内部使用的编码</p>
                                                        <li data-md>
                                                            <p>令<var>new-data</var>为一个新的<code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem">DataTransferItem</a></code>，其<a
                                                                    data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind"
                                                                    id="ref-for-drag-data-item-kind">拖放数据项类型</a>设置为<em>字符串</em>，<a
                                                                    data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                                                                    id="ref-for-drag-data-item-type-string">拖放数据项类型字符串</a>设置为<em>text/plain</em>。
                                                            </p>
                                                        <li data-md>
                                                            <p>将<var>new-data</var>的数据设置为纯文本。</p>
                                                        <li data-md>
                                                            <p>将<var>new-data</var>添加到<var>clipboard-event-data</var>的<code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items③">items</a></code>列表中。
                                                            </p>
                                                    </ol>
                                                <li data-md>
                                                    <p>如果<var>clipboard-part</var>表示文件引用，则对于每个文件引用：</p>
                                                    <ol>
                                                        <li data-md>
                                                            <p>确定引用文件的MIME类型</p>
                                                        <li data-md>
                                                            <p>令<var>new-data</var>为一个新的<code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem①">DataTransferItem</a></code>，其<a
                                                                    data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind"
                                                                    id="ref-for-drag-data-item-kind①">拖放数据项类型</a>设置为<em>文件</em>，<a
                                                                    data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                                                                    id="ref-for-drag-data-item-type-string①">拖放数据项类型字符串</a>设置为对应的MIME类型，或如果文件类型未知，则设置为<code>application/octet-stream</code>。
                                                            </p>
                                                        <li data-md>
                                                            <p>将<var>new-data</var>的数据设置为文件引用数据。</p>
                                                        <li data-md>
                                                            <p>将<var>new-data</var>添加到<var>clipboard-event-data</var>的<code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items④">items</a></code>列表中。
                                                            </p>
                                                    </ol>
                                                <li data-md>
                                                    <p>如果<var>clipboard-part</var>包含根据操作系统约定描述的HTML或XHTML格式化的文本，那么</p>
                                                    <ol>
                                                        <li data-md>
                                                            <p>如果实现支持粘贴HTML，那么实现<em>必须</em>通过调用<a data-link-type="dfn"
                                                                    href="#process-an-html-paste-event"
                                                                    id="ref-for-process-an-html-paste-event">处理HTML粘贴事件</a>来处理标记，并将<var>clipboard-part</var>和<var>clipboard-event-data</var>传递给它。
                                                            </p>
                                                    </ol>
                                                <li data-md>
                                                    <p>如果<var>clipboard-part</var>包含其他支持的二进制或基于文本的格式的数据（见<a
                                                            data-link-type="dfn" href="#mandatory-data-types"
                                                            id="ref-for-mandatory-data-types⑦">强制数据类型</a>），那么</p>
                                                    <ol>
                                                        <li data-md>
                                                            <p>确定数据的MIME类型</p>
                                                        <li data-md>
                                                            <p>令<var>new-data</var>为一个新的<code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem②">DataTransferItem</a></code>，其<a
                                                                    data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind"
                                                                    id="ref-for-drag-data-item-kind②">拖放数据项类型</a>设置为<em>文件</em>，<a
                                                                    data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                                                                    id="ref-for-drag-data-item-type-string②">拖放数据项类型字符串</a>设置为对应的MIME类型。
                                                            </p>
                                                        <li data-md>
                                                            <p>将<var>new-data</var>的数据设置为二进制或基于文本的数据。</p>
                                                        <li data-md>
                                                            <p>将<var>new-data</var>添加到<var>clipboard-event-data</var>的<code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑤">items</a></code>列表中。
                                                            </p>
                                                    </ol>
                                            </ol>
                                    </ol>
                                <li data-md>
                                    <p>更新<var>clipboard-event-data</var>的<code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files" id="ref-for-dom-datatransfer-files②">files</a></code>属性以匹配<var>clipboard-event-data</var>的<code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑥">items</a></code>。
                                    </p>
                                <li data-md>
                                    <p>更新<var>clipboard-event-data</var>的<code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-types" id="ref-for-dom-datatransfer-types">types</a></code>属性以匹配<var>clipboard-event-data</var>的<code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑦">items</a></code>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>如果<var>e</var>是"copy"或"cut"事件，那么</p>
                            <ol>
                                <li data-md>
                                    <p>将相关的<code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①①">DataTransfer</a></code>对象的内部<a
                                            data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode"
                                            id="ref-for-drag-data-store-mode②">拖放数据存储模式</a>标志设置为<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-rw"
                                            id="ref-for-concept-dnd-rw">读/写</a>。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>将<var>e</var>的<code
                            class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata④">clipboardData</a></code>设置为<var>clipboard-event-data</var>。
                    </p>
                <li data-md>
                    <p>将<var>e</var>的<code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted">isTrusted</a></code>设置为<var>trusted</var>。
                    </p>
                <li data-md>
                    <p>将<var>e</var>的<code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-composed" id="ref-for-dom-event-composed">composed</a></code>设置为true。
                    </p>
                <li data-md>
                    <p>调度事件<var>e</var>，该事件可冒泡且可取消，并且使用<code
                            class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent⑤">ClipboardEvent</a></code>接口，在<var>target</var>上。
                    </p>
                    <p>事件调度过程中访问数据的实现要求在<a data-link-type="biblio" href="#biblio-html"
                            title="HTML Standard">[HTML]</a>中定义。以下是一些附加的剪贴板事件特定处理规则：</p>
                    <p class="issue" id="issue-7d2ab940"><a class="self-link" href="#issue-7d2ab940"></a>
                        为什么这里要定义？为什么不放在HTML规范中？</p>
                    <ol>
                        <li data-md>
                            <p>如果脚本调用了<a data-link-type="functionish"
                                    href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-cleardata"
                                    id="ref-for-dom-datatransfer-cleardata">clearData()</a>或<code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransferitemlist-clear" id="ref-for-dom-datatransferitemlist-clear">clear()</a></code>，并且<code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①②">DataTransfer</a></code>对象的内部<a
                                    data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode"
                                    id="ref-for-drag-data-store-mode③">拖放数据存储模式</a>标志为<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-rw"
                                    id="ref-for-concept-dnd-rw①">读/写</a>，那么</p>
                            <ol>
                                <li data-md>
                                    <p>将<var>clear-was-called</var>标志设置为true。如果提供了参数，则将参数添加到<var>types-to-clear</var>列表中。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>如果脚本调用了<a data-link-type="functionish"
                                    href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata"
                                    id="ref-for-dom-datatransfer-setdata③">setData()</a>或修改了items，并且<var>clear-was-called</var>标志为true，那么
                            </p>
                            <ol>
                                <li data-md>
                                    <p>如果<var>types-to-clear</var>列表为空，那么</p>
                                    <ol>
                                        <li data-md>
                                            <p>将<var>clear-was-called</var>标志设置为false，然后</p>
                                    </ol>
                                <li data-md>
                                    <p>否则，如果<a data-link-type="functionish"
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata"
                                            id="ref-for-dom-datatransfer-setdata④">setData()</a>的<code>type</code>参数或新项的<a
                                            data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                                            id="ref-for-drag-data-item-type-string③">拖放数据项类型字符串</a>在<var>types-to-clear</var>列表中找到，那么
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>将其从列表中删除。如果列表现在为空，则将<var>clear-was-called</var>标志设置为false。</p>
                                    </ol>
                            </ol>
                        <li data-md>
                            <p>如果脚本调用了<a data-link-type="functionish"
                                    href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-getdata"
                                    id="ref-for-dom-datatransfer-getdata">getData()</a>或访问了<code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist⑤">DataTransferItemList</a></code>中的items，并且<var>clipboard-entry</var>已设置，那么
                            </p>
                            <ol>
                                <li data-md>
                                    <p>检查剪贴板数据的序列号是否与<var>clipboard-entry</var>匹配。如果剪贴板不再包含相同的条目，则将<code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist⑥">DataTransferItemList</a></code>对象的内部<a
                                            data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode"
                                            id="ref-for-drag-data-store-mode④">拖放数据存储模式</a>设置为<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-p"
                                            id="ref-for-concept-dnd-p">受保护</a>。</p>
                            </ol>
                    </ol>
                    <p><strong
                            class="advisement">警告！恶意脚本侦听粘贴事件可能会设置一个永无止境的循环，以读取用户将来放置在剪贴板上的内容。在不提供剪贴板序列号的平台上，应实施其他限制。</strong>
                    </p>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="process-an-html-paste-event">
            <h3 class="heading settled" id="to-process-html-paste-event"><span class="content"><dfn class="dfn-paneled"
                        data-dfn-type="dfn" data-noexport id="process-an-html-paste-event">处理 HTML 粘贴事件</dfn></span><a
                    class="self-link" href="#to-process-html-paste-event"></a></h3>
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>clipboard-part</var>，要处理的剪贴板部分</p>
                <dd data-md>
                    <p><var>clipboard-event-data</var>，此事件的<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"
                        id="ref-for-datatransfer①③">DataTransfer</a></code>对象</p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>创建一个新的<var>new-data</var>，它是一个<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem"
                        id="ref-for-datatransferitem③">DataTransferItem</a></code>，其<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind"
                            id="ref-for-drag-data-item-kind③">拖放数据项类型</a>设置为<em>Unicode 字符串</em>，<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                            id="ref-for-drag-data-item-type-string④">拖放数据项类型字符串</a>设置为<em>text/html</em>或<em>application/xhtml+xml</em>。
                    </p>
                <li data-md>
                    <p>从<var>clipboard-part</var>中提取标记，并使用相关的解析器构建一个DOM树。</p>
                <li data-md>
                    <p>如果已知标记的源URL，则解析HREF和SRC属性中的所有相对URL，使用源URL作为基准URL，并将相应的属性设置为解析后的绝对URL。</p>
                <li data-md>
                    <p>如果标记的来源是本地应用程序，则检查是否引用了本地文件和/或OS剪贴板的其他部分。如果发现此类引用，必须将对子部分的引用替换为使用cid: URL方案的content-id引用<a
                            data-link-type="biblio" href="#biblio-rfc2392"
                            title="Content-ID and Message-ID Uniform Resource Locators">[RFC2392]</a>。为此，请根据以下步骤处理引用本地文件或剪贴板部分的每个属性：
                    </p>
                    <p class="issue" id="issue-096a5049"><a class="self-link" href="#issue-096a5049"></a>
                        这些步骤是否必要？我们是否知道支持带有内部引用的多个部分的原生（平台）剪贴板实现？</p>
                    <p class="issue" id="issue-6be1122f"><a class="self-link" href="#issue-6be1122f"></a>
                        该功能处于风险之中，因为尚不清楚它是否是必须的，而且在跨平台方式中难以测试。</p>
                    <ol>
                        <li data-md>
                            <p>如果<var>clipboard-event-data</var>的<code class="idl"><a data-link-type="idl"
                                href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items"
                                id="ref-for-dom-datatransfer-items⑧">items</a></code>中已包含引用的文件或剪贴板部分的条目，则</p>
                            <ol>
                                <li data-md>
                                    <p>将<var>itemNumber</var>设置为现有条目的索引。</p>
                            </ol>
                        <li data-md>
                            <p>否则，</p>
                            <ol>
                                <li data-md>
                                    <p>创建一个新的<var>new-file-data</var>，它是一个<code class="idl"><a data-link-type="idl"
                                        href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem"
                                        id="ref-for-datatransferitem④">DataTransferItem</a></code>，其<a
                                            data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind"
                                            id="ref-for-drag-data-item-kind④">拖放数据项类型</a>设置为“文件”，<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                                            id="ref-for-drag-data-item-type-string⑤">拖放数据项类型字符串</a>设置为文件或剪贴板部分的MIME类型（如果已知），否则设置为<code>application/octet-stream</code>。
                                    </p>
                                <li data-md>
                                    <p>创建一个新的<var>file-info</var>，它是一个<code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-file"
                                        id="ref-for-dfn-file">File</a></code>对象，其中<code class="idl"><a data-link-type="idl"
                                        href="https://www.w3.org/TR/FileAPI/#dfn-name"
                                        id="ref-for-dfn-name">name</a></code>设置为HTML属性内容中的名称部分，<code
                                            class="idl"><a data-link-type="idl"
                                        href="https://www.w3.org/TR/FileAPI/#dfn-lastModified"
                                        id="ref-for-dfn-lastModified">lastModified</a></code>设置为引用文件的时间戳，或如果条目引用了剪贴板部分，则设置为0。</p>
                                <li data-md>
                                    <p>将<var>new-file-data</var>的内部<code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-file"
                                        id="ref-for-dfn-file①">File</a></code>对象设置为<var>file-info</var>。</p>
                                <li data-md>
                                    <p>将<var>new-file-data</var>添加到<var>clipboard-event-data</var>的<code
                                            class="idl"><a data-link-type="idl"
                                        href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items"
                                        id="ref-for-dom-datatransfer-items⑨">items</a></code>中，并将<var>itemNumber</var>设置为此条目在<code class="idl"><a data-link-type="idl"
                                        href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist"
                                        id="ref-for-datatransferitemlist⑦">DataTransferItemList</a></code>中的索引。</p>
                            </ol>
                        <li data-md>
                            <p>将引用本地文件或剪贴板部分的DOM属性更新为包含字符串'cid:'，后跟<var>itemNumber</var>。</p>
                    </ol>
                <li data-md>
                    <p>序列化处理后的DOM，并使用生成的HTML代码更新<var>new-data</var>。</p>
                <li data-md>
                    <p>将<var>new-data</var>添加到<var>clipboard-event-data</var>的<code class="idl"><a data-link-type="idl"
                        href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items"
                        id="ref-for-dom-datatransfer-items①⓪">items</a></code>中。</p>
            </ol>
        </div>
    </main>
    <div data-fill-with="conformance">
        <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">符合性</span><a
                class="self-link" href="#w3c-conformance"></a></h2>
        <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">文档约定</span><a
                class="self-link" href="#w3c-conventions"></a></h3>
        <p>符合性要求是通过描述性断言和RFC 2119术语的结合来表达的。
            关键字“MUST”、“MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD NOT”、“RECOMMENDED”、“MAY”和“OPTIONAL”
            在本文档的规范性部分中，应按照RFC 2119中的描述进行解释。
            然而，为了提高可读性，
            这些词在本规范中并未全部以大写字母出现。</p>
        <p>本规范的所有内容均为规范性文本，
            除非明确标记为非规范性部分、示例和注释。<a data-link-type="biblio" href="#biblio-rfc2119"
                title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>
        </p>
        <p>本规范中的示例以“例如”开头
            或通过<code>class="example"</code>与规范性文本分开，
            例如：</p>
        <div class="example" id="w3c-example">
            <a class="self-link" href="#w3c-example"></a>
            <p>这是一个信息性示例。</p>
        </div>
        <p>信息性注释以“注意”一词开头
            并通过<code>class="note"</code>与规范性文本分开，
            例如：</p>
        <p class="note" role="note">注意，这是一条信息性注释。</p>
        <section>
            <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span
                    class="content">符合性的算法</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
            <p>在算法中以命令式表达的要求
                （例如“去除任何前导空格字符”或“返回 false 并中止这些步骤”）
                应根据引入算法时使用的关键字
                （“必须”、“应该”、“可以”等）
                进行解释。</p>
            <p>以算法或特定步骤表达的符合性要求
                可以通过任何方式实现，
                只要最终结果相同即可。
                特别是，本规范中定义的算法
                旨在便于理解，
                而非追求性能。
                鼓励实现者进行优化。</p>
        </section>
    </div>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#allowed-to-modify-the-clipboard">允许修改剪贴板</a><span>，见§ 5.3.1</span></li>
        <li><a href="#allowed-to-read-from-clipboard">允许从剪贴板读取</a><span>，见§ 5.3.2</span></li>
        <li><a href="#dom-clipboardpermissiondescriptor-allowwithoutgesture">allowWithoutGesture</a><span>，见§ 9</span>
        </li>
        <li><a href="#dom-presentationstyle-attachment">"attachment"</a><span>，见§ 7.2</span></li>
        <li><a href="#check-clipboard-read-permission">检查剪贴板读取权限</a><span>，见§ 9.1.1</span></li>
        <li><a href="#check-clipboard-write-permission">检查剪贴板写入权限</a><span>，见§ 9.2.1</span></li>
        <li><a href="#clipboard">剪贴板</a><span>，见§ 7.3</span></li>
        <li>剪贴板
            <ul>
                <li><a href="#dom-navigator-clipboard">Navigator属性</a><span>，见§ 7.1</span></li>
                <li><a href="#navigator-clipboard">Navigator定义</a><span>，见§ 7.1.1</span></li>
            </ul>
        </li>
        <li><a href="#eventdef-documentandelementeventhandlers-clipboardchange">剪贴板更改</a><span>，见§ 5.2.1</span></li>
        <li>剪贴板数据
            <ul>
                <li><a href="#dom-clipboardevent-clipboarddata">ClipboardEvent属性</a><span>，见§ 5.1</span></li>
                <li><a href="#clipboardevent-clipboarddata">ClipboardEvent定义</a><span>，见§ 5.1</span></li>
                <li><a href="#clipboardeventinit-clipboarddata">ClipboardEventInit定义</a><span>，见§ 5.1</span></li>
                <li><a href="#dom-clipboardeventinit-clipboarddata">ClipboardEventInit字典成员</a><span>，见§ 5.1</span></li>
            </ul>
        </li>
        <li><a href="#clipboardevent">ClipboardEvent</a><span>，见§ 5.1</span></li>
        <li><a href="#dictdef-clipboardeventinit">ClipboardEventInit</a><span>，见§ 5.1</span></li>
        <li><a href="#dom-clipboardevent-clipboardevent">ClipboardEvent(type)</a><span>，见§ 5.1</span></li>
        <li><a href="#dom-clipboardevent-clipboardevent">ClipboardEvent(type, eventInitDict)</a><span>，见§ 5.1</span>
        </li>
        <li>剪贴板项
            <ul>
                <li><a href="#clipboard-item">定义</a><span>，见§ 7.2</span></li>
                <li><a href="#clipboarditem-clipboard-item">ClipboardItem定义</a><span>，见§ 7.2</span></li>
            </ul>
        </li>
        <li><a href="#clipboarditem">ClipboardItem</a><span>，见§ 7.2</span></li>
        <li><a href="#typedefdef-clipboarditemdata">ClipboardItemData</a><span>，见§ 7.2</span></li>
        <li><a href="#dom-clipboarditem-clipboarditem">ClipboardItem(items)</a><span>，见§ 7.2</span></li>
        <li><a href="#dom-clipboarditem-clipboarditem">ClipboardItem(items, options)</a><span>，见§ 7.2</span></li>
        <li><a href="#dictdef-clipboarditemoptions">ClipboardItemOptions</a><span>，见§ 7.2</span></li>
        <li><a href="#clipboard-items">剪贴板项</a><span>，见§ 7.3</span></li>
        <li><a href="#typedefdef-clipboarditems">ClipboardItems</a><span>，见§ 7.3</span></li>
        <li><a href="#dictdef-clipboardpermissiondescriptor">ClipboardPermissionDescriptor</a><span>，见§ 9</span></li>
        <li><a href="#clipboard-task-source">剪贴板任务来源</a><span>，见§ 7.3</span></li>
        <li><a href="#dom-permissionname-clipboard-write">"clipboard-write"</a><span>，见§ 9</span></li>
        <li><a href="#dom-clipboarditem-clipboarditem">constructor(items)</a><span>，见§ 7.2</span></li>
        <li><a href="#dom-clipboarditem-clipboarditem">constructor(items, options)</a><span>，见§ 7.2</span></li>
        <li><a href="#dom-clipboardevent-clipboardevent">constructor(type)</a><span>，见§ 5.1</span></li>
        <li><a href="#dom-clipboardevent-clipboardevent">constructor(type, eventInitDict)</a><span>，见§ 5.1</span></li>
        <li><a href="#eventdef-documentandelementeventhandlers-copy">复制</a><span>，见§ 5.2.2</span></li>
        <li><a href="#create-a-clipboarditem-object">创建ClipboardItem对象</a><span>，见§ 7.2</span></li>
        <li><a href="#eventdef-documentandelementeventhandlers-cut">剪切</a><span>，见§ 5.2.3</span></li>
        <li><a href="#representation-data">数据</a><span>，见§ 7.2</span></li>
        <li><a href="#editable-context">可编辑上下文</a><span>，见§ 3</span></li>
        <li><a href="#fire-a-clipboard-event">触发剪贴板事件</a><span>，见未编号章节</span></li>
        <li><a href="#dom-clipboarditem-gettype">getType(type)</a><span>，见§ 7.2.2</span></li>
        <li><a href="#dom-presentationstyle-inline">"inline"</a><span>，见§ 7.2</span></li>
        <li><a href="#list-of-representations">表示列表</a><span>，见§ 7.2</span></li>
        <li><a href="#mandatory-data-types">强制数据类型</a><span>，见§ 6.4</span></li>
        <li><a href="#representation-mime-type">MIME类型</a><span>，见§ 7.2</span></li>
        <li><a href="#os-specific-well-known-format">操作系统特定的已知格式</a><span>，见未编号章节</span></li>
        <li><a href="#eventdef-documentandelementeventhandlers-paste">粘贴</a><span>，见§ 5.2.4</span></li>
        <li><a href="#presentation-style">展示样式</a><span>，见§ 7.2</span></li>
        <li><a href="#enumdef-presentationstyle">PresentationStyle</a><span>，见§ 7.2</span></li>
        <li>presentationStyle
            <ul>
                <li><a href="#dom-clipboarditem-presentationstyle">ClipboardItem的属性</a><span>，见§ 7.2</span></li>
                <li><a
                        href="#dom-clipboarditemoptions-presentationstyle">ClipboardItemOptions的字典成员</a><span>，见§ 7.2</span>
                </li>
            </ul>
        </li>
        <li><a href="#process-an-html-paste-event">处理HTML粘贴事件</a><span>，见未编号章节</span></li>
        <li><a href="#dom-clipboard-read">read()</a><span>，见§ 7.3</span></li>
        <li><a href="#dom-clipboard-readtext">readText()</a><span>，见§ 7.3</span></li>
        <li><a href="#representation">表示</a><span>，见§ 7.2</span></li>
        <li><a href="#script-may-access-clipboard">script-may-access-clipboard</a><span>，见§ 8</span></li>
        <li><a href="#script-triggered">script-triggered</a><span>，见§ 8</span></li>
        <li><a href="#system-clipboard">系统剪贴板</a><span>，见§ 4</span></li>
        <li><a href="#system-clipboard-data">系统剪贴板数据</a><span>，见§ 4</span></li>
        <li><a href="#dom-clipboarditem-types">类型</a><span>，见§ 7.2.1</span></li>
        <li><a href="#clipboarditem-types-array">类型数组</a><span>，见§ 7.2</span></li>
        <li><a href="#dom-presentationstyle-unspecified">"unspecified"</a><span>，见§ 7.2</span></li>
        <li><a href="#write-blobs-and-option-to-the-clipboard">写入Blob和选项到剪贴板</a><span>，见未编号章节</span></li>
        <li><a href="#write-content-to-the-clipboard">写入内容到剪贴板</a><span>，见未编号章节</span></li>
        <li><a href="#dom-clipboard-write">write(data)</a><span>，见§ 7.3</span></li>
        <li><a href="#dom-clipboard-writetext">writeText(data)</a><span>，见§ 7.3</span></li>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">通过引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="c176812b">允许显示弹窗</span></li>
                <li><span class="dfn-paneled" id="dc8f85df">概念 dnd p</span></li>
                <li><span class="dfn-paneled" id="2ea8cccb">概念 dnd ro</span></li>
                <li><span class="dfn-paneled" id="2551a9c6">概念 dnd rw</span></li>
                <li><span class="dfn-paneled" id="a1ac87bf">构造事件</span></li>
                <li><span class="dfn-paneled" id="2cb28cb0">拒绝</span></li>
                <li><span class="dfn-paneled" id="c1f77abc">拖动数据项种类</span></li>
                <li><span class="dfn-paneled" id="a70adace">拖动数据项类型字符串</span></li>
                <li><span class="dfn-paneled" id="b8912f12">拖动数据存储模式</span></li>
                <li><span class="dfn-paneled" id="c4619dd3">编辑宿主</span></li>
                <li><span class="dfn-paneled" id="fad8924f">可聚焦区域</span></li>
                <li><span class="dfn-paneled" id="c6ce3c60">授予的权限</span></li>
                <li><span class="dfn-paneled" id="c51ad875">body元素</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[DOM]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="129bdae8">事件</span></li>
                <li><span class="dfn-paneled" id="44a7708c">EventInit</span></li>
                <li><span class="dfn-paneled" id="2bc0cdf4">事件目标</span></li>
                <li><span class="dfn-paneled" id="8b547cc7">组合事件</span></li>
                <li><span class="dfn-paneled" id="838900a7">是否可信</span></li>
                <li><span class="dfn-paneled" id="fefe0433">阻止默认行为()</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[ECMASCRIPT]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="7c9ab308">Promise</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[ENCODING]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="b0fcb8d7">utf-8解码</span></li>
                <li><span class="dfn-paneled" id="0303e8e5">utf-8编码</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[FileAPI]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="119fb4df">Blob</span></li>
                <li><span class="dfn-paneled" id="7e1d7596">文件</span></li>
                <li><span class="dfn-paneled" id="c5019b63">最后修改时间</span></li>
                <li><span class="dfn-paneled" id="9784d14c">名称</span></li>
                <li><span class="dfn-paneled" id="49d6d0a2">类型</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="2b83ae0c">DataTransfer</span></li>
                <li><span class="dfn-paneled" id="4ff66d05">DataTransferItem</span></li>
                <li><span class="dfn-paneled" id="707c843f">DataTransferItemList</span></li>
                <li><span class="dfn-paneled" id="be0c27b2">Navigator</span></li>
                <li><span class="dfn-paneled" id="5f5b7a0c">clear()</span></li>
                <li><span class="dfn-paneled" id="f62ad1e6">clearData(format)</span></li>
                <li><span class="dfn-paneled" id="1e280de0">文件</span></li>
                <li><span class="dfn-paneled" id="d82f90d1">getData(format)</span></li>
                <li><span class="dfn-paneled" id="7c421916">聚焦步骤</span></li>
                <li><span class="dfn-paneled" id="a72449dd">并行执行</span></li>
                <li><span class="dfn-paneled" id="50eecf1d">项目</span></li>
                <li><span class="dfn-paneled" id="48438eb3">队列全局任务</span></li>
                <li><span class="dfn-paneled" id="e99bd18e">相关的全局对象</span></li>
                <li><span class="dfn-paneled" id="5991ccfb">相关领域</span></li>
                <li><span class="dfn-paneled" id="beda2316">setData(format, data)</span></li>
                <li><span class="dfn-paneled" id="47fe679e">瞬时激活</span></li>
                <li><span class="dfn-paneled" id="f3fc35d3">类型</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="ae8def21">包含</span></li>
                <li><span class="dfn-paneled" id="0204d188">大小</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[MIMESNIFF]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="7c195f8b">本质</span></li>
                <li><span class="dfn-paneled" id="16785ec4">mime类型</span></li>
                <li><span class="dfn-paneled" id="d72dabca">解析mime类型</span></li>
                <li><span class="dfn-paneled" id="d6e5d5bd">序列化mime类型</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[PERMISSIONS]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="03efcfde">PermissionDescriptor</span></li>
                <li><span class="dfn-paneled" id="d8705310">权限描述符类型</span></li>
                <li><span class="dfn-paneled" id="01082766">权限状态</span></li>
                <li><span class="dfn-paneled" id="27daf463">强大功能</span></li>
                <li><span class="dfn-paneled" id="756a432d">请求权限</span></li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span></li>
                <li><span class="dfn-paneled" id="8855a9aa">DOMString</span></li>
                <li><span class="dfn-paneled" id="889e932f">暴露</span></li>
                <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span></li>
                <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span></li>
                <li><span class="dfn-paneled" id="9eda9b58">NotFoundError</span></li>
                <li><span class="dfn-paneled" id="bdbd19d1">Promise</span></li>
                <li><span class="dfn-paneled" id="a5c91173">SameObject</span></li>
                <li><span class="dfn-paneled" id="b75bb3bd">安全上下文</span></li>
                <li><span class="dfn-paneled" id="82ca3efc">TypeError</span></li>
                <li><span class="dfn-paneled" id="dacde8b5">一个新的promise</span></li>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span></li>
                <li><span class="dfn-paneled" id="1641b9ef">创建一个冻结数组</span></li>
                <li><span class="dfn-paneled" id="56f81a8e">new</span></li>
                <li><span class="dfn-paneled" id="750a2f08">react</span></li>
                <li><span class="dfn-paneled" id="7787d359">记录</span></li>
                <li><span class="dfn-paneled" id="b262501e">拒绝</span></li>
                <li><span class="dfn-paneled" id="9cce47fd">序列</span></li>
                <li><span class="dfn-paneled" id="4013a022">this</span></li>
                <li><span class="dfn-paneled" id="5f90bbfb">未定义</span></li>
            </ul>
        </li>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>. 现行标准. URL: <a
                href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-encoding">[ENCODING]
        <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>编码标准</cite></a>. 现行标准. URL: <a
                href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
        <dt id="biblio-fileapi">[FileAPI]
        <dd>Marijn Kruisselbrink. <a href="https://www.w3.org/TR/FileAPI/"><cite>文件 API</cite></a>. 2023年2月6日. WD. URL:
            <a href="https://www.w3.org/TR/FileAPI/">https://www.w3.org/TR/FileAPI/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>. 现行标准.
            URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>基础设施标准</cite></a>. 现行标准.
            URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-mimesniff">[MIMESNIFF]
        <dd>Gordon P. Hemsley. <a href="https://mimesniff.spec.whatwg.org/"><cite>MIME 嗅探标准</cite></a>. 现行标准. URL: <a
                href="https://mimesniff.spec.whatwg.org/">https://mimesniff.spec.whatwg.org/</a>
        <dt id="biblio-permissions">[PERMISSIONS]
        <dd>Marcos Caceres; Mike Taylor. <a href="https://www.w3.org/TR/permissions/"><cite>权限</cite></a>. 2022年12月20日.
            WD. URL: <a href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>用于 RFC 的关键字</cite></a>. 1997年3月.
            最佳当前实践. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-rfc2392">[RFC2392]
        <dd>E. Levinson. <a href="https://www.rfc-editor.org/rfc/rfc2392"><cite>内容-ID 和消息-ID 统一资源定位器</cite></a>.
            1998年8月. 提案标准. URL: <a
                href="https://www.rfc-editor.org/rfc/rfc2392">https://www.rfc-editor.org/rfc/rfc2392</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>. 现行标准. URL: <a
                href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">参考性参考文献</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript 语言规范</cite></a>. URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-html5">[HTML5]
        <dd>Ian Hickson; et al. <a href="https://www.w3.org/TR/html5/"><cite>HTML5</cite></a>. 2018年3月27日. REC. URL: <a
                href="https://www.w3.org/TR/html5/">https://www.w3.org/TR/html5/</a>
        <dt id="biblio-microsoft-clip-op">[MICROSOFT-CLIP-OP]
        <dd><a href="https://msdn.microsoft.com/en-us/ie/ms537658(v=vs.94)"><cite>关于 DHTML 数据传输. 微软开发者网络.</cite></a>.
            URL: <a
                href="https://msdn.microsoft.com/en-us/ie/ms537658(v=vs.94)">https://msdn.microsoft.com/en-us/ie/ms537658(v=vs.94)</a>
        <dt id="biblio-svg11">[SVG11]
        <dd>Erik Dahlström; et al. <a href="https://www.w3.org/TR/SVG11/"><cite>可伸缩矢量图形 (SVG) 1.1 (第二版)</cite></a>.
            2011年8月16日. REC. URL: <a href="https://www.w3.org/TR/SVG11/">https://www.w3.org/TR/SVG11/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def"><c- b>dictionary</c-> <a href="#dictdef-clipboardeventinit"><code><c- g>ClipboardEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><c- n>DataTransfer</c-></a>? <a data-default="null" data-type="DataTransfer? " href="#dom-clipboardeventinit-clipboarddata"><code><c- g>clipboardData</c-></code></a> = <c- b>null</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#clipboardevent"><code><c- g>ClipboardEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-clipboardevent-clipboardevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clipboardevent-clipboardevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboardeventinit"><c- n>ClipboardEventInit</c-></a> <a href="#dom-clipboardevent-clipboardevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><c- n>DataTransfer</c-></a>? <a data-readonly data-type="DataTransfer?" href="#dom-clipboardevent-clipboarddata"><code><c- g>clipboardData</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#clipboard"><c- n>Clipboard</c-></a> <a data-readonly data-type="Clipboard" href="#dom-navigator-clipboard"><code><c- g>clipboard</c-></code></a>;
};

<c- b>typedef</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/FileAPI/#dfn-Blob"><c- n>Blob</c-></a>)> <a href="#typedefdef-clipboarditemdata"><code><c- g>ClipboardItemData</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#clipboarditem"><code><c- g>ClipboardItem</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-clipboarditem-clipboarditem"><c- g>constructor</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a data-link-type="idl-name" href="#typedefdef-clipboarditemdata"><c- n>ClipboardItemData</c-></a>> <a href="#dom-clipboarditem-clipboarditem-items-options-items"><code><c- g>items</c-></code></a>,
              <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboarditemoptions"><c- n>ClipboardItemOptions</c-></a> <a href="#dom-clipboarditem-clipboarditem-items-options-options"><code><c- g>options</c-></code></a> = {});

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-presentationstyle"><c- n>PresentationStyle</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PresentationStyle" href="#dom-clipboarditem-presentationstyle"><c- g>presentationStyle</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>" href="#dom-clipboarditem-types"><c- g>types</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://www.w3.org/TR/FileAPI/#dfn-Blob"><c- n>Blob</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboarditem-gettype"><c- g>getType</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clipboarditem-gettype-type-type"><code><c- g>type</c-></code></a>);
};

<c- b>enum</c-> <a href="#enumdef-presentationstyle"><code><c- g>PresentationStyle</c-></code></a> { <a href="#dom-presentationstyle-unspecified"><code><c- s>"unspecified"</c-></code></a>, <a href="#dom-presentationstyle-inline"><code><c- s>"inline"</c-></code></a>, <a href="#dom-presentationstyle-attachment"><code><c- s>"attachment"</c-></code></a> };

<c- b>dictionary</c-> <a href="#dictdef-clipboarditemoptions"><code><c- g>ClipboardItemOptions</c-></code></a> {
  <a data-link-type="idl-name" href="#enumdef-presentationstyle"><c- n>PresentationStyle</c-></a> <a data-default="&quot;unspecified&quot;" data-type="PresentationStyle " href="#dom-clipboarditemoptions-presentationstyle"><code><c- g>presentationStyle</c-></code></a> = "unspecified";
};

<c- b>typedef</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#clipboarditem"><c- n>ClipboardItem</c-></a>> <a href="#typedefdef-clipboarditems"><code><c- g>ClipboardItems</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#clipboard"><code><c- g>Clipboard</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-clipboarditems"><c- n>ClipboardItems</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-read"><c- g>read</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-readtext"><c- g>readText</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-write"><c- g>write</c-></a>(<a data-link-type="idl-name" href="#typedefdef-clipboarditems"><c- n>ClipboardItems</c-></a> <a href="#dom-clipboard-write-data-data"><code><c- g>data</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-writetext"><c- g>writeText</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clipboard-writetext-data-data"><code><c- g>data</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-clipboardpermissiondescriptor"><code><c- g>ClipboardPermissionDescriptor</c-></code></a> : <a data-link-type="idl-name" href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor"><c- n>PermissionDescriptor</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-clipboardpermissiondescriptor-allowwithoutgesture"><code><c- g>allowWithoutGesture</c-></code></a> = <c- b>false</c->;
};

</pre>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">问题索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> Web 开发者可能对底层拒绝原因感兴趣。<a class="issue-return" href="#issue-2d83c5ad" title="跳转到章节">↵</a></div>
        <div class="issue"> 一些操作系统包含多个剪贴板（例如 Linux 的“主”、“次要”、“选择”）。定义从这些剪贴板中读取的数据来源。<a class="issue-return"
                href="#issue-c148910f" title="跳转到章节">↵</a></div>
        <div class="issue"> 添加“sanitized”的定义。<a class="issue-return" href="#issue-2147149e" title="跳转到章节">↵</a></div>
        <div class="issue"> 一些操作系统包含多个剪贴板（例如 Linux 的“主”、“次要”、“选择”）。定义从这些剪贴板中读取的数据来源。<a class="issue-return"
                href="#issue-c148910f①" title="跳转到章节">↵</a></div>
        <div class="issue"> 添加“sanitized copy”的定义。<a class="issue-return" href="#issue-1755f975" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 读取多个剪贴板项目的问题应在 https://github.com/w3c/clipboard-apis/issues/166 中修复。<a class="issue-return"
                href="#issue-52b202fd" title="跳转到章节">↵</a></div>
        <div class="issue"> clipboard-write 已在 https://github.com/w3c/clipboard-apis/pull/164 中移除。<a
                class="issue-return" href="#issue-1b338371" title="跳转到章节">↵</a></div>
        <div class="issue"> 当 <var>data</var> 包含多个项目且操作系统支持多个本机剪贴板项目时，当前算法将项目按顺序写入系统剪贴板，而不是集体写入。<a class="issue-return"
                href="#issue-f23cf1e2" title="跳转到章节">↵</a></div>
        <div class="issue"> 添加“sanitized copy”的定义。<a class="issue-return" href="#issue-1755f975①" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> clipboard-write 已在 https://github.com/w3c/clipboard-apis/pull/164 中移除。<a
                class="issue-return" href="#issue-1b338371①" title="跳转到章节">↵</a></div>
        <div class="issue"> 不应该将事情留给实现。这里应该发生什么？<a class="issue-return" href="#issue-77e1973e" title="跳转到章节">↵</a></div>
        <div class="issue"> 剪贴板中“删除特定类型”功能存在风险。该功能似乎并不十分重要，并且不清楚是否可以跨相关平台轻松实现。<a class="issue-return"
                href="#issue-0a3703dc" title="跳转到章节">↵</a></div>
        <div class="issue"> 一些操作系统包含多个剪贴板（例如 Linux 的“主”、“次要”、“选择”）。定义数据写入哪个剪贴板。<a class="issue-return"
                href="#issue-3887584b" title="跳转到章节">↵</a></div>
        <div class="issue"> 不应该将事情留给实现。这里应该发生什么？<a class="issue-return" href="#issue-77e1973e①" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 为什么在这里？为什么不在 HTML 规范中？<a class="issue-return" href="#issue-7d2ab940" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 这些步骤是否有必要？我们是否了解支持多部分内部引用的本机（平台）剪贴板实现？<a class="issue-return" href="#issue-096a5049"
                title="跳转到章节">↵</a></div>
        <div class="issue"> 该功能面临风险，因为尚不清楚是否需要此功能，并且跨平台进行测试难度较大。<a class="issue-return" href="#issue-6be1122f"
                title="跳转到章节">↵</a></div>
    </div>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-read">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/read"
                    title="The read() method of the Clipboard interface requests a copy of the clipboard&apos;s contents, delivering the data to the returned Promise when the promise is resolved. Unlike readText(), the read() method can return arbitrary data, such as images. This method can also return text.">Clipboard/read</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 90+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome no"><span>Chrome</span><span>?</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>63+</span></span><span
                    class="edge_blink no"><span>Edge</span><span>?</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>None</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android yes"><span>Samsung Internet</span><span>12.0+</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>54+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-readtext">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/readText"
                    title="The Clipboard interface&apos;s readText() method returns a Promise which resolves with a copy of the textual contents of the system clipboard.">Clipboard/readText</a>
            </p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>66+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-write">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/write"
                    title="The Clipboard method write() writes arbitrary data, such as images, to the clipboard. This can be used to implement cut and copy functionality.">Clipboard/write</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>66+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>63+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>None</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android yes"><span>Chrome for Android</span><span>66+</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android yes"><span>Samsung Internet</span><span>12.0+</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>54+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-writetext">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/writeText"
                    title="The Clipboard interface&apos;s writeText() property writes the specified text string to the system clipboard. Text may be read back using either read() or readText().">Clipboard/writeText</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>63+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>66+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboard-interface">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard"
                    title="The Clipboard interface implements the Clipboard API, providing—if the user grants permission—both read and write access to the contents of the system clipboard. The Clipboard API can be used to implement cut, copy, and paste features within a web application.">Clipboard</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>63+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>66+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboardevent-clipboardevent">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent/ClipboardEvent"
                    title="The ClipboardEvent() constructor returns a new ClipboardEvent, representing an event providing information related to modification of the clipboard, that is cut, copy, and paste events.">ClipboardEvent/ClipboardEvent</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>58+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboardevent-clipboarddata">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent/clipboardData"
                    title="The ClipboardEvent.clipboardData property holds a DataTransfer object, which can be used:">ClipboardEvent/clipboardData</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>41+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span
                    class="ie yes"><span>IE</span><span>5+</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-interfaces">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent"
                    title="The ClipboardEvent interface represents events providing information related to modification of the clipboard, that is cut, copy, and paste events.">ClipboardEvent</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>41+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span
                    class="ie yes"><span>IE</span><span>4+</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-clipboarditem">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/ClipboardItem"
                    title="The ClipboardItem() constructor of the Clipboard API creates a new ClipboardItem object which represents data to be stored or retrieved via the Clipboard API, that is clipboard.write() and clipboard.read() respectively.">ClipboardItem/ClipboardItem</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>98+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>98+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android yes"><span>Chrome for Android</span><span>98+</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-gettype">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/getType"
                    title="The getType() method of the ClipboardItem interface returns a Promise that resolves with a Blob of the requested MIME type or an error if the MIME type is not found.">ClipboardItem/getType</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>76+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android yes"><span>Chrome for Android</span><span>84+</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-presentationstyle">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/presentationStyle"
                    title="The read-only presentationStyle property of the ClipboardItem interface returns a string indicating how an item should be presented.">ClipboardItem/presentationStyle</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome no"><span>Chrome</span><span>None</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink no"><span>Edge</span><span>None</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-types">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/types"
                    title="The read-only types property of the ClipboardItem interface returns an Array of MIME types available within the ClipboardItem">ClipboardItem/types</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>76+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android yes"><span>Chrome for Android</span><span>84+</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboarditem">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem"
                    title="The ClipboardItem interface of the Clipboard API represents a single item format, used when reading or writing data via the Clipboard API. That is clipboard.read() and clipboard.write() respectively.">ClipboardItem</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>76+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android yes"><span>Chrome for Android</span><span>84+</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-copy">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/copy_event"
                    title="The copy event fires when the user initiates a copy action through the browser&apos;s user interface.">Element/copy_event</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>3+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>1+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>12.1+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span
                    class="ie yes"><span>IE</span><span>9+</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios yes"><span>iOS Safari</span><span>3+</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>12.1+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-cut">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/cut_event"
                    title="The cut event is fired when the user has initiated a &quot;cut&quot; action through the browser&apos;s user interface.">Element/cut_event</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>3+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>1+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>12.1+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span
                    class="ie yes"><span>IE</span><span>9+</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios yes"><span>iOS Safari</span><span>3+</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>12.1+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-paste">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/paste_event"
                    title="The paste event is fired when the user has initiated a &quot;paste&quot; action through the browser&apos;s user interface.">Element/paste_event</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>3+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>1+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>12.1+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span
                    class="ie yes"><span>IE</span><span>9+</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios yes"><span>iOS Safari</span><span>3+</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android yes"><span>Android WebView</span><span>37+</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>12.1+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="navigator-clipboard">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/clipboard"
                    title="The Clipboard API adds to the Navigator interface the read-only clipboard property, which returns the Clipboard object used to read and write the clipboard&apos;s contents.">Navigator/clipboard</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>63+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>66+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <script>/* position-annos */
        "use strict";
        {

            function repositionAnnoPanels() {
                const panels = [...document.querySelectorAll("[data-anno-for]")];
                const main = document.querySelector("main");
                let mainRect;
                if (main) mainRect = main.getBoundingClientRect();
                for (const panel of panels) {
                    const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
                    if (!dfn) {
                        console.log("Can't find the annotation panel target:", panel);
                        continue;
                    }
                    const rect = dfn.getBoundingClientRect();
                    const top = window.scrollY + rect.top
                    panel.style.top = top + "px";
                    panel.top = top;
                    panel.height = rect.height;
                    panel.classList.remove("unpositioned");
                    const panelRect = panel.getBoundingClientRect()
                    if (main) {
                        panel.classList.toggle("overlapping-main", panelRect.left < mainRect.right)
                    }
                }
                let vSoFar = 0;
                for (const panel of panels.sort(cmpTops)) {
                    if (panel.top < vSoFar) {
                        panel.top = vSoFar;
                        panel.style.top = vSoFar + "px";
                    }
                    vSoFar = panel.top + panel.height + 15;
                }
            }

            function cmpTops(a, b) {
                return a.top - b.top;
            }

            window.addEventListener("load", repositionAnnoPanels);
            window.addEventListener("resize", repositionAnnoPanels);
        }</script>
    <script>/* script-dfn-panel */
        "use strict";
        {
            const dfnsJson = window.dfnsJson || {};

            function genDfnPanel({ dfnID, url, dfnText, refSections, external }) {
                return mk.aside({
                    class: "dfn-panel",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url }, url),
                    mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({
                                            href: `#${ref.id}`
                                        },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                );
            }

            function genAllDfnPanels() {
                for (const panelData of Object.values(window.dfnpanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                    } else {
                        const panel = genDfnPanel(panelData);
                        append(document.body, panel);
                        insertDfnPopupAction(dfn, panel)
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                // Add popup behavior to all dfns to show the corresponding dfn-panel.
                var dfns = queryAll('.dfn-paneled');
                for (let dfn of dfns) { ; }

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            })


            function hideAllDfnPanels() {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => hideDfnPanel(el));
            }

            function showDfnPanel(dfnPanel, dfn) {
                hideAllDfnPanels(); // Only display one at this time.
                dfn.setAttribute("aria-expanded", "true");
                dfnPanel.classList.add("on");
                dfnPanel.style.left = "5px";
                dfnPanel.style.top = "0px";
                const panelRect = dfnPanel.getBoundingClientRect();
                const panelWidth = panelRect.right - panelRect.left;
                if (panelRect.right > document.body.scrollWidth) {
                    // Panel's overflowing the screen.
                    // Just drop it below the dfn and flip it rightward instead.
                    // This still wont' fix things if the screen is *really* wide,
                    // but fixing that's a lot harder without 'anchor()'.
                    dfnPanel.style.top = "1.5em";
                    dfnPanel.style.left = "auto";
                    dfnPanel.style.right = "0px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel(dfnPanel, dfn) {
                if (!dfn) {
                    dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
                }
                dfn.setAttribute("aria-expanded", "false")
                dfnPanel.classList.remove("on");
                dfnPanel.classList.remove("activated");
            }

            function toggleDfnPanel(dfnPanel, dfn) {
                if (dfnPanel.classList.contains("on")) {
                    hideDfnPanel(dfnPanel, dfn);
                } else {
                    showDfnPanel(dfnPanel, dfn);
                }
            }

            function insertDfnPopupAction(dfn, dfnPanel) {
                // Find dfn panel
                const panelWrapper = document.createElement('span');
                panelWrapper.appendChild(dfnPanel);
                panelWrapper.style.position = "relative";
                panelWrapper.style.height = "0px";
                dfn.insertAdjacentElement("afterend", panelWrapper);
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    showDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                });

                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                })
            }
        }
    </script>
    <script>/* script-dfn-panel-json */
        window.dfnpanelData = {};
        window.dfnpanelData['c176812b'] = { "dfnID": "c176812b", "url": "http://www.w3.org/TR/html5/browsers.html#allowed-to-show-a-popup", "dfnText": "allowed to show a popup", "refSections": [{ "refs": [{ "id": "ref-for-allowed-to-show-a-popup" }], "title": "5.3.1. Event handlers that are allowed to modify the clipboard" }], "external": true };
        window.dfnpanelData['dc8f85df'] = { "dfnID": "dc8f85df", "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-p", "dfnText": "concept dnd p", "refSections": [{ "refs": [{ "id": "ref-for-concept-dnd-p" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['2ea8cccb'] = { "dfnID": "2ea8cccb", "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-ro", "dfnText": "concept dnd ro", "refSections": [{ "refs": [{ "id": "ref-for-concept-dnd-ro" }], "title": "6.3. Overriding the paste event" }, { "refs": [{ "id": "ref-for-concept-dnd-ro\u2460" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['2551a9c6'] = { "dfnID": "2551a9c6", "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-rw", "dfnText": "concept dnd rw", "refSections": [{ "refs": [{ "id": "ref-for-concept-dnd-rw" }, { "id": "ref-for-concept-dnd-rw\u2460" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['a1ac87bf'] = { "dfnID": "a1ac87bf", "url": "https://dom.spec.whatwg.org/#constructing-events", "dfnText": "constructing events", "refSections": [{ "refs": [{ "id": "ref-for-constructing-events" }], "title": "5.1. Clipboard event interfaces" }], "external": true };
        window.dfnpanelData['2cb28cb0'] = { "dfnID": "2cb28cb0", "url": "https://w3c.github.io/permissions/#dom-permissionstate-denied", "dfnText": "denied", "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionstate-denied" }], "title": "9. Permissions API Integration" }], "external": true };
        window.dfnpanelData['c1f77abc'] = { "dfnID": "c1f77abc", "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind", "dfnText": "drag data item kind", "refSections": [{ "refs": [{ "id": "ref-for-drag-data-item-kind" }, { "id": "ref-for-drag-data-item-kind\u2460" }, { "id": "ref-for-drag-data-item-kind\u2461" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-drag-data-item-kind\u2462" }, { "id": "ref-for-drag-data-item-kind\u2463" }], "title": "process an HTML paste event" }], "external": true };
        window.dfnpanelData['a70adace'] = { "dfnID": "a70adace", "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string", "dfnText": "drag data item type string", "refSections": [{ "refs": [{ "id": "ref-for-drag-data-item-type-string" }, { "id": "ref-for-drag-data-item-type-string\u2460" }, { "id": "ref-for-drag-data-item-type-string\u2461" }, { "id": "ref-for-drag-data-item-type-string\u2462" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-drag-data-item-type-string\u2463" }, { "id": "ref-for-drag-data-item-type-string\u2464" }], "title": "process an HTML paste event" }], "external": true };
        window.dfnpanelData['b8912f12'] = { "dfnID": "b8912f12", "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode", "dfnText": "drag data store mode", "refSections": [{ "refs": [{ "id": "ref-for-drag-data-store-mode" }], "title": "6.3. Overriding the paste event" }, { "refs": [{ "id": "ref-for-drag-data-store-mode\u2460" }, { "id": "ref-for-drag-data-store-mode\u2461" }, { "id": "ref-for-drag-data-store-mode\u2462" }, { "id": "ref-for-drag-data-store-mode\u2463" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['c4619dd3'] = { "dfnID": "c4619dd3", "url": "http://w3c.github.io/editing/contentEditable.html#dfn-editing-host", "dfnText": "editing host", "refSections": [{ "refs": [{ "id": "ref-for-dfn-editing-host" }], "title": "3. Terminology" }], "external": true };
        window.dfnpanelData['fad8924f'] = { "dfnID": "fad8924f", "url": "https://html.spec.whatwg.org/multipage/interaction.html#focusable-area", "dfnText": "focusable area", "refSections": [{ "refs": [{ "id": "ref-for-focusable-area" }], "title": "5.3.5. Event listeners that modify selection or focus" }], "external": true };
        window.dfnpanelData['c6ce3c60'] = { "dfnID": "c6ce3c60", "url": "https://w3c.github.io/permissions/#dom-permissionstate-granted", "dfnText": "granted", "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionstate-granted" }], "title": "9.2.1. check clipboard write permission" }], "external": true };
        window.dfnpanelData['c51ad875'] = { "dfnID": "c51ad875", "url": "https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2", "dfnText": "the body element", "refSections": [{ "refs": [{ "id": "ref-for-the-body-element-2" }, { "id": "ref-for-the-body-element-2\u2460" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['129bdae8'] = { "dfnID": "129bdae8", "url": "https://dom.spec.whatwg.org/#event", "dfnText": "Event", "refSections": [{ "refs": [{ "id": "ref-for-event" }, { "id": "ref-for-event\u2460" }], "title": "5.1. Clipboard event interfaces" }], "external": true };
        window.dfnpanelData['44a7708c'] = { "dfnID": "44a7708c", "url": "https://dom.spec.whatwg.org/#dictdef-eventinit", "dfnText": "EventInit", "refSections": [{ "refs": [{ "id": "ref-for-dictdef-eventinit" }], "title": "5.1. Clipboard event interfaces" }], "external": true };
        window.dfnpanelData['2bc0cdf4'] = { "dfnID": "2bc0cdf4", "url": "https://dom.spec.whatwg.org/#eventtarget", "dfnText": "EventTarget", "refSections": [{ "refs": [{ "id": "ref-for-eventtarget" }], "title": "7.3. Clipboard Interface" }], "external": true };
        window.dfnpanelData['8b547cc7'] = { "dfnID": "8b547cc7", "url": "https://dom.spec.whatwg.org/#dom-event-composed", "dfnText": "composed", "refSections": [{ "refs": [{ "id": "ref-for-dom-event-composed" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['838900a7'] = { "dfnID": "838900a7", "url": "https://dom.spec.whatwg.org/#dom-event-istrusted", "dfnText": "isTrusted", "refSections": [{ "refs": [{ "id": "ref-for-dom-event-istrusted" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['fefe0433'] = { "dfnID": "fefe0433", "url": "https://dom.spec.whatwg.org/#dom-event-preventdefault", "dfnText": "preventDefault()", "refSections": [{ "refs": [{ "id": "ref-for-dom-event-preventdefault" }], "title": "6.1. Overriding the copy event" }, { "refs": [{ "id": "ref-for-dom-event-preventdefault\u2460" }], "title": "6.2. Overriding the cut event" }, { "refs": [{ "id": "ref-for-dom-event-preventdefault\u2461" }], "title": "6.3. Overriding the paste event" }], "external": true };
        window.dfnpanelData['7c9ab308'] = { "dfnID": "7c9ab308", "url": "http://tc39.github.io/ecma262/#sec-promise-objects", "dfnText": "promise", "refSections": [{ "refs": [{ "id": "ref-for-sec-promise-objects" }, { "id": "ref-for-sec-promise-objects\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2461" }], "title": "7.3. Clipboard Interface" }], "external": true };
        window.dfnpanelData['b0fcb8d7'] = { "dfnID": "b0fcb8d7", "url": "https://encoding.spec.whatwg.org/#utf-8-decode", "dfnText": "utf-8 decode", "refSections": [{ "refs": [{ "id": "ref-for-utf-8-decode" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-utf-8-decode\u2460" }], "title": "write blobs and option to the clipboard" }], "external": true };
        window.dfnpanelData['0303e8e5'] = { "dfnID": "0303e8e5", "url": "https://encoding.spec.whatwg.org/#utf-8-encode", "dfnText": "utf-8 encode", "refSections": [{ "refs": [{ "id": "ref-for-utf-8-encode" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-utf-8-encode\u2460" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-utf-8-encode\u2461" }], "title": "7.3.4. writeText(data)" }], "external": true };
        window.dfnpanelData['119fb4df'] = { "dfnID": "119fb4df", "url": "https://www.w3.org/TR/FileAPI/#dfn-Blob", "dfnText": "Blob", "refSections": [{ "refs": [{ "id": "ref-for-dfn-Blob" }, { "id": "ref-for-dfn-Blob\u2460" }, { "id": "ref-for-dfn-Blob\u2461" }, { "id": "ref-for-dfn-Blob\u2462" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-dfn-Blob\u2463" }, { "id": "ref-for-dfn-Blob\u2464" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-dfn-Blob\u2465" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-dfn-Blob\u2466" }, { "id": "ref-for-dfn-Blob\u2467" }, { "id": "ref-for-dfn-Blob\u2468" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-dfn-Blob\u2460\u24ea" }, { "id": "ref-for-dfn-Blob\u2460\u2460" }], "title": "7.3.4. writeText(data)" }, { "refs": [{ "id": "ref-for-dfn-Blob\u2460\u2461" }], "title": "write blobs and option to the clipboard" }], "external": true };
        window.dfnpanelData['7e1d7596'] = { "dfnID": "7e1d7596", "url": "https://www.w3.org/TR/FileAPI/#dfn-file", "dfnText": "File", "refSections": [{ "refs": [{ "id": "ref-for-dfn-file" }, { "id": "ref-for-dfn-file\u2460" }], "title": "process an HTML paste event" }], "external": true };
        window.dfnpanelData['c5019b63'] = { "dfnID": "c5019b63", "url": "https://www.w3.org/TR/FileAPI/#dfn-lastModified", "dfnText": "lastModified", "refSections": [{ "refs": [{ "id": "ref-for-dfn-lastModified" }], "title": "process an HTML paste event" }], "external": true };
        window.dfnpanelData['9784d14c'] = { "dfnID": "9784d14c", "url": "https://www.w3.org/TR/FileAPI/#dfn-name", "dfnText": "name", "refSections": [{ "refs": [{ "id": "ref-for-dfn-name" }], "title": "process an HTML paste event" }], "external": true };
        window.dfnpanelData['49d6d0a2'] = { "dfnID": "49d6d0a2", "url": "https://www.w3.org/TR/FileAPI/#dfn-type", "dfnText": "type", "refSections": [{ "refs": [{ "id": "ref-for-dfn-type" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-dfn-type\u2460" }, { "id": "ref-for-dfn-type\u2461" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-dfn-type\u2462" }], "title": "7.3.4. writeText(data)" }, { "refs": [{ "id": "ref-for-dfn-type\u2463" }], "title": "write blobs and option to the clipboard" }, { "refs": [{ "id": "ref-for-dfn-type\u2464" }], "title": "os specific well-known format" }], "external": true };
        window.dfnpanelData['2b83ae0c'] = { "dfnID": "2b83ae0c", "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransfer", "dfnText": "DataTransfer", "refSections": [{ "refs": [{ "id": "ref-for-datatransfer" }], "title": "4. Model" }, { "refs": [{ "id": "ref-for-datatransfer\u2460" }, { "id": "ref-for-datatransfer\u2461" }, { "id": "ref-for-datatransfer\u2462" }, { "id": "ref-for-datatransfer\u2463" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-datatransfer\u2464" }], "title": "6. Clipboard Event API" }, { "refs": [{ "id": "ref-for-datatransfer\u2465" }], "title": "6.4.2. Writing to the clipboard" }, { "refs": [{ "id": "ref-for-datatransfer\u2466" }], "title": "10.4. Nuisance considerations" }, { "refs": [{ "id": "ref-for-datatransfer\u2467" }, { "id": "ref-for-datatransfer\u2468" }], "title": "11.1. Privacy and the Clipboard Event API" }, { "refs": [{ "id": "ref-for-datatransfer\u2460\u24ea" }, { "id": "ref-for-datatransfer\u2460\u2460" }, { "id": "ref-for-datatransfer\u2460\u2461" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-datatransfer\u2460\u2462" }], "title": "process an HTML paste event" }], "external": true };
        window.dfnpanelData['4ff66d05'] = { "dfnID": "4ff66d05", "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem", "dfnText": "DataTransferItem", "refSections": [{ "refs": [{ "id": "ref-for-datatransferitem" }, { "id": "ref-for-datatransferitem\u2460" }, { "id": "ref-for-datatransferitem\u2461" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-datatransferitem\u2462" }, { "id": "ref-for-datatransferitem\u2463" }], "title": "process an HTML paste event" }], "external": true };
        window.dfnpanelData['707c843f'] = { "dfnID": "707c843f", "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist", "dfnText": "DataTransferItemList", "refSections": [{ "refs": [{ "id": "ref-for-datatransferitemlist" }], "title": "6.4. Mandatory data types" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2460" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2461" }], "title": "8.2. The cut action" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2462" }], "title": "10.2. General security policies" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2463" }], "title": "write content to the clipboard" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2464" }, { "id": "ref-for-datatransferitemlist\u2465" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2466" }], "title": "process an HTML paste event" }], "external": true };
        window.dfnpanelData['be0c27b2'] = { "dfnID": "be0c27b2", "url": "https://html.spec.whatwg.org/multipage/system-state.html#navigator", "dfnText": "Navigator", "refSections": [{ "refs": [{ "id": "ref-for-navigator" }], "title": "7.1. Navigator Interface" }], "external": true };
        window.dfnpanelData['5f5b7a0c'] = { "dfnID": "5f5b7a0c", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransferitemlist-clear", "dfnText": "clear()", "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransferitemlist-clear" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['f62ad1e6'] = { "dfnID": "f62ad1e6", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-cleardata", "dfnText": "clearData(format)", "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-cleardata" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['1e280de0'] = { "dfnID": "1e280de0", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files", "dfnText": "files", "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-files" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-dom-datatransfer-files\u2460" }], "title": "10.2. General security policies" }, { "refs": [{ "id": "ref-for-dom-datatransfer-files\u2461" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['d82f90d1'] = { "dfnID": "d82f90d1", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-getdata", "dfnText": "getData(format)", "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-getdata" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['7c421916'] = { "dfnID": "7c421916", "url": "https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps", "dfnText": "has focus steps", "refSections": [{ "refs": [{ "id": "ref-for-has-focus-steps" }], "title": "11.2. Privacy and the Asychronous Clipboard API" }], "external": true };
        window.dfnpanelData['a72449dd'] = { "dfnID": "a72449dd", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel", "dfnText": "in parallel", "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-in-parallel\u2460" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-in-parallel\u2461" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-in-parallel\u2462" }], "title": "7.3.4. writeText(data)" }], "external": true };
        window.dfnpanelData['50eecf1d'] = { "dfnID": "50eecf1d", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items", "dfnText": "items", "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-items" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-dom-datatransfer-items\u2460" }], "title": "6. Clipboard Event API" }, { "refs": [{ "id": "ref-for-dom-datatransfer-items\u2461" }, { "id": "ref-for-dom-datatransfer-items\u2462" }, { "id": "ref-for-dom-datatransfer-items\u2463" }, { "id": "ref-for-dom-datatransfer-items\u2464" }, { "id": "ref-for-dom-datatransfer-items\u2465" }, { "id": "ref-for-dom-datatransfer-items\u2466" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-dom-datatransfer-items\u2467" }, { "id": "ref-for-dom-datatransfer-items\u2468" }, { "id": "ref-for-dom-datatransfer-items\u2460\u24ea" }], "title": "process an HTML paste event" }], "external": true };
        window.dfnpanelData['48438eb3'] = { "dfnID": "48438eb3", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task", "dfnText": "queue a global task", "refSections": [{ "refs": [{ "id": "ref-for-queue-a-global-task" }, { "id": "ref-for-queue-a-global-task\u2460" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-queue-a-global-task\u2461" }, { "id": "ref-for-queue-a-global-task\u2462" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-queue-a-global-task\u2463" }, { "id": "ref-for-queue-a-global-task\u2464" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-queue-a-global-task\u2465" }, { "id": "ref-for-queue-a-global-task\u2466" }], "title": "7.3.4. writeText(data)" }], "external": true };
        window.dfnpanelData['e99bd18e'] = { "dfnID": "e99bd18e", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global", "dfnText": "relevant global object", "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "9.1.1. check clipboard read permission" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "9.2.1. check clipboard write permission" }], "external": true };
        window.dfnpanelData['5991ccfb'] = { "dfnID": "5991ccfb", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm", "dfnText": "relevant realm", "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-realm" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2460" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2461" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2462" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2463" }], "title": "7.3.4. writeText(data)" }], "external": true };
        window.dfnpanelData['beda2316'] = { "dfnID": "beda2316", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata", "dfnText": "setData(format, data)", "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-setdata" }], "title": "6.3. Overriding the paste event" }, { "refs": [{ "id": "ref-for-dom-datatransfer-setdata\u2460" }], "title": "write content to the clipboard" }, { "refs": [{ "id": "ref-for-dom-datatransfer-setdata\u2461" }], "title": "os specific well-known format" }, { "refs": [{ "id": "ref-for-dom-datatransfer-setdata\u2462" }, { "id": "ref-for-dom-datatransfer-setdata\u2463" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['47fe679e'] = { "dfnID": "47fe679e", "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation", "dfnText": "transient activation", "refSections": [{ "refs": [{ "id": "ref-for-transient-activation" }], "title": "9.1.1. check clipboard read permission" }, { "refs": [{ "id": "ref-for-transient-activation\u2460" }], "title": "9.2.1. check clipboard write permission" }], "external": true };
        window.dfnpanelData['f3fc35d3'] = { "dfnID": "f3fc35d3", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-types", "dfnText": "types", "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-types" }], "title": "fire a clipboard event" }], "external": true };
        window.dfnpanelData['ae8def21'] = { "dfnID": "ae8def21", "url": "https://infra.spec.whatwg.org/#list-contain", "dfnText": "contain", "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "7.2. ClipboardItem Interface" }], "external": true };
        window.dfnpanelData['0204d188'] = { "dfnID": "0204d188", "url": "https://infra.spec.whatwg.org/#list-size", "dfnText": "size", "refSections": [{ "refs": [{ "id": "ref-for-list-size" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-list-size\u2460" }], "title": "7.3.3. write(data)" }], "external": true };
        window.dfnpanelData['7c195f8b'] = { "dfnID": "7c195f8b", "url": "https://mimesniff.spec.whatwg.org/#mime-type-essence", "dfnText": "essence", "refSections": [{ "refs": [{ "id": "ref-for-mime-type-essence" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-mime-type-essence\u2460" }, { "id": "ref-for-mime-type-essence\u2461" }, { "id": "ref-for-mime-type-essence\u2462" }], "title": "os specific well-known format" }], "external": true };
        window.dfnpanelData['16785ec4'] = { "dfnID": "16785ec4", "url": "https://mimesniff.spec.whatwg.org/#mime-type", "dfnText": "mime type", "refSections": [{ "refs": [{ "id": "ref-for-mime-type" }, { "id": "ref-for-mime-type\u2460" }, { "id": "ref-for-mime-type\u2461" }], "title": "7.2. ClipboardItem Interface" }], "external": true };
        window.dfnpanelData['d72dabca'] = { "dfnID": "d72dabca", "url": "https://mimesniff.spec.whatwg.org/#parse-a-mime-type", "dfnText": "parse a mime type", "refSections": [{ "refs": [{ "id": "ref-for-parse-a-mime-type" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-parse-a-mime-type\u2460" }], "title": "7.2.3. getType(type)" }], "external": true };
        window.dfnpanelData['d6e5d5bd'] = { "dfnID": "d6e5d5bd", "url": "https://mimesniff.spec.whatwg.org/#serialize-a-mime-type", "dfnText": "serialize a mime type", "refSections": [{ "refs": [{ "id": "ref-for-serialize-a-mime-type" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-serialize-a-mime-type\u2460" }], "title": "7.2.3. getType(type)" }], "external": true };
        window.dfnpanelData['03efcfde'] = { "dfnID": "03efcfde", "url": "https://www.w3.org/TR/permissions/#dom-permissiondescriptor", "dfnText": "PermissionDescriptor", "refSections": [{ "refs": [{ "id": "ref-for-dom-permissiondescriptor" }], "title": "9. Permissions API Integration" }], "external": true };
        window.dfnpanelData['d8705310'] = { "dfnID": "d8705310", "url": "https://www.w3.org/TR/permissions/#dfn-permission-descriptor-type", "dfnText": "permission descriptor type", "refSections": [{ "refs": [{ "id": "ref-for-dfn-permission-descriptor-type" }], "title": "9. Permissions API Integration" }], "external": true };
        window.dfnpanelData['01082766'] = { "dfnID": "01082766", "url": "https://www.w3.org/TR/permissions/#dfn-permission-state", "dfnText": "permission state", "refSections": [{ "refs": [{ "id": "ref-for-dfn-permission-state" }], "title": "9.2.1. check clipboard write permission" }], "external": true };
        window.dfnpanelData['27daf463'] = { "dfnID": "27daf463", "url": "https://www.w3.org/TR/permissions/#dfn-powerful-feature", "dfnText": "powerful feature", "refSections": [{ "refs": [{ "id": "ref-for-dfn-powerful-feature" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-dfn-powerful-feature\u2460" }, { "id": "ref-for-dfn-powerful-feature\u2461" }], "title": "9. Permissions API Integration" }], "external": true };
        window.dfnpanelData['756a432d'] = { "dfnID": "756a432d", "url": "https://www.w3.org/TR/permissions/#dfn-request-permission-to-use", "dfnText": "request permission to use", "refSections": [{ "refs": [{ "id": "ref-for-dfn-request-permission-to-use" }, { "id": "ref-for-dfn-request-permission-to-use\u2460" }], "title": "9.2.1. check clipboard write permission" }], "external": true };
        window.dfnpanelData['dca2de17'] = { "dfnID": "dca2de17", "url": "https://webidl.spec.whatwg.org/#idl-DOMException", "dfnText": "DOMException", "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }, { "id": "ref-for-idl-DOMException\u2460" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462" }, { "id": "ref-for-idl-DOMException\u2463" }, { "id": "ref-for-idl-DOMException\u2464" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2465" }, { "id": "ref-for-idl-DOMException\u2466" }, { "id": "ref-for-idl-DOMException\u2467" }], "title": "7.3.3. write(data)" }], "external": true };
        window.dfnpanelData['8855a9aa'] = { "dfnID": "8855a9aa", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "dfnText": "DOMString", "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460" }, { "id": "ref-for-idl-DOMString\u2461" }, { "id": "ref-for-idl-DOMString\u2462" }, { "id": "ref-for-idl-DOMString\u2463" }, { "id": "ref-for-idl-DOMString\u2464" }, { "id": "ref-for-idl-DOMString\u2465" }, { "id": "ref-for-idl-DOMString\u2466" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2467" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2468" }, { "id": "ref-for-idl-DOMString\u2460\u24ea" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460\u2460" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460\u2461" }], "title": "7.3.3. write(data)" }], "external": true };
        window.dfnpanelData['889e932f'] = { "dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-Exposed\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-Exposed\u2461" }], "title": "7.3. Clipboard Interface" }], "external": true };
        window.dfnpanelData['dcf5fafa'] = { "dfnID": "dcf5fafa", "url": "https://webidl.spec.whatwg.org/#idl-frozen-array", "dfnText": "FrozenArray", "refSections": [{ "refs": [{ "id": "ref-for-idl-frozen-array" }, { "id": "ref-for-idl-frozen-array\u2460" }], "title": "7.2. ClipboardItem Interface" }], "external": true };
        window.dfnpanelData['ba556545'] = { "dfnID": "ba556545", "url": "https://webidl.spec.whatwg.org/#notallowederror", "dfnText": "NotAllowedError", "refSections": [{ "refs": [{ "id": "ref-for-notallowederror" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-notallowederror\u2460" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-notallowederror\u2461" }, { "id": "ref-for-notallowederror\u2462" }, { "id": "ref-for-notallowederror\u2463" }, { "id": "ref-for-notallowederror\u2464" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-notallowederror\u2465" }], "title": "7.3.4. writeText(data)" }], "external": true };
        window.dfnpanelData['9eda9b58'] = { "dfnID": "9eda9b58", "url": "https://webidl.spec.whatwg.org/#notfounderror", "dfnText": "NotFoundError", "refSections": [{ "refs": [{ "id": "ref-for-notfounderror" }, { "id": "ref-for-notfounderror\u2460" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-notfounderror\u2461" }, { "id": "ref-for-notfounderror\u2462" }], "title": "7.3.2. readText()" }], "external": true };
        window.dfnpanelData['bdbd19d1'] = { "dfnID": "bdbd19d1", "url": "https://webidl.spec.whatwg.org/#idl-promise", "dfnText": "Promise", "refSections": [{ "refs": [{ "id": "ref-for-idl-promise" }, { "id": "ref-for-idl-promise\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2461" }, { "id": "ref-for-idl-promise\u2462" }, { "id": "ref-for-idl-promise\u2463" }, { "id": "ref-for-idl-promise\u2464" }], "title": "7.3. Clipboard Interface" }], "external": true };
        window.dfnpanelData['a5c91173'] = { "dfnID": "a5c91173", "url": "https://webidl.spec.whatwg.org/#SameObject", "dfnText": "SameObject", "refSections": [{ "refs": [{ "id": "ref-for-SameObject" }], "title": "7.1. Navigator Interface" }], "external": true };
        window.dfnpanelData['b75bb3bd'] = { "dfnID": "b75bb3bd", "url": "https://webidl.spec.whatwg.org/#SecureContext", "dfnText": "SecureContext", "refSections": [{ "refs": [{ "id": "ref-for-SecureContext" }], "title": "7.1. Navigator Interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2461" }], "title": "7.3. Clipboard Interface" }], "external": true };
        window.dfnpanelData['82ca3efc'] = { "dfnID": "82ca3efc", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror", "dfnText": "TypeError", "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-typeerror" }, { "id": "ref-for-exceptiondef-typeerror\u2460" }, { "id": "ref-for-exceptiondef-typeerror\u2461" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2462" }], "title": "7.2.3. getType(type)" }], "external": true };
        window.dfnpanelData['dacde8b5'] = { "dfnID": "dacde8b5", "url": "https://webidl.spec.whatwg.org/#a-new-promise", "dfnText": "a new promise", "refSections": [{ "refs": [{ "id": "ref-for-a-new-promise" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-a-new-promise\u2461" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-a-new-promise\u2462" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2463" }], "title": "7.3.4. writeText(data)" }], "external": true };
        window.dfnpanelData['5372cca8'] = { "dfnID": "5372cca8", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "dfnText": "boolean", "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }], "title": "9. Permissions API Integration" }], "external": true };
        window.dfnpanelData['1641b9ef'] = { "dfnID": "1641b9ef", "url": "https://webidl.spec.whatwg.org/#dfn-create-frozen-array", "dfnText": "create a frozen array", "refSections": [{ "refs": [{ "id": "ref-for-dfn-create-frozen-array" }], "title": "7.2. ClipboardItem Interface" }], "external": true };
        window.dfnpanelData['56f81a8e'] = { "dfnID": "56f81a8e", "url": "https://webidl.spec.whatwg.org/#new", "dfnText": "new", "refSections": [{ "refs": [{ "id": "ref-for-new" }], "title": "7.2. ClipboardItem Interface" }], "external": true };
        window.dfnpanelData['750a2f08'] = { "dfnID": "750a2f08", "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled", "dfnText": "react", "refSections": [{ "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2460" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2461" }], "title": "7.3.3. write(data)" }], "external": true };
        window.dfnpanelData['7787d359'] = { "dfnID": "7787d359", "url": "https://webidl.spec.whatwg.org/#idl-record", "dfnText": "record", "refSections": [{ "refs": [{ "id": "ref-for-idl-record" }], "title": "7.2. ClipboardItem Interface" }], "external": true };
        window.dfnpanelData['b262501e'] = { "dfnID": "b262501e", "url": "https://webidl.spec.whatwg.org/#reject", "dfnText": "reject", "refSections": [{ "refs": [{ "id": "ref-for-reject" }, { "id": "ref-for-reject\u2460" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-reject\u2461" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-reject\u2462" }, { "id": "ref-for-reject\u2463" }, { "id": "ref-for-reject\u2464" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-reject\u2465" }, { "id": "ref-for-reject\u2466" }, { "id": "ref-for-reject\u2467" }, { "id": "ref-for-reject\u2468" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-reject\u2460\u24ea" }], "title": "7.3.4. writeText(data)" }], "external": true };
        window.dfnpanelData['9cce47fd'] = { "dfnID": "9cce47fd", "url": "https://webidl.spec.whatwg.org/#idl-sequence", "dfnText": "sequence", "refSections": [{ "refs": [{ "id": "ref-for-idl-sequence" }, { "id": "ref-for-idl-sequence\u2460" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-idl-sequence\u2461" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-idl-sequence\u2462" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-idl-sequence\u2463" }, { "id": "ref-for-idl-sequence\u2464" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-idl-sequence\u2465" }], "title": "7.3.4. writeText(data)" }, { "refs": [{ "id": "ref-for-idl-sequence\u2466" }], "title": "write blobs and option to the clipboard" }], "external": true };
        window.dfnpanelData['4013a022'] = { "dfnID": "4013a022", "url": "https://webidl.spec.whatwg.org/#this", "dfnText": "this", "refSections": [{ "refs": [{ "id": "ref-for-this" }], "title": "7.1.1. clipboard" }, { "refs": [{ "id": "ref-for-this\u2460" }, { "id": "ref-for-this\u2461" }, { "id": "ref-for-this\u2462" }, { "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-this\u2465" }], "title": "7.2.1. presentationStyle" }, { "refs": [{ "id": "ref-for-this\u2466" }], "title": "7.2.2. types" }, { "refs": [{ "id": "ref-for-this\u2467" }, { "id": "ref-for-this\u2468" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-this\u2460\u24ea" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-this\u2460\u2460" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-this\u2460\u2461" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-this\u2460\u2462" }], "title": "7.3.4. writeText(data)" }, { "refs": [{ "id": "ref-for-this\u2460\u2463" }], "title": "9.1.1. check clipboard read permission" }, { "refs": [{ "id": "ref-for-this\u2460\u2464" }], "title": "9.2.1. check clipboard write permission" }], "external": true };
        window.dfnpanelData['5f90bbfb'] = { "dfnID": "5f90bbfb", "url": "https://webidl.spec.whatwg.org/#idl-undefined", "dfnText": "undefined", "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }, { "id": "ref-for-idl-undefined\u2460" }], "title": "7.3. Clipboard Interface" }], "external": true };
        window.dfnpanelData['editable-context'] = { "dfnID": "editable-context", "url": "#editable-context", "dfnText": "editable context", "refSections": [{ "refs": [{ "id": "ref-for-editable-context" }, { "id": "ref-for-editable-context\u2460" }], "title": "5.2.3. The cut event" }, { "refs": [{ "id": "ref-for-editable-context\u2461" }, { "id": "ref-for-editable-context\u2462" }], "title": "5.2.4. The paste event" }, { "refs": [{ "id": "ref-for-editable-context\u2463" }], "title": "8.2. The cut action" }, { "refs": [{ "id": "ref-for-editable-context\u2464" }], "title": "8.3. The paste action" }], "external": false };
        window.dfnpanelData['system-clipboard'] = { "dfnID": "system-clipboard", "url": "#system-clipboard", "dfnText": "system clipboard", "refSections": [{ "refs": [{ "id": "ref-for-system-clipboard" }], "title": "4. Model" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460" }, { "id": "ref-for-system-clipboard\u2461" }], "title": "5.2.1. The clipboardchange event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2462" }, { "id": "ref-for-system-clipboard\u2463" }], "title": "5.2.2. The copy event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2464" }, { "id": "ref-for-system-clipboard\u2465" }], "title": "5.2.3. The cut event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2466" }], "title": "6.1. Overriding the copy event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2467" }], "title": "6.2. Overriding the cut event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2468" }], "title": "6.3. Overriding the paste event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460\u24ea" }], "title": "7.1.1. clipboard" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460\u2460" }, { "id": "ref-for-system-clipboard\u2460\u2461" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460\u2462" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460\u2463" }], "title": "write blobs and option to the clipboard" }], "external": false };
        window.dfnpanelData['system-clipboard-data'] = { "dfnID": "system-clipboard-data", "url": "#system-clipboard-data", "dfnText": "system clipboard data", "refSections": [{ "refs": [{ "id": "ref-for-system-clipboard-data" }, { "id": "ref-for-system-clipboard-data\u2460" }], "title": "4. Model" }, { "refs": [{ "id": "ref-for-system-clipboard-data\u2461" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-system-clipboard-data\u2462" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-system-clipboard-data\u2463" }], "title": "7.3.2. readText()" }], "external": false };
        window.dfnpanelData['dictdef-clipboardeventinit'] = { "dfnID": "dictdef-clipboardeventinit", "url": "#dictdef-clipboardeventinit", "dfnText": "ClipboardEventInit", "refSections": [{ "refs": [{ "id": "ref-for-dictdef-clipboardeventinit" }], "title": "5.1. Clipboard event interfaces" }], "external": false };
        window.dfnpanelData['clipboardevent'] = { "dfnID": "clipboardevent", "url": "#clipboardevent", "dfnText": "ClipboardEvent", "refSections": [{ "refs": [{ "id": "ref-for-clipboardevent" }, { "id": "ref-for-clipboardevent\u2460" }], "title": "6. Clipboard Event API" }, { "refs": [{ "id": "ref-for-clipboardevent\u2461" }], "title": "6.1. Overriding the copy event" }, { "refs": [{ "id": "ref-for-clipboardevent\u2462" }], "title": "6.2. Overriding the cut event" }, { "refs": [{ "id": "ref-for-clipboardevent\u2463" }, { "id": "ref-for-clipboardevent\u2464" }], "title": "fire a clipboard event" }], "external": false };
        window.dfnpanelData['dom-clipboardevent-clipboarddata'] = { "dfnID": "dom-clipboardevent-clipboarddata", "url": "#dom-clipboardevent-clipboarddata", "dfnText": "clipboardData", "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboardevent-clipboarddata" }], "title": "5.2.3. The cut event" }, { "refs": [{ "id": "ref-for-dom-clipboardevent-clipboarddata\u2460" }], "title": "6. Clipboard Event API" }, { "refs": [{ "id": "ref-for-dom-clipboardevent-clipboarddata\u2461" }], "title": "6.1. Overriding the copy event" }, { "refs": [{ "id": "ref-for-dom-clipboardevent-clipboarddata\u2462" }], "title": "6.2. Overriding the cut event" }, { "refs": [{ "id": "ref-for-dom-clipboardevent-clipboarddata\u2463" }], "title": "fire a clipboard event" }], "external": false };
        window.dfnpanelData['eventdef-documentandelementeventhandlers-clipboardchange'] = { "dfnID": "eventdef-documentandelementeventhandlers-clipboardchange", "url": "#eventdef-documentandelementeventhandlers-clipboardchange", "dfnText": "clipboardchange", "refSections": [{ "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange" }], "title": "2.2. Remote Clipboard Synchronization" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange\u2460" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange\u2461" }], "title": "5.2.1. The clipboardchange event" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange\u2462" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange\u2463" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-clipboardchange\u2464" }], "title": "8.2. The cut action" }], "external": false };
        window.dfnpanelData['eventdef-documentandelementeventhandlers-copy'] = { "dfnID": "eventdef-documentandelementeventhandlers-copy", "url": "#eventdef-documentandelementeventhandlers-copy", "dfnText": "copy", "refSections": [{ "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-copy" }], "title": "5.2.1. The clipboardchange event" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2460" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2461" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2462" }], "title": "5.2.2. The copy event" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2463" }], "title": "5.3.1. Event handlers that are allowed to modify the clipboard" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2464" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2465" }], "title": "6.1. Overriding the copy event" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-copy\u2466" }], "title": "8.1. The copy action" }], "external": false };
        window.dfnpanelData['eventdef-documentandelementeventhandlers-cut'] = { "dfnID": "eventdef-documentandelementeventhandlers-cut", "url": "#eventdef-documentandelementeventhandlers-cut", "dfnText": "cut", "refSections": [{ "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-cut" }], "title": "5.2.1. The clipboardchange event" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2460" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2461" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2462" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2463" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2464" }], "title": "5.2.3. The cut event" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2465" }], "title": "5.3.1. Event handlers that are allowed to modify the clipboard" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2466" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2467" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2468" }], "title": "6.2. Overriding the cut event" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-cut\u2460\u24ea" }], "title": "8.2. The cut action" }], "external": false };
        window.dfnpanelData['eventdef-documentandelementeventhandlers-paste'] = { "dfnID": "eventdef-documentandelementeventhandlers-paste", "url": "#eventdef-documentandelementeventhandlers-paste", "dfnText": "paste", "refSections": [{ "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-paste" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2460" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2461" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2462" }], "title": "5.2.4. The paste event" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2463" }], "title": "5.3.2. Event handlers that are allowed to read from clipboard" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2464" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2465" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2466" }, { "id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2467" }], "title": "6.3. Overriding the paste event" }, { "refs": [{ "id": "ref-for-eventdef-documentandelementeventhandlers-paste\u2468" }], "title": "8.3. The paste action" }], "external": false };
        window.dfnpanelData['allowed-to-modify-the-clipboard'] = { "dfnID": "allowed-to-modify-the-clipboard", "url": "#allowed-to-modify-the-clipboard", "dfnText": "allowed to modify the clipboard", "refSections": [{ "refs": [{ "id": "ref-for-allowed-to-modify-the-clipboard" }], "title": "8. Clipboard Actions" }], "external": false };
        window.dfnpanelData['allowed-to-read-from-clipboard'] = { "dfnID": "allowed-to-read-from-clipboard", "url": "#allowed-to-read-from-clipboard", "dfnText": "allowed to read from clipboard", "refSections": [{ "refs": [{ "id": "ref-for-allowed-to-read-from-clipboard" }], "title": "8. Clipboard Actions" }], "external": false };
        window.dfnpanelData['mandatory-data-types'] = { "dfnID": "mandatory-data-types", "url": "#mandatory-data-types", "dfnText": "Mandatory data types", "refSections": [{ "refs": [{ "id": "ref-for-mandatory-data-types" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-mandatory-data-types\u2460" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-mandatory-data-types\u2461" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-mandatory-data-types\u2462" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-mandatory-data-types\u2463" }, { "id": "ref-for-mandatory-data-types\u2464" }], "title": "write content to the clipboard" }, { "refs": [{ "id": "ref-for-mandatory-data-types\u2465" }], "title": "os specific well-known format" }, { "refs": [{ "id": "ref-for-mandatory-data-types\u2466" }], "title": "fire a clipboard event" }], "external": false };
        window.dfnpanelData['dom-navigator-clipboard'] = { "dfnID": "dom-navigator-clipboard", "url": "#dom-navigator-clipboard", "dfnText": "clipboard", "refSections": [{ "refs": [{ "id": "ref-for-dom-navigator-clipboard" }], "title": "7.1.1. clipboard" }], "external": false };
        window.dfnpanelData['navigator-clipboard'] = { "dfnID": "navigator-clipboard", "url": "#navigator-clipboard", "dfnText": "clipboard", "refSections": [{ "refs": [{ "id": "ref-for-navigator-clipboard" }], "title": "7.1.1. clipboard" }, { "refs": [{ "id": "ref-for-navigator-clipboard\u2460" }], "title": "7.2. ClipboardItem Interface" }], "external": false };
        window.dfnpanelData['typedefdef-clipboarditemdata'] = { "dfnID": "typedefdef-clipboarditemdata", "url": "#typedefdef-clipboarditemdata", "dfnText": "ClipboardItemData", "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-clipboarditemdata" }, { "id": "ref-for-typedefdef-clipboarditemdata\u2460" }], "title": "7.2. ClipboardItem Interface" }], "external": false };
        window.dfnpanelData['clipboarditem'] = { "dfnID": "clipboarditem", "url": "#clipboarditem", "dfnText": "ClipboardItem", "refSections": [{ "refs": [{ "id": "ref-for-clipboarditem" }, { "id": "ref-for-clipboarditem\u2460" }, { "id": "ref-for-clipboarditem\u2461" }, { "id": "ref-for-clipboarditem\u2462" }, { "id": "ref-for-clipboarditem\u2463" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-clipboarditem\u2464" }, { "id": "ref-for-clipboarditem\u2465" }, { "id": "ref-for-clipboarditem\u2466" }, { "id": "ref-for-clipboarditem\u2467" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-clipboarditem\u2468" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-clipboarditem\u2460\u24ea" }], "title": "7.3.3. write(data)" }], "external": false };
        window.dfnpanelData['enumdef-presentationstyle'] = { "dfnID": "enumdef-presentationstyle", "url": "#enumdef-presentationstyle", "dfnText": "PresentationStyle", "refSections": [{ "refs": [{ "id": "ref-for-enumdef-presentationstyle" }, { "id": "ref-for-enumdef-presentationstyle\u2460" }, { "id": "ref-for-enumdef-presentationstyle\u2461" }], "title": "7.2. ClipboardItem Interface" }], "external": false };
        window.dfnpanelData['dictdef-clipboarditemoptions'] = { "dfnID": "dictdef-clipboarditemoptions", "url": "#dictdef-clipboarditemoptions", "dfnText": "ClipboardItemOptions", "refSections": [{ "refs": [{ "id": "ref-for-dictdef-clipboarditemoptions" }, { "id": "ref-for-dictdef-clipboarditemoptions\u2460" }], "title": "7.2. ClipboardItem Interface" }], "external": false };
        window.dfnpanelData['dom-clipboarditemoptions-presentationstyle'] = { "dfnID": "dom-clipboarditemoptions-presentationstyle", "url": "#dom-clipboarditemoptions-presentationstyle", "dfnText": "presentationStyle", "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboarditemoptions-presentationstyle" }], "title": "7.2. ClipboardItem Interface" }], "external": false };
        window.dfnpanelData['clipboard-item'] = { "dfnID": "clipboard-item", "url": "#clipboard-item", "dfnText": "clipboard item", "refSections": [{ "refs": [{ "id": "ref-for-clipboard-item" }], "title": "4. Model" }, { "refs": [{ "id": "ref-for-clipboard-item\u2460" }, { "id": "ref-for-clipboard-item\u2461" }, { "id": "ref-for-clipboard-item\u2462" }, { "id": "ref-for-clipboard-item\u2463" }, { "id": "ref-for-clipboard-item\u2464" }, { "id": "ref-for-clipboard-item\u2465" }, { "id": "ref-for-clipboard-item\u2466" }, { "id": "ref-for-clipboard-item\u2467" }, { "id": "ref-for-clipboard-item\u2468" }, { "id": "ref-for-clipboard-item\u2460\u24ea" }, { "id": "ref-for-clipboard-item\u2460\u2460" }, { "id": "ref-for-clipboard-item\u2460\u2461" }, { "id": "ref-for-clipboard-item\u2460\u2462" }, { "id": "ref-for-clipboard-item\u2460\u2463" }, { "id": "ref-for-clipboard-item\u2460\u2464" }, { "id": "ref-for-clipboard-item\u2460\u2465" }, { "id": "ref-for-clipboard-item\u2460\u2466" }, { "id": "ref-for-clipboard-item\u2460\u2467" }, { "id": "ref-for-clipboard-item\u2460\u2468" }, { "id": "ref-for-clipboard-item\u2461\u24ea" }, { "id": "ref-for-clipboard-item\u2461\u2460" }, { "id": "ref-for-clipboard-item\u2461\u2461" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-clipboard-item\u2461\u2462" }, { "id": "ref-for-clipboard-item\u2461\u2463" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-clipboard-item\u2461\u2464" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-clipboard-item\u2461\u2465" }], "title": "7.3.2. readText()" }], "external": false };
        window.dfnpanelData['list-of-representations'] = { "dfnID": "list-of-representations", "url": "#list-of-representations", "dfnText": "list of representations", "refSections": [{ "refs": [{ "id": "ref-for-list-of-representations" }, { "id": "ref-for-list-of-representations\u2460" }, { "id": "ref-for-list-of-representations\u2461" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-list-of-representations\u2462" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-list-of-representations\u2463" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-list-of-representations\u2464" }], "title": "7.3.3. write(data)" }], "external": false };
        window.dfnpanelData['representation'] = { "dfnID": "representation", "url": "#representation", "dfnText": "representation", "refSections": [{ "refs": [{ "id": "ref-for-representation" }, { "id": "ref-for-representation\u2460" }, { "id": "ref-for-representation\u2461" }, { "id": "ref-for-representation\u2462" }, { "id": "ref-for-representation\u2463" }], "title": "7.2. ClipboardItem Interface" }], "external": false };
        window.dfnpanelData['representation-mime-type'] = { "dfnID": "representation-mime-type", "url": "#representation-mime-type", "dfnText": "mime type", "refSections": [{ "refs": [{ "id": "ref-for-representation-mime-type" }, { "id": "ref-for-representation-mime-type\u2460" }, { "id": "ref-for-representation-mime-type\u2461" }, { "id": "ref-for-representation-mime-type\u2462" }, { "id": "ref-for-representation-mime-type\u2463" }, { "id": "ref-for-representation-mime-type\u2464" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-representation-mime-type\u2465" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-representation-mime-type\u2466" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-representation-mime-type\u2467" }], "title": "7.3.3. write(data)" }], "external": false };
        window.dfnpanelData['representation-data'] = { "dfnID": "representation-data", "url": "#representation-data", "dfnText": "data", "refSections": [{ "refs": [{ "id": "ref-for-representation-data" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-representation-data\u2460" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-representation-data\u2461" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-representation-data\u2462" }], "title": "7.3.3. write(data)" }], "external": false };
        window.dfnpanelData['presentation-style'] = { "dfnID": "presentation-style", "url": "#presentation-style", "dfnText": "presentation style", "refSections": [{ "refs": [{ "id": "ref-for-presentation-style" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-presentation-style\u2460" }], "title": "7.2.1. presentationStyle" }, { "refs": [{ "id": "ref-for-presentation-style\u2461" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-presentation-style\u2462" }], "title": "write blobs and option to the clipboard" }], "external": false };
        window.dfnpanelData['clipboarditem-clipboard-item'] = { "dfnID": "clipboarditem-clipboard-item", "url": "#clipboarditem-clipboard-item", "dfnText": "clipboard item", "refSections": [{ "refs": [{ "id": "ref-for-clipboarditem-clipboard-item" }, { "id": "ref-for-clipboarditem-clipboard-item\u2460" }, { "id": "ref-for-clipboarditem-clipboard-item\u2461" }, { "id": "ref-for-clipboarditem-clipboard-item\u2462" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-clipboarditem-clipboard-item\u2463" }], "title": "7.2.1. presentationStyle" }, { "refs": [{ "id": "ref-for-clipboarditem-clipboard-item\u2464" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-clipboarditem-clipboard-item\u2465" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-clipboarditem-clipboard-item\u2466" }, { "id": "ref-for-clipboarditem-clipboard-item\u2467" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-clipboarditem-clipboard-item\u2468" }], "title": "write blobs and option to the clipboard" }], "external": false };
        window.dfnpanelData['clipboarditem-types-array'] = { "dfnID": "clipboarditem-types-array", "url": "#clipboarditem-types-array", "dfnText": "types array", "refSections": [{ "refs": [{ "id": "ref-for-clipboarditem-types-array" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-clipboarditem-types-array\u2460" }], "title": "7.2.2. types" }], "external": false };
        window.dfnpanelData['create-a-clipboarditem-object'] = { "dfnID": "create-a-clipboarditem-object", "url": "#create-a-clipboarditem-object", "dfnText": "create a ClipboardItem object", "refSections": [{ "refs": [{ "id": "ref-for-create-a-clipboarditem-object" }], "title": "7.3.1. read()" }], "external": false };
        window.dfnpanelData['dom-clipboarditem-clipboarditem'] = { "dfnID": "dom-clipboarditem-clipboarditem", "url": "#dom-clipboarditem-clipboarditem", "dfnText": "new ClipboardItem(items, options)", "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboarditem-clipboarditem" }], "title": "7.2. ClipboardItem Interface" }], "external": false };
        window.dfnpanelData['dom-clipboarditem-presentationstyle'] = { "dfnID": "dom-clipboarditem-presentationstyle", "url": "#dom-clipboarditem-presentationstyle", "dfnText": "7.2.1. presentationStyle", "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboarditem-presentationstyle" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-dom-clipboarditem-presentationstyle" }, { "id": "ref-for-dom-clipboarditem-presentationstyle\u2460" }], "title": "7.2.1. presentationStyle" }], "external": false };
        window.dfnpanelData['dom-clipboarditem-types'] = { "dfnID": "dom-clipboarditem-types", "url": "#dom-clipboarditem-types", "dfnText": "7.2.2. types", "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboarditem-types" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-dom-clipboarditem-types" }, { "id": "ref-for-dom-clipboarditem-types\u2460" }], "title": "7.2.2. types" }], "external": false };
        window.dfnpanelData['dom-clipboarditem-gettype'] = { "dfnID": "dom-clipboarditem-gettype", "url": "#dom-clipboarditem-gettype", "dfnText": "7.2.3. getType(type)", "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboarditem-gettype" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-dom-clipboarditem-gettype" }], "title": "7.2.3. getType(type)" }], "external": false };
        window.dfnpanelData['typedefdef-clipboarditems'] = { "dfnID": "typedefdef-clipboarditems", "url": "#typedefdef-clipboarditems", "dfnText": "ClipboardItems", "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-clipboarditems" }, { "id": "ref-for-typedefdef-clipboarditems\u2460" }], "title": "7.3. Clipboard Interface" }], "external": false };
        window.dfnpanelData['clipboard'] = { "dfnID": "clipboard", "url": "#clipboard", "dfnText": "Clipboard", "refSections": [{ "refs": [{ "id": "ref-for-clipboard" }], "title": "7.1. Navigator Interface" }, { "refs": [{ "id": "ref-for-clipboard\u2460" }], "title": "7.3. Clipboard Interface" }], "external": false };
        window.dfnpanelData['clipboard-items'] = { "dfnID": "clipboard-items", "url": "#clipboard-items", "dfnText": "clipboard items", "refSections": [{ "refs": [{ "id": "ref-for-clipboard-items" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-clipboard-items\u2460" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-clipboard-items\u2461" }], "title": "7.3.2. readText()" }], "external": false };
        window.dfnpanelData['clipboard-task-source'] = { "dfnID": "clipboard-task-source", "url": "#clipboard-task-source", "dfnText": "clipboard task source", "refSections": [{ "refs": [{ "id": "ref-for-clipboard-task-source" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-clipboard-task-source\u2460" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-clipboard-task-source\u2461" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-clipboard-task-source\u2462" }], "title": "7.3.4. writeText(data)" }], "external": false };
        window.dfnpanelData['dom-clipboard-read'] = { "dfnID": "dom-clipboard-read", "url": "#dom-clipboard-read", "dfnText": "7.3.1. read()", "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboard-read" }], "title": "2.2. Remote Clipboard Synchronization" }, { "refs": [{ "id": "ref-for-dom-clipboard-read\u2460" }, { "id": "ref-for-dom-clipboard-read\u2461" }, { "id": "ref-for-dom-clipboard-read\u2462" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-dom-clipboard-read" }, { "id": "ref-for-dom-clipboard-read\u2463" }], "title": "7.3.1. read()" }], "external": false };
        window.dfnpanelData['dom-clipboard-readtext'] = { "dfnID": "dom-clipboard-readtext", "url": "#dom-clipboard-readtext", "dfnText": "7.3.2. readText()", "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboard-readtext" }, { "id": "ref-for-dom-clipboard-readtext\u2460" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-dom-clipboard-readtext" }, { "id": "ref-for-dom-clipboard-readtext\u2461" }], "title": "7.3.2. readText()" }], "external": false };
        window.dfnpanelData['dom-clipboard-write'] = { "dfnID": "dom-clipboard-write", "url": "#dom-clipboard-write", "dfnText": "7.3.3. write(data)", "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboard-write" }], "title": "2.2. Remote Clipboard Synchronization" }, { "refs": [{ "id": "ref-for-dom-clipboard-write\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-dom-clipboard-write\u2461" }, { "id": "ref-for-dom-clipboard-write\u2462" }, { "id": "ref-for-dom-clipboard-write\u2463" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-dom-clipboard-write" }, { "id": "ref-for-dom-clipboard-write\u2464" }], "title": "7.3.3. write(data)" }], "external": false };
        window.dfnpanelData['dom-clipboard-writetext'] = { "dfnID": "dom-clipboard-writetext", "url": "#dom-clipboard-writetext", "dfnText": "7.3.4. writeText(data)", "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboard-writetext" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-dom-clipboard-writetext" }, { "id": "ref-for-dom-clipboard-writetext\u2460" }], "title": "7.3.4. writeText(data)" }], "external": false };
        window.dfnpanelData['script-triggered'] = { "dfnID": "script-triggered", "url": "#script-triggered", "dfnText": "script-triggered", "refSections": [{ "refs": [{ "id": "ref-for-script-triggered" }, { "id": "ref-for-script-triggered\u2460" }], "title": "8. Clipboard Actions" }, { "refs": [{ "id": "ref-for-script-triggered\u2461" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-script-triggered\u2462" }], "title": "8.2. The cut action" }, { "refs": [{ "id": "ref-for-script-triggered\u2463" }], "title": "8.3. The paste action" }], "external": false };
        window.dfnpanelData['script-may-access-clipboard'] = { "dfnID": "script-may-access-clipboard", "url": "#script-may-access-clipboard", "dfnText": "script-may-access-clipboard", "refSections": [{ "refs": [{ "id": "ref-for-script-may-access-clipboard" }, { "id": "ref-for-script-may-access-clipboard\u2460" }, { "id": "ref-for-script-may-access-clipboard\u2461" }], "title": "8. Clipboard Actions" }, { "refs": [{ "id": "ref-for-script-may-access-clipboard\u2462" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-script-may-access-clipboard\u2463" }], "title": "8.2. The cut action" }, { "refs": [{ "id": "ref-for-script-may-access-clipboard\u2464" }, { "id": "ref-for-script-may-access-clipboard\u2465" }], "title": "8.3. The paste action" }], "external": false };
        window.dfnpanelData['dictdef-clipboardpermissiondescriptor'] = { "dfnID": "dictdef-clipboardpermissiondescriptor", "url": "#dictdef-clipboardpermissiondescriptor", "dfnText": "ClipboardPermissionDescriptor", "refSections": [{ "refs": [{ "id": "ref-for-dictdef-clipboardpermissiondescriptor" }], "title": "9. Permissions API Integration" }], "external": false };
        window.dfnpanelData['check-clipboard-read-permission'] = { "dfnID": "check-clipboard-read-permission", "url": "#check-clipboard-read-permission", "dfnText": "check clipboard read permission", "refSections": [{ "refs": [{ "id": "ref-for-check-clipboard-read-permission" }], "title": "7.3.1. read()" }, { "refs": [{ "id": "ref-for-check-clipboard-read-permission\u2460" }], "title": "7.3.2. readText()" }], "external": false };
        window.dfnpanelData['check-clipboard-write-permission'] = { "dfnID": "check-clipboard-write-permission", "url": "#check-clipboard-write-permission", "dfnText": "check clipboard write permission", "refSections": [{ "refs": [{ "id": "ref-for-check-clipboard-write-permission" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-check-clipboard-write-permission\u2460" }], "title": "7.3.4. writeText(data)" }], "external": false };
        window.dfnpanelData['write-content-to-the-clipboard'] = { "dfnID": "write-content-to-the-clipboard", "url": "#write-content-to-the-clipboard", "dfnText": "write content to the clipboard", "refSections": [{ "refs": [{ "id": "ref-for-write-content-to-the-clipboard" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-write-content-to-the-clipboard\u2460" }], "title": "8.2. The cut action" }], "external": false };
        window.dfnpanelData['write-blobs-and-option-to-the-clipboard'] = { "dfnID": "write-blobs-and-option-to-the-clipboard", "url": "#write-blobs-and-option-to-the-clipboard", "dfnText": "write blobs and option to the clipboard", "refSections": [{ "refs": [{ "id": "ref-for-write-blobs-and-option-to-the-clipboard" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-write-blobs-and-option-to-the-clipboard\u2460" }], "title": "7.3.4. writeText(data)" }], "external": false };
        window.dfnpanelData['os-specific-well-known-format'] = { "dfnID": "os-specific-well-known-format", "url": "#os-specific-well-known-format", "dfnText": "os specific well-known format", "refSections": [{ "refs": [{ "id": "ref-for-os-specific-well-known-format" }], "title": "write blobs and option to the clipboard" }], "external": false };
        window.dfnpanelData['fire-a-clipboard-event'] = { "dfnID": "fire-a-clipboard-event", "url": "#fire-a-clipboard-event", "dfnText": "fire a clipboard event", "refSections": [{ "refs": [{ "id": "ref-for-fire-a-clipboard-event" }], "title": "5.2.2. The copy event" }, { "refs": [{ "id": "ref-for-fire-a-clipboard-event\u2460" }], "title": "5.2.3. The cut event" }, { "refs": [{ "id": "ref-for-fire-a-clipboard-event\u2461" }], "title": "5.2.4. The paste event" }, { "refs": [{ "id": "ref-for-fire-a-clipboard-event\u2462" }, { "id": "ref-for-fire-a-clipboard-event\u2463" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-fire-a-clipboard-event\u2464" }, { "id": "ref-for-fire-a-clipboard-event\u2465" }, { "id": "ref-for-fire-a-clipboard-event\u2466" }], "title": "8.2. The cut action" }, { "refs": [{ "id": "ref-for-fire-a-clipboard-event" }], "title": "8.3. The paste action" }], "external": false };
        window.dfnpanelData['process-an-html-paste-event'] = { "dfnID": "process-an-html-paste-event", "url": "#process-an-html-paste-event", "dfnText": "process an HTML paste event", "refSections": [{ "refs": [{ "id": "ref-for-process-an-html-paste-event" }], "title": "fire a clipboard event" }], "external": false };</script>
    <script>/* script-dom-helper */
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* script-var-click-highlighting */

        "use strict";
        {
            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });
            const indexCounts = new Map();
            const indexNames = new Map();
            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = null;
                let searchEl = v;
                while (algoContainer == null && searchEl != document.body) {
                    searchEl = searchEl.parentNode;
                    if (searchEl.hasAttribute("data-algorithm")) {
                        algoContainer = searchEl;
                    }
                }

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const algoName = algoContainer.getAttribute("data-algorithm");
                const varName = getVarName(v);
                const addClass = !v.classList.contains("selected");
                let highlightClass = null;
                if (addClass) {
                    const index = chooseHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] += 1;
                    indexNames.set(algoName + "///" + varName, index);
                    highlightClass = nameFromIndex(index);
                } else {
                    const index = previousHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] -= 1;
                    highlightClass = nameFromIndex(index);
                }

                // Find all same-name vars, and toggle their class appropriately.
                for (const el of algoContainer.querySelectorAll("var")) {
                    if (getVarName(el) == varName) {
                        el.classList.toggle("selected", addClass);
                        el.classList.toggle(highlightClass, addClass);
                    }
                }
            }
            function getVarName(el) {
                return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
            }
            function chooseHighlightIndex(algoName, varName) {
                let indexes = null;
                if (indexCounts.has(algoName)) {
                    indexes = indexCounts.get(algoName);
                } else {
                    // 7 classes right now
                    indexes = [0, 0, 0, 0, 0, 0, 0];
                    indexCounts.set(algoName, indexes);
                }

                // If the element was recently unclicked,
                // *and* that color is still unclaimed,
                // give it back the same color.
                const lastIndex = previousHighlightIndex(algoName, varName);
                if (indexes[lastIndex] === 0) return lastIndex;

                // Find the earliest index with the lowest count.
                const minCount = Math.min.apply(null, indexes);
                let index = null;
                for (var i = 0; i < indexes.length; i++) {
                    if (indexes[i] == minCount) {
                        return i;
                    }
                }
            }
            function previousHighlightIndex(algoName, varName) {
                return indexNames.get(algoName + "///" + varName);
            }
            function nameFromIndex(index) {
                return "selected" + index;
            }
        }
    </script>
    <script src="/dropdown.js"></script>
