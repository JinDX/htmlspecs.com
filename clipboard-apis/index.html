<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>剪贴板 API 和事件</title>
    <meta content="WD" name="w3c-status">
    <meta content="Bikeshed version b25686b9f, updated Fri Mar 14 14:15:20 2025 -0700" name="generator">
    <link href="https://www.w3.org/TR/clipboard-apis/" rel="canonical">
    <meta content="c3ba4522b7acba91d523d00361b848829f41e909" name="revision">
    <meta content="dark light" name="color-scheme">
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-idl-highlighting */
        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-mdn-anno */
        :root {
            --mdn-bg: #EEE;
            --mdn-shadow: #999;
            --mdn-nosupport-text: #ccc;
            --mdn-pass: green;
            --mdn-fail: red;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --mdn-bg: #222;
                --mdn-shadow: #444;
                --mdn-nosupport-text: #666;
                --mdn-pass: #690;
                --mdn-fail: #d22;
            }
        }

        .mdn-anno {
            background: var(--mdn-bg, #EEE);
            border-radius: .25em;
            box-shadow: 0 0 3px var(--mdn-shadow, #999);
            color: var(--text, black);
            font: 1em sans-serif;
            hyphens: none;
            max-width: min-content;
            overflow: hidden;
            padding: 0.2em;
            position: absolute;
            right: 0.3em;
            top: auto;
            white-space: nowrap;
            word-wrap: normal;
            z-index: 8;
        }

        .mdn-anno.unpositioned {
            display: none;
        }

        .mdn-anno.overlapping-main {
            opacity: .2;
            transition: opacity .1s;
        }

        .mdn-anno[open] {
            opacity: 1;
            z-index: 9;
            min-width: 9em;
        }

        .mdn-anno:hover {
            opacity: 1;
            outline: var(--text, black) 1px solid;
        }

        .mdn-anno>summary {
            font-weight: normal;
            text-align: right;
            cursor: pointer;
            display: block;
        }

        .mdn-anno>summary>.less-than-two-engines-flag {
            color: var(--mdn-fail);
            padding-right: 2px;
        }

        .mdn-anno>summary>.all-engines-flag {
            color: var(--mdn-pass);
            padding-right: 2px;
        }

        .mdn-anno>summary>span {
            color: #fff;
            background-color: #000;
            font-weight: normal;
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            padding: 2px 3px 0px 3px;
            line-height: 1.3em;
            vertical-align: top;
        }

        .mdn-anno>.feature {
            margin-top: 20px;
        }

        .mdn-anno>.feature:not(:first-of-type) {
            border-top: 1px solid #999;
            margin-top: 6px;
            padding-top: 2px;
        }

        .mdn-anno>.feature>.less-than-two-engines-text {
            color: var(--mdn-fail);
        }

        .mdn-anno>.feature>.all-engines-text {
            color: var(--mdn-pass);
        }

        .mdn-anno>.feature>p {
            font-size: .75em;
            margin-top: 6px;
            margin-bottom: 0;
        }

        .mdn-anno>.feature>p+p {
            margin-top: 3px;
        }

        .mdn-anno>.feature>.support {
            display: block;
            font-size: 0.6em;
            margin: 0;
            padding: 0;
            margin-top: 2px;
        }

        .mdn-anno>.feature>.support+div {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>hr {
            display: block;
            border: none;
            border-top: 1px dotted #999;
            padding: 3px 0px 0px 0px;
            margin: 2px 3px 0px 3px;
        }

        .mdn-anno>.feature>.support>hr::before {
            content: "";
        }

        .mdn-anno>.feature>.support>span {
            padding: 0.2em 0;
            display: block;
            display: table;
        }

        .mdn-anno>.feature>.support>span.no {
            color: var(--mdn-nosupport-text);
            filter: grayscale(100%);
        }

        .mdn-anno>.feature>.support>span.no::before {
            opacity: 0.5;
        }

        .mdn-anno>.feature>.support>span:first-of-type {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>span>span {
            padding: 0 0.5em;
            display: table-cell;
        }

        .mdn-anno>.feature>.support>span>span:first-child {
            width: 100%;
        }

        .mdn-anno>.feature>.support>span>span:last-child {
            width: 100%;
            white-space: pre;
            padding: 0;
        }

        .mdn-anno>.feature>.support>span::before {
            content: ' ';
            display: table-cell;
            min-width: 1.5em;
            height: 1.5em;
            background: no-repeat center center;
            background-size: contain;
            text-align: right;
            font-size: 0.75em;
            font-weight: bold;
        }

        .mdn-anno>.feature>.support>.chrome_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.firefox_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.chrome::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.edge_blink::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
        }

        .mdn-anno>.feature>.support>.edge::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
        }

        .mdn-anno>.feature>.support>.firefox::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.ie::before {
            background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
        }

        .mdn-anno>.feature>.support>.safari_ios::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
        }

        .mdn-anno>.feature>.support>.nodejs::before {
            background-image: url(https://nodejs.org/favicon.ico);
        }

        .mdn-anno>.feature>.support>.opera_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.opera::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.safari::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
        }

        .mdn-anno>.feature>.support>.samsunginternet_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
        }

        .mdn-anno>.feature>.support>.webview_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
        }

        .name-slug-mismatch {
            color: red;
        }

        .caniuse-status:hover {
            z-index: 9;
        }

        /* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */
        ;

        .h-entry:not(.status-LS) dt>.mdn-anno,
        .h-entry:not(.status-LS) li>.mdn-anno,
        .h-entry:not(.status-LS) .issue>.mdn-anno,
        .h-entry:not(.status-LS) .note>.mdn-anno,
        .h-entry:not(.status-LS) .example>.mdn-anno {
            right: -6.7em;
        }

        .h-entry p+.mdn-anno {
            margin-top: 0;
        }

        h2+.mdn-anno.after {
            margin: -48px 0 0 0;
        }

        h3+.mdn-anno.after {
            margin: -46px 0 0 0;
        }

        h4+.mdn-anno.after {
            margin: -42px 0 0 0;
        }

        h5+.mdn-anno.after {
            margin: -40px 0 0 0;
        }

        h6+.mdn-anno.after {
            margin: -40px 0 0 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

        [data-algorithm] var {
            cursor: pointer;
        }

        var[data-var-color] {
            background-color: var(--var-bg);
            box-shadow: 0 0 0 2px var(--var-bg);
        }

        var[data-var-color] {
            --var-bg: #F4D200;
        }

        var[data-var-color="1"] {
            --var-bg: #FF87A2;
        }

        var[data-var-color="2"] {
            --var-bg: #96E885;
        }

        var[data-var-color="3"] {
            --var-bg: #3EEED2;
        }

        var[data-var-color="4"] {
            --var-bg: #EACFB6;
        }

        var[data-var-color="5"] {
            --var-bg: #82DDFF;
        }

        var[data-var-color="6"] {
            --var-vg: #FFBCF2;
        }

        @media (prefers-color-scheme: dark) {
            var[data-var-color] {
                --var-bg: #bc1a00;
            }

            var[data-var-color="1"] {
                --var-bg: #007f00;
            }

            var[data-var-color="2"] {
                --var-bg: #008698;
            }

            var[data-var-color="3"] {
                --var-bg: #7f5b2b;
            }

            var[data-var-color="4"] {
                --var-bg: #004df3;
            }

            var[data-var-color="5"] {
                --var-bg: #a1248a;
            }

            var[data-var-color="6"] {
                --var-vg: #ff0000;
            }
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1>剪贴板 API 和事件</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types/#WD">W3C 工作草案</a>, <time class="dt-updated"
                datetime="2025-05-16">2025年5月16日</time></p>
        <details open>
            <summary>关于本文档的更多详情</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>此版本:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2025/WD-clipboard-apis-20250516/">https://www.w3.org/TR/2025/WD-clipboard-apis-20250516/</a>
                    <dt>最新发布版本:
                    <dd><a href="https://www.w3.org/TR/clipboard-apis/">https://www.w3.org/TR/clipboard-apis/</a>
                    <dt>编辑草案:
                    <dd><a href="https://w3c.github.io/clipboard-apis/">https://w3c.github.io/clipboard-apis/</a>
                    <dt>先前版本:
                    <dd><a href="https://www.w3.org/TR/2023/WD-clipboard-apis-20230516/"
                            rel="prev">https://www.w3.org/TR/2023/WD-clipboard-apis-20230516/</a>
                    <dd><a href="https://www.w3.org/TR/2023/WD-clipboard-apis-20230516/"
                            rel="prev">https://www.w3.org/TR/2023/WD-clipboard-apis-20230516/</a>
                    <dt>历史:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/clipboard-apis/">https://www.w3.org/standards/history/clipboard-apis/</a>
                    <dt>反馈:
                    <dd><a href="https://github.com/w3c/clipboard-apis/issues/">GitHub</a>
                    <dd><a href="#issues-index">规范内联</a>
                    <dt class="editor">编辑:
                    <dd class="editor p-author h-card vcard" data-editor-id="59482"><a class="p-name fn u-email email"
                            href="mailto:garykac@google.com">Gary Kacmarcik</a> (<span class="p-org org">Google</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="126950"><a class="p-name fn u-email email"
                            href="mailto:snianu@microsoft.com">Anupam Snigdha</a> (<span
                            class="p-org org">Microsoft</span>)
                    <dt class="editor">前任编辑:
                    <dd class="editor p-author h-card vcard" data-editor-id="42065"><a class="p-name fn u-email email"
                            href="mailto:hsteen@mozilla.com">Hallvord R. M. Steen</a> (<span
                            class="p-org org">Mozilla</span>)
                    <dd class="editor p-author h-card vcard" data-editor-id="78883"><a class="p-name fn u-email email"
                            href="mailto:glyuk@microsoft.com">Grisha Lyukshin</a> (<span
                            class="p-org org">Microsoft</span>)
                    <dt>说明文档:
                    <dd><a href="https://github.com/w3c/clipboard-apis/blob/master/explainer.adoc">异步剪贴板 API 说明文档</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本文档描述了用于访问系统剪贴板数据的 API。它提供了覆盖默认剪贴板操作（剪切、复制和粘贴）以及直接访问剪贴板内容的操作。</p>
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p><em>本节描述了本文档在发布时的状态。当前的 <abbr title="万维网联盟">W3C</abbr> 出版物列表以及本技术报告的最新修订版可以在 <a
                    href="https://www.w3.org/TR/"><abbr title="万维网联盟">W3C</abbr> 标准和草案索引</a>（网址为
                https://www.w3.org/TR/）中找到。</em> </p>
        <p> 本文档由 <a href="https://www.w3.org/groups/wg/webediting">Web 编辑工作组</a>作为<strong>工作草案</strong>发布，采用<a
                href="https://www.w3.org/policies/process/20231103/#recs-and-notes">推荐标准流程</a>。
            作为工作草案发布并不意味着 <abbr title="万维网联盟">W3C</abbr> 及其成员的认可。 </p>
        <p> 这是一份草案文件，随时可能被其他文件更新、替换或废弃。
            将本文档作为正在进行的工作以外的内容引用是不合适的。 </p>
        <p> <strong>本文档的更改可以在 <a href="https://github.com/w3c/clipboard-apis">https://github.com/w3c/clipboard-apis</a>
                上跟踪。</strong>
        </p>
        <p>本文档由在 <a href="https://www.w3.org/policies/patent-policy/"><abbr title="万维网联盟">W3C</abbr>
                专利政策</a>下运作的小组制作。<abbr title="万维网联盟">W3C</abbr> 维护一份<a
                href="https://www.w3.org/groups/wg/webediting/ipr"
                rel="disclosure">与该小组的可交付成果相关的任何专利披露的公开列表</a>；该页面还包括披露专利的说明。任何实际知晓某项专利，并认为该专利包含<a
                href="https://www.w3.org/policies/patent-policy/#def-essential">基本权利要求</a>的个人，必须按照<a
                href="https://www.w3.org/policies/patent-policy/#sec-Disclosure"><abbr title="万维网联盟">W3C</abbr> 专利政策第 6
                节</a>的规定披露该信息。 </p>
        <p>本文档受 <a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">2023 年 11 月 3 日 W3C
                流程文档</a>的约束。 </p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#secintro"><span class="secno">1</span> <span class="content">引言</span></a>
            </li>
            <li>
                <a href="#Cases"><span class="secno">2</span> <span class="content">用例</span></a>
                <ol class="toc">
                    <li><a href="#change-default-clipboard-ops"><span class="secno">2.1</span> <span
                                class="content">更改默认剪贴板操作</span></a></li>
                    <li><a href="#remote-clipboard-sync"><span class="secno">2.2</span> <span
                                class="content">远程剪贴板同步</span></a></li>
                    <li><a href="#trigger-clipboard-actions"><span class="secno">2.3</span> <span
                                class="content">触发剪贴板操作</span></a></li>
                </ol>
            </li>
            <li><a href="#terminolofy"><span class="secno">3</span> <span class="content">术语</span></a></li>
            <li><a href="#model"><span class="secno">4</span> <span class="content">模型</span></a></li>
            <li>
                <a href="#clipboard-events-and-interfaces"><span class="secno">5</span> <span
                        class="content">剪贴板事件</span></a>
                <ol class="toc">
                    <li><a href="#clipboard-event-interfaces"><span class="secno">5.1</span> <span
                                class="content">剪贴板事件接口</span></a></li>
                    <li>
                        <a href="#clipboard-event-definitions"><span class="secno">5.2</span> <span
                                class="content">剪贴板事件</span></a>
                        <ol class="toc">
                            <li><a href="#clipboard-event-clipboardchange"><span class="secno">5.2.1</span> <span
                                        class="content"><span><code>clipboardchange</code></span> 事件</span></a></li>
                            <li><a href="#clipboard-event-copy"><span class="secno">5.2.2</span> <span
                                        class="content"><span><code>copy</code></span> 事件</span></a></li>
                            <li><a href="#clipboard-event-cut"><span class="secno">5.2.3</span> <span
                                        class="content"><span><code>cut</code></span> 事件</span></a></li>
                            <li><a href="#clipboard-event-paste"><span class="secno">5.2.4</span> <span
                                        class="content"><span><code>paste</code></span> 事件</span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#integration-with-other-scripts-and-events"><span class="secno">5.3</span> <span
                                class="content">与其他脚本和事件的集成</span></a>
                        <ol class="toc">
                            <li><a href="#allow-modify-clipboard"><span class="secno">5.3.1</span> <span
                                        class="content"><span>允许修改剪贴板</span>的事件处理程序</span></a></li>
                            <li><a href="#allow-read-clipboard"><span class="secno">5.3.2</span> <span
                                        class="content"><span>允许从剪贴板读取</span>的事件处理程序</span></a></li>
                            <li><a href="#integration-with-rich-text-editing"><span class="secno">5.3.3</span> <span
                                        class="content">与富文本编辑 API 的集成</span></a></li>
                            <li><a href="#otherevents"><span class="secno">5.3.4</span> <span
                                        class="content">与其他事件的交互</span></a></li>
                            <li><a href="#selection-mod"><span class="secno">5.3.5</span> <span
                                        class="content">修改选择或焦点的事件侦听器</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#clipboard-event-api"><span class="secno">6</span> <span class="content">剪贴板事件 API</span></a>
                <ol class="toc">
                    <li><a href="#override-copy"><span class="secno">6.1</span> <span class="content">覆盖复制事件</span></a>
                    </li>
                    <li><a href="#override-cut"><span class="secno">6.2</span> <span class="content">覆盖剪切事件</span></a>
                    </li>
                    <li><a href="#override-paste"><span class="secno">6.3</span> <span class="content">覆盖粘贴事件</span></a>
                    </li>
                    <li>
                        <a href="#mandatory-data-types-x"><span class="secno">6.4</span> <span
                                class="content"><span>强制数据类型</span></span></a>
                        <ol class="toc">
                            <li><a href="#reading-from-clipboard"><span class="secno">6.4.1</span> <span
                                        class="content">从剪贴板读取</span></a></li>
                            <li><a href="#writing-to-clipboard"><span class="secno">6.4.2</span> <span
                                        class="content">写入剪贴板</span></a></li>
                        </ol>
                    </li>
                    <li><a href="#optional-data-types-x"><span class="secno">6.5</span> <span
                                class="content"><span>可选数据类型</span></span></a></li>
                    <li><a href="#unsanitized-data-types-x"><span class="secno">6.6</span> <span
                                class="content"><span>未清理的数据类型</span></span></a></li>
                </ol>
            </li>
            <li>
                <a href="#async-clipboard-api"><span class="secno">7</span> <span class="content">异步剪贴板 API</span></a>
                <ol class="toc">
                    <li>
                        <a href="#navigator-interface"><span class="secno">7.1</span> <span class="content">Navigator
                                接口</span></a>
                        <ol class="toc">
                            <li><a href="#h-navigator-clipboard"><span class="secno">7.1.1</span> <span
                                        class="content"><span>clipboard</span></span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#clipboard-item-interface"><span class="secno">7.2</span> <span
                                class="content">ClipboardItem 接口</span></a>
                        <ol class="toc">
                            <li><a href="#dom-clipboarditem-presentationstyle"><span class="secno">7.2.1</span> <span
                                        class="content">presentationStyle</span></a></li>
                            <li><a href="#dom-clipboarditem-types"><span class="secno">7.2.2</span> <span
                                        class="content">types</span></a></li>
                            <li><a href="#dom-clipboarditem-gettype"><span class="secno">7.2.3</span> <span
                                        class="content">getType(type)</span></a></li>
                            <li><a href="#dom-clipboarditem-supports"><span class="secno">7.2.4</span> <span
                                        class="content">supports(type)</span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#clipboard-interface"><span class="secno">7.3</span> <span class="content">Clipboard
                                接口</span></a>
                        <ol class="toc">
                            <li><a href="#dom-clipboard-read"><span class="secno">7.3.1</span> <span
                                        class="content">read(<var>formats</var>)</span></a></li>
                            <li><a href="#dom-clipboard-readtext"><span class="secno">7.3.2</span> <span
                                        class="content">readText()</span></a></li>
                            <li><a href="#dom-clipboard-write"><span class="secno">7.3.3</span> <span
                                        class="content">write(<var>data</var>)</span></a></li>
                            <li><a href="#dom-clipboard-writetext"><span class="secno">7.3.4</span> <span
                                        class="content">writeText(<var>data</var>)</span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#clipboard-actions"><span class="secno">8</span> <span class="content">剪贴板操作</span></a>
                <ol class="toc">
                    <li><a href="#copy-action"><span class="secno">8.1</span> <span class="content">复制操作</span></a></li>
                    <li><a href="#cut-action"><span class="secno">8.2</span> <span class="content">剪切操作</span></a></li>
                    <li><a href="#paste-action"><span class="secno">8.3</span> <span class="content">粘贴操作</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#clipboard-permissions"><span class="secno">9</span> <span class="content">权限 API 集成</span></a>
                <ol class="toc">
                    <li>
                        <a href="#read-permission"><span class="secno">9.1</span> <span
                                class="content">剪贴板读取权限</span></a>
                        <ol class="toc">
                            <li><a href="#h-clipboard-read-permission"><span class="secno">9.1.1</span> <span
                                        class="content"><span>检查剪贴板读取权限</span></span></a></li>
                        </ol>
                    </li>
                    <li>
                        <a href="#write-permission"><span class="secno">9.2</span> <span
                                class="content">剪贴板写入权限</span></a>
                        <ol class="toc">
                            <li><a href="#h-clipboard-write-permission"><span class="secno">9.2.1</span> <span
                                        class="content"><span>检查剪贴板写入权限</span></span></a></li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#security"><span class="secno">10</span> <span class="content">安全注意事项</span></a>
                <ol class="toc">
                    <li><a href="#pasting-html"><span class="secno">10.1</span> <span class="content">粘贴 HTML
                                和多部分数据</span></a></li>
                    <li><a href="#general-security-policies"><span class="secno">10.2</span> <span
                                class="content">通用安全策略</span></a></li>
                    <li><a href="#image-transcode"><span class="secno">10.3</span> <span class="content">转码图像</span></a>
                    </li>
                    <li><a href="#nuisances"><span class="secno">10.4</span> <span class="content">滋扰注意事项</span></a>
                    </li>
                </ol>
            </li>
            <li>
                <a href="#privacy"><span class="secno">11</span> <span class="content">隐私注意事项</span></a>
                <ol class="toc">
                    <li><a href="#privacy-events"><span class="secno">11.1</span> <span class="content">隐私和剪贴板事件
                                API</span></a></li>
                    <li>
                        <a href="#privacy-async"><span class="secno">11.2</span> <span class="content">隐私和异步剪贴板
                                API</span></a>
                        <ol class="toc">
                            <li><a href="#privacy-permission"><span class="secno">11.2.1</span> <span
                                        class="content">隐私和剪贴板权限</span></a></li>
                        </ol>
                    </li>
                    <li><a href="#privacy-other"><span class="secno">11.3</span> <span class="content">其他隐私问题</span></a>
                    </li>
                </ol>
            </li>
            <li><a href="#acknowledge"><span class="secno">12</span> <span class="content">致谢</span></a></li>
            <li>
                <a href="#algorithms"><span class="secno"></span> <span class="content">附录 A：算法</span></a>
                <ol class="toc">
                    <li><a href="#to-write-content-to-clipboard"><span class="secno"></span> <span
                                class="content"><span>将内容写入剪贴板</span></span></a></li>
                    <li><a href="#to-write-blobs-to-clipboard"><span class="secno"></span> <span class="content"><span>将
                                    blob 和选项写入剪贴板</span></span></a></li>
                    <li><a href="#to-os-specific-well-known-format"><span class="secno"></span> <span
                                class="content"><span>操作系统特定的知名格式</span></span></a></li>
                    <li><a href="#to-well-known-mime-type-from-os-specific-format"><span class="secno"></span> <span
                                class="content"><span>从操作系统特定格式获取知名 MIME 类型</span></span></a></li>
                    <li><a href="#to-read-web-custom-format"><span class="secno"></span> <span class="content"><span>读取
                                    Web 自定义格式</span></span></a></li>
                    <li><a href="#to-write-web-custom-formats"><span class="secno"></span> <span
                                class="content"><span>写入 Web 自定义格式</span></span></a></li>
                    <li><a href="#to-os-specific-custom-map-name"><span class="secno"></span> <span
                                class="content"><span>操作系统特定的自定义映射名称</span></span></a></li>
                    <li><a href="#to-os-specific-custom-name"><span class="secno"></span> <span
                                class="content"><span>操作系统特定的自定义名称</span></span></a></li>
                    <li><a href="#to-fire-a-clipboard-event"><span class="secno"></span> <span
                                class="content"><span>触发剪贴板事件</span></span></a></li>
                    <li><a href="#to-process-html-paste-event"><span class="secno"></span> <span
                                class="content"><span>处理 HTML 粘贴事件</span></span></a></li>
                </ol>
            </li>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a>
                    </li>
                    <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span
                                class="content">一致性算法</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a></li>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用定义的术语</span></a></li>
                </ol>
            </li>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性参考文献</span></a></li>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">信息性参考文献</span></a></li>
                </ol>
            </li>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a></li>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a></li>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="secintro"><span class="secno">1. </span><span
                class="content">引言</span><a class="self-link" href="#secintro"></a></h2>
        <p><i>本节是非规范性的。</i></p>
        <p>本规范定义了系统剪贴板如何向 Web 应用程序公开。</p>
        <p>本规范描述了两种通用 API：</p>
        <ul>
            <li data-md>
                <p>剪贴板事件 API - 此 API 提供了一种挂钩到常见剪贴板操作（剪切、复制和粘贴）的方法，以便 Web 应用程序可以根据需要调整剪贴板数据。</p>
            </li>
            <li data-md>
                <p>异步剪贴板 API - 此 API 提供对读取和写入剪贴板数据的直接访问。由于这被认为是一个<a data-link-type="dfn"
                        href="https://www.w3.org/TR/permissions/#dfn-powerful-feature"
                        id="ref-for-dfn-powerful-feature">强大的功能</a>，
                    因此对此 API 的访问受权限控制。</p>
            </li>
        </ul>
        <h2 class="heading settled" data-level="2" id="Cases"><span class="secno">2. </span><span
                class="content">用例</span><a class="self-link" href="#Cases"></a></h2>
        <p><i>本节是非规范性的。</i></p>
        <h3 class="heading settled" data-level="2.1" id="change-default-clipboard-ops"><span class="secno">2.1.
            </span><span class="content">更改默认剪贴板操作</span><a class="self-link" href="#change-default-clipboard-ops"></a>
        </h3>
        <p>在许多情况下，需要更改默认的剪贴板操作（剪切/复制/粘贴）。以下是一些示例：</p>
        <ul>
            <li><strong>元数据</strong> 从文档存储库复制文本时，让复制的文本包含有关所复制内容来源的元数据会很有用。
            </li>
            <li><strong>富内容编辑</strong> 复制包含超链接或其他结构的文本时，能够重新格式化内容以保留重要信息通常很有用。
            </li>
            <li><strong>具有内置语义的图形</strong> 为了使 Web 应用程序能够处理富文本或图形内容（例如 <a data-link-type="biblio" href="#biblio-svg11"
                    title="可缩放矢量图形 (SVG) 1.1（第二版）">[SVG11]</a>），提供一种允许复制不仅仅是渲染内容的机制会很有用。
            </li>
            <li><strong>数学信息</strong> 对于数学等内容，简单地复制渲染的文本并将其粘贴到另一个应用程序中通常会导致大部分语义丢失。MathML
                通常需要转换为纯文本才能复制，例如，为了确保在公式纯文本输入中用脱字符“^”显示“的幂”。XML 源代码也可以放在剪贴板中，并在粘贴时进行适当的转换。
            </li>
        </ul>
        <h3 class="heading settled" data-level="2.2" id="remote-clipboard-sync"><span class="secno">2.2. </span><span
                class="content">远程剪贴板同步</span><a class="self-link" href="#remote-clipboard-sync"></a></h3>
        <p>对于与远程设备通信的 Web 应用程序（例如，远程访问或远程 shell 应用程序），通常需要在两个设备之间保持剪贴板数据同步。</p>
        <p>此用例的一个重要方面是，它需要在没有用户手势或交互的情况下访问剪贴板。</p>
        <div class="example" id="example-6b4972a0"><a class="self-link" href="#example-6b4972a0"></a>
            要将剪贴板数据从远程设备复制到本地剪贴板，Web 应用程序将获取远程剪贴板数据，然后将数据 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write">write()</a></code>
            到本地剪贴板。 </div>
        <div class="example" id="example-75fe78bd"><a class="self-link" href="#example-75fe78bd"></a>
            要将本地剪贴板数据复制到远程设备，Web 应用程序将侦听 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-clipboardchange" id="ref-for-eventdef-globaleventhandlers-clipboardchange">clipboardchange</a></code>
            事件，每当剪贴板更新时从剪贴板 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read">read()</a></code>
            ，然后将新的剪贴板数据发送到远程设备。 </div>
        <h3 class="heading settled" data-level="2.3" id="trigger-clipboard-actions"><span class="secno">2.3.
            </span><span class="content">触发剪贴板操作</span><a class="self-link" href="#trigger-clipboard-actions"></a></h3>
        <p>为用户代理提供备用界面的应用程序有时需要能够触发用户代理中的剪贴板操作。</p>
        <p>例如，考虑一个屏幕阅读器应用程序，它为标准 Web
            浏览器提供更易于访问的界面。虽然阅读器可以显示内容并允许用户与之交互，但像剪贴板复制这样的操作需要在底层浏览器中进行，以确保正确设置剪贴板内容（以及浏览器在复制过程中添加的任何元数据）。</p>
        <h2 class="heading settled" data-level="3" id="terminolofy"><span class="secno">3. </span><span
                class="content">术语</span><a class="self-link" href="#terminolofy"></a></h2>
        <p>术语 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="editable-context">可编辑上下文</dfn> 指任何作为 <a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#editing-host"
                id="ref-for-editing-host">编辑宿主</a>、textarea 元素或其 type 属性设置为
            "text"、"search"、"tel"、"url"、"email"、"password" 或 "number" 之一的 input 元素的元素。</p>
        <h2 class="heading settled" data-level="4" id="model"><span class="secno">4. </span><span
                class="content">模型</span><a class="self-link" href="#model"></a></h2>
        <p>平台提供一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="system-clipboard">系统剪贴板</dfn>。</p>
        <p><a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard">系统剪贴板</a>有一个<a
                data-link-type="dfn" href="#system-clipboard-item"
                id="ref-for-system-clipboard-item">系统剪贴板项目</a>列表，这些项目统称为 <dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="system-clipboard-data">系统剪贴板数据</dfn>。</p>
        <p>每个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="system-clipboard-item">系统剪贴板项目</dfn>都有一个<a
                data-link-type="dfn" href="#system-clipboard-representation"
                id="ref-for-system-clipboard-representation">系统剪贴板表示</a>列表。</p>
        <p>每个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="system-clipboard-representation">系统剪贴板表示</dfn>都有一个<dfn class="dfn-paneled"
                data-dfn-for="system clipboard representation" data-dfn-type="dfn" data-noexport
                id="system-clipboard-representation-name">名称</dfn>（一个字符串）和<dfn class="dfn-paneled"
                data-dfn-for="system clipboard representation" data-dfn-type="dfn" data-noexport
                id="system-clipboard-representation-data">数据</dfn>（一个字节序列）。</p>
        <h2 class="heading settled" data-level="5" id="clipboard-events-and-interfaces"><span class="secno">5.
            </span><span class="content">剪贴板事件</span><a class="self-link" href="#clipboard-events-and-interfaces"></a>
        </h2>
        <h3 class="heading settled" data-level="5.1" id="clipboard-event-interfaces"><span class="secno">5.1.
            </span><span class="content">剪贴板事件接口</span><a class="self-link" href="#clipboard-event-interfaces"></a></h3>
        <p>ClipboardEvent 接口扩展了 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code>
            接口。</p>
        <div id="clipboardeventinit-idl">
            <pre class="idl highlight def" data-highlight="webidl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clipboardeventinit"><code><c- g>ClipboardEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
    <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer"><c- n>DataTransfer</c-></a>? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="ClipboardEventInit" data-dfn-type="dict-member" data-export data-type="DataTransfer?" id="dom-clipboardeventinit-clipboarddata"><code><c- g>clipboardData</c-></code></dfn> = <c- b>null</c->;
};
</pre>
            <dl>
                <dt data-md><dfn class="dfn-paneled" data-dfn-for="ClipboardEventInit" data-dfn-type="dfn" data-export
                        id="clipboardeventinit-clipboarddata">clipboardData</dfn>
                </dt>
                <dd data-md>
                    <p>一个 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①">DataTransfer</a></code>
                        对象，用于保存与事件相关的数据和元数据。</p>
                </dd>
            </dl>
        </div>
        <div id="clipboardevent-idl">
            <pre class="idl highlight def" data-highlight="webidl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="clipboardevent"><code><c- g>ClipboardEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①"><c- n>Event</c-></a> {
    <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardEvent" data-dfn-type="constructor" data-export data-lt="ClipboardEvent(type, eventInitDict)|constructor(type, eventInitDict)|ClipboardEvent(type)|constructor(type)" id="dom-clipboardevent-clipboardevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardEvent/ClipboardEvent(type, eventInitDict), ClipboardEvent/constructor(type, eventInitDict), ClipboardEvent/ClipboardEvent(type), ClipboardEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-clipboardevent-clipboardevent-type-eventinitdict-type"><code><c- g>type</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboardeventinit" id="ref-for-dictdef-clipboardeventinit"><c- n>ClipboardEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardEvent/ClipboardEvent(type, eventInitDict), ClipboardEvent/constructor(type, eventInitDict), ClipboardEvent/ClipboardEvent(type), ClipboardEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-clipboardevent-clipboardevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></dfn> = {});
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer②"><c- n>DataTransfer</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardEvent" data-dfn-type="attribute" data-export data-readonly data-type="DataTransfer?" id="dom-clipboardevent-clipboarddata"><code><c- g>clipboardData</c-></code></dfn>;
};
</pre>
            <dl>
                <dt data-md><dfn class="dfn-paneled" data-dfn-for="ClipboardEvent" data-dfn-type="dfn" data-export
                        id="clipboardevent-clipboarddata">clipboardData</dfn>
                </dt>
                <dd data-md>
                    <p>clipboardData 属性是 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer③">DataTransfer</a></code>
                        接口的一个实例，它允许脚本在用户发起的复制、剪切和粘贴操作期间读取和操作系统剪贴板上的值。关联的拖放数据存储是系统剪贴板的实时但经过筛选的视图，公开了实现知道脚本可以安全访问的<a
                            data-link-type="dfn" href="#mandatory-data-types"
                            id="ref-for-mandatory-data-types">强制数据类型</a>。对于合成事件，拖放数据存储包含创建事件的脚本添加的数据。</p>
                </dd>
                <dd data-md>
                    <p>clipboardData 对象的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items">items</a></code>
                        和 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files" id="ref-for-dom-datatransfer-files">files</a></code>
                        属性支持处理来自剪贴板的多部分或非文本数据。</p>
                </dd>
            </dl>
        </div>
        <p>该接口可用于<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#constructing-events"
                id="ref-for-constructing-events">构造事件</a>。
            下面给出一个示例：</p>
        <pre class="example javascript" id="example-92782271"><a class="self-link" href="#example-92782271"></a>var pasteEvent = new ClipboardEvent('paste');
pasteEvent.clipboardData.items.add('My string', 'text/plain');
document.dispatchEvent(pasteEvent);
</pre>
        <p class="note" role="note"><span class="marker">注意：</span>
            合成的剪贴板事件实际上不会修改剪贴板或文档。换句话说，虽然上面的脚本会触发粘贴事件，但数据不会被粘贴到文档中。</p>
        <h3 class="heading settled" data-level="5.2" id="clipboard-event-definitions"><span class="secno">5.2.
            </span><span class="content">剪贴板事件</span><a class="self-link" href="#clipboard-event-definitions"></a></h3>
        <h4 class="heading settled" data-level="5.2.1" id="clipboard-event-clipboardchange"><span class="secno">5.2.1.
            </span><span class="content"><dfn class="dfn-paneled idl-code" data-dfn-for="GlobalEventHandlers"
                    data-dfn-type="event" data-export
                    id="eventdef-globaleventhandlers-clipboardchange"><code>clipboardchange</code></dfn> 事件</span><a
                class="self-link" href="#clipboard-event-clipboardchange"></a></h4>
        <p>当<a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①">系统剪贴板</a>的内容发生更改时，会触发 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-clipboardchange" id="ref-for-eventdef-globaleventhandlers-clipboardchange①">clipboardchange</a></code>
            事件。这些更改可能由以下任何原因（非详尽列表）引起：</p>
        <ul>
            <li data-md>
                <p>用户发起的剪切或复制操作</p>
            </li>
            <li data-md>
                <p>使用 <a href="#async-clipboard-api">§ 7 异步剪贴板 API</a> 写入剪贴板的脚本</p>
            </li>
            <li data-md>
                <p>在用户代理外部更新剪贴板的操作</p>
            </li>
        </ul>
        <p>如果剪贴板内容在用户代理外部发生更改，则当用户代理重新获得焦点时，必须触发 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-clipboardchange" id="ref-for-eventdef-globaleventhandlers-clipboardchange②">clipboardchange</a></code>
            事件。</p>
        <p>由于合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-cut" id="ref-for-eventdef-globaleventhandlers-cut">cut</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-copy" id="ref-for-eventdef-globaleventhandlers-copy">copy</a></code>
            事件不会更新<a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard②">系统剪贴板</a>，
            因此它们不会触发 "clipboardchange" 事件。</p>
        <h4 class="heading settled" data-level="5.2.2" id="clipboard-event-copy"><span class="secno">5.2.2. </span><span
                class="content"><dfn class="dfn-paneled idl-code" data-dfn-for="GlobalEventHandlers"
                    data-dfn-type="event" data-export id="eventdef-globaleventhandlers-copy"><code>copy</code></dfn>
                事件</span><a class="self-link" href="#clipboard-event-copy"></a></h4>
        <p>当用户发起复制操作时，用户代理会<a data-link-type="dfn" href="#fire-a-clipboard-event"
                id="ref-for-fire-a-clipboard-event">触发一个名为</a> <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-copy" id="ref-for-eventdef-globaleventhandlers-copy①">copy</a></code>
            的剪贴板事件。
        </p>
        <p>如果事件未被取消，则当前选定的数据将被复制到<a data-link-type="dfn" href="#system-clipboard"
                id="ref-for-system-clipboard③">系统剪贴板</a>。
            当前文档选择不受影响。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-copy" id="ref-for-eventdef-globaleventhandlers-copy②">copy</a></code>
            事件会冒泡，可以取消，并且是组合事件。</p>
        <p>有关此事件处理模型的详细说明，请参阅 <a href="#copy-action">§ 8.1 复制操作</a>。</p>
        <p>可以手动构造和分派合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-copy" id="ref-for-eventdef-globaleventhandlers-copy③">copy</a></code>
            事件，但它不会影响<a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard④">系统剪贴板</a>的内容。</p>
        <h4 class="heading settled" data-level="5.2.3" id="clipboard-event-cut"><span class="secno">5.2.3. </span><span
                class="content"><dfn class="dfn-paneled idl-code" data-dfn-for="GlobalEventHandlers"
                    data-dfn-type="event" data-export id="eventdef-globaleventhandlers-cut"><code>cut</code></dfn>
                事件</span><a class="self-link" href="#clipboard-event-cut"></a></h4>
        <p>当用户发起剪切操作时，用户代理会<a data-link-type="dfn" href="#fire-a-clipboard-event"
                id="ref-for-fire-a-clipboard-event①">触发一个名为</a> <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-cut" id="ref-for-eventdef-globaleventhandlers-cut①">cut</a></code>
            的剪贴板事件。
        </p>
        <p>在<a data-link-type="dfn" href="#editable-context"
                id="ref-for-editable-context">可编辑上下文</a>中，如果事件未被取消，则该操作会将当前选定的数据放置在<a data-link-type="dfn"
                href="#system-clipboard" id="ref-for-system-clipboard⑤">系统剪贴板</a>上，并从文档中删除所选内容。
            在删除所选数据之前会触发 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-cut" id="ref-for-eventdef-globaleventhandlers-cut②">cut</a></code>
            事件。剪切操作完成后，选择将折叠。</p>
        <p>在非<a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context①">可编辑上下文</a>中，<code
                class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata">clipboardData</a></code>
            将是一个空列表。请注意，在这种情况下仍会触发 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-cut" id="ref-for-eventdef-globaleventhandlers-cut③">cut</a></code>
            事件。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-cut" id="ref-for-eventdef-globaleventhandlers-cut④">cut</a></code>
            事件会冒泡，可以取消，并且是组合事件。</p>
        <p>有关此事件处理模型的详细说明，请参阅 <a href="#cut-action">§ 8.2 剪切操作</a>。</p>
        <p>可以手动构造和分派合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-cut" id="ref-for-eventdef-globaleventhandlers-cut⑤">cut</a></code>
            事件，但它不会影响文档内容或<a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard⑥">系统剪贴板</a>的内容。
        </p>
        <h4 class="heading settled" data-level="5.2.4" id="clipboard-event-paste"><span class="secno">5.2.4.
            </span><span class="content"><dfn class="dfn-paneled idl-code" data-dfn-for="GlobalEventHandlers"
                    data-dfn-type="event" data-export id="eventdef-globaleventhandlers-paste"><code>paste</code></dfn>
                事件</span><a class="self-link" href="#clipboard-event-paste"></a></h4>
        <p>当用户发起粘贴操作时，用户代理会<a data-link-type="dfn" href="#fire-a-clipboard-event"
                id="ref-for-fire-a-clipboard-event②">触发一个名为</a> <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-paste" id="ref-for-eventdef-globaleventhandlers-paste">paste</a></code>
            的剪贴板事件。
            在将任何剪贴板数据插入文档之前会触发该事件。</p>
        <p>如果光标位于<a data-link-type="dfn" href="#editable-context"
                id="ref-for-editable-context②">可编辑上下文</a>中，则粘贴操作将以给定上下文支持的最合适格式（如果有）插入剪贴板数据。</p>
        <p>粘贴操作在非<a data-link-type="dfn" href="#editable-context" id="ref-for-editable-context③">可编辑上下文</a>中无效，但无论如何都会触发
            <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-paste" id="ref-for-eventdef-globaleventhandlers-paste①">paste</a></code>
            事件。
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-paste" id="ref-for-eventdef-globaleventhandlers-paste②">paste</a></code>
            事件会冒泡，可以取消，并且是组合事件。</p>
        <p>有关此事件处理模型的详细说明，请参阅 <a href="#paste-action">§ 8.3 粘贴操作</a>。</p>
        <p>可以手动构造和分派合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-paste" id="ref-for-eventdef-globaleventhandlers-paste③">paste</a></code>
            事件，但它不会影响文档内容。</p>
        <h3 class="heading settled" data-level="5.3" id="integration-with-other-scripts-and-events"><span
                class="secno">5.3. </span><span class="content">与其他脚本和事件的集成</span><a class="self-link"
                href="#integration-with-other-scripts-and-events"></a></h3>
        <h4 class="heading settled" data-level="5.3.1" id="allow-modify-clipboard"><span class="secno">5.3.1.
            </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    id="allowed-to-modify-the-clipboard">允许修改剪贴板</dfn>的事件处理程序</span><a class="self-link"
                href="#allow-modify-clipboard"></a></h4>
        <p>如果满足以下任一条件，事件处理程序可以写入剪贴板：</p>
        <ul>
            <li data-md>
                <p>触发事件的操作是从用户代理自身的用户界面调用的，例如从“复制”菜单项或快捷键调用的。</p>
            </li>
            <li data-md>
                <p>触发事件的操作是从<a data-link-type="dfn"
                        href="https://www.w3.org/TR/html5/browsers.html#allowed-to-show-a-popup"
                        id="ref-for-allowed-to-show-a-popup">允许显示弹出窗口</a>的脚本线程调用的。</p>
            </li>
        </ul>
        <p>如果实现作者认为其他受信任的事件类型可能表达用户意图，则实现<em>可以</em>允许这些事件类型修改剪贴板。实现<em>还可以</em>支持信任特定站点或应用程序修改剪贴板的配置，而不管脚本线程的来源如何。</p>
        <p>合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-cut" id="ref-for-eventdef-globaleventhandlers-cut⑥">cut</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-copy" id="ref-for-eventdef-globaleventhandlers-copy④">copy</a></code>
            事件<em>不得</em>修改系统剪贴板上的数据。</p>
        <h4 class="heading settled" data-level="5.3.2" id="allow-read-clipboard"><span class="secno">5.3.2. </span><span
                class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="allowed-to-read-from-clipboard">允许从剪贴板读取</dfn>的事件处理程序</span><a class="self-link"
                href="#allow-read-clipboard"></a></h4>
        <p>如果满足以下任一条件，事件处理程序可以从系统剪贴板读取数据：</p>
        <ul>
            <li data-md>
                <p>触发事件的操作是从用户代理自身的用户界面调用的，例如“粘贴”菜单项或快捷键。</p>
            </li>
            <li data-md>
                <p>触发操作的脚本正在通过依赖于实现的机制被授予从剪贴板读取数据的权限的站点上运行。</p>
            </li>
            <li data-md>
                <p>触发事件的操作是在具有读取剪贴板权限的应用程序中触发的。</p>
            </li>
        </ul>
        <p>合成的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-paste" id="ref-for-eventdef-globaleventhandlers-paste④">paste</a></code>
            事件<em>不得</em>授予脚本访问真实系统剪贴板上数据的权限。</p>
        <h4 class="heading settled" data-level="5.3.3" id="integration-with-rich-text-editing"><span
                class="secno">5.3.3. </span><span class="content">与富文本编辑 API 的集成</span><a class="self-link"
                href="#integration-with-rich-text-editing"></a></h4>
        <p>如果实现支持通过脚本执行剪贴板命令的方法，例如通过使用命令 "cut"、"copy" 和 "paste" 调用 <code>document.execCommand()</code>
            方法，则实现<em>必须</em>触发相应的操作，这将再次分派关联的剪贴板事件。</p>
        <p>以下是通过脚本 API 触发复制、剪切或粘贴操作时要遵循的步骤：</p>
        <ol>
            <li data-md>
                <p>同步执行相应的操作。</p>
            </li>
            <li data-md>
                <p>使用操作的返回值作为 API 调用的返回值。</p>
            </li>
        </ol>
        <p class="note" role="note"><span class="marker">注意：</span> 通过脚本 API
            触发的复制和剪切命令仅在事件是由受信任且由用户触发的事件分派，或者实现配置为允许此操作时，才会影响真实剪贴板的内容。通过脚本 API
            触发的粘贴命令仅在实现配置为允许此操作时才会触发粘贴事件并授予对剪贴板内容的访问权限。如何配置实现以允许对剪贴板的读取或写入访问超出了本规范的范围。</p>
        <h4 class="heading settled" data-level="5.3.4" id="otherevents"><span class="secno">5.3.4. </span><span
                class="content">与其他事件的交互</span><a class="self-link" href="#otherevents"></a></h4>
        <p>如果剪贴板操作是由键盘输入触发的，则实现<em>必须</em>触发启动剪贴板操作的相应事件。该事件是异步的，但<em>必须</em>在相关键的 <b>keyup</b> 事件之前分派。</p>
        <p>剪切和粘贴操作<em>可能</em>导致实现分派其他支持的事件，例如 textInput、input、change、验证事件、DOMCharacterDataModified 和 DOMNodeRemoved /
            DOMNodeInserted。任何此类事件都将排队，以便在剪切/粘贴事件处理完成后触发。</p>
        <p>实现<em>不得</em>响应复制操作而分派其他与输入相关的事件，例如 textInput、input、change 和验证事件。</p>
        <h4 class="heading settled" data-level="5.3.5" id="selection-mod"><span class="secno">5.3.5. </span><span
                class="content">修改选择或焦点的事件侦听器</span><a class="self-link" href="#selection-mod"></a></h4>
        <p>如果事件侦听器修改选择或<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/interaction.html#focusable-area"
                id="ref-for-focusable-area">可聚焦区域</a>，则剪贴板操作<em>必须</em>在修改后的选择上完成。</p>
        <h2 class="heading settled" data-level="6" id="clipboard-event-api"><span class="secno">6. </span><span
                class="content">剪贴板事件 API</span><a class="self-link" href="#clipboard-event-api"></a></h2>
        <p>剪贴板事件 API 允许您覆盖用户代理的默认剪切、复制和粘贴行为。</p>
        <p>对剪贴板的访问是使用标准的 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer④">DataTransfer</a></code>
            方法来改变 <code
                class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent">ClipboardEvent</a></code>
            的
            <code
                class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata①">clipboardData</a></code>
            属性上的 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items①">items</a></code>
            来执行的。
            这样做的结果之一是，这些剪贴板 API 只能在 <code
                class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent①">ClipboardEvent</a></code>
            处理程序的上下文中访问剪贴板数据。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span> 如果您需要在剪贴板事件处理程序之外访问剪贴板，请参阅 <a
                href="#async-clipboard-api">§ 7 异步剪贴板 API</a>。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 剪贴板事件 API 是同步的，因此它们的功能有限。这些 API
            不支持可能阻塞的操作（例如请求权限或转码图像）。有关可以支持阻塞或其他耗时操作的更强大 API，请参阅 <a href="#async-clipboard-api">§ 7 异步剪贴板 API</a>。</p>
        <h3 class="heading settled" data-level="6.1" id="override-copy"><span class="secno">6.1. </span><span
                class="content">覆盖复制事件</span><a class="self-link" href="#override-copy"></a></h3>
        <p>要覆盖默认的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-copy" id="ref-for-eventdef-globaleventhandlers-copy⑤">copy</a></code>
            事件行为，必须添加一个 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-copy" id="ref-for-eventdef-globaleventhandlers-copy⑥">copy</a></code>
            事件处理程序，并且此事件处理程序必须调用 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-preventdefault" id="ref-for-dom-event-preventdefault">preventDefault()</a></code>
            来取消事件。</p>
        <p>为了使用 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata②">clipboardData</a></code>
            中的数据更新<a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard⑦">系统剪贴板</a>，需要取消事件。
            如果未取消 <code
                class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent②">ClipboardEvent</a></code>，则将复制当前文档选择中的数据。
        </p>
        <pre class="example javascript" id="example-e7776e65"><a class="self-link" href="#example-e7776e65"></a>// 覆盖复制到剪贴板的内容。
document.addEventListener('copy', function(e) {
    // e.clipboardData 最初为空，但我们可以将其设置为
    // 我们希望复制到剪贴板的数据。
    e.clipboardData.setData('text/plain', 'Hello, world!');
    e.clipboardData.setData('text/html', '&lt;b>Hello, world!&lt;/b>');

    // 这是防止将当前文档选择写入剪贴板所必需的。
    e.preventDefault();
});
</pre>
        <h3 class="heading settled" data-level="6.2" id="override-cut"><span class="secno">6.2. </span><span
                class="content">覆盖剪切事件</span><a class="self-link" href="#override-cut"></a></h3>
        <p>要覆盖默认的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-cut" id="ref-for-eventdef-globaleventhandlers-cut⑦">cut</a></code>
            事件行为，必须添加一个 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-cut" id="ref-for-eventdef-globaleventhandlers-cut⑧">cut</a></code>
            事件处理程序，并且此事件处理程序必须调用 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-preventdefault" id="ref-for-dom-event-preventdefault①">preventDefault()</a></code>
            来取消事件。</p>
        <p>为了使用 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata③">clipboardData</a></code>
            中的数据更新<a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard⑧">系统剪贴板</a>，需要取消事件。
            如果未取消 <code
                class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent③">ClipboardEvent</a></code>，则将复制当前文档选择中的数据。
        </p>
        <p>请注意，取消 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-cut" id="ref-for-eventdef-globaleventhandlers-cut⑨">cut</a></code>
            事件还将阻止更新文档（即，不会删除当前选择）。事件处理程序将需要手动更新文档以删除当前选定的文本。</p>
        <pre class="example javascript" id="example-c4f2319f"><a class="self-link" href="#example-c4f2319f"></a>// 覆盖复制到剪贴板的内容。
document.addEventListener('cut', function(e) {
    // e.clipboardData 最初为空，但我们可以将其设置为
    // 我们希望作为剪切操作的一部分复制到剪贴板的数据。
    // 写入我们希望复制到剪贴板的数据。
    e.clipboardData.setData('text/plain', 'Hello, world!');
    e.clipboardData.setData('text/html', '&lt;b>Hello, world!&lt;/b>');

    // 由于我们将取消剪切操作，因此需要手动
    // 更新文档以删除当前选定的文本。
    deleteCurrentDocumentSelection();

    // 这是防止将文档选择写入剪贴板所必需的。
    e.preventDefault();
});
</pre>
        <h3 class="heading settled" data-level="6.3" id="override-paste"><span class="secno">6.3. </span><span
                class="content">覆盖粘贴事件</span><a class="self-link" href="#override-paste"></a></h3>
        <p>要覆盖默认的 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-paste" id="ref-for-eventdef-globaleventhandlers-paste⑤">paste</a></code>
            事件行为，必须添加一个 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-paste" id="ref-for-eventdef-globaleventhandlers-paste⑥">paste</a></code>
            事件处理程序，并且此事件处理程序必须调用 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-preventdefault" id="ref-for-dom-event-preventdefault②">preventDefault()</a></code>
            来取消事件。</p>
        <p>为了使用户代理不使用<a data-link-type="dfn" href="#system-clipboard"
                id="ref-for-system-clipboard⑨">系统剪贴板</a>中的数据更新文档，需要取消事件。</p>
        <p>请注意，取消 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-paste" id="ref-for-eventdef-globaleventhandlers-paste⑦">paste</a></code>
            事件还将阻止更新文档（即，不会将任何内容粘贴到文档中）。事件处理程序将需要手动将数据粘贴到文档中。</p>
        <p>另请注意，粘贴时，<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode"
                id="ref-for-drag-data-store-mode">拖放数据存储模式</a>标志为<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-ro"
                id="ref-for-concept-dnd-ro">只读</a>，因此从 <code
                class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-paste" id="ref-for-eventdef-globaleventhandlers-paste⑧">paste</a></code>
            事件处理程序调用 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata" id="ref-for-dom-datatransfer-setdata">setData()</a></code>
            不会修改插入的数据，也不会修改剪贴板上的数据。</p>
        <pre class="example javascript" id="example-20246db5"><a class="self-link" href="#example-20246db5"></a>// 覆盖粘贴到剪贴板的内容。
document.addEventListener('paste', function(e) {
    // e.clipboardData 包含即将粘贴的数据。
    if (e.clipboardData.types.indexOf('text/html') > -1) {
    var oldData = e.clipboardData.getData('text/html');
    var newData = '&lt;b>Ha Ha!&lt;/b> ' + oldData;

    // 由于我们正在取消粘贴操作，因此需要手动
    // 将数据粘贴到文档中。
    pasteClipboardData(newData);

    // 这是防止默认粘贴操作所必需的。
    e.preventDefault();
    }
});
</pre>
        <h3 class="heading settled" data-level="6.4" id="mandatory-data-types-x"><span class="secno">6.4. </span><span
                class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="mandatory-data-types">强制数据类型</dfn></span><a class="self-link"
                href="#mandatory-data-types-x"></a></h3>
        <p>实现必须识别以下数据类型的本机操作系统剪贴板格式描述，以便能够使用正确的描述填充 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist">DataTransferItemList</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem">ClipboardItem</a></code>
            以用于粘贴事件，并在响应复制和剪切事件时在操作系统剪贴板上设置正确的数据格式。</p>
        <h4 class="heading settled" data-level="6.4.1" id="reading-from-clipboard"><span class="secno">6.4.1.
            </span><span class="content">从剪贴板读取</span><a class="self-link" href="#reading-from-clipboard"></a></h4>
        <p>如果剪贴板上存在相应的本机类型，则<em>粘贴</em>事件必须公开这些数据类型：</p>
        <ul>
            <li data-md>
                <p>text/plain</p>
            </li>
            <li data-md>
                <p>text/html</p>
            </li>
            <li data-md>
                <p>image/png</p>
            </li>
        </ul>
        <h4 class="heading settled" data-level="6.4.2" id="writing-to-clipboard"><span class="secno">6.4.2. </span><span
                class="content">写入剪贴板</span><a class="self-link" href="#writing-to-clipboard"></a>
        </h4>
        <p>如果在<em>复制</em>和<em>剪切</em>事件期间将这些数据类型添加到 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑤">DataTransfer</a></code>
            对象，则必须使用相应的本机类型描述将它们放置在剪贴板上。</p>
        <ul>
            <li data-md>
                <p>text/plain</p>
            </li>
            <li data-md>
                <p>text/html</p>
            </li>
            <li data-md>
                <p>image/png</p>
            </li>
        </ul>
        <p><strong class="advisement">
                警告！出于安全预防措施，限制了不受信任的脚本允许写入剪贴板的数据类型。不受信任的脚本可能会通过将已知会触发本地软件中安全漏洞的数据放置在剪贴板上，从而尝试利用这些漏洞。</strong></p>
        <h3 class="heading settled" data-level="6.5" id="optional-data-types-x"><span class="secno">6.5. </span><span
                class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="optional-data-types">可选数据类型</dfn></span><a class="self-link" href="#optional-data-types-x"></a>
        </h3>
        <p>实现可以识别以下数据类型的本机操作系统剪贴板格式描述，以便能够使用正确的描述填充 <code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①">ClipboardItem</a></code>
            以用于粘贴事件，并在响应复制和剪切事件时在操作系统剪贴板上设置正确的数据格式。</p>
        <p>如果剪贴板上存在相应的本机类型，用户代理 (UA) 可以公开这些数据类型：</p>
        <ul>
            <li data-md>
                <p>text/uri-list</p>
            </li>
            <li data-md>
                <p>image/svg+xml</p>
            </li>
            <li data-md>
                <p>自定义格式，其<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-starts-with"
                        id="ref-for-string-starts-with">开头为</a> `"web "`（“web”后跟 U+0020 空格）前缀，并且后缀（去除 `"web "` 后）通过<a
                        data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type"
                        id="ref-for-parse-a-mime-type">解析 MIME 类型</a>检查。</p>
            </li>
        </ul>
        <h3 class="heading settled" data-level="6.6" id="unsanitized-data-types-x"><span class="secno">6.6. </span><span
                class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="unsanitized-data-types">未清理的数据类型</dfn></span><a class="self-link"
                href="#unsanitized-data-types-x"></a></h3>
        <em>本节是非规范性的。</em>
        <p>用户代理 (UA) 不得清理这些数据类型：</p>
        <ul>
            <li data-md>
                <p>image/png</p>
            </li>
        </ul>
        <p>用户代理 (UA) 可以不清理这些数据类型：</p>
        <ul>
            <li data-md>
                <p><a data-link-type="dfn" href="#optional-unsanitized-data-types"
                        id="ref-for-optional-unsanitized-data-types">可选的未清理数据类型</a></p>
            </li>
        </ul>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="optional-unsanitized-data-types">可选的未清理数据类型</dfn>是 Web 作者指定的<a data-link-type="dfn"
                href="#representation-mime-type" id="ref-for-representation-mime-type">MIME 类型</a>，用户代理可以不清理这些类型。
            下面列出了有效的<a data-link-type="dfn" href="#optional-unsanitized-data-types"
                id="ref-for-optional-unsanitized-data-types①">可选的未清理数据类型</a>：</p>
        <ul>
            <li data-md>
                <p>text/html</p>
            </li>
        </ul>
        <p class="note" role="note"> 由于其隐私要求，用户代理可能不支持<a data-link-type="dfn" href="#optional-unsanitized-data-types"
                id="ref-for-optional-unsanitized-data-types②">可选的未清理数据类型</a>。</p>
        <h2 class="heading settled" data-level="7" id="async-clipboard-api"><span class="secno">7. </span><span
                class="content">异步剪贴板 API</span><a class="self-link" href="#async-clipboard-api"></a>
        </h2>
        <h3 class="heading settled" data-level="7.1" id="navigator-interface"><span class="secno">7.1. </span><span
                class="content">Navigator 接口</span><a class="self-link" href="#navigator-interface"></a></h3>
        <pre class="idl highlight def" data-highlight="webidl"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator"><c- g>Navigator</c-></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#clipboard" id="ref-for-clipboard"><c- n>Clipboard</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="attribute" data-export data-readonly data-type="Clipboard" id="dom-navigator-clipboard"><code><c- g>clipboard</c-></code></dfn>;
};
</pre>
        <div id="navigator-idl">
            <div class="algorithm" data-algorithm="navigator-clipboard">
                <h4 class="heading settled" data-level="7.1.1" id="h-navigator-clipboard"><span class="secno">7.1.1.
                    </span><span class="content"><dfn class="dfn-paneled" data-dfn-for="Navigator" data-dfn-type="dfn"
                            data-noexport id="navigator-clipboard">clipboard</dfn></span><a class="self-link"
                        href="#h-navigator-clipboard"></a></h4>
                它用于执行从<a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①⓪">系统剪贴板</a>读取/写入操作。
                <code
                    class="idl"><a data-link-type="idl" href="#dom-navigator-clipboard" id="ref-for-dom-navigator-clipboard">clipboard</a></code>
                getter 步骤是返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-this">此对象</a>的 <a data-link-type="dfn" href="#navigator-clipboard"
                    id="ref-for-navigator-clipboard">clipboard</a> 对象。
            </div>
        </div>
        <h3 class="heading settled" data-level="7.2" id="clipboard-item-interface"><span class="secno">7.2. </span><span
                class="content">ClipboardItem 接口</span><a class="self-link" href="#clipboard-item-interface"></a>
        </h3>
        <pre class="idl highlight def" data-highlight="webidl"><c- b>typedef</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob"><c- n>Blob</c-></a>)> <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-clipboarditemdata"><code><c- g>ClipboardItemData</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="clipboarditem"><code><c- g>ClipboardItem</c-></code></dfn> {
    <a class="idl-code" data-link-type="constructor" href="#dom-clipboarditem-clipboarditem" id="ref-for-dom-clipboarditem-clipboarditem"><c- g>constructor</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a>, <a data-link-type="idl-name" href="#typedefdef-clipboarditemdata" id="ref-for-typedefdef-clipboarditemdata"><c- n>ClipboardItemData</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardItem/ClipboardItem(items, options), ClipboardItem/constructor(items, options), ClipboardItem/ClipboardItem(items), ClipboardItem/constructor(items)" data-dfn-type="argument" data-export id="dom-clipboarditem-clipboarditem-items-options-items"><code><c- g>items</c-></code></dfn>,
                <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboarditemoptions" id="ref-for-dictdef-clipboarditemoptions"><c- n>ClipboardItemOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardItem/ClipboardItem(items, options), ClipboardItem/constructor(items, options), ClipboardItem/ClipboardItem(items), ClipboardItem/constructor(items)" data-dfn-type="argument" data-export id="dom-clipboarditem-clipboarditem-items-options-options"><code><c- g>options</c-></code></dfn> = {});

    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-presentationstyle" id="ref-for-enumdef-presentationstyle"><c- n>PresentationStyle</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PresentationStyle" href="#dom-clipboarditem-presentationstyle" id="ref-for-dom-clipboarditem-presentationstyle"><c- g>presentationStyle</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>" href="#dom-clipboarditem-types" id="ref-for-dom-clipboarditem-types"><c- g>types</c-></a>;

    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①"><c- n>Blob</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboarditem-gettype" id="ref-for-dom-clipboarditem-gettype"><c- g>getType</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardItem/getType(type)" data-dfn-type="argument" data-export id="dom-clipboarditem-gettype-type-type"><code><c- g>type</c-></code></dfn>);

    <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-clipboarditem-supports" id="ref-for-dom-clipboarditem-supports"><c- g>supports</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardItem/supports(type)" data-dfn-type="argument" data-export id="dom-clipboarditem-supports-type-type"><code><c- g>type</c-></code></dfn>);
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-presentationstyle"><code><c- g>PresentationStyle</c-></code></dfn> { <dfn class="dfn-paneled idl-code" data-dfn-for="PresentationStyle" data-dfn-type="enum-value" data-export id="dom-presentationstyle-unspecified"><code><c- s>"unspecified"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="PresentationStyle" data-dfn-type="enum-value" data-export id="dom-presentationstyle-inline"><code><c- s>"inline"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="PresentationStyle" data-dfn-type="enum-value" data-export id="dom-presentationstyle-attachment"><code><c- s>"attachment"</c-></code></dfn> };

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clipboarditemoptions"><code><c- g>ClipboardItemOptions</c-></code></dfn> {
    <a data-link-type="idl-name" href="#enumdef-presentationstyle" id="ref-for-enumdef-presentationstyle①"><c- n>PresentationStyle</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;unspecified&quot;" data-dfn-for="ClipboardItemOptions" data-dfn-type="dict-member" data-export data-type="PresentationStyle" id="dom-clipboarditemoptions-presentationstyle"><code><c- g>presentationStyle</c-></code></dfn> = "unspecified";
};
</pre>
        <dl class="note">
            <dt><code><var>clipboardItem</var> = new ClipboardItem([<var>items</var>, <var>options</var>])</code>
            </dt>
            <dd>
                创建一个新的 <code
                    class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem②">ClipboardItem</a></code>
                对象。<var>items</var> 表示<a data-link-type="dfn" href="#list-of-representations"
                    id="ref-for-list-of-representations">表示形式列表</a>，每个<a data-link-type="dfn" href="#representation"
                    id="ref-for-representation">表示形式</a>都有一个<a data-link-type="dfn" href="#representation-mime-type"
                    id="ref-for-representation-mime-type①">MIME 类型</a>和一个
                <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②">Promise</a></code>
                ，该 Promise 解析为与<a data-link-type="dfn" href="#representation-mime-type"
                    id="ref-for-representation-mime-type②">MIME 类型</a>对应的 <code
                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob②">Blob</a></code>
                或 <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥">DOMString</a></code>，
                <var>options</var> 可用于填充其
                <code
                    class="idl"><a data-link-type="idl" href="#dictdef-clipboarditemoptions" id="ref-for-dictdef-clipboarditemoptions①">ClipboardItemOptions</a></code>，
                如下例所示。
                <pre class="example javascript highlight" id="example-92be93df"><a class="self-link" href="#example-92be93df"></a><c- a>const</c-> format1 <c- o>=</c-> <c- t>'text/plain'</c-><c- p>;</c->
<c- a>const</c-> promise_text_blob <c- o>=</c-> Promise<c- p>.</c->resolve<c- p>(</c-><c- ow>new</c-> Blob<c- p>([</c-><c- t>'hello'</c-><c- p>],</c-> <c- p>{</c->type<c- o>:</c-> format1<c- p>}));</c->
<c- a>const</c-> clipboardItemInput <c- o>=</c-> <c- ow>new</c-> ClipboardItem<c- p>(</c->
  <c- p>{[</c->format1<c- p>]</c-><c- o>:</c-> promise_text_blob<c- p>},</c->
  <c- p>{</c->presentationStyle<c- o>:</c-> <c- u>"unspecified"</c-><c- p>});</c->
</pre>
            </dd>
            <dt><code><var>clipboardItem</var>.getType(<var>type</var>)</code>
            </dt>
            <dd>返回一个 <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③">Promise</a></code>，
                该 Promise 解析为与<a data-link-type="dfn" href="#representation-mime-type"
                    id="ref-for-representation-mime-type③">MIME 类型</a> <var>type</var> 对应的 <code
                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob③">Blob</a></code>。
            </dd>
            <dt><code><var>clipboardItem</var>.<var>types</var></code>
            </dt>
            <dd>返回<a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item">剪贴板项目</a>对象中包含的<a
                    data-link-type="dfn" href="#representation-mime-type" id="ref-for-representation-mime-type④">MIME
                    类型</a>列表。
            </dd>
            <dt><code><code class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem③">ClipboardItem</a></code>.supports(<var>type</var>)</code>
            </dt>
            <dd>如果 <var>type</var> 属于<a data-link-type="dfn" href="#mandatory-data-types"
                    id="ref-for-mandatory-data-types①">强制数据类型</a>或<a data-link-type="dfn" href="#optional-data-types"
                    id="ref-for-optional-data-types">可选数据类型</a>，则返回 true，否则返回 false。
            </dd>
        </dl>
        <p>一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="clipboard-item">剪贴板项目</dfn>在概念上是用户通过调用“剪切”或“复制”命令表示希望共享的数据。一个<a data-link-type="dfn"
                href="#clipboard-item" id="ref-for-clipboard-item①">剪贴板项目</a>有两个用途。首先，它允许网站读取用户复制到<a
                data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①①">系统剪贴板</a>的数据。其次，它允许网站向<a
                data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①②">系统剪贴板</a>写入数据。</p>
        <p class="note" role="note"> 例如，如果用户从本机应用程序的电子表格中复制一系列单元格，则会产生一个<a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item②">剪贴板项目</a>。如果用户从桌面复制一组文件，则该文件列表将由多个<a data-link-type="dfn"
                href="#clipboard-item" id="ref-for-clipboard-item③">剪贴板项目</a>表示。 </p>
        <p>某些平台可能支持在<a data-link-type="dfn" href="#navigator-clipboard"
                id="ref-for-navigator-clipboard①">剪贴板</a>上同时拥有多个<a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item④">剪贴板项目</a>，而其他平台则用新的<a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item⑤">剪贴板项目</a>替换前一个。
        </p>
        <p>一个<a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item⑥">剪贴板项目</a>有一个<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="list-of-representations">表示形式列表</dfn>，每个<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="representation">表示形式</dfn>都有一个关联的<dfn
                class="dfn-paneled" data-dfn-for="representation" data-dfn-type="dfn" data-noexport
                id="representation-mime-type">MIME 类型</dfn>（一个<a data-link-type="dfn"
                href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type">MIME 类型</a>），一个<dfn
                class="dfn-paneled" data-dfn-for="representation" data-dfn-type="dfn" data-noexport
                id="representation-iscustom">isCustom</dfn> 标志（初始值为 <var>false</var>），指示此<a data-link-type="dfn"
                href="#representation" id="ref-for-representation①">表示形式</a>是否应被视为<a data-link-type="dfn"
                href="#web-custom-format" id="ref-for-web-custom-format">Web 自定义格式</a>（而不是<a data-link-type="dfn"
                href="#system-clipboard" id="ref-for-system-clipboard①③">系统剪贴板</a>的已知格式），以及<dfn class="dfn-paneled"
                data-dfn-for="representation" data-dfn-type="dfn" data-noexport id="representation-data">数据</dfn>（一个
            <code
                class="idl"><a data-link-type="idl" href="#typedefdef-clipboarditemdata" id="ref-for-typedefdef-clipboarditemdata①">ClipboardItemData</a></code>）。
        </p>
        <p>一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="web-custom-format">Web 自定义格式</dfn>的 <a
                data-link-type="dfn" href="#representation-iscustom" id="ref-for-representation-iscustom">isCustom</a>
            设置为 <var>true</var>。</p>
        <p class="note" role="note"> 在用户从电子表格复制单元格区域的示例中，它可以表示为图像 (image/png)、HTML 表格 (text/html) 或纯文本 (text/plain)，或者
            Web 自定义格式 (web text/csv)。 </p>
        <p>这些<a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type①">MIME
                类型</a>中的每一个都描述了同一<a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item⑦">剪贴板项目</a>在不同保真度级别下的不同<a data-link-type="dfn" href="#representation"
                id="ref-for-representation②">表示形式</a>，并使<a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item⑧">剪贴板项目</a>在粘贴期间更容易被目标应用程序使用。</p>
        <p class="note" role="note"> 将单元格区域作为图像提供，将允许用户将单元格粘贴到照片编辑应用程序中，而 text/plain 格式可供文本编辑器应用程序使用。 </p>
        <p>一个<a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item⑨">剪贴板项目</a>有一个<dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="presentation-style">表示样式</dfn>（一个
            <code
                class="idl"><a data-link-type="idl" href="#enumdef-presentationstyle" id="ref-for-enumdef-presentationstyle②">PresentationStyle</a></code>）。
            它有助于区分“粘贴”<a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item①⓪">剪贴板项目</a>的应用程序是应该在粘贴点内联插入适当<a data-link-type="dfn" href="#representation"
                id="ref-for-representation③">表示形式</a>的内容，还是应该将其视为附件。
        </p>
        <p>仅支持粘贴单个<a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①①">剪贴板项目</a>的 Web
            应用程序应使用第一个<a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①②">剪贴板项目</a>。</p>
        <p class="note" role="note"> <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write①">write()</a></code>
            选择最后一个<a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①③">剪贴板项目</a>。 </p>
        <p>支持粘贴多个<a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①④">剪贴板项目</a>的 Web
            应用程序可以（例如）提供一个用户界面，预览每个<a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item①⑤">剪贴板项目</a>的内容，并允许用户选择要粘贴哪一个。
            此外，应用程序应枚举它们正在粘贴的<a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①⑥">剪贴板项目</a>的<a
                data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type②">MIME
                类型</a>，并根据某些特定于应用程序的算法选择最适合该应用程序的类型。
            或者，应用程序可以向用户显示有关如何粘贴<a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item①⑦">剪贴板项目</a>的选项，例如“粘贴为图像”或“粘贴带格式的文本”等。</p>
        <p>一个 <code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem④">ClipboardItem</a></code>
            对象有一个关联的<dfn class="dfn-paneled" data-dfn-for="ClipboardItem" data-dfn-type="dfn" data-noexport
                id="clipboarditem-clipboard-item">剪贴板项目</dfn>，它是一个<a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item①⑧">剪贴板项目</a>。</p>
        <p>一个 <code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑤">ClipboardItem</a></code>
            对象有一个关联的<dfn class="dfn-paneled" data-dfn-for="ClipboardItem" data-dfn-type="dfn" data-noexport
                id="clipboarditem-types-array">类型数组</dfn>，它是一个 <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array①">FrozenArray</a></code>&lt;<code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦">DOMString</a></code>&gt;。
        </p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-clipboarditem-object">创建一个
                <code
                    class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑥">ClipboardItem</a></code>
                对象</dfn>，给定一个<a data-link-type="dfn" href="#clipboard-item" id="ref-for-clipboard-item①⑨">剪贴板项目</a>
            <var>clipboardItem</var> 和一个领域 <var>realm</var>，
            请执行以下步骤：
        </p>
        <ol>
            <li data-md>
                <p>令 <var>clipboardItemObject</var> 为一个<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#new" id="ref-for-new">新的</a> <code
                        class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑦">ClipboardItem</a></code>，
                    其领域为 <var>realm</var>。</p>
            </li>
            <li data-md>
                <p>将 <var>clipboardItemObject</var> 的<a data-link-type="dfn" href="#clipboard-item"
                        id="ref-for-clipboard-item②⓪">剪贴板项目</a>设置为 <var>clipboardItem</var>。</p>
            </li>
        </ol>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="constructor" data-export
                data-lt="ClipboardItem(items, options)|constructor(items, options)|ClipboardItem(items)|constructor(items)"
                id="dom-clipboarditem-clipboarditem"><code>new ClipboardItem(<var>items</var>, <var>options</var>)</code></dfn>
            构造函数步骤如下：</p>
        <ol>
            <li data-md>
                <p>如果 <var>items</var> 为空，则抛出 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>。
                </p>
            </li>
            <li data-md>
                <p>如果 <var>options</var> 为空，则设置 options["presentationStyle"] = "unspecified"。</p>
            </li>
            <li data-md>
                <p>将<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">此对象</a>的
                    <a data-link-type="dfn" href="#clipboarditem-clipboard-item"
                        id="ref-for-clipboarditem-clipboard-item">剪贴板项目</a>设置为一个新的<a data-link-type="dfn"
                        href="#clipboard-item" id="ref-for-clipboard-item②①">剪贴板项目</a>。
                </p>
            </li>
            <li data-md>
                <p>将<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">此对象</a>的
                    <a data-link-type="dfn" href="#clipboarditem-clipboard-item"
                        id="ref-for-clipboarditem-clipboard-item①">剪贴板项目</a>的<a data-link-type="dfn"
                        href="#presentation-style" id="ref-for-presentation-style">表示样式</a>设置为
                    <var>options</var>["<code
                        class="idl"><a data-link-type="idl" href="#dom-clipboarditemoptions-presentationstyle" id="ref-for-dom-clipboarditemoptions-presentationstyle">presentationStyle</a></code>"]。
                </p>
            </li>
            <li data-md>
                <p>令 <var>types</var> 为一个 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧">DOMString</a></code>
                    列表。
                </p>
            </li>
            <li data-md>
                <p>对于 <var>items</var> 中的每个 (<var>key</var>, <var>value</var>)：</p>
                <ol>
                    <li data-md>
                        <p>令 <var>representation</var> 为一个新的<a data-link-type="dfn" href="#representation"
                                id="ref-for-representation④">表示形式</a>。</p>
                    </li>
                    <li data-md>
                        <p>令 <var>isCustom</var> 为 <var>false</var>。</p>
                    </li>
                    <li data-md>
                        <p>如果 <var>key</var> <a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#string-starts-with"
                                id="ref-for-string-starts-with①">以</a> `"web "` 前缀开头，则</p>
                        <ol>
                            <li data-md>
                                <p>移除 `"web "` 前缀并将剩余字符串赋给 <var>key</var>。</p>
                            </li>
                            <li data-md>
                                <p>设置 <var>isCustom</var> 为 <var>true</var></p>
                            </li>
                        </ol>
                    </li>
                    <li data-md>
                        <p>将 <var>representation</var> 的<a data-link-type="dfn" href="#representation-iscustom"
                                id="ref-for-representation-iscustom①">isCustom</a> 标志设置为 <var>isCustom</var>。</p>
                    </li>
                    <li data-md>
                        <p>令 <var>mimeType</var> 为给定 <var>key</var> <a data-link-type="dfn"
                                href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type"
                                id="ref-for-parse-a-mime-type①">解析 MIME 类型</a>的结果。</p>
                    </li>
                    <li data-md>
                        <p>如果 <var>mimeType</var> 为失败，则抛出 <code
                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>。
                        </p>
                    </li>
                    <li data-md>
                        <p>如果<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this③">此对象</a>的<a data-link-type="dfn" href="#clipboarditem-clipboard-item"
                                id="ref-for-clipboarditem-clipboard-item②">剪贴板项目</a>的<a data-link-type="dfn"
                                href="#list-of-representations" id="ref-for-list-of-representations①">表示形式列表</a>
                            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                                id="ref-for-list-contain">包含</a>一个<a data-link-type="dfn" href="#representation"
                                id="ref-for-representation⑤">表示形式</a>，其<a data-link-type="dfn"
                                href="#representation-mime-type" id="ref-for-representation-mime-type⑤">MIME 类型</a>为
                            <var>mimeType</var> 且其 [representation/isCustom] 为 <var>isCustom</var>，则抛出
                            <code
                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>。
                        </p>
                    </li>
                </ol>
                <p class="note" role="note">上述步骤可防止用户代理已知的 MIME 类型与作者希望视为自定义类型的 MIME 类型之间发生冲突。例如，作者的项目列表可能包含 "text/html"
                    以及 "web text/html" 的表示形式。</p>
                <ol>
                    <li data-md>
                        <p>将 <var>representation</var> 的<a data-link-type="dfn" href="#representation-mime-type"
                                id="ref-for-representation-mime-type⑥">MIME 类型</a>设置为 <var>mimeType</var>。</p>
                    </li>
                    <li data-md>
                        <p>将 <var>representation</var> 的<a data-link-type="dfn" href="#representation-data"
                                id="ref-for-representation-data">数据</a>设置为 <var>value</var>。</p>
                    </li>
                    <li data-md>
                        <p>将 <var>representation</var> 附加到<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">此对象</a>的<a
                                data-link-type="dfn" href="#clipboarditem-clipboard-item"
                                id="ref-for-clipboarditem-clipboard-item③">剪贴板项目</a>的<a data-link-type="dfn"
                                href="#list-of-representations" id="ref-for-list-of-representations②">表示形式列表</a>。</p>
                    </li>
                    <li data-md>
                        <p>令 <var>mimeTypeString</var> 为使用 <var>mimeType</var> <a data-link-type="dfn"
                                href="https://mimesniff.spec.whatwg.org/#serialize-a-mime-type"
                                id="ref-for-serialize-a-mime-type">序列化 MIME 类型</a>的结果。
                        </p>
                    </li>
                    <li data-md>
                        <p>如果 <var>isCustom</var> 为 <var>true</var>，则在 <var>mimeTypeString</var> 前添加 `"web "` 前缀。
                        </p>
                    </li>
                    <li data-md>
                        <p>将 <var>mimeTypeString</var> 添加到 <var>types</var>。</p>
                    </li>
                </ol>
            </li>
            <li data-md>
                <p>将<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">此对象</a>的
                    <a data-link-type="dfn" href="#clipboarditem-types-array"
                        id="ref-for-clipboarditem-types-array">类型数组</a>设置为从 <var>types</var> 运行<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array"
                        id="ref-for-dfn-create-frozen-array">创建冻结数组</a>的结果。
                </p>
            </li>
        </ol>
        <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="attribute"
            data-export data-level="7.2.1" data-lt="presentationStyle" id="dom-clipboarditem-presentationstyle"><span
                class="secno">7.2.1. </span><span class="content">presentationStyle</span><a class="self-link"
                href="#dom-clipboarditem-presentationstyle" id="ref-for-dom-clipboarditem-presentationstyle②"></a></h4>
        <p> <code
                class="idl"><a data-link-type="idl" href="#dom-clipboarditem-presentationstyle" id="ref-for-dom-clipboarditem-presentationstyle①">presentationStyle</a></code>
            getter 的步骤是返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                id="ref-for-this⑥">此对象</a>的<a data-link-type="dfn" href="#clipboarditem-clipboard-item"
                id="ref-for-clipboarditem-clipboard-item④">剪贴板项目</a>的<a data-link-type="dfn" href="#presentation-style"
                id="ref-for-presentation-style①">表示样式</a>。 </p>
        <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="attribute"
            data-export data-level="7.2.2" data-lt="types" id="dom-clipboarditem-types"><span class="secno">7.2.2.
            </span><span class="content">types</span><a class="self-link" href="#dom-clipboarditem-types"
                id="ref-for-dom-clipboarditem-types②"></a></h4>
        <p> <code
                class="idl"><a data-link-type="idl" href="#dom-clipboarditem-types" id="ref-for-dom-clipboarditem-types①">types</a></code>
            getter 的步骤是返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                id="ref-for-this⑦">此对象</a>的<a data-link-type="dfn" href="#clipboarditem-types-array"
                id="ref-for-clipboarditem-types-array①">类型数组</a>。 </p>
        <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="method" data-export
            data-level="7.2.3" data-lt="getType(type)" id="dom-clipboarditem-gettype"><span class="secno">7.2.3.
            </span><span class="content">getType(type)</span><a class="self-link" href="#dom-clipboarditem-gettype"
                id="ref-for-dom-clipboarditem-gettype①"></a></h4>
        <p>此方法必须运行以下步骤：</p>
        <ol>
            <li data-md>
                <p>令 <var>realm</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-this⑧">此对象</a>的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                        id="ref-for-concept-relevant-realm">相关领域</a>。</p>
            </li>
            <li data-md>
                <p>令 <var>isCustom</var> 为 <var>false</var>。</p>
            </li>
            <li data-md>
                <p>如果 <var>type</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-starts-with"
                        id="ref-for-string-starts-with②">以</a> `"web "` 前缀开头，则：</p>
                <ol>
                    <li data-md>
                        <p>移除 `"web "` 前缀并将剩余字符串赋给 <var>type</var>。</p>
                    </li>
                    <li data-md>
                        <p>设置 <var>isCustom</var> 为 <var>true</var>。</p>
                    </li>
                </ol>
            </li>
            <li data-md>
                <p>令 <var>mimeType</var> 为给定 <var>type</var> <a data-link-type="dfn"
                        href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type②">解析
                        MIME 类型</a>的结果。</p>
            </li>
            <li data-md>
                <p>如果 <var>mimeType</var> 为失败，则抛出 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>。
                </p>
            </li>
            <li data-md>
                <p>令 <var>itemTypeList</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-this⑨">此对象</a>的<a data-link-type="dfn" href="#clipboarditem-clipboard-item"
                        id="ref-for-clipboarditem-clipboard-item⑤">剪贴板项目</a>的<a data-link-type="dfn"
                        href="#list-of-representations" id="ref-for-list-of-representations③">表示形式列表</a>。</p>
            </li>
            <li data-md>
                <p>令 <var>p</var> 为 <var>realm</var> 中的<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">一个新的
                        promise</a>。</p>
            </li>
            <li data-md>
                <p>对于 <var>itemTypeList</var> 中的每个 <var>representation</var>：</p>
                <ol>
                    <li data-md>
                        <p>如果 <var>representation</var> 的<a data-link-type="dfn" href="#representation-mime-type"
                                id="ref-for-representation-mime-type⑦">MIME 类型</a>是 <var>mimeType</var> 并且
                            <var>representation</var> 的<a data-link-type="dfn" href="#representation-iscustom"
                                id="ref-for-representation-iscustom②">isCustom</a> 是 <var>isCustom</var>，则：
                        </p>
                        <ol>
                            <li data-md>
                                <p>令 <var>representationDataPromise</var> 为 <var>representation</var> 的<a
                                        data-link-type="dfn" href="#representation-data"
                                        id="ref-for-representation-data①">数据</a>。</p>
                            </li>
                            <li data-md>
                                <p><a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                                        id="ref-for-dfn-perform-steps-once-promise-is-settled">响应</a>
                                    <var>representationDataPromise</var>：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>如果 <var>representationDataPromise</var> 以值 <var>v</var> 完成，则：
                                        </p>
                                        <ol>
                                            <li data-md>
                                                <p>如果 <var>v</var> 是一个 <code
                                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑨">DOMString</a></code>，
                                                    则执行以下步骤：</p>
                                                <ol>
                                                    <li data-md>
                                                        <p>令 <var>dataAsBytes</var> 为<a data-link-type="dfn"
                                                                href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                                                id="ref-for-utf-8-encode">UTF-8 编码</a>
                                                            <var>v</var> 的结果。
                                                        </p>
                                                    </li>
                                                    <li data-md>
                                                        <p>令 <var>blobData</var> 为一个使用 <var>dataAsBytes</var> 创建的 <code
                                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob④">Blob</a></code>，
                                                            其 <code
                                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type">type</a></code>
                                                            设置为 <var>mimeType</var>，并<a data-link-type="dfn"
                                                                href="https://mimesniff.spec.whatwg.org/#serialize-a-mime-type"
                                                                id="ref-for-serialize-a-mime-type①">序列化</a>。</p>
                                                    </li>
                                                    <li data-md>
                                                        <p>用 <var>blobData</var> 解析 <var>p</var>。</p>
                                                    </li>
                                                </ol>
                                            </li>
                                            <li data-md>
                                                <p>如果 <var>v</var> 是一个 <code
                                                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑤">Blob</a></code>，
                                                    则执行以下步骤：</p>
                                                <ol>
                                                    <li data-md>
                                                        <p>用 <var>v</var> 解析 <var>p</var>。</p>
                                                    </li>
                                                </ol>
                                            </li>
                                        </ol>
                                    </li>
                                    <li data-md>
                                        <p>如果 <var>representationDataPromise</var> 被拒绝，则：</p>
                                        <ol>
                                            <li data-md>
                                                <p>在 <var>realm</var> 中用 <code
                                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror">"NotFoundError"</a></code>
                                                    <code
                                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>
                                                    <a data-link-type="dfn"
                                                        href="https://webidl.spec.whatwg.org/#reject"
                                                        id="ref-for-reject">拒绝</a> <var>p</var>。
                                                </p>
                                                <p class="issue" id="issue-2d83c5ad"><a class="self-link"
                                                        href="#issue-2d83c5ad"></a> Web 开发人员可能对潜在的拒绝原因感兴趣。</p>
                                            </li>
                                        </ol>
                                    </li>
                                </ol>
                            </li>
                            <li data-md>
                                <p>返回 <var>p</var>。</p>
                            </li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li data-md>
                <p>在 <var>realm</var> 中用 <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror①">"NotFoundError"</a></code>
                    <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">拒绝</a>
                    <var>p</var>。
                </p>
            </li>
            <li data-md>
                <p>返回 <var>p</var>。</p>
            </li>
        </ol>
        <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="ClipboardItem" data-dfn-type="method" data-export
            data-level="7.2.4" data-lt="supports(type)" id="dom-clipboarditem-supports"><span class="secno">7.2.4.
            </span><span class="content">supports(type)</span><a class="self-link" href="#dom-clipboarditem-supports"
                id="ref-for-dom-clipboarditem-supports①"></a></h4>
        <p>此方法必须运行以下步骤：</p>
        <ol>
            <li data-md>
                <p>如果 <var>type</var> 属于<a data-link-type="dfn" href="#mandatory-data-types"
                        id="ref-for-mandatory-data-types②">强制数据类型</a>或<a data-link-type="dfn"
                        href="#optional-data-types" id="ref-for-optional-data-types①">可选数据类型</a>，则返回 true。</p>
            </li>
            <li data-md>
                <p>否则，返回 false。</p>
            </li>
        </ol>
        <h3 class="heading settled" data-level="7.3" id="clipboard-interface"><span class="secno">7.3. </span><span
                class="content">剪贴板接口</span><a class="self-link" href="#clipboard-interface"></a></h3>
        <pre class="idl highlight def" data-highlight="webidl"><c- b>typedef</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#clipboarditem" id="ref-for-clipboarditem⑧"><c- n>ClipboardItem</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-clipboarditems"><code><c- g>ClipboardItems</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="clipboard"><code><c- g>Clipboard</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-clipboarditems" id="ref-for-typedefdef-clipboarditems"><c- n>ClipboardItems</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read①"><c- g>read</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboardunsanitizedformats" id="ref-for-dictdef-clipboardunsanitizedformats"><c- n>ClipboardUnsanitizedFormats</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Clipboard/read(formats), Clipboard/read()" data-dfn-type="argument" data-export id="dom-clipboard-read-formats-formats"><code><c- g>formats</c-></code></dfn> = {});
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext"><c- g>readText</c-></a>();
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write②"><c- g>write</c-></a>(<a data-link-type="idl-name" href="#typedefdef-clipboarditems" id="ref-for-typedefdef-clipboarditems①"><c- n>ClipboardItems</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Clipboard/write(data)" data-dfn-type="argument" data-export id="dom-clipboard-write-data-data"><code><c- g>data</c-></code></dfn>);
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-writetext" id="ref-for-dom-clipboard-writetext"><c- g>writeText</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Clipboard/writeText(data)" data-dfn-type="argument" data-export id="dom-clipboard-writetext-data-data"><code><c- g>data</c-></code></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clipboardunsanitizedformats"><code><c- g>ClipboardUnsanitizedFormats</c-></code></dfn> {
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①②"><c- b>DOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ClipboardUnsanitizedFormats" data-dfn-type="dict-member" data-export data-type="sequence<DOMString>" id="dom-clipboardunsanitizedformats-unsanitized"><code><c- g>unsanitized</c-></code></dfn>;
};
</pre>
        <p><code class="idl"><a data-link-type="idl" href="#clipboard" id="ref-for-clipboard①">剪贴板</a></code>
            接口的一些方法接受或返回多个 <code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem⑨">ClipboardItem</a></code>
            对象。但是，并非所有平台都支持多个<a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item②②">剪贴板项目</a>；在此类平台上，以下算法将忽略传递给 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write③">write()</a></code>
            的第一个 <code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①⓪">ClipboardItem</a></code>
            对象之后的任何对象，并且 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read②">read()</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext①">readText()</a></code>
            仅从操作系统获取一个剪贴板项目。</p>
        <p>一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clipboard-items">剪贴板项目</dfn>
            对象是一个<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"
                id="ref-for-idl-sequence②">序列</a>，包含<a data-link-type="dfn" href="#clipboard-item"
                id="ref-for-clipboard-item②③">剪贴板项目</a>。</p>
        <p class="note" role="note"> Web 作者需要创建一个 <var>data</var>，它是一个 <code
                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①①">ClipboardItem</a></code>
            数组，以便使用 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write④">write(data)</a></code>
            方法将内容写入<a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①④">系统剪贴板</a>。 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read③">read()</a></code>
            返回一个 <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧">Promise</a></code>，
            该 Promise 解析为表示<a data-link-type="dfn" href="#system-clipboard-data"
                id="ref-for-system-clipboard-data">系统剪贴板数据</a>内容的<a data-link-type="dfn" href="#clipboard-items"
                id="ref-for-clipboard-items">剪贴板项目</a>对象。 </p>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-clipboardunsanitizedformats-unsanitized" id="ref-for-dom-clipboardunsanitizedformats-unsanitized">unsanitized</a></code>
            是一个<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"
                id="ref-for-idl-sequence③">序列</a>，包含 <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①③">DOMString</a></code>，
            对应于作者希望被视为<a data-link-type="dfn" href="#optional-unsanitized-data-types"
                id="ref-for-optional-unsanitized-data-types③">可选的未清理数据类型</a>的<a data-link-type="dfn"
                href="#representation-mime-type" id="ref-for-representation-mime-type⑧">MIME 类型</a>。</p>
        <p class="note" role="note"> 用户代理可能不支持 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboardunsanitizedformats-unsanitized" id="ref-for-dom-clipboardunsanitizedformats-unsanitized①">unsanitized</a></code>
            选项。Web 作者不应假定 <code
                class="idl"><a data-link-type="idl" href="#dom-clipboardunsanitizedformats-unsanitized" id="ref-for-dom-clipboardunsanitizedformats-unsanitized②">unsanitized</a></code>
            中列出的 MIME 类型的内容将是未清理的，因为在某些隐私模式下可能不允许此选项。 </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clipboard-task-source">剪贴板任务源</dfn>是在读取或写入<a
                data-link-type="dfn" href="#system-clipboard-data" id="ref-for-system-clipboard-data①">系统剪贴板数据</a>时触发的。
        </p>
        <div id="clipboard-idl">
            <div class="algorithm" data-algorithm="clipboard-read">
                <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method"
                    data-export data-level="7.3.1" data-lt="read(formats)|read()" id="dom-clipboard-read"><span
                        class="secno">7.3.1. </span><span class="content">read(<var>formats</var>)</span><a
                        class="self-link" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read⑤"></a></h4>
                <code
                    class="idl"><a data-link-type="idl" href="#dom-clipboard-read" id="ref-for-dom-clipboard-read④">read(formats)</a></code>
                方法必须执行以下步骤：
                <ol>
                    <li data-md>
                        <p>令 <var>realm</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this①⓪">此对象</a>的<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                id="ref-for-concept-relevant-realm①">相关领域</a>。</p>
                    </li>
                    <li data-md>
                        <p>令 <var>p</var> 为 <var>realm</var> 中的<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">一个新的
                                promise</a>。</p>
                    </li>
                    <li data-md>
                        <p>如果 <var>formats</var> 不为空，则：</p>
                        <ol>
                            <li data-md>
                                <p>对于 <var>formats</var>["<code
                                        class="idl"><a data-link-type="idl" href="#dom-clipboardunsanitizedformats-unsanitized" id="ref-for-dom-clipboardunsanitizedformats-unsanitized③">unsanitized</a></code>"]
                                    中的每个 <var>format</var>：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>如果 <var>format</var> 不在<a data-link-type="dfn"
                                                href="#optional-unsanitized-data-types"
                                                id="ref-for-optional-unsanitized-data-types④">可选的未清理数据类型</a>中，则在
                                            <var>realm</var> 中用 <var>format</var>
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">"NotAllowedError"</a></code>
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>
                                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                id="ref-for-reject②">拒绝</a> <var>p</var>。
                                        </p>
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li data-md>
                        <p>并行<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                                id="ref-for-in-parallel">运行</a>以下步骤：</p>
                        <ol>
                            <li data-md>
                                <p>令 <var>r</var> 为运行<a data-link-type="dfn" href="#check-clipboard-read-permission"
                                        id="ref-for-check-clipboard-read-permission">检查剪贴板读取权限</a>的结果。</p>
                            </li>
                            <li data-md>
                                <p>如果 <var>r</var> 为 false，则：</p>
                                <ol>
                                    <li data-md>
                                        <p>在<a data-link-type="dfn"
                                                href="https://w3c.github.io/permissions/#permissions-task-source"
                                                id="ref-for-permissions-task-source">权限任务源</a>上，给定 <var>realm</var> 的<a
                                                data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                                                id="ref-for-concept-realm-global">全局对象</a>，<a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                                id="ref-for-queue-a-global-task">将一个全局任务排队</a>，以在 <var>realm</var> 中用
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">"NotAllowedError"</a></code>
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>
                                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                id="ref-for-reject③">拒绝</a> <var>p</var>。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>中止这些步骤。</p>
                                    </li>
                                </ol>
                            </li>
                            <li data-md>
                                <p>令 <var>data</var> 为<a data-link-type="dfn" href="#system-clipboard-data"
                                        id="ref-for-system-clipboard-data②">系统剪贴板数据</a>的副本。</p>
                            </li>
                            <li data-md>
                                <p>令 <var>items</var> 为一个<a data-link-type="dfn"
                                        href="https://webidl.spec.whatwg.org/#idl-sequence"
                                        id="ref-for-idl-sequence④">序列</a>&lt;<a data-link-type="dfn"
                                        href="#clipboard-item" id="ref-for-clipboard-item②④">剪贴板项目</a>&gt;。</p>
                            </li>
                            <li data-md>
                                <p>对于 <var>data</var> 中的每个 <var>systemClipboardItem</var>：</p>
                                <ol>
                                    <li data-md>
                                        <p>令 <var>item</var> 为一个新的<a data-link-type="dfn" href="#clipboard-item"
                                                id="ref-for-clipboard-item②⑤">剪贴板项目</a>。</p>
                                    </li>
                                    <li data-md>
                                        <p>对于 <var>systemClipboardItem</var> 中的每个
                                            <var>systemClipboardRepresentation</var>：
                                        </p>
                                        <ol>
                                            <li data-md>
                                                <p>令 <var>mimeType</var> 为给定 <var>systemClipboardRepresentation</var>
                                                    的<a data-link-type="dfn"
                                                        href="#system-clipboard-representation-name"
                                                        id="ref-for-system-clipboard-representation-name">名称</a>运行<a
                                                        data-link-type="dfn"
                                                        href="#well-known-mime-type-from-os-specific-format"
                                                        id="ref-for-well-known-mime-type-from-os-specific-format">从操作系统特定格式获取已知
                                                        MIME 类型</a>算法的结果。
                                                </p>
                                            </li>
                                            <li data-md>
                                                <p>如果 <var>mimeType</var> 为 null，则继续此循环。</p>
                                            </li>
                                            <li data-md>
                                                <p>令 <var>representation</var> 为一个新的<a data-link-type="dfn"
                                                        href="#representation" id="ref-for-representation⑥">表示形式</a>。
                                                </p>
                                            </li>
                                            <li data-md>
                                                <p>将 <var>representation</var> 的<a data-link-type="dfn"
                                                        href="#representation-mime-type"
                                                        id="ref-for-representation-mime-type⑨">MIME 类型</a>设置为
                                                    <var>mimeType</var>。
                                                </p>
                                            </li>
                                            <li data-md>
                                                <p>令 <var>isUnsanitized</var> 为 <var>false</var>。</p>
                                            </li>
                                            <li data-md>
                                                <p>如果 <var>formats</var> 不为空，则：</p>
                                                <ol>
                                                    <li data-md>
                                                        <p>对于 <var>formats</var>["<code
                                                                class="idl"><a data-link-type="idl" href="#dom-clipboardunsanitizedformats-unsanitized" id="ref-for-dom-clipboardunsanitizedformats-unsanitized④">unsanitized</a></code>"]
                                                            中的每个 <var>format</var>：
                                                        </p>
                                                        <ol>
                                                            <li data-md>
                                                                <p>如果 <var>format</var> 等于<a data-link-type="dfn"
                                                                        href="#representation-mime-type"
                                                                        id="ref-for-representation-mime-type①⓪">MIME
                                                                        类型</a>，则将 <var>isUnsanitized</var> 设置为 true。
                                                                </p>
                                                            </li>
                                                        </ol>
                                                    </li>
                                                </ol>
                                            </li>
                                            <li data-md>
                                                <p>用 <var>systemClipboardRepresentation</var> 的<a data-link-type="dfn"
                                                        href="#system-clipboard-representation-data"
                                                        id="ref-for-system-clipboard-representation-data">数据</a>解析
                                                    <var>representation</var> 的<a data-link-type="dfn"
                                                        href="#representation-data"
                                                        id="ref-for-representation-data②">数据</a>。
                                                </p>
                                                <p class="issue" id="issue-0a41fcd5"><a class="self-link"
                                                        href="#issue-0a41fcd5"></a> 在作者调用 getType
                                                    后，应该可以从系统剪贴板异步读取数据，但是，这组步骤意味着数据将在读取时提供。</p>
                                            </li>
                                            <li data-md>
                                                <p>用户代理可以清理 <var>representation</var> 的<a data-link-type="dfn"
                                                        href="#representation-data"
                                                        id="ref-for-representation-data③">数据</a>，除非
                                                    <var>representation</var> 的<a data-link-type="dfn"
                                                        href="#representation-mime-type"
                                                        id="ref-for-representation-mime-type①①">MIME 类型</a>的本质是
                                                    "image/png"（应保持未清理以保留元数据），或者如果它满足以下条件：
                                                </p>
                                                <ol>
                                                    <li data-md>
                                                        <p><var>representation</var> 的<a data-link-type="dfn"
                                                                href="#representation-mime-type"
                                                                id="ref-for-representation-mime-type①②">MIME
                                                                类型</a>在可选的<a data-link-type="dfn"
                                                                href="#unsanitized-data-types"
                                                                id="ref-for-unsanitized-data-types">未清理数据类型</a>列表中。</p>
                                                    </li>
                                                    <li data-md>
                                                        <p><var>isUnsanitized</var> 为 true。</p>
                                                    </li>
                                                </ol>
                                            </li>
                                            <li data-md>
                                                <p>将 <var>representation</var> 附加到 <var>item</var> 的<a
                                                        data-link-type="dfn" href="#list-of-representations"
                                                        id="ref-for-list-of-representations④">表示形式列表</a>。</p>
                                            </li>
                                            <li data-md>
                                                <p>将 <var>isUnsanitized</var> 设置为 <var>false</var>。</p>
                                            </li>
                                        </ol>
                                    </li>
                                    <li data-md>
                                        <p>如果 <var>item</var> 的<a data-link-type="dfn" href="#list-of-representations"
                                                id="ref-for-list-of-representations⑤">表示形式列表</a>的大小大于 0，则将
                                            <var>item</var> 附加到 <var>items</var>。
                                        </p>
                                    </li>
                                </ol>
                            </li>
                            <li data-md>
                                <p>如果 <var>items</var> 的大小 > 0，则：</p>
                                <ol>
                                    <li data-md>
                                        <p>令 <var>firstItem</var> 为 <var>items</var>[0]</p>
                                    </li>
                                    <li data-md>
                                        <p>给定 <var>firstItem</var> 运行<a data-link-type="dfn"
                                                href="#read-web-custom-format" id="ref-for-read-web-custom-format">读取
                                                Web 自定义格式</a>算法。</p>
                                    </li>
                                </ol>
                            </li>
                            <li data-md>
                                <p>否则：</p>
                                <ol>
                                    <li data-md>
                                        <p>令 <var>customItem</var> 为一个新的<a data-link-type="dfn" href="#clipboard-item"
                                                id="ref-for-clipboard-item②⑥">剪贴板项目</a>。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>给定 <var>customItem</var> 运行<a data-link-type="dfn"
                                                href="#read-web-custom-format" id="ref-for-read-web-custom-format①">读取
                                                Web 自定义格式</a>算法。</p>
                                    </li>
                                    <li data-md>
                                        <p>如果 <var>customItem</var> 的<a data-link-type="dfn"
                                                href="#list-of-representations"
                                                id="ref-for-list-of-representations⑥">表示形式列表</a>的大小大于 0，则将
                                            <var>customItem</var> 附加到 <var>items</var>。
                                        </p>
                                    </li>
                                </ol>
                            </li>
                            <li data-md>
                                <p>在<a data-link-type="dfn" href="#clipboard-task-source"
                                        id="ref-for-clipboard-task-source">剪贴板任务源</a>上，给定 <var>realm</var> 的<a
                                        data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                                        id="ref-for-concept-realm-global①">全局对象</a>，<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                        id="ref-for-queue-a-global-task①">将一个全局任务排队</a>，以执行以下步骤：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>令 <var>clipboardItems</var> 为一个<a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#idl-sequence"
                                                id="ref-for-idl-sequence⑤">序列</a>&lt;<code
                                                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①②">ClipboardItem</a></code>&gt;。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>对于 <var>items</var> 中的每个<a data-link-type="dfn" href="#clipboard-item"
                                                id="ref-for-clipboard-item②⑦">剪贴板项目</a>
                                            <var>underlyingItem</var>：
                                        </p>
                                        <ol>
                                            <li data-md>
                                                <p>令 <var>clipboardItem</var> 为给定 <var>underlyingItem</var> 和
                                                    <var>realm</var> 运行<a data-link-type="dfn"
                                                        href="#create-a-clipboarditem-object"
                                                        id="ref-for-create-a-clipboarditem-object">创建 ClipboardItem
                                                        对象</a>的步骤的结果。
                                                </p>
                                            </li>
                                            <li data-md>
                                                <p>将 <var>clipboardItem</var> 附加到 <var>clipboardItems</var>。</p>
                                            </li>
                                        </ol>
                                    </li>
                                    <li data-md>
                                        <p>用 <var>clipboardItems</var> 解析 <var>p</var>。</p>
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li data-md>
                        <p>返回 <var>p</var>。</p>
                    </li>
                </ol>
                <div></div>
                <pre class="example javascript highlight" id="example-c237e9e8"><a class="self-link" href="#example-c237e9e8"></a><c- a>const</c-> items <c- o>=</c-> <c- k>await</c-> navigator<c- p>.</c->clipboard<c- p>.</c->read<c- p>();</c->
<c- a>const</c-> textBlob <c- o>=</c-> <c- k>await</c-> items<c- p>[</c-><c- mf>0</c-><c- p>].</c->getType<c- p>(</c-><c- u>"text/plain"</c-><c- p>);</c->
<c- a>const</c-> text <c- o>=</c-> <c- k>await</c-> <c- p>(</c-><c- ow>new</c-> Response<c- p>(</c->textBlob<c- p>)).</c->text<c- p>();</c->
</pre>
            </div>
            <div class="algorithm" data-algorithm="clipboard-readtext">
                <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method"
                    data-export data-level="7.3.2" data-lt="readText()" id="dom-clipboard-readtext"><span
                        class="secno">7.3.2. </span><span class="content">readText()</span><a class="self-link"
                        href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext③"></a></h4>
                <code
                    class="idl"><a data-link-type="idl" href="#dom-clipboard-readtext" id="ref-for-dom-clipboard-readtext②">readText()</a></code>
                方法必须执行以下步骤：
                <ol>
                    <li data-md>
                        <p>令 <var>realm</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this①①">此对象</a>的<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                id="ref-for-concept-relevant-realm②">相关领域</a>。</p>
                    </li>
                    <li data-md>
                        <p>令 <var>p</var> 为 <var>realm</var> 中的<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②">一个新的
                                promise</a>。</p>
                    </li>
                    <li data-md>
                        <p>并行<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                                id="ref-for-in-parallel①">运行</a>以下步骤：</p>
                        <ol>
                            <li data-md>
                                <p>令 <var>r</var> 为运行<a data-link-type="dfn" href="#check-clipboard-read-permission"
                                        id="ref-for-check-clipboard-read-permission①">检查剪贴板读取权限</a>的结果。</p>
                            </li>
                            <li data-md>
                                <p>如果 <var>r</var> 为 false，则：</p>
                                <ol>
                                    <li data-md>
                                        <p>在<a data-link-type="dfn"
                                                href="https://w3c.github.io/permissions/#permissions-task-source"
                                                id="ref-for-permissions-task-source①">权限任务源</a>上，给定
                                            <var>realm</var> 的<a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                                                id="ref-for-concept-realm-global②">全局对象</a>，<a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                                id="ref-for-queue-a-global-task②">将一个全局任务排队</a>，以在 <var>realm</var> 中用
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror②">"NotAllowedError"</a></code>
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>
                                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                id="ref-for-reject④">拒绝</a> <var>p</var>。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>中止这些步骤。</p>
                                    </li>
                                </ol>
                            </li>
                            <li data-md>
                                <p>令 <var>data</var> 为<a data-link-type="dfn" href="#system-clipboard-data"
                                        id="ref-for-system-clipboard-data③">系统剪贴板数据</a>的副本。</p>
                                <p class="issue" id="issue-c148910f"><a class="self-link" href="#issue-c148910f"></a>
                                    某些操作系统包含多个剪贴板（例如 Linux 中的“primary”、“secondary”、“selection”）。定义从哪个剪贴板读取数据。</p>
                                <p class="issue" id="issue-1755f975"><a class="self-link" href="#issue-1755f975"></a>
                                    添加已清理副本的定义。</p>
                            </li>
                            <li data-md>
                                <p>在<a data-link-type="dfn" href="#clipboard-task-source"
                                        id="ref-for-clipboard-task-source①">剪贴板任务源</a>上，给定
                                    <var>realm</var> 的<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                                        id="ref-for-concept-realm-global③">全局对象</a>，<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                        id="ref-for-queue-a-global-task③">将一个全局任务排队</a>，以执行以下步骤：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>对于 <var>data</var> 中的每个 <var>systemClipboardItem</var>：</p>
                                        <ol>
                                            <li data-md>
                                                <p>对于 <var>systemClipboardItem</var> 中的每个
                                                    <var>systemClipboardRepresentation</var>：
                                                </p>
                                                <ol>
                                                    <li data-md>
                                                        <p>令 <var>mimeType</var> 为给定
                                                            <var>systemClipboardRepresentation</var> 的<a
                                                                data-link-type="dfn"
                                                                href="#system-clipboard-representation-name"
                                                                id="ref-for-system-clipboard-representation-name①">名称</a>运行<a
                                                                data-link-type="dfn"
                                                                href="#well-known-mime-type-from-os-specific-format"
                                                                id="ref-for-well-known-mime-type-from-os-specific-format①">从操作系统特定格式获取已知
                                                                MIME 类型</a>算法的结果。
                                                        </p>
                                                    </li>
                                                    <li data-md>
                                                        <p>如果 <var>mimeType</var> 为 null，则继续此循环。</p>
                                                    </li>
                                                    <li data-md>
                                                        <p>令 <var>representation</var> 为一个新的<a data-link-type="dfn"
                                                                href="#representation"
                                                                id="ref-for-representation⑦">表示形式</a>。</p>
                                                    </li>
                                                    <li data-md>
                                                        <p>如果 <var>representation</var> 的<a data-link-type="dfn"
                                                                href="#representation-mime-type"
                                                                id="ref-for-representation-mime-type①③">MIME 类型</a>的<a
                                                                data-link-type="dfn"
                                                                href="https://mimesniff.spec.whatwg.org/#mime-type-essence"
                                                                id="ref-for-mime-type-essence">本质</a>是
                                                            "text/plain"，则：</p>
                                                        <ol>
                                                            <li data-md>
                                                                <p>将 <var>representation</var> 的<a data-link-type="dfn"
                                                                        href="#representation-mime-type"
                                                                        id="ref-for-representation-mime-type①④">MIME
                                                                        类型</a>设置为 <var>mimeType</var>。</p>
                                                            </li>
                                                            <li data-md>
                                                                <p>令 <var>representationDataPromise</var> 为
                                                                    <var>representation</var> 的<a data-link-type="dfn"
                                                                        href="#representation-data"
                                                                        id="ref-for-representation-data④">数据</a>。
                                                                </p>
                                                            </li>
                                                            <li data-md>
                                                                <p><a data-link-type="dfn"
                                                                        href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                                                                        id="ref-for-dfn-perform-steps-once-promise-is-settled①">响应</a>
                                                                    <var>representationDataPromise</var>：
                                                                </p>
                                                                <ol>
                                                                    <li data-md>
                                                                        <p>如果 <var>representationDataPromise</var> 以值
                                                                            <var>v</var> 完成，则：
                                                                        </p>
                                                                        <ol>
                                                                            <li data-md>
                                                                                <p>如果 <var>v</var> 是一个 <code
                                                                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①④">DOMString</a></code>，
                                                                                    则执行以下步骤：</p>
                                                                                <ol>
                                                                                    <li data-md>
                                                                                        <p>用 <var>v</var> 解析
                                                                                            <var>p</var>。
                                                                                        </p>
                                                                                    </li>
                                                                                    <li data-md>
                                                                                        <p>返回 <var>p</var>。</p>
                                                                                    </li>
                                                                                </ol>
                                                                            </li>
                                                                            <li data-md>
                                                                                <p>如果 <var>v</var> 是一个 <code
                                                                                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑥">Blob</a></code>，
                                                                                    则执行以下步骤：</p>
                                                                                <ol>
                                                                                    <li data-md>
                                                                                        <p>令 <var>string</var> 为
                                                                                            <a data-link-type="dfn"
                                                                                                href="https://encoding.spec.whatwg.org/#utf-8-decode"
                                                                                                id="ref-for-utf-8-decode">UTF-8
                                                                                                解码</a>
                                                                                            <var>v</var> 的底层字节序列的结果。
                                                                                        </p>
                                                                                    </li>
                                                                                    <li data-md>
                                                                                        <p>用 <var>string</var> 解析
                                                                                            <var>p</var>。
                                                                                        </p>
                                                                                    </li>
                                                                                    <li data-md>
                                                                                        <p>返回 <var>p</var>。</p>
                                                                                    </li>
                                                                                </ol>
                                                                            </li>
                                                                        </ol>
                                                                    </li>
                                                                    <li data-md>
                                                                        <p>如果 <var>representationDataPromise</var>
                                                                            被拒绝，则：</p>
                                                                        <ol>
                                                                            <li data-md>
                                                                                <p>在 <var>realm</var> 中用 <code
                                                                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror②">"NotFoundError"</a></code>
                                                                                    <code
                                                                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>
                                                                                    <a data-link-type="dfn"
                                                                                        href="https://webidl.spec.whatwg.org/#reject"
                                                                                        id="ref-for-reject⑤">拒绝</a>
                                                                                    <var>p</var>。
                                                                                </p>
                                                                            </li>
                                                                            <li data-md>
                                                                                <p>返回 <var>p</var>。</p>
                                                                            </li>
                                                                        </ol>
                                                                    </li>
                                                                </ol>
                                                            </li>
                                                        </ol>
                                                    </li>
                                                </ol>
                                            </li>
                                        </ol>
                                    </li>
                                    <li data-md>
                                        <p>在 <var>realm</var> 中用 <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notfounderror" id="ref-for-notfounderror③">"NotFoundError"</a></code>
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>
                                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                id="ref-for-reject⑥">拒绝</a> <var>p</var>。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>返回 <var>p</var>。</p>
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                </ol>
                <div></div>
                <pre class="example javascript highlight" id="example-18b01409"><a class="self-link" href="#example-18b01409"></a>navigator<c- p>.</c->clipboard<c- p>.</c->readText<c- p>().</c->then<c- p>(</c-><c- a>function</c-><c- p>(</c->data<c- p>)</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- u>"你的字符串: "</c-><c- p>,</c-> data<c- p>);</c->
<c- p>});</c->
</pre>
            </div>
            <div class="algorithm" data-algorithm="clipboard-write">
                <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method"
                    data-export data-level="7.3.3" data-lt="write(data)" id="dom-clipboard-write"><span
                        class="secno">7.3.3. </span><span class="content">write(<var>data</var>)</span><a
                        class="self-link" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write⑥"></a></h4>
                <code
                    class="idl"><a data-link-type="idl" href="#dom-clipboard-write" id="ref-for-dom-clipboard-write⑤">write(data)</a></code>
                方法必须执行以下步骤：
                <ol>
                    <li data-md>
                        <p>令 <var>realm</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this①②">此对象</a>的<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                id="ref-for-concept-relevant-realm③">相关领域</a>。</p>
                    </li>
                    <li data-md>
                        <p>令 <var>p</var> 为 <var>realm</var> 中的<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise③">一个新的
                                promise</a>。</p>
                    </li>
                    <li data-md>
                        <p>并行<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                                id="ref-for-in-parallel②">运行</a>以下步骤：</p>
                        <ol>
                            <li data-md>
                                <p>令 <var>r</var> 为运行<a data-link-type="dfn" href="#check-clipboard-write-permission"
                                        id="ref-for-check-clipboard-write-permission">检查剪贴板写入权限</a>的结果。</p>
                                <p class="issue" id="issue-1b338371"><a class="self-link" href="#issue-1b338371"></a>
                                    clipboard-write 已在 https://github.com/w3c/clipboard-apis/pull/164 中移除。</p>
                            </li>
                            <li data-md>
                                <p>如果 <var>r</var> 为 false，则：</p>
                                <ol>
                                    <li data-md>
                                        <p>在<a data-link-type="dfn"
                                                href="https://w3c.github.io/permissions/#permissions-task-source"
                                                id="ref-for-permissions-task-source②">权限任务源</a>上，给定
                                            <var>realm</var> 的<a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                                                id="ref-for-concept-realm-global④">全局对象</a>，<a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                                id="ref-for-queue-a-global-task④">将一个全局任务排队</a>，以在 <var>realm</var> 中用
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror③">"NotAllowedError"</a></code>
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>
                                            <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject"
                                                id="ref-for-reject⑦">拒绝</a> <var>p</var>。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>中止这些步骤。</p>
                                    </li>
                                </ol>
                            </li>
                            <li data-md>
                                <p>在<a data-link-type="dfn" href="#clipboard-task-source"
                                        id="ref-for-clipboard-task-source②">剪贴板任务源</a>上，给定
                                    <var>realm</var> 的<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                                        id="ref-for-concept-realm-global⑤">全局对象</a>，<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                        id="ref-for-queue-a-global-task⑤">将一个全局任务排队</a>，以执行以下步骤：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>令 <var>itemList</var> 和 <var>cleanItemList</var> 为一个空的<a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#idl-sequence"
                                                id="ref-for-idl-sequence⑥">序列</a>&lt;<code
                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑦">Blob</a></code>&gt;。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>令 <var>dataList</var> 为一个<a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#idl-sequence"
                                                id="ref-for-idl-sequence⑦">序列</a>&lt;<code
                                                class="idl"><a data-link-type="idl" href="#clipboarditem" id="ref-for-clipboarditem①③">ClipboardItem</a></code>&gt;。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>如果 <var>data</var> 的<a data-link-type="dfn"
                                                href="https://infra.spec.whatwg.org/#list-size"
                                                id="ref-for-list-size">大小</a>大于 1，并且当前操作系统不支持<a data-link-type="dfn"
                                                href="#system-clipboard"
                                                id="ref-for-system-clipboard①⑤">系统剪贴板</a>上的多个本机剪贴板项目，则将
                                            <var>data</var>[0] 添加到 <var>dataList</var>，否则，将 <var>dataList</var> 设置为
                                            <var>data</var>。
                                        </p>
                                        <p class="issue" id="issue-f23cf1e2"><a class="self-link"
                                                href="#issue-f23cf1e2"></a> 当 <var>data</var>
                                            包含多个项目并且操作系统支持多个本机剪贴板项目时，当前算法会按顺序将项目写入系统剪贴板，而不是集体写入。</p>
                                    </li>
                                    <li data-md>
                                        <p>对于 <var>dataList</var> 中的每个 <var>clipboardItem</var>：</p>
                                        <ol>
                                            <li data-md>
                                                <p>对于 <var>clipboardItem</var> 的<a data-link-type="dfn"
                                                        href="#clipboarditem-clipboard-item"
                                                        id="ref-for-clipboarditem-clipboard-item⑥">剪贴板项目</a>的
                                                    <a data-link-type="dfn" href="#list-of-representations"
                                                        id="ref-for-list-of-representations⑦">表示形式列表</a>中的每个
                                                    <var>representation</var>：
                                                </p>
                                                <ol>
                                                    <li data-md>
                                                        <p>令 <var>representationDataPromise</var> 为
                                                            <var>representation</var> 的<a data-link-type="dfn"
                                                                href="#representation-data"
                                                                id="ref-for-representation-data⑤">数据</a>。
                                                        </p>
                                                    </li>
                                                    <li data-md>
                                                        <p><a data-link-type="dfn"
                                                                href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                                                                id="ref-for-dfn-perform-steps-once-promise-is-settled②">响应</a>
                                                            <var>representationDataPromise</var>：
                                                        </p>
                                                        <ol>
                                                            <li data-md>
                                                                <p>如果 <var>representationDataPromise</var> 以值
                                                                    <var>v</var> 完成，则：
                                                                </p>
                                                                <ol>
                                                                    <li data-md>
                                                                        <p>如果 <var>v</var> 是一个 <code
                                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑤">DOMString</a></code>，
                                                                            则执行以下步骤：</p>
                                                                        <ol>
                                                                            <li data-md>
                                                                                <p>令 <var>dataAsBytes</var> 为
                                                                                    <a data-link-type="dfn"
                                                                                        href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                                                                        id="ref-for-utf-8-encode①">UTF-8
                                                                                        编码</a> <var>v</var> 的结果。
                                                                                </p>
                                                                            </li>
                                                                            <li data-md>
                                                                                <p>令 <var>blobData</var> 为一个使用
                                                                                    <var>dataAsBytes</var>
                                                                                    创建的 <code
                                                                                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑧">Blob</a></code>，
                                                                                    其 <code
                                                                                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type①">type</a></code>
                                                                                    设置为 <var>representation</var> 的
                                                                                    <a data-link-type="dfn"
                                                                                        href="#representation-mime-type"
                                                                                        id="ref-for-representation-mime-type①⑤">MIME
                                                                                        类型</a>。
                                                                                </p>
                                                                            </li>
                                                                            <li data-md>
                                                                                <p>将 <var>blobData</var> 添加到
                                                                                    <var>itemList</var>。
                                                                                </p>
                                                                            </li>
                                                                        </ol>
                                                                    </li>
                                                                    <li data-md>
                                                                        <p>如果 <var>v</var> 是一个 <code
                                                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob⑨">Blob</a></code>，
                                                                            则将 <var>v</var> 添加到
                                                                            <var>itemList</var>。
                                                                        </p>
                                                                    </li>
                                                                </ol>
                                                            </li>
                                                            <li data-md>
                                                                <p>如果 <var>representationDataPromise</var> 被拒绝，
                                                                    则：</p>
                                                                <ol>
                                                                    <li data-md>
                                                                        <p>在 <var>realm</var> 中用 <code
                                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror④">"NotAllowedError"</a></code>
                                                                            <code
                                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑧">DOMException</a></code>
                                                                            <a data-link-type="dfn"
                                                                                href="https://webidl.spec.whatwg.org/#reject"
                                                                                id="ref-for-reject⑧">拒绝</a>
                                                                            <var>p</var>。
                                                                        </p>
                                                                    </li>
                                                                    <li data-md>
                                                                        <p>中止这些步骤。</p>
                                                                    </li>
                                                                </ol>
                                                            </li>
                                                        </ol>
                                                    </li>
                                                </ol>
                                            </li>
                                            <li data-md>
                                                <p>对于 <var>itemList</var> 中的每个 <var>blob</var>：</p>
                                                <ol>
                                                    <li data-md>
                                                        <p>令 <var>type</var> 为 <var>blob</var> 的 <code
                                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type②">type</a></code>。
                                                        </p>
                                                    </li>
                                                    <li data-md>
                                                        <p>如果 <var>type</var> 不在<a data-link-type="dfn"
                                                                href="#mandatory-data-types"
                                                                id="ref-for-mandatory-data-types③">强制数据类型</a>或<a
                                                                data-link-type="dfn" href="#optional-data-types"
                                                                id="ref-for-optional-data-types②">可选数据类型</a>列表中，则在
                                                            <var>realm</var> 中用 <code
                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror⑤">"NotAllowedError"</a></code>
                                                            <code
                                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑨">DOMException</a></code>
                                                            <a data-link-type="dfn"
                                                                href="https://webidl.spec.whatwg.org/#reject"
                                                                id="ref-for-reject⑨">拒绝</a> <var>p</var> 并中止这些步骤。
                                                        </p>
                                                    </li>
                                                    <li data-md>
                                                        <p>令 <var>cleanItem</var> 为 <var>blob</var> 的一个可选的已清理副本。
                                                        </p>
                                                        <p class="issue" id="issue-1755f975①"><a class="self-link"
                                                                href="#issue-1755f975①"></a> 添加已清理副本的定义。</p>
                                                    </li>
                                                    <li data-md>
                                                        <p>如果尝试了清理但未成功完成，则执行以下步骤：</p>
                                                        <ol>
                                                            <li data-md>
                                                                <p>在 <var>realm</var> 中用 <code
                                                                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror⑥">"NotAllowedError"</a></code>
                                                                    DOMException <a data-link-type="dfn"
                                                                        href="https://webidl.spec.whatwg.org/#reject"
                                                                        id="ref-for-reject①⓪">拒绝</a> <var>p</var>。</p>
                                                            </li>
                                                            <li data-md>
                                                                <p>中止这些步骤。</p>
                                                            </li>
                                                        </ol>
                                                    </li>
                                                    <li data-md>
                                                        <p>将 <var>cleanItem</var> 附加到 <var>cleanItemList</var>。</p>
                                                    </li>
                                                </ol>
                                            </li>
                                            <li data-md>
                                                <p>令 <var>option</var> 为 <var>clipboardItem</var> 的<a
                                                        data-link-type="dfn" href="#clipboarditem-clipboard-item"
                                                        id="ref-for-clipboarditem-clipboard-item⑦">剪贴板项目</a>的
                                                    <a data-link-type="dfn" href="#presentation-style"
                                                        id="ref-for-presentation-style②">表示样式</a>。
                                                </p>
                                            </li>
                                            <li data-md>
                                                <p>使用 <var>cleanItemList</var> 和 <var>option</var> <a
                                                        data-link-type="dfn"
                                                        href="#write-blobs-and-option-to-the-clipboard"
                                                        id="ref-for-write-blobs-and-option-to-the-clipboard">将 blob
                                                        和选项写入剪贴板</a>。</p>
                                            </li>
                                        </ol>
                                    </li>
                                    <li data-md>
                                        <p>解析 <var>p</var>。</p>
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li data-md>
                        <p>返回 <var>p</var>。</p>
                    </li>
                </ol>
                <div></div>
                <pre class="example javascript highlight" id="example-615ef477"><a class="self-link" href="#example-615ef477"></a><c- a>var</c-> data <c- o>=</c-> <c- p>[</c-><c- ow>new</c-> ClipboardItem<c- p>({</c-> <c- u>"text/plain"</c-><c- o>:</c-> Promise<c- p>.</c->resolve<c- p>(</c-><c- ow>new</c-> Blob<c- p>([</c-><c- u>"文本数据"</c-><c- p>],</c-> <c- p>{</c-> type<c- o>:</c-> <c- u>"text/plain"</c-> <c- p>}))</c-> <c- p>})];</c->
navigator<c- p>.</c->clipboard<c- p>.</c->write<c- p>(</c->data<c- p>).</c->then<c- p>(</c-><c- a>function</c-><c- p>()</c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- u>"已成功复制到剪贴板！"</c-><c- p>);</c->
<c- p>},</c-> <c- a>function</c-><c- p>()</c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c-><c- u>"无法写入剪贴板。 :-("</c-><c- p>);</c->
<c- p>});</c->
</pre>
            </div>
            <div class="algorithm" data-algorithm="clipboard-writetext">
                <h4 class="heading settled dfn-paneled idl-code" data-dfn-for="Clipboard" data-dfn-type="method"
                    data-export data-level="7.3.4" data-lt="writeText(data)" id="dom-clipboard-writetext"><span
                        class="secno">7.3.4. </span><span class="content">writeText(<var>data</var>)</span><a
                        class="self-link" href="#dom-clipboard-writetext" id="ref-for-dom-clipboard-writetext②"></a>
                </h4>
                <code
                    class="idl"><a data-link-type="idl" href="#dom-clipboard-writetext" id="ref-for-dom-clipboard-writetext①">writeText(data)</a></code>
                方法必须执行以下步骤：
                <ol>
                    <li data-md>
                        <p>令 <var>realm</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this①③">此对象</a>的<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                                id="ref-for-concept-relevant-realm④">相关领域</a>。</p>
                    </li>
                    <li data-md>
                        <p>令 <var>p</var> 为 <var>realm</var> 中的<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise④">一个新的
                                promise</a>。</p>
                    </li>
                    <li data-md>
                        <p>并行<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                                id="ref-for-in-parallel③">运行</a>以下步骤：</p>
                        <ol>
                            <li data-md>
                                <p>令 <var>r</var> 为运行<a data-link-type="dfn" href="#check-clipboard-write-permission"
                                        id="ref-for-check-clipboard-write-permission①">检查剪贴板写入权限</a>的结果。</p>
                                <p class="issue" id="issue-1b338371①"><a class="self-link" href="#issue-1b338371①"></a>
                                    clipboard-write 已在 https://github.com/w3c/clipboard-apis/pull/164 中移除。</p>
                            </li>
                            <li data-md>
                                <p>如果 <var>r</var> 为 false，则：</p>
                                <ol>
                                    <li data-md>
                                        <p>在<a data-link-type="dfn"
                                                href="https://w3c.github.io/permissions/#permissions-task-source"
                                                id="ref-for-permissions-task-source③">权限任务源</a>上，给定
                                            <var>realm</var> 的<a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                                                id="ref-for-concept-realm-global⑥">全局对象</a>，<a data-link-type="dfn"
                                                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                                id="ref-for-queue-a-global-task⑥">将一个全局任务排队</a>，以在 <var>realm</var> 中用
                                            <code
                                                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror⑦">"NotAllowedError"</a></code>
                                            DOMException <a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#reject"
                                                id="ref-for-reject①①">拒绝</a> <var>p</var>。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>中止这些步骤。</p>
                                    </li>
                                </ol>
                            </li>
                            <li data-md>
                                <p>在<a data-link-type="dfn" href="#clipboard-task-source"
                                        id="ref-for-clipboard-task-source③">剪贴板任务源</a>上，给定
                                    <var>realm</var> 的<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                                        id="ref-for-concept-realm-global⑦">全局对象</a>，<a data-link-type="dfn"
                                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"
                                        id="ref-for-queue-a-global-task⑦">将一个全局任务排队</a>，以执行以下步骤：
                                </p>
                                <ol>
                                    <li data-md>
                                        <p>令 <var>itemList</var> 为一个空的<a data-link-type="dfn"
                                                href="https://webidl.spec.whatwg.org/#idl-sequence"
                                                id="ref-for-idl-sequence⑧">序列</a>&lt;<code
                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①⓪">Blob</a></code>&gt;。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>令 <var>textBlob</var> 为一个新创建的 <code
                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①①">Blob</a></code>，
                                            其：<code
                                                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type③">type</a></code>
                                            属性设置为 "<code>text/plain;charset=utf-8</code>"，并且
                                            其底层字节序列设置为 <var>data</var> 的<a data-link-type="dfn"
                                                href="https://encoding.spec.whatwg.org/#utf-8-encode"
                                                id="ref-for-utf-8-encode②">UTF-8 编码</a>。</p>
                                        <p class="note" role="note"><span class="marker">注意：</span>在 Windows 上，在创建
                                            <var>textBlob</var> 之前，将 <var>data</var> 中的 `\n` 字符替换为 `\r\n`。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>将 <var>textBlob</var> 添加到 <var>itemList</var>。</p>
                                    </li>
                                    <li data-md>
                                        <p>令 <var>option</var> 设置为 "unspecified"。</p>
                                    </li>
                                    <li data-md>
                                        <p>使用 <var>itemList</var> 和
                                            <var>option</var> <a data-link-type="dfn"
                                                href="#write-blobs-and-option-to-the-clipboard"
                                                id="ref-for-write-blobs-and-option-to-the-clipboard①">将 blob
                                                和选项写入剪贴板</a>。
                                        </p>
                                    </li>
                                    <li data-md>
                                        <p>解析 <var>p</var>。</p>
                                    </li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li data-md>
                        <p>返回 <var>p</var>。</p>
                    </li>
                </ol>
                <div></div>
                <pre class="example javascript highlight" id="example-a984ae2d"><a class="self-link" href="#example-a984ae2d"></a><c- k>await</c-> navigator<c- p>.</c->clipboard<c- p>.</c->writeText<c- p>(</c-><c- u>"你好，伙伴！"</c-><c- p>);</c->
</pre>
            </div>
        </div>
        <h2 class="heading settled" data-level="8" id="clipboard-actions"><span class="secno">8. </span><span
                class="content">剪贴板操作</span><a class="self-link" href="#clipboard-actions"></a></h2>
        <p>本节定义剪贴板操作和事件分发的处理模型。</p>
        <p>每个剪贴板操作都有两个标志，称为<a data-link-type="dfn" href="#script-triggered" id="ref-for-script-triggered">脚本触发</a>和<a
                data-link-type="dfn" href="#script-may-access-clipboard"
                id="ref-for-script-may-access-clipboard">脚本可访问剪贴板</a>。</p>
        <p>如果操作因脚本而运行（例如 <code>document.execCommand()</code> 调用），则设置 <dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="script-triggered">脚本触发</dfn>
            标志。未来与剪贴板交互的脚本 API 也应使用这些操作，并且必须相应地设置 <a data-link-type="dfn" href="#script-triggered"
                id="ref-for-script-triggered①">脚本触发</a>标志。</p>
        <div class="algorithm" data-algorithm="script-may-access-clipboard">
            <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="script-may-access-clipboard">脚本可访问剪贴板</dfn> 标志设置如下：</p>
            <ol>
                <li data-md>
                    <p>如果操作是<em>复制</em>或<em>剪切</em>，并且脚本线程<a data-link-type="dfn"
                            href="#allowed-to-modify-the-clipboard"
                            id="ref-for-allowed-to-modify-the-clipboard">允许修改剪贴板</a>，则</p>
                    <ol>
                        <li data-md>
                            <p>设置操作的<a data-link-type="dfn" href="#script-may-access-clipboard"
                                    id="ref-for-script-may-access-clipboard①">脚本可访问剪贴板</a>标志</p>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p>如果操作是<em>粘贴</em>，并且脚本线程<a data-link-type="dfn" href="#allowed-to-read-from-clipboard"
                            id="ref-for-allowed-to-read-from-clipboard">允许从剪贴板读取</a>，则</p>
                    <ol>
                        <li data-md>
                            <p>设置操作的<a data-link-type="dfn" href="#script-may-access-clipboard"
                                    id="ref-for-script-may-access-clipboard②">脚本可访问剪贴板</a>标志。</p>
                        </li>
                    </ol>
                </li>
            </ol>
        </div>
        <h3 class="heading settled" data-level="8.1" id="copy-action"><span class="secno">8.1. </span><span
                class="content">复制操作</span><a class="self-link" href="#copy-action"></a></h3>
        <div class="algorithm" data-algorithm="clipboard-copy-action">
            <p>复制操作包括以下步骤：</p>
            <ol>
                <li data-md>
                    <p>如果设置了<a data-link-type="dfn" href="#script-triggered" id="ref-for-script-triggered②">脚本触发</a>标志，则
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果未设置<a data-link-type="dfn" href="#script-may-access-clipboard"
                                    id="ref-for-script-may-access-clipboard③">脚本可访问剪贴板</a>标志，则</p>
                            <ol>
                                <li data-md>
                                    <p>从复制操作返回 false，终止此算法</p>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p><a data-link-type="dfn" href="#fire-a-clipboard-event"
                            id="ref-for-fire-a-clipboard-event③">触发一个名为</a> <code
                            class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-copy" id="ref-for-eventdef-globaleventhandlers-copy⑦">copy</a></code>
                        的剪贴板事件
                    </p>
                </li>
                <li data-md>
                    <p>如果事件未被取消，则</p>
                    <ol>
                        <li data-md>
                            <p>将选定的内容（如有）复制到剪贴板。当选择网页中的内容时，实现<em>应</em>创建备用的 text/html 和 text/plain 剪贴板格式。</p>
                        </li>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#fire-a-clipboard-event"
                                    id="ref-for-fire-a-clipboard-event④">触发一个名为</a> <code
                                    class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-clipboardchange" id="ref-for-eventdef-globaleventhandlers-clipboardchange③">clipboardchange</a></code>
                                的剪贴板事件
                            </p>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p>否则，如果事件被取消，则</p>
                    <ol>
                        <li data-md>
                            <p>调用<a data-link-type="dfn" href="#write-content-to-the-clipboard"
                                    id="ref-for-write-content-to-the-clipboard">将内容写入剪贴板</a>算法，
                                传递 <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist①">DataTransferItemList</a></code>
                                列表 <em>items</em>、
                                一个 <em>clear-was-called</em> 标志和一个 <em>types-to-clear</em> 列表。</p>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p>从复制操作返回 true</p>
                </li>
            </ol>
        </div>
        <h3 class="heading settled" data-level="8.2" id="cut-action"><span class="secno">8.2. </span><span
                class="content">剪切操作</span><a class="self-link" href="#cut-action"></a></h3>
        <div class="algorithm" data-algorithm="clipboard-cut-action">
            <p>剪切操作包括以下步骤：</p>
            <ol>
                <li data-md>
                    <p>如果设置了<a data-link-type="dfn" href="#script-triggered" id="ref-for-script-triggered③">脚本触发</a>标志，则
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果未设置<a data-link-type="dfn" href="#script-may-access-clipboard"
                                    id="ref-for-script-may-access-clipboard④">脚本可访问剪贴板</a>标志，则</p>
                            <ol>
                                <li data-md>
                                    <p>从剪切操作返回 false，终止此算法</p>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p><a data-link-type="dfn" href="#fire-a-clipboard-event"
                            id="ref-for-fire-a-clipboard-event⑤">触发一个名为</a> <code
                            class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-cut" id="ref-for-eventdef-globaleventhandlers-cut①⓪">cut</a></code>
                        的剪贴板事件
                    </p>
                </li>
                <li data-md>
                    <p>如果事件未被取消，则</p>
                    <ol>
                        <li data-md>
                            <p>如果在启用了剪切的<a data-link-type="dfn" href="#editable-context"
                                    id="ref-for-editable-context④">可编辑上下文</a>中存在选区，则</p>
                            <ol>
                                <li data-md>
                                    <p>将选定的内容（如有）复制到剪贴板。当选择网页中的内容时，实现<em>应</em>创建备用的 text/html 和 text/plain 剪贴板格式。</p>
                                </li>
                                <li data-md>
                                    <p>从文档中删除选区的内容并折叠选区。</p>
                                </li>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="#fire-a-clipboard-event"
                                            id="ref-for-fire-a-clipboard-event⑥">触发一个名为</a> <code
                                            class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-clipboardchange" id="ref-for-eventdef-globaleventhandlers-clipboardchange④">clipboardchange</a></code>
                                        的剪贴板事件
                                    </p>
                                </li>
                                <li data-md>
                                    <p>将由于修改而应触发的任何事件排队，有关详细信息，请参阅<a
                                            href="#integration-with-other-scripts-and-events">§ 5.3 与其他脚本和事件的集成</a>。</p>
                                </li>
                            </ol>
                        </li>
                        <li data-md>
                            <p>否则，如果没有选区或上下文不可编辑，则</p>
                            <ol>
                                <li data-md>
                                    <p>返回 false</p>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p>否则，如果事件被取消，则</p>
                    <ol>
                        <li data-md>
                            <p>调用<a data-link-type="dfn" href="#write-content-to-the-clipboard"
                                    id="ref-for-write-content-to-the-clipboard①">将内容写入剪贴板</a>算法，
                                传递 <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist②">DataTransferItemList</a></code>
                                列表 <em>items</em>、
                                一个 <em>clear-was-called</em> 标志和一个 <em>types-to-clear</em> 列表。</p>
                        </li>
                        <li data-md>
                            <p><a data-link-type="dfn" href="#fire-a-clipboard-event"
                                    id="ref-for-fire-a-clipboard-event⑦">触发一个名为</a> <code
                                    class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-clipboardchange" id="ref-for-eventdef-globaleventhandlers-clipboardchange⑤">clipboardchange</a></code>
                                的剪贴板事件
                            </p>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p>从剪切操作返回 true</p>
                </li>
            </ol>
        </div>
        <h3 class="heading settled" data-level="8.3" id="paste-action"><span class="secno">8.3. </span><span
                class="content">粘贴操作</span><a class="self-link" href="#paste-action"></a></h3>
        <p>对于粘贴操作，<a data-link-type="dfn" href="#script-may-access-clipboard"
                id="ref-for-script-may-access-clipboard⑤">脚本可访问剪贴板</a>标志取决于实现特定的权限机制，用于确定哪些站点或应用可以从剪贴板读取。当脚本触发粘贴操作时，实现不得在未经用户许可的情况下提供剪贴板内容。如果尚未授予权限，则权限提示必须包括与脚本线程关联的文档的主机名。
        </p>
        <div class="algorithm" data-algorithm="clipboard-paste-action">
            <p>粘贴操作包括以下步骤：</p>
            <ol>
                <li data-md>
                    <p>如果设置了<a data-link-type="dfn" href="#script-triggered" id="ref-for-script-triggered④">脚本触发</a>标志，则
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果未设置<a data-link-type="dfn" href="#script-may-access-clipboard"
                                    id="ref-for-script-may-access-clipboard⑥">脚本可访问剪贴板</a>，则</p>
                            <ol>
                                <li data-md>
                                    <p>从粘贴操作返回 false，终止此算法</p>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p><a href="#fire-a-clipboard-event" id="ref-for-fire-a-clipboard-event⑧">触发一个名为</a>
                        <code
                            class="idl"><a data-link-type="idl" href="#eventdef-globaleventhandlers-paste" id="ref-for-eventdef-globaleventhandlers-paste⑨">paste</a></code>
                        的剪贴板事件
                    </p>
                </li>
                <li data-md>
                    <p>如果事件未被取消，则</p>
                    <ol>
                        <li data-md>
                            <p>如果在启用了粘贴的<a data-link-type="dfn" href="#editable-context"
                                    id="ref-for-editable-context⑤">可编辑上下文</a>中存在选区或光标，则
                            </p>
                            <ol>
                                <li data-md>
                                    <p>将剪贴板上找到的最合适的内容（如有）插入到上下文中。</p>
                                </li>
                                <li data-md>
                                    <p>将由于修改而应触发的任何事件排队，有关详细信息，请参阅<a
                                            href="#integration-with-other-scripts-and-events">§ 5.3 与其他脚本和事件的集成</a>。</p>
                                </li>
                            </ol>
                        </li>
                        <li data-md>
                            <p>否则</p>
                            <ol>
                                <li data-md>
                                    <p>返回 false</p>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p>否则，如果事件被取消</p>
                    <ol>
                        <li data-md>
                            <p>返回 false</p>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p>从操作返回 true</p>
                </li>
            </ol>
        </div>
        <h2 class="heading settled" data-level="9" id="clipboard-permissions"><span class="secno">9. </span><span
                class="content">Permissions API 集成</span><a class="self-link" href="#clipboard-permissions"></a></h2>
        <p><a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[permissions]</a> API
            为网站提供了一种统一的方式来访问<a data-link-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-powerful-feature"
                id="ref-for-dfn-powerful-feature①">强大的功能</a>，例如剪贴板。它允许网站向用户请求权限并查询它们拥有的权限。</p>
        <p>对于剪贴板，定义了一个权限：<dfn class="dfn-paneled idl-code" data-dfn-for="PermissionName" data-dfn-type="enum-value"
                data-export id="dom-permissionname-clipboard-write"><code>"clipboard-write"</code></dfn></p>
        <p class="note" role="note"><span class="marker">注意：</span>剪贴板权限目前仅适用于异步剪贴板 API。
            此规范的未来版本可能会更新以将此权限应用于其他剪贴板交互。</p>
        <p>这些剪贴板权限是<a data-link-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-powerful-feature"
                id="ref-for-dfn-powerful-feature②">强大的功能</a>，与权限相关的算法和类型定义如下：</p>
        <dl>
            <dt data-md><a data-link-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-permission-descriptor-type"
                    id="ref-for-dfn-permission-descriptor-type">权限描述符类型</a>
            </dt>
            <dd data-md>
                <pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clipboardpermissiondescriptor"><code><c- g>ClipboardPermissionDescriptor</c-></code></dfn> : <a data-link-type="idl-name" href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor"><c- n>PermissionDescriptor</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="ClipboardPermissionDescriptor" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-clipboardpermissiondescriptor-allowwithoutgesture"><code><c- g>allowWithoutGesture</c-></code></dfn> = <c- b>false</c->;
};
</pre>
            </dd>
        </dl>
        <p>有 4 个剪贴板权限：</p>
        <ul>
            <li data-md>
                <p>{ name: "clipboard-write", allowWithoutGesture: false }</p>
            </li>
            <li data-md>
                <p>{ name: "clipboard-write", allowWithoutGesture: true }</p>
            </li>
        </ul>
        <p>具有以下关系：</p>
        <ul>
            <li data-md>
                <p><code>{ "clipboard-write" + true }</code> 强于 <code>{ "clipboard-write" + false }</code>
                </p>
            </li>
        </ul>
        <p>虽然用户代理必须支持本规范中描述的 <code
                class="idl"><a data-link-type="idl" href="#dictdef-clipboardpermissiondescriptor" id="ref-for-dictdef-clipboardpermissiondescriptor">ClipboardPermissionDescriptor</a></code>，
            但它们当然保留对默认设置以及如何（或是否）向用户公开这些设置的完全控制权。</p>
        <div class="example" id="example-88786e0d">
            <a class="self-link" href="#example-88786e0d"></a> 一个希望对剪贴板具有单独的用户可设置写入控件并且始终需要用户手势的用户代理将按如下方式处理每个描述符：
            <ul>
                <li data-md>
                    <p><code class="perm">{ "clipboard-write" + false }</code> 公开给用户控制</p>
                </li>
                <li data-md>
                    <p><code class="perm">{ "clipboard-write" + true }</code> 始终是 <code
                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/permissions/#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied">denied</a></code>
                    </p>
                </li>
            </ul>
        </div>
        <h3 class="heading settled" data-level="9.1" id="read-permission"><span class="secno">9.1. </span><span
                class="content">剪贴板读取权限</span><a class="self-link" href="#read-permission"></a></h3>
        <div class="algorithm" data-algorithm="clipboard-read-permission">
            <h4 class="heading settled" data-level="9.1.1" id="h-clipboard-read-permission"><span class="secno">9.1.1.
                </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="check-clipboard-read-permission">检查剪贴板读取权限</dfn></span><a class="self-link"
                    href="#h-clipboard-read-permission"></a></h4>
            <ol>
                <li data-md>
                    <p>如果<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global">相关全局对象</a>的<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">此对象</a>具有<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"
                            id="ref-for-transient-activation">瞬时激活</a>，则令 <var>hasGesture</var> 为 true，否则为 false。</p>
                </li>
                <li data-md>
                    <p>如果 <var>hasGesture</var> 为 true，则：</p>
                    <ol>
                        <li data-md>
                            <p>如果当前脚本是由于用户与用户代理或操作系统创建的“粘贴”元素交互而运行的，则返回 true。</p>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p>返回 false。</p>
                </li>
            </ol>
        </div>
        <h3 class="heading settled" data-level="9.2" id="write-permission"><span class="secno">9.2. </span><span
                class="content">剪贴板写入权限</span><a class="self-link" href="#write-permission"></a></h3>
        <div class="algorithm" data-algorithm="clipboard-write-permission">
            <h4 class="heading settled" data-level="9.2.1" id="h-clipboard-write-permission"><span class="secno">9.2.1.
                </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="check-clipboard-write-permission">检查剪贴板写入权限</dfn></span><a class="self-link"
                    href="#h-clipboard-write-permission"></a></h4>
            <ol>
                <li data-md>
                    <p>令 <var>writeWithoutGesture</var> 为
                        <code>{ name: "clipboard-write", allowWithoutGesture: true }</code> 权限的<a data-link-type="dfn"
                            href="https://www.w3.org/TR/permissions/#dfn-permission-state"
                            id="ref-for-dfn-permission-state">权限状态</a>。
                    </p>
                </li>
                <li data-md>
                    <p>如果 <var>writeWithoutGesture</var> 为 <code
                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted">granted</a></code>，
                        则返回 true。</p>
                </li>
                <li data-md>
                    <p>如果<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global①">相关全局对象</a>的<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">此对象</a>具有<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"
                            id="ref-for-transient-activation①">瞬时激活</a>，则令 <var>hasGesture</var> 为 true，否则为 false。</p>
                </li>
                <li data-md>
                    <p>如果 <var>hasGesture</var> 为 true，则：</p>
                    <ol>
                        <li data-md>
                            <p>如果当前脚本是由于用户与用户代理或操作系统创建的“剪切”或“复制”元素交互而运行的，则令 <var>systemCopy</var> 为 true。</p>
                        </li>
                        <li data-md>
                            <p>如果 <var>systemCopy</var> 为 true，则返回 true。</p>
                        </li>
                        <li data-md>
                            <p>返回<a data-link-type="dfn"
                                    href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use"
                                    id="ref-for-dfn-request-permission-to-use">请求使用权限</a>
                                <code>{ name: "clipboard-write", allowWithoutGesture: false }</code> 权限的结果。
                            </p>
                            <p class="note" role="note"><span class="marker">注意：</span>用户代理可以选择请求一个更强的权限，该权限将隐式更新此权限。
                            </p>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p>返回<a data-link-type="dfn" href="https://www.w3.org/TR/permissions/#dfn-request-permission-to-use"
                            id="ref-for-dfn-request-permission-to-use①">请求使用权限</a>
                        <code>{ name: "clipboard-write", allowWithoutGesture: true }</code> 权限的结果。
                    </p>
                </li>
            </ol>
        </div>
        <h2 class="heading settled" data-level="10" id="security"><span class="secno">10. </span><span
                class="content">安全注意事项</span><a class="self-link" href="#security"></a></h2>
        <p>允许作者更改用户复制的内容，或自动复制从未被选中的内容，以及允许无限制地调用粘贴信息，这些都可能引发各种安全问题。</p>
        <p>一些示例场景包括：</p>
        <ul>
            <li data-md>
                <p>用户选择一个链接并复制它，但一个不同的链接被复制到剪贴板。
                    其影响范围可以从粘贴时的意外结果到企图进行的“网络钓鱼”攻击。</p>
            </li>
            <li data-md>
                <p>（Self-XSS）可以将 Shell 命令或可执行脚本放入剪贴板，意图让用户运行粘贴的内容。</p>
            </li>
            <li data-md>
                <p>可以将特制图像写入剪贴板，以利用核心操作系统图像处理代码中的错误。</p>
            </li>
        </ul>
        <h3 class="heading settled" data-level="10.1" id="pasting-html"><span class="secno">10.1. </span><span
                class="content">粘贴 HTML 和多部分数据</span><a class="self-link" href="#pasting-html"></a>
        </h3>
        <p><em>本节是非规范性的。</em></p>
        <p>粘贴格式化或多部分数据存在某些安全风险。</p>
        <ul>
            <li data-md>
                <p>用户可能在没有意识到隐藏数据存在的情况下粘贴了隐藏数据。例如，如果标记包含
                    &lt;input type="hidden"&gt; 标签或 HTML 注释，就可能发生这种情况。此类隐藏数据可能包含敏感信息。</p>
            </li>
            <li data-md>
                <p>用户可能将恶意 JavaScript 粘贴到受信任的页面中。</p>
            </li>
            <li data-md>
                <p>实现可能会授予脚本访问用户不打算公开的本地文件的权限。</p>
            </li>
        </ul>
        <p>为了确定使用哪些策略，我们考虑的因素有：</p>
        <ul>
            <li data-md>
                <p>被粘贴数据的来源</p>
            </li>
            <li data-md>
                <p>数据子部分（如引用的图像）的来源</p>
            </li>
            <li data-md>
                <p>运行脚本的来源</p>
            </li>
        </ul>
        <p>以下是场景和可能的安全策略概述：</p>
        <table class="simple">
            <tbody>
                <tr>
                    <th>数据来源
                    </th>
                    <th>脚本来源
                    </th>
                    <th>规则
                    </th>
                </tr>
                <tr>
                    <td rowspan="2">源自在线资源
                    </td>
                    <td>与数据相同
                    </td>
                    <td>不清理 HTML。不访问任何本地文件。
                    </td>
                </tr>
                <tr>
                    <td>不同来源
                    </td>
                    <td>可选地清理内容。不访问任何本地文件。
                    </td>
                </tr>
                <tr>
                    <td>源自本地应用程序
                    </td>
                    <td>任何
                    </td>
                    <td>不清理 HTML。授予对本地文件的访问权限
                    </td>
                </tr>
            </tbody>
        </table>
        <p>一些实现通过在粘贴富文本时默认剥离潜在的恶意内容（例如 SCRIPT 元素和 javascript: 链接）来降低与粘贴富文本相关的风险，但允许粘贴事件处理程序检索和处理原始的、未清理的数据。</p>
        <h3 class="heading settled" data-level="10.2" id="general-security-policies"><span class="secno">10.2.
            </span><span class="content">通用安全策略</span><a class="self-link" href="#general-security-policies"></a></h3>
        <p>实现<em>不得</em>下载引用的在线资源，或在 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files" id="ref-for-dom-datatransfer-files①">files</a></code>
            列表或 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist③">DataTransferItemList</a></code>
            中公开其内容。
        </p>
        <p>如果剪贴板上的数据不是来自本地应用程序，则实现<em>不得</em>授予对任何引用的本地文件的访问权限。例如，如果数据包含
            &lt;img src="file://localhost/example.jpg"&gt;
            但数据的来源是在线资源，则实现不得将 example.jpg 的条目添加到 clipboardData.items 列表中。</p>
        <h3 class="heading settled" data-level="10.3" id="image-transcode"><span class="secno">10.3. </span><span
                class="content">转码图像</span><a class="self-link" href="#image-transcode"></a></h3>
        <p>为防止恶意图像数据被放置在剪贴板上，可以对图像数据进行转码以生成图像的安全版本。这可以防止网站试图利用其他应用程序中的安全漏洞。</p>
        <p>实现不应转码从剪贴板读取的图像。转码图像可能会丢失重要的元数据（例如图像的物理分辨率）。
            这也与可以与网站共享图像的其他方法（例如 `&lt;input type=file&gt;`）一致。</p>
        <h3 class="heading settled" data-level="10.4" id="nuisances"><span class="secno">10.4. </span><span
                class="content">滋扰注意事项</span><a class="self-link" href="#nuisances"></a></h3>
        <p>脚本可以使用 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑥">DataTransfer</a></code>
            API 通过更改复制和剪切事件中系统剪贴板上的数据来骚扰和迷惑用户。本规范不试图阻止此类滋扰，但实现可能会添加额外的限制。</p>
        <p>实现必须妥善处理试图在剪贴板上放置过多数据的脚本。</p>
        <h2 class="heading settled" data-level="11" id="privacy"><span class="secno">11. </span><span
                class="content">隐私注意事项</span><a class="self-link" href="#privacy"></a></h2>
        <p>由于这些 API 提供了对用户剪贴板数据的访问权限，因此存在严重的隐私问题，因为剪贴板可能包含个人身份信息 (PII)，例如姓名、地址或密码。</p>
        <p>通常，用户代理<em>必须</em>确保不受信任的脚本无法通过这些 API 不受控制地访问用户的剪贴板数据。</p>
        <h3 class="heading settled" data-level="11.1" id="privacy-events"><span class="secno">11.1. </span><span
                class="content">隐私和剪贴板事件 API</span><a class="self-link" href="#privacy-events"></a></h3>
        <p>剪贴板事件 API 允许在剪贴板事件处理程序上下文中运行的脚本访问系统剪贴板的副本，并可能修改写入剪贴板的数据。</p>
        <p>用户代理应注意以下有关保护剪贴板事件 API 访问的数据的要求：</p>
        <ul>
            <li data-md>
                <p>实现 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑦">DataTransfer</a></code>
                    接口以返回剪贴板数据的对象<em>不得</em>在提供数据的 ClipboardEvent 事件处理程序之外可用。</p>
            </li>
            <li data-md>
                <p>如果脚本存储对实现 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑧">DataTransfer</a></code>
                    接口的对象的引用，以便在 ClipboardEvent 事件处理程序之外使用，则在预期上下文之外调用时，所有方法<em>必须</em>为空操作。</p>
            </li>
            <li data-md>
                <p>实现<em>不得</em>让脚本创建合成剪贴板事件以获取对真实剪贴板数据的访问权限（除非用户已配置为这样做）。</p>
            </li>
        </ul>
        <p>尽管剪贴板事件 API 不受剪贴板权限的保护，但用户代理可以选择提供一种方法，让用户禁用此 API 或配置允许哪些站点访问它。</p>
        <h3 class="heading settled" data-level="11.2" id="privacy-async"><span class="secno">11.2. </span><span
                class="content">隐私和异步剪贴板 API</span><a class="self-link" href="#privacy-async"></a></h3>
        <p>异步剪贴板 API 是一项强大的功能，因为它允许从任何脚本访问剪贴板数据（访问不限于剪贴板事件处理程序），并且可以在没有用户提供手势的情况下访问数据。</p>
        <p>为帮助防止滥用，此 API <em>不得</em>可用，除非脚本在<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps"
                id="ref-for-has-focus-steps">具有焦点</a>的文档上下文中执行。</p>
        <h4 class="heading settled" data-level="11.2.1" id="privacy-permission"><span class="secno">11.2.1. </span><span
                class="content">隐私和剪贴板权限</span><a class="self-link" href="#privacy-permission"></a></h4>
        <p>剪贴板权限控制对此 API 的访问，但用户代理可以选择权限默认值以及用户可以设置哪些权限设置。例如，用户代理可以选择仅在存在用户手势时才允许访问异步剪贴板 API，并始终拒绝脚本在没有手势的情况下访问的请求。</p>
        <p>用户代理可以选择让此权限在用户授予权限后的某个时间自动过期，例如，通过让权限过期：</p>
        <ul>
            <li data-md>
                <p>首次授予权限后的一段时间</p>
            </li>
            <li data-md>
                <p>用户上次访问站点后的一段时间</p>
            </li>
            <li data-md>
                <p>当用户离开页面时</p>
            </li>
        </ul>
        <h3 class="heading settled" data-level="11.3" id="privacy-other"><span class="secno">11.3. </span><span
                class="content">其他隐私问题</span><a class="self-link" href="#privacy-other"></a></h3>
        <p>如果用户代理允许使用 <code>document.execCommand("paste")</code> 读取剪贴板数据，则用户代理<em>必须</em>确保用户已明确允许进行该访问。</p>
        <h2 class="heading settled" data-level="12" id="acknowledge"><span class="secno">12. </span><span
                class="content">致谢</span><a class="self-link" href="#acknowledge"></a></h2>
        <p><em>本节为非规范性内容</em></p>
        <p>编辑们感谢前任编辑们所做的贡献，他们帮助本规范经历了各种会议和邮件列表讨论，使其达到目前的状态。</p>
        <ul>
            <li data-md>
                <p>Hallvord R. M. Steen</p>
            </li>
        </ul>
        <p>编辑们也感谢微软的 Data Transfer 功能文档 <a data-link-type="biblio" href="#biblio-microsoft-clip-op"
                title="关于 DHTML 数据传输。微软开发者网络。">[MICROSOFT-CLIP-OP]</a> 以及 <a data-link-type="biblio"
                href="#biblio-html5" title="HTML5">[HTML5]</a> 规范的早期草案在知识上的启发。
            我们也感谢 Paul Libbrecht 提供的“安全复制和粘贴”草案（此草案已无法在网络上找到）。</p>
        <p>最后，我们要感谢以下人员所做的贡献：</p>
        <p>Adam Barth,
            Shawn Carnell,
            Daniel Cheng,
            Daniel Dardailler,
            Domenic Denicola,
            Al Gilman,
            James Graham,
            James Greene,
            Ian Hickson,
            Darwin Huang,
            Lachlan Hunt,
            Philip Jägenstedt,
            Anne van Kesteren,
            Marijn Kruisselbrink,
            Aaron Leventhal,
            Jim Ley,
            Paul Libbrecht,
            "Martijn",
            Glenn Maynard,
            Chris Mills,
            ms2ger,
            Ryosuke Niwa,
            Robert O’Callahan,
            Dave Poehlman,
            "ROBO Design",
            Janina Sajka,
            Rich Schwerdtfeger,
            Jonas Sicking,
            Maciej Stachowiak,
            Mihai Sucan,
            Dmitry Titov,
            Ojan Vafai,
            Tarquin Wilton-Jones,
            Tom Wlodkowski,
            Bo Cupp,
            mbrodesser
            和 Boris Zbarsky。</p>
        <h2 class="heading settled" id="algorithms"><span class="content">附录 A：算法</span><a class="self-link"
                href="#algorithms"></a></h2>
        <div class="algorithm" data-algorithm="write-content-to-clipboard">
            <h3 class="heading settled" id="to-write-content-to-clipboard"><span class="content"><dfn
                        class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="write-content-to-the-clipboard">将内容写入剪贴板</dfn></span><a class="self-link"
                    href="#to-write-content-to-clipboard"></a></h3>
            <dl>
                <dt data-md>输入
                </dt>
                <dd data-md>
                    <p><var>items</var>，一个要写入的项目的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist④">DataTransferItemList</a></code>
                        列表</p>
                </dd>
                <dd data-md>
                    <p><var>clear-was-called</var>，一个布尔值</p>
                </dd>
                <dd data-md>
                    <p><var>types-to-clear</var>，一个列表</p>
                </dd>
                <dt data-md>输出
                </dt>
                <dd data-md>
                    <p>无</p>
                </dd>
            </dl>
            <ol>
                <li data-md>
                    <p>如果 <var>items</var> 列表不为空，则</p>
                    <ol>
                        <li data-md>
                            <p>清除剪贴板</p>
                        </li>
                        <li data-md>
                            <p>对于列表中的每个部分，</p>
                            <ol>
                                <li data-md>
                                    <p>如果数据类型是 <i>text/plain</i>，则</p>
                                    <ol>
                                        <li data-md>
                                            <p>确保编码根据操作系统和区域设置约定是正确的</p>
                                        </li>
                                        <li data-md>
                                            <p>根据平台约定规范化行尾</p>
                                        </li>
                                        <li data-md>
                                            <p>使用适当的操作系统剪贴板格式描述将文本放置在剪贴板上</p>
                                        </li>
                                    </ol>
                                </li>
                                <li data-md>
                                    <p>否则，如果数据类型是<a data-link-type="dfn" href="#mandatory-data-types"
                                            id="ref-for-mandatory-data-types④">强制数据类型</a>列表中列出的类型，则</p>
                                    <ol>
                                        <li data-md>
                                            <p>使用适当的操作系统剪贴板格式描述将部分放置在剪贴板上</p>
                                        </li>
                                    </ol>
                                </li>
                                <li data-md>
                                    <p>否则</p>
                                    <ol>
                                        <li data-md>
                                            <p>这留给实现...</p>
                                            <p class="issue" id="issue-77e1973e"><a class="self-link"
                                                    href="#issue-77e1973e"></a> 将事情留给实现是不好的。这里应该发生什么？</p>
                                            <p class="note" role="note"><span
                                                    class="marker">注意：</span>由于操作系统剪贴板实现的限制，脚本不应假定自定义格式可用于系统上的其他应用程序。例如，在
                                                Microsoft Windows 中可以注册的自定义剪贴板格式数量有限。虽然可以为 <a
                                                    data-link-type="functionish"
                                                    href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata"
                                                    id="ref-for-dom-datatransfer-setdata①">setData()</a> 的 type
                                                参数使用任何字符串，但强烈建议坚持使用<a data-link-type="dfn" href="#mandatory-data-types"
                                                    id="ref-for-mandatory-data-types⑤">强制数据类型</a>。</p>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li data-md>
                    <p>否则，<var>items</var> 列表为空。按照以下步骤确定是否清除剪贴板：</p>
                    <ol>
                        <li data-md>
                            <p>如果项目列表为空且 <var>clear-was-called</var> 标志为 <i>true</i>，则</p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>types-to-clear</var> 列表为空，则</p>
                                    <ol>
                                        <li data-md>
                                            <p>清除剪贴板</p>
                                        </li>
                                    </ol>
                                </li>
                                <li data-md>
                                    <p>否则</p>
                                    <ol>
                                        <li data-md>
                                            <p>以操作系统和实现特定的方式从剪贴板中删除 <var>types-to-clear</var> 列表中的类型</p>
                                            <p class="issue" id="issue-0a3703dc"><a class="self-link"
                                                    href="#issue-0a3703dc"></a>
                                                “从剪贴板中删除特定类型”功能存在风险。它似乎并不那么重要，而且尚不清楚它是否可以在相关平台上轻松实现。</p>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="write-blobs-to-clipboard">
            <h3 class="heading settled" id="to-write-blobs-to-clipboard"><span class="content"><dfn class="dfn-paneled"
                        data-dfn-type="dfn" data-noexport id="write-blobs-and-option-to-the-clipboard">将 blob
                        和选项写入剪贴板</dfn></span><a class="self-link" href="#to-write-blobs-to-clipboard"></a></h3>
            <dl>
                <dt data-md="">输入
                </dt>
                <dd data-md="">
                    <p><var>items</var>，一个 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"
                            id="ref-for-idl-sequence⑨">序列</a>&lt;<code
                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①②">Blob</a></code>&gt;
                    </p>
                </dd>
                <dd data-md="">
                    <p><var>presentationStyle</var>，一个<a data-link-type="dfn" href="#clipboarditem-clipboard-item"
                            id="ref-for-clipboarditem-clipboard-item⑧">剪贴板项目</a>的<a data-link-type="dfn"
                            href="#presentation-style" id="ref-for-presentation-style③">表示样式</a></p>
                </dd>
                <dt data-md="">输出
                </dt>
                <dd data-md="">
                    <p>无</p>
                </dd>
            </dl>
            <ol>
                <li data-md="">
                    <p>令 <var>webCustomFormats</var> 为一个 <a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#idl-sequence"
                            id="ref-for-idl-sequence①⓪">序列</a>&lt;<code
                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①③">Blob</a></code>&gt;。
                    </p>
                </li>
                <li data-md="">
                    <p>对于 <var>items</var> 中的每个 <var>item</var>：</p>
                    <ol>
                        <li data-md="">
                            <p>令 <var>formatString</var> 为运行<a data-link-type="dfn"
                                    href="#os-specific-well-known-format"
                                    id="ref-for-os-specific-well-known-format">特定于操作系统的已知格式</a>的结果，给定 <var>item</var> 的
                                <code
                                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type④">type</a></code>。
                            </p>
                        </li>
                        <li data-md="">
                            <p>如果 <var>formatString</var> 为空，则执行以下步骤：</p>
                            <ol>
                                <li data-md="">
                                    <p>令 <var>webCustomFormatString</var> 为 <var>item</var> 的 <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type⑤">type</a></code>。
                                    </p>
                                </li>
                                <li data-md="">
                                    <p>令 <var>webCustomFormat</var> 为一个空的 <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type⑥">type</a></code>。
                                    </p>
                                </li>
                                <li data-md="">
                                    <p>如果 <var>webCustomFormatString</var> <a data-link-type="dfn"
                                            href="https://infra.spec.whatwg.org/#string-starts-with"
                                            id="ref-for-string-starts-with③">以</a> `"web "` 前缀开头，则移除 `"web "`
                                        前缀并将剩余字符串存储在 <var>webMimeTypeString</var> 中。
                                    </p>
                                </li>
                                <li data-md="">
                                    <p>令 <var>webMimeType</var> 为<a data-link-type="dfn"
                                            href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type"
                                            id="ref-for-parse-a-mime-type③">解析 MIME 类型</a>的结果，给定
                                        <var>webMimeTypeString</var>。
                                    </p>
                                </li>
                                <li data-md="">
                                    <p>如果 <var>webMimeType</var> 失败，则中止所有步骤。</p>
                                </li>
                                <li data-md="">
                                    <p>令 <var>webCustomFormat</var> 的 <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type⑦">type</a></code>
                                        的
                                        <a data-link-type="dfn"
                                            href="https://mimesniff.spec.whatwg.org/#mime-type-essence"
                                            id="ref-for-mime-type-essence①">本质</a>等于 <var>webMimeType</var>。
                                    </p>
                                </li>
                                <li data-md="">
                                    <p>将 <var>item</var> 的 <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type⑧">type</a></code>
                                        设置为 <var>webCustomFormat</var>。</p>
                                </li>
                                <li data-md="">
                                    <p>将 <var>webCustomFormat</var> 附加到 <var>webCustomFormats</var>。</p>
                                </li>
                            </ol>
                        </li>
                        <li data-md="">
                            <p>令 <var>payload</var> 为<a data-link-type="dfn"
                                    href="https://encoding.spec.whatwg.org/#utf-8-decode"
                                    id="ref-for-utf-8-decode①">UTF-8 解码</a> <var>item</var> 的底层字节序列的结果。</p>
                        </li>
                        <li data-md="">
                            <p>使用 <var>formatString</var> 作为本机剪贴板格式，将 <var>payload</var> 和 <var>presentationStyle</var>
                                插入到<a data-link-type="dfn" href="#system-clipboard"
                                    id="ref-for-system-clipboard①⑥">系统剪贴板</a>中。</p>
                        </li>
                    </ol>
                    <p class="issue" id="issue-3887584b"><a class="self-link" href="#issue-3887584b"></a>
                        某些操作系统包含多个剪贴板（例如 Linux 中的“primary”、“secondary”、“selection”）。定义数据写入到其中的哪一个。</p>
                </li>
                <li data-md="">
                    <p>给定 <var>webCustomFormats</var>，<a data-link-type="dfn" href="#write-web-custom-formats"
                            id="ref-for-write-web-custom-formats">写入 Web 自定义格式</a>。
                    </p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="os-specific-well-known-format">
            <h3 class="heading settled" id="to-os-specific-well-known-format"><span class="content"><dfn
                        class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="os-specific-well-known-format">特定于操作系统的已知格式</dfn></span><a class="self-link"
                    href="#to-os-specific-well-known-format"></a></h3>
            <dl>
                <dt data-md="">输入
                </dt>
                <dd data-md="">
                    <p><var>mimeType</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type⑨">type</a></code>
                    </p>
                </dd>
                <dt data-md="">输出
                </dt>
                <dd data-md="">
                    <p><var>wellKnownFormat</var>，一个平台特定的字符串类型。在 Mac 上是 NSPasteboardType，在 Windows 上是 LPCWSTR，在 Linux 上是
                        const char*。</p>
                </dd>
            </dl>
            <p class="note" role="note"> 对于 Windows，请参阅
                https://docs.microsoft.com/en-us/windows/win32/dataxchg/standard-clipboard-formats 和
                https://docs.microsoft.com/en-us/windows/win32/dataxchg/about-atom-tables?redirectedfrom=MSDN
                对于 Mac，请参阅 https://developer.apple.com/documentation/appkit/nspasteboardtype </p>
            <ol>
                <li data-md="">
                    <p>令 <var>wellKnownFormat</var> 为一个空字符串。</p>
                </li>
                <li data-md="">
                    <p>如果 <var>mimeType</var> 的<a data-link-type="dfn"
                            href="https://mimesniff.spec.whatwg.org/#mime-type-essence"
                            id="ref-for-mime-type-essence②">本质</a>是 "text/plain"，则</p>
                    <p>在 Windows 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 CF_UNICODETEXT 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                    <p>在 MacOS 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 NSPasteboardTypeString 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                    <p>在 Linux、ChromeOS 和 Android 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 "text/plain" 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                </li>
                <li data-md="">
                    <p>否则，如果 <var>mimeType</var> 的<a data-link-type="dfn"
                            href="https://mimesniff.spec.whatwg.org/#mime-type-essence"
                            id="ref-for-mime-type-essence③">本质</a>是 "text/html"，则</p>
                    <p>在 Windows 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 CF_HTML 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                    <p>在 MacOS 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 NSPasteboardTypeHTML 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                    <p>在 Linux、ChromeOS 和 Android 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 "text/html" 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                </li>
                <li data-md="">
                    <p>否则，如果 <var>mimeType</var> 的<a data-link-type="dfn"
                            href="https://mimesniff.spec.whatwg.org/#mime-type-essence"
                            id="ref-for-mime-type-essence④">本质</a>是 "image/png"，则</p>
                    <p>在 Windows 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 "PNG" 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                    <p>在 MacOS 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 NSPasteboardTypePNG 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                    <p>在 Linux、ChromeOS 和 Android 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 "image/png" 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                </li>
                <li data-md="">
                    <p>Else, if <var>mimeType</var>’s <a data-link-type="dfn"
                            href="https://mimesniff.spec.whatwg.org/#mime-type-essence"
                            id="ref-for-mime-type-essence⑤">essence</a> is "image/svg+xml", then</p>
                    <p>在 Windows 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 CFSTR_MIME_SVG_XML 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                    <p>在 MacOS 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 UTTypeSVG 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                    <p>在 Linux、ChromeOS 和 Android 上，遵循以下描述的约定：</p>
                    <ol>
                        <li data-md="">
                            <p>将 "image/svg+xml" 分配给 <var>wellKnownFormat</var>。</p>
                        </li>
                    </ol>
                </li>
                <li data-md="">
                    <p>返回 <var>wellKnownFormat</var>。</p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="well-known-mime-type-from-os-specific-format">
            <h3 class="heading settled" id="to-well-known-mime-type-from-os-specific-format"><span class="content"><dfn
                        class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="well-known-mime-type-from-os-specific-format">从特定于操作系统的格式获取已知 MIME 类型</dfn></span><a
                    class="self-link" href="#to-well-known-mime-type-from-os-specific-format"></a></h3>
            <dl>
                <dt data-md="">输入
                </dt>
                <dd data-md="">
                    <p><var>osFormatName</var>，一个平台特定的字符串类型。在 Mac 上是 NSPasteboardType，在 Windows 上是 LPCWSTR，在 Linux 上是
                        const char*。</p>
                </dd>
                <dt data-md="">输出
                </dt>
                <dd data-md="">
                    <p><var>mimeType</var>，一个 <a data-link-type="dfn"
                            href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type③">MIME 类型</a>
                    </p>
                </dd>
            </dl>
            <p class="note" role="note"> 对于 Windows，请参阅
                https://docs.microsoft.com/en-us/windows/win32/dataxchg/standard-clipboard-formats 和
                https://docs.microsoft.com/en-us/windows/win32/dataxchg/about-atom-tables?redirectedfrom=MSDN
                对于 Mac，请参阅 https://developer.apple.com/documentation/appkit/nspasteboardtype </p>
            <p>在 Windows 上，遵循以下描述的约定：</p>
            <ol>
                <li data-md="">
                    <p>如果 <var>osFormatName</var> 是 "UnicodeText"，则将 <var>mimeTypeString</var> 设置为 "text/plain"。</p>
                </li>
                <li data-md="">
                    <p>否则，如果 <var>osFormatName</var> 是 "HTML Format"，则将 <var>mimeTypeString</var> 设置为 "text/html"。</p>
                </li>
                <li data-md="">
                    <p>否则，如果 <var>osFormatName</var> 是 "PNG"，则将 <var>mimeTypeString</var> 设置为 "image/png"。</p>
                </li>
                <li data-md="">
                    <p>否则，如果 <var>osFormatName</var> 是 CFSTR_MIME_SVG_XML，则将 <var>mimeTypeString</var> 设置为
                        "image/svg+xml"。</p>
                </li>
            </ol>
            <p>在 MacOS 上，遵循以下描述的约定：</p>
            <ol>
                <li data-md="">
                    <p>如果 <var>osFormatName</var> 是 NSPasteboardTypeString，则将 <var>mimeTypeString</var> 设置为
                        "text/plain"。</p>
                </li>
                <li data-md="">
                    <p>否则，如果 <var>osFormatName</var> 是 NSPasteboardTypeHTML，则将 <var>mimeTypeString</var> 设置为
                        "text/html"。</p>
                </li>
                <li data-md="">
                    <p>否则，如果 <var>osFormatName</var> 是 NSPasteboardTypePNG，则将 <var>mimeTypeString</var> 设置为 "image/png"。
                    </p>
                </li>
                <li data-md="">
                    <p>否则，如果 <var>osFormatName</var> 是 UTTypeSVG，则将 <var>mimeTypeString</var> 设置为 "image/svg+xml"。</p>
                </li>
            </ol>
            <p>在 Linux、ChromeOS 和 Android 上，遵循以下描述的约定：</p>
            <ol>
                <li data-md="">
                    <p>如果 <var>osFormatName</var> 是 "text/plain"，则将 <var>mimeTypeString</var> 设置为 "text/plain"。
                    </p>
                </li>
                <li data-md="">
                    <p>否则，如果 <var>osFormatName</var> 是 "text/html"，则将 <var>mimeTypeString</var> 设置为 "text/html"。
                    </p>
                </li>
                <li data-md="">
                    <p>否则，如果 <var>osFormatName</var> 是 "image/png"，则将 <var>mimeTypeString</var> 设置为 "image/png"。
                    </p>
                </li>
                <li data-md="">
                    <p>否则，如果 <var>osFormatName</var> 是 "image/svg+xml"，则将 <var>mimeTypeString</var> 设置为 "image/svg+xml"。
                    </p>
                </li>
            </ol>
            <ol>
                <li data-md="">
                    <p>令 <var>mimeType</var> 为<a data-link-type="dfn"
                            href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type"
                            id="ref-for-parse-a-mime-type④">解析 MIME 类型</a>的结果，给定 <var>mimeTypeString</var>。</p>
                </li>
                <li data-md="">
                    <p>返回 <var>mimeType</var>。</p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="read-web-custom-format">
            <h3 class="heading settled" id="to-read-web-custom-format"><span class="content"><dfn class="dfn-paneled"
                        data-dfn-type="dfn" data-noexport id="read-web-custom-format">读取 Web 自定义格式</dfn></span><a
                    class="self-link" href="#to-read-web-custom-format"></a></h3>
            <dl>
                <dt data-md="">输入
                </dt>
                <dd data-md="">
                    <p><var>item</var>，一个<a data-link-type="dfn" href="#clipboard-item"
                            id="ref-for-clipboard-item②⑧">剪贴板项目</a></p>
                </dd>
            </dl>
            <ol>
                <li data-md="">
                    <p>令 <var>webCustomFormatMap</var> 为<a data-link-type="dfn" href="#os-specific-custom-map-name"
                            id="ref-for-os-specific-custom-map-name">特定于操作系统的自定义映射名称</a>。</p>
                </li>
                <li data-md="">
                    <p>从<a data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard①⑦">系统剪贴板</a>读取
                        <var>webCustomFormatMap</var>。
                    </p>
                    <p class="issue" id="issue-97db4b5a"><a class="self-link" href="#issue-97db4b5a"></a> 更详细地说明读取
                        <var>webCustomFormatMap</var> 的过程。
                    </p>
                </li>
                <li data-md="">
                    <p>如果 <var>webCustomFormatMap</var> 为空，则返回 <var>item</var>。</p>
                </li>
                <li data-md="">
                    <p>令 <var>webCustomFormatMapString</var> 为从 <var>webCustomFormatMap</var> 反序列化得到的 JSON 字符串。
                    </p>
                    <p class="note" role="note"><span class="marker">注意：</span>需要一个 JSON 读取器来从
                        <var>webCustomFormatMap</var> 反序列化内容。
                    </p>
                </li>
                <li data-md="">
                    <p>对于 <var>webCustomFormatMapString</var> 中的每个 (<var>key</var>, <var>value</var>)：</p>
                    <ol>
                        <li data-md="">
                            <p>令 <var>mimeType</var> 为给定 <var>key</var> <a data-link-type="dfn"
                                    href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type"
                                    id="ref-for-parse-a-mime-type⑤">解析 MIME 类型</a>的结果。</p>
                        </li>
                        <li data-md="">
                            <p>如果 <var>mimeType</var> 解析失败，则继续循环。</p>
                        </li>
                        <li data-md="">
                            <p>令 <var>representation</var> 为一个新的<a data-link-type="dfn" href="#representation"
                                    id="ref-for-representation⑧">表示</a>。</p>
                        </li>
                        <li data-md="">
                            <p>将 <var>representation</var> 的<a data-link-type="dfn" href="#representation-mime-type"
                                    id="ref-for-representation-mime-type①⑥">MIME 类型</a>设置为 <var>mimeType</var>。</p>
                        </li>
                        <li data-md="">
                            <p>将 <var>representation</var> 的<a data-link-type="dfn" href="#representation-iscustom"
                                    id="ref-for-representation-iscustom③">isCustom</a> 标志设置为 <var>true</var>。</p>
                        </li>
                        <li data-md="">
                            <p>给定 <var>value</var>，从<a data-link-type="dfn" href="#system-clipboard"
                                    id="ref-for-system-clipboard①⑧">系统剪贴板</a>读取 <var>webCustomFormat</var>。</p>
                        </li>
                        <li data-md="">
                            <p>如果读取成功，则将 <var>representation</var> 的<a data-link-type="dfn" href="#representation-data"
                                    id="ref-for-representation-data⑥">数据</a>设置为从<a data-link-type="dfn"
                                    href="#system-clipboard" id="ref-for-system-clipboard①⑨">系统剪贴板</a>获取的数据，否则继续循环。</p>
                        </li>
                        <li data-md="">
                            <p>将 <var>representation</var> 附加到 <var>item</var> 的<a data-link-type="dfn"
                                    href="#list-of-representations" id="ref-for-list-of-representations⑧">表示列表</a>。</p>
                        </li>
                    </ol>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="write-web-custom-format">
            <h3 class="heading settled" id="to-write-web-custom-formats"><span class="content"><dfn class="dfn-paneled"
                        data-dfn-type="dfn" data-noexport id="write-web-custom-formats">写入 Web 自定义格式</dfn></span><a
                    class="self-link" href="#to-write-web-custom-formats"></a></h3>
            <dl>
                <dt data-md="">输入
                </dt>
                <dd data-md="">
                    <p><var>items</var>，一个 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"
                            id="ref-for-idl-sequence①①">序列</a>&lt;<code
                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob①④">Blob</a></code>&gt;
                    </p>
                </dd>
            </dl>
            <ol>
                <li data-md="">
                    <p>令 <var>idx</var> 为一个初始化为 0 的数字。</p>
                </li>
                <li data-md="">
                    <p>令 <var>webCustomFormatMap</var> 为<a data-link-type="dfn" href="#os-specific-custom-map-name"
                            id="ref-for-os-specific-custom-map-name①">特定于操作系统的自定义映射名称</a>。</p>
                </li>
                <li data-md="">
                    <p>令 <var>webCustomFormatMapString</var> 为一个空的 JSON 字符串。</p>
                </li>
                <li data-md="">
                    <p>对于 <var>items</var> 中的每个 <var>item</var>：</p>
                    <ol>
                        <li data-md="">
                            <p>令 <var>webCustomFormat</var> 为<a data-link-type="dfn" href="#os-specific-custom-name"
                                    id="ref-for-os-specific-custom-name">特定于操作系统的自定义名称</a>。</p>
                        </li>
                        <li data-md="">
                            <p>令 <var>webCustomFormatIdx</var> 为将 <var>idx</var> 附加到 <var>webCustomFormat</var> 的结果。
                            </p>
                        </li>
                        <li data-md="">
                            <p>使用 JSON 序列化器将 <var>item</var> 的 <code
                                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-type" id="ref-for-dfn-type①⓪">type</a></code>
                                作为键，<var>webCustomFormatIdx</var> 作为值插入到 <var>webCustomFormatMapString</var> 中。
                            </p>
                            <p class="note" role="note"><span class="marker">注意：</span>需要一个 JSON 写入器将内容序列化到
                                <var>webCustomFormatMapString</var> 中。
                            </p>
                        </li>
                        <li data-md="">
                            <p>使用 <var>webCustomFormatIdx</var> 作为格式，将 <var>item</var> 插入到<a data-link-type="dfn"
                                    href="#system-clipboard" id="ref-for-system-clipboard②⓪">系统剪贴板</a>中。
                            </p>
                        </li>
                        <li data-md="">
                            <p>递增 <var>idx</var>。</p>
                        </li>
                        <li data-md="">
                            <p>如果 <var>idx</var> 大于 100，则跳出此循环。</p>
                        </li>
                    </ol>
                </li>
                <li data-md="">
                    <p>使用 <var>webCustomFormatMap</var> 作为格式，将 <var>webCustomFormatMapString</var> 插入到<a
                            data-link-type="dfn" href="#system-clipboard" id="ref-for-system-clipboard②①">系统剪贴板</a>中。
                    </p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="os-specific-custom-map-name">
            <h3 class="heading settled" id="to-os-specific-custom-map-name"><span class="content"><dfn
                        class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="os-specific-custom-map-name">特定于操作系统的自定义映射名称</dfn></span><a class="self-link"
                    href="#to-os-specific-custom-map-name"></a></h3>
            <dl>
                <dt data-md="">输出
                </dt>
                <dd data-md="">
                    <p><var>webCustomFormatMap</var>，一个字符串</p>
                </dd>
            </dl>
            <p>在 Windows 上，遵循以下描述的约定：</p>
            <ol>
                <li data-md="">
                    <p>将 "Web Custom Format Map" 分配给 <var>webCustomFormatMap</var>。</p>
                </li>
                <li data-md="">
                    <p>返回 <var>webCustomFormatMap</var>。</p>
                </li>
            </ol>
            <p>在 MacOS 上，遵循以下描述的约定：</p>
            <ol>
                <li data-md="">
                    <p>将 "org.w3.web-custom-format.map" 分配给 <var>webCustomFormatMap</var>。</p>
                </li>
                <li data-md="">
                    <p>返回 <var>webCustomFormatMap</var>。</p>
                </li>
            </ol>
            <p>在 Linux、ChromeOS 和 Android 上，遵循以下描述的约定：</p>
            <ol>
                <li data-md="">
                    <p>将 "application/web;type=\"custom/formatmap\"" 分配给 <var>webCustomFormatMap</var>。</p>
                </li>
                <li data-md="">
                    <p>返回 <var>webCustomFormatMap</var>。</p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="os-specific-custom-name">
            <h3 class="heading settled" id="to-os-specific-custom-name"><span class="content"><dfn class="dfn-paneled"
                        data-dfn-type="dfn" data-noexport id="os-specific-custom-name">特定于操作系统的自定义名称</dfn></span><a
                    class="self-link" href="#to-os-specific-custom-name"></a></h3>
            <dl>
                <dt data-md="">输出
                </dt>
                <dd data-md="">
                    <p><var>webCustomFormat</var>，一个字符串</p>
                </dd>
            </dl>
            <p>在 Windows 上，遵循以下描述的约定：</p>
            <ol>
                <li data-md="">
                    <p>将 "Web Custom Format" 分配给 <var>webCustomFormat</var>。</p>
                </li>
                <li data-md="">
                    <p>返回 <var>webCustomFormat</var>。</p>
                </li>
            </ol>
            <p>在 MacOS 上，遵循以下描述的约定：</p>
            <ol>
                <li data-md="">
                    <p>将 "org.w3.web-custom-format.type-" 分配给 <var>webCustomFormat</var>。</p>
                </li>
                <li data-md="">
                    <p>返回 <var>webCustomFormat</var>。</p>
                </li>
            </ol>
            <p>在 Linux、ChromeOS 和 Android 上，遵循以下描述的约定：</p>
            <ol>
                <li data-md="">
                    <p>将 "application/web;type="custom/format" 分配给 <var>webCustomFormat</var>。</p>
                </li>
                <li data-md="">
                    <p>返回 <var>webCustomFormat</var>。</p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="algo-fire-a-clipboard-event">
            <h3 class="heading settled" id="to-fire-a-clipboard-event"><span class="content"><dfn class="dfn-paneled"
                        data-dfn-type="dfn" data-noexport id="fire-a-clipboard-event">触发剪贴板事件</dfn></span><a
                    class="self-link" href="#to-fire-a-clipboard-event"></a></h3>
            <dl>
                <dt data-md="">输入
                </dt>
                <dd data-md="">
                    <p><var>e</var>，要触发的 <code
                            class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent④">ClipboardEvent</a></code>
                    </p>
                </dd>
                <dt data-md="">输出
                </dt>
                <dd data-md="">
                    <p>无</p>
                </dd>
            </dl>
            <ol>
                <li data-md="">
                    <p>令 <var>clear-was-called</var> 为 <em>false</em></p>
                </li>
                <li data-md="">
                    <p>令 <var>types-to-clear</var> 为一个空列表</p>
                </li>
                <li data-md="">
                    <p>令 <var>clipboard-event-data</var> 为一个新的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer⑨">DataTransfer</a></code>
                        对象，其 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items②">items</a></code>
                        列表为空。</p>
                </li>
                <li data-md="">
                    <p>令 <var>clipboard-entry</var> 为当前剪贴板内容的序列号，如果操作系统剪贴板不支持序列号，则为 null</p>
                </li>
                <li data-md="">
                    <p>如果事件由用户代理生成，则令 <var>trusted</var> 为 <em>true</em>，否则为 <em>false</em></p>
                </li>
                <li data-md="">
                    <p>按如下方式设置 <var>target</var>：</p>
                    <ol>
                        <li data-md="">
                            <p>如果上下文是可编辑的，则</p>
                            <ol>
                                <li data-md="">
                                    <p>将 <var>target</var> 设置为包含文档顺序中可见选区或光标开头的元素，如果没有可见选区或光标，则设置为<a
                                            data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2"
                                            id="ref-for-the-body-element-2">body 元素</a>。</p>
                                </li>
                            </ol>
                        </li>
                        <li data-md="">
                            <p>否则，如果上下文不可编辑，则</p>
                            <ol>
                                <li data-md="">
                                    <p>将 <var>target</var> 设置为焦点节点，如果没有节点具有焦点，则设置为<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2"
                                            id="ref-for-the-body-element-2①">body 元素</a>。</p>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li data-md="">
                    <p>按如下方式处理事件：</p>
                    <ol>
                        <li data-md="">
                            <p>如果 <var>e</var> 是 "paste"，则</p>
                            <ol>
                                <li data-md="">
                                    <p>将 <var>clipboard-event-data</var> 的内部<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode"
                                            id="ref-for-drag-data-store-mode①">拖放数据存储模式</a>标志设置为<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-ro"
                                            id="ref-for-concept-dnd-ro①">只读</a>。</p>
                                </li>
                                <li data-md="">
                                    <p>如果 <var>trusted</var> 为 <em>true</em>，或者实现配置为授予脚本生成的事件对操作系统剪贴板的读取权限</p>
                                    <ol>
                                        <li data-md="">
                                            <p>对于操作系统剪贴板上的每个 <var>clipboard-part</var>，执行以下步骤：</p>
                                            <ol>
                                                <li data-md="">
                                                    <p>如果 <var>clipboard-part</var> 包含纯文本，则</p>
                                                    <ol>
                                                        <li data-md="">
                                                            <p>确保文本使用脚本引擎内部使用的编码</p>
                                                        </li>
                                                        <li data-md="">
                                                            <p>令 <var>new-data</var> 为一个新的 <code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem">DataTransferItem</a></code>，
                                                                其<a data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind"
                                                                    id="ref-for-drag-data-item-kind">拖放数据项种类</a>设置为
                                                                <em>string</em>，<a data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                                                                    id="ref-for-drag-data-item-type-string">拖放数据项类型字符串</a>设置为
                                                                <em>text/plain</em>。
                                                            </p>
                                                        </li>
                                                        <li data-md="">
                                                            <p>将 <var>new-data</var> 的数据设置为纯文本。</p>
                                                        </li>
                                                        <li data-md="">
                                                            <p>将 <var>new-data</var> 添加到 <var>clipboard-event-data</var>
                                                                的 <code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items③">items</a></code>
                                                                中
                                                            </p>
                                                        </li>
                                                    </ol>
                                                </li>
                                                <li data-md="">
                                                    <p>如果 <var>clipboard-part</var> 表示文件引用，则对于每个文件引用：</p>
                                                    <ol>
                                                        <li data-md="">
                                                            <p>确定引用文件的 MIME 类型</p>
                                                        </li>
                                                        <li data-md="">
                                                            <p>令 <var>new-data</var> 为一个新的 <code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem①">DataTransferItem</a></code>，
                                                                其<a data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind"
                                                                    id="ref-for-drag-data-item-kind①">拖放数据项种类</a>设置为
                                                                <em>file</em>，<a data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                                                                    id="ref-for-drag-data-item-type-string①">拖放数据项类型字符串</a>设置为相应的
                                                                MIME 类型，如果文件类型未知，则设置为
                                                                <code>application/octet-stream</code>。
                                                            </p>
                                                        </li>
                                                        <li data-md="">
                                                            <p>将 <var>new-data</var> 的数据设置为文件引用数据。</p>
                                                        </li>
                                                        <li data-md="">
                                                            <p>将 <var>new-data</var> 添加到 <var>clipboard-event-data</var>
                                                                的 <code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items④">items</a></code>
                                                                中
                                                            </p>
                                                        </li>
                                                    </ol>
                                                </li>
                                                <li data-md="">
                                                    <p>如果 <var>clipboard-part</var> 包含 HTML 或 XHTML
                                                        格式的文本（根据操作系统描述此类剪贴板格式的约定），则</p>
                                                    <ol>
                                                        <li data-md="">
                                                            <p>如果实现支持粘贴 HTML，则实现<em>必须</em>通过使用
                                                                <var>clipboard-part</var> 和
                                                                <var>clipboard-event-data</var> 调用<a
                                                                    data-link-type="dfn"
                                                                    href="#process-an-html-paste-event"
                                                                    id="ref-for-process-an-html-paste-event">处理 html
                                                                    粘贴事件</a>来处理标记。
                                                            </p>
                                                        </li>
                                                    </ol>
                                                </li>
                                                <li data-md="">
                                                    <p>如果 <var>clipboard-part</var> 包含其他受支持的二进制或基于文本的格式的数据（请参阅<a
                                                            data-link-type="dfn" href="#mandatory-data-types"
                                                            id="ref-for-mandatory-data-types⑥">强制数据类型</a>），则</p>
                                                    <ol>
                                                        <li data-md="">
                                                            <p>确定数据的 MIME 类型</p>
                                                        </li>
                                                        <li data-md="">
                                                            <p>令 <var>new-data</var> 为一个新的 <code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem②">DataTransferItem</a></code>，
                                                                其<a data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind"
                                                                    id="ref-for-drag-data-item-kind②">拖放数据项种类</a>设置为
                                                                <em>file</em>，<a data-link-type="dfn"
                                                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                                                                    id="ref-for-drag-data-item-type-string②">拖放数据项类型字符串</a>设置为相应的
                                                                MIME 类型
                                                            </p>
                                                        </li>
                                                        <li data-md="">
                                                            <p>将 <var>new-data</var> 的数据设置为二进制或基于文本的数据。</p>
                                                        </li>
                                                        <li data-md="">
                                                            <p>将 <var>new-data</var> 添加到 <var>clipboard-event-data</var>
                                                                的 <code
                                                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑤">items</a></code>
                                                                中
                                                            </p>
                                                        </li>
                                                    </ol>
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                                <li data-md="">
                                    <p>更新 <var>clipboard-event-data</var> 的 <code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files" id="ref-for-dom-datatransfer-files②">files</a></code>
                                        属性以匹配 <var>clipboard-event-data</var> 的 <code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑥">items</a></code>
                                        中的条目。
                                    </p>
                                </li>
                                <li data-md="">
                                    <p>更新 <var>clipboard-event-data</var> 的 <code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-types" id="ref-for-dom-datatransfer-types">types</a></code>
                                        属性以匹配 <var>clipboard-event-data</var> 的 <code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑦">items</a></code>
                                        中的条目。
                                    </p>
                                </li>
                            </ol>
                        </li>
                        <li data-md="">
                            <p>如果 <var>e</var> 是 "copy" 或 "cut"，则</p>
                            <ol>
                                <li data-md="">
                                    <p>将关联的 <code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①⓪">DataTransfer</a></code>
                                        对象的内部<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode"
                                            id="ref-for-drag-data-store-mode②">拖放数据存储模式</a>标志设置为<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-rw"
                                            id="ref-for-concept-dnd-rw">读/写</a></p>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li data-md="">
                    <p>将 <var>e</var> 的 <code
                            class="idl"><a data-link-type="idl" href="#dom-clipboardevent-clipboarddata" id="ref-for-dom-clipboardevent-clipboarddata④">clipboardData</a></code>
                        设置为 <var>clipboard-event-data</var>。</p>
                </li>
                <li data-md="">
                    <p>将 <var>e</var> 的 <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted">isTrusted</a></code>
                        设置为 <var>trusted</var>。</p>
                </li>
                <li data-md="">
                    <p>将 <var>e</var> 的 <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-composed" id="ref-for-dom-event-composed">composed</a></code>
                        设置为 true。</p>
                </li>
                <li data-md="">
                    <p>在 <var>target</var> 处分派事件 <var>e</var>，该事件冒泡且可取消，并使用 <code
                            class="idl"><a data-link-type="idl" href="#clipboardevent" id="ref-for-clipboardevent⑤">ClipboardEvent</a></code>
                        接口。</p>
                    <p>事件分派期间数据访问的实现要求在<a data-link-type="biblio" href="#biblio-html"
                            title="HTML Standard">[HTML]</a>中定义。下面给出了一些额外的剪贴板事件特定处理规则：</p>
                    <p class="issue" id="issue-7d2ab940"><a class="self-link" href="#issue-7d2ab940"></a> 为什么在这里？为什么不在
                        HTML 规范中？</p>
                    <ol>
                        <li data-md="">
                            <p>如果脚本调用 <a data-link-type="functionish"
                                    href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-cleardata"
                                    id="ref-for-dom-datatransfer-cleardata">clearData()</a> 或 <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransferitemlist-clear" id="ref-for-dom-datatransferitemlist-clear">clear()</a></code>
                                并且 <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①①">DataTransfer</a></code>
                                对象的内部<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode"
                                    id="ref-for-drag-data-store-mode③">拖放数据存储模式</a>标志是<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-rw"
                                    id="ref-for-concept-dnd-rw①">读/写</a>，则</p>
                            <ol>
                                <li data-md="">
                                    <p>将 <var>clear-was-called</var> 标志设置为 true。如果给定了参数，则将该参数添加到
                                        <var>types-to-clear</var> 列表中。
                                    </p>
                                </li>
                            </ol>
                        </li>
                        <li data-md="">
                            <p>如果脚本调用 <a data-link-type="functionish"
                                    href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata"
                                    id="ref-for-dom-datatransfer-setdata②">setData()</a> 或修改项目并且
                                <var>clear-was-called</var> 标志为 true，则
                            </p>
                            <ol>
                                <li data-md="">
                                    <p>如果 <var>types-to-clear</var> 列表为空，则</p>
                                    <ol>
                                        <li data-md="">
                                            <p>将 <var>clear-was-called</var> 标志设置为 false，则</p>
                                        </li>
                                    </ol>
                                </li>
                                <li data-md="">
                                    <p>否则，如果 <a data-link-type="functionish"
                                            href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata"
                                            id="ref-for-dom-datatransfer-setdata③">setData()</a> 的 <code>type</code>
                                        参数或新项目的<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                                            id="ref-for-drag-data-item-type-string③">拖放数据项类型字符串</a>在
                                        <var>types-to-clear</var> 列表中找到，则
                                    </p>
                                    <ol>
                                        <li data-md="">
                                            <p>将其从列表中删除。如果列表现在为空，则将 <var>clear-was-called</var> 标志设置为 false。</p>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                        <li data-md="">
                            <p>如果脚本调用 <a data-link-type="functionish"
                                    href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-getdata"
                                    id="ref-for-dom-datatransfer-getdata">getData()</a> 或访问 <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist⑤">DataTransferItemList</a></code>
                                中的项目并且设置了 <var>clipboard-entry</var>，则</p>
                            <ol>
                                <li data-md="">
                                    <p>检查剪贴板数据的序列号是否与 <var>clipboard-entry</var> 匹配。如果剪贴板不再包含相同的条目，则将 <code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist⑥">DataTransferItemList</a></code>
                                        对象的内部<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode"
                                            id="ref-for-drag-data-store-mode④">拖放数据存储模式</a>设置为<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-p"
                                            id="ref-for-concept-dnd-p">受保护</a>。
                                    </p>
                                </li>
                            </ol>
                        </li>
                    </ol>
                    <p><strong class="advisement">
                            警告！监听粘贴事件的恶意脚本可能会设置一个无限循环，以便读取用户将来放置在剪贴板上的内容。在无法使用剪贴板序列号的平台上，应实施其他限制。</strong></p>
                </li>
            </ol>
        </div>
        <div class="algorithm" data-algorithm="process-an-html-paste-event">
            <h3 class="heading settled" id="to-process-html-paste-event"><span class="content"><dfn class="dfn-paneled"
                        data-dfn-type="dfn" data-noexport id="process-an-html-paste-event">处理 HTML 粘贴事件</dfn></span><a
                    class="self-link" href="#to-process-html-paste-event"></a></h3>
            <dl>
                <dt data-md="">输入
                </dt>
                <dd data-md="">
                    <p><var>clipboard-part</var>，要处理的剪贴板部分</p>
                </dd>
                <dd data-md="">
                    <p><var>clipboard-event-data</var>，此事件的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" id="ref-for-datatransfer①②">DataTransfer</a></code>
                        对象</p>
                </dd>
                <dt data-md="">输出
                </dt>
                <dd data-md="">
                    <p>无</p>
                </dd>
            </dl>
            <ol>
                <li data-md="">
                    <p>令 <var>new-data</var> 为一个新的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem③">DataTransferItem</a></code>，
                        其<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind"
                            id="ref-for-drag-data-item-kind③">拖放数据项种类</a>设置为<em>纯 Unicode 字符串</em>，<a
                            data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                            id="ref-for-drag-data-item-type-string④">拖放数据项类型字符串</a>相应地设置为 <em>text/html</em> 或
                        <em>application/xhtml+xml</em>。
                    </p>
                </li>
                <li data-md="">
                    <p>从 <var>clipboard-part</var> 中提取标记，并使用相关的解析器构建 DOM 树。</p>
                </li>
                <li data-md="">
                    <p>如果标记的源 URL 已知，则使用源 URL 作为基础 URL 解析 HREF 和 SRC 属性中的所有相对 URL，并将相应的属性设置为解析后的绝对 URL。</p>
                </li>
                <li data-md="">
                    <p>如果标记的来源是本地应用程序，则检查是否存在对本地文件和/或操作系统剪贴板内容的其他部分的引用。如果找到此类引用，则对子部分的引用<em>必须</em>使用 cid: URL 方案 <a
                            data-link-type="biblio" href="#biblio-rfc2392"
                            title="Content-ID and Message-ID Uniform Resource Locators">[RFC2392]</a> 替换为内容 ID
                        引用。为此，请按照以下步骤处理每个引用本地文件或剪贴板部分的属性：</p>
                    <p class="issue" id="issue-096a5049"><a class="self-link" href="#issue-096a5049"></a>
                        这些步骤是必要的吗？我们是否了解支持具有内部引用的多个部分的本机（平台）剪贴板实现？</p>
                    <p class="issue" id="issue-6be1122f"><a class="self-link" href="#issue-6be1122f"></a>
                        此功能存在风险，因为尚不清楚是否需要它，并且难以进行跨平台测试。</p>
                    <ol>
                        <li data-md="">
                            <p>如果 <var>clipboard-event-data</var> 的 <code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑧">items</a></code>
                                已经包含对引用的文件或剪贴板部分的条目，则</p>
                            <ol>
                                <li data-md="">
                                    <p>将 <var>itemNumber</var> 设置为现有条目的索引。</p>
                                </li>
                            </ol>
                        </li>
                        <li data-md="">
                            <p>否则，</p>
                            <ol>
                                <li data-md="">
                                    <p>令 <var>new-file-data</var> 为一个新的 <code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" id="ref-for-datatransferitem④">DataTransferItem</a></code>，
                                        其<a data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind"
                                            id="ref-for-drag-data-item-kind④">拖放数据项种类</a>设置为 "file"，<a
                                            data-link-type="dfn"
                                            href="https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string"
                                            id="ref-for-drag-data-item-type-string⑤">拖放数据项类型字符串</a>设置为文件或剪贴板部分的 MIME
                                        类型（如果已知），如果文件类型未知，则设置为 <code>application/octet-stream</code>。
                                    </p>
                                </li>
                                <li data-md="">
                                    <p>令 <var>file-info</var> 为一个新的 <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-file" id="ref-for-dfn-file">File</a></code>
                                        对象，其 <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-name" id="ref-for-dfn-name">name</a></code>
                                        设置为 HTML 属性内容的名称部分，<code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-lastModified" id="ref-for-dfn-lastModified">lastModified</a></code>
                                        设置为引用文件的时间戳，如果条目引用剪贴板部分，则设置为 0。</p>
                                </li>
                                <li data-md="">
                                    <p>将 <var>new-file-data</var> 的内部 <code
                                            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-file" id="ref-for-dfn-file①">File</a></code>
                                        对象设置为 <var>file-info</var>。</p>
                                </li>
                                <li data-md="">
                                    <p>将 <var>new-file-data</var> 添加到 <var>clipboard-event-data</var> 的 <code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items⑨">items</a></code>
                                        中，并令 <var>itemNumber</var> 为此条目在 <code
                                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" id="ref-for-datatransferitemlist⑦">DataTransferItemList</a></code>
                                        中的索引。
                                    </p>
                                </li>
                            </ol>
                        </li>
                        <li data-md="">
                            <p>更新引用本地文件或剪贴板部分的 DOM 属性，使其包含字符串 'cid:' 后跟 <var>itemNumber</var>。</p>
                        </li>
                    </ol>
                </li>
                <li data-md="">
                    <p>序列化处理后的 DOM 并使用生成的 HTML 代码更新 <var>new-data</var>。</p>
                </li>
                <li data-md="">
                    <p>将 <var>new-data</var> 添加到 <var>clipboard-event-data</var> 的 <code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" id="ref-for-dom-datatransfer-items①⓪">items</a></code>
                        中。
                    </p>
                </li>
            </ol>
        </div>
    </main>
    <div data-fill-with="conformance">
        <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a
                class="self-link" href="#w3c-conformance"></a></h2>
        <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">文档约定</span><a
                class="self-link" href="#w3c-conventions"></a></h3>
        <p>一致性要求通过描述性断言和 RFC 2119 术语的组合来表达。
            本文档规范部分中的关键词“MUST”、“MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD
            NOT”、“RECOMMENDED”、“MAY”和“OPTIONAL”
            应按照 RFC 2119 中的描述进行解释。
            但是，为了便于阅读，
            这些词在本规范中不大写显示。 </p>
        <p>本规范的所有文本都是规范性的，
            明确标记为非规范性的章节、示例和注释除外。 <a data-link-type="biblio" href="#biblio-rfc2119"
                title="用于 RFC 中表示要求级别的关键词">[RFC2119]</a>
        </p>
        <p>本规范中的示例以“例如”一词开头，
            或者通过 <code>class="example"</code> 与规范性文本分开，
            如下所示： </p>
        <div class="example" id="w3c-example">
            <a class="self-link" href="#w3c-example"></a>
            <p>这是一个信息性示例的例子。 </p>
        </div>
        <p>信息性注释以“注意”一词开头，
            并通过 <code>class="note"</code> 与规范性文本分开，
            如下所示： </p>
        <p class="note" role="note">注意，这是一个信息性注释。</p>
        <section>
            <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span
                    class="content">一致性算法</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
            <p>作为算法一部分以祈使语气表述的要求
                （例如“去除任何前导空格字符”
                或“返回 false 并中止这些步骤”）
                应根据引入算法时使用的关键词
                （“必须”、“应该”、“可以”等）的含义进行解释。 </p>
            <p>以算法或特定步骤形式表述的一致性要求
                可以用任何方式实现，
                只要最终结果等效即可。
                特别是，本规范中定义的算法
                旨在易于理解，
                并非旨在追求高性能。
                鼓励实现者进行优化。 </p>
        </section>
    </div>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#allowed-to-modify-the-clipboard">允许修改剪贴板</a><span>，位于 § 5.3.1</span>
        </li>
        <li><a href="#allowed-to-read-from-clipboard">允许从剪贴板读取</a><span>，位于 § 5.3.2</span>
        </li>
        <li><a href="#dom-clipboardpermissiondescriptor-allowwithoutgesture">allowWithoutGesture</a><span>，位于 § 9</span>
        </li>
        <li><a href="#dom-presentationstyle-attachment">"attachment"</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#check-clipboard-read-permission">检查剪贴板读取权限</a><span>，位于 § 9.1.1</span>
        </li>
        <li><a href="#check-clipboard-write-permission">检查剪贴板写入权限</a><span>，位于 § 9.2.1</span>
        </li>
        <li><a href="#clipboard">剪贴板 (Clipboard)</a><span>，位于 § 7.3</span>
        </li>
        <li>
            剪贴板 (clipboard)
            <ul>
                <li><a href="#dom-navigator-clipboard">Navigator 的属性</a><span>，位于 § 7.1</span>
                </li>
                <li><a href="#navigator-clipboard">Navigator 的 dfn</a><span>，位于 § 7.1.1</span>
                </li>
            </ul>
        </li>
        <li><a href="#eventdef-globaleventhandlers-clipboardchange">clipboardchange</a><span>，位于 § 5.2.1</span>
        </li>
        <li>
            剪贴板数据 (clipboardData)
            <ul>
                <li><a href="#dom-clipboardevent-clipboarddata">ClipboardEvent 的属性</a><span>，位于 § 5.1</span>
                </li>
                <li><a href="#clipboardevent-clipboarddata">ClipboardEvent 的 dfn</a><span>，位于 § 5.1</span>
                </li>
                <li><a href="#clipboardeventinit-clipboarddata">ClipboardEventInit 的 dfn</a><span>，位于 § 5.1</span>
                </li>
                <li><a href="#dom-clipboardeventinit-clipboarddata">ClipboardEventInit 的 dict-member</a><span>，位于 §
                        5.1</span>
                </li>
            </ul>
        </li>
        <li><a href="#clipboardevent">ClipboardEvent</a><span>，位于 § 5.1</span>
        </li>
        <li><a href="#dictdef-clipboardeventinit">ClipboardEventInit</a><span>，位于 § 5.1</span>
        </li>
        <li><a href="#dom-clipboardevent-clipboardevent">ClipboardEvent(type)</a><span>，位于 § 5.1</span>
        </li>
        <li><a href="#dom-clipboardevent-clipboardevent">ClipboardEvent(type, eventInitDict)</a><span>，位于 § 5.1</span>
        </li>
        <li>
            剪贴板项目 (clipboard item)
            <ul>
                <li><a href="#clipboard-item">定义</a><span>，位于 § 7.2</span>
                </li>
                <li><a href="#clipboarditem-clipboard-item">ClipboardItem 的 dfn</a><span>，位于 § 7.2</span>
                </li>
            </ul>
        </li>
        <li><a href="#clipboarditem">ClipboardItem</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#typedefdef-clipboarditemdata">ClipboardItemData</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#dom-clipboarditem-clipboarditem">ClipboardItem(items)</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#dom-clipboarditem-clipboarditem">ClipboardItem(items, options)</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#dictdef-clipboarditemoptions">ClipboardItemOptions</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#clipboard-items">剪贴板项目 (clipboard items)</a><span>，位于 § 7.3</span>
        </li>
        <li><a href="#typedefdef-clipboarditems">ClipboardItems</a><span>，位于 § 7.3</span>
        </li>
        <li><a href="#dictdef-clipboardpermissiondescriptor">ClipboardPermissionDescriptor</a><span>，位于 § 9</span>
        </li>
        <li><a href="#clipboard-task-source">剪贴板任务源</a><span>，位于 § 7.3</span>
        </li>
        <li><a href="#dictdef-clipboardunsanitizedformats">ClipboardUnsanitizedFormats</a><span>，位于 § 7.3</span>
        </li>
        <li><a href="#dom-permissionname-clipboard-write">"clipboard-write"</a><span>，位于 § 9</span>
        </li>
        <li><a href="#dom-clipboarditem-clipboarditem">构造函数(items)</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#dom-clipboarditem-clipboarditem">构造函数(items, options)</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#dom-clipboardevent-clipboardevent">构造函数(type)</a><span>，位于 § 5.1</span>
        </li>
        <li><a href="#dom-clipboardevent-clipboardevent">构造函数(type, eventInitDict)</a><span>，位于 § 5.1</span>
        </li>
        <li><a href="#eventdef-globaleventhandlers-copy">copy</a><span>，位于 § 5.2.2</span>
        </li>
        <li><a href="#create-a-clipboarditem-object">创建 ClipboardItem 对象</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#eventdef-globaleventhandlers-cut">cut</a><span>，位于 § 5.2.3</span>
        </li>
        <li>
            数据 (data)
            <ul>
                <li><a href="#representation-data">表示 (representation) 的 dfn</a><span>，位于 § 7.2</span>
                </li>
                <li><a href="#system-clipboard-representation-data">系统剪贴板表示 (system clipboard representation) 的
                        dfn</a><span>，位于 § 4</span>
                </li>
            </ul>
        </li>
        <li><a href="#editable-context">可编辑上下文</a><span>，位于 § 3</span>
        </li>
        <li><a href="#fire-a-clipboard-event">触发剪贴板事件</a><span>，位于未编号章节</span>
        </li>
        <li><a href="#dom-clipboarditem-gettype">getType(type)</a><span>，位于 § 7.2.2</span>
        </li>
        <li><a href="#dom-presentationstyle-inline">"inline"</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#representation-iscustom">isCustom</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#list-of-representations">表示列表</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#mandatory-data-types">强制数据类型</a><span>，位于 § 6.4</span>
        </li>
        <li><a href="#representation-mime-type">MIME 类型</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#system-clipboard-representation-name">名称 (name)</a><span>，位于 § 4</span>
        </li>
        <li><a href="#optional-data-types">可选数据类型</a><span>，位于 § 6.5</span>
        </li>
        <li><a href="#optional-unsanitized-data-types">可选的未清理数据类型</a><span>，位于 § 6.6</span>
        </li>
        <li><a href="#os-specific-custom-map-name">特定于操作系统的自定义映射名称</a><span>，位于未编号章节</span>
        </li>
        <li><a href="#os-specific-custom-name">特定于操作系统的自定义名称</a><span>，位于未编号章节</span>
        </li>
        <li><a href="#os-specific-well-known-format">特定于操作系统的已知格式</a><span>，位于未编号章节</span>
        </li>
        <li><a href="#eventdef-globaleventhandlers-paste">paste</a><span>，位于 § 5.2.4</span>
        </li>
        <li><a href="#presentation-style">表示样式</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#enumdef-presentationstyle">PresentationStyle</a><span>，位于 § 7.2</span>
        </li>
        <li>
            表示样式 (presentationStyle)
            <ul>
                <li><a href="#dom-clipboarditem-presentationstyle">ClipboardItem 的属性</a><span>，位于 § 7.2</span>
                </li>
                <li><a href="#dom-clipboarditemoptions-presentationstyle">ClipboardItemOptions 的
                        dict-member</a><span>，位于 § 7.2</span>
                </li>
            </ul>
        </li>
        <li><a href="#process-an-html-paste-event">处理 HTML 粘贴事件</a><span>，位于未编号章节</span>
        </li>
        <li><a href="#dom-clipboard-read">read()</a><span>，位于 § 7.3</span>
        </li>
        <li><a href="#dom-clipboard-read">read(formats)</a><span>，位于 § 7.3</span>
        </li>
        <li><a href="#dom-clipboard-readtext">readText()</a><span>，位于 § 7.3</span>
        </li>
        <li><a href="#read-web-custom-format">读取 Web 自定义格式</a><span>，位于未编号章节</span>
        </li>
        <li><a href="#representation">表示 (representation)</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#script-may-access-clipboard">脚本可以访问剪贴板</a><span>，位于 § 8</span>
        </li>
        <li><a href="#script-triggered">脚本触发</a><span>，位于 § 8</span>
        </li>
        <li><a href="#dom-clipboarditem-supports">supports(type)</a><span>，位于 § 7.2.3</span>
        </li>
        <li><a href="#system-clipboard">系统剪贴板</a><span>，位于 § 4</span>
        </li>
        <li><a href="#system-clipboard-data">系统剪贴板数据</a><span>，位于 § 4</span>
        </li>
        <li><a href="#system-clipboard-item">系统剪贴板项目</a><span>，位于 § 4</span>
        </li>
        <li><a href="#system-clipboard-representation">系统剪贴板表示</a><span>，位于 § 4</span>
        </li>
        <li><a href="#dom-clipboarditem-types">types</a><span>，位于 § 7.2.1</span>
        </li>
        <li><a href="#clipboarditem-types-array">类型数组</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#dom-clipboardunsanitizedformats-unsanitized">unsanitized</a><span>，位于 § 7.3</span>
        </li>
        <li><a href="#unsanitized-data-types">未清理的数据类型</a><span>，位于 § 6.6</span>
        </li>
        <li><a href="#dom-presentationstyle-unspecified">"unspecified"</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#web-custom-format">Web 自定义格式</a><span>，位于 § 7.2</span>
        </li>
        <li><a href="#well-known-mime-type-from-os-specific-format">从特定于操作系统的格式获取已知 MIME 类型</a><span>，位于未编号章节</span>
        </li>
        <li><a href="#write-blobs-and-option-to-the-clipboard">将 blob 和选项写入剪贴板</a><span>，位于未编号章节</span>
        </li>
        <li><a href="#write-content-to-the-clipboard">将内容写入剪贴板</a><span>，位于未编号章节</span>
        </li>
        <li><a href="#dom-clipboard-write">write(data)</a><span>，位于 § 7.3</span>
        </li>
        <li><a href="#dom-clipboard-writetext">writeText(data)</a><span>，位于 § 7.3</span>
        </li>
        <li><a href="#write-web-custom-formats">写入 Web 自定义格式</a><span>，位于未编号章节</span>
        </li>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="c176812b">允许显示弹出窗口</span>
                </li>
                <li><span class="dfn-paneled" id="dc8f85df">概念 dnd p</span>
                </li>
                <li><span class="dfn-paneled" id="2ea8cccb">概念 dnd ro</span>
                </li>
                <li><span class="dfn-paneled" id="2551a9c6">概念 dnd rw</span>
                </li>
                <li><span class="dfn-paneled" id="a1ac87bf">构造事件</span>
                </li>
                <li><span class="dfn-paneled" id="c1f77abc">拖放数据项种类</span>
                </li>
                <li><span class="dfn-paneled" id="a70adace">拖放数据项类型字符串</span>
                </li>
                <li><span class="dfn-paneled" id="b8912f12">拖放数据存储模式</span>
                </li>
                <li><span class="dfn-paneled" id="fad8924f">可聚焦区域</span>
                </li>
                <li><span class="dfn-paneled" id="70f2d597">权限任务源</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[DOM]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="129bdae8">Event</span>
                </li>
                <li><span class="dfn-paneled" id="44a7708c">EventInit</span>
                </li>
                <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
                </li>
                <li><span class="dfn-paneled" id="8b547cc7">composed</span>
                </li>
                <li><span class="dfn-paneled" id="838900a7">isTrusted</span>
                </li>
                <li><span class="dfn-paneled" id="fefe0433">preventDefault()</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[ENCODING]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="b0fcb8d7">UTF-8 解码</span>
                </li>
                <li><span class="dfn-paneled" id="0303e8e5">UTF-8 编码</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[FileAPI]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="119fb4df">Blob</span>
                </li>
                <li><span class="dfn-paneled" id="7e1d7596">File</span>
                </li>
                <li><span class="dfn-paneled" id="c5019b63">lastModified</span>
                </li>
                <li><span class="dfn-paneled" id="9784d14c">name</span>
                </li>
                <li><span class="dfn-paneled" id="49d6d0a2">type</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="2b83ae0c">DataTransfer</span>
                </li>
                <li><span class="dfn-paneled" id="4ff66d05">DataTransferItem</span>
                </li>
                <li><span class="dfn-paneled" id="707c843f">DataTransferItemList</span>
                </li>
                <li><span class="dfn-paneled" id="be0c27b2">Navigator</span>
                </li>
                <li><span class="dfn-paneled" id="5f5b7a0c">clear()</span>
                </li>
                <li><span class="dfn-paneled" id="f62ad1e6">clearData(format)</span>
                </li>
                <li><span class="dfn-paneled" id="050af578">编辑宿主</span>
                </li>
                <li><span class="dfn-paneled" id="1e280de0">files</span>
                </li>
                <li><span class="dfn-paneled" id="d82f90d1">getData(format)</span>
                </li>
                <li><span class="dfn-paneled" id="168f1b6e">全局对象</span>
                </li>
                <li><span class="dfn-paneled" id="7c421916">具有焦点步骤</span>
                </li>
                <li><span class="dfn-paneled" id="a72449dd">并行</span>
                </li>
                <li><span class="dfn-paneled" id="50eecf1d">items</span>
                </li>
                <li><span class="dfn-paneled" id="48438eb3">排队全局任务</span>
                </li>
                <li><span class="dfn-paneled" id="e99bd18e">相关全局对象</span>
                </li>
                <li><span class="dfn-paneled" id="5991ccfb">相关领域</span>
                </li>
                <li><span class="dfn-paneled" id="beda2316">setData(format, data)</span>
                </li>
                <li><span class="dfn-paneled" id="c51ad875">body 元素</span>
                </li>
                <li><span class="dfn-paneled" id="47fe679e">瞬时激活</span>
                </li>
                <li><span class="dfn-paneled" id="f3fc35d3">types</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="ae8def21">包含</span>
                </li>
                <li><span class="dfn-paneled" id="0204d188">大小</span>
                </li>
                <li><span class="dfn-paneled" id="54627f47">开头为</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[MIMESNIFF]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="7c195f8b">本质</span>
                </li>
                <li><span class="dfn-paneled" id="16785ec4">MIME 类型</span>
                </li>
                <li><span class="dfn-paneled" id="d72dabca">解析 MIME 类型</span>
                </li>
                <li><span class="dfn-paneled" id="d6e5d5bd">序列化 MIME 类型</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[PERMISSIONS]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="03efcfde">PermissionDescriptor</span>
                </li>
                <li><span class="dfn-paneled" id="a849381c">拒绝</span>
                </li>
                <li><span class="dfn-paneled" id="b5775905">授予</span>
                </li>
                <li><span class="dfn-paneled" id="d8705310">权限描述符类型</span>
                </li>
                <li><span class="dfn-paneled" id="01082766">权限状态</span>
                </li>
                <li><span class="dfn-paneled" id="27daf463">强大功能</span>
                </li>
                <li><span class="dfn-paneled" id="756a432d">请求使用权限</span>
                </li>
            </ul>
        </li>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                </li>
                <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
                </li>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                </li>
                <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
                </li>
                <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
                </li>
                <li><span class="dfn-paneled" id="9eda9b58">NotFoundError</span>
                </li>
                <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
                </li>
                <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
                </li>
                <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
                </li>
                <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
                </li>
                <li><span class="dfn-paneled" id="dacde8b5">一个新的 promise</span>
                </li>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span>
                </li>
                <li><span class="dfn-paneled" id="1641b9ef">创建一个冻结数组</span>
                </li>
                <li><span class="dfn-paneled" id="56f81a8e">new</span>
                </li>
                <li><span class="dfn-paneled" id="750a2f08">react</span>
                </li>
                <li><span class="dfn-paneled" id="7787d359">record</span>
                </li>
                <li><span class="dfn-paneled" id="b262501e">reject</span>
                </li>
                <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
                </li>
                <li><span class="dfn-paneled" id="4013a022">this</span>
                </li>
                <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
                </li>
            </ul>
        </li>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性参考文献</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-dom">[DOM]
        </dt>
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>. 实时标准.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        </dd>
        <dt id="biblio-encoding">[ENCODING]
        </dt>
        <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>编码标准</cite></a>. 实时标准. URL: <a
                href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
        </dd>
        <dt id="biblio-fileapi">[FileAPI]
        </dt>
        <dd>Marijn Kruisselbrink. <a href="https://www.w3.org/TR/FileAPI/"><cite>文件 API</cite></a>. 2024年12月4日.
            WD. URL: <a href="https://www.w3.org/TR/FileAPI/">https://www.w3.org/TR/FileAPI/</a>
        </dd>
        <dt id="biblio-html">[HTML]
        </dt>
        <dd>Anne van Kesteren; 等. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>.
            实时标准. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        </dd>
        <dt id="biblio-infra">[INFRA]
        </dt>
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    标准</cite></a>. 实时标准. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        </dd>
        <dt id="biblio-mimesniff">[MIMESNIFF]
        </dt>
        <dd>Gordon P. Hemsley. <a href="https://mimesniff.spec.whatwg.org/"><cite>MIME 嗅探标准</cite></a>.
            实时标准. URL: <a href="https://mimesniff.spec.whatwg.org/">https://mimesniff.spec.whatwg.org/</a>
        </dd>
        <dt id="biblio-permissions">[PERMISSIONS]
        </dt>
        <dd>Marcos Caceres; Mike Taylor. <a href="https://www.w3.org/TR/permissions/"><cite>权限</cite></a>. 2024年12月20日.
            WD. URL: <a href="https://www.w3.org/TR/permissions/">https://www.w3.org/TR/permissions/</a>
        </dd>
        <dt id="biblio-rfc2119">[RFC2119]
        </dt>
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>RFC 中用于指示需求级别的关键词</cite></a>.
            1997年3月. 最佳当前实践. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        </dd>
        <dt id="biblio-rfc2392">[RFC2392]
        </dt>
        <dd>E. Levinson. <a href="https://www.rfc-editor.org/rfc/rfc2392"><cite>内容 ID 和消息 ID 统一资源定位符</cite></a>.
            1998年8月. 建议标准. URL: <a
                href="https://www.rfc-editor.org/rfc/rfc2392">https://www.rfc-editor.org/rfc/rfc2392</a>
        </dd>
        <dt id="biblio-webidl">[WEBIDL]
        </dt>
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>. 实时标准. URL: <a
                href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
        </dd>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">信息性参考文献</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-html5">[HTML5]
        </dt>
        <dd>Ian Hickson; 等. <a href="https://www.w3.org/TR/html5/"><cite>HTML5</cite></a>. 2018年3月27日. REC. URL:
            <a href="https://www.w3.org/TR/html5/">https://www.w3.org/TR/html5/</a>
        </dd>
        <dt id="biblio-microsoft-clip-op">[MICROSOFT-CLIP-OP]
        </dt>
        <dd><a href="https://msdn.microsoft.com/en-us/ie/ms537658(v=vs.94)"><cite>关于 DHTML 数据传输. 微软开发者网络.</cite></a>.
            URL: <a
                href="https://msdn.microsoft.com/en-us/ie/ms537658(v=vs.94)">https://msdn.microsoft.com/en-us/ie/ms537658(v=vs.94)</a>
        </dd>
        <dt id="biblio-svg11">[SVG11]
        </dt>
        <dd>Erik Dahlström; 等. <a href="https://www.w3.org/TR/SVG11/"><cite>可缩放矢量图形 (SVG) 1.1 (第二版)</cite></a>.
            2011年8月16日. REC. URL: <a href="https://www.w3.org/TR/SVG11/">https://www.w3.org/TR/SVG11/</a>
        </dd>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def"><c- b>dictionary</c-> <a href="#dictdef-clipboardeventinit"><code><c- g>ClipboardEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><c- n>DataTransfer</c-></a>? <a data-default="null" data-type="DataTransfer?" href="#dom-clipboardeventinit-clipboarddata"><code><c- g>clipboardData</c-></code></a> = <c- b>null</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#clipboardevent"><code><c- g>ClipboardEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-clipboardevent-clipboardevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clipboardevent-clipboardevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboardeventinit"><c- n>ClipboardEventInit</c-></a> <a href="#dom-clipboardevent-clipboardevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dnd.html#datatransfer"><c- n>DataTransfer</c-></a>? <a data-readonly data-type="DataTransfer?" href="#dom-clipboardevent-clipboarddata"><code><c- g>clipboardData</c-></code></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#clipboard"><c- n>Clipboard</c-></a> <a data-readonly data-type="Clipboard" href="#dom-navigator-clipboard"><code><c- g>clipboard</c-></code></a>;
};

<c- b>typedef</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/FileAPI/#dfn-Blob"><c- n>Blob</c-></a>)> <a href="#typedefdef-clipboarditemdata"><code><c- g>ClipboardItemData</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#clipboarditem"><code><c- g>ClipboardItem</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-clipboarditem-clipboarditem"><c- g>constructor</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a data-link-type="idl-name" href="#typedefdef-clipboarditemdata"><c- n>ClipboardItemData</c-></a>> <a href="#dom-clipboarditem-clipboarditem-items-options-items"><code><c- g>items</c-></code></a>,
              <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboarditemoptions"><c- n>ClipboardItemOptions</c-></a> <a href="#dom-clipboarditem-clipboarditem-items-options-options"><code><c- g>options</c-></code></a> = {});

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-presentationstyle"><c- n>PresentationStyle</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PresentationStyle" href="#dom-clipboarditem-presentationstyle"><c- g>presentationStyle</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>" href="#dom-clipboarditem-types"><c- g>types</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://www.w3.org/TR/FileAPI/#dfn-Blob"><c- n>Blob</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboarditem-gettype"><c- g>getType</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clipboarditem-gettype-type-type"><code><c- g>type</c-></code></a>);

  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-clipboarditem-supports"><c- g>supports</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clipboarditem-supports-type-type"><code><c- g>type</c-></code></a>);
};

<c- b>enum</c-> <a href="#enumdef-presentationstyle"><code><c- g>PresentationStyle</c-></code></a> { <a href="#dom-presentationstyle-unspecified"><code><c- s>"unspecified"</c-></code></a>, <a href="#dom-presentationstyle-inline"><code><c- s>"inline"</c-></code></a>, <a href="#dom-presentationstyle-attachment"><code><c- s>"attachment"</c-></code></a> };

<c- b>dictionary</c-> <a href="#dictdef-clipboarditemoptions"><code><c- g>ClipboardItemOptions</c-></code></a> {
  <a data-link-type="idl-name" href="#enumdef-presentationstyle"><c- n>PresentationStyle</c-></a> <a data-default="&quot;unspecified&quot;" data-type="PresentationStyle" href="#dom-clipboarditemoptions-presentationstyle"><code><c- g>presentationStyle</c-></code></a> = "unspecified";
};

<c- b>typedef</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#clipboarditem"><c- n>ClipboardItem</c-></a>> <a href="#typedefdef-clipboarditems"><code><c- g>ClipboardItems</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#clipboard"><code><c- g>Clipboard</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#typedefdef-clipboarditems"><c- n>ClipboardItems</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-read"><c- g>read</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clipboardunsanitizedformats"><c- n>ClipboardUnsanitizedFormats</c-></a> <a href="#dom-clipboard-read-formats-formats"><code><c- g>formats</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-readtext"><c- g>readText</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-write"><c- g>write</c-></a>(<a data-link-type="idl-name" href="#typedefdef-clipboarditems"><c- n>ClipboardItems</c-></a> <a href="#dom-clipboard-write-data-data"><code><c- g>data</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clipboard-writetext"><c- g>writeText</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clipboard-writetext-data-data"><code><c- g>data</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-clipboardunsanitizedformats"><code><c- g>ClipboardUnsanitizedFormats</c-></code></a> {
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a data-type="sequence<DOMString>" href="#dom-clipboardunsanitizedformats-unsanitized"><code><c- g>unsanitized</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-clipboardpermissiondescriptor"><code><c- g>ClipboardPermissionDescriptor</c-></code></a> : <a data-link-type="idl-name" href="https://www.w3.org/TR/permissions/#dom-permissiondescriptor"><c- n>PermissionDescriptor</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-clipboardpermissiondescriptor-allowwithoutgesture"><code><c- g>allowWithoutGesture</c-></code></a> = <c- b>false</c->;
};

</pre>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">问题索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> Web 开发人员可能对潜在的拒绝原因感兴趣。 <a class="issue-return" href="#issue-2d83c5ad" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 在作者调用 getType 后，应该可以从系统剪贴板异步读取数据，但是，这组步骤意味着数据将在读取时提供。 <a class="issue-return"
                href="#issue-0a41fcd5" title="跳转到章节">↵</a></div>
        <div class="issue"> 某些操作系统包含多个剪贴板（例如 Linux 中的“primary”、“secondary”、“selection”）。定义从哪些剪贴板读取数据。 <a
                class="issue-return" href="#issue-c148910f" title="跳转到章节">↵</a></div>
        <div class="issue"> 添加已清理副本的定义。 <a class="issue-return" href="#issue-1755f975" title="跳转到章节">↵</a></div>
        <div class="issue"> clipboard-write 已在 https://github.com/w3c/clipboard-apis/pull/164 中移除。 <a
                class="issue-return" href="#issue-1b338371" title="跳转到章节">↵</a></div>
        <div class="issue"> 当 <var>data</var> 包含多个项目并且操作系统支持多个本机剪贴板项目时，当前算法会将项目按顺序写入系统剪贴板，而不是集体写入。 <a
                class="issue-return" href="#issue-f23cf1e2" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 添加已清理副本的定义。 <a class="issue-return" href="#issue-1755f975①" title="跳转到章节">↵</a></div>
        <div class="issue"> clipboard-write 已在 https://github.com/w3c/clipboard-apis/pull/164 中移除。 <a
                class="issue-return" href="#issue-1b338371①" title="跳转到章节">↵</a></div>
        <div class="issue"> 将事情留给实现是不好的。这里应该发生什么？ <a class="issue-return" href="#issue-77e1973e" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> “从剪贴板中删除特定类型”功能存在风险。它似乎并不那么重要，而且尚不清楚它是否可以在相关平台上轻松实现。 <a class="issue-return"
                href="#issue-0a3703dc" title="跳转到章节">↵</a></div>
        <div class="issue"> 某些操作系统包含多个剪贴板（例如 Linux 中的“primary”、“secondary”、“selection”）。定义数据写入到哪些剪贴板。 <a
                class="issue-return" href="#issue-3887584b" title="跳转到章节">↵</a></div>
        <div class="issue"> 更详细地说明读取 <var>webCustomFormatMap</var> 的过程。 <a class="issue-return" href="#issue-97db4b5a"
                title="跳转到章节">↵</a></div>
        <div class="issue"> 为什么在这里？为什么不在 HTML 规范中？ <a class="issue-return" href="#issue-7d2ab940" title="跳转到章节">↵</a>
        </div>
        <div class="issue"> 这些步骤是必要的吗？我们是否了解支持具有内部引用的多个部分的本机（平台）剪贴板实现？ <a class="issue-return" href="#issue-096a5049"
                title="跳转到章节">↵</a></div>
        <div class="issue"> 此功能存在风险，因为尚不清楚是否需要它，并且难以进行跨平台测试。 <a class="issue-return" href="#issue-6be1122f"
                title="跳转到章节">↵</a></div>
    </div>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-read">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/read"
                    title="The read() method of the Clipboard interface requests a copy of the clipboard&apos;s contents, delivering the data to the returned Promise when the promise is resolved. Unlike readText(), the read() method can return arbitrary data, such as images. This method can also return text.">Clipboard/read</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 90+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome no"><span>Chrome</span><span>?</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>63+</span></span><span
                    class="edge_blink no"><span>Edge</span><span>?</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>None</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android yes"><span>Samsung Internet</span><span>12.0+</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>54+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-readtext">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/readText"
                    title="The Clipboard interface&apos;s readText() method returns a Promise which resolves with a copy of the textual contents of the system clipboard.">Clipboard/readText</a>
            </p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>66+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-write">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/write"
                    title="The Clipboard method write() writes arbitrary data, such as images, to the clipboard. This can be used to implement cut and copy functionality.">Clipboard/write</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>66+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>63+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>None</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android yes"><span>Chrome for Android</span><span>66+</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android yes"><span>Samsung Internet</span><span>12.0+</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>54+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboard-writetext">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/writeText"
                    title="The Clipboard interface&apos;s writeText() property writes the specified text string to the system clipboard. Text may be read back using either read() or readText().">Clipboard/writeText</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>63+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>66+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboard-interface">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard"
                    title="The Clipboard interface implements the Clipboard API, providing—if the user grants permission—both read and write access to the contents of the system clipboard. The Clipboard API can be used to implement cut, copy, and paste features within a web application.">Clipboard</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>63+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>66+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboardevent-clipboardevent">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent/ClipboardEvent"
                    title="The ClipboardEvent() constructor returns a new ClipboardEvent, representing an event providing information related to modification of the clipboard, that is cut, copy, and paste events.">ClipboardEvent/ClipboardEvent</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>58+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboardevent-clipboarddata">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent/clipboardData"
                    title="The ClipboardEvent.clipboardData property holds a DataTransfer object, which can be used:">ClipboardEvent/clipboardData</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>41+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span
                    class="ie yes"><span>IE</span><span>5+</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-interfaces">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent"
                    title="The ClipboardEvent interface represents events providing information related to modification of the clipboard, that is cut, copy, and paste events.">ClipboardEvent</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>10.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>41+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span
                    class="ie yes"><span>IE</span><span>4+</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-clipboarditem">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/ClipboardItem"
                    title="The ClipboardItem() constructor of the Clipboard API creates a new ClipboardItem object which represents data to be stored or retrieved via the Clipboard API, that is clipboard.write() and clipboard.read() respectively.">ClipboardItem/ClipboardItem</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>98+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>98+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android yes"><span>Chrome for Android</span><span>98+</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-gettype">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/getType"
                    title="The getType() method of the ClipboardItem interface returns a Promise that resolves with a Blob of the requested MIME type or an error if the MIME type is not found.">ClipboardItem/getType</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>76+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android yes"><span>Chrome for Android</span><span>84+</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-presentationstyle">
        <summary><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/presentationStyle"
                    title="The read-only presentationStyle property of the ClipboardItem interface returns a string indicating how an item should be presented.">ClipboardItem/presentationStyle</a>
            </p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome no"><span>Chrome</span><span>None</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink no"><span>Edge</span><span>None</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-clipboarditem-types">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/types"
                    title="The read-only types property of the ClipboardItem interface returns an Array of MIME types available within the ClipboardItem">ClipboardItem/types</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>76+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android yes"><span>Chrome for Android</span><span>84+</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboarditem">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem"
                    title="The ClipboardItem interface of the Clipboard API represents a single item format, used when reading or writing data via the Clipboard API. That is clipboard.read() and clipboard.write() respectively.">ClipboardItem</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span
                        title="Requires setting a user preference or runtime flag.">🔰 87+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>76+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android yes"><span>Chrome for Android</span><span>84+</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-copy">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/copy_event"
                    title="The copy event fires when the user initiates a copy action through the browser&apos;s user interface.">Element/copy_event</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>3+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>1+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>12.1+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span
                    class="ie yes"><span>IE</span><span>9+</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios yes"><span>iOS Safari</span><span>3+</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>12.1+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-cut">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/cut_event"
                    title="The cut event is fired when the user has initiated a &quot;cut&quot; action through the browser&apos;s user interface.">Element/cut_event</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>3+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>1+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>12.1+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span
                    class="ie yes"><span>IE</span><span>9+</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios yes"><span>iOS Safari</span><span>3+</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>12.1+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="clipboard-event-paste">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/paste_event"
                    title="The paste event is fired when the user has initiated a &quot;paste&quot; action through the browser&apos;s user interface.">Element/paste_event</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>22+</span></span><span
                    class="safari yes"><span>Safari</span><span>3+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>1+</span></span>
                <hr>
                <span class="opera yes"><span>Opera</span><span>12.1+</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span
                    class="ie yes"><span>IE</span><span>9+</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios yes"><span>iOS Safari</span><span>3+</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android yes"><span>Android WebView</span><span>37+</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android yes"><span>Opera Mobile</span><span>12.1+</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="navigator-clipboard">
        <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
        </summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/clipboard"
                    title="The Clipboard API adds to the Navigator interface the read-only clipboard property, which returns the Clipboard object used to read and write the clipboard&apos;s contents.">Navigator/clipboard</a>
            </p>
            <p class="all-engines-text">In all current engines.</p>
            <div class="support">
                <span class="firefox yes"><span>Firefox</span><span>63+</span></span><span
                    class="safari yes"><span>Safari</span><span>13.1+</span></span><span
                    class="chrome yes"><span>Chrome</span><span>66+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "01082766": { "dfnID": "01082766", "dfnText": "permission state", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-permission-state" }], "title": "9.2.1. check clipboard write permission" }], "url": "https://www.w3.org/TR/permissions/#dfn-permission-state" },
                "0204d188": { "dfnID": "0204d188", "dfnText": "size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-size" }], "title": "7.3.3. write(data)" }], "url": "https://infra.spec.whatwg.org/#list-size" },
                "0303e8e5": { "dfnID": "0303e8e5", "dfnText": "UTF-8 encode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-encode" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-utf-8-encode\u2460" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-utf-8-encode\u2461" }], "title": "7.3.4. writeText(data)" }], "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "03efcfde": { "dfnID": "03efcfde", "dfnText": "PermissionDescriptor", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissiondescriptor" }], "title": "9. Permissions API Integration" }], "url": "https://www.w3.org/TR/permissions/#dom-permissiondescriptor" },
                "050af578": { "dfnID": "050af578", "dfnText": "editing host", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-editing-host" }], "title": "3. Terminology" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#editing-host" },
                "119fb4df": { "dfnID": "119fb4df", "dfnText": "Blob", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-Blob" }, { "id": "ref-for-dfn-Blob\u2460" }, { "id": "ref-for-dfn-Blob\u2461" }, { "id": "ref-for-dfn-Blob\u2462" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-dfn-Blob\u2463" }, { "id": "ref-for-dfn-Blob\u2464" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-dfn-Blob\u2465" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-dfn-Blob\u2466" }, { "id": "ref-for-dfn-Blob\u2467" }, { "id": "ref-for-dfn-Blob\u2468" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-dfn-Blob\u2460\u24ea" }, { "id": "ref-for-dfn-Blob\u2460\u2460" }], "title": "7.3.4. writeText(data)" }, { "refs": [{ "id": "ref-for-dfn-Blob\u2460\u2461" }, { "id": "ref-for-dfn-Blob\u2460\u2462" }], "title": "write blobs and option to the clipboard" }, { "refs": [{ "id": "ref-for-dfn-Blob\u2460\u2463" }], "title": "write web custom formats" }], "url": "https://www.w3.org/TR/FileAPI/#dfn-Blob" },
                "129bdae8": { "dfnID": "129bdae8", "dfnText": "Event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event" }, { "id": "ref-for-event\u2460" }], "title": "5.1. Clipboard event interfaces" }], "url": "https://dom.spec.whatwg.org/#event" },
                "1641b9ef": { "dfnID": "1641b9ef", "dfnText": "create a frozen array", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-create-frozen-array" }], "title": "7.2. ClipboardItem Interface" }], "url": "https://webidl.spec.whatwg.org/#dfn-create-frozen-array" },
                "16785ec4": { "dfnID": "16785ec4", "dfnText": "MIME type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mime-type" }, { "id": "ref-for-mime-type\u2460" }, { "id": "ref-for-mime-type\u2461" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-mime-type\u2462" }], "title": "well-known mime type from os specific format" }], "url": "https://mimesniff.spec.whatwg.org/#mime-type" },
                "168f1b6e": { "dfnID": "168f1b6e", "dfnText": "global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-realm-global" }, { "id": "ref-for-concept-realm-global\u2460" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-concept-realm-global\u2461" }, { "id": "ref-for-concept-realm-global\u2462" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-concept-realm-global\u2463" }, { "id": "ref-for-concept-realm-global\u2464" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-concept-realm-global\u2465" }, { "id": "ref-for-concept-realm-global\u2466" }], "title": "7.3.4. writeText(data)" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" },
                "1e280de0": { "dfnID": "1e280de0", "dfnText": "files", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-files" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-dom-datatransfer-files\u2460" }], "title": "10.2. General security policies" }, { "refs": [{ "id": "ref-for-dom-datatransfer-files\u2461" }], "title": "fire a clipboard event" }], "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files" },
                "2551a9c6": { "dfnID": "2551a9c6", "dfnText": "concept dnd rw", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-dnd-rw" }, { "id": "ref-for-concept-dnd-rw\u2460" }], "title": "fire a clipboard event" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-rw" },
                "27daf463": { "dfnID": "27daf463", "dfnText": "powerful feature", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-powerful-feature" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-dfn-powerful-feature\u2460" }, { "id": "ref-for-dfn-powerful-feature\u2461" }], "title": "9. Permissions API Integration" }], "url": "https://www.w3.org/TR/permissions/#dfn-powerful-feature" },
                "2b83ae0c": { "dfnID": "2b83ae0c", "dfnText": "DataTransfer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-datatransfer" }, { "id": "ref-for-datatransfer\u2460" }, { "id": "ref-for-datatransfer\u2461" }, { "id": "ref-for-datatransfer\u2462" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-datatransfer\u2463" }], "title": "6. Clipboard Event API" }, { "refs": [{ "id": "ref-for-datatransfer\u2464" }], "title": "6.4.2. Writing to the clipboard" }, { "refs": [{ "id": "ref-for-datatransfer\u2465" }], "title": "10.4. Nuisance considerations" }, { "refs": [{ "id": "ref-for-datatransfer\u2466" }, { "id": "ref-for-datatransfer\u2467" }], "title": "11.1. Privacy and the Clipboard Event API" }, { "refs": [{ "id": "ref-for-datatransfer\u2468" }, { "id": "ref-for-datatransfer\u2460\u24ea" }, { "id": "ref-for-datatransfer\u2460\u2460" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-datatransfer\u2460\u2461" }], "title": "process an HTML paste event" }], "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" },
                "2bc0cdf4": { "dfnID": "2bc0cdf4", "dfnText": "EventTarget", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventtarget" }], "title": "7.3. Clipboard Interface" }], "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "2ea8cccb": { "dfnID": "2ea8cccb", "dfnText": "concept dnd ro", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-dnd-ro" }], "title": "6.3. Overriding the paste event" }, { "refs": [{ "id": "ref-for-concept-dnd-ro\u2460" }], "title": "fire a clipboard event" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-ro" },
                "4013a022": { "dfnID": "4013a022", "dfnText": "this", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-this" }], "title": "7.1.1. clipboard" }, { "refs": [{ "id": "ref-for-this\u2460" }, { "id": "ref-for-this\u2461" }, { "id": "ref-for-this\u2462" }, { "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-this\u2465" }], "title": "7.2.1. presentationStyle" }, { "refs": [{ "id": "ref-for-this\u2466" }], "title": "7.2.2. types" }, { "refs": [{ "id": "ref-for-this\u2467" }, { "id": "ref-for-this\u2468" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-this\u2460\u24ea" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-this\u2460\u2460" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-this\u2460\u2461" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-this\u2460\u2462" }], "title": "7.3.4. writeText(data)" }, { "refs": [{ "id": "ref-for-this\u2460\u2463" }], "title": "9.1.1. check clipboard read permission" }, { "refs": [{ "id": "ref-for-this\u2460\u2464" }], "title": "9.2.1. check clipboard write permission" }], "url": "https://webidl.spec.whatwg.org/#this" },
                "44a7708c": { "dfnID": "44a7708c", "dfnText": "EventInit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-eventinit" }], "title": "5.1. Clipboard event interfaces" }], "url": "https://dom.spec.whatwg.org/#dictdef-eventinit" },
                "47fe679e": { "dfnID": "47fe679e", "dfnText": "transient activation", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transient-activation" }], "title": "9.1.1. check clipboard read permission" }, { "refs": [{ "id": "ref-for-transient-activation\u2460" }], "title": "9.2.1. check clipboard write permission" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" },
                "48438eb3": { "dfnID": "48438eb3", "dfnText": "queue a global task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-a-global-task" }, { "id": "ref-for-queue-a-global-task\u2460" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-queue-a-global-task\u2461" }, { "id": "ref-for-queue-a-global-task\u2462" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-queue-a-global-task\u2463" }, { "id": "ref-for-queue-a-global-task\u2464" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-queue-a-global-task\u2465" }, { "id": "ref-for-queue-a-global-task\u2466" }], "title": "7.3.4. writeText(data)" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" },
                "49d6d0a2": { "dfnID": "49d6d0a2", "dfnText": "type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-type" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-dfn-type\u2460" }, { "id": "ref-for-dfn-type\u2461" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-dfn-type\u2462" }], "title": "7.3.4. writeText(data)" }, { "refs": [{ "id": "ref-for-dfn-type\u2463" }, { "id": "ref-for-dfn-type\u2464" }, { "id": "ref-for-dfn-type\u2465" }, { "id": "ref-for-dfn-type\u2466" }, { "id": "ref-for-dfn-type\u2467" }], "title": "write blobs and option to the clipboard" }, { "refs": [{ "id": "ref-for-dfn-type\u2468" }], "title": "os specific well-known format" }, { "refs": [{ "id": "ref-for-dfn-type\u2460\u24ea" }], "title": "write web custom formats" }], "url": "https://www.w3.org/TR/FileAPI/#dfn-type" },
                "4ff66d05": { "dfnID": "4ff66d05", "dfnText": "DataTransferItem", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-datatransferitem" }, { "id": "ref-for-datatransferitem\u2460" }, { "id": "ref-for-datatransferitem\u2461" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-datatransferitem\u2462" }, { "id": "ref-for-datatransferitem\u2463" }], "title": "process an HTML paste event" }], "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" },
                "50eecf1d": { "dfnID": "50eecf1d", "dfnText": "items", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-items" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-dom-datatransfer-items\u2460" }], "title": "6. Clipboard Event API" }, { "refs": [{ "id": "ref-for-dom-datatransfer-items\u2461" }, { "id": "ref-for-dom-datatransfer-items\u2462" }, { "id": "ref-for-dom-datatransfer-items\u2463" }, { "id": "ref-for-dom-datatransfer-items\u2464" }, { "id": "ref-for-dom-datatransfer-items\u2465" }, { "id": "ref-for-dom-datatransfer-items\u2466" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-dom-datatransfer-items\u2467" }, { "id": "ref-for-dom-datatransfer-items\u2468" }, { "id": "ref-for-dom-datatransfer-items\u2460\u24ea" }], "title": "process an HTML paste event" }], "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" },
                "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-idl-boolean\u2460" }], "title": "9. Permissions API Integration" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "54627f47": { "dfnID": "54627f47", "dfnText": "starts with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string-starts-with" }], "title": "6.5. Optional data types" }, { "refs": [{ "id": "ref-for-string-starts-with\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-string-starts-with\u2461" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-string-starts-with\u2462" }], "title": "write blobs and option to the clipboard" }], "url": "https://infra.spec.whatwg.org/#string-starts-with" },
                "56f81a8e": { "dfnID": "56f81a8e", "dfnText": "new", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-new" }], "title": "7.2. ClipboardItem Interface" }], "url": "https://webidl.spec.whatwg.org/#new" },
                "5991ccfb": { "dfnID": "5991ccfb", "dfnText": "relevant realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-realm" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2460" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2461" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2462" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2463" }], "title": "7.3.4. writeText(data)" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
                "5f5b7a0c": { "dfnID": "5f5b7a0c", "dfnText": "clear()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransferitemlist-clear" }], "title": "fire a clipboard event" }], "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransferitemlist-clear" },
                "5f90bbfb": { "dfnID": "5f90bbfb", "dfnText": "undefined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }, { "id": "ref-for-idl-undefined\u2460" }], "title": "7.3. Clipboard Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "707c843f": { "dfnID": "707c843f", "dfnText": "DataTransferItemList", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-datatransferitemlist" }], "title": "6.4. Mandatory data types" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2460" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2461" }], "title": "8.2. The cut action" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2462" }], "title": "10.2. General security policies" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2463" }], "title": "write content to the clipboard" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2464" }, { "id": "ref-for-datatransferitemlist\u2465" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-datatransferitemlist\u2466" }], "title": "process an HTML paste event" }], "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" },
                "70f2d597": { "dfnID": "70f2d597", "dfnText": "permission task source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-permissions-task-source" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-permissions-task-source\u2460" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-permissions-task-source\u2461" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-permissions-task-source\u2462" }], "title": "7.3.4. writeText(data)" }], "url": "https://w3c.github.io/permissions/#permissions-task-source" },
                "750a2f08": { "dfnID": "750a2f08", "dfnText": "react", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2460" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2461" }], "title": "7.3.3. write(data)" }], "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" },
                "756a432d": { "dfnID": "756a432d", "dfnText": "request permission to use", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-request-permission-to-use" }, { "id": "ref-for-dfn-request-permission-to-use\u2460" }], "title": "9.2.1. check clipboard write permission" }], "url": "https://www.w3.org/TR/permissions/#dfn-request-permission-to-use" },
                "7787d359": { "dfnID": "7787d359", "dfnText": "record", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-record" }], "title": "7.2. ClipboardItem Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-record" },
                "7c195f8b": { "dfnID": "7c195f8b", "dfnText": "essence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mime-type-essence" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-mime-type-essence\u2460" }], "title": "write blobs and option to the clipboard" }, { "refs": [{ "id": "ref-for-mime-type-essence\u2461" }, { "id": "ref-for-mime-type-essence\u2462" }, { "id": "ref-for-mime-type-essence\u2463" }, { "id": "ref-for-mime-type-essence\u2464" }], "title": "os specific well-known format" }], "url": "https://mimesniff.spec.whatwg.org/#mime-type-essence" },
                "7c421916": { "dfnID": "7c421916", "dfnText": "has focus steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-has-focus-steps" }], "title": "11.2. Privacy and the Asychronous Clipboard API" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps" },
                "7e1d7596": { "dfnID": "7e1d7596", "dfnText": "File", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-file" }, { "id": "ref-for-dfn-file\u2460" }], "title": "process an HTML paste event" }], "url": "https://www.w3.org/TR/FileAPI/#dfn-file" },
                "82ca3efc": { "dfnID": "82ca3efc", "dfnText": "TypeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-typeerror" }, { "id": "ref-for-exceptiondef-typeerror\u2460" }, { "id": "ref-for-exceptiondef-typeerror\u2461" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2462" }], "title": "7.2.3. getType(type)" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "838900a7": { "dfnID": "838900a7", "dfnText": "isTrusted", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-istrusted" }], "title": "fire a clipboard event" }], "url": "https://dom.spec.whatwg.org/#dom-event-istrusted" },
                "8855a9aa": { "dfnID": "8855a9aa", "dfnText": "DOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460" }, { "id": "ref-for-idl-DOMString\u2461" }, { "id": "ref-for-idl-DOMString\u2462" }, { "id": "ref-for-idl-DOMString\u2463" }, { "id": "ref-for-idl-DOMString\u2464" }, { "id": "ref-for-idl-DOMString\u2465" }, { "id": "ref-for-idl-DOMString\u2466" }, { "id": "ref-for-idl-DOMString\u2467" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2468" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460\u24ea" }, { "id": "ref-for-idl-DOMString\u2460\u2460" }, { "id": "ref-for-idl-DOMString\u2460\u2461" }, { "id": "ref-for-idl-DOMString\u2460\u2462" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460\u2463" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460\u2464" }], "title": "7.3.3. write(data)" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-Exposed\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-Exposed\u2461" }], "title": "7.3. Clipboard Interface" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "8b547cc7": { "dfnID": "8b547cc7", "dfnText": "composed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-composed" }], "title": "fire a clipboard event" }], "url": "https://dom.spec.whatwg.org/#dom-event-composed" },
                "9784d14c": { "dfnID": "9784d14c", "dfnText": "name", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-name" }], "title": "process an HTML paste event" }], "url": "https://www.w3.org/TR/FileAPI/#dfn-name" },
                "9cce47fd": { "dfnID": "9cce47fd", "dfnText": "sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-sequence" }, { "id": "ref-for-idl-sequence\u2460" }, { "id": "ref-for-idl-sequence\u2461" }, { "id": "ref-for-idl-sequence\u2462" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-idl-sequence\u2463" }, { "id": "ref-for-idl-sequence\u2464" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-idl-sequence\u2465" }, { "id": "ref-for-idl-sequence\u2466" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-idl-sequence\u2467" }], "title": "7.3.4. writeText(data)" }, { "refs": [{ "id": "ref-for-idl-sequence\u2468" }, { "id": "ref-for-idl-sequence\u2460\u24ea" }], "title": "write blobs and option to the clipboard" }, { "refs": [{ "id": "ref-for-idl-sequence\u2460\u2460" }], "title": "write web custom formats" }], "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "9eda9b58": { "dfnID": "9eda9b58", "dfnText": "NotFoundError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-notfounderror" }, { "id": "ref-for-notfounderror\u2460" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-notfounderror\u2461" }, { "id": "ref-for-notfounderror\u2462" }], "title": "7.3.2. readText()" }], "url": "https://webidl.spec.whatwg.org/#notfounderror" },
                "a1ac87bf": { "dfnID": "a1ac87bf", "dfnText": "constructing events", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-constructing-events" }], "title": "5.1. Clipboard event interfaces" }], "url": "https://dom.spec.whatwg.org/#constructing-events" },
                "a5c91173": { "dfnID": "a5c91173", "dfnText": "SameObject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SameObject" }], "title": "7.1. Navigator Interface" }], "url": "https://webidl.spec.whatwg.org/#SameObject" },
                "a70adace": { "dfnID": "a70adace", "dfnText": "drag data item type string", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-drag-data-item-type-string" }, { "id": "ref-for-drag-data-item-type-string\u2460" }, { "id": "ref-for-drag-data-item-type-string\u2461" }, { "id": "ref-for-drag-data-item-type-string\u2462" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-drag-data-item-type-string\u2463" }, { "id": "ref-for-drag-data-item-type-string\u2464" }], "title": "process an HTML paste event" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string" },
                "a72449dd": { "dfnID": "a72449dd", "dfnText": "in parallel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-in-parallel\u2460" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-in-parallel\u2461" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-in-parallel\u2462" }], "title": "7.3.4. writeText(data)" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "a849381c": { "dfnID": "a849381c", "dfnText": "denied", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionstate-denied" }], "title": "9. Permissions API Integration" }], "url": "https://www.w3.org/TR/permissions/#dom-permissionstate-denied" },
                "ae8def21": { "dfnID": "ae8def21", "dfnText": "contain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "7.2. ClipboardItem Interface" }], "url": "https://infra.spec.whatwg.org/#list-contain" },
                "allowed-to-modify-the-clipboard": { "dfnID": "allowed-to-modify-the-clipboard", "dfnText": "allowed to modify the clipboard", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-allowed-to-modify-the-clipboard" }], "title": "8. Clipboard Actions" }], "url": "#allowed-to-modify-the-clipboard" },
                "allowed-to-read-from-clipboard": { "dfnID": "allowed-to-read-from-clipboard", "dfnText": "allowed to read from clipboard", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-allowed-to-read-from-clipboard" }], "title": "8. Clipboard Actions" }], "url": "#allowed-to-read-from-clipboard" },
                "b0fcb8d7": { "dfnID": "b0fcb8d7", "dfnText": "UTF-8 decode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-utf-8-decode" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-utf-8-decode\u2460" }], "title": "write blobs and option to the clipboard" }], "url": "https://encoding.spec.whatwg.org/#utf-8-decode" },
                "b262501e": { "dfnID": "b262501e", "dfnText": "reject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-reject" }, { "id": "ref-for-reject\u2460" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-reject\u2461" }, { "id": "ref-for-reject\u2462" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-reject\u2463" }, { "id": "ref-for-reject\u2464" }, { "id": "ref-for-reject\u2465" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-reject\u2466" }, { "id": "ref-for-reject\u2467" }, { "id": "ref-for-reject\u2468" }, { "id": "ref-for-reject\u2460\u24ea" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-reject\u2460\u2460" }], "title": "7.3.4. writeText(data)" }], "url": "https://webidl.spec.whatwg.org/#reject" },
                "b5775905": { "dfnID": "b5775905", "dfnText": "granted", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-permissionstate-granted" }], "title": "9.2.1. check clipboard write permission" }], "url": "https://www.w3.org/TR/permissions/#dom-permissionstate-granted" },
                "b75bb3bd": { "dfnID": "b75bb3bd", "dfnText": "SecureContext", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SecureContext" }], "title": "7.1. Navigator Interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2461" }], "title": "7.3. Clipboard Interface" }], "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "b8912f12": { "dfnID": "b8912f12", "dfnText": "drag data store mode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-drag-data-store-mode" }], "title": "6.3. Overriding the paste event" }, { "refs": [{ "id": "ref-for-drag-data-store-mode\u2460" }, { "id": "ref-for-drag-data-store-mode\u2461" }, { "id": "ref-for-drag-data-store-mode\u2462" }, { "id": "ref-for-drag-data-store-mode\u2463" }], "title": "fire a clipboard event" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode" },
                "ba556545": { "dfnID": "ba556545", "dfnText": "NotAllowedError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-notallowederror" }, { "id": "ref-for-notallowederror\u2460" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-notallowederror\u2461" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-notallowederror\u2462" }, { "id": "ref-for-notallowederror\u2463" }, { "id": "ref-for-notallowederror\u2464" }, { "id": "ref-for-notallowederror\u2465" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-notallowederror\u2466" }], "title": "7.3.4. writeText(data)" }], "url": "https://webidl.spec.whatwg.org/#notallowederror" },
                "bdbd19d1": { "dfnID": "bdbd19d1", "dfnText": "Promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-promise" }, { "id": "ref-for-idl-promise\u2460" }, { "id": "ref-for-idl-promise\u2461" }, { "id": "ref-for-idl-promise\u2462" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-idl-promise\u2463" }, { "id": "ref-for-idl-promise\u2464" }, { "id": "ref-for-idl-promise\u2465" }, { "id": "ref-for-idl-promise\u2466" }, { "id": "ref-for-idl-promise\u2467" }], "title": "7.3. Clipboard Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "be0c27b2": { "dfnID": "be0c27b2", "dfnText": "Navigator", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-navigator" }], "title": "7.1. Navigator Interface" }], "url": "https://html.spec.whatwg.org/multipage/system-state.html#navigator" },
                "beda2316": { "dfnID": "beda2316", "dfnText": "setData(format, data)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-setdata" }], "title": "6.3. Overriding the paste event" }, { "refs": [{ "id": "ref-for-dom-datatransfer-setdata\u2460" }], "title": "write content to the clipboard" }, { "refs": [{ "id": "ref-for-dom-datatransfer-setdata\u2461" }, { "id": "ref-for-dom-datatransfer-setdata\u2462" }], "title": "fire a clipboard event" }], "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata" },
                "c176812b": { "dfnID": "c176812b", "dfnText": "allowed to show a popup", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-allowed-to-show-a-popup" }], "title": "5.3.1. Event handlers that are allowed to modify the clipboard" }], "url": "http://www.w3.org/TR/html5/browsers.html#allowed-to-show-a-popup" },
                "c1f77abc": { "dfnID": "c1f77abc", "dfnText": "drag data item kind", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-drag-data-item-kind" }, { "id": "ref-for-drag-data-item-kind\u2460" }, { "id": "ref-for-drag-data-item-kind\u2461" }], "title": "fire a clipboard event" }, { "refs": [{ "id": "ref-for-drag-data-item-kind\u2462" }, { "id": "ref-for-drag-data-item-kind\u2463" }], "title": "process an HTML paste event" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind" },
                "c5019b63": { "dfnID": "c5019b63", "dfnText": "lastModified", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-lastModified" }], "title": "process an HTML paste event" }], "url": "https://www.w3.org/TR/FileAPI/#dfn-lastModified" },
                "c51ad875": { "dfnID": "c51ad875", "dfnText": "the body element", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-body-element-2" }, { "id": "ref-for-the-body-element-2\u2460" }], "title": "fire a clipboard event" }], "url": "https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2" },
                "check-clipboard-read-permission": { "dfnID": "check-clipboard-read-permission", "dfnText": "check clipboard read permission", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-check-clipboard-read-permission" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-check-clipboard-read-permission\u2460" }], "title": "7.3.2. readText()" }], "url": "#check-clipboard-read-permission" },
                "check-clipboard-write-permission": { "dfnID": "check-clipboard-write-permission", "dfnText": "check clipboard write permission", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-check-clipboard-write-permission" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-check-clipboard-write-permission\u2460" }], "title": "7.3.4. writeText(data)" }], "url": "#check-clipboard-write-permission" },
                "clipboard": { "dfnID": "clipboard", "dfnText": "Clipboard", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-clipboard" }], "title": "7.1. Navigator Interface" }, { "refs": [{ "id": "ref-for-clipboard\u2460" }], "title": "7.3. Clipboard Interface" }], "url": "#clipboard" },
                "clipboard-item": { "dfnID": "clipboard-item", "dfnText": "clipboard item", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-clipboard-item" }, { "id": "ref-for-clipboard-item\u2460" }, { "id": "ref-for-clipboard-item\u2461" }, { "id": "ref-for-clipboard-item\u2462" }, { "id": "ref-for-clipboard-item\u2463" }, { "id": "ref-for-clipboard-item\u2464" }, { "id": "ref-for-clipboard-item\u2465" }, { "id": "ref-for-clipboard-item\u2466" }, { "id": "ref-for-clipboard-item\u2467" }, { "id": "ref-for-clipboard-item\u2468" }, { "id": "ref-for-clipboard-item\u2460\u24ea" }, { "id": "ref-for-clipboard-item\u2460\u2460" }, { "id": "ref-for-clipboard-item\u2460\u2461" }, { "id": "ref-for-clipboard-item\u2460\u2462" }, { "id": "ref-for-clipboard-item\u2460\u2463" }, { "id": "ref-for-clipboard-item\u2460\u2464" }, { "id": "ref-for-clipboard-item\u2460\u2465" }, { "id": "ref-for-clipboard-item\u2460\u2466" }, { "id": "ref-for-clipboard-item\u2460\u2467" }, { "id": "ref-for-clipboard-item\u2460\u2468" }, { "id": "ref-for-clipboard-item\u2461\u24ea" }, { "id": "ref-for-clipboard-item\u2461\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-clipboard-item\u2461\u2461" }, { "id": "ref-for-clipboard-item\u2461\u2462" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-clipboard-item\u2461\u2463" }, { "id": "ref-for-clipboard-item\u2461\u2464" }, { "id": "ref-for-clipboard-item\u2461\u2465" }, { "id": "ref-for-clipboard-item\u2461\u2466" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-clipboard-item\u2461\u2467" }], "title": "read web custom format" }], "url": "#clipboard-item" },
                "clipboard-items": { "dfnID": "clipboard-items", "dfnText": "clipboard items", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-clipboard-items" }], "title": "7.3. Clipboard Interface" }], "url": "#clipboard-items" },
                "clipboard-task-source": { "dfnID": "clipboard-task-source", "dfnText": "clipboard task source", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-clipboard-task-source" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-clipboard-task-source\u2460" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-clipboard-task-source\u2461" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-clipboard-task-source\u2462" }], "title": "7.3.4. writeText(data)" }], "url": "#clipboard-task-source" },
                "clipboardevent": { "dfnID": "clipboardevent", "dfnText": "ClipboardEvent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-clipboardevent" }, { "id": "ref-for-clipboardevent\u2460" }], "title": "6. Clipboard Event API" }, { "refs": [{ "id": "ref-for-clipboardevent\u2461" }], "title": "6.1. Overriding the copy event" }, { "refs": [{ "id": "ref-for-clipboardevent\u2462" }], "title": "6.2. Overriding the cut event" }, { "refs": [{ "id": "ref-for-clipboardevent\u2463" }, { "id": "ref-for-clipboardevent\u2464" }], "title": "fire a clipboard event" }], "url": "#clipboardevent" },
                "clipboardevent-clipboarddata": { "dfnID": "clipboardevent-clipboarddata", "dfnText": "clipboardData", "external": false, "refSections": [], "url": "#clipboardevent-clipboarddata" },
                "clipboardeventinit-clipboarddata": { "dfnID": "clipboardeventinit-clipboarddata", "dfnText": "clipboardData", "external": false, "refSections": [], "url": "#clipboardeventinit-clipboarddata" },
                "clipboarditem": { "dfnID": "clipboarditem", "dfnText": "ClipboardItem", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-clipboarditem" }], "title": "6.4. Mandatory data types" }, { "refs": [{ "id": "ref-for-clipboarditem\u2460" }], "title": "6.5. Optional data types" }, { "refs": [{ "id": "ref-for-clipboarditem\u2461" }, { "id": "ref-for-clipboarditem\u2462" }, { "id": "ref-for-clipboarditem\u2463" }, { "id": "ref-for-clipboarditem\u2464" }, { "id": "ref-for-clipboarditem\u2465" }, { "id": "ref-for-clipboarditem\u2466" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-clipboarditem\u2467" }, { "id": "ref-for-clipboarditem\u2468" }, { "id": "ref-for-clipboarditem\u2460\u24ea" }, { "id": "ref-for-clipboarditem\u2460\u2460" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-clipboarditem\u2460\u2461" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-clipboarditem\u2460\u2462" }], "title": "7.3.3. write(data)" }], "url": "#clipboarditem" },
                "clipboarditem-clipboard-item": { "dfnID": "clipboarditem-clipboard-item", "dfnText": "clipboard item", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-clipboarditem-clipboard-item" }, { "id": "ref-for-clipboarditem-clipboard-item\u2460" }, { "id": "ref-for-clipboarditem-clipboard-item\u2461" }, { "id": "ref-for-clipboarditem-clipboard-item\u2462" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-clipboarditem-clipboard-item\u2463" }], "title": "7.2.1. presentationStyle" }, { "refs": [{ "id": "ref-for-clipboarditem-clipboard-item\u2464" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-clipboarditem-clipboard-item\u2465" }, { "id": "ref-for-clipboarditem-clipboard-item\u2466" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-clipboarditem-clipboard-item\u2467" }], "title": "write blobs and option to the clipboard" }], "url": "#clipboarditem-clipboard-item" },
                "clipboarditem-types-array": { "dfnID": "clipboarditem-types-array", "dfnText": "types array", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-clipboarditem-types-array" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-clipboarditem-types-array\u2460" }], "title": "7.2.2. types" }], "url": "#clipboarditem-types-array" },
                "create-a-clipboarditem-object": { "dfnID": "create-a-clipboarditem-object", "dfnText": "create a ClipboardItem object", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-a-clipboarditem-object" }], "title": "7.3.1. read(formats)" }], "url": "#create-a-clipboarditem-object" },
                "d6e5d5bd": { "dfnID": "d6e5d5bd", "dfnText": "serialize a MIME type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-serialize-a-mime-type" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-serialize-a-mime-type\u2460" }], "title": "7.2.3. getType(type)" }], "url": "https://mimesniff.spec.whatwg.org/#serialize-a-mime-type" },
                "d72dabca": { "dfnID": "d72dabca", "dfnText": "parse a MIME type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-parse-a-mime-type" }], "title": "6.5. Optional data types" }, { "refs": [{ "id": "ref-for-parse-a-mime-type\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-parse-a-mime-type\u2461" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-parse-a-mime-type\u2462" }], "title": "write blobs and option to the clipboard" }, { "refs": [{ "id": "ref-for-parse-a-mime-type\u2463" }], "title": "well-known mime type from os specific format" }, { "refs": [{ "id": "ref-for-parse-a-mime-type\u2464" }], "title": "read web custom format" }], "url": "https://mimesniff.spec.whatwg.org/#parse-a-mime-type" },
                "d82f90d1": { "dfnID": "d82f90d1", "dfnText": "getData(format)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-getdata" }], "title": "fire a clipboard event" }], "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-getdata" },
                "d8705310": { "dfnID": "d8705310", "dfnText": "permission descriptor type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-permission-descriptor-type" }], "title": "9. Permissions API Integration" }], "url": "https://www.w3.org/TR/permissions/#dfn-permission-descriptor-type" },
                "dacde8b5": { "dfnID": "dacde8b5", "dfnText": "a new promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-new-promise" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2461" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-a-new-promise\u2462" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2463" }], "title": "7.3.4. writeText(data)" }], "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "dc8f85df": { "dfnID": "dc8f85df", "dfnText": "concept dnd p", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-dnd-p" }], "title": "fire a clipboard event" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-p" },
                "dca2de17": { "dfnID": "dca2de17", "dfnText": "DOMException", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }, { "id": "ref-for-idl-DOMException\u2460" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461" }, { "id": "ref-for-idl-DOMException\u2462" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2463" }, { "id": "ref-for-idl-DOMException\u2464" }, { "id": "ref-for-idl-DOMException\u2465" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2466" }, { "id": "ref-for-idl-DOMException\u2467" }, { "id": "ref-for-idl-DOMException\u2468" }], "title": "7.3.3. write(data)" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "dcf5fafa": { "dfnID": "dcf5fafa", "dfnText": "FrozenArray", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-frozen-array" }, { "id": "ref-for-idl-frozen-array\u2460" }], "title": "7.2. ClipboardItem Interface" }], "url": "https://webidl.spec.whatwg.org/#idl-frozen-array" },
                "dictdef-clipboardeventinit": { "dfnID": "dictdef-clipboardeventinit", "dfnText": "ClipboardEventInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-clipboardeventinit" }], "title": "5.1. Clipboard event interfaces" }], "url": "#dictdef-clipboardeventinit" },
                "dictdef-clipboarditemoptions": { "dfnID": "dictdef-clipboarditemoptions", "dfnText": "ClipboardItemOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-clipboarditemoptions" }, { "id": "ref-for-dictdef-clipboarditemoptions\u2460" }], "title": "7.2. ClipboardItem Interface" }], "url": "#dictdef-clipboarditemoptions" },
                "dictdef-clipboardpermissiondescriptor": { "dfnID": "dictdef-clipboardpermissiondescriptor", "dfnText": "ClipboardPermissionDescriptor", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-clipboardpermissiondescriptor" }], "title": "9. Permissions API Integration" }], "url": "#dictdef-clipboardpermissiondescriptor" },
                "dictdef-clipboardunsanitizedformats": { "dfnID": "dictdef-clipboardunsanitizedformats", "dfnText": "ClipboardUnsanitizedFormats", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-clipboardunsanitizedformats" }], "title": "7.3. Clipboard Interface" }], "url": "#dictdef-clipboardunsanitizedformats" },
                "dom-clipboard-read": { "dfnID": "dom-clipboard-read", "dfnText": "7.3.1. read(formats)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboard-read" }], "title": "2.2. Remote Clipboard Synchronization" }, { "refs": [{ "id": "ref-for-dom-clipboard-read\u2460" }, { "id": "ref-for-dom-clipboard-read\u2461" }, { "id": "ref-for-dom-clipboard-read\u2462" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-dom-clipboard-read" }, { "id": "ref-for-dom-clipboard-read\u2463" }], "title": "7.3.1. read(formats)" }], "url": "#dom-clipboard-read" },
                "dom-clipboard-read-formats-formats": { "dfnID": "dom-clipboard-read-formats-formats", "dfnText": "formats", "external": false, "refSections": [], "url": "#dom-clipboard-read-formats-formats" },
                "dom-clipboard-readtext": { "dfnID": "dom-clipboard-readtext", "dfnText": "7.3.2. readText()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboard-readtext" }, { "id": "ref-for-dom-clipboard-readtext\u2460" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-dom-clipboard-readtext" }, { "id": "ref-for-dom-clipboard-readtext\u2461" }], "title": "7.3.2. readText()" }], "url": "#dom-clipboard-readtext" },
                "dom-clipboard-write": { "dfnID": "dom-clipboard-write", "dfnText": "7.3.3. write(data)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboard-write" }], "title": "2.2. Remote Clipboard Synchronization" }, { "refs": [{ "id": "ref-for-dom-clipboard-write\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-dom-clipboard-write\u2461" }, { "id": "ref-for-dom-clipboard-write\u2462" }, { "id": "ref-for-dom-clipboard-write\u2463" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-dom-clipboard-write" }, { "id": "ref-for-dom-clipboard-write\u2464" }], "title": "7.3.3. write(data)" }], "url": "#dom-clipboard-write" },
                "dom-clipboard-write-data-data": { "dfnID": "dom-clipboard-write-data-data", "dfnText": "data", "external": false, "refSections": [], "url": "#dom-clipboard-write-data-data" },
                "dom-clipboard-writetext": { "dfnID": "dom-clipboard-writetext", "dfnText": "7.3.4. writeText(data)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboard-writetext" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-dom-clipboard-writetext" }, { "id": "ref-for-dom-clipboard-writetext\u2460" }], "title": "7.3.4. writeText(data)" }], "url": "#dom-clipboard-writetext" },
                "dom-clipboard-writetext-data-data": { "dfnID": "dom-clipboard-writetext-data-data", "dfnText": "data", "external": false, "refSections": [], "url": "#dom-clipboard-writetext-data-data" },
                "dom-clipboardevent-clipboarddata": { "dfnID": "dom-clipboardevent-clipboarddata", "dfnText": "clipboardData", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboardevent-clipboarddata" }], "title": "5.2.3. The cut event" }, { "refs": [{ "id": "ref-for-dom-clipboardevent-clipboarddata\u2460" }], "title": "6. Clipboard Event API" }, { "refs": [{ "id": "ref-for-dom-clipboardevent-clipboarddata\u2461" }], "title": "6.1. Overriding the copy event" }, { "refs": [{ "id": "ref-for-dom-clipboardevent-clipboarddata\u2462" }], "title": "6.2. Overriding the cut event" }, { "refs": [{ "id": "ref-for-dom-clipboardevent-clipboarddata\u2463" }], "title": "fire a clipboard event" }], "url": "#dom-clipboardevent-clipboarddata" },
                "dom-clipboardevent-clipboardevent": { "dfnID": "dom-clipboardevent-clipboardevent", "dfnText": "constructor", "external": false, "refSections": [], "url": "#dom-clipboardevent-clipboardevent" },
                "dom-clipboardevent-clipboardevent-type-eventinitdict-eventinitdict": { "dfnID": "dom-clipboardevent-clipboardevent-type-eventinitdict-eventinitdict", "dfnText": "eventInitDict", "external": false, "refSections": [], "url": "#dom-clipboardevent-clipboardevent-type-eventinitdict-eventinitdict" },
                "dom-clipboardevent-clipboardevent-type-eventinitdict-type": { "dfnID": "dom-clipboardevent-clipboardevent-type-eventinitdict-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-clipboardevent-clipboardevent-type-eventinitdict-type" },
                "dom-clipboardeventinit-clipboarddata": { "dfnID": "dom-clipboardeventinit-clipboarddata", "dfnText": "clipboardData", "external": false, "refSections": [], "url": "#dom-clipboardeventinit-clipboarddata" },
                "dom-clipboarditem-clipboarditem": { "dfnID": "dom-clipboarditem-clipboarditem", "dfnText": "new ClipboardItem(items, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboarditem-clipboarditem" }], "title": "7.2. ClipboardItem Interface" }], "url": "#dom-clipboarditem-clipboarditem" },
                "dom-clipboarditem-clipboarditem-items-options-items": { "dfnID": "dom-clipboarditem-clipboarditem-items-options-items", "dfnText": "items", "external": false, "refSections": [], "url": "#dom-clipboarditem-clipboarditem-items-options-items" },
                "dom-clipboarditem-clipboarditem-items-options-options": { "dfnID": "dom-clipboarditem-clipboarditem-items-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-clipboarditem-clipboarditem-items-options-options" },
                "dom-clipboarditem-gettype": { "dfnID": "dom-clipboarditem-gettype", "dfnText": "7.2.3. getType(type)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboarditem-gettype" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-dom-clipboarditem-gettype" }], "title": "7.2.3. getType(type)" }], "url": "#dom-clipboarditem-gettype" },
                "dom-clipboarditem-gettype-type-type": { "dfnID": "dom-clipboarditem-gettype-type-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-clipboarditem-gettype-type-type" },
                "dom-clipboarditem-presentationstyle": { "dfnID": "dom-clipboarditem-presentationstyle", "dfnText": "7.2.1. presentationStyle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboarditem-presentationstyle" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-dom-clipboarditem-presentationstyle" }, { "id": "ref-for-dom-clipboarditem-presentationstyle\u2460" }], "title": "7.2.1. presentationStyle" }], "url": "#dom-clipboarditem-presentationstyle" },
                "dom-clipboarditem-supports": { "dfnID": "dom-clipboarditem-supports", "dfnText": "7.2.4. supports(type)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboarditem-supports" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-dom-clipboarditem-supports" }], "title": "7.2.4. supports(type)" }], "url": "#dom-clipboarditem-supports" },
                "dom-clipboarditem-supports-type-type": { "dfnID": "dom-clipboarditem-supports-type-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-clipboarditem-supports-type-type" },
                "dom-clipboarditem-types": { "dfnID": "dom-clipboarditem-types", "dfnText": "7.2.2. types", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboarditem-types" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-dom-clipboarditem-types" }, { "id": "ref-for-dom-clipboarditem-types\u2460" }], "title": "7.2.2. types" }], "url": "#dom-clipboarditem-types" },
                "dom-clipboarditemoptions-presentationstyle": { "dfnID": "dom-clipboarditemoptions-presentationstyle", "dfnText": "presentationStyle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboarditemoptions-presentationstyle" }], "title": "7.2. ClipboardItem Interface" }], "url": "#dom-clipboarditemoptions-presentationstyle" },
                "dom-clipboardpermissiondescriptor-allowwithoutgesture": { "dfnID": "dom-clipboardpermissiondescriptor-allowwithoutgesture", "dfnText": "allowWithoutGesture", "external": false, "refSections": [], "url": "#dom-clipboardpermissiondescriptor-allowwithoutgesture" },
                "dom-clipboardunsanitizedformats-unsanitized": { "dfnID": "dom-clipboardunsanitizedformats-unsanitized", "dfnText": "unsanitized", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clipboardunsanitizedformats-unsanitized" }, { "id": "ref-for-dom-clipboardunsanitizedformats-unsanitized\u2460" }, { "id": "ref-for-dom-clipboardunsanitizedformats-unsanitized\u2461" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-dom-clipboardunsanitizedformats-unsanitized\u2462" }, { "id": "ref-for-dom-clipboardunsanitizedformats-unsanitized\u2463" }], "title": "7.3.1. read(formats)" }], "url": "#dom-clipboardunsanitizedformats-unsanitized" },
                "dom-navigator-clipboard": { "dfnID": "dom-navigator-clipboard", "dfnText": "clipboard", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-navigator-clipboard" }], "title": "7.1.1. clipboard" }], "url": "#dom-navigator-clipboard" },
                "dom-permissionname-clipboard-write": { "dfnID": "dom-permissionname-clipboard-write", "dfnText": "\"clipboard-write\"", "external": false, "refSections": [], "url": "#dom-permissionname-clipboard-write" },
                "dom-presentationstyle-attachment": { "dfnID": "dom-presentationstyle-attachment", "dfnText": "\"attachment\"", "external": false, "refSections": [], "url": "#dom-presentationstyle-attachment" },
                "dom-presentationstyle-inline": { "dfnID": "dom-presentationstyle-inline", "dfnText": "\"inline\"", "external": false, "refSections": [], "url": "#dom-presentationstyle-inline" },
                "dom-presentationstyle-unspecified": { "dfnID": "dom-presentationstyle-unspecified", "dfnText": "\"unspecified\"", "external": false, "refSections": [], "url": "#dom-presentationstyle-unspecified" },
                "e99bd18e": { "dfnID": "e99bd18e", "dfnText": "relevant global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "9.1.1. check clipboard read permission" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "9.2.1. check clipboard write permission" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "editable-context": { "dfnID": "editable-context", "dfnText": "editable context", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-editable-context" }, { "id": "ref-for-editable-context\u2460" }], "title": "5.2.3. The cut event" }, { "refs": [{ "id": "ref-for-editable-context\u2461" }, { "id": "ref-for-editable-context\u2462" }], "title": "5.2.4. The paste event" }, { "refs": [{ "id": "ref-for-editable-context\u2463" }], "title": "8.2. The cut action" }, { "refs": [{ "id": "ref-for-editable-context\u2464" }], "title": "8.3. The paste action" }], "url": "#editable-context" },
                "enumdef-presentationstyle": { "dfnID": "enumdef-presentationstyle", "dfnText": "PresentationStyle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-presentationstyle" }, { "id": "ref-for-enumdef-presentationstyle\u2460" }, { "id": "ref-for-enumdef-presentationstyle\u2461" }], "title": "7.2. ClipboardItem Interface" }], "url": "#enumdef-presentationstyle" },
                "eventdef-globaleventhandlers-clipboardchange": { "dfnID": "eventdef-globaleventhandlers-clipboardchange", "dfnText": "clipboardchange", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-clipboardchange" }], "title": "2.2. Remote Clipboard Synchronization" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-clipboardchange\u2460" }, { "id": "ref-for-eventdef-globaleventhandlers-clipboardchange\u2461" }], "title": "5.2.1. The clipboardchange event" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-clipboardchange\u2462" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-clipboardchange\u2463" }, { "id": "ref-for-eventdef-globaleventhandlers-clipboardchange\u2464" }], "title": "8.2. The cut action" }], "url": "#eventdef-globaleventhandlers-clipboardchange" },
                "eventdef-globaleventhandlers-copy": { "dfnID": "eventdef-globaleventhandlers-copy", "dfnText": "copy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-copy" }], "title": "5.2.1. The clipboardchange event" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-copy\u2460" }, { "id": "ref-for-eventdef-globaleventhandlers-copy\u2461" }, { "id": "ref-for-eventdef-globaleventhandlers-copy\u2462" }], "title": "5.2.2. The copy event" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-copy\u2463" }], "title": "5.3.1. Event handlers that are allowed to modify the clipboard" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-copy\u2464" }, { "id": "ref-for-eventdef-globaleventhandlers-copy\u2465" }], "title": "6.1. Overriding the copy event" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-copy\u2466" }], "title": "8.1. The copy action" }], "url": "#eventdef-globaleventhandlers-copy" },
                "eventdef-globaleventhandlers-cut": { "dfnID": "eventdef-globaleventhandlers-cut", "dfnText": "cut", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-cut" }], "title": "5.2.1. The clipboardchange event" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-cut\u2460" }, { "id": "ref-for-eventdef-globaleventhandlers-cut\u2461" }, { "id": "ref-for-eventdef-globaleventhandlers-cut\u2462" }, { "id": "ref-for-eventdef-globaleventhandlers-cut\u2463" }, { "id": "ref-for-eventdef-globaleventhandlers-cut\u2464" }], "title": "5.2.3. The cut event" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-cut\u2465" }], "title": "5.3.1. Event handlers that are allowed to modify the clipboard" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-cut\u2466" }, { "id": "ref-for-eventdef-globaleventhandlers-cut\u2467" }, { "id": "ref-for-eventdef-globaleventhandlers-cut\u2468" }], "title": "6.2. Overriding the cut event" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-cut\u2460\u24ea" }], "title": "8.2. The cut action" }], "url": "#eventdef-globaleventhandlers-cut" },
                "eventdef-globaleventhandlers-paste": { "dfnID": "eventdef-globaleventhandlers-paste", "dfnText": "paste", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-paste" }, { "id": "ref-for-eventdef-globaleventhandlers-paste\u2460" }, { "id": "ref-for-eventdef-globaleventhandlers-paste\u2461" }, { "id": "ref-for-eventdef-globaleventhandlers-paste\u2462" }], "title": "5.2.4. The paste event" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-paste\u2463" }], "title": "5.3.2. Event handlers that are allowed to read from clipboard" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-paste\u2464" }, { "id": "ref-for-eventdef-globaleventhandlers-paste\u2465" }, { "id": "ref-for-eventdef-globaleventhandlers-paste\u2466" }, { "id": "ref-for-eventdef-globaleventhandlers-paste\u2467" }], "title": "6.3. Overriding the paste event" }, { "refs": [{ "id": "ref-for-eventdef-globaleventhandlers-paste\u2468" }], "title": "8.3. The paste action" }], "url": "#eventdef-globaleventhandlers-paste" },
                "f3fc35d3": { "dfnID": "f3fc35d3", "dfnText": "types", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-types" }], "title": "fire a clipboard event" }], "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-types" },
                "f62ad1e6": { "dfnID": "f62ad1e6", "dfnText": "clearData(format)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-datatransfer-cleardata" }], "title": "fire a clipboard event" }], "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-cleardata" },
                "fad8924f": { "dfnID": "fad8924f", "dfnText": "focusable area", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-focusable-area" }], "title": "5.3.5. Event listeners that modify selection or focus" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#focusable-area" },
                "fefe0433": { "dfnID": "fefe0433", "dfnText": "preventDefault()", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-preventdefault" }], "title": "6.1. Overriding the copy event" }, { "refs": [{ "id": "ref-for-dom-event-preventdefault\u2460" }], "title": "6.2. Overriding the cut event" }, { "refs": [{ "id": "ref-for-dom-event-preventdefault\u2461" }], "title": "6.3. Overriding the paste event" }], "url": "https://dom.spec.whatwg.org/#dom-event-preventdefault" },
                "fire-a-clipboard-event": { "dfnID": "fire-a-clipboard-event", "dfnText": "fire a clipboard event", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-fire-a-clipboard-event" }], "title": "5.2.2. The copy event" }, { "refs": [{ "id": "ref-for-fire-a-clipboard-event\u2460" }], "title": "5.2.3. The cut event" }, { "refs": [{ "id": "ref-for-fire-a-clipboard-event\u2461" }], "title": "5.2.4. The paste event" }, { "refs": [{ "id": "ref-for-fire-a-clipboard-event\u2462" }, { "id": "ref-for-fire-a-clipboard-event\u2463" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-fire-a-clipboard-event\u2464" }, { "id": "ref-for-fire-a-clipboard-event\u2465" }, { "id": "ref-for-fire-a-clipboard-event\u2466" }], "title": "8.2. The cut action" }, { "refs": [{ "id": "ref-for-fire-a-clipboard-event" }], "title": "8.3. The paste action" }], "url": "#fire-a-clipboard-event" },
                "list-of-representations": { "dfnID": "list-of-representations", "dfnText": "list of representations", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-list-of-representations" }, { "id": "ref-for-list-of-representations\u2460" }, { "id": "ref-for-list-of-representations\u2461" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-list-of-representations\u2462" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-list-of-representations\u2463" }, { "id": "ref-for-list-of-representations\u2464" }, { "id": "ref-for-list-of-representations\u2465" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-list-of-representations\u2466" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-list-of-representations\u2467" }], "title": "read web custom format" }], "url": "#list-of-representations" },
                "mandatory-data-types": { "dfnID": "mandatory-data-types", "dfnText": "Mandatory data types", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-mandatory-data-types" }], "title": "5.1. Clipboard event interfaces" }, { "refs": [{ "id": "ref-for-mandatory-data-types\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-mandatory-data-types\u2461" }], "title": "7.2.4. supports(type)" }, { "refs": [{ "id": "ref-for-mandatory-data-types\u2462" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-mandatory-data-types\u2463" }, { "id": "ref-for-mandatory-data-types\u2464" }], "title": "write content to the clipboard" }, { "refs": [{ "id": "ref-for-mandatory-data-types\u2465" }], "title": "fire a clipboard event" }], "url": "#mandatory-data-types" },
                "navigator-clipboard": { "dfnID": "navigator-clipboard", "dfnText": "clipboard", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-navigator-clipboard" }], "title": "7.1.1. clipboard" }, { "refs": [{ "id": "ref-for-navigator-clipboard\u2460" }], "title": "7.2. ClipboardItem Interface" }], "url": "#navigator-clipboard" },
                "optional-data-types": { "dfnID": "optional-data-types", "dfnText": "Optional data types", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-optional-data-types" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-optional-data-types\u2460" }], "title": "7.2.4. supports(type)" }, { "refs": [{ "id": "ref-for-optional-data-types\u2461" }], "title": "7.3.3. write(data)" }], "url": "#optional-data-types" },
                "optional-unsanitized-data-types": { "dfnID": "optional-unsanitized-data-types", "dfnText": "Optional unsanitized data types", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-optional-unsanitized-data-types" }, { "id": "ref-for-optional-unsanitized-data-types\u2460" }, { "id": "ref-for-optional-unsanitized-data-types\u2461" }], "title": "6.6. Unsanitized data types" }, { "refs": [{ "id": "ref-for-optional-unsanitized-data-types\u2462" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-optional-unsanitized-data-types\u2463" }], "title": "7.3.1. read(formats)" }], "url": "#optional-unsanitized-data-types" },
                "os-specific-custom-map-name": { "dfnID": "os-specific-custom-map-name", "dfnText": "os specific custom map name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-os-specific-custom-map-name" }], "title": "read web custom format" }, { "refs": [{ "id": "ref-for-os-specific-custom-map-name\u2460" }], "title": "write web custom formats" }], "url": "#os-specific-custom-map-name" },
                "os-specific-custom-name": { "dfnID": "os-specific-custom-name", "dfnText": "os specific custom name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-os-specific-custom-name" }], "title": "write web custom formats" }], "url": "#os-specific-custom-name" },
                "os-specific-well-known-format": { "dfnID": "os-specific-well-known-format", "dfnText": "os specific well-known format", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-os-specific-well-known-format" }], "title": "write blobs and option to the clipboard" }], "url": "#os-specific-well-known-format" },
                "presentation-style": { "dfnID": "presentation-style", "dfnText": "presentation style", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-presentation-style" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-presentation-style\u2460" }], "title": "7.2.1. presentationStyle" }, { "refs": [{ "id": "ref-for-presentation-style\u2461" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-presentation-style\u2462" }], "title": "write blobs and option to the clipboard" }], "url": "#presentation-style" },
                "process-an-html-paste-event": { "dfnID": "process-an-html-paste-event", "dfnText": "process an HTML paste event", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-process-an-html-paste-event" }], "title": "fire a clipboard event" }], "url": "#process-an-html-paste-event" },
                "read-web-custom-format": { "dfnID": "read-web-custom-format", "dfnText": "read web custom format", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-read-web-custom-format" }, { "id": "ref-for-read-web-custom-format\u2460" }], "title": "7.3.1. read(formats)" }], "url": "#read-web-custom-format" },
                "representation": { "dfnID": "representation", "dfnText": "representation", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-representation" }, { "id": "ref-for-representation\u2460" }, { "id": "ref-for-representation\u2461" }, { "id": "ref-for-representation\u2462" }, { "id": "ref-for-representation\u2463" }, { "id": "ref-for-representation\u2464" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-representation\u2465" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-representation\u2466" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-representation\u2467" }], "title": "read web custom format" }], "url": "#representation" },
                "representation-data": { "dfnID": "representation-data", "dfnText": "data", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-representation-data" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-representation-data\u2460" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-representation-data\u2461" }, { "id": "ref-for-representation-data\u2462" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-representation-data\u2463" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-representation-data\u2464" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-representation-data\u2465" }], "title": "read web custom format" }], "url": "#representation-data" },
                "representation-iscustom": { "dfnID": "representation-iscustom", "dfnText": "isCustom", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-representation-iscustom" }, { "id": "ref-for-representation-iscustom\u2460" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-representation-iscustom\u2461" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-representation-iscustom\u2462" }], "title": "read web custom format" }], "url": "#representation-iscustom" },
                "representation-mime-type": { "dfnID": "representation-mime-type", "dfnText": "mime type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-representation-mime-type" }], "title": "6.6. Unsanitized data types" }, { "refs": [{ "id": "ref-for-representation-mime-type\u2460" }, { "id": "ref-for-representation-mime-type\u2461" }, { "id": "ref-for-representation-mime-type\u2462" }, { "id": "ref-for-representation-mime-type\u2463" }, { "id": "ref-for-representation-mime-type\u2464" }, { "id": "ref-for-representation-mime-type\u2465" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-representation-mime-type\u2466" }], "title": "7.2.3. getType(type)" }, { "refs": [{ "id": "ref-for-representation-mime-type\u2467" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-representation-mime-type\u2468" }, { "id": "ref-for-representation-mime-type\u2460\u24ea" }, { "id": "ref-for-representation-mime-type\u2460\u2460" }, { "id": "ref-for-representation-mime-type\u2460\u2461" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-representation-mime-type\u2460\u2462" }, { "id": "ref-for-representation-mime-type\u2460\u2463" }], "title": "7.3.2. readText()" }, { "refs": [{ "id": "ref-for-representation-mime-type\u2460\u2464" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-representation-mime-type\u2460\u2465" }], "title": "read web custom format" }], "url": "#representation-mime-type" },
                "script-may-access-clipboard": { "dfnID": "script-may-access-clipboard", "dfnText": "script-may-access-clipboard", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-script-may-access-clipboard" }, { "id": "ref-for-script-may-access-clipboard\u2460" }, { "id": "ref-for-script-may-access-clipboard\u2461" }], "title": "8. Clipboard Actions" }, { "refs": [{ "id": "ref-for-script-may-access-clipboard\u2462" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-script-may-access-clipboard\u2463" }], "title": "8.2. The cut action" }, { "refs": [{ "id": "ref-for-script-may-access-clipboard\u2464" }, { "id": "ref-for-script-may-access-clipboard\u2465" }], "title": "8.3. The paste action" }], "url": "#script-may-access-clipboard" },
                "script-triggered": { "dfnID": "script-triggered", "dfnText": "script-triggered", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-script-triggered" }, { "id": "ref-for-script-triggered\u2460" }], "title": "8. Clipboard Actions" }, { "refs": [{ "id": "ref-for-script-triggered\u2461" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-script-triggered\u2462" }], "title": "8.2. The cut action" }, { "refs": [{ "id": "ref-for-script-triggered\u2463" }], "title": "8.3. The paste action" }], "url": "#script-triggered" },
                "system-clipboard": { "dfnID": "system-clipboard", "dfnText": "system clipboard", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-system-clipboard" }], "title": "4. Model" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460" }, { "id": "ref-for-system-clipboard\u2461" }], "title": "5.2.1. The clipboardchange event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2462" }, { "id": "ref-for-system-clipboard\u2463" }], "title": "5.2.2. The copy event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2464" }, { "id": "ref-for-system-clipboard\u2465" }], "title": "5.2.3. The cut event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2466" }], "title": "6.1. Overriding the copy event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2467" }], "title": "6.2. Overriding the cut event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2468" }], "title": "6.3. Overriding the paste event" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460\u24ea" }], "title": "7.1.1. clipboard" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460\u2460" }, { "id": "ref-for-system-clipboard\u2460\u2461" }, { "id": "ref-for-system-clipboard\u2460\u2462" }], "title": "7.2. ClipboardItem Interface" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460\u2463" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460\u2464" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460\u2465" }], "title": "write blobs and option to the clipboard" }, { "refs": [{ "id": "ref-for-system-clipboard\u2460\u2466" }, { "id": "ref-for-system-clipboard\u2460\u2467" }, { "id": "ref-for-system-clipboard\u2460\u2468" }], "title": "read web custom format" }, { "refs": [{ "id": "ref-for-system-clipboard\u2461\u24ea" }, { "id": "ref-for-system-clipboard\u2461\u2460" }], "title": "write web custom formats" }], "url": "#system-clipboard" },
                "system-clipboard-data": { "dfnID": "system-clipboard-data", "dfnText": "system clipboard data", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-system-clipboard-data" }, { "id": "ref-for-system-clipboard-data\u2460" }], "title": "7.3. Clipboard Interface" }, { "refs": [{ "id": "ref-for-system-clipboard-data\u2461" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-system-clipboard-data\u2462" }], "title": "7.3.2. readText()" }], "url": "#system-clipboard-data" },
                "system-clipboard-item": { "dfnID": "system-clipboard-item", "dfnText": "system clipboard item", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-system-clipboard-item" }], "title": "4. Model" }], "url": "#system-clipboard-item" },
                "system-clipboard-representation": { "dfnID": "system-clipboard-representation", "dfnText": "system clipboard representation", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-system-clipboard-representation" }], "title": "4. Model" }], "url": "#system-clipboard-representation" },
                "system-clipboard-representation-data": { "dfnID": "system-clipboard-representation-data", "dfnText": "data", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-system-clipboard-representation-data" }], "title": "7.3.1. read(formats)" }], "url": "#system-clipboard-representation-data" },
                "system-clipboard-representation-name": { "dfnID": "system-clipboard-representation-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-system-clipboard-representation-name" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-system-clipboard-representation-name\u2460" }], "title": "7.3.2. readText()" }], "url": "#system-clipboard-representation-name" },
                "typedefdef-clipboarditemdata": { "dfnID": "typedefdef-clipboarditemdata", "dfnText": "ClipboardItemData", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-clipboarditemdata" }, { "id": "ref-for-typedefdef-clipboarditemdata\u2460" }], "title": "7.2. ClipboardItem Interface" }], "url": "#typedefdef-clipboarditemdata" },
                "typedefdef-clipboarditems": { "dfnID": "typedefdef-clipboarditems", "dfnText": "ClipboardItems", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-clipboarditems" }, { "id": "ref-for-typedefdef-clipboarditems\u2460" }], "title": "7.3. Clipboard Interface" }], "url": "#typedefdef-clipboarditems" },
                "unsanitized-data-types": { "dfnID": "unsanitized-data-types", "dfnText": "Unsanitized data types", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-unsanitized-data-types" }], "title": "7.3.1. read(formats)" }], "url": "#unsanitized-data-types" },
                "web-custom-format": { "dfnID": "web-custom-format", "dfnText": "web custom format", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-web-custom-format" }], "title": "7.2. ClipboardItem Interface" }], "url": "#web-custom-format" },
                "well-known-mime-type-from-os-specific-format": { "dfnID": "well-known-mime-type-from-os-specific-format", "dfnText": "well-known mime type from os specific format", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-well-known-mime-type-from-os-specific-format" }], "title": "7.3.1. read(formats)" }, { "refs": [{ "id": "ref-for-well-known-mime-type-from-os-specific-format\u2460" }], "title": "7.3.2. readText()" }], "url": "#well-known-mime-type-from-os-specific-format" },
                "write-blobs-and-option-to-the-clipboard": { "dfnID": "write-blobs-and-option-to-the-clipboard", "dfnText": "write blobs and option to the clipboard", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-write-blobs-and-option-to-the-clipboard" }], "title": "7.3.3. write(data)" }, { "refs": [{ "id": "ref-for-write-blobs-and-option-to-the-clipboard\u2460" }], "title": "7.3.4. writeText(data)" }], "url": "#write-blobs-and-option-to-the-clipboard" },
                "write-content-to-the-clipboard": { "dfnID": "write-content-to-the-clipboard", "dfnText": "write content to the clipboard", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-write-content-to-the-clipboard" }], "title": "8.1. The copy action" }, { "refs": [{ "id": "ref-for-write-content-to-the-clipboard\u2460" }], "title": "8.2. The cut action" }], "url": "#write-content-to-the-clipboard" },
                "write-web-custom-formats": { "dfnID": "write-web-custom-formats", "dfnText": "write web custom formats", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-write-web-custom-formats" }], "title": "write blobs and option to the clipboard" }], "url": "#write-web-custom-formats" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-position-annos */
        "use strict";
        {
            function repositionAnnoPanels() {
                const panels = [...document.querySelectorAll("[data-anno-for]")];
                hydratePanels(panels);
                let vSoFar = 0;
                for (const panel of panels.sort(cmpTops)) {
                    if (panel.top < vSoFar) {
                        panel.top = vSoFar;
                        panel.style.top = vSoFar + "px";
                    }
                    vSoFar = panel.top + panel.height + 15;
                }
            }
            function hydratePanels(panels) {
                const main = document.querySelector("main");
                let mainRect;
                if (main) mainRect = main.getBoundingClientRect();
                // First display them all, if they're not already visible.
                for (const panel of panels) {
                    panel.classList.remove("unpositioned");
                }
                // Measure them all
                for (const panel of panels) {
                    const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
                    if (!dfn) {
                        console.log("Can't find the annotation panel target:", panel);
                        continue;
                    }
                    panel.dfn = dfn;
                    panel.top = window.scrollY + dfn.getBoundingClientRect().top;
                    let panelRect = panel.getBoundingClientRect();
                    panel.height = panelRect.height;
                    if (main) {
                        panel.overlappingMain = panelRect.left < mainRect.right;
                    } else {
                        panel.overlappingMain = false;
                    }
                }
                // And finally position them
                for (const panel of panels) {
                    const dfn = panel.dfn;
                    if (!dfn) continue;
                    panel.style.top = panel.top + "px";
                    panel.classList.toggle("overlapping-main", panel.overlappingMain);
                }
            }

            function cmpTops(a, b) {
                return a.top - b.top;
            }

            window.addEventListener("load", repositionAnnoPanels);
            window.addEventListener("resize", repositionAnnoPanels);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#allowed-to-modify-the-clipboard": { "displayText": "allowed to modify the clipboard", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "allowed to modify the clipboard", "type": "dfn", "url": "#allowed-to-modify-the-clipboard" },
                "#allowed-to-read-from-clipboard": { "displayText": "allowed to read from clipboard", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "allowed to read from clipboard", "type": "dfn", "url": "#allowed-to-read-from-clipboard" },
                "#check-clipboard-read-permission": { "displayText": "check clipboard read permission", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "check clipboard read permission", "type": "dfn", "url": "#check-clipboard-read-permission" },
                "#check-clipboard-write-permission": { "displayText": "check clipboard write permission", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "check clipboard write permission", "type": "dfn", "url": "#check-clipboard-write-permission" },
                "#clipboard": { "displayText": "Clipboard", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "Clipboard", "type": "interface", "url": "#clipboard" },
                "#clipboard-item": { "displayText": "clipboard item", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "clipboard item", "type": "dfn", "url": "#clipboard-item" },
                "#clipboard-items": { "displayText": "clipboard items", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "clipboard items", "type": "dfn", "url": "#clipboard-items" },
                "#clipboard-task-source": { "displayText": "clipboard task source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "clipboard task source", "type": "dfn", "url": "#clipboard-task-source" },
                "#clipboardevent": { "displayText": "ClipboardEvent", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "ClipboardEvent", "type": "interface", "url": "#clipboardevent" },
                "#clipboarditem": { "displayText": "ClipboardItem", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "ClipboardItem", "type": "interface", "url": "#clipboarditem" },
                "#clipboarditem-clipboard-item": { "displayText": "clipboard item", "export": true, "for_": ["ClipboardItem"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "clipboard item", "type": "dfn", "url": "#clipboarditem-clipboard-item" },
                "#clipboarditem-types-array": { "displayText": "types array", "export": true, "for_": ["ClipboardItem"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "types array", "type": "dfn", "url": "#clipboarditem-types-array" },
                "#create-a-clipboarditem-object": { "displayText": "create a clipboarditem object", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "create a clipboarditem object", "type": "dfn", "url": "#create-a-clipboarditem-object" },
                "#dictdef-clipboardeventinit": { "displayText": "ClipboardEventInit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "ClipboardEventInit", "type": "dictionary", "url": "#dictdef-clipboardeventinit" },
                "#dictdef-clipboarditemoptions": { "displayText": "ClipboardItemOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "ClipboardItemOptions", "type": "dictionary", "url": "#dictdef-clipboarditemoptions" },
                "#dictdef-clipboardpermissiondescriptor": { "displayText": "ClipboardPermissionDescriptor", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "ClipboardPermissionDescriptor", "type": "dictionary", "url": "#dictdef-clipboardpermissiondescriptor" },
                "#dictdef-clipboardunsanitizedformats": { "displayText": "ClipboardUnsanitizedFormats", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "ClipboardUnsanitizedFormats", "type": "dictionary", "url": "#dictdef-clipboardunsanitizedformats" },
                "#dom-clipboard-read": { "displayText": "read()", "export": true, "for_": ["Clipboard"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "read()", "type": "method", "url": "#dom-clipboard-read" },
                "#dom-clipboard-readtext": { "displayText": "readText()", "export": true, "for_": ["Clipboard"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "readText()", "type": "method", "url": "#dom-clipboard-readtext" },
                "#dom-clipboard-write": { "displayText": "write(data)", "export": true, "for_": ["Clipboard"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "write(data)", "type": "method", "url": "#dom-clipboard-write" },
                "#dom-clipboard-writetext": { "displayText": "writeText(data)", "export": true, "for_": ["Clipboard"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "writeText(data)", "type": "method", "url": "#dom-clipboard-writetext" },
                "#dom-clipboardevent-clipboarddata": { "displayText": "clipboardData", "export": true, "for_": ["ClipboardEvent"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "clipboardData", "type": "attribute", "url": "#dom-clipboardevent-clipboarddata" },
                "#dom-clipboarditem-clipboarditem": { "displayText": "ClipboardItem(items, options)", "export": true, "for_": ["ClipboardItem"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "ClipboardItem(items, options)", "type": "constructor", "url": "#dom-clipboarditem-clipboarditem" },
                "#dom-clipboarditem-gettype": { "displayText": "getType(type)", "export": true, "for_": ["ClipboardItem"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "getType(type)", "type": "method", "url": "#dom-clipboarditem-gettype" },
                "#dom-clipboarditem-presentationstyle": { "displayText": "presentationStyle", "export": true, "for_": ["ClipboardItem"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "presentationStyle", "type": "attribute", "url": "#dom-clipboarditem-presentationstyle" },
                "#dom-clipboarditem-supports": { "displayText": "supports(type)", "export": true, "for_": ["ClipboardItem"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "supports(type)", "type": "method", "url": "#dom-clipboarditem-supports" },
                "#dom-clipboarditem-types": { "displayText": "types", "export": true, "for_": ["ClipboardItem"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "types", "type": "attribute", "url": "#dom-clipboarditem-types" },
                "#dom-clipboarditemoptions-presentationstyle": { "displayText": "presentationStyle", "export": true, "for_": ["ClipboardItemOptions"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "presentationStyle", "type": "dict-member", "url": "#dom-clipboarditemoptions-presentationstyle" },
                "#dom-clipboardunsanitizedformats-unsanitized": { "displayText": "unsanitized", "export": true, "for_": ["ClipboardUnsanitizedFormats"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "unsanitized", "type": "dict-member", "url": "#dom-clipboardunsanitizedformats-unsanitized" },
                "#dom-navigator-clipboard": { "displayText": "clipboard", "export": true, "for_": ["Navigator"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "clipboard", "type": "attribute", "url": "#dom-navigator-clipboard" },
                "#editable-context": { "displayText": "editable context", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "editable context", "type": "dfn", "url": "#editable-context" },
                "#enumdef-presentationstyle": { "displayText": "PresentationStyle", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "PresentationStyle", "type": "enum", "url": "#enumdef-presentationstyle" },
                "#eventdef-globaleventhandlers-clipboardchange": { "displayText": "clipboardchange", "export": true, "for_": ["GlobalEventHandlers"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "clipboardchange", "type": "event", "url": "#eventdef-globaleventhandlers-clipboardchange" },
                "#eventdef-globaleventhandlers-copy": { "displayText": "copy", "export": true, "for_": ["GlobalEventHandlers"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "copy", "type": "event", "url": "#eventdef-globaleventhandlers-copy" },
                "#eventdef-globaleventhandlers-cut": { "displayText": "cut", "export": true, "for_": ["GlobalEventHandlers"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "cut", "type": "event", "url": "#eventdef-globaleventhandlers-cut" },
                "#eventdef-globaleventhandlers-paste": { "displayText": "paste", "export": true, "for_": ["GlobalEventHandlers"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "paste", "type": "event", "url": "#eventdef-globaleventhandlers-paste" },
                "#fire-a-clipboard-event": { "displayText": "fire a clipboard event", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "fire a clipboard event", "type": "dfn", "url": "#fire-a-clipboard-event" },
                "#list-of-representations": { "displayText": "list of representations", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "list of representations", "type": "dfn", "url": "#list-of-representations" },
                "#mandatory-data-types": { "displayText": "mandatory data types", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "mandatory data types", "type": "dfn", "url": "#mandatory-data-types" },
                "#navigator-clipboard": { "displayText": "clipboard", "export": true, "for_": ["Navigator"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "clipboard", "type": "dfn", "url": "#navigator-clipboard" },
                "#optional-data-types": { "displayText": "optional data types", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "optional data types", "type": "dfn", "url": "#optional-data-types" },
                "#optional-unsanitized-data-types": { "displayText": "optional unsanitized data types", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "optional unsanitized data types", "type": "dfn", "url": "#optional-unsanitized-data-types" },
                "#os-specific-custom-map-name": { "displayText": "os specific custom map name", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "os specific custom map name", "type": "dfn", "url": "#os-specific-custom-map-name" },
                "#os-specific-custom-name": { "displayText": "os specific custom name", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "os specific custom name", "type": "dfn", "url": "#os-specific-custom-name" },
                "#os-specific-well-known-format": { "displayText": "os specific well-known format", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "os specific well-known format", "type": "dfn", "url": "#os-specific-well-known-format" },
                "#presentation-style": { "displayText": "presentation style", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "presentation style", "type": "dfn", "url": "#presentation-style" },
                "#process-an-html-paste-event": { "displayText": "process an html paste event", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "process an html paste event", "type": "dfn", "url": "#process-an-html-paste-event" },
                "#read-web-custom-format": { "displayText": "read web custom format", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "read web custom format", "type": "dfn", "url": "#read-web-custom-format" },
                "#representation": { "displayText": "representation", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "representation", "type": "dfn", "url": "#representation" },
                "#representation-data": { "displayText": "data", "export": true, "for_": ["representation"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "data", "type": "dfn", "url": "#representation-data" },
                "#representation-iscustom": { "displayText": "iscustom", "export": true, "for_": ["representation"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "iscustom", "type": "dfn", "url": "#representation-iscustom" },
                "#representation-mime-type": { "displayText": "mime type", "export": true, "for_": ["representation"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "mime type", "type": "dfn", "url": "#representation-mime-type" },
                "#script-may-access-clipboard": { "displayText": "script-may-access-clipboard", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "script-may-access-clipboard", "type": "dfn", "url": "#script-may-access-clipboard" },
                "#script-triggered": { "displayText": "script-triggered", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "script-triggered", "type": "dfn", "url": "#script-triggered" },
                "#system-clipboard": { "displayText": "system clipboard", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "system clipboard", "type": "dfn", "url": "#system-clipboard" },
                "#system-clipboard-data": { "displayText": "system clipboard data", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "system clipboard data", "type": "dfn", "url": "#system-clipboard-data" },
                "#system-clipboard-item": { "displayText": "system clipboard item", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "system clipboard item", "type": "dfn", "url": "#system-clipboard-item" },
                "#system-clipboard-representation": { "displayText": "system clipboard representation", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "system clipboard representation", "type": "dfn", "url": "#system-clipboard-representation" },
                "#system-clipboard-representation-data": { "displayText": "data", "export": true, "for_": ["system clipboard representation"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "data", "type": "dfn", "url": "#system-clipboard-representation-data" },
                "#system-clipboard-representation-name": { "displayText": "name", "export": true, "for_": ["system clipboard representation"], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "name", "type": "dfn", "url": "#system-clipboard-representation-name" },
                "#typedefdef-clipboarditemdata": { "displayText": "ClipboardItemData", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "ClipboardItemData", "type": "typedef", "url": "#typedefdef-clipboarditemdata" },
                "#typedefdef-clipboarditems": { "displayText": "ClipboardItems", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "ClipboardItems", "type": "typedef", "url": "#typedefdef-clipboarditems" },
                "#unsanitized-data-types": { "displayText": "unsanitized data types", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "unsanitized data types", "type": "dfn", "url": "#unsanitized-data-types" },
                "#web-custom-format": { "displayText": "web custom format", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "web custom format", "type": "dfn", "url": "#web-custom-format" },
                "#well-known-mime-type-from-os-specific-format": { "displayText": "well-known mime type from os specific format", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "well-known mime type from os specific format", "type": "dfn", "url": "#well-known-mime-type-from-os-specific-format" },
                "#write-blobs-and-option-to-the-clipboard": { "displayText": "write blobs and option to the clipboard", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "write blobs and option to the clipboard", "type": "dfn", "url": "#write-blobs-and-option-to-the-clipboard" },
                "#write-content-to-the-clipboard": { "displayText": "write content to the clipboard", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "write content to the clipboard", "type": "dfn", "url": "#write-content-to-the-clipboard" },
                "#write-web-custom-formats": { "displayText": "write web custom formats", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "clipboard-apis", "status": "local", "text": "write web custom formats", "type": "dfn", "url": "#write-web-custom-formats" },
                "http://www.w3.org/TR/html5/browsers.html#allowed-to-show-a-popup": { "displayText": "allowed to show a popup", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "", "status": "anchor-block", "text": "allowed to show a popup", "type": "dfn", "url": "http://www.w3.org/TR/html5/browsers.html#allowed-to-show-a-popup" },
                "https://dom.spec.whatwg.org/#constructing-events": { "displayText": "constructing events", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "", "status": "anchor-block", "text": "constructing events", "type": "dfn", "url": "https://dom.spec.whatwg.org/#constructing-events" },
                "https://dom.spec.whatwg.org/#dictdef-eventinit": { "displayText": "EventInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventInit", "type": "dictionary", "url": "https://dom.spec.whatwg.org/#dictdef-eventinit" },
                "https://dom.spec.whatwg.org/#dom-event-composed": { "displayText": "composed", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "composed", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-composed" },
                "https://dom.spec.whatwg.org/#dom-event-istrusted": { "displayText": "isTrusted", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "isTrusted", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-istrusted" },
                "https://dom.spec.whatwg.org/#dom-event-preventdefault": { "displayText": "preventDefault()", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "preventDefault()", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-event-preventdefault" },
                "https://dom.spec.whatwg.org/#event": { "displayText": "Event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Event", "type": "interface", "url": "https://dom.spec.whatwg.org/#event" },
                "https://dom.spec.whatwg.org/#eventtarget": { "displayText": "EventTarget", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventTarget", "type": "interface", "url": "https://dom.spec.whatwg.org/#eventtarget" },
                "https://encoding.spec.whatwg.org/#utf-8-decode": { "displayText": "UTF-8 decode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 decode", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-decode" },
                "https://encoding.spec.whatwg.org/#utf-8-encode": { "displayText": "UTF-8 encode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "encoding", "spec": "encoding", "status": "current", "text": "utf-8 encode", "type": "dfn", "url": "https://encoding.spec.whatwg.org/#utf-8-encode" },
                "https://html.spec.whatwg.org/multipage/dnd.html#datatransfer": { "displayText": "DataTransfer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "DataTransfer", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransfer" },
                "https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem": { "displayText": "DataTransferItem", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "DataTransferItem", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransferitem" },
                "https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist": { "displayText": "DataTransferItemList", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "DataTransferItemList", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/dnd.html#datatransferitemlist" },
                "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-cleardata": { "displayText": "clearData(format)", "export": true, "for_": ["DataTransfer"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "clearData(format)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-cleardata" },
                "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files": { "displayText": "files", "export": true, "for_": ["DataTransfer"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "files", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-files" },
                "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-getdata": { "displayText": "getData(format)", "export": true, "for_": ["DataTransfer"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "getData(format)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-getdata" },
                "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items": { "displayText": "items", "export": true, "for_": ["DataTransfer"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "items", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-items" },
                "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata": { "displayText": "setData(format, data)", "export": true, "for_": ["DataTransfer"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "setData(format, data)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdata" },
                "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-types": { "displayText": "types", "export": true, "for_": ["DataTransfer"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "types", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-types" },
                "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransferitemlist-clear": { "displayText": "clear()", "export": true, "for_": ["DataTransferItemList"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "clear()", "type": "method", "url": "https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransferitemlist-clear" },
                "https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2": { "displayText": "the body element", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "the body element", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/dom.html#the-body-element-2" },
                "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": { "displayText": "in parallel", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "in parallel", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
                "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-p": { "displayText": "concept dnd p", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "", "status": "anchor-block", "text": "concept dnd p", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-p" },
                "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-ro": { "displayText": "concept dnd ro", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "", "status": "anchor-block", "text": "concept dnd ro", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-ro" },
                "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-rw": { "displayText": "concept dnd rw", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "", "status": "anchor-block", "text": "concept dnd rw", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#concept-dnd-rw" },
                "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind": { "displayText": "drag data item kind", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "", "status": "anchor-block", "text": "drag data item kind", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-kind" },
                "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string": { "displayText": "drag data item type string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "", "status": "anchor-block", "text": "drag data item type string", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-item-type-string" },
                "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode": { "displayText": "drag data store mode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "", "status": "anchor-block", "text": "drag data store mode", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#drag-data-store-mode" },
                "https://html.spec.whatwg.org/multipage/interaction.html#editing-host": { "displayText": "editing host", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "editing host", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#editing-host" },
                "https://html.spec.whatwg.org/multipage/interaction.html#focusable-area": { "displayText": "focusable area", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "", "status": "anchor-block", "text": "focusable area", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#focusable-area" },
                "https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps": { "displayText": "has focus steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "has focus steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps" },
                "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation": { "displayText": "transient activation", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "transient activation", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" },
                "https://html.spec.whatwg.org/multipage/system-state.html#navigator": { "displayText": "Navigator", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Navigator", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/system-state.html#navigator" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global": { "displayText": "global object", "export": true, "for_": ["realm"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": { "displayText": "relevant global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm": { "displayText": "relevant realm", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant realm", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task": { "displayText": "queue a global task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "queue a global task", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" },
                "https://infra.spec.whatwg.org/#list-contain": { "displayText": "contain", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "contain", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-contain" },
                "https://infra.spec.whatwg.org/#list-size": { "displayText": "size", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "size", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-size" },
                "https://infra.spec.whatwg.org/#string-starts-with": { "displayText": "starts with", "export": true, "for_": ["string"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "starts with", "type": "dfn", "url": "https://infra.spec.whatwg.org/#string-starts-with" },
                "https://mimesniff.spec.whatwg.org/#mime-type": { "displayText": "MIME type", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "mimesniff", "spec": "mimesniff", "status": "current", "text": "mime type", "type": "dfn", "url": "https://mimesniff.spec.whatwg.org/#mime-type" },
                "https://mimesniff.spec.whatwg.org/#mime-type-essence": { "displayText": "essence", "export": true, "for_": ["MIME type"], "level": "1", "normative": true, "shortname": "mimesniff", "spec": "mimesniff", "status": "current", "text": "essence", "type": "dfn", "url": "https://mimesniff.spec.whatwg.org/#mime-type-essence" },
                "https://mimesniff.spec.whatwg.org/#parse-a-mime-type": { "displayText": "parse a MIME type", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "mimesniff", "spec": "mimesniff", "status": "current", "text": "parse a mime type", "type": "dfn", "url": "https://mimesniff.spec.whatwg.org/#parse-a-mime-type" },
                "https://mimesniff.spec.whatwg.org/#serialize-a-mime-type": { "displayText": "serialize a MIME type", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "mimesniff", "spec": "mimesniff", "status": "current", "text": "serialize a mime type", "type": "dfn", "url": "https://mimesniff.spec.whatwg.org/#serialize-a-mime-type" },
                "https://w3c.github.io/permissions/#permissions-task-source": { "displayText": "permission task source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "clipboard-apis", "spec": "", "status": "anchor-block", "text": "permission task source", "type": "dfn", "url": "https://w3c.github.io/permissions/#permissions-task-source" },
                "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://webidl.spec.whatwg.org/#SameObject": { "displayText": "SameObject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SameObject", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SameObject" },
                "https://webidl.spec.whatwg.org/#SecureContext": { "displayText": "SecureContext", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecureContext", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SecureContext" },
                "https://webidl.spec.whatwg.org/#a-new-promise": { "displayText": "a new promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a new promise", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
                "https://webidl.spec.whatwg.org/#dfn-create-frozen-array": { "displayText": "create a frozen array", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "create a frozen array", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-create-frozen-array" },
                "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled": { "displayText": "react", "export": true, "for_": ["promise"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "react", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" },
                "https://webidl.spec.whatwg.org/#exceptiondef-typeerror": { "displayText": "TypeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
                "https://webidl.spec.whatwg.org/#idl-DOMException": { "displayText": "DOMException", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMException", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
                "https://webidl.spec.whatwg.org/#idl-DOMString": { "displayText": "DOMString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "https://webidl.spec.whatwg.org/#idl-boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "https://webidl.spec.whatwg.org/#idl-frozen-array": { "displayText": "FrozenArray", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "FrozenArray", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-frozen-array" },
                "https://webidl.spec.whatwg.org/#idl-promise": { "displayText": "Promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Promise", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-promise" },
                "https://webidl.spec.whatwg.org/#idl-record": { "displayText": "record", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "record", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#idl-record" },
                "https://webidl.spec.whatwg.org/#idl-sequence": { "displayText": "sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "sequence", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
                "https://webidl.spec.whatwg.org/#idl-undefined": { "displayText": "undefined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "undefined", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
                "https://webidl.spec.whatwg.org/#new": { "displayText": "new", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "new", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#new" },
                "https://webidl.spec.whatwg.org/#notallowederror": { "displayText": "NotAllowedError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NotAllowedError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#notallowederror" },
                "https://webidl.spec.whatwg.org/#notfounderror": { "displayText": "NotFoundError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NotFoundError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#notfounderror" },
                "https://webidl.spec.whatwg.org/#reject": { "displayText": "reject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "reject", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#reject" },
                "https://webidl.spec.whatwg.org/#this": { "displayText": "this", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "this", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#this" },
                "https://www.w3.org/TR/FileAPI/#dfn-Blob": { "displayText": "Blob", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "snapshot", "text": "Blob", "type": "interface", "url": "https://www.w3.org/TR/FileAPI/#dfn-Blob" },
                "https://www.w3.org/TR/FileAPI/#dfn-file": { "displayText": "File", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "snapshot", "text": "File", "type": "interface", "url": "https://www.w3.org/TR/FileAPI/#dfn-file" },
                "https://www.w3.org/TR/FileAPI/#dfn-lastModified": { "displayText": "lastModified", "export": true, "for_": ["File"], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "snapshot", "text": "lastModified", "type": "attribute", "url": "https://www.w3.org/TR/FileAPI/#dfn-lastModified" },
                "https://www.w3.org/TR/FileAPI/#dfn-name": { "displayText": "name", "export": true, "for_": ["File"], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "snapshot", "text": "name", "type": "attribute", "url": "https://www.w3.org/TR/FileAPI/#dfn-name" },
                "https://www.w3.org/TR/FileAPI/#dfn-type": { "displayText": "type", "export": true, "for_": ["Blob"], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "snapshot", "text": "type", "type": "attribute", "url": "https://www.w3.org/TR/FileAPI/#dfn-type" },
                "https://www.w3.org/TR/permissions/#dfn-permission-descriptor-type": { "displayText": "permission descriptor type", "export": true, "for_": ["powerful feature"], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "snapshot", "text": "permission descriptor type", "type": "dfn", "url": "https://www.w3.org/TR/permissions/#dfn-permission-descriptor-type" },
                "https://www.w3.org/TR/permissions/#dfn-permission-state": { "displayText": "permission state", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "snapshot", "text": "permission state", "type": "dfn", "url": "https://www.w3.org/TR/permissions/#dfn-permission-state" },
                "https://www.w3.org/TR/permissions/#dfn-powerful-feature": { "displayText": "powerful feature", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "snapshot", "text": "powerful feature", "type": "dfn", "url": "https://www.w3.org/TR/permissions/#dfn-powerful-feature" },
                "https://www.w3.org/TR/permissions/#dfn-request-permission-to-use": { "displayText": "request permission to use", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "snapshot", "text": "request permission to use", "type": "dfn", "url": "https://www.w3.org/TR/permissions/#dfn-request-permission-to-use" },
                "https://www.w3.org/TR/permissions/#dom-permissiondescriptor": { "displayText": "PermissionDescriptor", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "snapshot", "text": "PermissionDescriptor", "type": "dictionary", "url": "https://www.w3.org/TR/permissions/#dom-permissiondescriptor" },
                "https://www.w3.org/TR/permissions/#dom-permissionstate-denied": { "displayText": "denied", "export": true, "for_": ["PermissionState"], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "snapshot", "text": "denied", "type": "enum-value", "url": "https://www.w3.org/TR/permissions/#dom-permissionstate-denied" },
                "https://www.w3.org/TR/permissions/#dom-permissionstate-granted": { "displayText": "granted", "export": true, "for_": ["PermissionState"], "level": "1", "normative": true, "shortname": "permissions", "spec": "permissions", "status": "snapshot", "text": "granted", "type": "enum-value", "url": "https://www.w3.org/TR/permissions/#dom-permissionstate-granted" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        "use strict";
        {
            /*
            Color-choosing design:
            
            * Colors are ordered by goodness.
            * On clicking a var, give it the earliest color
                with the lowest usage in the algorithm.
            * On re-clicking, re-use the var's most recent color
                if that's not currently being used elsewhere.
            */

            const COLOR_COUNT = 7;

            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });

            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = findAlgoContainer(v);

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const varName = nameFromVar(v);
                if (!v.hasAttribute("data-var-color")) {
                    const newColor = chooseHighlightColor(algoContainer, v);
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.setAttribute("data-var-color", newColor);
                            el.setAttribute("data-var-last-color", newColor);
                        }
                    }
                } else {
                    for (const el of algoContainer.querySelectorAll("var")) {
                        if (nameFromVar(el) == varName) {
                            el.removeAttribute("data-var-color");
                        }
                    }
                }
            }
            function findAlgoContainer(el) {
                while (el != document.body) {
                    if (el.hasAttribute("data-algorithm")) return el;
                    el = el.parentNode;
                }
                return null;
            }
            function nameFromVar(el) {
                return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
            }
            function colorCountsFromContainer(container) {
                const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
                for (let v of container.querySelectorAll("var[data-var-color]")) {
                    let color = +v.getAttribute("data-var-color");
                    namesFromColor[color].add(nameFromVar(v));
                }

                return namesFromColor.map(x => x.size);
            }
            function leastUsedColor(colors) {
                // Find the earliest color with the lowest count.
                let minCount = Infinity;
                let minColor = null;
                for (var i = 0; i < colors.length; i++) {
                    if (colors[i] < minCount) {
                        minColor = i;
                        minCount = colors[i];
                    }
                }
                return minColor;
            }
            function chooseHighlightColor(container, v) {
                const colorCounts = colorCountsFromContainer(container);
                if (v.hasAttribute("data-var-last-color")) {
                    let color = +v.getAttribute("data-var-last-color");
                    if (colorCounts[color] == 0) return color;
                }
                return leastUsedColor(colorCounts);
            }
        }
    </script>
    <script src="/dropdown.js"></script>