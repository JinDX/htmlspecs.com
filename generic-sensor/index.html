<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>通用传感器 API</title>
    <meta content="CRD" name="w3c-status">
    <!-- <meta content="Bikeshed version 82ce88815, updated Thu Sep 7 16:33:55 2023 -0700" name="generator"> -->
    <link href="https://www.w3.org/TR/generic-sensor/" rel="canonical">
    <!-- <meta content="d8b0f67c3acc27330f97554185a32577a7d9d063" name="document-revision"> -->
    <style>
        svg g.edge text {
            font-size: 8px;
        }

        svg g.node text {
            font-size: 10px;
        }
    </style>
    <style>
        #toc .current,
        #toc .current-parent {
            border-right-width: 3px;
            border-right-style: solid;
            border-right-color: #3980B5;
        }

        #toc .current {
            background: rgba(75%, 75%, 75%, .25);
            border-right-color: #054572;
        }
    </style>
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */

        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example" counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            white-space: pre;
            display: inline-block;
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled[role="button"] {
            cursor: pointer;
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            white-space: pre;
            display: inline-block;
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled[role="button"] {
            cursor: pointer;
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-mdn-anno */
        :root {
            --mdn-bg: #EEE;
            --mdn-shadow: #999;
            --mdn-nosupport-text: #ccc;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --mdn-bg: #222;
                --mdn-shadow: #444;
                --mdn-nosupport-text: #666;
            }
        }

        .mdn-anno {
            background: var(--mdn-bg, #EEE);
            border-radius: .25em;
            box-shadow: 0 0 3px var(--mdn-shadow, #999);
            color: var(--text, black);
            font: 1em sans-serif;
            hyphens: none;
            max-width: min-content;
            overflow: hidden;
            padding: 0.2em;
            position: absolute;
            right: 0.3em;
            top: auto;
            white-space: nowrap;
            word-wrap: normal;
            z-index: 8;
        }

        .mdn-anno.unpositioned {
            display: none;
        }

        .mdn-anno.overlapping-main {
            opacity: .2;
            transition: opacity .1s;
        }

        .mdn-anno[open] {
            opacity: 1;
            z-index: 9;
            min-width: 9em;
        }

        .mdn-anno:hover {
            opacity: 1;
            outline: var(--text, black) 1px solid;
        }

        .mdn-anno>summary {
            font-weight: normal;
            text-align: right;
            cursor: pointer;
            display: block;
        }

        .mdn-anno>summary>.less-than-two-engines-flag {
            color: red;
            padding-right: 2px;
        }

        .mdn-anno>summary>.all-engines-flag {
            color: green;
            padding-right: 2px;
        }

        .mdn-anno>summary>span {
            color: #fff;
            background-color: #000;
            font-weight: normal;
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            padding: 2px 3px 0px 3px;
            line-height: 1.3em;
            vertical-align: top;
        }

        .mdn-anno>.feature {
            margin-top: 20px;
        }

        .mdn-anno>.feature:not(:first-of-type) {
            border-top: 1px solid #999;
            margin-top: 6px;
            padding-top: 2px;
        }

        .mdn-anno>.feature>.less-than-two-engines-text {
            color: red;
        }

        .mdn-anno>.feature>.all-engines-text {
            color: green;
        }

        .mdn-anno>.feature>p {
            font-size: .75em;
            margin-top: 6px;
            margin-bottom: 0;
        }

        .mdn-anno>.feature>p+p {
            margin-top: 3px;
        }

        .mdn-anno>.feature>.support {
            display: block;
            font-size: 0.6em;
            margin: 0;
            padding: 0;
            margin-top: 2px;
        }

        .mdn-anno>.feature>.support+div {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>hr {
            display: block;
            border: none;
            border-top: 1px dotted #999;
            padding: 3px 0px 0px 0px;
            margin: 2px 3px 0px 3px;
        }

        .mdn-anno>.feature>.support>hr::before {
            content: "";
        }

        .mdn-anno>.feature>.support>span {
            padding: 0.2em 0;
            display: block;
            display: table;
        }

        .mdn-anno>.feature>.support>span.no {
            color: var(--mdn-nosupport-text);
            filter: grayscale(100%);
        }

        .mdn-anno>.feature>.support>span.no::before {
            opacity: 0.5;
        }

        .mdn-anno>.feature>.support>span:first-of-type {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>span>span {
            padding: 0 0.5em;
            display: table-cell;
        }

        .mdn-anno>.feature>.support>span>span:first-child {
            width: 100%;
        }

        .mdn-anno>.feature>.support>span>span:last-child {
            width: 100%;
            white-space: pre;
            padding: 0;
        }

        .mdn-anno>.feature>.support>span::before {
            content: ' ';
            display: table-cell;
            min-width: 1.5em;
            height: 1.5em;
            background: no-repeat center center;
            background-size: contain;
            text-align: right;
            font-size: 0.75em;
            font-weight: bold;
        }

        .mdn-anno>.feature>.support>.chrome_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.firefox_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.chrome::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.edge_blink::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
        }

        .mdn-anno>.feature>.support>.edge::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
        }

        .mdn-anno>.feature>.support>.firefox::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.ie::before {
            background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
        }

        .mdn-anno>.feature>.support>.safari_ios::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
        }

        .mdn-anno>.feature>.support>.nodejs::before {
            background-image: url(https://nodejs.org/static/images/favicons/favicon.ico);
        }

        .mdn-anno>.feature>.support>.opera_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.opera::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.safari::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
        }

        .mdn-anno>.feature>.support>.samsunginternet_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
        }

        .mdn-anno>.feature>.support>.webview_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
        }

        .name-slug-mismatch {
            color: red;
        }

        .caniuse-status:hover {
            z-index: 9;
        }

        /* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */
        ;

        .h-entry:not(.status-LS) dt>.mdn-anno,
        .h-entry:not(.status-LS) li>.mdn-anno,
        .h-entry:not(.status-LS) .issue>.mdn-anno,
        .h-entry:not(.status-LS) .note>.mdn-anno,
        .h-entry:not(.status-LS) .example>.mdn-anno {
            right: -6.7em;
        }

        .h-entry p+.mdn-anno {
            margin-top: 0;
        }

        h2+.mdn-anno.after {
            margin: -48px 0 0 0;
        }

        h3+.mdn-anno.after {
            margin: -46px 0 0 0;
        }

        h4+.mdn-anno.after {
            margin: -42px 0 0 0;
        }

        h5+.mdn-anno.after {
            margin: -40px 0 0 0;
        }

        h6+.mdn-anno.after {
            margin: -40px 0 0 0;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */

        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */

        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */

        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */


        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-var-click-highlighting */
        /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
        var {
            cursor: pointer;
        }

        var.selected0 {
            background-color: #F4D200;
            box-shadow: 0 0 0 2px #F4D200;
        }

        var.selected1 {
            background-color: #FF87A2;
            box-shadow: 0 0 0 2px #FF87A2;
        }

        var.selected2 {
            background-color: #96E885;
            box-shadow: 0 0 0 2px #96E885;
        }

        var.selected3 {
            background-color: #3EEED2;
            box-shadow: 0 0 0 2px #3EEED2;
        }

        var.selected4 {
            background-color: #EACFB6;
            box-shadow: 0 0 0 2px #EACFB6;
        }

        var.selected5 {
            background-color: #82DDFF;
            box-shadow: 0 0 0 2px #82DDFF;
        }

        var.selected6 {
            background-color: #FFBCF2;
            box-shadow: 0 0 0 2px #FFBCF2;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-CRD" rel="stylesheet">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
                    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
        <h1 class="p-name no-ref" id="title">通用传感器 API</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types#CRD">W3C 候选推荐草案</a>，<time class="dt-updated"
                datetime="2024-02-22">2024年2月22日</time></p>
        <details open>
            <summary>关于本文档的更多信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>本版本：
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2024/CRD-generic-sensor-20240222/">https://www.w3.org/TR/2024/CRD-generic-sensor-20240222/</a>
                    <dt>最新发布版本：
                    <dd><a href="https://www.w3.org/TR/generic-sensor/">https://www.w3.org/TR/generic-sensor/</a>
                    <dt>编辑草稿：
                    <dd><a href="https://w3c.github.io/sensors/">https://w3c.github.io/sensors/</a>
                    <dt>以往版本：
                    <dd><a href="https://www.w3.org/TR/2024/CRD-generic-sensor-20240220/"
                            rel="prev">https://www.w3.org/TR/2024/CRD-generic-sensor-20240220/</a>
                    <dt>历史记录：
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/generic-sensor/">https://www.w3.org/standards/history/generic-sensor/</a>
                    <dt>反馈：
                    <dd><span><a
                                href="mailto:public-device-apis@w3.org?subject=%5Bgeneric-sensor%5D%20YOUR%20TOPIC%20HERE">public-device-apis@w3.org</a>
                            主题行请使用 “<kbd>[generic-sensor] <i data-lt>… message topic …</i></kbd>”（<a
                                href="https://lists.w3.org/Archives/Public/public-device-apis/"
                                rel="discussion">邮件列表存档</a>）</span>
                    <dd><a href="https://github.com/w3c/sensors/issues/">GitHub</a>
                    <dt>实现报告：
                    <dd><a
                            href="https://www.w3.org/wiki/DAS/Implementations">https://www.w3.org/wiki/DAS/Implementations</a>
                    <dt class="editor">编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="50572"><span class="p-name fn">Rick
                            Waldron</span>（<span class="p-org org">受邀专家，前 Bocoup 和 JS Foundation 代表</span>）
                    <dt class="editor">前任编辑：
                    <dd class="editor p-author h-card vcard" data-editor-id="78325"><a class="p-name fn u-url url"
                            href="https://intel.com/">Mikhail Pozdnyakov</a>（<span class="p-org org">英特尔公司</span>）
                    <dd class="editor p-author h-card vcard" data-editor-id="78335"><a class="p-name fn u-url url"
                            href="https://intel.com/">Alexander Shalamov</a>（<span class="p-org org">英特尔公司</span>）
                    <dd class="editor p-author h-card vcard" data-editor-id="60809"><a class="p-name fn u-url url"
                            href="https://www.codespeaks.com/">Tobie Langel</a>（<span
                            class="p-org org">Codespeaks，前英特尔公司代表</span>）<a class="u-email email"
                            href="mailto:tobie@codespeaks.com">tobie@codespeaks.com</a>
                    <dt>其它：
                    <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/generic-sensor">测试套件</a>，
                        <a href="https://github.com/w3c/sensors/commits/main/index.bs">最新版本历史</a>，
                        <a href="https://github.com/w3c/sensors/commits/gh-pages/index.bs">历史版本</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2024 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply. </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>本规范定义了一个框架，用于以一致的方式将传感器数据暴露给开放 Web 平台。
            该规范通过为具体传感器的规范编写提供蓝本，并定义一个可扩展以适应不同传感器类型的抽象 Sensor 接口来实现这一目标。</p>
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p> <em>本节描述本文档在发布时的状态。W3C 当前发布列表及本技术报告的最新修订版本可在 <a href="https://www.w3.org/TR/">W3C 技术报告索引
                    https://www.w3.org/TR/</a> 查阅。</em> </p>
        <p> 本文档由 <a href="https://www.w3.org/groups/wg/das">设备与传感器工作组</a> 作为候选推荐草案（Candidate Recommendation Draft）使用<a
                href="https://www.w3.org/2023/Process-20231103/#recs-and-notes">推荐流程</a>发布。该文档预计成为 W3C 推荐标准。 </p>
        <p> 如需对本文档提出意见，请发送至 <a
                href="mailto:public-device-apis@w3.org?Subject=%5Bgeneric-sensor%5D%20PUT%20SUBJECT%20HERE">public-device-apis@w3.org</a>
            （<a href="mailto:public-device-apis-request@w3.org?subject=subscribe">订阅</a>，<a
                href="https://lists.w3.org/Archives/Public/public-device-apis/">存档</a>）。
            发送邮件时，
            请在主题中注明“generic-sensor”，建议格式如下：
            “[generic-sensor] <em>…评论摘要…</em>”。
            欢迎提出任何意见。 </p>
        <p> 作为候选推荐草案的发布并不表示 <abbr title="World Wide Web Consortium">W3C</abbr>
            及其成员的认可。候选推荐草案合并了前一版本中工作组拟纳入下一步候选推荐快照的更改。此为草案文档，可能随时更新、替换或废止。除作为开发中内容外，不应引用此文档。 </p>
        <p> 本文档进入建议推荐阶段的准入标准
            是至少有两个独立且可互操作的用户代理实现本规范的所有功能，并通过工作组制定的测试套件中的测试。工作组将准备实施报告以跟踪进展。 </p>
        <p> 本文档由遵循 <a href="https://www.w3.org/Consortium/Patent-Policy/">W3C 专利政策</a> 的组织产生。
            W3C 保持一份<a href="https://www.w3.org/groups/wg/das/ipr" rel="disclosure">与本组输出相关的公开专利披露列表</a>；
            页面中还包括披露专利的相关说明。
            任何知晓拥有其认为包含<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">必要声明</a>的专利的个人
            必须按照<a href="https://www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">W3C 专利政策第 6
                条</a>中的规定披露相关信息。</p>
        <p> 本文档适用 <a href="https://www.w3.org/2023/Process-20231103/" id="w3c_process_revision">2023年11月3日 W3C 流程文档</a>
            管辖。 </p>
        <p></p>
        <p>目前正在收集更多关于 <a data-link-type="dfn"
                href="https://wicg.github.io/permissions-request/#permission-request-algorithm"
                id="ref-for-permission-request-algorithm">权限请求算法</a> 的实现经验，基于这些经验推动的规范澄清正在 <a
                href="https://github.com/w3c/sensors/issues/397">GitHub issue #397</a> 进行讨论。
            工作组预计在 <a data-link-type="biblio" href="#biblio-permissions-request"
                title="Requesting Permissions">[PERMISSIONS-REQUEST]</a> 进入更高阶段前不会推进本规范超过候选推荐阶段。
            本文档可随时维护和更新，部分内容仍在持续完善中。</p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc" role="directory">
            <li><a href="#intro"><span class="secno">1</span> <span class="content">简介</span></a>
            <li><a href="#scope"><span class="secno">2</span> <span class="content">范围</span></a>
            <li><a href="#feature-detection"><span class="secno">3</span> <span class="content">关于硬件特性检测的说明</span></a>
            <li>
                <a href="#security-and-privacy"><span class="secno">4</span> <span class="content">安全与隐私注意事项</span></a>
                <ol class="toc">
                    <li>
                        <a href="#main-privacy-security-threats"><span class="secno">4.1</span> <span
                                class="content">隐私与安全威胁类型</span></a>
                        <ol class="toc">
                            <li><a href="#location-tracking"><span class="secno">4.1.1</span> <span
                                        class="content">位置跟踪</span></a>
                            <li><a href="#eavesdropping"><span class="secno">4.1.2</span> <span
                                        class="content">窃听</span></a>
                            <li><a href="#keystroke-monitoring"><span class="secno">4.1.3</span> <span
                                        class="content">按键监控</span></a>
                            <li><a href="#device-fingerprinting"><span class="secno">4.1.4</span> <span
                                        class="content">设备指纹</span></a>
                            <li><a href="#user-identifying"><span class="secno">4.1.5</span> <span
                                        class="content">用户识别</span></a>
                        </ol>
                    <li>
                        <a href="#mitigation-strategies"><span class="secno">4.2</span> <span
                                class="content">缓解策略</span></a>
                        <ol class="toc">
                            <li><a href="#secure-context"><span class="secno">4.2.1</span> <span
                                        class="content">安全上下文</span></a>
                            <li><a href="#permissions-policy"><span class="secno">4.2.2</span> <span
                                        class="content">权限策略</span></a>
                            <li><a href="#focused-area"><span class="secno">4.2.3</span> <span
                                        class="content">聚焦区域</span></a>
                            <li><a href="#visibility-state"><span class="secno">4.2.4</span> <span
                                        class="content">可见性状态</span></a>
                            <li><a href="#permissions"><span class="secno">4.2.5</span> <span
                                        class="content">Permissions API</span></a>
                        </ol>
                    <li>
                        <a href="#mitigation-strategies-case-by-case"><span class="secno">4.3</span> <span
                                class="content">针对具体情况应用缓解策略</span></a>
                        <ol class="toc">
                            <li><a href="#limit-max-frequency"><span class="secno">4.3.1</span> <span
                                        class="content">限制最大采样频率</span></a>
                            <li><a href="#stop-sensor"><span class="secno">4.3.2</span> <span
                                        class="content">彻底停止传感器</span></a>
                            <li><a href="#limit-number-of-delivered-readings"><span class="secno">4.3.3</span> <span
                                        class="content">限制推送读数数量</span></a>
                            <li><a href="#reduce-accuracy"><span class="secno">4.3.4</span> <span
                                        class="content">降低精度</span></a>
                            <li><a href="#inform-user"><span class="secno">4.3.5</span> <span class="content">让用户知晓 API
                                        的使用</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#concepts"><span class="secno">5</span> <span class="content">基本概念</span></a>
                <ol class="toc">
                    <li><a href="#concepts-sensors"><span class="secno">5.1</span> <span class="content">传感器</span></a>
                    <li><a href="#concepts-sensor-types"><span class="secno">5.2</span> <span
                                class="content">传感器类型</span></a>
                    <li><a href="#concepts-default-sensor"><span class="secno">5.3</span> <span
                                class="content">默认传感器</span></a>
                    <li><a href="#concepts-sampling-and-reporting-frequencies"><span class="secno">5.4</span> <span
                                class="content">采样频率与上报频率</span></a>
                    <li><a href="#concepts-can-expose-sensor-readings"><span class="secno">5.5</span> <span
                                class="content">暴露传感器读数的条件</span></a>
                </ol>
            <li>
                <a href="#model"><span class="secno">6</span> <span class="content">模型</span></a>
                <ol class="toc">
                    <li><a href="#model-sensor-type"><span class="secno">6.1</span> <span
                                class="content">传感器类型</span></a>
                    <li><a href="#model-sensor"><span class="secno">6.2</span> <span class="content">传感器</span></a>
                </ol>
            <li>
                <a href="#api"><span class="secno">7</span> <span class="content">API</span></a>
                <ol class="toc">
                    <li>
                        <a href="#the-sensor-interface"><span class="secno">7.1</span> <span class="content">Sensor
                                接口</span></a>
                        <ol class="toc">
                            <li><a href="#sensor-lifecycle"><span class="secno">7.1.1</span> <span
                                        class="content">传感器生命周期</span></a>
                            <li><a href="#sensor-garbage-collection"><span class="secno">7.1.2</span> <span
                                        class="content">传感器垃圾回收</span></a>
                            <li><a href="#sensor-internal-slots"><span class="secno">7.1.3</span> <span
                                        class="content">传感器内部插槽</span></a>
                            <li><a href="#sensor-activated"><span class="secno">7.1.4</span> <span
                                        class="content">Sensor.activated</span></a>
                            <li><a href="#sensor-has-reading"><span class="secno">7.1.5</span> <span
                                        class="content">Sensor.hasReading</span></a>
                            <li><a href="#sensor-timestamp"><span class="secno">7.1.6</span> <span
                                        class="content">Sensor.timestamp</span></a>
                            <li><a href="#sensor-start"><span class="secno">7.1.7</span> <span
                                        class="content">Sensor.start()</span></a>
                            <li><a href="#sensor-stop"><span class="secno">7.1.8</span> <span
                                        class="content">Sensor.stop()</span></a>
                            <li><a href="#sensor-onreading"><span class="secno">7.1.9</span> <span
                                        class="content">Sensor.onreading</span></a>
                            <li><a href="#sensor-onactivate"><span class="secno">7.1.10</span> <span
                                        class="content">Sensor.onactivate</span></a>
                            <li><a href="#sensor-onerror"><span class="secno">7.1.11</span> <span
                                        class="content">Sensor.onerror</span></a>
                            <li><a href="#event-handlers"><span class="secno">7.1.12</span> <span
                                        class="content">事件处理器</span></a>
                        </ol>
                    <li><a href="#the-sensor-error-event-interface"><span class="secno">7.2</span> <span
                                class="content">SensorErrorEvent 接口</span></a>
                </ol>
            <li>
                <a href="#abstract-operations"><span class="secno">8</span> <span class="content">抽象操作</span></a>
                <ol class="toc">
                    <li><a href="#initialize-a-sensor-object"><span class="secno">8.1</span> <span
                                class="content">初始化传感器对象</span></a>
                    <li><a href="#check-sensor-policy-controlled-features"><span class="secno">8.2</span> <span
                                class="content">检查传感器策略控制特性</span></a>
                    <li><a href="#connect-to-sensor"><span class="secno">8.3</span> <span
                                class="content">连接传感器</span></a>
                    <li><a href="#activate-a-sensor-object"><span class="secno">8.4</span> <span
                                class="content">激活传感器对象</span></a>
                    <li><a href="#deactivate-a-sensor-object"><span class="secno">8.5</span> <span
                                class="content">停用传感器对象</span></a>
                    <li><a href="#generic-sensor-permission-revocation-algorithm"><span class="secno">8.6</span> <span
                                class="content">通用传感器权限撤销算法</span></a>
                    <li><a href="#set-sensor-settings"><span class="secno">8.7</span> <span
                                class="content">设置传感器配置</span></a>
                    <li><a href="#update-latest-reading"><span class="secno">8.8</span> <span
                                class="content">更新最新读数</span></a>
                    <li><a href="#report-latest-reading-updated"><span class="secno">8.9</span> <span
                                class="content">报告最新读数已更新</span></a>
                    <li><a href="#notify-new-reading"><span class="secno">8.10</span> <span
                                class="content">通知新读数</span></a>
                    <li><a href="#notify-activated-state"><span class="secno">8.11</span> <span
                                class="content">通知激活状态</span></a>
                    <li><a href="#notify-error"><span class="secno">8.12</span> <span class="content">通知错误</span></a>
                    <li><a href="#get-value-from-latest-reading"><span class="secno">8.13</span> <span
                                class="content">从最新读数获取值</span></a>
                    <li><a href="#request-sensor-access"><span class="secno">8.14</span> <span
                                class="content">请求传感器访问</span></a>
                    <li><a href="#focus-and-origin-check"><span class="secno">8.15</span> <span
                                class="content">焦点与源检查</span></a>
                </ol>
            <li>
                <a href="#automation"><span class="secno">9</span> <span class="content">自动化</span></a>
                <ol class="toc">
                    <li><a href="#virtual-sensors"><span class="secno">9.1</span> <span class="content">虚拟传感器</span></a>
                    <li>
                        <a href="#section-extension-commands"><span class="secno">9.2</span> <span
                                class="content">扩展命令</span></a>
                        <ol class="toc">
                            <li><a href="#create-virtual-sensor-command"><span class="secno">9.2.1</span> <span
                                        class="content">创建虚拟传感器</span></a>
                            <li><a href="#get-virtual-sensor-information-command"><span class="secno">9.2.2</span> <span
                                        class="content">获取虚拟传感器信息</span></a>
                            <li>
                                <a href="#update-virtual-sensor-reading-command"><span class="secno">9.2.3</span> <span
                                        class="content">更新虚拟传感器读数</span></a>
                                <ol class="toc">
                                    <li>
                                        <a href="#algorithms-for-parsing-readings"><span class="secno">9.2.3.1</span>
                                            <span class="content">解析读数的算法</span></a>
                                        <ol class="toc">
                                            <li><a href="#parse-single-value-number-reading"><span
                                                        class="secno">9.2.3.1.1</span> <span
                                                        class="content">解析单值数字读数</span></a>
                                            <li><a href="#parse-xyz-reading"><span class="secno">9.2.3.1.2</span> <span
                                                        class="content">解析 XYZ 读数</span></a>
                                        </ol>
                                </ol>
                            <li><a href="#delete-virtual-sensor-command"><span class="secno">9.2.4</span> <span
                                        class="content">删除虚拟传感器</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#extensibility"><span class="secno">10</span> <span class="content">可扩展性</span></a>
                <ol class="toc">
                    <li><a href="#extension-security-and-privacy"><span class="secno">10.1</span> <span
                                class="content">安全与隐私</span></a>
                    <li><a href="#naming"><span class="secno">10.2</span> <span class="content">命名</span></a>
                    <li><a href="#unit"><span class="secno">10.3</span> <span class="content">单位</span></a>
                    <li><a href="#high-vs-low-level"><span class="secno">10.4</span> <span
                                class="content">暴露高级与低级传感器</span></a>
                    <li><a href="#multiple-sensors"><span class="secno">10.5</span> <span
                                class="content">不该开启同类型多传感器的情形？</span></a>
                    <li><a href="#definition-reqs"><span class="secno">10.6</span> <span class="content">定义要求</span></a>
                    <li><a href="#extend-automation"><span class="secno">10.7</span> <span
                                class="content">自动化</span></a>
                    <li><a href="#permission-api"><span class="secno">10.8</span> <span class="content">扩展 Permission
                                API</span></a>
                    <li><a href="#permissions-policy-api"><span class="secno">10.9</span> <span class="content">扩展
                                Permissions Policy API</span></a>
                    <li><a href="#example-webidl"><span class="secno">10.10</span> <span class="content">示例
                                WebIDL</span></a>
                </ol>
            <li><a href="#acknowledgements"><span class="secno">11</span> <span class="content">致谢</span></a>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a>
                    <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span
                                class="content">一致性算法</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的术语</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">参考文件定义的术语</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">说明性引用</span></a>
                </ol>
            <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a>
        </ol>
    </nav>
    <main>
        <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span
                class="content">简介</span><a class="self-link" href="#intro"></a></h2>
        <p>传感器数据在应用开发中的使用日益增多，为诸如地理定位、计步或头部跟踪等新用例提供了支持。
            这在移动设备上尤为明显，新型传感器被不断引入。</p>
        <p>将传感器数据暴露到 Web
            目前一直进展缓慢且零散。
            目前可被 Web 获取的传感器很少。
            即使可用，往往以限制其用例的方式暴露
            （例如，仅暴露过于<a data-link-type="dfn" href="#high-level" id="ref-for-high-level">高层</a>的抽象，且性能不佳）。
            各传感器的 API 设计也大相径庭，
            增加了 Web 应用开发者的认知负担，
            并减缓了开发速度。</p>
        <p>通用传感器 API 的目标是
            促进各类传感器 API 之间的一致性，
            通过高性能的<a data-link-type="dfn" href="#low-level" id="ref-for-low-level">低层</a>API支持高级用例，
            并通过简化规范和实现流程，
            加快新传感器在 Web 上的开放速度。</p>
        <p>基于通用传感器 API 的具体传感器列表、适用用例及代码示例详见 <a data-link-type="biblio" href="#biblio-generic-sensor-usecases"
                title="Sensor Use Cases">[GENERIC-SENSOR-USECASES]</a> 和 <a data-link-type="biblio"
                href="#biblio-motion-sensors" title="Motion Sensors Explainer">[MOTION-SENSORS]</a> 说明文档。
        </p>
        <h2 class="heading settled" data-level="2" id="scope"><span class="secno">2. </span><span
                class="content">范围</span><a class="self-link" href="#scope"></a></h2>
        <p><em>本节为非规范性内容</em>。</p>
        <p>本规范目前的范围仅限于定义用于暴露来自<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor">设备传感器</a>数据的基础原语。</p>
        <p>暴露远程传感器
            或个人局域网（如蓝牙）中的传感器
            不在当前规范范围之内。
            随着相关领域工作的推进，
            可能可以找到通用、较低层的原语，
            届时本规范会相应更新。
            不过，这对具体实现几乎没有影响。</p>
        <p>此外，本规范目前尚未提供
            传感器发现 API。
            由于用户代理当前可用的传感器数量有限，
            无需提供类似 API。
            可依靠 <a href="#feature-detection">§3 关于硬件特性检测的说明</a> 所述的特性检测方法，
            目前已足够。
            未来规范版本可能会定义发现 API，
            当前 API 的设计也已为此预留空间。</p>
        <h2 class="heading settled" data-level="3" id="feature-detection"><span class="secno">3. </span><span
                class="content">关于硬件特性检测的说明</span><a class="self-link" href="#feature-detection"></a></h2>
        <p><em>本节为非规范性内容。</em></p>
        <p>特性检测是 Web 开发中公认的最佳实践。
            相关资料非常丰富，
            本节不再赘述，
            仅着重将其置于检测硬件相关特性的背景下。</p>
        <p>请参考以下特性检测示例：</p>
        <div class="example" id="example-250d1979">
            <a class="self-link" href="#example-250d1979"></a> 这个简单示例说明如何检测用户代理是否暴露了某一特定传感器类型的接口。如需稳健的错误处理方式，请参考 <a
                href="#robust-example">此示例</a>。
            <pre class="highlight"><c- k>if</c-> <c- p>(</c-><c- ow>typeof</c-> Gyroscope <c- o>===</c-> <c- u>"function"</c-><c- p>)</c-> <c- p>{</c->
    <c- c1>// run in circles...</c->
<c- p>}</c->

<c- k>if</c-> <c- p>(</c-><c- u>"ProximitySensor"</c-> <c- ow>in</c-> window<c- p>)</c-> <c- p>{</c->
    <c- c1>// watch out!</c->
<c- p>}</c->

<c- k>if</c-> <c- p>(</c->window<c- p>.</c->AmbientLightSensor<c- p>)</c-> <c- p>{</c->
    <c- c1>// go dark...</c->
<c- p>}</c->

<c- c1>// etc.</c->
</pre>
        </div>
        <p>以上代码都能反映出某 API 的存在
            及其部分特征，
            但无法判断该 API 是否与真实硬件传感器相连，
            传感器本身是否正常工作，
            是否依然连接，
            甚至用户是否允许你访问该传感器。
            关于后者，可借助 Permissions API <a data-link-type="biblio" href="#biblio-permissions"
                title="Permissions">[PERMISSIONS]</a> 进行检测。</p>
        <p>理想情况下，关于底层状态的信息
            能被事先获得。
            然而现实中存在两方面问题：
            首先，从硬件获取这些信息代价较大，
            既影响性能也耗电，
            且会处于关键路径上。
            其次，底层硬件状态随时可能变化。
            用户可能撤销权限、传感器连接中断、
            操作系统也可能因电量临界而限制传感器使用等。</p>
        <p>因此，有效策略为结合特性检测
            （检测是否存在目标传感器对应的 API），
            并辅以防御性编程，包括：</p>
        <ol>
            <li data-md>
                <p>实例化<code
                        class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor">Sensor</a></code>对象时捕获异常，
                </p>
            <li data-md>
                <p>监听该对象发出的错误事件，</p>
            <li data-md>
                <p>优雅处理以上情形，让用户因使用传感器体验更佳，而非因缺失变差。</p>
        </ol>
        <div class="example" id="robust-example">
            <a class="self-link" href="#robust-example"></a> 下例展示了加速度计传感器的稳健创建方式。Web 应用可选用不同的错误处理策略，例如显示通知、切换传感器类型或
            回退至其他 API。
            <pre class="highlight"><c- a>let</c-> accelerometer <c- o>=</c-> <c- kc>null</c-><c- p>;</c->
<c- k>try</c-> <c- p>{</c->
    accelerometer <c- o>=</c-> <c- ow>new</c-> Accelerometer<c- p>({</c-> frequency<c- o>:</c-> <c- mf>10</c-> <c- p>});</c->
    accelerometer<c- p>.</c->addEventListener<c- p>(</c-><c- t>'error'</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
        <c- c1>// Handle runtime errors.</c->
        <c- k>if</c-> <c- p>(</c->event<c- p>.</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'NotAllowedError'</c-><c- p>)</c-> <c- p>{</c->
            console<c- p>.</c->log<c- p>(</c-><c- t>'Permission to access sensor was denied.'</c-><c- p>);</c->
        <c- p>}</c-> <c- k>else</c-> <c- k>if</c-> <c- p>(</c->event<c- p>.</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'NotReadableError'</c-> <c- p>)</c-> <c- p>{</c->
            console<c- p>.</c->log<c- p>(</c-><c- t>'Cannot connect to the sensor.'</c-><c- p>);</c->
        <c- p>}</c->
    <c- p>});</c->
    accelerometer<c- p>.</c->addEventListener<c- p>(</c-><c- t>'reading'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> reloadOnShake<c- p>(</c->accelerometer<c- p>));</c->
    accelerometer<c- p>.</c->start<c- p>();</c->
<c- p>}</c-> <c- k>catch</c-> <c- p>(</c->error<c- p>)</c-> <c- p>{</c->
    <c- c1>// Handle construction errors.</c->
    <c- k>if</c-> <c- p>(</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'SecurityError'</c-><c- p>)</c-> <c- p>{</c->
        console<c- p>.</c->log<c- p>(</c-><c- t>'Sensor construction was blocked by the Permissions Policy.'</c-><c- p>);</c->
    <c- p>}</c-> <c- k>else</c-> <c- k>if</c-> <c- p>(</c->error<c- p>.</c->name <c- o>===</c-> <c- t>'ReferenceError'</c-><c- p>)</c-> <c- p>{</c->
        console<c- p>.</c->log<c- p>(</c-><c- t>'Sensor is not supported by the User Agent.'</c-><c- p>);</c->
    <c- p>}</c-> <c- k>else</c-> <c- p>{</c->
        <c- k>throw</c-> error<c- p>;</c->
    <c- p>}</c->
<c- p>}</c->
</pre>
        </div>
        <h2 class="heading settled" data-level="4" id="security-and-privacy"><span class="secno">4. </span><span
                class="content">安全与隐私注意事项</span><a class="self-link" href="#security-and-privacy"></a></h2>
        <div class="note" role="note"> 如何向用户传达已知的<a href="#main-privacy-security-threats">威胁</a>由实现者决定，但<a
                href="#mitigation-strategies">缓解措施</a>须强制执行。 </div>
        <p><a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading">传感器读数</a>属于敏感数据，可能被恶意网页用于各类攻击。在讨论缓解策略前，
            我们简要列出<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①">传感器</a>的主要隐私与安全威胁类型。
            <a data-link-type="biblio" href="#biblio-mobilesensors"
                title="Mobile Sensors and Context-Aware Computing">[MOBILESENSORS]</a> 将主要威胁分为 <a
                href="#location-tracking">位置跟踪</a>、<a href="#eavesdropping">窃听</a>、<a
                href="#keystroke-monitoring">按键监控</a>、<a href="#device-fingerprinting">设备指纹</a> 以及 <a
                href="#user-identifying">用户识别</a>。
            这一分类与本规范完全契合。
        </p>
        <p>当<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor②">多个传感器</a>联合使用，或与其他功能结合使用，或长期持续使用时，
            攻击成功风险会提升，尤其体现在数据相关性和通过指纹识别用户的风险。
            采用这些 JavaScript API 的 Web 应用开发者应考虑信息可能被如何整合，以及潜在的隐私风险。
            还应考虑长期收集此类数据所带来的风险。</p>
        <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①">传感器读数</a>及事件触发频率
            都有可能导致用户被指纹识别。
            用户代理可通过
            限制开发者可用的事件频率
            来降低风险。</p>
        <p>降低传感器读数精度
            通常能减少指纹识别风险。
            用户代理不应输出过于详细的传感器数据。
            不同<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type">传感器类型</a>应分别评估。</p>
        <p>若同一 API 的 JavaScript 代码可
            在一台设备的多个窗口上下文中并发执行，
            代码间或可关联追踪用户，
            带来非预期的跟踪机制。</p>
        <p>用户代理应考虑向用户
            提示 <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③">传感器</a>的使用情况，
            并允许用户禁用之。
            另外，用户代理也可考虑
            让用户查看过去和当前的传感器使用模式。</p>
        <p>使用<a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④">传感器</a>的 Web
            应用开发者应
            对应用执行隐私影响评估，
            全面考虑所有相关因素。</p>
        <p>检测设备上全部可用传感器的能力可能形成唯一标识，进而用于指纹识别。</p>
        <p>选定传感器的组合甚至可能作为设备间的隐式通信信道。</p>
        <p>传感器还可能被用于跨设备的关联与跟踪。</p>
        <h3 class="heading settled" data-level="4.1" id="main-privacy-security-threats"><span class="secno">4.1.
            </span><span class="content">隐私与安全威胁类型</span><a class="self-link" href="#main-privacy-security-threats"></a>
        </h3>
        <p><em>本节为非规范性内容。</em></p>
        <h4 class="heading settled" data-level="4.1.1" id="location-tracking"><span class="secno">4.1.1. </span><span
                class="content">位置跟踪</span><a class="self-link" href="#location-tracking"></a></h4>
        <p>在此类威胁下，攻击者可利用<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②">传感器读数</a>定位设备，
            而无需 GPS 或其他定位传感器。例如，可通过加速度计数据用统计模型估算轨迹，
            进而通过地图匹配算法获取预测位置（精度可达 200 米半径以内）<a data-link-type="biblio" href="#biblio-mobilesensors"
                title="Mobile Sensors and Context-Aware Computing">[MOBILESENSORS]</a>。</p>
        <h4 class="heading settled" data-level="4.1.2" id="eavesdropping"><span class="secno">4.1.2. </span><span
                class="content">窃听</span><a class="self-link" href="#eavesdropping"></a></h4>
        <p>从陀螺仪<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③">读数</a>恢复语音属于窃听攻击的一例。
            参见 <a data-link-type="biblio" href="#biblio-gyrospeechrecognition"
                title="Gyrophone: Recognizing Speech from Gyroscope Signals">[GYROSPEECHRECOGNITION]</a>。</p>
        <h4 class="heading settled" data-level="4.1.3" id="keystroke-monitoring"><span class="secno">4.1.3. </span><span
                class="content">按键监控</span><a class="self-link" href="#keystroke-monitoring"></a></h4>
        <p>许多用户输入都可由<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading④">传感器读数</a>推测，包括利用运动传感器攻击用户 PIN、密码、解锁模式
            （甚至点击、滑动、缩放等触控操作）。
            这些攻击通常训练机器学习算法来获取用户的此类信息。参见 <a data-link-type="biblio" href="#biblio-stealingpinsviasensors"
                title="Stealing PINs via mobile sensors: actual risk versus user perception">[STEALINGPINSVIASENSORS]</a>。
        </p>
        <h4 class="heading settled" data-level="4.1.4" id="device-fingerprinting"><span class="secno">4.1.4.
            </span><span class="content">设备指纹</span><a class="self-link" href="#device-fingerprinting"></a></h4>
        <p>传感器可泄露可用于唯一识别设备的信息。
            每一型号的具体传感器在制造上都有微小差异，这些差异可被用于指纹识别设备 <a data-link-type="biblio" href="#biblio-accelprint"
                title="AccelPrint: Imperfections of Accelerometers Make Smartphones Trackable">[ACCELPRINT]</a> <a
                data-link-type="biblio" href="#biblio-mobilesensors"
                title="Mobile Sensors and Context-Aware Computing">[MOBILESENSORS]</a>。</p>
        <h4 class="heading settled" data-level="4.1.5" id="user-identifying"><span class="secno">4.1.5. </span><span
                class="content">用户识别</span><a class="self-link" href="#user-identifying"></a></h4>
        <p><a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading⑤">传感器读数</a>能用于识别用户，例如通过分析智能手机或可穿戴设备运动传感器的数据推断个人步态。</p>
        <h3 class="heading settled" data-level="4.2" id="mitigation-strategies"><span class="secno">4.2. </span><span
                class="content">缓解策略</span><a class="self-link" href="#mitigation-strategies"></a></h3>
        <p><em>本节为非规范性内容。</em></p>
        <p>本节简要介绍一些在规范性章节中指定的缓解策略。</p>
        <h4 class="heading settled" data-level="4.2.1" id="secure-context"><span class="secno">4.2.1. </span><span
                class="content">安全上下文</span><a class="self-link" href="#secure-context"></a></h4>
        <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥">传感器读数</a>被《安全上下文》规范 <a
                data-link-type="biblio" href="#biblio-powerful-features" title="Secure Contexts">[POWERFUL-FEATURES]</a>
            明确列为网络攻击者的高价值目标。
            因此本规范
            以及<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification">扩展规范</a>定义的所有接口均只在<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                id="ref-for-secure-context">安全上下文</a>中使用。</p>
        <h4 class="heading settled" data-level="4.2.2" id="permissions-policy"><span class="secno">4.2.2. </span><span
                class="content">权限策略</span><span id="browsing-context"></span><span id="feature-policy"></span><a
                class="self-link" href="#permissions-policy"></a></h4>
        <p>为避免向用户不熟悉的上下文泄露<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑦">传感器读数</a>，<a
                data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑧">传感器读数</a>
            仅对<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
                id="ref-for-concept-document">允许</a>使用相应<a data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                id="ref-for-policy-controlled-feature">策略控制特性</a>的<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type①">传感器类型</a><a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                id="ref-for-allowed-to-use">的文档</a>可用。详见 <a data-link-type="biblio" href="#biblio-permissions-policy"
                title="Permissions Policy">[PERMISSIONS-POLICY]</a>。</p>
        <h4 class="heading settled" data-level="4.2.3" id="focused-area"><span class="secno">4.2.3. </span><span
                class="content">聚焦区域</span><span id="losing-focus"></span><a class="self-link" href="#focused-area"></a>
        </h4>
        <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑨">传感器读数</a>仅对<a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                id="ref-for-nav-document">活跃文档</a>可用，
            前提是其通过了<a data-link-type="dfn" href="#focus-and-origin-check"
                id="ref-for-focus-and-origin-check">焦点与来源检查</a>。</p>
        <p>此举旨在缓解对<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"
                id="ref-for-navigable">可导航对象</a>包含有<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/interaction.html#gains-focus"
                id="ref-for-gains-focus">获得焦点</a>元素的扒窃攻击的风险，
            例如用户在 iframe 内进行游戏内购买，启用第三方支付服务时。</p>
        <h4 class="heading settled" data-level="4.2.4" id="visibility-state"><span class="secno">4.2.4. </span><span
                class="content">可见性状态</span><a class="self-link" href="#visibility-state"></a></h4>
        <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①⓪">传感器读数</a>仅对<a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                id="ref-for-nav-document①">活跃文档</a>可见，
            且其<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"
                id="ref-for-visibility-state">可见性状态</a>为 "visible"。</p>
        <h4 class="heading settled" data-level="4.2.5" id="permissions"><span class="secno">4.2.5. </span><span
                class="content">Permissions API</span><span id="permissioning"></span><a class="self-link"
                href="#permissions"></a></h4>
        <p>访问<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①①">传感器读数</a>
            受到 Permissions API <a data-link-type="biblio" href="#biblio-permissions"
                title="Permissions">[PERMISSIONS]</a> 控制。</p>
        <h3 class="heading settled" data-level="4.3" id="mitigation-strategies-case-by-case"><span class="secno">4.3.
            </span><span class="content">针对具体情况应用缓解策略</span><a class="self-link"
                href="#mitigation-strategies-case-by-case"></a></h3>
        <p>每种<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②">传感器类型</a>都需单独评估，
            考虑其启用的用例与威胁情况。
            下列缓解策略适用于部分传感器，
            但有时也会妨碍或完全阻止某些用例。</p>
        <p class="note" role="note"><span class="marker">注：</span>这些缓解措施可持续应用，也可临时启用，
            如用户执行特定操作时、
            或调用其他可能提升威胁等级的 API 时等。</p>
        <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="4.3.1"
            data-lt="Limit maximum sampling frequency" data-noexport id="limit-max-frequency"><span class="secno">4.3.1.
            </span><span class="content">限制最大采样频率</span><a class="self-link" href="#limit-max-frequency"
                id="ref-for-limit-max-frequency"></a></h4>
        <p>用户代理及<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification①">扩展规范</a>可通过定义<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type③">传感器类型</a>的<a data-link-type="dfn"
                href="#sensor-type-maximum-sampling-frequency"
                id="ref-for-sensor-type-maximum-sampling-frequency">最大采样频率</a>，
            来缓解部分威胁。</p>
        <p>上限选择取决于<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④">传感器类型</a>、
            所要防范的威胁、
            以及攻击者的预期能力等因素。</p>
        <p>对<a data-link-type="dfn" href="#sensor-type-maximum-sampling-frequency"
                id="ref-for-sensor-type-maximum-sampling-frequency①">最大采样频率</a>的限制将妨碍
            依赖低延迟或高数据密度的用例。</p>
        <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="4.3.2"
            data-lt="Stop the sensor altogether" data-noexport id="stop-sensor"><span class="secno">4.3.2. </span><span
                class="content">彻底停止传感器</span><a class="self-link" href="#stop-sensor" id="ref-for-stop-sensor"></a>
        </h4>
        <p>这当然是最后的手段，
            但在短暂场景下极其有效，
            如当用户在不同域名（<a data-link-type="biblio" href="#biblio-rfc6454" title="The Web Origin Concept">[rfc6454]</a>）
            或不同应用中输入凭据时，可阻止密码扒取尝试。</p>
        <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="4.3.3"
            data-lt="Limit number of delivered readings" data-noexport id="limit-number-of-delivered-readings"><span
                class="secno">4.3.3. </span><span class="content">限制推送读数数量</span><a class="self-link"
                href="#limit-number-of-delivered-readings" id="ref-for-limit-number-of-delivered-readings"></a></h4>
        <p>与<a data-link-type="dfn" href="#limit-max-frequency" id="ref-for-limit-max-frequency①">限制最大采样频率</a>相比，
            另一做法是将传给 Web 开发者的<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①②">传感器读数</a>数量限制，
            无论<a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency">采样频率</a>为何。
            这样一来，具备低延迟需求的用例
            可以提升<a data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency①">采样频率</a>而不会获得更多数据。
        </p>
        <p>丢弃中间结果会影响某些用例，
            比如依赖特定滤波的数据处理。</p>
        <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="4.3.4" data-lt="Reduce accuracy"
            data-noexport id="reduce-accuracy"><span class="secno">4.3.4. </span><span class="content">降低精度</span><a
                class="self-link" href="#reduce-accuracy" id="ref-for-reduce-accuracy"></a></h4>
        <p>降低<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①③">传感器读数</a>或<a
                data-link-type="dfn" href="#reading-timestamp" id="ref-for-reading-timestamp">读数时间戳</a>的精度也有助于缓解威胁，
            用户代理不应输出过于详细的传感器数据。</p>
        <p>具体传感器实现可定义<a data-link-type="dfn" href="#threshold-check-algorithm"
                id="ref-for-threshold-check-algorithm">阈值检查算法</a>，当新读数与<a data-link-type="dfn" href="#latest-reading"
                id="ref-for-latest-reading">最新读数</a>差异不大时丢弃。</p>
        <p>具体传感器实现可定义<a data-link-type="dfn" href="#reading-quantization-algorithm"
                id="ref-for-reading-quantization-algorithm">读数量化算法</a>，减少来自<a data-link-type="dfn"
                href="#sensor-reading" id="ref-for-sensor-reading①④">设备传感器</a>的<a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor⑤">传感器读数</a>精度。</p>
        <p class="note" role="note"><span class="marker">注：</span>这两种缓解措施通常可互补。如果仅执行<a data-link-type="dfn"
                href="#threshold-check-algorithm"
                id="ref-for-threshold-check-algorithm①">阈值检查算法</a>，则读数依然过于精细；若仅量化读数，则可能暴露真实精度。</p>
        <p class="note" role="note"><span class="marker">注：</span>对<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading①⑤">传感器读数</a>
            的进一步操作、或据<a data-link-type="dfn" href="#reading-timestamp"
                id="ref-for-reading-timestamp①">时间戳</a>计算的时间差，将进一步放大误差，
            因此此缓解措施会影响某些用例。</p>
        <p class="note" role="note"><span class="marker">注：</span>虽然给<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading①⑥">传感器读数</a>加入随机偏差亦可达到相似效果，
            但实际并不可取，因为很容易被滤波掉噪声。</p>
        <h4 class="heading settled" data-level="4.3.5" id="inform-user"><span class="secno">4.3.5. </span><span
                class="content">让用户知晓 API 的使用</span><a class="self-link" href="#inform-user"></a>
        </h4>
        <p>用户代理可选择向用户告知
            当前及历史 API 使用情况。</p>
        <p class="note" role="note"><span class="marker">注：</span>这并不意味着要记录实际的<a data-link-type="dfn"
                href="#sensor-reading" id="ref-for-sensor-reading①⑦">传感器读数</a>，否则会引发其它隐私问题。</p>
        <h2 class="heading settled" data-level="5" id="concepts"><span class="secno">5. </span><span
                class="content">概念</span><a class="self-link" href="#concepts"></a></h2>
        <h3 class="heading settled" data-level="5.1" id="concepts-sensors"><span class="secno">5.1. </span><span
                class="content">传感器</span><a class="self-link" href="#concepts-sensors"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="concept-device-sensor">设备传感器</dfn>
            指的是设备底层的物理传感器实例。</p>
        <p><a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑥">设备传感器</a>
            用于测量物理量，并提供相应的 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="sensor-reading">传感器读数</dfn>，它是环境信息的来源。</p>
        <p>每个 <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading①⑧">传感器读数</a> 都由 <a
                data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑦">设备传感器</a> 在时间点
            <var>t<sub>n</sub></var> 测得的物理量的值组成，该时间点被称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="reading-timestamp">读数时间戳</dfn>。
        </p>
        <p>如果 <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor⑧">设备传感器</a>
            用于空间测量（如加速度、角速度），则必须在 <dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="local-coordinate-system">本地坐标系</dfn> 中进行解析，此坐标系代表 <a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor⑨">设备传感器</a> 的 <a data-link-type="dfn"
                href="#sensor-reading" id="ref-for-sensor-reading①⑨">传感器读数</a>的参考系。
            能够提供此类 <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⓪">传感器读数</a> 的 <a
                data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①⓪">设备传感器</a> 称为
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="spatial-sensor">空间型传感器</dfn>。
        </p>
        <p><a data-link-type="dfn" href="#spatial-sensor" id="ref-for-spatial-sensor">空间型传感器</a>
            根据其可同时测量的正交轴的数量，可以是单轴、双轴或三轴传感器。</p>
        <p>标量物理量（如温度）不需要 <a data-link-type="dfn" href="#local-coordinate-system"
                id="ref-for-local-coordinate-system">本地坐标系</a> 来解析。</p>
        <p>移动设备中常用的 <a data-link-type="dfn" href="#local-coordinate-system"
                id="ref-for-local-coordinate-system①">本地坐标系</a> 通常是直角坐标系，其相对设备屏幕定义，使得 X、Y 轴平行于屏幕，Z 轴垂直于屏幕表面。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="concept-platform-sensor">平台传感器</dfn>
            指的是平台接口，用户代理通过它们获取针对单一 <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤">传感器类型</a>、
            来源自一个或多个 <a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①①">设备传感器</a> 的 <a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading②①">传感器读数</a>。</p>
        <p><a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor">平台传感器</a>
            可以由底层平台（如本地传感器框架）定义，也可以由用户代理定义，如果其可直接访问 <a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①②">设备传感器</a>。</p>
        <p>从实现角度看，<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor①">平台传感器</a> 可以被视为相应 <a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor①③">设备传感器</a> 的软件代理。如果底层平台支持，可以同时有多个 <a
                data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②">平台传感器</a> 与同一
            <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①④">设备传感器</a> 交互。
        </p>
        <p>在简单情况下，<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor③">平台传感器</a>仅对应一个 <a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor①⑤">设备传感器</a>，
            如果所提供的<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②②">传感器读数</a>是通过软件进行 <a
                data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion">传感器融合</a> 得到的，那么 <a
                data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④">平台传感器</a>
            对应于参与 <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion①">传感器融合</a> 的一组 <a
                data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①⑥">设备传感器</a>。</p>
        <p><a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②③">传感器读数</a> 和实际被测物理量之间的偏差可通过 <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="calibration">校准</dfn>
            消除，该过程可发生在制造阶段，有些传感器还需动态校准以补偿未知误差。</p>
        <p class="note" role="note"><span class="marker">注：</span> 通过 <a data-link-type="dfn" href="#sensor-fusion"
                id="ref-for-sensor-fusion②">传感器融合</a> 创建的 <a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑤">平台传感器</a> 有时也称为虚拟或合成传感器，但规范对此并未做出实际区分。</p>
        <h3 class="heading settled" data-level="5.2" id="concepts-sensor-types"><span class="secno">5.2. </span><span
                class="content">传感器类型</span><a class="self-link" href="#concepts-sensor-types"></a></h3>
        <p>不同的<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑥">传感器类型</a>
            用于测量不同的物理量，比如温度、气压、心率或亮度。</p>
        <p>在本规范中，我们区分 <a data-link-type="dfn" href="#high-level" id="ref-for-high-level①">高层</a> 和 <a
                data-link-type="dfn" href="#low-level" id="ref-for-low-level①">低层</a> <a data-link-type="dfn"
                href="#sensor-type" id="ref-for-sensor-type⑦">传感器类型</a>。</p>
        <p>以实现方式为特征的 <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑧">传感器类型</a> 被称为 <dfn
                class="dfn-paneled" data-dfn-type="dfn" data-noexport id="low-level">低层</dfn> 传感器。例如，陀螺仪就是一种 <a
                data-link-type="dfn" href="#low-level" id="ref-for-low-level②">低层</a>
            <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑨">传感器类型</a>。
        </p>
        <p>按其 <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②④">读数</a> 命名的传感器，
            无论实现方式如何，
            称为 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="high-level">高层</dfn> 传感器。
            例如，地理位置传感器用于提供用户位置的信息，但其数据来源是刻意不透明的
            （数据可能来源于 GPS 芯片、蜂窝网络定位、WiFi 等，或组合），
            并依赖于实现相关的启发式方法。<a data-link-type="dfn" href="#high-level" id="ref-for-high-level②">高层</a>传感器往往是对 <a
                data-link-type="dfn" href="#low-level"
                id="ref-for-low-level③">低层</a>传感器的算法处理结果——例如计步器只需陀螺仪数据即可实现——或者通过<a data-link-type="dfn"
                href="#sensor-fusion" id="ref-for-sensor-fusion③">传感器融合</a>得到。</p>
        <p>需要指出的是，<a data-link-type="dfn" href="#high-level" id="ref-for-high-level③">高层</a>与<a data-link-type="dfn"
                href="#low-level" id="ref-for-low-level④">低层</a><a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type①⓪">传感器类型</a>的划分是一种约定，界限常常模糊。
            例如，压力计用于测量气压，多数情况下被归为<a data-link-type="dfn" href="#low-level"
                id="ref-for-low-level⑤">低层</a>，尽管其读数来自于压电式或热敏电阻等多组件的<a data-link-type="dfn" href="#sensor-fusion"
                id="ref-for-sensor-fusion④">传感器融合</a>，而对这些底层组件的暴露并无实际意义。
            高度计一般也如此，但如果高度计数据既可来自压力计，也可来自 GPS，则这类“泛指”高度计显然应归入<a data-link-type="dfn" href="#high-level"
                id="ref-for-high-level④">高层</a><a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type①①">传感器类型</a>。</p>
        <p>鉴于这种界限的模糊性，扩展规范（见 <a href="#extensibility">§10 可扩展性</a>）鼓励为各自关注的<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type①②">传感器类型</a>单独定义<a data-link-type="dfn" href="#high-level"
                id="ref-for-high-level⑤">高层</a>与<a data-link-type="dfn" href="#low-level"
                id="ref-for-low-level⑥">低层</a>传感器。</p>
        <p>不同<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①③">传感器类型</a>的<a data-link-type="dfn"
                href="#sensor-reading" id="ref-for-sensor-reading②⑤">传感器读数</a>可通过一种称为 <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-noexport id="sensor-fusion">传感器融合</dfn> 的过程进行结合。
            这样能产生更高层或更精确的数据（通常以牺牲延迟为代价）。
            例如，三轴磁力计的<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑥">读数</a>常需与加速度计的<a
                data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑦">读数</a>结合，才能得到正确的方位。</p>
        <p>智能传感器和传感器集线器有内置的计算能力，可在硬件层实施 <a data-link-type="dfn" href="#calibration" id="ref-for-calibration">校准</a> 和 <a
                data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion⑤">传感器融合</a>，降低 CPU 负担与电量消耗。</p>
        <p>若无法在硬件层实施 <a data-link-type="dfn" href="#sensor-fusion"
                id="ref-for-sensor-fusion⑥">传感器融合</a>，或需特定的融合算法时，也可在软件层实现 <a data-link-type="dfn" href="#sensor-fusion"
                id="ref-for-sensor-fusion⑦">传感器融合</a>。</p>
        <h3 class="heading settled" data-level="5.3" id="concepts-default-sensor"><span class="secno">5.3. </span><span
                class="content">默认传感器</span><a class="self-link" href="#concepts-default-sensor"></a></h3>
        <p>通用传感器 API 设计旨在让最常见用例实现简单，同时支持更复杂的场景。</p>
        <p>目前大多数设备并不含有多于一个可提供同类型<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑧">传感器读数</a>的
            <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①⑦">设备传感器</a>。需要相同类型
            <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor①⑧">设备传感器</a> 集合的用例，比
            较少，通常限于特定 <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⑤">传感器类型</a>，如 2 合 1
            笔记本中的多个加速度计。
        </p>
        <p>因此，API 让开发者能直接实例化对应 <code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①">Sensor</a></code>
            子类，便捷地访问设备对于每种类型的默认（通常也是唯一的）<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor①⑨">传感器</a>。</p>
        <p>确实，如果没有针对给定类型的 <a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor②⓪">传感器</a> 的确切标识信息，则由用户代理选定 <dfn class="dfn-paneled"
                data-dfn-type="dfn" data-export id="default-sensor">默认传感器</dfn>。</p>
        <p>若底层平台可用于查找 <a data-link-type="dfn" href="#default-sensor"
                id="ref-for-default-sensor">默认传感器</a>，用户代理须选用平台指定的传感器，否则自行确定设备上哪一个 <a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor②①">传感器</a> 作为 <a data-link-type="dfn"
                href="#default-sensor" id="ref-for-default-sensor①">默认传感器</a>。</p>
        <div class="example" id="example-6532f9b9">
            <a class="self-link" href="#example-6532f9b9"></a> 监听默认加速度计变化：
            <pre class="highlight"><c- a>let</c-> sensor <c- o>=</c-> <c- ow>new</c-> Accelerometer<c- p>({</c-> frequency<c- o>:</c-> <c- mf>30</c-> <c- p>});</c->

sensor<c- p>.</c->onreading <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c-> <c- p>...</c-> <c- p>}</c->
sensor<c- p>.</c->start<c- p>();</c->
</pre>
        </div>
        <p class="note" role="note"><span class="marker">注：</span> 若某些扩展规范下定义 <a data-link-type="dfn"
                href="#default-sensor" id="ref-for-default-sensor②">默认传感器</a> 并无意义，则可不做定义。例如，地理位置 <a
                data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type①⑧">传感器类型</a> 不需要默认 <a
                data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor②②">传感器</a>，因为其接口实现可用多个后端。</p>
        <p>若一个设备中存在多个对应同一类型的 <a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor②③">设备传感器</a>，
            则扩展规范须定义区分各自身份的方法。</p>
        <div class="example" id="example-a71cf25b">
            <a class="self-link" href="#example-a71cf25b"></a> 例如：检测左后轮胎的压力：
            <pre class="highlight"><c- a>var</c-> sensor <c- o>=</c-> <c- ow>new</c-> DirectTirePressureSensor<c- p>({</c-> position<c- o>:</c-> <c- u>"rear"</c-><c- p>,</c-> side<c- o>:</c-> <c- u>"left"</c-> <c- p>});</c->
sensor<c- p>.</c->onreading <c- o>=</c-> _ <c- p>=></c-> console<c- p>.</c->log<c- p>(</c->sensor<c- p>.</c->pressure<c- p>);</c->
sensor<c- p>.</c->start<c- p>();</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="5.4" id="concepts-sampling-and-reporting-frequencies"><span
                class="secno">5.4. </span><span class="content">采样频率与上报频率</span><a class="self-link"
                href="#concepts-sampling-and-reporting-frequencies"></a></h3>
        <p>本规范中，<a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑥">平台传感器</a>的
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="sampling-frequency">采样频率</dfn> 指 <a
                data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑦">平台传感器</a> 从底层
            <a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②④">设备传感器</a> 采集 <a
                data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading②⑨">传感器读数</a> 的频率。具体获取方式为 <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                id="ref-for-implementation-defined">实现自定义</a>。
        </p>
        <p><a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑧">平台传感器</a>的 <a
                data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency②">采样频率</a> 未必等于 <a
                data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑤">设备传感器</a>
            实际采样速率，后者对本规范来说是不可见的。</p>
        <p class="note" role="note"><span class="marker">注：</span> 系统层面的<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading③①">传感器读数</a>API及底层硬件接口，可能基于轮询或事件。对于轮询型 <a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑥">设备传感器</a>，<a data-link-type="dfn"
                href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑨">平台传感器</a>的 <a data-link-type="dfn"
                href="#sampling-frequency" id="ref-for-sampling-frequency③">采样频率</a> 是请求新读数的速率，而事件型 <a
                data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑦">设备传感器</a>则由 <a
                data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor①⓪">平台传感器</a>向系统申请采样频率，并按指定频率（或更低）生成事件。若读数未变化，可能不会生成事件。</p>
        <p><a data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑧">设备传感器</a> 可为其可接受的
            <a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①①">平台传感器</a>
            采样频率范围提供 <dfn class="dfn-paneled" data-dfn-for="device sensor" data-dfn-type="dfn" data-noexport
                id="device-sensor-minimum-sampling-frequency">最小采样频率</dfn> 和 <dfn class="dfn-paneled"
                data-dfn-for="device sensor" data-dfn-type="dfn" data-noexport
                id="device-sensor-maximum-sampling-frequency">最大采样频率</dfn>。<a data-link-type="dfn"
                href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①②">平台传感器</a> 的 <a
                data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency④">采样频率</a> 不得低于 <a
                data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor②⑨">设备传感器</a> 的 <a
                data-link-type="dfn" href="#device-sensor-minimum-sampling-frequency"
                id="ref-for-device-sensor-minimum-sampling-frequency">最小采样频率</a>，也不得高于其 <a data-link-type="dfn"
                href="#device-sensor-maximum-sampling-frequency"
                id="ref-for-device-sensor-maximum-sampling-frequency">最大采样频率</a>。
        </p>
        <p><a data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①③">平台传感器</a>的 <a
                data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency⑤">采样频率</a> 依据其关联 <a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item"
                id="ref-for-list-item">集合</a>中的激活传感器对象 <code
                class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot">[[frequency]]</a></code>
            值决定。具体逻辑为 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                id="ref-for-implementation-defined①">实现自定义</a>，但值必须落入 <a data-link-type="dfn"
                href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①④">平台传感器</a>的 <a
                data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⓪">传感器类型</a> 最小和最大采样频率，以及 <a
                data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor③⓪">设备传感器</a>最小和最大采样频率的范围内。</p>
        <p class="note" role="note"><span class="marker">注：</span> 例如，用户代理可取一组 <code
                class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot①">[[frequency]]</a></code>
            的最小公倍数(Least Common Denominator, LCD)作为<a data-link-type="dfn" href="#sampling-frequency"
                id="ref-for-sampling-frequency⑦">采样频率</a>，并受限于底层平台给定的采样频率范围。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="reporting-frequency">上报频率</dfn>指具体 <code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②">Sensor</a></code> 对象上 "reading"
            事件的触发频率。</p>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③">Sensor</a></code> 对象获取新 <a
                data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③②">读数</a>
            的速率不可能高于用户代理自平台所获得的速率，因此<a data-link-type="dfn" href="#reporting-frequency"
                id="ref-for-reporting-frequency">上报频率</a>不会超过<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor①⑤">平台传感器</a>的 <a data-link-type="dfn" href="#sampling-frequency"
                id="ref-for-sampling-frequency⑧">采样频率</a>，后者同样不超过<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor③①">设备传感器</a>（如有定义）的<a data-link-type="dfn"
                href="#device-sensor-maximum-sampling-frequency"
                id="ref-for-device-sensor-maximum-sampling-frequency②">最大采样频率</a>。</p>
        <p><a data-link-type="dfn" href="#reporting-frequency" id="ref-for-reporting-frequency①">上报频率</a>与<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④">Sensor</a></code>对象的<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot②">[[frequency]]</a></code>属性的值有以下差异情形：
        </p>
        <ul>
            <li data-md>
                <p>请求的<code
                        class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot③">[[frequency]]</a></code>
                    超出 <a data-link-type="dfn" href="#get-a-platform-sensors-sampling-bounds"
                        id="ref-for-get-a-platform-sensors-sampling-bounds">获得平台传感器采样边界</a> 方法返回的范围。</p>
            <li data-md>
                <p>操作系统和/或 <a data-link-type="dfn" href="#concept-device-sensor"
                        id="ref-for-concept-device-sensor③②">设备传感器</a> 通过硬件或系统层过滤器自动丢弃与前一次上报差异不大的读数（无论绝对还是相对尺度）。</p>
            <li data-md>
                <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑥">Sensor</a></code>
                    实例的关联 <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②①">传感器类型</a> 的 <a
                        data-link-type="dfn" href="#threshold-check-algorithm"
                        id="ref-for-threshold-check-algorithm②">阈值检查算法</a> 未通过，导致 <a data-link-type="dfn"
                        href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①⑦">平台传感器</a>的<a
                        data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①">最新读数</a>未更新。</p>
        </ul>
        <h3 class="heading settled" data-level="5.5" id="concepts-can-expose-sensor-readings"><span class="secno">5.5.
            </span><span class="content">暴露传感器读数的条件</span><a class="self-link"
                href="#concepts-can-expose-sensor-readings"></a></h3>
        <p>仅当以下所有条件成立时，用户代理 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="can-expose-sensor-readings">可以向 <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>
                <var>document</var> 暴露传感器读数</dfn>：
        </p>
        <ul>
            <li data-md>
                <p><var>document</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                        id="ref-for-relevant-settings-object">相关设置对象</a>处于 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                        id="ref-for-secure-context①">安全上下文</a>。</p>
            <li data-md>
                <p><var>document</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#visibility-state"
                        id="ref-for-visibility-state①">可见性状态</a>为 "visible"。</p>
            <li data-md>
                <p>针对 <var>document</var> 的 <a data-link-type="dfn" href="#focus-and-origin-check"
                        id="ref-for-focus-and-origin-check①">焦点与来源检查</a> 返回 true。</p>
            <li data-md>
                <p><dfn data-dfn-type="dfn" data-export id="specific-conditions">特定条件<a class="self-link"
                            href="#specific-conditions"></a></dfn>：<a data-link-type="dfn"
                        href="#extension-specification"
                        id="ref-for-extension-specification②">扩展规范</a>可补充更严格的条件以限制其指定的传感器类型。</p>
        </ul>
        <p class="note" role="note"><span class="marker">注：</span> 除上述条件外，还需要注意，各 <code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑦">Sensor</a></code> 子类会在构造器中调用 <a
                data-link-type="dfn" href="#check-sensor-policy-controlled-features"
                id="ref-for-check-sensor-policy-controlled-features">检查传感器策略控制特性</a> 操作，且 <a href="#sensor-start">§7.1.7
                Sensor.start()</a> 会调用 <a data-link-type="dfn" href="#request-sensor-access"
                id="ref-for-request-sensor-access">请求传感器访问</a>。这些检查共同组成了 <a href="#mitigation-strategies">§4.2 缓解策略</a>
            中描述的防护措施。</p>
        <p class="note" role="note"><span class="marker">注：</span> 为释放硬件资源，用户代理可请求底层 <a data-link-type="dfn"
                href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①⑧">平台传感器</a> 在不允许暴露读数之前暂停上报。</p>
        <h2 class="heading settled" data-level="6" id="model"><span class="secno">6. </span><span
                class="content">模型</span><a class="self-link" href="#model"></a></h2>
        <h3 class="heading settled" data-level="6.1" id="model-sensor-type"><span class="secno">6.1. </span><span
                class="content">传感器类型</span><a class="self-link" href="#model-sensor-type"></a></h3>
        <p>一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="sensor-type">传感器类型</dfn>必须具有关联的数据如下：</p>
        <ul>
            <li data-md>
                <p>一个或多个<a data-link-type="dfn" href="#extension-sensor-interface"
                        id="ref-for-extension-sensor-interface">扩展传感器接口</a>。</p>
            <li data-md>
                <p>一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                        id="ref-for-list-is-empty">非空的</a>、<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">有序集合</a>，
                    这些集合包含了被称为<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="sensor-permission-names">传感器权限名</dfn>的关联<a data-link-type="dfn"
                        href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name">强大功能名称</a>。</p>
                <p class="note" role="note"><span class="marker">注意：</span>多个<a data-link-type="dfn" href="#sensor-type"
                        id="ref-for-sensor-type②②">传感器类型</a>可能共用同一<a data-link-type="dfn"
                        href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name①">名称</a>。</p>
            <li data-md>
                <p>一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                        id="ref-for-list-is-empty①">非空的</a>、<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">有序集合</a>，
                    这些集合包含了被称为<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="sensor-feature-names">传感器功能名</dfn>的关联<a data-link-type="dfn"
                        href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                        id="ref-for-policy-controlled-feature①">策略控制功能</a>令牌。</p>
            <li data-md>
                <p>一个<a data-link-type="dfn"
                        href="https://w3c.github.io/permissions/#dfn-permission-revocation-algorithm"
                        id="ref-for-dfn-permission-revocation-algorithm">权限撤销算法</a>。</p>
            <li data-md>
                <p>一个<dfn class="dfn-paneled" data-dfn-for="sensor type" data-dfn-type="dfn" data-export
                        id="sensor-type-minimum-sampling-frequency">最小采样频率</dfn>，为正数。
                    该数值要么是<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-implementation-defined②">实现定义</a>，要么由<a data-link-type="dfn"
                        href="#extension-specification" id="ref-for-extension-specification③">扩展规范</a>设定。如果两者都设置，则取最大值。
                </p>
            <li data-md>
                <p>一个<dfn class="dfn-paneled" data-dfn-for="sensor type" data-dfn-type="dfn" data-export
                        id="sensor-type-maximum-sampling-frequency">最大采样频率</dfn>，为正数。
                    该数值要么是<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined"
                        id="ref-for-implementation-defined③">实现定义</a>，要么由<a data-link-type="dfn"
                        href="#extension-specification" id="ref-for-extension-specification④">扩展规范</a>设定。如果两者都设置，则取最小值。
                </p>
        </ul>
        <p><a data-link-type="dfn" href="#sensor-type-minimum-sampling-frequency"
                id="ref-for-sensor-type-minimum-sampling-frequency①">最小采样频率</a>不得大于<a data-link-type="dfn"
                href="#sensor-type-maximum-sampling-frequency"
                id="ref-for-sensor-type-maximum-sampling-frequency③">最大采样频率</a>。</p>
        <p>一个<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②③">传感器类型</a>还可以有如下关联数据：</p>
        <ul>
            <li data-md>
                <p>一个<a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor③">默认传感器</a>。</p>
            <li data-md>
                <p>一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="threshold-check-algorithm">阈值检查算法</dfn>，
                    接受两个独立<a data-link-type="dfn" href="#sensor-reading"
                        id="ref-for-sensor-reading③③">传感器读数</a>作为参数，并判断它们是否有足够差异，足以触发<a data-link-type="dfn"
                        href="#concept-platform-sensor" id="ref-for-concept-platform-sensor①⑨">平台传感器</a>的<a
                        data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading②">最新读数</a>映射被更新。</p>
            <li data-md>
                <p>一个<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="reading-quantization-algorithm">读数量化算法</dfn>，接受一个<a data-link-type="dfn"
                        href="#sensor-reading" id="ref-for-sensor-reading③④">传感器读数</a>
                    并返回一个更低精度的<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading③⑤">传感器读数</a>。
                </p>
            <li data-md>
                <p>一个<a data-link-type="dfn" href="#virtual-sensor-type" id="ref-for-virtual-sensor-type">虚拟传感器类型</a>。
                </p>
        </ul>
        <h3 class="heading settled" data-level="6.2" id="model-sensor"><span class="secno">6.2. </span><span
                class="content">传感器</span><a class="self-link" href="#model-sensor"></a></h3>
        <p>当前<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
                id="ref-for-browsing-context">浏览上下文</a>的<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor②⓪">平台传感器</a>应具有以下内容：</p>
        <ul>
            <li data-md>
                <p>一个关联的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set"
                        id="ref-for-ordered-set③">集合</a>，
                    其中包含<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                        id="activated-sensor-objects">激活的传感器对象</dfn>，初始状态为<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">空</a>；</p>
            <li data-md>
                <p>一个关联的<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="latest-reading">最新读数</dfn> <a
                        data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                        id="ref-for-ordered-map">映射</a>，用于保存当前可用的<a data-link-type="dfn" href="#sensor-reading"
                        id="ref-for-sensor-reading③⑥">传感器读数</a>。</p>
            <li data-md>
                <p>一个关联的<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②④">传感器类型</a>。</p>
        </ul>
        <p>每当为某<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor②①">平台传感器</a>得到新的<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading③⑦">传感器读数</a>且
            用户代理<a data-link-type="dfn" href="#can-expose-sensor-readings"
                id="ref-for-can-expose-sensor-readings①">可以向当前</a><a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"
                id="ref-for-navigable①">可导航对象</a>的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                id="ref-for-nav-document②">活动文档</a>暴露传感器读数时，
            用户代理应调用<a data-link-type="dfn" href="#update-latest-reading"
                id="ref-for-update-latest-reading">更新最新读数</a>，传入该<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor②②">平台传感器</a>及<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading③⑧">传感器读数</a>为参数。</p>
        <p><a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading③">最新读数</a>的<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">映射</a>
            包含一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry"
                id="ref-for-map-entry">条目</a>，其<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key"
                id="ref-for-map-key">键</a>为
            “timestamp”，其<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value"
                id="ref-for-map-value">值</a>为高精度时间戳，表示以毫秒为单位的<a data-link-type="dfn" href="#reading-timestamp"
                id="ref-for-reading-timestamp②">读数时间戳</a>，
            由 <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time"
                id="ref-for-monotonic-clock-unsafe-current-time">不安全当前时间</a>估算获得。</p>
        <p><a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading④">最新读数</a>["timestamp"]
            初始值为null，除非<a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑤">最新读数</a><a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                id="ref-for-ordered-map②">映射</a>缓存了之前的<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading③⑨">读数</a>。</p>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry" id="ref-for-map-entry①">该映射</a>的其它<a
                data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑥">条目</a><a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">值</a>则保存了
            <a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor②③">平台传感器</a>所测量各个量的数值。
            这些条目的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys"
                id="ref-for-map-getting-the-keys">键</a>必须与<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-attribute" id="ref-for-dfn-attribute">属性</a><a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-identifier"
                id="ref-for-dfn-identifier">标识符</a>相匹配，
            这些属性由<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⑤">传感器类型</a>关联的<a
                data-link-type="dfn" href="#extension-sensor-interface"
                id="ref-for-extension-sensor-interface①">扩展传感器接口</a>定义。
            当<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-attribute"
                id="ref-for-dfn-attribute①">属性</a>的getter方法被调用时，
            可以通过调用<a data-link-type="dfn" href="#get-value-from-latest-reading"
                id="ref-for-get-value-from-latest-reading">从最新读数获取值</a>，
            传递实现<a data-link-type="dfn" href="#extension-sensor-interface"
                id="ref-for-extension-sensor-interface②">扩展传感器接口</a>的对象及其<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-attribute" id="ref-for-dfn-attribute②">属性</a><a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-identifier"
                id="ref-for-dfn-identifier①">标识符</a>作为参数即可获得其值。
        </p>
        <p>所有<a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑦">最新读数</a>的<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry" id="ref-for-map-entry③">条目</a>
            的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value①">值</a>
            初始都为null。</p>
        <div class="algorithm" data-algorithm="get a platform sensor’s sampling bounds">
            要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="get-a-platform-sensors-sampling-bounds">获取平台传感器的采样边界</dfn>，给定一个<a data-link-type="dfn"
                href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor②④">平台传感器</a><var>platformSensor</var>：
            <ol>
                <li data-md>
                    <p>令<var>minimumFrequency</var>等于<var>platformSensor</var>的<a data-link-type="dfn"
                            href="#sensor-type" id="ref-for-sensor-type②⑥">传感器类型</a>的<a data-link-type="dfn"
                            href="#sensor-type-minimum-sampling-frequency"
                            id="ref-for-sensor-type-minimum-sampling-frequency②">最小采样频率</a>。</p>
                <li data-md>
                    <p>如果<var>platformSensor</var>所连接的<a data-link-type="dfn" href="#concept-device-sensor"
                            id="ref-for-concept-device-sensor③③">设备传感器</a>有<a data-link-type="dfn"
                            href="#device-sensor-minimum-sampling-frequency"
                            id="ref-for-device-sensor-minimum-sampling-frequency②">最小采样频率</a>，则将<var>minimumFrequency</var>设置为两者中的最大值。
                    </p>
                <li data-md>
                    <p>令<var>maximumFrequency</var>等于<var>platformSensor</var>的<a data-link-type="dfn"
                            href="#sensor-type" id="ref-for-sensor-type②⑦">传感器类型</a>的<a data-link-type="dfn"
                            href="#sensor-type-maximum-sampling-frequency"
                            id="ref-for-sensor-type-maximum-sampling-frequency④">最大采样频率</a>。</p>
                <li data-md>
                    <p>如果<var>platformSensor</var>所连接的<a data-link-type="dfn" href="#concept-device-sensor"
                            id="ref-for-concept-device-sensor③④">设备传感器</a>有<a data-link-type="dfn"
                            href="#device-sensor-maximum-sampling-frequency"
                            id="ref-for-device-sensor-maximum-sampling-frequency③">最大采样频率</a>，则将<var>maximumFrequency</var>设置为两者中的最小值。
                    </p>
                <li data-md>
                    <p>返回<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple"
                            id="ref-for-tuple">元组</a>(<var>minimumFrequency</var>, <var>maximumFrequency</var>)。</p>
            </ol>
        </div>
        <div class="example" id="example-b6449ddc">
            <a class="self-link" href="#example-b6449ddc"></a>
            <p>此示例展示了上述<a href="#model">模型</a>的一种可能实现方式。</p>
            <p>在下图中，多个来自两个不同<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
                    id="ref-for-browsing-context①">浏览上下文</a>的<a data-link-type="dfn" href="#activated-sensor-objects"
                    id="ref-for-activated-sensor-objects①">激活的</a>
                <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑧">Sensor</a></code>
                对象与同一个<a data-link-type="dfn" href="#concept-device-sensor"
                    id="ref-for-concept-device-sensor③⑤">设备传感器</a>交互。
            </p>
            <p><img alt="Generic Sensor Model" src="images/generic_sensor_model.png"
                    srcset="https://www.w3.org/TR/generic-sensor/images/generic_sensor_model.svg"></p>
            <p>"idle" <a href="#sensor-lifecycle">状态</a>下的<code
                    class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑨">Sensor</a></code>
                对象不属于<a data-link-type="dfn" href="#concept-platform-sensor"
                    id="ref-for-concept-platform-sensor②⑤">平台传感器</a>的<a data-link-type="dfn"
                    href="#activated-sensor-objects" id="ref-for-activated-sensor-objects②">激活的传感器对象</a>，因此不会与<a
                    data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor③⑥">设备传感器</a>交互。
            </p>
            <p>本例中，每个<a data-link-type="dfn" href="#concept-platform-sensor"
                    id="ref-for-concept-platform-sensor②⑥">平台传感器</a>实例对应一个<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
                    id="ref-for-browsing-context②">浏览上下文</a>。</p>
            <p><a data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading⑧">最新读数</a>的<a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                    id="ref-for-ordered-map④">映射</a>在同一<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
                    id="ref-for-browsing-context③">上下文</a>下由多个<code
                    class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⓪">Sensor</a></code>对象共享，并以对应<a
                    data-link-type="dfn" href="#sampling-frequency" id="ref-for-sampling-frequency⑨">采样频率</a>的速率进行更新。
            </p>
        </div>
        <h2 class="heading settled" data-level="7" id="api"><span class="secno">7. </span><span
                class="content">API</span><a class="self-link" href="#api"></a></h2>
        <h3 class="heading settled" data-level="7.1" id="the-sensor-interface"><span class="secno">7.1. </span><span
                class="content">Sensor 接口</span><a class="self-link" href="#the-sensor-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="sensor"><code><c- g>Sensor</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-readonly data-type="boolean" id="dom-sensor-activated"><code><c- g>activated</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-readonly data-type="boolean" id="dom-sensor-hasreading"><code><c- g>hasReading</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-readonly data-type="DOMHighResTimeStamp?" id="dom-sensor-timestamp"><code><c- g>timestamp</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="method" data-export data-lt="start()" id="dom-sensor-start"><code><c- g>start</c-></code></dfn>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="method" data-export data-lt="stop()" id="dom-sensor-stop"><code><c- g>stop</c-></code></dfn>();
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-sensor-onreading"><code><c- g>onreading</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-sensor-onactivate"><code><c- g>onactivate</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-sensor-onerror"><code><c- g>onerror</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-sensoroptions"><code><c- g>SensorOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SensorOptions" data-dfn-type="dict-member" data-export data-type="double " id="dom-sensoroptions-frequency"><code><c- g>frequency</c-></code></dfn>;
};
</pre>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①①">Sensor</a></code>对象有一个关联的<a
                data-link-type="dfn" href="#concept-platform-sensor" id="ref-for-concept-platform-sensor②⑧">平台传感器</a>。
        </p>
        <p>具体的 <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①②">Sensor</a></code>
            对象还关联一个<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type②⑧">传感器类型</a>，即拥有将其<a
                data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-interface"
                id="ref-for-dfn-interface">接口</a>包含在其<a data-link-type="dfn" href="#extension-sensor-interface"
                id="ref-for-extension-sensor-interface③">扩展传感器接口</a>集合中的<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type②⑨">传感器类型</a>。</p>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                id="ref-for-task-source">任务源</a>为本规范中提到的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                id="ref-for-concept-task">任务</a>是<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="sensor-task-source">传感器任务源</dfn>。</p>
        <div class="example" id="example-c4eab8e2">
            <a class="self-link" href="#example-c4eab8e2"></a> 下面示例中，首先检查用户代理是否有权限访问<a data-link-type="dfn"
                href="#sensor-reading" id="ref-for-sensor-reading④⓪">传感器读数</a>，然后构造加速度计传感器并添加<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-event-listener"
                id="ref-for-concept-event-listener">事件监听器</a>，分别监听<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event">事件</a>：<a
                data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor②⑨">平台传感器</a>激活、错误情况、以及新<a data-link-type="dfn"
                href="#sensor-reading" id="ref-for-sensor-reading④①">读数</a>到来的通知。该示例测量并记录设备所产生的最大合加速度。
            <p>相关<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                    id="ref-for-event-handler-event-type">事件处理器事件类型</a>以及<a href="#the-sensor-interface"> Sensor
                    接口</a>对应的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                    id="ref-for-event-handlers">事件处理器属性</a>定义请参见<a href="#event-handlers">事件处理器</a>章节。</p>
            <pre class="highlight">navigator<c- p>.</c->permissions<c- p>.</c->query<c- p>({</c-> name<c- o>:</c-> <c- t>'accelerometer'</c-> <c- p>}).</c->then<c- p>(</c->result <c- p>=></c-> <c- p>{</c->
    <c- k>if</c-> <c- p>(</c->result<c- p>.</c->state <c- o>===</c-> <c- t>'denied'</c-><c- p>)</c-> <c- p>{</c->
        console<c- p>.</c->log<c- p>(</c-><c- t>'Permission to use accelerometer sensor is denied.'</c-><c- p>);</c->
        <c- k>return</c-><c- p>;</c->
    <c- p>}</c->

    <c- a>let</c-> acl <c- o>=</c-> <c- ow>new</c-> Accelerometer<c- p>({</c->frequency<c- o>:</c-> <c- mf>30</c-><c- p>});</c->
    <c- a>let</c-> max_magnitude <c- o>=</c-> <c- mf>0</c-><c- p>;</c->
    acl<c- p>.</c->addEventListener<c- p>(</c-><c- t>'activate'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- t>'Ready to measure.'</c-><c- p>));</c->
    acl<c- p>.</c->addEventListener<c- p>(</c-><c- t>'error'</c-><c- p>,</c-> error <c- p>=></c-> console<c- p>.</c->log<c- p>(</c-><c- sb>`Error: </c-><c- si>${</c->error<c- p>.</c->name<c- si>}</c-><c- sb>`</c-><c- p>));</c->
    acl<c- p>.</c->addEventListener<c- p>(</c-><c- t>'reading'</c-><c- p>,</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
        <c- a>let</c-> magnitude <c- o>=</c-> Math<c- p>.</c->hypot<c- p>(</c->acl<c- p>.</c->x<c- p>,</c-> acl<c- p>.</c->y<c- p>,</c-> acl<c- p>.</c->z<c- p>);</c->
        <c- k>if</c-> <c- p>(</c->magnitude <c- o>></c-> max_magnitude<c- p>)</c-> <c- p>{</c->
            max_magnitude <c- o>=</c-> magnitude<c- p>;</c->
            console<c- p>.</c->log<c- p>(</c-><c- sb>`Max magnitude: </c-><c- si>${</c->max_magnitude<c- si>}</c-><c- sb> m/s2`</c-><c- p>);</c->
        <c- p>}</c->
    <c- p>});</c->
    acl<c- p>.</c->start<c- p>();</c->
<c- p>});</c->
</pre>
        </div>
        <h4 class="heading settled" data-level="7.1.1" id="sensor-lifecycle"><span class="secno">7.1.1. </span><span
                class="content">传感器生命周期</span><a class="self-link" href="#sensor-lifecycle"></a></h4>
        <svg height="79pt" viewBox="0.00 0.00 351.00 78.51" width="351pt" xmlns="http://www.w3.org/2000/svg">
            <style>
                @media (prefers-color-scheme: dark) {

                    path,
                    polygon {
                        filter: invert(1);
                    }

                    text {
                        fill: #fff;
                    }
                }
            </style>
            <g class="graph" transform="scale(1 1) rotate(0) translate(4 74.5122)">
                <title>Sensor lifecycle</title>
                <a href="#dom-sensor-state-slot">
                    <g class="node">
                        <title>idle</title>
                        <path
                            d="M96.997,-64C96.997,-64 66.997,-64 66.997,-64 60.997,-64 54.997,-58 54.997,-52 54.997,-52 54.997,-36 54.997,-36 54.997,-30 60.997,-24 66.997,-24 66.997,-24 96.997,-24 96.997,-24 102.997,-24 108.997,-30 108.997,-36 108.997,-36 108.997,-52 108.997,-52 108.997,-58 102.997,-64 96.997,-64"
                            fill="white" stroke="black"></path>
                        <text text-anchor="middle" transform="translate(0,-2)" x="81.997" y="-41.2">idle</text>
                    </g>
                </a>
                <a href="#dom-sensor-state-slot">
                    <g class="node">
                        <title>activating</title>
                        <path
                            d="M214.997,-64C214.997,-64 156.997,-64 156.997,-64 150.997,-64 144.997,-58 144.997,-52 144.997,-52 144.997,-36 144.997,-36 144.997,-30 150.997,-24 156.997,-24 156.997,-24 214.997,-24 214.997,-24 220.997,-24 226.997,-30 226.997,-36 226.997,-36 226.997,-52 226.997,-52 226.997,-58 220.997,-64 214.997,-64"
                            fill="white" stroke="black"></path>
                        <text text-anchor="middle" transform="translate(0,-2)" x="185.997" y="-41.2">activating</text>
                    </g>
                </a>
                <g class="edge">
                    <title>idle->activating</title>
                    <path d="M109,-38.0296C116.891,-37.4946 125.842,-37.2349 134.762,-37.2507" fill="none"
                        stroke="black"></path>
                    <polygon fill="black"
                        points="144.762,-37.3855 134.702,-41.7502 139.762,-37.318 134.763,-37.2506 134.763,-37.2506 134.763,-37.2506 139.762,-37.318 134.823,-32.751 144.762,-37.3855 144.762,-37.3855"
                        stroke="black"></polygon>
                    <text text-anchor="middle" transform="translate(0,-4)" x="133.576" y="-20.9121">start()</text>
                    <a href="#sensor-start">
                        <text text-anchor="middle" transform="translate(0,-4)" x="133.576" y="-20.9121">start()</text>
                    </a>
                </g>
                <g class="edge">
                    <title>activating->idle</title>
                    <path d="M144.762,-50.6145C136.302,-50.8304 127.428,-50.7883 119.129,-50.4883" fill="none"
                        stroke="black"></path>
                    <polygon fill="black"
                        points="109,-49.9704 119.217,-45.987 113.993,-50.2258 118.987,-50.4811 118.987,-50.4811 118.987,-50.4811 113.993,-50.2258 118.757,-54.9753 109,-49.9704 109,-49.9704"
                        stroke="black"></polygon>
                    <text text-anchor="middle" transform="translate(0,-4)" x="119.656" y="-59.3122">
                        <a href="#sensor-onerror">onerror</a>
                    </text>
                </g>
                <a href="#dom-sensor-state-slot">
                    <g class="node">
                        <title>activated</title>
                        <path
                            d="M330.997,-40C330.997,-40 274.997,-40 274.997,-40 268.997,-40 262.997,-34 262.997,-28 262.997,-28 262.997,-12 262.997,-12 262.997,-6 268.997,-0 274.997,-0 274.997,-0 330.997,-0 330.997,-0 336.997,-0 342.997,-6 342.997,-12 342.997,-12 342.997,-28 342.997,-28 342.997,-34 336.997,-40 330.997,-40"
                            fill="white" stroke="black"></path>
                        <text text-anchor="middle" transform="translate(0,-2)" x="302.997" y="-17.2">activated</text>
                    </g>
                </a>
                <g class="edge">
                    <title>activating->activated</title>
                    <path d="M227.218,-35.606C235.505,-33.8766 244.319,-32.037 252.881,-30.2504" fill="none"
                        stroke="black"></path>
                    <polygon fill="black"
                        points="262.767,-28.1871 253.898,-34.6352 257.873,-29.2086 252.978,-30.2301 252.978,-30.2301 252.978,-30.2301 257.873,-29.2086 252.059,-25.825 262.767,-28.1871 262.767,-28.1871"
                        stroke="black"></polygon>
                </g>
                <g class="edge">
                    <title>activated->idle</title>
                    <path
                        d="M262.74,-17.3829C244.593,-16.1731 226.997,-15 226.997,-15 226.997,-15 144.997,-15 144.997,-15 144.997,-15 132.341,-20.9199 118.465,-27.4103"
                        fill="none" stroke="black"></path>
                    <polygon fill="black"
                        points="109.291,-31.7014 116.442,-23.3883 113.82,-29.5829 118.349,-27.4645 118.349,-27.4645 118.349,-27.4645 113.82,-29.5829 120.255,-31.5406 109.291,-31.7014 109.291,-31.7014"
                        stroke="black"></polygon>
                    <text text-anchor="middle" transform="translate(0,-4)" x="200" y="5">
                        <a href="#sensor-stop">stop()</a>
                        /
                        <a href="#sensor-onerror">onerror</a>
                    </text>
                </g>
                <g class="node">
                    <title>start</title>
                    <ellipse cx="11.997" cy="-44" fill="black" rx="7" ry="7" stroke="black"></ellipse>
                </g>
                <g class="edge">
                    <title>start->idle</title>
                    <path d="M19.2724,-44C25.2754,-44 34.8461,-44 44.6767,-44" fill="none" stroke="black"></path>
                    <polygon fill="black"
                        points="54.8766,-44 44.8767,-48.5001 49.8766,-44 44.8766,-44.0001 44.8766,-44.0001 44.8766,-44.0001 49.8766,-44 44.8766,-39.5001 54.8766,-44 54.8766,-44"
                        stroke="black"></polygon>
                    <a href="#extension-sensor-interface">
                        <text text-anchor="middle" transform="translate(0,-4)" x="29.5" y="-52.1333">construct</text>
                    </a>
                </g>
            </g>
        </svg>
        <p class="note" role="note"><span class="marker">注意：</span>上图中的节点代表<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①③">Sensor</a></code>
            对象的状态，切勿与底层<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor③①">平台传感器</a>或<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor③⑦">设备传感器</a>的可能状态混淆。</p>
        <h4 class="heading settled" data-level="7.1.2" id="sensor-garbage-collection"><span class="secno">7.1.2.
            </span><span class="content">传感器垃圾回收</span><a class="self-link" href="#sensor-garbage-collection"></a></h4>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①④">Sensor</a></code>对象，其<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot">[[state]]</a></code>
            为"activating"时，只要注册了“activated”、“reading”或“error”事件监听器，则不得被垃圾回收。</p>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑤">Sensor</a></code>对象，其<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①">[[state]]</a></code>
            为"activated"时，只要注册了“reading”或“error”事件监听器，则不得被垃圾回收。</p>
        <p>当<code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑥">Sensor</a></code>
            对象，其<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot②">[[state]]</a></code>
            为"activated"或"activating"被垃圾回收时，用户代理必须用此对象作为参数调用<a data-link-type="dfn" href="#deactivate-a-sensor-object"
                id="ref-for-deactivate-a-sensor-object">停用传感器对象</a>。</p>
        <h4 class="heading settled" data-level="7.1.3" id="sensor-internal-slots"><span class="secno">7.1.3.
            </span><span class="content">传感器内部插槽</span><a class="self-link" href="#sensor-internal-slots"></a></h4>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑦">Sensor</a></code>
            的实例创建时包含以下表格里描述的内部插槽：</p>
        <table class="def" id="sensor-slots">
            <thead>
                <tr>
                    <th>内部插槽
                    <th>描述（非规范性）
            <tbody>
                <tr>
                    <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export
                            id="dom-sensor-state-slot"><code>[[state]]</code></dfn>
                    <td><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑧">Sensor</a></code>
                        对象的当前状态，可为"idle"、"activating"或"activated"之一。
                        初始为"idle"。
                <tr>
                    <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export
                            id="dom-sensor-frequency-slot"><code>[[frequency]]</code></dfn>
                    <td>用于计算关联<a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor③②">平台传感器</a>采样频率的Hz（双精度浮点数），
                        并作为本<code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor①⑨">Sensor</a></code>
                        对象的<a data-link-type="dfn" href="#reporting-frequency"
                            id="ref-for-reporting-frequency②">报告频率</a>上限。初始值为null。
                <tr>
                    <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export
                            id="dom-sensor-lasteventfiredat-slot"><code>[[lastEventFiredAt]]</code></dfn>
                    <td>最近一次为观察者发出的<a data-link-type="dfn" href="#sensor-reading"
                            id="ref-for-sensor-reading④②">传感器读数</a>的高精度时间戳，
                        单位为自<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                            id="ref-for-concept-settings-object-time-origin">时间原点</a>起的毫秒数。
                        初始为null。
                <tr>
                    <td><dfn class="dfn-paneled idl-code" data-dfn-for="Sensor" data-dfn-type="attribute" data-export
                            id="dom-sensor-pendingreadingnotification-slot"><code>[[pendingReadingNotification]]</code></dfn>
                    <td>布尔值，表示新的<a data-link-type="dfn" href="#sensor-reading"
                            id="ref-for-sensor-reading④③">传感器读数</a>上报后，
                        是否需要通知观察者。初始为false。
        </table>
        <h4 class="heading settled" data-level="7.1.4" id="sensor-activated"><span class="secno">7.1.4. </span><span
                class="content">Sensor.activated</span><a class="self-link" href="#sensor-activated"></a></h4>
        <div class="algorithm" data-algorithm="is sensor activated">
            <p><code
                    class="idl"><a class="idl-code" data-link-type="attribute" href="#dom-sensor-activated" id="ref-for-dom-sensor-activated">activated</a></code>
                getter 步骤如下：</p>
            <ol>
                <li data-md>
                    <p>如果
                        <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this">this</a>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot③">[[state]]</a></code>
                        为"activated"，
                        返回true。
                    </p>
                <li data-md>
                    <p>否则，返回false。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.1.5" id="sensor-has-reading"><span class="secno">7.1.5. </span><span
                class="content">Sensor.hasReading</span><a class="self-link" href="#sensor-has-reading"></a></h4>
        <div class="algorithm" data-algorithm="sensor has reading">
            <p><code
                    class="idl"><a class="idl-code" data-link-type="attribute" href="#dom-sensor-hasreading" id="ref-for-dom-sensor-hasreading">hasReading</a></code>
                getter 步骤如下：</p>
            <ol>
                <li data-md>
                    <p>令<var>timestamp</var>为调用<a data-link-type="dfn" href="#get-value-from-latest-reading"
                            id="ref-for-get-value-from-latest-reading①">从最新读数获取值</a>，
                        以<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①">this</a>和"timestamp"为参数的返回结果。</p>
                <li data-md>
                    <p>如果<var>timestamp</var>不为null，返回true。</p>
                <li data-md>
                    <p>否则，返回false。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.1.6" id="sensor-timestamp"><span class="secno">7.1.6. </span><span
                class="content">Sensor.timestamp</span><a class="self-link" href="#sensor-timestamp"></a></h4>
        <div class="algorithm" data-algorithm="sensor timestamp">
            <code
                class="idl"><a data-link-type="idl" href="#dom-sensor-timestamp" id="ref-for-dom-sensor-timestamp">timestamp</a></code>
            getter 步骤如下：
            <ol>
                <li data-md>
                    <p>令<var>global</var>为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this②">this</a>的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                            id="ref-for-concept-relevant-global">相关全局对象</a>。</p>
                <li data-md>
                    <p>令<var>unsafeTimestamp</var>为调用<a data-link-type="dfn" href="#get-value-from-latest-reading"
                            id="ref-for-get-value-from-latest-reading②">从最新读数获取值</a>，
                        以<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this③">this</a>和"timestamp"为参数的结果。</p>
                <li data-md>
                    <p>如<var>unsafeTimestamp</var>为null，返回null。</p>
                <li data-md>
                    <p>否则，返回<a data-link-type="dfn"
                            href="https://w3c.github.io/hr-time/#dfn-relative-high-resolution-time"
                            id="ref-for-dfn-relative-high-resolution-time">相对高精度时间</a>，参数为<var>unsafeTimestamp</var>和<var>global</var>。
                    </p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.1.7" id="sensor-start"><span class="secno">7.1.7. </span><span
                class="content">Sensor.start()</span><a class="self-link" href="#sensor-start"></a></h4>
        <div class="algorithm" data-algorithm="to start a sensor">
            <p><code
                    class="idl"><a data-link-type="idl" href="#dom-sensor-start" id="ref-for-dom-sensor-start">start()</a></code>
                方法步骤如下：</p>
            <ol>
                <li data-md>
                    <p>如<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this④">this</a>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot④">[[state]]</a></code>
                        已为"activating"或"activated"，则直接返回。</p>
                <li data-md>
                    <p>将<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this⑤">this</a>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑤">[[state]]</a></code>
                        设为"activating"。</p>
                <li data-md>
                    <p>并行运行以下子步骤：</p>
                    <ol>
                        <li data-md>
                            <p>令<var>permissionState</var>为调用<a data-link-type="dfn" href="#request-sensor-access"
                                    id="ref-for-request-sensor-access①">请求传感器访问</a>，以<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>为参数。</p>
                        <li data-md>
                            <p>如<var>permissionState</var>为"denied"，则：</p>
                            <ol>
                                <li data-md>
                                    <p>令<var>e</var>为<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                                            id="ref-for-dfn-create-exception">创建</a>一个"<code
                                            class="idl"><a class="idl-code" data-link-type="exception" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>。
                                    </p>
                                <li data-md>
                                    <p>排入任务队列，调用<a data-link-type="dfn" href="#notify-error"
                                            id="ref-for-notify-error">通知错误</a>，以<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this"
                                            id="ref-for-this⑦">this</a>和<var>e</var>作为参数
                                    </p>
                                <li data-md>
                                    <p>返回。</p>
                            </ol>
                        <li data-md>
                            <p>令<var>connected</var>为调用<a data-link-type="dfn" href="#connect-to-sensor"
                                    id="ref-for-connect-to-sensor">连接传感器</a>，参数为
                                <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this⑧">this</a>和<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>的<a
                                    data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                    id="ref-for-concept-relevant-global①">相关全局对象</a>。
                            </p>
                        <li data-md>
                            <p>如<var>connected</var>为false，则</p>
                            <ol>
                                <li data-md>
                                    <p>令<var>e</var>为<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                                            id="ref-for-dfn-create-exception①">创建</a>一个"<code
                                            class="idl"><a class="idl-code" data-link-type="exception" href="https://webidl.spec.whatwg.org/#notreadableerror" id="ref-for-notreadableerror">NotReadableError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>。
                                    </p>
                                <li data-md>
                                    <p>排入任务队列，调用<a data-link-type="dfn" href="#notify-error"
                                            id="ref-for-notify-error①">通知错误</a>，以<a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#this"
                                            id="ref-for-this①⓪">this</a>和<var>e</var>作为参数
                                    </p>
                                <li data-md>
                                    <p>返回。</p>
                            </ol>
                        <li data-md>
                            <p>调用<a data-link-type="dfn" href="#activate-a-sensor-object"
                                    id="ref-for-activate-a-sensor-object">激活传感器对象</a>，
                                以<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                    id="ref-for-this①①">this</a>为参数。</p>
                    </ol>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.1.8" id="sensor-stop"><span class="secno">7.1.8. </span><span
                class="content">Sensor.stop()</span><a class="self-link" href="#sensor-stop"></a></h4>
        <div class="algorithm" data-algorithm="to stop a sensor">
            <p><code
                    class="idl"><a data-link-type="idl" href="#dom-sensor-stop" id="ref-for-dom-sensor-stop">stop()</a></code>
                方法如下：</p>
            <ol>
                <li data-md>
                    <p>如<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①②">this</a>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑥">[[state]]</a></code>
                        为"idle"，则返回。</p>
                <li data-md>
                    <p>将<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                            id="ref-for-this①③">this</a>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑦">[[state]]</a></code>
                        设为"idle"。</p>
                <li data-md>
                    <p>并行运行以下子步骤：</p>
                    <ol>
                        <li data-md>
                            <p>调用<a data-link-type="dfn" href="#deactivate-a-sensor-object"
                                    id="ref-for-deactivate-a-sensor-object①">停用传感器对象</a>，以<a data-link-type="dfn"
                                    href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a>为参数。</p>
                    </ol>
            </ol>
        </div>
        <h4 class="heading settled" data-level="7.1.9" id="sensor-onreading"><span class="secno">7.1.9. </span><span
                class="content">Sensor.onreading</span><a class="self-link" href="#sensor-onreading"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-sensor-onreading" id="ref-for-dom-sensor-onreading">onreading</a></code>
            是<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③">EventHandler</a></code>
            ，用于通知有新的<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④④">读数</a>可用。</p>
        <h4 class="heading settled" data-level="7.1.10" id="sensor-onactivate"><span class="secno">7.1.10. </span><span
                class="content">Sensor.onactivate</span><a class="self-link" href="#sensor-onactivate"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-sensor-onactivate" id="ref-for-dom-sensor-onactivate">onactivate</a></code>
            是<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④">EventHandler</a></code>
            ，当<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>.<code
                class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑧">[[state]]</a></code>
            从"activating"转变为"activated"时被调用。</p>
        <h4 class="heading settled" data-level="7.1.11" id="sensor-onerror"><span class="secno">7.1.11. </span><span
                class="content">Sensor.onerror</span><a class="self-link" href="#sensor-onerror"></a></h4>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-sensor-onerror" id="ref-for-dom-sensor-onerror">onerror</a></code>
            是<code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑤">EventHandler</a></code>
            ，每当抽象操作或IDL操作发生无法同步处理的错误时调用。</p>
        <h4 class="heading settled" data-level="7.1.12" id="event-handlers"><span class="secno">7.1.12. </span><span
                class="content">事件处理器</span><a class="self-link" href="#event-handlers"></a></h4>
        <p>下面列出了对象实现<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②①">Sensor</a></code>接口时必须支持的<a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                id="ref-for-event-handlers①">事件处理器</a>（及其对应<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                id="ref-for-event-handler-event-type①">事件类型</a>）：
        </p>
        <table class="def">
            <thead>
                <tr>
                    <th>事件处理器
                    <th>事件类型
            <tbody>
                <tr>
                    <td><strong><code>onreading</code></strong>
                    <td><code>reading</code>
                <tr>
                    <td><strong><code>onactivate</code></strong>
                    <td><code>activate</code>
                <tr>
                    <td><strong><code>onerror</code></strong>
                    <td><code>error</code>
        </table>
        <h3 class="heading settled" data-level="7.2" id="the-sensor-error-event-interface"><span class="secno">7.2.
            </span><span class="content">SensorErrorEvent 接口</span><a class="self-link"
                href="#the-sensor-error-event-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="sensorerrorevent"><code><c- g>SensorErrorEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
  <dfn class="idl-code" data-dfn-for="SensorErrorEvent" data-dfn-type="constructor" data-export data-lt="SensorErrorEvent(type, errorEventInitDict)|constructor(type, errorEventInitDict)" id="dom-sensorerrorevent-sensorerrorevent"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-sensorerrorevent-sensorerrorevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="SensorErrorEvent/SensorErrorEvent(type, errorEventInitDict), SensorErrorEvent/constructor(type, errorEventInitDict)" data-dfn-type="argument" data-export id="dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type"></a></dfn>, <a data-link-type="idl-name" href="#dictdef-sensorerroreventinit" id="ref-for-dictdef-sensorerroreventinit"><c- n>SensorErrorEventInit</c-></a> <dfn class="idl-code" data-dfn-for="SensorErrorEvent/SensorErrorEvent(type, errorEventInitDict), SensorErrorEvent/constructor(type, errorEventInitDict)" data-dfn-type="argument" data-export id="dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict"><code><c- g>errorEventInitDict</c-></code><a class="self-link" href="#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict"></a></dfn>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②"><c- n>DOMException</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMException" href="#dom-sensorerrorevent-error" id="ref-for-dom-sensorerrorevent-error"><c- g>error</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-sensorerroreventinit"><code><c- g>SensorErrorEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③"><c- n>DOMException</c-></a> <dfn class="idl-code" data-dfn-for="SensorErrorEventInit" data-dfn-type="dict-member" data-export data-type="DOMException " id="dom-sensorerroreventinit-error"><code><c- g>error</c-></code><a class="self-link" href="#dom-sensorerroreventinit-error"></a></dfn>;
};
</pre>
        <p><code
                class="idl"><a data-link-type="idl" href="#sensorerrorevent" id="ref-for-sensorerrorevent">SensorErrorEvent</a></code>
            实例的构造步骤遵循
            <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①">Event</a></code>
            的<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-constructor"
                id="ref-for-concept-event-constructor">构造器</a>步骤。
        </p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="SensorErrorEvent" data-dfn-type="attribute" data-export
                id="dom-sensorerrorevent-error"><code>error</code></dfn> 属性必须返回初始化时设置的值。它表示传递给
            <code
                class="idl"><a data-link-type="idl" href="#dictdef-sensorerroreventinit" id="ref-for-dictdef-sensorerroreventinit①">SensorErrorEventInit</a></code>
            的 <code
                class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>
            对象。
        </p>
        <h2 class="heading settled" data-level="8" id="abstract-operations"><span class="secno">8. </span><span
                class="content">抽象操作</span><a class="self-link" href="#abstract-operations"></a></h2>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.1"
            data-lt="Initialize a sensor object" id="initialize-a-sensor-object"><span class="secno">8.1. </span><span
                class="content">初始化传感器对象</span><a class="self-link" href="#initialize-a-sensor-object"
                id="ref-for-initialize-a-sensor-object"></a></h3>
        <div class="algorithm" data-algorithm="initialize a sensor object">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor_instance</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②②">Sensor</a></code>
                        对象。</p>
                <dd data-md>
                    <p><var>options</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="#dictdef-sensoroptions" id="ref-for-dictdef-sensoroptions">SensorOptions</a></code>
                        字典实例。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                            id="ref-for-map-iterate">对</a> <var>options</var> 的每一项 <var>key</var> → <var>value</var>
                        执行如下操作
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果对应的<a data-link-type="dfn" href="#supported-sensor-options"
                                    id="ref-for-supported-sensor-options">支持的传感器选项</a> <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">不包含</a>
                                <var>key</var>
                            </p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                                            id="ref-for-dfn-throw">抛出</a> "<code
                                            class="idl"><a class="idl-code" data-link-type="exception" href="https://webidl.spec.whatwg.org/#notsupportederror" id="ref-for-notsupportederror">NotSupportedError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>。
                                    </p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>如果 <var>options</var>["<code
                            class="idl"><a class="idl-code" data-link-type="dict-member" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency">frequency</a></code>"]
                        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists">存在</a>，则
                    </p>
                    <ol>
                        <li data-md>
                            <p>将 <var>sensor_instance</var>.<code
                                    class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot④">[[frequency]]</a></code>
                                设置为 <var>options</var>["<code
                                    class="idl"><a class="idl-code" data-link-type="dict-member" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency①">frequency</a></code>"]。
                            </p>
                    </ol>
                    <p class="note" role="note"><span class="marker">注意：</span> 不保证能够满足请求的 <var>options</var>["<code
                            class="idl"><a class="idl-code" data-link-type="dict-member" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency②">frequency</a></code>"]。
                        有关可能适用的约束可参见 <a href="#concepts-sampling-and-reporting-frequencies">§ 5.4 采样频率与报告频率</a>。</p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.2"
            data-lt="Check sensor policy-controlled features" id="check-sensor-policy-controlled-features"><span
                class="secno">8.2. </span><span class="content">检查传感器策略控制特性</span><a class="self-link"
                href="#check-sensor-policy-controlled-features"
                id="ref-for-check-sensor-policy-controlled-features①"></a></h3>
        <div class="algorithm" data-algorithm="check sensor policy-controlled features">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor_type</var>，一个<a data-link-type="dfn" href="#sensor-type"
                            id="ref-for-sensor-type③⓪">传感器类型</a>。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>仅当所有关联的<a data-link-type="dfn" href="#sensor-feature-names"
                            id="ref-for-sensor-feature-names">传感器功能名</a>均被<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                            id="ref-for-allowed-to-use①">允许使用</a>时返回 true，否则返回 false。</p>
            </dl>
            <ol>
                <li data-md>
                    <p>令 <var>feature_names</var> 为 <var>sensor_type</var> 关联的 <a data-link-type="dfn"
                            href="#sensor-feature-names" id="ref-for-sensor-feature-names①">传感器功能名</a>。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate">对于</a> <var>feature_names</var> 中的每个 <var>feature_name</var>，
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                                    id="ref-for-nav-document③">活动文档</a>未被<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"
                                    id="ref-for-allowed-to-use②">允许使用</a>名为 <var>feature_name</var> 的<a
                                    data-link-type="dfn"
                                    href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                                    id="ref-for-policy-controlled-feature②">策略控制特性</a>，则：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>返回 false。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.3"
            data-lt="Connect to sensor" id="connect-to-sensor"><span class="secno">8.3. </span><span
                class="content">连接传感器</span><a class="self-link" href="#connect-to-sensor"
                id="ref-for-connect-to-sensor②"></a></h3>
        <div class="algorithm" data-algorithm="connect to sensor">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②③">Sensor</a></code>
                        对象。</p>
                <dd data-md>
                    <p><var>global</var>，一个 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
                            id="ref-for-global-object">全局对象</a>。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>若 <var>sensor</var> 与某个<a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor③③">平台传感器</a>关联则为 true，否则为 false。</p>
            </dl>
            <ol>
                <li data-md>
                    <p>令 <var>platformSensor</var> 为 null。</p>
                <li data-md>
                    <p>令 <var>type</var> 为 <var>sensor</var> 关联的<a data-link-type="dfn" href="#sensor-type"
                            id="ref-for-sensor-type③①">传感器类型</a>。</p>
                <li data-md>
                    <p>令 <var>virtualSensorType</var> 为 <var>sensor</var> 关联的<a data-link-type="dfn"
                            href="#virtual-sensor-type" id="ref-for-virtual-sensor-type①">虚拟传感器类型</a>，若未设置则为 null。</p>
                <li data-md>
                    <p>令 <var>topLevelTraversable</var> 为 <var>global</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable"
                            id="ref-for-window-navigable">navigable</a> 的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top"
                            id="ref-for-nav-top">顶层可遍历对象</a>。</p>
                <li data-md>
                    <p>如果 <var>virtualSensorType</var> 不为 null 且 <var>topLevelTraversable</var> 的<a data-link-type="dfn"
                            href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping">虚拟传感器映射</a> <a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists①">包含</a> <var>virtualSensorType</var>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>virtualSensor</var> 为 <var>topLevelTraversable</var>
                                的<a data-link-type="dfn" href="#virtual-sensor-mapping"
                                    id="ref-for-virtual-sensor-mapping①">虚拟传感器映射</a>[<var>virtualSensorType</var>]。</p>
                        <li data-md>
                            <p>如果 <var>virtualSensor</var> 的<a data-link-type="dfn"
                                    href="#virtual-sensor-can-provide-readings-flag"
                                    id="ref-for-virtual-sensor-can-provide-readings-flag">可供读数标志</a>为 true，则将
                                <var>platformSensor</var> 设置为
                                与 <var>virtualSensor</var> 对应的<a data-link-type="dfn" href="#concept-platform-sensor"
                                    id="ref-for-concept-platform-sensor③④">平台传感器</a>。
                            </p>
                            <p class="note" role="note"><span class="marker">注意：</span> 如果<a data-link-type="dfn"
                                    href="#virtual-sensor-can-provide-readings-flag"
                                    id="ref-for-virtual-sensor-can-provide-readings-flag①">可供读数标志</a>为
                                false，<var>platformSensor</var> 仍为 null，
                                本算法将返回 false。</p>
                    </ol>
                <li data-md>
                    <p>否则：</p>
                    <ol>
                        <li data-md>
                            <p>如果设备有唯一<a data-link-type="dfn" href="#concept-device-sensor"
                                    id="ref-for-concept-device-sensor③⑧">设备传感器</a>能为 <var>type</var> 提供<a
                                    data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④⑤">读数</a>，则
                            </p>
                            <ol>
                                <li data-md>
                                    <p>将 <var>platformSensor</var> 设为与此<a data-link-type="dfn"
                                            href="#concept-device-sensor"
                                            id="ref-for-concept-device-sensor③⑨">设备传感器</a>对应的<a data-link-type="dfn"
                                            href="#concept-platform-sensor"
                                            id="ref-for-concept-platform-sensor③⑤">平台传感器</a>。</p>
                            </ol>
                        <li data-md>
                            <p>如果设备有多个<a data-link-type="dfn" href="#concept-device-sensor"
                                    id="ref-for-concept-device-sensor④⓪">设备传感器</a>能为 <var>type</var> 提供<a
                                    data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading④⑥">读数</a>，则
                            </p>
                            <ol>
                                <li data-md>
                                    <p>如果 <var>type</var> 有关联的<a data-link-type="dfn" href="#default-sensor"
                                            id="ref-for-default-sensor④">默认传感器</a>，则
                                    </p>
                                    <ol>
                                        <li data-md>
                                            <p>将 <var>platformSensor</var> 设为与此<a data-link-type="dfn"
                                                    href="#default-sensor" id="ref-for-default-sensor⑤">默认设备传感器</a>对应的<a
                                                    data-link-type="dfn" href="#concept-platform-sensor"
                                                    id="ref-for-concept-platform-sensor③⑥">平台传感器</a>。</p>
                                    </ol>
                            </ol>
                    </ol>
                <li data-md>
                    <p>如果 <var>platformSensor</var> 为 null，返回 false。</p>
                <li data-md>
                    <p>令 <var>bounds</var> 为调用 <a data-link-type="dfn" href="#get-a-platform-sensors-sampling-bounds"
                            id="ref-for-get-a-platform-sensors-sampling-bounds①">获取平台传感器的采样边界</a>
                        (<var>platformSensor</var>) 得到的结果。</p>
                <li data-md>
                    <p>如果 <var>sensor</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑤">[[frequency]]</a></code>
                        为 null，则将其设为根据 <var>type</var> 实现定义的值。</p>
                <li data-md>
                    <p>如果 <var>sensor</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑥">[[frequency]]</a></code>
                        小于 <var>bounds</var>[0]，则设为 <var>bounds</var>[0]。</p>
                <li data-md>
                    <p>如果 <var>sensor</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑦">[[frequency]]</a></code>
                        大于 <var>bounds</var>[1]，则设为 <var>bounds</var>[1]。</p>
                <li data-md>
                    <p>返回 true。</p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.4"
            data-lt="Activate a sensor object" id="activate-a-sensor-object"><span class="secno">8.4. </span><span
                class="content">激活传感器对象</span><a class="self-link" href="#activate-a-sensor-object"
                id="ref-for-activate-a-sensor-object①"></a></h3>
        <div class="algorithm" data-algorithm="activate a sensor object">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor_instance</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②④">Sensor</a></code>
                        对象。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>令 <var>sensor</var> 为与 <var>sensor_instance</var> 关联的 <a data-link-type="dfn"
                            href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③⑦">平台传感器</a>。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                            id="ref-for-set-append">将</a> <var>sensor_instance</var> 添加到 <var>sensor</var> 的<a
                            data-link-type="dfn" href="#activated-sensor-objects"
                            id="ref-for-activated-sensor-objects③">激活的传感器对象</a>集合中。
                    </p>
                <li data-md>
                    <p>调用 <a data-link-type="dfn" href="#set-sensor-settings"
                            id="ref-for-set-sensor-settings">设置传感器配置</a>，以 <var>sensor</var> 为参数。</p>
                <li data-md>
                    <p>排入任务队列，调用 <a data-link-type="dfn" href="#notify-activated-state"
                            id="ref-for-notify-activated-state">通知激活状态</a>，参数为 <var>sensor_instance</var>。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.5"
            data-lt="Deactivate a sensor object" id="deactivate-a-sensor-object"><span class="secno">8.5. </span><span
                class="content">停用传感器对象</span><a class="self-link" href="#deactivate-a-sensor-object"
                id="ref-for-deactivate-a-sensor-object④"></a></h3>
        <div class="algorithm" data-algorithm="deactivate a sensor object">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor_instance</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑤">Sensor</a></code>
                        对象。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>从与 <var>sensor_instance</var> 相关的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue"
                            id="ref-for-task-queue">任务队列</a>以及 <a data-link-type="dfn" href="#sensor-task-source"
                            id="ref-for-sensor-task-source">传感器任务源</a>
                        中移除所有与 <var>sensor_instance</var> 有关的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                            id="ref-for-concept-task①">任务</a>。</p>
                <li data-md>
                    <p>令 <var>sensor</var> 为与 <var>sensor_instance</var> 关联的 <a data-link-type="dfn"
                            href="#concept-platform-sensor" id="ref-for-concept-platform-sensor③⑧">平台传感器</a>。
                    </p>
                <li data-md>
                    <p>如 <var>sensor</var> 的<a data-link-type="dfn" href="#activated-sensor-objects"
                            id="ref-for-activated-sensor-objects④">激活的传感器对象</a>集合<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">包含</a>
                        <var>sensor_instance</var>，则：
                    </p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                                    id="ref-for-list-remove">将</a> <var>sensor_instance</var> 从 <var>sensor</var> 的<a
                                    data-link-type="dfn" href="#activated-sensor-objects"
                                    id="ref-for-activated-sensor-objects⑤">激活的传感器对象</a>集合中移除。
                            </p>
                        <li data-md>
                            <p>调用 <a data-link-type="dfn" href="#set-sensor-settings"
                                    id="ref-for-set-sensor-settings①">设置传感器配置</a>，以 <var>sensor</var> 为参数。</p>
                        <li data-md>
                            <p>将 <var>sensor_instance</var>.<code
                                    class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot">[[pendingReadingNotification]]</a></code>
                                设为 false。</p>
                        <li data-md>
                            <p>将 <var>sensor_instance</var>.<code
                                    class="idl"><a data-link-type="idl" href="#dom-sensor-lasteventfiredat-slot" id="ref-for-dom-sensor-lasteventfiredat-slot">[[lastEventFiredAt]]</a></code>
                                设为 null。</p>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.6"
            data-lt="Generic Sensor permission revocation algorithm"
            id="generic-sensor-permission-revocation-algorithm"><span class="secno">8.6. </span><span
                class="content">通用传感器权限撤销算法</span><a class="self-link"
                href="#generic-sensor-permission-revocation-algorithm"
                id="ref-for-generic-sensor-permission-revocation-algorithm"></a></h3>
        <div class="algorithm" data-algorithm="generic sensor permission revocation algorithm">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>permissionName</var>，一个<a data-link-type="dfn"
                            href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name②">强大功能名称</a></p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>对于当前<a data-link-type="dfn" href="https://tc39.github.io/ecma262/#current-realm"
                            id="ref-for-current-realm">领域</a>内的每个
                        <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑥">Sensor</a></code>
                        实例 <var>sensor</var>：
                    </p>
                    <ol>
                        <li data-md>
                            <p>如果 <var>sensor</var>.<code
                                    class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot⑨">[[state]]</a></code>
                                为 "idle"，则<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#iteration-continue"
                                    id="ref-for-iteration-continue">继续</a>。</p>
                        <li data-md>
                            <p>如果 <var>sensor</var> 的<a data-link-type="dfn" href="#sensor-type"
                                    id="ref-for-sensor-type③②">传感器类型</a>的<a data-link-type="dfn"
                                    href="#sensor-permission-names" id="ref-for-sensor-permission-names">传感器权限名</a>
                                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                                    id="ref-for-list-contain②">包含</a> <var>permissionName</var>：
                            </p>
                            <ol>
                                <li data-md>
                                    <p>调用 <a data-link-type="dfn" href="#deactivate-a-sensor-object"
                                            id="ref-for-deactivate-a-sensor-object②">停用传感器对象</a>，参数为 <var>sensor</var>。
                                    </p>
                                <li data-md>
                                    <p>令 <var>exception</var> 为 <a data-link-type="dfn"
                                            href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                                            id="ref-for-dfn-create-exception②">创建</a>的
                                        "<code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">NotAllowedError</a></code>"
                                        <code
                                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>。
                                    </p>
                                <li data-md>
                                    <p>排入任务队列，调用 <a data-link-type="dfn" href="#notify-error"
                                            id="ref-for-notify-error②">通知错误</a>，参数为 <var>sensor</var> 和
                                        <var>exception</var>。
                                    </p>
                            </ol>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.7"
            data-lt="Set sensor settings" id="set-sensor-settings"><span class="secno">8.7. </span><span
                class="content">设置传感器配置</span><a class="self-link" href="#set-sensor-settings"
                id="ref-for-set-sensor-settings②"></a></h3>
        <div class="algorithm" data-algorithm="set sensor settings">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>platformSensor</var>，一个 <a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor③⑨">平台传感器</a>。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>如果 <var>platformSensor</var> 的<a data-link-type="dfn" href="#activated-sensor-objects"
                            id="ref-for-activated-sensor-objects⑥">激活的传感器对象</a>集合<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">为空</a>，</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>platformSensor</var> 的<a data-link-type="dfn" href="#sampling-frequency"
                                    id="ref-for-sampling-frequency①①">采样频率</a>设为 null。</p>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                                    id="ref-for-map-iterate①">对</a> <var>platformSensor</var> 的<a data-link-type="dfn"
                                    href="#latest-reading" id="ref-for-latest-reading⑨">最新读数</a>每一项 <var>key</var> →
                                <var>value</var> 执行：
                            </p>
                            <ol>
                                <li data-md>
                                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                                            id="ref-for-map-set">将</a> <var>platformSensor</var> 的<a
                                            data-link-type="dfn" href="#latest-reading"
                                            id="ref-for-latest-reading①⓪">最新读数</a>[<var>key</var>] 设为 null。</p>
                            </ol>
                        <li data-md>
                            <p>以实现定义的方式更新 <a data-link-type="dfn" href="#sensor-reading"
                                    id="ref-for-sensor-reading④⑦">传感器读数</a>
                                获取逻辑，使其从 <var>platformSensor</var> 不再提供 <a data-link-type="dfn" href="#sensor-reading"
                                    id="ref-for-sensor-reading④⑧">读数</a>。</p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>将 <var>platformSensor</var> 的<a data-link-type="dfn" href="#sampling-frequency"
                            id="ref-for-sampling-frequency①②">采样频率</a>设为其<a data-link-type="dfn"
                            href="#activated-sensor-objects" id="ref-for-activated-sensor-objects⑦">激活的传感器对象</a><a
                            data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set"
                            id="ref-for-ordered-set④">集合</a>
                        中各项 <code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑧">[[frequency]]</a></code>
                        值实现定义的方式计算出。</p>
                <li data-md>
                    <p>令 <var>bounds</var> 为调用 <a data-link-type="dfn" href="#get-a-platform-sensors-sampling-bounds"
                            id="ref-for-get-a-platform-sensors-sampling-bounds②">获取平台传感器的采样边界</a>
                        (<var>platformSensor</var>) 得到的结果。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert">断言</a>：<var>platformSensor</var> 的<a data-link-type="dfn"
                            href="#sampling-frequency" id="ref-for-sampling-frequency①③">采样频率</a>
                        不小于 <var>bounds</var>[0] 且不大于 <var>bounds</var>[1]。</p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.8"
            data-lt="Update latest reading" id="update-latest-reading"><span class="secno">8.8. </span><span
                class="content">更新最新读数</span><a class="self-link" href="#update-latest-reading"
                id="ref-for-update-latest-reading①"></a></h3>
        <div class="algorithm" data-algorithm="update latest reading">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor</var>，一个<a data-link-type="dfn" href="#concept-platform-sensor"
                            id="ref-for-concept-platform-sensor④⓪">平台传感器</a>。</p>
                <dd data-md>
                    <p><var>reading</var>，一个<a data-link-type="dfn" href="#sensor-reading"
                            id="ref-for-sensor-reading④⑨">传感器读数</a>。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>令 <var>type</var> 为 <var>sensor</var> 关联的 <a data-link-type="dfn" href="#sensor-type"
                            id="ref-for-sensor-type③③">传感器类型</a>。</p>
                <li data-md>
                    <p>如 <var>type</var> 定义了 <a data-link-type="dfn" href="#threshold-check-algorithm"
                            id="ref-for-threshold-check-algorithm③">阈值检查算法</a>：</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>result</var> 为调用 <var>type</var> 的 <a data-link-type="dfn"
                                    href="#threshold-check-algorithm"
                                    id="ref-for-threshold-check-algorithm④">阈值检查算法</a>，
                                参数为 <var>reading</var> 与 <var>sensor</var> 的 <a data-link-type="dfn"
                                    href="#latest-reading" id="ref-for-latest-reading①①">最新读数</a>。</p>
                        <li data-md>
                            <p>如 <var>result</var> 为 false，则中止后续步骤。</p>
                    </ol>
                <li data-md>
                    <p>如 <var>reading</var>["timestamp"] <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">存在</a>：</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>reading</var>["timestamp"] 转换为同一个<a data-link-type="dfn"
                                    href="https://w3c.github.io/hr-time/#dfn-monotonic-clock"
                                    id="ref-for-dfn-monotonic-clock">单调时钟</a>
                                使用的不安全当前时间（以实现定义的方式），<a data-link-type="dfn"
                                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                                    id="ref-for-concept-settings-object-time-origin①">时间原点</a>共享此时钟。</p>
                            <p class="note" role="note"><span class="marker">注意：</span> 这一步是为了确保原本属于不同时间原点的时间戳，
                                能转为可在此单调时钟下参与计算的值，参考 <a data-link-type="biblio" href="#biblio-hr-time"
                                    title="High Resolution Time">[HR-TIME]</a>。</p>
                    </ol>
                <li data-md>
                    <p>否则，<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                            id="ref-for-map-set①">设定</a> <var>reading</var>["timestamp"] 为
                        <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time"
                            id="ref-for-dfn-unsafe-shared-current-time">不安全共享当前时间</a>。
                    </p>
                    <p class="note" role="note"><span class="marker">注意：</span> 无论如何，<a data-link-type="dfn"
                            href="https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time"
                            id="ref-for-monotonic-clock-unsafe-current-time②">不安全当前时间</a>
                        都不会向脚本暴露。
                        <code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-timestamp" id="ref-for-dom-sensor-timestamp①">Sensor.timestamp</a></code>
                        始终返回与<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                            id="ref-for-concept-settings-object-time-origin②">时间原点</a>相关的粗化时刻。
                    </p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                            id="ref-for-map-iterate②">对</a> <a data-link-type="dfn" href="#latest-reading"
                            id="ref-for-latest-reading①②">最新读数</a>中的每一项
                        <var>key</var> → <var>value</var>，执行：
                    </p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                                    id="ref-for-map-set②">将</a> <a data-link-type="dfn" href="#latest-reading"
                                    id="ref-for-latest-reading①③">最新读数</a>[<var>key</var>] 设为 <var>reading</var> 中的对应值。
                            </p>
                    </ol>
                <li data-md>
                    <p>令 <var>activated_sensors</var> 为 <var>sensor</var> 关联的<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑤">激活的传感器对象</a>集合。
                    </p>
                <li data-md>
                    <p>并行运行以下子步骤：</p>
                    <ol>
                        <li data-md>
                            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                    id="ref-for-list-iterate①">对于</a> <var>activated_sensors</var> 中的每个 <var>s</var>，
                            </p>
                            <ol>
                                <li data-md>
                                    <p>调用 <a data-link-type="dfn" href="#report-latest-reading-updated"
                                            id="ref-for-report-latest-reading-updated">报告最新读数已更新</a>，参数为 <var>s</var>。
                                    </p>
                            </ol>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.9"
            data-lt="Report latest reading updated" id="report-latest-reading-updated"><span class="secno">8.9.
            </span><span class="content">报告最新读数已更新</span><a class="self-link" href="#report-latest-reading-updated"
                id="ref-for-report-latest-reading-updated①"></a></h3>
        <div class="algorithm" data-algorithm="report latest reading updated">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor_instance</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑦">Sensor</a></code>
                        对象。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>如 <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot①">[[pendingReadingNotification]]</a></code>
                        为 true，</p>
                    <ol>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>将 <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot②">[[pendingReadingNotification]]</a></code>
                        设为 true。</p>
                <li data-md>
                    <p>令 <var>lastReportedTimestamp</var> 为 <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-lasteventfiredat-slot" id="ref-for-dom-sensor-lasteventfiredat-slot①">[[lastEventFiredAt]]</a></code>
                        的值。
                    </p>
                <li data-md>
                    <p>如 <var>lastReportedTimestamp</var> 未设值</p>
                    <ol>
                        <li data-md>
                            <p>排入任务队列，调用 <a data-link-type="dfn" href="#notify-new-reading"
                                    id="ref-for-notify-new-reading">通知新读数</a>，参数为 <var>sensor_instance</var>。
                            </p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert①">断言</a>：<var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot⑨">[[frequency]]</a></code>
                        不为 null。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                            id="ref-for-assert②">断言</a>：<var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot①⓪">[[frequency]]</a></code>
                        大于 0。</p>
                <li data-md>
                    <p>令 <var>reportingInterval</var> = 1 / <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-frequency-slot" id="ref-for-dom-sensor-frequency-slot①①">[[frequency]]</a></code>。
                    </p>
                <li data-md>
                    <p>令 <var>timestampDelta</var> = <a data-link-type="dfn" href="#latest-reading"
                            id="ref-for-latest-reading①④">最新读数</a>["timestamp"] −
                        <var>lastReportedTimestamp</var>。
                    </p>
                <li data-md>
                    <p>如 <var>timestampDelta</var> 大于或等于 <var>reportingInterval</var></p>
                    <ol>
                        <li data-md>
                            <p>排入任务队列，调用 <a data-link-type="dfn" href="#notify-new-reading"
                                    id="ref-for-notify-new-reading①">通知新读数</a>，参数为 <var>sensor_instance</var>。
                            </p>
                        <li data-md>
                            <p>返回。</p>
                    </ol>
                <li data-md>
                    <p>令 <var>deferUpdateTime</var> = <var>reportingInterval</var> − <var>timestampDelta</var>。</p>
                <li data-md>
                    <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#spin-the-event-loop"
                            id="ref-for-spin-the-event-loop">循环事件循环</a>，持续时间为 <var>deferUpdateTime</var>。
                    </p>
                <li data-md>
                    <p>如 <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot③">[[pendingReadingNotification]]</a></code>
                        仍为 true，</p>
                    <ol>
                        <li data-md>
                            <p>排入任务队列，调用 <a data-link-type="dfn" href="#notify-new-reading"
                                    id="ref-for-notify-new-reading②">通知新读数</a>，参数为 <var>sensor_instance</var>。
                            </p>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.10"
            data-lt="Notify new reading" id="notify-new-reading"><span class="secno">8.10. </span><span
                class="content">通知新读数</span><a class="self-link" href="#notify-new-reading"
                id="ref-for-notify-new-reading④"></a></h3>
        <div class="algorithm" data-algorithm="notify new reading">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor_instance</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑧">Sensor</a></code>
                        对象。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>将 <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-pendingreadingnotification-slot" id="ref-for-dom-sensor-pendingreadingnotification-slot④">[[pendingReadingNotification]]</a></code>
                        设为 false。</p>
                <li data-md>
                    <p>将 <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-lasteventfiredat-slot" id="ref-for-dom-sensor-lasteventfiredat-slot②">[[lastEventFiredAt]]</a></code>
                        设为 <a data-link-type="dfn" href="#latest-reading"
                            id="ref-for-latest-reading①⑤">最新读数</a>["timestamp"]。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                            id="ref-for-concept-event-fire①">触发一个名为 "reading" 的事件</a>，目标为
                        <var>sensor_instance</var>。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.11"
            data-lt="Notify activated state" id="notify-activated-state"><span class="secno">8.11. </span><span
                class="content">通知激活状态</span><a class="self-link" href="#notify-activated-state"
                id="ref-for-notify-activated-state①"></a></h3>
        <div class="algorithm" data-algorithm="notify activated state">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor_instance</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor②⑨">Sensor</a></code>
                        对象。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>将 <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①⓪">[[state]]</a></code>
                        设为 "activated"。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                            id="ref-for-concept-event-fire②">触发一个名为 "activate" 的事件</a>，目标为
                        <var>sensor_instance</var>。
                    </p>
                <li data-md>
                    <p>令 <var>sensor</var> 是与 <var>sensor_instance</var> 关联的 <a data-link-type="dfn"
                            href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④①">平台传感器</a>。</p>
                <li data-md>
                    <p>如果 <var>sensor</var> 的 <a data-link-type="dfn" href="#latest-reading"
                            id="ref-for-latest-reading①⑥">最新读数</a>["timestamp"] 不为 null，</p>
                    <ol>
                        <li data-md>
                            <p>排入任务队列，运行 <a data-link-type="dfn" href="#notify-new-reading"
                                    id="ref-for-notify-new-reading③">通知新读数</a>，参数为 <var>sensor_instance</var>。
                            </p>
                    </ol>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.12" data-lt="Notify error"
            id="notify-error"><span class="secno">8.12. </span><span class="content">通知错误</span><a class="self-link"
                href="#notify-error" id="ref-for-notify-error④"></a></h3>
        <div class="algorithm" data-algorithm="notify error">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor_instance</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⓪">Sensor</a></code>
                        对象。</p>
                <dd data-md>
                    <p><var>error</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>。
                    </p>
                <dt data-md>输出
                <dd data-md>
                    <p>无</p>
            </dl>
            <ol>
                <li data-md>
                    <p>将 <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①①">[[state]]</a></code>
                        设为 "idle"。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                            id="ref-for-concept-event-fire③">触发一个名为 "error" 的事件</a>，目标为
                        <var>sensor_instance</var>，事件类型为 <code
                            class="idl"><a data-link-type="idl" href="#sensorerrorevent" id="ref-for-sensorerrorevent①">SensorErrorEvent</a></code>
                        并将其 <code
                            class="idl"><a class="idl-code" data-link-type="attribute" href="#dom-sensorerrorevent-error" id="ref-for-dom-sensorerrorevent-error①">error</a></code>
                        属性初始化为 <var>error</var>。
                    </p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.13"
            data-lt="Get value from latest reading" id="get-value-from-latest-reading"><span class="secno">8.13.
            </span><span class="content">从最新读数获取值</span><a class="self-link" href="#get-value-from-latest-reading"
                id="ref-for-get-value-from-latest-reading④"></a></h3>
        <div class="algorithm" data-algorithm="get value from latest reading">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor_instance</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③①">Sensor</a></code>
                        对象。</p>
                <dd data-md>
                    <p><var>key</var>，一个表示值名称的字符串。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>一个<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⓪">传感器读数</a>值或 null。
                    </p>
            </dl>
            <ol>
                <li data-md>
                    <p>若 <var>sensor_instance</var>.<code
                            class="idl"><a data-link-type="idl" href="#dom-sensor-state-slot" id="ref-for-dom-sensor-state-slot①②">[[state]]</a></code>
                        为 "activated"，</p>
                    <ol>
                        <li data-md>
                            <p>令 <var>readings</var> 为 <var>sensor_instance</var> 关联的 <a data-link-type="dfn"
                                    href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④②">平台传感器</a>的<a
                                    data-link-type="dfn" href="#latest-reading" id="ref-for-latest-reading①⑦">最新读数</a>。
                            </p>
                        <li data-md>
                            <p>令 <var>type</var> 为 <var>sensor_instance</var> 关联的 <a data-link-type="dfn"
                                    href="#sensor-type" id="ref-for-sensor-type③④">传感器类型</a>。</p>
                        <li data-md>
                            <p>若 <var>type</var> 定义了<a data-link-type="dfn" href="#reading-quantization-algorithm"
                                    id="ref-for-reading-quantization-algorithm①">读数量化算法</a>，则：</p>
                            <ol>
                                <li data-md>
                                    <p>将 <var>readings</var> 设置为调用 <var>type</var> 的<a data-link-type="dfn"
                                            href="#reading-quantization-algorithm"
                                            id="ref-for-reading-quantization-algorithm②">读数量化算法</a>，参数为
                                        <var>readings</var>。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>如果<a data-link-type="dfn" href="#extension-specification"
                                    id="ref-for-extension-specification⑤">扩展规范</a>为 <var>sensor_instance</var> 定义了<a
                                    data-link-type="dfn" href="#local-coordinate-system"
                                    id="ref-for-local-coordinate-system②">局部坐标系</a>，</p>
                            <ol>
                                <li data-md>
                                    <p>将 <var>readings</var> 的值重映射到<a data-link-type="dfn"
                                            href="#local-coordinate-system"
                                            id="ref-for-local-coordinate-system③">局部坐标系</a>（见 <a data-link-type="biblio"
                                            href="#biblio-coordinates-transformation"
                                            title="The Foundations of Celestial Mechanics">[COORDINATES-TRANSFORMATION]</a>）。
                                    </p>
                            </ol>
                        <li data-md>
                            <p>返回 <var>readings</var>[<var>key</var>]。</p>
                    </ol>
                <li data-md>
                    <p>否则，返回 null。</p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.14"
            data-lt="Request sensor access" id="request-sensor-access"><span class="secno">8.14. </span><span
                class="content">请求传感器访问</span><a class="self-link" href="#request-sensor-access"
                id="ref-for-request-sensor-access②"></a></h3>
        <div class="algorithm" data-algorithm="request sensor access">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>sensor_instance</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③②">Sensor</a></code>
                        对象。</p>
                <dt data-md>输出
                <dd data-md>
                    <p>一个<a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-state"
                            id="ref-for-dfn-permission-state">权限状态</a>。</p>
            </dl>
            <ol>
                <li data-md>
                    <p>令 <var>sensor_type</var> 为 <var>sensor_instance</var> 关联的 <a data-link-type="dfn"
                            href="#sensor-type" id="ref-for-sensor-type③⑤">传感器类型</a>。</p>
                <li data-md>
                    <p>令 <var>sensor_permissions</var> 为 <var>sensor_type</var> 关联的 <a data-link-type="dfn"
                            href="#sensor-permission-names" id="ref-for-sensor-permission-names①">传感器权限名</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate②">对</a> <var>sensor_permissions</var> 中的每个
                        <var>permission_name</var> 执行：
                    </p>
                    <ol>
                        <li data-md>
                            <p>令 <var>state</var> 为 <a data-link-type="dfn"
                                    href="https://w3c.github.io/permissions/#dfn-request-permission-to-use"
                                    id="ref-for-dfn-request-permission-to-use">请求使用权限</a> <var>permission_name</var>
                                的结果。</p>
                        <li data-md>
                            <p>如果 <var>state</var> 为 "denied"</p>
                            <ol>
                                <li data-md>
                                    <p>返回 "denied"。</p>
                            </ol>
                    </ol>
                <li data-md>
                    <p>返回 "granted"。</p>
            </ol>
        </div>
        <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="8.15"
            data-lt="Focus and origin check" id="focus-and-origin-check"><span class="secno">8.15. </span><span
                class="content">焦点与源检查</span><a class="self-link" href="#focus-and-origin-check"
                id="ref-for-focus-and-origin-check②"></a></h3>
        <div class="algorithm" data-algorithm="focus and origin check">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>document</var>，一个 <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code>。
                    </p>
                <dt data-md>输出
                <dd data-md>
                    <p>布尔值。</p>
            </dl>
            <ol>
                <li data-md>
                    <p>令 <var>origin</var> 为 <var>document</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object①">相关设置对象</a>的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin">origin</a>。</p>
                <li data-md>
                    <p>令 <var>focusedDocument</var> 为 <var>document</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable"
                            id="ref-for-node-navigable">节点导航对象</a>的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top"
                            id="ref-for-nav-top①">顶层可遍历对象</a>的<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable"
                            id="ref-for-currently-focused-area-of-a-top-level-traversable">当前聚焦区域</a>的
                        <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor"
                            id="ref-for-dom-anchor">DOM 锚点</a>的<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-node-document"
                            id="ref-for-concept-node-document">节点文档</a>。
                    </p>
                <li data-md>
                    <p>令 <var>focusedOrigin</var> 为 <var>focusedDocument</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object②">相关设置对象</a>的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                            id="ref-for-concept-settings-object-origin①">origin</a>。</p>
                <li data-md>
                    <p>若 <var>origin</var> 和 <var>focusedOrigin</var> <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain"
                            id="ref-for-same-origin-domain">同源</a>则返回 true，否则返回 false。</p>
            </ol>
        </div>
        <h2 class="heading settled" data-level="9" id="automation"><span class="secno">9. </span><span
                class="content">自动化</span><a class="self-link" href="#automation"></a></h2>
        <p>通用传感器 API 及其<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification⑥">扩展规范</a>给测试作者带来了挑战，因为要完整地测试这些接口需要可预测响应的物理硬件设备。
            为了解决这一问题，本规范定义了一些<a data-link-type="biblio" href="#biblio-webdriver2" title="WebDriver">[WEBDRIVER2]</a>
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands">扩展命令</a>，允许定义和控制行为类似于<a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor④①">设备传感器</a>的<a data-link-type="dfn"
                href="#virtual-sensor" id="ref-for-virtual-sensor">虚拟传感器</a>。这些<a data-link-type="dfn"
                href="#virtual-sensor" id="ref-for-virtual-sensor①">虚拟传感器</a>代表具有特定属性的设备，其读数可完全由用户定义。
        </p>
        <h3 class="heading settled" data-level="9.1" id="virtual-sensors"><span class="secno">9.1. </span><span
                class="content">虚拟传感器</span><a class="self-link" href="#virtual-sensors"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="virtual-sensor">虚拟传感器</dfn>
            以受控方式模拟<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor④②">设备传感器</a>的行为。它会向零个或多个与之连接的<a data-link-type="dfn"
                href="#concept-platform-sensor" id="ref-for-concept-platform-sensor④③">平台传感器</a>上报<a
                data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤①">传感器读数</a>。</p>
        <p><a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor②">虚拟传感器</a>有以下关联数据：</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport
                        id="virtual-sensor-can-provide-readings-flag">可供读数标志</dfn>（<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean">布尔值</a>）。</p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport
                        id="virtual-sensor-requested-sampling-frequency">请求的采样频率</dfn>（数字）。就像普通<a data-link-type="dfn"
                        href="#concept-device-sensor" id="ref-for-concept-device-sensor④③">设备传感器</a>的实际采样频率是不可见的一样，<a
                        data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor③">虚拟传感器</a>的<a
                        data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency"
                        id="ref-for-virtual-sensor-requested-sampling-frequency">请求的采样频率</a>也是一个由实现定义、在<a
                        data-link-type="dfn" href="#virtual-sensor-minimum-sampling-frequency"
                        id="ref-for-virtual-sensor-minimum-sampling-frequency">最小采样频率</a>
                    和<a data-link-type="dfn" href="#virtual-sensor-maximum-sampling-frequency"
                        id="ref-for-virtual-sensor-maximum-sampling-frequency">最大采样频率</a>界定范围内的值。
                    如果<a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor④">虚拟传感器</a>未向任何<a
                        data-link-type="dfn" href="#concept-platform-sensor"
                        id="ref-for-concept-platform-sensor④④">平台传感器</a>提供读数，则其<a data-link-type="dfn"
                        href="#virtual-sensor-requested-sampling-frequency"
                        id="ref-for-virtual-sensor-requested-sampling-frequency①">请求的采样频率</a>为 0。
                </p>
                <p class="note" role="note"><span class="marker">注意：</span> <a data-link-type="dfn"
                        href="#virtual-sensor-requested-sampling-frequency"
                        id="ref-for-virtual-sensor-requested-sampling-frequency②">请求的采样频率</a>的值会依赖于连接的<a
                        data-link-type="dfn" href="#concept-platform-sensor"
                        id="ref-for-concept-platform-sensor④⑤">平台传感器</a>是否请求了特定的采样频率（且每个<a data-link-type="dfn"
                        href="#concept-platform-sensor"
                        id="ref-for-concept-platform-sensor④⑥">平台传感器</a>的频率可能各不相同），或是它们是否轮询<a data-link-type="dfn"
                        href="#virtual-sensor" id="ref-for-virtual-sensor⑤">虚拟传感器</a>，后者情况下可能根本没有采样频率的需求。</p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport
                        id="virtual-sensor-minimum-sampling-frequency">最小采样频率</dfn>（数字）。<a data-link-type="dfn"
                        href="#virtual-sensor" id="ref-for-virtual-sensor⑥">虚拟传感器</a>是一种<a data-link-type="dfn"
                        href="#concept-device-sensor" id="ref-for-concept-device-sensor④④">设备传感器</a>，因此此值与<a
                        data-link-type="dfn" href="#concept-device-sensor"
                        id="ref-for-concept-device-sensor④⑤">设备传感器</a>的<a data-link-type="dfn"
                        href="#device-sensor-minimum-sampling-frequency"
                        id="ref-for-device-sensor-minimum-sampling-frequency③">最小采样频率</a>意义一致。
                </p>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-for="virtual sensor" data-dfn-type="dfn" data-noexport
                        id="virtual-sensor-maximum-sampling-frequency">最大采样频率</dfn>（数字）。<a data-link-type="dfn"
                        href="#virtual-sensor" id="ref-for-virtual-sensor⑦">虚拟传感器</a>是一种<a data-link-type="dfn"
                        href="#concept-device-sensor" id="ref-for-concept-device-sensor④⑥">设备传感器</a>，因此此值与<a
                        data-link-type="dfn" href="#concept-device-sensor"
                        id="ref-for-concept-device-sensor④⑦">设备传感器</a>的<a data-link-type="dfn"
                        href="#device-sensor-maximum-sampling-frequency"
                        id="ref-for-device-sensor-maximum-sampling-frequency④">最大采样频率</a>意义一致。
                </p>
        </ul>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="virtual-sensor-type">虚拟传感器类型</dfn>
            是表示某一类型传感器的字符串。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="per-type-virtual-sensor-metadata">按类型虚拟传感器元数据</dfn> 是 <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">有序映射</a>，将<a
                data-link-type="dfn" href="#virtual-sensor-type" id="ref-for-virtual-sensor-type②">虚拟传感器类型</a>
            映射到<a data-link-type="dfn" href="#virtual-sensor-metadata"
                id="ref-for-virtual-sensor-metadata">虚拟传感器元数据</a>。其初始值为空，<a data-link-type="dfn"
                href="#extension-specification" id="ref-for-extension-specification⑦">扩展规范</a>应为其定义一个或多个映射项，对应其定义的传感器类型。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="virtual-sensor-metadata">虚拟传感器元数据</dfn>
            是一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">结构体</a>，其<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item"
                id="ref-for-struct-item">项目</a>如下：</p>
        <ul>
            <li data-md>
                <dl>
                    <dt data-md><dfn class="dfn-paneled" data-dfn-for="virtual sensor metadata" data-dfn-type="dfn"
                            data-export id="virtual-sensor-metadata-reading-parsing-algorithm">读数解析算法</dfn>
                    <dd data-md>
                        <p>一个算法，接受 JSON <code
                                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects">Object</a></code>
                            并返回<a data-link-type="dfn" href="#sensor-reading"
                                id="ref-for-sensor-reading⑤②">传感器读数</a>或<strong>undefined</strong>。</p>
                </dl>
        </ul>
        <p>每个<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable"
                id="ref-for-top-level-traversable">顶层可遍历对象</a>都拥有一个<dfn class="dfn-paneled" data-dfn-type="dfn"
                data-noexport id="virtual-sensor-mapping">虚拟传感器映射</dfn>，
            其为<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
                id="ref-for-ordered-map⑦">有序映射</a>
            ，将<a data-link-type="dfn" href="#virtual-sensor-type" id="ref-for-virtual-sensor-type③">虚拟传感器类型</a>映射到
            <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor⑧">虚拟传感器</a>。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span> <a data-link-type="dfn"
                href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping②">虚拟传感器映射</a> <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">结构体</a>
            保存了同一类型所有虚拟传感器共有的数据。<a data-link-type="dfn" href="#virtual-sensor"
                id="ref-for-virtual-sensor⑨">虚拟传感器</a>自身的数据在每次创建和使用时都可变化。</p>
        <p class="note" role="note"><span class="marker">注意：</span> <a data-link-type="dfn"
                href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping③">虚拟传感器映射</a>绑定于<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable"
                id="ref-for-top-level-traversable①">顶层可遍历对象</a>，而非任何<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"
                id="ref-for-navigable②">导航对象</a>，
            因为在同一<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top"
                id="ref-for-nav-top②">顶层可遍历对象</a>下的所有<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor④⑦">平台传感器</a>
            （同一<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"
                id="ref-for-navigable③">导航对象</a>内的<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type③⑥">传感器类型</a>）都应连接至同一个<a data-link-type="dfn" href="#virtual-sensor"
                id="ref-for-virtual-sensor①⓪">虚拟传感器</a>。
            这样更贴近现实世界的情况，即同一个硬件（或融合）传感器会为不同<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"
                id="ref-for-navigable④">导航对象</a>提供读数。</p>
        <p class="note" role="note"><span class="marker">注意：</span> 该机制还便于通过<a
                href="https://web-platform-tests.org">web-platform-tests</a>测试本规范，
            因为<a
                href="https://web-platform-tests.org/writing-tests/testdriver.html#using-test-driver-in-other-browsing-contexts">所有
                WebDriver 通信皆由承载测试工具的帧发出</a>。
        </p>
        <h3 class="heading settled" data-level="9.2" id="section-extension-commands"><span class="secno">9.2.
            </span><span class="content">扩展命令</span><a class="self-link" href="#section-extension-commands"></a></h3>
        <h4 class="heading settled" data-level="9.2.1" id="create-virtual-sensor-command"><span class="secno">9.2.1.
            </span><span class="content">创建虚拟传感器</span><a class="self-link" href="#create-virtual-sensor-command"></a>
        </h4>
        <table class="def">
            <tbody>
                <tr>
                    <th>HTTP 方法
                    <th><a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"
                            id="ref-for-dfn-extension-command-uri-template">URI 模板</a>
                <tr>
                    <td>POST
                    <td>/session/{session id}/sensor
        </table>
        <p>该<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands①">扩展命令</a>用于创建某种<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type③⑦">传感器类型</a>的新<a data-link-type="dfn" href="#virtual-sensor"
                id="ref-for-virtual-sensor①①">虚拟传感器</a>。对于同一<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type③⑧">传感器类型</a>的
            <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③③">Sensor</a></code> 实例，调用 <code
                class="idl"><a data-link-type="idl" href="#dom-sensor-start" id="ref-for-dom-sensor-start①">start()</a></code>
            时会让该 <a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①②">虚拟传感器</a> 作为其底层 <a
                data-link-type="dfn" href="#concept-device-sensor" id="ref-for-concept-device-sensor④⑧">设备传感器</a>，直到执行
            <a href="#delete-virtual-sensor-command">§ 9.2.4 删除虚拟传感器</a>。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span>该 <a data-link-type="dfn"
                href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands②">扩展命令</a> 的工作方式允许同类型的 <code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑤">Sensor</a></code> 实例
            共存且可拥有不同的 <a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor④⑨">设备传感器</a>。在调用本扩展命令之前，一个 <code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑥">Sensor</a></code>
            <code>sensor</code> 可能已经被创建且连接到真实硬件传感器。它会继续从硬件传感器获取读数，只有在再次调用 <a data-link-type="dfn"
                href="#connect-to-sensor" id="ref-for-connect-to-sensor①">connect to sensor</a> 时，
            才会切换到从虚拟传感器接收读数。
        </p>
        <table class="data">
            <caption>该算法所用 <code>parameters</code> 参数的属性</caption>
            <thead>
                <tr>
                    <th>参数名
                    <th>值类型
                    <th>是否必需
            <tbody>
                <tr>
                    <td>"<code>type</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects" id="ref-for-sec-string-objects">String</a></code>
                    <td>是
                <tr>
                    <td>"<code>connected</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-boolean-objects" id="ref-for-sec-boolean-objects">Boolean</a></code>
                    <td>否
                <tr>
                    <td>"<code>maxSamplingFrequency</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects">Number</a></code>
                    <td>否
                <tr>
                    <td>"<code>minSamplingFrequency</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects①">Number</a></code>
                    <td>否
        </table>
        <div class="algorithm" data-algorithm="create virtual sensor">
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps"
                id="ref-for-dfn-remote-end-steps">远端步骤</a>如下：
            <ol>
                <li data-md>
                    <p>令 <var>virtualSensorType</var> 为调用<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties">获取属性</a> "<code>type</code>"
                        从 <var>parameters</var> 获得的值。
                    </p>
                <li data-md>
                    <p>如果 <var>virtualSensorType</var> 不是 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects" id="ref-for-sec-string-objects①">String</a></code>，
                        则返回 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error"
                            id="ref-for-dfn-error">错误</a>，WebDriver 错误码为 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument">invalid argument</a>。</p>
                <li data-md>
                    <p>如果 <a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                            id="ref-for-per-type-virtual-sensor-metadata">按类型虚拟传感器元数据</a>不<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">包含</a>
                        <var>virtualSensorType</var>，则返回 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error①">错误</a>，WebDriver
                        错误码为 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument①">invalid argument</a>。
                    </p>
                <li data-md>
                    <p>令 <var>topLevelVirtualSensorMapping</var> 为 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-current-browsing-context"
                            id="ref-for-dfn-current-browsing-context">当前浏览上下文</a>的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable"
                            id="ref-for-bc-traversable">顶层可遍历对象</a>的<a data-link-type="dfn"
                            href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping④">虚拟传感器映射</a>。
                    </p>
                <li data-md>
                    <p>如果 <var>topLevelVirtualSensorMapping</var> <a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">包含</a>
                        <var>virtualSensorType</var>，则返回<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error②">错误</a>，WebDriver
                        错误码为 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument②">invalid argument</a>。
                    </p>
                <li data-md>
                    <p>令 <var>connected</var> 为调用<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default"
                            id="ref-for-dfn-getting-the-property-with-default">带默认值获取属性</a>，参数 "<code>connected</code>"
                        和 true，作用于 <var>parameters</var>。</p>
                <li data-md>
                    <p>令 <var>maxSamplingFrequency</var> 为调用<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default"
                            id="ref-for-dfn-getting-the-property-with-default①">带默认值获取属性</a>，参数为
                        "<code>maxSamplingFrequency</code>" 和实现定义的值，作用于 <var>parameters</var>。
                    </p>
                <li data-md>
                    <p>如果 <var>maxSamplingFrequency</var> 不是 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects②">Number</a></code>
                        或值为 <strong>NaN</strong>、+∞ 或 −∞，则返回 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error③">错误</a>，WebDriver
                        错误码为 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument③">invalid argument</a>。</p>
                <li data-md>
                    <p>令 <var>minSamplingFrequency</var> 为调用<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default"
                            id="ref-for-dfn-getting-the-property-with-default②">带默认值获取属性</a>，参数为
                        "<code>minSamplingFrequency</code>" 和实现定义的值，作用于 <var>parameters</var>。
                    </p>
                <li data-md>
                    <p>如果 <var>minSamplingFrequency</var> 不是 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects③">Number</a></code>
                        或值为 <strong>NaN</strong>、+∞ 或 −∞，则返回 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error④">错误</a>，WebDriver
                        错误码为 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument④">invalid argument</a>。</p>
                <li data-md>
                    <p>如果 <var>minSamplingFrequency</var> 大于 <var>maxSamplingFrequency</var>，则返回 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error⑤">错误</a>，WebDriver
                        错误码为 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument⑤">invalid argument</a>。</p>
                <li data-md>
                    <p>新建 <var>virtualSensor</var>，类型为<a data-link-type="dfn" href="#virtual-sensor"
                            id="ref-for-virtual-sensor①④">虚拟传感器</a>。</p>
                <li data-md>
                    <p>将 <var>virtualSensor</var> 的 <a data-link-type="dfn"
                            href="#virtual-sensor-can-provide-readings-flag"
                            id="ref-for-virtual-sensor-can-provide-readings-flag②">可供读数标志</a>设置为 <var>connected</var>。
                    </p>
                <li data-md>
                    <p>将 <var>virtualSensor</var> 的 <a data-link-type="dfn"
                            href="#virtual-sensor-minimum-sampling-frequency"
                            id="ref-for-virtual-sensor-minimum-sampling-frequency①">最小采样频率</a>设置为<var>minSamplingFrequency</var>。
                    </p>
                <li data-md>
                    <p>将 <var>virtualSensor</var> 的 <a data-link-type="dfn"
                            href="#virtual-sensor-maximum-sampling-frequency"
                            id="ref-for-virtual-sensor-maximum-sampling-frequency①">最大采样频率</a>设置为<var>maxSamplingFrequency</var>。
                    </p>
                <li data-md>
                    <p>将 <var>virtualSensor</var> 赋值给
                        <var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>]。
                    </p>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-success"
                            id="ref-for-dfn-success">成功</a>，数据为 <code>null</code>。</p>
            </ol>
        </div>
        <div class="example" id="example-ee2fd565">
            <a class="self-link" href="#example-ee2fd565"></a> 若要在 <a data-link-type="dfn"
                href="https://w3c.github.io/webdriver/#dfn-session" id="ref-for-dfn-session">会话</a>ID为23的
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-current-browsing-context"
                id="ref-for-dfn-current-browsing-context①">当前浏览上下文</a>中创建一个“ambient-light”类型虚拟传感器，
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-local-ends"
                id="ref-for-dfn-local-ends">本地端</a>需要向<code>/session/23/sensor</code> 发送 POST，内容如下：
            <pre class="lang-json highlight"><c- p>{</c->
  <c- f>"type"</c-><c- p>:</c-> <c- u>"ambient-light"</c-><c- p>,</c->
  <c- f>"maxSamplingFrequency"</c-><c- p>:</c-> <c- mi>60</c-><c- p>,</c->
  <c- f>"minSamplingFrequency"</c-><c- p>:</c-> <c- mi>5</c->
<c- p>}</c->
</pre>
            <p>注意：在同一个<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type③⑨">传感器类型</a>下，
                <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable"
                    id="ref-for-top-level-traversable②">顶层可遍历对象</a>只能创建一个<a data-link-type="dfn" href="#virtual-sensor"
                    id="ref-for-virtual-sensor①⑤">虚拟传感器</a>，否则将返回<a data-link-type="dfn"
                    href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                    id="ref-for-dfn-invalid-argument⑥">invalid argument</a> WebDriver 错误码。
            </p>
        </div>
        <h4 class="heading settled" data-level="9.2.2" id="get-virtual-sensor-information-command"><span
                class="secno">9.2.2. </span><span class="content">获取虚拟传感器信息</span><a class="self-link"
                href="#get-virtual-sensor-information-command"></a></h4>
        <table class="def">
            <tbody>
                <tr>
                    <th>HTTP 方法
                    <th><a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"
                            id="ref-for-dfn-extension-command-uri-template①">URI 模板</a>
                <tr>
                    <td>GET
                    <td>/session/{session id}/sensor/{type}
        </table>
        <p>该<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands④">扩展命令</a>用于获取通过<a href="#create-virtual-sensor-command">§ 9.2.1
                创建虚拟传感器</a>创建的
            某个<a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⑥">虚拟传感器</a>的信息。
        </p>
        <p>成功时，<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-success"
                id="ref-for-dfn-success①">success</a>返回的数据对象类型为 <code
                class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects①">Object</a></code>，
            属性如下：</p>
        <table class="data">
            <thead>
                <tr>
                    <th>属性名
                    <th>值类型
                    <th>描述（非规范性）
            <tbody>
                <tr>
                    <td>"<code>requestedSamplingFrequency</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects④">Number</a></code>
                    <td>该<a data-link-type="dfn" href="#virtual-sensor" id="ref-for-virtual-sensor①⑦">虚拟传感器</a>的<a
                            data-link-type="dfn" href="#virtual-sensor-requested-sampling-frequency"
                            id="ref-for-virtual-sensor-requested-sampling-frequency③">请求的采样频率</a>
        </table>
        <p class="note" role="note"><span class="marker">注意：</span>有关<a href="#sampling-frequency"
                id="ref-for-sampling-frequency①④">采样频率</a>的更多约束和<a data-link-type="dfn"
                href="#virtual-sensor-requested-sampling-frequency"
                id="ref-for-virtual-sensor-requested-sampling-frequency④">请求的采样频率</a>为何是实现定义的值的说明，
            请见 <a href="#concepts-sampling-and-reporting-frequencies">§ 5.4 采样频率与报告频率</a>及
            <a href="#virtual-sensors">§ 9.1 虚拟传感器</a>。一般情况下，只能保证该值处于<a data-link-type="dfn" href="#virtual-sensor"
                id="ref-for-virtual-sensor①⑧">虚拟传感器</a>的<a data-link-type="dfn"
                href="#virtual-sensor-minimum-sampling-frequency"
                id="ref-for-virtual-sensor-minimum-sampling-frequency②">最小采样频率</a>与<a data-link-type="dfn"
                href="#virtual-sensor-maximum-sampling-frequency"
                id="ref-for-virtual-sensor-maximum-sampling-frequency②">最大采样频率</a>之间。
        </p>
        <div class="algorithm" data-algorithm="get virtual sensor information">
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps"
                id="ref-for-dfn-remote-end-steps①">远端步骤</a>如下：
            <ol>
                <li data-md>
                    <p>令 <var>virtualSensorType</var> 为 <code>type</code> <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-url-variables" id="ref-for-dfn-url-variables">url
                            变量</a>的值。</p>
                <li data-md>
                    <p>令 <var>topLevelVirtualSensorMapping</var> 为 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-current-browsing-context"
                            id="ref-for-dfn-current-browsing-context②">当前浏览上下文</a>的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable"
                            id="ref-for-bc-traversable①">顶层可遍历对象</a>的<a data-link-type="dfn"
                            href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping⑤">虚拟传感器映射</a>。
                    </p>
                <li data-md>
                    <p>如果 <var>topLevelVirtualSensorMapping</var> 不<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">包含</a>
                        <var>virtualSensorType</var>，则返回<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error⑥">错误</a>，WebDriver
                        错误码为 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument⑦">invalid argument</a>。
                    </p>
                <li data-md>
                    <p>令 <var>virtualSensor</var> 为
                        <var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>]。
                    </p>
                <li data-md>
                    <p>新建 <var>info</var>，类型为 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects②">Object</a></code>。
                    </p>
                <li data-md>
                    <p>调用<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-set-a-property"
                            id="ref-for-dfn-set-a-property">设置属性</a>，在 <var>info</var> 上设
                        "<code>requestedSamplingFrequency</code>" 属性值为 <var>virtualSensor</var> 的<a data-link-type="dfn"
                            href="#virtual-sensor-requested-sampling-frequency"
                            id="ref-for-virtual-sensor-requested-sampling-frequency⑤">请求的采样频率</a>。
                    </p>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-success"
                            id="ref-for-dfn-success③">success</a>，数据为 <var>info</var>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="9.2.3" id="update-virtual-sensor-reading-command"><span
                class="secno">9.2.3. </span><span class="content">更新虚拟传感器读数</span><a class="self-link"
                href="#update-virtual-sensor-reading-command"></a></h4>
        <table class="def">
            <tbody>
                <tr>
                    <th>HTTP 方法
                    <th><a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"
                            id="ref-for-dfn-extension-command-uri-template②">URI 模板</a>
                <tr>
                    <td>POST
                    <td>/session/{session id}/sensor/{type}
        </table>
        <p>该<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands⑤">扩展命令</a>用于向<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor④⑧">平台传感器</a>提供新的<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading⑤③">传感器读数</a>。</p>
        <p class="note" role="note"><span class="marker">注意：</span> <a data-link-type="dfn" href="#virtual-sensor"
                id="ref-for-virtual-sensor①⑨">虚拟传感器</a>的行为类似于<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor⑤⓪">设备传感器</a>，所以这里产生的<a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading⑤④">传感器读数</a>还需经过<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor④⑨">平台传感器</a>的处理，例如可能会因<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type④⓪">传感器类型</a>的<a data-link-type="dfn" href="#threshold-check-algorithm"
                id="ref-for-threshold-check-algorithm⑤">阈值检查算法</a>或<a data-link-type="dfn"
                href="#can-expose-sensor-readings" id="ref-for-can-expose-sensor-readings②">是否可暴露传感器读数</a>的结果而被丢弃。</p>
        <table class="data">
            <caption>该算法所用 <code>parameters</code> 参数的属性</caption>
            <thead>
                <tr>
                    <th>参数名
                    <th>值类型
                    <th>是否必需
            <tbody>
                <tr>
                    <td>"<code>reading</code>"
                    <td><code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects③">Object</a></code>
                    <td>是
        </table>
        <div class="algorithm" data-algorithm="update virtual sensor reading">
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps"
                id="ref-for-dfn-remote-end-steps②">远端步骤</a>如下：
            <ol>
                <li data-md>
                    <p>令 <var>reading</var> 为调用<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties①">获取属性</a> "<code>reading</code>" 从
                        <var>parameters</var> 获得的值。
                    </p>
                <li data-md>
                    <p>如果 <var>reading</var> 不是 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects④">Object</a></code>
                        类型，则返回 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-error"
                            id="ref-for-dfn-error⑦">错误</a>，WebDriver 错误码为 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument⑧">invalid argument</a>。</p>
                <li data-md>
                    <p>令 <var>virtualSensorType</var> 为 <code>type</code> <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-url-variables"
                            id="ref-for-dfn-url-variables①">url 变量</a>的值。</p>
                <li data-md>
                    <p>如果<a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                            id="ref-for-per-type-virtual-sensor-metadata①">按类型虚拟传感器元数据</a>不<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists⑥">包含</a><var>virtualSensorType</var>，则返回<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error⑧">错误</a>，WebDriver
                        错误码为<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument⑨">invalid argument</a>。
                    </p>
                <li data-md>
                    <p>令 <var>metadata</var> 为 <a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                            id="ref-for-per-type-virtual-sensor-metadata②">按类型虚拟传感器元数据</a>[<var>virtualSensorType</var>]。
                    </p>
                <li data-md>
                    <p>令 <var>topLevelVirtualSensorMapping</var> 为 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-current-browsing-context"
                            id="ref-for-dfn-current-browsing-context③">当前浏览上下文</a>的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable"
                            id="ref-for-bc-traversable②">顶层可遍历对象</a>的<a data-link-type="dfn"
                            href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping⑥">虚拟传感器映射</a>。</p>
                <li data-md>
                    <p>如果 <var>topLevelVirtualSensorMapping</var> 不<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">包含</a>
                        <var>virtualSensorType</var>，则返回<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error⑨">错误</a>，WebDriver
                        错误码为 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument①⓪">invalid argument</a>。
                    </p>
                <li data-md>
                    <p>令 <var>virtualSensor</var> 为
                        <var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>]。
                    </p>
                <li data-md>
                    <p>令 <var>parsedReading</var> 为调用 <var>metadata</var> 的 <a data-link-type="dfn"
                            href="#virtual-sensor-metadata-reading-parsing-algorithm"
                            id="ref-for-virtual-sensor-metadata-reading-parsing-algorithm">读数解析算法</a>，以
                        <var>reading</var> 为参数的结果。
                    </p>
                <li data-md>
                    <p>如 <var>parsedReading</var> 为 <strong>undefined</strong>，则返回 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error①⓪">错误</a>，WebDriver
                        错误码为
                        <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument①①">invalid argument</a>。
                    </p>
                <li data-md>
                    <p>以实现定义的方式，让 <var>parsedReading</var> 可被连接到 <var>virtualSensor</var> 的<a data-link-type="dfn"
                            href="#concept-platform-sensor" id="ref-for-concept-platform-sensor⑤⓪">平台传感器</a>获取。</p>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-success"
                            id="ref-for-dfn-success④">success</a>，数据为 <code>null</code>。</p>
            </ol>
        </div>
        <h5 class="heading settled" data-level="9.2.3.1" id="algorithms-for-parsing-readings"><span
                class="secno">9.2.3.1. </span><span class="content">解析读数的算法</span><a class="self-link"
                href="#algorithms-for-parsing-readings"></a></h5>
        <p>本规范定义了一些可供<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification⑧">扩展规范</a>在为<a data-link-type="dfn" href="#virtual-sensor-metadata"
                id="ref-for-virtual-sensor-metadata①">虚拟传感器元数据</a>
            （用于<a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                id="ref-for-per-type-virtual-sensor-metadata③">按类型虚拟传感器元数据</a>）定义时使用的算法。
        </p>
        <h6 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="9.2.3.1.1"
            data-lt="Parse single-value number reading" id="parse-single-value-number-reading"><span
                class="secno">9.2.3.1.1. </span><span class="content">解析单值数字读数</span><a class="self-link"
                href="#parse-single-value-number-reading" id="ref-for-parse-single-value-number-reading"></a></h6>
        <div class="algorithm" data-algorithm="parse single-value number reading">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>parameters</var>，一个 JSON <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects⑤">Object</a></code>
                    </p>
                <dd data-md>
                    <p><var>valueName</var>，一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string"
                            id="ref-for-string">字符串</a></p>
                <dt data-md>输出
                <dd data-md>
                    <p>一个<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⑤">传感器读数</a>
                        或 <strong>undefined</strong></p>
            </dl>
            <ol>
                <li data-md>
                    <p>令 <var>value</var> 为调用<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties②">获取属性</a>，从 <var>parameters</var> 取 <var>valueName</var>
                        获得的结果。
                    </p>
                <li data-md>
                    <p>如果 <var>value</var> 不是 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑤">Number</a></code>
                        或其值是 <strong>NaN</strong>、+∞ 或 −∞，返回 <strong>undefined</strong>。</p>
                <li data-md>
                    <p>令<var>reading</var>为新建的<a data-link-type="dfn" href="#sensor-reading"
                            id="ref-for-sensor-reading⑤⑥">传感器读数</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                            id="ref-for-map-set③">设置</a> <var>reading</var>[<var>valueName</var>] = <var>value</var>。
                    </p>
                <li data-md>
                    <p>返回 <var>reading</var>。</p>
            </ol>
        </div>
        <h6 class="heading settled dfn-paneled" data-dfn-type="dfn" data-export data-level="9.2.3.1.2"
            data-lt="Parse XYZ reading" id="parse-xyz-reading"><span class="secno">9.2.3.1.2. </span><span
                class="content">解析 XYZ 读数</span><a class="self-link" href="#parse-xyz-reading"
                id="ref-for-parse-xyz-reading"></a></h6>
        <div class="algorithm" data-algorithm="parse xyz reading">
            <dl>
                <dt data-md>输入
                <dd data-md>
                    <p><var>parameters</var>，一个 JSON <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects⑥">Object</a></code>
                    </p>
                <dt data-md>输出
                <dd data-md>
                    <p>一个<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⑦">传感器读数</a>
                        或 <strong>undefined</strong></p>
            </dl>
            <ol>
                <li data-md>
                    <p>令 <var>x</var> 为调用<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties③">获取属性</a>，从<var>parameters</var>取"<code>x</code>"的结果。
                    </p>
                <li data-md>
                    <p>如果 <var>x</var> 不是 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑥">Number</a></code>
                        或其值为 <strong>NaN</strong>、+∞ 或 −∞，则返回 <strong>undefined</strong>。</p>
                <li data-md>
                    <p>令 <var>y</var> 为调用<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties④">获取属性</a>，从<var>parameters</var>取"<code>y</code>"的结果。
                    </p>
                <li data-md>
                    <p>如果 <var>y</var> 不是 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑦">Number</a></code>
                        或其值为 <strong>NaN</strong>、+∞ 或 −∞，则返回 <strong>undefined</strong>。</p>
                <li data-md>
                    <p>令 <var>z</var> 为调用<a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-getting-properties"
                            id="ref-for-dfn-getting-properties⑤">获取属性</a>，从<var>parameters</var>取"<code>z</code>"的结果。
                    </p>
                <li data-md>
                    <p>如果 <var>z</var> 不是 <code
                            class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects" id="ref-for-sec-number-objects⑧">Number</a></code>
                        或其值为 <strong>NaN</strong>、+∞ 或 −∞，则返回 <strong>undefined</strong>。</p>
                <li data-md>
                    <p>令<var>reading</var>为新建的<a data-link-type="dfn" href="#sensor-reading"
                            id="ref-for-sensor-reading⑤⑧">传感器读数</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                            id="ref-for-map-set④">设置</a> <var>reading</var>["<code>x</code>"] = <var>x</var>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                            id="ref-for-map-set⑤">设置</a> <var>reading</var>["<code>y</code>"] = <var>y</var>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                            id="ref-for-map-set⑥">设置</a> <var>reading</var>["<code>z</code>"] = <var>z</var>。</p>
                <li data-md>
                    <p>返回 <var>reading</var>。</p>
            </ol>
        </div>
        <h4 class="heading settled" data-level="9.2.4" id="delete-virtual-sensor-command"><span class="secno">9.2.4.
            </span><span class="content">删除虚拟传感器</span><a class="self-link" href="#delete-virtual-sensor-command"></a>
        </h4>
        <table class="def">
            <tbody>
                <tr>
                    <th>HTTP 方法
                    <th><a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-extension-command-uri-template"
                            id="ref-for-dfn-extension-command-uri-template③">URI 模板</a>
                <tr>
                    <td>DELETE
                    <td>/session/{session id}/sensor/{type}
        </table>
        <p>该<a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-extension-commands"
                id="ref-for-dfn-extension-commands⑥">扩展命令</a>用于删除指定类型的<a data-link-type="dfn" href="#virtual-sensor"
                id="ref-for-virtual-sensor②⓪">虚拟传感器</a>。</p>
        <div class="algorithm" data-algorithm="delete virtual sensor">
            <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-remote-end-steps"
                id="ref-for-dfn-remote-end-steps③">远端步骤</a>如下：
            <ol>
                <li data-md>
                    <p>令 <var>virtualSensorType</var> 为 <code>type</code> <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-url-variables"
                            id="ref-for-dfn-url-variables②">url 变量</a>的值。</p>
                <li data-md>
                    <p>如果<a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                            id="ref-for-per-type-virtual-sensor-metadata④">按类型虚拟传感器元数据</a>不<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists⑧">包含</a><var>virtualSensorType</var>，则返回 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-error" id="ref-for-dfn-error①①">错误</a>，WebDriver
                        错误码为 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-invalid-argument"
                            id="ref-for-dfn-invalid-argument①②">invalid argument</a>。
                    </p>
                <li data-md>
                    <p>令 <var>topLevelVirtualSensorMapping</var> 为 <a data-link-type="dfn"
                            href="https://w3c.github.io/webdriver/#dfn-current-browsing-context"
                            id="ref-for-dfn-current-browsing-context④">当前浏览上下文</a>的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable"
                            id="ref-for-bc-traversable③">顶层可遍历对象</a>的<a data-link-type="dfn"
                            href="#virtual-sensor-mapping" id="ref-for-virtual-sensor-mapping⑦">虚拟传感器映射</a>。</p>
                <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove"
                            id="ref-for-map-remove">移除</a>
                        <var>topLevelVirtualSensorMapping</var>[<var>virtualSensorType</var>]。
                    </p>
                <li data-md>
                    <p>返回 <a data-link-type="dfn" href="https://w3c.github.io/webdriver/#dfn-success"
                            id="ref-for-dfn-success⑤">success</a>，数据为 <code>null</code>。</p>
            </ol>
        </div>
        <p class="note" role="note"><span class="marker">注意：</span>当一个正在使用的<a data-link-type="dfn"
                href="#concept-device-sensor" id="ref-for-concept-device-sensor⑤①">设备传感器</a>不可用（例如被物理断开，
            或因非用户代理的原因停止）时，<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑤①">平台传感器</a>和
            <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑦">Sensor</a></code>
            实例的行为未指定。实现可以选择保持现有<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑧">Sensor</a></code>实例不变
            （它们将不会再上报新读数），<a data-link-type="dfn" href="#deactivate-a-sensor-object"
                id="ref-for-deactivate-a-sensor-object③">停用传感器对象</a>，
            或让<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑤②">平台传感器</a>上报错误，
            最终触发<a data-link-type="dfn" href="#notify-error" id="ref-for-notify-error③">通知错误</a>。
        </p>
        <h2 class="heading settled" data-level="10" id="extensibility"><span class="secno">10. </span><span
                class="content">可扩展性</span><a class="self-link" href="#extensibility"></a></h2>
        <p><em>本节为非规范性内容。</em></p>
        <p class="note" role="note"><span class="marker">注意：</span>本节及其子节使用规范性语言为<a data-link-type="dfn"
                href="#extension-specification" id="ref-for-extension-specification⑨">扩展规范</a>的
            <em>作者</em>提供指导。对于<em>实现者</em>来说，本节及其子节均视为非规范性内容。
        </p>
        <p>本节描述了如何扩展本规范以为不同的<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④①">传感器类型</a>指定 API。</p>
        <p>此类<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="extension specification" data-noexport
                id="extension-specification">扩展规范</dfn>鼓励聚焦于单一<a data-link-type="dfn" href="#sensor-type"
                id="ref-for-sensor-type④②">传感器类型</a>，
            并按需暴露<a data-link-type="dfn" href="#high-level" id="ref-for-high-level⑦">高</a>、<a data-link-type="dfn"
                href="#low-level" id="ref-for-low-level⑦">低</a>级别能力。
        </p>
        <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⓪">扩展规范</a>
            鼓励定义关联<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑤⑨">传感器读数</a>是否需经过<a
                data-link-type="dfn" href="#calibration" id="ref-for-calibration①">校准</a>流程。</p>
        <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①①">扩展规范</a>
            可以显式为对应<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④③">传感器类型</a>定义
            <a data-link-type="dfn" href="#local-coordinate-system"
                id="ref-for-local-coordinate-system④">局部坐标系</a>，或使其在每个<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor③⑨">Sensor</a></code>对象上可配置。
        </p>
        <p>要获取 <a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification①②">扩展规范</a>的最新列表，请参阅
            <a data-link-type="biblio" href="#biblio-generic-sensor-usecases"
                title="Sensor Use Cases">[GENERIC-SENSOR-USECASES]</a>
            与 <a data-link-type="biblio" href="#biblio-motion-sensors"
                title="Motion Sensors Explainer">[MOTION-SENSORS]</a> 文档。
        </p>
        <h3 class="heading settled" data-level="10.1" id="extension-security-and-privacy"><span class="secno">10.1.
            </span><span class="content">安全与隐私</span><a class="self-link" href="#extension-security-and-privacy"></a>
        </h3>
        <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①③">扩展规范</a>
            应当：</p>
        <ul>
            <li data-md>
                <p>遵循通用<a href="#mitigation-strategies">缓解策略</a>，</p>
            <li data-md>
                <p>考虑<a href="#mitigation-strategies-case-by-case">针对具体情况的缓解策略</a>，</p>
            <li data-md>
                <p>参考《安全与隐私自查问卷》
                    <a data-link-type="biblio" href="#biblio-security-privacy-questionnaire"
                        title="Self-Review Questionnaire: Security and Privacy">[SECURITY-PRIVACY-QUESTIONNAIRE]</a>
                    进行评估，
                </p>
            <li data-md>
                <p>尤其要评估
                    <a class="non-normative" data-link-type="dfn"
                        href="https://w3ctag.github.io/security-questionnaire/#sop-violations"
                        id="ref-for-sop-violations">同源策略</a>被绕开带来的风险，特别是传感器若暴露了新的、未受同源策略约束的通信通道。
                </p>
        </ul>
        <h3 class="heading settled" data-level="10.2" id="naming"><span class="secno">10.2. </span><span
                class="content">命名</span><a class="self-link" href="#naming"></a></h3>
        <p>面向<a data-link-type="dfn" href="#low-level" id="ref-for-low-level⑧">低级</a>传感器的
            <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⓪">Sensor</a></code> 接口应以
            其所关联<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑤③">平台传感器</a>命名。
            例如，与陀螺仪关联的接口就应命名为 <code>Gyroscope</code>。
            面向<a data-link-type="dfn" href="#high-level" id="ref-for-high-level⑧">高级</a>传感器的
            <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④①">Sensor</a></code> 接口
            应以该<a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑤④">平台传感器</a>测量的物理量名加 Sensor 后缀命名。
            例如，测量距离的 <a data-link-type="dfn" href="#concept-platform-sensor"
                id="ref-for-concept-platform-sensor⑤⑤">平台传感器</a>
            相关接口可命名为 <code>ProximitySensor</code>。
        </p>
        <p><code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④②">Sensor</a></code>
            子类中保存<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥⓪">传感器读数</a>值的属性名
            应以其值的完整含义命名。例如 <code>Thermometer</code> 接口应包含 <a data-link-type="dfn" href="#sensor-reading"
                id="ref-for-sensor-reading⑥①">传感器读数</a>值的 <code>temperature</code> 属性（而不是 <code>value</code> 或
            <code>temp</code>）。
            可参考 QUDT
            <a data-link-type="biblio" href="#biblio-qudt"
                title="QUDT - Quantities, Units, Dimensions and Data Types Ontologies">[QUDT]</a> 的命名实践。
        </p>
        <h3 class="heading settled" data-level="10.3" id="unit"><span class="secno">10.3. </span><span
                class="content">单位</span><a class="self-link" href="#unit"></a></h3>
        <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①④">扩展规范</a>
            必须明确定义<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥②">传感器读数</a>的单位。</p>
        <p>根据 TAG API 设计原则
            <a data-link-type="biblio" href="#biblio-api-design-principles"
                title="Web Platform Design Principles">[API-DESIGN-PRINCIPLES]</a>
            ，所有时间测量均应采用毫秒为单位。
            其它单位应优先按以下顺序采用（除了温度推荐用摄氏而非开尔文）：
            国际单位制（SI）、SI 派生单位、SI 可接受的非SI单位。参见 SI Brochure
            <a data-link-type="biblio" href="#biblio-si"
                title="SI Brochure: The International System of Units (SI), 8th edition">[SI]</a>。
        </p>
        <h3 class="heading settled" data-level="10.4" id="high-vs-low-level"><span class="secno">10.4. </span><span
                class="content">暴露高级与低级传感器</span><a class="self-link" href="#high-vs-low-level"></a></h3>
        <p>截至目前，暴露传感器给网页平台的各种规范
            主要侧重于<a data-link-type="dfn" href="#high-level" id="ref-for-high-level⑨">高级</a>传感器 API。参见
            <a data-link-type="biblio" href="#biblio-geolocation-api"
                title="Geolocation API Specification 2nd Edition">[GEOLOCATION-API]</a>
            ，
            <a data-link-type="biblio" href="#biblio-orientation-event"
                title="DeviceOrientation Event Specification">[ORIENTATION-EVENT]</a>
        </p>
        <p>之所以采用此做法，原因包括：
            <a data-link-type="dfn" href="#high-level" id="ref-for-high-level①⓪">高级</a>传感器：
        </p>
        <ul>
            <li data-md>
                <p>能够清晰传达开发者意图，</p>
            <li data-md>
                <p>无需了解底层硬件工作原理，</p>
            <li data-md>
                <p>易于使用，</p>
            <li data-md>
                <p>有助于用户代理在性能与电池续航上做大量优化，</p>
            <li data-md>
                <p>通过减少暴露的信息量和类型，有助于避免部分隐私与安全问题。</p>
        </ul>
        <p>但越来越多的场景（如虚拟现实、增强现实）
            出于性能等考虑需要<a data-link-type="dfn" href="#low-level" id="ref-for-low-level⑨">低级别</a>的传感器访问能力。</p>
        <p>提供<a data-link-type="dfn" href="#low-level" id="ref-for-low-level①⓪">低级别</a>访问权
            有助于 Web 应用开发者结合领域属性进行更高性能系统设计。</p>
        <p>根据 Extensible Web Manifesto 的理念
            <a data-link-type="biblio" href="#biblio-extennnnsible"
                title="The Extensible Web Manifesto">[EXTENNNNSIBLE]</a>
            ，<a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⑤">扩展规范</a>
            应重点暴露<a data-link-type="dfn" href="#low-level" id="ref-for-low-level①①">低级</a>传感器 API；
            但如果有明显优势，也应暴露<a data-link-type="dfn" href="#high-level" id="ref-for-high-level①①">高级</a>API。
        </p>
        <h3 class="heading settled" data-level="10.5" id="multiple-sensors"><span class="secno">10.5. </span><span
                class="content">不该开启同类型多传感器的情形？</span><a class="self-link" href="#multiple-sensors"></a></h3>
        <p>不建议为同一<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④④">传感器类型</a>
            用完全相同参数创建多个<code
                class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④③">Sensor</a></code>实例，
            否则会消耗不必要的硬件资源。</p>
        <p>如果有多个观察者希望接收新<a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥③">传感器读数</a>的通知，可以在一个
            <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④④">Sensor</a></code> 实例上添加<a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-listener"
                id="ref-for-concept-event-listener①">事件监听器</a>，
            而无需为同一<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑤">传感器类型</a>创建多个实例并使用简单的 <code
                class="idl"><a data-link-type="idl" href="#dom-sensor-onreading" id="ref-for-dom-sensor-onreading①">onreading</a></code>
            事件处理器。
        </p>
        <p>反过来，如须用不同设置（如
            <code
                class="idl"><a data-link-type="idl" href="#dom-sensoroptions-frequency" id="ref-for-dom-sensoroptions-frequency③">frequency</a></code>、
            精度等，由<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification①⑥">扩展规范</a>定义的设置），
            可以为同类<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑥">传感器类型</a>创建多个
            <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑤">Sensors</a></code> 实例。
        </p>
        <h3 class="heading settled" data-level="10.6" id="definition-reqs"><span class="secno">10.6. </span><span
                class="content">定义要求</span><a class="self-link" href="#definition-reqs"></a></h3>
        <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⑦">扩展规范</a>必须定义
            <a href="#model-sensor-type">§ 6.1 传感器类型</a>中列明的所有关联数据。
        </p>
        <p>本节给出<a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification①⑧">扩展规范</a>
            需指明的部分关联数据详细说明。</p>
        <ul>
            <li data-md>
                <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="extension-sensor-interface">扩展传感器接口</dfn>，即其<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-inherited-interfaces"
                        id="ref-for-dfn-inherited-interfaces">继承接口</a>包含 <code
                        class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑥">Sensor</a></code> 的
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-interface"
                        id="ref-for-dfn-interface①">接口</a>。
                    <a data-link-type="dfn" href="#extension-sensor-interface"
                        id="ref-for-extension-sensor-interface④">扩展传感器接口</a>必须可被构造。它的 [<code
                        class="idl"><a class="idl-code" data-link-type="extended-attribute">Constructor</a></code>] 参数
                    必须为一个可选<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                        id="ref-for-dfn-dictionary">字典</a>，其<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries"
                        id="ref-for-dfn-inherited-dictionaries">继承字典</a>包含 <code
                        class="idl"><a data-link-type="idl" href="#dictdef-sensoroptions" id="ref-for-dictdef-sensoroptions①">SensorOptions</a></code>。
                </p>
                <p><a data-link-type="dfn" href="#extension-sensor-interface"
                        id="ref-for-extension-sensor-interface⑤">扩展传感器接口</a>有一个<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑥">支持选项集合</a>，称为<dfn
                        class="dfn-paneled" data-dfn-type="dfn" data-export
                        id="supported-sensor-options">支持的传感器选项</dfn>。
                    除非<a data-link-type="dfn" href="#extension-specification"
                        id="ref-for-extension-specification①⑨">扩展规范</a>另有规定，<a data-link-type="dfn"
                        href="#supported-sensor-options" id="ref-for-supported-sensor-options①">支持的传感器选项</a> <a
                        data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                        id="ref-for-list-contain③">仅包含</a>一个条目 "frequency"。</p>
                <p>如用户代理不支持对应选项，必须从<a data-link-type="dfn" href="#supported-sensor-options"
                        id="ref-for-supported-sensor-options②">支持的传感器选项</a>中移除该选项。</p>
                <p><a data-link-type="dfn" href="#extension-sensor-interface"
                        id="ref-for-extension-sensor-interface⑦">扩展传感器接口</a>暴露<a data-link-type="dfn"
                        href="#sensor-reading" id="ref-for-sensor-reading⑥④">传感器读数</a>的
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-attribute"
                        id="ref-for-dfn-attribute③">属性</a>必须是<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-read-only" id="ref-for-dfn-read-only">只读</a>的，其 getter
                    必须返回传入 <strong>this</strong> 和<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-attribute" id="ref-for-dfn-attribute④">属性</a>
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-identifier"
                        id="ref-for-dfn-identifier②">标识符</a>后，调用<a data-link-type="dfn"
                        href="#get-value-from-latest-reading"
                        id="ref-for-get-value-from-latest-reading③">从最新读数获取值</a>的结果。
                </p>
            <li data-md>
                <p>如果<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑦">传感器类型</a>用于表示<a
                        data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion⑧">传感器融合</a>，其<a
                        data-link-type="dfn" href="#sensor-permission-names"
                        id="ref-for-sensor-permission-names②">传感器权限名</a>必须等于融合源<a data-link-type="dfn"
                        href="#sensor-type" id="ref-for-sensor-type④⑧">传感器类型</a>相关的权限名。</p>
        </ul>
        <p><a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification②⓪">扩展规范</a>可为每个
            <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type④⑨">传感器类型</a>
            另定义如下内容：
        </p>
        <ul>
            <li data-md>
                <p>一个<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-dictionary"
                        id="ref-for-dfn-dictionary①">字典</a>，其<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries"
                        id="ref-for-dfn-inherited-dictionaries①">继承字典</a>包含<code
                        class="idl"><a data-link-type="idl" href="#dictdef-sensoroptions" id="ref-for-dictdef-sensoroptions②">SensorOptions</a></code>。
                </p>
            <li data-md>
                <p>一个<a data-link-type="dfn" href="#default-sensor" id="ref-for-default-sensor⑥">默认传感器</a>。
                    一般情况下，每种<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤⓪">类型</a>设备只配备一个
                    <a data-link-type="dfn" href="#concept-platform-sensor"
                        id="ref-for-concept-platform-sensor⑤⑥">平台传感器</a>，
                    因此定义默认传感器较为直接。若某<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤①">类型</a>常存在多个<a
                        data-link-type="dfn" href="#concept-device-sensor"
                        id="ref-for-concept-device-sensor⑤②">设备传感器</a>，
                    <a data-link-type="dfn" href="#extension-specification"
                        id="ref-for-extension-specification②①">扩展规范</a>可选择不定义默认传感器，尤其不合理时。
                </p>
        </ul>
        <h3 class="heading settled" data-level="10.7" id="extend-automation"><span class="secno">10.7. </span><span
                class="content">自动化</span><a class="self-link" href="#extend-automation"></a></h3>
        <p>为了支持用户代理自动化与应用测试，<a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification②②">扩展规范</a>鼓励：</p>
        <ul>
            <li data-md>
                <p>在<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry"
                        id="ref-for-map-entry④">按类型虚拟传感器元数据</a>中添加一个或多个<a data-link-type="dfn"
                        href="#per-type-virtual-sensor-metadata" id="ref-for-per-type-virtual-sensor-metadata⑤">条目</a>。
                </p>
            <li data-md>
                <p>据此定义一个或多个<a data-link-type="dfn" href="#virtual-sensor-metadata"
                        id="ref-for-virtual-sensor-metadata②">虚拟传感器元数据</a>实例。</p>
            <li data-md>
                <p>指定<a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤②">传感器类型</a>的<a
                        data-link-type="dfn" href="#virtual-sensor-type"
                        id="ref-for-virtual-sensor-type④">虚拟传感器类型</a>，其值应与对应<a data-link-type="dfn"
                        href="#per-type-virtual-sensor-metadata"
                        id="ref-for-per-type-virtual-sensor-metadata⑥">按类型虚拟传感器元数据</a>条目的键保持一致。</p>
        </ul>
        <div class="example" id="example-91eda903">
            <a class="self-link" href="#example-91eda903"></a> <a data-link-type="dfn" href="#extension-specification"
                id="ref-for-extension-specification②③">距离传感器扩展规范</a>
            （见<a href="#example-webidl">§ 10.10 示例 WebIDL</a>）可以包含如下内容：
            <blockquote>
                <strong>距离传感器</strong> 是一个<a data-link-type="dfn" href="#sensor-type"
                    id="ref-for-sensor-type⑤③">传感器类型</a>，只关联一个 <a data-link-type="dfn"
                    href="#extension-sensor-interface" id="ref-for-extension-sensor-interface⑧">扩展传感器接口</a>
                <code>ProximitySensor</code>。其关联的<a data-link-type="dfn" href="#virtual-sensor-type"
                    id="ref-for-virtual-sensor-type⑤">虚拟传感器类型</a>是
                "<code>proximity</code>"。
                <p><em>[...]</em></p>
                <p><strong>距离读数解析算法</strong>，给定一个 JSON <code
                        class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects" id="ref-for-sec-object-objects⑦">Object</a></code>
                    <em>parameters</em>，必须调用<a data-link-type="dfn" href="#parse-single-value-number-reading"
                        id="ref-for-parse-single-value-number-reading①">解析单值数字读数</a>，参数为
                    <em>parameters</em> 和 "<code>distance</code>"。
                </p>
                <p><a data-link-type="dfn" href="#per-type-virtual-sensor-metadata"
                        id="ref-for-per-type-virtual-sensor-metadata⑦">按类型虚拟传感器元数据</a> <a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#ordered-map"
                        id="ref-for-ordered-map⑧">映射</a>必须包含一个键为"<code>proximity</code>"的条目，
                    其值是一个<a data-link-type="dfn" href="#virtual-sensor-metadata"
                        id="ref-for-virtual-sensor-metadata③">虚拟传感器元数据</a>，其<a data-link-type="dfn"
                        href="#virtual-sensor-metadata-reading-parsing-algorithm"
                        id="ref-for-virtual-sensor-metadata-reading-parsing-algorithm①">读数解析算法</a>
                    即 <em>距离读数解析算法</em>。
                </p>
            </blockquote>
        </div>
        <h3 class="heading settled" data-level="10.8" id="permission-api"><span class="secno">10.8. </span><span
                class="content">扩展 Permission API</span><a class="self-link" href="#permission-api"></a></h3>
        <p>每个 <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑦">Sensor</a></code> 接口对应的
            <a data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤④">传感器类型</a>
            必须用其关联的 <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥⑤">读数</a> 来保护相应的
            <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-name" id="ref-for-dfn-name③">名称</a>
            或 <code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor">PermissionDescriptor</a></code>。
            低级 <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑧">sensor</a></code>
            可以直接用接口名作为 <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-name"
                id="ref-for-dfn-name④">名称</a>，例如 "gyroscope" 或 "accelerometer"。
            <a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion⑨">融合传感器</a>必须<a data-link-type="dfn"
                href="https://w3c.github.io/permissions/#dfn-request-permission-to-use"
                id="ref-for-dfn-request-permission-to-use①">请求访问用作融合源的所有传感器的权限</a>。
        </p>
        <p>即使从融合数据重建 <a data-link-type="dfn" href="#low-level" id="ref-for-low-level①③">低级</a> <a data-link-type="dfn"
                href="#sensor-reading" id="ref-for-sensor-reading⑥⑥">传感器读数</a>较为困难，但部分原始信息仍可能被推断。
            例如，若使用绝对或地磁朝向传感器，很容易推断用户在空间中的朝向，因此这类传感器必须
            <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use"
                id="ref-for-dfn-request-permission-to-use②">请求使用 magnetometer 权限</a>，
            因为其暴露了设备与地磁场的相对位置。而相对朝向传感器则不会暴露这类信息，因此不需
            <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use"
                id="ref-for-dfn-request-permission-to-use③">请求使用</a> magnetometer。
        </p>
        <p><code
                class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor①">PermissionDescriptor</a></code>
            也可用于设置最大精度或<a data-link-type="dfn" href="#sampling-frequency"
                id="ref-for-sampling-frequency①⑤">采样频率</a>等限制。下例为加速度计权限扩展的一个可能实现：</p>
        <pre class="example highlight" id="example-88a9149d"><a class="self-link" href="#example-88a9149d"></a><c- b>dictionary</c-> <c- g>AccelerometerPermissionDescriptor</c-> : <c- n>PermissionDescriptor</c-> {
    <c- b>boolean</c-> <c- g>highAccuracy</c-> = <c- b>false</c->;
    <c- b>boolean</c-> <c- g>highFrequency</c-> = <c- b>false</c->;
};
</pre>
        <h3 class="heading settled" data-level="10.9" id="permissions-policy-api"><span class="secno">10.9. </span><span
                class="content">扩展 Permissions Policy API</span><span id="feature-policy-api"></span><a
                class="self-link" href="#permissions-policy-api"></a></h3>
        <p>每个 <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor④⑨">Sensor</a></code> 接口对应的 <a
                data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤⑤">传感器类型</a>
            （若未进行<a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion①⓪">传感器融合</a>时为1个，否则为多个）
            需对应一个或多个<a data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                id="ref-for-policy-controlled-feature③">策略控制功能</a>，用于控制是否允许文档使用该接口。
        </p>
        <p>这些<a data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                id="ref-for-policy-controlled-feature④">功能</a>的<a data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist"
                id="ref-for-policy-controlled-feature-default-allowlist">默认允许列表</a>为 <code>'self'</code>。
        </p>
        <p class="note" role="note"><span class="marker">注意：</span> <a data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist"
                id="ref-for-policy-controlled-feature-default-allowlist①">默认允许列表</a>设置为 <code>'self'</code>，
            允许同源嵌套框架使用 <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑤⓪">Sensor</a></code>
            接口，
            但禁止第三方内容访问 <a data-link-type="dfn" href="#sensor-reading" id="ref-for-sensor-reading⑥⑦">传感器读数</a>。
        </p>
        <p><a data-link-type="dfn" href="#sensor-feature-names" id="ref-for-sensor-feature-names②">传感器功能名</a>
            <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑦">集合</a>
            必须包含所有关联<a data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                id="ref-for-policy-controlled-feature⑤">策略控制功能</a>的令牌。
        </p>
        <p>低级 <code class="idl"><a data-link-type="idl" href="#sensor" id="ref-for-sensor⑤①">sensor</a></code> 可以用接口名作<a
                data-link-type="dfn"
                href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"
                id="ref-for-policy-controlled-feature⑦">策略控制功能</a>令牌，
            如 "gyroscope" 或 "accelerometer"。
            若<a data-link-type="dfn" href="#extension-specification" id="ref-for-extension-specification②④">扩展规范</a>
            未作修改，<a data-link-type="dfn" href="#sensor-feature-names" id="ref-for-sensor-feature-names③">传感器功能名</a>等于其<a
                data-link-type="dfn" href="#sensor-type" id="ref-for-sensor-type⑤⑥">类型</a>对应<a data-link-type="dfn"
                href="#sensor-permission-names" id="ref-for-sensor-permission-names③">权限名</a>。
        </p>
        <div class="example html" id="example-e92c9492">
            <a class="self-link" href="#example-e92c9492"></a> 为第三方源有选择性地开启加速度计功能，可通过在框架元素上添加
            <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow" id="ref-for-attr-iframe-allow">allow</a></code>
            属性实现：
            <pre class="highlight"><c- p>&lt;</c-><c- f>iframe</c-> <c- e>src</c-><c- o>=</c-><c- s>"https://third-party.com"</c-> <c- e>allow</c-><c- o>=</c-><c- s>"accelerometer"</c-><c- p>/>&lt;/</c-><c- f>iframe</c-><c- p>></c->
</pre>
        </div>
        <div class="example html" id="example-86ff0a65">
            <a class="self-link" href="#example-86ff0a65"></a> 可在 HTTP 响应头中设定权限策略完全禁用传感器使用：
            <pre class="highlight">Permissions<c- o>-</c->Policy<c- o>:</c-> accelerometer<c- o>=</c-><c- p>()</c->
</pre>
        </div>
        <p><a data-link-type="dfn" href="#sensor-fusion" id="ref-for-sensor-fusion①①">融合传感器</a>必须使用其作为融合源的传感器的
            <a data-link-type="dfn" href="#sensor-feature-names" id="ref-for-sensor-feature-names④">传感器功能名</a>。
        </p>
        <div class="example html" id="example-dcbd0b33">
            <a class="self-link" href="#example-dcbd0b33"></a> 允许第三方源使用加速度计、磁力计和陀螺仪功能，
            以支持绝对方向传感器。
            <pre class="highlight"><c- p>&lt;</c-><c- f>iframe</c-> <c- e>src</c-><c- o>=</c-><c- s>"https://third-party.com"</c-> <c- e>allow</c-><c- o>=</c-><c- s>"accelerometer; magnetometer; gyroscope"</c-><c- p>/></c->
</pre>
        </div>
        <h3 class="heading settled" data-level="10.10" id="example-webidl"><span class="secno">10.10. </span><span
                class="content">示例 WebIDL</span><a class="self-link" href="#example-webidl"></a></h3>
        <p>以下是本规范针对距离<a data-link-type="dfn" href="#concept-device-sensor"
                id="ref-for-concept-device-sensor⑤③">传感器</a>扩展的 WebIDL 示例：</p>
        <pre class="example highlight" id="example-ce90960e"><a class="self-link" href="#example-ce90960e"></a>[<c- g>SecureContext</c->, <c- g>Exposed</c->=<c- n>Window</c->]
<c- b>interface</c-> <c- g>ProximitySensor</c-> : <c- n>Sensor</c-> {
    <c- g>constructor</c->(<c- b>optional</c-> <c- n>ProximitySensorOptions</c-> <c- g>proximitySensorOptions</c-> = {});
    <c- b>readonly</c-> <c- b>attribute</c-> <c- b>double</c->? <c- g>distance</c->;
};

<c- b>dictionary</c-> <c- g>ProximitySensorOptions</c-> : <c- n>SensorOptions</c-> {
    <c- b>double</c-> <c- g>min</c->;
    <c- b>double</c-> <c- g>max</c->;
    <c- n>ProximitySensorPosition</c-> <c- g>position</c->;
    <c- n>ProximitySensorDirection</c-> <c- g>direction</c->;
};

<c- b>enum</c-> <c- g>ProximitySensorPosition</c-> {
    <c- s>"top-left"</c->,
    <c- s>"top"</c->,
    <c- s>"top-right"</c->,
    <c- s>"middle-left"</c->,
    <c- s>"middle"</c->,
    <c- s>"middle-right"</c->,
    <c- s>"bottom-left"</c->,
    <c- s>"bottom"</c->,
    <c- s>"bottom-right"</c->
};

<c- b>enum</c-> <c- g>ProximitySensorDirection</c-> {
    <c- s>"front"</c->,
    <c- s>"rear"</c->,
    <c- s>"left"</c->,
    <c- s>"right"</c->,
    <c- s>"top"</c->,
    <c- s>"bottom"</c->
};
</pre>
        <h2 class="heading settled" data-level="11" id="acknowledgements"><span class="secno">11. </span><span
                class="content">致谢</span><a class="self-link" href="#acknowledgements"></a></h2>
        <p>首先，衷心感谢 Anssi Kostiainen 在本规范开发过程中持续地投入和支持，
            还要感谢 Mikhail Pozdnyakov、Alexander Shalamov、Rijubrata Bhaumik 和 Kenneth Rohde Christiansen
            在实现反馈、建议与研究上的宝贵贡献，这些都极大推动了规范的完善。</p>
        <p>特别感谢 Rick Waldron，他推动了 Web 通用传感器 API 设计的讨论，
            勾画了本规范的最初 API，并基于他在 Johnny-Five 项目的工作不断反馈实现建议，
            在整个规范开发过程中持续贡献观点。</p>
        <p>特别感谢 Boris Smus、Tim Volodine 与 Rich Tibbett 早期将传感器以一致方式暴露给 Web 所做的工作。</p>
        <p>感谢 Anne van Kesteren 不仅面对面也通过 IRC 持续地热心协助。</p>
        <p>感谢 Domenic Denicola 和 Jake Archibald 的帮助。</p>
        <p>还要感谢 Frederick Hirsch 和 Dominique Hazaël-Massieux（通过 HTML5Apps 项目）
            在管理和技术层面对本规范的支持。</p>
        <p>感谢 Tab Atkins 制作 Bikeshed 并细致讲解其细节。</p>
        <p>感谢 Lukasz Olejnik 和 Maryam Mehrnezhad 为隐私与安全相关内容贡献力量。</p>
        <p>以下各位在 GitHub 上反复讨论、深度参与，本规范极大受益于他们的贡献：
            Anssi Kostiainen、
            Boris Smus、
            chaals、
            Claes Nilsson、
            Dave Raggett、
            David Mark Clements、
            Domenic Denicola、
            Dominique Hazaël-Massieux（通过 HTML5Apps 项目）、
            Francesco Iovine、
            Frederick Hirsch、
            gmandyam、
            Jafar Husain、
            Johannes Hund、
            Kris Kowal、
            Lukasz Olejnik、
            Marcos Caceres、
            Marijn Kruisselbrink、
            Mark Foltz、
            Mats Wichmann、
            Matthew Podwysocki、
            Olli Pettay、
            pablochacin、
            Remy Sharp、
            Rich Tibbett、
            Rick Waldron、
            Rijubrata Bhaumik、
            robman、
            Sean T. McBeth、
            Tab Atkins Jr.、
            Virginie Galindo、
            zenparsing、
            以及 Zoltan Kis。</p>
        <p>我们还要感谢
            Anssi Kostiainen、
            Dominique Hazaël-Massieux、
            Erik Wilde、
            和
            Michael[tm] Smith
            对编辑工作提供的建议和帮助。</p>
        <script>
            // Scrollspy
            var createScrollSpy = (function () {

                function targetId(element) {
                    return (element.href || "").split("#")[1] || null;
                }

                function getScrollTop() {
                    return (window.pageYOffset !== undefined)
                        ? window.pageYOffset
                        : (document.documentElement || document.body.parentNode || document.body).scrollTop;
                }

                function addClassToParents(element, className, parentClassName) {
                    do {
                        element = element.parentNode;
                    } while (element && element.tagName != "LI")
                    if (element) {
                        var a = element.querySelector("a");
                        if (a) a.className = className;
                        addClassToParents(element, parentClassName ? parentClassName : className);
                    }
                }

                function getPosition(element, container) {
                    var eR = element.getBoundingClientRect();
                    var cR = container.getBoundingClientRect();
                    if (eR.bottom < cR.top) return "above";
                    if (eR.top > cR.bottom) return "below";
                    return "visible";
                }

                function createScrollSpy(options) {
                    options = options || {};

                    var OFFSET = 80,
                        needsUpdate = false,
                        previous = null,
                        current = null,
                        currentNav = null,
                        tocContainer,
                        toc,
                        sections;

                    tocContainer = document.querySelector(options.id);
                    toc = [].slice.call(tocContainer.querySelectorAll("a"), 0);
                    sections = toc.reduce(function (sections, a) {
                        var id = targetId(a);
                        var section = id ? document.getElementById(id) : null;
                        if (section) { sections.push(section); }
                        return sections;
                    }, []);

                    function onscroll() {
                        if (!needsUpdate) {
                            needsUpdate = true;
                            requestAnimationFrame(updatePosition);
                        }
                    }

                    function updatePosition() {
                        needsUpdate = false;
                        var scrollTop = (options.offset || 0) + getScrollTop();
                        current = sections.filter(function (section) {
                            return section.offsetTop < scrollTop;
                        }).pop();
                        current = current ? current.id : null;

                        if (previous !== current) {
                            previous = current;
                            toc.forEach(function (a) {
                                if (targetId(a) == current) {
                                    currentNav = a;
                                } else {
                                    a.className = "";
                                }
                            });
                            if (options.markParents) {
                                addClassToParents(currentNav, options.className, options.parentClassName)
                            } else {
                                currentNav.className = options.className;
                            }
                            if (options.scrollIntoView && typeof currentNav.scrollIntoView == "function") {
                                var p = getPosition(currentNav, tocContainer);
                                if (p == "above") {
                                    currentNav.scrollIntoView(true);
                                } else if (p == "below") {
                                    currentNav.scrollIntoView(false);
                                }
                            }
                        }
                    }

                    return {
                        start: function () {
                            window.addEventListener("scroll", onscroll, false);
                        },

                        stop: function () {
                            window.removeEventListener("scroll", onscroll, false);
                            toc.forEach(function (a) {
                                a.className = "";
                            });
                        }
                    }
                }

                return createScrollSpy;
            })();

            (function () {
                var spy = createScrollSpy({
                    offset: 80,
                    id: "#toc",
                    className: "current",
                    parentClassName: "current-parent",
                    markParents: true,
                    scrollIntoView: true
                });

                var mm = window.matchMedia('screen and (min-width: 78em)');
                if (mm.matches) {
                    spy.start();
                }
                mm.addListener(function (m) {
                    if (m.matches) spy.start();
                    else spy.stop();
                });
            })();
        </script>
    </main>
    <div data-fill-with="conformance">
        <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a
                class="self-link" href="#w3c-conformance"></a></h2>
        <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">文档约定</span><a
                class="self-link" href="#w3c-conventions"></a></h3>
        <p>一致性要求通过描述性断言和 RFC 2119 术语组合表达。
            在本规范的规范性部分中，关键字 “MUST”、“MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD NOT”、“RECOMMENDED”、“MAY” 和
            “OPTIONAL”
            的解释请参考 RFC 2119。
            为了可读性，这些词在本规范中并未全大写。</p>
        <p>除非明确标为非规范性的内容、示例和注释，否则本规范的所有文本都是规范性的。<a data-link-type="biblio" href="#biblio-rfc2119"
                title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>
        </p>
        <p>本规范中的示例会以“例如”引入，或通过 <code>class="example"</code> 标记与规范性文本区分开，如下所示：</p>
        <div class="example" id="w3c-example">
            <a class="self-link" href="#w3c-example"></a>
            <p>这是一个说明性示例。</p>
        </div>
        <p>说明性注释以“注意”开头，并通过 <code>class="note"</code> 标记与规范性文本区分开，例如：</p>
        <p class="note" role="note">注意：这是一个说明性注释。</p>
        <section>
            <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span
                    class="content">一致性算法</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
            <p>以祈使句表达在算法中的一致性要求（如“去除任何前导空格字符”或“返回 false 并中止这些步骤”），
                应按照在引入算法时使用的关键字（“must”、“should”、“may”等）的含义来解释。</p>
            <p>以算法或具体步骤表述的一致性要求，可以用任何方式实现，只要最终结果等价即可。
                尤其是，本规范规定的算法旨在易于理解，并不追求高性能。鼓励实现者进行优化。</p>
        </section>
    </div>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#activate-a-sensor-object">激活传感器对象</a><span>, 在 § 8.3</span>
        <li><a href="#dom-sensor-activated">activated</a><span>, 在 § 7.1</span>
        <li><a href="#activated-sensor-objects">激活的传感器对象</a><span>, 在 § 6.2</span>
        <li><a href="#calibration">校准</a><span>, 在 § 5.1</span>
        <li><a href="#can-expose-sensor-readings">能否暴露传感器读数</a><span>, 在 § 5.5</span>
        <li><a href="#virtual-sensor-can-provide-readings-flag">可供读数标志</a><span>, 在 § 9.1</span>
        <li><a href="#check-sensor-policy-controlled-features">检查传感器策略控制特性</a><span>, 在 § 8.1</span>
        <li><a href="#connect-to-sensor">连接传感器</a><span>, 在 § 8.2</span>
        <li><a href="#dom-sensorerrorevent-sensorerrorevent">constructor(type, errorEventInitDict)</a><span>, 在
                § 7.2</span>
        <li><a href="#deactivate-a-sensor-object">停用传感器对象</a><span>, 在 § 8.4</span>
        <li><a href="#default-sensor">默认传感器</a><span>, 在 § 5.3</span>
        <li><a href="#concept-device-sensor">设备传感器</a><span>, 在 § 5.1</span>
        <li>
            error
            <ul>
                <li><a href="#dom-sensorerrorevent-error">SensorErrorEvent 的属性</a><span>, 在 § 7.2</span>
                <li><a href="#dom-sensorerroreventinit-error">SensorErrorEventInit 的字典成员</a><span>, 在 § 7.2</span>
            </ul>
        <li><a href="#extension-sensor-interface">扩展传感器接口</a><span>, 在 § 10.6</span>
        <li><a href="#extension-specification">扩展规范</a><span>, 在 § 10</span>
        <li><a href="#focus-and-origin-check">焦点与源检查</a><span>, 在 § 8.14</span>
        <li><a href="#dom-sensor-frequency-slot">[[frequency]]</a><span>, 在 § 7.1.3</span>
        <li><a href="#dom-sensoroptions-frequency">frequency</a><span>, 在 § 7.1</span>
        <li><a href="#generic-sensor-permission-revocation-algorithm">通用传感器权限撤销算法</a><span>, 在 § 8.5</span>
        <li><a href="#get-a-platform-sensors-sampling-bounds">获取平台传感器的采样边界</a><span>, 在 § 6.2</span>
        <li><a href="#get-value-from-latest-reading">从最新读数获取值</a><span>, 在 § 8.12</span>
        <li><a href="#dom-sensor-hasreading">hasReading</a><span>, 在 § 7.1</span>
        <li><a href="#high-level">高级</a><span>, 在 § 5.2</span>
        <li><a href="#initialize-a-sensor-object">初始化传感器对象</a><span>, 在 § 8</span>
        <li><a href="#dom-sensor-lasteventfiredat-slot">[[lastEventFiredAt]]</a><span>, 在 § 7.1.3</span>
        <li><a href="#latest-reading">最新读数</a><span>, 在 § 6.2</span>
        <li><a href="#limit-max-frequency">限制最大采样频率</a><span>, 在 § 4.3</span>
        <li><a href="#limit-number-of-delivered-readings">限制上报读数数量</a><span>, 在 § 4.3.2</span>
        <li><a href="#local-coordinate-system">局部坐标系</a><span>, 在 § 5.1</span>
        <li><a href="#low-level">低级</a><span>, 在 § 5.2</span>
        <li>
            最大采样频率
            <ul>
                <li><a href="#device-sensor-maximum-sampling-frequency">设备传感器的定义</a><span>, 在 § 5.4</span>
                <li><a href="#sensor-type-maximum-sampling-frequency">传感器类型的定义</a><span>, 在 § 6.1</span>
                <li><a href="#virtual-sensor-maximum-sampling-frequency">虚拟传感器的定义</a><span>, 在 § 9.1</span>
            </ul>
        <li>
            最小采样频率
            <ul>
                <li><a href="#device-sensor-minimum-sampling-frequency">设备传感器的定义</a><span>, 在 § 5.4</span>
                <li><a href="#sensor-type-minimum-sampling-frequency">传感器类型的定义</a><span>, 在 § 6.1</span>
                <li><a href="#virtual-sensor-minimum-sampling-frequency">虚拟传感器的定义</a><span>, 在 § 9.1</span>
            </ul>
        <li><a href="#notify-activated-state">通知激活状态</a><span>, 在 § 8.10</span>
        <li><a href="#notify-error">通知错误</a><span>, 在 § 8.11</span>
        <li><a href="#notify-new-reading">通知新读数</a><span>, 在 § 8.9</span>
        <li><a href="#dom-sensor-onactivate">onactivate</a><span>, 在 § 7.1</span>
        <li><a href="#dom-sensor-onerror">onerror</a><span>, 在 § 7.1</span>
        <li><a href="#dom-sensor-onreading">onreading</a><span>, 在 § 7.1</span>
        <li><a href="#parse-single-value-number-reading">解析单值数字读数</a><span>, 在 § 9.2.3.1</span>
        <li><a href="#parse-xyz-reading">解析 XYZ 读数</a><span>, 在 § 9.2.3.1.1</span>
        <li><a href="#dom-sensor-pendingreadingnotification-slot">[[pendingReadingNotification]]</a><span>, 在
                § 7.1.3</span>
        <li><a href="#per-type-virtual-sensor-metadata">按类型虚拟传感器元数据</a><span>, 在 § 9.1</span>
        <li><a href="#concept-platform-sensor">平台传感器</a><span>, 在 § 5.1</span>
        <li><a href="#virtual-sensor-metadata-reading-parsing-algorithm">读数解析算法</a><span>, 在 § 9.1</span>
        <li><a href="#reading-quantization-algorithm">读数量化算法</a><span>, 在 § 6.1</span>
        <li><a href="#reading-timestamp">读数时间戳</a><span>, 在 § 5.1</span>
        <li><a href="#reduce-accuracy">降低精度</a><span>, 在 § 4.3.3</span>
        <li><a href="#reporting-frequency">报告频率</a><span>, 在 § 5.4</span>
        <li><a href="#report-latest-reading-updated">报告最新读数已更新</a><span>, 在 § 8.8</span>
        <li><a href="#virtual-sensor-requested-sampling-frequency">请求的采样频率</a><span>, 在 § 9.1</span>
        <li><a href="#request-sensor-access">请求传感器访问</a><span>, 在 § 8.13</span>
        <li><a href="#sampling-frequency">采样频率</a><span>, 在 § 5.4</span>
        <li><a href="#sensor">Sensor</a><span>, 在 § 7.1</span>
        <li><a href="#sensorerrorevent">SensorErrorEvent</a><span>, 在 § 7.2</span>
        <li><a href="#dictdef-sensorerroreventinit">SensorErrorEventInit</a><span>, 在 § 7.2</span>
        <li><a href="#dom-sensorerrorevent-sensorerrorevent">SensorErrorEvent(type, errorEventInitDict)</a><span>, 在
                § 7.2</span>
        <li><a href="#sensor-feature-names">传感器功能名</a><span>, 在 § 6.1</span>
        <li><a href="#sensor-fusion">传感器融合</a><span>, 在 § 5.2</span>
        <li><a href="#dictdef-sensoroptions">SensorOptions</a><span>, 在 § 7.1</span>
        <li><a href="#sensor-permission-names">传感器权限名</a><span>, 在 § 6.1</span>
        <li><a href="#sensor-reading">传感器读数</a><span>, 在 § 5.1</span>
        <li><a href="#sensor-task-source">传感器任务源</a><span>, 在 § 7.1</span>
        <li><a href="#sensor-type">传感器类型</a><span>, 在 § 6.1</span>
        <li><a href="#set-sensor-settings">设置传感器配置</a><span>, 在 § 8.6</span>
        <li><a href="#spatial-sensor">空间传感器</a><span>, 在 § 5.1</span>
        <li><a href="#specific-conditions">特定条件</a><span>, 在 § 5.5</span>
        <li><a href="#dom-sensor-start">start()</a><span>, 在 § 7.1</span>
        <li><a href="#dom-sensor-state-slot">[[state]]</a><span>, 在 § 7.1.3</span>
        <li><a href="#dom-sensor-stop">stop()</a><span>, 在 § 7.1</span>
        <li><a href="#stop-sensor">完全停止传感器</a><span>, 在 § 4.3.1</span>
        <li><a href="#supported-sensor-options">支持的传感器选项</a><span>, 在 § 10.6</span>
        <li><a href="#threshold-check-algorithm">阈值检查算法</a><span>, 在 § 6.1</span>
        <li><a href="#dom-sensor-timestamp">timestamp</a><span>, 在 § 7.1</span>
        <li><a href="#update-latest-reading">更新最新读数</a><span>, 在 § 8.7</span>
        <li><a href="#virtual-sensor">虚拟传感器</a><span>, 在 § 9.1</span>
        <li><a href="#virtual-sensor-mapping">虚拟传感器映射</a><span>, 在 § 9.1</span>
        <li><a href="#virtual-sensor-metadata">虚拟传感器元数据</a><span>, 在 § 9.1</span>
        <li><a href="#virtual-sensor-type">虚拟传感器类型</a><span>, 在 § 9.1</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">参考文件定义的术语</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[DOM]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="85394472">Document</span>
                <li><span class="dfn-paneled" id="129bdae8">Event</span>
                <li><span class="dfn-paneled" id="44a7708c">EventInit</span>
                <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
                <li><span class="dfn-paneled" id="6d74ac8d">constructor</span>
                <li><span class="dfn-paneled" id="a973e0fe">document</span>
                <li><span class="dfn-paneled" id="26b82890">event</span>
                <li><span class="dfn-paneled" id="06950d36">event listener</span>
                <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
                <li><span class="dfn-paneled" id="5216e1a0">node document</span>
            </ul>
        <li>
            <a data-link-type="biblio">[ECMASCRIPT]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="54ca6d3b">Boolean</span>
                <li><span class="dfn-paneled" id="5f9c7266">Number</span>
                <li><span class="dfn-paneled" id="a6e67972">Object</span>
                <li><span class="dfn-paneled" id="9032aa9e">String</span>
                <li><span class="dfn-paneled" id="b107f911">current realm</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HR-TIME]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
                <li><span class="dfn-paneled" id="1d8f7431">coarsened moments</span>
                <li><span class="dfn-paneled" id="28716de1">monotonic clock</span>
                <li><span class="dfn-paneled" id="69ea869d">relative high resolution time</span>
                <li><span class="dfn-paneled" id="479aeb1d">unsafe current time</span>
                <li><span class="dfn-paneled" id="9a31d086">unsafe shared current time</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
                <li><span class="dfn-paneled" id="35972864">active document</span>
                <li><span class="dfn-paneled" id="57435598">allow</span>
                <li><span class="dfn-paneled" id="3610bd67">allowed to use</span>
                <li><span class="dfn-paneled" id="0d0390b4">browsing context</span>
                <li><span class="dfn-paneled" id="e61f04d5">currently focused area</span>
                <li><span class="dfn-paneled" id="06834943">dom anchor</span>
                <li><span class="dfn-paneled" id="6a5a59a0">event handler</span>
                <li><span class="dfn-paneled" id="9d386f55">event handler event type</span>
                <li><span class="dfn-paneled" id="faf75970">gains focus</span>
                <li><span class="dfn-paneled" id="4b6086d7">global object</span>
                <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
                <li><span class="dfn-paneled" id="9c19b7fc">navigable</span>
                <li><span class="dfn-paneled" id="228be966">navigable <small>(for Window)</small></span>
                <li><span class="dfn-paneled" id="13dd6cae">node navigable</span>
                <li><span class="dfn-paneled" id="43ac8374">origin</span>
                <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
                <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
                <li><span class="dfn-paneled" id="521818b9">same origin-domain</span>
                <li><span class="dfn-paneled" id="65181da8">secure context</span>
                <li><span class="dfn-paneled" id="0371e87a">spin the event loop</span>
                <li><span class="dfn-paneled" id="e270bd2a">task</span>
                <li><span class="dfn-paneled" id="2df777b6">task queue</span>
                <li><span class="dfn-paneled" id="c3b2d08c">task source</span>
                <li><span class="dfn-paneled" id="e9c58cef">time origin</span>
                <li><span class="dfn-paneled" id="bd736ec6">top-level traversable</span>
                <li><span class="dfn-paneled" id="0ff9b6b9">top-level traversable <small>(for browsing
                            context)</small></span>
                <li><span class="dfn-paneled" id="30717154">top-level traversable <small>(for navigable)</small></span>
                <li><span class="dfn-paneled" id="b4c365f8">visibility state</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="a3b18719">append</span>
                <li><span class="dfn-paneled" id="77b4c09a">assert</span>
                <li><span class="dfn-paneled" id="36858240">boolean</span>
                <li><span class="dfn-paneled" id="ae8def21">contain <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="a326add7">contain <small>(for map)</small></span>
                <li><span class="dfn-paneled" id="f937b7b6">continue</span>
                <li><span class="dfn-paneled" id="8958b003">entry</span>
                <li><span class="dfn-paneled" id="1243a891">exist</span>
                <li><span class="dfn-paneled" id="16d07e10">for each <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="45209803">for each <small>(for map)</small></span>
                <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
                <li><span class="dfn-paneled" id="6b815fdd">is empty</span>
                <li><span class="dfn-paneled" id="5afbefcd">item <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="c88f3887">item <small>(for struct)</small></span>
                <li><span class="dfn-paneled" id="d14a6f26">key</span>
                <li><span class="dfn-paneled" id="31db57e6">keys</span>
                <li><span class="dfn-paneled" id="3fca5a9e">map</span>
                <li><span class="dfn-paneled" id="84b454ff">ordered map</span>
                <li><span class="dfn-paneled" id="692595fe">ordered set</span>
                <li><span class="dfn-paneled" id="99c988d6">remove <small>(for list)</small></span>
                <li><span class="dfn-paneled" id="7d4424b2">remove <small>(for map)</small></span>
                <li><span class="dfn-paneled" id="0e6b2056">set</span>
                <li><span class="dfn-paneled" id="0698d556">string</span>
                <li><span class="dfn-paneled" id="984221ca">struct</span>
                <li><span class="dfn-paneled" id="0e8de730">tuple</span>
                <li><span class="dfn-paneled" id="802b0fdd">value</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="ebb01253">PermissionDescriptor</span>
                <li><span class="dfn-paneled" id="e740d7e5">name</span>
                <li><span class="dfn-paneled" id="409a61ca">permission revocation algorithm</span>
                <li><span class="dfn-paneled" id="d124397f">permission state</span>
                <li><span class="dfn-paneled" id="bcc085e3">request permission to use</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS-POLICY]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="1570624a">default allowlist</span>
                <li><span class="dfn-paneled" id="cc890cc1">policy-controlled feature</span>
            </ul>
        <li>
            <a data-link-type="biblio">[PERMISSIONS-REQUEST]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="35725f70">permission request algorithm</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SECURITY-PRIVACY-QUESTIONNAIRE]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="eeb0e150">同源策略违例</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBDRIVER2]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="024a1df2">当前浏览上下文</span>
                <li><span class="dfn-paneled" id="bb4c269e">error</span>
                <li><span class="dfn-paneled" id="040c67fa">扩展命令 URI 模板</span>
                <li><span class="dfn-paneled" id="09daa25c">扩展命令</span>
                <li><span class="dfn-paneled" id="fa818daf">get a property</span>
                <li><span class="dfn-paneled" id="28855907">get a property with default</span>
                <li><span class="dfn-paneled" id="8da4d1e3">invalid argument</span>
                <li><span class="dfn-paneled" id="9a707b42">local end</span>
                <li><span class="dfn-paneled" id="82c23298">远端步骤</span>
                <li><span class="dfn-paneled" id="4923d430">session</span>
                <li><span class="dfn-paneled" id="cb9acc83">set a property</span>
                <li><span class="dfn-paneled" id="4be6272b">success</span>
                <li><span class="dfn-paneled" id="87236d2b">url variable</span>
                <li><span class="dfn-paneled" id="7482107b">webdriver error code</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了以下术语：
            <ul>
                <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
                <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
                <li><span class="dfn-paneled" id="0be3911e">NotReadableError</span>
                <li><span class="dfn-paneled" id="3182eb71">NotSupportedError</span>
                <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
                <li><span class="dfn-paneled" id="5bf9ea61">attribute</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span>
                <li><span class="dfn-paneled" id="6a73c310">create</span>
                <li><span class="dfn-paneled" id="bec98d30">dictionary</span>
                <li><span class="dfn-paneled" id="8c800cdf">double</span>
                <li><span class="dfn-paneled" id="980252f2">identifier</span>
                <li><span class="dfn-paneled" id="e451c8f4">inherited dictionaries</span>
                <li><span class="dfn-paneled" id="fc14fa8a">inherited interfaces</span>
                <li><span class="dfn-paneled" id="1422ec4e">interface</span>
                <li><span class="dfn-paneled" id="bfc48225">read only</span>
                <li><span class="dfn-paneled" id="4013a022">this</span>
                <li><span class="dfn-paneled" id="b4cfa5ce">throw</span>
                <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM 标准</cite></a>. 现行标准.
            URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript 语言规范</cite></a>. URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-hr-time">[HR-TIME]
        <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>高精度时间</cite></a>. URL: <a
                href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren 等. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML 标准</cite></a>.
            现行标准. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    标准</cite></a>. 现行标准. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-permissions">[PERMISSIONS]
        <dd>Marcos Caceres; Mike Taylor. <a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>. URL:
            <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
        <dt id="biblio-permissions-policy">[PERMISSIONS-POLICY]
        <dd>Ian Clelland. <a href="https://w3c.github.io/webappsec-permissions-policy/"><cite>Permissions
                    Policy</cite></a>. URL: <a
                href="https://w3c.github.io/webappsec-permissions-policy/">https://w3c.github.io/webappsec-permissions-policy/</a>
        <dt id="biblio-permissions-request">[PERMISSIONS-REQUEST]
        <dd><a href="https://wicg.github.io/permissions-request/"><cite>Requesting Permissions</cite></a>. cg-draft.
            URL: <a href="https://wicg.github.io/permissions-request/">https://wicg.github.io/permissions-request/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>在 RFC 中用于指示需求级别的关键字</cite></a>.
            1997 年 3 月. 最佳当前实践. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-webdriver2">[WEBDRIVER2]
        <dd>Simon Stewart; David Burns. <a href="https://w3c.github.io/webdriver/"><cite>WebDriver</cite></a>. URL: <a
                href="https://w3c.github.io/webdriver/">https://w3c.github.io/webdriver/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL 标准</cite></a>. 现行标准. URL: <a
                href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">说明性引用</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-accelprint">[ACCELPRINT]
        <dd>Dey, Sanorita, 等. <a href="http://synrg.csl.illinois.edu/papers/AccelPrint_NDSS14.pdf"><cite>AccelPrint:
                    Accelerometers 的缺陷让智能手机可被跟踪</cite></a>. 2014. 信息性. URL: <a
                href="http://synrg.csl.illinois.edu/papers/AccelPrint_NDSS14.pdf">http://synrg.csl.illinois.edu/papers/AccelPrint_NDSS14.pdf</a>
        <dt id="biblio-api-design-principles">[API-DESIGN-PRINCIPLES]
        <dd>Sangwhan Moon; Lea Verou. <a href="https://w3ctag.github.io/design-principles/"><cite>Web 平台设计原则</cite></a>.
            URL: <a href="https://w3ctag.github.io/design-principles/">https://w3ctag.github.io/design-principles/</a>
        <dt id="biblio-coordinates-transformation">[COORDINATES-TRANSFORMATION]
        <dd>George W. Collins, II. <a
                href="http://ads.harvard.edu/books/1989fcm..book/Chapter2.pdf"><cite>天体力学基础</cite></a>. 2004. 信息性. URL:
            <a
                href="http://ads.harvard.edu/books/1989fcm..book/Chapter2.pdf">http://ads.harvard.edu/books/1989fcm..book/Chapter2.pdf</a>
        <dt id="biblio-extennnnsible">[EXTENNNNSIBLE]
        <dd><a href="https://extensiblewebmanifesto.org/"><cite>Extensible Web 宣言</cite></a>. 2013 年 6 月 10 日. URL: <a
                href="https://extensiblewebmanifesto.org/">https://extensiblewebmanifesto.org/</a>
        <dt id="biblio-generic-sensor-usecases">[GENERIC-SENSOR-USECASES]
        <dd>Rick Waldron, Mikhail Pozdnyakov, Alexander Shalamov. <a
                href="https://w3c.github.io/sensors/usecases"><cite>传感器用例</cite></a>. 2017. 说明. URL: <a
                href="https://w3c.github.io/sensors/usecases">https://w3c.github.io/sensors/usecases</a>
        <dt id="biblio-geolocation-api">[GEOLOCATION-API]
        <dd>Andrei Popescu. <a href="https://w3c.github.io/geolocation-api/"><cite>地理定位 API 规范 第二版</cite></a>. URL: <a
                href="https://w3c.github.io/geolocation-api/">https://w3c.github.io/geolocation-api/</a>
        <dt id="biblio-gyrospeechrecognition">[GYROSPEECHRECOGNITION]
        <dd>Michalevsky, Y., Boneh, D. 和 Nakibly, G.. <a
                href="https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf"><cite>Gyrophone:
                    利用陀螺仪信号识别语音</cite></a>. 2014. 信息性. URL: <a
                href="https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf">https://www.usenix.org/system/files/conference/usenixsecurity14/sec14-paper-michalevsky.pdf</a>
        <dt id="biblio-mobilesensors">[MOBILESENSORS]
        <dd>Manish J. Gajjar. <cite>移动传感器与上下文感知计算</cite>. 2017. 信息性.
        <dt id="biblio-motion-sensors">[MOTION-SENSORS]
        <dd>Kenneth Christiansen; Alexander Shalamov. <a
                href="https://w3c.github.io/motion-sensors/"><cite>运动传感器解说</cite></a>. URL: <a
                href="https://w3c.github.io/motion-sensors/">https://w3c.github.io/motion-sensors/</a>
        <dt id="biblio-orientation-event">[ORIENTATION-EVENT]
        <dd>Reilly Grant; Raphael Kubo da Costa. <a
                href="https://w3c.github.io/deviceorientation/"><cite>DeviceOrientation 事件规范</cite></a>.
            URL: <a href="https://w3c.github.io/deviceorientation/">https://w3c.github.io/deviceorientation/</a>
        <dt id="biblio-powerful-features">[POWERFUL-FEATURES]
        <dd>Mike West. <a href="https://w3c.github.io/webappsec-secure-contexts/"><cite>安全上下文</cite></a>. URL:
            <a
                href="https://w3c.github.io/webappsec-secure-contexts/">https://w3c.github.io/webappsec-secure-contexts/</a>
        <dt id="biblio-qudt">[QUDT]
        <dd>Ralph Hodgson 等. <a href="http://www.qudt.org/"><cite>QUDT - 量、单位、维度及数据类型本体</cite></a>. 2014 年 3 月 18 日.
            URL: <a href="http://www.qudt.org/">http://www.qudt.org/</a>
        <dt id="biblio-rfc6454">[RFC6454]
        <dd>A. Barth. <a href="https://www.rfc-editor.org/rfc/rfc6454"><cite>Web 源概念</cite></a>. 2011 年 12 月. 标准草案. URL:
            <a href="https://www.rfc-editor.org/rfc/rfc6454">https://www.rfc-editor.org/rfc/rfc6454</a>
        <dt id="biblio-security-privacy-questionnaire">[SECURITY-PRIVACY-QUESTIONNAIRE]
        <dd>Theresa O'Connor; Peter Snyder. <a
                href="https://w3ctag.github.io/security-questionnaire/"><cite>安全与隐私自查问卷</cite></a>. URL: <a
                href="https://w3ctag.github.io/security-questionnaire/">https://w3ctag.github.io/security-questionnaire/</a>
        <dt id="biblio-si">[SI]
        <dd><a href="http://www.bipm.org/en/publications/si-brochure/"><cite>国际单位制 SI 手册，第八版</cite></a>. 2014. URL: <a
                href="http://www.bipm.org/en/publications/si-brochure/">http://www.bipm.org/en/publications/si-brochure/</a>
        <dt id="biblio-stealingpinsviasensors">[STEALINGPINSVIASENSORS]
        <dd>Maryam Mehrnezhad, Ehsan Toreini, Siamak F. Shahandashti, Feng Hao. <a
                href="https://rd.springer.com/article/10.1007/s10207-017-0369-x?wt_mc=Internal.Event.1.SEM.ArticleAuthorOnlineFirst"><cite>通过移动传感器窃取
                    PIN：实际风险与用户感知</cite></a>. 2017. 信息性. URL: <a
                href="https://rd.springer.com/article/10.1007/s10207-017-0369-x?wt_mc=Internal.Event.1.SEM.ArticleAuthorOnlineFirst">https://rd.springer.com/article/10.1007/s10207-017-0369-x?wt_mc=Internal.Event.1.SEM.ArticleAuthorOnlineFirst</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
            href="#idl-index"></a></h2>
    <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <a href="#sensor"><code><c- g>Sensor</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-readonly data-type="boolean" href="#dom-sensor-activated"><code><c- g>activated</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-readonly data-type="boolean" href="#dom-sensor-hasreading"><code><c- g>hasReading</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a>? <a data-readonly data-type="DOMHighResTimeStamp?" href="#dom-sensor-timestamp"><code><c- g>timestamp</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a href="#dom-sensor-start"><code><c- g>start</c-></code></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a href="#dom-sensor-stop"><code><c- g>stop</c-></code></a>();
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-sensor-onreading"><code><c- g>onreading</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-sensor-onactivate"><code><c- g>onactivate</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-sensor-onerror"><code><c- g>onerror</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-sensoroptions"><code><c- g>SensorOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-sensoroptions-frequency"><code><c- g>frequency</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>DedicatedWorker</c->, <c- n>Window</c->)]
<c- b>interface</c-> <a href="#sensorerrorevent"><code><c- g>SensorErrorEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-sensorerrorevent-sensorerrorevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-sensorerroreventinit"><c- n>SensorErrorEventInit</c-></a> <a href="#dom-sensorerrorevent-sensorerrorevent-type-erroreventinitdict-erroreventinitdict"><code><c- g>errorEventInitDict</c-></code></a>);
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException"><c- n>DOMException</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMException" href="#dom-sensorerrorevent-error"><c- g>error</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-sensorerroreventinit"><code><c- g>SensorErrorEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#idl-DOMException"><c- n>DOMException</c-></a> <a data-type="DOMException " href="#dom-sensorerroreventinit-error"><code><c- g>error</c-></code></a>;
};

</pre>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-onactivate">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/activate_event"
                    title="The activate event is fired when a sensor becomes activated. It means that it will start obtaining readings.">Sensor/activate_event</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-activated">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/activated"
                    title="The activated read-only property of the Sensor interface returns a boolean value indicating whether the sensor is active.">Sensor/activated</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-onerror">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/error_event"
                    title="The error event is fired when an exception occurs on a sensor.">Sensor/error_event</a></p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-has-reading">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/hasReading"
                    title="The hasReading read-only property of the Sensor interface returns a boolean value indicating whether the sensor has a reading.">Sensor/hasReading</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-onreading">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/reading_event"
                    title="The reading event is fired when a new reading is available on a sensor.">Sensor/reading_event</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-start">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/start"
                    title="The start method activates one of the sensors based on Sensor.">Sensor/start</a></p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-stop">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/stop"
                    title="The stop method of the Sensor interface deactivates the current sensor.">Sensor/stop</a></p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="sensor-timestamp">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor/timestamp"
                    title="The timestamp read-only property of the Sensor interface returns the timestamp of the latest sensor reading.">Sensor/timestamp</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="the-sensor-interface">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Sensor"
                    title="The Sensor interface of the Sensor APIs is the base class for all the other sensor interfaces. This interface cannot be used directly. Instead it provides properties, event handlers, and methods accessed by interfaces that inherit from it.">Sensor</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-sensorerrorevent-sensorerrorevent">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/SensorErrorEvent/SensorErrorEvent"
                    title="The SensorErrorEvent constructor creates a new SensorErrorEvent object which provides information about errors thrown by any of the interfaces based on Sensor.">SensorErrorEvent/SensorErrorEvent</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-sensorerrorevent-error">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/SensorErrorEvent/error"
                    title="The error read-only property of the SensorErrorEvent interface returns the DOMException object passed in the event&apos;s constructor.">SensorErrorEvent/error</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="the-sensor-error-event-interface">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/SensorErrorEvent"
                    title="The SensorErrorEvent interface of the Sensor APIs provides information about errors thrown by a Sensor or derived interface.">SensorErrorEvent</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>67+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>79+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="permissions-policy">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/accelerometer"
                    title="The HTTP Permissions-Policy header accelerometer directive controls whether the current document is allowed to gather information about the acceleration of the device through the Accelerometer interface.">Headers/Permissions-Policy/accelerometer</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>88+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>88+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/ambient-light-sensor"
                    title="The HTTP Permissions-Policy header ambient-light-sensor directive controls whether the current document is allowed to gather information about the amount of light in the environment around the device through the AmbientLightSensor interface.">Headers/Permissions-Policy/ambient-light-sensor</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>88+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>88+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/gyroscope"
                    title="The HTTP Permissions-Policy header gyroscope directive controls whether the current document is allowed to gather information about the orientation of the device through the Gyroscope interface.">Headers/Permissions-Policy/gyroscope</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>88+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>88+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy/magnetometer"
                    title="The HTTP Permissions-Policy header magnetometer directive controls whether the current document is allowed to gather information about the orientation of the device through the Magnetometer interface.">Headers/Permissions-Policy/magnetometer</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>88+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>88+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>None</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            const dfnsJson = window.dfnsJson || {};

            function genDfnPanel({ dfnID, url, dfnText, refSections, external }) {
                return mk.aside({
                    class: "dfn-panel",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url }, url),
                    mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({
                                            href: `#${ref.id}`
                                        },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                );
            }

            function genAllDfnPanels() {
                for (const panelData of Object.values(window.dfnpanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                    } else {
                        const panel = genDfnPanel(panelData);
                        append(document.body, panel);
                        insertDfnPopupAction(dfn, panel)
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                // Add popup behavior to all dfns to show the corresponding dfn-panel.
                var dfns = queryAll('.dfn-paneled');
                for (let dfn of dfns) { ; }

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            })


            function hideAllDfnPanels() {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => hideDfnPanel(el));
            }

            function showDfnPanel(dfnPanel, dfn) {
                hideAllDfnPanels(); // Only display one at this time.
                dfn.setAttribute("aria-expanded", "true");
                dfnPanel.classList.add("on");
                dfnPanel.style.left = "5px";
                dfnPanel.style.top = "0px";
                const panelRect = dfnPanel.getBoundingClientRect();
                const panelWidth = panelRect.right - panelRect.left;
                if (panelRect.right > document.body.scrollWidth) {
                    // Panel's overflowing the screen.
                    // Just drop it below the dfn and flip it rightward instead.
                    // This still wont' fix things if the screen is *really* wide,
                    // but fixing that's a lot harder without 'anchor()'.
                    dfnPanel.style.top = "1.5em";
                    dfnPanel.style.left = "auto";
                    dfnPanel.style.right = "0px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel(dfnPanel, dfn) {
                if (!dfn) {
                    dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
                }
                dfn.setAttribute("aria-expanded", "false")
                dfnPanel.classList.remove("on");
                dfnPanel.classList.remove("activated");
            }

            function toggleDfnPanel(dfnPanel, dfn) {
                if (dfnPanel.classList.contains("on")) {
                    hideDfnPanel(dfnPanel, dfn);
                } else {
                    showDfnPanel(dfnPanel, dfn);
                }
            }

            function insertDfnPopupAction(dfn, dfnPanel) {
                // Find dfn panel
                const panelWrapper = document.createElement('span');
                panelWrapper.appendChild(dfnPanel);
                panelWrapper.style.position = "relative";
                panelWrapper.style.height = "0px";
                dfn.insertAdjacentElement("afterend", panelWrapper);
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    showDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                });

                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                })
            }
        }
    </script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            const dfnsJson = window.dfnsJson || {};

            function genDfnPanel({ dfnID, url, dfnText, refSections, external }) {
                return mk.aside({
                    class: "dfn-panel",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url }, url),
                    mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({
                                            href: `#${ref.id}`
                                        },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                );
            }

            function genAllDfnPanels() {
                for (const panelData of Object.values(window.dfnpanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                    } else {
                        const panel = genDfnPanel(panelData);
                        append(document.body, panel);
                        insertDfnPopupAction(dfn, panel)
                    }
                }
            }

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                // Add popup behavior to all dfns to show the corresponding dfn-panel.
                var dfns = queryAll('.dfn-paneled');
                for (let dfn of dfns) { ; }

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            })


            function hideAllDfnPanels() {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => hideDfnPanel(el));
            }

            function showDfnPanel(dfnPanel, dfn) {
                hideAllDfnPanels(); // Only display one at this time.
                dfn.setAttribute("aria-expanded", "true");
                dfnPanel.classList.add("on");
                dfnPanel.style.left = "5px";
                dfnPanel.style.top = "0px";
                const panelRect = dfnPanel.getBoundingClientRect();
                const panelWidth = panelRect.right - panelRect.left;
                if (panelRect.right > document.body.scrollWidth) {
                    // Panel's overflowing the screen.
                    // Just drop it below the dfn and flip it rightward instead.
                    // This still wont' fix things if the screen is *really* wide,
                    // but fixing that's a lot harder without 'anchor()'.
                    dfnPanel.style.top = "1.5em";
                    dfnPanel.style.left = "auto";
                    dfnPanel.style.right = "0px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel(dfnPanel, dfn) {
                if (!dfn) {
                    dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
                }
                dfn.setAttribute("aria-expanded", "false")
                dfnPanel.classList.remove("on");
                dfnPanel.classList.remove("activated");
            }

            function toggleDfnPanel(dfnPanel, dfn) {
                if (dfnPanel.classList.contains("on")) {
                    hideDfnPanel(dfnPanel, dfn);
                } else {
                    showDfnPanel(dfnPanel, dfn);
                }
            }

            function insertDfnPopupAction(dfn, dfnPanel) {
                // Find dfn panel
                const panelWrapper = document.createElement('span');
                panelWrapper.appendChild(dfnPanel);
                panelWrapper.style.position = "relative";
                panelWrapper.style.height = "0px";
                dfn.insertAdjacentElement("afterend", panelWrapper);
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    showDfnPanel(dfnPanel, dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                });

                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel(dfnPanel, dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                })
            }
        }
    </script>
    <script>/* Boilerplate: script-dfn-panel-json */
        window.dfnpanelData = {};
        window.dfnpanelData['85394472'] = { "dfnID": "85394472", "url": "https://dom.spec.whatwg.org/#document", "dfnText": "Document", "refSections": [{ "refs": [{ "id": "ref-for-document" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-document\u2460" }], "title": "8.15. Focus and origin check" }], "external": true };
        window.dfnpanelData['129bdae8'] = { "dfnID": "129bdae8", "url": "https://dom.spec.whatwg.org/#event", "dfnText": "Event", "refSections": [{ "refs": [{ "id": "ref-for-event" }, { "id": "ref-for-event\u2460" }], "title": "7.2. The SensorErrorEvent Interface" }], "external": true };
        window.dfnpanelData['44a7708c'] = { "dfnID": "44a7708c", "url": "https://dom.spec.whatwg.org/#dictdef-eventinit", "dfnText": "EventInit", "refSections": [{ "refs": [{ "id": "ref-for-dictdef-eventinit" }], "title": "7.2. The SensorErrorEvent Interface" }], "external": true };
        window.dfnpanelData['2bc0cdf4'] = { "dfnID": "2bc0cdf4", "url": "https://dom.spec.whatwg.org/#eventtarget", "dfnText": "EventTarget", "refSections": [{ "refs": [{ "id": "ref-for-eventtarget" }], "title": "7.1. The Sensor Interface" }], "external": true };
        window.dfnpanelData['6d74ac8d'] = { "dfnID": "6d74ac8d", "url": "https://dom.spec.whatwg.org/#concept-event-constructor", "dfnText": "constructor", "refSections": [{ "refs": [{ "id": "ref-for-concept-event-constructor" }], "title": "7.2. The SensorErrorEvent Interface" }], "external": true };
        window.dfnpanelData['a973e0fe'] = { "dfnID": "a973e0fe", "url": "https://dom.spec.whatwg.org/#concept-document", "dfnText": "document", "refSections": [{ "refs": [{ "id": "ref-for-concept-document" }], "title": "4.2.2. Permissions Policy" }], "external": true };
        window.dfnpanelData['26b82890'] = { "dfnID": "26b82890", "url": "https://dom.spec.whatwg.org/#concept-event", "dfnText": "event", "refSections": [{ "refs": [{ "id": "ref-for-concept-event" }], "title": "7.1. The Sensor Interface" }], "external": true };
        window.dfnpanelData['06950d36'] = { "dfnID": "06950d36", "url": "https://dom.spec.whatwg.org/#concept-event-listener", "dfnText": "event listener", "refSections": [{ "refs": [{ "id": "ref-for-concept-event-listener" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-concept-event-listener\u2460" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }], "external": true };
        window.dfnpanelData['5fd23811'] = { "dfnID": "5fd23811", "url": "https://dom.spec.whatwg.org/#concept-event-fire", "dfnText": "fire an event", "refSections": [{ "refs": [{ "id": "ref-for-concept-event-fire" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2460" }], "title": "8.10. Notify new reading" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2461" }], "title": "8.11. Notify activated state" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2462" }], "title": "8.12. Notify error" }], "external": true };
        window.dfnpanelData['5216e1a0'] = { "dfnID": "5216e1a0", "url": "https://dom.spec.whatwg.org/#concept-node-document", "dfnText": "node document", "refSections": [{ "refs": [{ "id": "ref-for-concept-node-document" }], "title": "8.15. Focus and origin check" }], "external": true };
        window.dfnpanelData['54ca6d3b'] = { "dfnID": "54ca6d3b", "url": "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-boolean-objects", "dfnText": "Boolean", "refSections": [{ "refs": [{ "id": "ref-for-sec-boolean-objects" }], "title": "9.2.1. Create virtual sensor" }], "external": true };
        window.dfnpanelData['5f9c7266'] = { "dfnID": "5f9c7266", "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-number-objects", "dfnText": "Number", "refSections": [{ "refs": [{ "id": "ref-for-sec-number-objects" }, { "id": "ref-for-sec-number-objects\u2460" }, { "id": "ref-for-sec-number-objects\u2461" }, { "id": "ref-for-sec-number-objects\u2462" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-sec-number-objects\u2463" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-sec-number-objects\u2464" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-sec-number-objects\u2465" }, { "id": "ref-for-sec-number-objects\u2466" }, { "id": "ref-for-sec-number-objects\u2467" }], "title": "9.2.3.1.2. Parse XYZ reading" }], "external": true };
        window.dfnpanelData['a6e67972'] = { "dfnID": "a6e67972", "url": "https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object-objects", "dfnText": "Object", "refSections": [{ "refs": [{ "id": "ref-for-sec-object-objects" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-sec-object-objects\u2460" }, { "id": "ref-for-sec-object-objects\u2461" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-sec-object-objects\u2462" }, { "id": "ref-for-sec-object-objects\u2463" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-sec-object-objects\u2464" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-sec-object-objects\u2465" }], "title": "9.2.3.1.2. Parse XYZ reading" }, { "refs": [{ "id": "ref-for-sec-object-objects\u2466" }], "title": "10.7. Automation" }], "external": true };
        window.dfnpanelData['9032aa9e'] = { "dfnID": "9032aa9e", "url": "https://tc39.es/ecma262/multipage/text-processing.html#sec-string-objects", "dfnText": "String", "refSections": [{ "refs": [{ "id": "ref-for-sec-string-objects" }, { "id": "ref-for-sec-string-objects\u2460" }], "title": "9.2.1. Create virtual sensor" }], "external": true };
        window.dfnpanelData['b107f911'] = { "dfnID": "b107f911", "url": "https://tc39.github.io/ecma262/#current-realm", "dfnText": "current realm", "refSections": [{ "refs": [{ "id": "ref-for-current-realm" }], "title": "8.6. Generic Sensor permission revocation algorithm" }], "external": true };
        window.dfnpanelData['0e9f636b'] = { "dfnID": "0e9f636b", "url": "https://w3c.github.io/hr-time/#dom-domhighrestimestamp", "dfnText": "DOMHighResTimeStamp", "refSections": [{ "refs": [{ "id": "ref-for-dom-domhighrestimestamp" }], "title": "7.1. The Sensor Interface" }], "external": true };
        window.dfnpanelData['1d8f7431'] = { "dfnID": "1d8f7431", "url": "https://w3c.github.io/hr-time/#dfn-moment", "dfnText": "coarsened moments", "refSections": [{ "refs": [{ "id": "ref-for-dfn-moment" }], "title": "8.8. Update latest reading" }], "external": true };
        window.dfnpanelData['28716de1'] = { "dfnID": "28716de1", "url": "https://w3c.github.io/hr-time/#dfn-monotonic-clock", "dfnText": "monotonic clock", "refSections": [{ "refs": [{ "id": "ref-for-dfn-monotonic-clock" }, { "id": "ref-for-dfn-monotonic-clock\u2460" }], "title": "8.8. Update latest reading" }], "external": true };
        window.dfnpanelData['69ea869d'] = { "dfnID": "69ea869d", "url": "https://w3c.github.io/hr-time/#dfn-relative-high-resolution-time", "dfnText": "relative high resolution time", "refSections": [{ "refs": [{ "id": "ref-for-dfn-relative-high-resolution-time" }], "title": "7.1.6. Sensor.timestamp" }], "external": true };
        window.dfnpanelData['479aeb1d'] = { "dfnID": "479aeb1d", "url": "https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time", "dfnText": "unsafe current time", "refSections": [{ "refs": [{ "id": "ref-for-monotonic-clock-unsafe-current-time" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-monotonic-clock-unsafe-current-time\u2460" }, { "id": "ref-for-monotonic-clock-unsafe-current-time\u2461" }], "title": "8.8. Update latest reading" }], "external": true };
        window.dfnpanelData['9a31d086'] = { "dfnID": "9a31d086", "url": "https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time", "dfnText": "unsafe shared current time", "refSections": [{ "refs": [{ "id": "ref-for-dfn-unsafe-shared-current-time" }], "title": "8.8. Update latest reading" }], "external": true };
        window.dfnpanelData['f0951476'] = { "dfnID": "f0951476", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler", "dfnText": "EventHandler", "refSections": [{ "refs": [{ "id": "ref-for-eventhandler" }, { "id": "ref-for-eventhandler\u2460" }, { "id": "ref-for-eventhandler\u2461" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-eventhandler\u2462" }], "title": "7.1.9. Sensor.onreading" }, { "refs": [{ "id": "ref-for-eventhandler\u2463" }], "title": "7.1.10. Sensor.onactivate" }, { "refs": [{ "id": "ref-for-eventhandler\u2464" }], "title": "7.1.11. Sensor.onerror" }], "external": true };
        window.dfnpanelData['35972864'] = { "dfnID": "35972864", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document", "dfnText": "active document", "refSections": [{ "refs": [{ "id": "ref-for-nav-document" }], "title": "4.2.3. Focused Area" }, { "refs": [{ "id": "ref-for-nav-document\u2460" }], "title": "4.2.4. Visibility State" }, { "refs": [{ "id": "ref-for-nav-document\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-nav-document\u2462" }], "title": "8.2. Check sensor policy-controlled features" }], "external": true };
        window.dfnpanelData['57435598'] = { "dfnID": "57435598", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow", "dfnText": "allow", "refSections": [{ "refs": [{ "id": "ref-for-attr-iframe-allow" }], "title": "10.9. Extending the Permissions Policy API" }], "external": true };
        window.dfnpanelData['3610bd67'] = { "dfnID": "3610bd67", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use", "dfnText": "allowed to use", "refSections": [{ "refs": [{ "id": "ref-for-allowed-to-use" }], "title": "4.2.2. Permissions Policy" }, { "refs": [{ "id": "ref-for-allowed-to-use\u2460" }, { "id": "ref-for-allowed-to-use\u2461" }], "title": "8.2. Check sensor policy-controlled features" }], "external": true };
        window.dfnpanelData['0d0390b4'] = { "dfnID": "0d0390b4", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context", "dfnText": "browsing context", "refSections": [{ "refs": [{ "id": "ref-for-browsing-context" }, { "id": "ref-for-browsing-context\u2460" }, { "id": "ref-for-browsing-context\u2461" }, { "id": "ref-for-browsing-context\u2462" }], "title": "6.2. Sensor" }], "external": true };
        window.dfnpanelData['e61f04d5'] = { "dfnID": "e61f04d5", "url": "https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable", "dfnText": "currently focused area", "refSections": [{ "refs": [{ "id": "ref-for-currently-focused-area-of-a-top-level-traversable" }], "title": "8.15. Focus and origin check" }], "external": true };
        window.dfnpanelData['06834943'] = { "dfnID": "06834943", "url": "https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor", "dfnText": "dom anchor", "refSections": [{ "refs": [{ "id": "ref-for-dom-anchor" }], "title": "8.15. Focus and origin check" }], "external": true };
        window.dfnpanelData['6a5a59a0'] = { "dfnID": "6a5a59a0", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers", "dfnText": "event handler", "refSections": [{ "refs": [{ "id": "ref-for-event-handlers" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-event-handlers\u2460" }], "title": "7.1.12. Event handlers" }], "external": true };
        window.dfnpanelData['9d386f55'] = { "dfnID": "9d386f55", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type", "dfnText": "event handler event type", "refSections": [{ "refs": [{ "id": "ref-for-event-handler-event-type" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-event-handler-event-type\u2460" }], "title": "7.1.12. Event handlers" }], "external": true };
        window.dfnpanelData['faf75970'] = { "dfnID": "faf75970", "url": "https://html.spec.whatwg.org/multipage/interaction.html#gains-focus", "dfnText": "gains focus", "refSections": [{ "refs": [{ "id": "ref-for-gains-focus" }], "title": "4.2.3. Focused Area" }], "external": true };
        window.dfnpanelData['4b6086d7'] = { "dfnID": "4b6086d7", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#global-object", "dfnText": "global object", "refSections": [{ "refs": [{ "id": "ref-for-global-object" }], "title": "8.3. Connect to sensor" }], "external": true };
        window.dfnpanelData['a72449dd'] = { "dfnID": "a72449dd", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel", "dfnText": "in parallel", "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-in-parallel\u2460" }], "title": "7.1.8. Sensor.stop()" }, { "refs": [{ "id": "ref-for-in-parallel\u2461" }], "title": "8.8. Update latest reading" }], "external": true };
        window.dfnpanelData['9c19b7fc'] = { "dfnID": "9c19b7fc", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#navigable", "dfnText": "navigable", "refSections": [{ "refs": [{ "id": "ref-for-navigable" }], "title": "4.2.3. Focused Area" }, { "refs": [{ "id": "ref-for-navigable\u2460" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-navigable\u2461" }, { "id": "ref-for-navigable\u2462" }, { "id": "ref-for-navigable\u2463" }], "title": "9.1. Virtual Sensors" }], "external": true };
        window.dfnpanelData['228be966'] = { "dfnID": "228be966", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable", "dfnText": "navigable (for Window)", "refSections": [{ "refs": [{ "id": "ref-for-window-navigable" }], "title": "8.3. Connect to sensor" }], "external": true };
        window.dfnpanelData['13dd6cae'] = { "dfnID": "13dd6cae", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable", "dfnText": "node navigable", "refSections": [{ "refs": [{ "id": "ref-for-node-navigable" }], "title": "8.15. Focus and origin check" }], "external": true };
        window.dfnpanelData['43ac8374'] = { "dfnID": "43ac8374", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin", "dfnText": "origin", "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-origin" }, { "id": "ref-for-concept-settings-object-origin\u2460" }], "title": "8.15. Focus and origin check" }], "external": true };
        window.dfnpanelData['e99bd18e'] = { "dfnID": "e99bd18e", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global", "dfnText": "relevant global object", "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "7.1.6. Sensor.timestamp" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "7.1.7. Sensor.start()" }], "external": true };
        window.dfnpanelData['9c4c1e66'] = { "dfnID": "9c4c1e66", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object", "dfnText": "relevant settings object", "refSections": [{ "refs": [{ "id": "ref-for-relevant-settings-object" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460" }, { "id": "ref-for-relevant-settings-object\u2461" }], "title": "8.15. Focus and origin check" }], "external": true };
        window.dfnpanelData['521818b9'] = { "dfnID": "521818b9", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin-domain", "dfnText": "same origin-domain", "refSections": [{ "refs": [{ "id": "ref-for-same-origin-domain" }], "title": "8.15. Focus and origin check" }], "external": true };
        window.dfnpanelData['65181da8'] = { "dfnID": "65181da8", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context", "dfnText": "secure context", "refSections": [{ "refs": [{ "id": "ref-for-secure-context" }], "title": "4.2.1. Secure Context" }, { "refs": [{ "id": "ref-for-secure-context\u2460" }], "title": "5.5. Conditions to expose sensor readings" }], "external": true };
        window.dfnpanelData['0371e87a'] = { "dfnID": "0371e87a", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#spin-the-event-loop", "dfnText": "spin the event loop", "refSections": [{ "refs": [{ "id": "ref-for-spin-the-event-loop" }], "title": "8.9. Report latest reading updated" }], "external": true };
        window.dfnpanelData['e270bd2a'] = { "dfnID": "e270bd2a", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-task", "dfnText": "task", "refSections": [{ "refs": [{ "id": "ref-for-concept-task" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-concept-task\u2460" }], "title": "8.5. Deactivate a sensor object" }], "external": true };
        window.dfnpanelData['2df777b6'] = { "dfnID": "2df777b6", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-queue", "dfnText": "task queue", "refSections": [{ "refs": [{ "id": "ref-for-task-queue" }], "title": "8.5. Deactivate a sensor object" }], "external": true };
        window.dfnpanelData['c3b2d08c'] = { "dfnID": "c3b2d08c", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-source", "dfnText": "task source", "refSections": [{ "refs": [{ "id": "ref-for-task-source" }], "title": "7.1. The Sensor Interface" }], "external": true };
        window.dfnpanelData['e9c58cef'] = { "dfnID": "e9c58cef", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin", "dfnText": "time origin", "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-time-origin" }], "title": "7.1.3. Sensor internal slots" }, { "refs": [{ "id": "ref-for-concept-settings-object-time-origin\u2460" }, { "id": "ref-for-concept-settings-object-time-origin\u2461" }], "title": "8.8. Update latest reading" }], "external": true };
        window.dfnpanelData['bd736ec6'] = { "dfnID": "bd736ec6", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversable", "dfnText": "top-level traversable", "refSections": [{ "refs": [{ "id": "ref-for-top-level-traversable" }, { "id": "ref-for-top-level-traversable\u2460" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-top-level-traversable\u2461" }], "title": "9.2.1. Create virtual sensor" }], "external": true };
        window.dfnpanelData['0ff9b6b9'] = { "dfnID": "0ff9b6b9", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#bc-traversable", "dfnText": "top-level traversable (for browsing context)", "refSections": [{ "refs": [{ "id": "ref-for-bc-traversable" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-bc-traversable\u2460" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-bc-traversable\u2461" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-bc-traversable\u2462" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['30717154'] = { "dfnID": "30717154", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-top", "dfnText": "top-level traversable (for navigable)", "refSections": [{ "refs": [{ "id": "ref-for-nav-top" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-nav-top\u2460" }], "title": "8.15. Focus and origin check" }, { "refs": [{ "id": "ref-for-nav-top\u2461" }], "title": "9.1. Virtual Sensors" }], "external": true };
        window.dfnpanelData['b4c365f8'] = { "dfnID": "b4c365f8", "url": "https://html.spec.whatwg.org/multipage/interaction.html#visibility-state", "dfnText": "visibility state", "refSections": [{ "refs": [{ "id": "ref-for-visibility-state" }], "title": "4.2.4. Visibility State" }, { "refs": [{ "id": "ref-for-visibility-state\u2460" }], "title": "5.5. Conditions to expose sensor readings" }], "external": true };
        window.dfnpanelData['a3b18719'] = { "dfnID": "a3b18719", "url": "https://infra.spec.whatwg.org/#set-append", "dfnText": "append", "refSections": [{ "refs": [{ "id": "ref-for-set-append" }], "title": "8.4. Activate a sensor object" }], "external": true };
        window.dfnpanelData['77b4c09a'] = { "dfnID": "77b4c09a", "url": "https://infra.spec.whatwg.org/#assert", "dfnText": "assert", "refSections": [{ "refs": [{ "id": "ref-for-assert" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-assert\u2460" }, { "id": "ref-for-assert\u2461" }], "title": "8.9. Report latest reading updated" }], "external": true };
        window.dfnpanelData['36858240'] = { "dfnID": "36858240", "url": "https://infra.spec.whatwg.org/#boolean", "dfnText": "boolean", "refSections": [{ "refs": [{ "id": "ref-for-boolean" }], "title": "9.1. Virtual Sensors" }], "external": true };
        window.dfnpanelData['ae8def21'] = { "dfnID": "ae8def21", "url": "https://infra.spec.whatwg.org/#list-contain", "dfnText": "contain (for list)", "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-list-contain\u2460" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-list-contain\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-list-contain\u2462" }], "title": "10.6. Definition Requirements" }], "external": true };
        window.dfnpanelData['a326add7'] = { "dfnID": "a326add7", "url": "https://infra.spec.whatwg.org/#map-exists", "dfnText": "contain (for map)", "refSections": [{ "refs": [{ "id": "ref-for-map-exists" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-map-exists\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-map-exists\u2461" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-map-exists\u2462" }, { "id": "ref-for-map-exists\u2463" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-map-exists\u2464" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-map-exists\u2465" }, { "id": "ref-for-map-exists\u2466" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-map-exists\u2467" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['f937b7b6'] = { "dfnID": "f937b7b6", "url": "https://infra.spec.whatwg.org/#iteration-continue", "dfnText": "continue", "refSections": [{ "refs": [{ "id": "ref-for-iteration-continue" }], "title": "8.6. Generic Sensor permission revocation algorithm" }], "external": true };
        window.dfnpanelData['8958b003'] = { "dfnID": "8958b003", "url": "https://infra.spec.whatwg.org/#map-entry", "dfnText": "entry", "refSections": [{ "refs": [{ "id": "ref-for-map-entry" }, { "id": "ref-for-map-entry\u2460" }, { "id": "ref-for-map-entry\u2461" }, { "id": "ref-for-map-entry\u2462" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-map-entry\u2463" }], "title": "10.7. Automation" }], "external": true };
        window.dfnpanelData['1243a891'] = { "dfnID": "1243a891", "url": "https://infra.spec.whatwg.org/#map-exists", "dfnText": "exist", "refSections": [{ "refs": [{ "id": "ref-for-map-exists" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-map-exists\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-map-exists\u2461" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-map-exists\u2462" }, { "id": "ref-for-map-exists\u2463" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-map-exists\u2464" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-map-exists\u2465" }, { "id": "ref-for-map-exists\u2466" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-map-exists\u2467" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['16d07e10'] = { "dfnID": "16d07e10", "url": "https://infra.spec.whatwg.org/#list-iterate", "dfnText": "for each (for list)", "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }], "title": "8.2. Check sensor policy-controlled features" }, { "refs": [{ "id": "ref-for-list-iterate\u2460" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-list-iterate\u2461" }], "title": "8.14. Request sensor access" }], "external": true };
        window.dfnpanelData['45209803'] = { "dfnID": "45209803", "url": "https://infra.spec.whatwg.org/#map-iterate", "dfnText": "for each (for map)", "refSections": [{ "refs": [{ "id": "ref-for-map-iterate" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-map-iterate\u2460" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-map-iterate\u2461" }], "title": "8.8. Update latest reading" }], "external": true };
        window.dfnpanelData['860300d4'] = { "dfnID": "860300d4", "url": "https://infra.spec.whatwg.org/#implementation-defined", "dfnText": "implementation-defined", "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }, { "id": "ref-for-implementation-defined\u2460" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-implementation-defined\u2461" }, { "id": "ref-for-implementation-defined\u2462" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-implementation-defined\u2463" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-implementation-defined\u2464" }, { "id": "ref-for-implementation-defined\u2465" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-implementation-defined\u2466" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-implementation-defined\u2467" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-implementation-defined\u2468" }, { "id": "ref-for-implementation-defined\u2460\u24ea" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-implementation-defined\u2460\u2460" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-implementation-defined\u2460\u2461" }], "title": "9.2.3. Update virtual sensor reading" }], "external": true };
        window.dfnpanelData['6b815fdd'] = { "dfnID": "6b815fdd", "url": "https://infra.spec.whatwg.org/#list-is-empty", "dfnText": "is empty", "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }, { "id": "ref-for-list-is-empty\u2460" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-list-is-empty\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-list-is-empty\u2462" }], "title": "8.7. Set sensor settings" }], "external": true };
        window.dfnpanelData['5afbefcd'] = { "dfnID": "5afbefcd", "url": "https://infra.spec.whatwg.org/#list-item", "dfnText": "item (for list)", "refSections": [{ "refs": [{ "id": "ref-for-list-item" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }], "external": true };
        window.dfnpanelData['c88f3887'] = { "dfnID": "c88f3887", "url": "https://infra.spec.whatwg.org/#struct-item", "dfnText": "item (for struct)", "refSections": [{ "refs": [{ "id": "ref-for-struct-item" }], "title": "9.1. Virtual Sensors" }], "external": true };
        window.dfnpanelData['d14a6f26'] = { "dfnID": "d14a6f26", "url": "https://infra.spec.whatwg.org/#map-key", "dfnText": "key", "refSections": [{ "refs": [{ "id": "ref-for-map-key" }], "title": "6.2. Sensor" }], "external": true };
        window.dfnpanelData['31db57e6'] = { "dfnID": "31db57e6", "url": "https://infra.spec.whatwg.org/#map-getting-the-keys", "dfnText": "keys", "refSections": [{ "refs": [{ "id": "ref-for-map-getting-the-keys" }], "title": "6.2. Sensor" }], "external": true };
        window.dfnpanelData['3fca5a9e'] = { "dfnID": "3fca5a9e", "url": "https://infra.spec.whatwg.org/#ordered-map", "dfnText": "map", "refSections": [{ "refs": [{ "id": "ref-for-ordered-map" }, { "id": "ref-for-ordered-map\u2460" }, { "id": "ref-for-ordered-map\u2461" }, { "id": "ref-for-ordered-map\u2462" }, { "id": "ref-for-ordered-map\u2463" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-ordered-map\u2464" }, { "id": "ref-for-ordered-map\u2465" }, { "id": "ref-for-ordered-map\u2466" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-ordered-map\u2467" }], "title": "10.7. Automation" }], "external": true };
        window.dfnpanelData['84b454ff'] = { "dfnID": "84b454ff", "url": "https://infra.spec.whatwg.org/#ordered-map", "dfnText": "ordered map", "refSections": [{ "refs": [{ "id": "ref-for-ordered-map" }, { "id": "ref-for-ordered-map\u2460" }, { "id": "ref-for-ordered-map\u2461" }, { "id": "ref-for-ordered-map\u2462" }, { "id": "ref-for-ordered-map\u2463" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-ordered-map\u2464" }, { "id": "ref-for-ordered-map\u2465" }, { "id": "ref-for-ordered-map\u2466" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-ordered-map\u2467" }], "title": "10.7. Automation" }], "external": true };
        window.dfnpanelData['692595fe'] = { "dfnID": "692595fe", "url": "https://infra.spec.whatwg.org/#ordered-set", "dfnText": "ordered set", "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-ordered-set\u2460" }, { "id": "ref-for-ordered-set\u2461" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-ordered-set\u2462" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-ordered-set\u2463" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-ordered-set\u2464" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-ordered-set\u2465" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-ordered-set\u2466" }], "title": "10.9. Extending the Permissions Policy API" }], "external": true };
        window.dfnpanelData['99c988d6'] = { "dfnID": "99c988d6", "url": "https://infra.spec.whatwg.org/#list-remove", "dfnText": "remove (for list)", "refSections": [{ "refs": [{ "id": "ref-for-list-remove" }], "title": "8.5. Deactivate a sensor object" }], "external": true };
        window.dfnpanelData['7d4424b2'] = { "dfnID": "7d4424b2", "url": "https://infra.spec.whatwg.org/#map-remove", "dfnText": "remove (for map)", "refSections": [{ "refs": [{ "id": "ref-for-map-remove" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['0e6b2056'] = { "dfnID": "0e6b2056", "url": "https://infra.spec.whatwg.org/#map-set", "dfnText": "set", "refSections": [{ "refs": [{ "id": "ref-for-map-set" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-map-set\u2460" }, { "id": "ref-for-map-set\u2461" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-map-set\u2462" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-map-set\u2463" }, { "id": "ref-for-map-set\u2464" }, { "id": "ref-for-map-set\u2465" }], "title": "9.2.3.1.2. Parse XYZ reading" }], "external": true };
        window.dfnpanelData['0698d556'] = { "dfnID": "0698d556", "url": "https://infra.spec.whatwg.org/#string", "dfnText": "string", "refSections": [{ "refs": [{ "id": "ref-for-string" }], "title": "9.2.3.1.1. Parse single-value number reading" }], "external": true };
        window.dfnpanelData['984221ca'] = { "dfnID": "984221ca", "url": "https://infra.spec.whatwg.org/#struct", "dfnText": "struct", "refSections": [{ "refs": [{ "id": "ref-for-struct" }, { "id": "ref-for-struct\u2460" }], "title": "9.1. Virtual Sensors" }], "external": true };
        window.dfnpanelData['0e8de730'] = { "dfnID": "0e8de730", "url": "https://infra.spec.whatwg.org/#tuple", "dfnText": "tuple", "refSections": [{ "refs": [{ "id": "ref-for-tuple" }], "title": "6.2. Sensor" }], "external": true };
        window.dfnpanelData['802b0fdd'] = { "dfnID": "802b0fdd", "url": "https://infra.spec.whatwg.org/#map-value", "dfnText": "value", "refSections": [{ "refs": [{ "id": "ref-for-map-value" }, { "id": "ref-for-map-value\u2460" }], "title": "6.2. Sensor" }], "external": true };
        window.dfnpanelData['ebb01253'] = { "dfnID": "ebb01253", "url": "https://w3c.github.io/permissions/#dom-permissiondescriptor", "dfnText": "PermissionDescriptor", "refSections": [{ "refs": [{ "id": "ref-for-dom-permissiondescriptor" }, { "id": "ref-for-dom-permissiondescriptor\u2460" }], "title": "10.8. Extending the Permission API" }], "external": true };
        window.dfnpanelData['e740d7e5'] = { "dfnID": "e740d7e5", "url": "https://w3c.github.io/permissions/#dfn-name", "dfnText": "name", "refSections": [{ "refs": [{ "id": "ref-for-dfn-name" }, { "id": "ref-for-dfn-name\u2460" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-dfn-name\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-dfn-name\u2462" }, { "id": "ref-for-dfn-name\u2463" }], "title": "10.8. Extending the Permission API" }], "external": true };
        window.dfnpanelData['409a61ca'] = { "dfnID": "409a61ca", "url": "https://w3c.github.io/permissions/#dfn-permission-revocation-algorithm", "dfnText": "permission revocation algorithm", "refSections": [{ "refs": [{ "id": "ref-for-dfn-permission-revocation-algorithm" }], "title": "6.1. Sensor Type" }], "external": true };
        window.dfnpanelData['d124397f'] = { "dfnID": "d124397f", "url": "https://w3c.github.io/permissions/#dfn-permission-state", "dfnText": "permission state", "refSections": [{ "refs": [{ "id": "ref-for-dfn-permission-state" }], "title": "8.14. Request sensor access" }], "external": true };
        window.dfnpanelData['bcc085e3'] = { "dfnID": "bcc085e3", "url": "https://w3c.github.io/permissions/#dfn-request-permission-to-use", "dfnText": "request permission to use", "refSections": [{ "refs": [{ "id": "ref-for-dfn-request-permission-to-use" }], "title": "8.14. Request sensor access" }, { "refs": [{ "id": "ref-for-dfn-request-permission-to-use\u2460" }, { "id": "ref-for-dfn-request-permission-to-use\u2461" }, { "id": "ref-for-dfn-request-permission-to-use\u2462" }], "title": "10.8. Extending the Permission API" }], "external": true };
        window.dfnpanelData['1570624a'] = { "dfnID": "1570624a", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist", "dfnText": "default allowlist", "refSections": [{ "refs": [{ "id": "ref-for-policy-controlled-feature-default-allowlist" }, { "id": "ref-for-policy-controlled-feature-default-allowlist\u2460" }], "title": "10.9. Extending the Permissions Policy API" }], "external": true };
        window.dfnpanelData['cc890cc1'] = { "dfnID": "cc890cc1", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature", "dfnText": "policy-controlled feature", "refSections": [{ "refs": [{ "id": "ref-for-policy-controlled-feature" }], "title": "4.2.2. Permissions Policy" }, { "refs": [{ "id": "ref-for-policy-controlled-feature\u2460" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-policy-controlled-feature\u2461" }], "title": "8.2. Check sensor policy-controlled features" }, { "refs": [{ "id": "ref-for-policy-controlled-feature\u2462" }, { "id": "ref-for-policy-controlled-feature\u2463" }, { "id": "ref-for-policy-controlled-feature\u2464" }, { "id": "ref-for-policy-controlled-feature\u2465" }, { "id": "ref-for-policy-controlled-feature\u2466" }], "title": "10.9. Extending the Permissions Policy API" }], "external": true };
        window.dfnpanelData['35725f70'] = { "dfnID": "35725f70", "url": "https://wicg.github.io/permissions-request/#permission-request-algorithm", "dfnText": "permission request algorithm", "refSections": [{ "refs": [{ "id": "ref-for-permission-request-algorithm" }], "title": "Unnumbered Section" }], "external": true };
        window.dfnpanelData['eeb0e150'] = { "dfnID": "eeb0e150", "url": "https://w3ctag.github.io/security-questionnaire/#sop-violations", "dfnText": "same-origin policy violations", "refSections": [{ "refs": [{ "id": "ref-for-sop-violations" }], "title": "10.1. Security and Privacy" }], "external": true };
        window.dfnpanelData['024a1df2'] = { "dfnID": "024a1df2", "url": "https://w3c.github.io/webdriver/#dfn-current-browsing-context", "dfnText": "current browsing context", "refSections": [{ "refs": [{ "id": "ref-for-dfn-current-browsing-context" }, { "id": "ref-for-dfn-current-browsing-context\u2460" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-current-browsing-context\u2461" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-current-browsing-context\u2462" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-current-browsing-context\u2463" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['bb4c269e'] = { "dfnID": "bb4c269e", "url": "https://w3c.github.io/webdriver/#dfn-error", "dfnText": "error", "refSections": [{ "refs": [{ "id": "ref-for-dfn-error" }, { "id": "ref-for-dfn-error\u2460" }, { "id": "ref-for-dfn-error\u2461" }, { "id": "ref-for-dfn-error\u2462" }, { "id": "ref-for-dfn-error\u2463" }, { "id": "ref-for-dfn-error\u2464" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-error\u2465" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-error\u2466" }, { "id": "ref-for-dfn-error\u2467" }, { "id": "ref-for-dfn-error\u2468" }, { "id": "ref-for-dfn-error\u2460\u24ea" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-error\u2460\u2460" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['040c67fa'] = { "dfnID": "040c67fa", "url": "https://w3c.github.io/webdriver/#dfn-extension-command-uri-template", "dfnText": "extension command uri template", "refSections": [{ "refs": [{ "id": "ref-for-dfn-extension-command-uri-template" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-extension-command-uri-template\u2460" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-extension-command-uri-template\u2461" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-extension-command-uri-template\u2462" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['09daa25c'] = { "dfnID": "09daa25c", "url": "https://w3c.github.io/webdriver/#dfn-extension-commands", "dfnText": "extension commands", "refSections": [{ "refs": [{ "id": "ref-for-dfn-extension-commands" }], "title": "9. Automation" }, { "refs": [{ "id": "ref-for-dfn-extension-commands\u2460" }, { "id": "ref-for-dfn-extension-commands\u2461" }, { "id": "ref-for-dfn-extension-commands\u2462" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-extension-commands\u2463" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-extension-commands\u2464" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-extension-commands\u2465" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['fa818daf'] = { "dfnID": "fa818daf", "url": "https://w3c.github.io/webdriver/#dfn-getting-properties", "dfnText": "get a property", "refSections": [{ "refs": [{ "id": "ref-for-dfn-getting-properties" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-getting-properties\u2460" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-getting-properties\u2461" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-dfn-getting-properties\u2462" }, { "id": "ref-for-dfn-getting-properties\u2463" }, { "id": "ref-for-dfn-getting-properties\u2464" }], "title": "9.2.3.1.2. Parse XYZ reading" }], "external": true };
        window.dfnpanelData['28855907'] = { "dfnID": "28855907", "url": "https://w3c.github.io/webdriver/#dfn-getting-the-property-with-default", "dfnText": "get a property with default", "refSections": [{ "refs": [{ "id": "ref-for-dfn-getting-the-property-with-default" }, { "id": "ref-for-dfn-getting-the-property-with-default\u2460" }, { "id": "ref-for-dfn-getting-the-property-with-default\u2461" }], "title": "9.2.1. Create virtual sensor" }], "external": true };
        window.dfnpanelData['8da4d1e3'] = { "dfnID": "8da4d1e3", "url": "https://w3c.github.io/webdriver/#dfn-invalid-argument", "dfnText": "invalid argument", "refSections": [{ "refs": [{ "id": "ref-for-dfn-invalid-argument" }, { "id": "ref-for-dfn-invalid-argument\u2460" }, { "id": "ref-for-dfn-invalid-argument\u2461" }, { "id": "ref-for-dfn-invalid-argument\u2462" }, { "id": "ref-for-dfn-invalid-argument\u2463" }, { "id": "ref-for-dfn-invalid-argument\u2464" }, { "id": "ref-for-dfn-invalid-argument\u2465" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-invalid-argument\u2466" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-invalid-argument\u2467" }, { "id": "ref-for-dfn-invalid-argument\u2468" }, { "id": "ref-for-dfn-invalid-argument\u2460\u24ea" }, { "id": "ref-for-dfn-invalid-argument\u2460\u2460" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-invalid-argument\u2460\u2461" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['9a707b42'] = { "dfnID": "9a707b42", "url": "https://w3c.github.io/webdriver/#dfn-local-ends", "dfnText": "local end", "refSections": [{ "refs": [{ "id": "ref-for-dfn-local-ends" }], "title": "9.2.1. Create virtual sensor" }], "external": true };
        window.dfnpanelData['82c23298'] = { "dfnID": "82c23298", "url": "https://w3c.github.io/webdriver/#dfn-remote-end-steps", "dfnText": "remote end steps", "refSections": [{ "refs": [{ "id": "ref-for-dfn-remote-end-steps" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-remote-end-steps\u2460" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-remote-end-steps\u2461" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-remote-end-steps\u2462" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['4923d430'] = { "dfnID": "4923d430", "url": "https://w3c.github.io/webdriver/#dfn-session", "dfnText": "session", "refSections": [{ "refs": [{ "id": "ref-for-dfn-session" }], "title": "9.2.1. Create virtual sensor" }], "external": true };
        window.dfnpanelData['cb9acc83'] = { "dfnID": "cb9acc83", "url": "https://w3c.github.io/webdriver/#dfn-set-a-property", "dfnText": "set a property", "refSections": [{ "refs": [{ "id": "ref-for-dfn-set-a-property" }], "title": "9.2.2. Get virtual sensor information" }], "external": true };
        window.dfnpanelData['4be6272b'] = { "dfnID": "4be6272b", "url": "https://w3c.github.io/webdriver/#dfn-success", "dfnText": "success", "refSections": [{ "refs": [{ "id": "ref-for-dfn-success" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-success\u2460" }, { "id": "ref-for-dfn-success\u2461" }, { "id": "ref-for-dfn-success\u2462" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-success\u2463" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-success\u2464" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['87236d2b'] = { "dfnID": "87236d2b", "url": "https://w3c.github.io/webdriver/#dfn-url-variables", "dfnText": "url variable", "refSections": [{ "refs": [{ "id": "ref-for-dfn-url-variables" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-url-variables\u2460" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-url-variables\u2461" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['7482107b'] = { "dfnID": "7482107b", "url": "https://w3c.github.io/webdriver/#dfn-error-code", "dfnText": "webdriver error code", "refSections": [{ "refs": [{ "id": "ref-for-dfn-error-code" }, { "id": "ref-for-dfn-error-code\u2460" }, { "id": "ref-for-dfn-error-code\u2461" }, { "id": "ref-for-dfn-error-code\u2462" }, { "id": "ref-for-dfn-error-code\u2463" }, { "id": "ref-for-dfn-error-code\u2464" }, { "id": "ref-for-dfn-error-code\u2465" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-dfn-error-code\u2466" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-dfn-error-code\u2467" }, { "id": "ref-for-dfn-error-code\u2468" }, { "id": "ref-for-dfn-error-code\u2460\u24ea" }, { "id": "ref-for-dfn-error-code\u2460\u2460" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-dfn-error-code\u2460\u2461" }], "title": "9.2.4. Delete virtual sensor" }], "external": true };
        window.dfnpanelData['dca2de17'] = { "dfnID": "dca2de17", "url": "https://webidl.spec.whatwg.org/#idl-DOMException", "dfnText": "DOMException", "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }, { "id": "ref-for-idl-DOMException\u2460" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461" }, { "id": "ref-for-idl-DOMException\u2462" }, { "id": "ref-for-idl-DOMException\u2463" }], "title": "7.2. The SensorErrorEvent Interface" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2464" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2465" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2466" }], "title": "8.12. Notify error" }], "external": true };
        window.dfnpanelData['8855a9aa'] = { "dfnID": "8855a9aa", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "dfnText": "DOMString", "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }], "title": "7.2. The SensorErrorEvent Interface" }], "external": true };
        window.dfnpanelData['889e932f'] = { "dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-Exposed\u2460" }], "title": "7.2. The SensorErrorEvent Interface" }], "external": true };
        window.dfnpanelData['ba556545'] = { "dfnID": "ba556545", "url": "https://webidl.spec.whatwg.org/#notallowederror", "dfnText": "NotAllowedError", "refSections": [{ "refs": [{ "id": "ref-for-notallowederror" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-notallowederror\u2460" }], "title": "8.6. Generic Sensor permission revocation algorithm" }], "external": true };
        window.dfnpanelData['0be3911e'] = { "dfnID": "0be3911e", "url": "https://webidl.spec.whatwg.org/#notreadableerror", "dfnText": "NotReadableError", "refSections": [{ "refs": [{ "id": "ref-for-notreadableerror" }], "title": "7.1.7. Sensor.start()" }], "external": true };
        window.dfnpanelData['3182eb71'] = { "dfnID": "3182eb71", "url": "https://webidl.spec.whatwg.org/#notsupportederror", "dfnText": "NotSupportedError", "refSections": [{ "refs": [{ "id": "ref-for-notsupportederror" }], "title": "8.1. Initialize a sensor object" }], "external": true };
        window.dfnpanelData['b75bb3bd'] = { "dfnID": "b75bb3bd", "url": "https://webidl.spec.whatwg.org/#SecureContext", "dfnText": "SecureContext", "refSections": [{ "refs": [{ "id": "ref-for-SecureContext" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-SecureContext\u2460" }], "title": "7.2. The SensorErrorEvent Interface" }], "external": true };
        window.dfnpanelData['5bf9ea61'] = { "dfnID": "5bf9ea61", "url": "https://webidl.spec.whatwg.org/#dfn-attribute", "dfnText": "attribute", "refSections": [{ "refs": [{ "id": "ref-for-dfn-attribute" }, { "id": "ref-for-dfn-attribute\u2460" }, { "id": "ref-for-dfn-attribute\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-dfn-attribute\u2462" }, { "id": "ref-for-dfn-attribute\u2463" }], "title": "10.6. Definition Requirements" }], "external": true };
        window.dfnpanelData['5372cca8'] = { "dfnID": "5372cca8", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "dfnText": "boolean", "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }, { "id": "ref-for-idl-boolean\u2460" }], "title": "7.1. The Sensor Interface" }], "external": true };
        window.dfnpanelData['6a73c310'] = { "dfnID": "6a73c310", "url": "https://webidl.spec.whatwg.org/#dfn-create-exception", "dfnText": "create", "refSections": [{ "refs": [{ "id": "ref-for-dfn-create-exception" }, { "id": "ref-for-dfn-create-exception\u2460" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-dfn-create-exception\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }], "external": true };
        window.dfnpanelData['bec98d30'] = { "dfnID": "bec98d30", "url": "https://webidl.spec.whatwg.org/#dfn-dictionary", "dfnText": "dictionary", "refSections": [{ "refs": [{ "id": "ref-for-dfn-dictionary" }, { "id": "ref-for-dfn-dictionary\u2460" }], "title": "10.6. Definition Requirements" }], "external": true };
        window.dfnpanelData['8c800cdf'] = { "dfnID": "8c800cdf", "url": "https://webidl.spec.whatwg.org/#idl-double", "dfnText": "double", "refSections": [{ "refs": [{ "id": "ref-for-idl-double" }], "title": "7.1. The Sensor Interface" }], "external": true };
        window.dfnpanelData['980252f2'] = { "dfnID": "980252f2", "url": "https://webidl.spec.whatwg.org/#dfn-identifier", "dfnText": "identifier", "refSections": [{ "refs": [{ "id": "ref-for-dfn-identifier" }, { "id": "ref-for-dfn-identifier\u2460" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-dfn-identifier\u2461" }], "title": "10.6. Definition Requirements" }], "external": true };
        window.dfnpanelData['e451c8f4'] = { "dfnID": "e451c8f4", "url": "https://webidl.spec.whatwg.org/#dfn-inherited-dictionaries", "dfnText": "inherited dictionaries", "refSections": [{ "refs": [{ "id": "ref-for-dfn-inherited-dictionaries" }, { "id": "ref-for-dfn-inherited-dictionaries\u2460" }], "title": "10.6. Definition Requirements" }], "external": true };
        window.dfnpanelData['fc14fa8a'] = { "dfnID": "fc14fa8a", "url": "https://webidl.spec.whatwg.org/#dfn-inherited-interfaces", "dfnText": "inherited interfaces", "refSections": [{ "refs": [{ "id": "ref-for-dfn-inherited-interfaces" }], "title": "10.6. Definition Requirements" }], "external": true };
        window.dfnpanelData['1422ec4e'] = { "dfnID": "1422ec4e", "url": "https://webidl.spec.whatwg.org/#dfn-interface", "dfnText": "interface", "refSections": [{ "refs": [{ "id": "ref-for-dfn-interface" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-dfn-interface\u2460" }], "title": "10.6. Definition Requirements" }], "external": true };
        window.dfnpanelData['bfc48225'] = { "dfnID": "bfc48225", "url": "https://webidl.spec.whatwg.org/#dfn-read-only", "dfnText": "read only", "refSections": [{ "refs": [{ "id": "ref-for-dfn-read-only" }], "title": "10.6. Definition Requirements" }], "external": true };
        window.dfnpanelData['4013a022'] = { "dfnID": "4013a022", "url": "https://webidl.spec.whatwg.org/#this", "dfnText": "this", "refSections": [{ "refs": [{ "id": "ref-for-this" }], "title": "7.1.4. Sensor.activated" }, { "refs": [{ "id": "ref-for-this\u2460" }], "title": "7.1.5. Sensor.hasReading" }, { "refs": [{ "id": "ref-for-this\u2461" }, { "id": "ref-for-this\u2462" }], "title": "7.1.6. Sensor.timestamp" }, { "refs": [{ "id": "ref-for-this\u2463" }, { "id": "ref-for-this\u2464" }, { "id": "ref-for-this\u2465" }, { "id": "ref-for-this\u2466" }, { "id": "ref-for-this\u2467" }, { "id": "ref-for-this\u2468" }, { "id": "ref-for-this\u2460\u24ea" }, { "id": "ref-for-this\u2460\u2460" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-this\u2460\u2461" }, { "id": "ref-for-this\u2460\u2462" }, { "id": "ref-for-this\u2460\u2463" }], "title": "7.1.8. Sensor.stop()" }, { "refs": [{ "id": "ref-for-this\u2460\u2464" }], "title": "7.1.10. Sensor.onactivate" }], "external": true };
        window.dfnpanelData['b4cfa5ce'] = { "dfnID": "b4cfa5ce", "url": "https://webidl.spec.whatwg.org/#dfn-throw", "dfnText": "throw", "refSections": [{ "refs": [{ "id": "ref-for-dfn-throw" }], "title": "8.1. Initialize a sensor object" }], "external": true };
        window.dfnpanelData['5f90bbfb'] = { "dfnID": "5f90bbfb", "url": "https://webidl.spec.whatwg.org/#idl-undefined", "dfnText": "undefined", "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }, { "id": "ref-for-idl-undefined\u2460" }], "title": "7.1. The Sensor Interface" }], "external": true };
        window.dfnpanelData['limit-max-frequency'] = { "dfnID": "limit-max-frequency", "url": "#limit-max-frequency", "dfnText": "4.3.1. Limit maximum sampling frequency", "refSections": [{ "refs": [{ "id": "ref-for-limit-max-frequency" }], "title": "4.3.1. Limit maximum sampling frequency" }, { "refs": [{ "id": "ref-for-limit-max-frequency" }], "title": "4.3.3. Limit number of delivered readings" }], "external": false };
        window.dfnpanelData['stop-sensor'] = { "dfnID": "stop-sensor", "url": "#stop-sensor", "dfnText": "4.3.2. Stop the sensor altogether", "refSections": [{ "refs": [{ "id": "ref-for-stop-sensor" }], "title": "4.3.2. Stop the sensor altogether" }], "external": false };
        window.dfnpanelData['limit-number-of-delivered-readings'] = { "dfnID": "limit-number-of-delivered-readings", "url": "#limit-number-of-delivered-readings", "dfnText": "4.3.3. Limit number of delivered readings", "refSections": [{ "refs": [{ "id": "ref-for-limit-number-of-delivered-readings" }], "title": "4.3.3. Limit number of delivered readings" }], "external": false };
        window.dfnpanelData['reduce-accuracy'] = { "dfnID": "reduce-accuracy", "url": "#reduce-accuracy", "dfnText": "4.3.4. Reduce accuracy", "refSections": [{ "refs": [{ "id": "ref-for-reduce-accuracy" }], "title": "4.3.4. Reduce accuracy" }], "external": false };
        window.dfnpanelData['concept-device-sensor'] = { "dfnID": "concept-device-sensor", "url": "#concept-device-sensor", "dfnText": "device sensor", "refSections": [{ "refs": [{ "id": "ref-for-concept-device-sensor" }], "title": "2. Scope" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2460" }, { "id": "ref-for-concept-device-sensor\u2461" }, { "id": "ref-for-concept-device-sensor\u2462" }, { "id": "ref-for-concept-device-sensor\u2463" }], "title": "4. Security and privacy considerations" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2464" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2465" }, { "id": "ref-for-concept-device-sensor\u2466" }, { "id": "ref-for-concept-device-sensor\u2467" }, { "id": "ref-for-concept-device-sensor\u2468" }, { "id": "ref-for-concept-device-sensor\u2460\u24ea" }, { "id": "ref-for-concept-device-sensor\u2460\u2460" }, { "id": "ref-for-concept-device-sensor\u2460\u2461" }, { "id": "ref-for-concept-device-sensor\u2460\u2462" }, { "id": "ref-for-concept-device-sensor\u2460\u2463" }, { "id": "ref-for-concept-device-sensor\u2460\u2464" }, { "id": "ref-for-concept-device-sensor\u2460\u2465" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2460\u2466" }, { "id": "ref-for-concept-device-sensor\u2460\u2467" }, { "id": "ref-for-concept-device-sensor\u2460\u2468" }, { "id": "ref-for-concept-device-sensor\u2461\u24ea" }, { "id": "ref-for-concept-device-sensor\u2461\u2460" }, { "id": "ref-for-concept-device-sensor\u2461\u2461" }, { "id": "ref-for-concept-device-sensor\u2461\u2462" }], "title": "5.3. Default sensor" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2461\u2463" }, { "id": "ref-for-concept-device-sensor\u2461\u2464" }, { "id": "ref-for-concept-device-sensor\u2461\u2465" }, { "id": "ref-for-concept-device-sensor\u2461\u2466" }, { "id": "ref-for-concept-device-sensor\u2461\u2467" }, { "id": "ref-for-concept-device-sensor\u2461\u2468" }, { "id": "ref-for-concept-device-sensor\u2462\u24ea" }, { "id": "ref-for-concept-device-sensor\u2462\u2460" }, { "id": "ref-for-concept-device-sensor\u2462\u2461" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2462\u2462" }, { "id": "ref-for-concept-device-sensor\u2462\u2463" }, { "id": "ref-for-concept-device-sensor\u2462\u2464" }, { "id": "ref-for-concept-device-sensor\u2462\u2465" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2462\u2466" }], "title": "7.1.1. Sensor lifecycle" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2462\u2467" }, { "id": "ref-for-concept-device-sensor\u2462\u2468" }, { "id": "ref-for-concept-device-sensor\u2463\u24ea" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2463\u2460" }], "title": "9. Automation" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2463\u2461" }, { "id": "ref-for-concept-device-sensor\u2463\u2462" }, { "id": "ref-for-concept-device-sensor\u2463\u2463" }, { "id": "ref-for-concept-device-sensor\u2463\u2464" }, { "id": "ref-for-concept-device-sensor\u2463\u2465" }, { "id": "ref-for-concept-device-sensor\u2463\u2466" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2463\u2467" }, { "id": "ref-for-concept-device-sensor\u2463\u2468" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2464\u24ea" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2464\u2460" }], "title": "9.2.4. Delete virtual sensor" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2464\u2461" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-concept-device-sensor\u2464\u2462" }], "title": "10.10. Example WebIDL" }], "external": false };
        window.dfnpanelData['sensor-reading'] = { "dfnID": "sensor-reading", "url": "#sensor-reading", "dfnText": "sensor reading", "refSections": [{ "refs": [{ "id": "ref-for-sensor-reading" }, { "id": "ref-for-sensor-reading\u2460" }], "title": "4. Security and privacy considerations" }, { "refs": [{ "id": "ref-for-sensor-reading\u2461" }], "title": "4.1.1. Location Tracking" }, { "refs": [{ "id": "ref-for-sensor-reading\u2462" }], "title": "4.1.2. Eavesdropping" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463" }], "title": "4.1.3. Keystroke Monitoring" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464" }], "title": "4.1.5. User Identifying" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465" }], "title": "4.2.1. Secure Context" }, { "refs": [{ "id": "ref-for-sensor-reading\u2466" }, { "id": "ref-for-sensor-reading\u2467" }], "title": "4.2.2. Permissions Policy" }, { "refs": [{ "id": "ref-for-sensor-reading\u2468" }], "title": "4.2.3. Focused Area" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u24ea" }], "title": "4.2.4. Visibility State" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u2460" }], "title": "4.2.5. Permissions API" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u2461" }], "title": "4.3.3. Limit number of delivered readings" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u2462" }, { "id": "ref-for-sensor-reading\u2460\u2463" }, { "id": "ref-for-sensor-reading\u2460\u2464" }, { "id": "ref-for-sensor-reading\u2460\u2465" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u2466" }], "title": "4.3.5. Keep the user informed about API use" }, { "refs": [{ "id": "ref-for-sensor-reading\u2460\u2467" }, { "id": "ref-for-sensor-reading\u2460\u2468" }, { "id": "ref-for-sensor-reading\u2461\u24ea" }, { "id": "ref-for-sensor-reading\u2461\u2460" }, { "id": "ref-for-sensor-reading\u2461\u2461" }, { "id": "ref-for-sensor-reading\u2461\u2462" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-sensor-reading\u2461\u2463" }, { "id": "ref-for-sensor-reading\u2461\u2464" }, { "id": "ref-for-sensor-reading\u2461\u2465" }, { "id": "ref-for-sensor-reading\u2461\u2466" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-sensor-reading\u2461\u2467" }], "title": "5.3. Default sensor" }, { "refs": [{ "id": "ref-for-sensor-reading\u2461\u2468" }, { "id": "ref-for-sensor-reading\u2462\u24ea" }, { "id": "ref-for-sensor-reading\u2462\u2460" }, { "id": "ref-for-sensor-reading\u2462\u2461" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sensor-reading\u2462\u2462" }, { "id": "ref-for-sensor-reading\u2462\u2463" }, { "id": "ref-for-sensor-reading\u2462\u2464" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-sensor-reading\u2462\u2465" }, { "id": "ref-for-sensor-reading\u2462\u2466" }, { "id": "ref-for-sensor-reading\u2462\u2467" }, { "id": "ref-for-sensor-reading\u2462\u2468" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u24ea" }, { "id": "ref-for-sensor-reading\u2463\u2460" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u2461" }, { "id": "ref-for-sensor-reading\u2463\u2462" }], "title": "7.1.3. Sensor internal slots" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u2463" }], "title": "7.1.9. Sensor.onreading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u2464" }, { "id": "ref-for-sensor-reading\u2463\u2465" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u2466" }, { "id": "ref-for-sensor-reading\u2463\u2467" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-sensor-reading\u2463\u2468" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u24ea" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u2460" }, { "id": "ref-for-sensor-reading\u2464\u2461" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u2462" }, { "id": "ref-for-sensor-reading\u2464\u2463" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u2464" }, { "id": "ref-for-sensor-reading\u2464\u2465" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u2466" }, { "id": "ref-for-sensor-reading\u2464\u2467" }], "title": "9.2.3.1.2. Parse XYZ reading" }, { "refs": [{ "id": "ref-for-sensor-reading\u2464\u2468" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u24ea" }, { "id": "ref-for-sensor-reading\u2465\u2460" }], "title": "10.2. Naming" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u2461" }], "title": "10.3. Unit" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u2462" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u2463" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u2464" }, { "id": "ref-for-sensor-reading\u2465\u2465" }], "title": "10.8. Extending the Permission API" }, { "refs": [{ "id": "ref-for-sensor-reading\u2465\u2466" }], "title": "10.9. Extending the Permissions Policy API" }], "external": false };
        window.dfnpanelData['reading-timestamp'] = { "dfnID": "reading-timestamp", "url": "#reading-timestamp", "dfnText": "reading timestamp", "refSections": [{ "refs": [{ "id": "ref-for-reading-timestamp" }, { "id": "ref-for-reading-timestamp\u2460" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-reading-timestamp\u2461" }], "title": "6.2. Sensor" }], "external": false };
        window.dfnpanelData['local-coordinate-system'] = { "dfnID": "local-coordinate-system", "url": "#local-coordinate-system", "dfnText": "local coordinate system", "refSections": [{ "refs": [{ "id": "ref-for-local-coordinate-system" }, { "id": "ref-for-local-coordinate-system\u2460" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-local-coordinate-system\u2461" }, { "id": "ref-for-local-coordinate-system\u2462" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-local-coordinate-system\u2463" }], "title": "10. Extensibility" }], "external": false };
        window.dfnpanelData['spatial-sensor'] = { "dfnID": "spatial-sensor", "url": "#spatial-sensor", "dfnText": "spatial sensor", "refSections": [{ "refs": [{ "id": "ref-for-spatial-sensor" }], "title": "5.1. Sensors" }], "external": false };
        window.dfnpanelData['concept-platform-sensor'] = { "dfnID": "concept-platform-sensor", "url": "#concept-platform-sensor", "dfnText": "platform sensor", "refSections": [{ "refs": [{ "id": "ref-for-concept-platform-sensor" }, { "id": "ref-for-concept-platform-sensor\u2460" }, { "id": "ref-for-concept-platform-sensor\u2461" }, { "id": "ref-for-concept-platform-sensor\u2462" }, { "id": "ref-for-concept-platform-sensor\u2463" }, { "id": "ref-for-concept-platform-sensor\u2464" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2465" }, { "id": "ref-for-concept-platform-sensor\u2466" }, { "id": "ref-for-concept-platform-sensor\u2467" }, { "id": "ref-for-concept-platform-sensor\u2468" }, { "id": "ref-for-concept-platform-sensor\u2460\u24ea" }, { "id": "ref-for-concept-platform-sensor\u2460\u2460" }, { "id": "ref-for-concept-platform-sensor\u2460\u2461" }, { "id": "ref-for-concept-platform-sensor\u2460\u2462" }, { "id": "ref-for-concept-platform-sensor\u2460\u2463" }, { "id": "ref-for-concept-platform-sensor\u2460\u2464" }, { "id": "ref-for-concept-platform-sensor\u2460\u2465" }, { "id": "ref-for-concept-platform-sensor\u2460\u2466" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2460\u2467" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2460\u2468" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2461\u24ea" }, { "id": "ref-for-concept-platform-sensor\u2461\u2460" }, { "id": "ref-for-concept-platform-sensor\u2461\u2461" }, { "id": "ref-for-concept-platform-sensor\u2461\u2462" }, { "id": "ref-for-concept-platform-sensor\u2461\u2463" }, { "id": "ref-for-concept-platform-sensor\u2461\u2464" }, { "id": "ref-for-concept-platform-sensor\u2461\u2465" }, { "id": "ref-for-concept-platform-sensor\u2461\u2466" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2461\u2467" }, { "id": "ref-for-concept-platform-sensor\u2461\u2468" }, { "id": "ref-for-concept-platform-sensor\u2462\u24ea" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2460" }], "title": "7.1.1. Sensor lifecycle" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2461" }], "title": "7.1.3. Sensor internal slots" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2462" }, { "id": "ref-for-concept-platform-sensor\u2462\u2463" }, { "id": "ref-for-concept-platform-sensor\u2462\u2464" }, { "id": "ref-for-concept-platform-sensor\u2462\u2465" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2466" }], "title": "8.4. Activate a sensor object" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2467" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2462\u2468" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2463\u24ea" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2463\u2460" }], "title": "8.11. Notify activated state" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2463\u2461" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2463\u2462" }, { "id": "ref-for-concept-platform-sensor\u2463\u2463" }, { "id": "ref-for-concept-platform-sensor\u2463\u2464" }, { "id": "ref-for-concept-platform-sensor\u2463\u2465" }, { "id": "ref-for-concept-platform-sensor\u2463\u2466" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2463\u2467" }, { "id": "ref-for-concept-platform-sensor\u2463\u2468" }, { "id": "ref-for-concept-platform-sensor\u2464\u24ea" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2464\u2460" }, { "id": "ref-for-concept-platform-sensor\u2464\u2461" }], "title": "9.2.4. Delete virtual sensor" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2464\u2462" }, { "id": "ref-for-concept-platform-sensor\u2464\u2463" }, { "id": "ref-for-concept-platform-sensor\u2464\u2464" }], "title": "10.2. Naming" }, { "refs": [{ "id": "ref-for-concept-platform-sensor\u2464\u2465" }], "title": "10.6. Definition Requirements" }], "external": false };
        window.dfnpanelData['calibration'] = { "dfnID": "calibration", "url": "#calibration", "dfnText": "calibration", "refSections": [{ "refs": [{ "id": "ref-for-calibration" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-calibration\u2460" }], "title": "10. Extensibility" }], "external": false };
        window.dfnpanelData['low-level'] = { "dfnID": "low-level", "url": "#low-level", "dfnText": "low-level", "refSections": [{ "refs": [{ "id": "ref-for-low-level" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-low-level\u2460" }, { "id": "ref-for-low-level\u2461" }, { "id": "ref-for-low-level\u2462" }, { "id": "ref-for-low-level\u2463" }, { "id": "ref-for-low-level\u2464" }, { "id": "ref-for-low-level\u2465" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-low-level\u2466" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-low-level\u2467" }], "title": "10.2. Naming" }, { "refs": [{ "id": "ref-for-low-level\u2468" }, { "id": "ref-for-low-level\u2460\u24ea" }, { "id": "ref-for-low-level\u2460\u2460" }], "title": "10.4. Exposing High-Level vs. Low-Level Sensors" }, { "refs": [{ "id": "ref-for-low-level\u2460\u2461" }, { "id": "ref-for-low-level\u2460\u2462" }], "title": "10.8. Extending the Permission API" }, { "refs": [{ "id": "ref-for-low-level\u2460\u2463" }], "title": "10.9. Extending the Permissions Policy API" }], "external": false };
        window.dfnpanelData['high-level'] = { "dfnID": "high-level", "url": "#high-level", "dfnText": "high-level", "refSections": [{ "refs": [{ "id": "ref-for-high-level" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-high-level\u2460" }, { "id": "ref-for-high-level\u2461" }, { "id": "ref-for-high-level\u2462" }, { "id": "ref-for-high-level\u2463" }, { "id": "ref-for-high-level\u2464" }, { "id": "ref-for-high-level\u2465" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-high-level\u2466" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-high-level\u2467" }], "title": "10.2. Naming" }, { "refs": [{ "id": "ref-for-high-level\u2468" }, { "id": "ref-for-high-level\u2460\u24ea" }, { "id": "ref-for-high-level\u2460\u2460" }], "title": "10.4. Exposing High-Level vs. Low-Level Sensors" }], "external": false };
        window.dfnpanelData['sensor-fusion'] = { "dfnID": "sensor-fusion", "url": "#sensor-fusion", "dfnText": "sensor fusion", "refSections": [{ "refs": [{ "id": "ref-for-sensor-fusion" }, { "id": "ref-for-sensor-fusion\u2460" }, { "id": "ref-for-sensor-fusion\u2461" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-sensor-fusion\u2462" }, { "id": "ref-for-sensor-fusion\u2463" }, { "id": "ref-for-sensor-fusion\u2464" }, { "id": "ref-for-sensor-fusion\u2465" }, { "id": "ref-for-sensor-fusion\u2466" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-sensor-fusion\u2467" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-sensor-fusion\u2468" }], "title": "10.8. Extending the Permission API" }, { "refs": [{ "id": "ref-for-sensor-fusion\u2460\u24ea" }, { "id": "ref-for-sensor-fusion\u2460\u2460" }], "title": "10.9. Extending the Permissions Policy API" }], "external": false };
        window.dfnpanelData['default-sensor'] = { "dfnID": "default-sensor", "url": "#default-sensor", "dfnText": "default sensor", "refSections": [{ "refs": [{ "id": "ref-for-default-sensor" }, { "id": "ref-for-default-sensor\u2460" }, { "id": "ref-for-default-sensor\u2461" }], "title": "5.3. Default sensor" }, { "refs": [{ "id": "ref-for-default-sensor\u2462" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-default-sensor\u2463" }, { "id": "ref-for-default-sensor\u2464" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-default-sensor\u2465" }, { "id": "ref-for-default-sensor\u2466" }, { "id": "ref-for-default-sensor\u2467" }], "title": "10.6. Definition Requirements" }], "external": false };
        window.dfnpanelData['sampling-frequency'] = { "dfnID": "sampling-frequency", "url": "#sampling-frequency", "dfnText": "sampling frequency", "refSections": [{ "refs": [{ "id": "ref-for-sampling-frequency" }, { "id": "ref-for-sampling-frequency\u2460" }], "title": "4.3.3. Limit number of delivered readings" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2461" }, { "id": "ref-for-sampling-frequency\u2462" }, { "id": "ref-for-sampling-frequency\u2463" }, { "id": "ref-for-sampling-frequency\u2464" }, { "id": "ref-for-sampling-frequency\u2465" }, { "id": "ref-for-sampling-frequency\u2466" }, { "id": "ref-for-sampling-frequency\u2467" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2468" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2460\u24ea" }], "title": "7.1.3. Sensor internal slots" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2460\u2460" }, { "id": "ref-for-sampling-frequency\u2460\u2461" }, { "id": "ref-for-sampling-frequency\u2460\u2462" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2460\u2463" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-sampling-frequency\u2460\u2464" }], "title": "10.8. Extending the Permission API" }], "external": false };
        window.dfnpanelData['device-sensor-minimum-sampling-frequency'] = { "dfnID": "device-sensor-minimum-sampling-frequency", "url": "#device-sensor-minimum-sampling-frequency", "dfnText": "minimum sampling frequency", "refSections": [{ "refs": [{ "id": "ref-for-device-sensor-minimum-sampling-frequency" }, { "id": "ref-for-device-sensor-minimum-sampling-frequency\u2460" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-device-sensor-minimum-sampling-frequency\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-device-sensor-minimum-sampling-frequency\u2462" }], "title": "9.1. Virtual Sensors" }], "external": false };
        window.dfnpanelData['device-sensor-maximum-sampling-frequency'] = { "dfnID": "device-sensor-maximum-sampling-frequency", "url": "#device-sensor-maximum-sampling-frequency", "dfnText": "maximum sampling frequency", "refSections": [{ "refs": [{ "id": "ref-for-device-sensor-maximum-sampling-frequency" }, { "id": "ref-for-device-sensor-maximum-sampling-frequency\u2460" }, { "id": "ref-for-device-sensor-maximum-sampling-frequency\u2461" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-device-sensor-maximum-sampling-frequency\u2462" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-device-sensor-maximum-sampling-frequency\u2463" }], "title": "9.1. Virtual Sensors" }], "external": false };
        window.dfnpanelData['reporting-frequency'] = { "dfnID": "reporting-frequency", "url": "#reporting-frequency", "dfnText": "reporting frequency", "refSections": [{ "refs": [{ "id": "ref-for-reporting-frequency" }, { "id": "ref-for-reporting-frequency\u2460" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-reporting-frequency\u2461" }], "title": "7.1.3. Sensor internal slots" }], "external": false };
        window.dfnpanelData['can-expose-sensor-readings'] = { "dfnID": "can-expose-sensor-readings", "url": "#can-expose-sensor-readings", "dfnText": "can expose sensor readings", "refSections": [{ "refs": [{ "id": "ref-for-can-expose-sensor-readings" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-can-expose-sensor-readings\u2460" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-can-expose-sensor-readings\u2461" }], "title": "9.2.3. Update virtual sensor reading" }], "external": false };
        window.dfnpanelData['sensor-type'] = { "dfnID": "sensor-type", "url": "#sensor-type", "dfnText": "sensor type", "refSections": [{ "refs": [{ "id": "ref-for-sensor-type" }], "title": "4. Security and privacy considerations" }, { "refs": [{ "id": "ref-for-sensor-type\u2460" }], "title": "4.2.2. Permissions Policy" }, { "refs": [{ "id": "ref-for-sensor-type\u2461" }], "title": "4.3. Mitigation strategies applied on a case by case basis" }, { "refs": [{ "id": "ref-for-sensor-type\u2462" }, { "id": "ref-for-sensor-type\u2463" }], "title": "4.3.1. Limit maximum sampling frequency" }, { "refs": [{ "id": "ref-for-sensor-type\u2464" }], "title": "5.1. Sensors" }, { "refs": [{ "id": "ref-for-sensor-type\u2465" }, { "id": "ref-for-sensor-type\u2466" }, { "id": "ref-for-sensor-type\u2467" }, { "id": "ref-for-sensor-type\u2468" }, { "id": "ref-for-sensor-type\u2460\u24ea" }, { "id": "ref-for-sensor-type\u2460\u2460" }, { "id": "ref-for-sensor-type\u2460\u2461" }, { "id": "ref-for-sensor-type\u2460\u2462" }], "title": "5.2. Sensor Types" }, { "refs": [{ "id": "ref-for-sensor-type\u2460\u2463" }, { "id": "ref-for-sensor-type\u2460\u2464" }, { "id": "ref-for-sensor-type\u2460\u2465" }, { "id": "ref-for-sensor-type\u2460\u2466" }, { "id": "ref-for-sensor-type\u2460\u2467" }, { "id": "ref-for-sensor-type\u2460\u2468" }], "title": "5.3. Default sensor" }, { "refs": [{ "id": "ref-for-sensor-type\u2461\u24ea" }, { "id": "ref-for-sensor-type\u2461\u2460" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sensor-type\u2461\u2461" }, { "id": "ref-for-sensor-type\u2461\u2462" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-sensor-type\u2461\u2463" }, { "id": "ref-for-sensor-type\u2461\u2464" }, { "id": "ref-for-sensor-type\u2461\u2465" }, { "id": "ref-for-sensor-type\u2461\u2466" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-sensor-type\u2461\u2467" }, { "id": "ref-for-sensor-type\u2461\u2468" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u24ea" }], "title": "8.2. Check sensor policy-controlled features" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2462" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2463" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2464" }], "title": "8.14. Request sensor access" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2465" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-sensor-type\u2462\u2466" }, { "id": "ref-for-sensor-type\u2462\u2467" }, { "id": "ref-for-sensor-type\u2462\u2468" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-sensor-type\u2463\u24ea" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-sensor-type\u2463\u2460" }, { "id": "ref-for-sensor-type\u2463\u2461" }, { "id": "ref-for-sensor-type\u2463\u2462" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-sensor-type\u2463\u2463" }, { "id": "ref-for-sensor-type\u2463\u2464" }, { "id": "ref-for-sensor-type\u2463\u2465" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }, { "refs": [{ "id": "ref-for-sensor-type\u2463\u2466" }, { "id": "ref-for-sensor-type\u2463\u2467" }, { "id": "ref-for-sensor-type\u2463\u2468" }, { "id": "ref-for-sensor-type\u2464\u24ea" }, { "id": "ref-for-sensor-type\u2464\u2460" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-sensor-type\u2464\u2461" }, { "id": "ref-for-sensor-type\u2464\u2462" }], "title": "10.7. Automation" }, { "refs": [{ "id": "ref-for-sensor-type\u2464\u2463" }], "title": "10.8. Extending the Permission API" }, { "refs": [{ "id": "ref-for-sensor-type\u2464\u2464" }, { "id": "ref-for-sensor-type\u2464\u2465" }], "title": "10.9. Extending the Permissions Policy API" }], "external": false };
        window.dfnpanelData['sensor-permission-names'] = { "dfnID": "sensor-permission-names", "url": "#sensor-permission-names", "dfnText": "sensor permission names", "refSections": [{ "refs": [{ "id": "ref-for-sensor-permission-names" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-sensor-permission-names\u2460" }], "title": "8.14. Request sensor access" }, { "refs": [{ "id": "ref-for-sensor-permission-names\u2461" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-sensor-permission-names\u2462" }], "title": "10.9. Extending the Permissions Policy API" }], "external": false };
        window.dfnpanelData['sensor-feature-names'] = { "dfnID": "sensor-feature-names", "url": "#sensor-feature-names", "dfnText": "sensor feature names", "refSections": [{ "refs": [{ "id": "ref-for-sensor-feature-names" }, { "id": "ref-for-sensor-feature-names\u2460" }], "title": "8.2. Check sensor policy-controlled features" }, { "refs": [{ "id": "ref-for-sensor-feature-names\u2461" }, { "id": "ref-for-sensor-feature-names\u2462" }, { "id": "ref-for-sensor-feature-names\u2463" }], "title": "10.9. Extending the Permissions Policy API" }], "external": false };
        window.dfnpanelData['sensor-type-minimum-sampling-frequency'] = { "dfnID": "sensor-type-minimum-sampling-frequency", "url": "#sensor-type-minimum-sampling-frequency", "dfnText": "minimum sampling frequency", "refSections": [{ "refs": [{ "id": "ref-for-sensor-type-minimum-sampling-frequency" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sensor-type-minimum-sampling-frequency\u2460" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-sensor-type-minimum-sampling-frequency\u2461" }], "title": "6.2. Sensor" }], "external": false };
        window.dfnpanelData['sensor-type-maximum-sampling-frequency'] = { "dfnID": "sensor-type-maximum-sampling-frequency", "url": "#sensor-type-maximum-sampling-frequency", "dfnText": "maximum sampling frequency", "refSections": [{ "refs": [{ "id": "ref-for-sensor-type-maximum-sampling-frequency" }, { "id": "ref-for-sensor-type-maximum-sampling-frequency\u2460" }], "title": "4.3.1. Limit maximum sampling frequency" }, { "refs": [{ "id": "ref-for-sensor-type-maximum-sampling-frequency\u2461" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sensor-type-maximum-sampling-frequency\u2462" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-sensor-type-maximum-sampling-frequency\u2463" }], "title": "6.2. Sensor" }], "external": false };
        window.dfnpanelData['threshold-check-algorithm'] = { "dfnID": "threshold-check-algorithm", "url": "#threshold-check-algorithm", "dfnText": "threshold check algorithm", "refSections": [{ "refs": [{ "id": "ref-for-threshold-check-algorithm" }, { "id": "ref-for-threshold-check-algorithm\u2460" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-threshold-check-algorithm\u2461" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-threshold-check-algorithm\u2462" }, { "id": "ref-for-threshold-check-algorithm\u2463" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-threshold-check-algorithm\u2464" }], "title": "9.2.3. Update virtual sensor reading" }], "external": false };
        window.dfnpanelData['reading-quantization-algorithm'] = { "dfnID": "reading-quantization-algorithm", "url": "#reading-quantization-algorithm", "dfnText": "reading quantization algorithm", "refSections": [{ "refs": [{ "id": "ref-for-reading-quantization-algorithm" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-reading-quantization-algorithm\u2460" }, { "id": "ref-for-reading-quantization-algorithm\u2461" }], "title": "8.13. Get value from latest reading" }], "external": false };
        window.dfnpanelData['activated-sensor-objects'] = { "dfnID": "activated-sensor-objects", "url": "#activated-sensor-objects", "dfnText": "activated sensor objects", "refSections": [{ "refs": [{ "id": "ref-for-activated-sensor-objects" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-activated-sensor-objects\u2460" }, { "id": "ref-for-activated-sensor-objects\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-activated-sensor-objects\u2462" }], "title": "8.4. Activate a sensor object" }, { "refs": [{ "id": "ref-for-activated-sensor-objects\u2463" }, { "id": "ref-for-activated-sensor-objects\u2464" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-activated-sensor-objects\u2465" }, { "id": "ref-for-activated-sensor-objects\u2466" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-activated-sensor-objects\u2467" }], "title": "8.8. Update latest reading" }], "external": false };
        window.dfnpanelData['latest-reading'] = { "dfnID": "latest-reading", "url": "#latest-reading", "dfnText": "latest reading", "refSections": [{ "refs": [{ "id": "ref-for-latest-reading" }], "title": "4.3.4. Reduce accuracy" }, { "refs": [{ "id": "ref-for-latest-reading\u2460" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-latest-reading\u2461" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-latest-reading\u2462" }, { "id": "ref-for-latest-reading\u2463" }, { "id": "ref-for-latest-reading\u2464" }, { "id": "ref-for-latest-reading\u2465" }, { "id": "ref-for-latest-reading\u2466" }, { "id": "ref-for-latest-reading\u2467" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-latest-reading\u2468" }, { "id": "ref-for-latest-reading\u2460\u24ea" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-latest-reading\u2460\u2460" }, { "id": "ref-for-latest-reading\u2460\u2461" }, { "id": "ref-for-latest-reading\u2460\u2462" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-latest-reading\u2460\u2463" }], "title": "8.9. Report latest reading updated" }, { "refs": [{ "id": "ref-for-latest-reading\u2460\u2464" }], "title": "8.10. Notify new reading" }, { "refs": [{ "id": "ref-for-latest-reading\u2460\u2465" }], "title": "8.11. Notify activated state" }, { "refs": [{ "id": "ref-for-latest-reading\u2460\u2466" }], "title": "8.13. Get value from latest reading" }], "external": false };
        window.dfnpanelData['get-a-platform-sensors-sampling-bounds'] = { "dfnID": "get-a-platform-sensors-sampling-bounds", "url": "#get-a-platform-sensors-sampling-bounds", "dfnText": "get a platform sensor\u2019s sampling bounds", "refSections": [{ "refs": [{ "id": "ref-for-get-a-platform-sensors-sampling-bounds" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-get-a-platform-sensors-sampling-bounds\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-get-a-platform-sensors-sampling-bounds\u2461" }], "title": "8.7. Set sensor settings" }], "external": false };
        window.dfnpanelData['sensor'] = { "dfnID": "sensor", "url": "#sensor", "dfnText": "Sensor", "refSections": [{ "refs": [{ "id": "ref-for-sensor" }], "title": "3. A note on Feature Detection of Hardware Features" }, { "refs": [{ "id": "ref-for-sensor\u2460" }], "title": "5.3. Default sensor" }, { "refs": [{ "id": "ref-for-sensor\u2461" }, { "id": "ref-for-sensor\u2462" }, { "id": "ref-for-sensor\u2463" }, { "id": "ref-for-sensor\u2464" }, { "id": "ref-for-sensor\u2465" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-sensor\u2466" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-sensor\u2467" }, { "id": "ref-for-sensor\u2468" }, { "id": "ref-for-sensor\u2460\u24ea" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-sensor\u2460\u2460" }, { "id": "ref-for-sensor\u2460\u2461" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-sensor\u2460\u2462" }], "title": "7.1.1. Sensor lifecycle" }, { "refs": [{ "id": "ref-for-sensor\u2460\u2463" }, { "id": "ref-for-sensor\u2460\u2464" }, { "id": "ref-for-sensor\u2460\u2465" }], "title": "7.1.2. Sensor garbage collection" }, { "refs": [{ "id": "ref-for-sensor\u2460\u2466" }, { "id": "ref-for-sensor\u2460\u2467" }, { "id": "ref-for-sensor\u2460\u2468" }, { "id": "ref-for-sensor\u2461\u24ea" }], "title": "7.1.3. Sensor internal slots" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2460" }], "title": "7.1.12. Event handlers" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2461" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2462" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2463" }], "title": "8.4. Activate a sensor object" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2464" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2465" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2466" }], "title": "8.9. Report latest reading updated" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2467" }], "title": "8.10. Notify new reading" }, { "refs": [{ "id": "ref-for-sensor\u2461\u2468" }], "title": "8.11. Notify activated state" }, { "refs": [{ "id": "ref-for-sensor\u2462\u24ea" }], "title": "8.12. Notify error" }, { "refs": [{ "id": "ref-for-sensor\u2462\u2460" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-sensor\u2462\u2461" }], "title": "8.14. Request sensor access" }, { "refs": [{ "id": "ref-for-sensor\u2462\u2462" }, { "id": "ref-for-sensor\u2462\u2463" }, { "id": "ref-for-sensor\u2462\u2464" }, { "id": "ref-for-sensor\u2462\u2465" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-sensor\u2462\u2466" }, { "id": "ref-for-sensor\u2462\u2467" }], "title": "9.2.4. Delete virtual sensor" }, { "refs": [{ "id": "ref-for-sensor\u2462\u2468" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-sensor\u2463\u24ea" }, { "id": "ref-for-sensor\u2463\u2460" }, { "id": "ref-for-sensor\u2463\u2461" }], "title": "10.2. Naming" }, { "refs": [{ "id": "ref-for-sensor\u2463\u2462" }, { "id": "ref-for-sensor\u2463\u2463" }, { "id": "ref-for-sensor\u2463\u2464" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }, { "refs": [{ "id": "ref-for-sensor\u2463\u2465" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-sensor\u2463\u2466" }, { "id": "ref-for-sensor\u2463\u2467" }], "title": "10.8. Extending the Permission API" }, { "refs": [{ "id": "ref-for-sensor\u2463\u2468" }, { "id": "ref-for-sensor\u2464\u24ea" }, { "id": "ref-for-sensor\u2464\u2460" }], "title": "10.9. Extending the Permissions Policy API" }], "external": false };
        window.dfnpanelData['dom-sensor-activated'] = { "dfnID": "dom-sensor-activated", "url": "#dom-sensor-activated", "dfnText": "activated", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-activated" }], "title": "7.1.4. Sensor.activated" }], "external": false };
        window.dfnpanelData['dom-sensor-hasreading'] = { "dfnID": "dom-sensor-hasreading", "url": "#dom-sensor-hasreading", "dfnText": "hasReading", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-hasreading" }], "title": "7.1.5. Sensor.hasReading" }], "external": false };
        window.dfnpanelData['dom-sensor-timestamp'] = { "dfnID": "dom-sensor-timestamp", "url": "#dom-sensor-timestamp", "dfnText": "timestamp", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-timestamp" }], "title": "7.1.6. Sensor.timestamp" }, { "refs": [{ "id": "ref-for-dom-sensor-timestamp\u2460" }], "title": "8.8. Update latest reading" }], "external": false };
        window.dfnpanelData['dom-sensor-start'] = { "dfnID": "dom-sensor-start", "url": "#dom-sensor-start", "dfnText": "start", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-start" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-dom-sensor-start\u2460" }], "title": "9.2.1. Create virtual sensor" }], "external": false };
        window.dfnpanelData['dom-sensor-stop'] = { "dfnID": "dom-sensor-stop", "url": "#dom-sensor-stop", "dfnText": "stop", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-stop" }], "title": "7.1.8. Sensor.stop()" }], "external": false };
        window.dfnpanelData['dom-sensor-onreading'] = { "dfnID": "dom-sensor-onreading", "url": "#dom-sensor-onreading", "dfnText": "onreading", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-onreading" }], "title": "7.1.9. Sensor.onreading" }, { "refs": [{ "id": "ref-for-dom-sensor-onreading\u2460" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }], "external": false };
        window.dfnpanelData['dom-sensor-onactivate'] = { "dfnID": "dom-sensor-onactivate", "url": "#dom-sensor-onactivate", "dfnText": "onactivate", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-onactivate" }], "title": "7.1.10. Sensor.onactivate" }], "external": false };
        window.dfnpanelData['dom-sensor-onerror'] = { "dfnID": "dom-sensor-onerror", "url": "#dom-sensor-onerror", "dfnText": "onerror", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-onerror" }], "title": "7.1.11. Sensor.onerror" }], "external": false };
        window.dfnpanelData['dictdef-sensoroptions'] = { "dfnID": "dictdef-sensoroptions", "url": "#dictdef-sensoroptions", "dfnText": "SensorOptions", "refSections": [{ "refs": [{ "id": "ref-for-dictdef-sensoroptions" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-dictdef-sensoroptions\u2460" }, { "id": "ref-for-dictdef-sensoroptions\u2461" }], "title": "10.6. Definition Requirements" }], "external": false };
        window.dfnpanelData['dom-sensoroptions-frequency'] = { "dfnID": "dom-sensoroptions-frequency", "url": "#dom-sensoroptions-frequency", "dfnText": "frequency", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensoroptions-frequency" }, { "id": "ref-for-dom-sensoroptions-frequency\u2460" }, { "id": "ref-for-dom-sensoroptions-frequency\u2461" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-dom-sensoroptions-frequency\u2462" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }], "external": false };
        window.dfnpanelData['sensor-task-source'] = { "dfnID": "sensor-task-source", "url": "#sensor-task-source", "dfnText": "sensor task source", "refSections": [{ "refs": [{ "id": "ref-for-sensor-task-source" }], "title": "8.5. Deactivate a sensor object" }], "external": false };
        window.dfnpanelData['dom-sensor-state-slot'] = { "dfnID": "dom-sensor-state-slot", "url": "#dom-sensor-state-slot", "dfnText": "[[state]]", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-state-slot" }, { "id": "ref-for-dom-sensor-state-slot\u2460" }, { "id": "ref-for-dom-sensor-state-slot\u2461" }], "title": "7.1.2. Sensor garbage collection" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2462" }], "title": "7.1.4. Sensor.activated" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2463" }, { "id": "ref-for-dom-sensor-state-slot\u2464" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2465" }, { "id": "ref-for-dom-sensor-state-slot\u2466" }], "title": "7.1.8. Sensor.stop()" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2467" }], "title": "7.1.10. Sensor.onactivate" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2468" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2460\u24ea" }], "title": "8.11. Notify activated state" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2460\u2460" }], "title": "8.12. Notify error" }, { "refs": [{ "id": "ref-for-dom-sensor-state-slot\u2460\u2461" }], "title": "8.13. Get value from latest reading" }], "external": false };
        window.dfnpanelData['dom-sensor-frequency-slot'] = { "dfnID": "dom-sensor-frequency-slot", "url": "#dom-sensor-frequency-slot", "dfnText": "[[frequency]]", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-frequency-slot" }, { "id": "ref-for-dom-sensor-frequency-slot\u2460" }, { "id": "ref-for-dom-sensor-frequency-slot\u2461" }, { "id": "ref-for-dom-sensor-frequency-slot\u2462" }], "title": "5.4. Sampling Frequency and Reporting Frequency" }, { "refs": [{ "id": "ref-for-dom-sensor-frequency-slot\u2463" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-dom-sensor-frequency-slot\u2464" }, { "id": "ref-for-dom-sensor-frequency-slot\u2465" }, { "id": "ref-for-dom-sensor-frequency-slot\u2466" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-dom-sensor-frequency-slot\u2467" }], "title": "8.7. Set sensor settings" }, { "refs": [{ "id": "ref-for-dom-sensor-frequency-slot\u2468" }, { "id": "ref-for-dom-sensor-frequency-slot\u2460\u24ea" }, { "id": "ref-for-dom-sensor-frequency-slot\u2460\u2460" }], "title": "8.9. Report latest reading updated" }], "external": false };
        window.dfnpanelData['dom-sensor-lasteventfiredat-slot'] = { "dfnID": "dom-sensor-lasteventfiredat-slot", "url": "#dom-sensor-lasteventfiredat-slot", "dfnText": "[[lastEventFiredAt]]", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-lasteventfiredat-slot" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-dom-sensor-lasteventfiredat-slot\u2460" }], "title": "8.9. Report latest reading updated" }, { "refs": [{ "id": "ref-for-dom-sensor-lasteventfiredat-slot\u2461" }], "title": "8.10. Notify new reading" }], "external": false };
        window.dfnpanelData['dom-sensor-pendingreadingnotification-slot'] = { "dfnID": "dom-sensor-pendingreadingnotification-slot", "url": "#dom-sensor-pendingreadingnotification-slot", "dfnText": "[[pendingReadingNotification]]", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensor-pendingreadingnotification-slot" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-dom-sensor-pendingreadingnotification-slot\u2460" }, { "id": "ref-for-dom-sensor-pendingreadingnotification-slot\u2461" }, { "id": "ref-for-dom-sensor-pendingreadingnotification-slot\u2462" }], "title": "8.9. Report latest reading updated" }, { "refs": [{ "id": "ref-for-dom-sensor-pendingreadingnotification-slot\u2463" }], "title": "8.10. Notify new reading" }], "external": false };
        window.dfnpanelData['sensorerrorevent'] = { "dfnID": "sensorerrorevent", "url": "#sensorerrorevent", "dfnText": "SensorErrorEvent", "refSections": [{ "refs": [{ "id": "ref-for-sensorerrorevent" }], "title": "7.2. The SensorErrorEvent Interface" }, { "refs": [{ "id": "ref-for-sensorerrorevent\u2460" }], "title": "8.12. Notify error" }], "external": false };
        window.dfnpanelData['dictdef-sensorerroreventinit'] = { "dfnID": "dictdef-sensorerroreventinit", "url": "#dictdef-sensorerroreventinit", "dfnText": "SensorErrorEventInit", "refSections": [{ "refs": [{ "id": "ref-for-dictdef-sensorerroreventinit" }, { "id": "ref-for-dictdef-sensorerroreventinit\u2460" }], "title": "7.2. The SensorErrorEvent Interface" }], "external": false };
        window.dfnpanelData['dom-sensorerrorevent-error'] = { "dfnID": "dom-sensorerrorevent-error", "url": "#dom-sensorerrorevent-error", "dfnText": "error", "refSections": [{ "refs": [{ "id": "ref-for-dom-sensorerrorevent-error" }], "title": "7.2. The SensorErrorEvent Interface" }, { "refs": [{ "id": "ref-for-dom-sensorerrorevent-error\u2460" }], "title": "8.12. Notify error" }], "external": false };
        window.dfnpanelData['initialize-a-sensor-object'] = { "dfnID": "initialize-a-sensor-object", "url": "#initialize-a-sensor-object", "dfnText": "8.1. Initialize a sensor object", "refSections": [{ "refs": [{ "id": "ref-for-initialize-a-sensor-object" }], "title": "8.1. Initialize a sensor object" }], "external": false };
        window.dfnpanelData['check-sensor-policy-controlled-features'] = { "dfnID": "check-sensor-policy-controlled-features", "url": "#check-sensor-policy-controlled-features", "dfnText": "8.2. Check sensor policy-controlled features", "refSections": [{ "refs": [{ "id": "ref-for-check-sensor-policy-controlled-features" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-check-sensor-policy-controlled-features" }], "title": "8.2. Check sensor policy-controlled features" }], "external": false };
        window.dfnpanelData['connect-to-sensor'] = { "dfnID": "connect-to-sensor", "url": "#connect-to-sensor", "dfnText": "8.3. Connect to sensor", "refSections": [{ "refs": [{ "id": "ref-for-connect-to-sensor" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-connect-to-sensor" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-connect-to-sensor\u2460" }], "title": "9.2.1. Create virtual sensor" }], "external": false };
        window.dfnpanelData['activate-a-sensor-object'] = { "dfnID": "activate-a-sensor-object", "url": "#activate-a-sensor-object", "dfnText": "8.4. Activate a sensor object", "refSections": [{ "refs": [{ "id": "ref-for-activate-a-sensor-object" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-activate-a-sensor-object" }], "title": "8.4. Activate a sensor object" }], "external": false };
        window.dfnpanelData['deactivate-a-sensor-object'] = { "dfnID": "deactivate-a-sensor-object", "url": "#deactivate-a-sensor-object", "dfnText": "8.5. Deactivate a sensor object", "refSections": [{ "refs": [{ "id": "ref-for-deactivate-a-sensor-object" }], "title": "7.1.2. Sensor garbage collection" }, { "refs": [{ "id": "ref-for-deactivate-a-sensor-object\u2460" }], "title": "7.1.8. Sensor.stop()" }, { "refs": [{ "id": "ref-for-deactivate-a-sensor-object" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-deactivate-a-sensor-object\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-deactivate-a-sensor-object\u2462" }], "title": "9.2.4. Delete virtual sensor" }], "external": false };
        window.dfnpanelData['generic-sensor-permission-revocation-algorithm'] = { "dfnID": "generic-sensor-permission-revocation-algorithm", "url": "#generic-sensor-permission-revocation-algorithm", "dfnText": "8.6. Generic Sensor permission revocation algorithm", "refSections": [{ "refs": [{ "id": "ref-for-generic-sensor-permission-revocation-algorithm" }], "title": "8.6. Generic Sensor permission revocation algorithm" }], "external": false };
        window.dfnpanelData['set-sensor-settings'] = { "dfnID": "set-sensor-settings", "url": "#set-sensor-settings", "dfnText": "8.7. Set sensor settings", "refSections": [{ "refs": [{ "id": "ref-for-set-sensor-settings" }], "title": "8.4. Activate a sensor object" }, { "refs": [{ "id": "ref-for-set-sensor-settings\u2460" }], "title": "8.5. Deactivate a sensor object" }, { "refs": [{ "id": "ref-for-set-sensor-settings" }], "title": "8.7. Set sensor settings" }], "external": false };
        window.dfnpanelData['update-latest-reading'] = { "dfnID": "update-latest-reading", "url": "#update-latest-reading", "dfnText": "8.8. Update latest reading", "refSections": [{ "refs": [{ "id": "ref-for-update-latest-reading" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-update-latest-reading" }], "title": "8.8. Update latest reading" }], "external": false };
        window.dfnpanelData['report-latest-reading-updated'] = { "dfnID": "report-latest-reading-updated", "url": "#report-latest-reading-updated", "dfnText": "8.9. Report latest reading updated", "refSections": [{ "refs": [{ "id": "ref-for-report-latest-reading-updated" }], "title": "8.8. Update latest reading" }, { "refs": [{ "id": "ref-for-report-latest-reading-updated" }], "title": "8.9. Report latest reading updated" }], "external": false };
        window.dfnpanelData['notify-new-reading'] = { "dfnID": "notify-new-reading", "url": "#notify-new-reading", "dfnText": "8.10. Notify new reading", "refSections": [{ "refs": [{ "id": "ref-for-notify-new-reading" }, { "id": "ref-for-notify-new-reading\u2460" }, { "id": "ref-for-notify-new-reading\u2461" }], "title": "8.9. Report latest reading updated" }, { "refs": [{ "id": "ref-for-notify-new-reading" }], "title": "8.10. Notify new reading" }, { "refs": [{ "id": "ref-for-notify-new-reading\u2462" }], "title": "8.11. Notify activated state" }], "external": false };
        window.dfnpanelData['notify-activated-state'] = { "dfnID": "notify-activated-state", "url": "#notify-activated-state", "dfnText": "8.11. Notify activated state", "refSections": [{ "refs": [{ "id": "ref-for-notify-activated-state" }], "title": "8.4. Activate a sensor object" }, { "refs": [{ "id": "ref-for-notify-activated-state" }], "title": "8.11. Notify activated state" }], "external": false };
        window.dfnpanelData['notify-error'] = { "dfnID": "notify-error", "url": "#notify-error", "dfnText": "8.12. Notify error", "refSections": [{ "refs": [{ "id": "ref-for-notify-error" }, { "id": "ref-for-notify-error\u2460" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-notify-error\u2461" }], "title": "8.6. Generic Sensor permission revocation algorithm" }, { "refs": [{ "id": "ref-for-notify-error" }], "title": "8.12. Notify error" }, { "refs": [{ "id": "ref-for-notify-error\u2462" }], "title": "9.2.4. Delete virtual sensor" }], "external": false };
        window.dfnpanelData['get-value-from-latest-reading'] = { "dfnID": "get-value-from-latest-reading", "url": "#get-value-from-latest-reading", "dfnText": "8.13. Get value from latest reading", "refSections": [{ "refs": [{ "id": "ref-for-get-value-from-latest-reading" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-get-value-from-latest-reading\u2460" }], "title": "7.1.5. Sensor.hasReading" }, { "refs": [{ "id": "ref-for-get-value-from-latest-reading\u2461" }], "title": "7.1.6. Sensor.timestamp" }, { "refs": [{ "id": "ref-for-get-value-from-latest-reading" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-get-value-from-latest-reading\u2462" }], "title": "10.6. Definition Requirements" }], "external": false };
        window.dfnpanelData['request-sensor-access'] = { "dfnID": "request-sensor-access", "url": "#request-sensor-access", "dfnText": "8.14. Request sensor access", "refSections": [{ "refs": [{ "id": "ref-for-request-sensor-access" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-request-sensor-access\u2460" }], "title": "7.1.7. Sensor.start()" }, { "refs": [{ "id": "ref-for-request-sensor-access" }], "title": "8.14. Request sensor access" }], "external": false };
        window.dfnpanelData['focus-and-origin-check'] = { "dfnID": "focus-and-origin-check", "url": "#focus-and-origin-check", "dfnText": "8.15. Focus and origin check", "refSections": [{ "refs": [{ "id": "ref-for-focus-and-origin-check" }], "title": "4.2.3. Focused Area" }, { "refs": [{ "id": "ref-for-focus-and-origin-check\u2460" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-focus-and-origin-check" }], "title": "8.15. Focus and origin check" }], "external": false };
        window.dfnpanelData['virtual-sensor'] = { "dfnID": "virtual-sensor", "url": "#virtual-sensor", "dfnText": "virtual sensor", "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor" }, { "id": "ref-for-virtual-sensor\u2460" }], "title": "9. Automation" }, { "refs": [{ "id": "ref-for-virtual-sensor\u2461" }, { "id": "ref-for-virtual-sensor\u2462" }, { "id": "ref-for-virtual-sensor\u2463" }, { "id": "ref-for-virtual-sensor\u2464" }, { "id": "ref-for-virtual-sensor\u2465" }, { "id": "ref-for-virtual-sensor\u2466" }, { "id": "ref-for-virtual-sensor\u2467" }, { "id": "ref-for-virtual-sensor\u2468" }, { "id": "ref-for-virtual-sensor\u2460\u24ea" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor\u2460\u2460" }, { "id": "ref-for-virtual-sensor\u2460\u2461" }, { "id": "ref-for-virtual-sensor\u2460\u2462" }, { "id": "ref-for-virtual-sensor\u2460\u2463" }, { "id": "ref-for-virtual-sensor\u2460\u2464" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor\u2460\u2465" }, { "id": "ref-for-virtual-sensor\u2460\u2466" }, { "id": "ref-for-virtual-sensor\u2460\u2467" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-virtual-sensor\u2460\u2468" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-virtual-sensor\u2461\u24ea" }], "title": "9.2.4. Delete virtual sensor" }], "external": false };
        window.dfnpanelData['virtual-sensor-can-provide-readings-flag'] = { "dfnID": "virtual-sensor-can-provide-readings-flag", "url": "#virtual-sensor-can-provide-readings-flag", "dfnText": "can provide readings flag", "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-can-provide-readings-flag" }, { "id": "ref-for-virtual-sensor-can-provide-readings-flag\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-can-provide-readings-flag\u2461" }], "title": "9.2.1. Create virtual sensor" }], "external": false };
        window.dfnpanelData['virtual-sensor-requested-sampling-frequency'] = { "dfnID": "virtual-sensor-requested-sampling-frequency", "url": "#virtual-sensor-requested-sampling-frequency", "dfnText": "requested sampling frequency", "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-requested-sampling-frequency" }, { "id": "ref-for-virtual-sensor-requested-sampling-frequency\u2460" }, { "id": "ref-for-virtual-sensor-requested-sampling-frequency\u2461" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-requested-sampling-frequency\u2462" }, { "id": "ref-for-virtual-sensor-requested-sampling-frequency\u2463" }, { "id": "ref-for-virtual-sensor-requested-sampling-frequency\u2464" }], "title": "9.2.2. Get virtual sensor information" }], "external": false };
        window.dfnpanelData['virtual-sensor-minimum-sampling-frequency'] = { "dfnID": "virtual-sensor-minimum-sampling-frequency", "url": "#virtual-sensor-minimum-sampling-frequency", "dfnText": "minimum sampling frequency", "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-minimum-sampling-frequency" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-minimum-sampling-frequency\u2460" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-minimum-sampling-frequency\u2461" }], "title": "9.2.2. Get virtual sensor information" }], "external": false };
        window.dfnpanelData['virtual-sensor-maximum-sampling-frequency'] = { "dfnID": "virtual-sensor-maximum-sampling-frequency", "url": "#virtual-sensor-maximum-sampling-frequency", "dfnText": "maximum sampling frequency", "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-maximum-sampling-frequency" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-maximum-sampling-frequency\u2460" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-maximum-sampling-frequency\u2461" }], "title": "9.2.2. Get virtual sensor information" }], "external": false };
        window.dfnpanelData['virtual-sensor-type'] = { "dfnID": "virtual-sensor-type", "url": "#virtual-sensor-type", "dfnText": "virtual sensor type", "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-type" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-virtual-sensor-type\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-type\u2461" }, { "id": "ref-for-virtual-sensor-type\u2462" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-type\u2463" }, { "id": "ref-for-virtual-sensor-type\u2464" }], "title": "10.7. Automation" }], "external": false };
        window.dfnpanelData['per-type-virtual-sensor-metadata'] = { "dfnID": "per-type-virtual-sensor-metadata", "url": "#per-type-virtual-sensor-metadata", "dfnText": "per-type virtual sensor metadata", "refSections": [{ "refs": [{ "id": "ref-for-per-type-virtual-sensor-metadata" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-per-type-virtual-sensor-metadata\u2460" }, { "id": "ref-for-per-type-virtual-sensor-metadata\u2461" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-per-type-virtual-sensor-metadata\u2462" }], "title": "9.2.3.1. Algorithms for parsing readings" }, { "refs": [{ "id": "ref-for-per-type-virtual-sensor-metadata\u2463" }], "title": "9.2.4. Delete virtual sensor" }, { "refs": [{ "id": "ref-for-per-type-virtual-sensor-metadata\u2464" }, { "id": "ref-for-per-type-virtual-sensor-metadata\u2465" }, { "id": "ref-for-per-type-virtual-sensor-metadata\u2466" }], "title": "10.7. Automation" }], "external": false };
        window.dfnpanelData['virtual-sensor-metadata'] = { "dfnID": "virtual-sensor-metadata", "url": "#virtual-sensor-metadata", "dfnText": "virtual sensor metadata", "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-metadata" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-metadata\u2460" }], "title": "9.2.3.1. Algorithms for parsing readings" }, { "refs": [{ "id": "ref-for-virtual-sensor-metadata\u2461" }, { "id": "ref-for-virtual-sensor-metadata\u2462" }], "title": "10.7. Automation" }], "external": false };
        window.dfnpanelData['virtual-sensor-metadata-reading-parsing-algorithm'] = { "dfnID": "virtual-sensor-metadata-reading-parsing-algorithm", "url": "#virtual-sensor-metadata-reading-parsing-algorithm", "dfnText": "reading parsing algorithm", "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-metadata-reading-parsing-algorithm" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-virtual-sensor-metadata-reading-parsing-algorithm\u2460" }], "title": "10.7. Automation" }], "external": false };
        window.dfnpanelData['virtual-sensor-mapping'] = { "dfnID": "virtual-sensor-mapping", "url": "#virtual-sensor-mapping", "dfnText": "virtual sensor mapping", "refSections": [{ "refs": [{ "id": "ref-for-virtual-sensor-mapping" }, { "id": "ref-for-virtual-sensor-mapping\u2460" }], "title": "8.3. Connect to sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-mapping\u2461" }, { "id": "ref-for-virtual-sensor-mapping\u2462" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-virtual-sensor-mapping\u2463" }], "title": "9.2.1. Create virtual sensor" }, { "refs": [{ "id": "ref-for-virtual-sensor-mapping\u2464" }], "title": "9.2.2. Get virtual sensor information" }, { "refs": [{ "id": "ref-for-virtual-sensor-mapping\u2465" }], "title": "9.2.3. Update virtual sensor reading" }, { "refs": [{ "id": "ref-for-virtual-sensor-mapping\u2466" }], "title": "9.2.4. Delete virtual sensor" }], "external": false };
        window.dfnpanelData['parse-single-value-number-reading'] = { "dfnID": "parse-single-value-number-reading", "url": "#parse-single-value-number-reading", "dfnText": "9.2.3.1.1. Parse single-value number reading", "refSections": [{ "refs": [{ "id": "ref-for-parse-single-value-number-reading" }], "title": "9.2.3.1.1. Parse single-value number reading" }, { "refs": [{ "id": "ref-for-parse-single-value-number-reading" }], "title": "10.7. Automation" }], "external": false };
        window.dfnpanelData['parse-xyz-reading'] = { "dfnID": "parse-xyz-reading", "url": "#parse-xyz-reading", "dfnText": "9.2.3.1.2. Parse XYZ reading", "refSections": [{ "refs": [{ "id": "ref-for-parse-xyz-reading" }], "title": "9.2.3.1.2. Parse XYZ reading" }], "external": false };
        window.dfnpanelData['extension-specification'] = { "dfnID": "extension-specification", "url": "#extension-specification", "dfnText": "extension specifications", "refSections": [{ "refs": [{ "id": "ref-for-extension-specification" }], "title": "4.2.1. Secure Context" }, { "refs": [{ "id": "ref-for-extension-specification\u2460" }], "title": "4.3.1. Limit maximum sampling frequency" }, { "refs": [{ "id": "ref-for-extension-specification\u2461" }], "title": "5.5. Conditions to expose sensor readings" }, { "refs": [{ "id": "ref-for-extension-specification\u2462" }, { "id": "ref-for-extension-specification\u2463" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-extension-specification\u2464" }], "title": "8.13. Get value from latest reading" }, { "refs": [{ "id": "ref-for-extension-specification\u2465" }], "title": "9. Automation" }, { "refs": [{ "id": "ref-for-extension-specification\u2466" }], "title": "9.1. Virtual Sensors" }, { "refs": [{ "id": "ref-for-extension-specification\u2467" }], "title": "9.2.3.1. Algorithms for parsing readings" }, { "refs": [{ "id": "ref-for-extension-specification\u2468" }, { "id": "ref-for-extension-specification\u2460\u24ea" }, { "id": "ref-for-extension-specification\u2460\u2460" }, { "id": "ref-for-extension-specification\u2460\u2461" }], "title": "10. Extensibility" }, { "refs": [{ "id": "ref-for-extension-specification\u2460\u2462" }], "title": "10.1. Security and Privacy" }, { "refs": [{ "id": "ref-for-extension-specification\u2460\u2463" }], "title": "10.3. Unit" }, { "refs": [{ "id": "ref-for-extension-specification\u2460\u2464" }], "title": "10.4. Exposing High-Level vs. Low-Level Sensors" }, { "refs": [{ "id": "ref-for-extension-specification\u2460\u2465" }], "title": "10.5. When is Enabling Multiple Sensors of the Same Type Not the Right Choice?" }, { "refs": [{ "id": "ref-for-extension-specification\u2460\u2466" }, { "id": "ref-for-extension-specification\u2460\u2467" }, { "id": "ref-for-extension-specification\u2460\u2468" }, { "id": "ref-for-extension-specification\u2461\u24ea" }, { "id": "ref-for-extension-specification\u2461\u2460" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-extension-specification\u2461\u2461" }, { "id": "ref-for-extension-specification\u2461\u2462" }], "title": "10.7. Automation" }, { "refs": [{ "id": "ref-for-extension-specification\u2461\u2463" }], "title": "10.9. Extending the Permissions Policy API" }], "external": false };
        window.dfnpanelData['extension-sensor-interface'] = { "dfnID": "extension-sensor-interface", "url": "#extension-sensor-interface", "dfnText": "extension sensor interface", "refSections": [{ "refs": [{ "id": "ref-for-extension-sensor-interface" }], "title": "6.1. Sensor Type" }, { "refs": [{ "id": "ref-for-extension-sensor-interface\u2460" }, { "id": "ref-for-extension-sensor-interface\u2461" }], "title": "6.2. Sensor" }, { "refs": [{ "id": "ref-for-extension-sensor-interface\u2462" }], "title": "7.1. The Sensor Interface" }, { "refs": [{ "id": "ref-for-extension-sensor-interface\u2463" }, { "id": "ref-for-extension-sensor-interface\u2464" }, { "id": "ref-for-extension-sensor-interface\u2465" }, { "id": "ref-for-extension-sensor-interface\u2466" }], "title": "10.6. Definition Requirements" }, { "refs": [{ "id": "ref-for-extension-sensor-interface\u2467" }], "title": "10.7. Automation" }], "external": false };
        window.dfnpanelData['supported-sensor-options'] = { "dfnID": "supported-sensor-options", "url": "#supported-sensor-options", "dfnText": "supported sensor options", "refSections": [{ "refs": [{ "id": "ref-for-supported-sensor-options" }], "title": "8.1. Initialize a sensor object" }, { "refs": [{ "id": "ref-for-supported-sensor-options\u2460" }, { "id": "ref-for-supported-sensor-options\u2461" }], "title": "10.6. Definition Requirements" }], "external": false };
    </script>
    <script>/* Boilerplate: script-dom-helper */
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }
    </script>
    <script>/* Boilerplate: script-position-annos */
        "use strict";
        {

            function repositionAnnoPanels() {
                const panels = [...document.querySelectorAll("[data-anno-for]")];
                const main = document.querySelector("main");
                let mainRect;
                if (main) mainRect = main.getBoundingClientRect();
                for (const panel of panels) {
                    const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
                    if (!dfn) {
                        console.log("Can't find the annotation panel target:", panel);
                        continue;
                    }
                    const rect = dfn.getBoundingClientRect();
                    const top = window.scrollY + rect.top
                    panel.style.top = top + "px";
                    panel.top = top;
                    panel.height = rect.height;
                    panel.classList.remove("unpositioned");
                    const panelRect = panel.getBoundingClientRect()
                    if (main) {
                        panel.classList.toggle("overlapping-main", panelRect.left < mainRect.right)
                    }
                }
                let vSoFar = 0;
                for (const panel of panels.sort(cmpTops)) {
                    if (panel.top < vSoFar) {
                        panel.top = vSoFar;
                        panel.style.top = vSoFar + "px";
                    }
                    vSoFar = panel.top + panel.height + 15;
                }
            }

            function cmpTops(a, b) {
                return a.top - b.top;
            }

            window.addEventListener("load", repositionAnnoPanels);
            window.addEventListener("resize", repositionAnnoPanels);
        }
    </script>
    <script>/* Boilerplate: script-var-click-highlighting */
        /*
        Color-choosing design:
        
        Colors are ordered by goodness.
        Each color has a usage count (initially zero).
        Each variable has a last-used color.
        
        * If the var has a last-used color, and that color's usage is 0,
            return that color.
        * Otherwise, return the lowest-indexed color with the lowest usage.
            Increment the color's usage and set it as the last-used color
            for that var.
        * On unclicking, decrement usage of the color.
        */
        "use strict";
        {
            document.addEventListener("click", e => {
                if (e.target.nodeName == "VAR") {
                    highlightSameAlgoVars(e.target);
                }
            });
            const indexCounts = new Map();
            const indexNames = new Map();
            function highlightSameAlgoVars(v) {
                // Find the algorithm container.
                let algoContainer = null;
                let searchEl = v;
                while (algoContainer == null && searchEl != document.body) {
                    searchEl = searchEl.parentNode;
                    if (searchEl.hasAttribute("data-algorithm")) {
                        algoContainer = searchEl;
                    }
                }

                // Not highlighting document-global vars,
                // too likely to be unrelated.
                if (algoContainer == null) return;

                const algoName = algoContainer.getAttribute("data-algorithm");
                const varName = getVarName(v);
                const addClass = !v.classList.contains("selected");
                let highlightClass = null;
                if (addClass) {
                    const index = chooseHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] += 1;
                    indexNames.set(algoName + "///" + varName, index);
                    highlightClass = nameFromIndex(index);
                } else {
                    const index = previousHighlightIndex(algoName, varName);
                    indexCounts.get(algoName)[index] -= 1;
                    highlightClass = nameFromIndex(index);
                }

                // Find all same-name vars, and toggle their class appropriately.
                for (const el of algoContainer.querySelectorAll("var")) {
                    if (getVarName(el) == varName) {
                        el.classList.toggle("selected", addClass);
                        el.classList.toggle(highlightClass, addClass);
                    }
                }
            }
            function getVarName(el) {
                return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
            }
            function chooseHighlightIndex(algoName, varName) {
                let indexes = null;
                if (indexCounts.has(algoName)) {
                    indexes = indexCounts.get(algoName);
                } else {
                    // 7 classes right now
                    indexes = [0, 0, 0, 0, 0, 0, 0];
                    indexCounts.set(algoName, indexes);
                }

                // If the element was recently unclicked,
                // *and* that color is still unclaimed,
                // give it back the same color.
                const lastIndex = previousHighlightIndex(algoName, varName);
                if (indexes[lastIndex] === 0) return lastIndex;

                // Find the earliest index with the lowest count.
                const minCount = Math.min.apply(null, indexes);
                let index = null;
                for (var i = 0; i < indexes.length; i++) {
                    if (indexes[i] == minCount) {
                        return i;
                    }
                }
            }
            function previousHighlightIndex(algoName, varName) {
                return indexNames.get(algoName + "///" + varName);
            }
            function nameFromIndex(index) {
                return "selected" + index;
            }
        }
    </script>
    <script src="/dropdown.js"></script>