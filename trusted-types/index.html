<!doctype html>
<html lang="zh-hans">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <title>受信任的类型</title>
    <meta content="WD" name="w3c-status">
    <!-- <meta content="Bikeshed version 3f621ba99, updated Mon Jul 28 15:38:36 2025 -0700" name="generator"> -->
    <link href="https://www.w3.org/TR/trusted-types/" rel="canonical">
    <!-- <meta content="4193b7234b1188ee4f77e8fd1b162b5d0651c4dc" name="revision"> -->
    <meta content="dark light" name="color-scheme">
    <style>
        /* Boilerplate: style-autolinks */
        .css.css,
        .property.property,
        .descriptor.descriptor {
            color: var(--a-normal-text);
            font-size: inherit;
            font-family: inherit;
        }

        .css::before,
        .property::before,
        .descriptor::before {
            content: "‘";
        }

        .css::after,
        .property::after,
        .descriptor::after {
            content: "’";
        }

        .property,
        .descriptor {
            /* Don't wrap property and descriptor names */
            white-space: nowrap;
        }

        .type {
            /* CSS value <type> */
            font-style: italic;
        }

        pre .property::before,
        pre .property::after {
            content: "";
        }

        [data-link-type="property"]::before,
        [data-link-type="propdesc"]::before,
        [data-link-type="descriptor"]::before,
        [data-link-type="value"]::before,
        [data-link-type="function"]::before,
        [data-link-type="at-rule"]::before,
        [data-link-type="selector"]::before,
        [data-link-type="maybe"]::before {
            content: "‘";
        }

        [data-link-type="property"]::after,
        [data-link-type="propdesc"]::after,
        [data-link-type="descriptor"]::after,
        [data-link-type="value"]::after,
        [data-link-type="function"]::after,
        [data-link-type="at-rule"]::after,
        [data-link-type="selector"]::after,
        [data-link-type="maybe"]::after {
            content: "’";
        }

        [data-link-type].production::before,
        [data-link-type].production::after,
        .prod [data-link-type]::before,
        .prod [data-link-type]::after {
            content: "";
        }

        [data-link-type=element],
        [data-link-type=element-attr] {
            font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
            font-size: .9em;
        }

        [data-link-type=element]::before {
            content: "<"
        }

        [data-link-type=element]::after {
            content: ">"
        }

        [data-link-type=biblio] {
            white-space: pre;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --selflink-text: black;
                --selflink-bg: silver;
                --selflink-hover-text: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-colors */
        /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
        :root {
            color-scheme: light dark;

            --text: black;
            --bg: white;

            --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

            --logo-bg: #1a5e9a;
            --logo-active-bg: #c00;
            --logo-text: white;

            --tocnav-normal-text: #707070;
            --tocnav-normal-bg: var(--bg);
            --tocnav-hover-text: var(--tocnav-normal-text);
            --tocnav-hover-bg: #f8f8f8;
            --tocnav-active-text: #c00;
            --tocnav-active-bg: var(--tocnav-normal-bg);

            --tocsidebar-text: var(--text);
            --tocsidebar-bg: #f7f8f9;
            --tocsidebar-shadow: rgba(0, 0, 0, .1);
            --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

            --toclink-text: var(--text);
            --toclink-underline: #3980b5;
            --toclink-visited-text: var(--toclink-text);
            --toclink-visited-underline: #054572;

            --heading-text: #005a9c;

            --hr-text: var(--text);

            --algo-border: #def;

            --del-text: red;
            --del-bg: transparent;
            --ins-text: #080;
            --ins-bg: transparent;

            --a-normal-text: #034575;
            --a-normal-underline: #bbb;
            --a-visited-text: var(--a-normal-text);
            --a-visited-underline: #707070;
            --a-hover-bg: rgba(75%, 75%, 75%, .25);
            --a-active-text: #c00;
            --a-active-underline: #c00;

            --blockquote-border: silver;
            --blockquote-bg: transparent;
            --blockquote-text: currentcolor;

            --issue-border: #e05252;
            --issue-bg: #fbe9e9;
            --issue-text: var(--text);
            --issueheading-text: #831616;

            --example-border: #e0cb52;
            --example-bg: #fcfaee;
            --example-text: var(--text);
            --exampleheading-text: #574b0f;

            --note-border: #52e052;
            --note-bg: #e9fbe9;
            --note-text: var(--text);
            --noteheading-text: hsl(120, 70%, 30%);
            --notesummary-underline: silver;

            --assertion-border: #aaa;
            --assertion-bg: #eee;
            --assertion-text: black;

            --advisement-border: orange;
            --advisement-bg: #fec;
            --advisement-text: var(--text);
            --advisementheading-text: #b35f00;

            --warning-border: red;
            --warning-bg: hsla(40, 100%, 50%, 0.95);
            --warning-text: var(--text);

            --amendment-border: #330099;
            --amendment-bg: #F5F0FF;
            --amendment-text: var(--text);
            --amendmentheading-text: #220066;

            --def-border: #8ccbf2;
            --def-bg: #def;
            --def-text: var(--text);
            --defrow-border: #bbd7e9;

            --datacell-border: silver;

            --indexinfo-text: #707070;

            --indextable-hover-text: black;
            --indextable-hover-bg: #f7f8f9;

            --outdatedspec-bg: rgba(0, 0, 0, .5);
            --outdatedspec-text: black;
            --outdated-bg: maroon;
            --outdated-text: white;
            --outdated-shadow: red;

            --editedrec-bg: darkorange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text: #ddd;
                --bg: black;

                --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

                --logo-bg: #1a5e9a;
                --logo-active-bg: #c00;
                --logo-text: white;

                --tocnav-normal-text: #999;
                --tocnav-normal-bg: var(--bg);
                --tocnav-hover-text: var(--tocnav-normal-text);
                --tocnav-hover-bg: #080808;
                --tocnav-active-text: #f44;
                --tocnav-active-bg: var(--tocnav-normal-bg);

                --tocsidebar-text: var(--text);
                --tocsidebar-bg: #080808;
                --tocsidebar-shadow: rgba(255, 255, 255, .1);
                --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

                --toclink-text: var(--text);
                --toclink-underline: #6af;
                --toclink-visited-text: var(--toclink-text);
                --toclink-visited-underline: #054572;

                --heading-text: #8af;

                --hr-text: var(--text);

                --algo-border: #456;

                --del-text: #f44;
                --del-bg: transparent;
                --ins-text: #4a4;
                --ins-bg: transparent;

                --a-normal-text: #6af;
                --a-normal-underline: #555;
                --a-visited-text: var(--a-normal-text);
                --a-visited-underline: var(--a-normal-underline);
                --a-hover-bg: rgba(25%, 25%, 25%, .2);
                --a-active-text: #f44;
                --a-active-underline: var(--a-active-text);

                --borderedblock-bg: rgba(255, 255, 255, .05);

                --blockquote-border: silver;
                --blockquote-bg: var(--borderedblock-bg);
                --blockquote-text: currentcolor;

                --issue-border: #e05252;
                --issue-bg: var(--borderedblock-bg);
                --issue-text: var(--text);
                --issueheading-text: hsl(0deg, 70%, 70%);

                --example-border: hsl(50deg, 90%, 60%);
                --example-bg: var(--borderedblock-bg);
                --example-text: var(--text);
                --exampleheading-text: hsl(50deg, 70%, 70%);

                --note-border: hsl(120deg, 100%, 35%);
                --note-bg: var(--borderedblock-bg);
                --note-text: var(--text);
                --noteheading-text: hsl(120, 70%, 70%);
                --notesummary-underline: silver;

                --assertion-border: #444;
                --assertion-bg: var(--borderedblock-bg);
                --assertion-text: var(--text);

                --advisement-border: orange;
                --advisement-bg: #222218;
                --advisement-text: var(--text);
                --advisementheading-text: #f84;

                --warning-border: red;
                --warning-bg: hsla(40, 100%, 20%, 0.95);
                --warning-text: var(--text);

                --amendment-border: #330099;
                --amendment-bg: #080010;
                --amendment-text: var(--text);
                --amendmentheading-text: #cc00ff;

                --def-border: #8ccbf2;
                --def-bg: #080818;
                --def-text: var(--text);
                --defrow-border: #136;

                --datacell-border: silver;

                --indexinfo-text: #aaa;

                --indextable-hover-text: var(--text);
                --indextable-hover-bg: #181818;

                --outdatedspec-bg: rgba(255, 255, 255, .5);
                --outdatedspec-text: black;
                --outdated-bg: maroon;
                --outdated-text: white;
                --outdated-shadow: red;

                --editedrec-bg: darkorange;
            }

            /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
            img {
                background: white;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-counters */
        body {
            counter-reset: example figure issue;
        }

        .issue {
            counter-increment: issue;
        }

        .issue:not(.no-marker)::before {
            content: "Issue " counter(issue);
        }

        .example {
            counter-increment: example;
        }

        .example:not(.no-marker)::before {
            content: "Example " counter(example);
        }

        .invalid.example:not(.no-marker)::before,
        .illegal.example:not(.no-marker)::before {
            content: "Invalid Example " counter(example);
        }

        figcaption {
            counter-increment: figure;
        }

        figcaption:not(.no-marker)::before {
            content: "Figure " counter(figure) " ";
        }
    </style>
    <style>
        /* Boilerplate: style-dfn-panel */
        :root {
            --dfnpanel-bg: #ddd;
            --dfnpanel-text: var(--text);
            --dfnpanel-target-bg: #ffc;
            --dfnpanel-target-outline: orange;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --dfnpanel-bg: #222;
                --dfnpanel-text: var(--text);
                --dfnpanel-target-bg: #333;
                --dfnpanel-target-outline: silver;
            }
        }

        .dfn-panel {
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--dfnpanel-bg);
            color: var(--dfnpanel-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .dfn-panel:not(.on) {
            display: none;
        }

        .dfn-panel * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .dfn-panel>b {
            display: block;
        }

        .dfn-panel a {
            color: var(--dfnpanel-text);
        }

        .dfn-panel a:not(:hover) {
            text-decoration: none !important;
            border-bottom: none !important;
        }

        .dfn-panel a:focus {
            outline: 5px auto Highlight;
            outline: 5px auto -webkit-focus-ring-color;
        }

        .dfn-panel>b+b {
            margin-top: 0.25em;
        }

        .dfn-panel ul {
            padding: 0 0 0 1em;
            list-style: none;
        }

        .dfn-panel li a {
            max-width: calc(300px - 1.5em - 1em);
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: 8px;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
            transition: left 1s ease-out, bottom 1s ease-out;
        }

        .dfn-panel .link-item:hover {
            text-decoration: underline;
        }

        .dfn-panel .link-item .copy-icon {
            opacity: 0;
        }

        .dfn-panel .link-item:hover .copy-icon,
        .dfn-panel .link-item .copy-icon:focus {
            opacity: 1;
        }

        .dfn-panel .copy-icon {
            display: inline-block;
            margin-right: 0.5em;
            width: 0.85em;
            height: 1em;
            border-radius: 3px;
            background-color: #ccc;
            cursor: pointer;
        }

        .dfn-panel .copy-icon .icon {
            width: 100%;
            height: 100%;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .dfn-panel .copy-icon .icon::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background-color: #ccc;
            opacity: 0.25;
            transform: translate(3px, -3px);
        }

        .dfn-panel .copy-icon:active .icon::before {
            opacity: 1;
        }

        .dfn-paneled[role="button"] {
            cursor: help;
        }

        .highlighted {
            animation: target-fade 3s;
        }

        @keyframes target-fade {
            from {
                background-color: var(--dfnpanel-target-bg);
                outline: 5px solid var(--dfnpanel-target-outline);
            }

            to {
                color: var(--a-normal-text);
                background-color: transparent;
                outline: transparent;
            }
        }
    </style>
    <style>
        /* Boilerplate: style-idl-highlighting */
        pre.idl.highlight {
            background: var(--borderedblock-bg, var(--def-bg));
        }
    </style>
    <style>
        /* Boilerplate: style-issues */
        a[href].issue-return {
            float: right;
            float: inline-end;
            color: var(--issueheading-text);
            font-weight: bold;
            text-decoration: none;
        }
    </style>
    <style>
        /* Boilerplate: style-md-lists */
        /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
        [data-md]> :first-child {
            margin-top: 0;
        }

        [data-md]> :last-child {
            margin-bottom: 0;
        }
    </style>
    <style>
        /* Boilerplate: style-mdn-anno */
        :root {
            --mdn-bg: #EEE;
            --mdn-shadow: #999;
            --mdn-nosupport-text: #ccc;
            --mdn-pass: green;
            --mdn-fail: red;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --mdn-bg: #222;
                --mdn-shadow: #444;
                --mdn-nosupport-text: #666;
                --mdn-pass: #690;
                --mdn-fail: #d22;
            }
        }

        .mdn-anno {
            background: var(--mdn-bg, #EEE);
            border-radius: .25em;
            box-shadow: 0 0 3px var(--mdn-shadow, #999);
            color: var(--text, black);
            font: 1em sans-serif;
            hyphens: none;
            max-width: min-content;
            overflow: hidden;
            padding: 0.2em;
            position: absolute;
            right: 0.3em;
            top: auto;
            white-space: nowrap;
            word-wrap: normal;
            z-index: 8;
        }

        .mdn-anno.unpositioned {
            display: none;
        }

        .mdn-anno.overlapping-main {
            opacity: .2;
            transition: opacity .1s;
        }

        .mdn-anno[open] {
            opacity: 1;
            z-index: 9;
            min-width: 9em;
        }

        .mdn-anno:hover {
            opacity: 1;
            outline: var(--text, black) 1px solid;
        }

        .mdn-anno>summary {
            font-weight: normal;
            text-align: right;
            cursor: pointer;
            display: block;
        }

        .mdn-anno>summary>.less-than-two-engines-flag {
            color: var(--mdn-fail);
            padding-right: 2px;
        }

        .mdn-anno>summary>.all-engines-flag {
            color: var(--mdn-pass);
            padding-right: 2px;
        }

        .mdn-anno>summary>span {
            color: #fff;
            background-color: #000;
            font-weight: normal;
            font-family: zillaslab, Palatino, "Palatino Linotype", serif;
            padding: 2px 3px 0px 3px;
            line-height: 1.3em;
            vertical-align: top;
        }

        .mdn-anno>.feature {
            margin-top: 20px;
        }

        .mdn-anno>.feature:not(:first-of-type) {
            border-top: 1px solid #999;
            margin-top: 6px;
            padding-top: 2px;
        }

        .mdn-anno>.feature>.less-than-two-engines-text {
            color: var(--mdn-fail);
        }

        .mdn-anno>.feature>.all-engines-text {
            color: var(--mdn-pass);
        }

        .mdn-anno>.feature>p {
            font-size: .75em;
            margin-top: 6px;
            margin-bottom: 0;
        }

        .mdn-anno>.feature>p+p {
            margin-top: 3px;
        }

        .mdn-anno>.feature>.support {
            display: block;
            font-size: 0.6em;
            margin: 0;
            padding: 0;
            margin-top: 2px;
        }

        .mdn-anno>.feature>.support+div {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>hr {
            display: block;
            border: none;
            border-top: 1px dotted #999;
            padding: 3px 0px 0px 0px;
            margin: 2px 3px 0px 3px;
        }

        .mdn-anno>.feature>.support>hr::before {
            content: "";
        }

        .mdn-anno>.feature>.support>span {
            padding: 0.2em 0;
            display: block;
            display: table;
        }

        .mdn-anno>.feature>.support>span.no {
            color: var(--mdn-nosupport-text);
            filter: grayscale(100%);
        }

        .mdn-anno>.feature>.support>span.no::before {
            opacity: 0.5;
        }

        .mdn-anno>.feature>.support>span:first-of-type {
            padding-top: 0.5em;
        }

        .mdn-anno>.feature>.support>span>span {
            padding: 0 0.5em;
            display: table-cell;
        }

        .mdn-anno>.feature>.support>span>span:first-child {
            width: 100%;
        }

        .mdn-anno>.feature>.support>span>span:last-child {
            width: 100%;
            white-space: pre;
            padding: 0;
        }

        .mdn-anno>.feature>.support>span::before {
            content: ' ';
            display: table-cell;
            min-width: 1.5em;
            height: 1.5em;
            background: no-repeat center center;
            background-size: contain;
            text-align: right;
            font-size: 0.75em;
            font-weight: bold;
        }

        .mdn-anno>.feature>.support>.chrome_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.firefox_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.chrome::before {
            background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
        }

        .mdn-anno>.feature>.support>.edge_blink::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
        }

        .mdn-anno>.feature>.support>.edge::before {
            background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
        }

        .mdn-anno>.feature>.support>.firefox::before {
            background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
        }

        .mdn-anno>.feature>.support>.ie::before {
            background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
        }

        .mdn-anno>.feature>.support>.safari_ios::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
        }

        .mdn-anno>.feature>.support>.nodejs::before {
            background-image: url(https://nodejs.org/favicon.ico);
        }

        .mdn-anno>.feature>.support>.opera_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.opera::before {
            background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
        }

        .mdn-anno>.feature>.support>.safari::before {
            background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
        }

        .mdn-anno>.feature>.support>.samsunginternet_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
        }

        .mdn-anno>.feature>.support>.webview_android::before {
            background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
        }

        .name-slug-mismatch {
            color: red;
        }

        .caniuse-status:hover {
            z-index: 9;
        }

        /* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */
        ;

        .h-entry:not(.status-LS) dt>.mdn-anno,
        .h-entry:not(.status-LS) li>.mdn-anno,
        .h-entry:not(.status-LS) .issue>.mdn-anno,
        .h-entry:not(.status-LS) .note>.mdn-anno,
        .h-entry:not(.status-LS) .example>.mdn-anno {
            right: -6.7em;
        }

        .h-entry p+.mdn-anno {
            margin-top: 0;
        }

        h2+.mdn-anno.after {
            margin: -48px 0 0 0;
        }

        h3+.mdn-anno.after {
            margin: -46px 0 0 0;
        }

        h4+.mdn-anno.after {
            margin: -42px 0 0 0;
        }

        h5+.mdn-anno.after {
            margin: -40px 0 0 0;
        }

        h6+.mdn-anno.after {
            margin: -40px 0 0 0;
        }
    </style>
    <style>
        /* Boilerplate: style-ref-hints */
        :root {
            --ref-hint-bg: #ddd;
            --ref-hint-text: var(--text);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --ref-hint-bg: #222;
                --ref-hint-text: var(--text);
            }
        }

        .ref-hint {
            display: inline-block;
            position: absolute;
            z-index: 35;
            width: 20em;
            width: 300px;
            height: auto;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.5em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: var(--ref-hint-bg);
            color: var(--ref-hint-text);
            border: outset 0.2em;
            white-space: normal;
            /* in case it's moved into a pre */
        }

        .ref-hint * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        .ref-hint ul {
            padding: 0 0 0 1em;
            list-style: none;
        }
    </style>
    <style>
        /* Boilerplate: style-selflinks */
        :root {
            --selflink-text: white;
            --selflink-bg: gray;
            --selflink-hover-text: black;
        }

        .heading,
        .issue,
        .note,
        .example,
        li,
        dt {
            position: relative;
        }

        a.self-link {
            position: absolute;
            top: 0;
            left: calc(-1 * (3.5rem - 26px));
            width: calc(3.5rem - 26px);
            height: 2em;
            text-align: center;
            border: none;
            transition: opacity .2s;
            opacity: .5;
        }

        a.self-link:hover {
            opacity: 1;
        }

        .heading>a.self-link {
            font-size: 83%;
        }

        .example>a.self-link,
        .note>a.self-link,
        .issue>a.self-link {
            /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
            left: auto;
            right: 0;
        }

        li>a.self-link {
            left: calc(-1 * (3.5rem - 26px) - 2em);
        }

        dfn>a.self-link {
            top: auto;
            left: auto;
            opacity: 0;
            width: 1.5em;
            height: 1.5em;
            background: var(--selflink-bg);
            color: var(--selflink-text);
            font-style: normal;
            transition: opacity .2s, background-color .2s, color .2s;
        }

        dfn:hover>a.self-link {
            opacity: 1;
        }

        dfn>a.self-link:hover {
            color: var(--selflink-hover-text);
        }

        a.self-link::before {
            content: "¶";
        }

        .heading>a.self-link::before {
            content: "§";
        }

        dfn>a.self-link::before {
            content: "#";
        }
    </style>
    <style>
        /* Boilerplate: style-syntax-highlighting */
        code.highlight {
            padding: .1em;
            border-radius: .3em;
        }

        pre.highlight,
        pre>code.highlight {
            display: block;
            padding: 1em;
            margin: .5em 0;
            overflow: auto;
            border-radius: 0;
        }

        .highlight:not(.idl) {
            background: rgba(0, 0, 0, .03);
        }

        c-[a] {
            color: #990055
        }

        /* Keyword.Declaration */
        c-[b] {
            color: #990055
        }

        /* Keyword.Type */
        c-[c] {
            color: #708090
        }

        /* Comment */
        c-[d] {
            color: #708090
        }

        /* Comment.Multiline */
        c-[e] {
            color: #0077aa
        }

        /* Name.Attribute */
        c-[f] {
            color: #669900
        }

        /* Name.Tag */
        c-[g] {
            color: #222222
        }

        /* Name.Variable */
        c-[k] {
            color: #990055
        }

        /* Keyword */
        c-[l] {
            color: #000000
        }

        /* Literal */
        c-[m] {
            color: #000000
        }

        /* Literal.Number */
        c-[n] {
            color: #0077aa
        }

        /* Name */
        c-[o] {
            color: #999999
        }

        /* Operator */
        c-[p] {
            color: #999999
        }

        /* Punctuation */
        c-[s] {
            color: #a67f59
        }

        /* Literal.String */
        c-[t] {
            color: #a67f59
        }

        /* Literal.String.Single */
        c-[u] {
            color: #a67f59
        }

        /* Literal.String.Double */
        c-[cp] {
            color: #708090
        }

        /* Comment.Preproc */
        c-[c1] {
            color: #708090
        }

        /* Comment.Single */
        c-[cs] {
            color: #708090
        }

        /* Comment.Special */
        c-[kc] {
            color: #990055
        }

        /* Keyword.Constant */
        c-[kn] {
            color: #990055
        }

        /* Keyword.Namespace */
        c-[kp] {
            color: #990055
        }

        /* Keyword.Pseudo */
        c-[kr] {
            color: #990055
        }

        /* Keyword.Reserved */
        c-[ld] {
            color: #000000
        }

        /* Literal.Date */
        c-[nc] {
            color: #0077aa
        }

        /* Name.Class */
        c-[no] {
            color: #0077aa
        }

        /* Name.Constant */
        c-[nd] {
            color: #0077aa
        }

        /* Name.Decorator */
        c-[ni] {
            color: #0077aa
        }

        /* Name.Entity */
        c-[ne] {
            color: #0077aa
        }

        /* Name.Exception */
        c-[nf] {
            color: #0077aa
        }

        /* Name.Function */
        c-[nl] {
            color: #0077aa
        }

        /* Name.Label */
        c-[nn] {
            color: #0077aa
        }

        /* Name.Namespace */
        c-[py] {
            color: #0077aa
        }

        /* Name.Property */
        c-[ow] {
            color: #999999
        }

        /* Operator.Word */
        c-[mb] {
            color: #000000
        }

        /* Literal.Number.Bin */
        c-[mf] {
            color: #000000
        }

        /* Literal.Number.Float */
        c-[mh] {
            color: #000000
        }

        /* Literal.Number.Hex */
        c-[mi] {
            color: #000000
        }

        /* Literal.Number.Integer */
        c-[mo] {
            color: #000000
        }

        /* Literal.Number.Oct */
        c-[sb] {
            color: #a67f59
        }

        /* Literal.String.Backtick */
        c-[sc] {
            color: #a67f59
        }

        /* Literal.String.Char */
        c-[sd] {
            color: #a67f59
        }

        /* Literal.String.Doc */
        c-[se] {
            color: #a67f59
        }

        /* Literal.String.Escape */
        c-[sh] {
            color: #a67f59
        }

        /* Literal.String.Heredoc */
        c-[si] {
            color: #a67f59
        }

        /* Literal.String.Interpol */
        c-[sx] {
            color: #a67f59
        }

        /* Literal.String.Other */
        c-[sr] {
            color: #a67f59
        }

        /* Literal.String.Regex */
        c-[ss] {
            color: #a67f59
        }

        /* Literal.String.Symbol */
        c-[vc] {
            color: #0077aa
        }

        /* Name.Variable.Class */
        c-[vg] {
            color: #0077aa
        }

        /* Name.Variable.Global */
        c-[vi] {
            color: #0077aa
        }

        /* Name.Variable.Instance */
        c-[il] {
            color: #000000
        }

        /* Literal.Number.Integer.Long */

        @media (prefers-color-scheme: dark) {
            .highlight:not(.idl) {
                background: rgba(255, 255, 255, .05);
            }

            c-[a] {
                color: #d33682
            }

            /* Keyword.Declaration */
            c-[b] {
                color: #d33682
            }

            /* Keyword.Type */
            c-[c] {
                color: #2aa198
            }

            /* Comment */
            c-[d] {
                color: #2aa198
            }

            /* Comment.Multiline */
            c-[e] {
                color: #268bd2
            }

            /* Name.Attribute */
            c-[f] {
                color: #b58900
            }

            /* Name.Tag */
            c-[g] {
                color: #cb4b16
            }

            /* Name.Variable */
            c-[k] {
                color: #d33682
            }

            /* Keyword */
            c-[l] {
                color: #657b83
            }

            /* Literal */
            c-[m] {
                color: #657b83
            }

            /* Literal.Number */
            c-[n] {
                color: #268bd2
            }

            /* Name */
            c-[o] {
                color: #657b83
            }

            /* Operator */
            c-[p] {
                color: #657b83
            }

            /* Punctuation */
            c-[s] {
                color: #6c71c4
            }

            /* Literal.String */
            c-[t] {
                color: #6c71c4
            }

            /* Literal.String.Single */
            c-[u] {
                color: #6c71c4
            }

            /* Literal.String.Double */
            c-[ch] {
                color: #2aa198
            }

            /* Comment.Hashbang */
            c-[cp] {
                color: #2aa198
            }

            /* Comment.Preproc */
            c-[cpf] {
                color: #2aa198
            }

            /* Comment.PreprocFile */
            c-[c1] {
                color: #2aa198
            }

            /* Comment.Single */
            c-[cs] {
                color: #2aa198
            }

            /* Comment.Special */
            c-[kc] {
                color: #d33682
            }

            /* Keyword.Constant */
            c-[kn] {
                color: #d33682
            }

            /* Keyword.Namespace */
            c-[kp] {
                color: #d33682
            }

            /* Keyword.Pseudo */
            c-[kr] {
                color: #d33682
            }

            /* Keyword.Reserved */
            c-[ld] {
                color: #657b83
            }

            /* Literal.Date */
            c-[nc] {
                color: #268bd2
            }

            /* Name.Class */
            c-[no] {
                color: #268bd2
            }

            /* Name.Constant */
            c-[nd] {
                color: #268bd2
            }

            /* Name.Decorator */
            c-[ni] {
                color: #268bd2
            }

            /* Name.Entity */
            c-[ne] {
                color: #268bd2
            }

            /* Name.Exception */
            c-[nf] {
                color: #268bd2
            }

            /* Name.Function */
            c-[nl] {
                color: #268bd2
            }

            /* Name.Label */
            c-[nn] {
                color: #268bd2
            }

            /* Name.Namespace */
            c-[py] {
                color: #268bd2
            }

            /* Name.Property */
            c-[ow] {
                color: #657b83
            }

            /* Operator.Word */
            c-[mb] {
                color: #657b83
            }

            /* Literal.Number.Bin */
            c-[mf] {
                color: #657b83
            }

            /* Literal.Number.Float */
            c-[mh] {
                color: #657b83
            }

            /* Literal.Number.Hex */
            c-[mi] {
                color: #657b83
            }

            /* Literal.Number.Integer */
            c-[mo] {
                color: #657b83
            }

            /* Literal.Number.Oct */
            c-[sa] {
                color: #6c71c4
            }

            /* Literal.String.Affix */
            c-[sb] {
                color: #6c71c4
            }

            /* Literal.String.Backtick */
            c-[sc] {
                color: #6c71c4
            }

            /* Literal.String.Char */
            c-[dl] {
                color: #6c71c4
            }

            /* Literal.String.Delimiter */
            c-[sd] {
                color: #6c71c4
            }

            /* Literal.String.Doc */
            c-[se] {
                color: #6c71c4
            }

            /* Literal.String.Escape */
            c-[sh] {
                color: #6c71c4
            }

            /* Literal.String.Heredoc */
            c-[si] {
                color: #6c71c4
            }

            /* Literal.String.Interpol */
            c-[sx] {
                color: #6c71c4
            }

            /* Literal.String.Other */
            c-[sr] {
                color: #6c71c4
            }

            /* Literal.String.Regex */
            c-[ss] {
                color: #6c71c4
            }

            /* Literal.String.Symbol */
            c-[fm] {
                color: #268bd2
            }

            /* Name.Function.Magic */
            c-[vc] {
                color: #cb4b16
            }

            /* Name.Variable.Class */
            c-[vg] {
                color: #cb4b16
            }

            /* Name.Variable.Global */
            c-[vi] {
                color: #cb4b16
            }

            /* Name.Variable.Instance */
            c-[vm] {
                color: #cb4b16
            }

            /* Name.Variable.Magic */
            c-[il] {
                color: #657b83
            }

            /* Literal.Number.Integer.Long */
        }
    </style>
    <style>
        /* Boilerplate: style-wpt */
        :root {
            --wpt-border: hsl(0, 0%, 60%);
            --wpt-bg: hsl(0, 0%, 95%);
            --wpt-text: var(--text);
            --wptheading-text: hsl(0, 0%, 30%);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --wpt-border: hsl(0, 0%, 30%);
                --wpt-bg: var(--borderedblock-bg);
                --wpt-text: var(--text);
                --wptheading-text: hsl(0, 0%, 60%);
            }
        }

        .wpt-tests-block {
            list-style: none;
            border-left: .5em solid var(--wpt-border);
            background: var(--wpt-bg);
            color: var(--wpt-text);
            margin: 1em auto;
            padding: .5em;
        }

        .wpt-tests-block summary {
            color: var(--wptheading-text);
            font-weight: normal;
            text-transform: uppercase;
        }

        .wpt-tests-block summary::marker {
            color: var(--wpt-border);
        }

        .wpt-tests-block summary:hover::marker {
            color: var(--wpt-text);
        }

        /*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
        .wpt-tests-block:not([open]) {
            padding: 0;
            border: none;
            background: none;
            font-size: 0.75em;
            line-height: 1;
            position: relative;
            margin: 1em 0 0;
        }

        .wpt-tests-block:not([open]) summary {
            position: absolute;
            right: 0;
            bottom: 0;
        }

        /*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
        .wpt-tests-block:not([open]):last-child {
            padding-bottom: 1px;
            margin-bottom: -1px;
        }

        /*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
        li:not(:last-child)>.wpt-tests-block:not([open]):last-child,
        dd:not(:last-child)>.wpt-tests-block:not([open]):last-child {
            padding-bottom: 0;
            margin-bottom: 0;
        }

        .wpt-tests-block:not([open]):not(:hover) {
            opacity: 0.5;
        }

        .wpt-tests-list {
            list-style: none;
            display: grid;
            margin: 0;
            padding: 0;
            grid-template-columns: 1fr max-content auto auto;
            grid-column-gap: .5em;
        }

        .wpt-tests-block hr:last-child {
            display: none;
        }

        .wpt-test {
            display: contents;
        }

        .wpt-test>a {
            text-decoration: underline;
            border: none;
        }

        .wpt-test>.wpt-name {
            grid-column: 1;
        }

        .wpt-test>.wpt-results {
            grid-column: 2;
        }

        .wpt-test>.wpt-live {
            grid-column: 3;
        }

        .wpt-test>.wpt-source {
            grid-column: 4;
        }

        .wpt-test>.wpt-results {
            display: flex;
            gap: .1em;
        }

        .wpt-test .wpt-result {
            display: inline-block;
            height: 1em;
            width: 1em;
            border-radius: 50%;
            position: relative;
        }
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">
    <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
        type="text/css">

<body class="h-entry">
    <div class="head">
        <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
                <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
            </a>
        </p>
        <h1 class="p-name no-ref" id="title">受信任的类型</h1>
        <p id="w3c-state"><a href="https://www.w3.org/standards/types/#WD">W3C 工作草案</a>,
            <time class="dt-updated" datetime="2026-02-24">2026年2月24日</time>
        </p>
        <details open>
            <summary>更多关于本文档的信息</summary>
            <div data-fill-with="spec-metadata">
                <dl>
                    <dt>此版本:
                    <dd><a class="u-url"
                            href="https://www.w3.org/TR/2026/WD-trusted-types-20260224/">https://www.w3.org/TR/2026/WD-trusted-types-20260224/</a>
                    <dt>最新发布版本:
                    <dd><a href="https://www.w3.org/TR/trusted-types/">https://www.w3.org/TR/trusted-types/</a>
                    <dt>编辑草案:
                    <dd><a
                            href="https://w3c.github.io/trusted-types/dist/spec/">https://w3c.github.io/trusted-types/dist/spec/</a>
                    <dt>以往版本:
                    <dd><a href="https://www.w3.org/TR/2025/WD-trusted-types-20251103/"
                            rel="prev">https://www.w3.org/TR/2025/WD-trusted-types-20251103/</a>
                    <dt>历史记录:
                    <dd><a class="u-url"
                            href="https://www.w3.org/standards/history/trusted-types/">https://www.w3.org/standards/history/trusted-types/</a>
                    <dt>反馈:
                    <dd><span><a
                                href="mailto:public-webappsec@w3.org?subject=%5Btrusted-types%5D%20YOUR%20TOPIC%20HERE">public-webappsec@w3.org</a>
                            邮件主题 “<kbd>[trusted-types] <i data-lt>… 消息主题 …</i></kbd>” (<a
                                href="https://lists.w3.org/Archives/Public/public-webappsec/"
                                rel="discussion">存档</a>)</span>
                    <dd><a href="https://github.com/w3c/trusted-types/issues/">GitHub</a>
                    <dd><a href="#issues-index">规范内标注</a>
                    <dt class="editor">编辑:
                    <dd class="editor p-author h-card vcard" data-editor-id="110276"><a class="p-name fn u-email email"
                            href="mailto:koto@google.com">Krzysztof Kotowicz</a> (<a class="p-org org"
                            href="https://google.com">Google LLC</a>)
                    <dt class="editor">前任编辑:
                    <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
                            href="mailto:mkwst@google.com">Mike West</a> (<a class="p-org org"
                            href="https://google.com">Google LLC</a>)
                    <dt>测试套件:
                    <dd class="wpt-overview"><a
                            href="https://wpt.fyi/results/trusted-types/">https://wpt.fyi/results/trusted-types/</a>
                </dl>
            </div>
        </details>
        <div data-fill-with="warning"></div>
        <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
            2026 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
                title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
                href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
                href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
                href="https://www.w3.org/copyright/software-license/" rel="license"
                title="W3C Software and Document License">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <div class="p-summary" data-fill-with="abstract">
        <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
        <p>一种API，允许应用程序将强大的API锁定为仅接受不可伪造的、带类型的值来替代字符串，以防止因使用攻击者可控输入调用这些API而导致的安全漏洞。</p>
    </div>
    <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文档状态</span></h2>
    <div data-fill-with="status">
        <p>
            <em>本节描述了本文件在发布时的状态。当前W3C出版物列表和本技术报告的最新修订版可在<a href="https://www.w3.org/TR/">W3C技术报告索引</a>中找到。</em>

        </p>
        <p>
            本文档由
            <a href="https://www.w3.org/groups/wg/webappsec">Web 应用安全工作组</a>
            作为工作草案，根据<a href="https://www.w3.org/policies/process/20250818/#recs-and-notes">推荐标准流程</a>发布。本文件计划成为W3C推荐标准。

        </p>
        <p>
            (<a href="https://lists.w3.org/Archives/Public/public-webappsec/">有存档</a>)的公共邮件列表
            <a
                href="mailto:public-webappsec@w3.org?Subject=%5Btrusted-types%5D%20PUT%20SUBJECT%20HERE">public-webappsec@w3.org</a>
            (参见<a href="https://www.w3.org/Mail/Request">说明</a>)
            是讨论本规范的首选方式。
            发送电子邮件时，
            请在主题中包含“trusted-types”字样，
            推荐如下格式：
            “[trusted-types] <em>…评论摘要…</em>”

        </p>
        <p>
            作为工作草案发布并不代表
            <abbr title="World Wide Web Consortium">W3C</abbr>及其成员的认可。本文档为草稿，可能会随时更新、替换或被其他文档取代。除作为进行中的工作，引用本文件并不合适。

        </p>
        <p>
            本文档由
            <a href="https://www.w3.org/groups/wg/webappsec">Web 应用安全工作组</a>制作。

        </p>
        <p>
            本文件由遵循<a href="https://www.w3.org/policies/patent-policy/">W3C专利政策</a>的工作组产生。
            W3C 维护一份<a href="https://www.w3.org/groups/wg/webappsec/ipr" rel="disclosure">与本组交付物相关的专利披露公开列表</a>；
            该页面还包括披露专利的说明。
            任何掌握与<a href="https://www.w3.org/policies/patent-policy/#def-essential">基本专利要求</a>相关专利的个人，
            必须根据<a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">W3C专利政策第6节</a>披露相关信息。

        </p>
        <p>
            本文档遵循<a href="https://www.w3.org/policies/process/20250818/"
                id="w3c_process_revision">2025年8月18日版W3C流程文件</a>管理。

        </p>
        <p></p>
    </div>
    <div data-fill-with="at-risk"></div>
    <nav data-fill-with="table-of-contents" id="toc">
        <h2 class="no-num no-toc no-ref" id="contents">目录</h2>
        <ol class="toc">
            <li>
                <a href="#introduction"><span class="secno">1</span> <span class="content">介绍</span></a>
                <ol class="toc">
                    <li><a href="#goals"><span class="secno">1.1</span> <span class="content">目标</span></a>
                    <li><a href="#non-goals"><span class="secno">1.2</span> <span class="content">非目标</span></a>
                    <li><a href="#use-cases"><span class="secno">1.3</span> <span class="content">使用场景</span></a>
                </ol>
            <li>
                <a href="#framework"><span class="secno">2</span> <span class="content">框架</span></a>
                <ol class="toc">
                    <li>
                        <a href="#injection-sinks"><span class="secno">2.1</span> <span class="content">注入点</span></a>
                        <ol class="toc">
                            <li><a href="#dom-xss-injection-sinks"><span class="secno">2.1.1</span> <span
                                        class="content">DOM XSS 注入点</span></a>
                        </ol>
                    <li>
                        <a href="#trusted-types"><span class="secno">2.2</span> <span class="content">受信任类型</span></a>
                        <ol class="toc">
                            <li><a href="#trusted-html"><span class="secno">2.2.1</span> <span
                                        class="content"><span><code>TrustedHTML</code></span></span></a>
                            <li><a href="#trusted-script"><span class="secno">2.2.2</span> <span
                                        class="content"><span><code>TrustedScript</code></span></span></a>
                            <li><a href="#trused-script-url"><span class="secno">2.2.3</span> <span
                                        class="content"><span><code>TrustedScriptURL</code></span></span></a>
                        </ol>
                    <li>
                        <a href="#policies-hdr"><span class="secno">2.3</span> <span
                                class="content"><span>策略</span></span></a>
                        <ol class="toc">
                            <li><a href="#trusted-type-policy-factory"><span class="secno">2.3.1</span> <span
                                        class="content"><span><code>TrustedTypePolicyFactory</code></span></span></a>
                            <li><a href="#trusted-type-policy"><span class="secno">2.3.2</span> <span
                                        class="content"><span><code>TrustedTypePolicy</code></span></span></a>
                            <li><a href="#trusted-type-policy-options"><span class="secno">2.3.3</span> <span
                                        class="content"><span><code>TrustedTypePolicyOptions</code></span></span></a>
                            <li><a href="#default-policy-hdr"><span class="secno">2.3.4</span> <span
                                        class="content"><span>默认策略</span></span></a>
                        </ol>
                    <li>
                        <a href="#enforcement-hdr"><span class="secno">2.4</span> <span
                                class="content"><span>强制</span></span></a>
                        <ol class="toc">
                            <li><a href="#content-security-policy-hdr"><span class="secno">2.4.1</span> <span
                                        class="content">内容安全策略</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#algorithms"><span class="secno">3</span> <span class="content">算法</span></a>
                <ol class="toc">
                    <li><a href="#create-trusted-type-policy-algorithm"><span class="secno">3.1</span> <span
                                class="content">创建受信任类型策略</span></a>
                    <li><a href="#create-a-trusted-type-algorithm"><span class="secno">3.2</span> <span
                                class="content">创建受信任类型</span></a>
                    <li><a href="#get-trusted-type-policy-value-algorithm"><span class="secno">3.3</span> <span
                                class="content">获取受信任类型策略值</span></a>
                    <li><a href="#get-trusted-type-compliant-string-algorithm"><span class="secno">3.4</span> <span
                                class="content">获取受信任类型合规字符串</span></a>
                    <li><a href="#process-value-with-a-default-policy-algorithm"><span class="secno">3.5</span> <span
                                class="content">通过默认策略处理值</span></a>
                    <li><a href="#prepare-script-text"><span class="secno">3.6</span> <span
                                class="content">准备脚本文本</span></a>
                    <li><a href="#validate-attribute-mutation"><span class="secno">3.7</span> <span
                                class="content">获取受信任类型合规属性值</span></a>
                    <li><a href="#get-trusted-type-data-for-attribute"><span class="secno">3.8</span> <span
                                class="content">获取属性的受信任类型数据</span></a>
                </ol>
            <li>
                <a href="#integrations"><span class="secno">4</span> <span class="content">集成</span></a>
                <ol class="toc">
                    <li>
                        <a href="#integration-with-html"><span class="secno">4.1</span> <span
                                class="content">与HTML的集成</span></a>
                        <ol class="toc">
                            <li><a href="#extensions-to-the-windoworworkerglobalscope-interface"><span
                                        class="secno">4.1.1</span> <span
                                        class="content">WindowOrWorkerGlobalScope接口扩展</span></a>
                            <li>
                                <a href="#enforcement-in-scripts"><span class="secno">4.1.2</span> <span
                                        class="content">脚本中的强制</span></a>
                                <ol class="toc">
                                    <li><a href="#slots-with-trusted-values"><span class="secno">4.1.2.1</span> <span
                                                class="content">带受信任值的插槽</span></a>
                                    <li><a href="#the-innerText-idl-attribute"><span class="secno">4.1.2.2</span> <span
                                                class="content"><code class="idl"><span>innerText</span></code>
                                                IDL属性</span></a>
                                    <li><a href="#the-textContent-idl-attribute"><span class="secno">4.1.2.3</span>
                                            <span class="content"><code class="idl"><span>textContent</span></code>
                                                IDL属性</span></a>
                                    <li><a href="#the-text-idl-attribute"><span class="secno">4.1.2.4</span> <span
                                                class="content"><code class="idl"><span>text</span></code>
                                                IDL属性</span></a>
                                    <li><a href="#the-src-idl-attribute"><span class="secno">4.1.2.5</span> <span
                                                class="content"><code class="idl"><span>src</span></code>
                                                IDL属性</span></a>
                                    <li><a href="#setting-slot-values-from-parser"><span class="secno">4.1.2.6</span>
                                            <span class="content">从解析器设置插槽值</span></a>
                                    <li><a href="#slot-value-verification"><span class="secno">4.1.2.7</span> <span
                                                class="content">插槽值校验</span></a>
                                </ol>
                        </ol>

                    <li>
                        <a href="#integration-with-content-security-policy"><span class="secno">4.2</span> <span
                                class="content">与内容安全策略的集成</span></a>
                        <ol class="toc">
                            <li>
                                <a href="#require-trusted-types-for-csp-directive"><span class="secno">4.2.1</span>
                                    <span class="content"><span>require-trusted-types-for</span> 指令</span></a>
                                <ol class="toc">
                                    <li><a href="#require-trusted-types-for-pre-navigation-check"><span
                                                class="secno">4.2.1.1</span> <span
                                                class="content"><code>require-trusted-types-for</code> 预导航检查</span></a>
                                </ol>
                            <li><a href="#trusted-types-csp-directive"><span class="secno">4.2.2</span> <span
                                        class="content"><span>trusted-types</span> 指令</span></a>
                            <li><a href="#does-sink-require-trusted-types"><span class="secno">4.2.3</span> <span
                                        class="content">注入点类型是否需要受信任类型？</span></a>
                            <li><a href="#should-block-sink-type-mismatch"><span class="secno">4.2.4</span> <span
                                        class="content">内容安全策略是否应阻止注入点类型不匹配违规？</span></a>
                            <li><a href="#should-block-create-policy"><span class="secno">4.2.5</span> <span
                                        class="content">内容安全策略是否应阻止受信任类型策略的创建？</span></a>
                        </ol>
                </ol>
            <li>
                <a href="#security-considerations"><span class="secno">5</span> <span class="content">安全性注意事项</span></a>
                <ol class="toc">
                    <li><a href="#cross-document-vectors"><span class="secno">5.1</span> <span
                                class="content">跨文档向量</span></a>
                    <li><a href="#deprecated-features"><span class="secno">5.2</span> <span
                                class="content">已弃用特性</span></a>
                    <li><a href="#script-gadgets"><span class="secno">5.3</span> <span class="content">脚本组件</span></a>
                    <li><a href="#best-practices-for-policy-design"><span class="secno">5.4</span> <span
                                class="content">策略设计最佳实践</span></a>
                </ol>
            <li><a href="#privacy-considerations"><span class="secno">6</span> <span class="content">隐私注意事项</span></a>
            <li>
                <a href="#implementation-considerations"><span class="secno">7</span> <span
                        class="content">实现相关注意事项</span></a>
                <ol class="toc">
                    <li><a href="#vendor-specific-extensions-and-addons"><span class="secno">7.1</span> <span
                                class="content">厂商扩展与插件</span></a>
                </ol>
            <li>
                <a href="#w3c-conformance"><span class="secno"></span> <span class="content">一致性</span></a>
                <ol class="toc">
                    <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档惯例</span></a>
                    <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span
                                class="content">一致性算法</span></a>
                </ol>
            <li>
                <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
                <ol class="toc">
                    <li><a href="#index-defined-here"><span class="secno"></span> <span
                                class="content">本规范定义的词汇</span></a>
                    <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span
                                class="content">引用文献定义的词汇</span></a>
                </ol>
            <li>
                <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
                <ol class="toc">
                    <li><a href="#normative"><span class="secno"></span> <span class="content">规范性引用</span></a>
                    <li><a href="#informative"><span class="secno"></span> <span class="content">资料性引用</span></a>
                </ol>
            <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a>
        </ol>
    </nav>
    <main>
        <details class="wpt-tests-block" dir="ltr" lang="zh">
            <summary>测试</summary>
            <ul class="wpt-tests-list">
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/DOMParser-parseFromString-regression.html"
                        title="trusted-types/DOMParser-parseFromString-regression.html">DOMParser-parseFromString-regression.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/DOMParser-parseFromString-regression.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/DOMParser-parseFromString-regression.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/DOMParser-parseFromString.html"
                        title="trusted-types/DOMParser-parseFromString.html">DOMParser-parseFromString.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/DOMParser-parseFromString.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/DOMParser-parseFromString.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/DedicatedWorker-block-eval-function-constructor.html"
                        title="trusted-types/DedicatedWorker-block-eval-function-constructor.html">DedicatedWorker-block-eval-function-constructor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/DedicatedWorker-block-eval-function-constructor.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/DedicatedWorker-block-eval-function-constructor.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/DedicatedWorker-constructor-from-DedicatedWorker.html"
                        title="trusted-types/DedicatedWorker-constructor-from-DedicatedWorker.html">DedicatedWorker-constructor-from-DedicatedWorker.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/DedicatedWorker-constructor-from-DedicatedWorker.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/DedicatedWorker-constructor-from-DedicatedWorker.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/DedicatedWorker-constructor-from-SharedWorker.html"
                        title="trusted-types/DedicatedWorker-constructor-from-SharedWorker.html">DedicatedWorker-constructor-from-SharedWorker.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/DedicatedWorker-constructor-from-SharedWorker.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/DedicatedWorker-constructor-from-SharedWorker.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/DedicatedWorker-constructor.https.html"
                        title="trusted-types/DedicatedWorker-constructor.https.html">DedicatedWorker-constructor.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/DedicatedWorker-constructor.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/DedicatedWorker-constructor.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/DedicatedWorker-eval.html"
                        title="trusted-types/DedicatedWorker-eval.html">DedicatedWorker-eval.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/DedicatedWorker-eval.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/DedicatedWorker-eval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/DedicatedWorker-importScripts.html"
                        title="trusted-types/DedicatedWorker-importScripts.html">DedicatedWorker-importScripts.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/DedicatedWorker-importScripts.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/DedicatedWorker-importScripts.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/DedicatedWorker-setTimeout-setInterval.html"
                        title="trusted-types/DedicatedWorker-setTimeout-setInterval.html">DedicatedWorker-setTimeout-setInterval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/DedicatedWorker-setTimeout-setInterval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/DedicatedWorker-setTimeout-setInterval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Document-execCommand.html"
                        title="trusted-types/Document-execCommand.html">Document-execCommand.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/Document-execCommand.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Document-execCommand.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Document-write-appending-line-feed.html"
                        title="trusted-types/Document-write-appending-line-feed.html">Document-write-appending-line-feed.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/Document-write-appending-line-feed.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Document-write-appending-line-feed.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Document-write-exception-order.xhtml"
                        title="trusted-types/Document-write-exception-order.xhtml">Document-write-exception-order.xhtml</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/Document-write-exception-order.xhtml"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Document-write-exception-order.xhtml"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Document-write.html"
                        title="trusted-types/Document-write.html">Document-write.html</a> <a class="wpt-live"
                        href="http://wpt.live/trusted-types/Document-write.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Document-write.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Element-insertAdjacentHTML.html"
                        title="trusted-types/Element-insertAdjacentHTML.html">Element-insertAdjacentHTML.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/Element-insertAdjacentHTML.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Element-insertAdjacentHTML.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Element-outerHTML.html"
                        title="trusted-types/Element-outerHTML.html">Element-outerHTML.html</a> <a class="wpt-live"
                        href="http://wpt.live/trusted-types/Element-outerHTML.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Element-outerHTML.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Element-setAttribute-respects-Elements-node-documents-globals-CSP-after-adoption-from-TT-realm.html"
                        title="trusted-types/Element-setAttribute-respects-Elements-node-documents-globals-CSP-after-adoption-from-TT-realm.html">Element-setAttribute-respects-Elements-node-documents-globals-CSP-after-adoption-from-TT-realm.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/Element-setAttribute-respects-Elements-node-documents-globals-CSP-after-adoption-from-TT-realm.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Element-setAttribute-respects-Elements-node-documents-globals-CSP-after-adoption-from-TT-realm.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Element-setAttribute-respects-Elements-node-documents-globals-CSP-after-adoption-from-non-TT-realm.html"
                        title="trusted-types/Element-setAttribute-respects-Elements-node-documents-globals-CSP-after-adoption-from-non-TT-realm.html">Element-setAttribute-respects-Elements-node-documents-globals-CSP-after-adoption-from-non-TT-realm.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/Element-setAttribute-respects-Elements-node-documents-globals-CSP-after-adoption-from-non-TT-realm.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Element-setAttribute-respects-Elements-node-documents-globals-CSP-after-adoption-from-non-TT-realm.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Element-setAttribute.html"
                        title="trusted-types/Element-setAttribute.html">Element-setAttribute.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/Element-setAttribute.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Element-setAttribute.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Element-setAttributeNS.html"
                        title="trusted-types/Element-setAttributeNS.html">Element-setAttributeNS.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/Element-setAttributeNS.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Element-setAttributeNS.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Element-toggleAttribute.html"
                        title="trusted-types/Element-toggleAttribute.html">Element-toggleAttribute.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/Element-toggleAttribute.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Element-toggleAttribute.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/GlobalEventHandlers-onclick.html"
                        title="trusted-types/GlobalEventHandlers-onclick.html">GlobalEventHandlers-onclick.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/GlobalEventHandlers-onclick.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/GlobalEventHandlers-onclick.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/HTMLElement-generic.html"
                        title="trusted-types/HTMLElement-generic.html">HTMLElement-generic.html</a> <a class="wpt-live"
                        href="http://wpt.live/trusted-types/HTMLElement-generic.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/HTMLElement-generic.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/HTMLScriptElement-in-xhtml-document.tentative.https.xhtml"
                        title="trusted-types/HTMLScriptElement-in-xhtml-document.tentative.https.xhtml">HTMLScriptElement-in-xhtml-document.tentative.https.xhtml</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/HTMLScriptElement-in-xhtml-document.tentative.https.xhtml"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/HTMLScriptElement-in-xhtml-document.tentative.https.xhtml"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/HTMLScriptElement-internal-slot.html"
                        title="trusted-types/HTMLScriptElement-internal-slot.html">HTMLScriptElement-internal-slot.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/HTMLScriptElement-internal-slot.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/HTMLScriptElement-internal-slot.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Node-multiple-arguments-tt-enforced.html"
                        title="trusted-types/Node-multiple-arguments-tt-enforced.html">Node-multiple-arguments-tt-enforced.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/Node-multiple-arguments-tt-enforced.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Node-multiple-arguments-tt-enforced.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Node-multiple-arguments.html"
                        title="trusted-types/Node-multiple-arguments.html">Node-multiple-arguments.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/Node-multiple-arguments.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Node-multiple-arguments.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Range-createContextualFragment.html"
                        title="trusted-types/Range-createContextualFragment.html">Range-createContextualFragment.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/Range-createContextualFragment.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Range-createContextualFragment.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/SVGScriptElement-internal-slot.html"
                        title="trusted-types/SVGScriptElement-internal-slot.html">SVGScriptElement-internal-slot.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/SVGScriptElement-internal-slot.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/SVGScriptElement-internal-slot.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/ServiceWorker-block-eval-function-constructor.https.html"
                        title="trusted-types/ServiceWorker-block-eval-function-constructor.https.html">ServiceWorker-block-eval-function-constructor.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/ServiceWorker-block-eval-function-constructor.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/ServiceWorker-block-eval-function-constructor.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/ServiceWorker-eval.https.html"
                        title="trusted-types/ServiceWorker-eval.https.html">ServiceWorker-eval.https.html</a> <a
                        class="wpt-live"
                        href="https://wpt.live/trusted-types/ServiceWorker-eval.https.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/ServiceWorker-eval.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/ServiceWorker-importScripts.https.html"
                        title="trusted-types/ServiceWorker-importScripts.https.html">ServiceWorker-importScripts.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/ServiceWorker-importScripts.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/ServiceWorker-importScripts.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/ServiceWorkerContainer-register-from-DedicatedWorker.https.html"
                        title="trusted-types/ServiceWorkerContainer-register-from-DedicatedWorker.https.html">ServiceWorkerContainer-register-from-DedicatedWorker.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/ServiceWorkerContainer-register-from-DedicatedWorker.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/ServiceWorkerContainer-register-from-DedicatedWorker.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/ServiceWorkerContainer-register-from-ServiceWorker.https.html"
                        title="trusted-types/ServiceWorkerContainer-register-from-ServiceWorker.https.html">ServiceWorkerContainer-register-from-ServiceWorker.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/ServiceWorkerContainer-register-from-ServiceWorker.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/ServiceWorkerContainer-register-from-ServiceWorker.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/ServiceWorkerContainer-register-from-SharedWorker.https.html"
                        title="trusted-types/ServiceWorkerContainer-register-from-SharedWorker.https.html">ServiceWorkerContainer-register-from-SharedWorker.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/ServiceWorkerContainer-register-from-SharedWorker.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/ServiceWorkerContainer-register-from-SharedWorker.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/ServiceWorkerContainer-register.https.html"
                        title="trusted-types/ServiceWorkerContainer-register.https.html">ServiceWorkerContainer-register.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/ServiceWorkerContainer-register.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/ServiceWorkerContainer-register.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/SharedWorker-block-eval-function-constructor.html"
                        title="trusted-types/SharedWorker-block-eval-function-constructor.html">SharedWorker-block-eval-function-constructor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/SharedWorker-block-eval-function-constructor.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/SharedWorker-block-eval-function-constructor.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/SharedWorker-constructor.https.html"
                        title="trusted-types/SharedWorker-constructor.https.html">SharedWorker-constructor.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/SharedWorker-constructor.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/SharedWorker-constructor.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/SharedWorker-eval.html"
                        title="trusted-types/SharedWorker-eval.html">SharedWorker-eval.html</a> <a class="wpt-live"
                        href="http://wpt.live/trusted-types/SharedWorker-eval.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/SharedWorker-eval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/SharedWorker-importScripts.html"
                        title="trusted-types/SharedWorker-importScripts.html">SharedWorker-importScripts.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/SharedWorker-importScripts.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/SharedWorker-importScripts.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/SharedWorker-setTimeout-setInterval.html"
                        title="trusted-types/SharedWorker-setTimeout-setInterval.html">SharedWorker-setTimeout-setInterval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/SharedWorker-setTimeout-setInterval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/SharedWorker-setTimeout-setInterval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedType-AttributeNodes.html"
                        title="trusted-types/TrustedType-AttributeNodes.html">TrustedType-AttributeNodes.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedType-AttributeNodes.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedType-AttributeNodes.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicy-CSP-no-name.html"
                        title="trusted-types/TrustedTypePolicy-CSP-no-name.html">TrustedTypePolicy-CSP-no-name.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicy-CSP-no-name.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicy-CSP-no-name.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicy-CSP-wildcard.html"
                        title="trusted-types/TrustedTypePolicy-CSP-wildcard.html">TrustedTypePolicy-CSP-wildcard.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicy-CSP-wildcard.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicy-CSP-wildcard.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicy-createXXX.html"
                        title="trusted-types/TrustedTypePolicy-createXXX.html">TrustedTypePolicy-createXXX.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicy-createXXX.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicy-createXXX.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-constants.html"
                        title="trusted-types/TrustedTypePolicyFactory-constants.html">TrustedTypePolicyFactory-constants.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-constants.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-constants.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-createPolicy-createXYZTests.html"
                        title="trusted-types/TrustedTypePolicyFactory-createPolicy-createXYZTests.html">TrustedTypePolicyFactory-createPolicy-createXYZTests.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-createPolicy-createXYZTests.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-createPolicy-createXYZTests.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-noNamesGiven.html"
                        title="trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-noNamesGiven.html">TrustedTypePolicyFactory-createPolicy-cspTests-noNamesGiven.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-noNamesGiven.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-noNamesGiven.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-none-name.html"
                        title="trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-none-name.html">TrustedTypePolicyFactory-createPolicy-cspTests-none-none-name.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-none-name.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-none-name.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-none.html"
                        title="trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-none.html">TrustedTypePolicyFactory-createPolicy-cspTests-none-none.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-none.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-none.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-skip.html"
                        title="trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-skip.html">TrustedTypePolicyFactory-createPolicy-cspTests-none-skip.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-skip.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none-skip.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none.html"
                        title="trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none.html">TrustedTypePolicyFactory-createPolicy-cspTests-none.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-none.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-wildcard.html"
                        title="trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-wildcard.html">TrustedTypePolicyFactory-createPolicy-cspTests-wildcard.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-wildcard.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests-wildcard.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests.html"
                        title="trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests.html">TrustedTypePolicyFactory-createPolicy-cspTests.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-createPolicy-cspTests.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-createPolicy-non-tt-policy-name.html"
                        title="trusted-types/TrustedTypePolicyFactory-createPolicy-non-tt-policy-name.html">TrustedTypePolicyFactory-createPolicy-non-tt-policy-name.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-createPolicy-non-tt-policy-name.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-createPolicy-non-tt-policy-name.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-createPolicy-unenforced.html"
                        title="trusted-types/TrustedTypePolicyFactory-createPolicy-unenforced.html">TrustedTypePolicyFactory-createPolicy-unenforced.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-createPolicy-unenforced.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-createPolicy-unenforced.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-defaultPolicy.html"
                        title="trusted-types/TrustedTypePolicyFactory-defaultPolicy.html">TrustedTypePolicyFactory-defaultPolicy.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-defaultPolicy.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-defaultPolicy.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-getAttributeType-namespace.html"
                        title="trusted-types/TrustedTypePolicyFactory-getAttributeType-namespace.html">TrustedTypePolicyFactory-getAttributeType-namespace.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-getAttributeType-namespace.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-getAttributeType-namespace.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-getAttributeType-svg.html"
                        title="trusted-types/TrustedTypePolicyFactory-getAttributeType-svg.html">TrustedTypePolicyFactory-getAttributeType-svg.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-getAttributeType-svg.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-getAttributeType-svg.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-getAttributeType.html"
                        title="trusted-types/TrustedTypePolicyFactory-getAttributeType.html">TrustedTypePolicyFactory-getAttributeType.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-getAttributeType.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-getAttributeType.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/TrustedTypePolicyFactory-isXXX.html"
                        title="trusted-types/TrustedTypePolicyFactory-isXXX.html">TrustedTypePolicyFactory-isXXX.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/TrustedTypePolicyFactory-isXXX.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/TrustedTypePolicyFactory-isXXX.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Window-TrustedTypes.html"
                        title="trusted-types/Window-TrustedTypes.html">Window-TrustedTypes.html</a> <a class="wpt-live"
                        href="http://wpt.live/trusted-types/Window-TrustedTypes.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Window-TrustedTypes.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Window-block-eval-function-constructor.html"
                        title="trusted-types/Window-block-eval-function-constructor.html">Window-block-eval-function-constructor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/Window-block-eval-function-constructor.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Window-block-eval-function-constructor.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/Window-setTimeout-setInterval.html"
                        title="trusted-types/Window-setTimeout-setInterval.html">Window-setTimeout-setInterval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/Window-setTimeout-setInterval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/Window-setTimeout-setInterval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-Document-execCommand.html"
                        title="trusted-types/block-Document-execCommand.html">block-Document-execCommand.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/block-Document-execCommand.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-Document-execCommand.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-DOMParser-parseFromString.html"
                        title="trusted-types/block-string-assignment-to-DOMParser-parseFromString.html">block-string-assignment-to-DOMParser-parseFromString.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-DOMParser-parseFromString.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-DOMParser-parseFromString.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-DedicatedWorker-setTimeout-setInterval.html"
                        title="trusted-types/block-string-assignment-to-DedicatedWorker-setTimeout-setInterval.html">block-string-assignment-to-DedicatedWorker-setTimeout-setInterval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-DedicatedWorker-setTimeout-setInterval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-DedicatedWorker-setTimeout-setInterval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-Document-parseHTMLUnsafe.html"
                        title="trusted-types/block-string-assignment-to-Document-parseHTMLUnsafe.html">block-string-assignment-to-Document-parseHTMLUnsafe.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-Document-parseHTMLUnsafe.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-Document-parseHTMLUnsafe.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-Document-write.html"
                        title="trusted-types/block-string-assignment-to-Document-write.html">block-string-assignment-to-Document-write.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-Document-write.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-Document-write.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-Element-insertAdjacentHTML.html"
                        title="trusted-types/block-string-assignment-to-Element-insertAdjacentHTML.html">block-string-assignment-to-Element-insertAdjacentHTML.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-Element-insertAdjacentHTML.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-Element-insertAdjacentHTML.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-Element-outerHTML.html"
                        title="trusted-types/block-string-assignment-to-Element-outerHTML.html">block-string-assignment-to-Element-outerHTML.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-Element-outerHTML.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-Element-outerHTML.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-Element-setAttribute.html"
                        title="trusted-types/block-string-assignment-to-Element-setAttribute.html">block-string-assignment-to-Element-setAttribute.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-Element-setAttribute.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-Element-setAttribute.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-Element-setAttributeNS.html"
                        title="trusted-types/block-string-assignment-to-Element-setAttributeNS.html">block-string-assignment-to-Element-setAttributeNS.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-Element-setAttributeNS.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-Element-setAttributeNS.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-Element-setHTMLUnsafe.html"
                        title="trusted-types/block-string-assignment-to-Element-setHTMLUnsafe.html">block-string-assignment-to-Element-setHTMLUnsafe.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-Element-setHTMLUnsafe.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-Element-setHTMLUnsafe.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-HTMLElement-generic.html"
                        title="trusted-types/block-string-assignment-to-HTMLElement-generic.html">block-string-assignment-to-HTMLElement-generic.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-HTMLElement-generic.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-HTMLElement-generic.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-HTMLIFrameElement-srcdoc.html"
                        title="trusted-types/block-string-assignment-to-HTMLIFrameElement-srcdoc.html">block-string-assignment-to-HTMLIFrameElement-srcdoc.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-HTMLIFrameElement-srcdoc.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-HTMLIFrameElement-srcdoc.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-Range-createContextualFragment.html"
                        title="trusted-types/block-string-assignment-to-Range-createContextualFragment.html">block-string-assignment-to-Range-createContextualFragment.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-Range-createContextualFragment.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-Range-createContextualFragment.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-ShadowRoot-innerHTML.html"
                        title="trusted-types/block-string-assignment-to-ShadowRoot-innerHTML.html">block-string-assignment-to-ShadowRoot-innerHTML.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-ShadowRoot-innerHTML.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-ShadowRoot-innerHTML.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-ShadowRoot-setHTMLUnsafe.html"
                        title="trusted-types/block-string-assignment-to-ShadowRoot-setHTMLUnsafe.html">block-string-assignment-to-ShadowRoot-setHTMLUnsafe.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-ShadowRoot-setHTMLUnsafe.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-ShadowRoot-setHTMLUnsafe.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-SharedWorker-setTimeout-setInterval.html"
                        title="trusted-types/block-string-assignment-to-SharedWorker-setTimeout-setInterval.html">block-string-assignment-to-SharedWorker-setTimeout-setInterval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-SharedWorker-setTimeout-setInterval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-SharedWorker-setTimeout-setInterval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-Window-setTimeout-setInterval.html"
                        title="trusted-types/block-string-assignment-to-Window-setTimeout-setInterval.html">block-string-assignment-to-Window-setTimeout-setInterval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-Window-setTimeout-setInterval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-Window-setTimeout-setInterval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-attribute-via-attribute-node.html"
                        title="trusted-types/block-string-assignment-to-attribute-via-attribute-node.html">block-string-assignment-to-attribute-via-attribute-node.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-attribute-via-attribute-node.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-attribute-via-attribute-node.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-string-assignment-to-text-and-url-sinks.html"
                        title="trusted-types/block-string-assignment-to-text-and-url-sinks.html">block-string-assignment-to-text-and-url-sinks.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-string-assignment-to-text-and-url-sinks.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-string-assignment-to-text-and-url-sinks.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-text-node-insertion-into-script-element.html"
                        title="trusted-types/block-text-node-insertion-into-script-element.html">block-text-node-insertion-into-script-element.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-text-node-insertion-into-script-element.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-text-node-insertion-into-script-element.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/block-text-node-insertion-into-svg-script-element.html"
                        title="trusted-types/block-text-node-insertion-into-svg-script-element.html">block-text-node-insertion-into-svg-script-element.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/block-text-node-insertion-into-svg-script-element.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/block-text-node-insertion-into-svg-script-element.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/csp-block-eval.html"
                        title="trusted-types/csp-block-eval.html">csp-block-eval.html</a> <a class="wpt-live"
                        href="http://wpt.live/trusted-types/csp-block-eval.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/csp-block-eval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/default-policy-callback-arguments.html"
                        title="trusted-types/default-policy-callback-arguments.html">default-policy-callback-arguments.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/default-policy-callback-arguments.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/default-policy-callback-arguments.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/default-policy-report-only.html"
                        title="trusted-types/default-policy-report-only.html">default-policy-report-only.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/default-policy-report-only.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/default-policy-report-only.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/default-policy.html"
                        title="trusted-types/default-policy.html">default-policy.html</a> <a class="wpt-live"
                        href="http://wpt.live/trusted-types/default-policy.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/default-policy.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/empty-default-policy-report-only.html"
                        title="trusted-types/empty-default-policy-report-only.html">empty-default-policy-report-only.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/empty-default-policy-report-only.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/empty-default-policy-report-only.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/empty-default-policy.html"
                        title="trusted-types/empty-default-policy.html">empty-default-policy.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/empty-default-policy.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/empty-default-policy.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/eval-csp-no-tt.html"
                        title="trusted-types/eval-csp-no-tt.html">eval-csp-no-tt.html</a> <a class="wpt-live"
                        href="http://wpt.live/trusted-types/eval-csp-no-tt.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/eval-csp-no-tt.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/eval-csp-tt-default-policy-mutate.html"
                        title="trusted-types/eval-csp-tt-default-policy-mutate.html">eval-csp-tt-default-policy-mutate.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/eval-csp-tt-default-policy-mutate.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/eval-csp-tt-default-policy-mutate.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/eval-csp-tt-default-policy.html"
                        title="trusted-types/eval-csp-tt-default-policy.html">eval-csp-tt-default-policy.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/eval-csp-tt-default-policy.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/eval-csp-tt-default-policy.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/eval-csp-tt-no-default-policy.html"
                        title="trusted-types/eval-csp-tt-no-default-policy.html">eval-csp-tt-no-default-policy.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/eval-csp-tt-no-default-policy.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/eval-csp-tt-no-default-policy.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/eval-function-constructor-untrusted-arguments-and-applying-default-policy.html"
                        title="trusted-types/eval-function-constructor-untrusted-arguments-and-applying-default-policy.html">eval-function-constructor-untrusted-arguments-and-applying-default-policy.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/eval-function-constructor-untrusted-arguments-and-applying-default-policy.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/eval-function-constructor-untrusted-arguments-and-applying-default-policy.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/eval-function-constructor-untrusted-arguments-and-default-policy-throwing.html"
                        title="trusted-types/eval-function-constructor-untrusted-arguments-and-default-policy-throwing.html">eval-function-constructor-untrusted-arguments-and-default-policy-throwing.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/eval-function-constructor-untrusted-arguments-and-default-policy-throwing.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/eval-function-constructor-untrusted-arguments-and-default-policy-throwing.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/eval-function-constructor.html"
                        title="trusted-types/eval-function-constructor.html">eval-function-constructor.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/eval-function-constructor.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/eval-function-constructor.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/eval-no-csp-no-tt-default-policy.html"
                        title="trusted-types/eval-no-csp-no-tt-default-policy.html">eval-no-csp-no-tt-default-policy.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/eval-no-csp-no-tt-default-policy.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/eval-no-csp-no-tt-default-policy.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/eval-no-csp-no-tt.html"
                        title="trusted-types/eval-no-csp-no-tt.html">eval-no-csp-no-tt.html</a> <a class="wpt-live"
                        href="http://wpt.live/trusted-types/eval-no-csp-no-tt.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/eval-no-csp-no-tt.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/eval-with-permissive-csp.html"
                        title="trusted-types/eval-with-permissive-csp.html">eval-with-permissive-csp.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/eval-with-permissive-csp.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/eval-with-permissive-csp.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/get-trusted-types-compliant-attribute-value.html"
                        title="trusted-types/get-trusted-types-compliant-attribute-value.html">get-trusted-types-compliant-attribute-value.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/get-trusted-types-compliant-attribute-value.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/get-trusted-types-compliant-attribute-value.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/idlharness.window.js"
                        title="trusted-types/idlharness.window.js">idlharness.window.js</a> <a class="wpt-live"
                        href="http://wpt.live/trusted-types/idlharness.window.js"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/idlharness.window.js"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/inheriting-csp-for-local-schemes.html"
                        title="trusted-types/inheriting-csp-for-local-schemes.html">inheriting-csp-for-local-schemes.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/inheriting-csp-for-local-schemes.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/inheriting-csp-for-local-schemes.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/legacy-trusted-script-urls.html"
                        title="trusted-types/legacy-trusted-script-urls.html">legacy-trusted-script-urls.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/legacy-trusted-script-urls.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/legacy-trusted-script-urls.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/legacy-trusted-scripts.html"
                        title="trusted-types/legacy-trusted-scripts.html">legacy-trusted-scripts.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/legacy-trusted-scripts.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/legacy-trusted-scripts.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/modify-attributes-in-callback.html"
                        title="trusted-types/modify-attributes-in-callback.html">modify-attributes-in-callback.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/modify-attributes-in-callback.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/modify-attributes-in-callback.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/no-require-trusted-types-for-report-only.html"
                        title="trusted-types/no-require-trusted-types-for-report-only.html">no-require-trusted-types-for-report-only.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/no-require-trusted-types-for-report-only.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/no-require-trusted-types-for-report-only.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/no-require-trusted-types-for.html"
                        title="trusted-types/no-require-trusted-types-for.html">no-require-trusted-types-for.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/no-require-trusted-types-for.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/no-require-trusted-types-for.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/require-trusted-types-for-TypeError-belongs-to-the-global-object-realm.html"
                        title="trusted-types/require-trusted-types-for-TypeError-belongs-to-the-global-object-realm.html">require-trusted-types-for-TypeError-belongs-to-the-global-object-realm.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/require-trusted-types-for-TypeError-belongs-to-the-global-object-realm.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/require-trusted-types-for-TypeError-belongs-to-the-global-object-realm.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/require-trusted-types-for-report-only.html"
                        title="trusted-types/require-trusted-types-for-report-only.html">require-trusted-types-for-report-only.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/require-trusted-types-for-report-only.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/require-trusted-types-for-report-only.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/require-trusted-types-for.html"
                        title="trusted-types/require-trusted-types-for.html">require-trusted-types-for.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/require-trusted-types-for.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/require-trusted-types-for.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-001-outerHTML.xhtml"
                        title="trusted-types/script-enforcement-001-outerHTML.xhtml">script-enforcement-001-outerHTML.xhtml</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/script-enforcement-001-outerHTML.xhtml"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-001-outerHTML.xhtml"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-001.html"
                        title="trusted-types/script-enforcement-001.html">script-enforcement-001.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/script-enforcement-001.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-001.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-002-outerHTML.xhtml"
                        title="trusted-types/script-enforcement-002-outerHTML.xhtml">script-enforcement-002-outerHTML.xhtml</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/script-enforcement-002-outerHTML.xhtml"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-002-outerHTML.xhtml"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-002.html"
                        title="trusted-types/script-enforcement-002.html">script-enforcement-002.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/script-enforcement-002.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-002.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-003.html"
                        title="trusted-types/script-enforcement-003.html">script-enforcement-003.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/script-enforcement-003.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-003.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-004.html"
                        title="trusted-types/script-enforcement-004.html">script-enforcement-004.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/script-enforcement-004.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-004.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-005.html"
                        title="trusted-types/script-enforcement-005.html">script-enforcement-005.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/script-enforcement-005.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-005.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-006.html"
                        title="trusted-types/script-enforcement-006.html">script-enforcement-006.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/script-enforcement-006.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-006.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-007.html"
                        title="trusted-types/script-enforcement-007.html">script-enforcement-007.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/script-enforcement-007.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-007.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-008.https.html"
                        title="trusted-types/script-enforcement-008.https.html">script-enforcement-008.https.html</a> <a
                        class="wpt-live"
                        href="https://wpt.live/trusted-types/script-enforcement-008.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-008.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-009.https.html"
                        title="trusted-types/script-enforcement-009.https.html">script-enforcement-009.https.html</a> <a
                        class="wpt-live"
                        href="https://wpt.live/trusted-types/script-enforcement-009.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-009.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-010.html"
                        title="trusted-types/script-enforcement-010.html">script-enforcement-010.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/script-enforcement-010.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-010.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/script-enforcement-011.html"
                        title="trusted-types/script-enforcement-011.html">script-enforcement-011.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/script-enforcement-011.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/script-enforcement-011.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/set-attributes-no-require-trusted-types.html"
                        title="trusted-types/set-attributes-no-require-trusted-types.html">set-attributes-no-require-trusted-types.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/set-attributes-no-require-trusted-types.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/set-attributes-no-require-trusted-types.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/set-attributes-require-trusted-types-default-policy.html"
                        title="trusted-types/set-attributes-require-trusted-types-default-policy.html">set-attributes-require-trusted-types-default-policy.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/set-attributes-require-trusted-types-default-policy.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/set-attributes-require-trusted-types-default-policy.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/set-attributes-require-trusted-types-no-default-policy.html"
                        title="trusted-types/set-attributes-require-trusted-types-no-default-policy.html">set-attributes-require-trusted-types-no-default-policy.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/set-attributes-require-trusted-types-no-default-policy.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/set-attributes-require-trusted-types-no-default-policy.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-001.html"
                        title="trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-001.html">should-sink-type-mismatch-violation-be-blocked-by-csp-001.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-001.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-001.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-002-worker.html"
                        title="trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-002-worker.html">should-sink-type-mismatch-violation-be-blocked-by-csp-002-worker.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-002-worker.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-002-worker.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-003.html"
                        title="trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-003.html">should-sink-type-mismatch-violation-be-blocked-by-csp-003.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-003.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/should-sink-type-mismatch-violation-be-blocked-by-csp-003.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-001.html"
                        title="trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-001.html">should-trusted-type-policy-creation-be-blocked-by-csp-001.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-001.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-001.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-002.html"
                        title="trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-002.html">should-trusted-type-policy-creation-be-blocked-by-csp-002.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-002.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-002.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-003.html"
                        title="trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-003.html">should-trusted-type-policy-creation-be-blocked-by-csp-003.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-003.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-003.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-004-worker.html"
                        title="trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-004-worker.html">should-trusted-type-policy-creation-be-blocked-by-csp-004-worker.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-004-worker.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-004-worker.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-005.html"
                        title="trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-005.html">should-trusted-type-policy-creation-be-blocked-by-csp-005.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-005.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/should-trusted-type-policy-creation-be-blocked-by-csp-005.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-createHTMLDocument.html"
                        title="trusted-types/trusted-types-createHTMLDocument.html">trusted-types-createHTMLDocument.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-createHTMLDocument.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-createHTMLDocument.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-duplicate-names-list-report-only.html"
                        title="trusted-types/trusted-types-duplicate-names-list-report-only.html">trusted-types-duplicate-names-list-report-only.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-duplicate-names-list-report-only.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-duplicate-names-list-report-only.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-duplicate-names-list.html"
                        title="trusted-types/trusted-types-duplicate-names-list.html">trusted-types-duplicate-names-list.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-duplicate-names-list.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-duplicate-names-list.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-duplicate-names-without-enforcement.html"
                        title="trusted-types/trusted-types-duplicate-names-without-enforcement.html">trusted-types-duplicate-names-without-enforcement.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-duplicate-names-without-enforcement.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-duplicate-names-without-enforcement.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-duplicate-names.html"
                        title="trusted-types/trusted-types-duplicate-names.html">trusted-types-duplicate-names.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-duplicate-names.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-duplicate-names.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-eval-reporting-no-unsafe-eval.html"
                        title="trusted-types/trusted-types-eval-reporting-no-unsafe-eval.html">trusted-types-eval-reporting-no-unsafe-eval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-eval-reporting-no-unsafe-eval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-eval-reporting-no-unsafe-eval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-eval-reporting-report-only.html"
                        title="trusted-types/trusted-types-eval-reporting-report-only.html">trusted-types-eval-reporting-report-only.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-eval-reporting-report-only.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-eval-reporting-report-only.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-event-handlers.html"
                        title="trusted-types/trusted-types-event-handlers.html">trusted-types-event-handlers.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-event-handlers.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-event-handlers.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-navigation.html"
                        title="trusted-types/trusted-types-navigation.html">trusted-types-navigation.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-navigation.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-navigation.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-report-only.html"
                        title="trusted-types/trusted-types-report-only.html">trusted-types-report-only.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-report-only.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-report-only.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-check-report-DedicatedWorker-create-policy.html"
                        title="trusted-types/trusted-types-reporting-check-report-DedicatedWorker-create-policy.html">trusted-types-reporting-check-report-DedicatedWorker-create-policy.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-check-report-DedicatedWorker-create-policy.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-check-report-DedicatedWorker-create-policy.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-check-report-DedicatedWorker-sink-mismatch.html"
                        title="trusted-types/trusted-types-reporting-check-report-DedicatedWorker-sink-mismatch.html">trusted-types-reporting-check-report-DedicatedWorker-sink-mismatch.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-check-report-DedicatedWorker-sink-mismatch.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-check-report-DedicatedWorker-sink-mismatch.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-check-report-Window-create-policy.html"
                        title="trusted-types/trusted-types-reporting-check-report-Window-create-policy.html">trusted-types-reporting-check-report-Window-create-policy.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-check-report-Window-create-policy.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-check-report-Window-create-policy.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-check-report-Window-sink-mismatch.html"
                        title="trusted-types/trusted-types-reporting-check-report-Window-sink-mismatch.html">trusted-types-reporting-check-report-Window-sink-mismatch.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-check-report-Window-sink-mismatch.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-check-report-Window-sink-mismatch.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-clipping-of-sample.html"
                        title="trusted-types/trusted-types-reporting-clipping-of-sample.html">trusted-types-reporting-clipping-of-sample.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-clipping-of-sample.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-clipping-of-sample.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-DOMParser-parseFromString.html"
                        title="trusted-types/trusted-types-reporting-for-DOMParser-parseFromString.html">trusted-types-reporting-for-DOMParser-parseFromString.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-DOMParser-parseFromString.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-DOMParser-parseFromString.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-DedicatedWorker-DedicatedWorker-constructor.html"
                        title="trusted-types/trusted-types-reporting-for-DedicatedWorker-DedicatedWorker-constructor.html">trusted-types-reporting-for-DedicatedWorker-DedicatedWorker-constructor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-DedicatedWorker-DedicatedWorker-constructor.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-DedicatedWorker-DedicatedWorker-constructor.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-DedicatedWorker-ServiceWorkerContainer-register.https.html"
                        title="trusted-types/trusted-types-reporting-for-DedicatedWorker-ServiceWorkerContainer-register.https.html">trusted-types-reporting-for-DedicatedWorker-ServiceWorkerContainer-register.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/trusted-types-reporting-for-DedicatedWorker-ServiceWorkerContainer-register.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-DedicatedWorker-ServiceWorkerContainer-register.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-DedicatedWorker-eval.html"
                        title="trusted-types/trusted-types-reporting-for-DedicatedWorker-eval.html">trusted-types-reporting-for-DedicatedWorker-eval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-DedicatedWorker-eval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-DedicatedWorker-eval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-DedicatedWorker-function-constructor.html"
                        title="trusted-types/trusted-types-reporting-for-DedicatedWorker-function-constructor.html">trusted-types-reporting-for-DedicatedWorker-function-constructor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-DedicatedWorker-function-constructor.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-DedicatedWorker-function-constructor.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-DedicatedWorker-importScripts.html"
                        title="trusted-types/trusted-types-reporting-for-DedicatedWorker-importScripts.html">trusted-types-reporting-for-DedicatedWorker-importScripts.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-DedicatedWorker-importScripts.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-DedicatedWorker-importScripts.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-DedicatedWorker-setTimeout-setInterval.html"
                        title="trusted-types/trusted-types-reporting-for-DedicatedWorker-setTimeout-setInterval.html">trusted-types-reporting-for-DedicatedWorker-setTimeout-setInterval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-DedicatedWorker-setTimeout-setInterval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-DedicatedWorker-setTimeout-setInterval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Document-execCommand.html"
                        title="trusted-types/trusted-types-reporting-for-Document-execCommand.html">trusted-types-reporting-for-Document-execCommand.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Document-execCommand.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Document-execCommand.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Document-parseHTMLUnsafe.html"
                        title="trusted-types/trusted-types-reporting-for-Document-parseHTMLUnsafe.html">trusted-types-reporting-for-Document-parseHTMLUnsafe.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Document-parseHTMLUnsafe.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Document-parseHTMLUnsafe.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Document-write.html"
                        title="trusted-types/trusted-types-reporting-for-Document-write.html">trusted-types-reporting-for-Document-write.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Document-write.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Document-write.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Element-innerHTML.html"
                        title="trusted-types/trusted-types-reporting-for-Element-innerHTML.html">trusted-types-reporting-for-Element-innerHTML.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Element-innerHTML.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Element-innerHTML.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Element-insertAdjacentHTML.html"
                        title="trusted-types/trusted-types-reporting-for-Element-insertAdjacentHTML.html">trusted-types-reporting-for-Element-insertAdjacentHTML.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Element-insertAdjacentHTML.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Element-insertAdjacentHTML.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Element-outerHTML.html"
                        title="trusted-types/trusted-types-reporting-for-Element-outerHTML.html">trusted-types-reporting-for-Element-outerHTML.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Element-outerHTML.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Element-outerHTML.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Element-setAttribute.html"
                        title="trusted-types/trusted-types-reporting-for-Element-setAttribute.html">trusted-types-reporting-for-Element-setAttribute.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Element-setAttribute.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Element-setAttribute.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Element-setHTMLUnsafe.html"
                        title="trusted-types/trusted-types-reporting-for-Element-setHTMLUnsafe.html">trusted-types-reporting-for-Element-setHTMLUnsafe.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Element-setHTMLUnsafe.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Element-setHTMLUnsafe.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-HTMLIFrameElement-srcdoc.html"
                        title="trusted-types/trusted-types-reporting-for-HTMLIFrameElement-srcdoc.html">trusted-types-reporting-for-HTMLIFrameElement-srcdoc.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-HTMLIFrameElement-srcdoc.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-HTMLIFrameElement-srcdoc.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-HTMLScriptElement-children-change.html"
                        title="trusted-types/trusted-types-reporting-for-HTMLScriptElement-children-change.html">trusted-types-reporting-for-HTMLScriptElement-children-change.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-HTMLScriptElement-children-change.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-HTMLScriptElement-children-change.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-HTMLScriptElement-innerHTML.html"
                        title="trusted-types/trusted-types-reporting-for-HTMLScriptElement-innerHTML.html">trusted-types-reporting-for-HTMLScriptElement-innerHTML.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-HTMLScriptElement-innerHTML.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-HTMLScriptElement-innerHTML.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-HTMLScriptElement.html"
                        title="trusted-types/trusted-types-reporting-for-HTMLScriptElement.html">trusted-types-reporting-for-HTMLScriptElement.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-HTMLScriptElement.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-HTMLScriptElement.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Range-createContextualFragment.html"
                        title="trusted-types/trusted-types-reporting-for-Range-createContextualFragment.html">trusted-types-reporting-for-Range-createContextualFragment.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Range-createContextualFragment.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Range-createContextualFragment.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-SVGScriptElement-children-change.html"
                        title="trusted-types/trusted-types-reporting-for-SVGScriptElement-children-change.html">trusted-types-reporting-for-SVGScriptElement-children-change.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-SVGScriptElement-children-change.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-SVGScriptElement-children-change.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-SVGScriptElement-innerHTML.html"
                        title="trusted-types/trusted-types-reporting-for-SVGScriptElement-innerHTML.html">trusted-types-reporting-for-SVGScriptElement-innerHTML.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-SVGScriptElement-innerHTML.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-SVGScriptElement-innerHTML.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-ServiceWorker-ServiceWorkerContainer-register.https.html"
                        title="trusted-types/trusted-types-reporting-for-ServiceWorker-ServiceWorkerContainer-register.https.html">trusted-types-reporting-for-ServiceWorker-ServiceWorkerContainer-register.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/trusted-types-reporting-for-ServiceWorker-ServiceWorkerContainer-register.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-ServiceWorker-ServiceWorkerContainer-register.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-ServiceWorker-eval.https.html"
                        title="trusted-types/trusted-types-reporting-for-ServiceWorker-eval.https.html">trusted-types-reporting-for-ServiceWorker-eval.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/trusted-types-reporting-for-ServiceWorker-eval.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-ServiceWorker-eval.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-ServiceWorker-function-constructor.https.html"
                        title="trusted-types/trusted-types-reporting-for-ServiceWorker-function-constructor.https.html">trusted-types-reporting-for-ServiceWorker-function-constructor.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/trusted-types-reporting-for-ServiceWorker-function-constructor.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-ServiceWorker-function-constructor.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-ServiceWorker-importScripts.https.html"
                        title="trusted-types/trusted-types-reporting-for-ServiceWorker-importScripts.https.html">trusted-types-reporting-for-ServiceWorker-importScripts.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/trusted-types-reporting-for-ServiceWorker-importScripts.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-ServiceWorker-importScripts.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-ServiceWorker-setTimeout-setInterval.https.html"
                        title="trusted-types/trusted-types-reporting-for-ServiceWorker-setTimeout-setInterval.https.html">trusted-types-reporting-for-ServiceWorker-setTimeout-setInterval.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/trusted-types-reporting-for-ServiceWorker-setTimeout-setInterval.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-ServiceWorker-setTimeout-setInterval.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-ShadowRoot-innerHTML.html"
                        title="trusted-types/trusted-types-reporting-for-ShadowRoot-innerHTML.html">trusted-types-reporting-for-ShadowRoot-innerHTML.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-ShadowRoot-innerHTML.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-ShadowRoot-innerHTML.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-ShadowRoot-setHTMLUnsafe.html"
                        title="trusted-types/trusted-types-reporting-for-ShadowRoot-setHTMLUnsafe.html">trusted-types-reporting-for-ShadowRoot-setHTMLUnsafe.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-ShadowRoot-setHTMLUnsafe.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-ShadowRoot-setHTMLUnsafe.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-SharedWorker-DedicatedWorker-constructor.html"
                        title="trusted-types/trusted-types-reporting-for-SharedWorker-DedicatedWorker-constructor.html">trusted-types-reporting-for-SharedWorker-DedicatedWorker-constructor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-SharedWorker-DedicatedWorker-constructor.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-SharedWorker-DedicatedWorker-constructor.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-SharedWorker-ServiceWorkerContainer-register.https.html"
                        title="trusted-types/trusted-types-reporting-for-SharedWorker-ServiceWorkerContainer-register.https.html">trusted-types-reporting-for-SharedWorker-ServiceWorkerContainer-register.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/trusted-types-reporting-for-SharedWorker-ServiceWorkerContainer-register.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-SharedWorker-ServiceWorkerContainer-register.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-SharedWorker-eval.html"
                        title="trusted-types/trusted-types-reporting-for-SharedWorker-eval.html">trusted-types-reporting-for-SharedWorker-eval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-SharedWorker-eval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-SharedWorker-eval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-SharedWorker-function-constructor.html"
                        title="trusted-types/trusted-types-reporting-for-SharedWorker-function-constructor.html">trusted-types-reporting-for-SharedWorker-function-constructor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-SharedWorker-function-constructor.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-SharedWorker-function-constructor.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-SharedWorker-importScripts.html"
                        title="trusted-types/trusted-types-reporting-for-SharedWorker-importScripts.html">trusted-types-reporting-for-SharedWorker-importScripts.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-SharedWorker-importScripts.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-SharedWorker-importScripts.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-SharedWorker-setTimeout-setInterval.html"
                        title="trusted-types/trusted-types-reporting-for-SharedWorker-setTimeout-setInterval.html">trusted-types-reporting-for-SharedWorker-setTimeout-setInterval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-SharedWorker-setTimeout-setInterval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-SharedWorker-setTimeout-setInterval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Window-DedicatedWorker-constructor.html"
                        title="trusted-types/trusted-types-reporting-for-Window-DedicatedWorker-constructor.html">trusted-types-reporting-for-Window-DedicatedWorker-constructor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Window-DedicatedWorker-constructor.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Window-DedicatedWorker-constructor.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Window-ServiceWorkerContainer-register.https.html"
                        title="trusted-types/trusted-types-reporting-for-Window-ServiceWorkerContainer-register.https.html">trusted-types-reporting-for-Window-ServiceWorkerContainer-register.https.html</a>
                    <a class="wpt-live"
                        href="https://wpt.live/trusted-types/trusted-types-reporting-for-Window-ServiceWorkerContainer-register.https.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Window-ServiceWorkerContainer-register.https.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Window-SharedWorker-constructor.html"
                        title="trusted-types/trusted-types-reporting-for-Window-SharedWorker-constructor.html">trusted-types-reporting-for-Window-SharedWorker-constructor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Window-SharedWorker-constructor.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Window-SharedWorker-constructor.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Window-eval.html"
                        title="trusted-types/trusted-types-reporting-for-Window-eval.html">trusted-types-reporting-for-Window-eval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Window-eval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Window-eval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Window-function-constructor.html"
                        title="trusted-types/trusted-types-reporting-for-Window-function-constructor.html">trusted-types-reporting-for-Window-function-constructor.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Window-function-constructor.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Window-function-constructor.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting-for-Window-setTimeout-setInterval.html"
                        title="trusted-types/trusted-types-reporting-for-Window-setTimeout-setInterval.html">trusted-types-reporting-for-Window-setTimeout-setInterval.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting-for-Window-setTimeout-setInterval.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting-for-Window-setTimeout-setInterval.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-reporting.html"
                        title="trusted-types/trusted-types-reporting.html">trusted-types-reporting.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-reporting.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-reporting.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-sandbox-allow-scripts.html"
                        title="trusted-types/trusted-types-sandbox-allow-scripts.html">trusted-types-sandbox-allow-scripts.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-sandbox-allow-scripts.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-sandbox-allow-scripts.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-sandbox-no-allow-scripts.html"
                        title="trusted-types/trusted-types-sandbox-no-allow-scripts.html">trusted-types-sandbox-no-allow-scripts.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-sandbox-no-allow-scripts.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-sandbox-no-allow-scripts.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-source-file-path.html"
                        title="trusted-types/trusted-types-source-file-path.html">trusted-types-source-file-path.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-source-file-path.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-source-file-path.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-svg-script-set-href.html"
                        title="trusted-types/trusted-types-svg-script-set-href.html">trusted-types-svg-script-set-href.html</a>
                    <a class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-svg-script-set-href.html"><small>（在线测试）</small></a>
                    <a class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-svg-script-set-href.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name"
                        href="https://wpt.fyi/results/trusted-types/trusted-types-tojson.html"
                        title="trusted-types/trusted-types-tojson.html">trusted-types-tojson.html</a> <a
                        class="wpt-live"
                        href="http://wpt.live/trusted-types/trusted-types-tojson.html"><small>（在线测试）</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/trusted-types-tojson.html"><small>（源码）</small></a>
                <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/trusted-types/tt-block-eval.html"
                        title="trusted-types/tt-block-eval.html">tt-block-eval.html</a> <a class="wpt-live"
                        href="http://wpt.live/trusted-types/tt-block-eval.html"><small>(live test)</small></a> <a
                        class="wpt-source"
                        href="https://github.com/web-platform-tests/wpt/blob/master/trusted-types/tt-block-eval.html"><small>（源码）</small></a>
            </ul>
        </details>
        <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span
                class="content">介绍</span><a class="self-link" href="#introduction"></a></h2>
        <p><em>本节为非规范内容。</em></p>
        <p>某些类型的安全漏洞，当 Web 应用程序从攻击者可控的来源（例如文档 URL 参数或 postMessage 通道）获取值，并在未经适当净化的情况下，将该值传递给某个<a
                href="#injection-sinks">注入点</a>（具有强大功能的各种 Web API 函数）时，就会发生。
        </p>
        <p>此类问题传统上很难防范。应用通常以攻击者可控的值调用这些注入点，而作者并未意识到，因为在调用注入点时，并不清楚输入是否由攻击者控制。同时，由于 JavaScript
            的动态特性，很难确定程序中是否存在这种模式。这常被手动代码审查和自动化代码分析所遗漏。例如，如果 <code>aString</code> 包含不受信任的数据，则
            <code>foo[bar] = aString</code> 这一语句就有可能（取决于 <code>foo</code> 和 <code>bar</code> 的值）导致安全漏洞。
        </p>
        <p>本文档聚焦于防止 DOM 型跨站脚本攻击（DOM XSS），这种攻击发生在攻击者控制的数据到达<a href="#dom-xss-injection-sinks">§ 2.1.1 DOM XSS
                注入点</a>时，因为最终会导致执行攻击者控制的脚本。DOM XSS 在 Web 应用中广泛存在，有 60 多种注入点（如 <code>Element.innerHTML</code> 或
            <code>Location.href</code> 等设值方法）。
        </p>
        <p>本文定义了<a href="#trusted-types">受信任类型（Trusted Types）</a>——一种允许应用把<a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink">注入点</a>锁定为仅接受不可伪造的带类型值（替代字符串）的 API。这些值只能由应用自定义的<a data-link-type="dfn"
                href="#policies" id="ref-for-policies">策略</a>创建，使得作者能够为危险 API 设定规则，只需保护 Web
            应用代码中的极小部分，这些部分容易被安全防护、监控和审查，从而大大减少了攻击面。
        </p>
        <h3 class="heading settled" data-level="1.1" id="goals"><span class="secno">1.1. </span><span
                class="content">目标</span><a class="self-link" href="#goals"></a></h3>
        <ul>
            <li data-md>
                <p>尽可能减少在以不受信任数据调用强大 Web API 时出现客户端安全漏洞的可能性，例如，降低 DOM XSS 的发生概率。</p>
            <li data-md>
                <p>鼓励安全决策被封装在应用中的小范围部分。</p>
            <li data-md>
                <p>减少复杂 Web 应用代码库的安全审查量。</p>
            <li data-md>
                <p>像常规编程错误一样利于开发者检测和暴露漏洞，比如借助动态和静态分析工具辅助检测。</p>
        </ul>
        <h3 class="heading settled" data-level="1.2" id="non-goals"><span class="secno">1.2. </span><span
                class="content">非目标</span><a class="self-link" href="#non-goals"></a></h3>
        <ul>
            <li data-md>
                <p>防止或减轻服务端生成标记（markup）被注入的后果，特别是脚本正文反射到文档中。对于服务端 XSS，推荐使用模板系统或 <a data-link-type="biblio"
                        href="#biblio-csp3" title="Content Security Policy Level 3">CSP</a>
                    <a data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#script-src"
                        id="ref-for-script-src">script-src</a> 等方案。
                </p>
            <li data-md>
                <p>解决资源约束（如防止数据泄漏或通过 <a data-link-type="biblio" href="#biblio-fetch" title="Fetch Standard">[Fetch]</a>
                    连接外部资源）。</p>
            <li data-md>
                <p>控制子资源加载。受信任类型的目的是让作者能控制可对当前文档进行脚本的资源加载，而非其它子资源。</p>
            <li data-md>
                <p>防止 <em>跨域</em> JavaScript 执行（比如 Trusted Types 不会防范通过 <code>data:</code> URL 加载带脚本的新文档）。</p>
            <li data-md>
                <p>防止恶意 Web 应用作者绕过限制；试图防御恶意作者会导致设计过于复杂，不切实际。</p>
        </ul>
        <h3 class="heading settled" data-level="1.3" id="use-cases"><span class="secno">1.3. </span><span
                class="content">使用场景</span><a class="self-link" href="#use-cases"></a></h3>
        <ul>
            <li data-md>
                <p>作者维护了一个由框架生成 UI 组件的复杂 Web 应用，该框架使用安全模板系统。应用还依赖第三方客户端库（如分析、性能监控等）。为了确保这些组件都不引入 DOM XSS 漏洞，作者在模板库中定义了
                    Trusted Type 策略并对 <a href="#dom-xss-injection-sinks">§ 2.1.1 DOM XSS 注入点</a> 启用强制执行。</p>
            <li data-md>
                <p>某网站使用 <a href="#dom-xss-injection-sinks">§ 2.1.1 DOM XSS 注入点</a>。网站开发者添加受信任类型并通过
                    <a data-link-type="http-header"
                        href="https://www.w3.org/TR/CSP3/#header-content-security-policy-report-only"
                        id="ref-for-header-content-security-policy-report-only">Content-Security-Policy-Report-Only</a>
                    响应头监控违规。通过重构代码，只用安全方法，逐步修复违规点。最终，调用 <a href="#dom-xss-injection-sinks">§ 2.1.1 DOM XSS 注入点</a>
                    的地方都被清除，因此不再需要受信任类型。开发者关闭只报告模式并用
                    <a data-link-type="dfn" href="#trusted-types-directive"
                        id="ref-for-trusted-types-directive">trusted-types</a>
                    和
                    <a data-link-type="dfn" href="#require-trusted-types-for-directive"
                        id="ref-for-require-trusted-types-for-directive">require-trusted-types-for</a>
                    指令禁用策略。重构期间网站功能始终未受影响。
                </p>
            <li data-md>
                <p>一个大型团队维护复杂的客户端应用。他们创建了一些能满足安全要求的 Trusted Types 策略。团队把这些策略实现和安全抽象统一到极少量、安全审查严格的文件，并要求这些文件的提交需要额外审批。
                </p>
                <p>由于需要通过安全抽象才能影响<a data-link-type="dfn" href="#injection-sink"
                        id="ref-for-injection-sink①">注入点</a>，并且相关代码受到重点审查，开发者更倾向于用安全抽象而不是随手拼接字符串去操作 <a
                        href="#dom-xss-injection-sinks">§ 2.1.1 DOM XSS 注入点</a>。
                </p>
                <p>安全审计人员评估 DOM XSS 风险时，发现仅需关注极小攻击面：即 CSP 响应头和安全抽象代码，无需处理大部分客户端代码。</p>
            <li data-md>
                <p>某现有 Web 应用主要用 XSS 安全模式与 DOM 交互（未用 <a href="#dom-xss-injection-sinks">§ 2.1.1 DOM XSS
                        注入点</a>），但有少数场所用到了如 JSONP 加载脚本、调用 <code>innerHTML</code> 或 <code>eval</code> 等高风险方式。</p>
                <p>经检查，这些地方不会引发 XSS（如无用户控制数据输入），但很难彻底迁移掉这类用法。</p>
                <p>因此，无法对应用启用 CSP（除非勉强用 <code>'unsafe-eval' 'unsafe-inline'</code>）。而且，代码库可能遗漏了带 DOM XSS
                    漏洞的代码，或将来引入新的漏洞。</p>
                <p>为降低风险，作者将已检查代码改用 Trusted Types 并启用其<a data-link-type="dfn" href="#enforcement"
                        id="ref-for-enforcement">强制执行</a>。将来如果有其它地方用到注入点，也能被正确拦截和报告。</p>
            <li data-md>
                <p>安全团队负责确保客户端主导的应用无 XSS 漏洞。因服务端代码简单（主要为 API 后端），且应用强制启用 Trusted Types，审查的重点只需关注受信任类型<a
                        data-link-type="dfn" href="#policies" id="ref-for-policies①">策略</a>及其规则。随后，只允许已检查的策略名被包含在
                    'trusted-types' CSP 指令中，开发者可安全使用。</p>
                <p>除非某段代码创建 Trusted Type 策略，其它代码（包含常变依赖）可免审查。不创建策略就无法导致 DOM XSS。</p>
        </ul>
        <h2 class="heading settled" data-level="2" id="framework"><span class="secno">2. </span><span
                class="content">框架</span><a class="self-link" href="#framework"></a></h2>
        <h3 class="heading settled" data-level="2.1" id="injection-sinks"><span class="secno">2.1. </span><span
                class="content">注入点</span><a class="self-link" href="#injection-sinks"></a></h3>
        <p><em>本节为非规范内容。</em></p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="injection-sink">注入点</dfn>是一类只能用受信任、通过验证或适当净化的输入调用的强大 Web API 函数。用攻击者可控（即注入）的输入调用注入点可能导致不良后果，属于安全漏洞。
        </p>
        <p class="note" role="note"><span class="marker">注：</span> 本文所涵盖注入点的具体清单见
            <a href="#integrations">§ 4 集成</a>。
        </p>
        <p>仅分析<a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink②">注入点</a>的调用（通常是字符串输入），很难判断某个应用是否具有这类漏洞（比如是否易受 DOM XSS
            攻击）。例如，应用可能本就要用动态生成的输入调用 <code>eval()</code> 来做代码混淆，但如果输入可被攻击者控制，就是安全漏洞——实际用例很难区分。
        </p>
        <p>本文将注入点分组，按照每组所具备的能力。各组的<a data-link-type="dfn" href="#enforcement" id="ref-for-enforcement①">强制执行</a>由<a
                data-link-type="dfn" href="#trusted-types-sink-group"
                id="ref-for-trusted-types-sink-group">trusted-types-sink-group</a> 值控制。</p>
        <h4 class="heading settled" data-level="2.1.1" id="dom-xss-injection-sinks"><span class="secno">2.1.1.
            </span><span class="content">DOM XSS 注入点</span><a class="self-link" href="#dom-xss-injection-sinks"></a>
        </h4>
        <p><em>本节为非规范内容。</em></p>
        <p>DOM XSS <a data-link-type="dfn" href="#injection-sink" id="ref-for-injection-sink③">注入点</a>以可能导致 DOM XSS
            的方式处理输入字符串值（如果该值不可信）。</p>
        <p>示例包括：</p>
        <ul>
            <li data-md>
                <p>可用于加载代码 URL 的 <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element">Element</a></code>
                    属性设值器，如 <code
                        class="idl"><a class="idl-code" data-link-type="attribute" href="#dom-htmlscriptelement-src" id="ref-for-dom-htmlscriptelement-src">HTMLScriptElement.src</a></code>
                </p>
            <li data-md>
                <p>可执行代码的 <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①">Element</a></code>
                    属性设值器，如
                    <code
                        class="idl"><a class="idl-code" data-link-type="attribute" href="#dom-htmlscriptelement-text" id="ref-for-dom-htmlscriptelement-text">HTMLScriptElement.text</a></code>
                </p>
            <li data-md>
                <p>直接执行代码的函数，如 <code>eval</code>，</p>
            <li data-md>
                <p>导航到 'javascript:' URL。</p>
        </ul>
        <p>由于 HTML 解析器可创建任意元素（含脚本）并设任意属性，DOM XSS <a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink④">注入点</a>还包括 HTML 解析点：</p>
        <ul>
            <li data-md>
                <p>将 HTML 字符串解析并插入文档的函数，如
                    <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml" id="ref-for-dom-element-innerhtml">Element.innerHTML</a></code>、
                    <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-shadowroot-innerhtml" id="ref-for-dom-shadowroot-innerhtml">ShadowRoot.innerHTML</a></code>、
                    和 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-outerhtml" id="ref-for-dom-element-outerhtml">Element.outerHTML</a></code>
                    设值器，或 Document.write。
                </p>
            <li data-md>
                <p>创建包含调用者控制标记的新同源<code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>
                    的函数，如 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring" id="ref-for-dom-domparser-parsefromstring">parseFromString()</a></code>
                </p>
        </ul>
        <p>守护 DOM XSS 注入点的开关由名为 'script' 的 <a data-link-type="dfn" href="#trusted-types-sink-group"
                id="ref-for-trusted-types-sink-group①">trusted-types-sink-group</a> 控制。</p>
        <h3 class="heading settled" data-level="2.2" id="trusted-types"><span class="secno">2.2. </span><span
                class="content">受信任类型</span><a class="self-link" href="#trusted-types"></a></h3>
        <p>为了让作者能把控流向注入点的值，
            我们引入 <a href="#trusted-types">§ 2.2 受信任类型</a>。以下列出了
            <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="trusted-type">受信任类型</dfn>，表明作者信任某个值可在特定场景下被用作<a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink⑤">注入点</a>的输入。
        </p>
        <p class="note" role="note"><span class="marker">注：</span>
            这里的<strong>受信任</strong>指的是应用作者确信该值可安全用于注入点——她<em>信任</em>此值不会引漏洞，并不代表值本身绝对<em>安全</em>。
        </p>
        <p class="note" role="note"><span class="marker">注：</span> 这允许作者在创建某个值时明确意图，浏览器可基于该类型实施检查以保护作者的意图。举例而言，如果值本意用作
            HTML 片段，用作加载脚本就会失败。</p>
        <p class="note" role="note"><span class="marker">注：</span> 所有受信任类型都包裹着不可变字符串，对象创建时指定。对象本身不可伪造：JS
            无法篡改其内部字符串值，仅在内部插槽保存，未提供 setter。
        </p>
        <p class="note" role="note"><span class="marker">注：</span> 所有受信任类型的字符串化操作都会返回内部字符串值。这便于应用代码逐步从 DOM 字符串迁移到
            Trusted Types（可局部生产类型，代码其他部分仍可用字符串）。因此，受信任类型与常规 DOM API 向后兼容。</p>
        <h4 class="heading settled" data-level="2.2.1" id="trusted-html"><span class="secno">2.2.1. </span><span
                class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export
                    id="trustedhtml"><code>TrustedHTML</code></dfn></span><a class="self-link" href="#trusted-html"></a>
        </h4>
        <p>TrustedHTML 接口代表开发者可放心插入到<a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink⑥">注入点</a>（会当作 HTML 渲染）的字符串。这是包裹字符串的不可变对象，通过 <code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy">TrustedTypePolicy</a></code>
            的
            <code
                class="idl"><a data-link-type="idl" href="#dom-trustedtypepolicy-createhtml" id="ref-for-dom-trustedtypepolicy-createhtml">createHTML</a></code>
            方法构造。
        </p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#trustedhtml" id="ref-for-trustedhtml"><c- g>TrustedHTML</c-></a> {
  <a data-link-type="dfn" href="#trustedhtml-stringification-behavior" id="ref-for-trustedhtml-stringification-behavior"><c- b>stringifier</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="method" href="#dom-trustedhtml-tojson" id="ref-for-dom-trustedhtml-tojson"><c- g>toJSON</c-></a>();
};
</pre>
        <p>TrustedHTML 对象有个关联字符串 <dfn class="dfn-paneled" data-dfn-for="TrustedHTML" data-dfn-type="dfn" data-export
                id="trustedhtml-data">data</dfn>。
            此值在对象创建时设定，生命周期内不变。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedHTML" data-dfn-type="method" data-export
                id="dom-trustedhtml-tojson"><code>toJSON()</code></dfn> 方法和
            <dfn class="dfn-paneled" data-dfn-for="TrustedHTML" data-dfn-type="dfn" data-lt="stringificationbehavior"
                data-noexport id="trustedhtml-stringification-behavior">字符串化行为</dfn> 都应返回关联的 <a data-link-type="dfn"
                href="#trustedhtml-data" id="ref-for-trustedhtml-data">data</a> 值。
        </p>
        <h4 class="heading settled" data-level="2.2.2" id="trusted-script"><span class="secno">2.2.2. </span><span
                class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export
                    id="trustedscript"><code>TrustedScript</code></dfn></span><a class="self-link"
                href="#trusted-script"></a></h4>
        <p>TrustedScript 接口代表开发者可放心传递给<a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink⑦">注入点</a>（很可能会执行该脚本）的、未编译脚本正文的字符串。该对象是不可变的字符串包装，通过 <code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy①">TrustedTypePolicy</a></code>
            的
            <code
                class="idl"><a data-link-type="idl" href="#dom-trustedtypepolicy-createscript" id="ref-for-dom-trustedtypepolicy-createscript">createScript</a></code>
            方法构造。
        </p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#trustedscript" id="ref-for-trustedscript"><c- g>TrustedScript</c-></a> {
  <a data-link-type="dfn" href="#trustedscript-stringification-behavior" id="ref-for-trustedscript-stringification-behavior"><c- b>stringifier</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="method" href="#dom-trustedscript-tojson" id="ref-for-dom-trustedscript-tojson"><c- g>toJSON</c-></a>();
};
</pre>
        <p>TrustedScript 对象有个关联字符串 <dfn class="dfn-paneled" data-dfn-for="TrustedScript" data-dfn-type="dfn" data-export
                id="trustedscript-data">data</dfn>。
            此值在对象创建时设定，生命周期内不变。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedScript" data-dfn-type="method" data-export
                id="dom-trustedscript-tojson"><code>toJSON()</code></dfn> 方法和
            <dfn class="dfn-paneled" data-dfn-for="TrustedScript" data-dfn-type="dfn" data-lt="stringificationbehavior"
                data-noexport id="trustedscript-stringification-behavior">字符串化行为</dfn> 都应返回关联的 <a data-link-type="dfn"
                href="#trustedscript-data" id="ref-for-trustedscript-data">data</a> 值。
        </p>
        <h4 class="heading settled" data-level="2.2.3" id="trused-script-url"><span class="secno">2.2.3. </span><span
                class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export
                    id="trustedscripturl"><code>TrustedScriptURL</code></dfn></span><a class="self-link"
                href="#trused-script-url"></a></h4>
        <p>TrustedScriptURL 接口代表开发者可放心传递给<a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink⑧">注入点</a>（并以外部脚本资源 URL 解析）的字符串。这类对象是不可变的字符串包装，通过 <code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy②">TrustedTypePolicy</a></code>
            的
            <code
                class="idl"><a data-link-type="idl" href="#dom-trustedtypepolicy-createscripturl" id="ref-for-dom-trustedtypepolicy-createscripturl">createScriptURL</a></code>
            方法构造。
        </p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#trustedscripturl" id="ref-for-trustedscripturl"><c- g>TrustedScriptURL</c-></a> {
  <a data-link-type="dfn" href="#trustedscripturl-stringification-behavior" id="ref-for-trustedscripturl-stringification-behavior"><c- b>stringifier</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="method" href="#dom-trustedscripturl-tojson" id="ref-for-dom-trustedscripturl-tojson"><c- g>toJSON</c-></a>();
};
</pre>
        <p>TrustedScriptURL 对象有个关联字符串 <dfn class="dfn-paneled" data-dfn-for="TrustedScriptURL" data-dfn-type="dfn"
                data-export id="trustedscripturl-data">data</dfn>。
            此值在对象创建时设定，生命周期内不变。</p>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedScriptURL" data-dfn-type="method" data-export
                id="dom-trustedscripturl-tojson"><code>toJSON()</code></dfn> 方法和
            <dfn class="dfn-paneled" data-dfn-for="TrustedScriptURL" data-dfn-type="dfn"
                data-lt="stringificationbehavior" data-noexport
                id="trustedscripturl-stringification-behavior">字符串化行为</dfn> 都应返回关联的 <a data-link-type="dfn"
                href="#trustedscripturl-data" id="ref-for-trustedscripturl-data">data</a> 值。
        </p>
        <h3 class="heading settled" data-level="2.3" id="policies-hdr"><span class="secno">2.3. </span><span
                class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="policies">策略</dfn></span><a class="self-link" href="#policies-hdr"></a></h3>
        <p>受信任类型只能通过用户自定义、不可变的策略创建。策略定义将字符串转化为特定受信任类型对象的规则。策略允许作者根据需求定制受信任类型遵循的编程规则。</p>
        <div class="example" id="sanitizing-policy">
            <a class="self-link" href="#sanitizing-policy"></a>
            作者可以定义策略净化 HTML 字符串，只留下已知不会导致 JavaScript 执行的标签和属性。通过该策略创建的任何 <code
                class="idl"><a data-link-type="idl" href="#trustedhtml" id="ref-for-trustedhtml①">TrustedHTML</a></code>
            对象都可安全地在应用中使用（如传递给 <code>innerHTML</code> 设值器）——即使输入值由攻击者控制，策略规则已将其中和成安全内容。

            <pre class="highlight"><c- a>const</c-> sanitizingPolicy <c- o>=</c-> trustedTypes<c- p>.</c->createPolicy<c- p>(</c-><c- t>'sanitize-html'</c-><c- p>,</c-> <c- p>{</c->
  createHTML<c- o>:</c-> <c- p>(</c->input<c- p>)</c-> <c- p>=></c-> myTrustedSanitizer<c- p>(</c->input<c- p>,</c-> <c- p>{</c-> superSafe<c- o>:</c-> <c- t>'ok'</c-><c- p>}),</c->
<c- p>});</c->

myDiv<c- p>.</c->innerHTML <c- o>=</c-> sanitizingPolicy<c- p>.</c->createHTML<c- p>(</c->untrustedValue<c- p>);</c->
</pre>
        </div>
        <p class="note" role="note"><span class="marker">注：</span> <a data-link-type="dfn" href="#trusted-type"
                id="ref-for-trusted-type">受信任类型</a>对象用来包裹作者明确信任的值。因此，创建受信任类型对象实例本身就成为事实上的<a data-link-type="dfn"
                href="#injection-sink"
                id="ref-for-injection-sink⑨">注入点</a>，代码中的此过程也极为安全敏感。为严格控制对象的创建，相关构造方法不直接暴露，而要求必须通过<a
                data-link-type="dfn" href="#policies" id="ref-for-policies②">策略</a>创建。</p>
        <p>同一<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm"
                id="ref-for-concept-global-object-realm">范围（Realm）</a>中可创建多个策略，应用可对不同代码部分定义不同规则。</p>
        <div class="example" id="policy-reference">
            <a class="self-link" href="#policy-reference"></a>
            通过策略初始化库，只允许该库从指定主机加载额外脚本。

            <pre class="highlight">
<c- a>const</c-> cdnScriptsPolicy <c- o>=</c-> trustedTypes<c- p>.</c->createPolicy<c- p>(</c-><c- t>'cdn-scripts'</c-><c- p>,</c-> <c- p>{</c->
  createScriptURL<c- p>(</c->url<c- p>)</c-> <c- p>{</c->
    <c- a>const</c-> parsed <c- o>=</c-> <c- ow>new</c-> URL<c- p>(</c->url<c- p>,</c-> document<c- p>.</c->baseURI<c- p>);</c->
    <c- k>if</c-> <c- p>(</c->parsed<c- p>.</c->origin <c- o>==</c-> <c- t>'https://mycdn.example'</c-><c- p>)</c-> <c- p>{</c->
      <c- k>return</c-> url<c- p>;</c->
    <c- p>}</c->
    <c- k>throw</c-> <c- ow>new</c-> <c- ne>TypeError</c-><c- p>(</c-><c- t>'invalid URL'</c-><c- p>);</c->
  <c- p>},</c->
<c- p>});</c->

myLibrary<c- p>.</c->init<c- p>({</c->policy<c- o>:</c-> cdnScriptsPolicy<c- p>});</c->
</pre>
        </div>
        <p class="note" role="note"><span class="marker">注：</span> 受信任类型对象只能通过策略创建。如果<a data-link-type="dfn"
                href="#enforcement" id="ref-for-enforcement②">强制执行</a>已启用，只有策略代码能触发<a data-link-type="dfn"
                href="#injection-sink" id="ref-for-injection-sink①⓪">注入点</a>动作，因此策略的 <code>create*</code>
            方法调用处是全程序唯一安全敏感点，无需监控所有<a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink①①">注入点</a>。User Agent 会<a data-link-type="dfn" href="#enforcement"
                id="ref-for-enforcement③">强制</a>注入点只接受匹配的受信任类型对象，而这些对象只能经策略创建。</p>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-trustedtypepolicyfactory-createpolicy" id="ref-for-dom-trustedtypepolicyfactory-createpolicy">createPolicy</a></code>
            方法返回一个策略对象，<code>create*</code> 方法会按策略规则创建受信任类型对象。</p>
        <p class="note" role="note"><span class="marker">注：</span>
            对于能净化输入的策略，可在应用任意处自由使用。但有时需要宽松策略且仅供内部调用，必须确保仅用作者可控输入。例如，客户端 HTML 模板库、HTML 净化库或 JS 异步代码插件加载系统可能都需完全控制 HTML 或
            URL。API 也支持这点：只有调用方获得策略引用（<code
                class="idl"><a data-link-type="idl" href="#dom-trustedtypepolicyfactory-createpolicy" id="ref-for-dom-trustedtypepolicyfactory-createpolicy①">createPolicy()</a></code>
            返回值）时才能用策略。策略引用就是<a href="https://en.wikipedia.org/wiki/Object-capability_model">能力</a>，JS
            可用闭包、函数内变量或模块限制访问。
        </p>
        <div class="example" id="policy-capability">
            <a class="self-link" href="#policy-capability"></a>
            不安全的无操作策略，仅能在单个代码块内部访问，以保证只被用于作者可控的输入。

            <pre class="highlight"><c- p>(</c-><c- a>function</c-> renderFootnote<c- p>()</c-> <c- p>{</c->
  <c- a>const</c-> unsafePolicy <c- o>=</c-> trustedTypes<c- p>.</c->createPolicy<c- p>(</c-><c- t>'html'</c-><c- p>,</c-> <c- p>{</c->
    createHTML<c- o>:</c-> input <c- p>=></c-> input<c- p>,</c->
  <c- p>});</c->
  <c- a>const</c-> footnote <c- o>=</c-> <c- k>await</c-> fetch<c- p>(</c-><c- t>'/footnote.html'</c-><c- p>).</c->then<c- p>(</c->r <c- p>=></c-> r<c- p>.</c->text<c- p>());</c->
  footNote<c- p>.</c->innerHTML <c- o>=</c-> unsafePolicy<c- p>.</c->createHTML<c- p>(</c->footnote<c- p>);</c->
<c- p>})();</c->
</pre>
        </div>
        <h4 class="heading settled" data-level="2.3.1" id="trusted-type-policy-factory"><span class="secno">2.3.1.
            </span><span class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export
                    id="trustedtypepolicyfactory"><code>TrustedTypePolicyFactory</code></dfn></span><a class="self-link"
                href="#trusted-type-policy-factory"></a></h4>
        <p>TrustedTypePolicyFactory 用于创建
            <code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy③">策略</a></code>
            并验证受信任类型对象实例是否是通过这些策略创建的。
        </p>
        <p class="note" role="note"><span class="marker">注：</span> 该工厂对象通过全局对象上的 <code>trustedTypes</code> 属性暴露给
            JavaScript —— 详见 <a href="#extensions-to-the-windoworworkerglobalscope-interface">§ 4.1.1 窗口或 Worker
                全局作用域接口的扩展</a>。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)] <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#trustedtypepolicyfactory" id="ref-for-trustedtypepolicyfactory"><c- g>TrustedTypePolicyFactory</c-></a> {
    <a data-link-type="idl-name" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy④"><c- n>TrustedTypePolicy</c-></a> <a class="idl-code" data-link-type="method" href="#dom-trustedtypepolicyfactory-createpolicy" id="ref-for-dom-trustedtypepolicyfactory-createpolicy②"><c- g>createPolicy</c-></a>(
        <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/createPolicy(policyName, policyOptions), TrustedTypePolicyFactory/createPolicy(policyName)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-createpolicy-policyname-policyoptions-policyname"><code><c- g>policyName</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-trustedtypepolicyoptions" id="ref-for-dictdef-trustedtypepolicyoptions"><c- n>TrustedTypePolicyOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/createPolicy(policyName, policyOptions), TrustedTypePolicyFactory/createPolicy(policyName)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-createpolicy-policyname-policyoptions-policyoptions"><code><c- g>policyOptions</c-></code></dfn> = {});
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-trustedtypepolicyfactory-ishtml" id="ref-for-dom-trustedtypepolicyfactory-ishtml"><c- g>isHTML</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/isHTML(value)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-ishtml-value-value"><code><c- g>value</c-></code></dfn>);
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-trustedtypepolicyfactory-isscript" id="ref-for-dom-trustedtypepolicyfactory-isscript"><c- g>isScript</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/isScript(value)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-isscript-value-value"><code><c- g>value</c-></code></dfn>);
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-trustedtypepolicyfactory-isscripturl" id="ref-for-dom-trustedtypepolicyfactory-isscripturl"><c- g>isScriptURL</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/isScriptURL(value)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-isscripturl-value-value"><code><c- g>value</c-></code></dfn>);
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#trustedhtml" id="ref-for-trustedhtml②"><c- n>TrustedHTML</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="TrustedHTML" href="#dom-trustedtypepolicyfactory-emptyhtml" id="ref-for-dom-trustedtypepolicyfactory-emptyhtml"><c- g>emptyHTML</c-></a>;
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#trustedscript" id="ref-for-trustedscript①"><c- n>TrustedScript</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="TrustedScript" href="#dom-trustedtypepolicyfactory-emptyscript" id="ref-for-dom-trustedtypepolicyfactory-emptyscript"><c- g>emptyScript</c-></a>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-trustedtypepolicyfactory-getattributetype" id="ref-for-dom-trustedtypepolicyfactory-getattributetype"><c- g>getAttributeType</c-></a>(
        <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/getAttributeType(tagName, attribute, elementNs, attrNs), TrustedTypePolicyFactory/getAttributeType(tagName, attribute, elementNs), TrustedTypePolicyFactory/getAttributeType(tagName, attribute)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-tagname"><code><c- g>tagName</c-></code></dfn>,
        <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/getAttributeType(tagName, attribute, elementNs, attrNs), TrustedTypePolicyFactory/getAttributeType(tagName, attribute, elementNs), TrustedTypePolicyFactory/getAttributeType(tagName, attribute)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-attribute"><code><c- g>attribute</c-></code></dfn>,
        <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/getAttributeType(tagName, attribute, elementNs, attrNs), TrustedTypePolicyFactory/getAttributeType(tagName, attribute, elementNs), TrustedTypePolicyFactory/getAttributeType(tagName, attribute)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-elementns"><code><c- g>elementNs</c-></code></dfn> = "",
        <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦"><c- b>DOMString</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/getAttributeType(tagName, attribute, elementNs, attrNs), TrustedTypePolicyFactory/getAttributeType(tagName, attribute, elementNs), TrustedTypePolicyFactory/getAttributeType(tagName, attribute)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-attrns"><code><c- g>attrNs</c-></code></dfn> = "");
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-trustedtypepolicyfactory-getpropertytype" id="ref-for-dom-trustedtypepolicyfactory-getpropertytype"><c- g>getPropertyType</c-></a>(
        <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑨"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/getPropertyType(tagName, property, elementNs), TrustedTypePolicyFactory/getPropertyType(tagName, property)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-tagname"><code><c- g>tagName</c-></code></dfn>,
        <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/getPropertyType(tagName, property, elementNs), TrustedTypePolicyFactory/getPropertyType(tagName, property)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-property"><code><c- g>property</c-></code></dfn>,
        <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①①"><c- b>DOMString</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory/getPropertyType(tagName, property, elementNs), TrustedTypePolicyFactory/getPropertyType(tagName, property)" data-dfn-type="argument" data-export id="dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-elementns"><code><c- g>elementNs</c-></code></dfn> = "");
    <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy⑤"><c- n>TrustedTypePolicy</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="TrustedTypePolicy?" href="#dom-trustedtypepolicyfactory-defaultpolicy" id="ref-for-dom-trustedtypepolicyfactory-defaultpolicy"><c- g>defaultPolicy</c-></a>;
};
</pre>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicyfactory" id="ref-for-trustedtypepolicyfactory①">TrustedTypePolicyFactory</a></code>
            对象有一个关联的 <code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy⑥">TrustedTypePolicy</a></code>
            <dfn class="dfn-paneled" data-dfn-for="TrustedTypePolicyFactory" data-dfn-type="dfn" data-noexport
                id="trustedtypepolicyfactory-default-policy">默认策略</dfn>。
            初始值为 null。
        </p>
        <p>A <code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicyfactory" id="ref-for-trustedtypepolicyfactory②">TrustedTypePolicyFactory</a></code>
            对象有一个关联的字符串<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set"
                id="ref-for-ordered-set">有序集合</a><dfn class="dfn-paneled" data-dfn-for="TrustedTypePolicyFactory"
                data-dfn-type="dfn" data-noexport id="trustedtypepolicyfactory-created-policy-names">已创建的策略名称</dfn>。
            初始值为 « »。</p>
        <div>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory"
                        data-dfn-type="method" data-export
                        data-lt="createPolicy(policyName, policyOptions)|createPolicy(policyName)"
                        id="dom-trustedtypepolicyfactory-createpolicy"><code>createPolicy(policyName, policyOptions)</code></dfn>
                <dd data-md>
                    <p>创建一个策略对象，用于执行 <code
                            class="idl"><a data-link-type="idl" href="#dictdef-trustedtypepolicyoptions" id="ref-for-dictdef-trustedtypepolicyoptions①">TrustedTypePolicyOptions</a></code>
                        <var>policyOptions</var> 对象中传入的规则。
                        可允许的策略名称可能受 <a href="#content-security-policy-hdr">内容安全策略</a>限制。
                        如果策略名称不在 <a data-link-type="dfn" href="#trusted-types-directive"
                            id="ref-for-trusted-types-directive①">trusted-types</a> CSP
                        指令定义的白名单中，
                        则创建策略失败并抛出 TypeError。
                        此外，如果启用了唯一策略名称（即未使用 <code>'allow-duplicates'</code>），
                        并且多次以相同 <code>policyName</code> 调用 <code>createPolicy</code>，
                        也会导致策略创建失败并抛出 TypeError。
                    </p>
                    <div class="example" id="create-policy-example">
                        <a class="self-link" href="#create-policy-example"></a>

                        <pre class="highlight"><c- c1>// HTTP 响应头: Content-Security-Policy: trusted-types foo</c->
trustedTypes<c- p>.</c->createPolicy<c- p>(</c-><c- u>"foo"</c-><c- p>,</c-> <c- p>{});</c-> <c- c1>// 正常</c->
trustedTypes<c- p>.</c->createPolicy<c- p>(</c-><c- u>"bar"</c-><c- p>,</c-> <c- p>{});</c-> <c- c1>// 抛出异常 - 名称不在白名单。</c->
trustedTypes<c- p>.</c->createPolicy<c- p>(</c-><c- u>"foo"</c-><c- p>,</c-> <c- p>{});</c-> <c- c1>// 抛出异常 - 名称重复。</c->
</pre>
                    </div>
                    <p>返回执行<a data-link-type="dfn" href="#create-a-trusted-type-policy"
                            id="ref-for-create-a-trusted-type-policy">创建受信任类型策略</a>算法的结果，
                        并传入下列参数：</p>
                    <dl>
                        <dt>factory
                        <dd><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this">this</a> 值
                        <dt>policyName
                        <dd><var>policyName</var>
                        <dt>options
                        <dd><var>policyOptions</var>
                        <dt>global
                        <dd><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this①">this</a> 值的<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                id="ref-for-concept-relevant-global">相关全局对象</a>
                    </dl>
                    <div class="example" id="create-and-used-unexposed-policy">
                        <a class="self-link" href="#create-and-used-unexposed-policy"></a>

                        <pre class="highlight"><c- a>const</c-> myPolicy <c- o>=</c-> trustedTypes<c- p>.</c->createPolicy<c- p>(</c-><c- t>'myPolicy'</c-><c- p>,</c-> <c- p>{</c->
  <c- c1>// 此安全敏感代码需要安全审核；</c->
  <c- c1>// 代码缺陷可能导致 DOM XSS。</c->
  createHTML<c- p>(</c->input<c- p>)</c-> <c- p>{</c-> <c- k>return</c-> aSanitizer<c- p>.</c->sanitize<c- p>(</c->input<c- p>)</c-> <c- p>},</c->
  createScriptURL<c- p>(</c->input<c- p>)</c-> <c- p>{</c->
    <c- a>const</c-> u <c- o>=</c-> <c- ow>new</c-> URL<c- p>(</c->dirty<c- p>,</c-> document<c- p>.</c->baseURI<c- p>);</c->
    <c- k>if</c-> <c- p>(</c->APPLICATION_CONFIG<c- p>.</c->scriptOrigins<c- p>.</c->includes<c- p>(</c->u<c- p>.</c->origin<c- p>))</c-> <c- p>{</c->
      <c- k>return</c-> u<c- p>.</c->href<c- p>;</c->
    <c- p>}</c->
    <c- k>throw</c-> <c- ow>new</c-> <c- ne>Error</c-><c- p>(</c-><c- t>'Cannot load scripts from this origin'</c-><c- p>);</c->
  <c- p>},</c->
<c- p>});</c->

document<c- p>.</c->querySelector<c- p>(</c-><c- u>"#foo"</c-><c- p>).</c->innerHTML <c- o>=</c-> myPolicy<c- p>.</c->createHTML<c- p>(</c->aValue<c- p>);</c->
scriptElement<c- p>.</c->src <c- o>=</c-> myPolicy<c- p>.</c->createScriptURL<c- p>(</c->
    <c- t>'https://scripts.myapp.example/script.js'</c-><c- p>);</c->
</pre>
                    </div>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory"
                        data-dfn-type="method" data-export
                        id="dom-trustedtypepolicyfactory-ishtml"><code>isHTML(value)</code></dfn>
                <dd data-md>
                    <p>如果 value 是 <code
                            class="idl"><a data-link-type="idl" href="#trustedhtml" id="ref-for-trustedhtml③">TrustedHTML</a></code>
                        实例且其 <a data-link-type="dfn" href="#trustedhtml-data" id="ref-for-trustedhtml-data①">data</a>
                        有值，则返回 true，否则返回 false。</p>
                    <p class="note" role="note"><span class="marker">注：</span> <code>is*</code> 方法用于检查某对象是否真的是合法的
                        <a data-link-type="dfn" href="#trusted-type" id="ref-for-trusted-type①">受信任类型</a>对象
                        （即通过配置的策略创建）。这样能检测例如通过
                        <a
                            href="https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object.create">Object.create</a>
                        或原型链篡改伪造的对象。
                    </p>
                    <div class="example" id="is-html-example">
                        <a class="self-link" href="#is-html-example"></a>

                        <pre class="highlight"><c- a>const</c-> html <c- o>=</c-> policy<c- p>.</c->createHTML<c- p>(</c-><c- t>'&lt;div>'</c-><c- p>);</c->
trustedTypes<c- p>.</c->isHTML<c- p>(</c->html<c- p>);</c-> <c- c1>// true</c->

<c- a>const</c-> fake <c- o>=</c-> Object<c- p>.</c->create<c- p>(</c->TrustedHTML<c- p>.</c->prototype<c- p>);</c->
trustedTypes<c- p>.</c->isHTML<c- p>(</c->fake<c- p>);</c-> <c- c1>// false</c->

trustedTypes<c- p>.</c->isHTML<c- p>(</c-><c- u>"&lt;div>plain string&lt;/div>"</c-><c- p>);</c-> <c- c1>// false</c->
</pre>
                    </div>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory"
                        data-dfn-type="method" data-export
                        id="dom-trustedtypepolicyfactory-isscript"><code>isScript(value)</code></dfn>
                <dd data-md>
                    <p>如果 value 是 <code
                            class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript②">TrustedScript</a></code>
                        实例且其 <a data-link-type="dfn" href="#trustedscript-data"
                            id="ref-for-trustedscript-data①">data</a> 有值，则返回 true，否则返回 false。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory"
                        data-dfn-type="method" data-export
                        id="dom-trustedtypepolicyfactory-isscripturl"><code>isScriptURL(value)</code></dfn>
                <dd data-md>
                    <p>如果 value 是 <code
                            class="idl"><a data-link-type="idl" href="#trustedscripturl" id="ref-for-trustedscripturl①">TrustedScriptURL</a></code>
                        实例且其 <a data-link-type="dfn" href="#trustedscripturl-data"
                            id="ref-for-trustedscripturl-data①">data</a> 有值，则返回 true，否则返回 false。</p>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory"
                        data-dfn-type="method" data-export
                        data-lt="getPropertyType(tagName, property, elementNs)|getPropertyType(tagName, property)"
                        id="dom-trustedtypepolicyfactory-getpropertytype"><code>getPropertyType(tagName, property, elementNs)</code></dfn>
                <dd data-md>
                    <p>允许作者检查指定 <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element②">Element</a></code>
                        属性（IDL 属性）是否需要受信任类型。</p>
                    <p>此函数按如下算法返回结果：</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>localName</var> 设为 <var>tagName</var> 的<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#ascii-lowercase"
                                    id="ref-for-ascii-lowercase">ASCII 小写</a>。</p>
                        <li data-md>
                            <p>如果 <var>elementNs</var> 为 null 或空字符串，则设为<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#html-namespace"
                                    id="ref-for-html-namespace">HTML 命名空间</a>。</p>
                        <li data-md>
                            <p>令 <var>interface</var> 为
                                <var>localName</var> 和 <var>elementNs</var> 对应的<a data-link-type="dfn"
                                    href="https://dom.spec.whatwg.org/#concept-element-interface"
                                    id="ref-for-concept-element-interface">元素接口</a>。
                            </p>
                        <li data-md>
                            <p>令 <var>expectedType</var> 取 null。</p>
                        <li data-md>
                            <p>在以下表格中找到与 <var>interface</var> 名称或 "*" 匹配，且属性名为 <var>property</var>
                                的行。若匹配，<var>expectedType</var> 设为第三列类型名。
                            </p>
                            <table>
                                <thead>
                                    <tr>
                                        <th>元素
                                        <th>属性名
                                        <th>TrustedType

                                <tbody>
                                    <tr>
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#htmliframeelement" id="ref-for-htmliframeelement">HTMLIFrameElement</a></code>
                                        <td>"srcdoc"
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="#trustedhtml" id="ref-for-trustedhtml④">TrustedHTML</a></code>

                                    <tr>
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement">HTMLScriptElement</a></code>
                                        <td>"innerText"
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript③">TrustedScript</a></code>

                                    <tr>
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement①">HTMLScriptElement</a></code>
                                        <td>"src"
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="#trustedscripturl" id="ref-for-trustedscripturl②">TrustedScriptURL</a></code>

                                    <tr>
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement②">HTMLScriptElement</a></code>
                                        <td>"text"
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript④">TrustedScript</a></code>

                                    <tr>
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement③">HTMLScriptElement</a></code>
                                        <td>"textContent"
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript⑤">TrustedScript</a></code>

                                    <tr>
                                        <td>"*"
                                        <td>"innerHTML"
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="#trustedhtml" id="ref-for-trustedhtml⑤">TrustedHTML</a></code>

                                    <tr>
                                        <td>"*"
                                        <td>"outerHTML"
                                        <td><code
                                                class="idl"><a data-link-type="idl" href="#trustedhtml" id="ref-for-trustedhtml⑥">TrustedHTML</a></code>

                            </table>
                        <li data-md>
                            <p>返回 <var>expectedType</var>。</p>
                    </ol>
                    <div class="example" id="get-property-type-example">
                        <a class="self-link" href="#get-property-type-example"></a>

                        <pre class="highlight">trustedTypes<c- p>.</c->getPropertyType<c- p>(</c-><c- t>'div'</c-><c- p>,</c-> <c- t>'innerHTML'</c-><c- p>);</c-> <c- c1>// "TrustedHTML"</c->
trustedTypes<c- p>.</c->getPropertyType<c- p>(</c-><c- t>'foo'</c-><c- p>,</c-> <c- t>'bar'</c-><c- p>);</c-> <c- c1>// null</c->
</pre>
                    </div>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory"
                        data-dfn-type="method" data-export
                        data-lt="getAttributeType(tagName, attribute, elementNs, attrNs)|getAttributeType(tagName, attribute, elementNs)|getAttributeType(tagName, attribute)"
                        id="dom-trustedtypepolicyfactory-getattributetype"><code>getAttributeType(tagName, attribute, elementNs, attrNs)</code></dfn>
                <dd data-md>
                    <p>允许作者检查指定 <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element③">Element</a></code>
                        内容属性是否需要某种受信任类型，并确保后续 <code>Element.setAttribute</code> 能传入正确参数类型。</p>
                    <p>此函数按如下算法返回结果：</p>
                    <ol>
                        <li data-md>
                            <p>将 <var>localName</var> 设为 <var>tagName</var> 的<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#ascii-lowercase"
                                    id="ref-for-ascii-lowercase①">ASCII 小写</a>。</p>
                        <li data-md>
                            <p>将 <var>attribute</var> 设为 <a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#ascii-lowercase"
                                    id="ref-for-ascii-lowercase②">ASCII 小写</a>。</p>
                        <li data-md>
                            <p>如果 <var>elementNs</var> 为 null 或空字符串，则设为<a data-link-type="dfn"
                                    href="https://infra.spec.whatwg.org/#html-namespace"
                                    id="ref-for-html-namespace①">HTML 命名空间</a>。</p>
                        <li data-md>
                            <p>如果 <var>attrNs</var> 是空字符串，则设为 null。</p>
                        <li data-md>
                            <p>令 <var>interface</var> 为 <var>localName</var> 和 <var>elementNs</var> 对应的<a
                                    data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-element-interface"
                                    id="ref-for-concept-element-interface①">元素接口</a>。</p>
                        <li data-md>
                            <p>令 <var>expectedType</var> 取 null。</p>
                        <li data-md>
                            <p>将 <var>attributeData</var> 设为<a data-link-type="dfn"
                                    href="#get-trusted-type-data-for-attribute①"
                                    id="ref-for-get-trusted-type-data-for-attribute①">获取属性的受信任类型数据</a>算法的结果，参数为：</p>
                            <ul>
                                <li data-md>
                                    <p><var>interface</var> 作为 <var>element</var></p>
                                <li data-md>
                                    <p><var>attribute</var></p>
                                <li data-md>
                                    <p><var>attrNs</var></p>
                            </ul>
                        <li data-md>
                            <p>如果 <var>attributeData</var> 不为 null，则 <var>expectedType</var> 设为 attributeData 第4项的类型名。
                            </p>
                        <li data-md>
                            <p>返回 <var>expectedType</var>。</p>
                    </ol>
                    <div class="example" id="get-attribute-type-example">
                        <a class="self-link" href="#get-attribute-type-example"></a>

                        <pre class="highlight">trustedTypes<c- p>.</c->getAttributeType<c- p>(</c-><c- t>'script'</c-><c- p>,</c-> <c- t>'src'</c-><c- p>);</c-> <c- c1>// "TrustedScriptURL"</c->
trustedTypes<c- p>.</c->getAttributeType<c- p>(</c-><c- t>'foo'</c-><c- p>,</c-> <c- t>'bar'</c-><c- p>);</c-> <c- c1>// null</c->
</pre>
                    </div>
            </dl>
        </div>
        <div>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory"
                        data-dfn-type="attribute" data-export
                        id="dom-trustedtypepolicyfactory-emptyhtml"><code>emptyHTML</code></dfn>, <span> 类型为 <a
                            data-link-type="idl-name" href="#trustedhtml" id="ref-for-trustedhtml⑦">TrustedHTML</a>,
                        只读</span>
                <dd data-md>
                    <p>为 <code
                            class="idl"><a data-link-type="idl" href="#trustedhtml" id="ref-for-trustedhtml⑧">TrustedHTML</a></code>
                        对象，其 <a data-link-type="dfn" href="#trustedhtml-data" id="ref-for-trustedhtml-data②">data</a>
                        值为空字符串。</p>
            </dl>
            <div class="example" id="empty-html-example">
                <a class="self-link" href="#empty-html-example"></a>

                <pre class="highlight">anElement<c- p>.</c->innerHTML <c- o>=</c-> trustedTypes<c- p>.</c->emptyHTML<c- p>;</c-> <c- c1>// 无需创建策略</c->
</pre>
            </div>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory"
                        data-dfn-type="attribute" data-export
                        id="dom-trustedtypepolicyfactory-emptyscript"><code>emptyScript</code></dfn>, <span> 类型为 <a
                            data-link-type="idl-name" href="#trustedscript"
                            id="ref-for-trustedscript⑥">TrustedScript</a>, 只读</span>
                <dd data-md>
                    <p>为 <code
                            class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript⑦">TrustedScript</a></code>
                        对象，其 <a data-link-type="dfn" href="#trustedscript-data"
                            id="ref-for-trustedscript-data②">data</a> 值为空字符串。</p>
            </dl>
            <p class="note" role="note"><span class="marker">注：</span> 此对象可用于检测运行环境是否支持动态代码编译。
                若原生 Trusted Types 实现支持 <code>eval(TrustedScript)</code>，将实际执行代码并返回假值 undefined；
                若无原生支持，eval(trustedTypes.emptyScript) 会返回一个真值对象，无法解包和执行代码，polyfill 无法模拟。</p>
            <div class="example" id="empty-script-example">
                <a class="self-link" href="#empty-script-example"></a>

                <pre class="highlight"><c- c1>// 原生 Trusted Types 支持时，eval(trustedTypes.emptyScript) 执行并返回假值 undefined。</c->
<c- c1>// 否则，eval(trustedTypes.emptyScript) 返回真值 Object。</c->
<c- a>const</c-> supportsTS <c- o>=</c-> <c- o>!</c->eval<c- p>(</c->trustedTypes<c- p>.</c->emptyScript<c- p>);</c->

eval<c- p>(</c->supportsTS <c- o>?</c-> myTrustedScriptObj <c- o>:</c-> myTrustedScriptObj<c- p>.</c->toString<c- p>());</c->
</pre>
            </div>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyFactory"
                        data-dfn-type="attribute" data-export
                        id="dom-trustedtypepolicyfactory-defaultpolicy"><code>defaultPolicy</code></dfn>, <span> 类型为
                        <a data-link-type="idl-name" href="#trustedtypepolicy"
                            id="ref-for-trustedtypepolicy⑦">TrustedTypePolicy</a>, 只读，可为 null</span>
                <dd data-md>
                    <p>返回 <a data-link-type="dfn" href="#trustedtypepolicyfactory-default-policy"
                            id="ref-for-trustedtypepolicyfactory-default-policy">默认策略</a> 的值。</p>
            </dl>
            <div class="example" id="defaultpolicy-example">
                <a class="self-link" href="#defaultpolicy-example"></a>

                <pre class="highlight">trustedTypes<c- p>.</c->defaultPolicy <c- o>===</c-> <c- kc>null</c-><c- p>;</c->  <c- c1>// true</c->
<c- a>const</c-> dp <c- o>=</c-> trustedTypes<c- p>.</c->createPolicy<c- p>(</c-><c- t>'default'</c-><c- p>,</c-> <c- p>{});</c->
trustedTypes<c- p>.</c->defaultPolicy <c- o>===</c-> dp<c- p>;</c->  <c- c1>// true</c->
</pre>
            </div>
        </div>
        <h4 class="heading settled" data-level="2.3.2" id="trusted-type-policy"><span class="secno">2.3.2. </span><span
                class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export
                    id="trustedtypepolicy"><code>TrustedTypePolicy</code></dfn></span><a class="self-link"
                href="#trusted-type-policy"></a></h4>
        <p>策略对象实现 TrustedTypePolicy 接口，并定义一组用于创建受信任类型对象的函数。每个 <code>create*</code> 函数会将字符串值转换为指定的受信任类型变体，如果不允许转换则抛出
            TypeError。</p>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy⑧"><c- g>TrustedTypePolicy</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①²"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicy" data-dfn-type="attribute" data-export data-readonly data-type="DOMString" id="dom-trustedtypepolicy-name"><code><c- g>name</c-></code></dfn>;
  <a data-link-type="idl-name" href="#trustedhtml" id="ref-for-trustedhtml⑨"><c- n>TrustedHTML</c-></a> <a class="idl-code" data-link-type="method" href="#dom-trustedtypepolicy-createhtml" id="ref-for-dom-trustedtypepolicy-createhtml①"><c- g>createHTML</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①³"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicy/createHTML(input, ...arguments), TrustedTypePolicy/createHTML(input)" data-dfn-type="argument" data-export id="dom-trustedtypepolicy-createhtml-input-arguments-input"><code><c- g>input</c-></code></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any③"><c- b>any</c-></a>... <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicy/createHTML(input, ...arguments), TrustedTypePolicy/createHTML(input)" data-dfn-type="argument" data-export id="dom-trustedtypepolicy-createhtml-input-arguments-arguments"><code><c- g>arguments</c-></code></dfn>);
  <a data-link-type="idl-name" href="#trustedscript" id="ref-for-trustedscript⑧"><c- n>TrustedScript</c-></a> <a class="idl-code" data-link-type="method" href="#dom-trustedtypepolicy-createscript" id="ref-for-dom-trustedtypepolicy-createscript①"><c- g>createScript</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⁴"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicy/createScript(input, ...arguments), TrustedTypePolicy/createScript(input)" data-dfn-type="argument" data-export id="dom-trustedtypepolicy-createscript-input-arguments-input"><code><c- g>input</c-></code></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any④"><c- b>any</c-></a>... <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicy/createScript(input, ...arguments), TrustedTypePolicy/createScript(input)" data-dfn-type="argument" data-export id="dom-trustedtypepolicy-createscript-input-arguments-arguments"><code><c- g>arguments</c-></code></dfn>);
  <a data-link-type="idl-name" href="#trustedscripturl" id="ref-for-trustedscripturl③"><c- n>TrustedScriptURL</c-></a> <a class="idl-code" data-link-type="method" href="#dom-trustedtypepolicy-createscripturl" id="ref-for-dom-trustedtypepolicy-createscripturl①"><c- g>createScriptURL</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⁵"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicy/createScriptURL(input, ...arguments), TrustedTypePolicy/createScriptURL(input)" data-dfn-type="argument" data-export id="dom-trustedtypepolicy-createscripturl-input-arguments-input"><code><c- g>input</c-></code></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑤"><c- b>any</c-></a>... <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicy/createScriptURL(input, ...arguments), TrustedTypePolicy/createScriptURL(input)" data-dfn-type="argument" data-export id="dom-trustedtypepolicy-createscripturl-input-arguments-arguments"><code><c- g>arguments</c-></code></dfn>);
};
</pre>
        <p>每个策略有一个<dfn class="dfn-paneled" data-dfn-for="TrustedTypePolicy" data-dfn-type="dfn" data-noexport
                id="trustedtypepolicy-name">name</dfn>（名称）。</p>
        <p>每个 TrustedTypePolicy 对象有一个关联的 <code
                class="idl"><a data-link-type="idl" href="#dictdef-trustedtypepolicyoptions" id="ref-for-dictdef-trustedtypepolicyoptions②">TrustedTypePolicyOptions</a></code>
            <dfn class="dfn-paneled" data-dfn-for="TrustedTypePolicy" data-dfn-type="dfn" data-noexport
                id="trustedtypepolicy-options">options</dfn> 对象，描述策略的实际行为。
        </p>
        <div>
            <dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicy" data-dfn-type="method"
                        data-export data-lt="createHTML(input, ...arguments)|createHTML(input)"
                        id="dom-trustedtypepolicy-createhtml"><code>createHTML(input, ...arguments)</code></dfn>
                <dd data-md>
                    <p>返回执行<a data-link-type="dfn" href="#create-a-trusted-type"
                            id="ref-for-create-a-trusted-type">创建受信任类型</a>算法的结果，并传入如下参数：</p>
                    <dl>
                        <dt>policy
                        <dd><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this②">this</a> 值
                        <dt>trustedTypeName
                        <dd><code>"TrustedHTML"</code>
                        <dt>value
                        <dd>input
                        <dt>arguments
                        <dd>arguments
                    </dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicy" data-dfn-type="method"
                        data-export data-lt="createScript(input, ...arguments)|createScript(input)"
                        id="dom-trustedtypepolicy-createscript"><code>createScript(input, ...arguments)</code></dfn>
                <dd data-md>
                    <p>返回执行<a data-link-type="dfn" href="#create-a-trusted-type"
                            id="ref-for-create-a-trusted-type①">创建受信任类型</a>算法的结果，并传入如下参数：</p>
                    <dl>
                        <dt>policy
                        <dd><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this③">this</a> 值
                        <dt>trustedTypeName
                        <dd><code>"TrustedScript"</code>
                        <dt>value
                        <dd>input
                        <dt>arguments
                        <dd>arguments
                    </dl>
                <dt data-md><dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicy" data-dfn-type="method"
                        data-export data-lt="createScriptURL(input, ...arguments)|createScriptURL(input)"
                        id="dom-trustedtypepolicy-createscripturl"><code>createScriptURL(input, ...arguments)</code></dfn>
                <dd data-md>
                    <p>返回执行<a data-link-type="dfn" href="#create-a-trusted-type"
                            id="ref-for-create-a-trusted-type②">创建受信任类型</a>算法的结果，并传入如下参数：</p>
                    <dl>
                        <dt>policy
                        <dd><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                                id="ref-for-this④">this</a> 值
                        <dt>trustedTypeName
                        <dd><code>"TrustedScriptURL"</code>
                        <dt>value
                        <dd>input
                        <dt>arguments
                        <dd>arguments
                    </dl>
            </dl>
        </div>
        <h4 class="heading settled" data-level="2.3.3" id="trusted-type-policy-options"><span class="secno">2.3.3.
            </span><span class="content"><dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export
                    id="dictdef-trustedtypepolicyoptions"><code>TrustedTypePolicyOptions</code></dfn></span><a
                class="self-link" href="#trusted-type-policy-options"></a></h4>
        <p>该字典用于存放作者自定义的函数，将字符串值转换为受信任值。这些函数不会直接创建<a data-link-type="dfn" href="#trusted-type"
                id="ref-for-trusted-type②">受信任类型</a>
            对象实例——实际对象创建行为是由
            <code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy⑨">TrustedTypePolicy</a></code>提供的。
        </p>
        <pre class="idl highlight def"><c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="#dictdef-trustedtypepolicyoptions" id="ref-for-dictdef-trustedtypepolicyoptions③"><c- g>TrustedTypePolicyOptions</c-></a> {
   <a data-link-type="idl-name" href="#callbackdef-createhtmlcallback" id="ref-for-callbackdef-createhtmlcallback"><c- n>CreateHTMLCallback</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyOptions" data-dfn-type="dict-member" data-export data-type="CreateHTMLCallback" id="dom-trustedtypepolicyoptions-createhtml"><code><c- g>createHTML</c-></code></dfn>;
   <a data-link-type="idl-name" href="#callbackdef-createscriptcallback" id="ref-for-callbackdef-createscriptcallback"><c- n>CreateScriptCallback</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyOptions" data-dfn-type="dict-member" data-export data-type="CreateScriptCallback" id="dom-trustedtypepolicyoptions-createscript"><code><c- g>createScript</c-></code></dfn>;
   <a data-link-type="idl-name" href="#callbackdef-createscripturlcallback" id="ref-for-callbackdef-createscripturlcallback"><c- n>CreateScriptURLCallback</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="TrustedTypePolicyOptions" data-dfn-type="dict-member" data-export data-type="CreateScriptURLCallback" id="dom-trustedtypepolicyoptions-createscripturl"><code><c- g>createScriptURL</c-></code></dfn>;
};
<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-createhtmlcallback"><code><c- g>CreateHTMLCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⁶"><c- b>DOMString</c-></a>? (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⁷"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CreateHTMLCallback" data-dfn-type="argument" data-export id="dom-createhtmlcallback-input"><code><c- g>input</c-></code></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑥"><c- b>any</c-></a>... <dfn class="dfn-paneled idl-code" data-dfn-for="CreateHTMLCallback" data-dfn-type="argument" data-export id="dom-createhtmlcallback-arguments"><code><c- g>arguments</c-></code></dfn>);
<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-createscriptcallback"><code><c- g>CreateScriptCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⁸"><c- b>DOMString</c-></a>? (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⁹"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CreateScriptCallback" data-dfn-type="argument" data-export id="dom-createscriptcallback-input"><code><c- g>input</c-></code></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑦"><c- b>any</c-></a>... <dfn class="dfn-paneled idl-code" data-dfn-for="CreateScriptCallback" data-dfn-type="argument" data-export id="dom-createscriptcallback-arguments"><code><c- g>arguments</c-></code></dfn>);
<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-createscripturlcallback"><code><c- g>CreateScriptURLCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a>? (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⁰"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CreateScriptURLCallback" data-dfn-type="argument" data-export id="dom-createscripturlcallback-input"><code><c- g>input</c-></code></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑧"><c- b>any</c-></a>... <dfn class="dfn-paneled idl-code" data-dfn-for="CreateScriptURLCallback" data-dfn-type="argument" data-export id="dom-createscripturlcallback-arguments"><code><c- g>arguments</c-></code></dfn>);
</pre>
        <h4 class="heading settled" data-level="2.3.4" id="default-policy-hdr"><span class="secno">2.3.4. </span><span
                class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="default-policy-explanation"
                    data-noexport id="default-policy-explanation">默认策略</dfn></span><a class="self-link"
                href="#default-policy-hdr"></a></h4>
        <p><em>本节为非规范内容。</em></p>
        <p>其中有一个策略（其<a data-link-type="dfn" href="#trustedtypepolicy-name" id="ref-for-trustedtypepolicy-name">名称</a>为
            <code>"default"</code>）是特殊的；
            当某个<a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink①³">注入点</a>被传入字符串（而不是受信任类型对象）时，用户代理会以非受信字符串、注入点的受信任类型和注入点类型三个参数自动调用该策略。
        </p>
        <p>这样，应用可以定义一个备用行为，以免直接导致违规。目的是让应用在出现意外数据流时能够补救，对潜在受攻击者控制的字符串做“最后的净化”，或者在无法创建安全值时拒绝该值。若策略内部抛出错误，则错误会上抛给应用。</p>
        <p>如果不存在默认策略，或相应的 <code>create*</code> 函数返回 <em>null</em> 或 <em>undefined</em> ，则会导致 CSP
            违规。在强制模式下会抛出错误，在仅报告模式下会继续使用传给默认策略的原始值。</p>
        <p class="note" role="note"><span class="marker">注：</span> 这一可选行为适用于那些还在用遗留注入点代码但想引入受信任类型<a data-link-type="dfn"
                href="#enforcement"
                id="ref-for-enforcement④">强制</a>的应用。需要强调的是，这个策略必须定义得非常严格，防止绕过安全限制。极端情况下，默认策略如果宽松无操作，那就彻底失去了 Trusted
            Types 的保护意义。因此，作者应仅在过渡期定义默认策略，用其发现和重构不安全使用注入点的依赖代码，并最终彻底弃用默认策略。</p>
        <p class="note" role="note"><span class="marker">注：</span> 默认策略的应用细节见 <a
                href="#get-trusted-type-compliant-string-algorithm">§ 3.4 获取受信任类型合规字符串</a>。</p>
        <div class="example" id="default-policy-example">
            <a class="self-link" href="#default-policy-example"></a>

            <pre class="highlight"><c- c1>// Content-Security-Policy: trusted-types default; require-trusted-types-for 'script'</c->

trustedTypes<c- p>.</c->createPolicy<c- p>(</c-><c- t>'default'</c-><c- p>,</c-> <c- p>{</c->
  createScriptURL<c- o>:</c-> <c- p>(</c->value<c- p>,</c-> type<c- p>,</c-> sink<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- u>"Please refactor."</c-><c- p>);</c->
    <c- k>return</c-> value <c- o>+</c-> <c- t>'?default-policy-used&amp;type='</c-> <c- o>+</c-> encodeURIComponent<c- p>(</c->type<c- p>)</c-> <c- o>+</c->
          <c- t>'&amp;sink='</c-> <c- o>+</c-> encodeURIComponent<c- p>(</c->sink<c- p>);</c->
  <c- p>}</c->
<c- p>});</c->

aScriptElement<c- p>.</c->src <c- o>=</c-> <c- u>"https://cdn.example/script.js"</c-><c- p>;</c->
<c- c1>// Please refactor.</c->
console<c- p>.</c->log<c- p>(</c->aScriptElement<c- p>.</c->src<c- p>);</c->
<c- c1>// https://cdn.example/script.js?default-policy-used&amp;type=TrustedScriptURL&amp;sink=HTMLScriptElement%20src</c->
</pre>
        </div>
        <h3 class="heading settled" data-level="2.4" id="enforcement-hdr"><span class="secno">2.4. </span><span
                class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                    id="enforcement">强制</dfn></span><a class="self-link" href="#enforcement-hdr"></a></h3>
        <p class="note" role="note"><span class="marker">注：</span> 强制是指在值进入<a data-link-type="dfn"
                href="#injection-sink" id="ref-for-injection-sink①⁵">注入点</a>前检查其类型是否合规的过程。</p>
        <p>允许作者创建策略及其受信任类型对象的 JavaScript API 始终可用（通过 <code
                class="idl"><a data-link-type="idl" href="#dom-windoworworkerglobalscope-trustedtypes" id="ref-for-dom-windoworworkerglobalscope-trustedtypes">trustedTypes</a></code>）。
            由于<a data-link-type="dfn" href="#injection-sink" id="ref-for-injection-sink①⁶">注入点</a>会对安全敏感参数进行字符串化，<a
                data-link-type="dfn" href="#trusted-type" id="ref-for-trusted-type③">受信任类型</a>对象转换为其内部字符串，所以作者可用 Trusted
            Types 替换字符串使用。</p>
        <p>为了保护<a data-link-type="dfn" href="#injection-sink" id="ref-for-injection-sink①⁷">注入点</a>，除了让 JS
            使用受信任类型外，用户代理还需强制校验：即确保某组注入点<em>绝不</em>允许用字符串调用，必须用受信任类型。本节讲述了作者如何控制这一 enforcing 行为。</p>
        <p>作者也可通过规定策略创建规则控制其<a data-link-type="dfn" href="#policies" id="ref-for-policies③">策略</a>。</p>
        <h4 class="heading settled" data-level="2.4.1" id="content-security-policy-hdr"><span class="secno">2.4.1.
            </span><span class="content">内容安全策略（Content Security Policy）</span><a class="self-link"
                href="#content-security-policy-hdr"></a></h4>
        <p>应用可通过<a href="https://www.w3.org/TR/CSP3/#policy-delivery">配置内容安全策略</a>来控制受信任类型的强制。本规范定义了与 Trusted Types
            规则对应的新指令。
            <a data-link-type="dfn" href="#require-trusted-types-for-directive"
                id="ref-for-require-trusted-types-for-directive①">require-trusted-types-for</a> 指令指定哪些<a
                data-link-type="dfn" href="#injection-sink" id="ref-for-injection-sink①⁸">注入点</a>分组必须使用受信任类型。<a
                href="#trusted-types-csp-directive">trusted-types</a> 指令控制<a data-link-type="dfn" href="#policies"
                id="ref-for-policies④">策略</a>的创建方式。
        </p>
        <p class="note" role="note"><span class="marker">注：</span> 使用 CSP 机制可以让作者通过 <a data-link-type="http-header"
                href="https://www.w3.org/TR/CSP3/#header-content-security-policy-report-only"
                id="ref-for-header-content-security-policy-report-only①">Content-Security-Policy-Report-Only</a> HTTP
            响应头为应用即将强制 Trusted Types 做好准备。</p>
        <p class="note" role="note"><span class="marker">注：</span> 大多数强制规则都是对其它规范中算法的修改，见 <a href="#integrations">§ 4
                集成</a>。</p>
        <h2 class="heading settled" data-level="3" id="algorithms"><span class="secno">3. </span><span
                class="content">算法</span><a class="self-link" href="#algorithms"></a></h2>
        <h3 class="heading settled" data-level="3.1" id="create-trusted-type-policy-algorithm"><span class="secno">3.1.
            </span><span class="content">创建受信任类型策略</span><a class="self-link"
                href="#create-trusted-type-policy-algorithm"></a></h3>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="create-a-trusted-type-policy">创建受信任类型策略</dfn>，给定<code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicyfactory" id="ref-for-trustedtypepolicyfactory③">TrustedTypePolicyFactory</a></code>
            (<var>factory</var>)、字符串 (<var>policyName</var>)、<code
                class="idl"><a data-link-type="idl" href="#dictdef-trustedtypepolicyoptions" id="ref-for-dictdef-trustedtypepolicyoptions⁴">TrustedTypePolicyOptions</a></code>
            字典 (<var>options</var>) 和
            <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                id="ref-for-concept-realm-global">全局对象</a> (<var>global</var>)，执行以下步骤：
        </p>
        <ol>
            <li data-md>
                <p>令 <var>allowedByCSP</var> 为执行 <a data-link-type="dfn"
                        href="#should-trusted-type-policy-creation-be-blocked-by-content-security-policy"
                        id="ref-for-should-trusted-type-policy-creation-be-blocked-by-content-security-policy">内容安全策略是否应阻止受信任类型策略创建</a>算法的结果，参数为
                    <var>global</var>、<var>policyName</var> 和 <var>factory</var> 的 <a data-link-type="dfn"
                        href="#trustedtypepolicyfactory-created-policy-names"
                        id="ref-for-trustedtypepolicyfactory-created-policy-names">已创建策略名称</a> 值。
                </p>
            <li data-md>
                <p>若 <var>allowedByCSP</var> 为 <code>"Blocked"</code>，抛 TypeError 并终止后续步骤。</p>
            <li data-md>
                <p>若 <var>policyName</var> 为 <code>default</code> 且 <var>factory</var> 的 <a data-link-type="dfn"
                        href="#trustedtypepolicyfactory-default-policy"
                        id="ref-for-trustedtypepolicyfactory-default-policy¹">默认策略</a>
                    不为 null，则抛 TypeError 并终止后续步骤。</p>
            <li data-md>
                <p>令 <var>policy</var> 为新的 <code
                        class="idl"><a data-link-type="idl" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy¹⁰">TrustedTypePolicy</a></code>
                    对象。</p>
            <li data-md>
                <p>设 <var>policy</var> 的 <code>name</code> 属性为 <var>policyName</var>。</p>
            <li data-md>
                <p>设 <var>policy</var> 的 <a data-link-type="dfn" href="#trustedtypepolicy-options"
                        id="ref-for-trustedtypepolicy-options">options</a> 为 «[
                    "createHTML" -> <var>options</var>["<code
                        class="idl"><a data-link-type="idl" href="#dom-trustedtypepolicyoptions-createhtml" id="ref-for-dom-trustedtypepolicyoptions-createhtml">createHTML</a></code>"],
                    "createScript" -> <var>options</var>["<code
                        class="idl"><a data-link-type="idl" href="#dom-trustedtypepolicyoptions-createscript" id="ref-for-dom-trustedtypepolicyoptions-createscript">createScript</a></code>"],
                    "createScriptURL" -> <var>options</var>["<code
                        class="idl"><a data-link-type="idl" href="#dom-trustedtypepolicyoptions-createscripturl" id="ref-for-dom-trustedtypepolicyoptions-createscripturl">createScriptURL</a></code>"]
                    ]»。</p>
            <li data-md>
                <p>若 <var>policyName</var> 为 <code>default</code>，设 <var>factory</var> 的 <a data-link-type="dfn"
                        href="#trustedtypepolicyfactory-default-policy"
                        id="ref-for-trustedtypepolicyfactory-default-policy²">默认策略</a>为 <var>policy</var>。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                        id="ref-for-set-append">追加</a> <var>policyName</var> 到 <var>factory</var> 的 <a
                        data-link-type="dfn" href="#trustedtypepolicyfactory-created-policy-names"
                        id="ref-for-trustedtypepolicyfactory-created-policy-names¹">已创建策略名称</a>。</p>
            <li data-md>
                <p>返回 <var>policy</var>。</p>
        </ol>
        <h3 class="heading settled" data-level="3.2" id="create-a-trusted-type-algorithm"><span class="secno">3.2.
            </span><span class="content">创建受信任类型</span><a class="self-link" href="#create-a-trusted-type-algorithm"></a>
        </h3>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-trusted-type">创建受信任类型</dfn>，给定<code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy¹¹">TrustedTypePolicy</a></code>
            <var>policy</var>、类型名 <var>trustedTypeName</var>、字符串 <var>value</var> 和参数列表 <var>arguments</var>，执行如下步骤：
        </p>
        <ol>
            <li data-md>
                <p>令 <var>policyValue</var> 为执行<a data-link-type="dfn" href="#get-trusted-type-policy-value"
                        id="ref-for-get-trusted-type-policy-value">获取受信任类型策略值</a>算法的结果，参数同本算法，并多传 true 为
                    <var>throwIfMissing</var>。
                </p>
            <li data-md>
                <p>如该算法抛出错误，则重新抛出错误并终止后续步骤。</p>
            <li data-md>
                <p>令 <var>dataString</var> 为 <var>policyValue</var> 的字符串化结果。</p>
            <li data-md>
                <p>如 <var>policyValue</var> 为 null 或 undefined，则 <var>dataString</var> 设为 ""。</p>
            <li data-md>
                <p>返回一个类型名为 <var>trustedTypeName</var> 的新接口对象，其数据值设为 <var>dataString</var>。</p>
        </ol>
        <h3 class="heading settled" data-level="3.3" id="get-trusted-type-policy-value-algorithm"><span
                class="secno">3.3. </span><span class="content">获取受信任类型策略值</span><a class="self-link"
                href="#get-trusted-type-policy-value-algorithm"></a></h3>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="get-trusted-type-policy-value">获取受信任类型策略值</dfn>，给定<code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy¹²">TrustedTypePolicy</a></code>
            <var>policy</var>、类型名 <var>trustedTypeName</var>、字符串 <var>value</var>、参数列表 <var>arguments</var> 及布尔
            <var>throwIfMissing</var>，执行如下步骤：
        </p>
        <ol>
            <li data-md>
                <p>令 <var>functionName</var> 为如下表给定 <var>trustedTypeName</var> 的函数名：</p>
                <table>
                    <tbody>
                        <tr>
                            <th>函数名
                            <th>受信任类型名
                        <tr>
                            <td>"createHTML"
                            <td>"TrustedHTML"
                        <tr>
                            <td>"createScript"
                            <td>"TrustedScript"
                        <tr>
                            <td>"createScriptURL"
                            <td>"TrustedScriptURL"
                </table>
            <li data-md>
                <p>令 <var>function</var> 为 <var>policy</var> 的 <a data-link-type="dfn" href="#trustedtypepolicy-options"
                        id="ref-for-trustedtypepolicy-options¹">options</a>[<var>functionName</var>]。</p>
            <li data-md>
                <p>若 <var>function</var> 为 <code>null</code>，则：</p>
                <ol>
                    <li data-md>
                        <p>如 <var>throwIfMissing</var>，抛 TypeError。</p>
                    <li data-md>
                        <p>否则，返回 <code>null</code>。</p>
                </ol>
            <li data-md>
                <p>令 <var>args</var> 为 « <var>value</var> »。</p>
            <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                        id="ref-for-set-append¹">追加</a>参数 <var>arguments</var> 每项至 <var>args</var>。</p>
            <li data-md>
                <p>令 <var>policyValue</var> 为 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#invoke-a-callback-function"
                        id="ref-for-invoke-a-callback-function">调用</a> <var>function</var> 并传参 <var>args</var> 及
                    <code>"rethrow"</code> 的结果。
                </p>
            <li data-md>
                <p>返回 <var>policyValue</var>。</p>
        </ol>
        <h3 class="heading settled" data-level="3.4" id="get-trusted-type-compliant-string-algorithm"><span
                class="secno">3.4. </span><span class="content">获取受信任类型合规字符串</span><a class="self-link"
                href="#get-trusted-type-compliant-string-algorithm"></a></h3>
        <p>此算法将返回可用于<a data-link-type="dfn" href="#injection-sink" id="ref-for-injection-sink①⑨">注入点</a>的字符串，可选自动从匹配的<a
                data-link-type="dfn" href="#trusted-type" id="ref-for-trusted-type④">受信任类型</a>解包。
            它将确保受信任类型的<a data-link-type="dfn" href="#enforcement" id="ref-for-enforcement⑤">强制</a>规则得到遵守。
        </p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="get-trusted-type-compliant-string">获取受信任类型合规字符串</dfn>，给定<code
                class="idl"><a data-link-type="idl" href="#typedefdef-trustedtype" id="ref-for-typedefdef-trustedtype">TrustedType</a></code>
            类型（<var>expectedType</var>）、<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                id="ref-for-concept-realm-global①">全局对象</a>（<var>global</var>）、
            <code
                class="idl"><a data-link-type="idl" href="#typedefdef-trustedtype" id="ref-for-typedefdef-trustedtype①">TrustedType</a></code>
            或字符串（<var>input</var>）、字符串（<var>sink</var>）、字符串（<var>sinkGroup</var>），按如下步骤运行：
        </p>
        <ol>
            <li data-md>
                <p>如果 <var>input</var> 是 <var>expectedType</var> 的实例，则返回 <var>input</var> 的字符串化结果并终止。
                </p>
            <li data-md>
                <p>令 <var>requireTrustedTypes</var> 为执行<a data-link-type="dfn"
                        href="#does-sink-type-require-trusted-types"
                        id="ref-for-does-sink-type-require-trusted-types">接收类型是否需要受信任类型？</a>算法的结果，
                    参数为 <var>global</var>、<var>sinkGroup</var>、true。</p>
            <li data-md>
                <p>如果 <var>requireTrustedTypes</var> 为 <code>false</code>，返回 <var>input</var> 的字符串化结果并终止。</p>
            <li data-md>
                <p>令 <var>convertedInput</var> 为执行<a data-link-type="dfn" href="#process-value-with-a-default-policy"
                        id="ref-for-process-value-with-a-default-policy">通过默认策略处理值</a>算法的结果，参数同本算法。</p>
            <li data-md>
                <p>如果算法抛出错误，重新抛出该错误并终止后续步骤。</p>
            <li data-md>
                <p>如果 <var>convertedInput</var> 为 <code>null</code> 或 <code>undefined</code>，执行以下步骤：</p>
                <ol>
                    <li data-md>
                        <p>令 <var>disposition</var> 为执行<a data-link-type="dfn"
                                href="#should-sink-type-mismatch-violation-be-blocked-by-content-security-policy"
                                id="ref-for-should-sink-type-mismatch-violation-be-blocked-by-content-security-policy">内容安全策略是否应阻止类型不匹配违规？</a>算法的结果，
                            参数为 <var>global</var>、<var>input</var> 的字符串化、<var>sinkGroup</var> 和 <var>sink</var>。
                        </p>
                    <li data-md>
                        <p>如果 <var>disposition</var> 为 <code>“Allowed”</code>，返回 <var>input</var> 的字符串化结果并终止。</p>
                        <p class="note" role="note"><span class="marker">注：</span> 此步骤确保默认策略拒绝会被报告，但只报告模式下会被忽略。</p>
                    <li data-md>
                        <p>抛出 TypeError 并终止。</p>
                </ol>
            <li data-md>
                <p class="assertion">断言：<var>convertedInput</var> 是 <var>expectedType</var> 的实例。</p>
            <li data-md>
                <p>返回 <var>convertedInput</var> 的字符串化结果。</p>
        </ol>
        <h3 class="heading settled" data-level="3.5" id="process-value-with-a-default-policy-algorithm"><span
                class="secno">3.5. </span><span class="content">通过默认策略处理值</span><a class="self-link"
                href="#process-value-with-a-default-policy-algorithm"></a></h3>
        <p>此算法将值通过默认策略分发给<a data-link-type="dfn" href="#injection-sink" id="ref-for-injection-sink②⓪">注入点</a>，如果有默认策略的话。
        </p>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="process-value-with-a-default-policy">通过默认策略处理值</dfn>，给定 <code
                class="idl"><a data-link-type="idl" href="#typedefdef-trustedtype" id="ref-for-typedefdef-trustedtype②">TrustedType</a></code>
            类型（<var>expectedType</var>）、<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                id="ref-for-concept-realm-global②">全局对象</a>（<var>global</var>）、
            <code
                class="idl"><a data-link-type="idl" href="#typedefdef-trustedtype" id="ref-for-typedefdef-trustedtype③">TrustedType</a></code>
            或字符串（<var>input</var>）、字符串（<var>sink</var>），按如下步骤运行：
        </p>
        <ol>
            <li data-md>
                <p>令 <var>defaultPolicy</var> 为 <var>global</var> 的<a data-link-type="dfn"
                        href="#window-trusted-type-policy-factory"
                        id="ref-for-window-trusted-type-policy-factory">受信任类型策略工厂</a>的<a data-link-type="dfn"
                        href="#trustedtypepolicyfactory-default-policy"
                        id="ref-for-trustedtypepolicyfactory-default-policy③">默认策略</a>的值。</p>
            <li data-md>
                <p>令 <var>policyValue</var> 为执行<a data-link-type="dfn" href="#get-trusted-type-policy-value"
                        id="ref-for-get-trusted-type-policy-value①">获取受信任类型策略值</a>算法的结果，参数为：</p>
                <ul>
                    <li data-md>
                        <p><var>defaultPolicy</var> 作为 <var>policy</var></p>
                    <li data-md>
                        <p><var>input</var> 的字符串化作为 <var>value</var></p>
                    <li data-md>
                        <p><var>expectedType</var> 的类型名作为 <var>trustedTypeName</var></p>
                    <li data-md>
                        <p>« <var>trustedTypeName</var>, <var>sink</var> » 作为 <var>arguments</var></p>
                    <li data-md>
                        <p>false 作为 <var>throwIfMissing</var></p>
                </ul>
            <li data-md>
                <p>如果算法抛出错误，重新抛出该错误并终止。</p>
            <li data-md>
                <p>如果 <var>policyValue</var> 为 null 或 undefined，返回 <var>policyValue</var>。</p>
            <li data-md>
                <p>令 <var>dataString</var> 为 <var>policyValue</var> 的字符串化结果。</p>
            <li data-md>
                <p>返回类型名为 <var>trustedTypeName</var> 的新接口实例，其关联数据值为 <var>dataString</var>。</p>
        </ol>
        <h3 class="heading settled" data-level="3.6" id="prepare-script-text"><span class="secno">3.6. </span><span
                class="content">准备脚本文本</span><a class="self-link" href="#prepare-script-text"></a></h3>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="prepare-the-script-text">准备脚本文本</dfn>，给定一个
            <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement④">HTMLScriptElement</a></code>
            或 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement" id="ref-for-InterfaceSVGScriptElement">SVGScriptElement</a></code>
            （<var>script</var>），执行下列步骤：
        </p>
        <ol>
            <li data-md>
                <p>如果 <var>script</var> 是 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement⑤">HTMLScriptElement</a></code>，则令
                    <var>sink</var> 为 "<code>HTMLScriptElement text</code>"；否则为 "<code>SVGScriptElement text</code>"。
                </p>
            <li data-md>
                <p>如果 <var>script</var> 的 <a data-link-type="dfn" href="#htmlscriptelement-script-text"
                        id="ref-for-htmlscriptelement-script-text">script text</a> 与其<a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-child-text-content"
                        id="ref-for-concept-child-text-content">子文本内容</a>不同，
                    则将 <var>script</var> 的 <a data-link-type="dfn" href="#htmlscriptelement-script-text"
                        id="ref-for-htmlscriptelement-script-text①">script text</a> 设为执行<a data-link-type="dfn"
                        href="#get-trusted-type-compliant-string"
                        id="ref-for-get-trusted-type-compliant-string">获取受信任类型合规字符串</a>算法的结果，参数为：</p>
                <ul>
                    <li data-md>
                        <p><code
                                class="idl"><a data-link-type="idl" href="#trustedscripturl" id="ref-for-trustedscripturl④">TrustedScriptURL</a></code>
                            作为 <var>expectedType</var>，</p>
                    <li data-md>
                        <p><var>script</var> 的 <code
                                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code>
                            的
                            <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                id="ref-for-concept-relevant-global①">相关全局对象</a> 作为 <var>global</var>，
                        </p>
                    <li data-md>
                        <p><var>script</var> 的<a data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-child-text-content"
                                id="ref-for-concept-child-text-content①">子文本内容</a>属性值作为 <var>input</var>，</p>
                    <li data-md>
                        <p><var>sink</var>，</p>
                    <li data-md>
                        <p><code>'script'</code> 作为 <var>sinkGroup</var>。</p>
                </ul>
                <p>如果算法抛出错误，则重新抛出错误。</p>
        </ol>
        <h3 class="heading settled" data-level="3.7" id="validate-attribute-mutation"><span class="secno">3.7.
            </span><span class="content">获取受信任类型合规属性值</span><a class="self-link"
                href="#validate-attribute-mutation"></a></h3>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="get-trusted-type-compliant-attribute-value">获取受信任类型合规属性值</dfn>，给定字符串 <var>attributeName</var>、字符串
            <var>attributeNs</var>、<code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element④">Element</a></code>
            <var>element</var> 和 <code
                class="idl"><a data-link-type="idl" href="#typedefdef-trustedtype" id="ref-for-typedefdef-trustedtype④">TrustedType</a></code>
            或字符串 <var>newValue</var>，按以下步骤执行：
        </p>
        <ol>
            <li data-md>
                <p>如果 <var>attributeNs</var> 为空字符串，则将 <var>attributeNs</var> 设为 null。</p>
            <li data-md>
                <p>令 <var>attributeData</var> 为执行<a data-link-type="dfn" href="#get-trusted-type-data-for-attribute①"
                        id="ref-for-get-trusted-type-data-for-attribute①①">获取属性的受信任类型数据</a>算法的结果，参数为：</p>
                <ul>
                    <li data-md>
                        <p><var>element</var></p>
                    <li data-md>
                        <p><var>attributeName</var></p>
                    <li data-md>
                        <p><var>attributeNs</var></p>
                </ul>
            <li data-md>
                <p>如果 <var>attributeData</var> 为 null，则：</p>
                <ol>
                    <li data-md>
                        <p>如果 <var>newValue</var> 是字符串，返回 <var>newValue</var>。</p>
                    <li data-md>
                        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert"
                                id="ref-for-assert">断言</a>：<var>newValue</var> 是 <code
                                class="idl"><a data-link-type="idl" href="#trustedhtml" id="ref-for-trustedhtml①⓪">TrustedHTML</a></code>
                            或 <code
                                class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript⑨">TrustedScript</a></code>
                            或 <code
                                class="idl"><a data-link-type="idl" href="#trustedscripturl" id="ref-for-trustedscripturl⑤">TrustedScriptURL</a></code>。
                        </p>
                    <li data-md>
                        <p>返回 <var>value</var> 的关联数据。</p>
                </ol>
            <li data-md>
                <p>令 <var>expectedType</var> 为 <var>attributeData</var> 的第4项的值。</p>
            <li data-md>
                <p>令 <var>sink</var> 为 <var>attributeData</var> 的第5项的值。</p>
            <li data-md>
                <p>返回执行<a data-link-type="dfn" href="#get-trusted-type-compliant-string"
                        id="ref-for-get-trusted-type-compliant-string①">获取受信任类型合规字符串</a>算法的结果，参数为：</p>
                <ul>
                    <li data-md>
                        <p><var>期望类型</var></p>
                    <li data-md>
                        <p><var>新值</var> 作为 <var>输入</var></p>
                    <li data-md>
                        <p><var>元素</var> 的 <a data-link-type="dfn"
                                href="https://dom.spec.whatwg.org/#concept-node-document"
                                id="ref-for-concept-node-document">节点文档</a> 的 <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                id="ref-for-concept-relevant-global②">相关全局对象</a> 作为 <var>全局</var>
                        </p>
                    <li data-md>
                        <p><var>接收器</var></p>
                    <li data-md>
                        <p>'script' 作为 <var>接收器组</var></p>
                </ul>
        </ol>
        <p>如算法抛出错误，则重新抛出错误。</p>
        <h3 class="heading settled" data-level="3.8" id="get-trusted-type-data-for-attribute"><span class="secno">3.8.
            </span><span class="content">获取属性的受信任类型数据</span><a class="self-link"
                href="#get-trusted-type-data-for-attribute"></a></h3>
        <p>要<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="get-trusted-type-data-for-attribute①">获取属性的受信任类型数据</dfn>，给定
            <var>element</var>、<var>attribute</var>、<var>attributeNs</var>，执行下列步骤：
        </p>
        <p class="issue" id="issue-15b3006c"><a class="self-link" href="#issue-15b3006c"></a> 下文用到的 <a
                data-link-type="dfn" href="https://html.spec.whatwg.org/#event-handler-content-attributes"
                id="ref-for-event-handler-content-attributes">事件处理器内容属性</a>概念语义暧昧。本规范需要更好机制识别事件处理器属性。详见 <a
                href="https://github.com/w3c/trusted-types/issues/520">https://github.com/w3c/trusted-types/issues/520</a>。
        </p>
        <ol>
            <li data-md>
                <p>令 <var>data</var> 为 null。</p>
            <li data-md>
                <p>如果 <var>attributeNs</var> 为 null，且 « <a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#html-namespace" id="ref-for-html-namespace②">HTML
                        命名空间</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#svg-namespace"
                        id="ref-for-svg-namespace">SVG 命名空间</a>, <a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#mathml-namespace" id="ref-for-mathml-namespace">MathML
                        命名空间</a> » <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                        id="ref-for-list-contain">包含</a> <var>element</var> 的<a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-element-namespace"
                        id="ref-for-concept-element-namespace">命名空间</a>，且 <var>attribute</var> 是<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/#event-handler-content-attributes"
                        id="ref-for-event-handler-content-attributes①">事件处理器内容属性</a>名：
                </p>
                <ol>
                    <li data-md>
                        <p>返回 (<code
                                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element⑤">Element</a></code>,
                            null, <var>attribute</var>, <code
                                class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript①⓪">TrustedScript</a></code>,
                            "Element " + <var>attribute</var>)。</p>
                </ol>
            <li data-md>
                <p>在下表中查找 <var>element</var> 在第一列、<var>attributeNs</var> 在第二列、<var>attribute</var> 在第三列的行；
                    若有匹配，设 <var>data</var> 为该行。
                </p>
                <table>
                    <thead>
                        <tr>
                            <th>Element
                            <th>属性命名空间
                            <th>属性局部名
                            <th>TrustedType
                            <th>Sink

                    <tbody>
                        <tr>
                            <td><code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#htmliframeelement" id="ref-for-htmliframeelement①">HTMLIFrameElement</a></code>
                            <td>null
                            <td>"srcdoc"
                            <td><code
                                    class="idl"><a data-link-type="idl" href="#trustedhtml" id="ref-for-trustedhtml①①">TrustedHTML</a></code>
                            <td>"HTMLIFrameElement srcdoc"

                        <tr>
                            <td><code
                                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement⑥">HTMLScriptElement</a></code>
                            <td>null
                            <td>"src"
                            <td><code
                                    class="idl"><a data-link-type="idl" href="#trustedscripturl" id="ref-for-trustedscripturl⑥">TrustedScriptURL</a></code>
                            <td>"HTMLScriptElement src"

                        <tr>
                            <td><code
                                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement" id="ref-for-InterfaceSVGScriptElement①">SVGScriptElement</a></code>
                            <td>null
                            <td>"href"
                            <td><code
                                    class="idl"><a data-link-type="idl" href="#trustedscripturl" id="ref-for-trustedscripturl⑦">TrustedScriptURL</a></code>
                            <td>"SVGScriptElement href"

                        <tr>
                            <td><code
                                    class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement" id="ref-for-InterfaceSVGScriptElement②">SVGScriptElement</a></code>
                            <td><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#xlink-namespace"
                                    id="ref-for-xlink-namespace">XLink 命名空间</a>
                            <td>"href"
                            <td><code
                                    class="idl"><a data-link-type="idl" href="#trustedscripturl" id="ref-for-trustedscripturl⑧">TrustedScriptURL</a></code>
                            <td>"SVGScriptElement href"

                </table>
            <li data-md>
                <p>返回 <var>data</var>。</p>
        </ol>
        <h2 class="heading settled" data-level="4" id="integrations"><span class="secno">4. </span><span
                class="content">集成</span><a class="self-link" href="#integrations"></a></h2>
        <pre class="idl highlight def"><c- b>typedef</c-> (<a data-link-type="idl-name" href="#trustedhtml" id="ref-for-trustedhtml①②"><c- n>TrustedHTML</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#trustedscript" id="ref-for-trustedscript①①"><c- n>TrustedScript</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#trustedscripturl" id="ref-for-trustedscripturl⑨"><c- n>TrustedScriptURL</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-trustedtype"><code><c- g>TrustedType</c-></code></dfn>;
</pre>
        <h3 class="heading settled" data-level="4.1" id="integration-with-html"><span class="secno">4.1. </span><span
                class="content">与 HTML 的集成</span><a class="self-link" href="#integration-with-html"></a></h3>
        <p><code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#worker" id="ref-for-worker">Worker</a></code>
            对象有 <dfn class="dfn-paneled" data-dfn-for="Window" data-dfn-type="dfn" data-noexport
                id="window-trusted-type-policy-factory">受信任类型策略工厂</dfn>，
            其类型为 <code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicyfactory" id="ref-for-trustedtypepolicyfactory④">TrustedTypePolicyFactory</a></code>。
        </p>
        <h4 class="heading settled" data-level="4.1.1" id="extensions-to-the-windoworworkerglobalscope-interface"><span
                class="secno">4.1.1. </span><span class="content">WindowOrWorkerGlobalScope 接口扩展</span><a
                class="self-link" href="#extensions-to-the-windoworworkerglobalscope-interface"></a>
        </h4>
        <p>本文档扩展了 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" id="ref-for-windoworworkerglobalscope">WindowOrWorkerGlobalScope</a></code>
            接口，定义见 <a data-link-type="biblio" href="#biblio-html5" title="HTML5">HTML</a>：</p>
        <pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <c- b>mixin</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" id="ref-for-windoworworkerglobalscope①"><c- g>WindowOrWorkerGlobalScope</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#trustedtypepolicyfactory" id="ref-for-trustedtypepolicyfactory⑤"><c- n>TrustedTypePolicyFactory</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WindowOrWorkerGlobalScope" data-dfn-type="attribute" data-export data-readonly data-type="TrustedTypePolicyFactory" id="dom-windoworworkerglobalscope-trustedtypes"><code><c- g>trustedTypes</c-></code></dfn>;
};
</pre>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-windoworworkerglobalscope-trustedtypes" id="ref-for-dom-windoworworkerglobalscope-trustedtypes①">trustedTypes</a></code>
            getter 步骤是返回 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>
            的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                id="ref-for-concept-relevant-global③">相关全局对象</a> 的 <a href="#integration-with-html">trusted
                type policy factory</a>。</p>
        <h4 class="heading settled" data-level="4.1.2" id="enforcement-in-scripts"><span class="secno">4.1.2.
            </span><span class="content">脚本中的强制</span><a class="self-link" href="#enforcement-in-scripts"></a></h4>
        <p>本文档修改了 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement⑦">HTMLScriptElement</a></code>
            的<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-child-text-content"
                id="ref-for-concept-child-text-content②">子文本内容</a>的设置方式，使应用可以控制动态创建的脚本。
            具体做法是在 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#dom-innertext" id="ref-for-dom-innertext">innerText</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-textcontent" id="ref-for-dom-node-textcontent">textContent</a></code>
            属性直接加到 <code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement⑧">HTMLScriptElement</a></code>
            上。
            除调用<a data-link-type="dfn" href="#get-trusted-type-compliant-string"
                id="ref-for-get-trusted-type-compliant-string②">获取受信任类型合规字符串</a>的附加行为外，这些属性的行为与原本一致。
        </p>
        <p class="note" role="note"><span class="marker">注：</span> 动态设置脚本的 URL 或文本推荐直接用这些 IDL
            属性。直接操作属性节点或文本节点时，脚本准备阶段会对最终值调用默认策略。</p>
        <pre class="exclude idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement⑨"><c- g>HTMLScriptElement</c-></a> {
 [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> (<a data-link-type="idl-name" href="#trustedscript" id="ref-for-trustedscript①②"><c- n>TrustedScript</c-></a> <c- b>or</c-> [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#LegacyNullToEmptyString" id="ref-for-LegacyNullToEmptyString"><c- g>LegacyNullToEmptyString</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②①"><c- b>DOMString</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLScriptElement" data-dfn-type="attribute" data-export data-type="(TrustedScript or [LegacyNullToEmptyString] DOMString)" id="dom-htmlscriptelement-innertext"><code><c- g>innerText</c-></code></dfn>;
 [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions①"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> (<a data-link-type="idl-name" href="#trustedscript" id="ref-for-trustedscript①③"><c- n>TrustedScript</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②②"><c- b>DOMString</c-></a>)? <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLScriptElement" data-dfn-type="attribute" data-export data-type="(TrustedScript or DOMString)?" id="dom-htmlscriptelement-textcontent"><code><c- g>textContent</c-></code></dfn>;
 [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions②"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> (<a data-link-type="idl-name" href="#trustedscripturl" id="ref-for-trustedscripturl①⓪"><c- n>TrustedScriptURL</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLScriptElement" data-dfn-type="attribute" data-export data-type="(TrustedScriptURL or USVString)" id="dom-htmlscriptelement-src"><code><c- g>src</c-></code></dfn>;
 [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions③"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> (<a data-link-type="idl-name" href="#trustedscript" id="ref-for-trustedscript①④"><c- n>TrustedScript</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②③"><c- b>DOMString</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLScriptElement" data-dfn-type="attribute" data-export data-type="(TrustedScript or DOMString)" id="dom-htmlscriptelement-text"><code><c- g>text</c-></code></dfn>;
};
</pre>
        <h5 class="heading settled" data-level="4.1.2.1" id="slots-with-trusted-values"><span class="secno">4.1.2.1.
            </span><span class="content">带受信任值的插槽</span><a class="self-link" href="#slots-with-trusted-values"></a></h5>
        <p><code
                class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" id="ref-for-htmlscriptelement①⓪">HTMLScriptElement</a></code>
            和 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement" id="ref-for-InterfaceSVGScriptElement③">SVGScriptElement</a></code>
            拥有：</p>
        <dl>
            <dt data-md>相关字符串 <dfn class="dfn-paneled" data-dfn-for="HTMLScriptElement,SVGScriptElement"
                    data-dfn-type="dfn" data-export id="htmlscriptelement-script-text">script text（脚本文本）</dfn>。
            <dd data-md>
                <p>一个字符串，用于保存符合要求的脚本主体（通过合规注入点设置）。等价于 script 的<a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-child-text-content"
                        id="ref-for-concept-child-text-content③">子文本内容</a>。初始值为空字符串。
                </p>
        </dl>
        <h5 class="heading settled" data-level="4.1.2.2" id="the-innerText-idl-attribute"><span class="secno">4.1.2.2.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-htmlscriptelement-innertext" id="ref-for-dom-htmlscriptelement-innertext">innerText</a></code>
                IDL 属性</span><a class="self-link" href="#the-innerText-idl-attribute"></a></h5>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-htmlscriptelement-innertext" id="ref-for-dom-htmlscriptelement-innertext①">innerText</a></code>
            的 setter 步骤如下：</p>
        <ol>
            <li data-md>
                <p>令 <var>value</var> 为调用 <a data-link-type="dfn" href="#get-trusted-type-compliant-string"
                        id="ref-for-get-trusted-type-compliant-string③">获取可信类型兼容字符串</a>，参数为
                    <code
                        class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript①⑤">TrustedScript</a></code>、
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">此对象</a>的 <a
                        data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                        id="ref-for-concept-relevant-global④">相关全局对象</a>、给定值、
                    <code>HTMLScriptElement innerText</code> 和
                    <code>script</code> 后的结果。
                </p>
            <li data-md>
                <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">此对象</a>的
                    <a data-link-type="dfn" href="#htmlscriptelement-script-text"
                        id="ref-for-htmlscriptelement-script-text②">script text</a> 值设置为 <var>value</var>。
                </p>
            <li data-md>
                <p>使用 <a data-link-type="dfn" href="https://html.spec.whatwg.org/#set-the-inner-text-steps"
                        id="ref-for-set-the-inner-text-steps">设置 inner text 步骤</a>，参数为 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">此对象</a> 和 <var>value</var>，运行之。
                </p>
        </ol>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-htmlscriptelement-innertext" id="ref-for-dom-htmlscriptelement-innertext②">innerText</a></code>
            的 getter 步骤如下：</p>
        <ol>
            <li data-md>
                <p>返回按照<a data-link-type="dfn" href="https://html.spec.whatwg.org/#get-the-text-steps"
                        id="ref-for-get-the-text-steps">获取文本步骤</a>处理 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a> 的结果。</p>
        </ol>
        <h5 class="heading settled" data-level="4.1.2.3" id="the-textContent-idl-attribute"><span class="secno">4.1.2.3.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-htmlscriptelement-textcontent" id="ref-for-dom-htmlscriptelement-textcontent">textContent</a></code>
                IDL 属性</span><a class="self-link" href="#the-textContent-idl-attribute"></a></h5>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-htmlscriptelement-textcontent" id="ref-for-dom-htmlscriptelement-textcontent①">textContent</a></code>
            setter 步骤如下：如果给定值为 null，则按空字符串处理，然后执行如下描述：</p>
        <ol>
            <li data-md>
                <p>令 <var>value</var> 为调用 <a data-link-type="dfn" href="#get-trusted-type-compliant-string"
                        id="ref-for-get-trusted-type-compliant-string④">获取可信类型兼容字符串</a>，参数为
                    <code
                        class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript①⑥">TrustedScript</a></code>、
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">此对象</a>的
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                        id="ref-for-concept-relevant-global⑤">相关全局对象</a>、给定值、
                    <code>HTMLScriptElement textContent</code> 和
                    <code>script</code> 后的结果。
                </p>
            <li data-md>
                <p>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">此对象</a>的 <a
                        data-link-type="dfn" href="#htmlscriptelement-script-text"
                        id="ref-for-htmlscriptelement-script-text③">script text</a> 值设置为 <var>value</var>。</p>
            <li data-md>
                <p>使用 <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#set-text-content"
                        id="ref-for-set-text-content">设置 text content</a> 步骤，参数为 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">此对象</a> 和 <var>value</var>，运行之。
                </p>
        </ol>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-htmlscriptelement-textcontent" id="ref-for-dom-htmlscriptelement-textcontent②">textContent</a></code>
            getter 步骤如下：</p>
        <ol>
            <li data-md>
                <p>返回调用 <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#get-text-content"
                        id="ref-for-get-text-content">get text
                        content</a>，参数为 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-this①③">this</a> 的结果。</p>
        </ol>
        <p class="note" role="note"><span class="marker">注：</span> 目前我们未为 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement" id="ref-for-InterfaceSVGScriptElement④">SVGScriptElement</a></code>
            添加等效内容。
            详见 <a
                href="https://github.com/w3c/trusted-types/issues/512">https://github.com/w3c/trusted-types/issues/512</a>。
        </p>
        <h5 class="heading settled" data-level="4.1.2.4" id="the-text-idl-attribute"><span class="secno">4.1.2.4.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-htmlscriptelement-text" id="ref-for-dom-htmlscriptelement-text①">text</a></code>
                IDL 属性</span><a class="self-link" href="#the-text-idl-attribute"></a></h5>
        <p>如下更新 <code
                class="idl"><a data-link-type="idl" href="#dom-htmlscriptelement-text" id="ref-for-dom-htmlscriptelement-text②">text</a></code>
            setter 步骤算法。</p>
        <ol>
            <li data-md>
                <ins>令 <var>value</var> 为调用 <a data-link-type="dfn" href="#get-trusted-type-compliant-string"
                        id="ref-for-get-trusted-type-compliant-string⑤">获取受信任类型合规字符串</a> 的结果，参数为
                    <code
                        class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript①⑦">TrustedScript</a></code>，
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a> 的
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                        id="ref-for-concept-realm-global⑥">相关全局对象</a>，给定值，<code>HTMLScriptElement text</code> 和
                    <code>script</code>。</ins>
            <li data-md>
                <ins>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>
                    的 <a data-link-type="dfn" href="#htmlscriptelement-script-text"
                        id="ref-for-htmlscriptelement-script-text④">script text</a> 设为给定值。</ins>
            <li data-md>
                <p>对 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a>
                    执行 <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#string-replace-all"
                        id="ref-for-string-replace-all">字符串全部替换</a>，用给定值替换。</p>
        </ol>
        <h5 class="heading settled" data-level="4.1.2.5" id="the-src-idl-attribute"><span class="secno">4.1.2.5.
            </span><span class="content"><code
                    class="idl"><a data-link-type="idl" href="#dom-htmlscriptelement-src" id="ref-for-dom-htmlscriptelement-src①">src</a></code>
                IDL 属性</span><a class="self-link" href="#the-src-idl-attribute"></a></h5>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-htmlscriptelement-src" id="ref-for-dom-htmlscriptelement-src②">src</a></code>
            getter 步骤如下：</p>
        <ol>
            <li data-md>
                <ins>令 <var>element</var> 为调用 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                        id="ref-for-this①⑦">this</a> 的“获取 element” 的结果。</ins>
            <li data-md>
                <ins>令 <var>contentAttributeValue</var> 为调用 <a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑧">this</a> 的“获取 content attribute”
                    的结果。</ins>
            <li data-md>
                <ins>如果 <var>contentAttributeValue</var> 为 null，则返回空字符串。</ins>
            <li data-md>
                <ins>令 <var>urlString</var> 为对 <var>contentAttributeValue</var> 以 <var>element</var> 的<a
                        data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document"
                        id="ref-for-concept-node-document①">节点文档</a>为基准编码、解析和序列化 URL 的结果。</ins>
            <li data-md>
                <ins>如果 <var>urlString</var> 不为 failure，则返回 <var>urlString</var>。</ins>
            <li data-md>
                <ins>返回将 <var>contentAttributeValue</var> 转为标量值字符串的结果。</ins>
        </ol>
        <p><code
                class="idl"><a data-link-type="idl" href="#dom-htmlscriptelement-src" id="ref-for-dom-htmlscriptelement-src③">src</a></code>
            setter 步骤如下：</p>
        <ol>
            <li data-md>
                <ins>令 <var>value</var> 为调用 <a data-link-type="dfn" href="#get-trusted-type-compliant-string"
                        id="ref-for-get-trusted-type-compliant-string⑥">获取受信任类型合规字符串</a> 的结果，参数为
                    <code
                        class="idl"><a data-link-type="idl" href="#trustedscripturl" id="ref-for-trustedscripturl①①">TrustedScriptURL</a></code>，
                    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑨">this</a> 的
                    <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                        id="ref-for-concept-realm-global⑦">相关全局对象</a>，给定值，<code>HTMLScriptElement src</code> 和
                    <code>script</code>。</ins>
            <li data-md>
                <ins>将 <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⓪">this</a>
                    的 <a data-link-type="dfn" href="https://html.spec.whatwg.org/#attr-script-src"
                        id="ref-for-attr-script-src">src</a>
                    content attribute 设为 <var>value</var>。</ins>
        </ol>
        <h5 class="heading settled" data-level="4.1.2.6" id="setting-slot-values-from-parser"><span
                class="secno">4.1.2.6. </span><span class="content">从解析器设置插槽值</span><a class="self-link"
                href="#setting-slot-values-from-parser"></a></h5>
        <p>本文档修改了 HTML 解析器，以在脚本创建时设置 <a data-link-type="dfn" href="#htmlscriptelement-script-text"
                id="ref-for-htmlscriptelement-script-text⑤">script text</a> 值。</p>
        <p>如下修改 <a data-link-type="dfn" href="https://html.spec.whatwg.org/#parsing-main-incdata"
                id="ref-for-parsing-main-incdata">文本插入模式</a>算法：</p>
        <dl class="switch">
            <dt id="scriptEndTag"><a class="self-link" href="#scriptEndTag"></a>标签名为 "script" 的结束标签
            <dd>
                <p>...</p>
                <ins>
                    <p>将 <var>script</var> 的 <a data-link-type="dfn" href="#htmlscriptelement-script-text"
                            id="ref-for-htmlscriptelement-script-text⑥">script text</a> 设为其 <a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-child-text-content"
                            id="ref-for-concept-child-text-content④">子文本内容</a>。</p>
                </ins>
                <p>如果 <span>活动的推测性 HTML 解析器</span> 为 null，则 <span>准备脚本元素</span> <var>script</var>。这样可能会执行一些脚本，也可能会导致
                    <span data-x="dom-document-write">新字符被插入到分词器</span>，从而分词器输出更多 token，导致<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/#nestedParsing" id="ref-for-nestedParsing">解析器重入调用</a>。
                </p>
                <p>...</p>
        </dl>
        <p class="issue" id="issue-d6e90040"><a class="self-link" href="#issue-d6e90040"></a>
            上述算法未考虑脚本元素内容在解析过程中被更改的情况。实现者必须确保防范该场景，详见 <a
                href="https://github.com/w3c/trusted-types/issues/507">https://github.com/w3c/trusted-types/issues/507</a>。
        </p>
        <p class="issue" id="issue-c38e8ff0"><a class="self-link" href="#issue-c38e8ff0"></a> 尚无 SVG 脚本元素处理的规范定义。但各实现必须对
            <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement" id="ref-for-InterfaceSVGScriptElement⑤">SVGScriptElement</a></code>
            处理做类似变更。
        </p>
        <h5 class="heading settled" data-level="4.1.2.7" id="slot-value-verification"><span class="secno">4.1.2.7.
            </span><span class="content">插槽值校验</span><a class="self-link" href="#slot-value-verification"></a></h5>
        <p>如下修改 <a data-link-type="dfn" href="https://html.spec.whatwg.org/#prepare-the-script-element"
                id="ref-for-prepare-the-script-element">准备脚本元素</a>算法的前几步：</p>
        <ol>
            <li>
                <p>如果 <var>el</var> 的 <a href="https://html.spec.whatwg.org/#already-started"
                        id="script-processing-model:already-started-3">already started</a> 为 true，则返回。
                </p>
            <li>
                <p>令 <var>parser document</var> 为 <var>el</var> 的 <a
                        href="https://html.spec.whatwg.org/#parser-document"
                        id="script-processing-model:parser-document-2">parser document</a>。
                </p>
            <li>
                <p>将 <var>el</var> 的 <a href="https://html.spec.whatwg.org/#parser-document"
                        id="script-processing-model:parser-document-3">parser document</a> 设为 null。</p>
                <p class="note" role="note">这样做的目的是，如果解析器尝试运行的 parser-inserted <code
                        id="script-processing-model:the-script-element-27"><a href="https://html.spec.whatwg.org/#the-script-element">script</a></code>
                    元素运行失败（例如为空或指定了不支持的脚本语言），之后其他脚本可变更其内容并再次运行。</p>
            <li>
                <p>若 <var>parser document</var> 非 null 且 <var>el</var> 未含有 <code
                        id="script-processing-model:attr-script-async-4"><a href="https://html.spec.whatwg.org/#attr-script-async">async</a></code>
                    属性，则将 <var>el</var> 的 <a href="https://html.spec.whatwg.org/#script-force-async"
                        id="script-processing-model:script-force-async-2">force async</a> 设为 true。</p>
                <p class="note" role="note">这样做的目的是，如果 parser-inserted <code
                        id="script-processing-model:the-script-element-28"><a href="https://html.spec.whatwg.org/#the-script-element">script</a></code>
                    元素解析器尝试执行时失败，而之后通过脚本动态修改再执行，依然会异步运行，即使未设置 <code
                        id="script-processing-model:attr-script-async-5"><a href="https://html.spec.whatwg.org/#attr-script-async">async</a></code>
                    属性。
                </p>
            <li>
                <ins>
                    <p>对 <var>el</var> 执行 <a data-link-type="dfn" href="#prepare-the-script-text"
                            id="ref-for-prepare-the-script-text">准备脚本文本</a>算法。如果抛错，则返回。</p>
                </ins>
            <li>
                <p>
                    令 <var>source text</var> 为 <var>el</var> 的
                    <del><a data-x-internal="child-text-content"
                            href="https://dom.spec.whatwg.org/#concept-child-text-content"
                            id="script-processing-model:child-text-content">子文本内容</a></del>
                    <ins><a data-link-type="dfn" href="#htmlscriptelement-script-text"
                            id="ref-for-htmlscriptelement-script-text⑦">script text</a> 的值</ins>。
                </p>
            <li>...

        </ol>
        <p class="issue" id="issue-c38e8ff0①"><a class="self-link" href="#issue-c38e8ff0①"></a> 尚无 SVG
            脚本元素处理的规范定义。但各实现必须对 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement" id="ref-for-InterfaceSVGScriptElement⑥">SVGScriptElement</a></code>
            做类似变更。
        </p>

        <h3 class="heading settled" data-level="4.2" id="integration-with-content-security-policy"><span
                class="secno">4.2. </span><span class="content">与内容安全策略（Content Security Policy）的集成</span><a
                class="self-link" href="#integration-with-content-security-policy"></a></h3>
        <h4 class="heading settled" data-level="4.2.1" id="require-trusted-types-for-csp-directive"><span
                class="secno">4.2.1. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn"
                    data-export data-lt="require-trusted-types-for-directive"
                    id="require-trusted-types-for-directive">require-trusted-types-for</dfn> 指令</span><a
                class="self-link" href="#require-trusted-types-for-csp-directive"></a></h4>
        <p>本文档定义了 <em>require-trusted-types-for</em> —— 一条新的<a data-link-type="dfn"
                href="https://www.w3.org/TR/CSP3/#directives" id="ref-for-directives">内容安全策略指令</a>。</p>
        <p><a data-link-type="dfn" href="#require-trusted-types-for-directive"
                id="ref-for-require-trusted-types-for-directive②">require-trusted-types-for</a> 指令为当前<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm"
                id="ref-for-concept-global-object-realm①">realm</a> 内某些分组的全部 <a data-link-type="dfn"
                href="#injection-sink" id="ref-for-injection-sink②①">注入点</a> 配置 Trusted Types 框架。它具体定义：当字符串值被传到某一分组的<a
                data-link-type="dfn" href="#injection-sink" id="ref-for-injection-sink②②">注入点</a>时应采用何种行为（即是否启用类型强制）。
        </p>
        <p class="note" role="note"><span class="marker">注：</span> 目前仅规定了 <a href="#dom-xss-injection-sinks">§ 2.1.1 DOM
                XSS 注入点</a> 的强制。</p>
        <p>该指令的<a data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#directive-name"
                id="ref-for-directive-name">名称</a>和<a data-link-type="dfn"
                href="https://www.w3.org/TR/CSP3/#directive-value" id="ref-for-directive-value">值</a>语法如下 ABNF：</p>
        <pre>directive-name = "require-trusted-types-for"
directive-value = <a data-link-type="dfn" href="#trusted-types-sink-group-keyword" id="ref-for-trusted-types-sink-group-keyword">trusted-types-sink-group-keyword</a> *( <a href="https://w3c.github.io/webappsec-csp/#grammardef-required-ascii-whitespace">required-ascii-whitespace</a> <a data-link-type="dfn" href="#trusted-types-sink-group-keyword" id="ref-for-trusted-types-sink-group-keyword①">trusted-types-sink-group-keyword</a>)
<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trusted-types-sink-group-keyword">trusted-types-sink-group-keyword</dfn> = "'" <a data-link-type="dfn" href="#trusted-types-sink-group" id="ref-for-trusted-types-sink-group②">trusted-types-sink-group</a> "'"
<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trusted-types-sink-group">trusted-types-sink-group</dfn> = "script"
</pre>
        <div class="example" id="require-tt-for-script-header">
            <a class="self-link" href="#require-tt-for-script-header"></a>
            在 DOM XSS 注入点强制执行 Trusted Types。


            <pre class="http">Content-Security-Policy: require-trusted-types-for 'script'
</pre>
        </div>
        <h5 class="heading settled" data-level="4.2.1.1" id="require-trusted-types-for-pre-navigation-check"><span
                class="secno">4.2.1.1. </span><span class="content"><code>require-trusted-types-for</code>
                预导航检查</span><a class="self-link" href="#require-trusted-types-for-pre-navigation-check"></a></h5>
        <p>给定 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request"
                id="ref-for-concept-request">request</a>（<var>request</var>），字符串 <var>navigation type</var> 和<a
                data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#content-security-policy-object"
                id="ref-for-content-security-policy-object">policy</a>（<var>policy</var>），如果一次导航违反了 <a
                data-link-type="dfn" href="#require-trusted-types-for-directive"
                id="ref-for-require-trusted-types-for-directive③">require-trusted-types-for</a> 指令约束则返回
            <code>"Blocked"</code>，否则返回 <code>"Allowed"</code>。这就是 <a data-link-type="dfn"
                href="#require-trusted-types-for-directive"
                id="ref-for-require-trusted-types-for-directive④">require-trusted-types-for</a> 指令的<a
                data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#directive-pre-navigation-check"
                id="ref-for-directive-pre-navigation-check">预导航检查</a>：
        </p>
        <p class="note" role="note"><span class="marker">注：</span> 此算法确保导航到 <code>javascript:</code> URL 时，执行的代码必须还要通过<a
                data-link-type="dfn" href="#default-policy-explanation"
                id="ref-for-default-policy-explanation">默认策略</a>的 <code>createScript</code> 方法，以及 CSP 其他约束。</p>
        <ol>
            <li data-md>
                <p>如果 <var>request</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request-url"
                        id="ref-for-concept-request-url">url</a> 的 <a data-link-type="dfn"
                        href="https://url.spec.whatwg.org/#concept-url-scheme"
                        id="ref-for-concept-url-scheme">scheme</a> 不是 <code>"javascript"</code>，则返回
                    <code>"Allowed"</code> 并终止。
                </p>
            <li data-md>
                <p>令 <var>urlString</var> 为 <a data-link-type="dfn"
                        href="https://url.spec.whatwg.org/#concept-url-serializer"
                        id="ref-for-concept-url-serializer">URL serializer</a> 处理 <var>request</var> 的 <a
                        data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url"
                        id="ref-for-concept-request-url①">url</a> 的结果。</p>
            <li data-md>
                <p>令 <var>encodedScriptSource</var> 为去掉 <var>urlString</var> 前缀 <code>"javascript:"</code> 后的结果。</p>
            <li data-md>
                <p>令 <var>convertedScriptSource</var> 为调用<a data-link-type="dfn"
                        href="#process-value-with-a-default-policy"
                        id="ref-for-process-value-with-a-default-policy①">通过默认策略处理值</a>，参数为：</p>
                <ul>
                    <li data-md>
                        <p><code
                                class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript①⑧">TrustedScript</a></code>
                            作为 <var>expectedType</var></p>
                    <li data-md>
                        <p><var>request</var> 的 <a data-link-type="dfn"
                                href="https://fetch.spec.whatwg.org/#concept-request-client"
                                id="ref-for-concept-request-client">clients</a> 的<a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
                                id="ref-for-concept-settings-object-global">全局对象</a>作为 <var>global</var></p>
                    <li data-md>
                        <p><var>encodedScriptSource</var> 作为 <var>input</var></p>
                    <li data-md>
                        <p><code>"Location href"</code> 作为 <var>sink</var></p>
                </ul>
                <p>如该算法抛错或 <var>convertedScriptSource</var> 非 <code
                        class="idl"><a data-link-type="idl" href="#trustedscript" id="ref-for-trustedscript①⑨">TrustedScript</a></code>
                    对象，则返回 "Blocked" 并终止。</p>
            <li data-md>
                <p>将 <var>urlString</var> 设为用 <code>"javascript:"</code> 前缀加上 <var>convertedScriptSource</var> 的字符串化结果。
                </p>
            <li data-md>
                <p>令 <var>newURL</var> 为<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser"
                        id="ref-for-concept-url-parser">URL parser</a> 处理 <var>urlString</var> 的结果。如为 failure，返回
                    <code>"Blocked"</code> 并终止。
                </p>
            <li data-md>
                <p>将 <var>request</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request-url"
                        id="ref-for-concept-request-url②">url</a> 设为 <var>newURL</var>。</p>
                <p class="note" role="note"><span class="marker">注：</span> 没有其它 CSP 指令会在预导航检查处理 <code>javascript:</code>
                    URL，其它指令在 <a data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#directive-inline-check"
                        id="ref-for-directive-inline-check">inline check</a> 阶段继续处理。
                </p>
            <li data-md>
                <p>返回 <code>"Allowed"</code>。</p>
        </ol>
        <h4 class="heading settled" data-level="4.2.2" id="trusted-types-csp-directive"><span class="secno">4.3.2.
            </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                    data-lt="trusted-types-directive" id="trusted-types-directive">trusted-types</dfn>
                指令</span><a class="self-link" href="#trusted-types-csp-directive"></a></h4>
        <p>本文档定义了 <em>trusted-types</em> —— 一条新的 <a data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#directives"
                id="ref-for-directives①">内容安全策略指令</a>。<a data-link-type="dfn" href="#trusted-types-directive"
                id="ref-for-trusted-types-directive②">trusted-types</a> 指令用于控制 Trusted Types <a data-link-type="dfn"
                href="#policies" id="ref-for-policies⑤">策略</a>的创建。</p>
        <p>该指令的<a data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#directive-name"
                id="ref-for-directive-name①">名称</a>和<a data-link-type="dfn"
                href="https://www.w3.org/TR/CSP3/#directive-value" id="ref-for-directive-value①">值</a>语法如下：</p>
        <pre>directive-name = "trusted-types"
directive-value = <a data-link-type="dfn" href="#serialized-tt-configuration" id="ref-for-serialized-tt-configuration">serialized-tt-configuration</a>
<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialized-tt-configuration">serialized-tt-configuration</dfn> = ( <a data-link-type="dfn" href="#tt-expression" id="ref-for-tt-expression">tt-expression</a> *( <a href="https://w3c.github.io/webappsec-csp/#grammardef-required-ascii-whitespace">required-ascii-whitespace</a> <a data-link-type="dfn" href="#tt-expression" id="ref-for-tt-expression①">tt-expression</a> ) )
<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="tt-expression">tt-expression</dfn> = <a data-link-type="dfn" href="#tt-policy-name" id="ref-for-tt-policy-name">tt-policy-name</a>  / <a data-link-type="dfn" href="#tt-keyword" id="ref-for-tt-keyword">tt-keyword</a> / <a data-link-type="dfn" href="#tt-wildcard" id="ref-for-tt-wildcard">tt-wildcard</a>
<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="tt-wildcard">tt-wildcard</dfn> = "*"
<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="tt-policy-name">tt-policy-name</dfn> = 1*( <a href="https://tools.ietf.org/html/rfc5234#appendix-B.1">ALPHA</a> / <a href="https://tools.ietf.org/html/rfc5234#appendix-B.1">DIGIT</a> / "-" / "#" / "=" / "_" / "/" / "@" / "." / "%")
<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="tt-keyword">tt-keyword</dfn> = "'allow-duplicates'" / "'none'"
</pre>
        <div class="example" id="allowlist-of-policy-names-in-header">
            <a class="self-link" href="#allowlist-of-policy-names-in-header"></a>
            在注入点强制类型，仅允许两种策略被创建：“one” 和 “two”。


            <pre class="http">Content-Security-Policy: require-trusted-types-for 'script'; trusted-types one two
</pre>
        </div>
        <div class="example" id="header-that-allows-no-policy-names">
            <a class="self-link" href="#header-that-allows-no-policy-names"></a>
            空的 <a data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#directives" id="ref-for-directives②">指令</a> <a
                data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#directive-value"
                id="ref-for-directive-value②">值</a> 表示不可创建策略，
            注入点必须传递 Trusted Type 值，即 DOM XSS <a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink②③">注入点</a> 完全禁用。

            <pre class="http">Content-Security-Policy: trusted-types; require-trusted-types-for 'script'
</pre>
        </div>
        <p>关键字 <code>'none'</code> 可用于显式表达上述含义：</p>
        <div class="example" id="header-with-none-that-allows-no-policy-names">
            <a class="self-link" href="#header-with-none-that-allows-no-policy-names"></a>

            <pre class="http">Content-Security-Policy: trusted-types 'none'; require-trusted-types-for 'script'
</pre>
        </div>
        <p>关键字 <code>'allow-duplicates'</code> 允许重复策略名策略的创建。</p>
        <div class="example" id="allow-duplicates-in-header">
            <a class="self-link" href="#allow-duplicates-in-header"></a>

            <pre class="http">Content-Security-Policy: trusted-types foo bar 'allow-duplicates'
</pre>
        </div>
        <p>如果策略名包含 <code>default</code>，则指的是 <a data-link-type="dfn" href="#trustedtypepolicyfactory-default-policy"
                id="ref-for-trustedtypepolicyfactory-default-policy④">默认策略</a>。
            所有传递到 <a data-link-type="dfn" href="#injection-sink" id="ref-for-injection-sink②④">注入点</a>
            的字符串都会先通过该策略，而非直接被拒绝。</p>
        <div class="example" id="default-in-header">
            <a class="self-link" href="#default-in-header"></a>

            <pre class="http">Content-Security-Policy: trusted-types one two default
</pre>
        </div>
        <h4 class="heading settled" data-level="4.2.3" id="does-sink-require-trusted-types"><span class="secno">4.3.3.
            </span><span class="content">注入点类型是否需要受信任类型？</span><a class="self-link"
                href="#does-sink-require-trusted-types"></a></h4>
        <p>如果<a data-link-type="dfn" href="#injection-sink" id="ref-for-injection-sink②⑤">注入点</a>需要<a
                data-link-type="dfn" href="#trusted-type"
                id="ref-for-trusted-type⑤">受信任类型</a>，此算法返回<code>true</code>，否则返回<code>false</code>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
                id="does-sink-type-require-trusted-types">注入点类型是否需要受信任类型？</dfn>算法，参数为<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                id="ref-for-concept-realm-global③">全局对象</a>（<var>global</var>）、字符串
            （<var>sinkGroup</var>）和布尔值（<var>includeReportOnlyPolicies</var>），步骤如下：</p>
        <ol>
            <li data-md>
                <p>对<var>global</var>的<a data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#global-object-csp-list"
                        id="ref-for-global-object-csp-list">CSP 列表</a>中的每个<var>policy</var>：</p>
                <ol>
                    <li data-md>
                        <p>如果<var>policy</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#policy-directive-set"
                                id="ref-for-policy-directive-set">指令集</a>不包含<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#directives" id="ref-for-directives③">指令</a>，其<a
                                data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#directive-name"
                                id="ref-for-directive-name②">名称</a>为<code>"require-trusted-types-for"</code>，则跳到下一个<var>policy</var>。
                        </p>
                    <li data-md>
                        <p>令<var>directive</var>为<var>policy</var>的<var>directive set</var>中<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#directives"
                                id="ref-for-directives④">指令</a>，其名称为<code>"require-trusted-types-for"</code></p>
                    <li data-md>
                        <p>如果<var>directive</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#directive-value"
                                id="ref-for-directive-value③">值</a>不包含匹配<var>sinkGroup</var>的<a data-link-type="dfn"
                                href="#trusted-types-sink-group"
                                id="ref-for-trusted-types-sink-group③">trusted-types-sink-group</a>，则跳到下一个<var>policy</var>。
                        </p>
                    <li data-md>
                        <p>令<var>enforced</var>为真当<var>policy</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#policy-disposition"
                                id="ref-for-policy-disposition">执行状态</a>为<code>"enforce"</code>，否则为假。</p>
                    <li data-md>
                        <p>如果<var>enforced</var>为真，返回true。</p>
                    <li data-md>
                        <p>如果<var>includeReportOnlyPolicies</var>为真，返回true。</p>
                </ol>
            <li data-md>
                <p>返回false。</p>
        </ol>
        <h4 class="heading settled" data-level="4.2.4" id="should-block-sink-type-mismatch"><span class="secno">4.2.4.
            </span><span class="content">内容安全策略是否应阻止注入点类型不匹配违规？</span><a class="self-link"
                href="#should-block-sink-type-mismatch"></a></h4>
        <p>如果<a data-link-type="dfn" href="#injection-sink" id="ref-for-injection-sink②⑥">注入点</a>需要<a
                data-link-type="dfn" href="#trusted-type"
                id="ref-for-trusted-type⑥">受信任类型</a>，此算法返回<code>"Blocked"</code>，否则返回<code>"Allowed"</code>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="should-sink-type-mismatch-violation-be-blocked-by-content-security-policy">内容安全策略是否应阻止注入点类型不匹配违规？</dfn>
            算法，参数为<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                id="ref-for-concept-realm-global④">全局对象</a>（<var>global</var>）、字符串（<var>sink</var>）、字符串（<var>sinkGroup</var>）和字符串（<var>source</var>），步骤如下：
        </p>
        <ol>
            <li data-md>
                <p>令<var>result</var>为<code>"Allowed"</code>。</p>
            <li data-md>
                <p>令<var>sample</var>为<var>source</var>。</p>
            <li data-md>
                <p>如果<var>sink</var>为<code>"Function"</code>，则：</p>
                <ol>
                    <li data-md>
                        <p>如果<var>sample</var>以<code>"function anonymous"</code>开头，去除该内容。</p>
                    <li data-md>
                        <p>否则如果<var>sample</var>以<code>"async function anonymous"</code>开头，去除该内容。</p>
                    <li data-md>
                        <p>否则如果<var>sample</var>以<code>"function* anonymous"</code>开头，去除该内容。</p>
                    <li data-md>
                        <p>否则如果<var>sample</var>以<code>"async function* anonymous"</code>开头，去除该内容。</p>
                </ol>
            <li data-md>
                <p>对<var>global</var>的<a data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#global-object-csp-list"
                        id="ref-for-global-object-csp-list①">CSP 列表</a>中的每个<var>policy</var>：</p>
                <ol>
                    <li data-md>
                        <p>如果<var>policy</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#policy-directive-set"
                                id="ref-for-policy-directive-set①">指令集</a>不包含<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#directives" id="ref-for-directives⑤">指令</a>，其<a
                                data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#directive-name"
                                id="ref-for-directive-name③">名称</a>为<code>"require-trusted-types-for"</code>，则跳到下一个<var>policy</var>。
                        </p>
                    <li data-md>
                        <p>令<var>directive</var>为<var>policy</var>的<var>directive set</var>中<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#directives"
                                id="ref-for-directives⑥">指令</a>，其名称为<code>"require-trusted-types-for"</code></p>
                    <li data-md>
                        <p>如果<var>directive</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#directive-value"
                                id="ref-for-directive-value④">值</a>不包含匹配<var>sinkGroup</var>的<a data-link-type="dfn"
                                href="#trusted-types-sink-group"
                                id="ref-for-trusted-types-sink-group④">trusted-types-sink-group</a>，则跳到下一个<var>policy</var>。
                        </p>
                    <li data-md>
                        <p>令<var>violation</var>为执行<a
                                href="https://www.w3.org/TR/CSP3/#create-violation-for-global">创建全局、策略和指令的违规对象</a>，参数为<var>global</var>、<var>policy</var>和<code>"require-trusted-types-for"</code>
                        </p>
                    <li data-md>
                        <p>将<var>violation</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#violation-resource"
                                id="ref-for-violation-resource">资源</a>设为<code>"trusted-types-sink"</code>。</p>
                    <li data-md>
                        <p>令<var>trimmedSample</var>为<var>sample</var>的前40字符子串。</p>
                    <li data-md>
                        <p>将<var>violation</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#violation-sample"
                                id="ref-for-violation-sample">示例</a>设为用<code>"|"</code>分隔的«<var>sink</var>,
                            <var>trimmedSample</var>»。
                        </p>
                    <li data-md>
                        <p>对<var>violation</var>执行<a href="https://www.w3.org/TR/CSP3/#report-violation">上报违规</a>。</p>
                    <li data-md>
                        <p>如果<var>policy</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#policy-disposition"
                                id="ref-for-policy-disposition①">执行状态</a>为<code>"enforce"</code>，则<var>result</var>设为<code>"Blocked"</code>。
                        </p>
                </ol>
            <li data-md>
                <p>返回<var>result</var>。</p>
        </ol>
        <h4 class="heading settled" data-level="4.2.5" id="should-block-create-policy"><span class="secno">4.2.5.
            </span><span class="content">内容安全策略是否应阻止受信任类型策略的创建？</span><a class="self-link"
                href="#should-block-create-policy"></a></h4>
        <p>如果不应创建<code
                class="idl"><a data-link-type="idl" href="#trustedtypepolicy" id="ref-for-trustedtypepolicy①③">TrustedTypePolicy</a></code>，此算法返回<code>"Blocked"</code>，否则返回<code>"Allowed"</code>。
        </p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
                id="should-trusted-type-policy-creation-be-blocked-by-content-security-policy">内容安全策略是否应阻止受信任类型策略的创建？</dfn>
            算法，参数为<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"
                id="ref-for-concept-realm-global⑤">全局对象</a>（<var>global</var>）、字符串
            （<var>policyName</var>）和字符串列表
            （<var>createdPolicyNames</var>），步骤如下：</p>
        <ol>
            <li data-md>
                <p>令<var>result</var>为<code>"Allowed"</code>。</p>
            <li data-md>
                <p>对<var>global</var>的<a data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#global-object-csp-list"
                        id="ref-for-global-object-csp-list②">CSP 列表</a>中的每个<var>policy</var>：</p>
                <ol>
                    <li data-md>
                        <p>令<var>createViolation</var>为false。</p>
                    <li data-md>
                        <p>如果<var>policy</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#policy-directive-set"
                                id="ref-for-policy-directive-set②">指令集</a>不包含<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#directives"
                                id="ref-for-directives⑦">指令</a>，其名称为<code>"trusted-types"</code>，则跳到下一个<var>policy</var>。
                        </p>
                    <li data-md>
                        <p>令<var>directive</var>为<var>policy</var>的<var>directive set</var>中<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#directives"
                                id="ref-for-directives⑧">指令</a>，其名称为<code>"trusted-types"</code></p>
                    <li data-md>
                        <p>如果<var>directive</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#directive-value"
                                id="ref-for-directive-value⑤">值</a>只包含匹配值<code>'none'</code>的<a data-link-type="dfn"
                                href="#tt-keyword"
                                id="ref-for-tt-keyword①">tt-keyword</a>，则<var>createViolation</var>设为true。</p>
                        <p class="note" role="note"><span class="marker">注：</span>与其它CSP指令一样，如果同时有其它关键字或策略名，则会忽略'none'。
                        </p>
                    <li data-md>
                        <p>如果<var>createdPolicyNames</var>包含<var>policyName</var>且<var>directive</var>的<a
                                data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#directive-value"
                                id="ref-for-directive-value⑥">值</a>不包含匹配<code>'allow-duplicates'</code>的<a
                                data-link-type="dfn" href="#tt-keyword"
                                id="ref-for-tt-keyword②">tt-keyword</a>，则<var>createViolation</var>设为true。</p>
                        <p class="note" role="note"><span class="marker">注：</span>
                            <code>trusted-types policyA policyB 'allow-duplicates'</code>允许创建同名策略。
                        </p>
                    <li data-md>
                        <p>如果<var>directive</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#directive-value"
                                id="ref-for-directive-value⑦">值</a>不包含值为<var>policyName</var>的<a data-link-type="dfn"
                                href="#tt-policy-name" id="ref-for-tt-policy-name①">tt-policy-name</a>，也不包含<a
                                data-link-type="dfn" href="#tt-wildcard"
                                id="ref-for-tt-wildcard①">tt-wildcard</a>，则<var>createViolation</var>设为true。
                        </p>
                        <p class="note" role="note"><span class="marker">注：</span>
                            <code>trusted-types *</code>允许用任何唯一名字创建策略。若需多个同名策略，使用<code>trusted-types * 'allow-duplicates'</code>或不设置<code>trusted-types</code>。
                        </p>
                    <li data-md>
                        <p>如果<var>createViolation</var>为false，跳到下一个<var>policy</var>。</p>
                    <li data-md>
                        <p>令<var>violation</var>为执行<a
                                href="https://www.w3.org/TR/CSP3/#create-violation-for-global">创建全局、策略和指令的违规对象</a>，参数为<var>global</var>、<var>policy</var>和<code>"trusted-types"</code>
                        </p>
                    <li data-md>
                        <p>将<var>violation</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#violation-resource"
                                id="ref-for-violation-resource①">资源</a>设为<code>"trusted-types-policy"</code>。</p>
                    <li data-md>
                        <p>将<var>violation</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#violation-sample"
                                id="ref-for-violation-sample①">示例</a>设为<var>policyName</var>的前40字符子串。</p>
                    <li data-md>
                        <p>对<var>violation</var>执行<a href="https://www.w3.org/TR/CSP3/#report-violation">上报违规</a>。</p>
                    <li data-md>
                        <p>如果<var>policy</var>的<a data-link-type="dfn"
                                href="https://www.w3.org/TR/CSP3/#policy-disposition"
                                id="ref-for-policy-disposition②">执行状态</a>为<code>"enforce"</code>，则<var>result</var>设为<code>"Blocked"</code>。
                        </p>
                </ol>
            <li data-md>
                <p>返回<var>result</var>。</p>
        </ol>
        <h2 class="heading settled" data-level="5" id="security-considerations"><span class="secno">5. </span><span
                class="content">安全性注意事项</span><a class="self-link" href="#security-considerations"></a>
        </h2>
        <p>受信任类型并不旨在保护对<a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink②⑦">注入点</a>的访问不被蓄意恶意的执行环境绕过。默认假设应用由非恶意作者编写，目标是防止开发者失误导致的安全漏洞，并不防御主动规避策略限制的一方代码。下文列举了即使强制受信任类型，依然存在的风险向量。
        </p>
        <h3 class="heading settled" data-level="5.1" id="cross-document-vectors"><span class="secno">5.1. </span><span
                class="content">跨文档向量</span><a class="self-link" href="#cross-document-vectors"></a>
        </h3>
        <p>当一个窗口中运行的代码已强制受信任类型时，无法动态创建绕过策略的新节点，
            但仍有可能从未施加同等限制的其他窗口文档中导入或采用该节点。
            本质上——如果恶意作者让受限文档与无限制文档“串通协作”，则可绕过 Trusted Types。
            极端情况下，受限文档可直接把字符串封装成<code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/FileAPI/#dfn-Blob" id="ref-for-dfn-Blob">Blob</a></code>并跳转过去。
        </p>
        <p>CSP 传播规则（见<a href="https://www.w3.org/TR/CSP3/#security-inherit-csp"><cite>Content Security Policy 3</cite>
                § 7.8 CSP继承机制防止绕过</a>）可部分缓解此问题，因为新<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#local-scheme" id="ref-for-local-scheme">本地协议</a>文档会继承同等限制。
            比如，可以确保对<code>Blob</code>注入的内容不会执行脚本。要彻底防范该问题，还可结合<a href="https://wicg.github.io/origin-policy/">Origin
                Policy</a>等机制，确保全域强制统一安全准则。</p>
        <h3 class="heading settled" data-level="5.2" id="deprecated-features"><span class="secno">5.2. </span><span
                class="content">已弃用特性</span><a class="self-link" href="#deprecated-features"></a></h3>
        <p>部分长久弃用且极少用的平台特性不受 Trusted Types 限制，恶意作者可能借此绕开约束：</p>
        <ul>
            <li data-md>
                <p><a href="https://wicg.github.io/webcomponents/spec/imports/">HTML imports</a></p>
        </ul>
        <h3 class="heading settled" data-level="5.3" id="script-gadgets"><span class="secno">5.3. </span><span
                class="content">脚本组件（gadgets）</span><a class="self-link" href="#script-gadgets"></a></h3>
        <p>虽然 Trusted Types 机制会应用到许多字符串创建 DOM 树的操作，但它不应被用作全局保护文档内任意 DOM 树创建的机制。特别是在存在<a
                href="https://github.com/google/security-research-pocs/tree/master/script-gadgets">脚本组件（script
                gadgets）</a>时，应用会响应通常安全的DOM元素或属性内容。直接用DOM API也可触发此类gadget，无须走受信任类型。但要触发 DOM XSS，gadget
            仍需通过策略生成受信任值。作者应确保传给策略的数据确实可信，特别是策略本身未做约束或校验时。</p>
        <h3 class="heading settled" data-level="5.4" id="best-practices-for-policy-design"><span class="secno">5.4.
            </span><span class="content">策略设计最佳实践</span><a class="self-link"
                href="#best-practices-for-policy-design"></a></h3>
        <p>受信任类型将可通过<a data-link-type="dfn" href="#injection-sink" id="ref-for-injection-sink②⑧">注入点</a>引入漏洞的代码范围限定为<a
                data-link-type="dfn" href="#policies" id="ref-for-policies⑥">策略</a>实现。
            这种设计下，若策略本身不安全，依然可能让<a data-link-type="dfn" href="#injection-sink"
                id="ref-for-injection-sink②⑨">注入点</a>暴露于不可信数据。
            开发者需特别注意，仅使用对所有输入都安全的策略，或严格控制调用不安全策略，只能用非攻击者控制的输入。</p>
        <p>策略是自定义 JS 代码，可写得严重依赖全局状态。不建议如此。策略应当尽量自包含。所有可影响策略安全决策的对象实际上都“变成”该策略，务必要一并保护和审查。</p>
        <p class="issue" id="issue-2eb927d2"><a class="self-link" href="#issue-2eb927d2"></a>参考外部安全策略设计文档。</p>
        <h2 class="heading settled" data-level="6" id="privacy-considerations"><span class="secno">6. </span><span
                class="content">隐私注意事项</span><a class="self-link" href="#privacy-considerations"></a>
        </h2>
        <p>本规范可能部分观测并修改应用中脚本行为，例如让某些注入点操作失败，或借助<a data-link-type="dfn" href="#trustedtypepolicyfactory-default-policy"
                id="ref-for-trustedtypepolicyfactory-default-policy⑤">默认策略</a>监控和变更注入点效果。
            但事实上，更早的脚本原本就可通过覆盖属性描述符实现同样能力。</p>
        <p>应用可主动上报受信任类型限制违规，违规报告会包含传给注入点的前40个字符负载（包括注入点名称）。该特性重用了内容安全策略的违规上报机制。</p>
        <h2 class="heading settled" data-level="7" id="implementation-considerations"><span class="secno">7.
            </span><span class="content">实现相关注意事项</span><a class="self-link" href="#implementation-considerations"></a>
        </h2>
        <h3 class="heading settled" data-level="7.1" id="vendor-specific-extensions-and-addons"><span class="secno">7.1.
            </span><span class="content">厂商扩展与插件</span><a class="self-link"
                href="#vendor-specific-extensions-and-addons"></a></h3>
        <p>受信任类型的限制不应干扰用户代理特性如插件、扩展、书签工具的正常运行。这些特性普遍体现了用户优先于页面作者的理念，见
            <a data-link-type="biblio" href="#biblio-html-design-principles"
                title="HTML Design Principles">[html-design-principles]</a>。具体来说，扩展应能将字符串直接传递给<a data-link-type="dfn"
                href="#injection-sink" id="ref-for-injection-sink③①">注入点</a>，不应触发<a data-link-type="dfn"
                href="#trustedtypepolicyfactory-default-policy"
                id="ref-for-trustedtypepolicyfactory-default-policy⑥">默认策略</a>执行、违规生成或值被拒绝。
        </p>
    </main>
    <div data-fill-with="conformance">
        <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a
                class="self-link" href="#w3c-conformance"></a></h2>
        <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">文档惯例</span><a
                class="self-link" href="#w3c-conventions"></a></h3>
        <p>一致性要求通过描述性断言与 RFC 2119 术语相结合进行表达。
            本规范的规范性部分中的关键词 “MUST”、“MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD NOT”、“RECOMMENDED”、“MAY” 和
            “OPTIONAL”
            应按照 RFC 2119 的说明进行解释。
            但为了易读性，本规范中这些词不会全部大写。

        </p>
        <p>除明确标注为非规范性部分、示例和注释的部分外，本规范中的所有文本均属规范性内容。<a data-link-type="biblio" href="#biblio-rfc2119"
                title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>

        </p>
        <p>本规范中的示例由 “for example（例如）” 引入，
            或者用 <code>class="example"</code> 单独标出，像这样：

        </p>
        <div class="example" id="w3c-example">
            <a class="self-link" href="#w3c-example"></a>

            <p>这是一个说明性示例。
            </p>
        </div>
        <p>说明性注释以“Note（注）”开头，并用 <code>class="note"</code> 单独标出，像这样：

        </p>
        <p class="note" role="note">注：这是一个说明性注释。</p>
        <details class="wpt-tests-block" dir="ltr" lang="en" open>
            <summary>测试</summary>
            <p>与本规范内容相关的测试可以记录在像这样的“测试”块中。
                此类区块均为非规范性内容。</p>
            <ul class="wpt-tests-list"></ul>
            <hr>
        </details>
        <section>
            <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span
                    class="content">一致性算法</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
            <p>在算法中以命令式表达的要求（如 “strip any leading space characters（去除前导空格）”
                或 “return false and abort these steps（返回 false 并中止这些步骤）”），其含义应结合引出算法时所用的关键词
                （如“must”、“should”、“may”等）进行理解。

            </p>
            <p>以算法或具体步骤表达的一致性要求，可以以任何方式实现，只要最终结果等价即可。
                特别是，本规范中给出的算法旨在便于理解，并非为了高性能实现。建议实现方可据此进行优化。
            </p>
        </section>
    </div>
    <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
    <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
            href="#index"></a></h2>
    <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的词汇</span><a
            class="self-link" href="#index-defined-here"></a></h3>
    <ul class="index">
        <li><a href="#create-a-trusted-type">create a trusted type（创建受信任类型）</a><span>, 在 § 3.2</span>
        <li><a href="#create-a-trusted-type-policy">create a trusted type policy（创建受信任类型策略）</a><span>, 在 § 3.1</span>
        <li><a href="#trustedtypepolicyfactory-created-policy-names">created policy names（已创建的策略名）</a><span>, 在
                § 2.3.1</span>
        <li><a href="#dom-trustedtypepolicyoptions-createhtml">createHTML</a><span>, 在 § 2.3.3</span>
        <li><a href="#callbackdef-createhtmlcallback">CreateHTMLCallback</a><span>, 在 § 2.3.3</span>
        <li><a href="#dom-trustedtypepolicy-createhtml">createHTML(input)</a><span>, 在 § 2.3.2</span>
        <li><a href="#dom-trustedtypepolicy-createhtml">createHTML(input, ...arguments)</a><span>, 在 § 2.3.2</span>
        <li><a href="#dom-trustedtypepolicyfactory-createpolicy">createPolicy(policyName)</a><span>, 在 § 2.3.1</span>
        <li><a href="#dom-trustedtypepolicyfactory-createpolicy">createPolicy(policyName, policyOptions)</a><span>, 在
                § 2.3.1</span>
        <li><a href="#dom-trustedtypepolicyoptions-createscript">createScript</a><span>, 在 § 2.3.3</span>
        <li><a href="#callbackdef-createscriptcallback">CreateScriptCallback</a><span>, 在 § 2.3.3</span>
        <li><a href="#dom-trustedtypepolicy-createscript">createScript(input)</a><span>, 在 § 2.3.2</span>
        <li><a href="#dom-trustedtypepolicy-createscript">createScript(input, ...arguments)</a><span>, 在 § 2.3.2</span>
        <li><a href="#dom-trustedtypepolicyoptions-createscripturl">createScriptURL</a><span>, 在 § 2.3.3</span>
        <li><a href="#callbackdef-createscripturlcallback">CreateScriptURLCallback</a><span>, 在 § 2.3.3</span>
        <li><a href="#dom-trustedtypepolicy-createscripturl">createScriptURL(input)</a><span>, 在 § 2.3.2</span>
        <li><a href="#dom-trustedtypepolicy-createscripturl">createScriptURL(input, ...arguments)</a><span>, 在
                § 2.3.2</span>
        <li>
            data（数据）
            <ul>
                <li><a href="#trustedhtml-data">TrustedHTML 的定义</a><span>, 在 § 2.2.1</span>
                <li><a href="#trustedscript-data">TrustedScript 的定义</a><span>, 在 § 2.2.2</span>
                <li><a href="#trustedscripturl-data">TrustedScriptURL 的定义</a><span>, 在 § 2.2.3</span>
            </ul>
        <li><a href="#trustedtypepolicyfactory-default-policy">default policy（默认策略）</a><span>, 在 § 2.3.1</span>
        <li><a href="#dom-trustedtypepolicyfactory-defaultpolicy">defaultPolicy</a><span>, 在 § 2.3.1</span>
        <li><a href="#default-policy-explanation">default-policy-explanation（默认策略说明）</a><span>, 在 § 2.3.4</span>
        <li><a href="#does-sink-type-require-trusted-types">does sink type require trusted
                types?（注入点类型是否需要受信任类型？）</a><span>, 在
                § 4.2.3</span>
        <li><a href="#dom-trustedtypepolicyfactory-emptyhtml">emptyHTML</a><span>, 在 § 2.3.1</span>
        <li><a href="#dom-trustedtypepolicyfactory-emptyscript">emptyScript</a><span>, 在 § 2.3.1</span>
        <li><a href="#enforcement">Enforcement（强制）</a><span>, 在 § 2.4</span>
        <li><a href="#dom-trustedtypepolicyfactory-getattributetype">getAttributeType(tagName, attribute)</a><span>, 在
                § 2.3.1</span>
        <li><a href="#dom-trustedtypepolicyfactory-getattributetype">getAttributeType(tagName, attribute,
                elementNs)</a><span>, 在 § 2.3.1</span>
        <li><a href="#dom-trustedtypepolicyfactory-getattributetype">getAttributeType(tagName, attribute, elementNs,
                attrNs)</a><span>, 在 § 2.3.1</span>
        <li><a href="#dom-trustedtypepolicyfactory-getpropertytype">getPropertyType(tagName, property)</a><span>, 在
                § 2.3.1</span>
        <li><a href="#dom-trustedtypepolicyfactory-getpropertytype">getPropertyType(tagName, property,
                elementNs)</a><span>, 在 § 2.3.1</span>
        <li><a href="#get-trusted-type-compliant-attribute-value">get trusted type compliant attribute
                value（获取受信任类型合规属性值）</a><span>,
                在 § 3.7</span>
        <li><a href="#get-trusted-type-compliant-string">get trusted type compliant string（获取受信任类型合规字符串）</a><span>, 在
                § 3.4</span>
        <li><a href="#get-trusted-type-data-for-attribute①">get Trusted Type data for attribute（获取属性的受信任类型数据）</a><span>,
                在
                § 3.8</span>
        <li><a href="#get-trusted-type-policy-value">get trusted type policy value（获取受信任类型策略值）</a><span>, 在 § 3.3</span>
        <li><a href="#injection-sink">injection sink（注入点）</a><span>, 在 § 2.1</span>
        <li><a href="#dom-htmlscriptelement-innertext">innerText</a><span>, 在 § 4.1.2</span>
        <li><a href="#dom-trustedtypepolicyfactory-ishtml">isHTML(value)</a><span>, 在 § 2.3.1</span>
        <li><a href="#dom-trustedtypepolicyfactory-isscripturl">isScriptURL(value)</a><span>, 在 § 2.3.1</span>
        <li><a href="#dom-trustedtypepolicyfactory-isscript">isScript(value)</a><span>, 在 § 2.3.1</span>
        <li>
            name（名称）
            <ul>
                <li><a href="#dom-trustedtypepolicy-name">TrustedTypePolicy 的 attribute</a><span>, 在 § 2.3.2</span>
                <li><a href="#trustedtypepolicy-name">TrustedTypePolicy 的定义</a><span>, 在 § 2.3.2</span>
            </ul>
        <li><a href="#trustedtypepolicy-options">options（选项）</a><span>, 在 § 2.3.2</span>
        <li><a href="#policies">Policies（策略）</a><span>, 在 § 2.3</span>
        <li><a href="#prepare-the-script-text">prepare the script text（准备脚本文本）</a><span>, 在 § 3.6</span>
        <li><a href="#process-value-with-a-default-policy">process value with a default policy（通过默认策略处理值）</a><span>, 在
                § 3.5</span>
        <li><a href="#require-trusted-types-for-directive">require-trusted-types-for-directive</a><span>, 在
                § 4.2.1</span>
        <li><a href="#htmlscriptelement-script-text">script text（脚本文本）</a><span>, 在 § 4.1.2.1</span>
        <li><a href="#serialized-tt-configuration">serialized-tt-configuration</a><span>, 在 § 4.2.2</span>
        <li><a href="#should-sink-type-mismatch-violation-be-blocked-by-content-security-policy">should sink type
                mismatch violation be blocked by content security policy?（内容安全策略是否应阻止注入点类型不匹配违规？）</a><span>, 在
                § 4.2.4</span>
        <li><a href="#should-trusted-type-policy-creation-be-blocked-by-content-security-policy">Should Trusted Type
                policy creation be blocked by content security policy?（内容安全策略是否应阻止受信任类型策略的创建？）</a><span>, 在
                § 4.2.5</span>
        <li><a href="#dom-htmlscriptelement-src">src</a><span>, 在 § 4.1.2</span>
        <li>
            stringificationbehavior（字符串化行为）
            <ul>
                <li><a href="#trustedhtml-stringification-behavior">TrustedHTML 的定义</a><span>, 在 § 2.2.1</span>
                <li><a href="#trustedscript-stringification-behavior">TrustedScript 的定义</a><span>, 在 § 2.2.2</span>
                <li><a href="#trustedscripturl-stringification-behavior">TrustedScriptURL 的定义</a><span>, 在
                        § 2.2.3</span>
            </ul>
        <li><a href="#dom-htmlscriptelement-text">text</a><span>, 在 § 4.1.2</span>
        <li><a href="#dom-htmlscriptelement-textcontent">textContent</a><span>, 在 § 4.1.2</span>
        <li>
            toJSON()
            <ul>
                <li><a href="#dom-trustedhtml-tojson">TrustedHTML 的方法</a><span>, 在 § 2.2.1</span>
                <li><a href="#dom-trustedscript-tojson">TrustedScript 的方法</a><span>, 在 § 2.2.2</span>
                <li><a href="#dom-trustedscripturl-tojson">TrustedScriptURL 的方法</a><span>, 在 § 2.2.3</span>
            </ul>
        <li><a href="#trustedhtml">TrustedHTML</a><span>, 在 § 2.2.1</span>
        <li><a href="#trustedscript">TrustedScript</a><span>, 在 § 2.2.2</span>
        <li><a href="#trustedscripturl">TrustedScriptURL</a><span>, 在 § 2.2.3</span>
        <li><a href="#trusted-type">Trusted Type（受信任类型）</a><span>, 在 § 2.2</span>
        <li><a href="#typedefdef-trustedtype">TrustedType</a><span>, 在 § 4</span>
        <li><a href="#trustedtypepolicy">TrustedTypePolicy</a><span>, 在 § 2.3.2</span>
        <li><a href="#window-trusted-type-policy-factory">trusted type policy factory（受信任类型策略工厂）</a><span>, 在
                § 4.1</span>
        <li><a href="#trustedtypepolicyfactory">TrustedTypePolicyFactory</a><span>, 在 § 2.3.1</span>
        <li><a href="#dictdef-trustedtypepolicyoptions">TrustedTypePolicyOptions</a><span>, 在 § 2.3.3</span>
        <li><a href="#dom-windoworworkerglobalscope-trustedtypes">trustedTypes</a><span>, 在 § 4.1.1</span>
        <li><a href="#trusted-types-directive">trusted-types-directive</a><span>, 在 § 4.2.2</span>
        <li><a href="#trusted-types-sink-group">trusted-types-sink-group</a><span>, 在 § 4.2.1</span>
        <li><a href="#trusted-types-sink-group-keyword">trusted-types-sink-group-keyword</a><span>, 在 § 4.2.1</span>
        <li><a href="#tt-expression">tt-expression</a><span>, 在 § 4.2.2</span>
        <li><a href="#tt-keyword">tt-keyword</a><span>, 在 § 4.2.2</span>
        <li><a href="#tt-policy-name">tt-policy-name</a><span>, 在 § 4.2.2</span>
        <li><a href="#tt-wildcard">tt-wildcard</a><span>, 在 § 4.2.2</span>
    </ul>
    <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用文献定义的词汇</span><a
            class="self-link" href="#index-defined-elsewhere"></a></h3>
    <ul class="index">
        <li>
            <a data-link-type="biblio">[CSP3]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="81df7582">content security policy object（内容安全策略对象）</span>
                <li><span class="dfn-paneled" id="677e14a7">Content-Security-Policy-Report-Only</span>
                <li><span class="dfn-paneled" id="bcc55ba1">CSP list（CSP 列表）</span>
                <li><span class="dfn-paneled" id="1e2de89e">directive set（指令集）</span>
                <li><span class="dfn-paneled" id="c1330a3d">directives（指令）</span>
                <li><span class="dfn-paneled" id="059ad73c">disposition（执行状态）</span>
                <li><span class="dfn-paneled" id="eab52de3">inline check（内联校验）</span>
                <li><span class="dfn-paneled" id="5655d157">name（名称）</span>
                <li><span class="dfn-paneled" id="48aa314d">pre-navigation check（预导航校验）</span>
                <li><span class="dfn-paneled" id="a0fd88f4">resource（资源）</span>
                <li><span class="dfn-paneled" id="7a2a4840">sample（示例）</span>
                <li><span class="dfn-paneled" id="a9685319">script-src</span>
                <li><span class="dfn-paneled" id="f74727b0">value（值）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[DOM]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="85394472">Document（文档）</span>
                <li><span class="dfn-paneled" id="296f3551">Element（元素）</span>
                <li><span class="dfn-paneled" id="631f76db">child text content（子文本内容）</span>
                <li><span class="dfn-paneled" id="f20f4175">element interface（元素接口）</span>
                <li><span class="dfn-paneled" id="e02495ec">element namespace（元素命名空间）</span>
                <li><span class="dfn-paneled" id="e1f8b538">get text content（获取文本内容）</span>
                <li><span class="dfn-paneled" id="5216e1a0">node document（节点文档）</span>
                <li><span class="dfn-paneled" id="9e1b2fe2">set text content（设置文本内容）</span>
                <li><span class="dfn-paneled" id="5dbae2b0">string replace all（字符串全替换）</span>
                <li><span class="dfn-paneled" id="421cd2a4">textContent</span>
            </ul>
        <li>
            <a data-link-type="biblio">[Fetch]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="857d5516">client</span>
                <li><span class="dfn-paneled" id="63340982">local scheme（本地协议）</span>
                <li><span class="dfn-paneled" id="55213b5b">request（请求）</span>
                <li><span class="dfn-paneled" id="dc1cd39b">URL</span>
            </ul>
        <li>
            <a data-link-type="biblio">[FileAPI]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="119fb4df">Blob</span>
            </ul>
        <li>
            <a data-link-type="biblio">[HTML]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="402ed79d">CEReactions</span>
                <li><span class="dfn-paneled" id="10e25f42">HTMLIFrameElement</span>
                <li><span class="dfn-paneled" id="ec4838d8">HTMLScriptElement</span>
                <li><span class="dfn-paneled" id="5d7209e9">Window</span>
                <li><span class="dfn-paneled" id="5f6d392d">WindowOrWorkerGlobalScope</span>
                <li><span class="dfn-paneled" id="bfc1c271">Worker</span>
                <li><span class="dfn-paneled" id="8d48cf32">event handler content attribute（事件处理器内容属性）</span>
                <li><span class="dfn-paneled" id="40ed6102">get the text steps（获取文本步骤）</span>
                <li><span class="dfn-paneled" id="8a30477b">global object <small>(for environment settings
                            object)</small></span>
                <li><span class="dfn-paneled" id="168f1b6e">global object <small>(for realm)</small></span>
                <li><span class="dfn-paneled" id="d4127354">innerHTML <small>(for Element)</small></span>
                <li><span class="dfn-paneled" id="ef8bdfad">innerHTML <small>(for ShadowRoot)</small></span>
                <li><span class="dfn-paneled" id="a264b960">innerText</span>
                <li><span class="dfn-paneled" id="364094ea">outerHTML</span>
                <li><span class="dfn-paneled" id="b815ad04">parseFromString(string, type)</span>
                <li><span class="dfn-paneled" id="215d47ca">prepare the script element（准备脚本元素）</span>
                <li><span class="dfn-paneled" id="b75a7d23">realm（域）</span>
                <li><span class="dfn-paneled" id="e7762445">reentrant invocation of the parser（解析器重入）</span>
                <li><span class="dfn-paneled" id="e99bd18e">relevant global object（相关全局对象）</span>
                <li><span class="dfn-paneled" id="f7433a4f">set the inner text steps（设置innerText步骤）</span>
                <li><span class="dfn-paneled" id="ff5484a3">src</span>
                <li><span class="dfn-paneled" id="c62c4764">The text insertion mode（文本插入模式）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[INFRA]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="a3b18719">append（追加）</span>
                <li><span class="dfn-paneled" id="6f2dfa22">ASCII lowercase（ASCII 小写）</span>
                <li><span class="dfn-paneled" id="77b4c09a">assert（断言）</span>
                <li><span class="dfn-paneled" id="4a3bf5fb">concatenate（连接）</span>
                <li><span class="dfn-paneled" id="f052b1ea">HTML namespace（HTML 命名空间）</span>
                <li><span class="dfn-paneled" id="c885c5c1">list contain（列表包含）</span>
                <li><span class="dfn-paneled" id="ead425bd">MathML namespace（MathML 命名空间）</span>
                <li><span class="dfn-paneled" id="692595fe">ordered set（有序集合）</span>
                <li><span class="dfn-paneled" id="85a289c7">SVG namespace（SVG 命名空间）</span>
                <li><span class="dfn-paneled" id="e19f3699">XLink namespace</span>
            </ul>
        <li>
            <a data-link-type="biblio">[SVG2]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="942f9528">SVGScriptElement</span>
            </ul>
        <li>
            <a data-link-type="biblio">[URL]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="3a711be7">scheme（协议）</span>
                <li><span class="dfn-paneled" id="ca3ca4ae">URL parser（URL解析器）</span>
                <li><span class="dfn-paneled" id="5442ea33">URL serializer（URL序列化器）</span>
            </ul>
        <li>
            <a data-link-type="biblio">[WEBIDL]</a> 定义了下列术语：
            <ul>
                <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
                <li><span class="dfn-paneled" id="889e932f">Exposed</span>
                <li><span class="dfn-paneled" id="2c4af168">LegacyNullToEmptyString</span>
                <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
                <li><span class="dfn-paneled" id="6c6b1005">any</span>
                <li><span class="dfn-paneled" id="5372cca8">boolean</span>
                <li><span class="dfn-paneled" id="10ce5f6f">invoke</span>
                <li><span class="dfn-paneled" id="4013a022">this</span>
            </ul>
    </ul>
    <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
            href="#references"></a></h2>
    <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性引用</span><a class="self-link"
            href="#normative"></a></h3>
    <dl>
        <dt id="biblio-csp3">[CSP3]
        <dd>Mike West; Antonio Sartori. <a href="https://www.w3.org/TR/CSP3/"><cite>Content Security Policy Level
                    3</cite></a>. 2025年2月11日. WD. URL: <a
                href="https://www.w3.org/TR/CSP3/">https://www.w3.org/TR/CSP3/</a>
        <dt id="biblio-dom">[DOM]
        <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. 活标准. URL: <a
                href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
        <dt id="biblio-fetch">[Fetch]
        <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. 活标准. URL: <a
                href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
        <dt id="biblio-fileapi">[FileAPI]
        <dd>Marijn Kruisselbrink. <a href="https://www.w3.org/TR/FileAPI/"><cite>File API</cite></a>. 2025年12月3日. WD.
            URL: <a href="https://www.w3.org/TR/FileAPI/">https://www.w3.org/TR/FileAPI/</a>
        <dt id="biblio-html">[HTML]
        <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>.
            活标准. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
        <dt id="biblio-infra">[INFRA]
        <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
                    Standard</cite></a>. 活标准. URL: <a
                href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
        <dt id="biblio-rfc2119">[RFC2119]
        <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
                    Indicate Requirement Levels</cite></a>. 1997年3月. 最佳当前实践. URL: <a
                href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
        <dt id="biblio-svg2">[SVG2]
        <dd>Amelia Bellamy-Royds; et al. <a href="https://www.w3.org/TR/SVG2/"><cite>Scalable Vector Graphics (SVG)
                    2</cite></a>. 2018年10月4日. CR. URL: <a
                href="https://www.w3.org/TR/SVG2/">https://www.w3.org/TR/SVG2/</a>
        <dt id="biblio-url">[URL]
        <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. 活标准. URL: <a
                href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
        <dt id="biblio-webidl">[WEBIDL]
        <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. 活标准.
            URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dl>
    <h3 class="no-num no-ref heading settled" id="informative"><span class="content">资料性引用</span><a class="self-link"
            href="#informative"></a></h3>
    <dl>
        <dt id="biblio-ecmascript">[ECMASCRIPT]
        <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a
                href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        <dt id="biblio-html-design-principles">[HTML-DESIGN-PRINCIPLES]
        <dd>Anne van Kesteren; Maciej Stachowiak. <a href="https://www.w3.org/TR/html-design-principles/"><cite>HTML
                    Design Principles</cite></a>. 2007年11月26日. WD. URL: <a
                href="https://www.w3.org/TR/html-design-principles/">https://www.w3.org/TR/html-design-principles/</a>
        <dt id="biblio-html5">[HTML5]
        <dd>Ian Hickson; et al. <a href="https://www.w3.org/TR/html5/"><cite>HTML5</cite></a>. 2018年3月27日. REC. URL:
            <a href="https://www.w3.org/TR/html5/">https://www.w3.org/TR/html5/</a>
    </dl>
    <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">问题索引</span><a class="self-link"
            href="#issues-index"></a></h2>
    <div style="counter-reset:issue">
        <div class="issue"> 下文使用的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/#event-handler-content-attributes">事件处理器内容属性</a>
            概念语义不明确。本规范需要更好的机制来识别事件处理器属性。详见 <a
                href="https://github.com/w3c/trusted-types/issues/520">https://github.com/w3c/trusted-types/issues/520</a>。
            <a class="issue-return" href="#issue-15b3006c" title="跳转到对应段落">↵</a>
        </div>
        <div class="issue"> 上面算法未考虑脚本元素内容在解析过程中被更改的情形。实现者须确保防护此情况。见 <a
                href="https://github.com/w3c/trusted-types/issues/507">https://github.com/w3c/trusted-types/issues/507</a>。
            <a class="issue-return" href="#issue-d6e90040" title="跳转到对应段落">↵</a>
        </div>
        <div class="issue"> 没有 SVG 脚本元素处理的正式定义，但各实现必须对 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement">SVGScriptElement</a></code>
            处理做类似变更。
            <a class="issue-return" href="#issue-c38e8ff0" title="跳转到对应段落">↵</a>
        </div>
        <div class="issue"> 没有 SVG 脚本元素处理的正式定义，但各实现必须对 <code
                class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement">SVGScriptElement</a></code>
            做类似变更。
            <a class="issue-return" href="#issue-c38e8ff0①" title="跳转到对应段落">↵</a>
        </div>
        <div class="issue"> 请参考外部安全策略设计文档。<a class="issue-return" href="#issue-2eb927d2" title="跳转到对应段落">↵</a></div>
    </div>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedhtml-tojson">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedHTML/toJSON"
                    title="The toJSON() method of the TrustedHTML interface returns a JSON representation of the stored data.">TrustedHTML/toJSON</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>90+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>90+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="trustedhtml-stringification-behavior">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedHTML/toString"
                    title="The toString() method of the TrustedHTML interface returns a string which may safely inserted into an injection sink.">TrustedHTML/toString</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="trusted-html">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedHTML"
                    title="The TrustedHTML interface of the Trusted Types API represents a string that a developer can insert into an injection sink that will render it as HTML. These objects are created via TrustedTypePolicy.createHTML() and therefore have no constructor.">TrustedHTML</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedscript-tojson">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedScript/toJSON"
                    title="The toJSON() method of the TrustedScript interface returns a JSON representation of the stored data.">TrustedScript/toJSON</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>90+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>90+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="trustedscripturl-stringification-behavior">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedScript/toString"
                    title="The toString() method of the TrustedScript interface returns a string which may safely inserted into an injection sink.">TrustedScript/toString</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedScriptURL/toString"
                    title="The toString() method of the TrustedScriptURL interface returns a string which may safely inserted into an injection sink.">TrustedScriptURL/toString</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="trusted-script">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedScript"
                    title="The TrustedScript interface of the Trusted Types API represents a string with an uncompiled script body that a developer can insert into an injection sink that might execute the script. These objects are created via TrustedTypePolicy.createScript() and therefore have no constructor.">TrustedScript</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedscripturl-tojson">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedScriptURL/toJSON"
                    title="The toJSON() method of the TrustedScriptURL interface returns a JSON representation of the stored data.">TrustedScriptURL/toJSON</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>90+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>90+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="trused-script-url">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedScriptURL"
                    title="The TrustedScriptURL interface of the Trusted Types API represents a string that a developer can insert into an injection sink that will parse it as a URL of an external script. These objects are created via TrustedTypePolicy.createScriptURL() and therefore have no constructor.">TrustedScriptURL</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicy-createhtml">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicy/createHTML"
                    title="The createHTML() method of the TrustedTypePolicy interface creates a TrustedHTML object using a policy created by TrustedTypePolicyFactory.createPolicy().">TrustedTypePolicy/createHTML</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicy-createscript">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicy/createScript"
                    title="The createScript() method of the TrustedTypePolicy interface creates a TrustedScript object using a policy created by TrustedTypePolicyFactory.createPolicy().">TrustedTypePolicy/createScript</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicy-createscripturl">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicy/createScriptURL"
                    title="The createScriptURL() method of the TrustedTypePolicy interface creates a TrustedScriptURL object using a policy created by TrustedTypePolicyFactory.createPolicy().">TrustedTypePolicy/createScriptURL</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicy-name">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicy/name"
                    title="The name read-only property of the TrustedTypePolicy interface returns the name of the policy.">TrustedTypePolicy/name</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="trusted-type-policy">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicy"
                    title="The TrustedTypePolicy interface of the Trusted Types API defines a group of functions which create TrustedType objects.">TrustedTypePolicy</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicyfactory-createpolicy">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicyFactory/createPolicy"
                    title="The createPolicy() method of the TrustedTypePolicyFactory interface creates a TrustedTypePolicy object that implements the rules passed as policyOptions.">TrustedTypePolicyFactory/createPolicy</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicyfactory-defaultpolicy">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicyFactory/defaultPolicy"
                    title="The defaultPolicy read-only property of the TrustedTypePolicyFactory interface returns the default TrustedTypePolicy or null if this is empty.">TrustedTypePolicyFactory/defaultPolicy</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicyfactory-emptyhtml">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicyFactory/emptyHTML"
                    title="The emptyHTML read-only property of the TrustedTypePolicyFactory interface returns a TrustedHTML object containing an empty string.">TrustedTypePolicyFactory/emptyHTML</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicyfactory-emptyscript">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicyFactory/emptyScript"
                    title="The emptyScript read-only property of the TrustedTypePolicyFactory interface returns a TrustedScript object containing an empty string.">TrustedTypePolicyFactory/emptyScript</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicyfactory-getattributetype">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicyFactory/getAttributeType"
                    title="The getAttributeType() method of the TrustedTypePolicyFactory interface allows web developers to check if a Trusted Type is required for an element, and if so which Trusted Type is used.">TrustedTypePolicyFactory/getAttributeType</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicyfactory-getpropertytype">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicyFactory/getPropertyType"
                    title="The getPropertyType() method of the TrustedTypePolicyFactory interface allows web developers to check if a Trusted Type is required for an element&apos;s property.">TrustedTypePolicyFactory/getPropertyType</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicyfactory-ishtml">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicyFactory/isHTML"
                    title="The isHTML() method of the TrustedTypePolicyFactory interface returns true if it is passed a valid TrustedHTML object.">TrustedTypePolicyFactory/isHTML</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicyfactory-isscript">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicyFactory/isScript"
                    title="The isScript() method of the TrustedTypePolicyFactory interface returns true if it is passed a valid TrustedScript object.">TrustedTypePolicyFactory/isScript</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="dom-trustedtypepolicyfactory-isscripturl">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicyFactory/isScriptURL"
                    title="The isScriptURL() method of the TrustedTypePolicyFactory interface returns true if it is passed a valid TrustedScriptURL object.">TrustedTypePolicyFactory/isScriptURL</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="trusted-type-policy-factory">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedTypePolicyFactory"
                    title="The TrustedTypePolicyFactory interface of the Trusted Types API creates policies and allows the verification of Trusted Type objects against created policies.">TrustedTypePolicyFactory</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="require-trusted-types-for-csp-directive">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/require-trusted-types-for"
                    title="The HTTP Content-Security-Policy (CSP) require-trusted-types-for Experimental directive instructs user agents to control the data passed to DOM XSS sink functions, like Element.innerHTML setter.">Headers/Content-Security-Policy/require-trusted-types-for</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
            </div>
        </div>
    </details>
    <details class="mdn-anno unpositioned" data-anno-for="trusted-types-csp-directive">
        <summary><b class="less-than-two-engines-flag"
                title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
        <div class="feature">
            <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/trusted-types"
                    title="The HTTP Content-Security-Policy (CSP) trusted-types Experimental directive instructs user agents to restrict the creation of Trusted Types policies - functions that build non-spoofable, typed values intended to be passed to DOM XSS sinks in place of strings.">Headers/Content-Security-Policy/trusted-types</a>
            </p>
            <p class="less-than-two-engines-text">In only one current engine.</p>
            <div class="support">
                <span class="firefox no"><span>Firefox</span><span>None</span></span><span
                    class="safari no"><span>Safari</span><span>None</span></span><span
                    class="chrome yes"><span>Chrome</span><span>83+</span></span>
                <hr>
                <span class="opera no"><span>Opera</span><span>?</span></span><span
                    class="edge_blink yes"><span>Edge</span><span>83+</span></span>
                <hr>
                <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
                    class="ie no"><span>IE</span><span>None</span></span>
                <hr>
                <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
                    class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span
                    class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span
                    class="webview_android no"><span>Android WebView</span><span>?</span></span><span
                    class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span
                    class="opera_android no"><span>Opera Mobile</span><span>None</span></span>
            </div>
        </div>
    </details>
    <script>/* Boilerplate: script-dom-helper */
        "use strict";
        function query(sel) { return document.querySelector(sel); }

        function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

        function iter(obj) {
            if (!obj) return [];
            var it = obj[Symbol.iterator];
            if (it) return it;
            return Object.entries(obj);
        }

        function mk(tagname, attrs, ...children) {
            const el = document.createElement(tagname);
            for (const [k, v] of iter(attrs)) {
                if (k.slice(0, 3) == "_on") {
                    const eventName = k.slice(3);
                    el.addEventListener(eventName, v);
                } else if (k[0] == "_") {
                    // property, not attribute
                    el[k.slice(1)] = v;
                } else {
                    if (v === false || v == null) {
                        continue;
                    } else if (v === true) {
                        el.setAttribute(k, "");
                        continue;
                    } else {
                        el.setAttribute(k, v);
                    }
                }
            }
            append(el, children);
            return el;
        }

        /* Create shortcuts for every known HTML element */
        [
            "a",
            "abbr",
            "acronym",
            "address",
            "applet",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "base",
            "basefont",
            "bdo",
            "big",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "datalist",
            "dd",
            "del",
            "details",
            "dfn",
            "dialog",
            "div",
            "dl",
            "dt",
            "em",
            "embed",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "frame",
            "frameset",
            "head",
            "header",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "hr",
            "html",
            "i",
            "iframe",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "link",
            "main",
            "map",
            "mark",
            "meta",
            "meter",
            "nav",
            "nobr",
            "noscript",
            "object",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "param",
            "pre",
            "progress",
            "q",
            "s",
            "samp",
            "script",
            "section",
            "select",
            "small",
            "source",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "title",
            "tr",
            "u",
            "ul",
            "var",
            "video",
            "wbr",
            "xmp",
        ].forEach(tagname => {
            mk[tagname] = (...args) => mk(tagname, ...args);
        });

        function* nodesFromChildList(children) {
            for (const child of children.flat(Infinity)) {
                if (child instanceof Node) {
                    yield child;
                } else {
                    yield new Text(child);
                }
            }
        }
        function append(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                if (el instanceof Node) el.appendChild(child);
                else el.push(child);
            }
            return el;
        }

        function insertAfter(el, ...children) {
            for (const child of nodesFromChildList(children)) {
                el.parentNode.insertBefore(child, el.nextSibling);
            }
            return el;
        }

        function clearContents(el) {
            el.innerHTML = "";
            return el;
        }

        function parseHTML(markup) {
            if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
                const doc = document.implementation.createHTMLDocument("");
                doc.documentElement.innerHTML = markup;
                return doc;
            } else {
                const el = mk.template({});
                el.innerHTML = markup;
                return el.content;
            }
        }</script>
    <script>/* Boilerplate: script-dfn-panel */
        "use strict";
        {
            let dfnPanelData = {
                "059ad73c": { "dfnID": "059ad73c", "dfnText": "disposition", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-policy-disposition" }], "title": "4.2.3. Does sink type require trusted types?" }, { "refs": [{ "id": "ref-for-policy-disposition\u2460" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }, { "refs": [{ "id": "ref-for-policy-disposition\u2461" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "https://www.w3.org/TR/CSP3/#policy-disposition" },
                "10ce5f6f": { "dfnID": "10ce5f6f", "dfnText": "invoke", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-invoke-a-callback-function" }], "title": "3.3. Get Trusted Type policy value" }], "url": "https://webidl.spec.whatwg.org/#invoke-a-callback-function" },
                "10e25f42": { "dfnID": "10e25f42", "dfnText": "HTMLIFrameElement", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-htmliframeelement" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-htmliframeelement\u2460" }], "title": "3.8. Get Trusted Type data for attribute" }], "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#htmliframeelement" },
                "119fb4df": { "dfnID": "119fb4df", "dfnText": "Blob", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-Blob" }, { "id": "ref-for-dfn-Blob\u2460" }], "title": "5.1. Cross-document vectors" }], "url": "https://www.w3.org/TR/FileAPI/#dfn-Blob" },
                "168f1b6e": { "dfnID": "168f1b6e", "dfnText": "global object (for realm)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-realm-global" }], "title": "3.1. Create a Trusted Type Policy" }, { "refs": [{ "id": "ref-for-concept-realm-global\u2460" }], "title": "3.4. Get Trusted Type compliant string" }, { "refs": [{ "id": "ref-for-concept-realm-global\u2461" }], "title": "3.5. Process value with a default policy" }, { "refs": [{ "id": "ref-for-concept-realm-global\u2462" }], "title": "4.2.3. Does sink type require trusted types?" }, { "refs": [{ "id": "ref-for-concept-realm-global\u2463" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }, { "refs": [{ "id": "ref-for-concept-realm-global\u2464" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" },
                "1e2de89e": { "dfnID": "1e2de89e", "dfnText": "directive set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-policy-directive-set" }], "title": "4.2.3. Does sink type require trusted types?" }, { "refs": [{ "id": "ref-for-policy-directive-set\u2460" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }, { "refs": [{ "id": "ref-for-policy-directive-set\u2461" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "https://www.w3.org/TR/CSP3/#policy-directive-set" },
                "215d47ca": { "dfnID": "215d47ca", "dfnText": "prepare the script element", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-prepare-the-script-element" }], "title": "4.1.2.7. Slot value verification" }], "url": "https://html.spec.whatwg.org/#prepare-the-script-element" },
                "296f3551": { "dfnID": "296f3551", "dfnText": "Element", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-element" }, { "id": "ref-for-element\u2460" }], "title": "2.1.1. DOM XSS injection sinks" }, { "refs": [{ "id": "ref-for-element\u2461" }, { "id": "ref-for-element\u2462" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-element\u2463" }], "title": "3.7. Get Trusted Type compliant attribute value" }, { "refs": [{ "id": "ref-for-element\u2464" }], "title": "3.8. Get Trusted Type data for attribute" }], "url": "https://dom.spec.whatwg.org/#element" },
                "2c4af168": { "dfnID": "2c4af168", "dfnText": "LegacyNullToEmptyString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-LegacyNullToEmptyString" }], "title": "4.1.2. Enforcement for scripts" }], "url": "https://webidl.spec.whatwg.org/#LegacyNullToEmptyString" },
                "364094ea": { "dfnID": "364094ea", "dfnText": "outerHTML", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-element-outerhtml" }], "title": "2.1.1. DOM XSS injection sinks" }], "url": "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-outerhtml" },
                "3a711be7": { "dfnID": "3a711be7", "dfnText": "scheme", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-scheme" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "https://url.spec.whatwg.org/#concept-url-scheme" },
                "4013a022": { "dfnID": "4013a022", "dfnText": "this", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-this" }, { "id": "ref-for-this\u2460" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-this\u2461" }, { "id": "ref-for-this\u2462" }, { "id": "ref-for-this\u2463" }], "title": "2.3.2. TrustedTypePolicy" }, { "refs": [{ "id": "ref-for-this\u2464" }], "title": "4.1.1. Extensions to the WindowOrWorkerGlobalScope interface" }, { "refs": [{ "id": "ref-for-this\u2465" }, { "id": "ref-for-this\u2466" }, { "id": "ref-for-this\u2467" }, { "id": "ref-for-this\u2468" }], "title": "4.1.2.2. The innerText IDL attribute" }, { "refs": [{ "id": "ref-for-this\u2460\u24ea" }, { "id": "ref-for-this\u2460\u2460" }, { "id": "ref-for-this\u2460\u2461" }, { "id": "ref-for-this\u2460\u2462" }], "title": "4.1.2.3. The textContent IDL attribute" }, { "refs": [{ "id": "ref-for-this\u2460\u2463" }, { "id": "ref-for-this\u2460\u2464" }, { "id": "ref-for-this\u2460\u2465" }], "title": "4.1.2.4. The text IDL attribute" }, { "refs": [{ "id": "ref-for-this\u2460\u2466" }, { "id": "ref-for-this\u2460\u2467" }, { "id": "ref-for-this\u2460\u2468" }, { "id": "ref-for-this\u2461\u24ea" }], "title": "4.1.2.5. The src IDL attribute" }], "url": "https://webidl.spec.whatwg.org/#this" },
                "402ed79d": { "dfnID": "402ed79d", "dfnText": "CEReactions", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cereactions" }, { "id": "ref-for-cereactions\u2460" }, { "id": "ref-for-cereactions\u2461" }, { "id": "ref-for-cereactions\u2462" }], "title": "4.1.2. Enforcement for scripts" }], "url": "https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" },
                "40ed6102": { "dfnID": "40ed6102", "dfnText": "get the text steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-get-the-text-steps" }], "title": "4.1.2.2. The innerText IDL attribute" }], "url": "https://html.spec.whatwg.org/#get-the-text-steps" },
                "421cd2a4": { "dfnID": "421cd2a4", "dfnText": "textContent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-node-textcontent" }], "title": "4.1.2. Enforcement for scripts" }], "url": "https://dom.spec.whatwg.org/#dom-node-textcontent" },
                "48aa314d": { "dfnID": "48aa314d", "dfnText": "pre-navigation check", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-directive-pre-navigation-check" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "https://www.w3.org/TR/CSP3/#directive-pre-navigation-check" },
                "4a3bf5fb": { "dfnID": "4a3bf5fb", "dfnText": "concatenate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string-concatenate" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }], "url": "https://infra.spec.whatwg.org/#string-concatenate" },
                "5216e1a0": { "dfnID": "5216e1a0", "dfnText": "node document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-node-document" }], "title": "3.7. Get Trusted Type compliant attribute value" }, { "refs": [{ "id": "ref-for-concept-node-document\u2460" }], "title": "4.1.2.5. The src IDL attribute" }], "url": "https://dom.spec.whatwg.org/#concept-node-document" },
                "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }, { "id": "ref-for-idl-boolean\u2460" }, { "id": "ref-for-idl-boolean\u2461" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "5442ea33": { "dfnID": "5442ea33", "dfnText": "URL serializer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-serializer" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "https://url.spec.whatwg.org/#concept-url-serializer" },
                "55213b5b": { "dfnID": "55213b5b", "dfnText": "request", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "https://fetch.spec.whatwg.org/#concept-request" },
                "5655d157": { "dfnID": "5655d157", "dfnText": "name", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-directive-name" }], "title": "4.2.1. require-trusted-types-for directive" }, { "refs": [{ "id": "ref-for-directive-name\u2460" }], "title": "4.2.2. trusted-types directive" }, { "refs": [{ "id": "ref-for-directive-name\u2461" }], "title": "4.2.3. Does sink type require trusted types?" }, { "refs": [{ "id": "ref-for-directive-name\u2462" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }], "url": "https://www.w3.org/TR/CSP3/#directive-name" },
                "5d7209e9": { "dfnID": "5d7209e9", "dfnText": "Window", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-window" }], "title": "4.1. Integration with HTML" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "5dbae2b0": { "dfnID": "5dbae2b0", "dfnText": "string replace all", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string-replace-all" }], "title": "4.1.2.4. The text IDL attribute" }], "url": "https://dom.spec.whatwg.org/#string-replace-all" },
                "5f6d392d": { "dfnID": "5f6d392d", "dfnText": "WindowOrWorkerGlobalScope", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-windoworworkerglobalscope" }, { "id": "ref-for-windoworworkerglobalscope\u2460" }], "title": "4.1.1. Extensions to the WindowOrWorkerGlobalScope interface" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" },
                "631f76db": { "dfnID": "631f76db", "dfnText": "child text content", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-child-text-content" }, { "id": "ref-for-concept-child-text-content\u2460" }], "title": "3.6. Prepare the script text" }, { "refs": [{ "id": "ref-for-concept-child-text-content\u2461" }], "title": "4.1.2. Enforcement for scripts" }, { "refs": [{ "id": "ref-for-concept-child-text-content\u2462" }], "title": "4.1.2.1. Slots with trusted values" }, { "refs": [{ "id": "ref-for-concept-child-text-content\u2463" }], "title": "4.1.2.6. Setting slot values from parser" }, { "refs": [{ "id": "script-processing-model:child-text-content" }], "title": "4.1.2.7. Slot value verification" }], "url": "https://dom.spec.whatwg.org/#concept-child-text-content" },
                "63340982": { "dfnID": "63340982", "dfnText": "local scheme", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-local-scheme" }], "title": "5.1. Cross-document vectors" }], "url": "https://fetch.spec.whatwg.org/#local-scheme" },
                "677e14a7": { "dfnID": "677e14a7", "dfnText": "Content-Security-Policy-Report-Only", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-header-content-security-policy-report-only" }], "title": "1.3. Use cases" }, { "refs": [{ "id": "ref-for-header-content-security-policy-report-only\u2460" }], "title": "2.4.1. Content Security Policy" }], "url": "https://www.w3.org/TR/CSP3/#header-content-security-policy-report-only" },
                "692595fe": { "dfnID": "692595fe", "dfnText": "ordered set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "6c6b1005": { "dfnID": "6c6b1005", "dfnText": "any", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-any" }, { "id": "ref-for-idl-any\u2460" }, { "id": "ref-for-idl-any\u2461" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-idl-any\u2462" }, { "id": "ref-for-idl-any\u2463" }, { "id": "ref-for-idl-any\u2464" }], "title": "2.3.2. TrustedTypePolicy" }, { "refs": [{ "id": "ref-for-idl-any\u2465" }, { "id": "ref-for-idl-any\u2466" }, { "id": "ref-for-idl-any\u2467" }], "title": "2.3.3. TrustedTypePolicyOptions" }], "url": "https://webidl.spec.whatwg.org/#idl-any" },
                "6f2dfa22": { "dfnID": "6f2dfa22", "dfnText": "ASCII lowercase", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-lowercase" }, { "id": "ref-for-ascii-lowercase\u2460" }, { "id": "ref-for-ascii-lowercase\u2461" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "https://infra.spec.whatwg.org/#ascii-lowercase" },
                "77b4c09a": { "dfnID": "77b4c09a", "dfnText": "assert", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-assert" }], "title": "3.7. Get Trusted Type compliant attribute value" }], "url": "https://infra.spec.whatwg.org/#assert" },
                "7a2a4840": { "dfnID": "7a2a4840", "dfnText": "sample", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-violation-sample" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }, { "refs": [{ "id": "ref-for-violation-sample\u2460" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "https://www.w3.org/TR/CSP3/#violation-sample" },
                "81df7582": { "dfnID": "81df7582", "dfnText": "content security policy object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-content-security-policy-object" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "https://www.w3.org/TR/CSP3/#content-security-policy-object" },
                "85394472": { "dfnID": "85394472", "dfnText": "Document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-document" }], "title": "2.1.1. DOM XSS injection sinks" }, { "refs": [{ "id": "ref-for-document\u2460" }], "title": "3.6. Prepare the script text" }], "url": "https://dom.spec.whatwg.org/#document" },
                "857d5516": { "dfnID": "857d5516", "dfnText": "client", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-client" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "https://fetch.spec.whatwg.org/#concept-request-client" },
                "85a289c7": { "dfnID": "85a289c7", "dfnText": "SVG namespace", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-svg-namespace" }], "title": "3.8. Get Trusted Type data for attribute" }], "url": "https://infra.spec.whatwg.org/#svg-namespace" },
                "8855a9aa": { "dfnID": "8855a9aa", "dfnText": "DOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }], "title": "2.2.1. TrustedHTML" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460" }], "title": "2.2.2. TrustedScript" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2461" }, { "id": "ref-for-idl-DOMString\u2462" }, { "id": "ref-for-idl-DOMString\u2463" }, { "id": "ref-for-idl-DOMString\u2464" }, { "id": "ref-for-idl-DOMString\u2465" }, { "id": "ref-for-idl-DOMString\u2466" }, { "id": "ref-for-idl-DOMString\u2467" }, { "id": "ref-for-idl-DOMString\u2468" }, { "id": "ref-for-idl-DOMString\u2460\u24ea" }, { "id": "ref-for-idl-DOMString\u2460\u2460" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460\u2461" }, { "id": "ref-for-idl-DOMString\u2460\u2462" }, { "id": "ref-for-idl-DOMString\u2460\u2463" }, { "id": "ref-for-idl-DOMString\u2460\u2464" }], "title": "2.3.2. TrustedTypePolicy" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460\u2465" }, { "id": "ref-for-idl-DOMString\u2460\u2466" }, { "id": "ref-for-idl-DOMString\u2460\u2467" }, { "id": "ref-for-idl-DOMString\u2460\u2468" }, { "id": "ref-for-idl-DOMString\u2461\u24ea" }], "title": "2.3.3. TrustedTypePolicyOptions" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2461\u2460" }, { "id": "ref-for-idl-DOMString\u2461\u2461" }, { "id": "ref-for-idl-DOMString\u2461\u2462" }], "title": "4.1.2. Enforcement for scripts" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "2.2.1. TrustedHTML" }, { "refs": [{ "id": "ref-for-Exposed\u2460" }], "title": "2.2.2. TrustedScript" }, { "refs": [{ "id": "ref-for-Exposed\u2461" }], "title": "2.2.3. TrustedScriptURL" }, { "refs": [{ "id": "ref-for-Exposed\u2462" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-Exposed\u2463" }], "title": "2.3.2. TrustedTypePolicy" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "8a30477b": { "dfnID": "8a30477b", "dfnText": "global object (for environment settings object)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-global" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" },
                "8d48cf32": { "dfnID": "8d48cf32", "dfnText": "event handler content attribute", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handler-content-attributes" }, { "id": "ref-for-event-handler-content-attributes\u2460" }], "title": "3.8. Get Trusted Type data for attribute" }], "url": "https://html.spec.whatwg.org/#event-handler-content-attributes" },
                "942f9528": { "dfnID": "942f9528", "dfnText": "SVGScriptElement", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-InterfaceSVGScriptElement" }], "title": "3.6. Prepare the script text" }, { "refs": [{ "id": "ref-for-InterfaceSVGScriptElement\u2460" }, { "id": "ref-for-InterfaceSVGScriptElement\u2461" }], "title": "3.8. Get Trusted Type data for attribute" }, { "refs": [{ "id": "ref-for-InterfaceSVGScriptElement\u2462" }], "title": "4.1.2.1. Slots with trusted values" }, { "refs": [{ "id": "ref-for-InterfaceSVGScriptElement\u2463" }], "title": "4.1.2.3. The textContent IDL attribute" }, { "refs": [{ "id": "ref-for-InterfaceSVGScriptElement\u2464" }], "title": "4.1.2.6. Setting slot values from parser" }, { "refs": [{ "id": "ref-for-InterfaceSVGScriptElement\u2465" }], "title": "4.1.2.7. Slot value verification" }], "url": "https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement" },
                "9e1b2fe2": { "dfnID": "9e1b2fe2", "dfnText": "set text content", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-set-text-content" }], "title": "4.1.2.3. The textContent IDL attribute" }], "url": "https://dom.spec.whatwg.org/#set-text-content" },
                "a0fd88f4": { "dfnID": "a0fd88f4", "dfnText": "resource", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-violation-resource" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }, { "refs": [{ "id": "ref-for-violation-resource\u2460" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "https://www.w3.org/TR/CSP3/#violation-resource" },
                "a264b960": { "dfnID": "a264b960", "dfnText": "innerText", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-innertext" }], "title": "4.1.2. Enforcement for scripts" }], "url": "https://html.spec.whatwg.org/multipage/dom.html#dom-innertext" },
                "a3b18719": { "dfnID": "a3b18719", "dfnText": "append", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-set-append" }], "title": "3.1. Create a Trusted Type Policy" }, { "refs": [{ "id": "ref-for-set-append\u2460" }], "title": "3.3. Get Trusted Type policy value" }], "url": "https://infra.spec.whatwg.org/#set-append" },
                "a9685319": { "dfnID": "a9685319", "dfnText": "script-src", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-script-src" }], "title": "1.2. Non-goals" }], "url": "https://www.w3.org/TR/CSP3/#script-src" },
                "b0d7f3c3": { "dfnID": "b0d7f3c3", "dfnText": "USVString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-USVString" }], "title": "2.2.3. TrustedScriptURL" }, { "refs": [{ "id": "ref-for-idl-USVString\u2460" }], "title": "2.3.3. TrustedTypePolicyOptions" }, { "refs": [{ "id": "ref-for-idl-USVString\u2461" }], "title": "4.1.2. Enforcement for scripts" }], "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "b75a7d23": { "dfnID": "b75a7d23", "dfnText": "realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-global-object-realm" }], "title": "2.3. Policies" }, { "refs": [{ "id": "ref-for-concept-global-object-realm\u2460" }], "title": "4.2.1. require-trusted-types-for directive" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm" },
                "b815ad04": { "dfnID": "b815ad04", "dfnText": "parseFromString(string, type)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-domparser-parsefromstring" }], "title": "2.1.1. DOM XSS injection sinks" }], "url": "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring" },
                "bcc55ba1": { "dfnID": "bcc55ba1", "dfnText": "CSP list", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-global-object-csp-list" }], "title": "4.2.3. Does sink type require trusted types?" }, { "refs": [{ "id": "ref-for-global-object-csp-list\u2460" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }, { "refs": [{ "id": "ref-for-global-object-csp-list\u2461" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "https://www.w3.org/TR/CSP3/#global-object-csp-list" },
                "bfc1c271": { "dfnID": "bfc1c271", "dfnText": "Worker", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-worker" }], "title": "4.1. Integration with HTML" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#worker" },
                "c1330a3d": { "dfnID": "c1330a3d", "dfnText": "directives", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-directives" }], "title": "4.2.1. require-trusted-types-for directive" }, { "refs": [{ "id": "ref-for-directives\u2460" }, { "id": "ref-for-directives\u2461" }], "title": "4.2.2. trusted-types directive" }, { "refs": [{ "id": "ref-for-directives\u2462" }, { "id": "ref-for-directives\u2463" }], "title": "4.2.3. Does sink type require trusted types?" }, { "refs": [{ "id": "ref-for-directives\u2464" }, { "id": "ref-for-directives\u2465" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }, { "refs": [{ "id": "ref-for-directives\u2466" }, { "id": "ref-for-directives\u2467" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "https://www.w3.org/TR/CSP3/#directives" },
                "c62c4764": { "dfnID": "c62c4764", "dfnText": "The text insertion mode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-parsing-main-incdata" }], "title": "4.1.2.6. Setting slot values from parser" }], "url": "https://html.spec.whatwg.org/#parsing-main-incdata" },
                "c885c5c1": { "dfnID": "c885c5c1", "dfnText": "list contain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "3.8. Get Trusted Type data for attribute" }], "url": "https://infra.spec.whatwg.org/#list-contain" },
                "ca3ca4ae": { "dfnID": "ca3ca4ae", "dfnText": "URL parser", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-parser" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "https://url.spec.whatwg.org/#concept-url-parser" },
                "callbackdef-createhtmlcallback": { "dfnID": "callbackdef-createhtmlcallback", "dfnText": "CreateHTMLCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-createhtmlcallback" }], "title": "2.3.3. TrustedTypePolicyOptions" }], "url": "#callbackdef-createhtmlcallback" },
                "callbackdef-createscriptcallback": { "dfnID": "callbackdef-createscriptcallback", "dfnText": "CreateScriptCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-createscriptcallback" }], "title": "2.3.3. TrustedTypePolicyOptions" }], "url": "#callbackdef-createscriptcallback" },
                "callbackdef-createscripturlcallback": { "dfnID": "callbackdef-createscripturlcallback", "dfnText": "CreateScriptURLCallback", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-callbackdef-createscripturlcallback" }], "title": "2.3.3. TrustedTypePolicyOptions" }], "url": "#callbackdef-createscripturlcallback" },
                "create-a-trusted-type": { "dfnID": "create-a-trusted-type", "dfnText": "create a trusted type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-a-trusted-type" }, { "id": "ref-for-create-a-trusted-type\u2460" }, { "id": "ref-for-create-a-trusted-type\u2461" }], "title": "2.3.2. TrustedTypePolicy" }], "url": "#create-a-trusted-type" },
                "create-a-trusted-type-policy": { "dfnID": "create-a-trusted-type-policy", "dfnText": "create a trusted type policy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-a-trusted-type-policy" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#create-a-trusted-type-policy" },
                "d4127354": { "dfnID": "d4127354", "dfnText": "innerHTML (for Element)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-element-innerhtml" }], "title": "2.1.1. DOM XSS injection sinks" }], "url": "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml" },
                "dc1cd39b": { "dfnID": "dc1cd39b", "dfnText": "URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-url" }, { "id": "ref-for-concept-request-url\u2460" }, { "id": "ref-for-concept-request-url\u2461" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "https://fetch.spec.whatwg.org/#concept-request-url" },
                "default-policy-explanation": { "dfnID": "default-policy-explanation", "dfnText": "Default policy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-default-policy-explanation" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "#default-policy-explanation" },
                "dictdef-trustedtypepolicyoptions": { "dfnID": "dictdef-trustedtypepolicyoptions", "dfnText": "TrustedTypePolicyOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-trustedtypepolicyoptions" }, { "id": "ref-for-dictdef-trustedtypepolicyoptions\u2460" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-dictdef-trustedtypepolicyoptions\u2461" }], "title": "2.3.2. TrustedTypePolicy" }, { "refs": [{ "id": "ref-for-dictdef-trustedtypepolicyoptions\u2462" }], "title": "2.3.3. TrustedTypePolicyOptions" }, { "refs": [{ "id": "ref-for-dictdef-trustedtypepolicyoptions\u2463" }], "title": "3.1. Create a Trusted Type Policy" }], "url": "#dictdef-trustedtypepolicyoptions" },
                "does-sink-type-require-trusted-types": { "dfnID": "does-sink-type-require-trusted-types", "dfnText": "does sink type require trusted types?", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-does-sink-type-require-trusted-types" }], "title": "3.4. Get Trusted Type compliant string" }], "url": "#does-sink-type-require-trusted-types" },
                "dom-createhtmlcallback-arguments": { "dfnID": "dom-createhtmlcallback-arguments", "dfnText": "arguments", "external": false, "refSections": [], "url": "#dom-createhtmlcallback-arguments" },
                "dom-createhtmlcallback-input": { "dfnID": "dom-createhtmlcallback-input", "dfnText": "input", "external": false, "refSections": [], "url": "#dom-createhtmlcallback-input" },
                "dom-createscriptcallback-arguments": { "dfnID": "dom-createscriptcallback-arguments", "dfnText": "arguments", "external": false, "refSections": [], "url": "#dom-createscriptcallback-arguments" },
                "dom-createscriptcallback-input": { "dfnID": "dom-createscriptcallback-input", "dfnText": "input", "external": false, "refSections": [], "url": "#dom-createscriptcallback-input" },
                "dom-createscripturlcallback-arguments": { "dfnID": "dom-createscripturlcallback-arguments", "dfnText": "arguments", "external": false, "refSections": [], "url": "#dom-createscripturlcallback-arguments" },
                "dom-createscripturlcallback-input": { "dfnID": "dom-createscripturlcallback-input", "dfnText": "input", "external": false, "refSections": [], "url": "#dom-createscripturlcallback-input" },
                "dom-htmlscriptelement-innertext": { "dfnID": "dom-htmlscriptelement-innertext", "dfnText": "innerText", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-htmlscriptelement-innertext" }, { "id": "ref-for-dom-htmlscriptelement-innertext\u2460" }, { "id": "ref-for-dom-htmlscriptelement-innertext\u2461" }], "title": "4.1.2.2. The innerText IDL attribute" }], "url": "#dom-htmlscriptelement-innertext" },
                "dom-htmlscriptelement-src": { "dfnID": "dom-htmlscriptelement-src", "dfnText": "src", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-htmlscriptelement-src" }], "title": "2.1.1. DOM XSS injection sinks" }, { "refs": [{ "id": "ref-for-dom-htmlscriptelement-src\u2460" }, { "id": "ref-for-dom-htmlscriptelement-src\u2461" }, { "id": "ref-for-dom-htmlscriptelement-src\u2462" }], "title": "4.1.2.5. The src IDL attribute" }], "url": "#dom-htmlscriptelement-src" },
                "dom-htmlscriptelement-text": { "dfnID": "dom-htmlscriptelement-text", "dfnText": "text", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-htmlscriptelement-text" }], "title": "2.1.1. DOM XSS injection sinks" }, { "refs": [{ "id": "ref-for-dom-htmlscriptelement-text\u2460" }, { "id": "ref-for-dom-htmlscriptelement-text\u2461" }], "title": "4.1.2.4. The text IDL attribute" }], "url": "#dom-htmlscriptelement-text" },
                "dom-htmlscriptelement-textcontent": { "dfnID": "dom-htmlscriptelement-textcontent", "dfnText": "textContent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-htmlscriptelement-textcontent" }, { "id": "ref-for-dom-htmlscriptelement-textcontent\u2460" }, { "id": "ref-for-dom-htmlscriptelement-textcontent\u2461" }], "title": "4.1.2.3. The textContent IDL attribute" }], "url": "#dom-htmlscriptelement-textcontent" },
                "dom-trustedhtml-tojson": { "dfnID": "dom-trustedhtml-tojson", "dfnText": "toJSON()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedhtml-tojson" }], "title": "2.2.1. TrustedHTML" }], "url": "#dom-trustedhtml-tojson" },
                "dom-trustedscript-tojson": { "dfnID": "dom-trustedscript-tojson", "dfnText": "toJSON()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedscript-tojson" }], "title": "2.2.2. TrustedScript" }], "url": "#dom-trustedscript-tojson" },
                "dom-trustedscripturl-tojson": { "dfnID": "dom-trustedscripturl-tojson", "dfnText": "toJSON()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedscripturl-tojson" }], "title": "2.2.3. TrustedScriptURL" }], "url": "#dom-trustedscripturl-tojson" },
                "dom-trustedtypepolicy-createhtml": { "dfnID": "dom-trustedtypepolicy-createhtml", "dfnText": "createHTML(input, ...arguments)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicy-createhtml" }], "title": "2.2.1. TrustedHTML" }, { "refs": [{ "id": "ref-for-dom-trustedtypepolicy-createhtml\u2460" }], "title": "2.3.2. TrustedTypePolicy" }], "url": "#dom-trustedtypepolicy-createhtml" },
                "dom-trustedtypepolicy-createhtml-input-arguments-arguments": { "dfnID": "dom-trustedtypepolicy-createhtml-input-arguments-arguments", "dfnText": "arguments", "external": false, "refSections": [], "url": "#dom-trustedtypepolicy-createhtml-input-arguments-arguments" },
                "dom-trustedtypepolicy-createhtml-input-arguments-input": { "dfnID": "dom-trustedtypepolicy-createhtml-input-arguments-input", "dfnText": "input", "external": false, "refSections": [], "url": "#dom-trustedtypepolicy-createhtml-input-arguments-input" },
                "dom-trustedtypepolicy-createscript": { "dfnID": "dom-trustedtypepolicy-createscript", "dfnText": "createScript(input, ...arguments)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicy-createscript" }], "title": "2.2.2. TrustedScript" }, { "refs": [{ "id": "ref-for-dom-trustedtypepolicy-createscript\u2460" }], "title": "2.3.2. TrustedTypePolicy" }], "url": "#dom-trustedtypepolicy-createscript" },
                "dom-trustedtypepolicy-createscript-input-arguments-arguments": { "dfnID": "dom-trustedtypepolicy-createscript-input-arguments-arguments", "dfnText": "arguments", "external": false, "refSections": [], "url": "#dom-trustedtypepolicy-createscript-input-arguments-arguments" },
                "dom-trustedtypepolicy-createscript-input-arguments-input": { "dfnID": "dom-trustedtypepolicy-createscript-input-arguments-input", "dfnText": "input", "external": false, "refSections": [], "url": "#dom-trustedtypepolicy-createscript-input-arguments-input" },
                "dom-trustedtypepolicy-createscripturl": { "dfnID": "dom-trustedtypepolicy-createscripturl", "dfnText": "createScriptURL(input, ...arguments)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicy-createscripturl" }], "title": "2.2.3. TrustedScriptURL" }, { "refs": [{ "id": "ref-for-dom-trustedtypepolicy-createscripturl\u2460" }], "title": "2.3.2. TrustedTypePolicy" }], "url": "#dom-trustedtypepolicy-createscripturl" },
                "dom-trustedtypepolicy-createscripturl-input-arguments-arguments": { "dfnID": "dom-trustedtypepolicy-createscripturl-input-arguments-arguments", "dfnText": "arguments", "external": false, "refSections": [], "url": "#dom-trustedtypepolicy-createscripturl-input-arguments-arguments" },
                "dom-trustedtypepolicy-createscripturl-input-arguments-input": { "dfnID": "dom-trustedtypepolicy-createscripturl-input-arguments-input", "dfnText": "input", "external": false, "refSections": [], "url": "#dom-trustedtypepolicy-createscripturl-input-arguments-input" },
                "dom-trustedtypepolicy-name": { "dfnID": "dom-trustedtypepolicy-name", "dfnText": "name", "external": false, "refSections": [], "url": "#dom-trustedtypepolicy-name" },
                "dom-trustedtypepolicyfactory-createpolicy": { "dfnID": "dom-trustedtypepolicyfactory-createpolicy", "dfnText": "createPolicy(policyName, policyOptions)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyfactory-createpolicy" }, { "id": "ref-for-dom-trustedtypepolicyfactory-createpolicy\u2460" }], "title": "2.3. Policies" }, { "refs": [{ "id": "ref-for-dom-trustedtypepolicyfactory-createpolicy\u2461" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#dom-trustedtypepolicyfactory-createpolicy" },
                "dom-trustedtypepolicyfactory-createpolicy-policyname-policyoptions-policyname": { "dfnID": "dom-trustedtypepolicyfactory-createpolicy-policyname-policyoptions-policyname", "dfnText": "policyName", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-createpolicy-policyname-policyoptions-policyname" },
                "dom-trustedtypepolicyfactory-createpolicy-policyname-policyoptions-policyoptions": { "dfnID": "dom-trustedtypepolicyfactory-createpolicy-policyname-policyoptions-policyoptions", "dfnText": "policyOptions", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-createpolicy-policyname-policyoptions-policyoptions" },
                "dom-trustedtypepolicyfactory-defaultpolicy": { "dfnID": "dom-trustedtypepolicyfactory-defaultpolicy", "dfnText": "defaultPolicy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyfactory-defaultpolicy" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#dom-trustedtypepolicyfactory-defaultpolicy" },
                "dom-trustedtypepolicyfactory-emptyhtml": { "dfnID": "dom-trustedtypepolicyfactory-emptyhtml", "dfnText": "emptyHTML", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyfactory-emptyhtml" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#dom-trustedtypepolicyfactory-emptyhtml" },
                "dom-trustedtypepolicyfactory-emptyscript": { "dfnID": "dom-trustedtypepolicyfactory-emptyscript", "dfnText": "emptyScript", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyfactory-emptyscript" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#dom-trustedtypepolicyfactory-emptyscript" },
                "dom-trustedtypepolicyfactory-getattributetype": { "dfnID": "dom-trustedtypepolicyfactory-getattributetype", "dfnText": "getAttributeType(tagName, attribute, elementNs, attrNs)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyfactory-getattributetype" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#dom-trustedtypepolicyfactory-getattributetype" },
                "dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-attribute": { "dfnID": "dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-attribute", "dfnText": "attribute", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-attribute" },
                "dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-attrns": { "dfnID": "dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-attrns", "dfnText": "attrNs", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-attrns" },
                "dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-elementns": { "dfnID": "dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-elementns", "dfnText": "elementNs", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-elementns" },
                "dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-tagname": { "dfnID": "dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-tagname", "dfnText": "tagName", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-getattributetype-tagname-attribute-elementns-attrns-tagname" },
                "dom-trustedtypepolicyfactory-getpropertytype": { "dfnID": "dom-trustedtypepolicyfactory-getpropertytype", "dfnText": "getPropertyType(tagName, property, elementNs)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyfactory-getpropertytype" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#dom-trustedtypepolicyfactory-getpropertytype" },
                "dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-elementns": { "dfnID": "dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-elementns", "dfnText": "elementNs", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-elementns" },
                "dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-property": { "dfnID": "dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-property", "dfnText": "property", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-property" },
                "dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-tagname": { "dfnID": "dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-tagname", "dfnText": "tagName", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-getpropertytype-tagname-property-elementns-tagname" },
                "dom-trustedtypepolicyfactory-ishtml": { "dfnID": "dom-trustedtypepolicyfactory-ishtml", "dfnText": "isHTML(value)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyfactory-ishtml" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#dom-trustedtypepolicyfactory-ishtml" },
                "dom-trustedtypepolicyfactory-ishtml-value-value": { "dfnID": "dom-trustedtypepolicyfactory-ishtml-value-value", "dfnText": "value", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-ishtml-value-value" },
                "dom-trustedtypepolicyfactory-isscript": { "dfnID": "dom-trustedtypepolicyfactory-isscript", "dfnText": "isScript(value)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyfactory-isscript" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#dom-trustedtypepolicyfactory-isscript" },
                "dom-trustedtypepolicyfactory-isscript-value-value": { "dfnID": "dom-trustedtypepolicyfactory-isscript-value-value", "dfnText": "value", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-isscript-value-value" },
                "dom-trustedtypepolicyfactory-isscripturl": { "dfnID": "dom-trustedtypepolicyfactory-isscripturl", "dfnText": "isScriptURL(value)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyfactory-isscripturl" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#dom-trustedtypepolicyfactory-isscripturl" },
                "dom-trustedtypepolicyfactory-isscripturl-value-value": { "dfnID": "dom-trustedtypepolicyfactory-isscripturl-value-value", "dfnText": "value", "external": false, "refSections": [], "url": "#dom-trustedtypepolicyfactory-isscripturl-value-value" },
                "dom-trustedtypepolicyoptions-createhtml": { "dfnID": "dom-trustedtypepolicyoptions-createhtml", "dfnText": "createHTML", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyoptions-createhtml" }], "title": "3.1. Create a Trusted Type Policy" }], "url": "#dom-trustedtypepolicyoptions-createhtml" },
                "dom-trustedtypepolicyoptions-createscript": { "dfnID": "dom-trustedtypepolicyoptions-createscript", "dfnText": "createScript", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyoptions-createscript" }], "title": "3.1. Create a Trusted Type Policy" }], "url": "#dom-trustedtypepolicyoptions-createscript" },
                "dom-trustedtypepolicyoptions-createscripturl": { "dfnID": "dom-trustedtypepolicyoptions-createscripturl", "dfnText": "createScriptURL", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-trustedtypepolicyoptions-createscripturl" }], "title": "3.1. Create a Trusted Type Policy" }], "url": "#dom-trustedtypepolicyoptions-createscripturl" },
                "dom-windoworworkerglobalscope-trustedtypes": { "dfnID": "dom-windoworworkerglobalscope-trustedtypes", "dfnText": "trustedTypes", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-windoworworkerglobalscope-trustedtypes" }], "title": "2.4. Enforcement" }, { "refs": [{ "id": "ref-for-dom-windoworworkerglobalscope-trustedtypes\u2460" }], "title": "4.1.1. Extensions to the WindowOrWorkerGlobalScope interface" }], "url": "#dom-windoworworkerglobalscope-trustedtypes" },
                "e02495ec": { "dfnID": "e02495ec", "dfnText": "element namespace", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-element-namespace" }], "title": "3.8. Get Trusted Type data for attribute" }], "url": "https://dom.spec.whatwg.org/#concept-element-namespace" },
                "e19f3699": { "dfnID": "e19f3699", "dfnText": "XLink namespace", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-xlink-namespace" }], "title": "3.8. Get Trusted Type data for attribute" }], "url": "https://infra.spec.whatwg.org/#xlink-namespace" },
                "e1f8b538": { "dfnID": "e1f8b538", "dfnText": "get text content", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-get-text-content" }], "title": "4.1.2.3. The textContent IDL attribute" }], "url": "https://dom.spec.whatwg.org/#get-text-content" },
                "e7762445": { "dfnID": "e7762445", "dfnText": "reentrant invocation of the parser", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-nestedParsing" }], "title": "4.1.2.6. Setting slot values from parser" }], "url": "https://html.spec.whatwg.org/#nestedParsing" },
                "e99bd18e": { "dfnID": "e99bd18e", "dfnText": "relevant global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "3.6. Prepare the script text" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2461" }], "title": "3.7. Get Trusted Type compliant attribute value" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2462" }], "title": "4.1.1. Extensions to the WindowOrWorkerGlobalScope interface" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2463" }], "title": "4.1.2.2. The innerText IDL attribute" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2464" }], "title": "4.1.2.3. The textContent IDL attribute" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2465" }], "title": "4.1.2.4. The text IDL attribute" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2466" }], "title": "4.1.2.5. The src IDL attribute" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "eab52de3": { "dfnID": "eab52de3", "dfnText": "inline check", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-directive-inline-check" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "https://www.w3.org/TR/CSP3/#directive-inline-check" },
                "ead425bd": { "dfnID": "ead425bd", "dfnText": "MathML namespace", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-mathml-namespace" }], "title": "3.8. Get Trusted Type data for attribute" }], "url": "https://infra.spec.whatwg.org/#mathml-namespace" },
                "ec4838d8": { "dfnID": "ec4838d8", "dfnText": "HTMLScriptElement", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-htmlscriptelement" }, { "id": "ref-for-htmlscriptelement\u2460" }, { "id": "ref-for-htmlscriptelement\u2461" }, { "id": "ref-for-htmlscriptelement\u2462" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-htmlscriptelement\u2463" }, { "id": "ref-for-htmlscriptelement\u2464" }], "title": "3.6. Prepare the script text" }, { "refs": [{ "id": "ref-for-htmlscriptelement\u2465" }], "title": "3.8. Get Trusted Type data for attribute" }, { "refs": [{ "id": "ref-for-htmlscriptelement\u2466" }, { "id": "ref-for-htmlscriptelement\u2467" }, { "id": "ref-for-htmlscriptelement\u2468" }], "title": "4.1.2. Enforcement for scripts" }, { "refs": [{ "id": "ref-for-htmlscriptelement\u2460\u24ea" }], "title": "4.1.2.1. Slots with trusted values" }], "url": "https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" },
                "ef8bdfad": { "dfnID": "ef8bdfad", "dfnText": "innerHTML (for ShadowRoot)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-shadowroot-innerhtml" }], "title": "2.1.1. DOM XSS injection sinks" }], "url": "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-shadowroot-innerhtml" },
                "enforcement": { "dfnID": "enforcement", "dfnText": "Enforcement", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enforcement" }], "title": "1.3. Use cases" }, { "refs": [{ "id": "ref-for-enforcement\u2460" }], "title": "2.1. Injection sinks" }, { "refs": [{ "id": "ref-for-enforcement\u2461" }, { "id": "ref-for-enforcement\u2462" }], "title": "2.3. Policies" }, { "refs": [{ "id": "ref-for-enforcement\u2463" }], "title": "2.3.4. Default policy" }, { "refs": [{ "id": "ref-for-enforcement\u2464" }], "title": "3.4. Get Trusted Type compliant string" }], "url": "#enforcement" },
                "f052b1ea": { "dfnID": "f052b1ea", "dfnText": "HTML namespace", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-html-namespace" }, { "id": "ref-for-html-namespace\u2460" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-html-namespace\u2461" }], "title": "3.8. Get Trusted Type data for attribute" }], "url": "https://infra.spec.whatwg.org/#html-namespace" },
                "f20f4175": { "dfnID": "f20f4175", "dfnText": "element interface", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-element-interface" }, { "id": "ref-for-concept-element-interface\u2460" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "https://dom.spec.whatwg.org/#concept-element-interface" },
                "f7433a4f": { "dfnID": "f7433a4f", "dfnText": "set the inner text steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-set-the-inner-text-steps" }], "title": "4.1.2.2. The innerText IDL attribute" }], "url": "https://html.spec.whatwg.org/#set-the-inner-text-steps" },
                "f74727b0": { "dfnID": "f74727b0", "dfnText": "value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-directive-value" }], "title": "4.2.1. require-trusted-types-for directive" }, { "refs": [{ "id": "ref-for-directive-value\u2460" }, { "id": "ref-for-directive-value\u2461" }], "title": "4.2.2. trusted-types directive" }, { "refs": [{ "id": "ref-for-directive-value\u2462" }], "title": "4.2.3. Does sink type require trusted types?" }, { "refs": [{ "id": "ref-for-directive-value\u2463" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }, { "refs": [{ "id": "ref-for-directive-value\u2464" }, { "id": "ref-for-directive-value\u2465" }, { "id": "ref-for-directive-value\u2466" }, { "id": "ref-for-directive-value\u2467" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "https://www.w3.org/TR/CSP3/#directive-value" },
                "ff5484a3": { "dfnID": "ff5484a3", "dfnText": "src", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-script-src" }], "title": "4.1.2.5. The src IDL attribute" }], "url": "https://html.spec.whatwg.org/#attr-script-src" },
                "get-trusted-type-compliant-attribute-value": { "dfnID": "get-trusted-type-compliant-attribute-value", "dfnText": "get trusted type compliant attribute value", "external": false, "refSections": [], "url": "#get-trusted-type-compliant-attribute-value" },
                "get-trusted-type-compliant-string": { "dfnID": "get-trusted-type-compliant-string", "dfnText": "get trusted type compliant string", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-trusted-type-compliant-string" }], "title": "3.6. Prepare the script text" }, { "refs": [{ "id": "ref-for-get-trusted-type-compliant-string\u2460" }], "title": "3.7. Get Trusted Type compliant attribute value" }, { "refs": [{ "id": "ref-for-get-trusted-type-compliant-string\u2461" }], "title": "4.1.2. Enforcement for scripts" }, { "refs": [{ "id": "ref-for-get-trusted-type-compliant-string\u2462" }], "title": "4.1.2.2. The innerText IDL attribute" }, { "refs": [{ "id": "ref-for-get-trusted-type-compliant-string\u2463" }], "title": "4.1.2.3. The textContent IDL attribute" }, { "refs": [{ "id": "ref-for-get-trusted-type-compliant-string\u2464" }], "title": "4.1.2.4. The text IDL attribute" }, { "refs": [{ "id": "ref-for-get-trusted-type-compliant-string\u2465" }], "title": "4.1.2.5. The src IDL attribute" }], "url": "#get-trusted-type-compliant-string" },
                "get-trusted-type-data-for-attribute①": { "dfnID": "get-trusted-type-data-for-attribute\u2460", "dfnText": "get Trusted Type data for attribute", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-trusted-type-data-for-attribute\u2460" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-get-trusted-type-data-for-attribute\u2460\u2460" }], "title": "3.7. Get Trusted Type compliant attribute value" }], "url": "#get-trusted-type-data-for-attribute\u2460" },
                "get-trusted-type-policy-value": { "dfnID": "get-trusted-type-policy-value", "dfnText": "get trusted type policy value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-trusted-type-policy-value" }], "title": "3.2. Create a Trusted Type" }, { "refs": [{ "id": "ref-for-get-trusted-type-policy-value\u2460" }], "title": "3.5. Process value with a default policy" }], "url": "#get-trusted-type-policy-value" },
                "htmlscriptelement-script-text": { "dfnID": "htmlscriptelement-script-text", "dfnText": "script text", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-htmlscriptelement-script-text" }, { "id": "ref-for-htmlscriptelement-script-text\u2460" }], "title": "3.6. Prepare the script text" }, { "refs": [{ "id": "ref-for-htmlscriptelement-script-text\u2461" }], "title": "4.1.2.2. The innerText IDL attribute" }, { "refs": [{ "id": "ref-for-htmlscriptelement-script-text\u2462" }], "title": "4.1.2.3. The textContent IDL attribute" }, { "refs": [{ "id": "ref-for-htmlscriptelement-script-text\u2463" }], "title": "4.1.2.4. The text IDL attribute" }, { "refs": [{ "id": "ref-for-htmlscriptelement-script-text\u2464" }, { "id": "ref-for-htmlscriptelement-script-text\u2465" }], "title": "4.1.2.6. Setting slot values from parser" }, { "refs": [{ "id": "ref-for-htmlscriptelement-script-text\u2466" }], "title": "4.1.2.7. Slot value verification" }], "url": "#htmlscriptelement-script-text" },
                "injection-sink": { "dfnID": "injection-sink", "dfnText": "injection sink", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-injection-sink" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-injection-sink\u2460" }], "title": "1.3. Use cases" }, { "refs": [{ "id": "ref-for-injection-sink\u2461" }], "title": "2.1. Injection sinks" }, { "refs": [{ "id": "ref-for-injection-sink\u2462" }, { "id": "ref-for-injection-sink\u2463" }], "title": "2.1.1. DOM XSS injection sinks" }, { "refs": [{ "id": "ref-for-injection-sink\u2464" }], "title": "2.2. Trusted Types" }, { "refs": [{ "id": "ref-for-injection-sink\u2465" }], "title": "2.2.1. TrustedHTML" }, { "refs": [{ "id": "ref-for-injection-sink\u2466" }], "title": "2.2.2. TrustedScript" }, { "refs": [{ "id": "ref-for-injection-sink\u2467" }], "title": "2.2.3. TrustedScriptURL" }, { "refs": [{ "id": "ref-for-injection-sink\u2468" }, { "id": "ref-for-injection-sink\u2460\u24ea" }, { "id": "ref-for-injection-sink\u2460\u2460" }, { "id": "ref-for-injection-sink\u2460\u2461" }], "title": "2.3. Policies" }, { "refs": [{ "id": "ref-for-injection-sink\u2460\u2462" }, { "id": "ref-for-injection-sink\u2460\u2463" }], "title": "2.3.4. Default policy" }, { "refs": [{ "id": "ref-for-injection-sink\u2460\u2464" }, { "id": "ref-for-injection-sink\u2460\u2465" }, { "id": "ref-for-injection-sink\u2460\u2466" }], "title": "2.4. Enforcement" }, { "refs": [{ "id": "ref-for-injection-sink\u2460\u2467" }], "title": "2.4.1. Content Security Policy" }, { "refs": [{ "id": "ref-for-injection-sink\u2460\u2468" }], "title": "3.4. Get Trusted Type compliant string" }, { "refs": [{ "id": "ref-for-injection-sink\u2461\u24ea" }], "title": "3.5. Process value with a default policy" }, { "refs": [{ "id": "ref-for-injection-sink\u2461\u2460" }, { "id": "ref-for-injection-sink\u2461\u2461" }], "title": "4.2.1. require-trusted-types-for directive" }, { "refs": [{ "id": "ref-for-injection-sink\u2461\u2462" }, { "id": "ref-for-injection-sink\u2461\u2463" }], "title": "4.2.2. trusted-types directive" }, { "refs": [{ "id": "ref-for-injection-sink\u2461\u2464" }], "title": "4.2.3. Does sink type require trusted types?" }, { "refs": [{ "id": "ref-for-injection-sink\u2461\u2465" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }, { "refs": [{ "id": "ref-for-injection-sink\u2461\u2466" }], "title": "5. Security Considerations" }, { "refs": [{ "id": "ref-for-injection-sink\u2461\u2467" }, { "id": "ref-for-injection-sink\u2461\u2468" }], "title": "5.4. Best practices for policy design" }, { "refs": [{ "id": "ref-for-injection-sink\u2462\u24ea" }], "title": "6. Privacy Considerations" }, { "refs": [{ "id": "ref-for-injection-sink\u2462\u2460" }], "title": "7.1. Vendor-specific Extensions and Addons" }], "url": "#injection-sink" },
                "policies": { "dfnID": "policies", "dfnText": "Policies", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-policies" }], "title": "1. Introduction" }, { "refs": [{ "id": "ref-for-policies\u2460" }], "title": "1.3. Use cases" }, { "refs": [{ "id": "ref-for-policies\u2461" }], "title": "2.3. Policies" }, { "refs": [{ "id": "ref-for-policies\u2462" }], "title": "2.4. Enforcement" }, { "refs": [{ "id": "ref-for-policies\u2463" }], "title": "2.4.1. Content Security Policy" }, { "refs": [{ "id": "ref-for-policies\u2464" }], "title": "4.2.2. trusted-types directive" }, { "refs": [{ "id": "ref-for-policies\u2465" }], "title": "5.4. Best practices for policy design" }], "url": "#policies" },
                "prepare-the-script-text": { "dfnID": "prepare-the-script-text", "dfnText": "prepare the script text", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-prepare-the-script-text" }], "title": "4.1.2.7. Slot value verification" }], "url": "#prepare-the-script-text" },
                "process-value-with-a-default-policy": { "dfnID": "process-value-with-a-default-policy", "dfnText": "process value with a default policy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-process-value-with-a-default-policy" }], "title": "3.4. Get Trusted Type compliant string" }, { "refs": [{ "id": "ref-for-process-value-with-a-default-policy\u2460" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "#process-value-with-a-default-policy" },
                "require-trusted-types-for-directive": { "dfnID": "require-trusted-types-for-directive", "dfnText": "require-trusted-types-for", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-require-trusted-types-for-directive" }], "title": "1.3. Use cases" }, { "refs": [{ "id": "ref-for-require-trusted-types-for-directive\u2460" }], "title": "2.4.1. Content Security Policy" }, { "refs": [{ "id": "ref-for-require-trusted-types-for-directive\u2461" }], "title": "4.2.1. require-trusted-types-for directive" }, { "refs": [{ "id": "ref-for-require-trusted-types-for-directive\u2462" }, { "id": "ref-for-require-trusted-types-for-directive\u2463" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "#require-trusted-types-for-directive" },
                "serialized-tt-configuration": { "dfnID": "serialized-tt-configuration", "dfnText": "serialized-tt-configuration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serialized-tt-configuration" }], "title": "4.2.2. trusted-types directive" }], "url": "#serialized-tt-configuration" },
                "should-sink-type-mismatch-violation-be-blocked-by-content-security-policy": { "dfnID": "should-sink-type-mismatch-violation-be-blocked-by-content-security-policy", "dfnText": "should sink type mismatch violation be blocked by content security policy?", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-should-sink-type-mismatch-violation-be-blocked-by-content-security-policy" }], "title": "3.4. Get Trusted Type compliant string" }], "url": "#should-sink-type-mismatch-violation-be-blocked-by-content-security-policy" },
                "should-trusted-type-policy-creation-be-blocked-by-content-security-policy": { "dfnID": "should-trusted-type-policy-creation-be-blocked-by-content-security-policy", "dfnText": "Should Trusted Type policy creation be blocked by content security policy?", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-should-trusted-type-policy-creation-be-blocked-by-content-security-policy" }], "title": "3.1. Create a Trusted Type Policy" }], "url": "#should-trusted-type-policy-creation-be-blocked-by-content-security-policy" },
                "trusted-type": { "dfnID": "trusted-type", "dfnText": "Trusted Type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trusted-type" }], "title": "2.3. Policies" }, { "refs": [{ "id": "ref-for-trusted-type\u2460" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-trusted-type\u2461" }], "title": "2.3.3. TrustedTypePolicyOptions" }, { "refs": [{ "id": "ref-for-trusted-type\u2462" }], "title": "2.4. Enforcement" }, { "refs": [{ "id": "ref-for-trusted-type\u2463" }], "title": "3.4. Get Trusted Type compliant string" }, { "refs": [{ "id": "ref-for-trusted-type\u2464" }], "title": "4.2.3. Does sink type require trusted types?" }, { "refs": [{ "id": "ref-for-trusted-type\u2465" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }], "url": "#trusted-type" },
                "trusted-types-directive": { "dfnID": "trusted-types-directive", "dfnText": "trusted-types", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trusted-types-directive" }], "title": "1.3. Use cases" }, { "refs": [{ "id": "ref-for-trusted-types-directive\u2460" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-trusted-types-directive\u2461" }], "title": "4.2.2. trusted-types directive" }], "url": "#trusted-types-directive" },
                "trusted-types-sink-group": { "dfnID": "trusted-types-sink-group", "dfnText": "trusted-types-sink-group", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trusted-types-sink-group" }], "title": "2.1. Injection sinks" }, { "refs": [{ "id": "ref-for-trusted-types-sink-group\u2460" }], "title": "2.1.1. DOM XSS injection sinks" }, { "refs": [{ "id": "ref-for-trusted-types-sink-group\u2461" }], "title": "4.2.1. require-trusted-types-for directive" }, { "refs": [{ "id": "ref-for-trusted-types-sink-group\u2462" }], "title": "4.2.3. Does sink type require trusted types?" }, { "refs": [{ "id": "ref-for-trusted-types-sink-group\u2463" }], "title": "4.2.4. Should sink type mismatch violation be blocked by Content Security Policy?" }], "url": "#trusted-types-sink-group" },
                "trusted-types-sink-group-keyword": { "dfnID": "trusted-types-sink-group-keyword", "dfnText": "trusted-types-sink-group-keyword", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trusted-types-sink-group-keyword" }, { "id": "ref-for-trusted-types-sink-group-keyword\u2460" }], "title": "4.2.1. require-trusted-types-for directive" }], "url": "#trusted-types-sink-group-keyword" },
                "trustedhtml": { "dfnID": "trustedhtml", "dfnText": "TrustedHTML", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedhtml" }], "title": "2.2.1. TrustedHTML" }, { "refs": [{ "id": "ref-for-trustedhtml\u2460" }], "title": "2.3. Policies" }, { "refs": [{ "id": "ref-for-trustedhtml\u2461" }, { "id": "ref-for-trustedhtml\u2462" }, { "id": "ref-for-trustedhtml\u2463" }, { "id": "ref-for-trustedhtml\u2464" }, { "id": "ref-for-trustedhtml\u2465" }, { "id": "ref-for-trustedhtml\u2466" }, { "id": "ref-for-trustedhtml\u2467" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-trustedhtml\u2468" }], "title": "2.3.2. TrustedTypePolicy" }, { "refs": [{ "id": "ref-for-trustedhtml\u2460\u24ea" }], "title": "3.7. Get Trusted Type compliant attribute value" }, { "refs": [{ "id": "ref-for-trustedhtml\u2460\u2460" }], "title": "3.8. Get Trusted Type data for attribute" }, { "refs": [{ "id": "ref-for-trustedhtml\u2460\u2461" }], "title": "4. Integrations" }], "url": "#trustedhtml" },
                "trustedhtml-data": { "dfnID": "trustedhtml-data", "dfnText": "data", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedhtml-data" }], "title": "2.2.1. TrustedHTML" }, { "refs": [{ "id": "ref-for-trustedhtml-data\u2460" }, { "id": "ref-for-trustedhtml-data\u2461" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#trustedhtml-data" },
                "trustedhtml-stringification-behavior": { "dfnID": "trustedhtml-stringification-behavior", "dfnText": "stringification behavior", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedhtml-stringification-behavior" }], "title": "2.2.1. TrustedHTML" }], "url": "#trustedhtml-stringification-behavior" },
                "trustedscript": { "dfnID": "trustedscript", "dfnText": "TrustedScript", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedscript" }], "title": "2.2.2. TrustedScript" }, { "refs": [{ "id": "ref-for-trustedscript\u2460" }, { "id": "ref-for-trustedscript\u2461" }, { "id": "ref-for-trustedscript\u2462" }, { "id": "ref-for-trustedscript\u2463" }, { "id": "ref-for-trustedscript\u2464" }, { "id": "ref-for-trustedscript\u2465" }, { "id": "ref-for-trustedscript\u2466" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-trustedscript\u2467" }], "title": "2.3.2. TrustedTypePolicy" }, { "refs": [{ "id": "ref-for-trustedscript\u2468" }], "title": "3.7. Get Trusted Type compliant attribute value" }, { "refs": [{ "id": "ref-for-trustedscript\u2460\u24ea" }], "title": "3.8. Get Trusted Type data for attribute" }, { "refs": [{ "id": "ref-for-trustedscript\u2460\u2460" }], "title": "4. Integrations" }, { "refs": [{ "id": "ref-for-trustedscript\u2460\u2461" }, { "id": "ref-for-trustedscript\u2460\u2462" }, { "id": "ref-for-trustedscript\u2460\u2463" }], "title": "4.1.2. Enforcement for scripts" }, { "refs": [{ "id": "ref-for-trustedscript\u2460\u2464" }], "title": "4.1.2.2. The innerText IDL attribute" }, { "refs": [{ "id": "ref-for-trustedscript\u2460\u2465" }], "title": "4.1.2.3. The textContent IDL attribute" }, { "refs": [{ "id": "ref-for-trustedscript\u2460\u2466" }], "title": "4.1.2.4. The text IDL attribute" }, { "refs": [{ "id": "ref-for-trustedscript\u2460\u2467" }, { "id": "ref-for-trustedscript\u2460\u2468" }], "title": "4.2.1.1. require-trusted-types-for Pre-Navigation check" }], "url": "#trustedscript" },
                "trustedscript-data": { "dfnID": "trustedscript-data", "dfnText": "data", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedscript-data" }], "title": "2.2.2. TrustedScript" }, { "refs": [{ "id": "ref-for-trustedscript-data\u2460" }, { "id": "ref-for-trustedscript-data\u2461" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#trustedscript-data" },
                "trustedscript-stringification-behavior": { "dfnID": "trustedscript-stringification-behavior", "dfnText": "stringification behavior", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedscript-stringification-behavior" }], "title": "2.2.2. TrustedScript" }], "url": "#trustedscript-stringification-behavior" },
                "trustedscripturl": { "dfnID": "trustedscripturl", "dfnText": "TrustedScriptURL", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedscripturl" }], "title": "2.2.3. TrustedScriptURL" }, { "refs": [{ "id": "ref-for-trustedscripturl\u2460" }, { "id": "ref-for-trustedscripturl\u2461" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-trustedscripturl\u2462" }], "title": "2.3.2. TrustedTypePolicy" }, { "refs": [{ "id": "ref-for-trustedscripturl\u2463" }], "title": "3.6. Prepare the script text" }, { "refs": [{ "id": "ref-for-trustedscripturl\u2464" }], "title": "3.7. Get Trusted Type compliant attribute value" }, { "refs": [{ "id": "ref-for-trustedscripturl\u2465" }, { "id": "ref-for-trustedscripturl\u2466" }, { "id": "ref-for-trustedscripturl\u2467" }], "title": "3.8. Get Trusted Type data for attribute" }, { "refs": [{ "id": "ref-for-trustedscripturl\u2468" }], "title": "4. Integrations" }, { "refs": [{ "id": "ref-for-trustedscripturl\u2460\u24ea" }], "title": "4.1.2. Enforcement for scripts" }, { "refs": [{ "id": "ref-for-trustedscripturl\u2460\u2460" }], "title": "4.1.2.5. The src IDL attribute" }], "url": "#trustedscripturl" },
                "trustedscripturl-data": { "dfnID": "trustedscripturl-data", "dfnText": "data", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedscripturl-data" }], "title": "2.2.3. TrustedScriptURL" }, { "refs": [{ "id": "ref-for-trustedscripturl-data\u2460" }], "title": "2.3.1. TrustedTypePolicyFactory" }], "url": "#trustedscripturl-data" },
                "trustedscripturl-stringification-behavior": { "dfnID": "trustedscripturl-stringification-behavior", "dfnText": "stringification behavior", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedscripturl-stringification-behavior" }], "title": "2.2.3. TrustedScriptURL" }], "url": "#trustedscripturl-stringification-behavior" },
                "trustedtypepolicy": { "dfnID": "trustedtypepolicy", "dfnText": "TrustedTypePolicy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedtypepolicy" }], "title": "2.2.1. TrustedHTML" }, { "refs": [{ "id": "ref-for-trustedtypepolicy\u2460" }], "title": "2.2.2. TrustedScript" }, { "refs": [{ "id": "ref-for-trustedtypepolicy\u2461" }], "title": "2.2.3. TrustedScriptURL" }, { "refs": [{ "id": "ref-for-trustedtypepolicy\u2462" }, { "id": "ref-for-trustedtypepolicy\u2463" }, { "id": "ref-for-trustedtypepolicy\u2464" }, { "id": "ref-for-trustedtypepolicy\u2465" }, { "id": "ref-for-trustedtypepolicy\u2466" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-trustedtypepolicy\u2467" }], "title": "2.3.2. TrustedTypePolicy" }, { "refs": [{ "id": "ref-for-trustedtypepolicy\u2468" }], "title": "2.3.3. TrustedTypePolicyOptions" }, { "refs": [{ "id": "ref-for-trustedtypepolicy\u2460\u24ea" }], "title": "3.1. Create a Trusted Type Policy" }, { "refs": [{ "id": "ref-for-trustedtypepolicy\u2460\u2460" }], "title": "3.2. Create a Trusted Type" }, { "refs": [{ "id": "ref-for-trustedtypepolicy\u2460\u2461" }], "title": "3.3. Get Trusted Type policy value" }, { "refs": [{ "id": "ref-for-trustedtypepolicy\u2460\u2462" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "#trustedtypepolicy" },
                "trustedtypepolicy-name": { "dfnID": "trustedtypepolicy-name", "dfnText": "name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedtypepolicy-name" }], "title": "2.3.4. Default policy" }], "url": "#trustedtypepolicy-name" },
                "trustedtypepolicy-options": { "dfnID": "trustedtypepolicy-options", "dfnText": "options", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedtypepolicy-options" }], "title": "3.1. Create a Trusted Type Policy" }, { "refs": [{ "id": "ref-for-trustedtypepolicy-options\u2460" }], "title": "3.3. Get Trusted Type policy value" }], "url": "#trustedtypepolicy-options" },
                "trustedtypepolicyfactory": { "dfnID": "trustedtypepolicyfactory", "dfnText": "TrustedTypePolicyFactory", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedtypepolicyfactory" }, { "id": "ref-for-trustedtypepolicyfactory\u2460" }, { "id": "ref-for-trustedtypepolicyfactory\u2461" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-trustedtypepolicyfactory\u2462" }], "title": "3.1. Create a Trusted Type Policy" }, { "refs": [{ "id": "ref-for-trustedtypepolicyfactory\u2463" }], "title": "4.1. Integration with HTML" }, { "refs": [{ "id": "ref-for-trustedtypepolicyfactory\u2464" }], "title": "4.1.1. Extensions to the WindowOrWorkerGlobalScope interface" }], "url": "#trustedtypepolicyfactory" },
                "trustedtypepolicyfactory-created-policy-names": { "dfnID": "trustedtypepolicyfactory-created-policy-names", "dfnText": "created policy names", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedtypepolicyfactory-created-policy-names" }, { "id": "ref-for-trustedtypepolicyfactory-created-policy-names\u2460" }], "title": "3.1. Create a Trusted Type Policy" }], "url": "#trustedtypepolicyfactory-created-policy-names" },
                "trustedtypepolicyfactory-default-policy": { "dfnID": "trustedtypepolicyfactory-default-policy", "dfnText": "default policy", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-trustedtypepolicyfactory-default-policy" }], "title": "2.3.1. TrustedTypePolicyFactory" }, { "refs": [{ "id": "ref-for-trustedtypepolicyfactory-default-policy\u2460" }, { "id": "ref-for-trustedtypepolicyfactory-default-policy\u2461" }], "title": "3.1. Create a Trusted Type Policy" }, { "refs": [{ "id": "ref-for-trustedtypepolicyfactory-default-policy\u2462" }], "title": "3.5. Process value with a default policy" }, { "refs": [{ "id": "ref-for-trustedtypepolicyfactory-default-policy\u2463" }], "title": "4.2.2. trusted-types directive" }, { "refs": [{ "id": "ref-for-trustedtypepolicyfactory-default-policy\u2464" }], "title": "6. Privacy Considerations" }, { "refs": [{ "id": "ref-for-trustedtypepolicyfactory-default-policy\u2465" }], "title": "7.1. Vendor-specific Extensions and Addons" }], "url": "#trustedtypepolicyfactory-default-policy" },
                "tt-expression": { "dfnID": "tt-expression", "dfnText": "tt-expression", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-tt-expression" }, { "id": "ref-for-tt-expression\u2460" }], "title": "4.2.2. trusted-types directive" }], "url": "#tt-expression" },
                "tt-keyword": { "dfnID": "tt-keyword", "dfnText": "tt-keyword", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-tt-keyword" }], "title": "4.2.2. trusted-types directive" }, { "refs": [{ "id": "ref-for-tt-keyword\u2460" }, { "id": "ref-for-tt-keyword\u2461" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "#tt-keyword" },
                "tt-policy-name": { "dfnID": "tt-policy-name", "dfnText": "tt-policy-name", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-tt-policy-name" }], "title": "4.2.2. trusted-types directive" }, { "refs": [{ "id": "ref-for-tt-policy-name\u2460" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "#tt-policy-name" },
                "tt-wildcard": { "dfnID": "tt-wildcard", "dfnText": "tt-wildcard", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-tt-wildcard" }], "title": "4.2.2. trusted-types directive" }, { "refs": [{ "id": "ref-for-tt-wildcard\u2460" }], "title": "4.2.5. Should Trusted Type policy creation be blocked by Content Security Policy?" }], "url": "#tt-wildcard" },
                "typedefdef-trustedtype": { "dfnID": "typedefdef-trustedtype", "dfnText": "TrustedType", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-trustedtype" }, { "id": "ref-for-typedefdef-trustedtype\u2460" }], "title": "3.4. Get Trusted Type compliant string" }, { "refs": [{ "id": "ref-for-typedefdef-trustedtype\u2461" }, { "id": "ref-for-typedefdef-trustedtype\u2462" }], "title": "3.5. Process value with a default policy" }, { "refs": [{ "id": "ref-for-typedefdef-trustedtype\u2463" }], "title": "3.7. Get Trusted Type compliant attribute value" }], "url": "#typedefdef-trustedtype" },
                "window-trusted-type-policy-factory": { "dfnID": "window-trusted-type-policy-factory", "dfnText": "trusted type policy factory", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-window-trusted-type-policy-factory" }], "title": "3.5. Process value with a default policy" }], "url": "#window-trusted-type-policy-factory" },
            };

            document.addEventListener("DOMContentLoaded", () => {
                genAllDfnPanels();

                document.body.addEventListener("click", (e) => {
                    // If not handled already, just hide all dfn panels.
                    hideAllDfnPanels();
                });
            });

            window.addEventListener("resize", () => {
                // Pin any visible dfn panel
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
            });

            function genAllDfnPanels() {
                for (const panelData of Object.values(dfnPanelData)) {
                    const dfnID = panelData.dfnID;
                    const dfn = document.getElementById(dfnID);
                    if (!dfn) {
                        console.log(`Can't find dfn#${dfnID}.`, panelData);
                        continue;
                    }
                    dfn.panelData = panelData;
                    insertDfnPopupAction(dfn);
                }
            }

            function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
                const dfnPanel = mk.aside({
                    class: "dfn-panel on",
                    id: `infopanel-for-${dfnID}`,
                    "data-for": dfnID,
                    "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
                },
                    mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
                        `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
                    mk.a({ href: url, class: "dfn-link" }, url),
                    refSections.length == 0 ? [] :
                        mk.b({}, "Referenced in:"),
                    mk.ul({},
                        ...refSections.map(section =>
                            mk.li({},
                                ...section.refs.map((ref, refI) =>
                                    [
                                        mk.a({ href: `#${ref.id}` },
                                            (refI == 0) ? section.title : `(${refI + 1})`
                                        ),
                                        " ",
                                    ]
                                ),
                            ),
                        ),
                    ),
                    genLinkingSyntaxes(dfn),
                );

                dfnPanel.addEventListener('click', (event) => {
                    if (event.target.nodeName == 'A') {
                        scrollToTargetAndHighlight(event);
                        pinDfnPanel(dfnPanel);
                    }
                    event.stopPropagation();
                    refocusOnTarget(event);
                });
                dfnPanel.addEventListener('keydown', (event) => {
                    if (event.keyCode == 27) { // Escape key
                        hideDfnPanel({ dfnPanel });
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });

                dfnPanel.dfn = dfn;
                dfn.dfnPanel = dfnPanel;
                return dfnPanel;
            }



            function hideAllDfnPanels() {
                // Delete the currently-active dfn panel.
                queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
            }

            function showDfnPanel(dfn) {
                hideAllDfnPanels(); // Only display one at a time.

                dfn.setAttribute("aria-expanded", "true");

                const dfnPanel = genDfnPanel(dfn, dfn.panelData);

                // Give the dfn a unique tabindex, and then
                // give all the tabbable panel bits successive indexes.
                let tabIndex = 100;
                dfn.tabIndex = tabIndex++;
                const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
                for (const el of tabbable) {
                    el.tabIndex = tabIndex++;
                }

                append(document.body, dfnPanel);
                positionDfnPanel(dfnPanel);
            }

            function positionDfnPanel(dfnPanel) {
                const dfn = dfnPanel.dfn;
                const dfnPos = getBounds(dfn);
                dfnPanel.style.top = dfnPos.bottom + "px";
                dfnPanel.style.left = dfnPos.left + "px";

                const panelPos = dfnPanel.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
                    dfnPanel.style.left = newLeft + "px";
                }
            }

            function pinDfnPanel(dfnPanel) {
                // Switch it to "activated" state, which pins it.
                dfnPanel.classList.add("activated");
                dfnPanel.style.position = "fixed";
                dfnPanel.style.left = null;
                dfnPanel.style.top = null;
            }

            function hideDfnPanel({ dfn, dfnPanel }) {
                if (!dfnPanel) dfnPanel = dfn.dfnPanel;
                if (!dfn) dfn = dfnPanel.dfn;
                dfn.dfnPanel = undefined;
                dfnPanel.dfn = undefined;
                dfn.setAttribute("aria-expanded", "false");
                dfn.tabIndex = undefined;
                dfnPanel.remove()
            }

            function toggleDfnPanel(dfn) {
                if (dfn.dfnPanel) {
                    hideDfnPanel(dfn);
                } else {
                    showDfnPanel(dfn);
                }
            }

            function insertDfnPopupAction(dfn) {
                dfn.setAttribute('role', 'button');
                dfn.setAttribute('aria-expanded', 'false')
                dfn.tabIndex = 0;
                dfn.classList.add('has-dfn-panel');
                dfn.addEventListener('click', (event) => {
                    toggleDfnPanel(dfn);
                    event.stopPropagation();
                });
                dfn.addEventListener('keypress', (event) => {
                    const kc = event.keyCode;
                    // 32->Space, 13->Enter
                    if (kc == 32 || kc == 13) {
                        toggleDfnPanel(dfn);
                        event.stopPropagation();
                        event.preventDefault();
                    }
                });
            }

            function refocusOnTarget(event) {
                const target = event.target;
                setTimeout(() => {
                    // Refocus on the event.target element.
                    // This is needed after browser scrolls to the destination.
                    target.focus();
                });
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function scrollToTargetAndHighlight(event) {
                let hash = event.target.hash;
                if (hash) {
                    hash = decodeURIComponent(hash.substring(1));
                    const dest = document.getElementById(hash);
                    if (dest) {
                        dest.classList.add('highlighted');
                        setTimeout(() => dest.classList.remove('highlighted'), 1000);
                    }
                }
            }

            // Functions, divided by link type, that wrap an autolink's
            // contents with the appropriate outer syntax.
            // Alternately, a string naming another type they format
            // the same as.
            function needsFor(type) {
                switch (type) {
                    case "descriptor":
                    case "value":
                    case "element-attr":
                    case "attr-value":
                    case "element-state":
                    case "method":
                    case "constructor":
                    case "argument":
                    case "attribute":
                    case "const":
                    case "dict-member":
                    case "event":
                    case "enum-value":
                    case "stringifier":
                    case "serializer":
                    case "iterator":
                    case "maplike":
                    case "setlike":
                    case "state":
                    case "mode":
                    case "context":
                    case "facet": return true;

                    default: return false;
                }
            }
            function refusesFor(type) {
                switch (type) {
                    case "property":
                    case "element":
                    case "interface":
                    case "namespace":
                    case "callback":
                    case "dictionary":
                    case "enum":
                    case "exception":
                    case "typedef":
                    case "http-header":
                    case "permission": return true;

                    default: return false;
                }
            }
            function linkFormatterFromType(type) {
                switch (type) {
                    case 'scheme':
                    case 'permission':
                    case 'dfn': return (text) => `[=${text}=]`;

                    case 'abstract-op': return (text) => `[\$${text}\$]`;

                    case 'function':
                    case 'at-rule':
                    case 'selector':
                    case 'value': return (text) => `''${text}''`;

                    case 'http-header': return (text) => `[:${text}:]`;

                    case 'interface':
                    case 'constructor':
                    case 'method':
                    case 'argument':
                    case 'attribute':
                    case 'callback':
                    case 'dictionary':
                    case 'dict-member':
                    case 'enum':
                    case 'enum-value':
                    case 'exception':
                    case 'const':
                    case 'typedef':
                    case 'stringifier':
                    case 'serializer':
                    case 'iterator':
                    case 'maplike':
                    case 'setlike':
                    case 'extended-attribute':
                    case 'event':
                    case 'idl': return (text) => `{{${text}}}`;

                    case 'element-state':
                    case 'element-attr':
                    case 'attr-value':
                    case 'element': return (element) => `<{${element}}>`;

                    case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

                    case 'type': return (text) => `<<${text}>>`;

                    case 'descriptor':
                    case 'property': return (text) => `'${text}'`;

                    default: return;
                };
            };

            function genLinkingSyntaxes(dfn) {
                if (dfn.tagName != "DFN") return;

                const type = dfn.getAttribute('data-dfn-type');
                if (!type) {
                    console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
                    return [];
                }

                // Return a function that wraps link text based on the type
                const linkFormatter = linkFormatterFromType(type);
                if (!linkFormatter) {
                    console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
                    return [];
                }

                let ltAlts;
                if (dfn.hasAttribute('data-lt')) {
                    ltAlts = dfn.getAttribute('data-lt')
                        .split("|")
                        .map(x => x.trim());
                } else {
                    ltAlts = [dfn.textContent.trim()];
                }
                if (type == "type") {
                    // lt of "<foo>", but "foo" is the interior;
                    // <<foo/bar>> is how you write it with a for,
                    // not <foo/<bar>> or whatever.
                    for (var i = 0; i < ltAlts.length; i++) {
                        const lt = ltAlts[i];
                        const match = /<(.*)>/.exec(lt);
                        if (match) { ltAlts[i] = match[1]; }
                    }
                }

                let forAlts;
                if (dfn.hasAttribute('data-dfn-for')) {
                    forAlts = dfn.getAttribute('data-dfn-for')
                        .split(",")
                        .map(x => x.trim());
                } else {
                    forAlts = [''];
                }

                let linkingSyntaxes = [];
                if (!needsFor(type)) {
                    for (const lt of ltAlts) {
                        linkingSyntaxes.push(linkFormatter(lt));
                    }
                }
                if (!refusesFor(type)) {
                    for (const f of forAlts) {
                        linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
                    }
                }
                return [
                    mk.b({}, 'Possible linking syntaxes:'),
                    mk.ul({},
                        ...linkingSyntaxes.map(link => {
                            const copyLink = async () =>
                                await navigator.clipboard.writeText(link);
                            return mk.li({},
                                mk.div({ class: 'link-item' },
                                    mk.button({
                                        class: 'copy-icon', title: 'Copy',
                                        type: 'button',
                                        _onclick: copyLink,
                                        tabindex: 0,
                                    }, mk.span({ class: 'icon' })),
                                    mk.span({}, link)
                                )
                            );
                        })
                    )
                ];
            }
        }
    </script>
    <script>/* Boilerplate: script-position-annos */
        "use strict";
        {
            function repositionAnnoPanels() {
                const panels = [...document.querySelectorAll("[data-anno-for]")];
                hydratePanels(panels);
                let vSoFar = 0;
                for (const panel of panels.sort(cmpTops)) {
                    if (panel.top < vSoFar) {
                        panel.top = vSoFar;
                        panel.style.top = vSoFar + "px";
                    }
                    vSoFar = panel.top + panel.height + 15;
                }
            }
            function hydratePanels(panels) {
                const main = document.querySelector("main");
                let mainRect;
                if (main) mainRect = main.getBoundingClientRect();
                // First display them all, if they're not already visible.
                for (const panel of panels) {
                    panel.classList.remove("unpositioned");
                }
                // Measure them all
                for (const panel of panels) {
                    const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
                    if (!dfn) {
                        console.log("Can't find the annotation panel target:", panel);
                        continue;
                    }
                    panel.dfn = dfn;
                    panel.top = window.scrollY + dfn.getBoundingClientRect().top;
                    let panelRect = panel.getBoundingClientRect();
                    panel.height = panelRect.height;
                    if (main) {
                        panel.overlappingMain = panelRect.left < mainRect.right;
                    } else {
                        panel.overlappingMain = false;
                    }
                }
                // And finally position them
                for (const panel of panels) {
                    const dfn = panel.dfn;
                    if (!dfn) continue;
                    panel.style.top = panel.top + "px";
                    panel.classList.toggle("overlapping-main", panel.overlappingMain);
                }
            }

            function cmpTops(a, b) {
                return a.top - b.top;
            }

            window.addEventListener("load", repositionAnnoPanels);
            window.addEventListener("resize", repositionAnnoPanels);
        }
    </script>
    <script>/* Boilerplate: script-ref-hints */
        "use strict";
        {
            let refsData = {
                "#callbackdef-createhtmlcallback": { "displayText": "CreateHTMLCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "CreateHTMLCallback", "type": "callback", "url": "#callbackdef-createhtmlcallback" },
                "#callbackdef-createscriptcallback": { "displayText": "CreateScriptCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "CreateScriptCallback", "type": "callback", "url": "#callbackdef-createscriptcallback" },
                "#callbackdef-createscripturlcallback": { "displayText": "CreateScriptURLCallback", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "CreateScriptURLCallback", "type": "callback", "url": "#callbackdef-createscripturlcallback" },
                "#create-a-trusted-type": { "displayText": "create a trusted type", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "create a trusted type", "type": "dfn", "url": "#create-a-trusted-type" },
                "#create-a-trusted-type-policy": { "displayText": "create a trusted type policy", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "create a trusted type policy", "type": "dfn", "url": "#create-a-trusted-type-policy" },
                "#default-policy-explanation": { "displayText": "default-policy-explanation", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "default-policy-explanation", "type": "dfn", "url": "#default-policy-explanation" },
                "#dictdef-trustedtypepolicyoptions": { "displayText": "TrustedTypePolicyOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "TrustedTypePolicyOptions", "type": "dictionary", "url": "#dictdef-trustedtypepolicyoptions" },
                "#does-sink-type-require-trusted-types": { "displayText": "does sink type require trusted types?", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "does sink type require trusted types?", "type": "dfn", "url": "#does-sink-type-require-trusted-types" },
                "#dom-htmlscriptelement-innertext": { "displayText": "innerText", "export": true, "for_": ["HTMLScriptElement"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "innerText", "type": "attribute", "url": "#dom-htmlscriptelement-innertext" },
                "#dom-htmlscriptelement-src": { "displayText": "src", "export": true, "for_": ["HTMLScriptElement"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "src", "type": "attribute", "url": "#dom-htmlscriptelement-src" },
                "#dom-htmlscriptelement-text": { "displayText": "text", "export": true, "for_": ["HTMLScriptElement"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "text", "type": "attribute", "url": "#dom-htmlscriptelement-text" },
                "#dom-htmlscriptelement-textcontent": { "displayText": "textContent", "export": true, "for_": ["HTMLScriptElement"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "textContent", "type": "attribute", "url": "#dom-htmlscriptelement-textcontent" },
                "#dom-trustedhtml-tojson": { "displayText": "toJSON()", "export": true, "for_": ["TrustedHTML"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "toJSON()", "type": "method", "url": "#dom-trustedhtml-tojson" },
                "#dom-trustedscript-tojson": { "displayText": "toJSON()", "export": true, "for_": ["TrustedScript"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "toJSON()", "type": "method", "url": "#dom-trustedscript-tojson" },
                "#dom-trustedscripturl-tojson": { "displayText": "toJSON()", "export": true, "for_": ["TrustedScriptURL"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "toJSON()", "type": "method", "url": "#dom-trustedscripturl-tojson" },
                "#dom-trustedtypepolicy-createhtml": { "displayText": "createHTML(input)", "export": true, "for_": ["TrustedTypePolicy"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "createHTML(input)", "type": "method", "url": "#dom-trustedtypepolicy-createhtml" },
                "#dom-trustedtypepolicy-createscript": { "displayText": "createScript(input)", "export": true, "for_": ["TrustedTypePolicy"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "createScript(input)", "type": "method", "url": "#dom-trustedtypepolicy-createscript" },
                "#dom-trustedtypepolicy-createscripturl": { "displayText": "createScriptURL(input)", "export": true, "for_": ["TrustedTypePolicy"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "createScriptURL(input)", "type": "method", "url": "#dom-trustedtypepolicy-createscripturl" },
                "#dom-trustedtypepolicyfactory-createpolicy": { "displayText": "createPolicy(policyName)", "export": true, "for_": ["TrustedTypePolicyFactory"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "createPolicy(policyName)", "type": "method", "url": "#dom-trustedtypepolicyfactory-createpolicy" },
                "#dom-trustedtypepolicyfactory-defaultpolicy": { "displayText": "defaultPolicy", "export": true, "for_": ["TrustedTypePolicyFactory"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "defaultPolicy", "type": "attribute", "url": "#dom-trustedtypepolicyfactory-defaultpolicy" },
                "#dom-trustedtypepolicyfactory-emptyhtml": { "displayText": "emptyHTML", "export": true, "for_": ["TrustedTypePolicyFactory"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "emptyHTML", "type": "attribute", "url": "#dom-trustedtypepolicyfactory-emptyhtml" },
                "#dom-trustedtypepolicyfactory-emptyscript": { "displayText": "emptyScript", "export": true, "for_": ["TrustedTypePolicyFactory"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "emptyScript", "type": "attribute", "url": "#dom-trustedtypepolicyfactory-emptyscript" },
                "#dom-trustedtypepolicyfactory-getattributetype": { "displayText": "getAttributeType(tagName, attribute, elementNs, attrNs)", "export": true, "for_": ["TrustedTypePolicyFactory"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "getAttributeType(tagName, attribute, elementNs, attrNs)", "type": "method", "url": "#dom-trustedtypepolicyfactory-getattributetype" },
                "#dom-trustedtypepolicyfactory-getpropertytype": { "displayText": "getPropertyType(tagName, property, elementNs)", "export": true, "for_": ["TrustedTypePolicyFactory"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "getPropertyType(tagName, property, elementNs)", "type": "method", "url": "#dom-trustedtypepolicyfactory-getpropertytype" },
                "#dom-trustedtypepolicyfactory-ishtml": { "displayText": "isHTML(value)", "export": true, "for_": ["TrustedTypePolicyFactory"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "isHTML(value)", "type": "method", "url": "#dom-trustedtypepolicyfactory-ishtml" },
                "#dom-trustedtypepolicyfactory-isscript": { "displayText": "isScript(value)", "export": true, "for_": ["TrustedTypePolicyFactory"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "isScript(value)", "type": "method", "url": "#dom-trustedtypepolicyfactory-isscript" },
                "#dom-trustedtypepolicyfactory-isscripturl": { "displayText": "isScriptURL(value)", "export": true, "for_": ["TrustedTypePolicyFactory"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "isScriptURL(value)", "type": "method", "url": "#dom-trustedtypepolicyfactory-isscripturl" },
                "#dom-trustedtypepolicyoptions-createhtml": { "displayText": "createHTML", "export": true, "for_": ["TrustedTypePolicyOptions"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "createHTML", "type": "dict-member", "url": "#dom-trustedtypepolicyoptions-createhtml" },
                "#dom-trustedtypepolicyoptions-createscript": { "displayText": "createScript", "export": true, "for_": ["TrustedTypePolicyOptions"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "createScript", "type": "dict-member", "url": "#dom-trustedtypepolicyoptions-createscript" },
                "#dom-trustedtypepolicyoptions-createscripturl": { "displayText": "createScriptURL", "export": true, "for_": ["TrustedTypePolicyOptions"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "createScriptURL", "type": "dict-member", "url": "#dom-trustedtypepolicyoptions-createscripturl" },
                "#dom-windoworworkerglobalscope-trustedtypes": { "displayText": "trustedTypes", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "trustedTypes", "type": "attribute", "url": "#dom-windoworworkerglobalscope-trustedtypes" },
                "#enforcement": { "displayText": "enforcement", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "enforcement", "type": "dfn", "url": "#enforcement" },
                "#get-trusted-type-compliant-string": { "displayText": "get trusted type compliant string", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "get trusted type compliant string", "type": "dfn", "url": "#get-trusted-type-compliant-string" },
                "#get-trusted-type-data-for-attribute①": { "displayText": "get trusted type data for attribute", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "get trusted type data for attribute", "type": "dfn", "url": "#get-trusted-type-data-for-attribute\u2460" },
                "#get-trusted-type-policy-value": { "displayText": "get trusted type policy value", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "get trusted type policy value", "type": "dfn", "url": "#get-trusted-type-policy-value" },
                "#htmlscriptelement-script-text": { "displayText": "script text", "export": true, "for_": ["HTMLScriptElement", "SVGScriptElement"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "script text", "type": "dfn", "url": "#htmlscriptelement-script-text" },
                "#injection-sink": { "displayText": "injection sink", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "injection sink", "type": "dfn", "url": "#injection-sink" },
                "#policies": { "displayText": "policies", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "policies", "type": "dfn", "url": "#policies" },
                "#prepare-the-script-text": { "displayText": "prepare the script text", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "prepare the script text", "type": "dfn", "url": "#prepare-the-script-text" },
                "#process-value-with-a-default-policy": { "displayText": "process value with a default policy", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "process value with a default policy", "type": "dfn", "url": "#process-value-with-a-default-policy" },
                "#require-trusted-types-for-directive": { "displayText": "require-trusted-types-for-directive", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "require-trusted-types-for-directive", "type": "dfn", "url": "#require-trusted-types-for-directive" },
                "#serialized-tt-configuration": { "displayText": "serialized-tt-configuration", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "serialized-tt-configuration", "type": "dfn", "url": "#serialized-tt-configuration" },
                "#should-sink-type-mismatch-violation-be-blocked-by-content-security-policy": { "displayText": "should sink type mismatch violation be blocked by content security policy?", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "should sink type mismatch violation be blocked by content security policy?", "type": "dfn", "url": "#should-sink-type-mismatch-violation-be-blocked-by-content-security-policy" },
                "#should-trusted-type-policy-creation-be-blocked-by-content-security-policy": { "displayText": "should trusted type policy creation be blocked by content security policy?", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "should trusted type policy creation be blocked by content security policy?", "type": "dfn", "url": "#should-trusted-type-policy-creation-be-blocked-by-content-security-policy" },
                "#trusted-type": { "displayText": "trusted type", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "trusted type", "type": "dfn", "url": "#trusted-type" },
                "#trusted-types-directive": { "displayText": "trusted-types-directive", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "trusted-types-directive", "type": "dfn", "url": "#trusted-types-directive" },
                "#trusted-types-sink-group": { "displayText": "trusted-types-sink-group", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "trusted-types-sink-group", "type": "dfn", "url": "#trusted-types-sink-group" },
                "#trusted-types-sink-group-keyword": { "displayText": "trusted-types-sink-group-keyword", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "trusted-types-sink-group-keyword", "type": "dfn", "url": "#trusted-types-sink-group-keyword" },
                "#trustedhtml": { "displayText": "TrustedHTML", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "TrustedHTML", "type": "interface", "url": "#trustedhtml" },
                "#trustedhtml-data": { "displayText": "data", "export": true, "for_": ["TrustedHTML"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "data", "type": "dfn", "url": "#trustedhtml-data" },
                "#trustedhtml-stringification-behavior": { "displayText": "stringification behavior", "export": true, "for_": ["TrustedHTML"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "stringification behavior", "type": "dfn", "url": "#trustedhtml-stringification-behavior" },
                "#trustedscript": { "displayText": "TrustedScript", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "TrustedScript", "type": "interface", "url": "#trustedscript" },
                "#trustedscript-data": { "displayText": "data", "export": true, "for_": ["TrustedScript"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "data", "type": "dfn", "url": "#trustedscript-data" },
                "#trustedscript-stringification-behavior": { "displayText": "stringification behavior", "export": true, "for_": ["TrustedScript"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "stringification behavior", "type": "dfn", "url": "#trustedscript-stringification-behavior" },
                "#trustedscripturl": { "displayText": "TrustedScriptURL", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "TrustedScriptURL", "type": "interface", "url": "#trustedscripturl" },
                "#trustedscripturl-data": { "displayText": "data", "export": true, "for_": ["TrustedScriptURL"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "data", "type": "dfn", "url": "#trustedscripturl-data" },
                "#trustedscripturl-stringification-behavior": { "displayText": "stringification behavior", "export": true, "for_": ["TrustedScriptURL"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "stringification behavior", "type": "dfn", "url": "#trustedscripturl-stringification-behavior" },
                "#trustedtypepolicy": { "displayText": "TrustedTypePolicy", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "TrustedTypePolicy", "type": "interface", "url": "#trustedtypepolicy" },
                "#trustedtypepolicy-name": { "displayText": "name", "export": true, "for_": ["TrustedTypePolicy"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "name", "type": "dfn", "url": "#trustedtypepolicy-name" },
                "#trustedtypepolicy-options": { "displayText": "options", "export": true, "for_": ["TrustedTypePolicy"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "options", "type": "dfn", "url": "#trustedtypepolicy-options" },
                "#trustedtypepolicyfactory": { "displayText": "TrustedTypePolicyFactory", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "TrustedTypePolicyFactory", "type": "interface", "url": "#trustedtypepolicyfactory" },
                "#trustedtypepolicyfactory-created-policy-names": { "displayText": "created policy names", "export": true, "for_": ["TrustedTypePolicyFactory"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "created policy names", "type": "dfn", "url": "#trustedtypepolicyfactory-created-policy-names" },
                "#trustedtypepolicyfactory-default-policy": { "displayText": "default policy", "export": true, "for_": ["TrustedTypePolicyFactory"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "default policy", "type": "dfn", "url": "#trustedtypepolicyfactory-default-policy" },
                "#tt-expression": { "displayText": "tt-expression", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "tt-expression", "type": "dfn", "url": "#tt-expression" },
                "#tt-keyword": { "displayText": "tt-keyword", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "tt-keyword", "type": "dfn", "url": "#tt-keyword" },
                "#tt-policy-name": { "displayText": "tt-policy-name", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "tt-policy-name", "type": "dfn", "url": "#tt-policy-name" },
                "#tt-wildcard": { "displayText": "tt-wildcard", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "tt-wildcard", "type": "dfn", "url": "#tt-wildcard" },
                "#typedefdef-trustedtype": { "displayText": "TrustedType", "export": true, "for_": [], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "TrustedType", "type": "typedef", "url": "#typedefdef-trustedtype" },
                "#window-trusted-type-policy-factory": { "displayText": "trusted type policy factory", "export": true, "for_": ["Window"], "level": "", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "local", "text": "trusted type policy factory", "type": "dfn", "url": "#window-trusted-type-policy-factory" },
                "https://dom.spec.whatwg.org/#concept-child-text-content": { "displayText": "child text content", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "child text content", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-child-text-content" },
                "https://dom.spec.whatwg.org/#concept-element-interface": { "displayText": "element interface", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "element interface", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-element-interface" },
                "https://dom.spec.whatwg.org/#concept-element-namespace": { "displayText": "element namespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "dom", "spec": "dom", "status": "anchor-block", "text": "element namespace", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-element-namespace" },
                "https://dom.spec.whatwg.org/#concept-node-document": { "displayText": "node document", "export": true, "for_": ["Node"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "node document", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-node-document" },
                "https://dom.spec.whatwg.org/#document": { "displayText": "Document", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Document", "type": "interface", "url": "https://dom.spec.whatwg.org/#document" },
                "https://dom.spec.whatwg.org/#dom-node-textcontent": { "displayText": "textContent", "export": true, "for_": ["Node"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "textContent", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-node-textcontent" },
                "https://dom.spec.whatwg.org/#element": { "displayText": "Element", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Element", "type": "interface", "url": "https://dom.spec.whatwg.org/#element" },
                "https://dom.spec.whatwg.org/#get-text-content": { "displayText": "get text content", "export": true, "for_": [], "level": "", "normative": true, "shortname": "dom", "spec": "dom", "status": "anchor-block", "text": "get text content", "type": "dfn", "url": "https://dom.spec.whatwg.org/#get-text-content" },
                "https://dom.spec.whatwg.org/#set-text-content": { "displayText": "set text content", "export": true, "for_": [], "level": "", "normative": true, "shortname": "dom", "spec": "dom", "status": "anchor-block", "text": "set text content", "type": "dfn", "url": "https://dom.spec.whatwg.org/#set-text-content" },
                "https://dom.spec.whatwg.org/#string-replace-all": { "displayText": "string replace all", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "string replace all", "type": "dfn", "url": "https://dom.spec.whatwg.org/#string-replace-all" },
                "https://fetch.spec.whatwg.org/#concept-request": { "displayText": "request", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "request", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request" },
                "https://fetch.spec.whatwg.org/#concept-request-client": { "displayText": "client", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "client", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-client" },
                "https://fetch.spec.whatwg.org/#concept-request-url": { "displayText": "URL", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "url", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-url" },
                "https://fetch.spec.whatwg.org/#local-scheme": { "displayText": "local scheme", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "local scheme", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#local-scheme" },
                "https://html.spec.whatwg.org/#attr-script-src": { "displayText": "src", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "src", "type": "dfn", "url": "https://html.spec.whatwg.org/#attr-script-src" },
                "https://html.spec.whatwg.org/#event-handler-content-attributes": { "displayText": "event handler content attribute", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "event handler content attribute", "type": "dfn", "url": "https://html.spec.whatwg.org/#event-handler-content-attributes" },
                "https://html.spec.whatwg.org/#get-the-text-steps": { "displayText": "get the text steps", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "get the text steps", "type": "dfn", "url": "https://html.spec.whatwg.org/#get-the-text-steps" },
                "https://html.spec.whatwg.org/#nestedParsing": { "displayText": "reentrant invocation of the parser", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "reentrant invocation of the parser", "type": "dfn", "url": "https://html.spec.whatwg.org/#nestedParsing" },
                "https://html.spec.whatwg.org/#parsing-main-incdata": { "displayText": "The text insertion mode", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "the text insertion mode", "type": "dfn", "url": "https://html.spec.whatwg.org/#parsing-main-incdata" },
                "https://html.spec.whatwg.org/#prepare-the-script-element": { "displayText": "prepare the script element", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "prepare the script element", "type": "dfn", "url": "https://html.spec.whatwg.org/#prepare-the-script-element" },
                "https://html.spec.whatwg.org/#set-the-inner-text-steps": { "displayText": "set the inner text steps", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "set the inner text steps", "type": "dfn", "url": "https://html.spec.whatwg.org/#set-the-inner-text-steps" },
                "https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions": { "displayText": "CEReactions", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "CEReactions", "type": "extended-attribute", "url": "https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" },
                "https://html.spec.whatwg.org/multipage/dom.html#dom-innertext": { "displayText": "innerText", "export": true, "for_": ["HTMLElement"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "innerText", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/dom.html#dom-innertext" },
                "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring": { "displayText": "parseFromString(string, type)", "export": true, "for_": ["DOMParser"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "parseFromString(string, type)", "type": "method", "url": "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring" },
                "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml": { "displayText": "innerHTML", "export": true, "for_": ["Element"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "innerHTML", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml" },
                "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-outerhtml": { "displayText": "outerHTML", "export": true, "for_": ["Element"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "outerHTML", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-outerhtml" },
                "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-shadowroot-innerhtml": { "displayText": "innerHTML", "export": true, "for_": ["ShadowRoot"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "innerHTML", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-shadowroot-innerhtml" },
                "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#htmliframeelement": { "displayText": "HTMLIFrameElement", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "HTMLIFrameElement", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#htmliframeelement" },
                "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": { "displayText": "Window", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Window", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
                "https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement": { "displayText": "HTMLScriptElement", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "HTMLScriptElement", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/scripting.html#htmlscriptelement" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm": { "displayText": "realm", "export": true, "for_": ["global object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "realm", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global": { "displayText": "global object", "export": true, "for_": ["realm"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": { "displayText": "relevant global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global": { "displayText": "global object", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" },
                "https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope": { "displayText": "WindowOrWorkerGlobalScope", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "WindowOrWorkerGlobalScope", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" },
                "https://html.spec.whatwg.org/multipage/workers.html#worker": { "displayText": "Worker", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Worker", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/workers.html#worker" },
                "https://infra.spec.whatwg.org/#ascii-lowercase": { "displayText": "ASCII lowercase", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii lowercase", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-lowercase" },
                "https://infra.spec.whatwg.org/#assert": { "displayText": "assert", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "assert", "type": "dfn", "url": "https://infra.spec.whatwg.org/#assert" },
                "https://infra.spec.whatwg.org/#html-namespace": { "displayText": "HTML namespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "anchor-block", "text": "html namespace", "type": "dfn", "url": "https://infra.spec.whatwg.org/#html-namespace" },
                "https://infra.spec.whatwg.org/#list-contain": { "displayText": "list contain", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "anchor-block", "text": "list contain", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-contain" },
                "https://infra.spec.whatwg.org/#mathml-namespace": { "displayText": "MathML namespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "anchor-block", "text": "mathml namespace", "type": "dfn", "url": "https://infra.spec.whatwg.org/#mathml-namespace" },
                "https://infra.spec.whatwg.org/#ordered-set": { "displayText": "ordered set", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ordered set", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ordered-set" },
                "https://infra.spec.whatwg.org/#set-append": { "displayText": "append", "export": true, "for_": ["set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#set-append" },
                "https://infra.spec.whatwg.org/#string-concatenate": { "displayText": "concatenate", "export": true, "for_": ["string"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "concatenate", "type": "dfn", "url": "https://infra.spec.whatwg.org/#string-concatenate" },
                "https://infra.spec.whatwg.org/#svg-namespace": { "displayText": "SVG namespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "anchor-block", "text": "svg namespace", "type": "dfn", "url": "https://infra.spec.whatwg.org/#svg-namespace" },
                "https://infra.spec.whatwg.org/#xlink-namespace": { "displayText": "XLink namespace", "export": true, "for_": [], "level": "", "normative": true, "shortname": "infra", "spec": "infra", "status": "anchor-block", "text": "xlink namespace", "type": "dfn", "url": "https://infra.spec.whatwg.org/#xlink-namespace" },
                "https://url.spec.whatwg.org/#concept-url-parser": { "displayText": "URL parser", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "url parser", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-parser" },
                "https://url.spec.whatwg.org/#concept-url-scheme": { "displayText": "scheme", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "scheme", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-scheme" },
                "https://url.spec.whatwg.org/#concept-url-serializer": { "displayText": "URL serializer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "url serializer", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-serializer" },
                "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
                "https://webidl.spec.whatwg.org/#LegacyNullToEmptyString": { "displayText": "LegacyNullToEmptyString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "LegacyNullToEmptyString", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#LegacyNullToEmptyString" },
                "https://webidl.spec.whatwg.org/#idl-DOMString": { "displayText": "DOMString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
                "https://webidl.spec.whatwg.org/#idl-USVString": { "displayText": "USVString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "USVString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
                "https://webidl.spec.whatwg.org/#idl-any": { "displayText": "any", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "any", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-any" },
                "https://webidl.spec.whatwg.org/#idl-boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
                "https://webidl.spec.whatwg.org/#invoke-a-callback-function": { "displayText": "invoke", "export": true, "for_": [], "level": "", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "anchor-block", "text": "invoke", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#invoke-a-callback-function" },
                "https://webidl.spec.whatwg.org/#this": { "displayText": "this", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "this", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#this" },
                "https://www.w3.org/TR/CSP3/#content-security-policy-object": { "displayText": "content security policy object", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "content security policy object", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#content-security-policy-object" },
                "https://www.w3.org/TR/CSP3/#directive-inline-check": { "displayText": "inline check", "export": true, "for_": ["directive"], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "inline check", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#directive-inline-check" },
                "https://www.w3.org/TR/CSP3/#directive-name": { "displayText": "name", "export": true, "for_": ["directive"], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "name", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#directive-name" },
                "https://www.w3.org/TR/CSP3/#directive-pre-navigation-check": { "displayText": "pre-navigation check", "export": true, "for_": ["directive"], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "pre-navigation check", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#directive-pre-navigation-check" },
                "https://www.w3.org/TR/CSP3/#directive-value": { "displayText": "value", "export": true, "for_": ["directive"], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "value", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#directive-value" },
                "https://www.w3.org/TR/CSP3/#directives": { "displayText": "directives", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "directives", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#directives" },
                "https://www.w3.org/TR/CSP3/#global-object-csp-list": { "displayText": "CSP list", "export": false, "for_": ["global object"], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "csp list", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#global-object-csp-list" },
                "https://www.w3.org/TR/CSP3/#header-content-security-policy-report-only": { "displayText": "Content-Security-Policy-Report-Only", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "content-security-policy-report-only", "type": "http-header", "url": "https://www.w3.org/TR/CSP3/#header-content-security-policy-report-only" },
                "https://www.w3.org/TR/CSP3/#policy-directive-set": { "displayText": "directive set", "export": true, "for_": ["policy"], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "directive set", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#policy-directive-set" },
                "https://www.w3.org/TR/CSP3/#policy-disposition": { "displayText": "disposition", "export": true, "for_": ["policy"], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "disposition", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#policy-disposition" },
                "https://www.w3.org/TR/CSP3/#script-src": { "displayText": "script-src", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "script-src", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#script-src" },
                "https://www.w3.org/TR/CSP3/#violation-resource": { "displayText": "resource", "export": true, "for_": ["violation"], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "resource", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#violation-resource" },
                "https://www.w3.org/TR/CSP3/#violation-sample": { "displayText": "sample", "export": true, "for_": ["violation"], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "sample", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#violation-sample" },
                "https://www.w3.org/TR/FileAPI/#dfn-Blob": { "displayText": "Blob", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "snapshot", "text": "Blob", "type": "interface", "url": "https://www.w3.org/TR/FileAPI/#dfn-Blob" },
                "https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement": { "displayText": "SVGScriptElement", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "svg", "spec": "svg2", "status": "snapshot", "text": "SVGScriptElement", "type": "interface", "url": "https://www.w3.org/TR/SVG2/interact.html#InterfaceSVGScriptElement" },
            };

            function mkRefHint(link, ref) {
                const linkText = link.textContent;
                let dfnTextElements = '';
                if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
                    // Give the original term if it's being displayed in a different way.
                    // But allow casing differences, they're insignificant.
                    dfnTextElements =
                        mk.li({},
                            mk.b({}, "Term: "),
                            mk.span({}, ref.displayText)
                        );
                }
                const forList = ref.for_;
                let forListElements;
                if (forList.length == 0) {
                    forListElements = [];
                } else if (forList.length == 1) {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.span({}, forList[0]),
                    );
                } else {
                    forListElements = mk.li({},
                        mk.b({}, "For: "),
                        mk.ul({},
                            ...forList.map(forItem =>
                                mk.li({},
                                    mk.span({}, forItem)
                                ),
                            ),
                        ),
                    );
                }
                const url = ref.url;
                const safeUrl = encodeURIComponent(url);
                const hintPanel = mk.aside({
                    class: "ref-hint",
                    id: `ref-hint-for-${safeUrl}`,
                    "data-for": url,
                    "aria-labelled-by": `ref-hint-for-${safeUrl}`,
                },
                    mk.ul({},
                        dfnTextElements,
                        mk.li({},
                            mk.b({}, "URL: "),
                            mk.a({ href: url, class: "ref" }, url),
                        ),
                        mk.li({},
                            mk.b({}, "Type: "),
                            mk.span({}, `${ref.type}`),
                        ),
                        mk.li({},
                            mk.b({}, "Spec: "),
                            mk.span({}, `${ref.spec ? ref.spec : ''}`),
                        ),
                        forListElements
                    ),
                );
                hintPanel.forLink = link;
                setupRefHintEventListeners(link, hintPanel);
                return hintPanel;
            }

            function hideAllRefHints() {
                queryAll(".ref-hint").forEach(el => hideRefHint(el));
            }

            function hideRefHint(refHint) {
                const link = refHint.forLink;
                link.setAttribute("aria-expanded", "false");
                if (refHint.teardownEventListeners) {
                    refHint.teardownEventListeners();
                }
                refHint.remove();
            }

            function showRefHint(link) {
                if (link.classList.contains("dfn-link")) return;
                const url = link.getAttribute("href");
                const refHintKey = link.getAttribute("data-refhint-key");
                let key = url;
                if (refHintKey) {
                    key = refHintKey + "_" + url;
                }
                const ref = refsData[key];
                if (!ref) return;

                hideAllRefHints(); // Only display one at this time.

                const refHint = mkRefHint(link, ref);
                append(document.body, refHint);
                link.setAttribute("aria-expanded", "true");
                positionRefHint(refHint);
            }

            function setupRefHintEventListeners(link, refHint) {
                if (refHint.teardownEventListeners) return;
                // Add event handlers to hide the refHint after the user moves away
                // from both the link and refHint, if not hovering either within one second.
                let timeout = null;
                const startHidingRefHint = (event) => {
                    if (timeout) {
                        clearTimeout(timeout);
                    }
                    timeout = setTimeout(() => {
                        hideRefHint(refHint);
                    }, 1000);
                }
                const resetHidingRefHint = (event) => {
                    if (timeout) clearTimeout(timeout);
                    timeout = null;
                };
                link.addEventListener("mouseleave", startHidingRefHint);
                link.addEventListener("mouseenter", resetHidingRefHint);
                link.addEventListener("blur", startHidingRefHint);
                link.addEventListener("focus", resetHidingRefHint);
                refHint.addEventListener("mouseleave", startHidingRefHint);
                refHint.addEventListener("mouseenter", resetHidingRefHint);
                refHint.addEventListener("blur", startHidingRefHint);
                refHint.addEventListener("focus", resetHidingRefHint);

                refHint.teardownEventListeners = () => {
                    // remove event listeners
                    resetHidingRefHint();
                    link.removeEventListener("mouseleave", startHidingRefHint);
                    link.removeEventListener("mouseenter", resetHidingRefHint);
                    link.removeEventListener("blur", startHidingRefHint);
                    link.removeEventListener("focus", resetHidingRefHint);
                    refHint.removeEventListener("mouseleave", startHidingRefHint);
                    refHint.removeEventListener("mouseenter", resetHidingRefHint);
                    refHint.removeEventListener("blur", startHidingRefHint);
                    refHint.removeEventListener("focus", resetHidingRefHint);
                };
            }

            function positionRefHint(refHint) {
                const link = refHint.forLink;
                const linkPos = getBounds(link);
                refHint.style.top = linkPos.bottom + "px";
                refHint.style.left = linkPos.left + "px";

                const panelPos = refHint.getBoundingClientRect();
                const panelMargin = 8;
                const maxRight = document.body.parentNode.clientWidth - panelMargin;
                if (panelPos.right > maxRight) {
                    const overflowAmount = panelPos.right - maxRight;
                    const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
                    refHint.style.left = newLeft + "px";
                }
            }

            // TODO: shared util
            // Returns the root-level absolute position {left and top} of element.
            function getBounds(el, relativeTo = document.body) {
                const relativeRect = relativeTo.getBoundingClientRect();
                const elRect = el.getBoundingClientRect();
                const top = elRect.top - relativeRect.top;
                const left = elRect.left - relativeRect.left;
                return {
                    top,
                    left,
                    bottom: top + elRect.height,
                    right: left + elRect.width,
                }
            }

            function showRefHintListener(e) {
                // If the target isn't in a link (or is a link),
                // just ignore it.
                let link = e.target.closest("a");
                if (!link) return;

                // If the target is in a ref-hint panel
                // (aka a link in the already-open one),
                // also just ignore it.
                if (link.closest(".ref-hint")) return;

                // Otherwise, show the panel for the link.
                showRefHint(link);
            }

            function hideAllHintsListener(e) {
                // If the click is inside a ref-hint panel, ignore it.
                if (e.target.closest(".ref-hint")) return;
                // Otherwise, close all the current panels.
                hideAllRefHints();
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.addEventListener("mousedown", showRefHintListener);
                document.body.addEventListener("focus", showRefHintListener);

                document.body.addEventListener("click", hideAllHintsListener);
            });

            window.addEventListener("resize", () => {
                // Hide any open ref hint.
                hideAllRefHints();
            });
        }
    </script>
    <script>/* Boilerplate: script-wpt */
        "use strict";
        {
            let wptData = {
                "paths": ["/trusted-types/"],
            };

            document.addEventListener("DOMContentLoaded", async () => {
                if (wptData.paths.length == 0) return;

                const runsUrl = "https://wpt.fyi/api/runs?label=master&label=stable&max-count=1&product=chrome&product=firefox&product=safari&product=edge";
                const runs = await (await fetch(runsUrl)).json();

                let testResults = [];
                for (const pathPrefix of wptData.paths) {
                    const pathResults = await (await fetch("https://wpt.fyi/api/search", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            "run_ids": runs.map(x => x.id),
                            "query": { "path": pathPrefix },
                        })
                    })).json();
                    testResults = testResults.concat(pathResults.results);
                }

                const browsers = runs.map(x => ({ name: x.browser_name, version: x.browser_version, passes: 0, total: 0 }));
                const resultsFromPath = new Map(testResults.map(result => {
                    const testPath = result.test;
                    const passes = result.legacy_status.map(x => [x.passes, x.total]);
                    return [testPath, passes];
                }));
                const seenTests = new Set();
                document.querySelectorAll(".wpt-name").forEach(nameEl => {
                    const passData = resultsFromPath.get("/" + nameEl.getAttribute("title"));
                    if (!passData) {
                        console.log("Couldn't find test in results:", nameEl);
                        return
                    }
                    const numTests = passData[0][1];
                    if (numTests > 1) {
                        nameEl.insertAdjacentElement("beforeend",
                            mk.small({}, ` (${numTests} tests)`));
                    }
                    if (passData == undefined) return;
                    const resultsEl = mk.span({ "class": "wpt-results" },
                        ...passData.map((p, i) => mk.span(
                            {
                                "title": `${browsers[i].name} ${p[0]}/${p[1]}`,
                                "class": "wpt-result",
                                "style": `background: conic-gradient(forestgreen ${p[0] / p[1] * 360}deg, darkred 0deg);`,
                            })),
                    );
                    nameEl.insertAdjacentElement("afterend", resultsEl);

                    // Only update the summary pass/total count if we haven't seen this
                    // test before, to support authors listing the same test multiple times
                    // in a spec.
                    if (!seenTests.has(nameEl.getAttribute("title"))) {
                        seenTests.add(nameEl.getAttribute("title"));
                        passData.forEach((p, i) => {
                            browsers[i].passes += p[0];
                            browsers[i].total += p[1];
                        });
                    }
                });
                const overview = document.querySelector(".wpt-overview");
                if (overview) {
                    overview.appendChild(mk.ul({}, ...browsers.map(formatWptResult)));
                    document.head.appendChild(mk.style({},
                        `.wpt-overview ul { display: flex; flex-flow: row wrap; gap: .2em; justify-content: start; list-style: none; padding: 0; margin: 0;}
             .wpt-overview li { padding: .25em 1em; color: black; text-align: center; }
             .wpt-overview img { height: 1.5em; height: max(1.5em, 32px); background: transparent; }
             .wpt-overview .browser { font-weight: bold; }
             .wpt-overview .passes-none { background: #e57373; }
             .wpt-overview .passes-hardly { background: #ffb74d; }
             .wpt-overview .passes-a-few { background: #ffd54f; }
             .wpt-overview .passes-half { background: #fff176; }
             .wpt-overview .passes-lots { background: #dce775; }
             .wpt-overview .passes-most { background: #aed581; }
             .wpt-overview .passes-all { background: #81c784; }`));
                }
            });

            function formatWptResult({ name, version, passes, total }) {
                const passRate = passes / total;
                let passClass = "";
                if (passRate == 0) passClass = "passes-none";
                else if (passRate < .2) passClass = "passes-hardly";
                else if (passRate < .4) passClass = "passes-a-few";
                else if (passRate < .6) passClass = "passes-half";
                else if (passRate < .8) passClass = "passes-lots";
                else if (passRate < 1) passClass = "passes-most";
                else passClass = "passes-all";

                name = name[0].toUpperCase() + name.slice(1);
                const shortVersion = /^\d+/.exec(version);
                const icon = []

                if (name == "Chrome") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/chrome_64x64.png" }));
                if (name == "Edge") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/edge_64x64.png" }));
                if (name == "Safari") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/safari_64x64.png" }));
                if (name == "Firefox") icon.push(mk.img({ alt: "", src: "https://wpt.fyi/static/firefox_64x64.png" }));

                return mk.li({ "class": passClass },
                    mk.nobr({ 'class': 'browser' }, ...icon, ` ${name} ${shortVersion}`),
                    mk.br(),
                    mk.nobr({ 'class': 'pass-rate' }, `${passes}/${total}`)
                );
            }
        }
    </script>
    <script src="/dropdown.js"></script>