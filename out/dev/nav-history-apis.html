<!DOCTYPE html><html class=split lang=en-US-x-hixie><script src=/link-fixup.js defer=""></script><meta charset=utf-8><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name=viewport><title>HTML 标准，适用于网页开发者的版本</title><meta content=#3c790a name=theme-color><meta content="light dark" name=color-scheme><link rel=stylesheet href=https://resources.whatwg.org/standard-shared-with-dev.css crossorigin=""><link rel=icon href=https://resources.whatwg.org/logo.svg crossorigin=""><link rel=stylesheet href=/dev/styles.css crossorigin=""><script>
    function toggleStatus(div) {
      div.parentNode.classList.toggle('wrapped');
    }
    function setLinkFragment(link) {
      link.hash = location.hash;
    }
  </script><body>
  <script async="" src=/dev/search.js></script>
  
  
  <header id=head class="head with-buttons">
    <a href=https://whatwg.org/ class=logo><img width=100 alt=WHATWG crossorigin="" class=darkmode-aware src=https://resources.whatwg.org/logo.svg height=100></a>
    
    <hgroup><h1><a rel=home href=/dev/>HTML: 现行标准</a></h1><p id=dev-edition-h2>适用于网页开发者的版本 — 上次更新 <span class=pubdate>7 September 2024</span></hgroup>
    

    <div id=search>
      <input placeholder="搜索。按 '/' 键" autocomplete=off name=query id=query type=search>
      <ol id=results></ol>
    </div>
  </header>

  

  

  

  
  

  
  

  

  <nav><a href=browsers.html>← 7 Loading web pages</a> — <a href=./>Table of Contents</a> — <a href=document-sequences.html>7.3 Infrastructure for sequences of documents →</a></nav><ol class=toc><li><ol><li><a href=nav-history-apis.html#nav-traversal-apis><span class=secno>7.2</span> APIs related to navigation and
    session history</a><ol><li><a href=nav-history-apis.html#the-window-object><span class=secno>7.2.1</span> The <code>Window</code> object</a><ol><li><a href=nav-history-apis.html#apis-for-creating-and-navigating-browsing-contexts-by-name><span class=secno>7.2.1.1</span> Opening and closing windows</a><li><a href=nav-history-apis.html#accessing-other-browsing-contexts><span class=secno>7.2.1.2</span> Indexed access on the <code>Window</code> object</a><li><a href=nav-history-apis.html#named-access-on-the-window-object><span class=secno>7.2.1.3</span> Named access on the <code>Window</code> object</a><li><a href=nav-history-apis.html#navigating-nested-browsing-contexts-in-the-dom><span class=secno>7.2.1.4</span> Accessing related windows</a><li><a href=nav-history-apis.html#browser-interface-elements><span class=secno>7.2.1.5</span> Historical browser interface element APIs</a></ol><li><a href=nav-history-apis.html#the-windowproxy-exotic-object><span class=secno>7.2.2</span> The <code>WindowProxy</code> exotic object</a><li><a href=nav-history-apis.html#the-location-interface><span class=secno>7.2.3</span> The <code>Location</code> interface</a><li><a href=nav-history-apis.html#the-history-interface><span class=secno>7.2.4</span> The <code>History</code> interface</a><li><a href=nav-history-apis.html#navigation-api><span class=secno>7.2.5</span> The navigation API</a><ol><li><a href=nav-history-apis.html#navigation-api-intro><span class=secno>7.2.5.1</span> Introduction</a><li><a href=nav-history-apis.html#navigation-interface><span class=secno>7.2.5.2</span> The <code>Navigation</code> interface</a><li><a href=nav-history-apis.html#navigation-api-core><span class=secno>7.2.5.3</span> Core infrastructure</a><li><a href=nav-history-apis.html#the-navigationhistoryentry-interface><span class=secno>7.2.5.4</span> The <code>NavigationHistoryEntry</code> interface</a><li><a href=nav-history-apis.html#the-history-entry-list><span class=secno>7.2.5.5</span> The history entry list</a><li><a href=nav-history-apis.html#navigation-api-initiating-navigations><span class=secno>7.2.5.6</span> Initiating navigations</a><li><a href=nav-history-apis.html#ongoing-navigation-tracking><span class=secno>7.2.5.7</span> Ongoing navigation tracking</a><li><a href=nav-history-apis.html#navigation-activation-interface><span class=secno>7.2.5.8</span> The <code>NavigationActivation</code> interface</a><li><a href=nav-history-apis.html#the-navigate-event><span class=secno>7.2.5.9</span> The <code>navigate</code> event</a><ol><li><a href=nav-history-apis.html#the-navigateevent-interface><span class=secno>7.2.5.9.1</span> The <code>NavigateEvent</code> interface</a><li><a href=nav-history-apis.html#the-navigationdestination-interface><span class=secno>7.2.5.9.2</span> The <code>NavigationDestination</code> interface</a></ol></ol><li><a href=nav-history-apis.html#nav-traversal-event-interfaces><span class=secno>7.2.6</span> Event interfaces</a><ol><li><a href=nav-history-apis.html#the-navigationcurrententrychangeevent-interface><span class=secno>7.2.6.1</span> The <code>NavigationCurrentEntryChangeEvent</code> interface</a><li><a href=nav-history-apis.html#the-popstateevent-interface><span class=secno>7.2.6.2</span> The <code>PopStateEvent</code> interface</a><li><a href=nav-history-apis.html#the-hashchangeevent-interface><span class=secno>7.2.6.3</span> The <code>HashChangeEvent</code> interface</a><li><a href=nav-history-apis.html#the-pageswapevent-interface><span class=secno>7.2.6.4</span> The <code>PageSwapEvent</code> interface</a><li><a href=nav-history-apis.html#the-pagerevealevent-interface><span class=secno>7.2.6.5</span> The <code>PageRevealEvent</code> interface</a><li><a href=nav-history-apis.html#the-pagetransitionevent-interface><span class=secno>7.2.6.6</span> The <code>PageTransitionEvent</code> interface</a><li><a href=nav-history-apis.html#the-beforeunloadevent-interface><span class=secno>7.2.6.7</span> The <code>BeforeUnloadEvent</code> interface</a></ol><li><a href=nav-history-apis.html#the-notrestoredreasons-interface><span class=secno>7.2.7</span> The <code>NotRestoredReasons</code> interface</a></ol></ol></ol><h3 id=nav-traversal-apis><span class=secno>7.2</span> APIs related to navigation and
    session history<a href=#nav-traversal-apis class=self-link></a></h3>

  


  <h4 id=the-window-object><span class=secno>7.2.1</span> The <code id=the-window-object:window><a href=#window>Window</a></code> object<a href=#the-window-object class=self-link></a></h4><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>✔</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/Window title="The Window interface represents a window containing a DOM document; the document property points to the DOM document loaded in that window.">Window</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>

  <pre><code class=idl>[Global=Window,
 Exposed=Window,
 <a id=the-window-object:legacyunenumerablenamedproperties href=https://webidl.spec.whatwg.org/#LegacyUnenumerableNamedProperties data-x-internal=legacyunenumerablenamedproperties>LegacyUnenumerableNamedProperties</a>]
interface <dfn id=window data-dfn-type=interface>Window</dfn> : <a id=the-window-object:eventtarget href=https://dom.spec.whatwg.org/#interface-eventtarget data-x-internal=eventtarget>EventTarget</a> {
  // the current browsing context
  [<a id=the-window-object:legacyunforgeable href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] readonly attribute <a href=#windowproxy id=the-window-object:windowproxy>WindowProxy</a> <a href=#dom-window id=the-window-object:dom-window>window</a>;
  [Replaceable] readonly attribute <a href=#windowproxy id=the-window-object:windowproxy-2>WindowProxy</a> <a href=#dom-self id=the-window-object:dom-self>self</a>;
  [<a id=the-window-object:legacyunforgeable-2 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] readonly attribute <a id=the-window-object:document href=dom.html#document>Document</a> <a href=#dom-document-2 id=the-window-object:dom-document-2>document</a>;
  attribute DOMString <a href=#dom-name id=the-window-object:dom-name>name</a>; 
  [PutForwards=<a href=#dom-location-href id=the-window-object:dom-location-href>href</a>, <a id=the-window-object:legacyunforgeable-3 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] readonly attribute <a href=#location id=the-window-object:location>Location</a> <a href=#dom-location id=the-window-object:dom-location>location</a>;
  readonly attribute <a href=#history-3 id=the-window-object:history-3>History</a> <a href=#dom-history id=the-window-object:dom-history>history</a>;
  readonly attribute <span>Navigation</span> <span>navigation</span>;
  readonly attribute <span>CustomElementRegistry</span> <span>customElements</span>;
  [Replaceable] readonly attribute <a href=#barprop id=the-window-object:barprop>BarProp</a> <a href=#dom-window-locationbar id=the-window-object:dom-window-locationbar>locationbar</a>;
  [Replaceable] readonly attribute <a href=#barprop id=the-window-object:barprop-2>BarProp</a> <a href=#dom-window-menubar id=the-window-object:dom-window-menubar>menubar</a>;
  [Replaceable] readonly attribute <a href=#barprop id=the-window-object:barprop-3>BarProp</a> <a href=#dom-window-personalbar id=the-window-object:dom-window-personalbar>personalbar</a>;
  [Replaceable] readonly attribute <a href=#barprop id=the-window-object:barprop-4>BarProp</a> <a href=#dom-window-scrollbars id=the-window-object:dom-window-scrollbars>scrollbars</a>;
  [Replaceable] readonly attribute <a href=#barprop id=the-window-object:barprop-5>BarProp</a> <a href=#dom-window-statusbar id=the-window-object:dom-window-statusbar>statusbar</a>;
  [Replaceable] readonly attribute <a href=#barprop id=the-window-object:barprop-6>BarProp</a> <a href=#dom-window-toolbar id=the-window-object:dom-window-toolbar>toolbar</a>;
  attribute DOMString <span>status</span>;
  undefined <a href=#dom-window-close id=the-window-object:dom-window-close>close</a>();
  readonly attribute boolean <a href=#dom-window-closed id=the-window-object:dom-window-closed>closed</a>;
  undefined <a href=#dom-window-stop id=the-window-object:dom-window-stop>stop</a>();
  undefined <a href=interaction.html#dom-window-focus id=the-window-object:dom-window-focus>focus</a>();
  undefined <span>blur</span>();

  // other browsing contexts
  [Replaceable] readonly attribute <a href=#windowproxy id=the-window-object:windowproxy-3>WindowProxy</a> <a href=#dom-frames id=the-window-object:dom-frames>frames</a>;
  [Replaceable] readonly attribute unsigned long <a href=#dom-length id=the-window-object:dom-length>length</a>;
  [<a id=the-window-object:legacyunforgeable-4 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] readonly attribute <a href=#windowproxy id=the-window-object:windowproxy-4>WindowProxy</a>? <a href=#dom-top id=the-window-object:dom-top>top</a>;
  attribute any <a href=#dom-opener id=the-window-object:dom-opener>opener</a>;
  [Replaceable] readonly attribute <a href=#windowproxy id=the-window-object:windowproxy-5>WindowProxy</a>? <a href=#dom-parent id=the-window-object:dom-parent>parent</a>;
  readonly attribute <a id=the-window-object:element href=https://dom.spec.whatwg.org/#interface-element data-x-internal=element>Element</a>? <a href=#dom-frameelement id=the-window-object:dom-frameelement>frameElement</a>;
  <a href=#windowproxy id=the-window-object:windowproxy-6>WindowProxy</a>? <a href=#dom-open id=the-window-object:dom-open>open</a>(optional USVString url = "", optional DOMString target = "_blank", optional [<a id=the-window-object:legacynulltoemptystring href=https://webidl.spec.whatwg.org/#LegacyNullToEmptyString data-x-internal=legacynulltoemptystring>LegacyNullToEmptyString</a>] DOMString features = "");

  // Since this is the global object, the IDL named getter adds a NamedPropertiesObject exotic
  // object on the prototype chain. Indeed, this does not make the global object an exotic object.
  // Indexed access is taken care of by the <a href=#windowproxy id=the-window-object:windowproxy-7>WindowProxy</a> exotic object.
  <a href=#dom-window-nameditem>getter</a> <a href=https://webidl.spec.whatwg.org/#idl-object id=the-window-object:idl-object data-x-internal=idl-object>object</a> (DOMString name);

  // the user agent
  readonly attribute <a id=the-window-object:navigator href=system-state.html#navigator>Navigator</a> <span>navigator</span>;
  [Replaceable] readonly attribute <a id=the-window-object:navigator-2 href=system-state.html#navigator>Navigator</a> <span>clientInformation</span>; // legacy alias of .navigator
  readonly attribute boolean <a href=browsers.html#dom-originagentcluster id=the-window-object:dom-originagentcluster>originAgentCluster</a>;

  // user prompts
  undefined <span>alert</span>();
  undefined <a href=timers-and-user-prompts.html#dom-alert id=the-window-object:dom-alert>alert</a>(DOMString message);
  boolean <a href=timers-and-user-prompts.html#dom-confirm id=the-window-object:dom-confirm>confirm</a>(optional DOMString message = "");
  DOMString? <a href=timers-and-user-prompts.html#dom-prompt id=the-window-object:dom-prompt>prompt</a>(optional DOMString message = "", optional DOMString default = "");
  undefined <a href=timers-and-user-prompts.html#dom-print id=the-window-object:dom-print>print</a>();

  undefined <span>postMessage</span>(any message, USVString targetOrigin, optional sequence&lt;<a href=https://webidl.spec.whatwg.org/#idl-object id=the-window-object:idl-object-2 data-x-internal=idl-object>object</a>> transfer = []);
  undefined <a href=web-messaging.html#dom-window-postmessage-options id=the-window-object:dom-window-postmessage-options>postMessage</a>(any message, optional <a href=#windowpostmessageoptions id=the-window-object:windowpostmessageoptions>WindowPostMessageOptions</a> options = {});

  // <a href=#Window-partial>also has obsolete members</a>
};
<a href=#window id=the-window-object:window-2>Window</a> includes <span>GlobalEventHandlers</span>;
<a href=#window id=the-window-object:window-3>Window</a> includes <span>WindowEventHandlers</span>;

dictionary <dfn id=windowpostmessageoptions data-dfn-type=dictionary>WindowPostMessageOptions</dfn> : <a id=the-window-object:structuredserializeoptions href=web-messaging.html#structuredserializeoptions>StructuredSerializeOptions</a> {
  USVString <dfn data-dfn-for=WindowPostMessageOptions id=dom-windowpostmessageoptions-targetorigin data-dfn-type=dict-member>targetOrigin</dfn> = "/";
};</code></pre>

  <dl class=domintro><dt><code><var>window</var>.<span id=dom-window>window</span></code><dt><code><var>window</var>.<span id=dom-frames>frames</span></code><dt><code><var>window</var>.<span id=dom-self>self</span></code><dd>
      <p>These attributes all return <var>window</var>.</p>
    <dt><code><var>window</var>.<span id=dom-document-2>document</span></code><dd>
      <p>Returns the <code id=the-window-object:document-2><a href=dom.html#document>Document</a></code> associated with <var>window</var>.</p>
    <dt><code><var>document</var>.<span id=dom-document-defaultview>defaultView</span></code><dd>
      <p>Returns the <code id=the-window-object:window-4><a href=#window>Window</a></code> associated with <var>document</var>, if there is one, or null otherwise.</p>
    </dl>

  


  <h5 id=apis-for-creating-and-navigating-browsing-contexts-by-name><span class=secno>7.2.1.1</span> Opening and closing windows<a href=#apis-for-creating-and-navigating-browsing-contexts-by-name class=self-link></a></h5>

  <dl class=domintro><dt><code><var>window</var> = <var>window</var>.<span id=dom-open>open</span>([ <var>url</var> [, <var>target</var> [, <var>features</var> ] ] ])</code><dd>
      <p>Opens a window to show <var>url</var> (defaults to "<code id=apis-for-creating-and-navigating-browsing-contexts-by-name:about:blank><a href=infrastructure.html#about:blank>about:blank</a></code>"), and returns
        it. <var>target</var> (defaults to "<code>_blank</code>") gives the name of the new
        window. If a window already exists with that name, it is reused. The <var>features</var>
        argument can contain a <a id=apis-for-creating-and-navigating-browsing-contexts-by-name:set-of-comma-separated-tokens href=common-microsyntaxes.html#set-of-comma-separated-tokens>set of comma-separated tokens</a>:</p>

      <dl><dt>"<code>noopener</code>"<dt>"<code>noreferrer</code>"<dd>
          <p>These behave equivalently to the <code id=apis-for-creating-and-navigating-browsing-contexts-by-name:link-type-noopener><a href=links.html#link-type-noopener>noopener</a></code> and <code id=apis-for-creating-and-navigating-browsing-contexts-by-name:link-type-noreferrer><a href=links.html#link-type-noreferrer>noreferrer</a></code> link types on <a href=links.html#hyperlink id=apis-for-creating-and-navigating-browsing-contexts-by-name:hyperlink>hyperlinks</a>.</p>
        <dt>"<code>popup</code>"<dd>
          <p>Encourages user agents to provide a minimal web browser user interface for the new
            window. (Impacts the <code id=apis-for-creating-and-navigating-browsing-contexts-by-name:dom-barprop-visible><a href=#dom-barprop-visible>visible</a></code> getter on all
            <code id=apis-for-creating-and-navigating-browsing-contexts-by-name:barprop><a href=#barprop>BarProp</a></code> objects as well.)
          </p>
        </dl>

      <pre class=example><code class=js>globalThis.open("https://email.example/message/CAOOOkFcWW97r8yg=SsWg7GgCmp4suVX9o85y8BvNRqMjuc5PXg", undefined, "noopener,popup");</code></pre>
    <dt><code><var>window</var>.<span id=dom-name>name</span> [ = <var>value</var> ]</code><dd>
      <p>Returns the name of the window.</p>

      <p>Can be set, to change the name.</p>
    <dt><code><var>window</var>.<span id=dom-window-close>close</span>()</code><dd>
      <p>Closes the window.</p>
    <dt><code><var>window</var>.<span id=dom-window-closed>closed</span></code><dd>
      <p>Returns true if the window has been closed, false otherwise.</p>
    <dt><code><var>window</var>.<span id=dom-window-stop>stop</span>()</code><dd>
      <p>Cancels the document load.</p>
    </dl>

  


  <h5 id=accessing-other-browsing-contexts><span class=secno>7.2.1.2</span> Indexed access on the <code id=accessing-other-browsing-contexts:window><a href=#window>Window</a></code> object<a href=#accessing-other-browsing-contexts class=self-link></a></h5>

  <dl class=domintro><dt><code><var>window</var>.<span id=dom-length>length</span></code><dd>
      <p>Returns the number of <a id=accessing-other-browsing-contexts:document-tree-child-navigables href=document-sequences.html#document-tree-child-navigables>document-tree child navigables</a>.</p>
    <dt><code><var>window</var>[<var>index</var>]</code><dd>
      <p>Returns the <code id=accessing-other-browsing-contexts:windowproxy><a href=#windowproxy>WindowProxy</a></code> corresponding to the indicated <a href=document-sequences.html#document-tree-child-navigables id=accessing-other-browsing-contexts:document-tree-child-navigables-2>document-tree child navigables</a>.</p>
    </dl>

  


  <h5 id=named-access-on-the-window-object><span class=secno>7.2.1.3</span> Named access on the <code id=named-access-on-the-window-object:window><a href=#window>Window</a></code> object<a href=#named-access-on-the-window-object class=self-link></a></h5>

  <dl class=domintro><dt><code><var>window</var>[<var>name</var>]</code><dd>
      <p>Returns the indicated element or collection of elements.</p>

      <p>As a general rule, relying on this will lead to brittle code. Which IDs end up mapping to
        this API can vary over time, as new features are added to the web platform, for example. Instead
        of this, use <code>document.getElementById()</code> or <code>document.querySelector()</code>.</p>
    </dl>

  


  <h5 id=navigating-nested-browsing-contexts-in-the-dom><span class=secno>7.2.1.4</span> Accessing related windows<a href=#navigating-nested-browsing-contexts-in-the-dom class=self-link></a></h5>

  <dl class=domintro><dt><code><var>window</var>.<span id=dom-top>top</span></code><dd>
      <p>Returns the <code id=navigating-nested-browsing-contexts-in-the-dom:windowproxy><a href=#windowproxy>WindowProxy</a></code> for the <a id=navigating-nested-browsing-contexts-in-the-dom:top-level-traversable href=document-sequences.html#top-level-traversable>top-level traversable</a>.</p>
    <dt><code><var>window</var>.<span id=dom-opener>opener</span> [ = <var>value</var> ]</code><dd>
      <p>Returns the <code id=navigating-nested-browsing-contexts-in-the-dom:windowproxy-2><a href=#windowproxy>WindowProxy</a></code> for the <a id=navigating-nested-browsing-contexts-in-the-dom:opener-browsing-context href=document-sequences.html#opener-browsing-context>opener browsing context</a>.</p>

      <p>Returns null if there isn't one or if it has been set to null.</p>

      <p>Can be set to null.</p>
    <dt><code><var>window</var>.<span id=dom-parent>parent</span></code><dd>
      <p>Returns the <code id=navigating-nested-browsing-contexts-in-the-dom:windowproxy-3><a href=#windowproxy>WindowProxy</a></code> for the <a href=document-sequences.html#nav-parent id=navigating-nested-browsing-contexts-in-the-dom:nav-parent>parent
          navigable</a>.</p>
    <dt><code><var>window</var>.<span id=dom-frameelement>frameElement</span></code><dd>
      <p>Returns the <a id=navigating-nested-browsing-contexts-in-the-dom:navigable-container href=document-sequences.html#navigable-container>navigable container</a> element.</p>

      <p>Returns null if there isn't one, and in cross-origin situations.</p>
    </dl>

  


  <h5 id=browser-interface-elements><span class=secno>7.2.1.5</span> Historical browser interface element APIs<a href=#browser-interface-elements class=self-link></a></h5>

  <p>For historical reasons, the <code id=browser-interface-elements:window><a href=#window>Window</a></code> interface had some properties that represented
    the visibility of certain web browser interface elements.</p>

  

  <p>For privacy and interoperability reasons, those properties now return all return the same value:
    whether or not the window represents a popup window.</p>

  

  <div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>✔</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/BarProp title="The BarProp interface of the Document Object Model represents the web browser user interface elements that are exposed to scripts in web pages. Each of the following interface elements are represented by a BarProp object.">BarProp</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><pre><code class=idl>[Exposed=Window]
interface <dfn id=barprop data-dfn-type=interface>BarProp</dfn> {
  readonly attribute boolean <a href=#dom-barprop-visible id=browser-interface-elements:dom-barprop-visible>visible</a>;
};</code></pre>

  <dl class=domintro><dt><code><var>window</var>.<span id=dom-window-locationbar>locationbar</span>.<span id=dom-barprop-visible>visible</span></code><div class="mdn-anno wrapped before"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>✔</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/BarProp/visible title="The visible read-only property of the BarProp interface returns true if the user interface element it represents is visible.">BarProp/visible</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><dt><code><var>window</var>.<span id=dom-window-menubar>menubar</span>.<a href=#dom-barprop-visible id=browser-interface-elements:dom-barprop-visible-2>visible</a></code><dt><code><var>window</var>.<span id=dom-window-personalbar>personalbar</span>.<a href=#dom-barprop-visible id=browser-interface-elements:dom-barprop-visible-3>visible</a></code><dt><code><var>window</var>.<span id=dom-window-scrollbars>scrollbars</span>.<a href=#dom-barprop-visible id=browser-interface-elements:dom-barprop-visible-4>visible</a></code><dt><code><var>window</var>.<span id=dom-window-statusbar>statusbar</span>.<a href=#dom-barprop-visible id=browser-interface-elements:dom-barprop-visible-5>visible</a></code><dt><code><var>window</var>.<span id=dom-window-toolbar>toolbar</span>.<a href=#dom-barprop-visible id=browser-interface-elements:dom-barprop-visible-6>visible</a></code><dd>
      <p>Returns true if the <code id=browser-interface-elements:window-2><a href=#window>Window</a></code> is not a popup; otherwise, returns false.</p>
    </dl>

  


  <h4 id=the-windowproxy-exotic-object><span class=secno>7.2.2</span> The <code id=the-windowproxy-exotic-object:windowproxy><a href=#windowproxy>WindowProxy</a></code> exotic object<a href=#the-windowproxy-exotic-object class=self-link></a></h4>

  <p>A <dfn id=windowproxy data-dfn-type=interface><code>WindowProxy</code></dfn> is an exotic object that wraps a
    <code id=the-windowproxy-exotic-object:window><a href=#window>Window</a></code> ordinary object, indirecting most operations through to the wrapped object.
    Each <a id=the-windowproxy-exotic-object:browsing-context href=document-sequences.html#browsing-context>browsing context</a> has an associated <code id=the-windowproxy-exotic-object:windowproxy-2><a href=#windowproxy>WindowProxy</a></code> object. When the
    <a id=the-windowproxy-exotic-object:browsing-context-2 href=document-sequences.html#browsing-context>browsing context</a> is <a href=browsing-the-web.html#navigate id=the-windowproxy-exotic-object:navigate>navigated</a>, the <code id=the-windowproxy-exotic-object:window-2><a href=#window>Window</a></code>
    object wrapped by the <a id=the-windowproxy-exotic-object:browsing-context-3 href=document-sequences.html#browsing-context>browsing context</a>'s associated <code id=the-windowproxy-exotic-object:windowproxy-3><a href=#windowproxy>WindowProxy</a></code> object
    is changed.
  </p>

  


  <h4 id=the-location-interface><span class=secno>7.2.3</span> The <code id=the-location-interface:location><a href=#location>Location</a></code> interface<a href=#the-location-interface class=self-link></a></h4><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>✔</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/location title="The Document.location read-only property returns a Location object, which contains information about the URL of the document and provides methods for changing that URL and loading another URL.">Document/location</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/Location title="The Location interface represents the location (URL) of the object it is linked to. Changes done on it are reflected on the object it relates to. Both the Document and Window interface have such a linked Location, accessible via Document.location and Window.location respectively.">Location</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/Window/location title="The Window.location read-only property returns a Location object with information about the current location of the document.">Window/location</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>

  <p>Each <code id=the-location-interface:window><a href=#window>Window</a></code> object is associated with a unique instance of a <code id=the-location-interface:location-2><a href=#location>Location</a></code>
    object, allocated when the <code id=the-location-interface:window-2><a href=#window>Window</a></code> object is created.</p>

  

  <dl class=domintro><dt><code><var>document</var>.<span id=dom-document-location>location</span> [ = <var>value</var> ]</code><dt><code><var>window</var>.<span id=dom-location>location</span> [ = <var>value</var> ]</code><dd>
      <p>Returns a <code id=the-location-interface:location-3><a href=#location>Location</a></code> object with the current page's location.</p>

      <p>Can be set, to navigate to another page.</p>
    </dl>

  

  <p><code id=the-location-interface:location-4><a href=#location>Location</a></code> objects provide a representation of the <a href=https://dom.spec.whatwg.org/#concept-document-url id="the-location-interface:the-document's-address" data-x-internal="the-document's-address">URL</a> of their associated <code id=the-location-interface:document><a href=dom.html#document>Document</a></code>, as well as
    methods for <a href=browsing-the-web.html#navigate id=the-location-interface:navigate>navigating</a> and <a href=browsing-the-web.html#reload id=the-location-interface:reload>reloading</a>
    the associated <a id=the-location-interface:navigable href=document-sequences.html#navigable>navigable</a>.</p>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=location data-dfn-type=interface>Location</dfn> { // but see also <a href=#the-location-interface>additional creation steps</a> and <a href=#location-internal-methods>overridden internal methods</a>
  [<a id=the-location-interface:legacyunforgeable href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] stringifier attribute USVString <a href=#dom-location-href id=the-location-interface:dom-location-href>href</a>;
  [<a id=the-location-interface:legacyunforgeable-2 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] readonly attribute USVString <a href=#dom-location-origin id=the-location-interface:dom-location-origin>origin</a>;
  [<a id=the-location-interface:legacyunforgeable-3 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] attribute USVString <a href=#dom-location-protocol id=the-location-interface:dom-location-protocol>protocol</a>;
  [<a id=the-location-interface:legacyunforgeable-4 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] attribute USVString <a href=#dom-location-host id=the-location-interface:dom-location-host>host</a>;
  [<a id=the-location-interface:legacyunforgeable-5 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] attribute USVString <a href=#dom-location-hostname id=the-location-interface:dom-location-hostname>hostname</a>;
  [<a id=the-location-interface:legacyunforgeable-6 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] attribute USVString <a href=#dom-location-port id=the-location-interface:dom-location-port>port</a>;
  [<a id=the-location-interface:legacyunforgeable-7 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] attribute USVString <a href=#dom-location-pathname id=the-location-interface:dom-location-pathname>pathname</a>;
  [<a id=the-location-interface:legacyunforgeable-8 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] attribute USVString <a href=#dom-location-search id=the-location-interface:dom-location-search>search</a>;
  [<a id=the-location-interface:legacyunforgeable-9 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] attribute USVString <a href=#dom-location-hash id=the-location-interface:dom-location-hash>hash</a>;

  [<a id=the-location-interface:legacyunforgeable-10 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] undefined <a href=#dom-location-assign id=the-location-interface:dom-location-assign>assign</a>(USVString url);
  [<a id=the-location-interface:legacyunforgeable-11 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] undefined <a href=#dom-location-replace id=the-location-interface:dom-location-replace>replace</a>(USVString url);
  [<a id=the-location-interface:legacyunforgeable-12 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>] undefined <a href=#dom-location-reload id=the-location-interface:dom-location-reload>reload</a>();

  [<a id=the-location-interface:legacyunforgeable-13 href=https://webidl.spec.whatwg.org/#LegacyUnforgeable data-x-internal=legacyunforgeable>LegacyUnforgeable</a>, SameObject] readonly attribute <a id=the-location-interface:domstringlist href=common-dom-interfaces.html#domstringlist>DOMStringList</a> <a href=#dom-location-ancestororigins id=the-location-interface:dom-location-ancestororigins>ancestorOrigins</a>;
};</code></pre>

  <dl class=domintro><dt><code><var>location</var>.<span>toString()</span></code><dt><code><var>location</var>.<span id=dom-location-href>href</span></code><dd>
      <p>Returns the <code id=the-location-interface:location-5><a href=#location>Location</a></code> object's URL.</p>

      <p>Can be set, to navigate to the given URL.</p>
    <dt><code><var>location</var>.<span id=dom-location-origin>origin</span></code><dd>
      <p>Returns the <code id=the-location-interface:location-6><a href=#location>Location</a></code> object's URL's origin.</p>
    <dt><code><var>location</var>.<span id=dom-location-protocol>protocol</span></code><dd>
      <p>Returns the <code id=the-location-interface:location-7><a href=#location>Location</a></code> object's URL's scheme.</p>

      <p>Can be set, to navigate to the same URL with a changed scheme.</p>
    <dt><code><var>location</var>.<span id=dom-location-host>host</span></code><dd>
      <p>Returns the <code id=the-location-interface:location-8><a href=#location>Location</a></code> object's URL's host and port (if different from the default
        port for the scheme).</p>

      <p>Can be set, to navigate to the same URL with a changed host and port.</p>
    <dt><code><var>location</var>.<span id=dom-location-hostname>hostname</span></code><dd>
      <p>Returns the <code id=the-location-interface:location-9><a href=#location>Location</a></code> object's URL's host.</p>

      <p>Can be set, to navigate to the same URL with a changed host.</p>
    <dt><code><var>location</var>.<span id=dom-location-port>port</span></code><dd>
      <p>Returns the <code id=the-location-interface:location-10><a href=#location>Location</a></code> object's URL's port.</p>

      <p>Can be set, to navigate to the same URL with a changed port.</p>
    <dt><code><var>location</var>.<span id=dom-location-pathname>pathname</span></code><dd>
      <p>Returns the <code id=the-location-interface:location-11><a href=#location>Location</a></code> object's URL's path.</p>

      <p>Can be set, to navigate to the same URL with a changed path.</p>
    <dt><code><var>location</var>.<span id=dom-location-search>search</span></code><dd>
      <p>Returns the <code id=the-location-interface:location-12><a href=#location>Location</a></code> object's URL's query (includes leading "<code>?</code>" if non-empty).</p>

      <p>Can be set, to navigate to the same URL with a changed query (ignores leading "<code>?</code>").</p>
    <dt><code><var>location</var>.<span id=dom-location-hash>hash</span></code><dd>
      <p>Returns the <code id=the-location-interface:location-13><a href=#location>Location</a></code> object's URL's fragment (includes leading "<code>#</code>" if non-empty).</p>

      <p>Can be set, to navigate to the same URL with a changed fragment (ignores leading "<code>#</code>").</p>
    <dt><code><var>location</var>.<span id=dom-location-assign>assign</span>(<var>url</var>)</code><dd>
      <p>Navigates to the given URL.</p>
    <dt><code><var>location</var>.<span id=dom-location-replace>replace</span>(<var>url</var>)</code><dd>
      <p>Removes the current page from the session history and navigates to the given URL.</p>
    <dt><code><var>location</var>.<span id=dom-location-reload>reload</span>()</code><dd>
      <p>Reloads the current page.</p>
    <dt><code><var>location</var>.<span id=dom-location-ancestororigins>ancestorOrigins</span></code><dd>
      <p>Returns a <code id=the-location-interface:domstringlist-2><a href=common-dom-interfaces.html#domstringlist>DOMStringList</a></code> object listing the origins of the <a id=the-location-interface:ancestor-navigables href=document-sequences.html#ancestor-navigables>ancestor navigables</a>' <a href=document-sequences.html#nav-document id=the-location-interface:nav-document>active documents</a>.</p>
    </dl>

  


  <h4 id=the-history-interface><span class=secno>7.2.4</span> The <code id=the-history-interface:history-3><a href=#history-3>History</a></code> interface<a href=#the-history-interface class=self-link></a></h4><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>✔</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/History title="The History interface allows manipulation of the browser session history, that is the pages visited in the tab or frame that the current page is loaded in.">History</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/Window/history title="The Window.history read-only property returns a reference to the History object, which provides an interface for manipulating the browser session history (pages visited in the tab or frame that the current page is loaded in).">Window/history</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>

  <pre><code class=idl>enum <dfn id=scrollrestoration data-dfn-type=enum>ScrollRestoration</dfn> { "<a href=browsing-the-web.html#dom-scrollrestoration-auto id=the-history-interface:dom-scrollrestoration-auto>auto</a>", "<a href=browsing-the-web.html#dom-scrollrestoration-manual id=the-history-interface:dom-scrollrestoration-manual>manual</a>" };

[Exposed=Window]
interface <dfn id=history-3 data-dfn-type=interface>History</dfn> {
  readonly attribute unsigned long <a href=#dom-history-length id=the-history-interface:dom-history-length>length</a>;
  attribute <a href=#scrollrestoration id=the-history-interface:scrollrestoration>ScrollRestoration</a> <a href=#dom-history-scroll-restoration id=the-history-interface:dom-history-scroll-restoration>scrollRestoration</a>;
  readonly attribute any <a href=#dom-history-state id=the-history-interface:dom-history-state>state</a>;
  undefined <a href=#dom-history-go id=the-history-interface:dom-history-go>go</a>(optional long delta = 0);
  undefined <a href=#dom-history-back id=the-history-interface:dom-history-back>back</a>();
  undefined <a href=#dom-history-forward id=the-history-interface:dom-history-forward>forward</a>();
  undefined <a href=#dom-history-pushstate id=the-history-interface:dom-history-pushstate>pushState</a>(any data, DOMString unused, optional USVString? url = null);
  undefined <a href=#dom-history-replacestate id=the-history-interface:dom-history-replacestate>replaceState</a>(any data, DOMString unused, optional USVString? url = null);
};</code></pre>

  <dl class=domintro><dt><code><span id=dom-history>history</span>.<span id=dom-history-length>length</span></code><dd>
      <p>Returns the number of overall <a href=document-sequences.html#tn-session-history-entries id=the-history-interface:tn-session-history-entries>session history
          entries</a> for the current <a id=the-history-interface:traversable-navigable href=document-sequences.html#traversable-navigable>traversable navigable</a>.</p>
    <dt><code><a href=#dom-history id=the-history-interface:dom-history>history</a>.<span id=dom-history-scroll-restoration>scrollRestoration</span></code><dd>
      <p>Returns the <a href=browsing-the-web.html#she-scroll-restoration-mode id=the-history-interface:she-scroll-restoration-mode>scroll restoration mode</a> of
        the <a href=document-sequences.html#nav-active-history-entry id=the-history-interface:nav-active-history-entry>active session history entry</a>.</p>
    <dt><code><a href=#dom-history id=the-history-interface:dom-history-2>history</a>.<a href=#dom-history-scroll-restoration id=the-history-interface:dom-history-scroll-restoration-2>scrollRestoration</a> = <var>value</var></code><dd>
      <p>Set the <a href=browsing-the-web.html#she-scroll-restoration-mode id=the-history-interface:she-scroll-restoration-mode-2>scroll restoration mode</a> of the
        <a href=document-sequences.html#nav-active-history-entry id=the-history-interface:nav-active-history-entry-2>active session history entry</a> to
        <var>value</var>.
      </p>
    <dt><code><a href=#dom-history id=the-history-interface:dom-history-3>history</a>.<span id=dom-history-state>state</span></code><dd>
      <p>Returns the <a href=browsing-the-web.html#she-classic-history-api-state id=the-history-interface:she-classic-history-api-state>classic history API state</a>
        of the <a href=document-sequences.html#nav-active-history-entry id=the-history-interface:nav-active-history-entry-3>active session history entry</a>, deserialized
        into a JavaScript value.</p>
    <dt><code><a href=#dom-history id=the-history-interface:dom-history-4>history</a>.<a href=#dom-history-go id=the-history-interface:dom-history-go-2>go</a>()</code><dd>
      <p>Reloads the current page.</p>
    <dt><code><a href=#dom-history id=the-history-interface:dom-history-5>history</a>.<span id=dom-history-go>go</span>(<var>delta</var>)</code><dd>
      <p>Goes back or forward the specified number of steps in the overall <a href=document-sequences.html#tn-session-history-entries id=the-history-interface:tn-session-history-entries-2>session history entries</a> list for the current
        <a id=the-history-interface:traversable-navigable-2 href=document-sequences.html#traversable-navigable>traversable navigable</a>.
      </p>

      <p>A zero delta will reload the current page.</p>

      <p>If the delta is out of range, does nothing.</p>
    <dt><code><a href=#dom-history id=the-history-interface:dom-history-6>history</a>.<span id=dom-history-back>back</span>()</code><dd>
      <p>Goes back one step in the overall <a href=document-sequences.html#tn-session-history-entries id=the-history-interface:tn-session-history-entries-3>session history
          entries</a> list for the current <a id=the-history-interface:traversable-navigable-3 href=document-sequences.html#traversable-navigable>traversable navigable</a>.</p>

      <p>If there is no previous page, does nothing.</p>
    <dt><code><a href=#dom-history id=the-history-interface:dom-history-7>history</a>.<span id=dom-history-forward>forward</span>()</code><dd>
      <p>Goes forward one step in the overall <a href=document-sequences.html#tn-session-history-entries id=the-history-interface:tn-session-history-entries-4>session
          history entries</a> list for the current <a id=the-history-interface:traversable-navigable-4 href=document-sequences.html#traversable-navigable>traversable navigable</a>.</p>

      <p>If there is no next page, does nothing.</p>
    <dt><code><a href=#dom-history id=the-history-interface:dom-history-8>history</a>.<span id=dom-history-pushstate>pushState</span>(<var>data</var>, "")</code><dd>
      <p>Adds a new entry into session history with its <a href=browsing-the-web.html#she-classic-history-api-state id=the-history-interface:she-classic-history-api-state-2>classic history API state</a> set to a serialization
        of <var>data</var>. The <a href=document-sequences.html#nav-active-history-entry id=the-history-interface:nav-active-history-entry-4>active history entry</a>'s
        <a href=browsing-the-web.html#she-url id=the-history-interface:she-url>URL</a> will be copied over and used for the new entry's URL.
      </p>

      <p>(The second parameter exists for historical reasons, and cannot be omitted; passing the
        empty string is traditional.)</p>
    <dt><code><a href=#dom-history id=the-history-interface:dom-history-9>history</a>.<a href=#dom-history-pushstate id=the-history-interface:dom-history-pushstate-2>pushState</a>(<var>data</var>, "", <var>url</var>)</code><dd>
      <p>Adds a new entry into session history with its <a href=browsing-the-web.html#she-classic-history-api-state id=the-history-interface:she-classic-history-api-state-3>classic history API state</a> set to a serialization
        of <var>data</var>, and with its <a href=browsing-the-web.html#she-url id=the-history-interface:she-url-2>URL</a> set to <var>url</var>.</p>

      <p>If the current <code id=the-history-interface:document><a href=dom.html#document>Document</a></code> <a href=#can-have-its-url-rewritten id=the-history-interface:can-have-its-url-rewritten>cannot have
          its URL rewritten</a> to <var>url</var>, a <a id=the-history-interface:securityerror href=https://webidl.spec.whatwg.org/#securityerror data-x-internal=securityerror>"<code>SecurityError</code>"</a>
        <code id=the-history-interface:domexception><a data-x-internal=domexception href=https://webidl.spec.whatwg.org/#dfn-DOMException>DOMException</a></code> will be thrown.
      </p>

      <p>(The second parameter exists for historical reasons, and cannot be omitted; passing the
        empty string is traditional.)</p>
    <dt><code><a href=#dom-history id=the-history-interface:dom-history-10>history</a>.<span id=dom-history-replacestate>replaceState</span>(<var>data</var>, "")</code><dd>
      <p>Updates the <a href=browsing-the-web.html#she-classic-history-api-state id=the-history-interface:she-classic-history-api-state-4>classic history API state</a> of
        the <a href=document-sequences.html#nav-active-history-entry id=the-history-interface:nav-active-history-entry-5>active session history entry</a> to a structured
        clone of <var>data</var>.</p>

      <p>(The second parameter exists for historical reasons, and cannot be omitted; passing the
        empty string is traditional.)</p>
    <dt><code><a href=#dom-history id=the-history-interface:dom-history-11>history</a>.<a href=#dom-history-replacestate id=the-history-interface:dom-history-replacestate-2>replaceState</a>(<var>data</var>, "", <var>url</var>)</code><dd>
      <p>Updates the <a href=browsing-the-web.html#she-classic-history-api-state id=the-history-interface:she-classic-history-api-state-5>classic history API state</a> of
        the <a href=document-sequences.html#nav-active-history-entry id=the-history-interface:nav-active-history-entry-6>active session history entry</a> to a structured
        clone of <var>data</var>, and its <a href=browsing-the-web.html#she-url id=the-history-interface:she-url-3>URL</a> to <var>url</var>.</p>

      <p>If the current <code id=the-history-interface:document-2><a href=dom.html#document>Document</a></code> <a href=#can-have-its-url-rewritten id=the-history-interface:can-have-its-url-rewritten-2>cannot have
          its URL rewritten</a> to <var>url</var>, a <a id=the-history-interface:securityerror-2 href=https://webidl.spec.whatwg.org/#securityerror data-x-internal=securityerror>"<code>SecurityError</code>"</a>
        <code id=the-history-interface:domexception-2><a data-x-internal=domexception href=https://webidl.spec.whatwg.org/#dfn-DOMException>DOMException</a></code> will be thrown.
      </p>

      <p>(The second parameter exists for historical reasons, and cannot be omitted; passing the
        empty string is traditional.)</p>
    </dl>

  

  <div class=example>
    <table><thead><tr><th><var>document</var>'s <a href=https://dom.spec.whatwg.org/#concept-document-url id="the-history-interface:the-document's-address" data-x-internal="the-document's-address">URL</a>
          <th><var>targetURL</var>
          <th><span id=can-have-its-url-rewritten>can have its URL rewritten</span>
      <tbody><tr><td><code>https://example.com/home</code>
          <td><code>https://example.com/home#about</code>
          <td>✅
        <tr><td><code>https://example.com/home</code>
          <td><code>https://example.com/home?page=shop</code>
          <td>✅
        <tr><td><code>https://example.com/home</code>
          <td><code>https://example.com/shop</code>
          <td>✅
        <tr><td><code>https://example.com/home</code>
          <td><code>https://user:pass@example.com/home</code>
          <td>❌
        <tr><td><code>https://example.com/home</code>
          <td><code>http://example.com/home</code>
          <td>❌
        <tr><td><code>file:///path/to/x</code>
          <td><code>file:///path/to/x#hash</code>
          <td>✅
        <tr><td><code>file:///path/to/x</code>
          <td><code>file:///path/to/x?search</code>
          <td>✅
        <tr><td><code>file:///path/to/x</code>
          <td><code>file:///path/to/y</code>
          <td>❌
        <tr><td><code>about:blank</code>
          <td><code>about:blank#hash</code>
          <td>✅
        <tr><td><code>about:blank</code>
          <td><code>about:blank?search</code>
          <td>❌
        <tr><td><code>about:blank</code>
          <td><code>about:srcdoc</code>
          <td>❌
        <tr><td><code>data:text/html,foo</code>
          <td><code>data:text/html,foo#hash</code>
          <td>✅
        <tr><td><code>data:text/html,foo</code>
          <td><code>data:text/html,foo?search</code>
          <td>❌
        <tr><td><code>data:text/html,foo</code>
          <td><code>data:text/html,bar</code>
          <td>❌
        <tr><td><code>data:text/html,foo</code>
          <td><code>data:bar</code>
          <td>❌
        <tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code>
          <td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43#hash</code>
          <td>✅
        <tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code>
          <td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43?search</code>
          <td>❌
        <tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code>
          <td><code>blob:https://example.com/anything</code>
          <td>❌
        <tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code>
          <td><code>blob:path</code>
          <td>❌
    </table>

    <p>Note how only the <a href=https://dom.spec.whatwg.org/#concept-document-url id="the-history-interface:the-document's-address-2" data-x-internal="the-document's-address">URL</a> of the <code id=the-history-interface:document-3><a href=dom.html#document>Document</a></code>
      matters, and not its <a href=https://dom.spec.whatwg.org/#concept-document-origin id=the-history-interface:concept-document-origin data-x-internal=concept-document-origin>origin</a>. They can mismatch in
      cases like <code id=the-history-interface:about:blank><a href=infrastructure.html#about:blank>about:blank</a></code> <code id=the-history-interface:document-4><a href=dom.html#document>Document</a></code>s with inherited origins, in sandboxed
      <code id=the-history-interface:the-iframe-element><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>s, or when the <code id=the-history-interface:dom-document-domain><a href=browsers.html#dom-document-domain>document.domain</a></code>
      setter has been used.
    </p>
  </div>

  <div class=example>

    <p>Consider a game where the user can navigate along a line, such that the user is always at some
      coordinate, and such that the user can bookmark the page corresponding to a particular
      coordinate, to return to it later.</p>

    <p>A static page implementing the x=5 position in such a game could look like the following:</p>

    <pre><code class=html>&lt;!DOCTYPE HTML>
&lt;!-- this is https://example.com/line?x=5 -->
&lt;html lang="en">
&lt;title>Line Game - 5&lt;/title>
&lt;p>You are at coordinate 5 on the line.&lt;/p>
&lt;p>
 &lt;a href="?x=6">Advance to 6&lt;/a> or
 &lt;a href="?x=4">retreat to 4&lt;/a>?
&lt;/p></code></pre>

    <p>The problem with such a system is that each time the user clicks, the whole page has to be
      reloaded. Here instead is another way of doing it, using script:</p>

    <pre><code class=html>&lt;!DOCTYPE HTML>
&lt;!-- this starts off as https://example.com/line?x=5 -->
&lt;html lang="en">
&lt;title>Line Game - 5&lt;/title>
&lt;p>You are at coordinate &lt;span id="coord">5&lt;/span> on the line.&lt;/p>
&lt;p>
 &lt;a href="?x=6" onclick="go(1); return false;">Advance to 6&lt;/a> or
 &lt;a href="?x=4" onclick="go(-1); return false;">retreat to 4&lt;/a>?
&lt;/p>
&lt;script>
 var currentPage = 5; // prefilled by server
 function go(d) {
   setupPage(currentPage + d);
   history.pushState(currentPage, "", '?x=' + currentPage);
 }
 onpopstate = function(event) {
   setupPage(event.state);
 }
 function setupPage(page) {
   currentPage = page;
   document.title = 'Line Game - ' + currentPage;
   document.getElementById('coord').textContent = currentPage;
   document.links[0].href = '?x=' + (currentPage+1);
   document.links[0].textContent = 'Advance to ' + (currentPage+1);
   document.links[1].href = '?x=' + (currentPage-1);
   document.links[1].textContent = 'retreat to ' + (currentPage-1);
 }
&lt;/script></code></pre>

    <p>In systems without script, this still works like the previous example. However, users that
      <em>do</em> have script support can now navigate much faster, since there is no network access
      for the same experience. Furthermore, contrary to the experience the user would have with just a
      naïve script-based approach, bookmarking and navigating the session history still work.
    </p>

    <p>In the example above, the <var>data</var> argument to the <code id=the-history-interface:dom-history-pushstate-3><a href=#dom-history-pushstate>pushState()</a></code> method is the same information as would be sent
      to the server, but in a more convenient form, so that the script doesn't have to parse the URL
      each time the user navigates.</p>

  </div>

  <div class=example>
    <p>Most applications want to use the same <a id=the-history-interface:scroll-restoration-mode href=browsing-the-web.html#scroll-restoration-mode>scroll restoration mode</a> value for all of
      their history entries. To achieve this they can set the <code id=the-history-interface:dom-history-scroll-restoration-3><a href=#dom-history-scroll-restoration>scrollRestoration</a></code> attribute as soon as possible
      (e.g., in the first <code id=the-history-interface:the-script-element><a href=scripting.html#the-script-element>script</a></code> element in the document's <code id=the-history-interface:the-head-element><a href=semantics.html#the-head-element>head</a></code> element) to
      ensure that any entry added to the history session gets the desired scroll restoration mode.</p>

    <pre><code class=html>&lt;head>
  &lt;script>
       if ('scrollRestoration' in history)
            history.scrollRestoration = 'manual';
  &lt;/script>
&lt;/head>
   </code></pre>
  </div>


  <h4 id=navigation-api><span class=secno>7.2.5</span> The navigation API<a href=#navigation-api class=self-link></a></h4>

  <h5 id=navigation-api-intro><span class=secno>7.2.5.1</span> Introduction<a href=#navigation-api-intro class=self-link></a></h5>

  

  <p>The navigation API, provided by the global <code>navigation</code>
    property, provides a modern and web application-focused way of managing navigations and history entries. It is a successor to the classic <code id=navigation-api-intro:dom-location><a href=#dom-location>location</a></code> and <code id=navigation-api-intro:dom-history><a href=#dom-history>history</a></code> APIs.</p>

  <p>One ability the API provides is inspecting <a href=browsing-the-web.html#session-history-entry id=navigation-api-intro:session-history-entry>session history entries</a>. For example, the following will display the entries' URLs in an ordered list:</p>

  <pre><code class=js>const ol = document.createElement("ol");
ol.start = 0; // so that the list items' ordinal values match up with the entry indices

for (const entry of navigation.entries()) {
  const li = document.createElement("li");

  if (entry.index &lt; navigation.currentEntry.index) {
    li.className = "backward";
  } else if (entry.index > navigation.currentEntry.index) {
    li.className = "forward";
  } else {
    li.className = "current";
  }

  li.textContent = entry.url;
  ol.append(li);
}</code></pre>

  <p>The <code id=navigation-api-intro:dom-navigation-entries><a href=#dom-navigation-entries>navigation.entries()</a></code> array contains <code id=navigation-api-intro:navigationhistoryentry><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> instances, which have other useful properties in addition to the <code id=navigation-api-intro:dom-navigationhistoryentry-url><a href=#dom-navigationhistoryentry-url>url</a></code> and <code id=navigation-api-intro:dom-navigationhistoryentry-index><a href=#dom-navigationhistoryentry-index>index</a></code> properties shown here. Note that the array only contains <code id=navigation-api-intro:navigationhistoryentry-2><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> objects that represent the current <a id=navigation-api-intro:navigable href=document-sequences.html#navigable>navigable</a>, and thus its contents are not impacted by navigations inside <a href=document-sequences.html#navigable-container id=navigation-api-intro:navigable-container>navigable containers</a> such as <code id=navigation-api-intro:the-iframe-element><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>s, or by navigations of the <a href=document-sequences.html#nav-parent id=navigation-api-intro:nav-parent>parent navigable</a> in cases where the navigation API is itself being used inside an <code id=navigation-api-intro:the-iframe-element-2><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>. Additionally, it only contains <code id=navigation-api-intro:navigationhistoryentry-3><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> objects representing same-<a id=navigation-api-intro:concept-origin href=browsers.html#concept-origin>origin</a> <a href=browsing-the-web.html#session-history-entry id=navigation-api-intro:session-history-entry-2>session history entries</a>, meaning that if the user has visited other origins before or after the current one, there will not be corresponding <code id=navigation-api-intro:navigationhistoryentry-4><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code>s.</p>

  <hr>

  <p>The navigation API can also be used to navigate, reload, or traverse through the history:</p>

  <pre><code class=html>&lt;button onclick="navigation.reload()">Reload&lt;/button>

&lt;input type="url" id="navigationURL">
&lt;button onclick="navigation.navigate(navigationURL.value)">Navigate&lt;/button>

&lt;button id="backButton" onclick="navigation.back()">Back&lt;/button>
&lt;button id="forwardButton" onclick="navigation.forward()">Forward&lt;/button>

&lt;select id="traversalDestinations">&lt;/select>
&lt;button id="goButton" onclick="navigation.traverseTo(traversalDestinations.value)">Traverse To&lt;/button>

&lt;script>
backButton.disabled = !navigation.canGoBack;
forwardButton.disabled = !navigation.canGoForward;

for (const entry of navigation.entries()) {
  traversalDestinations.append(new Option(entry.url, entry.key));
}
&lt;/script></code></pre>

  <p>Note that traversals are again limited to same-<a id=navigation-api-intro:concept-origin-2 href=browsers.html#concept-origin>origin</a> destinations, meaning that, for example, <code id=navigation-api-intro:dom-navigation-cangoback><a href=#dom-navigation-cangoback>navigation.canGoBack</a></code> will be false if the previous <a id=navigation-api-intro:session-history-entry-3 href=browsing-the-web.html#session-history-entry>session history entry</a> is for a page from another origin.</p>

  <hr>

  <p>The most powerful part of the navigation API is the <code id=navigation-api-intro:event-navigate><a href=indices.html#event-navigate>navigate</a></code> event, which fires whenever almost any navigation or traversal occurs in the current <a id=navigation-api-intro:navigable-2 href=document-sequences.html#navigable>navigable</a>:</p>

  <pre><code class=js>navigation.onnavigate = event => {
  console.log(event.navigationType); // "push", "replace", "reload", or "traverse"
  console.log(event.destination.url);
  console.log(event.userInitiated);
  // ... and <a href=#the-navigateevent-interface>other useful properties</a>
};</code></pre>

  <p>(The event will not fire for <a href=document-lifecycle.html#nav-traversal-ui>location bar-initiated navigations</a>, or navigations initiated from other windows, when the destination of the navigation is a new document.)</p>

  <p>Much of the time, the event's <code id=navigation-api-intro:dom-event-cancelable><a data-x-internal=dom-event-cancelable href=https://dom.spec.whatwg.org/#dom-event-cancelable>cancelable</a></code> property will be true, meaning this event can be canceled using <code id=navigation-api-intro:dom-event-preventdefault><a data-x-internal=dom-event-preventdefault href=https://dom.spec.whatwg.org/#dom-event-preventdefault>preventDefault()</a></code>:</p>

  <pre><code class=js>navigation.onnavigate = event => {
  if (event.cancelable &amp;&amp; isDisallowedURL(event.destination.url)) {
    alert(`Please don't go to ${event.destination.url}!`);
    event.preventDefault();
  }
};
</code></pre>

  <p>The <code id=navigation-api-intro:dom-event-cancelable-2><a data-x-internal=dom-event-cancelable href=https://dom.spec.whatwg.org/#dom-event-cancelable>cancelable</a></code> property will be false for some "<code id=navigation-api-intro:dom-navigationtype-traverse><a href=#dom-navigationtype-traverse>traverse</a></code>" navigations, such as those taking place inside <a href=document-sequences.html#child-navigable id=navigation-api-intro:child-navigable>child navigables</a>, those crossing to new origins, or when the user attempts to traverse again shortly after a previous call to <code id=navigation-api-intro:dom-event-preventdefault-2><a data-x-internal=dom-event-preventdefault href=https://dom.spec.whatwg.org/#dom-event-preventdefault>preventDefault()</a></code> prevented them from doing so.</p>

  <p>The <code id=navigation-api-intro:navigateevent><a href=#navigateevent>NavigateEvent</a></code>'s <code id=navigation-api-intro:dom-navigateevent-intercept><a href=#dom-navigateevent-intercept>intercept()</a></code> method allows intercepting a navigation and converting it into a same-document navigation:</p>

  <pre><code class=js>navigation.addEventListener("navigate", e => {
  // Some navigations, e.g. cross-origin navigations, we cannot intercept.
  // Let the browser handle those normally.
  if (!e.canIntercept) {
    return;
  }

  // Similarly, don't intercept fragment navigations or downloads.
  if (e.hashChange || e.downloadRequest !== null) {
    return;
  }

  const url = new URL(event.destination.url);

  if (url.pathname.startsWith("/articles/")) {
    e.intercept({
      async handler() {
        // The URL has already changed, so show a placeholder while
        // fetching the new content, such as a spinner or loading page.
        renderArticlePagePlaceholder();

        // Fetch the new content and display when ready.
        const articleContent = await getArticleContent(url.pathname, { signal: e.signal });
        renderArticlePage(articleContent);
      }
    });
  }
});</code></pre>

  <p>Note that the <code id=navigation-api-intro:dom-navigationinterceptoptions-handler><a href=#dom-navigationinterceptoptions-handler>handler</a></code> function can return a promise to represent the asynchronous progress, and success or failure, of the navigation. While the promise is still pending, browser UI can treat the navigation as ongoing (e.g., by presenting a loading spinner). Other parts of the navigation API are also sensitive to these promises, such as the return value of <code id=navigation-api-intro:dom-navigation-navigate><a href=#dom-navigation-navigate>navigation.navigate()</a></code>:

  <pre><code class=js>const { committed, finished } = await navigation.navigate("/articles/the-navigation-api-is-cool");

// The committed promise will fulfill once the URL has changed, which happens
// immediately (as long as the NavigateEvent wasn't canceled).
await committed;

// The finished promise will fulfill once the Promise returned by handler() has
// fulfilled, which happens once the article is downloaded and rendered. (Or,
// it will reject, if handler() fails along the way).
await finished;</code></pre>

  <h5 id=navigation-interface><span class=secno>7.2.5.2</span> The <code>Navigation</code> interface<a href=#navigation-interface class=self-link></a></h5>

  

  <p>The following are the <a id=navigation-interface:event-handlers href=webappapis.html#event-handlers>event handlers</a> (and their corresponding <span>event handler event types</span>)  supported,
    as <a id=navigation-interface:event-handler-idl-attributes href=webappapis.html#event-handler-idl-attributes>event handler IDL attributes</a>, by all objects implementing the
    <code>Navigation</code> interface:
  </p>

  <table><thead><tr><th><a href=webappapis.html#event-handlers id=navigation-interface:event-handlers-2>Event handler</a>
        <th><span>Event handler event type</span>
    <tbody><tr><td><dfn data-dfn-for=Navigation id=handler-navigation-onnavigate data-dfn-type=attribute><code>onnavigate</code></dfn>
        <td><code id=navigation-interface:event-navigate><a href=indices.html#event-navigate>navigate</a></code>
      <tr><td><dfn data-dfn-for=Navigation id=handler-navigation-onnavigatesuccess data-dfn-type=attribute><code>onnavigatesuccess</code></dfn>
        <td><code id=navigation-interface:event-navigatesuccess><a href=indices.html#event-navigatesuccess>navigatesuccess</a></code>
      <tr><td><dfn data-dfn-for=Navigation id=handler-navigation-onnavigateerror data-dfn-type=attribute><code>onnavigateerror</code></dfn>
        <td><code id=navigation-interface:event-navigateerror><a href=indices.html#event-navigateerror>navigateerror</a></code>
      <tr><td><dfn data-dfn-for=Navigation id=handler-navigation-oncurrententrychange data-dfn-type=attribute><code>oncurrententrychange</code></dfn>
        <td><code id=navigation-interface:event-currententrychange><a href=indices.html#event-currententrychange>currententrychange</a></code>
  </table>

  <h5 id=navigation-api-core><span class=secno>7.2.5.3</span> Core infrastructure<a href=#navigation-api-core class=self-link></a></h5>

  

  <p>A key type used throughout the navigation API is the <code id=navigation-api-core:navigationtype><a href=#navigationtype>NavigationType</a></code>
    enumeration:</p>

  <pre><code class=idl>enum <dfn id=navigationtype data-dfn-type=enum>NavigationType</dfn> {
 "<a href=#dom-navigationtype-push id=navigation-api-core:dom-navigationtype-push>push</a>",
 "<a href=#dom-navigationtype-replace id=navigation-api-core:dom-navigationtype-replace>replace</a>",
 "<a href=#dom-navigationtype-reload id=navigation-api-core:dom-navigationtype-reload>reload</a>",
 "<a href=#dom-navigationtype-traverse id=navigation-api-core:dom-navigationtype-traverse>traverse</a>"
};</code></pre>

  <p>This captures the main web developer-visible types of "navigations", which (as <a href=browsing-the-web.html#note-meaning-of-navigate>noted elsewhere</a>) do not exactly correspond to this standard's
    singular <a id=navigation-api-core:navigate href=browsing-the-web.html#navigate>navigate</a> algorithm. The meaning of each value is the following:</p>

  <dl><dt>"<dfn data-dfn-for=NavigationType id=dom-navigationtype-push data-dfn-type=enum-value><code>push</code></dfn>"<dd>Corresponds to calls to <a id=navigation-api-core:navigate-2 href=browsing-the-web.html#navigate>navigate</a> where the <a id=navigation-api-core:history-handling-behavior href=browsing-the-web.html#history-handling-behavior>history handling
        behavior</a> ends up as "<code id=navigation-api-core:navigationhistorybehavior-push><a href=browsing-the-web.html#navigationhistorybehavior-push>push</a></code>", or to
      <code id=navigation-api-core:dom-history-pushstate><a href=#dom-history-pushstate>history.pushState()</a></code>.
    <dt>"<dfn data-dfn-for=NavigationType id=dom-navigationtype-replace data-dfn-type=enum-value><code>replace</code></dfn>"<dd>Corresponds to calls to <a id=navigation-api-core:navigate-3 href=browsing-the-web.html#navigate>navigate</a> where the <a id=navigation-api-core:history-handling-behavior-2 href=browsing-the-web.html#history-handling-behavior>history handling
        behavior</a> ends up as "<code id=navigation-api-core:navigationhistorybehavior-replace-2><a href=browsing-the-web.html#navigationhistorybehavior-replace-2>replace</a></code>", or
      to <code id=navigation-api-core:dom-history-pushstate-2><a href=#dom-history-pushstate>history.replaceState()</a></code>.<dt>"<dfn data-dfn-for=NavigationType id=dom-navigationtype-reload data-dfn-type=enum-value><code>reload</code></dfn>"<dd>Corresponds to calls to <a id=navigation-api-core:reload href=browsing-the-web.html#reload>reload</a>.<dt>"<dfn data-dfn-for=NavigationType id=dom-navigationtype-traverse data-dfn-type=enum-value><code>traverse</code></dfn>"<dd>Corresponds to calls to <a id=navigation-api-core:traverse-the-history-by-a-delta href=browsing-the-web.html#traverse-the-history-by-a-delta>traverse the history by a delta</a>.</dl>

  


  <h5 id=the-navigationhistoryentry-interface><span class=secno>7.2.5.4</span> The <code id=the-navigationhistoryentry-interface:navigationhistoryentry><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> interface<a href=#the-navigationhistoryentry-interface class=self-link></a></h5>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=navigationhistoryentry data-dfn-type=interface>NavigationHistoryEntry</dfn> : <a id=the-navigationhistoryentry-interface:eventtarget href=https://dom.spec.whatwg.org/#interface-eventtarget data-x-internal=eventtarget>EventTarget</a> {
  readonly attribute USVString? <a href=#dom-navigationhistoryentry-url id=the-navigationhistoryentry-interface:dom-navigationhistoryentry-url>url</a>;
  readonly attribute DOMString <a href=#dom-navigationhistoryentry-key id=the-navigationhistoryentry-interface:dom-navigationhistoryentry-key>key</a>;
  readonly attribute DOMString <a href=#dom-navigationhistoryentry-id id=the-navigationhistoryentry-interface:dom-navigationhistoryentry-id>id</a>;
  readonly attribute long long <a href=#dom-navigationhistoryentry-index id=the-navigationhistoryentry-interface:dom-navigationhistoryentry-index>index</a>;
  readonly attribute boolean <a href=#dom-navigationhistoryentry-samedocument id=the-navigationhistoryentry-interface:dom-navigationhistoryentry-samedocument>sameDocument</a>;

  any <a href=#dom-navigationhistoryentry-getstate id=the-navigationhistoryentry-interface:dom-navigationhistoryentry-getstate>getState</a>();

  attribute <a id=the-navigationhistoryentry-interface:eventhandler href=webappapis.html#eventhandler>EventHandler</a> <a href=#handler-navigationhistoryentry-ondispose id=the-navigationhistoryentry-interface:handler-navigationhistoryentry-ondispose>ondispose</a>;
};</code></pre>

  <dl class=domintro><dt><code><var>entry</var>.<span id=dom-navigationhistoryentry-url>url</span></code><dd>
      <p>The URL of this navigation history entry.</p>

      <p>This can return null if the entry corresponds to a different <code id=the-navigationhistoryentry-interface:document><a href=dom.html#document>Document</a></code> than the
        current one (i.e., if <code id=the-navigationhistoryentry-interface:dom-navigationhistoryentry-samedocument-2><a href=#dom-navigationhistoryentry-samedocument>sameDocument</a></code>
        is false), and that <code id=the-navigationhistoryentry-interface:document-2><a href=dom.html#document>Document</a></code> was fetched with a <a id=the-navigationhistoryentry-interface:referrer-policy href=https://w3c.github.io/webappsec-referrer-policy/#referrer-policy data-x-internal=referrer-policy>referrer policy</a> of
        "<code>no-referrer</code>" or "<code>origin</code>", since that indicates
        the <code id=the-navigationhistoryentry-interface:document-3><a href=dom.html#document>Document</a></code> in question is hiding its URL even from other same-origin pages.</p>
    <dt><code><var>entry</var>.<span id=dom-navigationhistoryentry-key>key</span></code><dd>
      <p>A user agent-generated random UUID string representing this navigation history entry's place
        in the navigation history list. This value will be reused by other
        <code id=the-navigationhistoryentry-interface:navigationhistoryentry-2><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> instances that replace this one due to "<code id=the-navigationhistoryentry-interface:dom-navigationtype-replace><a href=#dom-navigationtype-replace>replace</a></code>" navigations, and will survive reloads and
        session restores.
      </p>

      <p>This is useful for navigating back to this entry in the navigation history list, using <code id=the-navigationhistoryentry-interface:dom-navigation-traverseto><a href=#dom-navigation-traverseto>navigation.traverseTo(key)</a></code>.</p>
    <dt><code><var>entry</var>.<span id=dom-navigationhistoryentry-id>id</span></code><dd>
      <p>A user agent-generated random UUID string representing this specific navigation history
        entry. This value will <em>not</em> be reused by other <code id=the-navigationhistoryentry-interface:navigationhistoryentry-3><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code>
        instances. This value will survive reloads and session restores.</p>

      <p>This is useful for associating data with this navigation history entry using other storage
        APIs.</p>
    <dt><code><var>entry</var>.<span id=dom-navigationhistoryentry-index>index</span></code><dd>
      <p>The index of this <code id=the-navigationhistoryentry-interface:navigationhistoryentry-4><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> within <code id=the-navigationhistoryentry-interface:dom-navigation-entries><a href=#dom-navigation-entries>navigation.entries()</a></code>, or −1 if the entry is not in
        the navigation history entry list.</p>
    <dt><code><var>entry</var>.<span id=dom-navigationhistoryentry-samedocument>sameDocument</span></code><dd>
      <p>Indicates whether or not this navigation history entry is for the same
        <code id=the-navigationhistoryentry-interface:document-4><a href=dom.html#document>Document</a></code> as the current one, or not. This will be true, for example, when the entry
        represents a fragment navigation or single-page app navigation.
      </p>
    <dt><code><var>entry</var>.<span id=dom-navigationhistoryentry-getstate>getState</span>()</code><dd>
      <p>Returns the <span>deserialization</span> of the state stored
        in this entry, which was added to the entry using <code id=the-navigationhistoryentry-interface:dom-navigation-navigate><a href=#dom-navigation-navigate>navigation.navigate()</a></code> or <code id=the-navigationhistoryentry-interface:dom-navigation-updatecurrententry><a href=#dom-navigation-updatecurrententry>navigation.updateCurrentEntry()</a></code>. This state
        survives reloads and session restores.</p>

      <p>Note that in general, unless the state value is a primitive, <code class=js>entry.getState() !== entry.getState()</code>, since a fresh deserialization is
        returned each time.</p>

      <p>This state is unrelated to the classic history API's <code id=the-navigationhistoryentry-interface:dom-history-state><a href=#dom-history-state>history.state</a></code>.</p>
    </dl>

  

  <p>The following are the <a id=the-navigationhistoryentry-interface:event-handlers href=webappapis.html#event-handlers>event handlers</a> (and their corresponding <span>event handler event types</span>)  supported,
    as <a id=the-navigationhistoryentry-interface:event-handler-idl-attributes href=webappapis.html#event-handler-idl-attributes>event handler IDL attributes</a>, by all objects implementing the
    <code id=the-navigationhistoryentry-interface:navigationhistoryentry-5><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> interface:
  </p>

  <table><thead><tr><th><a href=webappapis.html#event-handlers id=the-navigationhistoryentry-interface:event-handlers-2>Event handler</a>
        <th><span>Event handler event type</span>
    <tbody><tr><td><dfn data-dfn-for=NavigationHistoryEntry id=handler-navigationhistoryentry-ondispose data-dfn-type=attribute><code>ondispose</code></dfn>
        <td><code id=the-navigationhistoryentry-interface:event-dispose><a href=indices.html#event-dispose>dispose</a></code>
  </table>


  <h5 id=the-history-entry-list><span class=secno>7.2.5.5</span> The history entry list<a href=#the-history-entry-list class=self-link></a></h5>

  <dl class=domintro><dt><code><var>entries</var> = <span>navigation</span>.<span id=dom-navigation-entries>entries()</span></code><dd>
      <p>Returns an array of <code id=the-history-entry-list:navigationhistoryentry><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> instances represent the current
        navigation history entry list, i.e., all <a href=browsing-the-web.html#session-history-entry id=the-history-entry-list:session-history-entry>session history
          entries</a> for this <a id=the-history-entry-list:navigable href=document-sequences.html#navigable>navigable</a> that are <a id=the-history-entry-list:same-origin href=browsers.html#same-origin>same origin</a> and contiguous
        to the <a href=document-sequences.html#nav-current-history-entry id=the-history-entry-list:nav-current-history-entry>current session history entry</a>.</p>

    <dt><code><span>navigation</span>.<span id=dom-navigation-currententry>currentEntry</span></code><dd>
      <p>Returns the <code id=the-history-entry-list:navigationhistoryentry-2><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> corresponding to the <a href=document-sequences.html#nav-current-history-entry id=the-history-entry-list:nav-current-history-entry-2>current session history entry</a>.</p>

    <dt><code><span>navigation</span>.<span id=dom-navigation-updatecurrententry>updateCurrentEntry</span>({ <span>state</span> })</code><dd>
      <p>Updates the <a href=browsing-the-web.html#she-navigation-api-state id=the-history-entry-list:she-navigation-api-state>navigation API state</a> of the <a href=document-sequences.html#nav-current-history-entry id=the-history-entry-list:nav-current-history-entry-3>current session history entry</a>, without performing a
        navigation like <code id=the-history-entry-list:dom-navigation-reload><a href=#dom-navigation-reload>navigation.reload()</a></code> would do.</p>

      <p>This method is best used to capture updates to the page that have already happened, and need
        to be reflected into the navigation API state. For cases where the state update is meant to
        drive a page update, instead use <code id=the-history-entry-list:dom-navigation-navigate><a href=#dom-navigation-navigate>navigation.navigate()</a></code> or <code id=the-history-entry-list:dom-navigation-reload-2><a href=#dom-navigation-reload>navigation.reload()</a></code>, which will trigger a <code id=the-history-entry-list:event-navigate><a href=indices.html#event-navigate>navigate</a></code> event.</p>
    <dt><code><span>navigation</span>.<span id=dom-navigation-cangoback>canGoBack</span></code><dd>
      <p>Returns true if the current <a href=document-sequences.html#nav-current-history-entry id=the-history-entry-list:nav-current-history-entry-4>current session
          history entry</a> (i.e., <code id=the-history-entry-list:dom-navigation-currententry><a href=#dom-navigation-currententry>currentEntry</a></code>) is
        not the first one in the navigation history entry list (i.e., in <code id=the-history-entry-list:dom-navigation-entries><a href=#dom-navigation-entries>entries()</a></code>). This means that there is a previous
        <a id=the-history-entry-list:session-history-entry-2 href=browsing-the-web.html#session-history-entry>session history entry</a> for this <a id=the-history-entry-list:navigable-2 href=document-sequences.html#navigable>navigable</a>, and its <a href=browsing-the-web.html#she-document-state id=the-history-entry-list:she-document-state>document state</a>'s <a href=browsing-the-web.html#document-state-origin id=the-history-entry-list:document-state-origin>origin</a> is <a id=the-history-entry-list:same-origin-2 href=browsers.html#same-origin>same origin</a> with the current
        <code id=the-history-entry-list:document><a href=dom.html#document>Document</a></code>'s <a href=https://dom.spec.whatwg.org/#concept-document-origin id=the-history-entry-list:concept-document-origin data-x-internal=concept-document-origin>origin</a>.
      </p>

    <dt><code><span>navigation</span>.<span id=dom-navigation-cangoforward>canGoForward</span></code><dd>
      <p>Returns true if the current <a href=document-sequences.html#nav-current-history-entry id=the-history-entry-list:nav-current-history-entry-5>current session
          history entry</a> (i.e., <code id=the-history-entry-list:dom-navigation-currententry-2><a href=#dom-navigation-currententry>currentEntry</a></code>) is
        not the last one in the navigation history entry list (i.e., in <code id=the-history-entry-list:dom-navigation-entries-2><a href=#dom-navigation-entries>entries()</a></code>). This means that there is a next <a id=the-history-entry-list:session-history-entry-3 href=browsing-the-web.html#session-history-entry>session
          history entry</a> for this <a id=the-history-entry-list:navigable-3 href=document-sequences.html#navigable>navigable</a>, and its <a href=browsing-the-web.html#she-document-state id=the-history-entry-list:she-document-state-2>document state</a>'s <a href=browsing-the-web.html#document-state-origin id=the-history-entry-list:document-state-origin-2>origin</a> is <a id=the-history-entry-list:same-origin-3 href=browsers.html#same-origin>same origin</a> with the current
        <code id=the-history-entry-list:document-2><a href=dom.html#document>Document</a></code>'s <a href=https://dom.spec.whatwg.org/#concept-document-origin id=the-history-entry-list:concept-document-origin-2 data-x-internal=concept-document-origin>origin</a>.
      </p>
  </dl>

  


  <h5 id=navigation-api-initiating-navigations><span class=secno>7.2.5.6</span> Initiating navigations<a href=#navigation-api-initiating-navigations class=self-link></a></h5>

  <dl class=domintro><dt><code>{ <span>committed</span>, <span>finished</span> } = <span>navigation</span>.<span id=dom-navigation-navigate>navigate</span>(<var>url</var>)</code><dt><code>{ <span>committed</span>, <span>finished</span> } = <span>navigation</span>.<a href=#dom-navigation-navigate id=navigation-api-initiating-navigations:dom-navigation-navigate>navigate</a>(<var>url</var>, <var>options</var>)</code><dd>
      <p><a href=browsing-the-web.html#navigate id=navigation-api-initiating-navigations:navigate>Navigates</a> the current page to the given <var>url</var>.
        <var>options</var> can contain the following values:
      </p>

      <ul><li>
          <p><code id=dom-navigationnavigateoptions-history>history</code> can be set to
            "<code id=navigationhistorybehavior-replace><a href=browsing-the-web.html#navigationhistorybehavior-replace-2>replace</a></code>" to replace the current
            session history entry, instead of pushing a new one.</p>
        <li>
          <p><code id=dom-navigationoptions-info>info</code> can be set to any value; it
            will populate the <code id=navigation-api-initiating-navigations:dom-navigateevent-info><a href=#dom-navigateevent-info>info</a></code> property of the
            corresponding <code id=navigation-api-initiating-navigations:navigateevent><a href=#navigateevent>NavigateEvent</a></code>.</p>
        <li>
          <p><code id=dom-navigationnavigateoptions-state>state</code> can be set to any
            <a href=structured-data.html#serializable-objects id=navigation-api-initiating-navigations:serializable-objects>serializable</a> value; it will populate the state
            retrieved by <code id=navigation-api-initiating-navigations:dom-navigationhistoryentry-getstate><a href=#dom-navigationhistoryentry-getstate>navigation.currentEntry.getState()</a></code> once the
            navigation completes, for same-document navigations. (It will be ignored for navigations that
            end up cross-document.)
          </p>
        </ul>

      <p>By default this will perform a full navigation (i.e., a cross-document navigation, unless the
        given URL differs only in a <a href=https://url.spec.whatwg.org/#concept-url-fragment id=navigation-api-initiating-navigations:concept-url-fragment data-x-internal=concept-url-fragment>fragment</a> from the current
        one). The <code id=navigation-api-initiating-navigations:dom-navigateevent-intercept><a href=#dom-navigateevent-intercept>navigateEvent.intercept()</a></code> method can
        be used to convert it into a same-document navigation.</p>

      <p>The returned promises will behave as follows:</p>

      <ul><li>
          <p>For navigations that get aborted, both promises will reject with an
            <a id=navigation-api-initiating-navigations:aborterror href=https://webidl.spec.whatwg.org/#aborterror data-x-internal=aborterror>"<code>AbortError</code>"</a> <code id=navigation-api-initiating-navigations:domexception><a data-x-internal=domexception href=https://webidl.spec.whatwg.org/#dfn-DOMException>DOMException</a></code>.
          </p>
        <li>
          <p>For same-document navigations created by using the <code id=navigation-api-initiating-navigations:dom-navigateevent-intercept-2><a href=#dom-navigateevent-intercept>navigateEvent.intercept()</a></code> method, <code>committed</code> will fulfill immediately, and <code>finished</code> will fulfill or reject according to any
            promsies returned by handlers passed to <code id=navigation-api-initiating-navigations:dom-navigateevent-intercept-3><a href=#dom-navigateevent-intercept>intercept()</a></code>.</p>
        <li>
          <p>For other same-document navigations (e.g., non-intercepted <a href=browsing-the-web.html#navigate-fragid id=navigation-api-initiating-navigations:navigate-fragid>fragment navigations</a>), both promises will fulfill
            immediately.</p>
        <li>
          <p>For cross-document navigations, or navigations that result in 204 or 205 <a href=https://fetch.spec.whatwg.org/#concept-response-status id=navigation-api-initiating-navigations:concept-response-status data-x-internal=concept-response-status>statuses</a> or `<code id=navigation-api-initiating-navigations:http-content-disposition><a data-x-internal=http-content-disposition href=https://httpwg.org/specs/rfc6266.html>Content-Disposition: attachment</a></code>` header fields from
            the server (and thus do not actually navigate), both promises will never settle.</p>
        </ul>

      <p>In all cases, when the returned promises fulfill, it will be with the
        <code id=navigation-api-initiating-navigations:navigationhistoryentry><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> that was navigated to.
      </p>
    <dt><code>{ <span>committed</span>, <span>finished</span> } = <span>navigation</span>.<span id=dom-navigation-reload>reload</span>(<var>options</var>)</code><dd>
      <p><a href=browsing-the-web.html#reload id=navigation-api-initiating-navigations:reload>Reloads</a> the current page. <var>options</var> can contain <code id=navigation-api-initiating-navigations:dom-navigationoptions-info><a href=#dom-navigationoptions-info>info</a></code> and <code id=dom-navigationreloadoptions-state>state</code>, which behave as described above.</p>

      <p>The default behavior of performing a from-network-or-cache reload of the current page can be
        overriden by the using the <code id=navigation-api-initiating-navigations:dom-navigateevent-intercept-4><a href=#dom-navigateevent-intercept>navigateEvent.intercept()</a></code> method. Doing so will mean
        this call only updates state or passes along the appropriate <code id=navigation-api-initiating-navigations:dom-navigationoptions-info-2><a href=#dom-navigationoptions-info>info</a></code>, plus performing whater actions the <code id=navigation-api-initiating-navigations:event-navigate><a href=indices.html#event-navigate>navigate</a></code> event handlers see fit to carry out.</p>

      <p>The returned promises will behave as follows:</p>

      <ul><li>
          <p>If the reload is intercepted by using the <code id=navigation-api-initiating-navigations:dom-navigateevent-intercept-5><a href=#dom-navigateevent-intercept>navigateEvent.intercept()</a></code> method, <code>committed</code> will fulfill immediately, and <code>finished</code> will fulfill or reject according to any
            promsies returned by handlers passed to <code id=navigation-api-initiating-navigations:dom-navigateevent-intercept-6><a href=#dom-navigateevent-intercept>intercept()</a></code>.</p>
        <li>
          <p>Otherwise, both promises will never settle.</p>
        </ul>
    <dt><code>{ <span>committed</span>, <span>finished</span> } = <span>navigation</span>.<span id=dom-navigation-traverseto>traverseTo</span>(<var>key</var>)</code><dt><code>{ <span>committed</span>, <span>finished</span> } = <span>navigation</span>.<a href=#dom-navigation-traverseto id=navigation-api-initiating-navigations:dom-navigation-traverseto>traverseTo</a>(<var>key</var>, { <a href=#dom-navigationoptions-info id=navigation-api-initiating-navigations:dom-navigationoptions-info-3>info</a> })</code><dd>
      <p><a href=browsing-the-web.html#apply-the-traverse-history-step id=navigation-api-initiating-navigations:apply-the-traverse-history-step>Traverses</a> to the closest <a id=navigation-api-initiating-navigations:session-history-entry href=browsing-the-web.html#session-history-entry>session
          history entry</a> that matches the <code id=navigation-api-initiating-navigations:navigationhistoryentry-2><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> with the given
        <var>key</var>. <code id=navigation-api-initiating-navigations:dom-navigationoptions-info-4><a href=#dom-navigationoptions-info>info</a></code> can be set to any value;
        it will populate the <code id=navigation-api-initiating-navigations:dom-navigateevent-info-2><a href=#dom-navigateevent-info>info</a></code> property of the
        corresponding <code id=navigation-api-initiating-navigations:navigateevent-2><a href=#navigateevent>NavigateEvent</a></code>.
      </p>

      <p>If a traversal to that <a id=navigation-api-initiating-navigations:session-history-entry-2 href=browsing-the-web.html#session-history-entry>session history entry</a> is already in progress, then this
        will return the promises for that original traversal, and <code id=navigation-api-initiating-navigations:dom-navigateevent-info-3><a href=#dom-navigateevent-info>info</a></code> will be ignored.</p>

      <p>The returned promises will behave as follows:</p>

      <ul><li>
          <p>If there is no <code id=navigation-api-initiating-navigations:navigationhistoryentry-3><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> in <code id=navigation-api-initiating-navigations:dom-navigation-entries><a href=#dom-navigation-entries>navigation.entries()</a></code> whose <code id=navigation-api-initiating-navigations:dom-navigationhistoryentry-key><a href=#dom-navigationhistoryentry-key>key</a></code> matches <var>key</var>, both promises will
            reject with an <a id=navigation-api-initiating-navigations:invalidstateerror href=https://webidl.spec.whatwg.org/#invalidstateerror data-x-internal=invalidstateerror>"<code>InvalidStateError</code>"</a>
            <code id=navigation-api-initiating-navigations:domexception-2><a data-x-internal=domexception href=https://webidl.spec.whatwg.org/#dfn-DOMException>DOMException</a></code>.
          </p>
        <li>
          <p>For same-document traversals intercepted by the <code id=navigation-api-initiating-navigations:dom-navigateevent-intercept-7><a href=#dom-navigateevent-intercept>navigateEvent.intercept()</a></code> method, <code>committed</code> will fulfill as soon as the traversal
            is processed and <code id=navigation-api-initiating-navigations:dom-navigation-currententry><a href=#dom-navigation-currententry>navigation.currentEntry</a></code> is
            updated, and <code>finished</code> will fulfill or
            reject according to any promsies returned by the handlers passed to <code id=navigation-api-initiating-navigations:dom-navigateevent-intercept-8><a href=#dom-navigateevent-intercept>intercept()</a></code>.</p>
        <li>
          <p>For non-intercepted same-document travesals, both promises will fulfill as soon as the
            traversal is processed and <code id=navigation-api-initiating-navigations:dom-navigation-currententry-2><a href=#dom-navigation-currententry>navigation.currentEntry</a></code> is updated.</p>
        <li>
          <p>For cross-document traversals, including attempted cross-document traversals that end up
            resulting in a 204 or 205 <a href=https://fetch.spec.whatwg.org/#concept-response-status id=navigation-api-initiating-navigations:concept-response-status-2 data-x-internal=concept-response-status>statuses</a> or `<code id=navigation-api-initiating-navigations:http-content-disposition-2><a data-x-internal=http-content-disposition href=https://httpwg.org/specs/rfc6266.html>Content-Disposition: attachment</a></code>` header fields from
            the server (and thus do not actually traverse), both promises will never settle.</p>
        </ul>
    <dt><code>{ <span>committed</span>, <span>finished</span> } = <span>navigation</span>.<span id=dom-navigation-back>back</span>(<var>key</var>)</code><dt><code>{ <span>committed</span>, <span>finished</span> } = <span>navigation</span>.<a href=#dom-navigation-back id=navigation-api-initiating-navigations:dom-navigation-back>back</a>(<var>key</var>, { <a href=#dom-navigationoptions-info id=navigation-api-initiating-navigations:dom-navigationoptions-info-5>info</a> })</code><dd>
      <p>Traverses to the closest previous <a id=navigation-api-initiating-navigations:session-history-entry-3 href=browsing-the-web.html#session-history-entry>session history entry</a> which results in this
        <a id=navigation-api-initiating-navigations:navigable href=document-sequences.html#navigable>navigable</a> traversing, i.e., which corresponds to a different
        <code id=navigation-api-initiating-navigations:navigationhistoryentry-4><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> and thus will cause <code id=navigation-api-initiating-navigations:dom-navigation-currententry-3><a href=#dom-navigation-currententry>navigation.currentEntry</a></code> to change. <code id=navigation-api-initiating-navigations:dom-navigationoptions-info-6><a href=#dom-navigationoptions-info>info</a></code> can be set to any value; it will populate the
        <code id=navigation-api-initiating-navigations:dom-navigateevent-info-4><a href=#dom-navigateevent-info>info</a></code> property of the corresponding
        <code id=navigation-api-initiating-navigations:navigateevent-3><a href=#navigateevent>NavigateEvent</a></code>.
      </p>

      <p>If a traversal to that <a id=navigation-api-initiating-navigations:session-history-entry-4 href=browsing-the-web.html#session-history-entry>session history entry</a> is already in progress, then this
        will return the promises for that original traversal, and <code id=navigation-api-initiating-navigations:dom-navigateevent-info-5><a href=#dom-navigateevent-info>info</a></code> will be ignored.</p>

      <p>The returned promises behave equivalently to those returned by <code id=navigation-api-initiating-navigations:dom-navigation-traverseto-2><a href=#dom-navigation-traverseto>traverseTo()</a></code>.</p>
    <dt><code>{ <span>committed</span>, <span>finished</span> } = <span>navigation</span>.<span id=dom-navigation-forward>forward</span>(<var>key</var>)</code><dt><code>{ <span>committed</span>, <span>finished</span> } = <span>navigation</span>.<a href=#dom-navigation-forward id=navigation-api-initiating-navigations:dom-navigation-forward>forward</a>(<var>key</var>, { <a href=#dom-navigationoptions-info id=navigation-api-initiating-navigations:dom-navigationoptions-info-7>info</a> })</code><dd>
      <p>Traverses to the closest forward <a id=navigation-api-initiating-navigations:session-history-entry-5 href=browsing-the-web.html#session-history-entry>session history entry</a> which results in this
        <a id=navigation-api-initiating-navigations:navigable-2 href=document-sequences.html#navigable>navigable</a> traversing, i.e., which corresponds to a different
        <code id=navigation-api-initiating-navigations:navigationhistoryentry-5><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> and thus will cause <code id=navigation-api-initiating-navigations:dom-navigation-currententry-4><a href=#dom-navigation-currententry>navigation.currentEntry</a></code> to change. <code id=navigation-api-initiating-navigations:dom-navigationoptions-info-8><a href=#dom-navigationoptions-info>info</a></code> can be set to any value; it will populate the
        <code id=navigation-api-initiating-navigations:dom-navigateevent-info-6><a href=#dom-navigateevent-info>info</a></code> property of the corresponding
        <code id=navigation-api-initiating-navigations:navigateevent-4><a href=#navigateevent>NavigateEvent</a></code>.
      </p>

      <p>If a traversal to that <a id=navigation-api-initiating-navigations:session-history-entry-6 href=browsing-the-web.html#session-history-entry>session history entry</a> is already in progress, then this
        will return the promises for that original traversal, and <code id=navigation-api-initiating-navigations:dom-navigateevent-info-7><a href=#dom-navigateevent-info>info</a></code> will be ignored.</p>

      <p>The returned promises behave equivalently to those returned by <code id=navigation-api-initiating-navigations:dom-navigation-traverseto-3><a href=#dom-navigation-traverseto>traverseTo()</a></code>.</p>
    </dl>

  


  <h5 id=ongoing-navigation-tracking><span class=secno>7.2.5.7</span> Ongoing navigation tracking<a href=#ongoing-navigation-tracking class=self-link></a></h5>

  

  <dl class=domintro><dt><code><span>navigation</span>.<span id=dom-navigation-transition>transition</span></code><dd>
      <p>A <code>NavigationTransition</code> representing any ongoing navigation that hasn't yet
        reached the <code id=ongoing-navigation-tracking:event-navigatesuccess><a href=indices.html#event-navigatesuccess>navigatesuccess</a></code> or <code id=ongoing-navigation-tracking:event-navigateerror><a href=indices.html#event-navigateerror>navigateerror</a></code> stage, if one exists; or null, if there is no
        such transition ongoing.</p>

      <p>Since <code id=ongoing-navigation-tracking:dom-navigation-currententry><a href=#dom-navigation-currententry>navigation.currentEntry</a></code> (and other
        properties like <code id=ongoing-navigation-tracking:dom-location-href><a href=#dom-location-href>location.href</a></code>) are updated immediately
        upon navigation, this <code id=ongoing-navigation-tracking:dom-navigation-transition><a href=#dom-navigation-transition>navigation.transition</a></code>
        property is useful for determining when such navigations are not yet fully settled, according to
        any handlers passed to <code id=ongoing-navigation-tracking:dom-navigateevent-intercept><a href=#dom-navigateevent-intercept>navigateEvent.intercept()</a></code>.</p>
    <dt><code><span>navigation</span>.<a href=#dom-navigation-transition id=ongoing-navigation-tracking:dom-navigation-transition-2>transition</a>.<span id=dom-navigationtransition-navigationtype>navigationType</span></code><dd>
      <p>One of "<code id=ongoing-navigation-tracking:dom-navigationtype-push><a href=#dom-navigationtype-push>push</a></code>", "<code id=ongoing-navigation-tracking:dom-navigationtype-replace><a href=#dom-navigationtype-replace>replace</a></code>", "<code id=ongoing-navigation-tracking:dom-navigationtype-reload><a href=#dom-navigationtype-reload>reload</a></code>", or "<code id=ongoing-navigation-tracking:dom-navigationtype-traverse><a href=#dom-navigationtype-traverse>traverse</a></code>", indicating what type of navigation this
        transition is for.</p>
    <dt><code><span>navigation</span>.<a href=#dom-navigation-transition id=ongoing-navigation-tracking:dom-navigation-transition-3>transition</a>.<span id=dom-navigationtransition-from>from</span></code><dd>
      <p>The <code id=ongoing-navigation-tracking:navigationhistoryentry><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> from which the transition is coming. This can be
        useful to compare against <code id=ongoing-navigation-tracking:dom-navigation-currententry-2><a href=#dom-navigation-currententry>navigation.currentEntry</a></code>.</p>
    <dt><code><span>navigation</span>.<a href=#dom-navigation-transition id=ongoing-navigation-tracking:dom-navigation-transition-4>transition</a>.<span id=dom-navigationtransition-finished>finished</span></code><dd>
      <p>A promise which fulfills at the same time as the <code id=ongoing-navigation-tracking:event-navigatesuccess-2><a href=indices.html#event-navigatesuccess>navigatesuccess</a></code> fires, or rejects at the same time the
        <code id=ongoing-navigation-tracking:event-navigateerror-2><a href=indices.html#event-navigateerror>navigateerror</a></code> event fires.
      </p>
    </dl>

  


  <h5 id=navigation-activation-interface><span class=secno>7.2.5.8</span> The <code id=navigation-activation-interface:navigationactivation><a href=#navigationactivation>NavigationActivation</a></code> interface<a href=#navigation-activation-interface class=self-link></a></h5>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=navigationactivation data-dfn-type=interface>NavigationActivation</dfn> {
  readonly attribute <a href=#navigationhistoryentry id=navigation-activation-interface:navigationhistoryentry>NavigationHistoryEntry</a>? <a href=#dom-navigationactivation-from-2 id=navigation-activation-interface:dom-navigationactivation-from-2>from</a>;
  readonly attribute <a href=#navigationhistoryentry id=navigation-activation-interface:navigationhistoryentry-2>NavigationHistoryEntry</a> <a href=#dom-navigationactivation-entry-2 id=navigation-activation-interface:dom-navigationactivation-entry-2>entry</a>;
  readonly attribute <a href=#navigationtype id=navigation-activation-interface:navigationtype>NavigationType</a> <a href=#dom-navigationactivation-navigationtype-2 id=navigation-activation-interface:dom-navigationactivation-navigationtype-2>navigationType</a>;
};</code></pre>

  <dl class=domintro><dt><code><span>navigation</span>.<a href=#dom-navigation-activation-2 id=dom-navigation-activation>activation</a></code><dd>
      <p>A <code id=navigation-activation-interface:navigationactivation-2><a href=#navigationactivation>NavigationActivation</a></code> containing information about the most recent
        cross-document navigation, the navigation that "activated" this <code id=navigation-activation-interface:document><a href=dom.html#document>Document</a></code>.</p>

      <p>While <code id=navigation-activation-interface:dom-navigation-currententry><a href=#dom-navigation-currententry>navigation.currentEntry</a></code> and the
        <code id=navigation-activation-interface:document-2><a href=dom.html#document>Document</a></code>'s <a href=https://dom.spec.whatwg.org/#concept-document-url id="navigation-activation-interface:the-document's-address" data-x-internal="the-document's-address">URL</a> can be updated regularly
        due to same-document navigations, <code id=navigation-activation-interface:dom-navigation-activation-2><a href=#dom-navigation-activation-2>navigation.activation</a></code> stays constant, and its properties
        are only updated if the <code id=navigation-activation-interface:document-3><a href=dom.html#document>Document</a></code> is <a href=browsing-the-web.html#reactivate-a-document id=navigation-activation-interface:reactivate-a-document>reactivated</a> from history.
      </p>
    <dt><code><span>navigation</span>.<a href=#dom-navigation-activation-2 id=navigation-activation-interface:dom-navigation-activation-2-2>activation</a>.<a href=#dom-navigationactivation-entry-2 id=dom-navigationactivation-entry>entry</a></code><dd>
      <p>A <code id=navigation-activation-interface:navigationhistoryentry-3><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code>, equivalent to the value of the <code id=navigation-activation-interface:dom-navigation-currententry-2><a href=#dom-navigation-currententry>navigation.currentEntry</a></code> property at the moment the
        <code id=navigation-activation-interface:document-4><a href=dom.html#document>Document</a></code> was activated.
      </p>
    <dt><code><span>navigation</span>.<a href=#dom-navigation-activation-2 id=navigation-activation-interface:dom-navigation-activation-2-3>activation</a>.<a href=#dom-navigationactivation-from-2 id=dom-navigationactivation-from>from</a></code><dd>
      <p>A <code id=navigation-activation-interface:navigationhistoryentry-4><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code>, representing the <code id=navigation-activation-interface:document-5><a href=dom.html#document>Document</a></code> that was active
        right before the current <code id=navigation-activation-interface:document-6><a href=dom.html#document>Document</a></code>. This will have a value null in case the
        previous <code id=navigation-activation-interface:document-7><a href=dom.html#document>Document</a></code> was not <a id=navigation-activation-interface:same-origin href=browsers.html#same-origin>same origin</a> with this one or if it was the
        <a href=dom.html#is-initial-about:blank id=navigation-activation-interface:is-initial-about:blank>initial <code>about:blank</code></a>
        <code id=navigation-activation-interface:document-8><a href=dom.html#document>Document</a></code>.
      </p>

      <p>There are some cases in which either the <code id=navigation-activation-interface:dom-navigationactivation-from-2-2><a href=#dom-navigationactivation-from-2>from</a></code> or <code id=navigation-activation-interface:dom-navigationactivation-entry-2-2><a href=#dom-navigationactivation-entry-2>entry</a></code> <code id=navigation-activation-interface:navigationhistoryentry-5><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code> objects
        would not be viable targets for the <code id=navigation-activation-interface:dom-navigation-traverseto><a href=#dom-navigation-traverseto>traverseTo()</a></code>
        method, as they might not be retained in history. For example, the <code id=navigation-activation-interface:document-9><a href=dom.html#document>Document</a></code> can be
        activated using <code id=navigation-activation-interface:dom-location-replace><a href=#dom-location-replace>location.replace()</a></code> or its initial
        entry could be replaced by <code id=navigation-activation-interface:dom-history-replacestate><a href=#dom-history-replacestate>history.replaceState()</a></code>. However, those entries' <code id=navigation-activation-interface:dom-navigationhistoryentry-url><a href=#dom-navigationhistoryentry-url>url</a></code> property and <code id=navigation-activation-interface:dom-navigationhistoryentry-getstate><a href=#dom-navigationhistoryentry-getstate>getState()</a></code> method are still accessible.</p>
    <dt><code><span>navigation</span>.<a href=#dom-navigation-activation-2 id=navigation-activation-interface:dom-navigation-activation-2-4>activation</a>.<a href=#dom-navigationactivation-navigationtype-2 id=dom-navigationactivation-navigationtype>navigationType</a></code><dd>
      <p>One of "<code id=navigation-activation-interface:dom-navigationtype-push><a href=#dom-navigationtype-push>push</a></code>", "<code id=navigation-activation-interface:dom-navigationtype-replace><a href=#dom-navigationtype-replace>replace</a></code>", "<code id=navigation-activation-interface:dom-navigationtype-reload><a href=#dom-navigationtype-reload>reload</a></code>", or "<code id=navigation-activation-interface:dom-navigationtype-traverse><a href=#dom-navigationtype-traverse>traverse</a></code>", indicating what type of navigation
        activated this <code id=navigation-activation-interface:document-10><a href=dom.html#document>Document</a></code>.</p>
    </dl>

  <p>Each <code>Navigation</code> has an associated <dfn id=navigation-activation>activation</dfn>, which is null or a
    <code id=navigation-activation-interface:navigationactivation-3><a href=#navigationactivation>NavigationActivation</a></code> object, initially null.
  </p>

  <p>Each <code id=navigation-activation-interface:navigationactivation-4><a href=#navigationactivation>NavigationActivation</a></code> has:</p>

  <ul><li>
      <p><dfn id=nav-activation-old-entry>old entry</dfn>, null or a
        <code id=navigation-activation-interface:navigationhistoryentry-6><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code>.
      </p>
    <li>
      <p><dfn id=nav-activation-new-entry>new entry</dfn>, null or a
        <code id=navigation-activation-interface:navigationhistoryentry-7><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code>.
      </p>
    <li>
      <p><dfn id=nav-activation-navigation-type>navigation type</dfn>, a
        <code id=navigation-activation-interface:navigationtype-2><a href=#navigationtype>NavigationType</a></code>.
      </p>
    </ul>

  <p>The <dfn data-dfn-for=Navigation id=dom-navigation-activation-2 data-dfn-type=attribute><code>activation</code></dfn> getter steps are to return
    <a id=navigation-activation-interface:this href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#navigation-activation id=navigation-activation-interface:navigation-activation>activation</a>.
  </p>

  <p>The <dfn data-dfn-for=NavigationActivation id=dom-navigationactivation-from-2 data-dfn-type=attribute><code>from</code></dfn> getter steps are to return
    <a id=navigation-activation-interface:this-2 href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#nav-activation-old-entry id=navigation-activation-interface:nav-activation-old-entry>old entry</a>.
  </p>

  <p>The <dfn data-dfn-for=NavigationActivation id=dom-navigationactivation-entry-2 data-dfn-type=attribute><code>entry</code></dfn> getter steps are to return
    <a id=navigation-activation-interface:this-3 href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#nav-activation-new-entry id=navigation-activation-interface:nav-activation-new-entry>new entry</a>.
  </p>

  <p>The <dfn data-dfn-for=NavigationActivation id=dom-navigationactivation-navigationtype-2 data-dfn-type=attribute><code>navigationType</code></dfn> getter steps are to
    return <a id=navigation-activation-interface:this-4 href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#nav-activation-navigation-type id=navigation-activation-interface:nav-activation-navigation-type>navigation type</a>.</p>


  <h5 id=the-navigate-event><span class=secno>7.2.5.9</span> The <code id=the-navigate-event:event-navigate><a href=indices.html#event-navigate>navigate</a></code> event<a href=#the-navigate-event class=self-link></a></h5>

  <p>A major feature of the navigation API is the <code id=the-navigate-event:event-navigate-2><a href=indices.html#event-navigate>navigate</a></code>
    event. This event is fired on any navigation (in the <a href=#navigationtype id=the-navigate-event:navigationtype>broad sense of
      the word</a>), allowing web developers to monitor such outgoing navigations. In many cases, the
    event is <code id=the-navigate-event:dom-event-cancelable><a data-x-internal=dom-event-cancelable href=https://dom.spec.whatwg.org/#dom-event-cancelable>cancelable</a></code>, which allows preventing the
    navigation from happening. And in others, the navigation can be intercepted and replaced with a
    same-document navigation by using the <code id=the-navigate-event:dom-navigateevent-intercept><a href=#dom-navigateevent-intercept>intercept()</a></code> method of the <code id=the-navigate-event:navigateevent><a href=#navigateevent>NavigateEvent</a></code>
    class.</p>

  <h6 id=the-navigateevent-interface><span class=secno>7.2.5.9.1</span> The <code id=the-navigateevent-interface:navigateevent><a href=#navigateevent>NavigateEvent</a></code> interface<a href=#the-navigateevent-interface class=self-link></a></h6>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=navigateevent data-dfn-type=interface>NavigateEvent</dfn> : <a id=the-navigateevent-interface:event href=https://dom.spec.whatwg.org/#interface-event data-x-internal=event>Event</a> {
  constructor(DOMString type, <a href=#navigateeventinit id=the-navigateevent-interface:navigateeventinit>NavigateEventInit</a> eventInitDict);

  readonly attribute <a href=#navigationtype id=the-navigateevent-interface:navigationtype>NavigationType</a> <a href=#dom-navigateevent-navigationtype id=the-navigateevent-interface:dom-navigateevent-navigationtype>navigationType</a>;
  readonly attribute <a href=#navigationdestination id=the-navigateevent-interface:navigationdestination>NavigationDestination</a> <a href=#dom-navigateevent-destination id=the-navigateevent-interface:dom-navigateevent-destination>destination</a>;
  readonly attribute boolean <a href=#dom-navigateevent-canintercept id=the-navigateevent-interface:dom-navigateevent-canintercept>canIntercept</a>;
  readonly attribute boolean <a href=#dom-navigateevent-userinitiated id=the-navigateevent-interface:dom-navigateevent-userinitiated>userInitiated</a>;
  readonly attribute boolean <a href=#dom-navigateevent-hashchange id=the-navigateevent-interface:dom-navigateevent-hashchange>hashChange</a>;
  readonly attribute <a id=the-navigateevent-interface:abortsignal href=https://dom.spec.whatwg.org/#abortsignal data-x-internal=abortsignal>AbortSignal</a> <a href=#dom-navigateevent-signal id=the-navigateevent-interface:dom-navigateevent-signal>signal</a>;
  readonly attribute <code id=the-navigateevent-interface:formdata><a data-x-internal=formdata href=https://xhr.spec.whatwg.org/#formdata>FormData</a></code>? <a href=#dom-navigateevent-formdata id=the-navigateevent-interface:dom-navigateevent-formdata>formData</a>;
  readonly attribute DOMString? <a href=#dom-navigateevent-downloadrequest id=the-navigateevent-interface:dom-navigateevent-downloadrequest>downloadRequest</a>;
  readonly attribute any <a href=#dom-navigateevent-info id=the-navigateevent-interface:dom-navigateevent-info>info</a>;
  readonly attribute boolean <a href=#dom-navigateevent-hasuavisualtransition id=the-navigateevent-interface:dom-navigateevent-hasuavisualtransition>hasUAVisualTransition</a>;

  undefined <a href=#dom-navigateevent-intercept id=the-navigateevent-interface:dom-navigateevent-intercept>intercept</a>(optional <a href=#navigationinterceptoptions id=the-navigateevent-interface:navigationinterceptoptions>NavigationInterceptOptions</a> options = {});
  undefined <a href=#dom-navigateevent-scroll id=the-navigateevent-interface:dom-navigateevent-scroll>scroll</a>();
};

dictionary <dfn id=navigateeventinit data-dfn-type=dictionary>NavigateEventInit</dfn> : <a id=the-navigateevent-interface:eventinit href=https://dom.spec.whatwg.org/#dictdef-eventinit data-x-internal=eventinit>EventInit</a> {
  <a href=#navigationtype id=the-navigateevent-interface:navigationtype-2>NavigationType</a> <dfn data-dfn-for=NavigateEventInit id=dom-navigateeventinit-navigationtype data-dfn-type=dict-member>navigationType</dfn> = "<a href=#dom-navigationtype-push id=the-navigateevent-interface:dom-navigationtype-push>push</a>";
  required <a href=#navigationdestination id=the-navigateevent-interface:navigationdestination-2>NavigationDestination</a> <dfn data-dfn-for=NavigateEventInit id=dom-navigateeventinit-destination data-dfn-type=dict-member>destination</dfn>;
  boolean <dfn data-dfn-for=NavigateEventInit id=dom-navigateeventinit-canintercept data-dfn-type=dict-member>canIntercept</dfn> = false;
  boolean <dfn data-dfn-for=NavigateEventInit id=dom-navigateeventinit-userinitiated data-dfn-type=dict-member>userInitiated</dfn> = false;
  boolean <dfn data-dfn-for=NavigateEventInit id=dom-navigateeventinit-hashchange data-dfn-type=dict-member>hashChange</dfn> = false;
  required <a id=the-navigateevent-interface:abortsignal-2 href=https://dom.spec.whatwg.org/#abortsignal data-x-internal=abortsignal>AbortSignal</a> <dfn data-dfn-for=NavigateEventInit id=dom-navigateeventinit-signal data-dfn-type=dict-member>signal</dfn>;
  <a id=the-navigateevent-interface:formdata-2 href=https://xhr.spec.whatwg.org/#formdata data-x-internal=formdata>FormData</a>? <dfn data-dfn-for=NavigateEventInit id=dom-navigateeventinit-formdata data-dfn-type=dict-member>formData</dfn> = null;
  DOMString? <dfn data-dfn-for=NavigateEventInit id=dom-navigateeventinit-downloadrequest data-dfn-type=dict-member>downloadRequest</dfn> = null;
  any <dfn data-dfn-for=NavigateEventInit id=dom-navigateeventinit-info data-dfn-type=dict-member>info</dfn>;
  boolean <dfn data-dfn-for=NavigateEventInit id=dom-navigateeventinit-hasuavisualtransition data-dfn-type=dict-member>hasUAVisualTransition</dfn> = false;
};

dictionary <dfn id=navigationinterceptoptions data-dfn-type=dictionary>NavigationInterceptOptions</dfn> {
  <a href=#navigationintercepthandler id=the-navigateevent-interface:navigationintercepthandler>NavigationInterceptHandler</a> <dfn data-dfn-for=NavigationInterceptOptions id=dom-navigationinterceptoptions-handler data-dfn-type=dict-member>handler</dfn>;
  <a href=#navigationfocusreset id=the-navigateevent-interface:navigationfocusreset>NavigationFocusReset</a> <dfn data-dfn-for=NavigationInterceptOptions id=dom-navigationinterceptoptions-focusreset data-dfn-type=dict-member>focusReset</dfn>;
  <a href=#navigationscrollbehavior id=the-navigateevent-interface:navigationscrollbehavior>NavigationScrollBehavior</a> <dfn data-dfn-for=NavigationInterceptOptions id=dom-navigationinterceptoptions-scroll data-dfn-type=dict-member>scroll</dfn>;
};

enum <dfn id=navigationfocusreset data-dfn-type=enum>NavigationFocusReset</dfn> {
  "<dfn data-dfn-for=NavigationFocusReset id=dom-navigationfocusreset-after-transition data-dfn-type=enum-value>after-transition</dfn>",
  "<dfn data-dfn-for=NavigationFocusReset id=dom-navigationfocusreset-manual data-dfn-type=enum-value>manual</dfn>"
};

enum <dfn id=navigationscrollbehavior data-dfn-type=enum>NavigationScrollBehavior</dfn> {
  "<dfn data-dfn-for=NavigationScrollBehavior id=dom-navigationscrollbehavior-after-transition data-dfn-type=enum-value>after-transition</dfn>",
  "<dfn data-dfn-for=NavigationScrollBehavior id=dom-navigationscrollbehavior-manual data-dfn-type=enum-value>manual</dfn>"
};

callback <dfn id=navigationintercepthandler data-dfn-type=callback>NavigationInterceptHandler</dfn> = <a href=https://webidl.spec.whatwg.org/#idl-promise id=the-navigateevent-interface:idl-promise data-x-internal=idl-promise>Promise</a>&lt;undefined> ();</code></pre>

  <dl class=domintro><dt><code><var>event</var>.<span id=dom-navigateevent-navigationtype>navigationType</span></code><dd>
      <p>One of "<code id=the-navigateevent-interface:dom-navigationtype-push-2><a href=#dom-navigationtype-push>push</a></code>", "<code id=the-navigateevent-interface:dom-navigationtype-replace><a href=#dom-navigationtype-replace>replace</a></code>", "<code id=the-navigateevent-interface:dom-navigationtype-reload><a href=#dom-navigationtype-reload>reload</a></code>", or "<code id=the-navigateevent-interface:dom-navigationtype-traverse><a href=#dom-navigationtype-traverse>traverse</a></code>", indicating what type of navigation this
        is.</p>
    <dt><code><var>event</var>.<span id=dom-navigateevent-destination>destination</span></code><dd>
      <p>A <code id=the-navigateevent-interface:navigationdestination-3><a href=#navigationdestination>NavigationDestination</a></code> representing the destination of the
        navigation.</p>
    <dt><code><var>event</var>.<span id=dom-navigateevent-canintercept>canIntercept</span></code><dd>
      <p>True if <code id=the-navigateevent-interface:dom-navigateevent-intercept-2><a href=#dom-navigateevent-intercept>intercept()</a></code> can be called to
        intercept this navigation and convert it into a same-document navigation, replacing its usual
        behavior; false otherwise.</p>

      <p>Generally speaking, this will be true whenever the current <code id=the-navigateevent-interface:document><a href=dom.html#document>Document</a></code> <a href=#can-have-its-url-rewritten id=the-navigateevent-interface:can-have-its-url-rewritten>can
          have its URL rewritten</a> to the destination URL, except for in the case of cross-document
        "<code id=the-navigateevent-interface:dom-navigationtype-traverse-2><a href=#dom-navigationtype-traverse>traverse</a></code>" navigations, where it will always
        be false.</p>
    <dt><code><var>event</var>.<span id=dom-navigateevent-userinitiated>userInitiated</span></code><dd>
      <p>True if this navigation was due to a user clicking on an <code id=the-navigateevent-interface:the-a-element><a href=text-level-semantics.html#the-a-element>a</a></code> element,
        submitting a <code id=the-navigateevent-interface:the-form-element><a href=forms.html#the-form-element>form</a></code> element, or using the <a href=document-lifecycle.html#nav-traversal-ui>browser UI</a>
        to navigate; false otherwise.</p>
    <dt><code><var>event</var>.<span id=dom-navigateevent-hashchange>hashChange</span></code><dd>
      <p>True for a <a href=browsing-the-web.html#navigate-fragid id=the-navigateevent-interface:navigate-fragid>fragment navigation</a>; false
        otherwise.</p>
    <dt><code><var>event</var>.<span id=dom-navigateevent-signal>signal</span></code><dd>
      <p>An <code id=the-navigateevent-interface:abortsignal-3><a data-x-internal=abortsignal href=https://dom.spec.whatwg.org/#abortsignal>AbortSignal</a></code> which will become aborted if the navigation gets canceled, e.g.,
        by the user pressing their browser's "Stop" button, or by another navigation interrupting this
        one.</p>

      <p>The expected pattern is for developers to pass this along to any async operations, such as
        <code id=the-navigateevent-interface:fetch()><a data-x-internal=fetch() href=https://fetch.spec.whatwg.org/#dom-global-fetch>fetch()</a></code>, which they perform as part of handling this navigation.
      </p>
    <dt><code><var>event</var>.<span id=dom-navigateevent-formdata>formData</span></code><dd>
      <p>The <code id=the-navigateevent-interface:formdata-3><a data-x-internal=formdata href=https://xhr.spec.whatwg.org/#formdata>FormData</a></code> representing the submitted form entries for this navigation, if
        this navigation is a "<code id=the-navigateevent-interface:dom-navigationtype-push-3><a href=#dom-navigationtype-push>push</a></code>" or "<code id=the-navigateevent-interface:dom-navigationtype-replace-2><a href=#dom-navigationtype-replace>replace</a></code>" navigation representing a POST <span>form submission</span>; null otherwise.</p>

      <p>(Notably, this will be null even for "<code id=the-navigateevent-interface:dom-navigationtype-reload-2><a href=#dom-navigationtype-reload>reload</a></code>"
        or "<code id=the-navigateevent-interface:dom-navigationtype-traverse-3><a href=#dom-navigationtype-traverse>traverse</a></code>" navigations that are revisiting
        a <a id=the-navigateevent-interface:session-history-entry href=browsing-the-web.html#session-history-entry>session history entry</a> that was originally created from a form submission.)</p>
    <dt><code><var>event</var>.<span id=dom-navigateevent-downloadrequest>downloadRequest</span></code><dd>
      <p>Represents whether or not this navigation was requested to be a download, by using an
        <code id=the-navigateevent-interface:the-a-element-2><a href=text-level-semantics.html#the-a-element>a</a></code> or <code id=the-navigateevent-interface:the-area-element><a href=image-maps.html#the-area-element>area</a></code> element's <code id=the-navigateevent-interface:attr-hyperlink-download><a href=links.html#attr-hyperlink-download>download</a></code> attribute:
      </p>

      <ul><li>
          <p>If a download was not requested, then this property is null.</p>
        <li>
          <p>If a download was requested, returns the filename that was supplied as the <code id=the-navigateevent-interface:attr-hyperlink-download-2><a href=links.html#attr-hyperlink-download>download</a></code> attribute's value. (This could be the empty
            string.)</p>
        </ul>

      <p>Note that a download being requested does not always mean that a download will happen: for
        example, a download might be blocked by browser security policies, or end up being treated as a
        "<code id=the-navigateevent-interface:navigationhistorybehavior-push><a href=browsing-the-web.html#navigationhistorybehavior-push>push</a></code>" navigation for <a href=https://github.com/whatwg/html/issues/7718 class=XXX>unspecified reasons</a>.</p>

      <p>Similarly, a navigation might end up being a download even if it was not requested to be one,
        due to the destination server responding with a `<code id=the-navigateevent-interface:http-content-disposition><a data-x-internal=http-content-disposition href=https://httpwg.org/specs/rfc6266.html>Content-Disposition: attachment</a></code>` header.</p>

      <p>Finally, note that the <code id=the-navigateevent-interface:event-navigate><a href=indices.html#event-navigate>navigate</a></code> event will not fire at
        all for downloads initiated using browser UI affordances, e.g., those created by right-clicking
        and choosing to save the target of a link.</p>
    <dt><code><var>event</var>.<span id=dom-navigateevent-info>info</span></code><dd>
      <p>An arbitrary JavaScript value passed via one of the <a href=#navigation-api-initiating-navigations>navigation API methods</a> which initiated this
        navigation, or undefined if the navigation was initiated by the user or by a different
        API.</p>
    <dt><code><var>event</var>.<span id=dom-navigateevent-hasuavisualtransition>hasUAVisualTransition</span></code><dd>
      <p>Returns true if the user agent performed a visual transition for this navigation before
        dispatching this event. If true, the best user experience will be given if the author
        synchronously updates the DOM to the post-navigation state.</p>
    <dt><code><var>event</var>.<span id=dom-navigateevent-intercept>intercept</span>({ <a href=#dom-navigationinterceptoptions-handler id=dom-navigationinterceptoptions-handler-2>handler</a>, <a href=#dom-navigationinterceptoptions-focusreset id=dom-navigationinterceptoptions-focusreset-2>focusReset</a>, <a href=#dom-navigationinterceptoptions-scroll id=dom-navigationinterceptoptions-scroll-2>scroll</a> })</code><dd>
      <p>Intercepts this navigation, preventing its normal handling and instead converting it into a
        same-document navigation of the same type to the destination URL.</p>

      <p>The <code id=the-navigateevent-interface:dom-navigationinterceptoptions-handler><a href=#dom-navigationinterceptoptions-handler>handler</a></code> option can be a
        function that returns a promise. The handler function will run after the <code id=the-navigateevent-interface:event-navigate-2><a href=indices.html#event-navigate>navigate</a></code> event has finished firing, and the <code id=the-navigateevent-interface:dom-navigation-currententry><a href=#dom-navigation-currententry>navigation.currentEntry</a></code> property has been
        synchronously updated. This returned promise is used to signal the duration, and success or
        failure, of the navigation. After it settles, the browser signals to the user (e.g., via a
        loading spinner UI, or assistive technology) that the navigation is finished. Additionally, it
        fires <code id=the-navigateevent-interface:event-navigatesuccess><a href=indices.html#event-navigatesuccess>navigatesuccess</a></code> or <code id=the-navigateevent-interface:event-navigateerror><a href=indices.html#event-navigateerror>navigateerror</a></code> events as appropriate, which other parts of
        the web application can respond to.</p>

      <p>By default, using this method will cause focus to reset when any handlers' returned promises
        settle. Focus will be reset to the first element with the <code id=the-navigateevent-interface:attr-fe-autofocus><a href=interaction.html#attr-fe-autofocus>autofocus</a></code> attribute set, or <a id=the-navigateevent-interface:the-body-element-2 href=dom.html#the-body-element-2>the body element</a> if
        the attribute isn't present. The <code id=the-navigateevent-interface:dom-navigationinterceptoptions-focusreset><a href=#dom-navigationinterceptoptions-focusreset>focusReset</a></code> option can be set to "<code id=the-navigateevent-interface:dom-navigationfocusreset-manual><a href=#dom-navigationfocusreset-manual>manual</a></code>" to avoid this behavior.</p>

      <p>By default, using this method will delay the browser's scroll restoration logic for "<code id=the-navigateevent-interface:dom-navigationtype-traverse-4><a href=#dom-navigationtype-traverse>traverse</a></code>" or "<code id=the-navigateevent-interface:dom-navigationtype-reload-3><a href=#dom-navigationtype-reload>reload</a></code>" navigations, or its
        scroll-reset/scroll-to-a-fragment logic for "<code id=the-navigateevent-interface:dom-navigationtype-push-4><a href=#dom-navigationtype-push>push</a></code>"
        or "<code id=the-navigateevent-interface:dom-navigationtype-replace-3><a href=#dom-navigationtype-replace>replace</a></code>" navigations, until any handlers'
        returned promises settle. The <code id=the-navigateevent-interface:dom-navigationinterceptoptions-scroll><a href=#dom-navigationinterceptoptions-scroll>scroll</a></code>
        option can be set to "<code id=the-navigateevent-interface:dom-navigationscrollbehavior-manual><a href=#dom-navigationscrollbehavior-manual>manual</a></code>" to turn
        off any browser-driven scroll behavior entirely for this navigation, or <code id=the-navigateevent-interface:dom-navigateevent-scroll-2><a href=#dom-navigateevent-scroll>scroll()</a></code> can be called before the promise settles to
        trigger this behavior early.</p>

      <p>This method will throw a <a id=the-navigateevent-interface:securityerror href=https://webidl.spec.whatwg.org/#securityerror data-x-internal=securityerror>"<code>SecurityError</code>"</a> <code id=the-navigateevent-interface:domexception><a data-x-internal=domexception href=https://webidl.spec.whatwg.org/#dfn-DOMException>DOMException</a></code>
        if <code id=the-navigateevent-interface:dom-navigateevent-canintercept-2><a href=#dom-navigateevent-canintercept>canIntercept</a></code> is false, or if <code id=the-navigateevent-interface:dom-event-istrusted><a data-x-internal=dom-event-istrusted href=https://dom.spec.whatwg.org/#dom-event-istrusted>isTrusted</a></code> is false. It will throw an
        <a id=the-navigateevent-interface:invalidstateerror href=https://webidl.spec.whatwg.org/#invalidstateerror data-x-internal=invalidstateerror>"<code>InvalidStateError</code>"</a> <code id=the-navigateevent-interface:domexception-2><a data-x-internal=domexception href=https://webidl.spec.whatwg.org/#dfn-DOMException>DOMException</a></code> if not called
        synchronously, during event dispatch.
      </p>
    <dt><code><var>event</var>.<span id=dom-navigateevent-scroll>scroll</span>()</code><dd>
      <p>For "<code id=the-navigateevent-interface:dom-navigationtype-traverse-5><a href=#dom-navigationtype-traverse>traverse</a></code>" or "<code id=the-navigateevent-interface:dom-navigationtype-reload-4><a href=#dom-navigationtype-reload>reload</a></code>" navigations, restores the scroll position
        using the browser's usual scroll restoration logic.</p>

      <p>For "<code id=the-navigateevent-interface:dom-navigationtype-push-5><a href=#dom-navigationtype-push>push</a></code>" or "<code id=the-navigateevent-interface:dom-navigationtype-replace-4><a href=#dom-navigationtype-replace>replace</a></code>" navigations, either resets the scroll
        position to the top of the document or scrolls to the <a href=https://url.spec.whatwg.org/#concept-url-fragment id=the-navigateevent-interface:concept-url-fragment data-x-internal=concept-url-fragment>fragment</a> specified by <code>destination.url</code> if there is one.</p>

      <p>If called more than once, or called after automatic post-transition scroll processing has
        happened due to the <code id=the-navigateevent-interface:dom-navigationinterceptoptions-scroll-2><a href=#dom-navigationinterceptoptions-scroll>scroll</a></code> option
        being left as "<code id=the-navigateevent-interface:dom-navigationscrollbehavior-after-transition><a href=#dom-navigationscrollbehavior-after-transition>after-transition</a></code>", or called
        before the navigation has committed, this method will throw an
        <a id=the-navigateevent-interface:invalidstateerror-2 href=https://webidl.spec.whatwg.org/#invalidstateerror data-x-internal=invalidstateerror>"<code>InvalidStateError</code>"</a> <code id=the-navigateevent-interface:domexception-3><a data-x-internal=domexception href=https://webidl.spec.whatwg.org/#dfn-DOMException>DOMException</a></code>.
      </p>
    </dl>

  

  <h6 id=the-navigationdestination-interface><span class=secno>7.2.5.9.2</span> The <code id=the-navigationdestination-interface:navigationdestination><a href=#navigationdestination>NavigationDestination</a></code> interface<a href=#the-navigationdestination-interface class=self-link></a></h6>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=navigationdestination data-dfn-type=interface>NavigationDestination</dfn> {
  readonly attribute USVString <span>url</span>;
  readonly attribute DOMString <span>key</span>;
  readonly attribute DOMString <span>id</span>;
  readonly attribute long long <span>index</span>;
  readonly attribute boolean <span>sameDocument</span>;

  any <span>getState</span>();
};</code></pre>

  <dl class=domintro><dt><code><var>event</var>.<a href=#dom-navigateevent-destination id=the-navigationdestination-interface:dom-navigateevent-destination>destination</a>.<span>url</span></code><dd>
      <p>The URL being navigated to.</p>
    <dt><code><var>event</var>.<a href=#dom-navigateevent-destination id=the-navigationdestination-interface:dom-navigateevent-destination-2>destination</a>.<span>key</span></code><dd>
      <p>The value of the <code id=the-navigationdestination-interface:dom-navigationhistoryentry-key><a href=#dom-navigationhistoryentry-key>key</a></code> property of the
        destination <code id=the-navigationdestination-interface:navigationhistoryentry><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code>, if this is a "<code id=the-navigationdestination-interface:dom-navigationtype-traverse><a href=#dom-navigationtype-traverse>traverse</a></code>" navigation, or the empty string otherwise. </p>
    <dt><code><var>event</var>.<a href=#dom-navigateevent-destination id=the-navigationdestination-interface:dom-navigateevent-destination-3>destination</a>.<span>id</span></code><dd>
      <p>The value of the <code id=the-navigationdestination-interface:dom-navigationhistoryentry-id><a href=#dom-navigationhistoryentry-id>id</a></code> property of the
        destination <code id=the-navigationdestination-interface:navigationhistoryentry-2><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code>, if this is a "<code id=the-navigationdestination-interface:dom-navigationtype-traverse-2><a href=#dom-navigationtype-traverse>traverse</a></code>" navigation, or the empty string otherwise. </p>
    <dt><code><var>event</var>.<a href=#dom-navigateevent-destination id=the-navigationdestination-interface:dom-navigateevent-destination-4>destination</a>.<span>index</span></code><dd>
      <p>The value of the <code id=the-navigationdestination-interface:dom-navigationhistoryentry-index><a href=#dom-navigationhistoryentry-index>index</a></code> property of
        the destination <code id=the-navigationdestination-interface:navigationhistoryentry-3><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code>, if this is a "<code id=the-navigationdestination-interface:dom-navigationtype-traverse-3><a href=#dom-navigationtype-traverse>traverse</a></code>" navigation, or −1 otherwise.
      </p>
    <dt><code><var>event</var>.<a href=#dom-navigateevent-destination id=the-navigationdestination-interface:dom-navigateevent-destination-5>destination</a>.<span>sameDocument</span></code><dd>
      <p>Indicates whether or not this navigation is to the same <code id=the-navigationdestination-interface:document><a href=dom.html#document>Document</a></code> as the current
        one, or not. This will be true, for example, in the case of fragment navigations or <code id=the-navigationdestination-interface:dom-history-pushstate><a href=#dom-history-pushstate>history.pushState()</a></code> navigations.</p>

      <p>Note that this property indicates the original nature of the navigation. If a cross-document
        navigation is converted into a same-document navigation using <code id=the-navigationdestination-interface:dom-navigateevent-intercept><a href=#dom-navigateevent-intercept>navigateEvent.intercept()</a></code>, that will not change the
        value of this property.</p>
    <dt><code><var>event</var>.<a href=#dom-navigateevent-destination id=the-navigationdestination-interface:dom-navigateevent-destination-6>destination</a>.<span>getState</span>()</code><dd>
      <p>For "<code id=the-navigationdestination-interface:dom-navigationtype-traverse-4><a href=#dom-navigationtype-traverse>traverse</a></code>" navigations, returns the
        <span>deserialization</span> of the state stored in the
        destination <a id=the-navigationdestination-interface:session-history-entry href=browsing-the-web.html#session-history-entry>session history entry</a>.
      </p>

      <p>For "<code id=the-navigationdestination-interface:dom-navigationtype-push><a href=#dom-navigationtype-push>push</a></code>" or "<code id=the-navigationdestination-interface:dom-navigationtype-replace><a href=#dom-navigationtype-replace>replace</a></code>" navigations, returns the <span>deserialization</span> of the state passed to <code id=the-navigationdestination-interface:dom-navigation-navigate><a href=#dom-navigation-navigate>navigation.navigate()</a></code>, if the navigation was initiated
        by that method, or undefined it if it wasn't.</p>

      <p>For "<code id=the-navigationdestination-interface:dom-navigationtype-reload><a href=#dom-navigationtype-reload>reload</a></code>" navigations, returns the <span>deserialization</span> of the state passed to <code id=the-navigationdestination-interface:dom-navigation-reload><a href=#dom-navigation-reload>navigation.reload()</a></code>, if the reload was initiated by that
        method, or undefined it if it wasn't.</p>
    </dl>

  

  <h4 id=nav-traversal-event-interfaces><span class=secno>7.2.6</span> Event interfaces<a href=#nav-traversal-event-interfaces class=self-link></a></h4>

  <p class=note>The <code id=nav-traversal-event-interfaces:navigateevent><a href=#navigateevent>NavigateEvent</a></code> interface has <a href=#the-navigate-event>its own
      dedicated section</a>, due to its complexity.</p>


  <h5 id=the-navigationcurrententrychangeevent-interface><span class=secno>7.2.6.1</span> The <code id=the-navigationcurrententrychangeevent-interface:navigationcurrententrychangeevent><a href=#navigationcurrententrychangeevent>NavigationCurrentEntryChangeEvent</a></code> interface<a href=#the-navigationcurrententrychangeevent-interface class=self-link></a></h5>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=navigationcurrententrychangeevent data-dfn-type=interface>NavigationCurrentEntryChangeEvent</dfn> : <a id=the-navigationcurrententrychangeevent-interface:event href=https://dom.spec.whatwg.org/#interface-event data-x-internal=event>Event</a> {
  constructor(DOMString type, <a href=#navigationcurrententrychangeeventinit id=the-navigationcurrententrychangeevent-interface:navigationcurrententrychangeeventinit>NavigationCurrentEntryChangeEventInit</a> eventInitDict);

  readonly attribute <a href=#navigationtype id=the-navigationcurrententrychangeevent-interface:navigationtype>NavigationType</a>? <a href=#dom-navigationcurrententrychangeevent-navigationtype id=the-navigationcurrententrychangeevent-interface:dom-navigationcurrententrychangeevent-navigationtype>navigationType</a>;
  readonly attribute <a href=#navigationhistoryentry id=the-navigationcurrententrychangeevent-interface:navigationhistoryentry>NavigationHistoryEntry</a> <a href=#dom-navigationcurrententrychangeevent-from id=the-navigationcurrententrychangeevent-interface:dom-navigationcurrententrychangeevent-from>from</a>;
};

dictionary <dfn id=navigationcurrententrychangeeventinit data-dfn-type=dictionary>NavigationCurrentEntryChangeEventInit</dfn> : <a id=the-navigationcurrententrychangeevent-interface:eventinit href=https://dom.spec.whatwg.org/#dictdef-eventinit data-x-internal=eventinit>EventInit</a> {
  <a href=#navigationtype id=the-navigationcurrententrychangeevent-interface:navigationtype-2>NavigationType</a>? <dfn data-dfn-for=NavigationCurrentEntryChangeEventInit id=dom-navigationcurrententrychangeeventinit-navigationtype data-dfn-type=dict-member>navigationType</dfn> = null;
  required <a href=#navigationhistoryentry id=the-navigationcurrententrychangeevent-interface:navigationhistoryentry-2>NavigationHistoryEntry</a> <dfn data-dfn-for=NavigationCurrentEntryChangeEventInit id=dom-navigationcurrententrychangeeventinit-from data-dfn-type=dict-member>from</dfn>;
};</code></pre>

  <dl class=domintro><dt><code><var>event</var>.<span id=dom-navigationcurrententrychangeevent-navigationtype>navigationType</span></code><dd>
      <p>Returns the type of navigation which caused the current entry to change, or null if the
        change is due to <code id=the-navigationcurrententrychangeevent-interface:dom-navigation-updatecurrententry><a href=#dom-navigation-updatecurrententry>navigation.updateCurrentEntry()</a></code>.</p>
    <dt><code><var>event</var>.<span id=dom-navigationcurrententrychangeevent-from>from</span></code><dd>
      <p>Returns the previous value of <code id=the-navigationcurrententrychangeevent-interface:dom-navigation-currententry><a href=#dom-navigation-currententry>navigation.currentEntry</a></code>, before the current entry
        changed.</p>

      <p>If <code id=the-navigationcurrententrychangeevent-interface:dom-navigationcurrententrychangeevent-navigationtype-2><a href=#dom-navigationcurrententrychangeevent-navigationtype>navigationType</a></code>
        is null or "<code id=the-navigationcurrententrychangeevent-interface:dom-navigationtype-reload><a href=#dom-navigationtype-reload>reload</a></code>", then this value will be the
        same as <code id=the-navigationcurrententrychangeevent-interface:dom-navigation-currententry-2><a href=#dom-navigation-currententry>navigation.currentEntry</a></code>. In that case,
        the event signifies that the contents of the entry changed, even if we did not move to a new
        entry or replace the current one.</p>
    </dl>

  


  <h5 id=the-popstateevent-interface><span class=secno>7.2.6.2</span> The <code id=the-popstateevent-interface:popstateevent><a href=#popstateevent>PopStateEvent</a></code> interface<a href=#the-popstateevent-interface class=self-link></a></h5><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>✔</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/PopStateEvent/PopStateEvent title="The PopStateEvent() constructor creates a new PopStateEvent object.">PopStateEvent/PopStateEvent</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>11+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>16+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>14+</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/PopStateEvent title="PopStateEvent is an interface for the popstate event.">PopStateEvent</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>4+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>4+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=popstateevent data-dfn-type=interface>PopStateEvent</dfn> : <a id=the-popstateevent-interface:event href=https://dom.spec.whatwg.org/#interface-event data-x-internal=event>Event</a> {
  constructor(DOMString type, optional <a href=#popstateeventinit id=the-popstateevent-interface:popstateeventinit>PopStateEventInit</a> eventInitDict = {});

  readonly attribute any <a href=#dom-popstateevent-state id=the-popstateevent-interface:dom-popstateevent-state>state</a>;
  readonly attribute boolean <a href=#dom-popstateevent-hasuavisualtransition id=the-popstateevent-interface:dom-popstateevent-hasuavisualtransition>hasUAVisualTransition</a>;
};

dictionary <dfn id=popstateeventinit data-dfn-type=dictionary>PopStateEventInit</dfn> : <a id=the-popstateevent-interface:eventinit href=https://dom.spec.whatwg.org/#dictdef-eventinit data-x-internal=eventinit>EventInit</a> {
  any <dfn data-dfn-for=PopStateEventInit id=dom-popstateeventinit-state data-dfn-type=dict-member>state</dfn> = null;
  boolean <dfn data-dfn-for=PopStateEventInit id=dom-popstateeventinit-hasuavisualtransition data-dfn-type=dict-member>hasUAVisualTransition</dfn> = false;
};</code></pre>

  <dl class=domintro><dt><code><var>event</var>.<span id=dom-popstateevent-state>state</span></code><dd>
      <p>Returns a copy of the information that was provided to <code id=the-popstateevent-interface:dom-history-pushstate><a href=#dom-history-pushstate>pushState()</a></code> or <code id=the-popstateevent-interface:dom-history-replacestate><a href=#dom-history-replacestate>replaceState()</a></code>.</p>
    <dt><code><var>event</var>.<span id=dom-popstateevent-hasuavisualtransition>hasUAVisualTransition</span></code><dd>
      <p>Returns true if the user agent performed a visual transition for this navigation before
        dispatching this event. If true, the best user experience will be given if the author
        synchronously updates the DOM to the post-navigation state.</p>
    </dl>

  


  <h5 id=the-hashchangeevent-interface><span class=secno>7.2.6.3</span> The <code id=the-hashchangeevent-interface:hashchangeevent><a href=#hashchangeevent>HashChangeEvent</a></code> interface<a href=#the-hashchangeevent-interface class=self-link></a></h5><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>✔</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HashChangeEvent/HashChangeEvent title="The HashChangeEvent() constructor creates a new HashChangeEvent object, that is used by the hashchange event fired at the window object when the fragment of the URL changes.">HashChangeEvent/HashChangeEvent</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>11+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>16+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/HashChangeEvent title="The HashChangeEvent interface represents events that fire when the fragment identifier of the URL has changed.">HashChangeEvent</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>3.6+</span></span><span class="safari yes"><span>Safari</span><span>5+</span></span><span class="chrome yes"><span>Chrome</span><span>8+</span></span><hr><span class="opera yes"><span>Opera</span><span>10.6+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>8+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>5+</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>11+</span></span></div></div></div>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=hashchangeevent data-dfn-type=interface>HashChangeEvent</dfn> : <a id=the-hashchangeevent-interface:event href=https://dom.spec.whatwg.org/#interface-event data-x-internal=event>Event</a> {
  constructor(DOMString type, optional <a href=#hashchangeeventinit id=the-hashchangeevent-interface:hashchangeeventinit>HashChangeEventInit</a> eventInitDict = {});

  readonly attribute USVString <a href=#dom-hashchangeevent-oldurl id=the-hashchangeevent-interface:dom-hashchangeevent-oldurl>oldURL</a>;
  readonly attribute USVString <a href=#dom-hashchangeevent-newurl id=the-hashchangeevent-interface:dom-hashchangeevent-newurl>newURL</a>;
};

dictionary <dfn id=hashchangeeventinit data-dfn-type=dictionary>HashChangeEventInit</dfn> : <a id=the-hashchangeevent-interface:eventinit href=https://dom.spec.whatwg.org/#dictdef-eventinit data-x-internal=eventinit>EventInit</a> {
  USVString oldURL = "";
  USVString newURL = "";
};</code></pre>

  <dl class=domintro><dt><code><var>event</var>.<span id=dom-hashchangeevent-oldurl>oldURL</span></code><dd>
      <p>Returns the <a id=the-hashchangeevent-interface:url href=https://url.spec.whatwg.org/#concept-url data-x-internal=url>URL</a> of the <a id=the-hashchangeevent-interface:session-history-entry href=browsing-the-web.html#session-history-entry>session history entry</a> that was previously
        current.</p>
    <dt><code><var>event</var>.<span id=dom-hashchangeevent-newurl>newURL</span></code><dd>
      <p>Returns the <a id=the-hashchangeevent-interface:url-2 href=https://url.spec.whatwg.org/#concept-url data-x-internal=url>URL</a> of the <a id=the-hashchangeevent-interface:session-history-entry-2 href=browsing-the-web.html#session-history-entry>session history entry</a> that is now
        current.</p>
    </dl>

  


  <h5 id=the-pageswapevent-interface><span class=secno>7.2.6.4</span> The <code id=the-pageswapevent-interface:pageswapevent><a href=#pageswapevent>PageSwapEvent</a></code> interface<a href=#the-pageswapevent-interface class=self-link></a></h5>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=pageswapevent data-dfn-type=interface>PageSwapEvent</dfn> : <a id=the-pageswapevent-interface:event href=https://dom.spec.whatwg.org/#interface-event data-x-internal=event>Event</a> {
  constructor(DOMString type, optional <a href=#pageswapeventinit id=the-pageswapevent-interface:pageswapeventinit>PageSwapEventInit</a> eventInitDict = {});
  readonly attribute <code id=the-pageswapevent-interface:navigationactivation><a href=#navigationactivation>NavigationActivation</a></code>? <a href=#dom-pageswapevent-activation id=the-pageswapevent-interface:dom-pageswapevent-activation>activation</a>;
  readonly attribute <code id=the-pageswapevent-interface:viewtransition><a data-x-internal=viewtransition href=https://drafts.csswg.org/css-view-transitions/#viewtransition>ViewTransition</a></code>? <a href=#dom-pageswapevent-viewtransition id=the-pageswapevent-interface:dom-pageswapevent-viewtransition>viewTransition</a>;
};

dictionary <dfn id=pageswapeventinit data-dfn-type=dictionary>PageSwapEventInit</dfn> : <a id=the-pageswapevent-interface:eventinit href=https://dom.spec.whatwg.org/#dictdef-eventinit data-x-internal=eventinit>EventInit</a> {
  <a href=#navigationactivation id=the-pageswapevent-interface:navigationactivation-2>NavigationActivation</a>? <dfn data-dfn-for=PageSwapEventInit id=dom-pageswapeventinit-activation data-dfn-type=dict-member>activation</dfn> = null;
  <code id=the-pageswapevent-interface:viewtransition-2><a data-x-internal=viewtransition href=https://drafts.csswg.org/css-view-transitions/#viewtransition>ViewTransition</a></code>? <dfn data-dfn-for=PageSwapEventInit id=dom-pageswapeventinit-viewtransition data-dfn-type=dict-member>viewTransition</dfn> = null;
};</code></pre>

  <dl class=domintro><dt><code><var>event</var>.<span id=dom-pageswapevent-activation>activation</span></code><dd>
      <p>A <code id=the-pageswapevent-interface:navigationactivation-3><a href=#navigationactivation>NavigationActivation</a></code> object representing the destination and type of the
        cross-document navigation. This would be null for cross-origin navigations.</p>
    <dt><code><var>event</var>.<a href=#dom-pageswapevent-activation id=the-pageswapevent-interface:dom-pageswapevent-activation-2>activation</a>.<a href=#dom-navigationactivation-entry-2 id=the-pageswapevent-interface:dom-navigationactivation-entry-2>entry</a></code><dd>
      <p>A <code id=the-pageswapevent-interface:navigationhistoryentry><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code>, representing the <code id=the-pageswapevent-interface:document><a href=dom.html#document>Document</a></code> that is
        about to become active.</p>
    <dt><code><var>event</var>.<a href=#dom-pageswapevent-activation id=the-pageswapevent-interface:dom-pageswapevent-activation-3>activation</a>.<a href=#dom-navigationactivation-from-2 id=the-pageswapevent-interface:dom-navigationactivation-from-2>from</a></code><dd>
      <p>A <code id=the-pageswapevent-interface:navigationhistoryentry-2><a href=#navigationhistoryentry>NavigationHistoryEntry</a></code>, equivalent to the value of the <code id=the-pageswapevent-interface:dom-navigation-currententry><a href=#dom-navigation-currententry>navigation.currentEntry</a></code> property at the moment the
        event is fired.</p>
    <dt><code><var>event</var>.<a href=#dom-pageswapevent-activation id=the-pageswapevent-interface:dom-pageswapevent-activation-4>activation</a>.<a href=#dom-navigationactivation-navigationtype-2 id=the-pageswapevent-interface:dom-navigationactivation-navigationtype-2>navigationType</a></code><dd>
      <p>One of "<code id=the-pageswapevent-interface:dom-navigationtype-push><a href=#dom-navigationtype-push>push</a></code>", "<code id=the-pageswapevent-interface:dom-navigationtype-replace><a href=#dom-navigationtype-replace>replace</a></code>", "<code id=the-pageswapevent-interface:dom-navigationtype-reload><a href=#dom-navigationtype-reload>reload</a></code>", or "<code id=the-pageswapevent-interface:dom-navigationtype-traverse><a href=#dom-navigationtype-traverse>traverse</a></code>", indicating what type of navigation
        that is about to result in a page swap.</p>
    <dt><code><var>event</var>.<span id=dom-pageswapevent-viewtransition>viewTransition</span></code><dd>
      <p>Returns the <code id=the-pageswapevent-interface:viewtransition-3><a data-x-internal=viewtransition href=https://drafts.csswg.org/css-view-transitions/#viewtransition>ViewTransition</a></code> object that represents an outbound cross-document view
        transition, if such transition is active when the event is fired. Otherwise, returns null.</p>
    </dl>

  


  <h5 id=the-pagerevealevent-interface><span class=secno>7.2.6.5</span> The <code id=the-pagerevealevent-interface:pagerevealevent><a href=#pagerevealevent>PageRevealEvent</a></code> interface<a href=#the-pagerevealevent-interface class=self-link></a></h5>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=pagerevealevent data-dfn-type=interface>PageRevealEvent</dfn> : <a id=the-pagerevealevent-interface:event href=https://dom.spec.whatwg.org/#interface-event data-x-internal=event>Event</a> {
  constructor(DOMString type, optional <a href=#pagerevealeventinit id=the-pagerevealevent-interface:pagerevealeventinit>PageRevealEventInit</a> eventInitDict = {});
  readonly attribute <code id=the-pagerevealevent-interface:viewtransition><a data-x-internal=viewtransition href=https://drafts.csswg.org/css-view-transitions/#viewtransition>ViewTransition</a></code>? <a href=#dom-pagerevealevent-viewtransition id=the-pagerevealevent-interface:dom-pagerevealevent-viewtransition>viewTransition</a>;
};

dictionary <dfn id=pagerevealeventinit data-dfn-type=dictionary>PageRevealEventInit</dfn> : <a id=the-pagerevealevent-interface:eventinit href=https://dom.spec.whatwg.org/#dictdef-eventinit data-x-internal=eventinit>EventInit</a> {
  <code id=the-pagerevealevent-interface:viewtransition-2><a data-x-internal=viewtransition href=https://drafts.csswg.org/css-view-transitions/#viewtransition>ViewTransition</a></code>? <dfn data-dfn-for=PageRevealEventInit id=dom-pagerevealeventinit-viewtransition data-dfn-type=dict-member>viewTransition</dfn> = null;
};</code></pre>

  <dl class=domintro><dt><code><var>event</var>.<span id=dom-pagerevealevent-viewtransition>viewTransition</span></code><dd>
      <p>Returns the <code id=the-pagerevealevent-interface:viewtransition-3><a data-x-internal=viewtransition href=https://drafts.csswg.org/css-view-transitions/#viewtransition>ViewTransition</a></code> object that represents an inbound cross-document view
        transition, if such transition is active when the event is fired. Otherwise, returns null.</p>
    </dl>

  


  <h5 id=the-pagetransitionevent-interface><span class=secno>7.2.6.6</span> The <code id=the-pagetransitionevent-interface:pagetransitionevent><a href=#pagetransitionevent>PageTransitionEvent</a></code> interface<a href=#the-pagetransitionevent-interface class=self-link></a></h5><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>✔</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/PageTransitionEvent/PageTransitionEvent title="The PageTransitionEvent() constructor creates a new PageTransitionEvent object, that is used by the pageshow or pagehide events, fired at the window object when a page is loaded or unloaded.">PageTransitionEvent/PageTransitionEvent</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>11+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>16+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/PageTransitionEvent title="The PageTransitionEvent event object is available inside handler functions for the pageshow and pagehide events, fired when a document is being loaded or unloaded.">PageTransitionEvent</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1.5+</span></span><span class="safari yes"><span>Safari</span><span>5+</span></span><span class="chrome yes"><span>Chrome</span><span>4+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>11</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>4+</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=pagetransitionevent data-dfn-type=interface>PageTransitionEvent</dfn> : <a id=the-pagetransitionevent-interface:event href=https://dom.spec.whatwg.org/#interface-event data-x-internal=event>Event</a> {
  constructor(DOMString type, optional <a href=#pagetransitioneventinit id=the-pagetransitionevent-interface:pagetransitioneventinit>PageTransitionEventInit</a> eventInitDict = {});

  readonly attribute boolean <a href=#dom-pagetransitionevent-persisted id=the-pagetransitionevent-interface:dom-pagetransitionevent-persisted>persisted</a>;
};

dictionary <dfn id=pagetransitioneventinit data-dfn-type=dictionary>PageTransitionEventInit</dfn> : <a id=the-pagetransitionevent-interface:eventinit href=https://dom.spec.whatwg.org/#dictdef-eventinit data-x-internal=eventinit>EventInit</a> {
  boolean persisted = false;
};</code></pre>

  <dl class=domintro><dt><code><var>event</var>.<span id=dom-pagetransitionevent-persisted>persisted</span></code><dd>
      <p>For the <code id=the-pagetransitionevent-interface:event-pageshow><a href=indices.html#event-pageshow>pageshow</a></code> event, returns false if the page is
        newly being loaded (and the <code id=the-pagetransitionevent-interface:event-load><a href=indices.html#event-load>load</a></code> event will fire). Otherwise,
        returns true.</p>

      <p>For the <code id=the-pagetransitionevent-interface:event-pagehide><a href=indices.html#event-pagehide>pagehide</a></code> event, returns false if the page is
        going away for the last time. Otherwise, returns true, meaning that the page might be reused if
        the user navigates back to this page (if the <code id=the-pagetransitionevent-interface:document><a href=dom.html#document>Document</a></code>'s <i id=the-pagetransitionevent-interface:concept-document-salvageable><a href=document-lifecycle.html#concept-document-salvageable>salvageable</a></i> state stays true). </p>

      <p>Things that can cause the page to be unsalvageable include:</p>

      <ul><li>
          <p>The user agent decided to not keep the <code id=the-pagetransitionevent-interface:document-2><a href=dom.html#document>Document</a></code> alive in a <a id=the-pagetransitionevent-interface:session-history-entry href=browsing-the-web.html#session-history-entry>session
              history entry</a> after <a href=document-lifecycle.html#unload-a-document id=the-pagetransitionevent-interface:unload-a-document>unload</a></p>
        <li>
          <p>Having <code id=the-pagetransitionevent-interface:the-iframe-element><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>s that are not <i id=the-pagetransitionevent-interface:concept-document-salvageable-2><a href=document-lifecycle.html#concept-document-salvageable>salvageable</a></i></p>
        <li>
          <p>Active <code id=the-pagetransitionevent-interface:websocket-2><a data-x-internal=websocket-2 href=https://websockets.spec.whatwg.org/#websocket>WebSocket</a></code> objects</p>
        <li>
          <p><a href=document-lifecycle.html#abort-a-document id=the-pagetransitionevent-interface:abort-a-document>Aborting a <code>Document</code></a></p>
        </ul>
    </dl>

  


  <h5 id=the-beforeunloadevent-interface><span class=secno>7.2.6.7</span> The <code id=the-beforeunloadevent-interface:beforeunloadevent><a href=#beforeunloadevent>BeforeUnloadEvent</a></code> interface<a href=#the-beforeunloadevent-interface class=self-link></a></h5><div class="mdn-anno wrapped"><button onclick=toggleStatus(this) class=mdn-anno-btn><b title="Support in all current engines." class=all-engines-flag>✔</b><span>MDN</span></button><div class=feature><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/BeforeUnloadEvent title="BeforeUnloadEvent is an interface for the beforeunload event.">BeforeUnloadEvent</a><p class=all-engines-text>Support in all current engines.<div class=support><span class="firefox yes"><span>Firefox</span><span>1.5+</span></span><span class="safari yes"><span>Safari</span><span>7+</span></span><span class="chrome yes"><span>Chrome</span><span>30+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>3.0+</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <pre><code class=idl>[Exposed=Window]
interface <dfn id=beforeunloadevent data-dfn-type=interface>BeforeUnloadEvent</dfn> : <a id=the-beforeunloadevent-interface:event href=https://dom.spec.whatwg.org/#interface-event data-x-internal=event>Event</a> {
  attribute DOMString <span>returnValue</span>;
};</code></pre>

  <p class=note>There are no <code id=the-beforeunloadevent-interface:beforeunloadevent-2><a href=#beforeunloadevent>BeforeUnloadEvent</a></code>-specific initialization methods.</p>

  <p>The <code id=the-beforeunloadevent-interface:beforeunloadevent-3><a href=#beforeunloadevent>BeforeUnloadEvent</a></code> interface is a legacy interface which allows <a id=the-beforeunloadevent-interface:checking-if-unloading-is-canceled href=browsing-the-web.html#checking-if-unloading-is-canceled>checking
      if unloading is canceled</a> to be controlled not only by canceling the event, but by setting
    the <code>returnValue</code> attribute to a value
    besides the empty string. Authors should use the <code id=the-beforeunloadevent-interface:dom-event-preventdefault><a data-x-internal=dom-event-preventdefault href=https://dom.spec.whatwg.org/#dom-event-preventdefault>preventDefault()</a></code> method, or other means of canceling
    events, instead of using <code>returnValue</code>.</p>

  

  <h4 id=the-notrestoredreasons-interface><span class=secno>7.2.7</span> The <code id=the-notrestoredreasons-interface:notrestoredreasons><a href=#notrestoredreasons>NotRestoredReasons</a></code> interface<a href=#the-notrestoredreasons-interface class=self-link></a></h4>
  <pre><code class=idl>[Exposed=Window]
interface <dfn id=notrestoredreasondetails data-dfn-type=interface>NotRestoredReasonDetails</dfn> {
  readonly attribute DOMString <a href=#dom-not-restored-reason-details-reason-2 id=the-notrestoredreasons-interface:dom-not-restored-reason-details-reason-2>reason</a>;
  [Default] object toJSON();
};

[Exposed=Window]
interface <dfn id=notrestoredreasons data-dfn-type=interface>NotRestoredReasons</dfn> {
  readonly attribute DOMString? <a href=#dom-not-restored-reasons-src-2 id=the-notrestoredreasons-interface:dom-not-restored-reasons-src-2>src</a>;
  readonly attribute DOMString? <a href=#dom-not-restored-reasons-id-2 id=the-notrestoredreasons-interface:dom-not-restored-reasons-id-2>id</a>;
  readonly attribute DOMString? <a href=#dom-not-restored-reasons-name-2 id=the-notrestoredreasons-interface:dom-not-restored-reasons-name-2>name</a>;
  readonly attribute DOMString? <a href=#dom-not-restored-reasons-url-2 id=the-notrestoredreasons-interface:dom-not-restored-reasons-url-2>url</a>;
  readonly attribute FrozenArray&lt;<a href=#notrestoredreasondetails id=the-notrestoredreasons-interface:notrestoredreasondetails>NotRestoredReasonDetails</a>>? <a href=#dom-not-restored-reasons-reasons-2 id=the-notrestoredreasons-interface:dom-not-restored-reasons-reasons-2>reasons</a>;
  readonly attribute FrozenArray&lt;<a href=#notrestoredreasons id=the-notrestoredreasons-interface:notrestoredreasons-2>NotRestoredReasons</a>>? <a href=#dom-not-restored-reasons-children-2 id=the-notrestoredreasons-interface:dom-not-restored-reasons-children-2>children</a>;
  [Default] object toJSON();
};</code></pre>

  <dl class=domintro><dt><code><var>notRestoredReasonDetails</var>.<a href=#dom-not-restored-reason-details-reason-2 id=dom-not-restored-reason-details-reason>reason</a></code><dd>
      <p>Returns a string that explains the reason that prevented the document from <a href=browsing-the-web.html#note-bfcache>being served from back/forward cache</a>. See the definition of <a href=dom.html#concept-document-bfcache-blocking-details id=the-notrestoredreasons-interface:concept-document-bfcache-blocking-details>bfcache blocking details</a> for the
        possible string values.</p>
    <dt><code><var>notRestoredReasons</var>.<a href=#dom-not-restored-reasons-src-2 id=dom-not-restored-reasons-src>src</a></code><dd>
      <p>Returns the <code id=the-notrestoredreasons-interface:attr-iframe-src><a href=iframe-embed-object.html#attr-iframe-src>src</a></code> attribute of the document's <a id=the-notrestoredreasons-interface:node-navigable href=document-sequences.html#node-navigable>node
          navigable</a>'s <a href=document-sequences.html#nav-container id=the-notrestoredreasons-interface:nav-container>container</a> if it is an <code id=the-notrestoredreasons-interface:the-iframe-element><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>
        element. This can be null if not set or if it is not an <code id=the-notrestoredreasons-interface:the-iframe-element-2><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code> element.</p>
    <dt><code><var>notRestoredReasons</var>.<a href=#dom-not-restored-reasons-id-2 id=dom-not-restored-reasons-id>id</a></code><dd>
      <p>Returns the <code id=the-notrestoredreasons-interface:the-id-attribute><a href=dom.html#the-id-attribute>id</a></code> attribute of the document's <a id=the-notrestoredreasons-interface:node-navigable-2 href=document-sequences.html#node-navigable>node
          navigable</a>'s <a href=document-sequences.html#nav-container id=the-notrestoredreasons-interface:nav-container-2>container</a> if it is an <code id=the-notrestoredreasons-interface:the-iframe-element-3><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>
        element. This can be null if not set or if it is not an <code id=the-notrestoredreasons-interface:the-iframe-element-4><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code> element.</p>
    <dt><code><var>notRestoredReasons</var>.<a href=#dom-not-restored-reasons-name-2 id=dom-not-restored-reasons-name>name</a></code><dd>
      <p>Returns the <code id=the-notrestoredreasons-interface:attr-iframe-name><a href=iframe-embed-object.html#attr-iframe-name>name</a></code> attribute of the document's
        <a id=the-notrestoredreasons-interface:node-navigable-3 href=document-sequences.html#node-navigable>node navigable</a>'s <a href=document-sequences.html#nav-container id=the-notrestoredreasons-interface:nav-container-3>container</a> if it is an
        <code id=the-notrestoredreasons-interface:the-iframe-element-5><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code> element. This can be null if not set or if it is not an <code id=the-notrestoredreasons-interface:the-iframe-element-6><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>
        element.
      </p>
    <dt><code><var>notRestoredReasons</var>.<a href=#dom-not-restored-reasons-url-2 id=dom-not-restored-reasons-url>url</a></code><dd>
      <p>Returns the document's <a href=https://dom.spec.whatwg.org/#concept-document-url id="the-notrestoredreasons-interface:the-document's-address" data-x-internal="the-document's-address">URL</a>, or null if the
        document is in a cross-origin <code id=the-notrestoredreasons-interface:the-iframe-element-7><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>. This is reported in addition to <code id=the-notrestoredreasons-interface:dom-not-restored-reasons-src-2-2><a href=#dom-not-restored-reasons-src-2>src</a></code> because it is possible <code id=the-notrestoredreasons-interface:the-iframe-element-8><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>
        navigated since the original <code id=the-notrestoredreasons-interface:attr-iframe-src-2><a href=iframe-embed-object.html#attr-iframe-src>src</a></code> was set.</p>
    <dt><code><var>notRestoredReasons</var>.<a href=#dom-not-restored-reasons-reasons-2 id=dom-not-restored-reasons-reasons>reasons</a></code><dd>
      <p>Returns an array of <code id=the-notrestoredreasons-interface:notrestoredreasondetails-2><a href=#notrestoredreasondetails>NotRestoredReasonDetails</a></code> for the document. This is null
        if the document is in a cross-origin <code id=the-notrestoredreasons-interface:the-iframe-element-9><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>.</p>
    <dt><code><var>notRestoredReasons</var>.<a href=#dom-not-restored-reasons-children-2 id=dom-not-restored-reasons-children>children</a></code><dd>
      <p>Returns an array of <code id=the-notrestoredreasons-interface:notrestoredreasons-3><a href=#notrestoredreasons>NotRestoredReasons</a></code> that are for the document’s
        children. This is null if the document is in a cross-origin <code id=the-notrestoredreasons-interface:the-iframe-element-10><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>.</p>
    </dl>

  <p>A <code id=the-notrestoredreasons-interface:notrestoredreasondetails-3><a href=#notrestoredreasondetails>NotRestoredReasonDetails</a></code> object has a <dfn id=concept-not-restored-reason-details-backing-struct>backing struct</dfn>, a <a href=#nrr-details-struct id=the-notrestoredreasons-interface:nrr-details-struct>not restored reason details</a> or null, initially null.</p>

  <p>The <dfn data-dfn-for=NotRestoredReasonDetails id=dom-not-restored-reason-details-reason-2 data-dfn-type=attribute><code>reason</code></dfn> getter steps are to return
    <a id=the-notrestoredreasons-interface:this href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#concept-not-restored-reason-details-backing-struct id=the-notrestoredreasons-interface:concept-not-restored-reason-details-backing-struct>backing struct</a>'s <a href=#nrr-details-reason id=the-notrestoredreasons-interface:nrr-details-reason>reason</a>.
  </p>

  <p>To <dfn id=create-a-notrestoredreasondetails-object>create a <code>NotRestoredReasonDetails</code> object</dfn> given a <a href=#nrr-details-struct id=the-notrestoredreasons-interface:nrr-details-struct-2>not restored reason details</a> <var>backingStruct</var> and a
    <a id=the-notrestoredreasons-interface:realm href=https://tc39.es/ecma262/#sec-code-realms data-x-internal=realm>realm</a> <var>realm</var>:
  </p>

  <ol><li>
      <p>Let <var>notRestoredReasonDetails</var> be a new <code id=the-notrestoredreasons-interface:notrestoredreasondetails-4><a href=#notrestoredreasondetails>NotRestoredReasonDetails</a></code>
        object created in <var>realm</var>.</p>
    <li>
      <p>Set <var>notRestoredReasonDetails</var>'s <a href=#concept-not-restored-reason-details-backing-struct id=the-notrestoredreasons-interface:concept-not-restored-reason-details-backing-struct-2>backing struct</a> to
        <var>backingStruct</var>.
      </p>
    <li>
      <p>Return <var>notRestoredReasonDetails</var>.</p>
    </ol>

  <p>A <dfn id=nrr-details-struct data-export="">not restored reason details</dfn> is a
    <a id=the-notrestoredreasons-interface:struct href=https://infra.spec.whatwg.org/#struct data-x-internal=struct>struct</a> with the following <a href=https://infra.spec.whatwg.org/#struct-item id=the-notrestoredreasons-interface:struct-item data-x-internal=struct-item>items</a>:
  </p>

  <ul><li>
      <p><dfn id=nrr-details-reason>reason</dfn>, a string, initially empty.</p>
    </ul>

  <p>The <a href=#nrr-details-reason id=the-notrestoredreasons-interface:nrr-details-reason-2>reason</a> is a string that represents the reason that
    prevented the page from being restored from <a href=browsing-the-web.html#note-bfcache>back/forward cache</a>.
    The string is one of the following:</p>

  <dl><dt>"<dfn id=blocking-fetch><code>fetch</code></dfn>"<dd>While unloading, a fetch initiated by this <code id=the-notrestoredreasons-interface:document><a href=dom.html#document>Document</a></code> was still ongoing and was
      canceled, so the page was not in a stable state that could be stored in
      <a href=browsing-the-web.html#note-bfcache>back/forward cache</a>.
    <dt>"<dfn id=blocking-navigation-failure><code>navigation-failure</code></dfn>"<dd>The original navigation that created this <code id=the-notrestoredreasons-interface:document-2><a href=dom.html#document>Document</a></code> errored, so storing the
      resulting error document in the <a href=browsing-the-web.html#note-bfcache>back/forward cache</a> was prevented.<dt>"<dfn id=blocking-parser-aborted><code>parser-aborted</code></dfn>"<dd>The <code id=the-notrestoredreasons-interface:document-3><a href=dom.html#document>Document</a></code> never finished its initial HTML parsing, so storing the unfinished
      document in the <a href=browsing-the-web.html#note-bfcache>back/forward cache</a> was prevented.<dt>"<dfn id=blocking-websocket><code>websocket</code></dfn>"<dd>While unloading, an open <code id=the-notrestoredreasons-interface:websocket-2><a data-x-internal=websocket-2 href=https://websockets.spec.whatwg.org/#websocket>WebSocket</a></code> connect was shut down, so the page was not in
      a stable state that could be stored in the <a href=browsing-the-web.html#note-bfcache>back/forward cache</a>.
      <a href=references.html#refsWEBSOCKETS>[WEBSOCKETS]</a>
    <dt>"<dfn id=blocking-weblock data-export=""><code>lock</code></dfn>"<dd>While unloading, held <a id=the-notrestoredreasons-interface:locks href=https://w3c.github.io/web-locks/#lock-concept data-x-internal=locks>locks</a> and <a id=the-notrestoredreasons-interface:lock-requests href=https://w3c.github.io/web-locks/#lock-request data-x-internal=lock-requests>lock requests</a> were terminated,
      so the page was not in a stable state that could be stored in the <a href=browsing-the-web.html#note-bfcache>back/forward cache</a>. <a href=references.html#refsWEBLOCKS>[WEBLOCKS]</a>
    <dt>"<dfn id=blocking-masked data-export=""><code>masked</code></dfn>"<dd>This <code id=the-notrestoredreasons-interface:document-4><a href=dom.html#document>Document</a></code> has children that are in a cross-origin <code id=the-notrestoredreasons-interface:the-iframe-element-11><a href=iframe-embed-object.html#the-iframe-element>iframe</a></code>,
      and they prevented <a href=browsing-the-web.html#note-bfcache>back/forward cache</a>; or this <code id=the-notrestoredreasons-interface:document-5><a href=dom.html#document>Document</a></code>
      could not be <a href=browsing-the-web.html#note-bfcache>back/forward cached</a> for user agent-specific reasons.
  </dl>

  <hr>

  <p>A <code id=the-notrestoredreasons-interface:notrestoredreasons-4><a href=#notrestoredreasons>NotRestoredReasons</a></code> object has a <dfn id=concept-not-restored-reasons-backing-struct>backing struct</dfn>,
    a <a href=#nrr-struct id=the-notrestoredreasons-interface:nrr-struct>not restored reasons</a> or null, initially null.</p>

  <p>A <code id=the-notrestoredreasons-interface:notrestoredreasons-5><a href=#notrestoredreasons>NotRestoredReasons</a></code> object has a <dfn id=concept-not-restored-reasons-reasons>reasons array</dfn>, a
    <code>FrozenArray&lt;<code id=the-notrestoredreasons-interface:notrestoredreasondetails-5><a href=#notrestoredreasondetails>NotRestoredReasonDetails</a></code>></code> or null,
    initially null.
  </p>

  <p>A <code id=the-notrestoredreasons-interface:notrestoredreasons-6><a href=#notrestoredreasons>NotRestoredReasons</a></code> object has a <dfn id=concept-not-restored-reasons-children>children array</dfn>, a
    <code>FrozenArray&lt;<a href=#notrestoredreasons id=the-notrestoredreasons-interface:notrestoredreasons-7>NotRestoredReasons</a>></code> or null, initially
    null.
  </p>

  <p>The <dfn data-dfn-for=NotRestoredReasons id=dom-not-restored-reasons-src-2 data-dfn-type=attribute><code>src</code></dfn> getter steps are to return
    <a id=the-notrestoredreasons-interface:this-2 href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#concept-not-restored-reasons-backing-struct id=the-notrestoredreasons-interface:concept-not-restored-reasons-backing-struct>backing struct</a>'s <a href=#nrr-src id=the-notrestoredreasons-interface:nrr-src>src</a>.
  </p>

  <p>The <dfn data-dfn-for=NotRestoredReasons id=dom-not-restored-reasons-id-2 data-dfn-type=attribute><code>id</code></dfn> getter steps are to return
    <a id=the-notrestoredreasons-interface:this-3 href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#concept-not-restored-reasons-backing-struct id=the-notrestoredreasons-interface:concept-not-restored-reasons-backing-struct-2>backing struct</a>'s <a href=#nrr-id id=the-notrestoredreasons-interface:nrr-id>id</a>.
  </p>

  <p>The <dfn data-dfn-for=NotRestoredReasons id=dom-not-restored-reasons-name-2 data-dfn-type=attribute><code>name</code></dfn> getter steps are to return
    <a id=the-notrestoredreasons-interface:this-4 href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#concept-not-restored-reasons-backing-struct id=the-notrestoredreasons-interface:concept-not-restored-reasons-backing-struct-3>backing struct</a>'s <a href=#nrr-name id=the-notrestoredreasons-interface:nrr-name>name</a>.
  </p>

  <p>The <dfn data-dfn-for=NotRestoredReasons id=dom-not-restored-reasons-url-2 data-dfn-type=attribute><code>url</code></dfn> getter steps are:</p>

  <ol><li>
      <p>If <a id=the-notrestoredreasons-interface:this-5 href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#concept-not-restored-reasons-backing-struct id=the-notrestoredreasons-interface:concept-not-restored-reasons-backing-struct-4>backing struct</a>'s <a href=#nrr-url id=the-notrestoredreasons-interface:nrr-url>URL</a> is null, then return null.</p>
    <li>
      <p>Return <a id=the-notrestoredreasons-interface:this-6 href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#concept-not-restored-reasons-backing-struct id=the-notrestoredreasons-interface:concept-not-restored-reasons-backing-struct-5>backing struct</a>'s <a href=#nrr-url id=the-notrestoredreasons-interface:nrr-url-2>URL</a>, <a href=https://url.spec.whatwg.org/#concept-url-serializer id=the-notrestoredreasons-interface:concept-url-serializer data-x-internal=concept-url-serializer>serialized</a>.</p>
    </ol>

  <p>The <dfn data-dfn-for=NotRestoredReasons id=dom-not-restored-reasons-reasons-2 data-dfn-type=attribute><code>reasons</code></dfn> getter steps are to return
    <a id=the-notrestoredreasons-interface:this-7 href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#concept-not-restored-reasons-reasons id=the-notrestoredreasons-interface:concept-not-restored-reasons-reasons>reasons array</a>.
  </p>

  <p>The <dfn data-dfn-for=NotRestoredReasons id=dom-not-restored-reasons-children-2 data-dfn-type=attribute><code>children</code></dfn> getter steps are to return
    <a id=the-notrestoredreasons-interface:this-8 href=https://webidl.spec.whatwg.org/#this data-x-internal=this>this</a>'s <a href=#concept-not-restored-reasons-children id=the-notrestoredreasons-interface:concept-not-restored-reasons-children>children array</a>.
  </p>

  <p>To <dfn id=create-a-notrestoredreasons-object data-export="">create a <code>NotRestoredReasons</code> object</dfn> given a <a href=#nrr-struct id=the-notrestoredreasons-interface:nrr-struct-2>not restored reasons</a> <var>backingStruct</var> and a
    <a id=the-notrestoredreasons-interface:realm-2 href=https://tc39.es/ecma262/#sec-code-realms data-x-internal=realm>realm</a> <var>realm</var>:
  </p>

  <ol><li>
      <p>Let <var>notRestoredReasons</var> be a new <code id=the-notrestoredreasons-interface:notrestoredreasons-8><a href=#notrestoredreasons>NotRestoredReasons</a></code> object created
        in <var>realm</var>.</p>
    <li>
      <p>Set <var>notRestoredReasons</var>'s <a href=#concept-not-restored-reasons-backing-struct id=the-notrestoredreasons-interface:concept-not-restored-reasons-backing-struct-6>backing struct</a> to
        <var>backingStruct</var>.
      </p>
    <li>
      <p>If <var>backingStruct</var>'s <a href=#nrr-reasons id=the-notrestoredreasons-interface:nrr-reasons>reasons</a> is null, set
        <var>notRestoredReasons</var>'s <a href=#concept-not-restored-reasons-reasons id=the-notrestoredreasons-interface:concept-not-restored-reasons-reasons-2>reasons array</a> to null.
      </p>
    <li>
      <p>Otherwise:</p>
      <ol><li>
          <p>Let <var>reasonsArray</var> be an empty <a id=the-notrestoredreasons-interface:list href=https://infra.spec.whatwg.org/#list data-x-internal=list>list</a>.</p>
        <li>
          <p><a href=https://infra.spec.whatwg.org/#list-iterate id=the-notrestoredreasons-interface:list-iterate data-x-internal=list-iterate>For each</a> <var>reason</var> of
            <var>backingStruct</var>'s <a href=#nrr-reasons id=the-notrestoredreasons-interface:nrr-reasons-2>reasons</a>:
          </p>
          <ol><li>
              <p><a href=#create-a-notrestoredreasondetails-object id=the-notrestoredreasons-interface:create-a-notrestoredreasondetails-object>Create a <code>NotRestoredReasonDetails</code> object</a> given
                <var>reason</var> and <var>realm</var>, and <a href=https://infra.spec.whatwg.org/#list-append id=the-notrestoredreasons-interface:list-append data-x-internal=list-append>append</a>
                it to <var>reasonsArray</var>.
              </p>
            </ol>
        <li>
          <p>Set <var>notRestoredReasons</var>'s <a href=#concept-not-restored-reasons-reasons id=the-notrestoredreasons-interface:concept-not-restored-reasons-reasons-3>reasons array</a> to the result of
            <a id=the-notrestoredreasons-interface:creating-a-frozen-array href=https://webidl.spec.whatwg.org/#dfn-create-frozen-array data-x-internal=creating-a-frozen-array>creating a frozen array</a> given <var>reasonsArray</var>.
          </p>
        </ol>
    <li>
      <p>If <var>backingStruct</var>'s <a href=#nrr-children id=the-notrestoredreasons-interface:nrr-children>children</a> is null, set
        <var>notRestoredReasons</var>'s <a href=#concept-not-restored-reasons-children id=the-notrestoredreasons-interface:concept-not-restored-reasons-children-2>children array</a> to null.
      </p>
    <li>
      <p>Otherwise:</p>

      <ol><li>
          <p>Let <var>childrenArray</var> be an empty <a id=the-notrestoredreasons-interface:list-2 href=https://infra.spec.whatwg.org/#list data-x-internal=list>list</a>.</p>
        <li>
          <p><a href=https://infra.spec.whatwg.org/#list-iterate id=the-notrestoredreasons-interface:list-iterate-2 data-x-internal=list-iterate>For each</a> <var>child</var> of
            <var>backingStruct</var>'s <a href=#nrr-children id=the-notrestoredreasons-interface:nrr-children-2>children</a>:
          </p>

          <ol><li>
              <p><a href=#create-a-notrestoredreasons-object id=the-notrestoredreasons-interface:create-a-notrestoredreasons-object>Create a <code>NotRestoredReasons</code> object</a> given <var>child</var>
                and <var>realm</var> and <a href=https://infra.spec.whatwg.org/#list-append id=the-notrestoredreasons-interface:list-append-2 data-x-internal=list-append>append</a> it to
                <var>childrenArray</var>.
              </p>
            </ol>
        <li>
          <p>Set <var>notRestoredReasons</var>'s <a href=#concept-not-restored-reasons-children id=the-notrestoredreasons-interface:concept-not-restored-reasons-children-3>children array</a> to the result of
            <a id=the-notrestoredreasons-interface:creating-a-frozen-array-2 href=https://webidl.spec.whatwg.org/#dfn-create-frozen-array data-x-internal=creating-a-frozen-array>creating a frozen array</a> given <var>childrenArray</var>.
          </p>
        </ol>
    <li>
      <p>Return <var>notRestoredReasons</var>.</p>
    </ol>

  <p>A <dfn id=nrr-struct data-export="">not restored reasons</dfn> is a <a id=the-notrestoredreasons-interface:struct-2 href=https://infra.spec.whatwg.org/#struct data-x-internal=struct>struct</a> with
    the following <a href=https://infra.spec.whatwg.org/#struct-item id=the-notrestoredreasons-interface:struct-item-2 data-x-internal=struct-item>items</a>:</p>

  <ul><li>
      <p><dfn id=nrr-src>src</dfn>, a string or null, initially null.</p>
    <li>
      <p><dfn id=nrr-id>id</dfn>, a string or null, initially null.</p>
    <li>
      <p><dfn id=nrr-name>name</dfn>, a string or null, initially null.</p>
    <li>
      <p><dfn id=nrr-url>url</dfn>, a <a id=the-notrestoredreasons-interface:url href=https://url.spec.whatwg.org/#concept-url data-x-internal=url>URL</a> or null, initially null.</p>
    <li>
      <p><dfn id=nrr-reasons>reasons</dfn>, null or a <a id=the-notrestoredreasons-interface:list-3 href=https://infra.spec.whatwg.org/#list data-x-internal=list>list</a> of
        <a href=#nrr-details-struct id=the-notrestoredreasons-interface:nrr-details-struct-3>not restored reason details</a>, initially null.
      </p>
    <li>
      <p><dfn id=nrr-children>children</dfn>, null or a <a id=the-notrestoredreasons-interface:list-4 href=https://infra.spec.whatwg.org/#list data-x-internal=list>list</a> of <a href=#nrr-struct id=the-notrestoredreasons-interface:nrr-struct-3>not restored reasons</a>, initially null.</p>
    </ul>

  <p>A <dfn data-export="" data-lt="not restored reasons" id=concept-document-nrr data-dfn-for=Document><code>Document</code>'s not restored reasons</dfn> is its <a id=the-notrestoredreasons-interface:node-navigable-4 href=document-sequences.html#node-navigable>node navigable</a>'s
    <a href=document-sequences.html#nav-active-history-entry id=the-notrestoredreasons-interface:nav-active-history-entry>active session history entry</a>'s <a href=browsing-the-web.html#she-document-state id=the-notrestoredreasons-interface:she-document-state>document state</a>'s <a href=browsing-the-web.html#document-state-not-restored-reasons id=the-notrestoredreasons-interface:document-state-not-restored-reasons>not restored reasons</a>, if
    <code id=the-notrestoredreasons-interface:document-6><a href=dom.html#document>Document</a></code>'s <a id=the-notrestoredreasons-interface:node-navigable-5 href=document-sequences.html#node-navigable>node navigable</a> is a <a id=the-notrestoredreasons-interface:top-level-traversable href=document-sequences.html#top-level-traversable>top-level traversable</a>;
    otherwise null.
  </p>

  <nav><a href=browsers.html>← 7 Loading web pages</a> — <a href=./>Table of Contents</a> — <a href=document-sequences.html>7.3 Infrastructure for sequences of documents →</a></nav>
