<!doctype html>
<html lang="zh-hans">

<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>服务工作线程</title>
  <meta content="CRD" name="w3c-status">
  <meta content="Bikeshed version 60c422380, updated Thu Feb 20 19:11:22 2025 -0800" name="generator">
  <link href="https://www.w3.org/TR/service-workers/" rel="canonical">
  <meta content="dark light" name="color-scheme">
  <style>
    /* Boilerplate: style-autolinks */
    .css.css,
    .property.property,
    .descriptor.descriptor {
      color: var(--a-normal-text);
      font-size: inherit;
      font-family: inherit;
    }

    .css::before,
    .property::before,
    .descriptor::before {
      content: "‘";
    }

    .css::after,
    .property::after,
    .descriptor::after {
      content: "’";
    }

    .property,
    .descriptor {
      /* Don't wrap property and descriptor names */
      white-space: nowrap;
    }

    .type {
      /* CSS value <type> */
      font-style: italic;
    }

    pre .property::before,
    pre .property::after {
      content: "";
    }

    [data-link-type="property"]::before,
    [data-link-type="propdesc"]::before,
    [data-link-type="descriptor"]::before,
    [data-link-type="value"]::before,
    [data-link-type="function"]::before,
    [data-link-type="at-rule"]::before,
    [data-link-type="selector"]::before,
    [data-link-type="maybe"]::before {
      content: "‘";
    }

    [data-link-type="property"]::after,
    [data-link-type="propdesc"]::after,
    [data-link-type="descriptor"]::after,
    [data-link-type="value"]::after,
    [data-link-type="function"]::after,
    [data-link-type="at-rule"]::after,
    [data-link-type="selector"]::after,
    [data-link-type="maybe"]::after {
      content: "’";
    }

    [data-link-type].production::before,
    [data-link-type].production::after,
    .prod [data-link-type]::before,
    .prod [data-link-type]::after {
      content: "";
    }

    [data-link-type=element],
    [data-link-type=element-attr] {
      font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
      font-size: .9em;
    }

    [data-link-type=element]::before {
      content: "<"
    }

    [data-link-type=element]::after {
      content: ">"
    }

    [data-link-type=biblio] {
      white-space: pre;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
      }
    }
  </style>
  <style>
    /* Boilerplate: style-colors */
    /* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
    :root {
      color-scheme: light dark;

      --text: black;
      --bg: white;

      --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

      --logo-bg: #1a5e9a;
      --logo-active-bg: #c00;
      --logo-text: white;

      --tocnav-normal-text: #707070;
      --tocnav-normal-bg: var(--bg);
      --tocnav-hover-text: var(--tocnav-normal-text);
      --tocnav-hover-bg: #f8f8f8;
      --tocnav-active-text: #c00;
      --tocnav-active-bg: var(--tocnav-normal-bg);

      --tocsidebar-text: var(--text);
      --tocsidebar-bg: #f7f8f9;
      --tocsidebar-shadow: rgba(0, 0, 0, .1);
      --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

      --toclink-text: var(--text);
      --toclink-underline: #3980b5;
      --toclink-visited-text: var(--toclink-text);
      --toclink-visited-underline: #054572;

      --heading-text: #005a9c;

      --hr-text: var(--text);

      --algo-border: #def;

      --del-text: red;
      --del-bg: transparent;
      --ins-text: #080;
      --ins-bg: transparent;

      --a-normal-text: #034575;
      --a-normal-underline: #bbb;
      --a-visited-text: var(--a-normal-text);
      --a-visited-underline: #707070;
      --a-hover-bg: rgba(75%, 75%, 75%, .25);
      --a-active-text: #c00;
      --a-active-underline: #c00;

      --blockquote-border: silver;
      --blockquote-bg: transparent;
      --blockquote-text: currentcolor;

      --issue-border: #e05252;
      --issue-bg: #fbe9e9;
      --issue-text: var(--text);
      --issueheading-text: #831616;

      --example-border: #e0cb52;
      --example-bg: #fcfaee;
      --example-text: var(--text);
      --exampleheading-text: #574b0f;

      --note-border: #52e052;
      --note-bg: #e9fbe9;
      --note-text: var(--text);
      --noteheading-text: hsl(120, 70%, 30%);
      --notesummary-underline: silver;

      --assertion-border: #aaa;
      --assertion-bg: #eee;
      --assertion-text: black;

      --advisement-border: orange;
      --advisement-bg: #fec;
      --advisement-text: var(--text);
      --advisementheading-text: #b35f00;

      --warning-border: red;
      --warning-bg: hsla(40, 100%, 50%, 0.95);
      --warning-text: var(--text);

      --amendment-border: #330099;
      --amendment-bg: #F5F0FF;
      --amendment-text: var(--text);
      --amendmentheading-text: #220066;

      --def-border: #8ccbf2;
      --def-bg: #def;
      --def-text: var(--text);
      --defrow-border: #bbd7e9;

      --datacell-border: silver;

      --indexinfo-text: #707070;

      --indextable-hover-text: black;
      --indextable-hover-bg: #f7f8f9;

      --outdatedspec-bg: rgba(0, 0, 0, .5);
      --outdatedspec-text: black;
      --outdated-bg: maroon;
      --outdated-text: white;
      --outdated-shadow: red;

      --editedrec-bg: darkorange;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255, 255, 255, .1);
        --tocsidebar-heading-text: hsla(203, 20%, 40%, .7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40, 100%, 20%, 0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
      }

      /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
      img {
        background: white;
      }
    }
  </style>
  <style>
    /* Boilerplate: style-counters */
    body {
      counter-reset: example figure issue;
    }

    .issue {
      counter-increment: issue;
    }

    .issue:not(.no-marker)::before {
      content: "Issue " counter(issue);
    }

    .example {
      counter-increment: example;
    }

    .example:not(.no-marker)::before {
      content: "Example " counter(example);
    }

    .invalid.example:not(.no-marker)::before,
    .illegal.example:not(.no-marker)::before {
      content: "Invalid Example" counter(example);
    }

    figcaption {
      counter-increment: figure;
    }

    figcaption:not(.no-marker)::before {
      content: "Figure " counter(figure) " ";
    }
  </style>
  <style>
    /* Boilerplate: style-dfn-panel */
    :root {
      --dfnpanel-bg: #ddd;
      --dfnpanel-text: var(--text);
      --dfnpanel-target-bg: #ffc;
      --dfnpanel-target-outline: orange;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
      }
    }

    .dfn-panel {
      position: absolute;
      z-index: 35;
      width: 20em;
      width: 300px;
      height: auto;
      max-height: 500px;
      overflow: auto;
      padding: 0.5em 0.75em;
      font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
      background: var(--dfnpanel-bg);
      color: var(--dfnpanel-text);
      border: outset 0.2em;
      white-space: normal;
      /* in case it's moved into a pre */
    }

    .dfn-panel:not(.on) {
      display: none;
    }

    .dfn-panel * {
      margin: 0;
      padding: 0;
      text-indent: 0;
    }

    .dfn-panel>b {
      display: block;
    }

    .dfn-panel a {
      color: var(--dfnpanel-text);
    }

    .dfn-panel a:not(:hover) {
      text-decoration: none !important;
      border-bottom: none !important;
    }

    .dfn-panel a:focus {
      outline: 5px auto Highlight;
      outline: 5px auto -webkit-focus-ring-color;
    }

    .dfn-panel>b+b {
      margin-top: 0.25em;
    }

    .dfn-panel ul {
      padding: 0 0 0 1em;
      list-style: none;
    }

    .dfn-panel li a {
      max-width: calc(300px - 1.5em - 1em);
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .dfn-panel.activated {
      display: inline-block;
      position: fixed;
      left: 8px;
      bottom: 2em;
      margin: 0 auto;
      max-width: calc(100vw - 1.5em - .4em - .5em);
      max-height: 30vh;
      transition: left 1s ease-out, bottom 1s ease-out;
    }

    .dfn-panel .link-item:hover {
      text-decoration: underline;
    }

    .dfn-panel .link-item .copy-icon {
      opacity: 0;
    }

    .dfn-panel .link-item:hover .copy-icon,
    .dfn-panel .link-item .copy-icon:focus {
      opacity: 1;
    }

    .dfn-panel .copy-icon {
      display: inline-block;
      margin-right: 0.5em;
      width: 0.85em;
      height: 1em;
      border-radius: 3px;
      background-color: #ccc;
      cursor: pointer;
    }

    .dfn-panel .copy-icon .icon {
      width: 100%;
      height: 100%;
      background-color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    .dfn-panel .copy-icon .icon::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 1px solid black;
      background-color: #ccc;
      opacity: 0.25;
      transform: translate(3px, -3px);
    }

    .dfn-panel .copy-icon:active .icon::before {
      opacity: 1;
    }

    .dfn-paneled[role="button"] {
      cursor: help;
    }

    .highlighted {
      animation: target-fade 3s;
    }

    @keyframes target-fade {
      from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
      }

      to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
      }
    }
  </style>
  <style>
    /* Boilerplate: style-idl-highlighting */
    pre.idl.highlight {
      background: var(--borderedblock-bg, var(--def-bg));
    }
  </style>
  <style>
    /* Boilerplate: style-issues */
    a[href].issue-return {
      float: right;
      float: inline-end;
      color: var(--issueheading-text);
      font-weight: bold;
      text-decoration: none;
    }
  </style>
  <style>
    /* Boilerplate: style-md-lists */
    /* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
    [data-md]> :first-child {
      margin-top: 0;
    }

    [data-md]> :last-child {
      margin-bottom: 0;
    }
  </style>
  <style>
    /* Boilerplate: style-mdn-anno */
    :root {
      --mdn-bg: #EEE;
      --mdn-shadow: #999;
      --mdn-nosupport-text: #ccc;
      --mdn-pass: green;
      --mdn-fail: red;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --mdn-bg: #222;
        --mdn-shadow: #444;
        --mdn-nosupport-text: #666;
        --mdn-pass: #690;
        --mdn-fail: #d22;
      }
    }

    .mdn-anno {
      background: var(--mdn-bg, #EEE);
      border-radius: .25em;
      box-shadow: 0 0 3px var(--mdn-shadow, #999);
      color: var(--text, black);
      font: 1em sans-serif;
      hyphens: none;
      max-width: min-content;
      overflow: hidden;
      padding: 0.2em;
      position: absolute;
      right: 0.3em;
      top: auto;
      white-space: nowrap;
      word-wrap: normal;
      z-index: 8;
    }

    .mdn-anno.unpositioned {
      display: none;
    }

    .mdn-anno.overlapping-main {
      opacity: .2;
      transition: opacity .1s;
    }

    .mdn-anno[open] {
      opacity: 1;
      z-index: 9;
      min-width: 9em;
    }

    .mdn-anno:hover {
      opacity: 1;
      outline: var(--text, black) 1px solid;
    }

    .mdn-anno>summary {
      font-weight: normal;
      text-align: right;
      cursor: pointer;
      display: block;
    }

    .mdn-anno>summary>.less-than-two-engines-flag {
      color: var(--mdn-fail);
      padding-right: 2px;
    }

    .mdn-anno>summary>.all-engines-flag {
      color: var(--mdn-pass);
      padding-right: 2px;
    }

    .mdn-anno>summary>span {
      color: #fff;
      background-color: #000;
      font-weight: normal;
      font-family: zillaslab, Palatino, "Palatino Linotype", serif;
      padding: 2px 3px 0px 3px;
      line-height: 1.3em;
      vertical-align: top;
    }

    .mdn-anno>.feature {
      margin-top: 20px;
    }

    .mdn-anno>.feature:not(:first-of-type) {
      border-top: 1px solid #999;
      margin-top: 6px;
      padding-top: 2px;
    }

    .mdn-anno>.feature>.less-than-two-engines-text {
      color: var(--mdn-fail);
    }

    .mdn-anno>.feature>.all-engines-text {
      color: var(--mdn-pass);
    }

    .mdn-anno>.feature>p {
      font-size: .75em;
      margin-top: 6px;
      margin-bottom: 0;
    }

    .mdn-anno>.feature>p+p {
      margin-top: 3px;
    }

    .mdn-anno>.feature>.support {
      display: block;
      font-size: 0.6em;
      margin: 0;
      padding: 0;
      margin-top: 2px;
    }

    .mdn-anno>.feature>.support+div {
      padding-top: 0.5em;
    }

    .mdn-anno>.feature>.support>hr {
      display: block;
      border: none;
      border-top: 1px dotted #999;
      padding: 3px 0px 0px 0px;
      margin: 2px 3px 0px 3px;
    }

    .mdn-anno>.feature>.support>hr::before {
      content: "";
    }

    .mdn-anno>.feature>.support>span {
      padding: 0.2em 0;
      display: block;
      display: table;
    }

    .mdn-anno>.feature>.support>span.no {
      color: var(--mdn-nosupport-text);
      filter: grayscale(100%);
    }

    .mdn-anno>.feature>.support>span.no::before {
      opacity: 0.5;
    }

    .mdn-anno>.feature>.support>span:first-of-type {
      padding-top: 0.5em;
    }

    .mdn-anno>.feature>.support>span>span {
      padding: 0 0.5em;
      display: table-cell;
    }

    .mdn-anno>.feature>.support>span>span:first-child {
      width: 100%;
    }

    .mdn-anno>.feature>.support>span>span:last-child {
      width: 100%;
      white-space: pre;
      padding: 0;
    }

    .mdn-anno>.feature>.support>span::before {
      content: ' ';
      display: table-cell;
      min-width: 1.5em;
      height: 1.5em;
      background: no-repeat center center;
      background-size: contain;
      text-align: right;
      font-size: 0.75em;
      font-weight: bold;
    }

    .mdn-anno>.feature>.support>.chrome_android::before {
      background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
    }

    .mdn-anno>.feature>.support>.firefox_android::before {
      background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
    }

    .mdn-anno>.feature>.support>.chrome::before {
      background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
    }

    .mdn-anno>.feature>.support>.edge_blink::before {
      background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
    }

    .mdn-anno>.feature>.support>.edge::before {
      background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
    }

    .mdn-anno>.feature>.support>.firefox::before {
      background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
    }

    .mdn-anno>.feature>.support>.ie::before {
      background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
    }

    .mdn-anno>.feature>.support>.safari_ios::before {
      background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
    }

    .mdn-anno>.feature>.support>.nodejs::before {
      background-image: url(https://nodejs.org/favicon.ico);
    }

    .mdn-anno>.feature>.support>.opera_android::before {
      background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
    }

    .mdn-anno>.feature>.support>.opera::before {
      background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
    }

    .mdn-anno>.feature>.support>.safari::before {
      background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
    }

    .mdn-anno>.feature>.support>.samsunginternet_android::before {
      background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
    }

    .mdn-anno>.feature>.support>.webview_android::before {
      background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
    }

    .name-slug-mismatch {
      color: red;
    }

    .caniuse-status:hover {
      z-index: 9;
    }

    /* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */
    ;

    .h-entry:not(.status-LS) dt>.mdn-anno,
    .h-entry:not(.status-LS) li>.mdn-anno,
    .h-entry:not(.status-LS) .issue>.mdn-anno,
    .h-entry:not(.status-LS) .note>.mdn-anno,
    .h-entry:not(.status-LS) .example>.mdn-anno {
      right: -6.7em;
    }

    .h-entry p+.mdn-anno {
      margin-top: 0;
    }

    h2+.mdn-anno.after {
      margin: -48px 0 0 0;
    }

    h3+.mdn-anno.after {
      margin: -46px 0 0 0;
    }

    h4+.mdn-anno.after {
      margin: -42px 0 0 0;
    }

    h5+.mdn-anno.after {
      margin: -40px 0 0 0;
    }

    h6+.mdn-anno.after {
      margin: -40px 0 0 0;
    }
  </style>
  <style>
    /* Boilerplate: style-ref-hints */
    :root {
      --ref-hint-bg: #ddd;
      --ref-hint-text: var(--text);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
      }
    }

    .ref-hint {
      display: inline-block;
      position: absolute;
      z-index: 35;
      width: 20em;
      width: 300px;
      height: auto;
      max-height: 500px;
      overflow: auto;
      padding: 0.5em 0.5em;
      font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
      background: var(--ref-hint-bg);
      color: var(--ref-hint-text);
      border: outset 0.2em;
      white-space: normal;
      /* in case it's moved into a pre */
    }

    .ref-hint * {
      margin: 0;
      padding: 0;
      text-indent: 0;
    }

    .ref-hint ul {
      padding: 0 0 0 1em;
      list-style: none;
    }
  </style>
  <style>
    /* Boilerplate: style-selflinks */
    :root {
      --selflink-text: white;
      --selflink-bg: gray;
      --selflink-hover-text: black;
    }

    .heading,
    .issue,
    .note,
    .example,
    li,
    dt {
      position: relative;
    }

    a.self-link {
      position: absolute;
      top: 0;
      left: calc(-1 * (3.5rem - 26px));
      width: calc(3.5rem - 26px);
      height: 2em;
      text-align: center;
      border: none;
      transition: opacity .2s;
      opacity: .5;
    }

    a.self-link:hover {
      opacity: 1;
    }

    .heading>a.self-link {
      font-size: 83%;
    }

    .example>a.self-link,
    .note>a.self-link,
    .issue>a.self-link {
      /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
      left: auto;
      right: 0;
    }

    li>a.self-link {
      left: calc(-1 * (3.5rem - 26px) - 2em);
    }

    dfn>a.self-link {
      top: auto;
      left: auto;
      opacity: 0;
      width: 1.5em;
      height: 1.5em;
      background: var(--selflink-bg);
      color: var(--selflink-text);
      font-style: normal;
      transition: opacity .2s, background-color .2s, color .2s;
    }

    dfn:hover>a.self-link {
      opacity: 1;
    }

    dfn>a.self-link:hover {
      color: var(--selflink-hover-text);
    }

    a.self-link::before {
      content: "¶";
    }

    .heading>a.self-link::before {
      content: "§";
    }

    dfn>a.self-link::before {
      content: "#";
    }
  </style>
  <style>
    /* Boilerplate: style-syntax-highlighting */
    code.highlight {
      padding: .1em;
      border-radius: .3em;
    }

    pre.highlight,
    pre>code.highlight {
      display: block;
      padding: 1em;
      margin: .5em 0;
      overflow: auto;
      border-radius: 0;
    }

    .highlight:not(.idl) {
      background: rgba(0, 0, 0, .03);
    }

    c-[a] {
      color: #990055
    }

    /* Keyword.Declaration */
    c-[b] {
      color: #990055
    }

    /* Keyword.Type */
    c-[c] {
      color: #708090
    }

    /* Comment */
    c-[d] {
      color: #708090
    }

    /* Comment.Multiline */
    c-[e] {
      color: #0077aa
    }

    /* Name.Attribute */
    c-[f] {
      color: #669900
    }

    /* Name.Tag */
    c-[g] {
      color: #222222
    }

    /* Name.Variable */
    c-[k] {
      color: #990055
    }

    /* Keyword */
    c-[l] {
      color: #000000
    }

    /* Literal */
    c-[m] {
      color: #000000
    }

    /* Literal.Number */
    c-[n] {
      color: #0077aa
    }

    /* Name */
    c-[o] {
      color: #999999
    }

    /* Operator */
    c-[p] {
      color: #999999
    }

    /* Punctuation */
    c-[s] {
      color: #a67f59
    }

    /* Literal.String */
    c-[t] {
      color: #a67f59
    }

    /* Literal.String.Single */
    c-[u] {
      color: #a67f59
    }

    /* Literal.String.Double */
    c-[cp] {
      color: #708090
    }

    /* Comment.Preproc */
    c-[c1] {
      color: #708090
    }

    /* Comment.Single */
    c-[cs] {
      color: #708090
    }

    /* Comment.Special */
    c-[kc] {
      color: #990055
    }

    /* Keyword.Constant */
    c-[kn] {
      color: #990055
    }

    /* Keyword.Namespace */
    c-[kp] {
      color: #990055
    }

    /* Keyword.Pseudo */
    c-[kr] {
      color: #990055
    }

    /* Keyword.Reserved */
    c-[ld] {
      color: #000000
    }

    /* Literal.Date */
    c-[nc] {
      color: #0077aa
    }

    /* Name.Class */
    c-[no] {
      color: #0077aa
    }

    /* Name.Constant */
    c-[nd] {
      color: #0077aa
    }

    /* Name.Decorator */
    c-[ni] {
      color: #0077aa
    }

    /* Name.Entity */
    c-[ne] {
      color: #0077aa
    }

    /* Name.Exception */
    c-[nf] {
      color: #0077aa
    }

    /* Name.Function */
    c-[nl] {
      color: #0077aa
    }

    /* Name.Label */
    c-[nn] {
      color: #0077aa
    }

    /* Name.Namespace */
    c-[py] {
      color: #0077aa
    }

    /* Name.Property */
    c-[ow] {
      color: #999999
    }

    /* Operator.Word */
    c-[mb] {
      color: #000000
    }

    /* Literal.Number.Bin */
    c-[mf] {
      color: #000000
    }

    /* Literal.Number.Float */
    c-[mh] {
      color: #000000
    }

    /* Literal.Number.Hex */
    c-[mi] {
      color: #000000
    }

    /* Literal.Number.Integer */
    c-[mo] {
      color: #000000
    }

    /* Literal.Number.Oct */
    c-[sb] {
      color: #a67f59
    }

    /* Literal.String.Backtick */
    c-[sc] {
      color: #a67f59
    }

    /* Literal.String.Char */
    c-[sd] {
      color: #a67f59
    }

    /* Literal.String.Doc */
    c-[se] {
      color: #a67f59
    }

    /* Literal.String.Escape */
    c-[sh] {
      color: #a67f59
    }

    /* Literal.String.Heredoc */
    c-[si] {
      color: #a67f59
    }

    /* Literal.String.Interpol */
    c-[sx] {
      color: #a67f59
    }

    /* Literal.String.Other */
    c-[sr] {
      color: #a67f59
    }

    /* Literal.String.Regex */
    c-[ss] {
      color: #a67f59
    }

    /* Literal.String.Symbol */
    c-[vc] {
      color: #0077aa
    }

    /* Name.Variable.Class */
    c-[vg] {
      color: #0077aa
    }

    /* Name.Variable.Global */
    c-[vi] {
      color: #0077aa
    }

    /* Name.Variable.Instance */
    c-[il] {
      color: #000000
    }

    /* Literal.Number.Integer.Long */

    @media (prefers-color-scheme: dark) {
      .highlight:not(.idl) {
        background: rgba(255, 255, 255, .05);
      }

      c-[a] {
        color: #d33682
      }

      /* Keyword.Declaration */
      c-[b] {
        color: #d33682
      }

      /* Keyword.Type */
      c-[c] {
        color: #2aa198
      }

      /* Comment */
      c-[d] {
        color: #2aa198
      }

      /* Comment.Multiline */
      c-[e] {
        color: #268bd2
      }

      /* Name.Attribute */
      c-[f] {
        color: #b58900
      }

      /* Name.Tag */
      c-[g] {
        color: #cb4b16
      }

      /* Name.Variable */
      c-[k] {
        color: #d33682
      }

      /* Keyword */
      c-[l] {
        color: #657b83
      }

      /* Literal */
      c-[m] {
        color: #657b83
      }

      /* Literal.Number */
      c-[n] {
        color: #268bd2
      }

      /* Name */
      c-[o] {
        color: #657b83
      }

      /* Operator */
      c-[p] {
        color: #657b83
      }

      /* Punctuation */
      c-[s] {
        color: #6c71c4
      }

      /* Literal.String */
      c-[t] {
        color: #6c71c4
      }

      /* Literal.String.Single */
      c-[u] {
        color: #6c71c4
      }

      /* Literal.String.Double */
      c-[ch] {
        color: #2aa198
      }

      /* Comment.Hashbang */
      c-[cp] {
        color: #2aa198
      }

      /* Comment.Preproc */
      c-[cpf] {
        color: #2aa198
      }

      /* Comment.PreprocFile */
      c-[c1] {
        color: #2aa198
      }

      /* Comment.Single */
      c-[cs] {
        color: #2aa198
      }

      /* Comment.Special */
      c-[kc] {
        color: #d33682
      }

      /* Keyword.Constant */
      c-[kn] {
        color: #d33682
      }

      /* Keyword.Namespace */
      c-[kp] {
        color: #d33682
      }

      /* Keyword.Pseudo */
      c-[kr] {
        color: #d33682
      }

      /* Keyword.Reserved */
      c-[ld] {
        color: #657b83
      }

      /* Literal.Date */
      c-[nc] {
        color: #268bd2
      }

      /* Name.Class */
      c-[no] {
        color: #268bd2
      }

      /* Name.Constant */
      c-[nd] {
        color: #268bd2
      }

      /* Name.Decorator */
      c-[ni] {
        color: #268bd2
      }

      /* Name.Entity */
      c-[ne] {
        color: #268bd2
      }

      /* Name.Exception */
      c-[nf] {
        color: #268bd2
      }

      /* Name.Function */
      c-[nl] {
        color: #268bd2
      }

      /* Name.Label */
      c-[nn] {
        color: #268bd2
      }

      /* Name.Namespace */
      c-[py] {
        color: #268bd2
      }

      /* Name.Property */
      c-[ow] {
        color: #657b83
      }

      /* Operator.Word */
      c-[mb] {
        color: #657b83
      }

      /* Literal.Number.Bin */
      c-[mf] {
        color: #657b83
      }

      /* Literal.Number.Float */
      c-[mh] {
        color: #657b83
      }

      /* Literal.Number.Hex */
      c-[mi] {
        color: #657b83
      }

      /* Literal.Number.Integer */
      c-[mo] {
        color: #657b83
      }

      /* Literal.Number.Oct */
      c-[sa] {
        color: #6c71c4
      }

      /* Literal.String.Affix */
      c-[sb] {
        color: #6c71c4
      }

      /* Literal.String.Backtick */
      c-[sc] {
        color: #6c71c4
      }

      /* Literal.String.Char */
      c-[dl] {
        color: #6c71c4
      }

      /* Literal.String.Delimiter */
      c-[sd] {
        color: #6c71c4
      }

      /* Literal.String.Doc */
      c-[se] {
        color: #6c71c4
      }

      /* Literal.String.Escape */
      c-[sh] {
        color: #6c71c4
      }

      /* Literal.String.Heredoc */
      c-[si] {
        color: #6c71c4
      }

      /* Literal.String.Interpol */
      c-[sx] {
        color: #6c71c4
      }

      /* Literal.String.Other */
      c-[sr] {
        color: #6c71c4
      }

      /* Literal.String.Regex */
      c-[ss] {
        color: #6c71c4
      }

      /* Literal.String.Symbol */
      c-[fm] {
        color: #268bd2
      }

      /* Name.Function.Magic */
      c-[vc] {
        color: #cb4b16
      }

      /* Name.Variable.Class */
      c-[vg] {
        color: #cb4b16
      }

      /* Name.Variable.Global */
      c-[vi] {
        color: #cb4b16
      }

      /* Name.Variable.Instance */
      c-[vm] {
        color: #cb4b16
      }

      /* Name.Variable.Magic */
      c-[il] {
        color: #657b83
      }

      /* Literal.Number.Integer.Long */
    }
  </style>
  <style>
    /* Boilerplate: style-var-click-highlighting */
    /*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

    [data-algorithm] var {
      cursor: pointer;
    }

    var[data-var-color] {
      background-color: var(--var-bg);
      box-shadow: 0 0 0 2px var(--var-bg);
    }

    var[data-var-color] {
      --var-bg: #F4D200;
    }

    var[data-var-color="1"] {
      --var-bg: #FF87A2;
    }

    var[data-var-color="2"] {
      --var-bg: #96E885;
    }

    var[data-var-color="3"] {
      --var-bg: #3EEED2;
    }

    var[data-var-color="4"] {
      --var-bg: #EACFB6;
    }

    var[data-var-color="5"] {
      --var-bg: #82DDFF;
    }

    var[data-var-color="6"] {
      --var-vg: #FFBCF2;
    }

    @media (prefers-color-scheme: dark) {
      var[data-var-color] {
        --var-bg: #bc1a00;
      }

      var[data-var-color="1"] {
        --var-bg: #007f00;
      }

      var[data-var-color="2"] {
        --var-bg: #008698;
      }

      var[data-var-color="3"] {
        --var-bg: #7f5b2b;
      }

      var[data-var-color="4"] {
        --var-bg: #004df3;
      }

      var[data-var-color="5"] {
        --var-bg: #a1248a;
      }

      var[data-var-color="6"] {
        --var-vg: #ff0000;
      }
    }
  </style>
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-CRD" rel="stylesheet">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet"
    type="text/css">

<body class="h-entry">
  <div class="head">
    <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48"
          src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
    <h1 class="p-name no-ref" id="title">服务工作线程</h1>
    <p id="w3c-state"><a href="https://www.w3.org/standards/types/#CRD">W3C 候选推荐标准草案</a>，
      <time class="dt-updated" datetime="2025-03-06">2025 年 3 月 6 日</time>
    </p>
    <details open="">
      <summary>关于本文档的更多详细信息</summary>
      <div data-fill-with="spec-metadata">
        <dl>
          <dt>此版本：
          </dt>
          <dd><a class="u-url"
              href="https://www.w3.org/TR/2025/CRD-service-workers-20250306/">https://www.w3.org/TR/2025/CRD-service-workers-20250306/</a>
          </dd>
          <dt>最新发布版本：
          </dt>
          <dd><a href="https://www.w3.org/TR/service-workers/">https://www.w3.org/TR/service-workers/</a>
          </dd>
          <dt>编辑草案：
          </dt>
          <dd><a href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
          </dd>
          <dt>历史：
          </dt>
          <dd><a class="u-url"
              href="https://www.w3.org/standards/history/service-workers/">https://www.w3.org/standards/history/service-workers/</a>
          </dd>
          <dt>实现报告：
          </dt>
          <dd><a href="https://wpt.fyi/service-workers">https://wpt.fyi/service-workers</a>
          </dd>
          <dt>反馈：
          </dt>
          <dd><a href="https://github.com/w3c/ServiceWorker/issues/">GitHub</a>
          </dd>
          <dd><a href="#issues-index">规范内联</a>
          </dd>
          <dt class="editor">编辑：
          </dt>
          <dd class="editor p-author h-card vcard" data-editor-id="160353"><a class="p-name fn u-email email"
              href="mailto:monicach@microsoft.com">Monica Chintala</a> (<span class="p-org org">微软</span>)
          </dd>
          <dd class="editor p-author h-card vcard" data-editor-id="142513"><a class="p-name fn u-email email"
              href="mailto:yyanagisawa@chromium.org">Yoshisato Yanagisawa</a> (<span class="p-org org">谷歌</span>)
          </dd>
          <dt class="editor">前任编辑：
          </dt>
          <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
              href="mailto:slightlyoff@chromium.org">Alex Russell</a> (<span class="p-org org">谷歌</span>)
          </dd>
          <dd class="editor p-author h-card vcard" data-editor-id="76394"><a class="p-name fn u-email email"
              href="mailto:jakearchibald@chromium.org">Jake Archibald</a> (<span class="p-org org">谷歌</span>)
          </dd>
          <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email"
              href="mailto:jungkee.song@microsoft.com">Jungkee Song</a> (<span class="p-org org">微软，2018 年
              4 月前代表三星</span>)
          </dd>
          <dd class="editor p-author h-card vcard" data-editor-id="72440"><a class="p-name fn u-email email"
              href="mailto:mek@chromium.org">Marijn Kruisselbrink</a> (<span class="p-org org">谷歌</span>)
          </dd>
          <dt>测试：
          </dt>
          <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/service-workers">web-platform-tests
              service-workers/</a> (<a
              href="https://github.com/web-platform-tests/wpt/labels/service-workers">进行中的工作</a>)
          </dd>
        </dl>
      </div>
    </details>
    <div data-fill-with="warning"></div>
    <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> ©
      2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr
        title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a
        href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a
        href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a
        href="https://www.w3.org/copyright/software-license/" rel="license"
        title="W3C Software and Document License">permissive document license</a> rules apply. </p>
    <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
    <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">摘要</span></h2>
    <p>本规范的核心是一种 worker，可被唤醒以接收事件。它提供了一个事件接收点，用于在其他处理方式不合适，或根本不存在其他接收点的情况下使用。</p>
    <p>例如，为了允许开发者决定如何获取页面，事件需要在可能尚未存在该来源的任何执行上下文之前被调度。要响应推送消息或持久化下载的完成，原本注册该需求的上下文可能已不复存在。在这些情况下，service worker
      是理想的事件接收点。</p>
    <p>本规范还提供了一个<a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch">fetch event</a>，以及一个与 HTTP
      缓存设计相似的<a href="#cache-objects">请求与响应存储</a>，从而使开发离线可用的 Web 应用更加容易。</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">本文件的状态</span></h2>
  <div data-fill-with="status">
    <p><em>此部分描述了本文件在发布时的状态。可以在 <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr>
          技术报告索引</a>（https://www.w3.org/TR/）中找到 <abbr title="World Wide Web Consortium">W3C</abbr>
        当前的所有出版物列表以及本技术报告的最新修订版。</em></p>
    <p>
      本文件由<a href="https://www.w3.org/groups/wg/webapps">Web Applications Working Group</a>基于
      <a href="https://www.w3.org/policies/process/20231103/#recs-and-notes">Recommendation track</a>
      作为候选推荐等级草案（Candidate Recommendation Draft）发布。
    </p>
    <p>如果针对本规范有任何反馈和意见，欢迎<a href="https://github.com/w3c/ServiceWorker/issues/new">提交问题</a>或发送邮件至
      <a href="mailto:public-webapps@w3.org?subject=%5Bservice-workers%5D">public-webapps@w3.org</a>（<a
        href="mailto:public-webapps@w3.org?subject=subscribe">订阅</a>，<a
        href="https://lists.w3.org/Archives/Public/public-webapps/">存档</a>）并在邮件主题开头添加
      <code>[service-workers]</code>。
    </p>
    <p>候选推荐（Candidate Recommendation）的发布并不代表 <abbr title="World Wide Web Consortium">W3C</abbr>
      及其成员的背书。候选推荐等级草案（Candidate Recommendation Draft）整合了工作组打算纳入后续候选推荐快照的对之前候选推荐所做的更改。</p>
    <p>
      这是一个草案文件，可能随时被更新、替换或由其他文件取代。将此文件视为进行中的工作，而非正式结论进行引用是不合适的。
    </p>
    <p>
      本文件由在
      <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr>
        专利政策</a>
      之下运作的小组编写。

      <abbr title="World Wide Web Consortium">W3C</abbr> 维护了一个
      <a rel="disclosure" href="https://www.w3.org/groups/wg/webapps/ipr">公开的专利披露列表</a>，
      其中包含与本小组的可交付成果相关的专利披露；该页面还提供了披露专利的说明。任何个人若实际知晓并认为某项专利包含
      <a href="https://www.w3.org/policies/patent-policy/#def-essential">必要声明</a>
      ，则必须根据
      <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">《<abbr
          title="World Wide Web Consortium">W3C</abbr> 专利政策》 第6节</a>
      进行披露。
    </p>
    <p>
      本文件受
      <a id="w3c_process_revision" href="https://www.w3.org/policies/process/20231103/">2023年11月03日 <abbr
          title="World Wide Web Consortium">W3C</abbr> 流程文档</a>
      管辖。
    </p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
    <h2 class="no-num no-toc no-ref" id="contents"><span class="content">目录</span></h2>
    <ol class="toc" role="directory">
      <li><a href="#motivations"><span class="secno">1</span> <span class="content">动机</span></a>
      </li>
      <li>
        <a href="#model"><span class="secno">2</span> <span class="content">模型</span></a>
        <ol class="toc">
          <li>
            <a href="#service-worker-concept"><span class="secno">2.1</span> <span class="content">服务工作线程</span></a>
            <ol class="toc">
              <li><a href="#service-worker-lifetime"><span class="secno">2.1.1</span> <span
                    class="content">生命周期</span></a>
              </li>
              <li><a href="#service-worker-events"><span class="secno">2.1.2</span> <span class="content">事件</span></a>
              </li>
            </ol>
          </li>
          <li><a href="#service-worker-timing"><span class="secno">2.2</span> <span class="content">服务工作线程时序</span></a>
          </li>
          <li>
            <a href="#service-worker-registration-concept"><span class="secno">2.3</span> <span
                class="content">服务工作线程注册</span></a>
            <ol class="toc">
              <li><a href="#service-worker-registration-lifetime"><span class="secno">2.3.1</span> <span
                    class="content">生命周期</span></a>
              </li>
            </ol>
          </li>
          <li><a href="#service-worker-client-concept"><span class="secno">2.4</span> <span
                class="content">服务工作线程客户端</span></a>
          </li>
          <li>
            <a href="#control-and-use"><span class="secno">2.5</span> <span class="content">控制和使用</span></a>
            <ol class="toc">
              <li><a href="#control-and-use-window-client"><span class="secno">2.5.1</span> <span
                    class="content">窗口客户端情况</span></a>
              </li>
              <li><a href="#control-and-use-worker-client"><span class="secno">2.5.2</span> <span
                    class="content">工作线程客户端情况</span></a>
              </li>
            </ol>
          </li>
          <li><a href="#task-sources"><span class="secno">2.6</span> <span class="content">任务源</span></a>
          </li>
          <li><a href="#user-agent-shutdown"><span class="secno">2.7</span> <span class="content">用户代理关闭</span></a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#document-context"><span class="secno">3</span> <span class="content">客户端上下文</span></a>
        <ol class="toc">
          <li>
            <a href="#serviceworker-interface"><span class="secno">3.1</span> <span class="content"><code
                  class="idl"><span>ServiceWorker</span></code></span></a>
            <ol class="toc">
              <li><a href="#service-worker-creation"><span class="secno">3.1.1</span> <span class="content">获取 <code
                      class="idl"><span>ServiceWorker</span></code>
                    实例</span></a>
              </li>
              <li><a href="#service-worker-url"><span class="secno">3.1.2</span> <span class="content"><code
                      class="idl"><span>scriptURL</span></code></span></a>
              </li>
              <li><a href="#service-worker-state"><span class="secno">3.1.3</span> <span class="content"><code
                      class="idl"><span>state</span></code></span></a>
              </li>
              <li><a href="#service-worker-postmessage"><span class="secno">3.1.4</span> <span class="content"><code
                      class="idl"><span>postMessage(message, transfer)</span></code></span></a>
              </li>
              <li><a href="#service-worker-postmessage-options"><span class="secno">3.1.5</span> <span
                    class="content"><code class="idl"><span>postMessage(message, options)</span></code></span></a>
              </li>
              <li><a href="#service-worker-event-handler"><span class="secno">3.1.6</span> <span
                    class="content">事件处理程序</span></a>
              </li>
            </ol>
          </li>
          <li>
            <a href="#serviceworkerregistration-interface"><span class="secno">3.2</span> <span class="content"><code
                  class="idl"><span>ServiceWorkerRegistration</span></code></span></a>
            <ol class="toc">
              <li><a href="#service-worker-registration-creation"><span class="secno">3.2.1</span> <span
                    class="content">获取 <code class="idl"><span>ServiceWorkerRegistration</span></code> 实例</span></a>
              </li>
              <li><a href="#navigator-service-worker-installing"><span class="secno">3.2.2</span> <span
                    class="content"><code class="idl"><span>installing</span></code></span></a>
              </li>
              <li><a href="#navigator-service-worker-waiting"><span class="secno">3.2.3</span> <span
                    class="content"><code class="idl"><span>waiting</span></code></span></a>
              </li>
              <li><a href="#navigator-service-worker-active"><span class="secno">3.2.4</span> <span
                    class="content"><code class="idl"><span>active</span></code></span></a>
              </li>
              <li><a href="#service-worker-registration-navigationpreload"><span class="secno">3.2.5</span> <span
                    class="content"><code class="idl"><span>navigationPreload</span></code></span></a>
              </li>
              <li><a href="#service-worker-registration-scope"><span class="secno">3.2.6</span> <span
                    class="content"><code class="idl"><span>scope</span></code></span></a>
              </li>
              <li><a href="#service-worker-registration-updateviacache"><span class="secno">3.2.7</span>
                  <span class="content"><code class="idl"><span>updateViaCache</span></code></span></a>
              </li>
              <li><a href="#service-worker-registration-update"><span class="secno">3.2.8</span> <span
                    class="content"><code class="idl"><span>update()</span></code></span></a>
              </li>
              <li><a href="#navigator-service-worker-unregister"><span class="secno">3.2.9</span> <span
                    class="content"><code class="idl"><span>unregister()</span></code></span></a>
              </li>
              <li><a href="#service-worker-registration-event-handler"><span class="secno">3.2.10</span>
                  <span class="content">事件处理程序</span></a>
              </li>
            </ol>
          </li>
          <li><a href="#navigator-serviceworker"><span class="secno">3.3</span> <span class="content"><code
                  class="idl"><span>navigator.serviceWorker</span></code></span></a>
          </li>
          <li>
            <a href="#serviceworkercontainer-interface"><span class="secno">3.4</span> <span class="content"><code
                  class="idl"><span>ServiceWorkerContainer</span></code></span></a>
            <ol class="toc">
              <li><a href="#navigator-service-worker-controller"><span class="secno">3.4.1</span> <span
                    class="content"><code class="idl"><span>controller</span></code></span></a>
              </li>
              <li><a href="#navigator-service-worker-ready"><span class="secno">3.4.2</span> <span class="content"><code
                      class="idl"><span>ready</span></code></span></a>
              </li>
              <li><a href="#navigator-service-worker-register"><span class="secno">3.4.3</span> <span
                    class="content"><code class="idl"><span>register(scriptURL, options)</span></code></span></a>
              </li>
              <li><a href="#navigator-service-worker-getRegistration"><span class="secno">3.4.4</span>
                  <span class="content"><code class="idl"><span>getRegistration(clientURL)</span></code></span></a>
              </li>
              <li><a href="#navigator-service-worker-getRegistrations"><span class="secno">3.4.5</span>
                  <span class="content"><code class="idl"><span>getRegistrations()</span></code></span></a>
              </li>
              <li><a href="#navigator-service-worker-startMessages"><span class="secno">3.4.6</span> <span
                    class="content"><code class="idl"><span>startMessages()</span></code></span></a>
              </li>
              <li><a href="#service-worker-container-event-handlers"><span class="secno">3.4.7</span>
                  <span class="content">事件处理程序</span></a>
              </li>
            </ol>
          </li>
          <li><a href="#document-context-events"><span class="secno">3.5</span> <span class="content">事件</span></a>
          </li>
          <li>
            <a href="#navigation-preload-manager"><span class="secno">3.6</span> <span class="content"><code
                  class="idl"><span>NavigationPreloadManager</span></code></span></a>
            <ol class="toc">
              <li><a href="#navigation-preload-manager-enable"><span class="secno">3.6.1</span> <span
                    class="content"><code class="idl"><span>enable()</span></code></span></a>
              </li>
              <li><a href="#navigation-preload-manager-disable"><span class="secno">3.6.2</span> <span
                    class="content"><code class="idl"><span>disable()</span></code></span></a>
              </li>
              <li><a href="#navigation-preload-manager-setheadervalue"><span class="secno">3.6.3</span>
                  <span class="content"><code class="idl"><span>setHeaderValue(value)</span></code></span></a>
              </li>
              <li><a href="#navigation-preload-manager-getstate"><span class="secno">3.6.4</span> <span
                    class="content"><code class="idl"><span>getState()</span></code></span></a>
              </li>
            </ol>
          </li>
        </ol>
      </li>
      <li>
        <a href="#execution-context"><span class="secno">4</span> <span class="content">执行上下文</span></a>
        <ol class="toc">
          <li>
            <a href="#serviceworkerglobalscope-interface"><span class="secno">4.1</span> <span class="content"><code
                  class="idl"><span>ServiceWorkerGlobalScope</span></code></span></a>
            <ol class="toc">
              <li><a href="#service-worker-global-scope-clients"><span class="secno">4.1.1</span> <span
                    class="content"><code class="idl"><span>clients</span></code></span></a>
              </li>
              <li><a href="#service-worker-global-scope-registration"><span class="secno">4.1.2</span>
                  <span class="content"><code class="idl"><span>registration</span></code></span></a>
              </li>
              <li><a href="#service-worker-global-scope-serviceworker"><span class="secno">4.1.3</span>
                  <span class="content"><code class="idl"><span>serviceWorker</span></code></span></a>
              </li>
              <li><a href="#service-worker-global-scope-skipwaiting"><span class="secno">4.1.4</span>
                  <span class="content"><code class="idl"><span>skipWaiting()</span></code></span></a>
              </li>
              <li><a href="#service-worker-global-scope-event-handlers"><span class="secno">4.1.5</span>
                  <span class="content">事件处理程序</span></a>
              </li>
            </ol>
          </li>
          <li>
            <a href="#client-interface"><span class="secno">4.2</span> <span class="content"><code
                  class="idl"><span>Client</span></code></span></a>
            <ol class="toc">
              <li><a href="#client-url"><span class="secno">4.2.1</span> <span class="content"><code
                      class="idl"><span>url</span></code></span></a>
              </li>
              <li><a href="#client-frametype"><span class="secno">4.2.2</span> <span class="content"><code
                      class="idl"><span>frameType</span></code></span></a>
              </li>
              <li><a href="#client-id"><span class="secno">4.2.3</span> <span class="content"><code
                      class="idl"><span>id</span></code></span></a>
              </li>
              <li><a href="#client-type"><span class="secno">4.2.4</span> <span class="content"><code
                      class="idl"><span>type</span></code></span></a>
              </li>
              <li><a href="#client-postmessage"><span class="secno">4.2.5</span> <span class="content"><code
                      class="idl"><span>postMessage(message, transfer)</span></code></span></a>
              </li>
              <li><a href="#client-postmessage-options"><span class="secno">4.2.6</span> <span class="content"><code
                      class="idl"><span>postMessage(message, options)</span></code></span></a>
              </li>
              <li><a href="#client-visibilitystate"><span class="secno">4.2.7</span> <span class="content"><code
                      class="idl"><span>visibilityState</span></code></span></a>
              </li>
              <li><a href="#client-focused"><span class="secno">4.2.8</span> <span class="content"><code
                      class="idl"><span>focused</span></code></span></a>
              </li>
              <li><a href="#client-ancestororigins"><span class="secno">4.2.9</span> <span class="content"><code
                      class="idl"><span>ancestorOrigins</span></code></span></a>
              </li>
              <li><a href="#client-focus"><span class="secno">4.2.10</span> <span class="content"><code
                      class="idl"><span>focus()</span></code></span></a>
              </li>
              <li><a href="#client-navigate"><span class="secno">4.2.11</span> <span class="content"><code
                      class="idl"><span>navigate(url)</span></code></span></a>
              </li>
            </ol>
          </li>
          <li>
            <a href="#clients-interface"><span class="secno">4.3</span> <span class="content"><code
                  class="idl"><span>Clients</span></code></span></a>
            <ol class="toc">
              <li><a href="#clients-get"><span class="secno">4.3.1</span> <span class="content"><code
                      class="idl"><span>get(id)</span></code></span></a>
              </li>
              <li><a href="#clients-matchall"><span class="secno">4.3.2</span> <span class="content"><code
                      class="idl"><span>matchAll(options)</span></code></span></a>
              </li>
              <li><a href="#clients-openwindow"><span class="secno">4.3.3</span> <span class="content"><code
                      class="idl"><span>openWindow(url)</span></code></span></a>
              </li>
              <li><a href="#clients-claim"><span class="secno">4.3.4</span> <span class="content"><code
                      class="idl"><span>claim()</span></code></span></a>
              </li>
            </ol>
          </li>
          <li>
            <a href="#extendableevent-interface"><span class="secno">4.4</span> <span class="content"><code
                  class="idl"><span>ExtendableEvent</span></code></span></a>
            <ol class="toc">
              <li><a href="#wait-until-method"><span class="secno">4.4.1</span> <span class="content"><code
                      class="idl"><span>event.waitUntil(f)</span></code></span></a>
              </li>
            </ol>
          </li>
          <li>
            <a href="#installevent-interface"><span class="secno">4.5</span> <span class="content"><code
                  class="idl"><span>InstallEvent</span></code></span></a>
            <ol class="toc">
              <li><a href="#register-router-method"><span class="secno">4.5.1</span> <span class="content"><code
                      class="idl"><span>event.addRoutes(rules)</span></code></span></a>
              </li>
            </ol>
          </li>
          <li>
            <a href="#fetchevent-interface"><span class="secno">4.6</span> <span class="content"><code
                  class="idl"><span>FetchEvent</span></code></span></a>
            <ol class="toc">
              <li><a href="#fetch-event-request"><span class="secno">4.6.1</span> <span class="content"><code
                      class="idl"><span>event.request</span></code></span></a>
              </li>
              <li><a href="#fetch-event-preloadresponse"><span class="secno">4.6.2</span> <span class="content"><code
                      class="idl"><span>event.preloadResponse</span></code></span></a>
              </li>
              <li><a href="#fetch-event-clientid"><span class="secno">4.6.3</span> <span class="content"><code
                      class="idl"><span>event.clientId</span></code></span></a>
              </li>
              <li><a href="#fetch-event-resultingclientid"><span class="secno">4.6.4</span> <span class="content"><code
                      class="idl"><span>event.resultingClientId</span></code></span></a>
              </li>
              <li><a href="#fetch-event-replacesClientId"><span class="secno">4.6.5</span> <span class="content"><code
                      class="idl"><span>event.replacesClientId</span></code></span></a>
              </li>
              <li><a href="#fetch-event-handled"><span class="secno">4.6.6</span> <span class="content"><code
                      class="idl"><span>event.handled</span></code></span></a>
              </li>
              <li><a href="#fetch-event-respondwith"><span class="secno">4.6.7</span> <span class="content"><code
                      class="idl"><span>event.respondWith(r)</span></code></span></a>
              </li>
            </ol>
          </li>
          <li>
            <a href="#extendablemessageevent-interface"><span class="secno">4.7</span> <span class="content"><code
                  class="idl"><span>ExtendableMessageEvent</span></code></span></a>
            <ol class="toc">
              <li><a href="#extendablemessage-event-data"><span class="secno">4.7.1</span> <span class="content"><code
                      class="idl"><span>event.data</span></code></span></a>
              </li>
              <li><a href="#extendablemessage-event-origin"><span class="secno">4.7.2</span> <span class="content"><code
                      class="idl"><span>event.origin</span></code></span></a>
              </li>
              <li><a href="#extendablemessage-event-lasteventid"><span class="secno">4.7.3</span> <span
                    class="content"><code class="idl"><span>event.lastEventId</span></code></span></a>
              </li>
              <li><a href="#extendablemessage-event-source"><span class="secno">4.7.4</span> <span class="content"><code
                      class="idl"><span>event.source</span></code></span></a>
              </li>
              <li><a href="#extendablemessage-event-ports"><span class="secno">4.7.5</span> <span class="content"><code
                      class="idl"><span>event.ports</span></code></span></a>
              </li>
            </ol>
          </li>
          <li><a href="#execution-context-events"><span class="secno">4.8</span> <span class="content">事件</span></a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#cache-objects"><span class="secno">5</span> <span class="content">缓存</span></a>
        <ol class="toc">
          <li><a href="#cache-constructs"><span class="secno">5.1</span> <span class="content">构造</span></a>
          </li>
          <li><a href="#cache-lifetimes"><span class="secno">5.2</span> <span class="content">理解缓存生命周期</span></a>
          </li>
          <li>
            <a href="#self-caches"><span class="secno">5.3</span> <span class="content"><code
                  class="idl"><span>self.caches</span></code></span></a>
            <ol class="toc">
              <li><a href="#global-caches"><span class="secno">5.3.1</span> <span class="content"><code
                      class="idl"><span>caches</span></code></span></a>
              </li>
            </ol>
          </li>
          <li>
            <a href="#cache-interface"><span class="secno">5.4</span> <span class="content"><code
                  class="idl"><span>Cache</span></code></span></a>
            <ol class="toc">
              <li><a href="#cache-match"><span class="secno">5.4.1</span> <span class="content"><code
                      class="idl"><span>match(request, options)</span></code></span></a>
              </li>
              <li><a href="#cache-matchall"><span class="secno">5.4.2</span> <span class="content"><code
                      class="idl"><span>matchAll(request, options)</span></code></span></a>
              </li>
              <li><a href="#cache-add"><span class="secno">5.4.3</span> <span class="content"><code
                      class="idl"><span>add(request)</span></code></span></a>
              </li>
              <li><a href="#cache-addAll"><span class="secno">5.4.4</span> <span class="content"><code
                      class="idl"><span>addAll(requests)</span></code></span></a>
              </li>
              <li><a href="#cache-put"><span class="secno">5.4.5</span> <span class="content"><code
                      class="idl"><span>put(request, response)</span></code></span></a>
              </li>
              <li><a href="#cache-delete"><span class="secno">5.4.6</span> <span class="content"><code
                      class="idl"><span>delete(request, options)</span></code></span></a>
              </li>
              <li><a href="#cache-keys"><span class="secno">5.4.7</span> <span class="content"><code
                      class="idl"><span>keys(request, options)</span></code></span></a>
              </li>
            </ol>
          </li>
          <li>
            <a href="#cachestorage-interface"><span class="secno">5.5</span> <span class="content"><code
                  class="idl"><span>CacheStorage</span></code></span></a>
            <ol class="toc">
              <li><a href="#cache-storage-match"><span class="secno">5.5.1</span> <span class="content"><code
                      class="idl"><span>match(request, options)</span></code></span></a>
              </li>
              <li><a href="#cache-storage-has"><span class="secno">5.5.2</span> <span class="content"><code
                      class="idl"><span>has(cacheName)</span></code></span></a>
              </li>
              <li><a href="#cache-storage-open"><span class="secno">5.5.3</span> <span class="content"><code
                      class="idl"><span>open(cacheName)</span></code></span></a>
              </li>
              <li><a href="#cache-storage-delete"><span class="secno">5.5.4</span> <span class="content"><code
                      class="idl"><span>delete(cacheName)</span></code></span></a>
              </li>
              <li><a href="#cache-storage-keys"><span class="secno">5.5.5</span> <span class="content"><code
                      class="idl"><span>keys()</span></code></span></a>
              </li>
            </ol>
          </li>
        </ol>
      </li>
      <li>
        <a href="#security-considerations"><span class="secno">6</span> <span class="content">安全注意事项</span></a>
        <ol class="toc">
          <li><a href="#secure-context"><span class="secno">6.1</span> <span class="content">安全上下文</span></a>
          </li>
          <li><a href="#content-security-policy"><span class="secno">6.2</span> <span class="content">内容安全策略</span></a>
          </li>
          <li>
            <a href="#origin-relativity"><span class="secno">6.3</span> <span class="content">源相关性</span></a>
            <ol class="toc">
              <li><a href="#origin-restriction"><span class="secno">6.3.1</span> <span class="content">源限制</span></a>
              </li>
              <li><a href="#importscripts"><span class="secno">6.3.2</span> <span class="content"><code
                      class="idl"><span>importScripts(urls)</span></code></span></a>
              </li>
            </ol>
          </li>
          <li><a href="#cross-origin-resources"><span class="secno">6.4</span> <span class="content">跨源资源和
                CORS</span></a>
          </li>
          <li><a href="#path-restriction"><span class="secno">6.5</span> <span class="content">路径限制</span></a>
          </li>
          <li><a href="#script-request"><span class="secno">6.6</span> <span class="content">服务工作线程脚本请求</span></a>
          </li>
          <li><a href="#implementer-concerns"><span class="secno">6.7</span> <span class="content">实现者关注点</span></a>
          </li>
          <li><a href="#privacy"><span class="secno">6.8</span> <span class="content">隐私</span></a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#extensibility"><span class="secno">7</span> <span class="content">可扩展性</span></a>
        <ol class="toc">
          <li><a href="#extension-to-service-worker-registration"><span class="secno">7.1</span> <span
                class="content">定义绑定到服务工作线程注册的 API</span></a>
          </li>
          <li><a href="#extension-to-extendable-event"><span class="secno">7.2</span> <span
                class="content">定义功能性事件</span></a>
          </li>
          <li><a href="#extension-to-service-worker-global-scope"><span class="secno">7.3</span> <span
                class="content">定义事件处理程序</span></a>
          </li>
          <li><a href="#firing-functional-events"><span class="secno">7.4</span> <span
                class="content">触发功能性事件</span></a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#algorithms"><span class="secno"></span> <span class="content">附录 A：算法</span></a>
        <ol class="toc">
          <li><a href="#create-job-algorithm"><span class="secno"></span> <span
                class="content"><span>创建任务</span></span></a>
          </li>
          <li><a href="#schedule-job-algorithm"><span class="secno"></span> <span
                class="content"><span>调度任务</span></span></a>
          </li>
          <li><a href="#run-job-algorithm"><span class="secno"></span> <span
                class="content"><span>运行任务</span></span></a>
          </li>
          <li><a href="#finish-job-algorithm"><span class="secno"></span> <span
                class="content"><span>完成任务</span></span></a>
          </li>
          <li><a href="#resolve-job-promise-algorithm"><span class="secno"></span> <span class="content"><span>解决任务
                  Promise</span></span></a>
          </li>
          <li><a href="#reject-job-promise-algorithm"><span class="secno"></span> <span class="content"><span>拒绝任务
                  Promise</span></span></a>
          </li>
          <li><a href="#start-register-algorithm"><span class="secno"></span> <span
                class="content"><span>开始注册</span></span></a>
          </li>
          <li><a href="#register-algorithm"><span class="secno"></span> <span class="content"><span>注册</span></span></a>
          </li>
          <li><a href="#update-algorithm"><span class="secno"></span> <span class="content"><span>更新</span></span></a>
          </li>
          <li><a href="#soft-update-algorithm"><span class="secno"></span> <span
                class="content"><span>软更新</span></span></a>
          </li>
          <li><a href="#installation-algorithm"><span class="secno"></span> <span
                class="content"><span>安装</span></span></a>
          </li>
          <li><a href="#activation-algorithm"><span class="secno"></span> <span
                class="content"><span>激活</span></span></a>
          </li>
          <li><a href="#try-activate-algorithm"><span class="secno"></span> <span
                class="content"><span>尝试激活</span></span></a>
          </li>
          <li><a href="#setup-serviceworkerglobalscope-algorithm"><span class="secno"></span> <span
                class="content"><span>设置 ServiceWorkerGlobalScope</span></span></a>
          </li>
          <li><a href="#run-service-worker-algorithm"><span class="secno"></span> <span
                class="content"><span>运行服务工作线程</span></span></a>
          </li>
          <li><a href="#all-fetch-listeners-are-empty-algorithm"><span class="secno"></span> <span
                class="content"><span>所有 Fetch 监听器均为空</span></span></a>
          </li>
          <li><a href="#terminate-service-worker-algorithm"><span class="secno"></span> <span
                class="content"><span>终止服务工作线程</span></span></a>
          </li>
          <li><a href="#on-fetch-request-algorithm"><span class="secno"></span> <span class="content"><span>处理
                  Fetch</span></span></a>
          </li>
          <li><a href="#create-fetch-event-and-dispatch-algorithm"><span class="secno"></span> <span
                class="content"><span>创建 Fetch 事件并调度</span></span></a>
          </li>
          <li><a href="#parse-urlpattern-algorithm"><span class="secno"></span> <span class="content"><span>解析
                  URL 模式</span></span></a>
          </li>
          <li><a href="#verify-router-rule-algorithm"><span class="secno"></span> <span
                class="content"><span>验证路由条件</span></span></a>
          </li>
          <li><a href="#match-router-condition-algorithm"><span class="secno"></span> <span
                class="content"><span>匹配路由条件</span></span></a>
          </li>
          <li><a href="#check-router-registration-limit-algorithm"><span class="secno"></span> <span
                class="content"><span>检查路由注册限制</span></span></a>
          </li>
          <li><a href="#count-router-inner-conditions-algorithm"><span class="secno"></span> <span
                class="content"><span>计算路由内部条件数量</span></span></a>
          </li>
          <li><a href="#get-router-source-algorithm"><span class="secno"></span> <span
                class="content"><span>获取路由源</span></span></a>
          </li>
          <li><a href="#should-skip-event-algorithm"><span class="secno"></span> <span
                class="content"><span>是否应跳过事件</span></span></a>
          </li>
          <li><a href="#fire-functional-event-algorithm"><span class="secno"></span> <span
                class="content"><span>触发功能性事件</span></span></a>
          </li>
          <li><a href="#on-client-unload-algorithm"><span class="secno"></span> <span
                class="content"><span>处理服务工作线程客户端卸载</span></span></a>
          </li>
          <li><a href="#on-user-agent-shutdown-algorithm"><span class="secno"></span> <span
                class="content"><span>处理用户代理关闭</span></span></a>
          </li>
          <li><a href="#update-service-worker-extended-events-set-algorithm"><span class="secno"></span> <span
                class="content"><span>更新服务工作线程扩展事件集</span></span></a>
          </li>
          <li><a href="#unregister-algorithm"><span class="secno"></span> <span
                class="content"><span>注销</span></span></a>
          </li>
          <li><a href="#set-registration-algorithm"><span class="secno"></span> <span
                class="content"><span>设置注册</span></span></a>
          </li>
          <li><a href="#clear-registration-algorithm"><span class="secno"></span> <span
                class="content"><span>清除注册</span></span></a>
          </li>
          <li><a href="#try-clear-registration-algorithm"><span class="secno"></span> <span
                class="content"><span>尝试清除注册</span></span></a>
          </li>
          <li><a href="#update-registration-state-algorithm"><span class="secno"></span> <span
                class="content"><span>更新注册状态</span></span></a>
          </li>
          <li><a href="#update-state-algorithm"><span class="secno"></span> <span
                class="content"><span>更新工作线程状态</span></span></a>
          </li>
          <li><a href="#notify-controller-change-algorithm"><span class="secno"></span> <span
                class="content"><span>通知控制器变更</span></span></a>
          </li>
          <li><a href="#scope-match-algorithm"><span class="secno"></span> <span
                class="content"><span>匹配服务工作线程注册</span></span></a>
          </li>
          <li><a href="#get-registration-algorithm"><span class="secno"></span> <span
                class="content"><span>获取注册</span></span></a>
          </li>
          <li><a href="#get-newest-worker-algorithm"><span class="secno"></span> <span
                class="content"><span>获取最新的工作线程</span></span></a>
          </li>
          <li><a href="#service-worker-has-no-pending-events-algorithm"><span class="secno"></span> <span
                class="content"><span>服务工作线程没有待处理事件</span></span></a>
          </li>
          <li><a href="#create-client-algorithm"><span class="secno"></span> <span
                class="content"><span>创建客户端</span></span></a>
          </li>
          <li><a href="#create-windowclient-algorithm"><span class="secno"></span> <span
                class="content"><span>创建窗口客户端</span></span></a>
          </li>
          <li><a href="#get-frametype-algorithm"><span class="secno"></span> <span
                class="content"><span>获取帧类型</span></span></a>
          </li>
          <li><a href="#resolve-get-client-promise-algorithm"><span class="secno"></span> <span
                class="content"><span>解决获取客户端 Promise</span></span></a>
          </li>
          <li><a href="#query-cache-algorithm"><span class="secno"></span> <span
                class="content"><span>查询缓存</span></span></a>
          </li>
          <li><a href="#request-matches-cached-item-algorithm"><span class="secno"></span> <span
                class="content"><span>请求匹配缓存项</span></span></a>
          </li>
          <li><a href="#batch-cache-operations-algorithm"><span class="secno"></span> <span
                class="content"><span>批量缓存操作</span></span></a>
          </li>
          <li><a href="#is-async-module-algorithm"><span class="secno"></span> <span
                class="content"><span>是否为异步模块</span></span></a>
          </li>
          <li><a href="#lookup-race-response-algorithm"><span class="secno"></span> <span
                class="content"><span>查找竞争响应</span></span></a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#extended-http-headers"><span class="secno"></span> <span class="content">附录 B：扩展 HTTP
            标头</span></a>
        <ol class="toc">
          <li><a href="#service-worker-script-request"><span class="secno"></span> <span
                class="content">服务工作线程脚本请求</span></a>
          </li>
          <li><a href="#service-worker-script-response"><span class="secno"></span> <span
                class="content">服务工作线程脚本响应</span></a>
          </li>
          <li><a href="#syntax"><span class="secno"></span> <span class="content">语法</span></a>
          </li>
        </ol>
      </li>
      <li><a href="#acknowledgements"><span class="secno">8</span> <span class="content">致谢</span></a>
      </li>
      <li>
        <a href="#w3c-conformance"><span class="secno"></span> <span class="content">一致性</span></a>
        <ol class="toc">
          <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">文档约定</span></a>
          </li>
          <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">一致性算法</span></a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#index"><span class="secno"></span> <span class="content">索引</span></a>
        <ol class="toc">
          <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">本规范定义的术语</span></a>
          </li>
          <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">引用定义的术语</span></a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#references"><span class="secno"></span> <span class="content">参考文献</span></a>
        <ol class="toc">
          <li><a href="#normative"><span class="secno"></span> <span class="content">规范性参考文献</span></a>
          </li>
          <li><a href="#informative"><span class="secno"></span> <span class="content">信息性参考文献</span></a>
          </li>
        </ol>
      </li>
      <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL 索引</span></a>
      </li>
      <li><a href="#issues-index"><span class="secno"></span> <span class="content">问题索引</span></a>
      </li>
    </ol>
  </nav>
  <main>
    <section>
      <h2 class="heading settled" data-level="1" id="motivations"><span class="secno">1. </span><span
          class="content">动机</span><a class="self-link" href="#motivations"></a></h2>
      <p><em>本节内容不具有规范性。</em></p>
      <p>Web 应用程序传统上假定网络是可访问的。这种假设贯穿了整个平台。HTML 文档通过 HTTP 加载，并且传统上通过后续的 HTTP 请求获取其所有子资源。这使得 Web 内容与其他技术栈相比处于劣势。</p>
      <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker">Service worker</a>
        的首要设计目标是通过提供一个 Web Worker 上下文来弥补这一不足，该上下文可以在导航即将发生时由运行时启动。这种事件驱动的 worker
        针对源和路径（或模式）进行注册，这意味着当导航到该位置时可以咨询它。与网络请求相对应的事件被分派给该 worker，由该 worker 生成的响应可以覆盖默认网络堆栈的行为。从概念上讲，这将 <a
          data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①">service worker</a>
        置于网络和文档渲染器之间，允许 <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②">service
          worker</a> 为文档提供内容，即使在离线状态下也是如此。</p>
      <p>熟悉先前解决离线问题方案的 Web 开发人员报告称，这些解决方案缺乏灵活性。因此，<a data-link-type="dfn" href="#dfn-service-worker"
          id="ref-for-dfn-service-worker③">service worker</a>
        的设计高度程序化，以增加开发人员的复杂性为代价提供了最大的灵活性。这种复杂性部分源于需要在单线程执行模型下保持 <a data-link-type="dfn" href="#dfn-service-worker"
          id="ref-for-dfn-service-worker④">service worker</a> 的响应能力。因此，<a data-link-type="dfn"
          href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤">service worker</a>
        暴露的 API 几乎完全是异步的，这种模式在其他 JavaScript 上下文中很常见，但在这里由于需要避免阻塞文档和资源加载而更加突出。</p>
      <p>使用 HTML5 Application Cache 的开发人员还<a
          href="http://alistapart.com/article/application-cache-is-a-douchebag">报告称其设计的几个特性</a>会导致<a
          href="http://alistapart.com/article/application-cache-is-a-douchebag#section6">无法恢复的错误</a>。<a
          data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥">Service worker</a>
        的一个关键设计原则是错误<em>必须始终</em>是可恢复的。<a data-link-type="dfn" href="#dfn-service-worker"
          id="ref-for-dfn-service-worker⑦">Service worker</a> 更新过程的许多细节旨在避免这些风险。</p>
      <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧">Service worker</a>
        的启动和保持活动状态依赖于它们与事件的关系，而不是与文档的关系。这种设计大量借鉴了开发人员和供应商在使用 <a
          href="https://html.spec.whatwg.org/multipage/workers.html#shared-workers-and-the-sharedworker-interface">shared
          worker</a> 和 <a href="https://developer.chrome.com/extensions/background_pages">Chrome
          后台页面</a>方面的经验。从这些系统中吸取的一个关键教训是，必须限制后台处理上下文的执行时间，既为了节省资源，也为了确保开发人员始终关注后台上下文丢失和重启的问题。因此，<a data-link-type="dfn"
          href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨">service worker</a>
        与 <a href="https://developer.chrome.com/extensions/event_pages">Chrome 事件页面</a>（后台页面的后继者）有着不止一点的相似之处。<a
          data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪">Service worker</a>
        可能会在<em>没有附加文档</em>的情况下由用户代理启动，并且几乎随时可能被用户代理终止。从概念上讲，<a data-link-type="dfn" href="#dfn-service-worker"
          id="ref-for-dfn-service-worker①①">service worker</a> 可以被认为是可以在不处理来自文档的任何消息的情况下启动、处理事件并终止的 Shared
        Worker。建议开发人员记住，<a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①②">service
          worker</a> 可能在一秒钟内被启动和终止多次。</p>
      <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①③">Service worker</a>
        是通用的、事件驱动的、有时间限制的脚本上下文，在源上运行。这些特性使其成为一系列运行时服务的天然端点，这些服务可能比特定文档的上下文生命周期更长，例如处理推送通知、后台数据同步、响应来自其他源的资源请求，或接收对计算成本高昂的数据（例如地理位置或陀螺仪）的集中更新。
      </p>
    </section>
    <section>
      <h2 class="heading settled" data-level="2" id="model"><span class="secno">2. </span><span
          class="content">模型</span><a class="self-link" href="#model"></a></h2>
      <section>
        <h3 class="heading settled" data-level="2.1" id="service-worker-concept"><span class="secno">2.1.
          </span><span class="content">Service Worker</span><a class="self-link" href="#service-worker-concept"></a>
        </h3>
        <p><dfn class="dfn-paneled" data-dfn-for data-dfn-type="dfn" data-export id="dfn-service-worker">service
            worker</dfn> 是一种 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#workers"
            id="ref-for-workers">web
            worker</a>。<a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①④">service
            worker</a> 在注册的 <a data-link-type="dfn" href="#dfn-service-worker-client"
            id="ref-for-dfn-service-worker-client">service worker
            client</a> 的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
            id="ref-for-concept-origin">origin</a> 中执行。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⑤">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            id="dfn-state">state</dfn>，它是
          "<code>parsed</code>"、"<code>installing</code>"、"<code>installed</code>"、"<code>activating</code>"、"<code>activated</code>"
          和 "<code>redundant</code>" 中的一个。初始值为 "<code>parsed</code>"。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⑥">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            id="dfn-script-url">script url</dfn>（一个 <a data-link-type="dfn"
            href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL</a>）。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⑦">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            id="dfn-type">type</dfn>，它是 "<code>classic</code>" 或
          "<code>module</code>"。除非另有说明，否则它是 "<code>classic</code>"。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⑧">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            data-lt="registration|containing service worker registration"
            id="dfn-containing-service-worker-registration">containing service worker registration</dfn>（一个
          <a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration">service worker registration</a>），其中包含自身。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⑨">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            id="dfn-service-worker-global-object">global object</dfn>（一个 <code
            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</a></code>
          对象或 null）。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⓪">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            id="dfn-script-resource">script resource</dfn>（一个 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script"
            id="ref-for-concept-script">script</a>），它表示自己的脚本资源。初始设置为 null。</p>
        <p><a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource">script
            resource</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="script resource" data-dfn-type="dfn" data-export
            id="dfn-has-ever-been-evaluated-flag">has ever been evaluated flag</dfn>。初始为未设置。</p>
        <p><a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource①">script
            resource</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="script resource" data-dfn-type="dfn" data-export
            id="dfn-policy-container">policy container</dfn>（一个 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/browsers.html#policy-container"
            id="ref-for-policy-container">policy container</a>）。初始为一个新的 policy container。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②①">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            id="dfn-script-resource-map">script resource map</dfn>，它是一个 <a data-link-type="dfn"
            href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">ordered map</a>，其中键是
          <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URL</a>，值是
          <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
            id="ref-for-concept-response">response</a>。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②②">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            id="dfn-set-of-used-scripts">set of used scripts</dfn>（一个 <a data-link-type="dfn"
            href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">set</a>），其 <a
            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item">item</a> 是一个 <a
            data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
            id="ref-for-concept-url②">URL</a>。初始为一个新的 <a data-link-type="dfn"
            href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">set</a>。</p>
        <p class="note" role="note"><span class="marker">注：</span><a data-link-type="dfn"
            href="#dfn-set-of-used-scripts" id="ref-for-dfn-set-of-used-scripts">set of used scripts</a>
          仅用于在安装后从新 worker 的映射中删除未使用的资源，这些资源在更新检查期间基于旧 worker 的映射填充。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②③">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            id="dfn-skip-waiting-flag">skip waiting flag</dfn>。除非另有说明，否则它是未设置的。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②④">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            id="dfn-classic-scripts-imported-flag">classic scripts imported flag</dfn>。初始为未设置。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⑤">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            id="dfn-set-of-event-types-to-handle">set of event types to handle</dfn>（一个 <a data-link-type="dfn"
            href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">set</a>），其 <a
            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①">item</a> 是一个 <a
            data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-listener"
            id="ref-for-concept-event-listener">event listener</a> 的事件类型。初始为一个新的 <a data-link-type="dfn"
            href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set③">set</a>。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⑥">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
            id="dfn-set-of-extended-events">set of extended events</dfn>（一个 <a data-link-type="dfn"
            href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set④">set</a>），其 <a
            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item②">item</a> 是一个
          <code
            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent">ExtendableEvent</a></code>。初始为一个新的
          <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑤">set</a>。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⑦">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-noexport
            id="service-worker-start-status">start status</dfn>，它可以是 null 或一个 <a data-link-type="dfn"
            href="http://tc39.github.io/ecma262/#sec-completion-record-specification-type"
            id="ref-for-sec-completion-record-specification-type">Completion</a>。初始为 null。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⑧">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-noexport
            id="service-worker-all-fetch-listeners-are-empty-flag">all fetch listeners are
            empty flag</dfn>。初始为未设置。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⑨">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-noexport
            id="service-worker-list-of-router-rules">list of router rules</dfn>（一个 <code
            class="idl"><a data-link-type="idl" href="#dictdef-routerrule" id="ref-for-dictdef-routerrule">RouterRule</a></code>
          的 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a>）。初始为一个空的 <a
            data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a>。</p>
        <p>如果 <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③⓪">service
            worker</a> 的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop">event
            loop</a> 在运行，则称该 service worker <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn"
            data-noexport id="service-worker-running">running</dfn>。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③①">service
            worker</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-noexport
            id="service-worker-service-worker-queue">[[service worker queue]]</dfn>（一个 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue"
            id="ref-for-parallel-queue">parallel queue</a>）。</p>
        <section>
          <h4 class="heading settled" data-level="2.1.1" id="service-worker-lifetime"><span class="secno">2.1.1.
            </span><span class="content">生命周期</span><a class="self-link" href="#service-worker-lifetime"></a></h4>
          <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③②">service
              worker</a> 的生命周期与事件的执行生命周期相关联，而不是与 <a data-link-type="dfn" href="#dfn-service-worker-client"
              id="ref-for-dfn-service-worker-client①">service worker client</a> 对 <code
              class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker">ServiceWorker</a></code>
            对象的引用相关联。</p>
          <p>用户代理<em>可以</em>在任何时候<a data-link-type="dfn" href="#terminate-service-worker"
              id="ref-for-terminate-service-worker">终止</a> <a data-link-type="dfn" href="#dfn-service-worker"
              id="ref-for-dfn-service-worker③③">service worker</a>，如果它：</p>
          <ul>
            <li data-md>
              <p>没有要处理的事件。</p>
            </li>
            <li data-md>
              <p>检测到异常操作：例如无限循环和在处理事件时超过强加的时间限制（如果有）的任务。</p>
            </li>
          </ul>
        </section>
        <section>
          <h4 class="heading settled" data-level="2.1.2" id="service-worker-events"><span class="secno">2.1.2.
            </span><span class="content">事件</span><a class="self-link" href="#service-worker-events"></a>
          </h4>
          <p>Service Workers 规范定义了 <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn"
              data-export id="dfn-service-worker-events">service worker events</dfn>（每个都是一个 <a data-link-type="dfn"
              href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event">event</a>），包括（见<a
              href="#execution-context-events">列表</a>）：</p>
          <ul>
            <li data-md>
              <p><dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
                  id="dfn-lifecycle-events">生命周期事件</dfn>：<code
                  class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event">install</a></code>
                和 <code
                  class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event">activate</a></code>。
              </p>
            </li>
            <li data-md>
              <p><dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export
                  id="dfn-functional-events">功能事件</dfn>：<code
                  class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event">fetch</a></code>
                和由<a href="#extensibility">扩展</a> Service Workers 规范的其他规范定义的 <a data-link-type="dfn"
                  href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event①">event</a>。（见<a
                  href="#execution-context-events">列表</a>。）
              </p>
            </li>
            <li data-md>
              <p><code
                  class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-message" id="ref-for-eventdef-serviceworkerglobalscope-message">message</a></code>
                和 <code
                  class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-messageerror" id="ref-for-eventdef-serviceworkerglobalscope-messageerror">messageerror</a></code>。
              </p>
            </li>
          </ul>
        </section>
      </section>
      <section>
        <h3 class="heading settled" data-level="2.2" id="service-worker-timing"><span class="secno">2.2.
          </span><span class="content">Service Worker 时序</span><a class="self-link" href="#service-worker-timing"></a>
        </h3>
        <p>Service worker 标记某些时间点，这些时间点稍后会通过 <a class="idl-code" data-link-type="interface"
            href="https://www.w3.org/TR/navigation-timing-2/#dom-performancenavigationtiming"
            id="ref-for-dom-performancenavigationtiming">导航时序</a> API 暴露。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="service-worker-timing-info">service
            worker timing info</dfn> 是一个 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct"
            id="ref-for-struct">struct</a>。它有以下 <a data-link-type="dfn"
            href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">item</a>：</p>
        <section>
          <dl>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="service worker timing info" data-dfn-type="dfn"
                data-export id="service-worker-timing-info-start-time">start
                time</dfn>
            </dt>
            <dd data-md>
              <p>一个 <code
                  class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp">DOMHighResTimeStamp</a></code>，初始为
                0。</p>
            </dd>
            <dt data-md><dfn class="dfn-paneled" data-dfn-for="service worker timing info" data-dfn-type="dfn"
                data-export id="service-worker-timing-info-fetch-event-dispatch-time">fetch event dispatch
                time</dfn>
            </dt>
            <dd data-md>
              <p>一个 <code
                  class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp①">DOMHighResTimeStamp</a></code>，初始为
                0。</p>
            </dd>
          </dl>
        </section>
      </section>
      <section>
        <h3 class="heading settled" data-level="2.3" id="service-worker-registration-concept"><span class="secno">2.3.
          </span><span class="content">Service Worker 注册</span><a class="self-link"
            href="#service-worker-registration-concept"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-for data-dfn-type="dfn" data-export
            id="dfn-service-worker-registration">service worker registration</dfn> 是一个由 <a data-link-type="dfn"
            href="#dfn-scope-url" id="ref-for-dfn-scope-url">scope url</a>、<a data-link-type="dfn"
            href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key">storage key</a> 和一组 <a
            data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③④">service worker</a>、一个 <a
            data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker">installing
            worker</a>、一个 <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker">waiting
            worker</a> 和一个 <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker">active
            worker</a> 组成的元组。只要 <a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration②">service
            worker registration</a> 的 <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①">scope
            url</a> 不同，用户代理<em>可以</em>在单个源启用多个 <a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration①">service
            worker registration</a>。当已存在相同 <a data-link-type="dfn" href="#dfn-scope-url"
            id="ref-for-dfn-scope-url②">scope url</a> 的 <a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration③">service
            worker registration</a> 时，新的注册会导致现有的 <a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration④">service
            worker registration</a> 被替换。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration⑤">service worker registration</a> 有一个关联的 <dfn
            class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="service-worker-registration-storage-key">storage key</dfn>（一个 <a data-link-type="dfn"
            href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key①">storage key</a>）。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration⑥">service worker registration</a> 有一个关联的 <dfn
            class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="dfn-scope-url">scope url</dfn>（一个 <a data-link-type="dfn"
            href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url③">URL</a>）。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration⑦">service worker registration</a> 有一个关联的 <dfn
            class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="dfn-installing-worker">installing worker</dfn>（一个 <a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker③⑤">service worker</a> 或 null），其 <a data-link-type="dfn" href="#dfn-state"
            id="ref-for-dfn-state">state</a> 是
          "<code>installing</code>"。初始设置为 null。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration⑧">service worker registration</a> 有一个关联的 <dfn
            class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="dfn-waiting-worker">waiting worker</dfn>（一个 <a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker③⑥">service worker</a> 或 null），其 <a data-link-type="dfn" href="#dfn-state"
            id="ref-for-dfn-state①">state</a> 是
          "<code>installed</code>"。初始设置为 null。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration⑨">service worker registration</a> 有一个关联的 <dfn
            class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="dfn-active-worker">active worker</dfn>（一个 <a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker③⑦">service worker</a> 或 null），其 <a data-link-type="dfn" href="#dfn-state"
            id="ref-for-dfn-state②">state</a> 是 "<code>activating</code>" 或
          "<code>activated</code>"。初始设置为 null。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration①⓪">service worker registration</a> 有一个关联的 <dfn
            class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="dfn-last-update-check-time">last update check time</dfn>。初始设置为 null。
        </p>
        <p>如果注册的 <a data-link-type="dfn" href="#dfn-last-update-check-time" id="ref-for-dfn-last-update-check-time">last
            update check time</a> 非空，且当前时间减去注册的 <a data-link-type="dfn" href="#dfn-last-update-check-time"
            id="ref-for-dfn-last-update-check-time①">last update check time</a> 计算出的秒数时间差大于 86400，则称 <a
            data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration①①">service worker registration</a> 为 <dfn class="dfn-paneled"
            data-dfn-for="service worker registration" data-dfn-type="dfn" data-noexport
            id="service-worker-registration-stale">stale</dfn>。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration①②">service worker registration</a> 有一个关联的 <dfn
            class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="dfn-update-via-cache">update via cache mode</dfn>，它是
          "<code>imports</code>"、"<code>all</code>" 或 "<code>none</code>"。初始设置为 "<code>imports</code>"。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration①③">service worker registration</a> 有一个或多个 <dfn
            class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="dfn-service-worker-registration-task-queue">task queue</dfn>，用于备份来自其 <a data-link-type="dfn"
            href="#dfn-active-worker" id="ref-for-dfn-active-worker①">active worker</a> 的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①">event
            loop</a> 的相应 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" id="ref-for-task-queue">task
            queue</a> 中的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
            id="ref-for-concept-task">task</a>。（此备份操作的目标任务源是 <a data-link-type="dfn"
            href="#dfn-handle-fetch-task-source" id="ref-for-dfn-handle-fetch-task-source">handle fetch task
            source</a> 和 <a data-link-type="dfn" href="#dfn-handle-functional-event-task-source"
            id="ref-for-dfn-handle-functional-event-task-source">handle functional event task source</a>。）当
          <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③">active worker</a>
          被<a data-link-type="dfn" href="#terminate-service-worker" id="ref-for-terminate-service-worker①">终止</a>时，用户代理将
          <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②">active worker</a> 的 <a
            data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
            id="ref-for-concept-task①">task</a> 转储到 <a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration①④">service
            worker registration</a> 的 <a data-link-type="dfn" href="#dfn-service-worker-registration-task-queue"
            id="ref-for-dfn-service-worker-registration-task-queue">task queue</a> 中，并在 <a data-link-type="dfn"
            href="#dfn-active-worker" id="ref-for-dfn-active-worker⑤">active worker</a>
          启动时<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
            id="ref-for-queue-a-task">将这些任务重新排队</a>到 <a data-link-type="dfn" href="#dfn-active-worker"
            id="ref-for-dfn-active-worker④">active worker</a> 的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop②">event
            loop</a> 的相应 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" id="ref-for-task-queue①">task
            queue</a> 中。与 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop③">event
            loop</a> 拥有的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" id="ref-for-task-queue②">task
            queue</a> 不同，<a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration①⑤">service
            worker registration</a> 的 <a data-link-type="dfn" href="#dfn-service-worker-registration-task-queue"
            id="ref-for-dfn-service-worker-registration-task-queue①">task queue</a> 本身不会被任何 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop④">event
            loop</a> 处理。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration①⑥">service worker registration</a> 有一个关联的 <dfn
            class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="service-worker-registration-navigationpreloadmanager"><code
              class="idl"><a data-link-type="idl" href="#navigationpreloadmanager" id="ref-for-navigationpreloadmanager">NavigationPreloadManager</a></code></dfn>
          对象。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration①⑦">service worker registration</a> 有一个关联的 <dfn
            class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="service-worker-registration-navigation-preload-enabled-flag">navigation preload enabled
            flag</dfn>。初始为未设置。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration①⑧">service worker registration</a> 有一个关联的 <dfn
            class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="service-worker-registration-navigation-preload-header-value">navigation preload header
            value</dfn>，它是一个 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence"
            id="ref-for-byte-sequence">byte sequence</a>。初始设置为 `<code>true</code>`。
        </p>
        <p>如果 <a data-link-type="dfn" href="#dfn-scope-to-registration-map"
            id="ref-for-dfn-scope-to-registration-map">registration map</a>[该 <a data-link-type="dfn"
            href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②⓪">service
            worker registration</a> 的（<a data-link-type="dfn" href="#service-worker-registration-storage-key"
            id="ref-for-service-worker-registration-storage-key">storage key</a>，<a data-link-type="dfn"
            href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer">序列化的</a> <a
            data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url③">scope url</a>）] 不是该 <a
            data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration②①">service
            worker registration</a>，则称该 <a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration①⑨">service worker registration</a> 为 <dfn class="dfn-paneled"
            data-dfn-for="service worker registration" data-dfn-type="dfn" data-export
            id="dfn-service-worker-registration-unregistered">unregistered</dfn>。
        </p>
        <section>
          <h4 class="heading settled" data-level="2.3.1" id="service-worker-registration-lifetime"><span
              class="secno">2.3.1. </span><span class="content">生命周期</span><a class="self-link"
              href="#service-worker-registration-lifetime"></a></h4>
          <p>除非明确<a data-link-type="dfn" href="#dfn-service-worker-registration-unregistered"
              id="ref-for-dfn-service-worker-registration-unregistered">注销</a>，否则用户代理<em>必须</em>持久保留<a
              data-link-type="dfn" href="#register" id="ref-for-register">注册的</a> <a data-link-type="dfn"
              href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②②">service worker
              registration</a> 列表。用户代理有一个 <a data-link-type="dfn" href="#dfn-scope-to-registration-map"
              id="ref-for-dfn-scope-to-registration-map①">registration map</a>，存储 <a data-link-type="dfn"
              href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②③">service worker
              registration</a> 的（<a data-link-type="dfn" href="#service-worker-registration-storage-key"
              id="ref-for-service-worker-registration-storage-key①">storage key</a>，<a data-link-type="dfn"
              href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①">序列化的</a>
            <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url④">scope url</a>）元组与相应 <a
              data-link-type="dfn" href="#dfn-service-worker-registration"
              id="ref-for-dfn-service-worker-registration②④">service worker registration</a> 的条目。<a data-link-type="dfn"
              href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②⑤">service worker
              registration</a> 的生命周期超出了在其相应
            <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②">service
              worker client</a> 生命周期内代表它们的 <code
              class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration">ServiceWorkerRegistration</a></code>
            对象的生命周期。
          </p>
        </section>
      </section>
      <section>
        <h3 class="heading settled" data-level="2.4" id="service-worker-client-concept"><span class="secno">2.4.
          </span><span class="content">Service Worker 客户端</span><a class="self-link"
            href="#service-worker-client-concept"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-for data-dfn-type="dfn" data-export id="dfn-service-worker-client">service
            worker client</dfn> 是一个 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment"
            id="ref-for-environment">environment</a>。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③">service
            worker client</a> 有一个关联的 <dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn"
            data-export id="service-worker-client-discarded-flag">discarded flag</dfn>。初始为未设置。</p>
        <p>每个 <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④">service
            worker client</a> 都有以下 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps"
            id="ref-for-environment-discarding-steps">environment discarding steps</a>：</p>
        <ol>
          <li data-md>
            <p>设置 <var>client</var> 的 <a data-link-type="dfn" href="#service-worker-client-discarded-flag"
                id="ref-for-service-worker-client-discarded-flag">discarded flag</a>。</p>
          </li>
        </ol>
        <p class="note" role="note"><span class="marker">注：</span>实现可以丢弃其 <a data-link-type="dfn"
            href="#service-worker-client-discarded-flag" id="ref-for-service-worker-client-discarded-flag①">discarded
            flag</a> 被设置的客户端。
        </p>
        <p><a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑤">service
            worker client</a> 有一个定义为 <dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn"
            data-export id="service-worker-client-origin">origin</dfn> 的算法，该算法返回 <a data-link-type="dfn"
            href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑥">service worker
            client</a> 的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
            id="ref-for-concept-settings-object-origin">origin</a>（如果 <a data-link-type="dfn"
            href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑦">service worker
            client</a> 是一个 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
            id="ref-for-environment-settings-object">environment settings object</a>），否则返回 <a data-link-type="dfn"
            href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑧">service worker client</a> 的 <a
            data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
            id="ref-for-concept-environment-creation-url">creation URL</a> 的 <a data-link-type="dfn"
            href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn" data-export
            id="dfn-window-client">window client</dfn> 是一个 <a data-link-type="dfn" href="#dfn-service-worker-client"
            id="ref-for-dfn-service-worker-client⑨">service worker
            client</a>，其 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
            id="ref-for-concept-settings-object-global">global object</a> 是一个 <code
            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code>
          对象。</p>
        <p><dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn" data-export
            id="dfn-dedicatedworker-client">dedicated worker client</dfn> 是一个 <a data-link-type="dfn"
            href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①⓪">service worker
            client</a>，其 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
            id="ref-for-concept-settings-object-global①">global object</a> 是一个 <code
            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" id="ref-for-dedicatedworkerglobalscope">DedicatedWorkerGlobalScope</a></code>
          对象。</p>
        <p><dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn" data-export
            id="dfn-sharedworker-client">shared worker client</dfn> 是一个 <a data-link-type="dfn"
            href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①①">service worker
            client</a>，其 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
            id="ref-for-concept-settings-object-global②">global object</a> 是一个 <code
            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#sharedworkerglobalscope" id="ref-for-sharedworkerglobalscope">SharedWorkerGlobalScope</a></code>
          对象。</p>
        <p><dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn" data-export
            id="dfn-worker-client">worker client</dfn> 是 <a data-link-type="dfn" href="#dfn-dedicatedworker-client"
            id="ref-for-dfn-dedicatedworker-client">dedicated worker
            client</a> 或 <a data-link-type="dfn" href="#dfn-sharedworker-client"
            id="ref-for-dfn-sharedworker-client">shared worker client</a>。</p>
      </section>
      <section>
        <h3 class="heading settled" data-level="2.5" id="control-and-use"><span class="secno">2.5. </span><span
            class="content">控制和使用</span><a class="self-link" href="#control-and-use"></a></h3>
        <p><a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①②">service
            worker client</a> 有一个 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
            id="ref-for-concept-environment-active-service-worker">active service
            worker</a>，它为自身的加载和子资源提供服务。当 <a data-link-type="dfn" href="#dfn-service-worker-client"
            id="ref-for-dfn-service-worker-client①③">service worker client</a> 有一个非空的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
            id="ref-for-concept-environment-active-service-worker①">active service worker</a> 时，称其被该 <a
            data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
            id="ref-for-concept-environment-active-service-worker②">active service worker</a> <dfn class="dfn-paneled"
            data-dfn-type="dfn" data-lt="controlling|controls|controlled" data-noexport id="dfn-control">控制</dfn>。当 <a
            data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①④">service
            worker client</a> 被一个 <a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker③⑧">service worker</a> <a data-link-type="dfn" href="#dfn-control"
            id="ref-for-dfn-control">控制</a>时，称该 <a data-link-type="dfn" href="#dfn-service-worker-client"
            id="ref-for-dfn-service-worker-client①⑤">service worker client</a> 正在<dfn class="dfn-paneled"
            data-dfn-type="dfn" data-lt="using|uses|used" data-noexport id="dfn-use">使用</dfn> <a data-link-type="dfn"
            href="#dfn-service-worker" id="ref-for-dfn-service-worker③⑨">service
            worker</a> 的 <a data-link-type="dfn" href="#dfn-containing-service-worker-registration"
            id="ref-for-dfn-containing-service-worker-registration">containing service worker
            registration</a>。
          <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①⑥">service
            worker client</a> 的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
            id="ref-for-concept-environment-active-service-worker③">active service worker</a> 按照以下小节中的解释确定。
        </p>
        <p><em>本节的其余部分不具有规范性。</em></p>
        <p class="issue" id="issue-f6a7ea80"><a class="self-link" href="#issue-f6a7ea80"></a> 本节中的行为尚未完全规范，将在 <a
            href="https://html.spec.whatwg.org">HTML 标准</a>中规范。该工作由 <a
            href="https://github.com/w3c/ServiceWorker/issues/765">issue</a> 和 <a
            href="https://github.com/whatwg/html/pull/2809">pull request</a> 跟踪。</p>
        <section>
          <h4 class="heading settled" data-level="2.5.1" id="control-and-use-window-client"><span class="secno">2.5.1.
            </span><span class="content">窗口客户端情况</span><a class="self-link" href="#control-and-use-window-client"></a>
          </h4>
          <p><a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client">window
              client</a> 在 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
              id="ref-for-browsing-context">browsing context</a> <a
              href="https://html.spec.whatwg.org/#creating-a-new-browsing-context">创建</a>和<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
              id="ref-for-navigate">导航</a>时<a
              href="https://html.spec.whatwg.org/#set-up-a-window-environment-settings-object">创建</a>。
          </p>
          <p>当 <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client①">window
              client</a> 在 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
              id="ref-for-browsing-context①">browsing context</a> <a
              href="https://html.spec.whatwg.org/#creating-a-new-browsing-context">创建</a>过程中<a
              href="https://html.spec.whatwg.org/#set-up-a-window-environment-settings-object">创建</a>时：
          </p>
          <p>如果 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
              id="ref-for-browsing-context②">browsing context</a> 的初始 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
              id="ref-for-nav-document">active document</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
              id="ref-for-concept-origin①">origin</a> 是一个 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
              id="ref-for-concept-origin-opaque">opaque origin</a>，则 <a data-link-type="dfn" href="#dfn-window-client"
              id="ref-for-dfn-window-client②">window client</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
              id="ref-for-concept-environment-active-service-worker④">active service worker</a> 设置为 null。
            否则，它设置为创建者 <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
              id="ref-for-concept-document">document</a> 的 <a data-link-type="dfn" href="#dfn-service-worker-client"
              id="ref-for-dfn-service-worker-client①⑦">service worker
              client</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
              id="ref-for-concept-environment-active-service-worker⑤">active service worker</a>。</p>
          <p>当 <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client③">window
              client</a> 在 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
              id="ref-for-browsing-context③">browsing context</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
              id="ref-for-navigate①">navigation</a> 过程中<a
              href="https://html.spec.whatwg.org/#set-up-a-window-environment-settings-object">创建</a>时：
          </p>
          <p>如果 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch"
              id="ref-for-concept-fetch">fetch</a> 通过 <a data-link-type="dfn"
              href="https://fetch.spec.whatwg.org/#concept-http-fetch" id="ref-for-concept-http-fetch">HTTP fetch</a>
            路由，则 <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client④">window client</a> 的
            <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
              id="ref-for-concept-environment-active-service-worker⑥">active service worker</a> 设置为 <a
              data-link-type="dfn" href="#match-service-worker-registration"
              id="ref-for-match-service-worker-registration">service worker registration matching</a> 的结果。
            否则，如果创建的 <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
              id="ref-for-concept-document①">document</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
              id="ref-for-concept-origin②">origin</a> 是一个 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
              id="ref-for-concept-origin-opaque①">opaque origin</a> 或与其创建者 <a data-link-type="dfn"
              href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document②">document</a> 的 <a
              data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
              id="ref-for-concept-origin③">origin</a> 不<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin">相同</a>，则
            <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client⑤">window client</a> 的 <a
              data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
              id="ref-for-concept-environment-active-service-worker⑦">active service worker</a> 设置为 null。
            否则，它设置为创建者 <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
              id="ref-for-concept-document③">document</a> 的 <a data-link-type="dfn" href="#dfn-service-worker-client"
              id="ref-for-dfn-service-worker-client①⑧">service worker
              client</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
              id="ref-for-concept-environment-active-service-worker⑧">active service worker</a>。
          </p>
          <p class="note" role="note"><span class="marker">注：</span>对于初始替换 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
              id="ref-for-navigate②">navigation</a>，在 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
              id="ref-for-browsing-context④">browsing context</a> <a
              href="https://html.spec.whatwg.org/#creating-a-new-browsing-context">创建</a>时<a
              href="https://html.spec.whatwg.org/#set-up-a-window-environment-settings-object">创建</a>的初始
            <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client⑥">window
              client</a> 被重用，但 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
              id="ref-for-concept-environment-active-service-worker⑨">active service worker</a> 由上述相同行为确定。
          </p>
          <p class="note" role="note"><span class="marker">注：</span>没有沙盒指令 <code>allow-same-origin</code> 和
            <code>allow-scripts</code> 的<a data-link-type="element-attr"
              href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox"
              id="ref-for-attr-iframe-sandbox">沙盒</a>
            <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element">iframe</a></code>
            的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
              id="ref-for-concept-environment-active-service-worker①⓪">active service worker</a> 值为
            null，因为它们的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
              id="ref-for-concept-origin④">origin</a> 是一个 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
              id="ref-for-concept-origin-opaque②">opaque origin</a>。
          </p>
        </section>
        <section>
          <h4 class="heading settled" data-level="2.5.2" id="control-and-use-worker-client"><span class="secno">2.5.2.
            </span><span class="content">工作线程客户端情况</span><a class="self-link" href="#control-and-use-worker-client"></a>
          </h4>
          <p><a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client">worker
              client</a> 在用户代理<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/workers.html#run-a-worker"
              id="ref-for-run-a-worker">运行工作线程</a>时<a
              href="https://html.spec.whatwg.org/#set-up-a-worker-environment-settings-object">创建</a>。</p>
          <p>当 <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client①">worker
              client</a> 创建时：</p>
          <p>当 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch"
              id="ref-for-concept-fetch①">fetch</a> 通过 <a data-link-type="dfn"
              href="https://fetch.spec.whatwg.org/#concept-http-fetch" id="ref-for-concept-http-fetch①">HTTP fetch</a>
            路由时，<a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client②">worker client</a> 的 <a
              data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
              id="ref-for-concept-environment-active-service-worker①①">active service worker</a> 设置为 <a
              data-link-type="dfn" href="#match-service-worker-registration"
              id="ref-for-match-service-worker-registration①">service worker registration matching</a>
            的结果。
            否则，如果 <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client③">worker
              client</a> 的 <a data-link-type="dfn" href="#service-worker-client-origin"
              id="ref-for-service-worker-client-origin">origin</a> 是一个 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
              id="ref-for-concept-origin-opaque③">opaque origin</a>，或 <a data-link-type="dfn"
              href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request">request</a> 的 <a
              data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url"
              id="ref-for-concept-request-url">URL</a> 是一个 <a data-link-type="dfn"
              href="https://www.w3.org/TR/FileAPI/#blob-url" id="ref-for-blob-url">blob URL</a> 且 <a
              data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client④">worker
              client</a> 的 <a data-link-type="dfn" href="#service-worker-client-origin"
              id="ref-for-service-worker-client-origin①">origin</a> 与 <a data-link-type="dfn" href="#dfn-worker-client"
              id="ref-for-dfn-worker-client⑤">worker client</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
              id="ref-for-global-object">global object</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/workers.html#concept-WorkerGlobalScope-owner-set"
              id="ref-for-concept-WorkerGlobalScope-owner-set">owner set</a> 中最后一个 <a data-link-type="dfn"
              href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item③">item</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
              id="ref-for-concept-origin⑤">origin</a> 不<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①">相同</a>，则
            <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client⑥">worker client</a> 的 <a
              data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
              id="ref-for-concept-environment-active-service-worker①②">active service worker</a> 设置为 null。
            否则，它设置为 <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client⑦">worker
              client</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object"
              id="ref-for-global-object①">global object</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/workers.html#concept-WorkerGlobalScope-owner-set"
              id="ref-for-concept-WorkerGlobalScope-owner-set①">owner set</a> 中最后一个 <a data-link-type="dfn"
              href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item④">item</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
              id="ref-for-environment-settings-object①">environment settings object</a> 的 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
              id="ref-for-concept-environment-active-service-worker①③">active service worker</a>。
          </p>
        </section>
        <p class="note" role="note"><span class="marker">注：</span>具有 <a
            href="https://tools.ietf.org/html/rfc2397#section-2">data: URL</a> 的 <a data-link-type="dfn"
            href="#dfn-window-client" id="ref-for-dfn-window-client⑦">Window client</a> 和 <a data-link-type="dfn"
            href="#dfn-worker-client" id="ref-for-dfn-worker-client⑧">worker client</a>
          的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
            id="ref-for-concept-environment-active-service-worker①④">active service worker</a> 值为 null，因为它们的
          <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
            id="ref-for-concept-origin⑥">origin</a> 是一个 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"
            id="ref-for-concept-origin-opaque④">opaque origin</a>。具有 <a data-link-type="dfn"
            href="https://www.w3.org/TR/FileAPI/#blob-url" id="ref-for-blob-url①">blob URL</a> 的 <a data-link-type="dfn"
            href="#dfn-window-client" id="ref-for-dfn-window-client⑧">Window client</a>
          和 <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client⑨">worker
            client</a> 可以继承其创建者 <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
            id="ref-for-concept-document④">document</a> 或所有者的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
            id="ref-for-concept-environment-active-service-worker①⑤">active service worker</a>，但如果 <a
            data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request"
            id="ref-for-concept-request①">request</a> 的 <a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-request-origin" id="ref-for-concept-request-origin">origin</a>
          与其创建者 <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document"
            id="ref-for-concept-document⑤">document</a>
          或所有者的 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
            id="ref-for-concept-origin⑦">origin</a> 不<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin②">相同</a>，则
          <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
            id="ref-for-concept-environment-active-service-worker①⑥">active service worker</a> 设置为 null。
        </p>
      </section>
      <section>
        <h3 class="heading settled" data-level="2.6" id="task-sources"><span class="secno">2.6. </span><span
            class="content">任务源</span><a class="self-link" href="#task-sources"></a></h3>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④⓪">service
            worker</a> 使用以下附加的 <a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source">task
            source</a>。</p>
        <dl>
          <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="dfn-handle-fetch-task-source">handle
              fetch task source</dfn>
          </dt>
          <dd data-md>
            <p>此 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                id="ref-for-task-source①">task source</a> 用于向 <a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker④①">service worker</a> <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch">调度</a>
              <code
                class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event①">fetch</a></code>
              事件。
            </p>
          </dd>
          <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-export
              id="dfn-handle-functional-event-task-source">handle functional event task source</dfn>
          </dt>
          <dd data-md>
            <p>此 <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                id="ref-for-task-source②">task source</a> 用于向 <a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker④②">service worker</a> <a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch①">调度</a>其他
              <a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events">功能事件</a>的功能，例如
              <code
                class="idl"><a class="idl-code" data-link-type="event" href="https://w3c.github.io/push-api/#h-the-push-event" id="ref-for-h-the-push-event">push</a></code>
              事件。
            </p>
            <p class="note" role="note"><span class="marker">注：</span>用户代理可以为每种功能事件类型使用单独的任务源，以避免某些功能事件的队首阻塞现象。</p>
          </dd>
        </dl>
      </section>
      <section>
        <h3 class="heading settled" data-level="2.7" id="user-agent-shutdown"><span class="secno">2.7.
          </span><span class="content">用户代理关闭</span><a class="self-link" href="#user-agent-shutdown"></a></h3>
        <p>用户代理<em>必须</em>在重启时维护其存储的 <a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration②⑥">service worker registration</a> 的状态，遵循以下规则：</p>
        <ul>
          <li data-md>
            <p><a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①">installing
                worker</a> 不会持久化，而是被丢弃。如果 <a data-link-type="dfn" href="#dfn-installing-worker"
                id="ref-for-dfn-installing-worker②">installing worker</a> 是该 <a data-link-type="dfn"
                href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②⑦">service worker
                registration</a> 的唯一 <a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker④③">service worker</a>，则该 <a data-link-type="dfn"
                href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②⑧">service worker
                registration</a> 被丢弃。</p>
          </li>
          <li data-md>
            <p><a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①">waiting
                worker</a> 提升为 <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑥">active
                worker</a>。</p>
          </li>
        </ul>
        <p>为了实现这一点，用户代理<em>必须</em>在终止时调用 <a data-link-type="dfn" href="#handle-user-agent-shutdown"
            id="ref-for-handle-user-agent-shutdown">Handle User Agent Shutdown</a>。</p>
      </section>
    </section>
    <section>
      <h2 class="heading settled" data-level="3" id="document-context"><span class="secno">3. </span><span
          class="content">客户端上下文</span><a class="self-link" href="#document-context"></a></h2>
      <div class="example" id="example-c7be5225">
        <a class="self-link" href="#example-c7be5225"></a> 使用 service worker 进行引导：
        <pre class="highlight"><c- c1>// scope 默认为脚本所在的路径</c->
<c- c1>// 在这个例子中是 "/"</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/serviceworker.js"</c-><c- p>).</c->then<c- p>(</c->registration <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- u>"成功！"</c-><c- p>);</c->
  <c- k>if</c-> <c- p>(</c->registration<c- p>.</c->installing<c- p>)</c-> <c- p>{</c->
    registration<c- p>.</c->installing<c- p>.</c->postMessage<c- p>(</c-><c- u>"来自正在安装页面的问候。"</c-><c- p>);</c->
  <c- p>}</c->
<c- p>},</c-> err <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- u>"安装 worker 失败！"</c-><c- p>,</c-> err<c- p>);</c->
<c- p>});</c->
</pre>
      </div>
      <section>
        <h3 class="heading settled" data-level="3.1" id="serviceworker-interface"><span class="secno">3.1.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①">ServiceWorker</a></code></span><a
            class="self-link" href="#serviceworker-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="serviceworker"><code><c- g>ServiceWorker</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-serviceworker-scripturl" id="ref-for-dom-serviceworker-scripturl"><c- g>scriptURL</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-serviceworkerstate" id="ref-for-enumdef-serviceworkerstate"><c- n>ServiceWorkerState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerState" href="#dom-serviceworker-state" id="ref-for-dom-serviceworker-state"><c- g>state</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworker-postmessage" id="ref-for-dom-serviceworker-postmessage"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker/postMessage(message, transfer)" data-dfn-type="argument" data-export id="dom-serviceworker-postmessage-message-transfer-message"><code><c- g>message</c-></code></dfn>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object"><c- b>object</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker/postMessage(message, transfer)" data-dfn-type="argument" data-export id="dom-serviceworker-postmessage-message-transfer-transfer"><code><c- g>transfer</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworker-postmessage-message-options" id="ref-for-dom-serviceworker-postmessage-message-options"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker/postMessage(message, options), ServiceWorker/postMessage(message)" data-dfn-type="argument" data-export id="dom-serviceworker-postmessage-message-options-message"><code><c- g>message</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions" id="ref-for-structuredserializeoptions"><c- n>StructuredSerializeOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker/postMessage(message, options), ServiceWorker/postMessage(message)" data-dfn-type="argument" data-export id="dom-serviceworker-postmessage-message-options-options"><code><c- g>options</c-></code></dfn> = {});

  // event
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworker-onstatechange" id="ref-for-dom-serviceworker-onstatechange"><c- g>onstatechange</c-></a>;
};
<a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker②"><c- n>ServiceWorker</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#abstractworker" id="ref-for-abstractworker"><c- n>AbstractWorker</c-></a>;

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-serviceworkerstate"><code><c- g>ServiceWorkerState</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-parsed"><code><c- s>"parsed"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-installing"><code><c- s>"installing"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-installed"><code><c- s>"installed"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-activating"><code><c- s>"activating"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-activated"><code><c- s>"activated"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-redundant"><code><c- s>"redundant"</c-></code></dfn>
};
</pre>
        <p><code
            class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker③">ServiceWorker</a></code>
          对象表示一个 <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④④">service
            worker</a>。每个 <code
            class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker④">ServiceWorker</a></code>
          对象都与一个 <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④⑤">service
            worker</a> 关联。跨文档和工作线程的多个实现了 <code
            class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker⑤">ServiceWorker</a></code>
          接口的独立对象可以同时都与同一个 <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④⑥">service
            worker</a> 关联。
        </p>
        <p><code
            class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker⑥">ServiceWorker</a></code>
          对象有一个关联的 <code
            class="idl"><a data-link-type="idl" href="#enumdef-serviceworkerstate" id="ref-for-enumdef-serviceworkerstate①">ServiceWorkerState</a></code>
          对象，该对象本身与 <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④⑦">service
            worker</a> 的 <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state③">state</a> 关联。</p>
        <section>
          <h4 class="heading settled" data-level="3.1.1" id="service-worker-creation"><span class="secno">3.1.1.
            </span><span class="content">获取 <code
                class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker⑦">ServiceWorker</a></code>
              实例</span><a class="self-link" href="#service-worker-creation"></a></h4>
          <p><a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
              id="ref-for-environment-settings-object②">environment settings object</a> 有一个 <dfn class="dfn-paneled"
              data-dfn-for="environment settings object" data-dfn-type="dfn" data-noexport
              id="environment-settings-object-service-worker-object-map">service worker
              object map</dfn>，这是一个 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
              id="ref-for-ordered-map①">map</a>，其中 <a data-link-type="dfn"
              href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys">key</a> 是 <a
              data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④⑧">service worker</a>，<a
              data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values"
              id="ref-for-map-getting-the-values">value</a> 是 <code
              class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker⑧">ServiceWorker</a></code>
            对象。</p>
          <section class="algorithm" data-algorithm="service-worker-creation-algorithm">
            要<dfn class="dfn-paneled" data-dfn-type="dfn"
              data-lt="get the service worker object|getting the service worker object" data-noexport
              id="get-the-service-worker-object">获取表示</dfn> <var>serviceWorker</var>（一个 <a data-link-type="dfn"
              href="#dfn-service-worker" id="ref-for-dfn-service-worker④⑨">service
              worker</a>）在 <var>environment</var>（一个 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
              id="ref-for-environment-settings-object③">environment settings object</a>）中的 service worker
            对象，运行以下步骤：
            <ol>
              <li data-md>
                <p>让 <var>objectMap</var> 为 <var>environment</var> 的 <a data-link-type="dfn"
                    href="#environment-settings-object-service-worker-object-map"
                    id="ref-for-environment-settings-object-service-worker-object-map">service
                    worker object map</a>。</p>
              </li>
              <li data-md>
                <p>如果 <var>objectMap</var>[<var>serviceWorker</var>] 不<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">存在</a>，则：</p>
                <ol>
                  <li data-md>
                    <p>让 <var>serviceWorkerObj</var> 为 <var>environment</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm"
                        id="ref-for-environment-settings-object&apos;s-realm">Realm</a> 中的一个新的
                      <code
                        class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker⑨">ServiceWorker</a></code>，并将其与
                      <var>serviceWorker</var> 关联。
                    </p>
                  </li>
                  <li data-md>
                    <p>设置 <var>serviceWorkerObj</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-serviceworker-state" id="ref-for-dom-serviceworker-state①">state</a></code>
                      为 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-state"
                        id="ref-for-dfn-state④">state</a>。</p>
                  </li>
                  <li data-md>
                    <p>设置 <var>objectMap</var>[<var>serviceWorker</var>] 为
                      <var>serviceWorkerObj</var>。
                    </p>
                  </li>
                </ol>
              </li>
              <li data-md>
                <p>返回 <var>objectMap</var>[<var>serviceWorker</var>]。</p>
              </li>
            </ol>
          </section>
        </section>
        <section>
          <h4 class="heading settled" data-level="3.1.2" id="service-worker-url"><span class="secno">3.1.2.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworker-scripturl" id="ref-for-dom-serviceworker-scripturl①">scriptURL</a></code></span><a
              class="self-link" href="#service-worker-url"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="attribute" data-export
              id="dom-serviceworker-scripturl"><code>scriptURL</code></dfn> 获取器步骤是返回 <a data-link-type="dfn"
              href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⓪">service
              worker</a> 的<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer"
              id="ref-for-concept-url-serializer②">序列化</a>的 <a data-link-type="dfn" href="#dfn-script-url"
              id="ref-for-dfn-script-url">script url</a>。</p>
          <div class="example" id="example-afd15a33">
            <a class="self-link" href="#example-afd15a33"></a> 例如，考虑一个通过导航到
            <code>https://example.com/app.html</code> 创建的文档，该文档通过以下之前执行的注册调用进行<a data-link-type="dfn"
              href="#match-service-worker-registration" id="ref-for-match-service-worker-registration②">匹配</a>：
            <pre class="highlight"><c- c1>// 页面 https://example.com/app.html 上的脚本</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/service_worker.js"</c-><c- p>);</c->
</pre>
            <p><code>navigator.serviceWorker.controller.scriptURL</code> 的值将是
              "<code>https://example.com/service_worker.js</code>"。</p>
          </div>
        </section>
        <section>
          <h4 class="heading settled" data-level="3.1.3" id="service-worker-state"><span class="secno">3.1.3.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworker-state" id="ref-for-dom-serviceworker-state②">state</a></code></span><a
              class="self-link" href="#service-worker-state"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="attribute" data-export
              id="dom-serviceworker-state"><code>state</code></dfn> 属性<em>必须</em>返回最后设置的值（在
            <code
              class="idl"><a data-link-type="idl" href="#enumdef-serviceworkerstate" id="ref-for-enumdef-serviceworkerstate②">ServiceWorkerState</a></code>
            枚举中）。
          </p>
        </section>
        <section class="algorithm" data-algorithm="service-worker-postmessage">
          <h4 class="heading settled" data-level="3.1.4" id="service-worker-postmessage"><span class="secno">3.1.4.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworker-postmessage" id="ref-for-dom-serviceworker-postmessage①">postMessage(message, transfer)</a></code></span><a
              class="self-link" href="#service-worker-postmessage"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="method" data-export
              id="dom-serviceworker-postmessage"><code>postMessage(<var>message</var>, <var>transfer</var>)</code></dfn>
            方法步骤是：</p>
          <ol>
            <li data-md>
              <p>让 <var>options</var> 为 «[ "transfer" → <var>transfer</var> ]»。</p>
            </li>
            <li data-md>
              <p>以 <var>message</var> 和 <var>options</var> 作为参数调用 <code
                  class="idl"><a data-link-type="idl" href="#dom-serviceworker-postmessage-message-options" id="ref-for-dom-serviceworker-postmessage-message-options①">postMessage(message, options)</a></code>。
              </p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="service-worker-postmessage-options">
          <h4 class="heading settled" data-level="3.1.5" id="service-worker-postmessage-options"><span
              class="secno">3.1.5. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworker-postmessage-message-options" id="ref-for-dom-serviceworker-postmessage-message-options②">postMessage(message, options)</a></code></span><a
              class="self-link" href="#service-worker-postmessage-options"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="method" data-export
              data-lt="postMessage(message, options)|postMessage(message)"
              id="dom-serviceworker-postmessage-message-options"><code>postMessage(<var>message</var>, <var>options</var>)</code></dfn>
            方法步骤是：</p>
          <ol>
            <li data-md>
              <p>让 <var>serviceWorker</var> 为由<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this">此对象</a>表示的 <a data-link-type="dfn" href="#dfn-service-worker"
                  id="ref-for-dfn-service-worker⑤①">service worker</a>。</p>
            </li>
            <li data-md>
              <p>让 <var>incumbentSettings</var> 为 <a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#incumbent-settings-object"
                  id="ref-for-incumbent-settings-object">incumbent settings object</a>。</p>
            </li>
            <li data-md>
              <p>让 <var>incumbentGlobal</var> 为 <var>incumbentSettings</var> 的 <a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
                  id="ref-for-concept-settings-object-global③">global object</a>。</p>
            </li>
            <li data-md>
              <p>让 <var>serializeWithTransferResult</var> 为 <a data-link-type="abstract-op"
                  href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"
                  id="ref-for-structuredserializewithtransfer">StructuredSerializeWithTransfer</a>(<var>message</var>,
                <var>options</var>["<code
                  class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-structuredserializeoptions-transfer" id="ref-for-dom-structuredserializeoptions-transfer">transfer</a></code>"])。重新抛出任何异常。
              </p>
            </li>
            <li data-md>
              <p>如果使用 "message" 和 <var>serviceWorker</var> 运行 <a data-link-type="dfn" href="#should-skip-event"
                  id="ref-for-should-skip-event">Should Skip Event</a>
                算法的结果为 true，则返回。
              </p>
            </li>
            <li data-md>
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel">并行</a>运行以下子步骤：</p>
              <ol>
                <li data-md>
                  <p>如果使用 <var>serviceWorker</var> 运行 <a data-link-type="dfn" href="#run-service-worker"
                      id="ref-for-run-service-worker">Run Service
                      Worker</a> 算法的结果是<em>失败</em>，则返回。
                  </p>
                </li>
                <li data-md>
                  <p>在 <a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source">DOM manipulation task source</a>
                    上<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task①">排队一个任务</a>来运行以下步骤：</p>
                  <ol>
                    <li data-md>
                      <p>让 <var>source</var> 通过切换 <var>incumbentGlobal</var> 的类型来确定：
                      </p>
                      <dl class="switch">
                        <dt><code
                            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①">ServiceWorkerGlobalScope</a></code>
                        </dt>
                        <dd><a data-link-type="dfn" href="#get-the-service-worker-object"
                            id="ref-for-get-the-service-worker-object">获取表示</a>
                          <var>incumbentGlobal</var> 的 <a data-link-type="dfn"
                            href="#serviceworkerglobalscope-service-worker"
                            id="ref-for-serviceworkerglobalscope-service-worker">service
                            worker</a> 在 <var>serviceWorker</var> 的 <a data-link-type="dfn"
                            href="#dfn-service-worker-global-object"
                            id="ref-for-dfn-service-worker-global-object">global object</a>
                          的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object">relevant settings
                            object</a> 中的 service worker 对象的结果。
                        </dd>
                        <dt><code
                            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①">Window</a></code>
                        </dt>
                        <dd>一个表示 <var>incumbentGlobal</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                            id="ref-for-relevant-settings-object①">relevant settings
                            object</a> 的新的 <code
                            class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient">WindowClient</a></code>
                          对象。
                        </dd>
                        <dt>其他情况
                        </dt>
                        <dd>一个表示 <var>incumbentGlobal</var> 的关联工作线程的新的 <code
                            class="idl"><a data-link-type="idl" href="#client" id="ref-for-client">Client</a></code>
                          对象
                        </dd>
                      </dl>
                    </li>
                    <li data-md>
                      <p>让 <var>origin</var> 为 <var>incumbentSettings</var> 的 <a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                          id="ref-for-concept-settings-object-origin①">origin</a> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin"
                          id="ref-for-ascii-serialisation-of-an-origin">序列化</a>。
                      </p>
                    </li>
                    <li data-md>
                      <p>让 <var>destination</var> 为与 <var>serviceWorker</var> 关联的 <code
                          class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope②">ServiceWorkerGlobalScope</a></code>
                        对象。</p>
                    </li>
                    <li data-md>
                      <p>让 <var>deserializeRecord</var> 为 <a data-link-type="abstract-op"
                          href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer"
                          id="ref-for-structureddeserializewithtransfer">StructuredDeserializeWithTransfer</a>(<var>serializeWithTransferResult</var>,
                        <var>destination</var> 的 <a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm"
                          id="ref-for-concept-global-object-realm">Realm</a>)。
                      </p>
                      <p>如果这抛出异常，让 <var>e</var> 为<a data-link-type="dfn"
                          href="https://dom.spec.whatwg.org/#concept-event-create"
                          id="ref-for-concept-event-create">创建一个名为</a> <code
                          class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-messageerror" id="ref-for-eventdef-serviceworkerglobalscope-messageerror①">messageerror</a></code>
                        的事件的结果，使用 <code
                          class="idl"><a data-link-type="idl" href="#extendablemessageevent" id="ref-for-extendablemessageevent">ExtendableMessageEvent</a></code>，<code
                          class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-origin" id="ref-for-dom-extendablemessageevent-origin">origin</a></code>
                        属性初始化为 <var>origin</var>，<code
                          class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-source" id="ref-for-dom-extendablemessageevent-source">source</a></code>
                        属性初始化为 <var>source</var>。</p>
                    </li>
                    <li data-md>
                      <p>否则：</p>
                      <ol>
                        <li data-md>
                          <p>让 <var>messageClone</var> 为
                            <var>deserializeRecord</var>.[[Deserialized]]。
                          </p>
                        </li>
                        <li data-md>
                          <p>让 <var>newPorts</var> 为一个由
                            <var>deserializeRecord</var>.[[TransferredValues]] 中的所有 <code
                              class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport">MessagePort</a></code>
                            对象组成的新的<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-frozen-array-type"
                              id="ref-for-dfn-frozen-array-type">冻结数组</a>（如果有的话），保持它们的相对顺序。
                          </p>
                        </li>
                        <li data-md>
                          <p>让 <var>e</var> 为<a data-link-type="dfn"
                              href="https://dom.spec.whatwg.org/#concept-event-create"
                              id="ref-for-concept-event-create①">创建一个名为</a> <code
                              class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-message" id="ref-for-eventdef-serviceworkerglobalscope-message①">message</a></code>
                            的事件的结果，使用 <code
                              class="idl"><a data-link-type="idl" href="#extendablemessageevent" id="ref-for-extendablemessageevent①">ExtendableMessageEvent</a></code>，<code
                              class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-origin" id="ref-for-dom-extendablemessageevent-origin①">origin</a></code>
                            属性初始化为 <var>origin</var>，<code
                              class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-source" id="ref-for-dom-extendablemessageevent-source①">source</a></code>
                            属性初始化为 <var>source</var>，<code
                              class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-data" id="ref-for-dom-extendablemessageevent-data">data</a></code>
                            属性初始化为 <var>messageClone</var>，<code
                              class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-ports" id="ref-for-dom-extendablemessageevent-ports">ports</a></code>
                            属性初始化为 <var>newPorts</var>。</p>
                        </li>
                      </ol>
                    </li>
                    <li data-md>
                      <p>在 <var>destination</var> 上<a data-link-type="dfn"
                          href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                          id="ref-for-concept-event-dispatch②">调度</a> <var>e</var>。
                      </p>
                    </li>
                    <li data-md>
                      <p>以 <var>serviceWorker</var> 和 <var>e</var> 调用 <a data-link-type="dfn"
                          href="#update-service-worker-extended-events-set"
                          id="ref-for-update-service-worker-extended-events-set">Update
                          Service Worker Extended Events Set</a>。</p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
          </ol>
        </section>
        <section>
          <h4 class="heading settled" data-level="3.1.6" id="service-worker-event-handler"><span class="secno">3.1.6.
            </span><span class="content">事件处理程序</span><a class="self-link" href="#service-worker-event-handler"></a>
          </h4>
          <p>以下是所有实现 <code
              class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①⓪">ServiceWorker</a></code>
            接口的对象<em>必须</em>支持的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
              id="ref-for-event-handlers">事件处理程序</a>（及其对应的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
              id="ref-for-event-handler-event-type">事件处理程序事件类型</a>），作为<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"
              id="ref-for-event-handler-idl-attributes">事件处理程序 IDL 属性</a>：</p>
          <table class="data">
            <thead>
              <tr>
                <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                    id="ref-for-event-handlers①">事件处理程序</a>
                </th>
                <th><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                    id="ref-for-event-handler-event-type①">事件处理程序事件类型</a>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="attribute" data-export
                    id="dom-serviceworker-onstatechange"><code>onstatechange</code></dfn>
                </td>
                <td><code
                    class="idl"><a data-link-type="idl" href="#eventdef-serviceworker-statechange" id="ref-for-eventdef-serviceworker-statechange">statechange</a></code>
                </td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>
      <section>
        <h3 class="heading settled" data-level="3.2" id="serviceworkerregistration-interface"><span class="secno">3.2.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①">ServiceWorkerRegistration</a></code></span><a
            class="self-link" href="#serviceworkerregistration-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="serviceworkerregistration"><code><c- g>ServiceWorkerRegistration</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker①①"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-installing" id="ref-for-dom-serviceworkerregistration-installing"><c- g>installing</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker①②"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-waiting" id="ref-for-dom-serviceworkerregistration-waiting"><c- g>waiting</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker①③"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-active" id="ref-for-dom-serviceworkerregistration-active"><c- g>active</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationpreloadmanager" id="ref-for-navigationpreloadmanager①"><c- n>NavigationPreloadManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationPreloadManager" href="#dom-serviceworkerregistration-navigationpreload" id="ref-for-dom-serviceworkerregistration-navigationpreload"><c- g>navigationPreload</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-serviceworkerregistration-scope" id="ref-for-dom-serviceworkerregistration-scope"><c- g>scope</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-serviceworkerupdateviacache" id="ref-for-enumdef-serviceworkerupdateviacache"><c- n>ServiceWorkerUpdateViaCache</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerUpdateViaCache" href="#dom-serviceworkerregistration-updateviacache" id="ref-for-dom-serviceworkerregistration-updateviacache"><c- g>updateViaCache</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkerregistration-update" id="ref-for-dom-serviceworkerregistration-update"><c- g>update</c-></a>();
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkerregistration-unregister" id="ref-for-dom-serviceworkerregistration-unregister"><c- g>unregister</c-></a>();

  // event
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerregistration-onupdatefound" id="ref-for-dom-serviceworkerregistration-onupdatefound"><c- g>onupdatefound</c-></a>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-serviceworkerupdateviacache"><code><c- g>ServiceWorkerUpdateViaCache</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerUpdateViaCache" data-dfn-type="enum-value" data-export id="dom-serviceworkerupdateviacache-imports"><code><c- s>"imports"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerUpdateViaCache" data-dfn-type="enum-value" data-export id="dom-serviceworkerupdateviacache-all"><code><c- s>"all"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerUpdateViaCache" data-dfn-type="enum-value" data-export id="dom-serviceworkerupdateviacache-none"><code><c- s>"none"</c-></code></dfn>
};
</pre>
        <p><code
            class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration②">ServiceWorkerRegistration</a></code>
          有一个 <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="dfn" data-export
            id="serviceworkerregistration-service-worker-registration">service worker
            registration</dfn>（一个 <a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration②⑨">service worker registration</a>）。</p>
        <section>
          <h4 class="heading settled" data-level="3.2.1" id="service-worker-registration-creation"><span
              class="secno">3.2.1. </span><span class="content">获取 <code
                class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration③">ServiceWorkerRegistration</a></code>
              实例</span><a class="self-link" href="#service-worker-registration-creation"></a></h4>
          <p><a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
              id="ref-for-environment-settings-object④">environment settings object</a> 有一个 <dfn class="dfn-paneled"
              data-dfn-for="environment settings object" data-dfn-type="dfn" data-noexport
              id="environment-settings-object-service-worker-registration-object-map">service worker
              registration object map</dfn>，这是一个 <a data-link-type="dfn"
              href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">map</a>，其中 <a
              data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys"
              id="ref-for-map-getting-the-keys①">key</a> 是 <a data-link-type="dfn"
              href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③⓪">service worker
              registration</a>，<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values"
              id="ref-for-map-getting-the-values①">value</a> 是 <code
              class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration④">ServiceWorkerRegistration</a></code>
            对象。</p>
          <section class="algorithm" data-algorithm="service-worker-registration-creation-algorithm">
            要<dfn class="dfn-paneled" data-dfn-type="dfn"
              data-lt="get the service worker registration object|getting the service worker registration object"
              data-noexport id="get-the-service-worker-registration-object">获取表示</dfn>
            <var>registration</var>（一个 <a data-link-type="dfn" href="#dfn-service-worker-registration"
              id="ref-for-dfn-service-worker-registration③①">service worker registration</a>）在
            <var>environment</var>（一个 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
              id="ref-for-environment-settings-object⑤">environment settings object</a>）中的 service worker
            registration 对象，运行以下步骤：
            <ol>
              <li data-md>
                <p>让 <var>objectMap</var> 为 <var>environment</var> 的 <a data-link-type="dfn"
                    href="#environment-settings-object-service-worker-registration-object-map"
                    id="ref-for-environment-settings-object-service-worker-registration-object-map">service
                    worker registration object map</a>。</p>
              </li>
              <li data-md>
                <p>如果 <var>objectMap</var>[<var>registration</var>] 不<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">存在</a>，则：</p>
                <ol>
                  <li data-md>
                    <p>让 <var>registrationObject</var> 为 <var>environment</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm"
                        id="ref-for-environment-settings-object&apos;s-realm①">Realm</a> 中的一个新的
                      <code
                        class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration⑤">ServiceWorkerRegistration</a></code>。
                    </p>
                  </li>
                  <li data-md>
                    <p>设置 <var>registrationObject</var> 的 <a data-link-type="dfn"
                        href="#serviceworkerregistration-service-worker-registration"
                        id="ref-for-serviceworkerregistration-service-worker-registration">service
                        worker registration</a> 为 <var>registration</var>。</p>
                  </li>
                  <li data-md>
                    <p>设置 <var>registrationObject</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-installing" id="ref-for-dom-serviceworkerregistration-installing①">installing</a></code>
                      属性为 null。</p>
                  </li>
                  <li data-md>
                    <p>设置 <var>registrationObject</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-waiting" id="ref-for-dom-serviceworkerregistration-waiting①">waiting</a></code>
                      属性为 null。</p>
                  </li>
                  <li data-md>
                    <p>设置 <var>registrationObject</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-active" id="ref-for-dom-serviceworkerregistration-active①">active</a></code>
                      属性为 null。</p>
                  </li>
                  <li data-md>
                    <p>如果 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-installing-worker"
                        id="ref-for-dfn-installing-worker③">installing worker</a> 不为 null，则设置
                      <var>registrationObject</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-installing" id="ref-for-dom-serviceworkerregistration-installing②">installing</a></code>
                      属性为<a data-link-type="dfn" href="#get-the-service-worker-object"
                        id="ref-for-get-the-service-worker-object①">获取表示</a>
                      <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-installing-worker"
                        id="ref-for-dfn-installing-worker④">installing worker</a> 在
                      <var>environment</var> 中的 service worker 对象的结果。
                    </p>
                  </li>
                  <li data-md>
                    <p>如果 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-waiting-worker"
                        id="ref-for-dfn-waiting-worker②">waiting
                        worker</a> 不为 null，则设置 <var>registrationObject</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-waiting" id="ref-for-dom-serviceworkerregistration-waiting②">waiting</a></code>
                      属性为<a data-link-type="dfn" href="#get-the-service-worker-object"
                        id="ref-for-get-the-service-worker-object②">获取表示</a>
                      <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-waiting-worker"
                        id="ref-for-dfn-waiting-worker③">waiting worker</a> 在
                      <var>environment</var> 中的 service worker 对象的结果。
                    </p>
                  </li>
                  <li data-md>
                    <p>如果 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                        id="ref-for-dfn-active-worker⑦">active
                        worker</a> 不为 null，则设置 <var>registrationObject</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-active" id="ref-for-dom-serviceworkerregistration-active②">active</a></code>
                      属性为<a data-link-type="dfn" href="#get-the-service-worker-object"
                        id="ref-for-get-the-service-worker-object③">获取表示</a>
                      <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                        id="ref-for-dfn-active-worker⑧">active worker</a> 在
                      <var>environment</var> 中的 service worker 对象的结果。
                    </p>
                  </li>
                  <li data-md>
                    <p>设置 <var>objectMap</var>[<var>registration</var>] 为
                      <var>registrationObject</var>。
                    </p>
                  </li>
                </ol>
              </li>
              <li data-md>
                <p>返回 <var>objectMap</var>[<var>registration</var>]。</p>
              </li>
            </ol>
          </section>
        </section>
        <section class="algorithm" data-algorithm="navigator-service-worker-installing">
          <h4 class="heading settled" data-level="3.2.2" id="navigator-service-worker-installing"><span
              class="secno">3.2.2. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-installing" id="ref-for-dom-serviceworkerregistration-installing③">installing</a></code></span><a
              class="self-link" href="#navigator-service-worker-installing"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute"
              data-export id="dom-serviceworkerregistration-installing"><code>installing</code></dfn>
            属性<em>必须</em>返回最后设置的值。
          </p>
          <p class="note" role="note"><span class="marker">注：</span>在一个 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm"
              id="ref-for-environment-settings-object&apos;s-realm②">Realm</a> 中，每个关联的 <a data-link-type="dfn"
              href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤②">service
              worker</a> 只有一个 <code
              class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①④">ServiceWorker</a></code>
            对象。</p>
        </section>
        <section class="algorithm" data-algorithm="navigator-service-worker-waiting">
          <h4 class="heading settled" data-level="3.2.3" id="navigator-service-worker-waiting"><span
              class="secno">3.2.3. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-waiting" id="ref-for-dom-serviceworkerregistration-waiting③">waiting</a></code></span><a
              class="self-link" href="#navigator-service-worker-waiting"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute"
              data-export id="dom-serviceworkerregistration-waiting"><code>waiting</code></dfn> 属性<em>必须</em>返回最后设置的值。
          </p>
          <p class="note" role="note"><span class="marker">注：</span>在一个 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm"
              id="ref-for-environment-settings-object&apos;s-realm③">Realm</a> 中，每个关联的 <a data-link-type="dfn"
              href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤③">service
              worker</a> 只有一个 <code
              class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①⑤">ServiceWorker</a></code>
            对象。</p>
        </section>
        <section class="algorithm" data-algorithm="navigator-service-worker-active">
          <h4 class="heading settled" data-level="3.2.4" id="navigator-service-worker-active"><span class="secno">3.2.4.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-active" id="ref-for-dom-serviceworkerregistration-active③">active</a></code></span><a
              class="self-link" href="#navigator-service-worker-active"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute"
              data-export id="dom-serviceworkerregistration-active"><code>active</code></dfn> 属性<em>必须</em>返回最后设置的值。
          </p>
          <p class="note" role="note"><span class="marker">注：</span>在一个 <a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm"
              id="ref-for-environment-settings-object&apos;s-realm④">Realm</a> 中，每个关联的 <a data-link-type="dfn"
              href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤④">service
              worker</a> 只有一个 <code
              class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①⑥">ServiceWorker</a></code>
            对象。</p>
        </section>
        <section class="algorithm" data-algorithm="service-worker-registration-navigationpreload">
          <h4 class="heading settled" data-level="3.2.5" id="service-worker-registration-navigationpreload">
            <span class="secno">3.2.5. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-navigationpreload" id="ref-for-dom-serviceworkerregistration-navigationpreload①">navigationPreload</a></code></span><a
              class="self-link" href="#service-worker-registration-navigationpreload"></a>
          </h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute"
              data-export id="dom-serviceworkerregistration-navigationpreload"><code>navigationPreload</code></dfn>
            获取器步骤是返回 <a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration"
              id="ref-for-serviceworkerregistration-service-worker-registration①">service worker
              registration</a> 的 <code
              class="idl"><a data-link-type="idl" href="#navigationpreloadmanager" id="ref-for-navigationpreloadmanager②">NavigationPreloadManager</a></code>
            对象。</p>
        </section>
        <section class="algorithm" data-algorithm="service-worker-registration-scope">
          <h4 class="heading settled" data-level="3.2.6" id="service-worker-registration-scope"><span
              class="secno">3.2.6. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-scope" id="ref-for-dom-serviceworkerregistration-scope①">scope</a></code></span><a
              class="self-link" href="#service-worker-registration-scope"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute"
              data-export id="dom-serviceworkerregistration-scope"><code>scope</code></dfn> 获取器步骤是返回 <a
              data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration"
              id="ref-for-serviceworkerregistration-service-worker-registration②">service worker
              registration</a> 的<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer"
              id="ref-for-concept-url-serializer③">序列化</a>的 <a data-link-type="dfn" href="#dfn-scope-url"
              id="ref-for-dfn-scope-url⑤">scope url</a>。</p>
          <div class="example" id="example-0146b4b0"><a class="self-link" href="#example-0146b4b0"></a> 在 <a
              href="#service-worker-url">§ 3.1.2 scriptURL</a> 的示例中，<code>registration.scope</code> 的值，例如从
            <code>navigator.serviceWorker.ready.then(registration => console.log(registration.scope))</code>
            获得，将是 "<code>https://example.com/</code>"。
          </div>
        </section>
        <section class="algorithm" data-algorithm="service-worker-registration-updateviacache">
          <h4 class="heading settled" data-level="3.2.7" id="service-worker-registration-updateviacache"><span
              class="secno">3.2.7. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-updateviacache" id="ref-for-dom-serviceworkerregistration-updateviacache①">updateViaCache</a></code></span><a
              class="self-link" href="#service-worker-registration-updateviacache"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute"
              data-export id="dom-serviceworkerregistration-updateviacache"><code>updateViaCache</code></dfn> 获取器步骤是返回
            <a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration"
              id="ref-for-serviceworkerregistration-service-worker-registration③">service worker
              registration</a> 的 <a data-link-type="dfn" href="#dfn-update-via-cache"
              id="ref-for-dfn-update-via-cache">update via cache mode</a>。
          </p>
        </section>
        <section class="algorithm" data-algorithm="service-worker-registration-update">
          <h4 class="heading settled" data-level="3.2.8" id="service-worker-registration-update"><span
              class="secno">3.2.8. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-update" id="ref-for-dom-serviceworkerregistration-update①">update()</a></code></span><a
              class="self-link" href="#service-worker-registration-update"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="method"
              data-export id="dom-serviceworkerregistration-update"><code>update()</code></dfn> 方法步骤是：</p>
          <ol>
            <li data-md>
              <p>让 <var>registration</var> 为 <a data-link-type="dfn"
                  href="#serviceworkerregistration-service-worker-registration"
                  id="ref-for-serviceworkerregistration-service-worker-registration④">service worker
                  registration</a>。</p>
            </li>
            <li data-md>
              <p>让 <var>newestWorker</var> 为以 <var>registration</var> 作为参数运行 <a data-link-type="dfn"
                  href="#get-newest-worker" id="ref-for-get-newest-worker">Get Newest Worker</a>
                算法的结果。</p>
            </li>
            <li data-md>
              <p>如果 <var>newestWorker</var> 为 null，返回<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                  id="ref-for-a-promise-rejected-with">一个被拒绝的 promise</a>，拒绝理由为 "<code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>"
                <code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>，并中止这些步骤。
              </p>
            </li>
            <li data-md>
              <p>如果<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">此对象</a>的 <a
                  data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                  id="ref-for-concept-relevant-global">relevant global object</a>
                <var>globalObject</var> 是一个 <code
                  class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope③">ServiceWorkerGlobalScope</a></code>
                对象，且 <var>globalObject</var> 的关联 <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker"
                  id="ref-for-serviceworkerglobalscope-service-worker①">service worker</a> 的 <a data-link-type="dfn"
                  href="#dfn-state" id="ref-for-dfn-state⑤">state</a> 是
                "<code>installing</code>"，返回<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                  id="ref-for-a-promise-rejected-with①">一个被拒绝的 promise</a>，拒绝理由为 "<code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>"
                <code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>，并中止这些步骤。
              </p>
            </li>
            <li data-md>
              <p>让 <var>promise</var> 为一个 <a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects">promise</a>。</p>
            </li>
            <li data-md>
              <p>让 <var>job</var> 为使用 <em>update</em>、<var>registration</var> 的 <a data-link-type="dfn"
                  href="#service-worker-registration-storage-key"
                  id="ref-for-service-worker-registration-storage-key②">storage
                  key</a>、<var>registration</var> 的 <a data-link-type="dfn" href="#dfn-scope-url"
                  id="ref-for-dfn-scope-url⑥">scope url</a>、<var>newestWorker</var> 的 <a data-link-type="dfn"
                  href="#dfn-script-url" id="ref-for-dfn-script-url①">script
                  url</a>、<var>promise</var> 和<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this②">此对象</a>的 <a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                  id="ref-for-relevant-settings-object②">relevant settings object</a> 运行 <a data-link-type="dfn"
                  href="#create-job" id="ref-for-create-job">Create Job</a> 的结果。
              </p>
            </li>
            <li data-md>
              <p>设置 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-worker-type"
                  id="ref-for-dfn-job-worker-type">worker type</a> 为 <var>newestWorker</var> 的 <a data-link-type="dfn"
                  href="#dfn-type" id="ref-for-dfn-type">type</a>。</p>
            </li>
            <li data-md>
              <p>使用 <var>job</var> 调用 <a data-link-type="dfn" href="#schedule-job" id="ref-for-schedule-job">Schedule
                  Job</a>。</p>
            </li>
            <li data-md>
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="navigator-service-worker-unregister">
          <h4 class="heading settled" data-level="3.2.9" id="navigator-service-worker-unregister"><span
              class="secno">3.2.9. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-unregister" id="ref-for-dom-serviceworkerregistration-unregister①">unregister()</a></code></span><a
              class="self-link" href="#navigator-service-worker-unregister"></a></h4>
          <p class="note" role="note"><span class="marker">注：</span><code
              class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-unregister" id="ref-for-dom-serviceworkerregistration-unregister②">unregister()</a></code>
            方法注销 <a data-link-type="dfn" href="#dfn-service-worker-registration"
              id="ref-for-dfn-service-worker-registration③②">service worker registration</a>。重要的是要注意，当前<a
              data-link-type="dfn" href="#dfn-control" id="ref-for-dfn-control①">受控</a>的 <a data-link-type="dfn"
              href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①⑨">service worker client</a> 的 <a
              data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
              id="ref-for-concept-environment-active-service-worker①⑦">active service worker</a> 的 <a
              data-link-type="dfn" href="#dfn-containing-service-worker-registration"
              id="ref-for-dfn-containing-service-worker-registration①">containing service worker
              registration</a> 在所有使用此 <a data-link-type="dfn" href="#dfn-service-worker-registration"
              id="ref-for-dfn-service-worker-registration③③">service worker registration</a> 的 <a data-link-type="dfn"
              href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②⓪">service worker
              client</a>（包括自身）卸载之前一直有效。也就是说，<code
              class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-unregister" id="ref-for-dom-serviceworkerregistration-unregister③">unregister()</a></code>
            方法只影响后续的<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
              id="ref-for-navigate③">导航</a>。</p>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="method"
              data-export id="dom-serviceworkerregistration-unregister"><code>unregister()</code></dfn>
            方法步骤是：</p>
          <ol>
            <li data-md>
              <p>让 <var>registration</var> 为 <a data-link-type="dfn"
                  href="#serviceworkerregistration-service-worker-registration"
                  id="ref-for-serviceworkerregistration-service-worker-registration⑤">service worker
                  registration</a>。</p>
            </li>
            <li data-md>
              <p>让 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                  id="ref-for-a-new-promise">一个新的
                  promise</a>。</p>
            </li>
            <li data-md>
              <p>让 <var>job</var> 为使用 <em>unregister</em>、<var>registration</var> 的 <a data-link-type="dfn"
                  href="#service-worker-registration-storage-key"
                  id="ref-for-service-worker-registration-storage-key③">storage
                  key</a>、<var>registration</var> 的 <a data-link-type="dfn" href="#dfn-scope-url"
                  id="ref-for-dfn-scope-url⑦">scope url</a>、null、<var>promise</var> 和<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">此对象</a>的 <a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                  id="ref-for-relevant-settings-object③">relevant settings object</a> 运行 <a data-link-type="dfn"
                  href="#create-job" id="ref-for-create-job①">Create Job</a> 的结果。
              </p>
            </li>
            <li data-md>
              <p>使用 <var>job</var> 调用 <a data-link-type="dfn" href="#schedule-job" id="ref-for-schedule-job①">Schedule
                  Job</a>。</p>
            </li>
            <li data-md>
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section>
          <h4 class="heading settled" data-level="3.2.10" id="service-worker-registration-event-handler"><span
              class="secno">3.2.10. </span><span class="content">事件处理程序</span><a class="self-link"
              href="#service-worker-registration-event-handler"></a></h4>
          <p>以下是所有实现 <code
              class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration⑥">ServiceWorkerRegistration</a></code>
            接口的对象<em>必须</em>支持的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
              id="ref-for-event-handlers②">事件处理程序</a>（及其对应的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
              id="ref-for-event-handler-event-type②">事件处理程序事件类型</a>），作为<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"
              id="ref-for-event-handler-idl-attributes①">事件处理程序 IDL 属性</a>：</p>
          <table class="data">
            <thead>
              <tr>
                <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                    id="ref-for-event-handlers③">事件处理程序</a>
                </th>
                <th><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                    id="ref-for-event-handler-event-type③">事件处理程序事件类型</a>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute"
                    data-export id="dom-serviceworkerregistration-onupdatefound"><code>onupdatefound</code></dfn>
                </td>
                <td><code
                    class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-registration-updatefound-event" id="ref-for-service-worker-registration-updatefound-event">updatefound</a></code>
                </td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>
      <section>
        <h3 class="heading settled" data-level="3.3" id="navigator-serviceworker"><span class="secno">3.3.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#navigator-service-worker-attribute" id="ref-for-navigator-service-worker-attribute">navigator.serviceWorker</a></code></span><a
            class="self-link" href="#navigator-serviceworker"></a></h3>
        <pre class="idl highlight def"><c-b>partial</c-b> <c-b>interface</c-b> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator"><c-g>Navigator</c-g></a> {
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c-g>SecureContext</c-g></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject①"><c-g>SameObject</c-g></a>] <c-b>readonly</c-b> <c-b>attribute</c-b> <a data-link-type="idl-name" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer"><c-n>ServiceWorkerContainer</c-n></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="ServiceWorkerContainer" href="#navigator-service-worker-attribute" id="ref-for-navigator-service-worker-attribute①"><c-g>serviceWorker</c-g></a>;
            };
            
            <c-b>partial</c-b> <c-b>interface</c-b> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator" id="ref-for-workernavigator"><c-g>WorkerNavigator</c-g></a> {
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext③"><c-g>SecureContext</c-g></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject②"><c-g>SameObject</c-g></a>] <c-b>readonly</c-b> <c-b>attribute</c-b> <a data-link-type="idl-name" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①"><c-n>ServiceWorkerContainer</c-n></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="ServiceWorkerContainer" href="#navigator-service-worker-attribute" id="ref-for-navigator-service-worker-attribute②"><c-g>serviceWorker</c-g></a>;
            };
            </pre>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="Navigator,WorkerNavigator" data-dfn-type="attribute"
            data-export="" id="navigator-service-worker-attribute"><code>serviceWorker</code></dfn> getter
          的步骤是返回与<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">此对象</a>关联的 <code
            class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer②">ServiceWorkerContainer</a></code>
          对象。</p>
      </section>
      <section>
        <h3 class="heading settled" data-level="3.4" id="serviceworkercontainer-interface"><span class="secno">3.4.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer③">ServiceWorkerContainer</a></code></span><a
            class="self-link" href="#serviceworkercontainer-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext④"><c-g>SecureContext</c-g></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c-g>Exposed</c-g></a>=(<c-n>Window</c-n>,<c-n>Worker</c-n>)]
            <c-b>interface</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="serviceworkercontainer"><code><c-g>ServiceWorkerContainer</c-g></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget②"><c-n>EventTarget</c-n></a> {
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker①⑦"><c-n>ServiceWorker</c-n></a>? <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="ServiceWorker?" href="#dom-serviceworkercontainer-controller" id="ref-for-dom-serviceworkercontainer-controller"><c-g>controller</c-g></a>;
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c-b>Promise</c-b></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration⑦"><c-n>ServiceWorkerRegistration</c-n></a>&gt; <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="Promise<ServiceWorkerRegistration>" href="#dom-serviceworkercontainer-ready" id="ref-for-dom-serviceworkercontainer-ready"><c-g>ready</c-g></a>;
            
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject②"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c-b>Promise</c-b></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration⑧"><c-n>ServiceWorkerRegistration</c-n></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-register" id="ref-for-dom-serviceworkercontainer-register"><c-g>register</c-g></a>((<a data-link-type="idl-name" href="https://www.w3.org/TR/trusted-types/#trustedscripturl" id="ref-for-trustedscripturl"><c-n>TrustedScriptURL</c-n></a> <c-b>or</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c-b>USVString</c-b></a>) <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer/register(scriptURL, options), ServiceWorkerContainer/register(scriptURL)" data-dfn-type="argument" data-export="" id="dom-serviceworkercontainer-register-scripturl-options-scripturl"><code><c-g>scriptURL</c-g></code></dfn>, <c-b>optional</c-b> <a data-link-type="idl-name" href="#dictdef-registrationoptions" id="ref-for-dictdef-registrationoptions"><c-n>RegistrationOptions</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer/register(scriptURL, options), ServiceWorkerContainer/register(scriptURL)" data-dfn-type="argument" data-export="" id="dom-serviceworkercontainer-register-scripturl-options-options"><code><c-g>options</c-g></code></dfn> = {});
            
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject③"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c-b>Promise</c-b></a>&lt;(<a data-link-type="idl-name" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration⑨"><c-n>ServiceWorkerRegistration</c-n></a> <c-b>or</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③"><c-b>undefined</c-b></a>)&gt; <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-getregistration" id="ref-for-dom-serviceworkercontainer-getregistration"><c-g>getRegistration</c-g></a>(<c-b>optional</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③"><c-b>USVString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer/getRegistration(clientURL), ServiceWorkerContainer/getRegistration()" data-dfn-type="argument" data-export="" id="dom-serviceworkercontainer-getregistration-clienturl-clienturl"><code><c-g>clientURL</c-g></code></dfn> = "");
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject④"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c-b>FrozenArray</c-b></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①⓪"><c-n>ServiceWorkerRegistration</c-n></a>&gt;&gt; <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-getregistrations" id="ref-for-dom-serviceworkercontainer-getregistrations"><c-g>getRegistrations</c-g></a>();
            
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④"><c-b>undefined</c-b></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-startmessages" id="ref-for-dom-serviceworkercontainer-startmessages"><c-g>startMessages</c-g></a>();
            
            
              // 事件
              <c-b>attribute</c-b> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c-n>EventHandler</c-n></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-oncontrollerchange" id="ref-for-dom-serviceworkercontainer-oncontrollerchange"><c-g>oncontrollerchange</c-g></a>;
              <c-b>attribute</c-b> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③"><c-n>EventHandler</c-n></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-onmessage" id="ref-for-dom-serviceworkercontainer-onmessage"><c-g>onmessage</c-g></a>; // message 事件的 event.source 是 ServiceWorker 对象
              <c-b>attribute</c-b> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④"><c-n>EventHandler</c-n></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-onmessageerror" id="ref-for-dom-serviceworkercontainer-onmessageerror"><c-g>onmessageerror</c-g></a>;
            };
            </pre>
        <pre class="idl highlight def" id="registration-option-list-dictionary"><c-b>dictionary</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-registrationoptions"><code><c-g>RegistrationOptions</c-g></code></dfn> {
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④"><c-b>USVString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RegistrationOptions" data-dfn-type="dict-member" data-export="" data-type="USVString" id="dom-registrationoptions-scope"><code><c-g>scope</c-g></code></dfn>;
              <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#workertype" id="ref-for-workertype"><c-n>WorkerType</c-n></a> <dfn class="dfn-paneled idl-code" data-default="&quot;classic&quot;" data-dfn-for="RegistrationOptions" data-dfn-type="dict-member" data-export="" data-type="WorkerType" id="dom-registrationoptions-type"><code><c-g>type</c-g></code></dfn> = "classic";
              <a data-link-type="idl-name" href="#enumdef-serviceworkerupdateviacache" id="ref-for-enumdef-serviceworkerupdateviacache①"><c-n>ServiceWorkerUpdateViaCache</c-n></a> <dfn class="dfn-paneled idl-code" data-default="&quot;imports&quot;" data-dfn-for="RegistrationOptions" data-dfn-type="dict-member" data-export="" data-type="ServiceWorkerUpdateViaCache" id="dom-registrationoptions-updateviacache"><code><c-g>updateViaCache</c-g></code></dfn> = "imports";
            };
            </pre>
        <p>用户代理在创建 <code
            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator①">Navigator</a></code>
          对象或 <code
            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator" id="ref-for-workernavigator①">WorkerNavigator</a></code>
          对象时<em>必须</em>创建一个 <code
            class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer④">ServiceWorkerContainer</a></code>
          对象，并将其与该对象关联。</p>
        <p><code
            class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer⑤">ServiceWorkerContainer</a></code>
          提供了注册、注销和更新<a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration③④">服务工作线程注册</a>的功能，并提供对<a data-link-type="dfn"
            href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③⑤">服务工作线程注册</a>及其关联的<a
            data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⑤">服务工作线程</a>状态的访问。</p>
        <p><code
            class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer⑥">ServiceWorkerContainer</a></code>
          具有一个关联的<dfn class="dfn-paneled" data-dfn-for="ServiceWorkerContainer" data-dfn-type="dfn" data-noexport=""
            id="serviceworkercontainer-service-worker-client">服务工作线程客户端</dfn>，它是一个<a data-link-type="dfn"
            href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②①">服务工作线程客户端</a>，其<a
            data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
            id="ref-for-concept-settings-object-global④">全局对象</a>与从中检索 <code
            class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer⑦">ServiceWorkerContainer</a></code>
          的 <code
            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator②">Navigator</a></code>
          对象或 <code
            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator" id="ref-for-workernavigator②">WorkerNavigator</a></code>
          对象相关联。</p>
        <p><code
            class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer⑧">ServiceWorkerContainer</a></code>
          对象具有一个关联的<dfn class="dfn-paneled" data-dfn-for="ServiceWorkerContainer" data-dfn-type="dfn" data-noexport=""
            id="serviceworkercontainer-ready-promise">就绪 promise</dfn>（一个<a data-link-type="dfn"
            href="http://tc39.github.io/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①">promise</a> 或
          null）。它最初为 null。</p>
        <p><code
            class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer⑨">ServiceWorkerContainer</a></code>
          对象具有一个名为<dfn class="dfn-paneled" data-dfn-for="ServiceWorkerContainer" data-dfn-type="dfn" data-export=""
            id="dfn-client-message-queue">客户端消息队列</dfn>的<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
            id="ref-for-task-source③">任务源</a>，最初为空。<a data-link-type="dfn" href="#dfn-client-message-queue"
            id="ref-for-dfn-client-message-queue">客户端消息队列</a>可以启用或禁用，并且最初是禁用的。当 <code
            class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①⓪">ServiceWorkerContainer</a></code>
          对象的<a data-link-type="dfn" href="#dfn-client-message-queue"
            id="ref-for-dfn-client-message-queue①">客户端消息队列</a>启用时，<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
            id="ref-for-event-loop⑤">事件循环</a><em>必须</em>将其用作其<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
            id="ref-for-task-source④">任务源</a>之一。当 <code
            class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①①">ServiceWorkerContainer</a></code>
          对象的<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
            id="ref-for-concept-relevant-global①">相关全局对象</a>是 <code
            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window②">Window</a></code>
          对象时，在其<a data-link-type="dfn" href="#dfn-client-message-queue"
            id="ref-for-dfn-client-message-queue②">客户端消息队列</a>上<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
            id="ref-for-queue-a-task②">排队</a>的所有<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
            id="ref-for-concept-task②">任务</a><em>必须</em>与其<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
            id="ref-for-relevant-settings-object④">相关设置对象</a>的<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
            id="ref-for-concept-document-window">关联文档</a>相关联。
        </p>
        <section class="algorithm" data-algorithm="navigator-service-worker-controller">
          <h4 class="heading settled" data-level="3.4.1" id="navigator-service-worker-controller"><span
              class="secno">3.4.1. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-controller" id="ref-for-dom-serviceworkercontainer-controller①">controller</a></code></span><a
              class="self-link" href="#navigator-service-worker-controller"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="attribute"
              data-export="" id="dom-serviceworkercontainer-controller"><code>controller</code></dfn>
            属性<em>必须</em>运行以下步骤：</p>
          <ol>
            <li data-md="">
              <p>令 <var>client</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this⑤">此对象</a>的<a data-link-type="dfn"
                  href="#serviceworkercontainer-service-worker-client"
                  id="ref-for-serviceworkercontainer-service-worker-client">服务工作线程客户端</a>。</p>
            </li>
            <li data-md="">
              <p>如果 <var>client</var> 的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                  id="ref-for-concept-environment-active-service-worker①⑧">活动服务工作线程</a>为 null，则返回
                null。</p>
            </li>
            <li data-md="">
              <p>返回<a data-link-type="dfn" href="#get-the-service-worker-object"
                  id="ref-for-get-the-service-worker-object④">获取服务工作线程对象</a>的结果，该对象表示<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">此对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                  id="ref-for-relevant-settings-object⑤">相关设置对象</a>中 <var>client</var> 的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                  id="ref-for-concept-environment-active-service-worker①⑨">活动服务工作线程</a>。</p>
            </li>
          </ol>
          <p class="note" role="note"><span class="marker">注意：</span>如果请求是强制刷新（shift+refresh），则 <code
              class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-controller" id="ref-for-dom-serviceworkercontainer-controller②">navigator.serviceWorker.controller</a></code>
            返回 <code>null</code>。</p>
        </section>
        <section class="algorithm" data-algorithm="navigator-service-worker-ready">
          <h4 class="heading settled" data-level="3.4.2" id="navigator-service-worker-ready"><span class="secno">3.4.2.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-ready" id="ref-for-dom-serviceworkercontainer-ready①">ready</a></code></span><a
              class="self-link" href="#navigator-service-worker-ready"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="attribute"
              data-export="" id="dom-serviceworkercontainer-ready"><code>ready</code></dfn>
            属性<em>必须</em>运行以下步骤：
          </p>
          <ol>
            <li data-md="">
              <p>如果<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">此对象</a>的<a
                  data-link-type="dfn" href="#serviceworkercontainer-ready-promise"
                  id="ref-for-serviceworkercontainer-ready-promise">就绪 promise</a> 为 null，则将<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">此对象</a>的<a data-link-type="dfn"
                  href="#serviceworkercontainer-ready-promise" id="ref-for-serviceworkercontainer-ready-promise①">就绪
                  promise</a> 设置为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                  id="ref-for-a-new-promise①">一个新的 promise</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>readyPromise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this⑨">此对象</a>的<a data-link-type="dfn" href="#serviceworkercontainer-ready-promise"
                  id="ref-for-serviceworkercontainer-ready-promise②">就绪 promise</a>。</p>
            </li>
            <li data-md="">
              <p>如果 <var>readyPromise</var> 处于 pending 状态，则<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel①">并行</a>运行以下子步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>client</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                      id="ref-for-this①⓪">此对象</a>的<a data-link-type="dfn"
                      href="#serviceworkercontainer-service-worker-client"
                      id="ref-for-serviceworkercontainer-service-worker-client①">服务工作线程客户端</a>。
                  </p>
                </li>
                <li data-md="">
                  <p>令 <var>storage key</var> 为运行<a data-link-type="dfn"
                      href="https://storage.spec.whatwg.org/#obtain-a-storage-key"
                      id="ref-for-obtain-a-storage-key">获取存储密钥</a>（给定 client）的结果。</p>
                </li>
                <li data-md="">
                  <p>令 <var>registration</var> 为运行<a data-link-type="dfn" href="#match-service-worker-registration"
                      id="ref-for-match-service-worker-registration③">匹配服务工作线程注册</a>（给定
                    <var>storage key</var> 和 <var>client</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                      id="ref-for-concept-environment-creation-url①">创建 URL</a>）的结果。
                  </p>
                </li>
                <li data-md="">
                  <p>如果 <var>registration</var> 不为 null，并且 <var>registration</var> 的<a data-link-type="dfn"
                      href="#dfn-active-worker" id="ref-for-dfn-active-worker⑨">活动工作线程</a>不为 null，则在
                    <var>readyPromise</var>
                    的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                      id="ref-for-relevant-settings-object⑥">相关设置对象</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                      id="ref-for-responsible-event-loop">负责事件循环</a>上，使用<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source①">DOM 操作任务源</a><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task③">将任务排队</a>，以使用<a data-link-type="dfn"
                      href="#get-the-service-worker-registration-object"
                      id="ref-for-get-the-service-worker-registration-object">获取服务工作线程注册对象</a>（表示
                    <var>readyPromise</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                      id="ref-for-relevant-settings-object⑦">相关设置对象</a>中的
                    <var>registration</var>）的结果来解析 <var>readyPromise</var>。
                  </p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>readyPromise</var>。</p>
            </li>
          </ol>
          <p class="note" role="note"><span class="marker">注意：</span>返回的<a data-link-type="dfn"
              href="#serviceworkercontainer-ready-promise" id="ref-for-serviceworkercontainer-ready-promise③">就绪
              promise</a>
            永远不会拒绝。如果它在此算法中没有解析，它最终会在匹配的<a data-link-type="dfn" href="#dfn-service-worker-registration"
              id="ref-for-dfn-service-worker-registration③⑥">服务工作线程注册</a>被注册并且其<a data-link-type="dfn"
              href="#dfn-active-worker" id="ref-for-dfn-active-worker①⓪">活动工作线程</a>被设置时解析。（请参阅相关的<a
              href="#activate-resolve-ready-step">激活算法步骤</a>。）</p>
        </section>
        <section class="algorithm" data-algorithm="navigator-service-worker-register">
          <h4 class="heading settled" data-level="3.4.3" id="navigator-service-worker-register"><span
              class="secno">3.4.3. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-register" id="ref-for-dom-serviceworkercontainer-register①">register(scriptURL, options)</a></code></span><a
              class="self-link" href="#navigator-service-worker-register"></a></h4>
          <p class="note" role="note"><span class="marker">注意：</span><code
              class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-register" id="ref-for-dom-serviceworkercontainer-register②">register(scriptURL, options)</a></code>
            方法为给定的<a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url⑧">作用域 URL</a>
            创建或更新<a data-link-type="dfn" href="#dfn-service-worker-registration"
              id="ref-for-dfn-service-worker-registration③⑦">服务工作线程注册</a>。如果成功，<a data-link-type="dfn"
              href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③⑧">服务工作线程注册</a>会将提供的
            <var>scriptURL</var>
            绑定到一个<a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url⑨">作用域 URL</a>，该 URL
            随后用于<a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch①">导航匹配</a>。
          </p>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="method"
              data-export="" data-lt="register(scriptURL, options)|register(scriptURL)"
              id="dom-serviceworkercontainer-register"><code>register(<var>scriptURL</var>, <var>options</var>)</code></dfn>
            方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>p</var> 为一个<a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects②">promise</a>。</p>
            </li>
            <li data-md="">
              <p>将 <var>scriptURL</var> 设置为调用<a data-link-type="abstract-op"
                  href="https://www.w3.org/TR/trusted-types/#abstract-opdef-get-trusted-type-compliant-string"
                  id="ref-for-abstract-opdef-get-trusted-type-compliant-string">获取受信任类型兼容字符串</a>的结果，参数为
                <code
                  class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/trusted-types/#trustedscripturl" id="ref-for-trustedscripturl①">TrustedScriptURL</a></code>、<a
                  data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">此对象</a>的<a
                  data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                  id="ref-for-concept-relevant-global②">相关全局对象</a>、<var>scriptURL</var>、"ServiceWorkerContainer
                register" 和 "script"。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>client</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this①②">此对象</a>的<a data-link-type="dfn"
                  href="#serviceworkercontainer-service-worker-client"
                  id="ref-for-serviceworkercontainer-service-worker-client②">服务工作线程客户端</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>scriptURL</var> 为<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser"
                  id="ref-for-concept-url-parser">解析</a> <var>scriptURL</var>（使用<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">此对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                  id="ref-for-relevant-settings-object⑧">相关设置对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                  id="ref-for-api-base-url">API 基础 URL</a>）的结果。</p>
            </li>
            <li data-md="">
              <p>令 <var>scopeURL</var> 为 null。</p>
            </li>
            <li data-md="">
              <p>如果 <var>options</var>["<code
                  class="idl"><a data-link-type="idl" href="#dom-registrationoptions-scope" id="ref-for-dom-registrationoptions-scope">scope</a></code>"]
                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                  id="ref-for-map-exists②">存在</a>，则将 <var>scopeURL</var> 设置为<a data-link-type="dfn"
                  href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①">解析</a>
                <var>options</var>["<code
                  class="idl"><a data-link-type="idl" href="#dom-registrationoptions-scope" id="ref-for-dom-registrationoptions-scope①">scope</a></code>"]（使用<a
                  data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">此对象</a>的<a
                  data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                  id="ref-for-relevant-settings-object⑨">相关设置对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                  id="ref-for-api-base-url①">API 基础 URL</a>）的结果。
              </p>
            </li>
            <li data-md="">
              <p>调用<a data-link-type="dfn" href="#start-register" id="ref-for-start-register">开始注册</a>，参数为
                <var>scopeURL</var>、<var>scriptURL</var>、<var>p</var>、<var>client</var>、<var>client</var>
                的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                  id="ref-for-concept-environment-creation-url②">创建 URL</a>、<var>options</var>["<code
                  class="idl"><a data-link-type="idl" href="#dom-registrationoptions-type" id="ref-for-dom-registrationoptions-type">type</a></code>"]
                和 <var>options</var>["<code
                  class="idl"><a data-link-type="idl" href="#dom-registrationoptions-updateviacache" id="ref-for-dom-registrationoptions-updateviacache">updateViaCache</a></code>"]。
              </p>
            </li>
            <li data-md="">
              <p>返回 <var>p</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="navigator-service-worker-getRegistration">
          <h4 class="heading settled" data-level="3.4.4" id="navigator-service-worker-getRegistration"><span
              class="secno">3.4.4. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-getregistration" id="ref-for-dom-serviceworkercontainer-getregistration①">getRegistration(clientURL)</a></code></span><a
              class="self-link" href="#navigator-service-worker-getRegistration"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="method"
              data-export="" data-lt="getRegistration(clientURL)|getRegistration()"
              id="dom-serviceworkercontainer-getregistration"><code>getRegistration(<var>clientURL</var>)</code></dfn>
            方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>client</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this①⑤">此对象</a>的<a data-link-type="dfn"
                  href="#serviceworkercontainer-service-worker-client"
                  id="ref-for-serviceworkercontainer-service-worker-client③">服务工作线程客户端</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>storage key</var> 为运行<a data-link-type="dfn"
                  href="https://storage.spec.whatwg.org/#obtain-a-storage-key"
                  id="ref-for-obtain-a-storage-key①">获取存储密钥</a>（给定 <var>client</var>）的结果。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>clientURL</var> 为<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser"
                  id="ref-for-concept-url-parser②">解析</a> <var>clientURL</var>（使用<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">此对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                  id="ref-for-relevant-settings-object①⓪">相关设置对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                  id="ref-for-api-base-url②">API 基础 URL</a>）的结果。</p>
            </li>
            <li data-md="">
              <p>如果 <var>clientURL</var> 解析失败，则返回一个被 <code>TypeError</code> 拒绝的<a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects③">promise</a>。
              </p>
            </li>
            <li data-md="">
              <p>将 <var>clientURL</var> 的<a data-link-type="dfn"
                  href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment">片段</a>设置为
                null。</p>
            </li>
            <li data-md="">
              <p>如果 <var>clientURL</var> 的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                  id="ref-for-concept-settings-object-origin②">源</a>不是 <var>client</var> 的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                  id="ref-for-concept-settings-object-origin③">源</a>，则返回一个被 "<code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror">SecurityError</a></code>"
                <code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>
                拒绝的 <var>promise</var>。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>promise</var> 为一个新的<a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects④">promise</a>。</p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel②">并行</a>运行以下子步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>registration</var> 为运行<a data-link-type="dfn" href="#match-service-worker-registration"
                      id="ref-for-match-service-worker-registration④">匹配服务工作线程注册</a>（给定
                    <var>storage key</var> 和 <var>clientURL</var>）的结果。
                  </p>
                </li>
                <li data-md="">
                  <p>如果 <var>registration</var> 为 null，则使用 undefined 解析 <var>promise</var> 并中止这些步骤。
                  </p>
                </li>
                <li data-md="">
                  <p>使用<a data-link-type="dfn" href="#get-the-service-worker-registration-object"
                      id="ref-for-get-the-service-worker-registration-object①">获取服务工作线程注册对象</a>（表示
                    <var>promise</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                      id="ref-for-relevant-settings-object①①">相关设置对象</a>中的
                    <var>registration</var>）的结果来解析 <var>promise</var>。
                  </p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="navigator-service-worker-getRegistrations">
          <h4 class="heading settled" data-level="3.4.5" id="navigator-service-worker-getRegistrations"><span
              class="secno">3.4.5. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-getregistrations" id="ref-for-dom-serviceworkercontainer-getregistrations①">getRegistrations()</a></code></span><a
              class="self-link" href="#navigator-service-worker-getRegistrations"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="method"
              data-export="" id="dom-serviceworkercontainer-getregistrations"><code>getRegistrations()</code></dfn>
            方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>client</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this①⑦">此对象</a>的<a data-link-type="dfn"
                  href="#serviceworkercontainer-service-worker-client"
                  id="ref-for-serviceworkercontainer-service-worker-client④">服务工作线程客户端</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>client storage key</var> 为运行<a data-link-type="dfn"
                  href="https://storage.spec.whatwg.org/#obtain-a-storage-key"
                  id="ref-for-obtain-a-storage-key②">获取存储密钥</a>（给定 <var>client</var>）的结果。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                  id="ref-for-a-new-promise②">一个新的 promise</a>。</p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel③">并行</a>运行以下步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>registrations</var> 为一个新的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                      id="ref-for-list②">列表</a>。</p>
                </li>
                <li data-md="">
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                      id="ref-for-list-iterate">对于</a><a data-link-type="dfn" href="#dfn-scope-to-registration-map"
                      id="ref-for-dfn-scope-to-registration-map②">注册映射</a>中的每个 (<var>storage
                      key</var>, <var>scope</var>) → <var>registration</var>：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>如果 <var>storage key</var> <a data-link-type="dfn"
                          href="https://storage.spec.whatwg.org/#storage-key-equal"
                          id="ref-for-storage-key-equal">等于</a> <var>client storage
                          key</var>，则将 <var>registration</var> <a data-link-type="dfn"
                          href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">追加</a>到
                        <var>registrations</var>。
                      </p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>在 <var>promise</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                      id="ref-for-relevant-settings-object①②">相关设置对象</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                      id="ref-for-responsible-event-loop①">负责事件循环</a>上，使用<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source②">DOM 操作任务源</a><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task④">将任务排队</a>以运行以下步骤：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>registrationObjects</var> 为一个新的<a data-link-type="dfn"
                          href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">列表</a>。</p>
                    </li>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                          id="ref-for-list-iterate①">对于</a> <var>registrations</var> 中的每个
                        <var>registration</var>：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>令 <var>registrationObj</var> 为<a data-link-type="dfn"
                              href="#get-the-service-worker-registration-object"
                              id="ref-for-get-the-service-worker-registration-object②">获取服务工作线程注册对象</a>（表示
                            <var>promise</var> 的<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                              id="ref-for-relevant-settings-object①③">相关设置对象</a>中的
                            <var>registration</var>）的结果。
                          </p>
                        </li>
                        <li data-md="">
                          <p>将 <var>registrationObj</var> <a data-link-type="dfn"
                              href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">追加</a>到
                            <var>registrationObjects</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                    <li data-md="">
                      <p>使用 <var>promise</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                          id="ref-for-concept-relevant-realm">相关 Realm</a> 中的
                        <var>registrationObjects</var> 的<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array"
                          id="ref-for-dfn-create-frozen-array">新的冻结数组</a>来解析
                        <var>promise</var>。
                      </p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="navigator-service-worker-startMessages">
          <h4 class="heading settled" data-level="3.4.6" id="navigator-service-worker-startMessages"><span
              class="secno">3.4.6. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-startmessages" id="ref-for-dom-serviceworkercontainer-startmessages①">startMessages()</a></code></span><a
              class="self-link" href="#navigator-service-worker-startMessages"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="method"
              data-export="" id="dom-serviceworkercontainer-startmessages"><code>startMessages()</code></dfn>
            方法的步骤是：如果<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑧">此对象</a>的<a
              data-link-type="dfn" href="#dfn-client-message-queue"
              id="ref-for-dfn-client-message-queue③">客户端消息队列</a>未启用，则启用它。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="3.4.7" id="service-worker-container-event-handlers"><span
              class="secno">3.4.7. </span><span class="content">事件处理程序</span><a class="self-link"
              href="#service-worker-container-event-handlers"></a></h4>
          <p>以下是所有实现 <code
              class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①②">ServiceWorkerContainer</a></code>
            接口的对象<em>必须</em>支持的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
              id="ref-for-event-handlers④">事件处理程序</a>（及其对应的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
              id="ref-for-event-handler-event-type④">事件处理程序事件类型</a>），作为<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"
              id="ref-for-event-handler-idl-attributes②">事件处理程序 IDL 属性</a>：</p>
          <table class="data">
            <thead>
              <tr>
                <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                    id="ref-for-event-handlers⑤">事件处理程序</a>
                </th>
                <th><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                    id="ref-for-event-handler-event-type⑤">事件处理程序事件类型</a>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="attribute"
                    data-export=""
                    id="dom-serviceworkercontainer-oncontrollerchange"><code>oncontrollerchange</code></dfn>
                </td>
                <td><code
                    class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-container-controllerchange-event" id="ref-for-service-worker-container-controllerchange-event">controllerchange</a></code>
                </td>
              </tr>
              <tr>
                <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="attribute"
                    data-export="" id="dom-serviceworkercontainer-onmessage"><code>onmessage</code></dfn>
                </td>
                <td><code
                    class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-container-message-event" id="ref-for-service-worker-container-message-event">message</a></code>
                </td>
              </tr>
              <tr>
                <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="attribute"
                    data-export="" id="dom-serviceworkercontainer-onmessageerror"><code>onmessageerror</code></dfn>
                </td>
                <td><code
                    class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-container-messageerror-event" id="ref-for-service-worker-container-messageerror-event">messageerror</a></code>
                </td>
              </tr>
            </tbody>
          </table>
          <p>首次执行 <code
              class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-onmessage" id="ref-for-dom-serviceworkercontainer-onmessage①">onmessage</a></code>
            setter 步骤时，启用<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
              id="ref-for-this①⑨">此对象</a>的<a data-link-type="dfn" href="#dfn-client-message-queue"
              id="ref-for-dfn-client-message-queue④">客户端消息队列</a>。</p>
        </section>
      </section>
      <section>
        <h3 class="heading settled" data-level="3.5" id="document-context-events"><span class="secno">3.5.
          </span><span class="content">事件</span><a class="self-link" href="#document-context-events"></a>
        </h3>
        <p>以下事件在 <code
            class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①⑧">ServiceWorker</a></code>
          对象上分派：</p>
        <table class="data">
          <thead>
            <tr>
              <th>事件名称
              </th>
              <th>接口
              </th>
              <th>分派时机…
              </th>
            </tr>
          <tbody>
            <tr>
              <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="event" data-export=""
                  id="eventdef-serviceworker-statechange"><code>statechange</code></dfn>
              </td>
              <td><code
                  class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code>
              </td>
              <td><code
                  class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①⑨">ServiceWorker</a></code>
                对象的 <code
                  class="idl"><a data-link-type="idl" href="#dom-serviceworker-state" id="ref-for-dom-serviceworker-state③">state</a></code>
                属性已更改。
              </td>
            </tr>
          </tbody>
        </table>
        <p>以下事件在 <code
            class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①①">ServiceWorkerRegistration</a></code>
          对象上分派：</p>
        <table class="data">
          <thead>
            <tr>
              <th>事件名称
              </th>
              <th>接口
              </th>
              <th>分派时机…
              </th>
            </tr>
          <tbody>
            <tr>
              <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="event"
                  data-export="" id="service-worker-registration-updatefound-event"><code>updatefound</code></dfn>
              </td>
              <td><code
                  class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①">Event</a></code>
              </td>
              <td><a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration"
                  id="ref-for-serviceworkerregistration-service-worker-registration⑥">服务工作线程注册</a>的<a
                  data-link-type="dfn" href="#dfn-installing-worker"
                  id="ref-for-dfn-installing-worker⑤">安装中工作线程</a>发生更改。（请参阅<a data-link-type="dfn" href="#install"
                  id="ref-for-install">安装</a>算法的步骤 8。）
              </td>
            </tr>
          </tbody>
        </table>
        <p>以下事件在 <code
            class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①③">ServiceWorkerContainer</a></code>
          对象上分派：</p>
        <table class="data">
          <thead>
            <tr>
              <th>事件名称
              </th>
              <th>接口
              </th>
              <th>分派时机…
              </th>
            </tr>
          <tbody>
            <tr>
              <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="event"
                  data-export=""
                  id="service-worker-container-controllerchange-event"><code>controllerchange</code></dfn>
              </td>
              <td><code
                  class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event②">Event</a></code>
              </td>
              <td><a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client"
                  id="ref-for-serviceworkercontainer-service-worker-client⑤">服务工作线程客户端</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                  id="ref-for-concept-environment-active-service-worker②⓪">活动服务工作线程</a>发生更改。（请参阅<a data-link-type="dfn"
                  href="#activate" id="ref-for-activate">激活</a>算法的步骤 9.2。<a data-link-type="dfn"
                  href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⑥">服务工作线程</a>的<a data-link-type="dfn"
                  href="#dfn-skip-waiting-flag" id="ref-for-dfn-skip-waiting-flag">跳过等待标志</a>会导致<a data-link-type="dfn"
                  href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③⑨">服务工作线程注册</a>的<a
                  data-link-type="dfn" href="#activate" id="ref-for-activate①">激活</a>在<a data-link-type="dfn"
                  href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②②">服务工作线程客户端</a><a
                  data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use">使用</a><a data-link-type="dfn"
                  href="#dfn-service-worker-registration"
                  id="ref-for-dfn-service-worker-registration④⓪">服务工作线程注册</a>时发生，<code
                  class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-controller" id="ref-for-dom-serviceworkercontainer-controller③">navigator.serviceWorker.controller</a></code>
                会立即将<a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①①">活动工作线程</a>反映为<a
                  data-link-type="dfn" href="#dfn-control" id="ref-for-dfn-control②">控制</a><a data-link-type="dfn"
                  href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②③">服务工作线程客户端</a>的<a
                  data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⑦">服务工作线程</a>。）
              </td>
            </tr>
            <tr>
              <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="event"
                  data-export="" id="service-worker-container-message-event"><code>message</code></dfn>
              </td>
              <td><code
                  class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event③">Event</a></code>
              </td>
              <td><a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client"
                  id="ref-for-serviceworkercontainer-service-worker-client⑥">服务工作线程客户端</a>从<a data-link-type="dfn"
                  href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⑧">服务工作线程</a>接收到一条消息。请参阅 <code
                  class="idl"><a data-link-type="idl" href="#dom-client-postmessage-message-options" id="ref-for-dom-client-postmessage-message-options">postMessage(message, options)</a></code>。
              </td>
            </tr>
            <tr>
              <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="event"
                  data-export="" id="service-worker-container-messageerror-event"><code>messageerror</code></dfn>
              </td>
              <td><code
                  class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event④">Event</a></code>
              </td>
              <td><a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client"
                  id="ref-for-serviceworkercontainer-service-worker-client⑦">服务工作线程客户端</a>从<a data-link-type="dfn"
                  href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⑨">服务工作线程</a>收到一条无法反序列化的消息。请参阅 <code
                  class="idl"><a data-link-type="idl" href="#dom-client-postmessage-message-options" id="ref-for-dom-client-postmessage-message-options①">postMessage(message, options)</a></code>。
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
    <section>
      <h3 class="heading settled" data-level="3.6" id="navigation-preload-manager"><span class="secno">3.6.
        </span><span class="content"><code
            class="idl"><a data-link-type="idl" href="#navigationpreloadmanager" id="ref-for-navigationpreloadmanager③">NavigationPreloadManager</a></code></span><a
          class="self-link" href="#navigation-preload-manager"></a></h3>
      <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑤"><c-g>SecureContext</c-g></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c-g>Exposed</c-g></a>=(<c-n>Window</c-n>,<c-n>Worker</c-n>)]
        <c-b>interface</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="navigationpreloadmanager"><code><c-g>NavigationPreloadManager</c-g></code></dfn> {
          <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤"><c-b>undefined</c-b></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-enable" id="ref-for-dom-navigationpreloadmanager-enable"><c-g>enable</c-g></a>();
          <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑥"><c-b>undefined</c-b></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-disable" id="ref-for-dom-navigationpreloadmanager-disable"><c-g>disable</c-g></a>();
          <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑦"><c-b>undefined</c-b></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-setheadervalue" id="ref-for-dom-navigationpreloadmanager-setheadervalue"><c-g>setHeaderValue</c-g></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString" id="ref-for-idl-ByteString"><c-b>ByteString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadManager/setHeaderValue(value)" data-dfn-type="argument" data-export="" id="dom-navigationpreloadmanager-setheadervalue-value-value"><code><c-g>value</c-g></code></dfn>);
          <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑨"><c-b>Promise</c-b></a>&lt;<a data-link-type="idl-name" href="#dictdef-navigationpreloadstate" id="ref-for-dictdef-navigationpreloadstate"><c-n>NavigationPreloadState</c-n></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-getstate" id="ref-for-dom-navigationpreloadmanager-getstate"><c-g>getState</c-g></a>();
        };
        
        <c-b>dictionary</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-navigationpreloadstate"><code><c-g>NavigationPreloadState</c-g></code></dfn> {
          <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c-b>boolean</c-b></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="NavigationPreloadState" data-dfn-type="dict-member" data-export="" data-type="boolean" id="dom-navigationpreloadstate-enabled"><code><c-g>enabled</c-g></code></dfn> = <c-b>false</c-b>;
          <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString" id="ref-for-idl-ByteString①"><c-b>ByteString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadState" data-dfn-type="dict-member" data-export="" data-type="ByteString" id="dom-navigationpreloadstate-headervalue"><code><c-g>headerValue</c-g></code></dfn>;
        };
        </pre>
      <section class="algorithm" data-algorithm="navigation-preload-manager-enable">
        <h4 class="heading settled" data-level="3.6.1" id="navigation-preload-manager-enable"><span class="secno">3.6.1.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#dom-navigationpreloadmanager-enable" id="ref-for-dom-navigationpreloadmanager-enable①">enable()</a></code></span><a
            class="self-link" href="#navigation-preload-manager-enable"></a></h4>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadManager" data-dfn-type="method"
            data-export="" id="dom-navigationpreloadmanager-enable"><code>enable()</code></dfn> 方法的步骤是：</p>
        <ol>
          <li data-md="">
            <p>令 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                id="ref-for-a-new-promise③">一个新的
                promise</a>。</p>
          </li>
          <li data-md="">
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                id="ref-for-in-parallel④">并行</a>运行以下步骤：</p>
            <ol>
              <li data-md="">
                <p>令 <var>registration</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-this②⓪">此对象</a>关联的<a data-link-type="dfn" href="#dfn-service-worker-registration"
                    id="ref-for-dfn-service-worker-registration④①">服务工作线程注册</a>。
                </p>
              </li>
              <li data-md="">
                <p>如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker①②">活动工作线程</a>为 null，则用 "<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code>"
                  <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>
                  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">拒绝</a>
                  <var>promise</var>，并中止这些步骤。
                </p>
              </li>
              <li data-md="">
                <p>设置 <var>registration</var> 的<a data-link-type="dfn"
                    href="#service-worker-registration-navigation-preload-enabled-flag"
                    id="ref-for-service-worker-registration-navigation-preload-enabled-flag">导航预加载启用标志</a>。
                </p>
              </li>
              <li data-md="">
                <p>用 undefined 解析 <var>promise</var>。</p>
              </li>
            </ol>
          </li>
          <li data-md="">
            <p>返回 <var>promise</var>。</p>
          </li>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="navigation-preload-manager-disable">
        <h4 class="heading settled" data-level="3.6.2" id="navigation-preload-manager-disable"><span
            class="secno">3.6.2. </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#dom-navigationpreloadmanager-disable" id="ref-for-dom-navigationpreloadmanager-disable①">disable()</a></code></span><a
            class="self-link" href="#navigation-preload-manager-disable"></a></h4>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadManager" data-dfn-type="method"
            data-export="" id="dom-navigationpreloadmanager-disable"><code>disable()</code></dfn> 方法的步骤是：
        </p>
        <ol>
          <li data-md="">
            <p>令 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                id="ref-for-a-new-promise④">一个新的
                promise</a>。</p>
          </li>
          <li data-md="">
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                id="ref-for-in-parallel⑤">并行</a>运行以下步骤：</p>
            <ol>
              <li data-md="">
                <p>令 <var>registration</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-this②①">此对象</a>关联的<a data-link-type="dfn" href="#dfn-service-worker-registration"
                    id="ref-for-dfn-service-worker-registration④②">服务工作线程注册</a>。
                </p>
              </li>
              <li data-md="">
                <p>如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker①③">活动工作线程</a>为 null，则用 "<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code>"
                  <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>
                  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">拒绝</a>
                  <var>promise</var>，并中止这些步骤。
                </p>
              </li>
              <li data-md="">
                <p>取消设置 <var>registration</var> 的<a data-link-type="dfn"
                    href="#service-worker-registration-navigation-preload-enabled-flag"
                    id="ref-for-service-worker-registration-navigation-preload-enabled-flag①">导航预加载启用标志</a>。
                </p>
              </li>
              <li data-md="">
                <p>用 undefined 解析 <var>promise</var>。</p>
              </li>
            </ol>
          </li>
          <li data-md="">
            <p>返回 <var>promise</var>。</p>
          </li>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="navigation-preload-manager-setheadervalue">
        <h4 class="heading settled" data-level="3.6.3" id="navigation-preload-manager-setheadervalue"><span
            class="secno">3.6.3. </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#dom-navigationpreloadmanager-setheadervalue" id="ref-for-dom-navigationpreloadmanager-setheadervalue①">setHeaderValue(value)</a></code></span><a
            class="self-link" href="#navigation-preload-manager-setheadervalue"></a></h4>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadManager" data-dfn-type="method"
            data-export=""
            id="dom-navigationpreloadmanager-setheadervalue"><code>setHeaderValue(<var>value</var>)</code></dfn>
          方法的步骤是：</p>
        <ol>
          <li data-md="">
            <p>令 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                id="ref-for-a-new-promise⑤">一个新的
                promise</a>。</p>
          </li>
          <li data-md="">
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                id="ref-for-in-parallel⑥">并行</a>运行以下步骤：</p>
            <ol>
              <li data-md="">
                <p>令 <var>registration</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-this②②">此对象</a>关联的<a data-link-type="dfn" href="#dfn-service-worker-registration"
                    id="ref-for-dfn-service-worker-registration④③">服务工作线程注册</a>。
                </p>
              </li>
              <li data-md="">
                <p>如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker①④">活动工作线程</a>为 null，则用 "<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror④">InvalidStateError</a></code>"
                  <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>
                  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">拒绝</a>
                  <var>promise</var>，并中止这些步骤。
                </p>
              </li>
              <li data-md="">
                <p>将 <var>registration</var> 的<a data-link-type="dfn"
                    href="#service-worker-registration-navigation-preload-header-value"
                    id="ref-for-service-worker-registration-navigation-preload-header-value">导航预加载标头值</a>设置为
                  <var>value</var>。
                </p>
              </li>
              <li data-md="">
                <p>用 undefined 解析 <var>promise</var>。</p>
              </li>
            </ol>
          </li>
          <li data-md="">
            <p>返回 <var>promise</var>。</p>
          </li>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="navigation-preload-manager-getstate">
        <h4 class="heading settled" data-level="3.6.4" id="navigation-preload-manager-getstate"><span
            class="secno">3.6.4. </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#dom-navigationpreloadmanager-getstate" id="ref-for-dom-navigationpreloadmanager-getstate①">getState()</a></code></span><a
            class="self-link" href="#navigation-preload-manager-getstate"></a></h4>
        <p><dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadManager" data-dfn-type="method"
            data-export="" id="dom-navigationpreloadmanager-getstate"><code>getState()</code></dfn> 方法的步骤是：
        </p>
        <ol>
          <li data-md="">
            <p>令 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                id="ref-for-a-new-promise⑥">一个新的
                promise</a>。</p>
          </li>
          <li data-md="">
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                id="ref-for-in-parallel⑦">并行</a>运行以下步骤：</p>
            <ol>
              <li data-md="">
                <p>令 <var>registration</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                    id="ref-for-this②③">此对象</a>关联的<a data-link-type="dfn" href="#dfn-service-worker-registration"
                    id="ref-for-dfn-service-worker-registration④④">服务工作线程注册</a>。
                </p>
              </li>
              <li data-md="">
                <p>令 <var>state</var> 为一个新的 <code
                    class="idl"><a data-link-type="idl" href="#dictdef-navigationpreloadstate" id="ref-for-dictdef-navigationpreloadstate①">NavigationPreloadState</a></code>
                  字典。</p>
              </li>
              <li data-md="">
                <p>如果 <var>registration</var> 的<a data-link-type="dfn"
                    href="#service-worker-registration-navigation-preload-enabled-flag"
                    id="ref-for-service-worker-registration-navigation-preload-enabled-flag②">导航预加载启用标志</a>已设置，则将
                  <var>state</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-navigationpreloadstate-enabled" id="ref-for-dom-navigationpreloadstate-enabled">enabled</a></code>"]
                  设置为 true。
                </p>
              </li>
              <li data-md="">
                <p>将 <var>state</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-navigationpreloadstate-headervalue" id="ref-for-dom-navigationpreloadstate-headervalue">headerValue</a></code>"]
                  设置为 <var>registration</var> 的<a data-link-type="dfn"
                    href="#service-worker-registration-navigation-preload-header-value"
                    id="ref-for-service-worker-registration-navigation-preload-header-value①">导航预加载标头值</a>。
                </p>
              </li>
              <li data-md="">
                <p>用 <var>state</var> 解析 <var>promise</var>。</p>
              </li>
            </ol>
          </li>
          <li data-md="">
            <p>返回 <var>promise</var>。</p>
          </li>
        </ol>
      </section>
    </section>
    <section>
      <h2 class="heading settled" data-level="4" id="execution-context"><span class="secno">4. </span><span
          class="content">执行上下文</span><a class="self-link" href="#execution-context"></a></h2>
      <div class="example" id="example-b1dcfb45">
        <a class="self-link" href="#example-b1dcfb45"></a> 提供缓存资源：
        <pre class="highlight"><c-c1>// caching.js</c-c1>
        self<c-p>.</c-p>addEventListener<c-p>(</c-p><c-u>"install"</c-u><c-p>,</c-p> event <c-p>=&gt;</c-p> <c-p>{</c-p>
          event<c-p>.</c-p>waitUntil<c-p>(</c-p>
            <c-c1>// 打开资源缓存。</c-c1>
            caches<c-p>.</c-p>open<c-p>(</c-p><c-u>"shell-v1"</c-u><c-p>).</c-p>then<c-p>(</c-p>cache <c-p>=&gt;</c-p> <c-p>{</c-p>
              <c-c1>// 开始获取它们的过程。仅当所有资源都已存储时才成功。</c-c1>
              <c-c1>// 即使只有一个资源失败，也会导致整个操作失败。</c-c1>
              <c-k>return</c-k> cache<c-p>.</c-p>addAll<c-p>([</c-p>
                <c-u>"/app.html"</c-u><c-p>,</c-p>
                <c-u>"/assets/v1/base.css"</c-u><c-p>,</c-p>
                <c-u>"/assets/v1/app.js"</c-u><c-p>,</c-p>
                <c-u>"/assets/v1/logo.png"</c-u><c-p>,</c-p>
                <c-u>"/assets/v1/intro_video.webm"</c-u>
              <c-p>]);</c-p>
            <c-p>})</c-p>
          <c-p>);</c-p>
        <c-p>});</c-p>
        
        self<c-p>.</c-p>addEventListener<c-p>(</c-p><c-u>"fetch"</c-u><c-p>,</c-p> event <c-p>=&gt;</c-p> <c-p>{</c-p>
          <c-c1>// 在服务工作线程成功安装并激活之前，不会向其分派任何 "fetch" 事件。</c-c1>
        
          <c-c1>// 缓存上的所有操作（包括匹配 URL）都是异步的，因此我们大量使用 promise。</c-c1>
          <c-c1>// e.respondWith()甚至接受 promise 来启用此功能：</c-c1>
          event<c-p>.</c-p>respondWith<c-p>(</c-p>
            caches<c-p>.</c-p>match<c-p>(</c-p>e<c-p>.</c-p>request<c-p>).</c-p>then<c-p>(</c-p>response <c-p>=&gt;</c-p> <c-p>{</c-p>
              <c-k>return</c-k> response <c-o>||</c-o> fetch<c-p>(</c-p>e<c-p>.</c-p>request<c-p>);</c-p>
            <c-p>}).</c-p><c-k>catch</c-k><c-p>(()</c-p> <c-p>=&gt;</c-p> <c-p>{</c-p>
              <c-k>return</c-k> caches<c-p>.</c-p>match<c-p>(</c-p><c-u>"/fallback.html"</c-u><c-p>);</c-p>
            <c-p>})</c-p>
          <c-p>);</c-p>
        <c-p>});</c-p>
        </pre>
      </div>
      <section>
        <h3 class="heading settled" data-level="4.1" id="serviceworkerglobalscope-interface"><span class="secno">4.1.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope④">ServiceWorkerGlobalScope</a></code>
            接口</span><a class="self-link" href="#serviceworkerglobalscope-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global" id="ref-for-Global"><c-g>Global</c-g></a>=(<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#worker" id="ref-for-worker"><c-n>Worker</c-n></a>,<a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker②⓪"><c-n>ServiceWorker</c-n></a>), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c-g>Exposed</c-g></a>=<c-n>ServiceWorker</c-n>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑥"><c-g>SecureContext</c-g></a>]
        <c-b>interface</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="serviceworkerglobalscope"><code><c-g>ServiceWorkerGlobalScope</c-g></code></dfn> : <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" id="ref-for-workerglobalscope"><c-n>WorkerGlobalScope</c-n></a> {
          [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject③"><c-g>SameObject</c-g></a>] <c-b>readonly</c-b> <c-b>attribute</c-b> <a data-link-type="idl-name" href="#clients" id="ref-for-clients"><c-n>Clients</c-n></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="Clients" href="#dom-serviceworkerglobalscope-clients" id="ref-for-dom-serviceworkerglobalscope-clients"><c-g>clients</c-g></a>;
          [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject④"><c-g>SameObject</c-g></a>] <c-b>readonly</c-b> <c-b>attribute</c-b> <a data-link-type="idl-name" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①②"><c-n>ServiceWorkerRegistration</c-n></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="ServiceWorkerRegistration" href="#dom-serviceworkerglobalscope-registration" id="ref-for-dom-serviceworkerglobalscope-registration"><c-g>registration</c-g></a>;
          [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑤"><c-g>SameObject</c-g></a>] <c-b>readonly</c-b> <c-b>attribute</c-b> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker②①"><c-n>ServiceWorker</c-n></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="ServiceWorker" href="#dom-serviceworkerglobalscope-serviceworker" id="ref-for-dom-serviceworkerglobalscope-serviceworker"><c-g>serviceWorker</c-g></a>;
        
          [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject⑤"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⓪"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑧"><c-b>undefined</c-b></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-serviceworkerglobalscope-skipwaiting" id="ref-for-dom-serviceworkerglobalscope-skipwaiting"><c-g>skipWaiting</c-g></a>();
        
          <c-b>attribute</c-b> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑤"><c-n>EventHandler</c-n></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-oninstall" id="ref-for-dom-serviceworkerglobalscope-oninstall"><c-g>oninstall</c-g></a>;
          <c-b>attribute</c-b> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑥"><c-n>EventHandler</c-n></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onactivate" id="ref-for-dom-serviceworkerglobalscope-onactivate"><c-g>onactivate</c-g></a>;
          <c-b>attribute</c-b> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑦"><c-n>EventHandler</c-n></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onfetch" id="ref-for-dom-serviceworkerglobalscope-onfetch"><c-g>onfetch</c-g></a>;
        
          <c-b>attribute</c-b> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑧"><c-n>EventHandler</c-n></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onmessage" id="ref-for-dom-serviceworkerglobalscope-onmessage"><c-g>onmessage</c-g></a>;
          <c-b>attribute</c-b> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑨"><c-n>EventHandler</c-n></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onmessageerror" id="ref-for-dom-serviceworkerglobalscope-onmessageerror"><c-g>onmessageerror</c-g></a>;
        };
        </pre>
        <p><code
            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope⑤">ServiceWorkerGlobalScope</a></code>
          对象表示<a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥⓪">服务工作线程</a>的全局执行上下文。
        </p>
        <p><code
            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope⑥">ServiceWorkerGlobalScope</a></code>
          对象具有关联的<dfn class="dfn-paneled" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="dfn" data-export=""
            id="serviceworkerglobalscope-service-worker">服务工作线程</dfn>（一个<a data-link-type="dfn"
            href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥①">服务工作线程</a>）。
        </p>
        <p><code
            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope⑦">ServiceWorkerGlobalScope</a></code>
          对象具有关联的<dfn class="dfn-paneled" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="dfn" data-noexport=""
            id="serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag">导入脚本强制绕过缓存标志</dfn>。它最初未设置。
        </p>
        <p><code
            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope⑧">ServiceWorkerGlobalScope</a></code>
          对象具有关联的<dfn class="dfn-paneled" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="dfn" data-noexport=""
            id="serviceworkerglobalscope-race-response-map">竞争响应映射</dfn>，它是一个<a data-link-type="dfn"
            href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">有序映射</a>，其中<a
            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys"
            id="ref-for-map-getting-the-keys②">键</a>是<a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request②">请求</a>，<a
            data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values"
            id="ref-for-map-getting-the-values②">值</a>是<a data-link-type="dfn" href="#dfn-race-response"
            id="ref-for-dfn-race-response">竞争响应</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="dfn-race-response">竞争响应</dfn>是一个<a
            data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">结构体</a>，用于在 <code
            class="idl"><a data-link-type="idl" href="#dom-routersourceenum-race-network-and-fetch-handler" id="ref-for-dom-routersourceenum-race-network-and-fetch-handler">"race-network-and-fetch-handler"</a></code>
          执行时包含网络响应。它有一个<dfn class="dfn-paneled" data-dfn-for="race response" data-dfn-type="dfn" data-noexport=""
            id="race-response-value">值</dfn>，可以是一个<a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-response"
            id="ref-for-concept-response①">响应</a>、“<code>pending</code>”或 null。</p>
        <p class="note" role="note"><span class="marker">注意：</span><code
            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope⑨">ServiceWorkerGlobalScope</a></code>
          对象提供在源上运行的通用的、事件驱动的、有时间限制的脚本执行上下文。一旦成功<a data-link-type="dfn" href="#register"
            id="ref-for-register①">注册</a>，<a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker⑥②">服务工作线程</a>将根据其与事件的关系（而非<a data-link-type="dfn"
            href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②④">服务工作线程客户端</a>）启动、保持活动状态和终止。不得在<a
            data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥③">服务工作线程</a>内部发起任何类型的同步请求。
        </p>
        <section>
          <h4 class="heading settled" data-level="4.1.1" id="service-worker-global-scope-clients"><span
              class="secno">4.1.1. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-clients" id="ref-for-dom-serviceworkerglobalscope-clients①">clients</a></code></span><a
              class="self-link" href="#service-worker-global-scope-clients"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute"
              data-export="" id="dom-serviceworkerglobalscope-clients"><code>clients</code></dfn> getter 的步骤是返回与<a
              data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②④">此对象</a>关联的 <code
              class="idl"><a data-link-type="idl" href="#clients" id="ref-for-clients①">Clients</a></code>
            对象。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.1.2" id="service-worker-global-scope-registration"><span
              class="secno">4.1.2. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-registration" id="ref-for-dom-serviceworkerglobalscope-registration①">registration</a></code></span><a
              class="self-link" href="#service-worker-global-scope-registration"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute"
              data-export="" id="dom-serviceworkerglobalscope-registration"><code>registration</code></dfn> getter
            的步骤是返回<a data-link-type="dfn" href="#get-the-service-worker-registration-object"
              id="ref-for-get-the-service-worker-registration-object③">获取服务工作线程注册对象</a>的结果，该对象表示<a data-link-type="dfn"
              href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑤">此对象</a>的<a data-link-type="dfn"
              href="#serviceworkerglobalscope-service-worker"
              id="ref-for-serviceworkerglobalscope-service-worker②">服务工作线程</a>的<a data-link-type="dfn"
              href="#dfn-containing-service-worker-registration"
              id="ref-for-dfn-containing-service-worker-registration②">包含服务工作线程注册</a>在<a data-link-type="dfn"
              href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑥">此对象</a>的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
              id="ref-for-relevant-settings-object①④">相关设置对象</a>中。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.1.3" id="service-worker-global-scope-serviceworker"><span
              class="secno">4.1.3. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-serviceworker" id="ref-for-dom-serviceworkerglobalscope-serviceworker①">serviceWorker</a></code></span><a
              class="self-link" href="#service-worker-global-scope-serviceworker"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute"
              data-export="" id="dom-serviceworkerglobalscope-serviceworker"><code>serviceWorker</code></dfn> getter
            的步骤是返回<a data-link-type="dfn" href="#get-the-service-worker-object"
              id="ref-for-get-the-service-worker-object⑤">获取服务工作线程对象</a>的结果，该对象表示<a data-link-type="dfn"
              href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑦">此对象</a>的<a data-link-type="dfn"
              href="#serviceworkerglobalscope-service-worker"
              id="ref-for-serviceworkerglobalscope-service-worker③">服务工作线程</a>在<a data-link-type="dfn"
              href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑧">此对象</a>的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
              id="ref-for-relevant-settings-object①⑤">相关设置对象</a>中。</p>
        </section>
        <section class="algorithm" data-algorithm="service-worker-global-scope-skipwaiting">
          <h4 class="heading settled" data-level="4.1.4" id="service-worker-global-scope-skipwaiting"><span
              class="secno">4.1.4. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-skipwaiting" id="ref-for-dom-serviceworkerglobalscope-skipwaiting①">skipWaiting()</a></code></span><a
              class="self-link" href="#service-worker-global-scope-skipwaiting"></a></h4>
          <p class="note" role="note"><span class="marker">注意：</span><code
              class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-skipwaiting" id="ref-for-dom-serviceworkerglobalscope-skipwaiting②">skipWaiting()</a></code>
            方法允许此<a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥④">服务工作线程</a>从<a
              data-link-type="dfn" href="#dfn-containing-service-worker-registration"
              id="ref-for-dfn-containing-service-worker-registration③">注册</a>的<a data-link-type="dfn"
              href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker④">等待</a>位置前进到<a data-link-type="dfn"
              href="#dfn-active-worker" id="ref-for-dfn-active-worker①⑤">活动</a>位置，即使<a data-link-type="dfn"
              href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②⑤">服务工作线程客户端</a>正在<a
              data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use①">使用</a>该<a data-link-type="dfn"
              href="#dfn-containing-service-worker-registration"
              id="ref-for-dfn-containing-service-worker-registration④">注册</a>。
          </p>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="method"
              data-export="" id="dom-serviceworkerglobalscope-skipwaiting"><code>skipWaiting()</code></dfn> 方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>promise</var> 为一个新的<a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects⑤">promise</a>。</p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel⑧">并行</a>运行以下子步骤：</p>
              <ol>
                <li data-md="">
                  <p>设置<a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker"
                      id="ref-for-serviceworkerglobalscope-service-worker④">服务工作线程</a>的<a data-link-type="dfn"
                      href="#dfn-skip-waiting-flag" id="ref-for-dfn-skip-waiting-flag①">跳过等待标志</a>。
                  </p>
                </li>
                <li data-md="">
                  <p>使用<a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker"
                      id="ref-for-serviceworkerglobalscope-service-worker⑤">服务工作线程</a>的<a data-link-type="dfn"
                      href="#dfn-containing-service-worker-registration"
                      id="ref-for-dfn-containing-service-worker-registration⑤">包含服务工作线程注册</a>调用<a data-link-type="dfn"
                      href="#try-activate" id="ref-for-try-activate">尝试激活</a>。
                  </p>
                </li>
                <li data-md="">
                  <p>用 undefined 解析 <var>promise</var>。</p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.1.5" id="service-worker-global-scope-event-handlers"><span
              class="secno">4.1.5. </span><span class="content">事件处理程序</span><a class="self-link"
              href="#service-worker-global-scope-event-handlers"></a></h4>
          <p>以下是所有实现 <code
              class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⓪">ServiceWorkerGlobalScope</a></code>
            接口的对象<em>必须</em>支持的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
              id="ref-for-event-handlers⑥">事件处理程序</a>（及其对应的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
              id="ref-for-event-handler-event-type⑥">事件处理程序事件类型</a>），作为<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"
              id="ref-for-event-handler-idl-attributes③">事件处理程序 IDL 属性</a>：</p>
          <table class="data">
            <thead>
              <tr>
                <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"
                    id="ref-for-event-handlers⑦">事件处理程序</a>
                </th>
                <th><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"
                    id="ref-for-event-handler-event-type⑦">事件处理程序事件类型</a>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute"
                    data-export="" id="dom-serviceworkerglobalscope-oninstall"><code>oninstall</code></dfn>
                </td>
                <td><code
                    class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event①">install</a></code>
                </td>
              </tr>
              <tr>
                <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute"
                    data-export="" id="dom-serviceworkerglobalscope-onactivate"><code>onactivate</code></dfn>
                </td>
                <td><code
                    class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event①">activate</a></code>
                </td>
              </tr>
              <tr>
                <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute"
                    data-export="" id="dom-serviceworkerglobalscope-onfetch"><code>onfetch</code></dfn>
                </td>
                <td><code
                    class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event②">fetch</a></code>
                </td>
              </tr>
              <tr>
                <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute"
                    data-export="" id="dom-serviceworkerglobalscope-onmessage"><code>onmessage</code></dfn>
                </td>
                <td><code
                    class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-message" id="ref-for-eventdef-serviceworkerglobalscope-message②">message</a></code>
                </td>
              </tr>
              <tr>
                <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute"
                    data-export="" id="dom-serviceworkerglobalscope-onmessageerror"><code>onmessageerror</code></dfn>
                </td>
                <td><code
                    class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-messageerror" id="ref-for-eventdef-serviceworkerglobalscope-messageerror②">messageerror</a></code>
                </td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>
      <section>
        <h3 class="heading settled" data-level="4.2" id="client-interface"><span class="secno">4.2. </span><span
            class="content"><code
              class="idl"><a data-link-type="idl" href="#client" id="ref-for-client①">Client</a></code>
            接口</span><a class="self-link" href="#client-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑤"><c-g>Exposed</c-g></a>=<c-n>ServiceWorker</c-n>]
            <c-b>interface</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="client"><code><c-g>Client</c-g></code></dfn> {
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑤"><c-b>USVString</c-b></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-client-url" id="ref-for-dom-client-url"><c-g>url</c-g></a>;
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a data-link-type="idl-name" href="#enumdef-frametype" id="ref-for-enumdef-frametype"><c-n>FrameType</c-n></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="FrameType" href="#dom-client-frametype" id="ref-for-dom-client-frametype"><c-g>frameType</c-g></a>;
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c-b>DOMString</c-b></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-client-id" id="ref-for-dom-client-id"><c-g>id</c-g></a>;
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a data-link-type="idl-name" href="#enumdef-clienttype" id="ref-for-enumdef-clienttype"><c-n>ClientType</c-n></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="ClientType" href="#dom-client-type" id="ref-for-dom-client-type"><c-g>type</c-g></a>;
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑨"><c-b>undefined</c-b></a> <a class="idl-code" data-link-type="method" href="#dom-client-postmessage" id="ref-for-dom-client-postmessage"><c-g>postMessage</c-g></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②"><c-b>any</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Client/postMessage(message, transfer)" data-dfn-type="argument" data-export="" id="dom-client-postmessage-message-transfer-message"><code><c-g>message</c-g></code></dfn>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c-b>sequence</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object①"><c-b>object</c-b></a>&gt; <dfn class="dfn-paneled idl-code" data-dfn-for="Client/postMessage(message, transfer)" data-dfn-type="argument" data-export="" id="dom-client-postmessage-message-transfer-transfer"><code><c-g>transfer</c-g></code></dfn>);
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⓪"><c-b>undefined</c-b></a> <a class="idl-code" data-link-type="method" href="#dom-client-postmessage-message-options" id="ref-for-dom-client-postmessage-message-options②"><c-g>postMessage</c-g></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any③"><c-b>any</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Client/postMessage(message, options), Client/postMessage(message)" data-dfn-type="argument" data-export="" id="dom-client-postmessage-message-options-message"><code><c-g>message</c-g></code></dfn>, <c-b>optional</c-b> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions" id="ref-for-structuredserializeoptions①"><c-n>StructuredSerializeOptions</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Client/postMessage(message, options), Client/postMessage(message)" data-dfn-type="argument" data-export="" id="dom-client-postmessage-message-options-options"><code><c-g>options</c-g></code></dfn> = {});
            };
            
            [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑥"><c-g>Exposed</c-g></a>=<c-n>ServiceWorker</c-n>]
            <c-b>interface</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="windowclient"><code><c-g>WindowClient</c-g></code></dfn> : <a data-link-type="idl-name" href="#client" id="ref-for-client②"><c-n>Client</c-n></a> {
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a data-link-type="idl-name" href="https://www.w3.org/TR/page-visibility/#VisibilityState" id="ref-for-VisibilityState"><c-n>VisibilityState</c-n></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="VisibilityState" href="#dom-windowclient-visibilitystate" id="ref-for-dom-windowclient-visibilitystate"><c-g>visibilityState</c-g></a>;
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c-b>boolean</c-b></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="boolean" href="#dom-windowclient-focused" id="ref-for-dom-windowclient-focused"><c-g>focused</c-g></a>;
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑥"><c-g>SameObject</c-g></a>] <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array①"><c-b>FrozenArray</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑥"><c-b>USVString</c-b></a>&gt; <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="FrozenArray<USVString>" href="#dom-windowclient-ancestororigins" id="ref-for-dom-windowclient-ancestororigins"><c-g>ancestorOrigins</c-g></a>;
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject⑥"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①①"><c-b>Promise</c-b></a>&lt;<a data-link-type="idl-name" href="#windowclient" id="ref-for-windowclient①"><c-n>WindowClient</c-n></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-windowclient-focus" id="ref-for-dom-windowclient-focus"><c-g>focus</c-g></a>();
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject⑦"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①②"><c-b>Promise</c-b></a>&lt;<a data-link-type="idl-name" href="#windowclient" id="ref-for-windowclient②"><c-n>WindowClient</c-n></a>?&gt; <a class="idl-code" data-link-type="method" href="#dom-windowclient-navigate" id="ref-for-dom-windowclient-navigate"><c-g>navigate</c-g></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑦"><c-b>USVString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient/navigate(url)" data-dfn-type="argument" data-export="" id="dom-windowclient-navigate-url-url"><code><c-g>url</c-g></code></dfn>);
            };
            
            <c-b>enum</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-frametype"><code><c-g>FrameType</c-g></code></dfn> {
              <dfn class="dfn-paneled idl-code" data-dfn-for="FrameType" data-dfn-type="enum-value" data-export="" id="dom-frametype-auxiliary"><code><c-s>"auxiliary"</c-s></code></dfn>,
              <dfn class="dfn-paneled idl-code" data-dfn-for="FrameType" data-dfn-type="enum-value" data-export="" id="dom-frametype-top-level"><code><c-s>"top-level"</c-s></code></dfn>,
              <dfn class="dfn-paneled idl-code" data-dfn-for="FrameType" data-dfn-type="enum-value" data-export="" id="dom-frametype-nested"><code><c-s>"nested"</c-s></code></dfn>,
              <dfn class="dfn-paneled idl-code" data-dfn-for="FrameType" data-dfn-type="enum-value" data-export="" id="dom-frametype-none"><code><c-s>"none"</c-s></code></dfn>
            };
            </pre>
        <p><code class="idl"><a data-link-type="idl" href="#client" id="ref-for-client③">Client</a></code>
          对象具有关联的<dfn class="dfn-paneled" data-dfn-for="Client" data-dfn-type="dfn" data-noexport=""
            id="dfn-service-worker-client-service-worker-client">服务工作线程客户端</dfn>（一个<a data-link-type="dfn"
            href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②⑥">服务工作线程客户端</a>）。</p>
        <p><code class="idl"><a data-link-type="idl" href="#client" id="ref-for-client④">Client</a></code>
          对象具有关联的<dfn class="dfn-paneled" data-dfn-for="Client" data-dfn-type="dfn" data-noexport=""
            id="dfn-service-worker-client-frame-type">框架类型</dfn>，它是
          "<code>auxiliary</code>"、"<code>top-level</code>"、"<code>nested</code>" 和 "<code>none</code>"
          之一。除非另有说明，否则为 "<code>none</code>"。</p>
        <p><code
            class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient③">WindowClient</a></code>
          对象具有关联的<dfn class="dfn-paneled" data-dfn-for="WindowClient" data-dfn-type="dfn" data-noexport=""
            id="dfn-service-worker-client-browsing-context">浏览上下文</dfn>，即其<a data-link-type="dfn"
            href="#dfn-service-worker-client-service-worker-client"
            id="ref-for-dfn-service-worker-client-service-worker-client">服务工作线程客户端</a>的<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
            id="ref-for-concept-settings-object-global⑤">全局对象</a>的<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
            id="ref-for-browsing-context⑤">浏览上下文</a>。</p>
        <p><code
            class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient④">WindowClient</a></code>
          对象具有关联的<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport=""
            id="dfn-service-worker-client-visibilitystate">可见性状态</dfn>，它是 <code
            class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/page-visibility/#dom-document-visibilitystate" id="ref-for-dom-document-visibilitystate">visibilityState</a></code>
          属性值之一。</p>
        <p><code
            class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient⑤">WindowClient</a></code>
          对象具有关联的<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport=""
            id="dfn-service-worker-client-focusstate">焦点状态</dfn>，其值为 true 或 false（初始为 false）。</p>
        <p><code
            class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient⑥">WindowClient</a></code>
          对象具有关联的<dfn class="dfn-paneled" data-dfn-for="WindowClient" data-dfn-type="dfn" data-noexport=""
            id="windowclient-ancestor-origins-array">祖先源数组</dfn>。</p>
        <section>
          <h4 class="heading settled" data-level="4.2.1" id="client-url"><span class="secno">4.2.1.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-client-url" id="ref-for-dom-client-url①">url</a></code></span><a
              class="self-link" href="#client-url"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="attribute" data-export=""
              id="dom-client-url"><code>url</code></dfn> getter 的步骤是返回<a data-link-type="dfn"
              href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑨">此对象</a>关联的<a data-link-type="dfn"
              href="#dfn-service-worker-client-service-worker-client"
              id="ref-for-dfn-service-worker-client-service-worker-client①">服务工作线程客户端</a>的<a data-link-type="dfn"
              href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer④">序列化</a><a
              data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
              id="ref-for-concept-environment-creation-url③">创建 URL</a>。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.2.2" id="client-frametype"><span class="secno">4.2.2.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-client-frametype" id="ref-for-dom-client-frametype①">frameType</a></code></span><a
              class="self-link" href="#client-frametype"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="attribute" data-export=""
              id="dom-client-frametype"><code>frameType</code></dfn> getter 的步骤是返回<a data-link-type="dfn"
              href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⓪">此对象</a>的<a data-link-type="dfn"
              href="#dfn-service-worker-client-frame-type" id="ref-for-dfn-service-worker-client-frame-type">框架类型</a>。
          </p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.2.3" id="client-id"><span class="secno">4.2.3.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-client-id" id="ref-for-dom-client-id①">id</a></code></span><a
              class="self-link" href="#client-id"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="attribute" data-export=""
              id="dom-client-id"><code>id</code></dfn> getter 的步骤是返回<a data-link-type="dfn"
              href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③①">此对象</a>关联的<a data-link-type="dfn"
              href="#dfn-service-worker-client-service-worker-client"
              id="ref-for-dfn-service-worker-client-service-worker-client②">服务工作线程客户端</a>的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id"
              id="ref-for-concept-environment-id">id</a>。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.2.4" id="client-type"><span class="secno">4.2.4.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-client-type" id="ref-for-dom-client-type①">type</a></code></span><a
              class="self-link" href="#client-type"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="attribute" data-export=""
              id="dom-client-type"><code>type</code></dfn> getter 的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>client</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this③②">此对象</a>的<a data-link-type="dfn"
                  href="#dfn-service-worker-client-service-worker-client"
                  id="ref-for-dfn-service-worker-client-service-worker-client③">服务工作线程客户端</a>。</p>
            </li>
            <li data-md="">
              <p>如果 <var>client</var> 是一个<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                  id="ref-for-environment-settings-object⑥">环境设置对象</a>，则：</p>
              <ol>
                <li data-md="">
                  <p>如果 <var>client</var> 是一个<a data-link-type="dfn" href="#dfn-window-client"
                      id="ref-for-dfn-window-client⑨">窗口客户端</a>，返回 <code
                      class="idl"><a data-link-type="idl" href="#dom-clienttype-window" id="ref-for-dom-clienttype-window">"window"</a></code>。
                  </p>
                </li>
                <li data-md="">
                  <p>否则，如果 <var>client</var> 是一个<a data-link-type="dfn" href="#dfn-dedicatedworker-client"
                      id="ref-for-dfn-dedicatedworker-client①">专用工作线程客户端</a>，返回
                    <code
                      class="idl"><a data-link-type="idl" href="#dom-clienttype-worker" id="ref-for-dom-clienttype-worker">"worker"</a></code>。
                  </p>
                </li>
                <li data-md="">
                  <p>否则，如果 <var>client</var> 是一个<a data-link-type="dfn" href="#dfn-sharedworker-client"
                      id="ref-for-dfn-sharedworker-client①">共享工作线程客户端</a>，返回 <code
                      class="idl"><a data-link-type="idl" href="#dom-clienttype-sharedworker" id="ref-for-dom-clienttype-sharedworker">"sharedworker"</a></code>。
                  </p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>否则：</p>
              <ol>
                <li data-md="">
                  <p>返回 <code
                      class="idl"><a data-link-type="idl" href="#dom-clienttype-window" id="ref-for-dom-clienttype-window①">"window"</a></code>。
                  </p>
                </li>
              </ol>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="client-postmessage">
          <h4 class="heading settled" data-level="4.2.5" id="client-postmessage"><span class="secno">4.2.5.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-client-postmessage" id="ref-for-dom-client-postmessage①">postMessage(message, transfer)</a></code></span><a
              class="self-link" href="#client-postmessage"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="method" data-export=""
              id="dom-client-postmessage"><code>postMessage(<var>message</var>, <var>transfer</var>)</code></dfn>
            方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>options</var> 为 «[ "transfer" → <var>transfer</var> ]»。</p>
            </li>
            <li data-md="">
              <p>使用 <var>message</var> 和 <var>options</var> 作为参数调用 <code
                  class="idl"><a data-link-type="idl" href="#dom-client-postmessage-message-options" id="ref-for-dom-client-postmessage-message-options③">postMessage(message, options)</a></code>。
              </p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="client-postmessage-options">
          <h4 class="heading settled" data-level="4.2.6" id="client-postmessage-options"><span class="secno">4.2.6.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-client-postmessage-message-options" id="ref-for-dom-client-postmessage-message-options④">postMessage(message, options)</a></code></span><a
              class="self-link" href="#client-postmessage-options"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="method" data-export=""
              data-lt="postMessage(message, options)|postMessage(message)"
              id="dom-client-postmessage-message-options"><code>postMessage(<var>message</var>, <var>options</var>)</code></dfn>
            方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>contextObject</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this③③">此对象</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>sourceSettings</var> 为 <var>contextObject</var> 的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                  id="ref-for-relevant-settings-object①⑥">相关设置对象</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>serializeWithTransferResult</var> 为 <a data-link-type="abstract-op"
                  href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"
                  id="ref-for-structuredserializewithtransfer①">StructuredSerializeWithTransfer</a>(<var>message</var>,
                <var>options</var>["<code
                  class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-structuredserializeoptions-transfer" id="ref-for-dom-structuredserializeoptions-transfer①">transfer</a></code>"])。
                重新抛出任何异常。
              </p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel⑨">并行</a>运行以下步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>targetClient</var> 为 null。</p>
                </li>
                <li data-md="">
                  <p>对于每个<a data-link-type="dfn" href="#dfn-service-worker-client"
                      id="ref-for-dfn-service-worker-client②⑦">服务工作线程客户端</a> <var>client</var>：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>如果 <var>client</var> 是 <var>contextObject</var> 的<a data-link-type="dfn"
                          href="#dfn-service-worker-client-service-worker-client"
                          id="ref-for-dfn-service-worker-client-service-worker-client④">服务工作线程客户端</a>，则将
                        <var>targetClient</var> 设置为 <var>client</var>，并<a data-link-type="dfn"
                          href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break">中断</a>。
                      </p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>如果 <var>targetClient</var> 为 null，则返回。</p>
                </li>
                <li data-md="">
                  <p>令 <var>destination</var> 为其关联的<a data-link-type="dfn"
                      href="#serviceworkercontainer-service-worker-client"
                      id="ref-for-serviceworkercontainer-service-worker-client⑧">服务工作线程客户端</a>为
                    <var>targetClient</var> 的 <code
                      class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①④">ServiceWorkerContainer</a></code>
                    对象。
                  </p>
                </li>
                <li data-md="">
                  <p>向 <var>destination</var> 的<a data-link-type="dfn" href="#dfn-client-message-queue"
                      id="ref-for-dfn-client-message-queue⑤">客户端消息队列</a>添加一个运行以下步骤的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                      id="ref-for-concept-task③">任务</a>：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>origin</var> 为 <var>sourceSettings</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                          id="ref-for-concept-settings-object-origin④">源</a>的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin"
                          id="ref-for-ascii-serialisation-of-an-origin①">序列化</a>。
                      </p>
                    </li>
                    <li data-md="">
                      <p>令 <var>source</var> 为<a data-link-type="dfn" href="#get-the-service-worker-object"
                          id="ref-for-get-the-service-worker-object⑥">获取服务工作线程对象</a>的结果，该对象表示
                        <var>contextObject</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                          id="ref-for-concept-relevant-global③">相关全局对象</a>的<a data-link-type="dfn"
                          href="#serviceworkerglobalscope-service-worker"
                          id="ref-for-serviceworkerglobalscope-service-worker⑥">服务工作线程</a>在
                        <var>targetClient</var> 中。
                      </p>
                    </li>
                    <li data-md="">
                      <p>令 <var>deserializeRecord</var> 为 <a data-link-type="abstract-op"
                          href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer"
                          id="ref-for-structureddeserializewithtransfer①">StructuredDeserializeWithTransfer</a>(<var>serializeWithTransferResult</var>,
                        <var>destination</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                          id="ref-for-concept-relevant-realm①">相关 Realm</a>)。
                      </p>
                      <p>如果此操作引发异常，则捕获该异常，使用 <code
                          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#messageevent" id="ref-for-messageevent">MessageEvent</a></code>
                        在 <var>destination</var> 处<a data-link-type="dfn"
                          href="https://dom.spec.whatwg.org/#concept-event-fire"
                          id="ref-for-concept-event-fire">触发</a>名为 <code
                          class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-container-messageerror-event" id="ref-for-service-worker-container-messageerror-event①">messageerror</a></code>
                        的事件，并将 <code
                          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-origin" id="ref-for-dom-messageevent-origin">origin</a></code>
                        属性初始化为 <var>origin</var>，将 <code
                          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-source" id="ref-for-dom-messageevent-source">source</a></code>
                        属性初始化为 <var>source</var>，然后中止这些步骤。
                      </p>
                    </li>
                    <li data-md="">
                      <p>令 <var>messageClone</var> 为
                        <var>deserializeRecord</var>.[[Deserialized]]。
                      </p>
                    </li>
                    <li data-md="">
                      <p>令 <var>newPorts</var> 为一个新的<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-frozen-array-type"
                          id="ref-for-dfn-frozen-array-type①">冻结数组</a>，其中包含
                        <var>deserializeRecord</var>.[[TransferredValues]] 中的所有 <code
                          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport①">MessagePort</a></code>
                        对象（如果存在）。
                      </p>
                    </li>
                    <li data-md="">
                      <p>使用 <code
                          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#messageevent" id="ref-for-messageevent①">MessageEvent</a></code>
                        在 <var>destination</var> 处<a data-link-type="dfn"
                          href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                          id="ref-for-concept-event-dispatch③">分派</a>名为 <code
                          class="idl"><a class="idl-code" data-link-type="event" href="https://html.spec.whatwg.org/multipage/indices.html#event-message" id="ref-for-event-message">message</a></code>
                        的事件，并将 <code
                          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-origin" id="ref-for-dom-messageevent-origin①">origin</a></code>
                        属性初始化为 <var>origin</var>，将 <code
                          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-source" id="ref-for-dom-messageevent-source①">source</a></code>
                        属性初始化为 <var>source</var>，将 <code
                          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-data" id="ref-for-dom-messageevent-data">data</a></code>
                        属性初始化为 <var>messageClone</var>，并将 <code
                          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-ports" id="ref-for-dom-messageevent-ports">ports</a></code>
                        属性初始化为 <var>newPorts</var>。
                      </p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
          </ol>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.2.7" id="client-visibilitystate"><span class="secno">4.2.7.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-windowclient-visibilitystate" id="ref-for-dom-windowclient-visibilitystate①">visibilityState</a></code></span><a
              class="self-link" href="#client-visibilitystate"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient" data-dfn-type="attribute" data-export=""
              id="dom-windowclient-visibilitystate"><code>visibilityState</code></dfn>
            getter 的步骤是返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
              id="ref-for-this③④">此对象</a>的<a data-link-type="dfn" href="#dfn-service-worker-client-visibilitystate"
              id="ref-for-dfn-service-worker-client-visibilitystate">可见性状态</a>。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.2.8" id="client-focused"><span class="secno">4.2.8.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-windowclient-focused" id="ref-for-dom-windowclient-focused①">focused</a></code></span><a
              class="self-link" href="#client-focused"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient" data-dfn-type="attribute" data-export=""
              id="dom-windowclient-focused"><code>focused</code></dfn> getter 的步骤是返回<a data-link-type="dfn"
              href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑤">此对象</a>的<a data-link-type="dfn"
              href="#dfn-service-worker-client-focusstate" id="ref-for-dfn-service-worker-client-focusstate">焦点状态</a>。
          </p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.2.9" id="client-ancestororigins"><span class="secno">4.2.9.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-windowclient-ancestororigins" id="ref-for-dom-windowclient-ancestororigins①">ancestorOrigins</a></code></span><a
              class="self-link" href="#client-ancestororigins"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient" data-dfn-type="attribute" data-export=""
              id="dom-windowclient-ancestororigins"><code>ancestorOrigins</code></dfn>
            getter 的步骤是返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
              id="ref-for-this③⑥">此对象</a>关联的<a data-link-type="dfn" href="#windowclient-ancestor-origins-array"
              id="ref-for-windowclient-ancestor-origins-array">祖先源数组</a>。</p>
        </section>
        <section class="algorithm" data-algorithm="client-focus">
          <h4 class="heading settled" data-level="4.2.10" id="client-focus"><span class="secno">4.2.10.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-windowclient-focus" id="ref-for-dom-windowclient-focus①">focus()</a></code></span><a
              class="self-link" href="#client-focus"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient" data-dfn-type="method" data-export=""
              id="dom-windowclient-focus"><code>focus()</code></dfn> 方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>如果此<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
                  id="ref-for-concept-origin⑧">源</a>中没有 <code
                  class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window③">Window</a></code>
                具有<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"
                  id="ref-for-transient-activation">瞬时激活</a>，则返回一个用 "<code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidaccesserror" id="ref-for-invalidaccesserror">InvalidAccessError</a></code>"
                <code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>
                <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects⑥">拒绝的 promise</a>。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>serviceWorkerEventLoop</var> 为<a data-link-type="dfn"
                  href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent"
                  id="ref-for-surrounding-agent">周围代理</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop"
                  id="ref-for-concept-agent-event-loop">事件循环</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>promise</var> 为一个新的<a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects⑦">promise</a>。</p>
            </li>
            <li data-md="">
              <p>使用<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source"
                  id="ref-for-user-interaction-task-source">用户交互任务源</a>，在<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑦">此对象</a>关联的<a data-link-type="dfn"
                  href="#dfn-service-worker-client-service-worker-client"
                  id="ref-for-dfn-service-worker-client-service-worker-client⑤">服务工作线程客户端</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                  id="ref-for-responsible-event-loop②">负责事件循环</a>上<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                  id="ref-for-queue-a-task⑤">排队一个任务</a>以运行以下步骤：</p>
              <ol>
                <li data-md="">
                  <p>使用<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                      id="ref-for-this③⑧">此对象</a>的<a data-link-type="dfn"
                      href="#dfn-service-worker-client-browsing-context"
                      id="ref-for-dfn-service-worker-client-browsing-context">浏览上下文</a>运行<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps"
                      id="ref-for-focusing-steps">聚焦步骤</a>。
                  </p>
                </li>
                <li data-md="">
                  <p>令 <var>frameType</var> 为使用<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                      id="ref-for-this③⑨">此对象</a>的<a data-link-type="dfn"
                      href="#dfn-service-worker-client-browsing-context"
                      id="ref-for-dfn-service-worker-client-browsing-context①">浏览上下文</a>运行<a data-link-type="dfn"
                      href="#get-frame-type" id="ref-for-get-frame-type">获取框架类型</a>的结果。
                  </p>
                </li>
                <li data-md="">
                  <p>令 <var>visibilityState</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                      id="ref-for-this④⓪">此对象</a>的<a data-link-type="dfn"
                      href="#dfn-service-worker-client-browsing-context"
                      id="ref-for-dfn-service-worker-client-browsing-context②">浏览上下文</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                      id="ref-for-nav-document①">活动文档</a>的 <code
                      class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/page-visibility/#dom-document-visibilitystate" id="ref-for-dom-document-visibilitystate①">visibilityState</a></code>
                    属性值。
                  </p>
                </li>
                <li data-md="">
                  <p>令 <var>focusState</var> 为使用<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                      id="ref-for-this④①">此对象</a>的<a data-link-type="dfn"
                      href="#dfn-service-worker-client-browsing-context"
                      id="ref-for-dfn-service-worker-client-browsing-context③">浏览上下文</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                      id="ref-for-nav-document②">活动文档</a>运行<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps"
                      id="ref-for-has-focus-steps">具有焦点步骤</a>的结果。</p>
                </li>
                <li data-md="">
                  <p>令 <var>ancestorOriginsList</var> 为<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④②">此对象</a>的<a data-link-type="dfn"
                      href="#dfn-service-worker-client-browsing-context"
                      id="ref-for-dfn-service-worker-client-browsing-context④">浏览上下文</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                      id="ref-for-nav-document③">活动文档</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                      id="ref-for-concept-relevant-global④">相关全局对象</a>的 <code
                      class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" id="ref-for-location">Location</a></code>
                    对象的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/browsers.html#concept-location-ancestor-origins-list"
                      id="ref-for-concept-location-ancestor-origins-list">祖先源列表</a>的关联列表。
                  </p>
                </li>
                <li data-md="">
                  <p>使用<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source③">DOM 操作任务源</a>，在
                    <var>serviceWorkerEventLoop</var> 上<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task⑥">排队一个任务</a>以运行以下步骤：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>windowClient</var> 为使用<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④③">此对象</a>关联的<a
                          data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client"
                          id="ref-for-dfn-service-worker-client-service-worker-client⑥">服务工作线程客户端</a>、<var>frameType</var>、<var>visibilityState</var>、<var>focusState</var>
                        和 <var>ancestorOriginsList</var> 运行<a data-link-type="dfn" href="#create-window-client"
                          id="ref-for-create-window-client">创建窗口客户端</a>的结果。
                      </p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>windowClient</var> 的<a data-link-type="dfn"
                          href="#dfn-service-worker-client-focusstate"
                          id="ref-for-dfn-service-worker-client-focusstate①">焦点状态</a>为 true，则用
                        <var>windowClient</var> 解析 <var>promise</var>。
                      </p>
                    </li>
                    <li data-md="">
                      <p>否则，用 <code>TypeError</code> 拒绝 <var>promise</var>。</p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="client-navigate">
          <h4 class="heading settled" data-level="4.2.11" id="client-navigate"><span class="secno">4.2.11.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-windowclient-navigate" id="ref-for-dom-windowclient-navigate①">navigate(url)</a></code></span><a
              class="self-link" href="#client-navigate"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient" data-dfn-type="method" data-export=""
              id="dom-windowclient-navigate"><code>navigate(url)</code></dfn> 方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>url</var> 为使用<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this④④">此对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                  id="ref-for-relevant-settings-object①⑦">相关设置对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                  id="ref-for-api-base-url③">API 基本 URL</a> <a data-link-type="dfn"
                  href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser③">解析</a>
                <var>url</var> 的结果。
              </p>
            </li>
            <li data-md="">
              <p>如果 <var>url</var> 解析失败，则返回一个用 <code>TypeError</code> <a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects⑧">拒绝的
                  promise</a>。
              </p>
            </li>
            <li data-md="">
              <p>如果 <var>url</var> 是 <code>about:blank</code>，则返回一个用 <code>TypeError</code> <a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects⑨">拒绝的
                  promise</a>。
              </p>
            </li>
            <li data-md="">
              <p>如果<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑤">此对象</a>关联的<a
                  data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client"
                  id="ref-for-dfn-service-worker-client-service-worker-client⑦">服务工作线程客户端</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                  id="ref-for-concept-environment-active-service-worker②①">活动服务工作线程</a>不是<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑥">此对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                  id="ref-for-concept-relevant-global⑤">相关全局对象</a>的<a data-link-type="dfn"
                  href="#serviceworkerglobalscope-service-worker"
                  id="ref-for-serviceworkerglobalscope-service-worker⑦">服务工作线程</a>，则返回一个用
                <code>TypeError</code> <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects①⓪">拒绝的 promise</a>。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>serviceWorkerEventLoop</var> 为<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                  id="ref-for-current-global-object">当前全局对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                  id="ref-for-event-loop⑥">事件循环</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>promise</var> 为一个新的<a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects①①">promise</a>。</p>
            </li>
            <li data-md="">
              <p>使用<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source"
                  id="ref-for-user-interaction-task-source①">用户交互任务源</a>，在<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑦">此对象</a>关联的<a data-link-type="dfn"
                  href="#dfn-service-worker-client-service-worker-client"
                  id="ref-for-dfn-service-worker-client-service-worker-client⑧">服务工作线程客户端</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                  id="ref-for-responsible-event-loop③">负责事件循环</a>上<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                  id="ref-for-queue-a-task⑦">排队一个任务</a>以运行以下步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>browsingContext</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                      id="ref-for-this④⑧">此对象</a>的<a data-link-type="dfn"
                      href="#dfn-service-worker-client-browsing-context"
                      id="ref-for-dfn-service-worker-client-browsing-context⑤">浏览上下文</a>。
                  </p>
                </li>
                <li data-md="">
                  <p>如果 <var>browsingContext</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                      id="ref-for-concept-document-window①">关联文档</a>未<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"
                      id="ref-for-fully-active">完全激活</a>，则使用<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source④">DOM 操作任务源</a>在
                    <var>serviceWorkerEventLoop</var> 上<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task⑧">排队一个任务</a>以用 <code>TypeError</code> 拒绝
                    <var>promise</var>，并中止这些步骤。
                  </p>
                </li>
                <li data-md="">
                  <p><em>HandleNavigate</em>：使用 <var>browsingContext</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                      id="ref-for-concept-document-window②">关联文档</a>，将 <var>browsingContext</var>
                    <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                      id="ref-for-navigate④">导航</a>到 <var>url</var>，并将<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled"
                      id="ref-for-exceptions-enabled">exceptionsEnabled</a> 设置为 true。
                  </p>
                </li>
                <li data-md="">
                  <p>如果在标记为 <em>HandleNavigate</em> 的步骤中调用的算法步骤<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw">抛出</a>异常，则使用<a
                      data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source⑤">DOM 操作任务源</a>在
                    <var>serviceWorkerEventLoop</var> 上<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task⑨">排队一个任务</a>以用该异常拒绝 <var>promise</var>，并中止这些步骤。
                  </p>
                </li>
                <li data-md="">
                  <p>令 <var>frameType</var> 为使用 <var>browsingContext</var> 运行<a data-link-type="dfn"
                      href="#get-frame-type" id="ref-for-get-frame-type①">获取框架类型</a>的结果。
                  </p>
                </li>
                <li data-md="">
                  <p>令 <var>visibilityState</var> 为 <var>browsingContext</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                      id="ref-for-nav-document④">活动文档</a>的 <code
                      class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/page-visibility/#dom-document-visibilitystate" id="ref-for-dom-document-visibilitystate②">visibilityState</a></code>
                    属性值。</p>
                </li>
                <li data-md="">
                  <p>令 <var>focusState</var> 为使用 <var>browsingContext</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                      id="ref-for-nav-document⑤">活动文档</a>运行<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps"
                      id="ref-for-has-focus-steps①">具有焦点步骤</a>的结果。
                  </p>
                </li>
                <li data-md="">
                  <p>令 <var>ancestorOriginsList</var> 为 <var>browsingContext</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                      id="ref-for-nav-document⑥">活动文档</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                      id="ref-for-concept-relevant-global⑥">相关全局对象</a>的 <code
                      class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" id="ref-for-location①">Location</a></code>
                    对象的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/browsers.html#concept-location-ancestor-origins-list"
                      id="ref-for-concept-location-ancestor-origins-list①">祖先源列表</a>的关联列表。</p>
                </li>
                <li data-md="">
                  <p>使用<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source⑥">DOM 操作任务源</a>，在
                    <var>serviceWorkerEventLoop</var> 上<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task①⓪">排队一个任务</a>以运行以下步骤：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>如果 <var>browsingContext</var> 的 <code
                          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window④">Window</a></code>
                        对象的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                          id="ref-for-environment-settings-object⑦">环境设置对象</a>的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                          id="ref-for-concept-environment-creation-url④">创建 URL</a>的<a data-link-type="dfn"
                          href="https://url.spec.whatwg.org/#concept-url-origin"
                          id="ref-for-concept-url-origin①">源</a>与<a data-link-type="dfn"
                          href="#serviceworkerglobalscope-service-worker"
                          id="ref-for-serviceworkerglobalscope-service-worker⑧">服务工作线程</a>的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                          id="ref-for-concept-settings-object-origin⑤">源</a>不<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin"
                          id="ref-for-same-origin③">相同</a>，则用 null 解析 <var>promise</var>
                        并中止这些步骤。
                      </p>
                    </li>
                    <li data-md="">
                      <p>令 <var>windowClient</var> 为使用<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑨">此对象</a>的<a
                          data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client"
                          id="ref-for-dfn-service-worker-client-service-worker-client⑨">服务工作线程客户端</a>、<var>frameType</var>、<var>visibilityState</var>、<var>focusState</var>
                        和 <var>ancestorOriginsList</var> 运行<a data-link-type="dfn" href="#create-window-client"
                          id="ref-for-create-window-client①">创建窗口客户端</a>的结果。
                      </p>
                    </li>
                    <li data-md="">
                      <p>用 <var>windowClient</var> 解析 <var>promise</var>。</p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
      </section>

      <section>
        <h3 class="heading settled" data-level="4.3" id="clients-interface"><span class="secno">4.3.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#clients" id="ref-for-clients②">Clients</a></code>
            接口</span><a class="self-link" href="#clients-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑦"><c-g>Exposed</c-g></a>=<c-n>ServiceWorker</c-n>]
            <c-b>interface</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="clients"><code><c-g>Clients</c-g></code></dfn> {
              // 返回的对象每次都将是新的实例
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject⑧"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①③"><c-b>Promise</c-b></a>&lt;(<a data-link-type="idl-name" href="#client" id="ref-for-client⑤"><c-n>Client</c-n></a> <c-b>or</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①①"><c-b>undefined</c-b></a>)&gt; <a class="idl-code" data-link-type="method" href="#dom-clients-get" id="ref-for-dom-clients-get"><c-g>get</c-g></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c-b>DOMString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Clients/get(id)" data-dfn-type="argument" data-export="" id="dom-clients-get-id-id"><code><c-g>id</c-g></code></dfn>);
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject⑨"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①④"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array②"><c-b>FrozenArray</c-b></a>&lt;<a data-link-type="idl-name" href="#client" id="ref-for-client⑥"><c-n>Client</c-n></a>&gt;&gt; <a class="idl-code" data-link-type="method" href="#dom-clients-matchall" id="ref-for-dom-clients-matchall"><c-g>matchAll</c-g></a>(<c-b>optional</c-b> <a data-link-type="idl-name" href="#dictdef-clientqueryoptions" id="ref-for-dictdef-clientqueryoptions"><c-n>ClientQueryOptions</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Clients/matchAll(options), Clients/matchAll()" data-dfn-type="argument" data-export="" id="dom-clients-matchall-options-options"><code><c-g>options</c-g></code></dfn> = {});
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⓪"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑤"><c-b>Promise</c-b></a>&lt;<a data-link-type="idl-name" href="#windowclient" id="ref-for-windowclient⑦"><c-n>WindowClient</c-n></a>?&gt; <a class="idl-code" data-link-type="method" href="#dom-clients-openwindow" id="ref-for-dom-clients-openwindow"><c-g>openWindow</c-g></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑧"><c-b>USVString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Clients/openWindow(url)" data-dfn-type="argument" data-export="" id="dom-clients-openwindow-url-url"><code><c-g>url</c-g></code></dfn>);
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①①"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑥"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①②"><c-b>undefined</c-b></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-clients-claim" id="ref-for-dom-clients-claim"><c-g>claim</c-g></a>();
            };
            </pre>
        <pre class="idl highlight def" id="serviceworker-client-query-options-dictionary"><c-b>dictionary</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-clientqueryoptions"><code><c-g>ClientQueryOptions</c-g></code></dfn> {
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③"><c-b>boolean</c-b></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="ClientQueryOptions" data-dfn-type="dict-member" data-export="" data-type="boolean" id="dom-clientqueryoptions-includeuncontrolled"><code><c-g>includeUncontrolled</c-g></code></dfn> = <c-b>false</c-b>;
              <a data-link-type="idl-name" href="#enumdef-clienttype" id="ref-for-enumdef-clienttype①"><c-n>ClientType</c-n></a> <dfn class="dfn-paneled idl-code" data-default="&quot;window&quot;" data-dfn-for="ClientQueryOptions" data-dfn-type="dict-member" data-export="" data-type="ClientType" id="dom-clientqueryoptions-type"><code><c-g>type</c-g></code></dfn> = "window";
            };
            </pre>
        <pre class="idl highlight def" id="client-type-enum"><c-b>enum</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-clienttype"><code><c-g>ClientType</c-g></code></dfn> {
              <dfn class="dfn-paneled idl-code" data-dfn-for="ClientType" data-dfn-type="enum-value" data-export="" id="dom-clienttype-window"><code><c-s>"window"</c-s></code></dfn>,
              <dfn class="dfn-paneled idl-code" data-dfn-for="ClientType" data-dfn-type="enum-value" data-export="" id="dom-clienttype-worker"><code><c-s>"worker"</c-s></code></dfn>,
              <dfn class="dfn-paneled idl-code" data-dfn-for="ClientType" data-dfn-type="enum-value" data-export="" id="dom-clienttype-sharedworker"><code><c-s>"sharedworker"</c-s></code></dfn>,
              <dfn class="dfn-paneled idl-code" data-dfn-for="ClientType" data-dfn-type="enum-value" data-export="" id="dom-clienttype-all"><code><c-s>"all"</c-s></code></dfn>
            };
            </pre>
        <p>用户代理在创建 <code
            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①①">ServiceWorkerGlobalScope</a></code>
          对象时<em>必须</em>创建一个 <code
            class="idl"><a data-link-type="idl" href="#clients" id="ref-for-clients③">Clients</a></code>
          对象，并将其与该对象关联。</p>
        <section class="algorithm" data-algorithm="clients-get">
          <h4 class="heading settled" data-level="4.3.1" id="clients-get"><span class="secno">4.3.1.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-clients-get" id="ref-for-dom-clients-get①">get(id)</a></code></span><a
              class="self-link" href="#clients-get"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Clients" data-dfn-type="method" data-export=""
              id="dom-clients-get"><code>get(<var>id</var>)</code></dfn> 方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>promise</var> 为一个新的 <a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects①②">promise</a>。</p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel①⓪">并行</a>运行这些子步骤：</p>
              <ol>
                <li data-md="">
                  <p>对于每个<a data-link-type="dfn" href="#dfn-service-worker-client"
                      id="ref-for-dfn-service-worker-client②⑧">服务工作线程客户端</a>
                    <var>client</var>，其中运行<a data-link-type="dfn"
                      href="https://storage.spec.whatwg.org/#obtain-a-storage-key"
                      id="ref-for-obtain-a-storage-key③">获取存储密钥</a>（给定 <var>client</var>）的结果<a data-link-type="dfn"
                      href="https://storage.spec.whatwg.org/#storage-key-equal"
                      id="ref-for-storage-key-equal①">等于</a>关联的<a data-link-type="dfn"
                      href="#serviceworkerglobalscope-service-worker"
                      id="ref-for-serviceworkerglobalscope-service-worker⑨">服务工作线程</a>的<a data-link-type="dfn"
                      href="#dfn-containing-service-worker-registration"
                      id="ref-for-dfn-containing-service-worker-registration⑥">包含的服务工作线程注册</a>的<a data-link-type="dfn"
                      href="#service-worker-registration-storage-key"
                      id="ref-for-service-worker-registration-storage-key④">存储密钥</a>：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>如果 <var>client</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id"
                          id="ref-for-concept-environment-id①">id</a> 不是 <var>id</var>，则<a data-link-type="dfn"
                          href="https://infra.spec.whatwg.org/#iteration-continue"
                          id="ref-for-iteration-continue">继续</a>。</p>
                    </li>
                    <li data-md="">
                      <p>等待 <var>client</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag"
                          id="ref-for-concept-environment-execution-ready-flag">执行就绪标志</a>被设置，或者
                        <var>client</var> 的<a data-link-type="dfn" href="#service-worker-client-discarded-flag"
                          id="ref-for-service-worker-client-discarded-flag②">丢弃标志</a>被设置。
                      </p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>client</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag"
                          id="ref-for-concept-environment-execution-ready-flag①">执行就绪标志</a>已设置，则使用
                        <var>client</var> 和 <var>promise</var> 调用<a data-link-type="dfn"
                          href="#resolve-get-client-promise" id="ref-for-resolve-get-client-promise">解析 Get Client
                          Promise</a>，并中止这些步骤。
                      </p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>用 undefined 解析 <var>promise</var>。</p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="clients-matchall">
          <h4 class="heading settled" data-level="4.3.2" id="clients-matchall"><span class="secno">4.3.2.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-clients-matchall" id="ref-for-dom-clients-matchall①">matchAll(options)</a></code></span><a
              class="self-link" href="#clients-matchall"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Clients" data-dfn-type="method" data-export=""
              data-lt="matchAll(options)|matchAll()"
              id="dom-clients-matchall"><code>matchAll(<var>options</var>)</code></dfn> 方法的步骤是：
          </p>
          <ol>
            <li data-md="">
              <p>令 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                  id="ref-for-a-new-promise⑦">一个新的 promise</a>。</p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel①①">并行</a>运行以下步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>targetClients</var> 为一个新的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                      id="ref-for-list④">列表</a>。</p>
                </li>
                <li data-md="">
                  <p>对于每个<a data-link-type="dfn" href="#dfn-service-worker-client"
                      id="ref-for-dfn-service-worker-client②⑨">服务工作线程客户端</a>
                    <var>client</var>，其中运行<a data-link-type="dfn"
                      href="https://storage.spec.whatwg.org/#obtain-a-storage-key"
                      id="ref-for-obtain-a-storage-key④">获取存储密钥</a>（给定 <var>client</var>）的结果<a data-link-type="dfn"
                      href="https://storage.spec.whatwg.org/#storage-key-equal"
                      id="ref-for-storage-key-equal②">等于</a>关联的<a data-link-type="dfn"
                      href="#serviceworkerglobalscope-service-worker"
                      id="ref-for-serviceworkerglobalscope-service-worker①⓪">服务工作线程</a>的<a data-link-type="dfn"
                      href="#dfn-containing-service-worker-registration"
                      id="ref-for-dfn-containing-service-worker-registration⑦">包含的服务工作线程注册</a>的<a data-link-type="dfn"
                      href="#service-worker-registration-storage-key"
                      id="ref-for-service-worker-registration-storage-key⑤">存储密钥</a>：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>如果 <var>client</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag"
                          id="ref-for-concept-environment-execution-ready-flag②">执行就绪标志</a>未设置，或者
                        <var>client</var> 的<a data-link-type="dfn" href="#service-worker-client-discarded-flag"
                          id="ref-for-service-worker-client-discarded-flag③">丢弃标志</a>已设置，则<a data-link-type="dfn"
                          href="https://infra.spec.whatwg.org/#iteration-continue"
                          id="ref-for-iteration-continue①">继续</a>。
                      </p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>client</var> 不是<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                          id="ref-for-secure-context">安全上下文</a>，则<a data-link-type="dfn"
                          href="https://infra.spec.whatwg.org/#iteration-continue"
                          id="ref-for-iteration-continue②">继续</a>。</p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>options</var>["<code
                          class="idl"><a data-link-type="idl" href="#dom-clientqueryoptions-includeuncontrolled" id="ref-for-dom-clientqueryoptions-includeuncontrolled">includeUncontrolled</a></code>"]
                        为 false，并且如果 <var>client</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                          id="ref-for-concept-environment-active-service-worker②②">活动服务工作线程</a>不是关联的<a
                          data-link-type="dfn" href="#serviceworkerglobalscope-service-worker"
                          id="ref-for-serviceworkerglobalscope-service-worker①①">服务工作线程</a>，则<a data-link-type="dfn"
                          href="https://infra.spec.whatwg.org/#iteration-continue"
                          id="ref-for-iteration-continue③">继续</a>。</p>
                    </li>
                    <li data-md="">
                      <p>将 <var>client</var> 添加到 <var>targetClients</var>。</p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>令 <var>matchedWindowData</var> 为一个新的<a data-link-type="dfn"
                      href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">列表</a>。</p>
                </li>
                <li data-md="">
                  <p>令 <var>matchedClients</var> 为一个新的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                      id="ref-for-list⑥">列表</a>。</p>
                </li>
                <li data-md="">
                  <p>对于 <var>targetClients</var> 中的每个<a data-link-type="dfn" href="#dfn-service-worker-client"
                      id="ref-for-dfn-service-worker-client③⓪">服务工作线程客户端</a> <var>client</var>：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>如果 <var>options</var>["<code
                          class="idl"><a data-link-type="idl" href="#dom-clientqueryoptions-type" id="ref-for-dom-clientqueryoptions-type">type</a></code>"]
                        是 <code
                          class="idl"><a data-link-type="idl" href="#dom-clienttype-window" id="ref-for-dom-clienttype-window②">"window"</a></code>
                        或 <code
                          class="idl"><a data-link-type="idl" href="#dom-clienttype-all" id="ref-for-dom-clienttype-all">"all"</a></code>，并且
                        <var>client</var> 不是<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                          id="ref-for-environment-settings-object⑧">环境设置对象</a>或者是<a data-link-type="dfn"
                          href="#dfn-window-client" id="ref-for-dfn-window-client①⓪">窗口客户端</a>，则：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>令 <var>windowData</var> 为 «[ "client" → <var>client</var>,
                            "ancestorOriginsList" → 一个新的<a data-link-type="dfn"
                              href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑦">列表</a> ]»。</p>
                        </li>
                        <li data-md="">
                          <p>令 <var>browsingContext</var> 为 null。</p>
                        </li>
                        <li data-md="">
                          <p>令 <var>isClientEnumerable</var> 为 true。</p>
                        </li>
                        <li data-md="">
                          <p>如果 <var>client</var> 是一个<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                              id="ref-for-environment-settings-object⑨">环境设置对象</a>，则将
                            <var>browsingContext</var> 设置为 <var>client</var> 的<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
                              id="ref-for-concept-settings-object-global⑥">全局对象</a>的<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
                              id="ref-for-browsing-context⑥">浏览上下文</a>。
                          </p>
                        </li>
                        <li data-md="">
                          <p>否则，将 <var>browsingContext</var> 设置为 <var>client</var> 的<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context"
                              id="ref-for-concept-environment-target-browsing-context">目标浏览上下文</a>。
                          </p>
                        </li>
                        <li data-md="">
                          <p>使用<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source"
                              id="ref-for-user-interaction-task-source②">用户交互任务源</a>，在
                            <var>browsingContext</var> 的<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                              id="ref-for-event-loop⑦">事件循环</a>上<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                              id="ref-for-queue-a-task①①">排队一个任务</a> <var>task</var>
                            以运行以下子步骤：
                          </p>
                          <ol>
                            <li data-md="">
                              <p>如果 <var>browsingContext</var> 已被<a data-link-type="dfn"
                                  href="https://wicg.github.io/page-lifecycle/#discarded"
                                  id="ref-for-discarded">丢弃</a>，则将
                                <var>isClientEnumerable</var> 设置为 false 并中止这些步骤。
                              </p>
                            </li>
                            <li data-md="">
                              <p>如果 <var>client</var> 是一个窗口客户端并且 <var>client</var> 的<a data-link-type="dfn"
                                  href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"
                                  id="ref-for-concept-document-window③">关联文档</a>不是
                                <var>browsingContext</var> 的<a data-link-type="dfn"
                                  href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                                  id="ref-for-nav-document⑦">活动文档</a>，则将
                                <var>isClientEnumerable</var> 设置为 false 并中止这些步骤。
                              </p>
                            </li>
                            <li data-md="">
                              <p>将 <var>windowData</var>["<code>frameType</code>"] 设置为使用
                                <var>browsingContext</var> 运行<a data-link-type="dfn" href="#get-frame-type"
                                  id="ref-for-get-frame-type②">获取框架类型</a>的结果。
                              </p>
                            </li>
                            <li data-md="">
                              <p>将 <var>windowData</var>["<code>visibilityState</code>"]
                                设置为 <var>browsingContext</var> 的<a data-link-type="dfn"
                                  href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                                  id="ref-for-nav-document⑧">活动文档</a>的 <code
                                  class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/page-visibility/#dom-document-visibilitystate" id="ref-for-dom-document-visibilitystate③">visibilityState</a></code>
                                属性值。
                              </p>
                            </li>
                            <li data-md="">
                              <p>将 <var>windowData</var>["<code>focusState</code>"] 设置为使用
                                <var>browsingContext</var> 的<a data-link-type="dfn"
                                  href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                                  id="ref-for-nav-document⑨">活动文档</a>作为参数运行<a data-link-type="dfn"
                                  href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps"
                                  id="ref-for-has-focus-steps②">具有焦点步骤</a>的结果。
                              </p>
                            </li>
                            <li data-md="">
                              <p>如果 <var>client</var> 是一个<a data-link-type="dfn" href="#dfn-window-client"
                                  id="ref-for-dfn-window-client①①">窗口客户端</a>，则将
                                <var>windowData</var>["<code>ancestorOriginsList</code>"]
                                设置为 <var>browsingContext</var> 的<a data-link-type="dfn"
                                  href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                                  id="ref-for-nav-document①⓪">活动文档</a>的<a data-link-type="dfn"
                                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                                  id="ref-for-concept-relevant-global⑦">相关全局对象</a>的
                                <code
                                  class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" id="ref-for-location②">Location</a></code>
                                对象的<a data-link-type="dfn"
                                  href="https://html.spec.whatwg.org/multipage/browsers.html#concept-location-ancestor-origins-list"
                                  id="ref-for-concept-location-ancestor-origins-list②">祖先源列表</a>的关联列表。
                              </p>
                            </li>
                          </ol>
                        </li>
                        <li data-md="">
                          <p>等待 <var>task</var> 执行完毕。</p>
                          <p class="note" role="note"><span class="marker">注意：</span>等待是阻塞等待，但实现者可以并行运行迭代，只要状态不被破坏。</p>
                        </li>
                        <li data-md="">
                          <p>如果 <var>isClientEnumerable</var> 为 true，则：</p>
                          <ol>
                            <li data-md="">
                              <p>将 <var>windowData</var> 添加到 <var>matchedWindowData</var>。
                              </p>
                            </li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                    <li data-md="">
                      <p>否则，如果 <var>options</var>["<code
                          class="idl"><a data-link-type="idl" href="#dom-clientqueryoptions-type" id="ref-for-dom-clientqueryoptions-type①">type</a></code>"]
                        是 <code
                          class="idl"><a data-link-type="idl" href="#dom-clienttype-worker" id="ref-for-dom-clienttype-worker①">"worker"</a></code>
                        或 <code
                          class="idl"><a data-link-type="idl" href="#dom-clienttype-all" id="ref-for-dom-clienttype-all①">"all"</a></code>
                        并且 <var>client</var> 是一个<a data-link-type="dfn" href="#dfn-dedicatedworker-client"
                          id="ref-for-dfn-dedicatedworker-client②">专用工作线程客户端</a>，或者
                        <var>options</var>["<code
                          class="idl"><a data-link-type="idl" href="#dom-clientqueryoptions-type" id="ref-for-dom-clientqueryoptions-type②">type</a></code>"]
                        是 <code
                          class="idl"><a data-link-type="idl" href="#dom-clienttype-sharedworker" id="ref-for-dom-clienttype-sharedworker①">"sharedworker"</a></code>
                        或 <code
                          class="idl"><a data-link-type="idl" href="#dom-clienttype-all" id="ref-for-dom-clienttype-all②">"all"</a></code>
                        并且 <var>client</var> 是一个<a data-link-type="dfn" href="#dfn-sharedworker-client"
                          id="ref-for-dfn-sharedworker-client②">共享工作线程客户端</a>，则：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>将 <var>client</var> 添加到 <var>matchedClients</var>。</p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>使用<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source⑦">DOM 操作任务源</a>，在
                    <var>promise</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                      id="ref-for-relevant-settings-object①⑧">相关设置对象</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                      id="ref-for-responsible-event-loop④">负责事件循环</a>上<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task①②">排队一个任务</a>以运行以下步骤：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>clientObjects</var> 为一个新的<a data-link-type="dfn"
                          href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑧">列表</a>。</p>
                    </li>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                          id="ref-for-list-iterate②">对于</a> <var>matchedWindowData</var> 中的每个
                        <var>windowData</var>：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>令 <var>windowClient</var> 为使用
                            <var>windowData</var>["<code>client</code>"]、<var>windowData</var>["<code>frameType</code>"]、<var>windowData</var>["<code>visibilityState</code>"]、<var>windowData</var>["<code>focusState</code>"]
                            和 <var>windowData</var>["<code>ancestorOriginsList</code>"]
                            作为参数运行<a data-link-type="dfn" href="#create-window-client"
                              id="ref-for-create-window-client②">创建窗口客户端</a>算法的结果。
                          </p>
                        </li>
                        <li data-md="">
                          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                              id="ref-for-list-append②">追加</a> <var>windowClient</var> 到
                            <var>clientObjects</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                          id="ref-for-list-iterate③">对于</a> <var>matchedClients</var> 中的每个
                        <var>client</var>：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>令 <var>clientObject</var> 为使用 <var>client</var> 作为参数运行<a data-link-type="dfn"
                              href="#create-client" id="ref-for-create-client">创建客户端</a>算法的结果。
                          </p>
                        </li>
                        <li data-md="">
                          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                              id="ref-for-list-append③">追加</a> <var>clientObject</var> 到
                            <var>clientObjects</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                    <li data-md="">
                      <p>对 <var>clientObjects</var> 进行排序，使得：</p>
                      <ul>
                        <li data-md="">
                          <p>其<a data-link-type="dfn" href="#dfn-service-worker-client-browsing-context"
                              id="ref-for-dfn-service-worker-client-browsing-context⑥">浏览上下文</a>已被<a
                              data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps"
                              id="ref-for-focusing-steps①">聚焦</a>的 <code
                              class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient⑧">WindowClient</a></code>
                            对象排在最前面，按最近<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps"
                              id="ref-for-focusing-steps②">聚焦</a>的顺序排序。</p>
                        </li>
                        <li data-md="">
                          <p>其<a data-link-type="dfn" href="#dfn-service-worker-client-browsing-context"
                              id="ref-for-dfn-service-worker-client-browsing-context⑦">浏览上下文</a>从未被<a
                              data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps"
                              id="ref-for-focusing-steps③">聚焦</a>的 <code
                              class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient⑨">WindowClient</a></code>
                            对象排在其次，按其<a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client"
                              id="ref-for-dfn-service-worker-client-service-worker-client①⓪">服务工作线程客户端</a>的创建顺序排序。
                          </p>
                        </li>
                        <li data-md="">
                          <p>其关联的<a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client"
                              id="ref-for-dfn-service-worker-client-service-worker-client①①">服务工作线程客户端</a>是<a
                              data-link-type="dfn" href="#dfn-worker-client"
                              id="ref-for-dfn-worker-client①⓪">工作线程客户端</a>的 <code
                              class="idl"><a data-link-type="idl" href="#client" id="ref-for-client⑦">Client</a></code>
                            对象排在最后，按其<a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client"
                              id="ref-for-dfn-service-worker-client-service-worker-client①②">服务工作线程客户端</a>的创建顺序排序。
                          </p>
                        </li>
                      </ul>
                      <p class="note" role="note"><span class="marker">注意：</span><a data-link-type="dfn"
                          href="#dfn-window-client" id="ref-for-dfn-window-client①②">窗口客户端</a>始终排在<a
                          data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client①①">工作线程客户端</a>之前。
                      </p>
                    </li>
                    <li data-md="">
                      <p>用 <var>promise</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                          id="ref-for-concept-relevant-realm②">相关 Realm</a> 中的
                        <var>clientObjects</var> 的<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array"
                          id="ref-for-dfn-create-frozen-array①">新的冻结数组</a>解析
                        <var>promise</var>。
                      </p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>


        <section class="algorithm" data-algorithm="clients-openwindow">
          <h4 class="heading settled" data-level="4.3.3" id="clients-openwindow"><span class="secno">4.3.3.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-clients-openwindow" id="ref-for-dom-clients-openwindow①">openWindow(url)</a></code></span><a
              class="self-link" href="#clients-openwindow"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Clients" data-dfn-type="method" data-export=""
              id="dom-clients-openwindow"><code>openWindow(<var>url</var>)</code></dfn> 方法的步骤如下：
          </p>
          <ol>
            <li data-md="">
              <p>令 <var>url</var> 为使用<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this⑤⓪">此对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                  id="ref-for-relevant-settings-object①⑨">相关设置对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                  id="ref-for-api-base-url④">API 基本 URL</a> <a data-link-type="dfn"
                  href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser④">解析</a>
                <var>url</var> 的结果。
              </p>
            </li>
            <li data-md="">
              <p>如果 <var>url</var> 解析失败，则返回一个用 <code>TypeError</code> <a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①③">拒绝的
                  promise</a>。
              </p>
            </li>
            <li data-md="">
              <p>如果 <var>url</var> 是 <code>about:blank</code>，则返回一个用 <code>TypeError</code> <a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①④">拒绝的
                  promise</a>。
              </p>
            </li>
            <li data-md="">
              <p>如果此<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
                  id="ref-for-concept-origin⑨">源</a>中没有 <code
                  class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑤">Window</a></code>
                具有<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"
                  id="ref-for-transient-activation①">瞬时激活</a>，则返回一个用 "<code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidaccesserror" id="ref-for-invalidaccesserror①">InvalidAccessError</a></code>"
                <code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>
                <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects①⑤">拒绝的 promise</a>。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>serviceWorkerEventLoop</var> 为<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                  id="ref-for-current-global-object①">当前全局对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                  id="ref-for-event-loop⑧">事件循环</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>promise</var> 为一个新的<a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects①⑥">promise</a>。</p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel①②">并行</a>运行这些子步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>newContext</var> 为一个新的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context"
                      id="ref-for-top-level-browsing-context">顶级浏览上下文</a>。</p>
                </li>
                <li data-md="">
                  <p>使用<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source"
                      id="ref-for-user-interaction-task-source③">用户交互任务源</a>，在
                    <var>newContext</var> 的 <code
                      class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑥">Window</a></code>
                    对象的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                      id="ref-for-environment-settings-object①⓪">环境设置对象</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                      id="ref-for-responsible-event-loop⑤">负责事件循环</a>上<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task①③">排队一个任务</a>以运行以下步骤：
                  </p>
                  <ol>
                    <li data-md="">
                      <p><em>HandleNavigate</em>：将 <var>newContext</var> <a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                          id="ref-for-navigate⑤">导航</a>到 <var>url</var>，并将<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled"
                          id="ref-for-exceptions-enabled①">exceptionsEnabled</a> 设置为
                        true，<i><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh"
                            id="ref-for-navigation-hh">historyHandling</a></i> 设置为
                        "<code>replace</code>"。
                      </p>
                    </li>
                    <li data-md="">
                      <p>如果在标记为 <em>HandleNavigate</em> 的步骤中调用的算法步骤<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①">抛出</a>异常，则使用<a
                          data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                          id="ref-for-dom-manipulation-task-source⑧">DOM 操作任务源</a>在
                        <var>serviceWorkerEventLoop</var> 上<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                          id="ref-for-queue-a-task①④">排队一个任务</a>以用该异常拒绝
                        <var>promise</var>，并中止这些步骤。
                      </p>
                    </li>
                    <li data-md="">
                      <p>令 <var>frameType</var> 为使用 <var>newContext</var> 运行<a data-link-type="dfn"
                          href="#get-frame-type" id="ref-for-get-frame-type③">获取框架类型</a>的结果。</p>
                    </li>
                    <li data-md="">
                      <p>令 <var>visibilityState</var> 为 <var>newContext</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                          id="ref-for-nav-document①①">活动文档</a>的 <code
                          class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/page-visibility/#dom-document-visibilitystate" id="ref-for-dom-document-visibilitystate④">visibilityState</a></code>
                        属性值。</p>
                    </li>
                    <li data-md="">
                      <p>令 <var>focusState</var> 为使用 <var>newContext</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                          id="ref-for-nav-document①②">活动文档</a>作为参数运行<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps"
                          id="ref-for-has-focus-steps③">具有焦点步骤</a>的结果。
                      </p>
                    </li>
                    <li data-md="">
                      <p>令 <var>ancestorOriginsList</var> 为 <var>newContext</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                          id="ref-for-nav-document①③">活动文档</a>的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                          id="ref-for-concept-relevant-global⑧">相关全局对象</a>的 <code
                          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" id="ref-for-location③">Location</a></code>
                        对象的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/browsers.html#concept-location-ancestor-origins-list"
                          id="ref-for-concept-location-ancestor-origins-list③">祖先源列表</a>的关联列表。
                      </p>
                    </li>
                    <li data-md="">
                      <p>使用<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                          id="ref-for-dom-manipulation-task-source⑨">DOM 操作任务源</a>在
                        <var>serviceWorkerEventLoop</var> 上<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                          id="ref-for-queue-a-task①⑤">排队一个任务</a>以运行以下步骤：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>如果运行<a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key"
                              id="ref-for-obtain-a-storage-key⑤">获取存储密钥</a>（给定
                            <var>newContext</var> 的 <code
                              class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑦">Window</a></code>
                            对象的<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                              id="ref-for-environment-settings-object①①">环境设置对象</a>）的结果与<a data-link-type="dfn"
                              href="#serviceworkerglobalscope-service-worker"
                              id="ref-for-serviceworkerglobalscope-service-worker①②">服务工作线程</a>的<a data-link-type="dfn"
                              href="#dfn-containing-service-worker-registration"
                              id="ref-for-dfn-containing-service-worker-registration⑧">包含的服务工作线程注册</a>的<a
                              data-link-type="dfn" href="#service-worker-registration-storage-key"
                              id="ref-for-service-worker-registration-storage-key⑥">存储密钥</a>不<a data-link-type="dfn"
                              href="https://storage.spec.whatwg.org/#storage-key-equal"
                              id="ref-for-storage-key-equal③">相等</a>，则用 null 解析
                            <var>promise</var> 并中止这些步骤。
                          </p>
                        </li>
                        <li data-md="">
                          <p>令 <var>client</var> 为使用 <var>newContext</var> 的 <code
                              class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑧">Window</a></code>
                            对象的<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                              id="ref-for-environment-settings-object①②">环境设置对象</a>、<var>frameType</var>、<var>visibilityState</var>、<var>focusState</var>
                            和 <var>ancestorOriginsList</var> 作为参数运行<a data-link-type="dfn" href="#create-window-client"
                              id="ref-for-create-window-client③">创建窗口客户端</a>的结果。
                          </p>
                        </li>
                        <li data-md="">
                          <p>用 <var>client</var> 解析 <var>promise</var>。</p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="clients-claim">
          <h4 class="heading settled" data-level="4.3.4" id="clients-claim"><span class="secno">4.3.4.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-clients-claim" id="ref-for-dom-clients-claim①">claim()</a></code></span><a
              class="self-link" href="#clients-claim"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Clients" data-dfn-type="method" data-export=""
              id="dom-clients-claim"><code>claim()</code></dfn> 方法的步骤如下：</p>
          <ol>
            <li data-md="">
              <p>如果<a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker"
                  id="ref-for-serviceworkerglobalscope-service-worker①③">服务工作线程</a>不是<a data-link-type="dfn"
                  href="#dfn-active-worker" id="ref-for-dfn-active-worker①⑥">活动工作线程</a>，则返回一个用 "<code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑤">InvalidStateError</a></code>"
                <code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑧">DOMException</a></code>
                <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects①⑦">拒绝的 promise</a>。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>promise</var> 为一个新的<a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects①⑧">promise</a>。</p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel①③">并行</a>运行以下子步骤：</p>
              <ol>
                <li data-md="">
                  <p>对于每个<a data-link-type="dfn" href="#dfn-service-worker-client"
                      id="ref-for-dfn-service-worker-client③①">服务工作线程客户端</a>
                    <var>client</var>，其中运行<a data-link-type="dfn"
                      href="https://storage.spec.whatwg.org/#obtain-a-storage-key"
                      id="ref-for-obtain-a-storage-key⑥">获取存储密钥</a>（给定 <var>client</var>）的结果<a data-link-type="dfn"
                      href="https://storage.spec.whatwg.org/#storage-key-equal" id="ref-for-storage-key-equal④">等于</a><a
                      data-link-type="dfn" href="#serviceworkerglobalscope-service-worker"
                      id="ref-for-serviceworkerglobalscope-service-worker①④">服务工作线程</a>的<a data-link-type="dfn"
                      href="#dfn-containing-service-worker-registration"
                      id="ref-for-dfn-containing-service-worker-registration⑨">包含的服务工作线程注册</a>的<a data-link-type="dfn"
                      href="#service-worker-registration-storage-key"
                      id="ref-for-service-worker-registration-storage-key⑦">存储密钥</a>：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>如果 <var>client</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag"
                          id="ref-for-concept-environment-execution-ready-flag③">执行就绪标志</a>未设置，或者
                        <var>client</var> 的<a data-link-type="dfn" href="#service-worker-client-discarded-flag"
                          id="ref-for-service-worker-client-discarded-flag④">丢弃标志</a>已设置，则<a data-link-type="dfn"
                          href="https://infra.spec.whatwg.org/#iteration-continue"
                          id="ref-for-iteration-continue④">继续</a>。
                      </p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>client</var> 不是<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                          id="ref-for-secure-context①">安全上下文</a>，则<a data-link-type="dfn"
                          href="https://infra.spec.whatwg.org/#iteration-continue"
                          id="ref-for-iteration-continue⑤">继续</a>。</p>
                    </li>
                    <li data-md="">
                      <p>令 <var>storage key</var> 为运行<a data-link-type="dfn"
                          href="https://storage.spec.whatwg.org/#obtain-a-storage-key"
                          id="ref-for-obtain-a-storage-key⑦">获取存储密钥</a>（给定
                        <var>client</var>）的结果。
                      </p>
                    </li>
                    <li data-md="">
                      <p>令 <var>registration</var> 为运行<a data-link-type="dfn" href="#match-service-worker-registration"
                          id="ref-for-match-service-worker-registration⑤">匹配服务工作线程注册</a>（给定
                        <var>storage key</var> 和 <var>client</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                          id="ref-for-concept-environment-creation-url⑤">创建 URL</a>）的结果。
                      </p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>registration</var> 不是<a data-link-type="dfn"
                          href="#serviceworkerglobalscope-service-worker"
                          id="ref-for-serviceworkerglobalscope-service-worker①⑤">服务工作线程</a>的<a data-link-type="dfn"
                          href="#dfn-containing-service-worker-registration"
                          id="ref-for-dfn-containing-service-worker-registration①⓪">包含的服务工作线程注册</a>，则<a
                          data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue"
                          id="ref-for-iteration-continue⑥">继续</a>。</p>
                      <p class="note" role="note"><span class="marker">注意：</span>如果<a data-link-type="dfn"
                          href="#serviceworkerglobalscope-service-worker"
                          id="ref-for-serviceworkerglobalscope-service-worker①⑥">服务工作线程</a>的<a data-link-type="dfn"
                          href="#dfn-containing-service-worker-registration"
                          id="ref-for-dfn-containing-service-worker-registration①①">包含的服务工作线程注册</a>已<a
                          data-link-type="dfn" href="#dfn-service-worker-registration-unregistered"
                          id="ref-for-dfn-service-worker-registration-unregistered①">注销</a>，则
                        <var>registration</var> 将为 null。
                      </p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>client</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                          id="ref-for-concept-environment-active-service-worker②③">活动服务工作线程</a>不是<a data-link-type="dfn"
                          href="#serviceworkerglobalscope-service-worker"
                          id="ref-for-serviceworkerglobalscope-service-worker①⑦">服务工作线程</a>，则：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>使用 <var>client</var> 作为参数调用<a data-link-type="dfn"
                              href="#handle-service-worker-client-unload"
                              id="ref-for-handle-service-worker-client-unload">处理服务工作线程客户端卸载</a>。
                          </p>
                        </li>
                        <li data-md="">
                          <p>将 <var>client</var> 的<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                              id="ref-for-concept-environment-active-service-worker②④">活动服务工作线程</a>设置为<a
                              data-link-type="dfn" href="#serviceworkerglobalscope-service-worker"
                              id="ref-for-serviceworkerglobalscope-service-worker①⑧">服务工作线程</a>。
                          </p>
                        </li>
                        <li data-md="">
                          <p>使用 <var>client</var> 作为参数调用<a data-link-type="dfn" href="#notify-controller-change"
                              id="ref-for-notify-controller-change">通知控制器更改</a>算法。
                          </p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>用 undefined 解析 <var>promise</var>。</p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
      </section>

      <section>
        <h3 class="heading settled" data-level="4.4" id="extendableevent-interface"><span class="secno">4.4.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①">ExtendableEvent</a></code>
            接口</span><a class="self-link" href="#extendableevent-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑧"><c-g>Exposed</c-g></a>=<c-n>ServiceWorker</c-n>]
            <c-b>interface</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="extendableevent"><code><c-g>ExtendableEvent</c-g></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑤"><c-n>Event</c-n></a> {
              <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableEvent" data-dfn-type="constructor" data-export="" data-lt="ExtendableEvent(type, eventInitDict)|constructor(type, eventInitDict)|ExtendableEvent(type)|constructor(type)" id="dom-extendableevent-extendableevent"><code><c-g>constructor</c-g></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c-b>DOMString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableEvent/ExtendableEvent(type, eventInitDict), ExtendableEvent/constructor(type, eventInitDict), ExtendableEvent/ExtendableEvent(type), ExtendableEvent/constructor(type)" data-dfn-type="argument" data-export="" id="dom-extendableevent-extendableevent-type-eventinitdict-type"><code><c-g>type</c-g></code></dfn>, <c-b>optional</c-b> <a data-link-type="idl-name" href="#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit"><c-n>ExtendableEventInit</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableEvent/ExtendableEvent(type, eventInitDict), ExtendableEvent/constructor(type, eventInitDict), ExtendableEvent/ExtendableEvent(type), ExtendableEvent/constructor(type)" data-dfn-type="argument" data-export="" id="dom-extendableevent-extendableevent-type-eventinitdict-eventinitdict"><code><c-g>eventInitDict</c-g></code></dfn> = {});
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①③"><c-b>undefined</c-b></a> <a class="idl-code" data-link-type="method" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil"><c-g>waitUntil</c-g></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑦"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any④"><c-b>any</c-b></a>&gt; <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableEvent/waitUntil(f)" data-dfn-type="argument" data-export="" id="dom-extendableevent-waituntil-f-f"><code><c-g>f</c-g></code></dfn>);
            };
            </pre>
        <pre class="idl highlight def" id="extendable-event-init-dictionary"><c-b>dictionary</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-extendableeventinit"><code><c-g>ExtendableEventInit</c-g></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c-n>EventInit</c-n></a> {
              // 为派生事件的向前兼容性定义
            };
            </pre>
        <p>一个 <code
            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent②">ExtendableEvent</a></code>
          对象有一个关联的<dfn class="dfn-paneled" data-dfn-for="ExtendableEvent" data-dfn-type="dfn" data-export=""
            id="extendableevent-extend-lifetime-promises">延长生命周期 promise</dfn>（一个<a data-link-type="dfn"
            href="http://tc39.github.io/ecma262/#sec-promise-objects"
            id="ref-for-sec-promise-objects①⑨">promise</a>数组）。它最初是一个空数组。</p>
        <p>一个 <code
            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent③">ExtendableEvent</a></code>
          对象有一个关联的<dfn class="dfn-paneled" data-dfn-for="ExtendableEvent" data-dfn-type="dfn" data-noexport=""
            id="extendableevent-pending-promises-count">待处理 promise 计数</dfn>（<a data-link-type="dfn"
            href="#extendableevent-extend-lifetime-promises"
            id="ref-for-extendableevent-extend-lifetime-promises">延长生命周期 promise</a>中待处理 promise
          的数量）。它最初设置为零。</p>
        <p>一个 <code
            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent④">ExtendableEvent</a></code>
          对象有一个关联的<dfn class="dfn-paneled" data-dfn-for="ExtendableEvent" data-dfn-type="dfn" data-export=""
            id="extendableevent-timed-out-flag">超时标志</dfn>。它最初未设置，如果在<a data-link-type="dfn"
            href="#extendableevent-pending-promises-count" id="ref-for-extendableevent-pending-promises-count">待处理
            promise 计数</a>大于零的情况下，经过可选的用户代理施加的延迟后设置。
        </p>
        <p>当一个 <code
            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent⑤">ExtendableEvent</a></code>
          对象的<a data-link-type="dfn" href="#extendableevent-timed-out-flag"
            id="ref-for-extendableevent-timed-out-flag">超时标志</a>未设置，并且其<a data-link-type="dfn"
            href="#extendableevent-pending-promises-count" id="ref-for-extendableevent-pending-promises-count①">待处理
            promise 计数</a>大于零或其<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#dispatch-flag"
            id="ref-for-dispatch-flag">分派标志</a>已设置时，称该对象是<dfn class="dfn-paneled" data-dfn-for="ExtendableEvent"
            data-dfn-type="dfn" data-export="" id="extendableevent-active">活动的</dfn>。</p>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥⑤">服务工作线程</a>有两个<a
            data-link-type="dfn" href="#dfn-lifecycle-events" id="ref-for-dfn-lifecycle-events">生命周期事件</a>，<code
            class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event②">install</a></code>
          和 <code
            class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event②">activate</a></code>。<a
            data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥⑥">服务工作线程</a>对
          <code
            class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event③">activate</a></code>
          事件和 <code
            class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event③">install</a></code>
          事件使用 <code
            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent⑥">ExtendableEvent</a></code>
          接口。
        </p>
        <p><a href="#extensibility">服务工作线程扩展</a><a
            href="#extension-to-service-worker-global-scope">定义事件处理程序</a>时<em>可以</em>使用或扩展 <code
            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent⑦">ExtendableEvent</a></code>
          接口。</p>
        <section class="algorithm" data-algorithm="wait-until-method">
          <h4 class="heading settled" data-level="4.4.1" id="wait-until-method"><span class="secno">4.4.1.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil①">event.waitUntil(f)</a></code></span><a
              class="self-link" href="#wait-until-method"></a></h4>
          <p class="note" role="note"><span class="marker">注意：</span><code
              class="idl"><a data-link-type="idl" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil②">waitUntil()</a></code>
            方法延长事件的生命周期。</p>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableEvent" data-dfn-type="method" data-export=""
              id="dom-extendableevent-waituntil"><code>waitUntil(<var>f</var>)</code></dfn>
            方法的步骤是将生命周期 promise <var>f</var> <a data-link-type="dfn" href="#extendableevent-add-lifetime-promise"
              id="ref-for-extendableevent-add-lifetime-promise">添加到</a><a data-link-type="dfn"
              href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤①">此对象</a>。
          </p>
        </section>
        <section class="algorithm" data-algorithm="add-lifetime-promise">
          要将<dfn class="dfn-paneled" data-dfn-for="ExtendableEvent" data-dfn-type="dfn" data-export=""
            id="extendableevent-add-lifetime-promise">生命周期 promise 添加</dfn>到 <var>event</var>（一个 <code
            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent⑧">ExtendableEvent</a></code>）中的
          <var>promise</var>（一个<a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
            id="ref-for-sec-promise-objects②⓪">promise</a>），请运行以下步骤：
          <ol>
            <li data-md="">
              <p>如果 <var>event</var> 的 <code
                  class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted">isTrusted</a></code>
                属性为 false，则<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                  id="ref-for-dfn-throw②">抛出</a>一个 "<code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑥">InvalidStateError</a></code>"
                <code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑨">DOMException</a></code>。
              </p>
            </li>
            <li data-md="">
              <p>如果 <var>event</var> 不是<a data-link-type="dfn" href="#extendableevent-active"
                  id="ref-for-extendableevent-active">活动的</a>，则<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③">抛出</a>一个
                "<code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑦">InvalidStateError</a></code>"
                <code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⓪">DOMException</a></code>。
              </p>
              <p class="note" role="note"><span class="marker">注意：</span>如果在调用事件处理程序的任务中没有添加生命周期延长
                promise，则在后续异步任务中调用 <code
                  class="idl"><a data-link-type="idl" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil③">waitUntil()</a></code>
                将会抛出异常。</p>
            </li>
            <li data-md="">
              <p>将 <var>promise</var> 添加到 <var>event</var> 的<a data-link-type="dfn"
                  href="#extendableevent-extend-lifetime-promises"
                  id="ref-for-extendableevent-extend-lifetime-promises①">延长生命周期 promise</a>中。</p>
            </li>
            <li data-md="">
              <p>将 <var>event</var> 的<a data-link-type="dfn" href="#extendableevent-pending-promises-count"
                  id="ref-for-extendableevent-pending-promises-count②">待处理 promise 计数</a>增加一。</p>
              <p class="note" role="note"><span class="marker">注意：</span>即使给定的 promise 已经解决，<a data-link-type="dfn"
                  href="#extendableevent-pending-promises-count"
                  id="ref-for-extendableevent-pending-promises-count③">待处理 promise
                  计数</a>也会增加。相应的计数减少是在对 promise 的反应所排队的微任务中完成的。</p>
            </li>
            <li data-md="">
              <p>在 <var>promise</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment"
                  id="ref-for-upon-fulfillment">兑现</a>或<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#upon-rejection" id="ref-for-upon-rejection">拒绝</a>时，<a
                  data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask"
                  id="ref-for-queue-a-microtask">排队一个微任务</a>以运行这些子步骤：</p>
              <ol>
                <li data-md="">
                  <p>将 <var>event</var> 的<a data-link-type="dfn" href="#extendableevent-pending-promises-count"
                      id="ref-for-extendableevent-pending-promises-count④">待处理 promise 计数</a>减少一。
                  </p>
                </li>
                <li data-md="">
                  <p>如果 <var>event</var> 的<a data-link-type="dfn" href="#extendableevent-pending-promises-count"
                      id="ref-for-extendableevent-pending-promises-count⑤">待处理 promise 计数</a>为
                    0，则：</p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>registration</var> 为<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                          id="ref-for-current-global-object②">当前全局对象</a>的关联<a data-link-type="dfn"
                          href="#serviceworkerglobalscope-service-worker"
                          id="ref-for-serviceworkerglobalscope-service-worker①⑨">服务工作线程</a>的<a data-link-type="dfn"
                          href="#dfn-containing-service-worker-registration"
                          id="ref-for-dfn-containing-service-worker-registration①②">包含的服务工作线程注册</a>。
                      </p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>registration</var> 已<a data-link-type="dfn"
                          href="#dfn-service-worker-registration-unregistered"
                          id="ref-for-dfn-service-worker-registration-unregistered②">注销</a>，则使用
                        <var>registration</var> 调用<a data-link-type="dfn" href="#try-clear-registration"
                          id="ref-for-try-clear-registration">尝试清除注册</a>。
                      </p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>registration</var> 不为 null，则使用 <var>registration</var> 调用<a data-link-type="dfn"
                          href="#try-activate" id="ref-for-try-activate①">尝试激活</a>。</p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
          </ol>
          <p>如果<a data-link-type="dfn" href="#service-worker-has-no-pending-events"
              id="ref-for-service-worker-has-no-pending-events">服务工作线程没有待处理事件</a>对该<a data-link-type="dfn"
              href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥⑧">服务工作线程</a>返回
            false，则用户代理<em>不应</em><a data-link-type="dfn" href="#terminate-service-worker"
              id="ref-for-terminate-service-worker②">终止</a>该<a data-link-type="dfn" href="#dfn-service-worker"
              id="ref-for-dfn-service-worker⑥⑦">服务工作线程</a>。</p>
        </section>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥⑨">服务工作线程</a>和<a
            href="#extensibility">扩展</a><a
            href="#extension-to-service-worker-global-scope">定义事件处理程序</a>时<em>可以</em>定义它们自己的行为，允许<a data-link-type="dfn"
            href="#extendableevent-extend-lifetime-promises"
            id="ref-for-extendableevent-extend-lifetime-promises②">延长生命周期 promise</a>建议操作长度，并且<a data-link-type="dfn"
            href="#extendableevent-extend-lifetime-promises"
            id="ref-for-extendableevent-extend-lifetime-promises③">延长生命周期 promise</a>中的任何<a data-link-type="dfn"
            href="http://tc39.github.io/ecma262/#sec-promise-objects"
            id="ref-for-sec-promise-objects②①">promise</a>的拒绝状态建议操作失败。</p>
        <p class="note" role="note"><span class="marker">注意：</span><a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker⑦⓪">服务工作线程</a>会延迟将<a data-link-type="dfn" href="#dfn-installing-worker"
            id="ref-for-dfn-installing-worker⑥">安装中的工作线程</a>视为“<code>installed</code>”，直到 <code
            class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event④">install</a></code>
          事件的<a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises"
            id="ref-for-extendableevent-extend-lifetime-promises④">延长生命周期 promise</a>中的所有<a data-link-type="dfn"
            href="http://tc39.github.io/ecma262/#sec-promise-objects"
            id="ref-for-sec-promise-objects②②">promise</a>都成功解决。（请参阅相关的<a href="#install-settle-step">安装算法步骤</a>。）如果任何
          promise 被拒绝，则安装失败。这主要用于确保在<a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker⑦①">服务工作线程</a>所依赖的所有核心缓存都填充完毕之前，不将其视为“<code>installed</code>”。同样，<a
            data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦②">服务工作线程</a>会延迟将<a
            data-link-type="dfn" href="#dfn-active-worker"
            id="ref-for-dfn-active-worker①⑦">活动工作线程</a>视为“<code>activated</code>”，直到 <code
            class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event④">activate</a></code>
          事件的<a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises"
            id="ref-for-extendableevent-extend-lifetime-promises⑤">延长生命周期 promise</a>中的所有<a data-link-type="dfn"
            href="http://tc39.github.io/ecma262/#sec-promise-objects"
            id="ref-for-sec-promise-objects②③">promise</a>都解决。（请参阅相关的<a
            href="#activate-settle-step">激活算法步骤</a>。）这主要用于确保在<a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker⑦③">服务工作线程</a>升级数据库模式并删除过时的缓存条目之前，不会向其分派任何<a data-link-type="dfn"
            href="#dfn-functional-events" id="ref-for-dfn-functional-events①">功能性事件</a>。</p>
      </section>


      <section>
        <h3 class="heading settled" data-level="4.5" id="installevent-interface"><span class="secno">4.5.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#installevent" id="ref-for-installevent">InstallEvent</a></code>
            接口</span><a class="self-link" href="#installevent-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑨"><c-g>Exposed</c-g></a>=<c-n>ServiceWorker</c-n>]
            <c-b>interface</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="installevent"><code><c-g>InstallEvent</c-g></code></dfn> : <a data-link-type="idl-name" href="#extendableevent" id="ref-for-extendableevent⑨"><c-n>ExtendableEvent</c-n></a> {
              <dfn class="dfn-paneled idl-code" data-dfn-for="InstallEvent" data-dfn-type="constructor" data-export="" data-lt="InstallEvent(type, eventInitDict)|constructor(type, eventInitDict)|InstallEvent(type)|constructor(type)" id="dom-installevent-installevent"><code><c-g>constructor</c-g></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c-b>DOMString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="InstallEvent/InstallEvent(type, eventInitDict), InstallEvent/constructor(type, eventInitDict), InstallEvent/InstallEvent(type), InstallEvent/constructor(type)" data-dfn-type="argument" data-export="" id="dom-installevent-installevent-type-eventinitdict-type"><code><c-g>type</c-g></code></dfn>, <c-b>optional</c-b> <a data-link-type="idl-name" href="#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit①"><c-n>ExtendableEventInit</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="InstallEvent/InstallEvent(type, eventInitDict), InstallEvent/constructor(type, eventInitDict), InstallEvent/InstallEvent(type), InstallEvent/constructor(type)" data-dfn-type="argument" data-export="" id="dom-installevent-installevent-type-eventinitdict-eventinitdict"><code><c-g>eventInitDict</c-g></code></dfn> = {});
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑧"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①④"><c-b>undefined</c-b></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-installevent-addroutes" id="ref-for-dom-installevent-addroutes"><c-g>addRoutes</c-g></a>((<a data-link-type="idl-name" href="#dictdef-routerrule" id="ref-for-dictdef-routerrule①"><c-n>RouterRule</c-n></a> <c-b>or</c-b> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c-b>sequence</c-b></a>&lt;<a data-link-type="idl-name" href="#dictdef-routerrule" id="ref-for-dictdef-routerrule②"><c-n>RouterRule</c-n></a>&gt;) <dfn class="dfn-paneled idl-code" data-dfn-for="InstallEvent/addRoutes(rules)" data-dfn-type="argument" data-export="" id="dom-installevent-addroutes-rules-rules"><code><c-g>rules</c-g></code></dfn>);
            };
            
            <c-b>dictionary</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-routerrule"><code><c-g>RouterRule</c-g></code></dfn> {
              <c-b>required</c-b> <a data-link-type="idl-name" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition"><c-n>RouterCondition</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterRule" data-dfn-type="dict-member" data-export="" data-type="RouterCondition" id="dom-routerrule-condition"><code><c-g>condition</c-g></code></dfn>;
              <c-b>required</c-b> <a data-link-type="idl-name" href="#typedefdef-routersource" id="ref-for-typedefdef-routersource"><c-n>RouterSource</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterRule" data-dfn-type="dict-member" data-export="" data-type="RouterSource" id="dom-routerrule-source"><code><c-g>source</c-g></code></dfn>;
            };
            
            <c-b>dictionary</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-routercondition"><code><c-g>RouterCondition</c-g></code></dfn> {
              <a data-link-type="idl-name" href="https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible" id="ref-for-typedefdef-urlpatterncompatible"><c-n>URLPatternCompatible</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export="" data-type="URLPatternCompatible" id="dom-routercondition-urlpattern"><code><c-g>urlPattern</c-g></code></dfn>;
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString" id="ref-for-idl-ByteString②"><c-b>ByteString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export="" data-type="ByteString" id="dom-routercondition-requestmethod"><code><c-g>requestMethod</c-g></code></dfn>;
              <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestmode" id="ref-for-requestmode"><c-n>RequestMode</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export="" data-type="RequestMode" id="dom-routercondition-requestmode"><code><c-g>requestMode</c-g></code></dfn>;
              <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestdestination" id="ref-for-requestdestination"><c-n>RequestDestination</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export="" data-type="RequestDestination" id="dom-routercondition-requestdestination"><code><c-g>requestDestination</c-g></code></dfn>;
              <a data-link-type="idl-name" href="#enumdef-runningstatus" id="ref-for-enumdef-runningstatus"><c-n>RunningStatus</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export="" data-type="RunningStatus" id="dom-routercondition-runningstatus"><code><c-g>runningStatus</c-g></code></dfn>;
            
              <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c-b>sequence</c-b></a>&lt;<a data-link-type="idl-name" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition①"><c-n>RouterCondition</c-n></a>&gt; <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export="" data-lt="or" data-type="sequence<RouterCondition>" id="dom-routercondition-or"><code><c-g>_or</c-g></code></dfn>;
              <a data-link-type="idl-name" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition②"><c-n>RouterCondition</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export="" data-type="RouterCondition" id="dom-routercondition-not"><code><c-g>not</c-g></code></dfn>;
            };
            
            <c-b>typedef</c-b> (<a data-link-type="idl-name" href="#dictdef-routersourcedict" id="ref-for-dictdef-routersourcedict"><c-n>RouterSourceDict</c-n></a> <c-b>or</c-b> <a data-link-type="idl-name" href="#enumdef-routersourceenum" id="ref-for-enumdef-routersourceenum"><c-n>RouterSourceEnum</c-n></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export="" id="typedefdef-routersource"><code><c-g>RouterSource</c-g></code></dfn>;
            
            <c-b>dictionary</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-routersourcedict"><code><c-g>RouterSourceDict</c-g></code></dfn> {
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c-b>DOMString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterSourceDict" data-dfn-type="dict-member" data-export="" data-type="DOMString" id="dom-routersourcedict-cachename"><code><c-g>cacheName</c-g></code></dfn>;
            };
            
            <c-b>enum</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-runningstatus"><code><c-g>RunningStatus</c-g></code></dfn> { <dfn class="dfn-paneled idl-code" data-dfn-for="RunningStatus" data-dfn-type="enum-value" data-export="" id="dom-runningstatus-running"><code><c-s>"running"</c-s></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="RunningStatus" data-dfn-type="enum-value" data-export="" id="dom-runningstatus-not-running"><code><c-s>"not-running"</c-s></code></dfn> };
            <c-b>enum</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-routersourceenum"><code><c-g>RouterSourceEnum</c-g></code></dfn> {
              <dfn class="dfn-paneled idl-code" data-dfn-for="RouterSourceEnum" data-dfn-type="enum-value" data-export="" id="dom-routersourceenum-cache"><code><c-s>"cache"</c-s></code></dfn>,
              <dfn class="dfn-paneled idl-code" data-dfn-for="RouterSourceEnum" data-dfn-type="enum-value" data-export="" id="dom-routersourceenum-fetch-event"><code><c-s>"fetch-event"</c-s></code></dfn>,
              <dfn class="dfn-paneled idl-code" data-dfn-for="RouterSourceEnum" data-dfn-type="enum-value" data-export="" id="dom-routersourceenum-network"><code><c-s>"network"</c-s></code></dfn>,
              <dfn class="dfn-paneled idl-code" data-dfn-for="RouterSourceEnum" data-dfn-type="enum-value" data-export="" id="dom-routersourceenum-race-network-and-fetch-handler"><code><c-s>"race-network-and-fetch-handler"</c-s></code></dfn>
            };
            </pre>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport=""
            id="dfn-count-router-condition-result">计数路由器条件结果</dfn>是一个<a data-link-type="dfn"
            href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">结构体</a>，包含：</p>
        <ul>
          <li data-md="">
            <p><dfn class="dfn-paneled" data-dfn-for="count router condition result" data-dfn-type="dfn"
                data-noexport="" id="dfn-count-router-condition-result-condition-count">条件计数</dfn>（一个数字）。</p>
          </li>
          <li data-md="">
            <p><dfn class="dfn-paneled" data-dfn-for="count router condition result" data-dfn-type="dfn"
                data-noexport="" id="dfn-dfn-count-router-condition-result-quota-exceeded">超出配额</dfn>（一个布尔值）。</p>
          </li>
        </ul>
        <section>
          <h4 class="heading settled" data-level="4.5.1" id="register-router-method"><span class="secno">4.5.1.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-installevent-addroutes" id="ref-for-dom-installevent-addroutes①">event.addRoutes(rules)</a></code></span><a
              class="self-link" href="#register-router-method"></a></h4>
          <p class="note" role="note"><span class="marker">注意：</span><code
              class="idl"><a data-link-type="idl" href="#dom-installevent-addroutes" id="ref-for-dom-installevent-addroutes②">addRoutes(rules)</a></code>
            为此服务工作线程注册规则，以卸载 fetch 事件处理程序通常执行的简单任务。</p>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="InstallEvent" data-dfn-type="method" data-export=""
              id="dom-installevent-addroutes"><code>addRoutes(<var>rules</var>)</code></dfn> 方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>如果 <var>rules</var> 是一个 <code
                  class="idl"><a data-link-type="idl" href="#dictdef-routerrule" id="ref-for-dictdef-routerrule③">RouterRule</a></code>
                字典，则将 <var>rules</var> 设置为 « <var>rules</var> »。</p>
            </li>
            <li data-md="">
              <p>令 <var>serviceWorker</var> 为<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                  id="ref-for-current-global-object③">当前全局对象</a>的关联<a data-link-type="dfn"
                  href="#serviceworkerglobalscope-service-worker"
                  id="ref-for-serviceworkerglobalscope-service-worker②⓪">服务工作线程</a>。</p>
            </li>
            <li data-md="">
              <p>对于 <var>rules</var> 中的每个 <var>rule</var>：</p>
              <ol>
                <li data-md="">
                  <p>如果使用 <var>rule</var>["<code
                      class="idl"><a data-link-type="idl" href="#dom-routerrule-condition" id="ref-for-dom-routerrule-condition">condition</a></code>"]
                    和 <var>serviceWorker</var> 运行<a data-link-type="dfn" href="#verify-router-condition"
                      id="ref-for-verify-router-condition">验证路由器条件</a>算法返回 false，则返回一个<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                      id="ref-for-a-promise-rejected-with②">被拒绝的 promise</a>，其值为 <code
                      class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>。
                  </p>
                </li>
                <li data-md="">
                  <p>如果 <var>rule</var>["<code
                      class="idl"><a data-link-type="idl" href="#dom-routerrule-source" id="ref-for-dom-routerrule-source">source</a></code>"]
                    是 "<code
                      class="idl"><a data-link-type="idl" href="#dom-routersourceenum-fetch-event" id="ref-for-dom-routersourceenum-fetch-event">fetch-event</a></code>"
                    或 "<code
                      class="idl"><a data-link-type="idl" href="#dom-routersourceenum-race-network-and-fetch-handler" id="ref-for-dom-routersourceenum-race-network-and-fetch-handler①">race-network-and-fetch-handler</a></code>"，并且
                    <var>serviceWorker</var> 的<a data-link-type="dfn" href="#dfn-set-of-event-types-to-handle"
                      id="ref-for-dfn-set-of-event-types-to-handle">要处理的事件类型集合</a>不<a data-link-type="dfn"
                      href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">包含</a> <code
                      class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event③">fetch</a></code>，则返回一个<a
                      data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                      id="ref-for-a-promise-rejected-with③">被拒绝的 promise</a>，其值为 <code
                      class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>。
                  </p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>令 <var>lifetimePromise</var> 为一个新的<a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects②④">promise</a>。</p>
            </li>
            <li data-md="">
              <p>将<a data-link-type="dfn" href="#extendableevent-add-lifetime-promise"
                  id="ref-for-extendableevent-add-lifetime-promise①">生命周期 promise 添加</a>
                <var>lifetimePromise</var> 到<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this⑤②">此对象</a>。
              </p>
              <p class="note" role="note"><span class="marker">注意：</span><code
                  class="idl"><a data-link-type="idl" href="#dom-installevent-addroutes" id="ref-for-dom-installevent-addroutes③">event.addRoutes(rules)</a></code>
                默认延长事件的生命周期，就像调用了 <code
                  class="idl"><a data-link-type="idl" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil④">event.waitUntil(promise)</a></code>
                一样。</p>
            </li>
            <li data-md="">
              <p>令 <var>promise</var> 为一个新的<a data-link-type="dfn"
                  href="http://tc39.github.io/ecma262/#sec-promise-objects"
                  id="ref-for-sec-promise-objects②⑤">promise</a>。</p>
            </li>
            <li data-md="">
              <p>在 <var>promise</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment"
                  id="ref-for-upon-fulfillment①">兑现</a>或<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#upon-rejection" id="ref-for-upon-rejection①">拒绝</a>时，用 undefined
                解析 <var>lifetimePromise</var>。
              </p>
              <p class="note" role="note"><span class="marker">注意：</span>此步骤是为了使
                <var>lifetimePromise</var> 始终被兑现，以避免安装事件失败。
              </p>
            </li>
            <li data-md="">
              <p>将以下步骤<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-enqueue"
                  id="ref-for-queue-enqueue">加入队列</a>到<a data-link-type="dfn"
                  href="#service-worker-service-worker-queue" id="ref-for-service-worker-service-worker-queue">[[service
                  worker queue]]</a>：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>allRules</var> 为 <var>serviceWorker</var> 的<a data-link-type="dfn"
                      href="#service-worker-list-of-router-rules"
                      id="ref-for-service-worker-list-of-router-rules">路由器规则列表</a>的副本。
                  </p>
                </li>
                <li data-md="">
                  <p>对于 <var>rules</var> 中的每个 <var>rule</var>：</p>
                  <ol>
                    <li data-md="">
                      <p>将 <var>rule</var> 追加到 <var>allRules</var>。</p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>如果使用 <var>allRules</var> 运行<a data-link-type="dfn" href="#check-router-registration-limit"
                      id="ref-for-check-router-registration-limit">检查路由器注册限制</a>返回 false，则用 <code
                      class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>
                    拒绝 <var>promise</var>。
                  </p>
                </li>
                <li data-md="">
                  <p>将 <var>serviceWorker</var> 的<a data-link-type="dfn" href="#service-worker-list-of-router-rules"
                      id="ref-for-service-worker-list-of-router-rules①">路由器规则列表</a>设置为
                    <var>allRules</var>。
                  </p>
                </li>
                <li data-md="">
                  <p>令 <var>serviceWorkerEventLoop</var> 为<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                      id="ref-for-current-global-object④">当前全局对象</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                      id="ref-for-event-loop⑨">事件循环</a>。</p>
                </li>
                <li data-md="">
                  <p>使用<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source①⓪">DOM 操作任务源</a>，在
                    <var>serviceWorkerEventLoop</var> 上<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task①⑥">排队一个任务</a>以运行以下步骤：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>用 undefined 解析 <var>promise</var>。</p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
      </section>


      <section>
        <h3 class="heading settled" data-level="4.6" id="fetchevent-interface"><span class="secno">4.6.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#fetchevent" id="ref-for-fetchevent">FetchEvent</a></code>
            接口</span><a class="self-link" href="#fetchevent-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①⓪"><c-g>Exposed</c-g></a>=<c-n>ServiceWorker</c-n>]
            <c-b>interface</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="fetchevent"><code><c-g>FetchEvent</c-g></code></dfn> : <a data-link-type="idl-name" href="#extendableevent" id="ref-for-extendableevent①⓪"><c-n>ExtendableEvent</c-n></a> {
              <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="constructor" data-export="" data-lt="FetchEvent(type, eventInitDict)|constructor(type, eventInitDict)" id="dom-fetchevent-fetchevent"><code><c-g>constructor</c-g></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c-b>DOMString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent/FetchEvent(type, eventInitDict), FetchEvent/constructor(type, eventInitDict)" data-dfn-type="argument" data-export="" id="dom-fetchevent-fetchevent-type-eventinitdict-type"><code><c-g>type</c-g></code></dfn>, <a data-link-type="idl-name" href="#dictdef-fetcheventinit" id="ref-for-dictdef-fetcheventinit"><c-n>FetchEventInit</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent/FetchEvent(type, eventInitDict), FetchEvent/constructor(type, eventInitDict)" data-dfn-type="argument" data-export="" id="dom-fetchevent-fetchevent-type-eventinitdict-eventinitdict"><code><c-g>eventInitDict</c-g></code></dfn>);
              [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑦"><c-g>SameObject</c-g></a>] <c-b>readonly</c-b> <c-b>attribute</c-b> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request"><c-n>Request</c-n></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="Request" href="#dom-fetchevent-request" id="ref-for-dom-fetchevent-request"><c-g>request</c-g></a>;
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑨"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑤"><c-b>any</c-b></a>&gt; <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="Promise<any>" href="#dom-fetchevent-preloadresponse" id="ref-for-dom-fetchevent-preloadresponse"><c-g>preloadResponse</c-g></a>;
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c-b>DOMString</c-b></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-fetchevent-clientid" id="ref-for-dom-fetchevent-clientid"><c-g>clientId</c-g></a>;
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦"><c-b>DOMString</c-b></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-fetchevent-resultingclientid" id="ref-for-dom-fetchevent-resultingclientid"><c-g>resultingClientId</c-g></a>;
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧"><c-b>DOMString</c-b></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-fetchevent-replacesclientid" id="ref-for-dom-fetchevent-replacesclientid"><c-g>replacesClientId</c-g></a>;
              <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⓪"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑤"><c-b>undefined</c-b></a>&gt; <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="Promise<undefined>" href="#dom-fetchevent-handled" id="ref-for-dom-fetchevent-handled"><c-g>handled</c-g></a>;
            
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑥"><c-b>undefined</c-b></a> <a class="idl-code" data-link-type="method" href="#dom-fetchevent-respondwith" id="ref-for-dom-fetchevent-respondwith"><c-g>respondWith</c-g></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②①"><c-b>Promise</c-b></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response"><c-n>Response</c-n></a>&gt; <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent/respondWith(r)" data-dfn-type="argument" data-export="" id="dom-fetchevent-respondwith-r-r"><code><c-g>r</c-g></code></dfn>);
            };
            </pre>
        <pre class="idl highlight def" id="fetch-event-init-dictionary"><c-b>dictionary</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-fetcheventinit"><code><c-g>FetchEventInit</c-g></code></dfn> : <a data-link-type="idl-name" href="#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit②"><c-n>ExtendableEventInit</c-n></a> {
              <c-b>required</c-b> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①"><c-n>Request</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export="" data-type="Request" id="dom-fetcheventinit-request"><code><c-g>request</c-g></code></dfn>;
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②②"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑥"><c-b>any</c-b></a>&gt; <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export="" data-type="Promise<any>" id="dom-fetcheventinit-preloadresponse"><code><c-g>preloadResponse</c-g></code></dfn>;
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑨"><c-b>DOMString</c-b></a> <dfn class="dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export="" data-type="DOMString" id="dom-fetcheventinit-clientid"><code><c-g>clientId</c-g></code></dfn> = "";
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><c-b>DOMString</c-b></a> <dfn class="dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export="" data-type="DOMString" id="dom-fetcheventinit-resultingclientid"><code><c-g>resultingClientId</c-g></code></dfn> = "";
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①①"><c-b>DOMString</c-b></a> <dfn class="dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export="" data-type="DOMString" id="dom-fetcheventinit-replacesclientid"><code><c-g>replacesClientId</c-g></code></dfn> = "";
              <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②③"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑦"><c-b>undefined</c-b></a>&gt; <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export="" data-type="Promise<undefined>" id="dom-fetcheventinit-handled"><code><c-g>handled</c-g></code></dfn>;
            };
            </pre>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦④">Service
            workers</a> 有一个重要的<a data-link-type="dfn" href="#dfn-functional-events"
            id="ref-for-dfn-functional-events②">功能性事件</a> <code
            class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event④">fetch</a></code>。对于
          <code
            class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event⑤">fetch</a></code>
          事件，<a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦⑤">service
            workers</a> 使用 <code
            class="idl"><a data-link-type="idl" href="#fetchevent" id="ref-for-fetchevent①">FetchEvent</a></code>
          接口，该接口扩展了 <code
            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①①">ExtendableEvent</a></code>
          接口。
        </p>
        <p>每个使用 <code
            class="idl"><a data-link-type="idl" href="#fetchevent" id="ref-for-fetchevent②">FetchEvent</a></code>
          接口的事件都有一个关联的<dfn class="dfn-paneled" data-dfn-for="FetchEvent" data-dfn-type="dfn" data-noexport=""
            id="fetchevent-potential-response">潜在响应</dfn>（一个 <a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response②">response</a>），初始设置为
          null，以及以下初始未设置的关联标志：</p>
        <ul>
          <li data-md="">
            <p><dfn class="dfn-paneled" data-dfn-for="FetchEvent" data-dfn-type="dfn" data-noexport=""
                id="fetchevent-wait-to-respond-flag">等待响应标志</dfn></p>
          </li>
          <li data-md="">
            <p><dfn class="dfn-paneled" data-dfn-for="FetchEvent" data-dfn-type="dfn" data-noexport=""
                id="fetchevent-respond-with-entered-flag">respond-with 进入标志</dfn></p>
          </li>
          <li data-md="">
            <p><dfn class="dfn-paneled" data-dfn-for="FetchEvent" data-dfn-type="dfn" data-noexport=""
                id="fetchevent-respond-with-error-flag">respond-with 错误标志</dfn></p>
          </li>
        </ul>
        <section>
          <h4 class="heading settled" data-level="4.6.1" id="fetch-event-request"><span class="secno">4.6.1.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-fetchevent-request" id="ref-for-dom-fetchevent-request①">event.request</a></code></span><a
              class="self-link" href="#fetch-event-request"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export=""
              id="dom-fetchevent-request"><code>request</code></dfn>
            属性<em>必须</em>返回其初始化时的值。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.6.2" id="fetch-event-preloadresponse"><span class="secno">4.6.2.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-fetchevent-preloadresponse" id="ref-for-dom-fetchevent-preloadresponse①">event.preloadResponse</a></code></span><a
              class="self-link" href="#fetch-event-preloadresponse"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export=""
              id="dom-fetchevent-preloadresponse"><code>preloadResponse</code></dfn>
            属性<em>必须</em>返回其初始化时的值。创建<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event"
              id="ref-for-concept-event②">事件</a>时，该属性<em>必须</em>初始化为<a data-link-type="dfn"
              href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with">一个已解决的
              promise</a>，其值为 undefined。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.6.3" id="fetch-event-clientid"><span class="secno">4.6.3.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-fetchevent-clientid" id="ref-for-dom-fetchevent-clientid①">event.clientId</a></code></span><a
              class="self-link" href="#fetch-event-clientid"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export=""
              id="dom-fetchevent-clientid"><code>clientId</code></dfn>
            属性<em>必须</em>返回其初始化时的值。创建<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event"
              id="ref-for-concept-event③">事件</a>时，该属性<em>必须</em>初始化为空字符串。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.6.4" id="fetch-event-resultingclientid"><span class="secno">4.6.4.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-fetchevent-resultingclientid" id="ref-for-dom-fetchevent-resultingclientid①">event.resultingClientId</a></code></span><a
              class="self-link" href="#fetch-event-resultingclientid"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export=""
              id="dom-fetchevent-resultingclientid"><code>resultingClientId</code></dfn>
            属性<em>必须</em>返回其初始化时的值。创建<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event"
              id="ref-for-concept-event④">事件</a>时，该属性<em>必须</em>初始化为空字符串。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.6.5" id="fetch-event-replacesClientId"><span class="secno">4.6.5.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-fetchevent-replacesclientid" id="ref-for-dom-fetchevent-replacesclientid①">event.replacesClientId</a></code></span><a
              class="self-link" href="#fetch-event-replacesClientId"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export=""
              id="dom-fetchevent-replacesclientid"><code>replacesClientId</code></dfn>
            属性<em>必须</em>返回其初始化时的值。创建<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event"
              id="ref-for-concept-event⑤">事件</a>时，该属性<em>必须</em>初始化为空字符串。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.6.6" id="fetch-event-handled"><span class="secno">4.6.6.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-fetchevent-handled" id="ref-for-dom-fetchevent-handled①">event.handled</a></code></span><a
              class="self-link" href="#fetch-event-handled"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export=""
              id="dom-fetchevent-handled"><code>handled</code></dfn>
            属性<em>必须</em>返回其初始化时的值。创建<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event"
              id="ref-for-concept-event⑥">事件</a>时，该属性<em>必须</em>初始化为一个待定的 <a data-link-type="dfn"
              href="http://tc39.github.io/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②⑥">promise</a>。
          </p>
        </section>
        <section class="algorithm" data-algorithm="fetch-event-respondwith">
          <h4 class="heading settled" data-level="4.6.7" id="fetch-event-respondwith"><span class="secno">4.6.7.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-fetchevent-respondwith" id="ref-for-dom-fetchevent-respondwith①">event.respondWith(r)</a></code></span><a
              class="self-link" href="#fetch-event-respondwith"></a></h4>
          <p class="note" role="note"><span class="marker">注意：</span>开发者可以使用一个解析为 <code
              class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①">Response</a></code>
            对象的 <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
              id="ref-for-sec-promise-objects②⑦">promise</a> 或一个 <code
              class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response②">Response</a></code>
            对象（它会自动转换为 promise）来设置参数 <var>r</var>。否则，将向 <a data-link-type="dfn"
              href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch②">Fetch</a>
            返回一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error"
              id="ref-for-concept-network-error">网络错误</a>。关于跨域内容污染的渲染器端安全检查与 <a data-link-type="dfn"
              href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch③">Fetch</a>
            中定义的<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-filtered-response"
              id="ref-for-concept-filtered-response">过滤响应</a>类型相关联。
          </p>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="method" data-export=""
              id="dom-fetchevent-respondwith"><code>respondWith(<var>r</var>)</code></dfn> 方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>event</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this⑤③">此对象</a>。</p>
            </li>
            <li data-md="">
              <p>如果 <var>event</var> 的<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#dispatch-flag"
                  id="ref-for-dispatch-flag①">分派标志</a>未设置，则<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw④">抛出</a>一个
                "<code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑧">InvalidStateError</a></code>"
                <code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①①">DOMException</a></code>。
              </p>
            </li>
            <li data-md="">
              <p>如果 <var>event</var> 的<a data-link-type="dfn" href="#fetchevent-respond-with-entered-flag"
                  id="ref-for-fetchevent-respond-with-entered-flag">respond-with 进入标志</a>已设置，则<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑤">抛出</a>一个 "<code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑨">InvalidStateError</a></code>"
                <code
                  class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①②">DOMException</a></code>。
              </p>
            </li>
            <li data-md="">
              <p>将<a data-link-type="dfn" href="#extendableevent-add-lifetime-promise"
                  id="ref-for-extendableevent-add-lifetime-promise②">生命周期 promise 添加</a> <var>r</var>
                到 <var>event</var>。
              </p>
              <p class="note" role="note"><span class="marker">注意：</span><code
                  class="idl"><a data-link-type="idl" href="#dom-fetchevent-respondwith" id="ref-for-dom-fetchevent-respondwith②">event.respondWith(r)</a></code>
                默认延长事件的生命周期，就像调用了 <code
                  class="idl"><a data-link-type="idl" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil⑤">event.waitUntil(r)</a></code>
                一样。</p>
            </li>
            <li data-md="">
              <p>设置 <var>event</var> 的<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#stop-propagation-flag"
                  id="ref-for-stop-propagation-flag">停止传播标志</a>和<a data-link-type="dfn"
                  href="https://dom.spec.whatwg.org/#stop-immediate-propagation-flag"
                  id="ref-for-stop-immediate-propagation-flag">立即停止传播标志</a>。</p>
            </li>
            <li data-md="">
              <p>设置 <var>event</var> 的<a data-link-type="dfn" href="#fetchevent-respond-with-entered-flag"
                  id="ref-for-fetchevent-respond-with-entered-flag①">respond-with 进入标志</a>。</p>
            </li>
            <li data-md="">
              <p>设置 <var>event</var> 的<a data-link-type="dfn" href="#fetchevent-wait-to-respond-flag"
                  id="ref-for-fetchevent-wait-to-respond-flag">等待响应标志</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>targetRealm</var> 为 <var>event</var> 的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                  id="ref-for-concept-relevant-realm③">相关 Realm</a>。</p>
            </li>
            <li data-md="">
              <p>在 <var>r</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection"
                  id="ref-for-upon-rejection②">被拒绝</a>时：</p>
              <ol>
                <li data-md="">
                  <p>设置 <var>event</var> 的<a data-link-type="dfn" href="#fetchevent-respond-with-error-flag"
                      id="ref-for-fetchevent-respond-with-error-flag">respond-with 错误标志</a>。</p>
                </li>
                <li data-md="">
                  <p>取消设置 <var>event</var> 的<a data-link-type="dfn" href="#fetchevent-wait-to-respond-flag"
                      id="ref-for-fetchevent-wait-to-respond-flag①">等待响应标志</a>。</p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>在 <var>r</var> 以 <var>response</var> <a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#upon-fulfillment" id="ref-for-upon-fulfillment②">兑现</a>时：
              </p>
              <ol>
                <li data-md="">
                  <p>如果 <var>response</var> 不是一个 <code
                      class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response③">Response</a></code>
                    对象，则设置<a data-link-type="dfn" href="#fetchevent-respond-with-error-flag"
                      id="ref-for-fetchevent-respond-with-error-flag①">respond-with 错误标志</a>。</p>
                  <p class="note" role="note"><span class="marker">注意：</span>如果<a data-link-type="dfn"
                      href="#fetchevent-respond-with-error-flag"
                      id="ref-for-fetchevent-respond-with-error-flag②">respond-with
                      错误标志</a>已设置，则通过<a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch②">处理
                      Fetch</a> 算法将<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error"
                      id="ref-for-concept-network-error①">网络错误</a>返回给 <a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch④">Fetch</a>。（参见步骤
                    21.1。）否则，通过<a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch③">处理
                      Fetch</a> 算法将值 <var>response</var> 返回给 <a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑤">Fetch</a>。（参见步骤
                    22.1。）</p>
                </li>
                <li data-md="">
                  <p>否则：</p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>bytes</var> 为一个空字节序列。</p>
                    </li>
                    <li data-md="">
                      <p>令 <var>end-of-body</var> 为 false。</p>
                    </li>
                    <li data-md="">
                      <p>令 <var>done</var> 为 false。</p>
                    </li>
                    <li data-md="">
                      <p>令 <var>potentialResponse</var> 为 <var>response</var> 的关联<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-response-response"
                          id="ref-for-concept-response-response">响应</a>的副本，但其<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-response-body"
                          id="ref-for-concept-response-body">主体</a>除外。</p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>response</var> 的<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-response-body"
                          id="ref-for-concept-response-body①">主体</a>非空，则运行这些子步骤：</p>
                      <ol>
                        <li data-md="">
                          <p>令 <var>reader</var> 为从 <var>response</var> 的<a data-link-type="dfn"
                              href="https://fetch.spec.whatwg.org/#concept-response-body"
                              id="ref-for-concept-response-body②">主体</a>的<a data-link-type="dfn"
                              href="https://fetch.spec.whatwg.org/#concept-body-stream"
                              id="ref-for-concept-body-stream">流</a>中<a data-link-type="dfn"
                              href="https://streams.spec.whatwg.org/#readablestream-get-a-reader"
                              id="ref-for-readablestream-get-a-reader">获取读取器</a>的结果。</p>
                        </li>
                        <li data-md="">
                          <p>令 <var>pullAlgorithm</var> 为运行这些步骤的操作：</p>
                          <ol>
                            <li data-md="">
                              <p>令 <var>readRequest</var> 为一个新的<a data-link-type="dfn"
                                  href="https://streams.spec.whatwg.org/#read-request"
                                  id="ref-for-read-request">读取请求</a>，包含以下<a data-link-type="dfn"
                                  href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①">项目</a>：
                              </p>
                              <dl>
                                <dt data-md="">给定 <var>chunk</var> 的<a data-link-type="dfn"
                                    href="https://streams.spec.whatwg.org/#read-request-chunk-steps"
                                    id="ref-for-read-request-chunk-steps">块步骤</a>
                                </dt>
                                <dd data-md="">
                                  <ol>
                                    <li data-md="">
                                      <p class="assertion">断言：<var>chunk</var> 是一个
                                        <code
                                          class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array">Uint8Array</a></code>。
                                      </p>
                                    </li>
                                    <li data-md="">
                                      <p>将 <var>chunk</var> 表示的字节追加到
                                        <var>bytes</var>。
                                      </p>
                                    </li>
                                    <li data-md="">
                                      <p>将 <var>potentialResponse</var> 的<a data-link-type="dfn"
                                          href="https://fetch.spec.whatwg.org/#concept-response-body-info"
                                          id="ref-for-concept-response-body-info">主体信息</a>的<a data-link-type="dfn"
                                          href="https://fetch.spec.whatwg.org/#fetch-timing-info-encoded-body-size"
                                          id="ref-for-fetch-timing-info-encoded-body-size">编码大小</a>增加
                                        <var>bytes</var> 的<a data-link-type="dfn"
                                          href="https://webidl.spec.whatwg.org/#buffersource-byte-length"
                                          id="ref-for-buffersource-byte-length">字节长度</a>。
                                      </p>
                                    </li>
                                    <li data-md="">
                                      <p>将 <var>potentialResponse</var> 的<a data-link-type="dfn"
                                          href="https://fetch.spec.whatwg.org/#concept-response-body-info"
                                          id="ref-for-concept-response-body-info①">主体信息</a>的<a data-link-type="dfn"
                                          href="https://fetch.spec.whatwg.org/#fetch-timing-info-decoded-body-size"
                                          id="ref-for-fetch-timing-info-decoded-body-size">解码大小</a>增加
                                        <var>bytes</var> 的<a data-link-type="dfn"
                                          href="https://webidl.spec.whatwg.org/#buffersource-byte-length"
                                          id="ref-for-buffersource-byte-length①">字节长度</a>。
                                      </p>
                                    </li>
                                    <li data-md="">
                                      <p>执行 ! <a data-link-type="dfn"
                                          href="http://tc39.github.io/ecma262/#sec-detacharraybuffer"
                                          id="ref-for-sec-detacharraybuffer">DetachArrayBuffer</a>(<var>chunk</var>.[[ViewedArrayBuffer]])。
                                      </p>
                                    </li>
                                  </ol>
                                </dd>
                                <dt data-md=""><a data-link-type="dfn"
                                    href="https://streams.spec.whatwg.org/#read-request-close-steps"
                                    id="ref-for-read-request-close-steps">关闭步骤</a>
                                </dt>
                                <dd data-md="">
                                  <ol>
                                    <li data-md="">
                                      <p>将 <var>end-of-body</var> 设置为 true。</p>
                                    </li>
                                  </ol>
                                </dd>
                                <dt data-md=""><a data-link-type="dfn"
                                    href="https://streams.spec.whatwg.org/#read-request-error-steps"
                                    id="ref-for-read-request-error-steps">错误步骤</a>
                                </dt>
                                <dd data-md="">
                                  <ol>
                                    <li data-md="">
                                      <p>用 <code
                                          class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>
                                        <a data-link-type="dfn"
                                          href="https://streams.spec.whatwg.org/#readablestream-error"
                                          id="ref-for-readablestream-error">错误</a>
                                        <var>newStream</var>。
                                      </p>
                                    </li>
                                  </ol>
                                </dd>
                              </dl>
                            </li>
                            <li data-md="">
                              <p>给定 <var>readRequest</var>，从 <var>reader</var> <a data-link-type="dfn"
                                  href="https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-a-chunk"
                                  id="ref-for-readablestreamdefaultreader-read-a-chunk">读取一个块</a>。
                              </p>
                            </li>
                          </ol>
                        </li>
                        <li data-md="">
                          <p>令 <var>cancelAlgorithm</var> 为<a data-link-type="dfn"
                              href="https://streams.spec.whatwg.org/#readablestreamdefaultreader-cancel"
                              id="ref-for-readablestreamdefaultreader-cancel">取消</a>
                            <var>reader</var> 的操作。
                          </p>
                        </li>
                        <li data-md="">
                          <p>令 <var>highWaterMark</var> 为用户代理选择的非负、非 NaN 数字。</p>
                        </li>
                        <li data-md="">
                          <p>令 <var>sizeAlgorithm</var> 为一个接受<a data-link-type="dfn"
                              href="https://streams.spec.whatwg.org/#chunk" id="ref-for-chunk">块</a>对象并返回用户代理选择的非负、非
                            NaN、非无穷大数字的算法。</p>
                        </li>
                        <li data-md="">
                          <p>令 <var>newStream</var> 为一个新的 <code
                              class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream">ReadableStream</a></code>，在
                            <var>targetRealm</var> 中使用<a data-link-type="dfn"
                              href="https://streams.spec.whatwg.org/#readablestream-set-up-pullalgorithm"
                              id="ref-for-readablestream-set-up-pullalgorithm">pullAlgorithm</a>
                            <var>pullAlgorithm</var>、<a data-link-type="dfn"
                              href="https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm"
                              id="ref-for-readablestream-set-up-cancelalgorithm">cancelAlgorithm</a>
                            <var>cancelAlgorithm</var>、<a data-link-type="dfn"
                              href="https://streams.spec.whatwg.org/#readablestream-set-up-highwatermark"
                              id="ref-for-readablestream-set-up-highwatermark">highWaterMark</a>
                            <var>highWaterMark</var> 和<a data-link-type="dfn"
                              href="https://streams.spec.whatwg.org/#readablestream-set-up-sizealgorithm"
                              id="ref-for-readablestream-set-up-sizealgorithm">sizeAlgorithm</a>
                            <var>sizeAlgorithm</var> <a data-link-type="dfn"
                              href="https://streams.spec.whatwg.org/#readablestream-set-up"
                              id="ref-for-readablestream-set-up">设置</a>。
                          </p>
                        </li>
                        <li data-md="">
                          <p>将 <var>potentialResponse</var> 的<a data-link-type="dfn"
                              href="https://fetch.spec.whatwg.org/#concept-response-body"
                              id="ref-for-concept-response-body③">主体</a>设置为一个新的<a data-link-type="dfn"
                              href="https://fetch.spec.whatwg.org/#concept-body" id="ref-for-concept-body">主体</a>，其<a
                              data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-stream"
                              id="ref-for-concept-body-stream①">流</a>为
                            <var>newStream</var>。
                          </p>
                        </li>
                        <li data-md="">
                          <p>当 <var>done</var> 为 false 时，<a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                              id="ref-for-in-parallel①④">并行</a>重复运行这些子步骤：</p>
                          <ol>
                            <li data-md="">
                              <p>如果 <var>newStream</var> <a data-link-type="dfn"
                                  href="https://streams.spec.whatwg.org/#readablestream-errored"
                                  id="ref-for-readablestream-errored">出错</a>，则将
                                <var>done</var> 设置为 true。
                              </p>
                            </li>
                            <li data-md="">
                              <p>否则，如果 <var>bytes</var> 为空且 <var>end-of-body</var> 为
                                true，则<a data-link-type="dfn"
                                  href="https://streams.spec.whatwg.org/#readablestream-close"
                                  id="ref-for-readablestream-close">关闭</a>
                                <var>newStream</var> 并将 <var>done</var> 设置为 true。
                              </p>
                            </li>
                            <li data-md="">
                              <p>否则，如果 <var>bytes</var> 不为空，则运行这些子子步骤：</p>
                              <ol>
                                <li data-md="">
                                  <p>令 <var>chunk</var> 为从 <var>bytes</var> 开头开始的
                                    <var>bytes</var> 的子序列。
                                  </p>
                                </li>
                                <li data-md="">
                                  <p>从 <var>bytes</var> 中移除 <var>chunk</var>。</p>
                                </li>
                                <li data-md="">
                                  <p>令 <var>buffer</var> 为在 <var>targetRealm</var>
                                    中创建并包含 <var>chunk</var> 的 <code
                                      class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer">ArrayBuffer</a></code>
                                    对象。</p>
                                </li>
                                <li data-md="">
                                  <p>将一个在 <var>targetRealm</var> 中创建并包装
                                    <var>buffer</var> 的 <code
                                      class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array①">Uint8Array</a></code>
                                    对象<a data-link-type="dfn"
                                      href="https://streams.spec.whatwg.org/#readablestream-enqueue"
                                      id="ref-for-readablestream-enqueue">加入队列</a>到
                                    <var>newStream</var>。
                                  </p>
                                </li>
                              </ol>
                            </li>
                          </ol>
                        </li>
                      </ol>
                      <p class="note" role="note"><span class="marker">注意：</span>这些子步骤旨在产生与将
                        <var>response</var> 的<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-response-body"
                          id="ref-for-concept-response-body④">主体</a>的<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-body-stream"
                          id="ref-for-concept-body-stream②">流</a>“管道化”到
                        <var>potentialResponse</var> 相同的可观察结果。
                      </p>
                      <p class="note" role="note"><span class="marker">注意：</span>service worker
                        以块形式写入的数据不保证接收数据的客户端以相同的块形式读取。也就是说，客户端将读取写入的相同数据，但浏览器可能会以不同的方式对其进行分块。
                      </p>
                    </li>
                    <li data-md="">
                      <p>将 <var>event</var> 的<a data-link-type="dfn" href="#fetchevent-potential-response"
                          id="ref-for-fetchevent-potential-response">潜在响应</a>设置为
                        <var>potentialResponse</var>。
                      </p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>取消设置 <var>event</var> 的<a data-link-type="dfn" href="#fetchevent-wait-to-respond-flag"
                      id="ref-for-fetchevent-wait-to-respond-flag②">等待响应标志</a>。</p>
                </li>
              </ol>
            </li>
          </ol>
        </section>
      </section>

      <section>
        <h3 class="heading settled" data-level="4.7" id="extendablemessageevent-interface"><span class="secno">4.7.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#extendablemessageevent" id="ref-for-extendablemessageevent②">ExtendableMessageEvent</a></code>
            接口</span><a class="self-link" href="#extendablemessageevent-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①①"><c-g>Exposed</c-g></a>=<c-n>ServiceWorker</c-n>]
<c-b>interface</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="extendablemessageevent"><code><c-g>ExtendableMessageEvent</c-g></code></dfn> : <a data-link-type="idl-name" href="#extendableevent" id="ref-for-extendableevent①②"><c-n>ExtendableEvent</c-n></a> {
    <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="constructor" data-export="" data-lt="ExtendableMessageEvent(type, eventInitDict)|constructor(type, eventInitDict)|ExtendableMessageEvent(type)|constructor(type)" id="dom-extendablemessageevent-extendablemessageevent"><code><c-g>constructor</c-g></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①②"><c-b>DOMString</c-b></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent/ExtendableMessageEvent(type, eventInitDict), ExtendableMessageEvent/constructor(type, eventInitDict), ExtendableMessageEvent/ExtendableMessageEvent(type), ExtendableMessageEvent/constructor(type)" data-dfn-type="argument" data-export="" id="dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-type"><code><c-g>type</c-g></code></dfn>, <c-b>optional</c-b> <a data-link-type="idl-name" href="#dictdef-extendablemessageeventinit" id="ref-for-dictdef-extendablemessageeventinit"><c-n>ExtendableMessageEventInit</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent/ExtendableMessageEvent(type, eventInitDict), ExtendableMessageEvent/constructor(type, eventInitDict), ExtendableMessageEvent/ExtendableMessageEvent(type), ExtendableMessageEvent/constructor(type)" data-dfn-type="argument" data-export="" id="dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-eventinitdict"><code><c-g>eventInitDict</c-g></code></dfn> = {});
    <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑦"><c-b>any</c-b></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="any" href="#dom-extendablemessageevent-data" id="ref-for-dom-extendablemessageevent-data①"><c-g>data</c-g></a>;
    <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑨"><c-b>USVString</c-b></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="USVString" href="#dom-extendablemessageevent-origin" id="ref-for-dom-extendablemessageevent-origin②"><c-g>origin</c-g></a>;
    <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①③"><c-b>DOMString</c-b></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="DOMString" href="#dom-extendablemessageevent-lasteventid" id="ref-for-dom-extendablemessageevent-lasteventid"><c-g>lastEventId</c-g></a>;
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑧"><c-g>SameObject</c-g></a>] <c-b>readonly</c-b> <c-b>attribute</c-b> (<a data-link-type="idl-name" href="#client" id="ref-for-client⑧"><c-n>Client</c-n></a> <c-b>or</c-b> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker②②"><c-n>ServiceWorker</c-n></a> <c-b>or</c-b> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport②"><c-n>MessagePort</c-n></a>)? <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="(Client or ServiceWorker or MessagePort)?" href="#dom-extendablemessageevent-source" id="ref-for-dom-extendablemessageevent-source②"><c-g>source</c-g></a>;
    <c-b>readonly</c-b> <c-b>attribute</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array③"><c-b>FrozenArray</c-b></a>&lt;<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport③"><c-n>MessagePort</c-n></a>&gt; <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="FrozenArray<MessagePort>" href="#dom-extendablemessageevent-ports" id="ref-for-dom-extendablemessageevent-ports①"><c-g>ports</c-g></a>;
};
</pre>
        <pre class="idl highlight def" id="extendablemessage-event-init-dictionary"><c-b>dictionary</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-extendablemessageeventinit"><code><c-g>ExtendableMessageEventInit</c-g></code></dfn> : <a data-link-type="idl-name" href="#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit③"><c-n>ExtendableEventInit</c-n></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑧"><c-b>any</c-b></a> <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="ExtendableMessageEventInit" data-dfn-type="dict-member" data-export="" data-type="any" id="dom-extendablemessageeventinit-data"><code><c-g>data</c-g></code></dfn> = <c-b>null</c-b>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⓪"><c-b>USVString</c-b></a> <dfn class="dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="ExtendableMessageEventInit" data-dfn-type="dict-member" data-export="" data-type="USVString" id="dom-extendablemessageeventinit-origin"><code><c-g>origin</c-g></code></dfn> = "";
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①④"><c-b>DOMString</c-b></a> <dfn class="dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="ExtendableMessageEventInit" data-dfn-type="dict-member" data-export="" data-type="DOMString" id="dom-extendablemessageeventinit-lasteventid"><code><c-g>lastEventId</c-g></code></dfn> = "";
    (<a data-link-type="idl-name" href="#client" id="ref-for-client⑨"><c-n>Client</c-n></a> <c-b>or</c-b> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker②③"><c-n>ServiceWorker</c-n></a> <c-b>or</c-b> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport④"><c-n>MessagePort</c-n></a>)? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="ExtendableMessageEventInit" data-dfn-type="dict-member" data-export="" data-type="(Client or ServiceWorker or MessagePort)?" id="dom-extendablemessageeventinit-source"><code><c-g>source</c-g></code></dfn> = <c-b>null</c-b>;
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence④"><c-b>sequence</c-b></a>&lt;<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport⑤"><c-n>MessagePort</c-n></a>&gt; <dfn class="dfn-paneled idl-code" data-default="[]" data-dfn-for="ExtendableMessageEventInit" data-dfn-type="dict-member" data-export="" data-type="sequence<MessagePort>" id="dom-extendablemessageeventinit-ports"><code><c-g>ports</c-g></code></dfn> = [];
};
</pre>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦⑥">服务工作线程</a>定义了<a
            class="idl-code" data-link-type="method" href="#dom-extendableevent-waituntil"
            id="ref-for-dom-extendableevent-waituntil⑥">可扩展的</a> <code
            class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-message" id="ref-for-eventdef-serviceworkerglobalscope-message③">message</a></code>
          事件，以允许延长事件的生命周期。对于 <code
            class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-message" id="ref-for-eventdef-serviceworkerglobalscope-message④">message</a></code>
          事件，<a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦⑦">服务工作线程</a>使用
          <code
            class="idl"><a data-link-type="idl" href="#extendablemessageevent" id="ref-for-extendablemessageevent③">ExtendableMessageEvent</a></code>
          接口，该接口扩展了 <code
            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①③">ExtendableEvent</a></code>
          接口。
        </p>
        <section>
          <h4 class="heading settled" data-level="4.7.1" id="extendablemessage-event-data"><span class="secno">4.7.1.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-data" id="ref-for-dom-extendablemessageevent-data②">event.data</a></code></span><a
              class="self-link" href="#extendablemessage-event-data"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="attribute"
              data-export="" id="dom-extendablemessageevent-data"><code>data</code></dfn>
            属性<em>必须</em>返回其初始化时的值。创建对象时，此属性<em>必须</em>初始化为 null。它表示正在发送的消息。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.7.2" id="extendablemessage-event-origin"><span class="secno">4.7.2.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-origin" id="ref-for-dom-extendablemessageevent-origin③">event.origin</a></code></span><a
              class="self-link" href="#extendablemessage-event-origin"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="attribute"
              data-export="" id="dom-extendablemessageevent-origin"><code>origin</code></dfn>
            属性<em>必须</em>返回其初始化时的值。创建对象时，此属性<em>必须</em>初始化为空字符串。它表示发送消息的<a data-link-type="dfn"
              href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③②">服务工作线程客户端</a>的<a
              data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
              id="ref-for-concept-settings-object-origin⑥">源</a>。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.7.3" id="extendablemessage-event-lasteventid"><span
              class="secno">4.7.3. </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-lasteventid" id="ref-for-dom-extendablemessageevent-lasteventid①">event.lastEventId</a></code></span><a
              class="self-link" href="#extendablemessage-event-lasteventid"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="attribute"
              data-export="" id="dom-extendablemessageevent-lasteventid"><code>lastEventId</code></dfn>
            属性<em>必须</em>返回其初始化时的值。创建对象时，此属性<em>必须</em>初始化为空字符串。
          </p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.7.4" id="extendablemessage-event-source"><span class="secno">4.7.4.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-source" id="ref-for-dom-extendablemessageevent-source③">event.source</a></code></span><a
              class="self-link" href="#extendablemessage-event-source"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="attribute"
              data-export="" id="dom-extendablemessageevent-source"><code>source</code></dfn>
            属性<em>必须</em>返回其初始化时的值。创建对象时，此属性<em>必须</em>初始化为 null。它表示从中发送消息的 <code
              class="idl"><a data-link-type="idl" href="#client" id="ref-for-client①⓪">Client</a></code>
            对象。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="4.7.5" id="extendablemessage-event-ports"><span class="secno">4.7.5.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-ports" id="ref-for-dom-extendablemessageevent-ports②">event.ports</a></code></span><a
              class="self-link" href="#extendablemessage-event-ports"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="attribute"
              data-export="" id="dom-extendablemessageevent-ports"><code>ports</code></dfn>
            属性<em>必须</em>返回其初始化时的值。创建对象时，此属性<em>必须</em>初始化为空数组。它表示正在发送的 <code
              class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport⑥">MessagePort</a></code>
            数组。</p>
        </section>
      </section>
      <section>
        <h3 class="heading settled" data-level="4.8" id="execution-context-events"><span class="secno">4.8.
          </span><span class="content">事件</span><a class="self-link" href="#execution-context-events"></a>
        </h3>
        <p>以下事件（称为<a data-link-type="dfn" href="#dfn-service-worker-events"
            id="ref-for-dfn-service-worker-events">服务工作线程事件</a>）在 <code
            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①②">ServiceWorkerGlobalScope</a></code>
          对象上分派：</p>
        <table class="data">
          <thead>
            <tr>
              <th>事件名称</th>
              <th>接口</th>
              <th>类别</th>
              <th>分派时机…</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event"
                  data-export="" id="service-worker-global-scope-install-event"><code>install</code></dfn>
              </td>
              <td><code
                  class="idl"><a data-link-type="idl" href="#installevent" id="ref-for-installevent①">InstallEvent</a></code>
              </td>
              <td><a data-link-type="dfn" href="#dfn-lifecycle-events" id="ref-for-dfn-lifecycle-events①">生命周期</a>
              </td>
              <td><a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker"
                  id="ref-for-serviceworkerglobalscope-service-worker②①">服务工作线程</a>的<a data-link-type="dfn"
                  href="#dfn-containing-service-worker-registration"
                  id="ref-for-dfn-containing-service-worker-registration①③">所属服务工作线程注册</a>的<a data-link-type="dfn"
                  href="#dfn-installing-worker" id="ref-for-dfn-installing-worker⑦">安装中工作线程</a>发生更改时。（参见<a
                  data-link-type="dfn" href="#install" id="ref-for-install①">安装</a>算法的步骤 11.2。）</td>
            </tr>
            <tr>
              <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event"
                  data-export="" id="service-worker-global-scope-activate-event"><code>activate</code></dfn>
              </td>
              <td><code
                  class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①④">ExtendableEvent</a></code>
              </td>
              <td><a data-link-type="dfn" href="#dfn-lifecycle-events" id="ref-for-dfn-lifecycle-events②">生命周期</a>
              </td>
              <td><a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker"
                  id="ref-for-serviceworkerglobalscope-service-worker②②">服务工作线程</a>的<a data-link-type="dfn"
                  href="#dfn-containing-service-worker-registration"
                  id="ref-for-dfn-containing-service-worker-registration①④">所属服务工作线程注册</a>的<a data-link-type="dfn"
                  href="#dfn-active-worker" id="ref-for-dfn-active-worker①⑧">活动工作线程</a>发生更改时。（参见<a data-link-type="dfn"
                  href="#activate" id="ref-for-activate②">激活</a>算法的步骤 12.2。）</td>
            </tr>
            <tr>
              <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event"
                  data-export="" id="service-worker-global-scope-fetch-event"><code>fetch</code></dfn>
              </td>
              <td><code
                  class="idl"><a data-link-type="idl" href="#fetchevent" id="ref-for-fetchevent③">FetchEvent</a></code>
              </td>
              <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events③">功能性</a>
              </td>
              <td><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-http-fetch"
                  id="ref-for-concept-http-fetch②">http fetch</a> 调用<a data-link-type="dfn" href="#handle-fetch"
                  id="ref-for-handle-fetch④">处理 Fetch</a> 并传入 <var>request</var>
                时。执行<a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch⑤">处理 Fetch</a>
                的结果是，<a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker"
                  id="ref-for-serviceworkerglobalscope-service-worker②③">服务工作线程</a>向 <a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-http-fetch" id="ref-for-concept-http-fetch③">http
                  fetch</a> 返回一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                  id="ref-for-concept-response③">响应</a>。该<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response④">响应</a>（由 <code
                  class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response④">Response</a></code>
                对象表示）可以从 <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache">Cache</a></code>
                对象中检索，也可以使用 <code
                  class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-global-fetch" id="ref-for-dom-global-fetch">self.fetch(input, init)</a></code>
                方法直接从网络获取。（自定义 <code
                  class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response⑤">Response</a></code>
                对象是另一种选择。）</td>
            </tr>
            <tr>
              <td><a href="https://w3c.github.io/push-api/#dfn-push">push</a>
              </td>
              <td><a href="https://w3c.github.io/push-api/#dom-pushevent"><code>PushEvent</code></a>
              </td>
              <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events④">功能性</a>
              </td>
              <td>（参见<a href="https://w3c.github.io/push-api/#dfn-fire-the-push-event">触发推送事件</a>。）</td>
            </tr>
            <tr>
              <td><a
                  href="https://notifications.spec.whatwg.org/#dom-serviceworkerglobalscope-onnotificationclick">notificationclick</a>
              </td>
              <td><a href="https://notifications.spec.whatwg.org/#notificationevent"><code>NotificationEvent</code></a>
              </td>
              <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events⑤">功能性</a>
              </td>
              <td>（参见<a href="https://notifications.spec.whatwg.org/#activating-a-notification">激活通知</a>。）
              </td>
            </tr>
            <tr>
              <td><a
                  href="https://notifications.spec.whatwg.org/#dom-serviceworkerglobalscope-onnotificationclose">notificationclose</a>
              </td>
              <td><a href="https://notifications.spec.whatwg.org/#notificationevent"><code>NotificationEvent</code></a>
              </td>
              <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events⑥">功能性</a>
              </td>
              <td>（参见<a href="https://notifications.spec.whatwg.org/#closing-a-notification">关闭通知</a>。）
              </td>
            </tr>
            <tr>
              <td><a href="https://wicg.github.io/BackgroundSync/spec/#sync">sync</a>
              </td>
              <td><a href="https://wicg.github.io/BackgroundSync/spec/#sync-event"><code>SyncEvent</code></a>
              </td>
              <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events⑦">功能性</a>
              </td>
              <td>（参见<a href="https://wicg.github.io/BackgroundSync/spec/#fire-a-sync-event">触发同步事件</a>。）
              </td>
            </tr>
            <tr>
              <td><a href="https://w3c.github.io/payment-handler/#the-canmakepaymentevent">canmakepayment</a>
              </td>
              <td><a href="https://w3c.github.io/payment-handler/#dom-canmakepaymentevent">CanMakePaymentEvent</a>
              </td>
              <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events⑧">功能性</a>
              </td>
              <td>（参见<a href="https://w3c.github.io/payment-handler/#dfn-handling-a-canmakepaymentevent">处理
                  CanMakePaymentEvent</a>。）</td>
            </tr>
            <tr>
              <td><a href="https://w3c.github.io/payment-handler/#the-paymentrequestevent">paymentrequest</a>
              </td>
              <td><a href="https://w3c.github.io/payment-handler/#dom-paymentrequestevent">PaymentRequestEvent</a>
              </td>
              <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events⑨">功能性</a>
              </td>
              <td>（参见<a href="https://w3c.github.io/payment-handler/#dfn-handling-a-paymentrequestevent">处理
                  PaymentRequestEvent</a>。）</td>
            </tr>
            <tr>
              <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event"
                  data-export="" id="eventdef-serviceworkerglobalscope-message"><code>message</code></dfn>
              </td>
              <td><code
                  class="idl"><a data-link-type="idl" href="#extendablemessageevent" id="ref-for-extendablemessageevent④">ExtendableMessageEvent</a></code>
              </td>
              <td>旧版</td>
              <td>当它收到一条消息时。</td>
            </tr>
            <tr>
              <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event"
                  data-export="" id="eventdef-serviceworkerglobalscope-messageerror"><code>messageerror</code></dfn>
              </td>
              <td><code
                  class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#messageevent" id="ref-for-messageevent②">MessageEvent</a></code>
              </td>
              <td>旧版</td>
              <td>当它收到一条无法反序列化的消息时。</td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
    <section>

      <h2 class="heading settled" data-level="5" id="cache-objects"><span class="secno">5. </span><span
          class="content">缓存</span><a class="self-link" href="#cache-objects"></a></h2>
      <p>为了让开发者能够完全管理其内容缓存以供离线使用，<code
          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑨">Window</a></code>
        和 <code
          class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" id="ref-for-workerglobalscope①">WorkerGlobalScope</a></code>
        提供了异步缓存方法，用于打开和操作 <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①">Cache</a></code>
        对象。一个<a data-link-type="dfn"
          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
          id="ref-for-concept-settings-object-origin⑦">源</a>可以拥有多个命名的 <code
          class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache②">Cache</a></code>
        对象，其内容完全由脚本控制。缓存不在<a data-link-type="dfn"
          href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
          id="ref-for-concept-origin①⓪">源</a>之间共享，并且它们与浏览器的 HTTP 缓存完全隔离。
      </p>

      <section>
        <h3 class="heading settled" data-level="5.1" id="cache-constructs"><span class="secno">5.1. </span><span
            class="content">构造</span><a class="self-link" href="#cache-constructs"></a></h3>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport=""
            id="dfn-request-response-list">请求响应列表</dfn>是一个由请求（一个<a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request③">请求</a>）和响应（一个<a
            data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
            id="ref-for-concept-response⑤">响应</a>）组成的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
            id="ref-for-list⑨">列表</a>的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple"
            id="ref-for-tuple">元组</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport=""
            id="dfn-relevant-request-response-list">相关请求响应列表</dfn>是<a data-link-type="dfn"
            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤④">此对象</a>表示的实例。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="dfn-name-to-cache-map">名称到缓存映射</dfn>是一个<a
            data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
            id="ref-for-ordered-map④">有序映射</a>，其<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry"
            id="ref-for-map-entry">条目</a>由一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key"
            id="ref-for-map-key">键</a>（一个表示<a data-link-type="dfn" href="#dfn-request-response-list"
            id="ref-for-dfn-request-response-list">请求响应列表</a>名称的字符串）和一个<a data-link-type="dfn"
            href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value">值</a>（一个<a data-link-type="dfn"
            href="#dfn-request-response-list" id="ref-for-dfn-request-response-list①">请求响应列表</a>）组成。
        </p>
        <p>每个<a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key"
            id="ref-for-storage-key②">存储键</a>都有一个关联的<a data-link-type="dfn" href="#dfn-name-to-cache-map"
            id="ref-for-dfn-name-to-cache-map">名称到缓存映射</a>。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport=""
            id="dfn-relevant-name-to-cache-map">相关名称到缓存映射</dfn>是与从<a data-link-type="dfn"
            href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑤">此对象</a>的关联<a data-link-type="dfn"
            href="#cachestorage-global-object" id="ref-for-cachestorage-global-object">全局对象</a>的<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
            id="ref-for-environment-settings-object①③">环境设置对象</a><a data-link-type="dfn"
            href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key⑧">获取</a>的<a
            data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key"
            id="ref-for-storage-key③">存储键</a>相关联的<a data-link-type="dfn" href="#dfn-name-to-cache-map"
            id="ref-for-dfn-name-to-cache-map①">名称到缓存映射</a>。</p>
      </section>
      <section>
        <h3 class="heading settled" data-level="5.2" id="cache-lifetimes"><span class="secno">5.2. </span><span
            class="content">理解缓存生命周期</span><a class="self-link" href="#cache-lifetimes"></a></h3>
        <p><code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache③">Cache</a></code> 实例不是浏览器
          HTTP 缓存的一部分。<code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache④">Cache</a></code>
          对象正是开发者必须自己管理的内容。<code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache⑤">Cache</a></code>
          对象除非开发者明确请求，否则不会更新。<code
            class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache⑥">Cache</a></code>
          对象除非开发者删除条目，否则不会过期。<code
            class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache⑦">Cache</a></code>
          对象不会仅仅因为<a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker⑦⑧">服务工作线程</a>脚本更新而消失。也就是说，缓存不会自动更新。更新必须手动管理。这意味着开发者应该按名称对缓存进行版本控制，并确保仅从能够安全操作该缓存的<a
            data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦⑨">服务工作线程</a>版本中使用缓存。</p>
      </section>
      <section>
        <h3 class="heading settled" data-level="5.3" id="self-caches"><span class="secno">5.3. </span><span
            class="content"><code
              class="idl"><a data-link-type="idl" href="#global-caches-attribute" id="ref-for-global-caches-attribute">self.caches</a></code></span><a
            class="self-link" href="#self-caches"></a></h3>
        <pre class="idl highlight def"><c-b>partial</c-b> <c-b>interface</c-b> <c-b>mixin</c-b> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" id="ref-for-windoworworkerglobalscope"><c-g>WindowOrWorkerGlobalScope</c-g></a> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑦"><c-g>SecureContext</c-g></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑨"><c-g>SameObject</c-g></a>] <c-b>readonly</c-b> <c-b>attribute</c-b> <a data-link-type="idl-name" href="#cachestorage" id="ref-for-cachestorage"><c-n>CacheStorage</c-n></a> <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="CacheStorage" href="#global-caches-attribute" id="ref-for-global-caches-attribute①"><c-g>caches</c-g></a>;
};
</pre>
        <section>
          <h4 class="heading settled" data-level="5.3.1" id="global-caches"><span class="secno">5.3.1.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#global-caches-attribute" id="ref-for-global-caches-attribute②">caches</a></code></span><a
              class="self-link" href="#global-caches"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="WindowOrWorkerGlobalScope" data-dfn-type="attribute"
              data-export="" id="global-caches-attribute"><code>caches</code></dfn> 获取器步骤是返回<a data-link-type="dfn"
              href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑥">此对象</a>的关联 <code
              class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage①">CacheStorage</a></code>
            对象。</p>
        </section>
      </section>

      <section>
        <h3 class="heading settled" data-level="5.4" id="cache-interface"><span class="secno">5.4. </span><span
            class="content"><code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache⑧">Cache</a></code>
            接口</span><a class="self-link" href="#cache-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑧"><c-g>SecureContext</c-g></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①②"><c-g>Exposed</c-g></a>=(<c-n>Window</c-n>,<c-n>Worker</c-n>)]
<c-b>interface</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="cache"><code><c-g>Cache</c-g></code></dfn> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①②"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②④"><c-b>Promise</c-b></a>&lt;(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response⑥"><c-n>Response</c-n></a> <c-b>or</c-b> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑧"><c-b>undefined</c-b></a>)> <a class="idl-code" data-link-type="method" href="#dom-cache-match" id="ref-for-dom-cache-match"><c-g>match</c-g></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo"><c-n>RequestInfo</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/match(request, options), Cache/match(request)" data-dfn-type="argument" data-export="" id="dom-cache-match-request-options-request"><code><c-g>request</c-g></code></dfn>, <c-b>optional</c-b> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions"><c-n>CacheQueryOptions</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/match(request, options), Cache/match(request)" data-dfn-type="argument" data-export="" id="dom-cache-match-request-options-options"><code><c-g>options</c-g></code></dfn> = {});
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①③"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑤"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array④"><c-b>FrozenArray</c-b></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response⑦"><c-n>Response</c-n></a>&gt;&gt; <a class="idl-code" data-link-type="method" href="#dom-cache-matchall" id="ref-for-dom-cache-matchall"><c-g>matchAll</c-g></a>(<c-b>optional</c-b> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo①"><c-n>RequestInfo</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/matchAll(request, options), Cache/matchAll(request), Cache/matchAll()" data-dfn-type="argument" data-export="" id="dom-cache-matchall-request-options-request"><code><c-g>request</c-g></code></dfn>, <c-b>optional</c-b> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions①"><c-n>CacheQueryOptions</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/matchAll(request, options), Cache/matchAll(request), Cache/matchAll()" data-dfn-type="argument" data-export="" id="dom-cache-matchall-request-options-options"><code><c-g>options</c-g></code></dfn> = {});
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①④"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑥"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑨"><c-b>undefined</c-b></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-cache-add" id="ref-for-dom-cache-add"><c-g>add</c-g></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo②"><c-n>RequestInfo</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/add(request)" data-dfn-type="argument" data-export="" id="dom-cache-add-request-request"><code><c-g>request</c-g></code></dfn>);
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⑤"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑦"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②⓪"><c-b>undefined</c-b></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-cache-addall" id="ref-for-dom-cache-addall"><c-g>addAll</c-g></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑤"><c-b>sequence</c-b></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo③"><c-n>RequestInfo</c-n></a>&gt; <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/addAll(requests)" data-dfn-type="argument" data-export="" id="dom-cache-addall-requests-requests"><code><c-g>requests</c-g></code></dfn>);
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⑥"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑧"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②①"><c-b>undefined</c-b></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-cache-put" id="ref-for-dom-cache-put"><c-g>put</c-g></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo④"><c-n>RequestInfo</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/put(request, response)" data-dfn-type="argument" data-export="" id="dom-cache-put-request-response-request"><code><c-g>request</c-g></code></dfn>, <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response⑧"><c-n>Response</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/put(request, response)" data-dfn-type="argument" data-export="" id="dom-cache-put-request-response-response"><code><c-g>response</c-g></code></dfn>);
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⑦"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑨"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean④"><c-b>boolean</c-b></a>&gt; <a class="idl-code" data-link-type="method" href="#dom-cache-delete" id="ref-for-dom-cache-delete"><c-g>delete</c-g></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo⑤"><c-n>RequestInfo</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/delete(request, options), Cache/delete(request)" data-dfn-type="argument" data-export="" id="dom-cache-delete-request-options-request"><code><c-g>request</c-g></code></dfn>, <c-b>optional</c-b> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions②"><c-n>CacheQueryOptions</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/delete(request, options), Cache/delete(request)" data-dfn-type="argument" data-export="" id="dom-cache-delete-request-options-options"><code><c-g>options</c-g></code></dfn> = {});
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⑧"><c-g>NewObject</c-g></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③⓪"><c-b>Promise</c-b></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array⑤"><c-b>FrozenArray</c-b></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request②"><c-n>Request</c-n></a>&gt;&gt; <a class="idl-code" data-link-type="method" href="#dom-cache-keys" id="ref-for-dom-cache-keys"><c-g>keys</c-g></a>(<c-b>optional</c-b> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo⑥"><c-n>RequestInfo</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/keys(request, options), Cache/keys(request), Cache/keys()" data-dfn-type="argument" data-export="" id="dom-cache-keys-request-options-request"><code><c-g>request</c-g></code></dfn>, <c-b>optional</c-b> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions③"><c-n>CacheQueryOptions</c-n></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/keys(request, options), Cache/keys(request), Cache/keys()" data-dfn-type="argument" data-export="" id="dom-cache-keys-request-options-options"><code><c-g>options</c-g></code></dfn> = {});
};
</pre>
        <pre class="idl highlight def" id="cache-query-options-dictionary"><c-b>dictionary</c-b> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-cachequeryoptions"><code><c-g>CacheQueryOptions</c-g></code></dfn> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑤"><c-b>boolean</c-b></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="CacheQueryOptions" data-dfn-type="dict-member" data-export="" data-type="boolean" id="dom-cachequeryoptions-ignoresearch"><code><c-g>ignoreSearch</c-g></code></dfn> = <c-b>false</c-b>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑥"><c-b>boolean</c-b></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="CacheQueryOptions" data-dfn-type="dict-member" data-export="" data-type="boolean" id="dom-cachequeryoptions-ignoremethod"><code><c-g>ignoreMethod</c-g></code></dfn> = <c-b>false</c-b>;
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑦"><c-b>boolean</c-b></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="CacheQueryOptions" data-dfn-type="dict-member" data-export="" data-type="boolean" id="dom-cachequeryoptions-ignorevary"><code><c-g>ignoreVary</c-g></code></dfn> = <c-b>false</c-b>;
};
</pre>
        <p><code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache⑨">Cache</a></code> 对象表示一个<a
            data-link-type="dfn" href="#dfn-request-response-list"
            id="ref-for-dfn-request-response-list②">请求响应列表</a>。跨文档和工作线程的多个实现 <code
            class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①⓪">Cache</a></code>
          接口的独立对象可以同时与同一个<a data-link-type="dfn" href="#dfn-request-response-list"
            id="ref-for-dfn-request-response-list③">请求响应列表</a>相关联。</p>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="dfn-cache-batch-operation">缓存批量操作</dfn>是一个<a
            data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct③">结构体</a>，包含：</p>
        <ul>
          <li data-md="">
            <p><dfn class="dfn-paneled" data-dfn-for="cache batch operation" data-dfn-type="dfn" data-export=""
                id="dfn-cache-batch-operation-type">类型</dfn>（“<code>delete</code>”或“<code>put</code>”）。
            </p>
          </li>
          <li data-md="">
            <p><dfn class="dfn-paneled" data-dfn-for="cache batch operation" data-dfn-type="dfn" data-export=""
                id="dfn-cache-batch-operation-request">请求</dfn>（一个<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request④">请求</a>）。</p>
          </li>
          <li data-md="">
            <p><dfn class="dfn-paneled" data-dfn-for="cache batch operation" data-dfn-type="dfn" data-export=""
                id="dfn-cache-batch-operation-response">响应</dfn>（一个<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑥">响应</a>）。</p>
          </li>
          <li data-md="">
            <p><dfn class="dfn-paneled" data-dfn-for="cache batch operation" data-dfn-type="dfn" data-export=""
                id="dfn-cache-batch-operation-options">选项</dfn>（一个 <code
                class="idl"><a data-link-type="idl" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions④">CacheQueryOptions</a></code>）。
            </p>
          </li>
        </ul>
        <section class="algorithm" data-algorithm="cache-match">
          <h4 class="heading settled" data-level="5.4.1" id="cache-match"><span class="secno">5.4.1.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cache-match" id="ref-for-dom-cache-match①">match(request, options)</a></code></span><a
              class="self-link" href="#cache-match"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export=""
              data-lt="match(request, options)|match(request)"
              id="dom-cache-match"><code>match(<var>request</var>, <var>options</var>)</code></dfn>
            方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                  id="ref-for-a-new-promise⑧">一个新的 promise</a>。</p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel①⑤">并行</a>运行这些子步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>p</var> 为使用 <var>request</var> 和 <var>options</var> 运行 <code
                      class="idl"><a data-link-type="idl" href="#dom-cache-matchall" id="ref-for-dom-cache-matchall①">matchAll(request, options)</a></code>
                    方法中指定的算法的结果。</p>
                </li>
                <li data-md="">
                  <p>等待 <var>p</var> 稳定。</p>
                </li>
                <li data-md="">
                  <p>如果 <var>p</var> 因异常而被拒绝，则：</p>
                  <ol>
                    <li data-md="">
                      <p>用该异常拒绝 <var>promise</var>。</p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>否则，如果 <var>p</var> 以数组 <var>responses</var> 解析，则：</p>
                  <ol>
                    <li data-md="">
                      <p>如果 <var>responses</var> 是一个空数组，则：</p>
                      <ol>
                        <li data-md="">
                          <p>用 undefined 解析 <var>promise</var>。</p>
                        </li>
                      </ol>
                    </li>
                    <li data-md="">
                      <p>否则：</p>
                      <ol>
                        <li data-md="">
                          <p>用 <var>responses</var> 的第一个元素解析 <var>promise</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="cache-matchall">
          <h4 class="heading settled" data-level="5.4.2" id="cache-matchall"><span class="secno">5.4.2.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cache-matchall" id="ref-for-dom-cache-matchall②">matchAll(request, options)</a></code></span><a
              class="self-link" href="#cache-matchall"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export=""
              data-lt="matchAll(request, options)|matchAll(request)|matchAll()"
              id="dom-cache-matchall"><code>matchAll(<var>request</var>, <var>options</var>)</code></dfn>
            方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>r</var> 为 null。</p>
            </li>
            <li data-md="">
              <p>如果可选参数 <var>request</var> 未省略，则：</p>
              <ol>
                <li data-md="">
                  <p>如果 <var>request</var> 是一个 <code
                      class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request③">Request</a></code>
                    对象，则：</p>
                  <ol>
                    <li data-md="">
                      <p>将 <var>r</var> 设置为 <var>request</var> 的<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-request-request"
                          id="ref-for-concept-request-request">请求</a>。</p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>r</var> 的<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-request-method"
                          id="ref-for-concept-request-method">方法</a>不是 `<code>GET</code>` 且
                        <var>options</var>.ignoreMethod 为 false，则返回<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                          id="ref-for-a-promise-resolved-with①">一个已解析的 promise</a>，其值为空数组。
                      </p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>否则，如果 <var>request</var> 是一个字符串，则：</p>
                  <ol>
                    <li data-md="">
                      <p>将 <var>r</var> 设置为以 <var>request</var> 作为参数调用 <code
                          class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request④">Request</a></code>
                        初始值作为构造函数的结果的关联<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-request-request"
                          id="ref-for-concept-request-request①">请求</a>。如果此操作<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑥">抛出</a>异常，则返回<a
                          data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                          id="ref-for-a-promise-rejected-with④">一个被拒绝的 promise</a>，其值为该异常。</p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>令 <var>realm</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this⑤⑦">此对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                  id="ref-for-concept-relevant-realm④">相关领域</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                  id="ref-for-a-new-promise⑨">一个新的 promise</a>。</p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel①⑥">并行</a>运行这些子步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>responses</var> 为一个空<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                      id="ref-for-list①⓪">列表</a>。</p>
                </li>
                <li data-md="">
                  <p>如果可选参数 <var>request</var> 被省略，则：</p>
                  <ol>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                          id="ref-for-list-iterate④">对于</a><a data-link-type="dfn"
                          href="#dfn-relevant-request-response-list"
                          id="ref-for-dfn-relevant-request-response-list">相关请求响应列表</a>中的每个
                        <var>requestResponse</var>：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>将 <var>requestResponse</var> 的响应副本添加到 <var>responses</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>否则：</p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>requestResponses</var> 为使用 <var>r</var> 和 <var>options</var> 运行<a data-link-type="dfn"
                          href="#query-cache" id="ref-for-query-cache">查询缓存</a>的结果。
                      </p>
                    </li>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                          id="ref-for-list-iterate⑤">对于</a> <var>requestResponses</var> 中的每个
                        <var>requestResponse</var>：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>将 <var>requestResponse</var> 的响应副本添加到 <var>responses</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                      id="ref-for-list-iterate⑥">对于</a> <var>responses</var> 中的每个
                    <var>response</var>：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>如果 <var>response</var> 的<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-response-type"
                          id="ref-for-concept-response-type">类型</a>是“<code>opaque</code>”且使用
                        <var>promise</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                          id="ref-for-relevant-settings-object②⓪">相关设置对象</a>的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                          id="ref-for-concept-settings-object-origin⑧">源</a>、<var>promise</var>
                        的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                          id="ref-for-relevant-settings-object②①">相关设置对象</a>、“”和
                        <var>response</var> 的<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-internal-response"
                          id="ref-for-concept-internal-response">内部响应</a>进行<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check"
                          id="ref-for-cross-origin-resource-policy-check">跨源资源策略检查</a>返回<b>blocked</b>，则用
                        <code>TypeError</code> 拒绝 <var>promise</var> 并中止这些步骤。
                      </p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>使用<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source①①">DOM 操作任务源</a>，在
                    <var>promise</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                      id="ref-for-relevant-settings-object②②">相关设置对象</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                      id="ref-for-responsible-event-loop⑥">负责事件循环</a>上<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task①⑦">排队一个任务</a>，以执行以下步骤：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>responseList</var> 为一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                          id="ref-for-list①①">列表</a>。</p>
                    </li>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                          id="ref-for-list-iterate⑦">对于</a> <var>responses</var> 中的每个
                        <var>response</var>：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>将一个新的 <code
                              class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response⑨">Response</a></code>
                            对象（与 <var>response</var> 相关联）和一个新的 <code
                              class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers">Headers</a></code>
                            对象（其<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-headers-guard"
                              id="ref-for-concept-headers-guard">守卫</a>为“<code>immutable</code>”）添加到
                            <var>responseList</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                    <li data-md="">
                      <p>在 <var>realm</var> 中，用从 <var>responseList</var> <a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array"
                          id="ref-for-dfn-create-frozen-array②">创建</a>的<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-frozen-array-type"
                          id="ref-for-dfn-frozen-array-type②">冻结数组</a>解析 <var>promise</var>。
                      </p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="cache-add">
          <h4 class="heading settled" data-level="5.4.3" id="cache-add"><span class="secno">5.4.3.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cache-add" id="ref-for-dom-cache-add①">add(request)</a></code></span><a
              class="self-link" href="#cache-add"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export=""
              id="dom-cache-add"><code>add(<var>request</var>)</code></dfn> 方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>requests</var> 为一个仅包含 <var>request</var> 的数组。</p>
            </li>
            <li data-md="">
              <p>令 <var>responseArrayPromise</var> 为以 <var>requests</var> 作为参数运行 <code
                  class="idl"><a data-link-type="idl" href="#dom-cache-addall" id="ref-for-dom-cache-addall①">addAll(requests)</a></code>
                中指定的算法的结果。
              </p>
            </li>
            <li data-md="">
              <p>返回<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                  id="ref-for-dfn-perform-steps-once-promise-is-settled">对
                  <var>responseArrayPromise</var> 作出反应</a>的结果，该反应带有一个返回 undefined 的履行处理程序。
              </p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="cache-addAll">
          <h4 class="heading settled" data-level="5.4.4" id="cache-addAll"><span class="secno">5.4.4.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cache-addall" id="ref-for-dom-cache-addall②">addAll(requests)</a></code></span><a
              class="self-link" href="#cache-addAll"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export=""
              id="dom-cache-addall"><code>addAll(<var>requests</var>)</code></dfn> 方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>responsePromises</var> 为一个空<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                  id="ref-for-list①②">列表</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>requestList</var> 为一个空<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                  id="ref-for-list①③">列表</a>。</p>
            </li>
            <li data-md="">
              <p>对于 <var>requests</var> 中类型为 <code
                  class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request⑤">Request</a></code>
                的每个 <var>request</var>：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>r</var> 为 <var>request</var> 的<a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#concept-request-request"
                      id="ref-for-concept-request-request②">请求</a>。</p>
                </li>
                <li data-md="">
                  <p>如果 <var>r</var> 的<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url"
                      id="ref-for-concept-request-url①">URL</a> 的<a data-link-type="dfn"
                      href="https://url.spec.whatwg.org/#concept-url-scheme"
                      id="ref-for-concept-url-scheme">方案</a>不是“<code>http</code>”和“<code>https</code>”之一，或者
                    <var>r</var> 的<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method"
                      id="ref-for-concept-request-method①">方法</a>不是 `<code>GET</code>`，则返回<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                      id="ref-for-a-promise-rejected-with⑤">一个被拒绝的 promise</a>，其值为
                    <code>TypeError</code>。
                  </p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>令 <var>fetchControllers</var> 为一个<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#fetch-controller" id="ref-for-fetch-controller">获取控制器</a>的<a
                  data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①④">列表</a>。</p>
            </li>
            <li data-md="">
              <p>对于 <var>requests</var> 中的每个 <var>request</var>：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>r</var> 为以 <var>request</var> 作为参数调用 <code
                      class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request⑥">Request</a></code>
                    初始值作为构造函数的结果的关联<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request"
                      id="ref-for-concept-request-request③">请求</a>。如果此操作<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑦">抛出</a>异常，则返回<a
                      data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                      id="ref-for-a-promise-rejected-with⑥">一个被拒绝的 promise</a>，其值为该异常。</p>
                </li>
                <li data-md="">
                  <p>如果 <var>r</var> 的<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url"
                      id="ref-for-concept-request-url②">URL</a> 的<a data-link-type="dfn"
                      href="https://url.spec.whatwg.org/#concept-url-scheme"
                      id="ref-for-concept-url-scheme①">方案</a>不是“<code>http</code>”和“<code>https</code>”之一，则：
                  </p>
                  <ol>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                          id="ref-for-list-iterate⑧">对于</a> <var>fetchControllers</var> 中的每个
                        <var>fetchController</var>，<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#fetch-controller-abort"
                          id="ref-for-fetch-controller-abort">中止</a>
                        <var>fetchController</var>。
                      </p>
                    </li>
                    <li data-md="">
                      <p>返回<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                          id="ref-for-a-promise-rejected-with⑦">一个被拒绝的 promise</a>，其值为
                        <code>TypeError</code>。
                      </p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>如果 <var>r</var> 的<a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#concept-request-client"
                      id="ref-for-concept-request-client">客户端</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
                      id="ref-for-concept-settings-object-global⑦">全局对象</a>是一个 <code
                      class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①③">ServiceWorkerGlobalScope</a></code>
                    对象，则将 <var>request</var> 的<a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#request-service-workers-mode"
                      id="ref-for-request-service-workers-mode">服务工作线程模式</a>设置为“<code>none</code>”。
                  </p>
                </li>
                <li data-md="">
                  <p>将 <var>r</var> 的<a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#concept-request-initiator"
                      id="ref-for-concept-request-initiator">发起者</a>设置为“<code>fetch</code>”，并将<a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#concept-request-destination"
                      id="ref-for-concept-request-destination">目标</a>设置为“<code>subresource</code>”。
                  </p>
                </li>
                <li data-md="">
                  <p>将 <var>r</var> 添加到 <var>requestList</var>。</p>
                </li>
                <li data-md="">
                  <p>令 <var>responsePromise</var> 为<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①⓪">一个新的
                      promise</a>。</p>
                </li>
                <li data-md="">
                  <p><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                      id="ref-for-in-parallel①⑦">并行</a>运行以下子步骤：</p>
                  <ul>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                          id="ref-for-list-append④">追加</a><a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑥">获取</a>
                        <var>r</var> 的结果。
                      </p>
                    </li>
                    <li data-md="">
                      <p>为 <var>response</var> <a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#process-response"
                          id="ref-for-process-response">处理响应</a>，运行这些子步骤：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>如果 <var>response</var> 的<a data-link-type="dfn"
                              href="https://fetch.spec.whatwg.org/#concept-response-type"
                              id="ref-for-concept-response-type①">类型</a>是“<code>error</code>”，或者
                            <var>response</var> 的<a data-link-type="dfn"
                              href="https://fetch.spec.whatwg.org/#concept-response-status"
                              id="ref-for-concept-response-status">状态</a>不是<a data-link-type="dfn"
                              href="https://fetch.spec.whatwg.org/#ok-status" id="ref-for-ok-status">正常状态</a>或者是
                            <code>206</code>，则用
                            <code>TypeError</code> 拒绝 <var>responsePromise</var>。
                          </p>
                        </li>
                        <li data-md="">
                          <p>否则，如果 <var>response</var> 的<a data-link-type="dfn"
                              href="https://fetch.spec.whatwg.org/#concept-response-header-list"
                              id="ref-for-concept-response-header-list">标头列表</a>包含一个<a data-link-type="dfn"
                              href="https://fetch.spec.whatwg.org/#concept-header-name"
                              id="ref-for-concept-header-name">名为</a> `<code>Vary</code>`
                            的<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header"
                              id="ref-for-concept-header">标头</a>，则：</p>
                          <ol>
                            <li data-md="">
                              <p>令 <var>fieldValues</var> 为包含与 <a data-link-type="dfn"
                                  href="https://tools.ietf.org/html/rfc7231#section-7.1.4"
                                  id="ref-for-section-7.1.4">Vary</a> 标头的<a data-link-type="dfn"
                                  href="https://tools.ietf.org/html/rfc7230#section-3.2"
                                  id="ref-for-section-3.2">字段值</a>对应的元素的<a data-link-type="dfn"
                                  href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑤">列表</a>。</p>
                            </li>
                            <li data-md="">
                              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                  id="ref-for-list-iterate⑨">对于</a>
                                <var>fieldValues</var> 中的每个 <var>fieldValue</var>：
                              </p>
                              <ol>
                                <li data-md="">
                                  <p>如果 <var>fieldValue</var> 匹配“<code>*</code>”，则：
                                  </p>
                                  <ol>
                                    <li data-md="">
                                      <p>用 <code>TypeError</code> 拒绝
                                        <var>responsePromise</var>。
                                      </p>
                                    </li>
                                    <li data-md="">
                                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                                          id="ref-for-list-iterate①⓪">对于</a>
                                        <var>fetchControllers</var> 中的每个
                                        <var>fetchController</var>，<a data-link-type="dfn"
                                          href="https://fetch.spec.whatwg.org/#fetch-controller-abort"
                                          id="ref-for-fetch-controller-abort①">中止</a>
                                        <var>fetchController</var>。
                                      </p>
                                    </li>
                                    <li data-md="">
                                      <p>中止这些步骤。</p>
                                    </li>
                                  </ol>
                                </li>
                              </ol>
                            </li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                    <li data-md="">
                      <p>为 <var>response</var> <a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#fetch-processresponseendofbody"
                          id="ref-for-fetch-processresponseendofbody">处理响应体结束</a>，运行这些子步骤：</p>
                      <ol>
                        <li data-md="">
                          <p>如果 <var>response</var> 的<a data-link-type="dfn"
                              href="https://fetch.spec.whatwg.org/#concept-response-aborted"
                              id="ref-for-concept-response-aborted">中止标志</a>已设置，则用“<code
                              class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror">AbortError</a></code>”
                            <code
                              class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①③">DOMException</a></code>
                            拒绝 <var>responsePromise</var> 并中止这些步骤。
                          </p>
                        </li>
                        <li data-md="">
                          <p>用 <var>response</var> 解析 <var>responsePromise</var>。</p>
                        </li>
                      </ol>
                      <p class="note" role="note"><span class="marker">注意：</span>当响应的主体完全接收后，才允许缓存提交。</p>
                    </li>
                  </ul>
                </li>
                <li data-md="">
                  <p>将 <var>responsePromise</var> 添加到 <var>responsePromises</var>。</p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>令 <var>p</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#waiting-for-all-promise"
                  id="ref-for-waiting-for-all-promise">获取一个等待所有 <var>responsePromises</var> 的
                  promise</a> 的结果。
              </p>
            </li>
            <li data-md="">
              <p>返回<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                  id="ref-for-dfn-perform-steps-once-promise-is-settled①">对 <var>p</var>
                  作出反应</a>的结果，该反应带有一个履行处理程序，当使用参数 <var>responses</var> 调用该处理程序时，执行以下子步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>operations</var> 为一个空<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                      id="ref-for-list①⑥">列表</a>。</p>
                </li>
                <li data-md="">
                  <p>令 <var>index</var> 为零。</p>
                </li>
                <li data-md="">
                  <p>对于 <var>responses</var> 中的每个 <var>response</var>：</p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>operation</var> 为一个<a data-link-type="dfn" href="#dfn-cache-batch-operation"
                          id="ref-for-dfn-cache-batch-operation">缓存批量操作</a>。
                      </p>
                    </li>
                    <li data-md="">
                      <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-type"
                          id="ref-for-dfn-cache-batch-operation-type">类型</a>设置为“<code>put</code>”。
                      </p>
                    </li>
                    <li data-md="">
                      <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-request"
                          id="ref-for-dfn-cache-batch-operation-request">请求</a>设置为
                        <var>requestList</var>[<var>index</var>]。
                      </p>
                    </li>
                    <li data-md="">
                      <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-response"
                          id="ref-for-dfn-cache-batch-operation-response">响应</a>设置为
                        <var>response</var>。
                      </p>
                    </li>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                          id="ref-for-list-append⑤">追加</a> <var>operation</var> 到
                        <var>operations</var>。
                      </p>
                    </li>
                    <li data-md="">
                      <p>将 <var>index</var> 增加一。</p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>令 <var>realm</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                      id="ref-for-this⑤⑧">此对象</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                      id="ref-for-concept-relevant-realm⑤">相关领域</a>。
                  </p>
                </li>
                <li data-md="">
                  <p>令 <var>cacheJobPromise</var> 为<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①①">一个新的
                      promise</a>。</p>
                </li>
                <li data-md="">
                  <p><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                      id="ref-for-in-parallel①⑧">并行</a>运行以下子步骤：</p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>errorData</var> 为 null。</p>
                    </li>
                    <li data-md="">
                      <p>调用<a data-link-type="dfn" href="#batch-cache-operations"
                          id="ref-for-batch-cache-operations">批量缓存操作</a>并传入
                        <var>operations</var>。如果此操作<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑧">抛出</a>异常，则将
                        <var>errorData</var> 设置为该异常。
                      </p>
                    </li>
                    <li data-md="">
                      <p>使用<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                          id="ref-for-dom-manipulation-task-source①②">DOM 操作任务源</a>，在
                        <var>cacheJobPromise</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                          id="ref-for-relevant-settings-object②③">相关设置对象</a>的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                          id="ref-for-responsible-event-loop⑦">负责事件循环</a>上<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                          id="ref-for-queue-a-task①⑧">排队一个任务</a>，以执行以下子步骤：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>如果 <var>errorData</var> 为 null，则用 undefined 解析
                            <var>cacheJobPromise</var>。
                          </p>
                        </li>
                        <li data-md="">
                          <p>否则，在 <var>realm</var> 中，用<a data-link-type="dfn"
                              href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                              id="ref-for-dfn-create-exception">一个新的</a><a data-link-type="dfn"
                              href="https://webidl.spec.whatwg.org/#dfn-exception" id="ref-for-dfn-exception">异常</a>（其值为
                            <var>errorData</var>）拒绝 <var>cacheJobPromise</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>返回 <var>cacheJobPromise</var>。</p>
                </li>
              </ol>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="cache-put">
          <h4 class="heading settled" data-level="5.4.5" id="cache-put"><span class="secno">5.4.5.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cache-put" id="ref-for-dom-cache-put①">put(request, response)</a></code></span><a
              class="self-link" href="#cache-put"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export=""
              id="dom-cache-put"><code>put(<var>request</var>, <var>response</var>)</code></dfn> 方法的步骤是：
          </p>
          <ol>
            <li data-md="">
              <p>令 <var>innerRequest</var> 为 null。</p>
            </li>
            <li data-md="">
              <p>如果 <var>request</var> 是一个 <code
                  class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request⑦">Request</a></code>
                对象，则将 <var>innerRequest</var> 设置为 <var>request</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-request-request"
                  id="ref-for-concept-request-request④">请求</a>。</p>
            </li>
            <li data-md="">
              <p>否则：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>requestObj</var> 为以 <var>request</var> 作为参数调用 <code
                      class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request⑧">Request</a></code>
                    的构造函数的结果。如果此操作<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                      id="ref-for-dfn-throw⑨">抛出</a> <var>exception</var>，则返回<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                      id="ref-for-a-promise-rejected-with⑧">一个被拒绝的 promise</a>，其值为
                    <var>exception</var>。
                  </p>
                </li>
                <li data-md="">
                  <p>将 <var>innerRequest</var> 设置为 <var>requestObj</var> 的<a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#concept-request-request"
                      id="ref-for-concept-request-request⑤">请求</a>。</p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>如果 <var>innerRequest</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url③">URL</a>
                的<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme"
                  id="ref-for-concept-url-scheme②">方案</a>不是“<code>http</code>”和“<code>https</code>”之一，或者
                <var>innerRequest</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-request-method"
                  id="ref-for-concept-request-method②">方法</a>不是 `<code>GET</code>`，则返回<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                  id="ref-for-a-promise-rejected-with⑨">一个被拒绝的 promise</a>，其值为 <code>TypeError</code>。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>innerResponse</var> 为 <var>response</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-response-response"
                  id="ref-for-concept-response-response①">响应</a>。</p>
            </li>
            <li data-md="">
              <p>如果 <var>innerResponse</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-response-status"
                  id="ref-for-concept-response-status①">状态</a>是 <code>206</code>，则返回<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                  id="ref-for-a-promise-rejected-with①⓪">一个被拒绝的 promise</a>，其值为
                <code>TypeError</code>。
              </p>
            </li>
            <li data-md="">
              <p>如果 <var>innerResponse</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-response-header-list"
                  id="ref-for-concept-response-header-list①">标头列表</a>包含一个<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-header-name" id="ref-for-concept-header-name①">名为</a>
                `<code>Vary</code>` 的<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header"
                  id="ref-for-concept-header①">标头</a>，则：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>fieldValues</var> 为包含与 <a data-link-type="dfn"
                      href="https://tools.ietf.org/html/rfc7231#section-7.1.4" id="ref-for-section-7.1.4①">Vary</a>
                    标头的<a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7230#section-3.2"
                      id="ref-for-section-3.2①">字段值</a>对应的<a data-link-type="dfn"
                      href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑤">项</a>的<a
                      data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑦">列表</a>。</p>
                </li>
                <li data-md="">
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                      id="ref-for-list-iterate①①">对于</a> <var>fieldValues</var> 中的每个
                    <var>fieldValue</var>：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>如果 <var>fieldValue</var> 匹配“<code>*</code>”，则返回<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                          id="ref-for-a-promise-rejected-with①①">一个被拒绝的 promise</a>，其值为
                        <code>TypeError</code>。
                      </p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>如果 <var>innerResponse</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-response-body"
                  id="ref-for-concept-response-body⑤">主体</a><a data-link-type="dfn"
                  href="https://streams.spec.whatwg.org/#is-readable-stream-disturbed"
                  id="ref-for-is-readable-stream-disturbed">被扰动</a>或<a data-link-type="dfn"
                  href="https://streams.spec.whatwg.org/#readablestream-locked"
                  id="ref-for-readablestream-locked">被锁定</a>，则返回<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                  id="ref-for-a-promise-rejected-with①②">一个被拒绝的 promise</a>，其值为
                <code>TypeError</code>。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>clonedResponse</var> 为 <var>innerResponse</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-response-clone"
                  id="ref-for-concept-response-clone">克隆</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>bodyReadPromise</var> 为<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                  id="ref-for-a-promise-resolved-with②">一个已解析的 promise</a>，其值为 undefined。</p>
            </li>
            <li data-md="">
              <p>如果 <var>innerResponse</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-response-body"
                  id="ref-for-concept-response-body⑥">主体</a>非空，则运行这些子步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>stream</var> 为 <var>innerResponse</var> 的<a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#concept-response-body"
                      id="ref-for-concept-response-body⑦">主体</a>的<a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#concept-body-stream" id="ref-for-concept-body-stream③">流</a>。
                  </p>
                </li>
                <li data-md="">
                  <p>令 <var>reader</var> 为为 <var>stream</var> <a data-link-type="dfn"
                      href="https://streams.spec.whatwg.org/#readablestream-get-a-reader"
                      id="ref-for-readablestream-get-a-reader①">获取读取器</a>的结果。
                  </p>
                </li>
                <li data-md="">
                  <p>将 <var>bodyReadPromise</var> 设置为从 <var>reader</var> <a data-link-type="dfn"
                      href="https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-all-bytes"
                      id="ref-for-readablestreamdefaultreader-read-all-bytes">读取所有字节</a>的结果。</p>
                </li>
              </ol>
              <p class="note" role="note"><span class="marker">注意：</span>这确保了 <var>innerResponse</var> 的<a
                  data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body"
                  id="ref-for-concept-response-body⑧">主体</a>被<a data-link-type="dfn"
                  href="https://streams.spec.whatwg.org/#readablestream-locked"
                  id="ref-for-readablestream-locked①">锁定</a>，并且我们在 <var>clonedResponse</var>
                中拥有主体的完整缓冲副本。实现可以通过直接流式传输到磁盘而不是内存来进行优化。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>operations</var> 为一个空<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                  id="ref-for-list①⑧">列表</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>operation</var> 为一个<a data-link-type="dfn" href="#dfn-cache-batch-operation"
                  id="ref-for-dfn-cache-batch-operation①">缓存批量操作</a>。</p>
            </li>
            <li data-md="">
              <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-type"
                  id="ref-for-dfn-cache-batch-operation-type①">类型</a>设置为“<code>put</code>”。</p>
            </li>
            <li data-md="">
              <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-request"
                  id="ref-for-dfn-cache-batch-operation-request①">请求</a>设置为 <var>innerRequest</var>。
              </p>
            </li>
            <li data-md="">
              <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-response"
                  id="ref-for-dfn-cache-batch-operation-response①">响应</a>设置为
                <var>clonedResponse</var>。
              </p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                  id="ref-for-list-append⑥">追加</a> <var>operation</var> 到 <var>operations</var>。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>realm</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this⑤⑨">此对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                  id="ref-for-concept-relevant-realm⑥">相关领域</a>。</p>
            </li>
            <li data-md="">
              <p>返回 <var>bodyReadPromise</var> 的<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#upon-fulfillment" id="ref-for-upon-fulfillment③">履行</a>结果：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>cacheJobPromise</var> 为<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①②">一个新的
                      promise</a>。</p>
                </li>
                <li data-md="">
                  <p>返回 <var>cacheJobPromise</var> 并<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                      id="ref-for-in-parallel①⑨">并行</a>运行这些步骤：</p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>errorData</var> 为 null。</p>
                    </li>
                    <li data-md="">
                      <p>调用<a data-link-type="dfn" href="#batch-cache-operations"
                          id="ref-for-batch-cache-operations①">批量缓存操作</a>并传入
                        <var>operations</var>。如果此操作<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⓪">抛出</a>异常，则将
                        <var>errorData</var> 设置为该异常。
                      </p>
                    </li>
                    <li data-md="">
                      <p>使用<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                          id="ref-for-dom-manipulation-task-source①③">DOM 操作任务源</a>，在
                        <var>cacheJobPromise</var> 的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                          id="ref-for-relevant-settings-object②④">相关设置对象</a>的<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                          id="ref-for-responsible-event-loop⑧">负责事件循环</a>上<a data-link-type="dfn"
                          href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                          id="ref-for-queue-a-task①⑨">排队一个任务</a>，以执行以下子步骤：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>如果 <var>errorData</var> 为 null，则用 undefined 解析
                            <var>cacheJobPromise</var>。
                          </p>
                        </li>
                        <li data-md="">
                          <p>否则，在 <var>realm</var> 中，用<a data-link-type="dfn"
                              href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                              id="ref-for-dfn-create-exception①">一个新的</a><a data-link-type="dfn"
                              href="https://webidl.spec.whatwg.org/#dfn-exception"
                              id="ref-for-dfn-exception①">异常</a>（其值为
                            <var>errorData</var>）拒绝 <var>cacheJobPromise</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="cache-delete">
          <h4 class="heading settled" data-level="5.4.6" id="cache-delete"><span class="secno">5.4.6.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cache-delete" id="ref-for-dom-cache-delete①">delete(request, options)</a></code></span><a
              class="self-link" href="#cache-delete"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export=""
              data-lt="delete(request, options)|delete(request)"
              id="dom-cache-delete"><code>delete(<var>request</var>, <var>options</var>)</code></dfn>
            方法的步骤是：</p>
          <ol>
            <li data-md="">
              <p>令 <var>r</var> 为 null。</p>
            </li>
            <li data-md="">
              <p>如果 <var>request</var> 是一个 <code
                  class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request⑨">Request</a></code>
                对象，则：</p>
              <ol>
                <li data-md="">
                  <p>将 <var>r</var> 设置为 <var>request</var> 的<a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#concept-request-request"
                      id="ref-for-concept-request-request⑥">请求</a>。</p>
                </li>
                <li data-md="">
                  <p>如果 <var>r</var> 的<a data-link-type="dfn"
                      href="https://fetch.spec.whatwg.org/#concept-request-method"
                      id="ref-for-concept-request-method③">方法</a>不是 `<code>GET</code>` 且
                    <var>options</var>.ignoreMethod 为 false，则返回<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                      id="ref-for-a-promise-resolved-with③">一个已解析的 promise</a>，其值为 false。
                  </p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>否则，如果 <var>request</var> 是一个字符串，则：</p>
              <ol>
                <li data-md="">
                  <p>将 <var>r</var> 设置为以 <var>request</var> 作为参数调用 <code
                      class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①⓪">Request</a></code>
                    初始值作为构造函数的结果的关联<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request"
                      id="ref-for-concept-request-request⑦">请求</a>。如果此操作<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①①">抛出</a>异常，则返回<a
                      data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                      id="ref-for-a-promise-rejected-with①③">一个被拒绝的 promise</a>，其值为该异常。</p>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>令 <var>operations</var> 为一个空<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                  id="ref-for-list①⑨">列表</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>operation</var> 为一个<a data-link-type="dfn" href="#dfn-cache-batch-operation"
                  id="ref-for-dfn-cache-batch-operation②">缓存批量操作</a>。</p>
            </li>
            <li data-md="">
              <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-type"
                  id="ref-for-dfn-cache-batch-operation-type②">类型</a>设置为“<code>delete</code>”。</p>
            </li>
            <li data-md="">
              <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-request"
                  id="ref-for-dfn-cache-batch-operation-request②">请求</a>设置为 <var>r</var>。</p>
            </li>
            <li data-md="">
              <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-options"
                  id="ref-for-dfn-cache-batch-operation-options">选项</a>设置为 <var>options</var>。
              </p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                  id="ref-for-list-append⑦">追加</a> <var>operation</var> 到 <var>operations</var>。
              </p>
            </li>
            <li data-md="">
              <p>令 <var>realm</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this⑥⓪">此对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                  id="ref-for-concept-relevant-realm⑦">相关领域</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>cacheJobPromise</var> 为<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①③">一个新的 promise</a>。
              </p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel②⓪">并行</a>运行以下子步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>errorData</var> 为 null。</p>
                </li>
                <li data-md="">
                  <p>令 <var>requestResponses</var> 为使用 <var>operations</var> 运行<a data-link-type="dfn"
                      href="#batch-cache-operations" id="ref-for-batch-cache-operations②">批量缓存操作</a>的结果。如果此操作<a
                      data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                      id="ref-for-dfn-throw①②">抛出</a>异常，则将 <var>errorData</var> 设置为该异常。</p>
                </li>
                <li data-md="">
                  <p>使用<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source①④">DOM 操作任务源</a>，在
                    <var>cacheJobPromise</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                      id="ref-for-relevant-settings-object②⑤">相关设置对象</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                      id="ref-for-responsible-event-loop⑨">负责事件循环</a>上<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task②⓪">排队一个任务</a>，以执行以下子步骤：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>如果 <var>errorData</var> 为 null，则：</p>
                      <ol>
                        <li data-md="">
                          <p>如果 <var>requestResponses</var> <a data-link-type="dfn"
                              href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">不为空</a>，则用
                            true 解析
                            <var>cacheJobPromise</var>。
                          </p>
                        </li>
                        <li data-md="">
                          <p>否则，用 false 解析 <var>cacheJobPromise</var>。</p>
                        </li>
                      </ol>
                    </li>
                    <li data-md="">
                      <p>否则，在 <var>realm</var> 中，用<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                          id="ref-for-dfn-create-exception②">一个新的</a><a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-exception" id="ref-for-dfn-exception②">异常</a>（其值为
                        <var>errorData</var>）拒绝
                        <var>cacheJobPromise</var>。
                      </p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>cacheJobPromise</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="cache-keys">
          <h4 class="heading settled" data-level="5.4.7" id="cache-keys"><span class="secno">5.4.7.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cache-keys" id="ref-for-dom-cache-keys①">keys(request, options)</a></code></span><a
              class="self-link" href="#cache-keys"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export=""
              data-lt="keys(request, options)|keys(request)|keys()"
              id="dom-cache-keys"><code>keys(<var>request</var>, <var>options</var>)</code></dfn> 方法的步骤是：
          </p>
          <ol>
            <li data-md="">
              <p>令 <var>r</var> 为 null。</p>
            </li>
            <li data-md="">
              <p>如果可选参数 <var>request</var> 未省略，则：</p>
              <ol>
                <li data-md="">
                  <p>如果 <var>request</var> 是一个 <code
                      class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①①">Request</a></code>
                    对象，则：</p>
                  <ol>
                    <li data-md="">
                      <p>将 <var>r</var> 设置为 <var>request</var> 的<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-request-request"
                          id="ref-for-concept-request-request⑧">请求</a>。</p>
                    </li>
                    <li data-md="">
                      <p>如果 <var>r</var> 的<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-request-method"
                          id="ref-for-concept-request-method④">方法</a>不是 `<code>GET</code>` 且
                        <var>options</var>.ignoreMethod 为 false，则返回<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                          id="ref-for-a-promise-resolved-with④">一个已解析的 promise</a>，其值为空数组。
                      </p>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>否则，如果 <var>request</var> 是一个字符串，则：</p>
                  <ol>
                    <li data-md="">
                      <p>将 <var>r</var> 设置为以 <var>request</var> 作为参数调用 <code
                          class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①②">Request</a></code>
                        初始值作为构造函数的结果的关联<a data-link-type="dfn"
                          href="https://fetch.spec.whatwg.org/#concept-request-request"
                          id="ref-for-concept-request-request⑨">请求</a>。如果此操作<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①③">抛出</a>异常，则返回<a
                          data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with"
                          id="ref-for-a-promise-rejected-with①④">一个被拒绝的 promise</a>，其值为该异常。
                      </p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>令 <var>realm</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this"
                  id="ref-for-this⑥①">此对象</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                  id="ref-for-concept-relevant-realm⑧">相关领域</a>。</p>
            </li>
            <li data-md="">
              <p>令 <var>promise</var> 为<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                  id="ref-for-a-new-promise①④">一个新的 promise</a>。</p>
            </li>
            <li data-md="">
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel②①">并行</a>运行这些子步骤：</p>
              <ol>
                <li data-md="">
                  <p>令 <var>requests</var> 为一个空<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                      id="ref-for-list②⓪">列表</a>。</p>
                </li>
                <li data-md="">
                  <p>如果可选参数 <var>request</var> 被省略，则：</p>
                  <ol>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                          id="ref-for-list-iterate①②">对于</a><a data-link-type="dfn"
                          href="#dfn-relevant-request-response-list"
                          id="ref-for-dfn-relevant-request-response-list①">相关请求响应列表</a>中的每个
                        <var>requestResponse</var>：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>将 <var>requestResponse</var> 的请求添加到 <var>requests</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>否则：</p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>requestResponses</var> 为使用 <var>r</var> 和 <var>options</var> 运行<a data-link-type="dfn"
                          href="#query-cache" id="ref-for-query-cache①">查询缓存</a>的结果。
                      </p>
                    </li>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                          id="ref-for-list-iterate①③">对于</a> <var>requestResponses</var> 中的每个
                        <var>requestResponse</var>：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>将 <var>requestResponse</var> 的请求添加到 <var>requests</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li data-md="">
                  <p>使用<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                      id="ref-for-dom-manipulation-task-source①⑤">DOM 操作任务源</a>，在
                    <var>promise</var> 的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                      id="ref-for-relevant-settings-object②⑥">相关设置对象</a>的<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                      id="ref-for-responsible-event-loop①⓪">负责事件循环</a>上<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                      id="ref-for-queue-a-task②①">排队一个任务</a>，以执行以下步骤：
                  </p>
                  <ol>
                    <li data-md="">
                      <p>令 <var>requestList</var> 为一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                          id="ref-for-list②①">列表</a>。</p>
                    </li>
                    <li data-md="">
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                          id="ref-for-list-iterate①④">对于</a> <var>requests</var> 中的每个
                        <var>request</var>：
                      </p>
                      <ol>
                        <li data-md="">
                          <p>将一个新的 <code
                              class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①③">Request</a></code>
                            对象（与 <var>request</var> 相关联）和一个新的关联 <code
                              class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers①">Headers</a></code>
                            对象（其<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-headers-guard"
                              id="ref-for-concept-headers-guard①">守卫</a>为“<code>immutable</code>”）添加到
                            <var>requestList</var>。
                          </p>
                        </li>
                      </ol>
                    </li>
                    <li data-md="">
                      <p>在 <var>realm</var> 中，用从 <var>requestList</var> <a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array"
                          id="ref-for-dfn-create-frozen-array③">创建</a>的<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-frozen-array-type"
                          id="ref-for-dfn-frozen-array-type③">冻结数组</a>解析 <var>promise</var>。
                      </p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md="">
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
      </section>

      <section>
        <h3 class="heading settled" data-level="5.5" id="cachestorage-interface"><span class="secno">5.5.
          </span><span class="content"><code
              class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage②">CacheStorage</a></code>
            接口</span><a class="self-link" href="#cachestorage-interface"></a></h3>
        <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑨"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①③"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cachestorage"><code><c- g>CacheStorage</c-></code></dfn> {
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⑨"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③①"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①⓪"><c- n>Response</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②②"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-match" id="ref-for-dom-cachestorage-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo⑦"><c- n>RequestInfo</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage/match(request, options), CacheStorage/match(request)" data-dfn-type="argument" data-export id="dom-cachestorage-match-request-options-request"><code><c- g>request</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-multicachequeryoptions" id="ref-for-dictdef-multicachequeryoptions"><c- n>MultiCacheQueryOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage/match(request, options), CacheStorage/match(request)" data-dfn-type="argument" data-export id="dom-cachestorage-match-request-options-options"><code><c- g>options</c-></code></dfn> = {});
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject②⓪"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑧"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-has" id="ref-for-dom-cachestorage-has"><c- g>has</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑤"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage/has(cacheName)" data-dfn-type="argument" data-export id="dom-cachestorage-has-cachename-cachename"><code><c- g>cacheName</c-></code></dfn>);
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject②①"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③③"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#cache" id="ref-for-cache①①"><c- n>Cache</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-open" id="ref-for-dom-cachestorage-open"><c- g>open</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑥"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage/open(cacheName)" data-dfn-type="argument" data-export id="dom-cachestorage-open-cachename-cachename"><code><c- g>cacheName</c-></code></dfn>);
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject②②"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③④"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑨"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-delete" id="ref-for-dom-cachestorage-delete"><c- g>delete</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑦"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage/delete(cacheName)" data-dfn-type="argument" data-export id="dom-cachestorage-delete-cachename-cachename"><code><c- g>cacheName</c-></code></dfn>);
    [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject②③"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③⑤"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑥"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑧"><c- b>DOMString</c-></a>&gt;&gt; <a class="idl-code" data-link-type="method" href="#dom-cachestorage-keys" id="ref-for-dom-cachestorage-keys"><c- g>keys</c-></a>();
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-multicachequeryoptions"><code><c- g>MultiCacheQueryOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions⑤"><c- n>CacheQueryOptions</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑨"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="MultiCacheQueryOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-multicachequeryoptions-cachename"><code><c- g>cacheName</c-></code></dfn>;
};
</pre>
        <p class="note" role="note"><span class="marker">注：</span><code
            class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage③">CacheStorage</a></code>
          接口主要设计为在很大程度上符合 <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-map-objects"
            id="ref-for-sec-map-objects">ECMAScript 6
            Map 对象</a>，但完全是异步的，并带有额外的便捷方法。这些方法，
          <code>clear</code>、<code>forEach</code>、<code>entries</code> 和 <code>values</code>，
          由于 TC39 正在进行的关于异步迭代的讨论，被有意地排除在第一个版本的范围之外。
        </p>
        <p>当创建 <code
            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⓪">Window</a></code>
          对象或 <code
            class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" id="ref-for-workerglobalscope②">WorkerGlobalScope</a></code>
          对象时，用户代理 <em>必须</em> 创建一个 <code
            class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage④">CacheStorage</a></code>
          对象，并将其与该<dfn class="dfn-paneled" data-dfn-for="CacheStorage" data-dfn-type="dfn" data-noexport
            id="cachestorage-global-object">全局对象</dfn>关联。</p>
        <p>一个 <code
            class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage⑤">CacheStorage</a></code>
          对象表示其关联的<a data-link-type="dfn" href="#cachestorage-global-object"
            id="ref-for-cachestorage-global-object①">全局对象</a>的<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
            id="ref-for-environment-settings-object①④">环境设置对象</a>的<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
            id="ref-for-concept-settings-object-origin⑨">源</a>的一个<a data-link-type="dfn" href="#dfn-name-to-cache-map"
            id="ref-for-dfn-name-to-cache-map②">名称到缓存的映射</a>。跨文档和工作者的多个实现
          <code
            class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage⑥">CacheStorage</a></code>
          接口的独立对象可以同时关联到同一个<a data-link-type="dfn" href="#dfn-name-to-cache-map"
            id="ref-for-dfn-name-to-cache-map③">名称到缓存的映射</a>。
        </p>
        <section class="algorithm" data-algorithm="cache-storage-match">
          <h4 class="heading settled" data-level="5.5.1" id="cache-storage-match"><span class="secno">5.5.1.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cachestorage-match" id="ref-for-dom-cachestorage-match①">match(request, options)</a></code>
              方法</span><a class="self-link" href="#cache-storage-match"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage" data-dfn-type="method" data-export
              data-lt="match(request, options)|match(request)"
              id="dom-cachestorage-match"><code>match(<var>request</var>, <var>options</var>)</code></dfn>
            方法的步骤是：</p>
          <ol>
            <li data-md>
              <p>如果 <var>options</var> 中的 "<code
                  class="idl"><a data-link-type="idl" href="#dom-multicachequeryoptions-cachename" id="ref-for-dom-multicachequeryoptions-cachename">cacheName</a></code>"
                <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                  id="ref-for-map-exists③">存在</a>，则：
              </p>
              <ol>
                <li data-md>
                  <p>返回一个<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                      id="ref-for-a-new-promise①⑤">新的 promise</a> <var>promise</var> 并<a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                      id="ref-for-in-parallel②②">并行</a>运行以下子步骤：</p>
                  <ol>
                    <li data-md>
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                          id="ref-for-map-iterate">对于</a><a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map"
                          id="ref-for-dfn-relevant-name-to-cache-map">相关的名称到缓存映射</a>中的每一个
                        <var>cacheName</var> →
                        <var>cache</var> 对：
                      </p>
                      <ol>
                        <li data-md>
                          <p>如果 <var>options</var> 中的 "<code
                              class="idl"><a data-link-type="idl" href="#dom-multicachequeryoptions-cachename" id="ref-for-dom-multicachequeryoptions-cachename①">cacheName</a></code>"
                            匹配 <var>cacheName</var>，则：</p>
                          <ol>
                            <li data-md>
                              <p>使用在 <code
                                  class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①②">Cache</a></code>
                                接口的 <code
                                  class="idl"><a data-link-type="idl" href="#dom-cache-match" id="ref-for-dom-cache-match②">match(request, options)</a></code>
                                方法中指定的算法运行的结果来解决 <var>promise</var>，使用
                                <var>request</var> 和 <var>options</var> 作为参数（并将
                                <var>cache</var> 作为 <code
                                  class="idl"><a data-link-type="idl" href="#dom-cache-match" id="ref-for-dom-cache-match③">match(request, options)</a></code>
                                的
                                <code>\[[Call]]</code> 内部方法的 thisArgument）。
                              </p>
                            </li>
                            <li data-md>
                              <p>中止这些步骤。</p>
                            </li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                    <li data-md>
                      <p>用 undefined 解决 <var>promise</var>。</p>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li data-md>
              <p>否则：</p>
              <ol>
                <li data-md>
                  <p>令 <var>promise</var> 为一个<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#a-promise-resolved-with"
                      id="ref-for-a-promise-resolved-with⑤">已用 undefined 解决的 promise</a>。
                  </p>
                </li>
                <li data-md>
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                      id="ref-for-map-iterate①">对于</a><a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map"
                      id="ref-for-dfn-relevant-name-to-cache-map①">相关的名称到缓存映射</a>中的每一个
                    <var>cacheName</var> →
                    <var>cache</var> 对：
                  </p>
                  <ol>
                    <li data-md>
                      <p>将 <var>promise</var> 设置为<a data-link-type="dfn"
                          href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                          id="ref-for-dfn-perform-steps-once-promise-is-settled②">对自身作出反应</a>的结果，该反应带有一个完成处理程序，当以参数
                        <var>response</var> 调用该处理程序时，执行以下子步骤：
                      </p>
                      <ol>
                        <li data-md>
                          <p>如果 <var>response</var> 不是 undefined，则返回
                            <var>response</var>。
                          </p>
                        </li>
                        <li data-md>
                          <p>返回在 <code
                              class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①③">Cache</a></code>
                            接口的 <code
                              class="idl"><a data-link-type="idl" href="#dom-cache-match" id="ref-for-dom-cache-match④">match(request, options)</a></code>
                            方法中指定的算法运行的结果，使用 <var>request</var> 和 <var>options</var> 作为参数（并将
                            <var>cache</var> 作为 <code
                              class="idl"><a data-link-type="idl" href="#dom-cache-match" id="ref-for-dom-cache-match⑤">match(request, options)</a></code>
                            的
                            <code>\[[Call]]</code> 内部方法的 thisArgument）。
                          </p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li data-md>
                  <p>返回 <var>promise</var>。</p>
                </li>
              </ol>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="cache-storage-has">
          <h4 class="heading settled" data-level="5.5.2" id="cache-storage-has"><span class="secno">5.5.2.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cachestorage-has" id="ref-for-dom-cachestorage-has①">has(cacheName)</a></code>
              方法</span><a class="self-link" href="#cache-storage-has"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage" data-dfn-type="method" data-export
              id="dom-cachestorage-has"><code>has(<var>cacheName</var>)</code></dfn> 方法的步骤是：</p>
          <ol>
            <li data-md>
              <p>令 <var>promise</var> 为一个<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                  id="ref-for-a-new-promise①⑥">新的
                  promise</a>。</p>
            </li>
            <li data-md>
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel②③">并行</a>运行以下子步骤：</p>
              <ol>
                <li data-md>
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                      id="ref-for-map-iterate②">对于</a><a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map"
                      id="ref-for-dfn-relevant-name-to-cache-map②">相关的名称到缓存映射</a>中的每一个
                    <var>key</var> → <var>value</var> 对：
                  </p>
                  <ol>
                    <li data-md>
                      <p>如果 <var>cacheName</var> 匹配 <var>key</var>，则用 true 解决
                        <var>promise</var> 并中止这些步骤。
                      </p>
                    </li>
                  </ol>
                </li>
                <li data-md>
                  <p>用 false 解决 <var>promise</var>。</p>
                </li>
              </ol>
            </li>
            <li data-md>
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="cache-storage-open">
          <h4 class="heading settled" data-level="5.5.3" id="cache-storage-open"><span class="secno">5.5.3.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cachestorage-open" id="ref-for-dom-cachestorage-open①">open(cacheName)</a></code>
              方法</span><a class="self-link" href="#cache-storage-open"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage" data-dfn-type="method" data-export
              id="dom-cachestorage-open"><code>open(<var>cacheName</var>)</code></dfn> 方法的步骤是：</p>
          <ol>
            <li data-md>
              <p>令 <var>promise</var> 为一个<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                  id="ref-for-a-new-promise①⑦">新的
                  promise</a>。</p>
            </li>
            <li data-md>
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel②④">并行</a>运行以下子步骤：</p>
              <ol>
                <li data-md>
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                      id="ref-for-map-iterate③">对于</a><a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map"
                      id="ref-for-dfn-relevant-name-to-cache-map③">相关的名称到缓存映射</a>中的每一个
                    <var>key</var> → <var>value</var> 对：
                  </p>
                  <ol>
                    <li data-md>
                      <p>如果 <var>cacheName</var> 匹配 <var>key</var>，则：</p>
                      <ol>
                        <li data-md>
                          <p>用一个表示 <var>value</var> 的新的 <code
                              class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①④">Cache</a></code>
                            对象来解决 <var>promise</var>。</p>
                        </li>
                        <li data-md>
                          <p>中止这些步骤。</p>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
                <li data-md>
                  <p>令 <var>cache</var> 为一个新的<a data-link-type="dfn" href="#dfn-request-response-list"
                      id="ref-for-dfn-request-response-list④">请求响应列表</a>。</p>
                </li>
                <li data-md>
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set">设置</a><a
                      data-link-type="dfn" href="#dfn-relevant-name-to-cache-map"
                      id="ref-for-dfn-relevant-name-to-cache-map④">相关的名称到缓存映射</a>中
                    <var>cacheName</var> 对应的值为 <var>cache</var>。如果此缓存写入操作因超出授予的配额限制而失败，则用一个 "<code
                      class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederror">QuotaExceededError</a></code>"
                    <code
                      class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①④">DOMException</a></code>
                    来拒绝 <var>promise</var> 并中止这些步骤。
                  </p>
                </li>
                <li data-md>
                  <p>用一个表示 <var>cache</var> 的新的 <code
                      class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①⑤">Cache</a></code>
                    对象来解决 <var>promise</var>。</p>
                </li>
              </ol>
            </li>
            <li data-md>
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="cache-storage-delete">
          <h4 class="heading settled" data-level="5.5.4" id="cache-storage-delete"><span class="secno">5.5.4.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cachestorage-delete" id="ref-for-dom-cachestorage-delete①">delete(cacheName)</a></code>
              方法</span><a class="self-link" href="#cache-storage-delete"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage" data-dfn-type="method" data-export
              id="dom-cachestorage-delete"><code>delete(<var>cacheName</var>)</code></dfn>
            方法的步骤是：</p>
          <ol>
            <li data-md>
              <p>令 <var>promise</var> 为使用 <var>cacheName</var> 运行 <code
                  class="idl"><a data-link-type="idl" href="#dom-cachestorage-has" id="ref-for-dom-cachestorage-has②">has(cacheName)</a></code>
                方法中指定的算法的结果。</p>
            </li>
            <li data-md>
              <p>返回<a data-link-type="dfn"
                  href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"
                  id="ref-for-dfn-perform-steps-once-promise-is-settled③">对 <var>promise</var>
                  作出反应</a>的结果，该反应带有一个完成处理程序，当以参数
                <var>cacheExists</var> 调用该处理程序时，执行以下子步骤：
              </p>
              <ol>
                <li data-md>
                  <p>如果 <var>cacheExists</var> 为 false，则：</p>
                  <ol>
                    <li data-md>
                      <p>返回 false。</p>
                    </li>
                  </ol>
                </li>
                <li data-md>
                  <p>令 <var>cacheJobPromise</var> 为一个<a data-link-type="dfn"
                      href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①⑧">新的 promise</a>。
                  </p>
                </li>
                <li data-md>
                  <p><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                      id="ref-for-in-parallel②⑤">并行</a>运行以下子步骤：</p>
                  <ol>
                    <li data-md>
                      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove"
                          id="ref-for-map-remove">移除</a><a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map"
                          id="ref-for-dfn-relevant-name-to-cache-map⑤">相关的名称到缓存映射</a>中
                        <var>cacheName</var> 对应的条目。
                      </p>
                    </li>
                    <li data-md>
                      <p>用 true 解决 <var>cacheJobPromise</var>。</p>
                    </li>
                  </ol>
                  <p class="note" role="note"><span class="marker">注：</span>此步骤之后，现有的 DOM 对象（即当前引用的
                    Cache、Request 和 Response 对象）应保持功能正常。</p>
                </li>
                <li data-md>
                  <p>返回 <var>cacheJobPromise</var>。</p>
                </li>
              </ol>
            </li>
          </ol>
        </section>
        <section class="algorithm" data-algorithm="cache-storage-keys">
          <h4 class="heading settled" data-level="5.5.5" id="cache-storage-keys"><span class="secno">5.5.5.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#dom-cachestorage-keys" id="ref-for-dom-cachestorage-keys①">keys()</a></code>
              方法</span><a class="self-link" href="#cache-storage-keys"></a></h4>
          <p><dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage" data-dfn-type="method" data-export
              id="dom-cachestorage-keys"><code>keys()</code></dfn> 方法的步骤是：</p>
          <ol>
            <li data-md>
              <p>令 <var>promise</var> 为一个<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise"
                  id="ref-for-a-new-promise①⑨">新的
                  promise</a>。</p>
            </li>
            <li data-md>
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                  id="ref-for-in-parallel②⑥">并行</a>运行以下子步骤：</p>
              <ol>
                <li data-md>
                  <p>令 <var>cacheKeys</var> 为<a data-link-type="dfn"
                      href="https://infra.spec.whatwg.org/#map-getting-the-keys"
                      id="ref-for-map-getting-the-keys③">获取</a><a data-link-type="dfn"
                      href="#dfn-relevant-name-to-cache-map"
                      id="ref-for-dfn-relevant-name-to-cache-map⑥">相关的名称到缓存映射</a>的键的结果。
                  </p>
                  <p class="note" role="note"><span class="marker">注：</span>结果<a data-link-type="dfn"
                      href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑥">有序集合</a>中的<a
                      data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item"
                      id="ref-for-list-item⑥">项</a>的顺序与其对应条目添加到<a data-link-type="dfn" href="#dfn-name-to-cache-map"
                      id="ref-for-dfn-name-to-cache-map④">名称到缓存的映射</a>的顺序相同。</p>
                </li>
                <li data-md>
                  <p>用 <var>cacheKeys</var> 解决 <var>promise</var>。</p>
                </li>
              </ol>
            </li>
            <li data-md>
              <p>返回 <var>promise</var>。</p>
            </li>
          </ol>
        </section>
      </section>
    </section>
    <section>
      <h2 class="heading settled" data-level="6" id="security-considerations"><span class="secno">6. </span><span
          class="content">安全注意事项</span><a class="self-link" href="#security-considerations"></a></h2>
      <section>
        <h3 class="heading settled" data-level="6.1" id="secure-context"><span class="secno">6.1. </span><span
            class="content">安全上下文</span><a class="self-link" href="#secure-context"></a></h3>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧⓪">服务工作线程</a><em>必须</em>在<a
            data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
            id="ref-for-secure-context②">安全上下文</a>中执行。<a data-link-type="dfn" href="#dfn-service-worker-client"
            id="ref-for-dfn-service-worker-client③③">服务工作线程客户端</a>也<em>必须</em>是<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
            id="ref-for-secure-context③">安全上下文</a>才能注册<a data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration④⑤">服务工作线程注册</a>，才能访问<a data-link-type="dfn"
            href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④⑥">服务工作线程注册</a>和<a
            data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧①">服务工作线程</a>，才能与<a
            data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧②">服务工作线程</a>进行消息传递，以及被<a
            data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧③">服务工作线程</a>操作。</p>
        <p class="note" role="note"><span class="marker">注：</span>这实际上意味着<a data-link-type="dfn"
            href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧④">服务工作线程</a>及其<a data-link-type="dfn"
            href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③④">服务工作线程客户端</a>需要通过
          HTTPS 托管。用户代理可以允许将 <code>localhost</code>（参见<a
            href="https://w3c.github.io/webappsec-secure-contexts/#localhost">要求</a>）、
          <code>127.0.0.0/8</code> 和 <code>::1/128</code> 用于开发目的。此限制的主要原因是为了保护用户免受<a
            href="https://w3c.github.io/webappsec-secure-contexts/#threat-risks">与不安全上下文相关的风险</a>。
        </p>
      </section>
      <section>
        <h3 class="heading settled" data-level="6.2" id="content-security-policy"><span class="secno">6.2.
          </span><span class="content">内容安全策略</span><a class="self-link" href="#content-security-policy"></a>
        </h3>
        <p>每当用户代理使用<a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧⑤">服务工作线程</a>
          <var>serviceWorker</var> 调用<a data-link-type="dfn" href="#run-service-worker"
            id="ref-for-run-service-worker①">运行服务工作线程</a>算法时：
        </p>
        <ul>
          <li data-md>
            <p>如果 <var>serviceWorker</var> 的<a data-link-type="dfn" href="#dfn-script-resource"
                id="ref-for-dfn-script-resource②">脚本资源</a>是通过包含值 <var>policy</var> 的
              <code>Content-Security-Policy</code> HTTP 标头传递的，则用户代理<em>必须</em>为
              <var>serviceWorker</var> <a data-link-type="dfn"
                href="https://wicg.github.io/csp-next/scripting-policy.html#scripting-policy-pair-enforced"
                id="ref-for-scripting-policy-pair-enforced">强制执行</a> <var>policy</var>。
            </p>
          </li>
          <li data-md>
            <p>如果 <var>serviceWorker</var> 的<a data-link-type="dfn" href="#dfn-script-resource"
                id="ref-for-dfn-script-resource③">脚本资源</a>是通过包含值
              <var>policy</var> 的 <code>Content-Security-Policy-Report-Only</code> HTTP
              标头传递的，则用户代理<em>必须</em>为 <var>serviceWorker</var> <a data-link-type="dfn"
                href="https://www.w3.org/TR/screen-capture/#dfn-monitor" id="ref-for-dfn-monitor">监视</a>
              <var>policy</var>。
            </p>
          </li>
        </ul>
        <p>此限制的主要原因是为了缓解一大类内容注入漏洞，例如跨站脚本 (XSS)。</p>
      </section>
      <section>
        <h3 class="heading settled" data-level="6.3" id="origin-relativity"><span class="secno">6.3.
          </span><span class="content">源相对性</span><a class="self-link" href="#origin-relativity"></a></h3>
        <section>
          <h4 class="heading settled" data-level="6.3.1" id="origin-restriction"><span class="secno">6.3.1.
            </span><span class="content">源限制</span><a class="self-link" href="#origin-restriction"></a></h4>
          <p><em>本节是非规范性的。</em></p>
          <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧⑥">服务工作线程</a>在注册<a
              data-link-type="dfn" href="#dfn-service-worker-client"
              id="ref-for-dfn-service-worker-client③⑤">服务工作线程客户端</a>的<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
              id="ref-for-concept-settings-object-origin①⓪">源</a>中执行。主要应用程序会遇到的高级问题之一是它们是否可以从 CDN
            托管。根据定义，这些是其他地方的服务器，通常在其他<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"
              id="ref-for-concept-origin①①">源</a>上。因此，<a data-link-type="dfn" href="#dfn-service-worker"
              id="ref-for-dfn-service-worker⑧⑦">服务工作线程</a>不能托管在 CDN 上。但是它们可以通过 <a data-link-type="functionish"
              href="#importscripts-method" id="ref-for-importscripts-method">importScripts()</a> 包含资源。此限制的原因是<a
              data-link-type="dfn" href="#dfn-service-worker"
              id="ref-for-dfn-service-worker⑧⑧">服务工作线程</a>为恶意行为者提供了将糟糕的一天变成糟糕的永恒的机会。</p>
        </section>
        <section>
          <h4 class="heading settled" data-level="6.3.2" id="importscripts"><span class="secno">6.3.2.
            </span><span class="content"><code
                class="idl"><a data-link-type="idl" href="#importscripts-method" id="ref-for-importscripts-method①">importScripts(urls)</a></code></span><a
              class="self-link" href="#importscripts"></a></h4>
          <p>当在 <code
              class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①④">ServiceWorkerGlobalScope</a></code>
            对象上调用 <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="method"
              data-export id="importscripts-method"><code>importScripts(<var>urls</var>)</code></dfn>
            方法时，用户代理<em>必须</em><a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/workers.html#import-scripts-into-worker-global-scope"
              id="ref-for-import-scripts-into-worker-global-scope">将脚本导入工作线程全局作用域</a>，给定此 <code
              class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⑤">ServiceWorkerGlobalScope</a></code>
            对象和 <var>urls</var>，并使用以下<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-perform-fetch"
              id="ref-for-fetching-scripts-perform-fetch">执行获取挂钩</a>步骤，给定<a data-link-type="dfn"
              href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑤">请求</a>
            <var>request</var>：
          </p>
          <ol>
            <li data-md>
              <p>令 <var>serviceWorker</var> 为 <var>request</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-request-client"
                  id="ref-for-concept-request-client①">客户端</a>的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
                  id="ref-for-concept-settings-object-global⑧">全局对象</a>的<a data-link-type="dfn"
                  href="#serviceworkerglobalscope-service-worker"
                  id="ref-for-serviceworkerglobalscope-service-worker②④">服务工作线程</a>。</p>
            </li>
            <li data-md>
              <p>令 <var>map</var> 为 <var>serviceWorker</var> 的<a data-link-type="dfn" href="#dfn-script-resource-map"
                  id="ref-for-dfn-script-resource-map">脚本资源映射</a>。</p>
            </li>
            <li data-md>
              <p>令 <var>url</var> 为 <var>request</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url④">URL</a>。
              </p>
            </li>
            <li data-md>
              <p>如果 <var>serviceWorker</var> 的<a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state⑥">状态</a>不是
                "<code>parsed</code>" 或
                "<code>installing</code>"：</p>
              <ol>
                <li data-md>
                  <p>如果 <var>map</var>[<var>url</var>] <a data-link-type="dfn"
                      href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">存在</a>，则返回它，否则返回<a
                      data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error"
                      id="ref-for-concept-network-error②">网络错误</a>。</p>
              </ol>
            </li>
            <li data-md>
              <p>如果 <var>map</var>[<var>url</var>] <a data-link-type="dfn"
                  href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">存在</a>：
              </p>
              <ol>
                <li data-md>
                  <p>将 <var>url</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                      id="ref-for-set-append">Append</a> 到
                    <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-set-of-used-scripts"
                      id="ref-for-dfn-set-of-used-scripts①">set of
                      used scripts</a>。
                  </p>
                </li>
                <li data-md>
                  <p>返回 <var>map</var>[<var>url</var>]。</p>
              </ol>
            </li>
            <li data-md>
              <p>令 <var>registration</var> 为 <var>serviceWorker</var> 的<a data-link-type="dfn"
                  href="#dfn-containing-service-worker-registration"
                  id="ref-for-dfn-containing-service-worker-registration①⑤">包含的服务工作线程注册</a>。</p>
            </li>
            <li data-md>
              <p>将 <var>request</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#request-service-workers-mode"
                  id="ref-for-request-service-workers-mode①">服务工作线程模式</a>设置为
                "<code>none</code>"。</p>
            </li>
            <li data-md>
              <p>如果以下任一情况为真，则将 <var>request</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-request-cache-mode"
                  id="ref-for-concept-request-cache-mode">缓存模式</a>设置为 "<code>no-cache</code>"：</p>
              <ul>
                <li data-md>
                  <p><var>registration</var> 的<a data-link-type="dfn" href="#dfn-update-via-cache"
                      id="ref-for-dfn-update-via-cache①">通过缓存更新模式</a>是
                    "<code>none</code>"。</p>
                </li>
                <li data-md>
                  <p><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"
                      id="ref-for-current-global-object⑤">当前全局对象</a>的<a data-link-type="dfn"
                      href="#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag"
                      id="ref-for-serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag">强制绕过导入脚本缓存标志</a>已设置。
                  </p>
                </li>
                <li data-md>
                  <p><var>registration</var> <a data-link-type="dfn" href="#service-worker-registration-stale"
                      id="ref-for-service-worker-registration-stale">已过时</a>。</p>
              </ul>
            </li>
            <li data-md>
              <p>令 <var>response</var> 为<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch"
                  id="ref-for-concept-fetch⑦">获取</a> <var>request</var> 的结果。</p>
            </li>
            <li data-md>
              <p>如果 <var>response</var> 的<a data-link-type="dfn"
                  href="https://fetch.spec.whatwg.org/#concept-response-cache-state"
                  id="ref-for-concept-response-cache-state">缓存状态</a>不是
                "<code>local</code>"，则将 <var>registration</var> 的<a data-link-type="dfn"
                  href="#dfn-last-update-check-time" id="ref-for-dfn-last-update-check-time②">上次更新检查时间</a>设置为当前时间。</p>
            </li>
            <li data-md>
              <p>如果 <var>response</var> 的<a data-link-type="dfn"
                  href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response"
                  id="ref-for-unsafe-response">不安全响应</a>是<a data-link-type="dfn" href="#dfn-bad-import-script-response"
                  id="ref-for-dfn-bad-import-script-response">错误的导入脚本响应</a>，则
                返回<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error"
                  id="ref-for-concept-network-error③">网络错误</a>。</p>
            </li>
            <li data-md>
              <p>将 <var>map</var>[<var>url</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                  id="ref-for-map-set①">Set</a> 为 <var>response</var>。
              </p>
            </li>
            <li data-md>
              <p>将 <var>url</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                  id="ref-for-set-append①">Append</a> 到 <var>serviceWorker</var> 的 <a data-link-type="dfn"
                  href="#dfn-set-of-used-scripts" id="ref-for-dfn-set-of-used-scripts②">set of used scripts</a>。</p>
            </li>
            <li data-md>
              <p>设置 <var>serviceWorker</var> 的<a data-link-type="dfn" href="#dfn-classic-scripts-imported-flag"
                  id="ref-for-dfn-classic-scripts-imported-flag">经典脚本导入标志</a>。
              </p>
            </li>
            <li data-md>
              <p>返回 <var>response</var>。</p>
          </ol>
        </section>
      </section>
      <section>
        <h3 class="heading settled" data-level="6.4" id="cross-origin-resources"><span class="secno">6.4.
          </span><span class="content">跨源资源和 CORS</span><a class="self-link" href="#cross-origin-resources"></a></h3>
        <p><em>本节是非规范性的。</em></p>
        <p>应用程序倾向于缓存来自 CDN 或其他<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
            id="ref-for-concept-settings-object-origin①①">源</a>的项目。可以使用
          <code>&lt;script></code>、<code>&lt;img></code>、<code>&lt;video></code> 和
          <code>&lt;link></code> 元素直接请求其中的许多项目。如果这种运行时协作在离线时中断，那将是极大的限制。类似地，当设置了适当的 CORS 标头时，可以<a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑧">获取</a>多种类型的非<a
            data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
            id="ref-for-concept-settings-object-origin①②">源</a>资源。<a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker⑧⑨">服务工作线程</a>通过允许 <code
            class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①⑥">Caches</a></code> <a
            data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch"
            id="ref-for-concept-fetch⑨">获取</a>和缓存非源项目来实现这一点。但是，存在一些限制。首先，与在 <code
            class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①⑦">Cache</a></code> 中作为
          <code
            class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①①">Response</a></code>
          对象（其对应的<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response"
            id="ref-for-concept-response-response②">响应</a>是<a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-filtered-response-basic"
            id="ref-for-concept-filtered-response-basic">基本过滤响应</a>）管理的同源资源不同，存储的对象是
          <code
            class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①②">Response</a></code>
          对象，其对应的<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response"
            id="ref-for-concept-response-response③">响应</a>是<a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-filtered-response-cors"
            id="ref-for-concept-filtered-response-cors">CORS 过滤响应</a>或<a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-filtered-response-opaque"
            id="ref-for-concept-filtered-response-opaque">不透明过滤响应</a>。它们可以像 <code
            class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①③">Response</a></code>
          对象（其对应的<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response"
            id="ref-for-concept-response-response④">响应</a>是<a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-filtered-response-basic"
            id="ref-for-concept-filtered-response-basic①">基本过滤响应</a>）一样传递给 <code
            class="idl"><a data-link-type="idl" href="#dom-fetchevent-respondwith" id="ref-for-dom-fetchevent-respondwith③">event.respondWith(r)</a></code>
          方法，但不能以有意义的方式以编程方式创建。这些限制对于维护平台的安全不变性是必要的。允许 <code
            class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①⑧">Caches</a></code>
          存储它们可以使应用程序在大多数情况下避免重新架构。
        </p>
      </section>
      <section>
        <h3 class="heading settled" data-level="6.5" id="path-restriction"><span class="secno">6.5. </span><span
            class="content">路径限制</span><a class="self-link" href="#path-restriction"></a></h3>
        <p><em>本节是非规范性的。</em></p>
        <p>除了<a href="#origin-restriction">源限制</a>之外，服务工作线程还受到服务工作线程脚本的<a data-link-type="dfn"
            href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path">路径</a>的限制。例如，位于
          <code>https://www.example.com/~bob/sw.js</code>
          的服务工作线程脚本可以注册到<a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①⓪">作用域 URL</a>
          <code>https://www.example.com/~bob/</code>，但不能注册到作用域
          <code>https://www.example.com/</code> 或
          <code>https://www.example.com/~alice/</code>。这为在同一源上的不同目录中托管多用户内容的站点提供了一些保护。但是，路径限制不被视为硬安全边界，只有源才是。鼓励站点在适当时使用不同的源来安全地隔离站点的段。
        </p>
        <p>服务器可以通过在服务工作线程脚本上设置 <a data-link-type="dfn" href="#service-worker-allowed"
            id="ref-for-service-worker-allowed">Service-Worker-Allowed</a>
          标头来移除路径限制。</p>
      </section>
      <section>
        <h3 class="heading settled" data-level="6.6" id="script-request"><span class="secno">6.6. </span><span
            class="content">服务工作线程脚本请求</span><a class="self-link" href="#script-request"></a></h3>
        <p><em>本节是非规范性的。</em></p>
        <p>为了进一步防范在站点上恶意注册服务工作线程，本规范要求：</p>
        <ul>
          <li data-md>
            <p><a data-link-type="dfn" href="#service-worker" id="ref-for-service-worker">Service-Worker</a>
              标头存在于服务工作线程脚本请求中，并且</p>
          </li>
          <li data-md>
            <p>服务工作线程脚本使用<a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#javascript-mime-type"
                id="ref-for-javascript-mime-type">JavaScript MIME 类型</a>提供服务。</p>
          </li>
        </ul>
      </section>
      <section>
        <h3 class="heading settled" data-level="6.7" id="implementer-concerns"><span class="secno">6.7.
          </span><span class="content">实现者注意事项</span><a class="self-link" href="#implementer-concerns"></a>
        </h3>
        <p><em>本节是非规范性的。</em></p>
        <p>鼓励实现者注意：</p>
        <ul>
          <li data-md>
            <p>插件不应通过<a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker⑨⓪">服务工作线程</a>加载。由于插件可能会从其自己的 URL 获取其安全源，因此嵌入<a data-link-type="dfn"
                href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨①">服务工作线程</a>无法处理它。因此，<a data-link-type="dfn"
                href="#handle-fetch" id="ref-for-handle-fetch⑥">处理获取</a>算法会使 <code>&lt;embed></code> 和
              <code>&lt;object></code> 请求立即回退到网络，而不分派
              <code
                class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event⑥">fetch</a></code>
              事件。
            </p>
          </li>
          <li data-md>
            <p>某些旧版网络堆栈代码可能需要仔细审核，以了解与<a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker⑨②">服务工作线程</a>交互的后果。</p>
          </li>
        </ul>
      </section>
      <section>
        <h3 class="heading settled" data-level="6.8" id="privacy"><span class="secno">6.8. </span><span
            class="content">隐私</span><a class="self-link" href="#privacy"></a></h3>
        <p><a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker⑨③">服务工作线程</a>引入了新的持久存储功能，包括<a data-link-type="dfn"
            href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map③">注册映射</a>（用于<a
            data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration④⑦">服务工作线程注册</a>及其<a data-link-type="dfn"
            href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨④">服务工作线程</a>）、<a data-link-type="dfn"
            href="#dfn-request-response-list" id="ref-for-dfn-request-response-list⑤">请求响应列表</a>和<a data-link-type="dfn"
            href="#dfn-name-to-cache-map" id="ref-for-dfn-name-to-cache-map⑤">名称到缓存映射</a>（用于缓存）以及<a data-link-type="dfn"
            href="#dfn-script-resource-map" id="ref-for-dfn-script-resource-map①">脚本资源映射</a>（用于脚本资源）。为了保护用户免受任何潜在的<a
            data-link-type="biblio" href="#biblio-unsanctioned-tracking"
            title="Unsanctioned Web Tracking">未经批准的跟踪</a>威胁，当用户打算清除这些持久存储时，<em>应该</em>清除它们，并且<em>应该</em>维护并与现有用户控件（例如清除所有现有持久存储）进行互操作。
        </p>
      </section>
    </section>
    <section>
      <h2 class="heading settled" data-level="7" id="extensibility"><span class="secno">7. </span><span
          class="content">可扩展性</span><a class="self-link" href="#extensibility"></a></h2>
      <p>服务工作线程规范可由其他规范扩展。</p>
      <section>
        <h3 class="heading settled" data-level="7.1" id="extension-to-service-worker-registration"><span
            class="secno">7.1. </span><span class="content">定义绑定到服务工作线程注册的 API</span><a class="self-link"
            href="#extension-to-service-worker-registration"></a>
        </h3>
        <p>规范<em>可以</em>通过对 <code
            class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①③">ServiceWorkerRegistration</a></code>
          接口使用<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-partial-interface"
            id="ref-for-dfn-partial-interface">部分接口</a>定义来定义与<a data-link-type="dfn"
            href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④⑧">服务工作线程注册</a>相关联的
          API，其中它<em>可以</em>定义规范特定的属性和方法：
        </p>
        <pre class="example idl highlight def" data-no-idl id="example-e75a31ac"><a class="self-link" href="#example-e75a31ac"></a><c- b>partial</c-> <c- b>interface</c-> <c- g>ServiceWorkerRegistration</c-> {
    // 例如，定义一个 API 命名空间
    <c- b>readonly</c-> <c- b>attribute</c-> <c- n>APISpaceType</c-> <c- g>APISpace</c->;
    // 例如，定义一个方法
    <c- b>Promise</c->&lt;<c- n>T</c->> <c- g>methodName</c->(/* 参数列表 */);
};
</pre>
      </section>
      <section>
        <h3 class="heading settled" data-level="7.2" id="extension-to-extendable-event"><span class="secno">7.2.
          </span><span class="content">定义功能性事件</span><a class="self-link" href="#extension-to-extendable-event"></a>
        </h3>
        <p>规范<em>可以</em>通过扩展 <code
            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①⑤">ExtendableEvent</a></code>
          接口来定义<a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events①⓪">功能性事件</a>：</p>
        <pre class="example idl highlight def" data-no-idl id="example-85e5c3c4"><a class="self-link" href="#example-85e5c3c4"></a>// 例如，定义 FunctionalEvent 接口
<c- b>interface</c-> <c- g>FunctionalEvent</c-> : <c- n>ExtendableEvent</c-> {
    // 添加功能性事件自身的属性和方法
};
</pre>
      </section>
      <section>
        <h3 class="heading settled" data-level="7.3" id="extension-to-service-worker-global-scope"><span
            class="secno">7.3. </span><span class="content">定义事件处理程序</span><a class="self-link"
            href="#extension-to-service-worker-global-scope"></a></h3>
        <p>规范<em>可以</em>使用<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-partial-interface"
            id="ref-for-dfn-partial-interface①">部分接口</a>定义为 <code
            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⑥">ServiceWorkerGlobalScope</a></code>
          接口定义相应<a data-link-type="dfn" href="#dfn-functional-events"
            id="ref-for-dfn-functional-events①①">功能性事件</a>的事件处理程序属性：</p>
        <pre class="example idl highlight def" data-no-idl id="example-80342678"><a class="self-link" href="#example-80342678"></a><c- b>partial</c-> <c- b>interface</c-> <c- g>ServiceWorkerGlobalScope</c-> {
    <c- b>attribute</c-> <c- n>EventHandler</c-> <c- g>onfunctionalevent</c->;
};
</pre>
      </section>
      <section>
        <h3 class="heading settled" data-level="7.4" id="firing-functional-events"><span class="secno">7.4.
          </span><span class="content">触发功能性事件</span><a class="self-link" href="#firing-functional-events"></a></h3>
        <p>要请求将<a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events①②">功能性事件</a>分派到<a
            data-link-type="dfn" href="#dfn-service-worker-registration"
            id="ref-for-dfn-service-worker-registration④⑨">服务工作线程注册</a>的<a data-link-type="dfn"
            href="#dfn-active-worker" id="ref-for-dfn-active-worker①⑨">活动工作线程</a>，规范<em>应</em>调用<a data-link-type="dfn"
            href="#fire-functional-event" id="ref-for-fire-functional-event">触发功能性事件</a>。
        </p>
      </section>
    </section>
    <section>
      <h2 class="heading settled" id="algorithms"><span class="content">附录 A：算法</span><a class="self-link"
          href="#algorithms"></a></h2>
      <p>以下定义是用户代理在整个规范中使用的内部数据结构。</p>
      <p>一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-scope-to-registration-map">注册映射</dfn> 是一个
        <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
          id="ref-for-ordered-map⑤">有序映射</a>，其中键是（<a data-link-type="dfn"
          href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key④">存储密钥</a>，<a data-link-type="dfn"
          href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑤">序列化的</a> <a
          data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①①">作用域 URL</a>），值是 <a
          data-link-type="dfn" href="#dfn-service-worker-registration"
          id="ref-for-dfn-service-worker-registration⑤⓪">服务工作者注册</a>。
      </p>
      <p>一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-job">任务</dfn> 是对 <a data-link-type="dfn"
          href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤①">服务工作者注册</a>
        的注册、更新和取消注册请求之一的抽象。</p>
      <div>
        一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job">任务</a> 有一个 <dfn class="dfn-paneled"
          data-dfn-for="job" data-dfn-type="dfn" data-noexport
          id="dfn-job-type">任务类型</dfn>，它是<em>注册</em>、<em>更新</em>和<em>取消注册</em>之一。
        <p>一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①">任务</a> 有一个 <dfn class="dfn-paneled"
            data-dfn-for="job" data-dfn-type="dfn" data-noexport id="job-storage-key">存储密钥</dfn>（一个 <a
            data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key"
            id="ref-for-storage-key⑤">存储密钥</a>）。
        </p>
        <p>一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②">任务</a> 有一个 <dfn class="dfn-paneled"
            data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-scope-url">作用域 URL</dfn>（一个 <a
            data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url④">URL</a>）。</p>
        <p>一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job③">任务</a> 有一个 <dfn class="dfn-paneled"
            data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-script-url">脚本 URL</dfn>（一个 <a
            data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑤">URL</a>）。</p>
        <p>一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job④">任务</a> 有一个 <dfn class="dfn-paneled"
            data-dfn-for="job" data-dfn-type="dfn" data-noexport
            id="dfn-job-worker-type">工作者类型</dfn>（“<code>classic</code>”或“<code>module</code>”）。
        </p>
        <p>一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job⑤">任务</a> 有一个 <dfn class="dfn-paneled"
            data-dfn-for="job" data-dfn-type="dfn" data-noexport
            id="dfn-job-update-via-cache-mode">通过缓存更新模式</dfn>，它是“<code>imports</code>”、
          “<code>all</code>”或“<code>none</code>”。</p>
        <p>一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job⑥">任务</a> 有一个 <dfn class="dfn-paneled"
            data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-client">客户端</dfn>（一个 <a
            data-link-type="dfn" href="#dfn-service-worker-client"
            id="ref-for-dfn-service-worker-client③⑥">服务工作者客户端</a>）。它最初为 null。</p>
        <p>一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job⑦">任务</a> 有一个 <dfn class="dfn-paneled"
            data-dfn-for="job" data-dfn-type="dfn" data-noexport id="job-referrer">引用者</dfn>（一个 <a data-link-type="dfn"
            href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑥">URL</a> 或 null）。</p>
        <p>一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job⑧">任务</a> 有一个 <dfn class="dfn-paneled"
            data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-promise">任务承诺</dfn>（一个 <a
            data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
            id="ref-for-sec-promise-objects②⑧">承诺</a>）。它最初为 null。</p>
        <p>一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job⑨">任务</a> 有一个 <dfn class="dfn-paneled"
            data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-containing-job-queue">包含的任务队列</dfn>（一个 <a
            data-link-type="dfn" href="#dfn-job-queue" id="ref-for-dfn-job-queue">任务队列</a> 或 null）。它最初为 null。
        </p>
        <p>一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①⓪">任务</a> 有一个 <dfn class="dfn-paneled"
            data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-list-of-equivalent-jobs">等效任务列表</dfn>（一个 <a
            data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①①">任务</a>列表）。它最初是空列表。</p>
        <p>一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①②">任务</a> 有一个 <dfn class="dfn-paneled"
            data-dfn-for="job" data-dfn-type="dfn" data-noexport
            id="dfn-job-force-bypass-cache-flag">强制绕过缓存标志</dfn>。它最初未设置。</p>
      </div>
      <p>当它们的 <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type">任务类型</a> 相同并且满足以下条件时，两个 <a
          data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①③">任务</a> 是 <dfn class="dfn-paneled"
          data-dfn-type="dfn" data-noexport id="dfn-job-equivalent">等效的</dfn>：
      </p>
      <ul>
        <li data-md>
          <p>对于<em>注册</em>和<em>更新</em> <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①④">任务</a>，它们的 <a
              data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url">作用域 URL</a>、<a
              data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url">脚本 URL</a>、<a
              data-link-type="dfn" href="#dfn-job-worker-type" id="ref-for-dfn-job-worker-type①">工作者类型</a>和 <a
              data-link-type="dfn" href="#dfn-job-update-via-cache-mode"
              id="ref-for-dfn-job-update-via-cache-mode">通过缓存更新模式</a> 是相同的。</p>
        <li data-md>
          <p>对于<em>取消注册</em> <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①⑤">任务</a>，
            它们的 <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url①">作用域
              URL</a> 是相同的。</p>
      </ul>
      <p>一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-job-queue">任务队列</dfn> 是一个线程安全的 <a
          data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue" id="ref-for-queue">队列</a>，用于同步并发 <a
          data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①⑥">任务</a>集合。<a data-link-type="dfn"
          href="#dfn-job-queue" id="ref-for-dfn-job-queue①">任务队列</a> 包含 <a data-link-type="dfn" href="#dfn-job"
          id="ref-for-dfn-job①⑦">任务</a> 作为其 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item"
          id="ref-for-list-item⑦">项</a>。一个 <a data-link-type="dfn" href="#dfn-job-queue"
          id="ref-for-dfn-job-queue②">任务队列</a> 最初为空。</p>
      <p>一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-scope-to-job-queue-map">作用域到任务队列映射</dfn>
        是一个 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map"
          id="ref-for-ordered-map⑥">有序映射</a>，其中键是 <a data-link-type="dfn" href="#dfn-scope-url"
          id="ref-for-dfn-scope-url①②">作用域 URL</a>（<a data-link-type="dfn"
          href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑥">序列化的</a>），值是
        <a data-link-type="dfn" href="#dfn-job-queue" id="ref-for-dfn-job-queue③">任务队列</a>。
      </p>
      <p>一个 <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
          id="dfn-bad-import-script-response">错误的导入脚本响应</dfn> 是一个 <a data-link-type="dfn"
          href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑦">响应</a>，满足以下任一条件：</p>
      <ul>
        <li data-md>
          <p><var>响应</var>的 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type"
              id="ref-for-concept-response-type②">类型</a>是“<code>error</code>”</p>
        <li data-md>
          <p><var>响应</var>的 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status"
              id="ref-for-concept-response-status②">状态</a>不是 <a data-link-type="dfn"
              href="https://fetch.spec.whatwg.org/#ok-status" id="ref-for-ok-status①">成功状态</a></p>
        <li data-md>
          <p>从<var>响应</var>的 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list"
              id="ref-for-concept-response-header-list②">标头列表</a>中<a data-link-type="dfn"
              href="https://fetch.spec.whatwg.org/#concept-header-extract-mime-type"
              id="ref-for-concept-header-extract-mime-type">提取 MIME 类型</a>的结果不是 <a data-link-type="dfn"
              href="https://mimesniff.spec.whatwg.org/#javascript-mime-type"
              id="ref-for-javascript-mime-type①">JavaScript MIME 类型</a>
          </p>
          <p class="note" role="note"><span class="marker">注意：</span>保持此定义与<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-imported-script"
              id="ref-for-fetch-a-classic-worker-imported-script">获取经典工作者导入脚本</a>同步。</p>
      </ul>
      <section class="algorithm" data-algorithm="Create Job">
        <h3 class="heading settled" id="create-job-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="create-job">创建任务</dfn></span><a class="self-link"
            href="#create-job-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>jobType</var>，一个 <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type①">任务类型</a>
            </p>
          <dd data-md>
            <p><var>storage key</var>，一个 <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key"
                id="ref-for-storage-key⑥">存储密钥</a>
            </p>
          <dd data-md>
            <p><var>scopeURL</var>，一个 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
                id="ref-for-concept-url⑦">URL</a></p>
          <dd data-md>
            <p><var>scriptURL</var>，一个 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
                id="ref-for-concept-url⑧">URL</a></p>
          <dd data-md>
            <p><var>promise</var>，一个 <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
                id="ref-for-sec-promise-objects②⑨">承诺</a></p>
          <dd data-md>
            <p><var>client</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client③⑦">服务工作者客户端</a></p>
          <dt data-md>输出
          <dd data-md>
            <p><var>job</var>，一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①⑧">任务</a></p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>job</var> 为一个新的 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①⑨">任务</a>。
            </p>
          <li data-md>
            <p>将 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type②">任务类型</a>设置为
              <var>jobType</var>。
            </p>
          <li data-md>
            <p>将 <var>job</var> 的 <a data-link-type="dfn" href="#job-storage-key"
                id="ref-for-job-storage-key">存储密钥</a>设置为 <var>storage key</var>。</p>
          <li data-md>
            <p>将 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url②">作用域
                URL</a> 设置为 <var>scopeURL</var>。</p>
          <li data-md>
            <p>将 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url①">脚本
                URL</a> 设置为 <var>scriptURL</var>。</p>
          <li data-md>
            <p>将 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-promise"
                id="ref-for-dfn-job-promise">任务承诺</a>设置为 <var>promise</var>。</p>
          <li data-md>
            <p>将 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client">客户端</a>设置为
              <var>client</var>。
            </p>
          <li data-md>
            <p>如果 <var>client</var> 不为 null，则将 <var>job</var> 的 <a data-link-type="dfn" href="#job-referrer"
                id="ref-for-job-referrer">引用者</a>设置为 <var>client</var> 的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                id="ref-for-concept-environment-creation-url⑥">创建 URL</a>。</p>
          <li data-md>
            <p>返回 <var>job</var>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="Schedule Job">
        <h3 class="heading settled" id="schedule-job-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="schedule-job">调度任务</dfn></span><a class="self-link"
            href="#schedule-job-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>job</var>，一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②⓪">任务</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>jobQueue</var> 为 null。</p>
          <li data-md>
            <p>令 <var>jobScope</var> 为 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-scope-url"
                id="ref-for-dfn-job-scope-url③">作用域 URL</a>（<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-serializer"
                id="ref-for-concept-url-serializer⑦">序列化的</a>）。</p>
          <li data-md>
            <p>如果 <a data-link-type="dfn" href="#dfn-scope-to-job-queue-map"
                id="ref-for-dfn-scope-to-job-queue-map">作用域到任务队列映射</a>[<var>jobScope</var>]
              不<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists⑥">存在</a>，则<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set"
                id="ref-for-map-set②">设置</a> <a data-link-type="dfn" href="#dfn-scope-to-job-queue-map"
                id="ref-for-dfn-scope-to-job-queue-map①">作用域到任务队列映射</a>[<var>jobScope</var>]
              为一个新的 <a data-link-type="dfn" href="#dfn-job-queue" id="ref-for-dfn-job-queue④">任务队列</a>。
            </p>
          <li data-md>
            <p>将 <var>jobQueue</var> 设置为 <a data-link-type="dfn" href="#dfn-scope-to-job-queue-map"
                id="ref-for-dfn-scope-to-job-queue-map②">作用域到任务队列映射</a>[<var>jobScope</var>]。</p>
          <li data-md>
            <p>如果 <var>jobQueue</var> 为空，则：</p>
            <ol>
              <li data-md>
                <p>将 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-containing-job-queue"
                    id="ref-for-dfn-containing-job-queue">包含的任务队列</a>设置为
                  <var>jobQueue</var>，并将 <var>job</var> <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#queue-enqueue" id="ref-for-queue-enqueue①">加入</a>
                  <var>jobQueue</var>。
                </p>
              <li data-md>
                <p>使用 <var>jobQueue</var> 调用 <a data-link-type="dfn" href="#run-job" id="ref-for-run-job">运行任务</a>。
                </p>
            </ol>
          <li data-md>
            <p>否则：</p>
            <ol>
              <li data-md>
                <p>令 <var>lastJob</var> 为 <var>jobQueue</var> 末尾的元素。</p>
              <li data-md>
                <p>如果 <var>job</var> 与 <var>lastJob</var> <a data-link-type="dfn" href="#dfn-job-equivalent"
                    id="ref-for-dfn-job-equivalent">等效</a>，并且
                  <var>lastJob</var> 的 <a data-link-type="dfn" href="#dfn-job-promise"
                    id="ref-for-dfn-job-promise①">任务承诺</a>尚未解决，则将
                  <var>job</var> 追加到 <var>lastJob</var> 的 <a data-link-type="dfn"
                    href="#dfn-job-list-of-equivalent-jobs" id="ref-for-dfn-job-list-of-equivalent-jobs">等效任务列表</a>中。
                </p>
              <li data-md>
                <p>否则，将 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-containing-job-queue"
                    id="ref-for-dfn-containing-job-queue①">包含的任务队列</a>设置为
                  <var>jobQueue</var>，并将 <var>job</var> <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#queue-enqueue" id="ref-for-queue-enqueue②">加入</a>
                  <var>jobQueue</var>。
                </p>
            </ol>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="Run Job">
        <h3 class="heading settled" id="run-job-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="run-job">运行任务</dfn></span><a class="self-link"
            href="#run-job-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p>jobQueue，一个 <a data-link-type="dfn" href="#dfn-job-queue" id="ref-for-dfn-job-queue⑤">任务队列</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p class="assertion">断言：<var>jobQueue</var> <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">不为空</a>。
            </p>
          <li data-md>
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                id="ref-for-queue-a-task②②">排队一个任务</a>以运行以下步骤：</p>
            <ol>
              <li data-md>
                <p>令 <var>job</var> 为 <var>jobQueue</var> 中的第一个 <a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑧">项目</a>。
                </p>
              <li data-md>
                <p>如果 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-type"
                    id="ref-for-dfn-job-type③">任务类型</a>是<em>注册</em>，则<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel②⑦">并行</a>运行<a data-link-type="dfn" href="#register"
                    id="ref-for-register②">注册</a>，参数为 <var>job</var>。
                </p>
              <li data-md>
                <p>否则，如果 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-type"
                    id="ref-for-dfn-job-type④">任务类型</a>是<em>更新</em>，则<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel②⑧">并行</a>运行<a data-link-type="dfn" href="#update"
                    id="ref-for-update">更新</a>，参数为 <var>job</var>。
                </p>
                <p class="note" role="note"><span class="marker">注意：</span>对于注册任务和更新任务，用户代理会延迟将运行任务的任务排入队列，直到 <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-domcontentloaded" id="ref-for-event-domcontentloaded">DOMContentLoaded</a></code>
                  事件已分派到启动该任务的文档。
                </p>
              <li data-md>
                <p>否则，如果 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-type"
                    id="ref-for-dfn-job-type⑤">任务类型</a>是<em>取消注册</em>，则<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel②⑨">并行</a>运行<a data-link-type="dfn" href="#unregister"
                    id="ref-for-unregister">取消注册</a>，参数为 <var>job</var>。</p>
            </ol>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="Finish Job">
        <h3 class="heading settled" id="finish-job-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="finish-job">完成任务</dfn></span><a class="self-link"
            href="#finish-job-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>job</var>，一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②①">任务</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>jobQueue</var> 为 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-containing-job-queue"
                id="ref-for-dfn-containing-job-queue②">包含的任务队列</a>。</p>
          <li data-md>
            <p class="assertion">断言：<var>jobQueue</var> 中的第一个 <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑨">项目</a>是
              <var>job</var>。
            </p>
          <li data-md>
            <p>从 <var>jobQueue</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-dequeue"
                id="ref-for-queue-dequeue">出队</a>。
            </p>
          <li data-md>
            <p>如果 <var>jobQueue</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty"
                id="ref-for-list-is-empty②">不为空</a>，则使用 <var>jobQueue</var> 调用 <a data-link-type="dfn" href="#run-job"
                id="ref-for-run-job①">运行任务</a>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="Resolve Job Promise">
        <h3 class="heading settled" id="resolve-job-promise-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="resolve-job-promise">解决任务承诺</dfn></span><a class="self-link"
            href="#resolve-job-promise-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>job</var>，一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②②">任务</a></p>
          <dd data-md>
            <p><var>value</var>，任何值</p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①">客户端</a>不为
              null，则在 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                id="ref-for-dfn-job-client②">客户端</a>的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                id="ref-for-responsible-event-loop①①">负责的事件循环</a>上使用 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                id="ref-for-dom-manipulation-task-source①⑥">DOM 操作任务源</a><a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                id="ref-for-queue-a-task②③">排队一个任务</a>，以运行以下子步骤：</p>
            <ol>
              <li data-md>
                <p>令 <var>convertedValue</var> 为 null。</p>
              <li data-md>
                <p>如果 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-type"
                    id="ref-for-dfn-job-type⑥">任务类型</a>是<em>注册</em>或<em>更新</em>，则将
                  <var>convertedValue</var> 设置为在 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                    id="ref-for-dfn-job-client③">客户端</a>中表示 <var>value</var>
                  的<a data-link-type="dfn" href="#get-the-service-worker-registration-object"
                    id="ref-for-get-the-service-worker-registration-object④">获取服务工作者注册对象</a>的结果。
                </p>
              <li data-md>
                <p>否则，在 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                    id="ref-for-dfn-job-client④">客户端</a>的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm"
                    id="ref-for-environment-settings-object&apos;s-realm⑤">领域</a>中，将
                  <var>convertedValue</var> 设置为 <var>value</var>。
                </p>
              <li data-md>
                <p>使用 <var>convertedValue</var> 解决 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-promise"
                    id="ref-for-dfn-job-promise②">任务承诺</a>。
                </p>
            </ol>
          <li data-md>
            <p>对于 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-list-of-equivalent-jobs"
                id="ref-for-dfn-job-list-of-equivalent-jobs①">等效任务列表</a>中的每个 <var>equivalentJob</var>：
            </p>
            <ol>
              <li data-md>
                <p>如果 <var>equivalentJob</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                    id="ref-for-dfn-job-client⑤">客户端</a>为 null，则继续循环的下一次迭代。</p>
              <li data-md>
                <p>在 <var>equivalentJob</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                    id="ref-for-dfn-job-client⑥">客户端</a>的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                    id="ref-for-responsible-event-loop①②">负责的事件循环</a>上使用 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                    id="ref-for-dom-manipulation-task-source①⑦">DOM 操作任务源</a><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                    id="ref-for-queue-a-task②④">排队一个任务</a>，以运行以下子步骤：</p>
                <ol>
                  <li data-md>
                    <p>令 <var>convertedValue</var> 为 null。</p>
                  <li data-md>
                    <p>如果 <var>equivalentJob</var> 的 <a data-link-type="dfn" href="#dfn-job-type"
                        id="ref-for-dfn-job-type⑦">任务类型</a>是<em>注册</em>或<em>更新</em>，则将
                      <var>convertedValue</var> 设置为在 <var>equivalentJob</var> 的 <a data-link-type="dfn"
                        href="#dfn-job-client" id="ref-for-dfn-job-client⑦">客户端</a>中表示 <var>value</var> 的<a
                        data-link-type="dfn" href="#get-the-service-worker-registration-object"
                        id="ref-for-get-the-service-worker-registration-object⑤">获取服务工作者注册对象</a>的结果。
                    </p>
                  <li data-md>
                    <p>否则，在 <var>equivalentJob</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                        id="ref-for-dfn-job-client⑧">客户端</a>的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm"
                        id="ref-for-environment-settings-object&apos;s-realm⑥">领域</a>中，将
                      <var>convertedValue</var> 设置为 <var>value</var>。
                    </p>
                  <li data-md>
                    <p>使用 <var>convertedValue</var> 解决 <var>equivalentJob</var> 的 <a data-link-type="dfn"
                        href="#dfn-job-promise" id="ref-for-dfn-job-promise③">任务承诺</a>。</p>
                </ol>
            </ol>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="Reject Job Promise">
        <h3 class="heading settled" id="reject-job-promise-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="reject-job-promise">拒绝任务承诺</dfn></span><a class="self-link"
            href="#reject-job-promise-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>job</var>，一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②③">任务</a></p>
          <dd data-md>
            <p><var>errorData</var>，<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                id="ref-for-dfn-create-exception③">创建异常</a>所需的信息</p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client⑨">客户端</a>不为
              null，则在 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                id="ref-for-dfn-job-client①⓪">客户端</a>的
              <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                id="ref-for-responsible-event-loop①③">负责的事件循环</a>上使用 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                id="ref-for-dom-manipulation-task-source①⑧">DOM 操作任务源</a><a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                id="ref-for-queue-a-task②⑤">排队一个任务</a>，以在 <var>job</var> 的
              <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①①">客户端</a>的 <a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm"
                id="ref-for-environment-settings-object&apos;s-realm⑦">领域</a>中使用 <var>errorData</var>
              以一个<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                id="ref-for-dfn-create-exception④">新的</a><a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-exception" id="ref-for-dfn-exception③">异常</a>拒绝 <var>job</var>
              的 <a data-link-type="dfn" href="#dfn-job-promise" id="ref-for-dfn-job-promise④">任务承诺</a>。
            </p>
          <li data-md>
            <p>对于 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-list-of-equivalent-jobs"
                id="ref-for-dfn-job-list-of-equivalent-jobs②">等效任务列表</a>中的每个 <var>equivalentJob</var>：
            </p>
            <ol>
              <li data-md>
                <p>如果 <var>equivalentJob</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                    id="ref-for-dfn-job-client①②">客户端</a>为 null，则<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑦">继续</a>。
                </p>
              <li data-md>
                <p>在 <var>equivalentJob</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                    id="ref-for-dfn-job-client①③">客户端</a>的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                    id="ref-for-responsible-event-loop①④">负责的事件循环</a>上使用 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                    id="ref-for-dom-manipulation-task-source①⑨">DOM 操作任务源</a><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                    id="ref-for-queue-a-task②⑥">排队一个任务</a>，以在
                  <var>equivalentJob</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                    id="ref-for-dfn-job-client①④">客户端</a>的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm"
                    id="ref-for-environment-settings-object&apos;s-realm⑧">领域</a>中使用
                  <var>errorData</var> 以一个<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#dfn-create-exception"
                    id="ref-for-dfn-create-exception⑤">新的</a><a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#dfn-exception" id="ref-for-dfn-exception④">异常</a>拒绝
                  <var>equivalentJob</var> 的 <a data-link-type="dfn" href="#dfn-job-promise"
                    id="ref-for-dfn-job-promise⑤">任务承诺</a>。
                </p>
            </ol>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="Start Register">
        <h3 class="heading settled" id="start-register-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="start-register">开始注册</dfn></span><a class="self-link"
            href="#start-register-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>scopeURL</var>，一个 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
                id="ref-for-concept-url⑨">URL</a> 或失败或
              null</p>
          <dd data-md>
            <p><var>scriptURL</var>，一个 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
                id="ref-for-concept-url①⓪">URL</a> 或失败
            </p>
          <dd data-md>
            <p><var>promise</var>，一个 <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
                id="ref-for-sec-promise-objects③⓪">承诺</a></p>
          <dd data-md>
            <p><var>client</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client③⑧">服务工作者客户端</a></p>
          <dd data-md>
            <p><var>referrer</var>，一个 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
                id="ref-for-concept-url①①">URL</a></p>
          <dd data-md>
            <p><var>workerType</var>，一个 <a data-link-type="dfn" href="#dfn-job-worker-type"
                id="ref-for-dfn-job-worker-type②">工作者类型</a></p>
          <dd data-md>
            <p><var>updateViaCache</var>，一个 <a data-link-type="dfn" href="#dfn-update-via-cache"
                id="ref-for-dfn-update-via-cache②">通过缓存更新模式</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果 <var>scriptURL</var> 失败，则用 <code>TypeError</code> 拒绝 <var>promise</var> 并中止这些步骤。</p>
          <li data-md>
            <p>将 <var>scriptURL</var> 的 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment"
                id="ref-for-concept-url-fragment①">片段</a>设置为 null。</p>
            <p class="note" role="note"><span class="marker">注意：</span>用户代理不存储脚本 URL 的<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-fragment"
                id="ref-for-concept-url-fragment②">片段</a>。这意味着<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment③">片段</a>对识别<a
                data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨⑤">服务工作者</a>没有影响。
            </p>
          <li data-md>
            <p>如果 <var>scriptURL</var> 的 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme"
                id="ref-for-concept-url-scheme③">方案</a>不是“<code>http</code>”和“<code>https</code>”之一，则用
              <code>TypeError</code> 拒绝 <var>promise</var> 并中止这些步骤。
            </p>
          <li data-md>
            <p>如果 <var>scriptURL</var> 的 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path"
                id="ref-for-concept-url-path①">路径</a>中的任何字符串包含<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="ref-for-ascii-case-insensitive">ASCII
                不区分大小写</a>的“<code>%2f</code>”或<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="ref-for-ascii-case-insensitive①">ASCII
                不区分大小写</a>的“<code>%5c</code>”，则用
              <code>TypeError</code> 拒绝 <var>promise</var> 并中止这些步骤。
            </p>
          <li data-md>
            <p>如果 <var>scopeURL</var> 为 null，则将 <var>scopeURL</var> 设置为使用 <var>scriptURL</var> <a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-parser"
                id="ref-for-concept-url-parser⑤">解析</a>字符串“<code>./</code>”的结果。
            </p>
            <p class="note" role="note"><span class="marker">注意：</span>默认情况下，注册的作用域 URL 设置为服务工作者脚本的位置。</p>
          <li data-md>
            <p>如果 <var>scopeURL</var> 失败，则用 <code>TypeError</code> 拒绝 <var>promise</var> 并中止这些步骤。</p>
          <li data-md>
            <p>将 <var>scopeURL</var> 的 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment"
                id="ref-for-concept-url-fragment④">片段</a>设置为 null。</p>
            <p class="note" role="note"><span class="marker">注意：</span>用户代理不存储作用域 URL 的<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-fragment"
                id="ref-for-concept-url-fragment⑤">片段</a>。这意味着<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment⑥">片段</a>对识别<a
                data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑤②">服务工作者注册</a>没有影响。
            </p>
          <li data-md>
            <p>如果 <var>scopeURL</var> 的 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme"
                id="ref-for-concept-url-scheme④">方案</a>不是“<code>http</code>”和“<code>https</code>”之一，则用
              <code>TypeError</code> 拒绝 <var>promise</var> 并中止这些步骤。
            </p>
          <li data-md>
            <p>如果 <var>scopeURL</var> 的 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path"
                id="ref-for-concept-url-path②">路径</a>中的任何字符串包含<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="ref-for-ascii-case-insensitive②">ASCII
                不区分大小写</a>的“<code>%2f</code>”或<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="ref-for-ascii-case-insensitive③">ASCII
                不区分大小写</a>的“<code>%5c</code>”，则用
              <code>TypeError</code> 拒绝 <var>promise</var> 并中止这些步骤。
            </p>
          <li data-md>
            <p>令 <var>storage key</var> 为给定 <var>client</var> 运行 <a data-link-type="dfn"
                href="https://storage.spec.whatwg.org/#obtain-a-storage-key"
                id="ref-for-obtain-a-storage-key⑨">获取存储密钥</a>的结果。</p>
          <li data-md>
            <p>令 <var>job</var> 为使用<em>注册</em>、<var>storage
                key</var>、<var>scopeURL</var>、<var>scriptURL</var>、<var>promise</var> 和
              <var>client</var> 运行 <a data-link-type="dfn" href="#create-job" id="ref-for-create-job②">创建任务</a>的结果。
            </p>
          <li data-md>
            <p>将 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-worker-type"
                id="ref-for-dfn-job-worker-type③">工作者类型</a>设置为 <var>workerType</var>。</p>
          <li data-md>
            <p>将 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-update-via-cache-mode"
                id="ref-for-dfn-job-update-via-cache-mode①">通过缓存更新模式</a>设置为
              <var>updateViaCache</var>。
            </p>
          <li data-md>
            <p>将 <var>job</var> 的 <a data-link-type="dfn" href="#job-referrer" id="ref-for-job-referrer①">引用者</a>设置为
              <var>referrer</var>。
            </p>
          <li data-md>
            <p>使用 <var>job</var> 调用 <a data-link-type="dfn" href="#schedule-job" id="ref-for-schedule-job②">调度任务</a>。
            </p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="注册">
        <h3 class="heading settled" id="register-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="register">注册</dfn></span><a class="self-link"
            href="#register-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>job</var>，一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②④">任务</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果以 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-script-url"
                id="ref-for-dfn-job-script-url②">脚本 URL</a> 的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                id="ref-for-concept-settings-object-origin①③">源</a>作为参数运行<a data-link-type="dfn"
                href="https://www.w3.org/TR/secure-contexts/#potentially-trustworthy-origin"
                id="ref-for-potentially-trustworthy-origin">潜在可信源</a>的结果是<code>不可信</code>，则：
            </p>
            <ol>
              <li data-md>
                <p>使用 <var>job</var> 和“<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror①">SecurityError</a></code>”
                  <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑤">DOMException</a></code>
                  调用<a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise">拒绝任务承诺</a>。
                </p>
              <li data-md>
                <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job"
                    id="ref-for-finish-job">完成任务</a>并中止这些步骤。</p>
            </ol>
          <li data-md>
            <p>如果 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-script-url"
                id="ref-for-dfn-job-script-url③">脚本 URL</a> 的 <a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin②">源</a>和
              <var>job</var> 的 <a data-link-type="dfn" href="#job-referrer" id="ref-for-job-referrer②">引用者</a>的 <a
                data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin"
                id="ref-for-concept-url-origin③">源</a>不是<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin"
                id="ref-for-same-origin④">同源</a>，则：
            </p>
            <ol>
              <li data-md>
                <p>使用 <var>job</var> 和“<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror②">SecurityError</a></code>”
                  <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑥">DOMException</a></code>
                  调用<a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise①">拒绝任务承诺</a>。
                </p>
              <li data-md>
                <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job"
                    id="ref-for-finish-job①">完成任务</a>并中止这些步骤。</p>
            </ol>
          <li data-md>
            <p>如果 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url④">作用域
                URL</a> 的 <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin"
                id="ref-for-concept-url-origin④">源</a>和 <var>job</var> 的 <a data-link-type="dfn" href="#job-referrer"
                id="ref-for-job-referrer③">引用者</a>的 <a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑤">源</a>不是<a
                data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin"
                id="ref-for-same-origin⑤">同源</a>，则：</p>
            <ol>
              <li data-md>
                <p>使用 <var>job</var> 和“<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror③">SecurityError</a></code>”
                  <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑦">DOMException</a></code>
                  调用<a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise②">拒绝任务承诺</a>。
                </p>
              <li data-md>
                <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job"
                    id="ref-for-finish-job②">完成任务</a>并中止这些步骤。</p>
            </ol>
          <li data-md>
            <p>令 <var>registration</var> 为给定 <var>job</var> 的 <a data-link-type="dfn" href="#job-storage-key"
                id="ref-for-job-storage-key①">存储密钥</a>和 <var>job</var> 的 <a data-link-type="dfn"
                href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url⑤">作用域
                URL</a> 运行<a data-link-type="dfn" href="#get-registration" id="ref-for-get-registration">获取注册</a>的结果。
            </p>
          <li data-md>
            <p>如果 <var>registration</var> 不为 null，则：</p>
            <ol>
              <li data-md>
                <p>令 <var>newestWorker</var> 为以 <var>registration</var> 作为参数运行<a data-link-type="dfn"
                    href="#get-newest-worker" id="ref-for-get-newest-worker①">获取最新工作者</a>算法的结果。</p>
              <li data-md>
                <p>如果 <var>newestWorker</var> 不为 null，<var>job</var> 的 <a data-link-type="dfn"
                    href="#dfn-job-script-url" id="ref-for-dfn-job-script-url④">脚本 URL</a> <a data-link-type="dfn"
                    href="https://url.spec.whatwg.org/#concept-url-equals" id="ref-for-concept-url-equals">等于</a>
                  <var>newestWorker</var> 的 <a data-link-type="dfn" href="#dfn-script-url"
                    id="ref-for-dfn-script-url②">脚本
                    URL</a>，<var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-worker-type"
                    id="ref-for-dfn-job-worker-type④">工作者类型</a>等于
                  <var>newestWorker</var> 的 <a data-link-type="dfn" href="#dfn-type" id="ref-for-dfn-type①">类型</a>，并且
                  <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-update-via-cache-mode"
                    id="ref-for-dfn-job-update-via-cache-mode②">通过缓存更新模式</a>的值等于
                  <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-update-via-cache"
                    id="ref-for-dfn-update-via-cache③">通过缓存更新模式</a>，则：
                </p>
                <ol>
                  <li data-md>
                    <p>使用 <var>job</var> 和 <var>registration</var> 调用<a data-link-type="dfn" href="#resolve-job-promise"
                        id="ref-for-resolve-job-promise">解决任务承诺</a>。
                    </p>
                  <li data-md>
                    <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job"
                        id="ref-for-finish-job③">完成任务</a>并中止这些步骤。</p>
                </ol>
            </ol>
          <li data-md>
            <p>否则：</p>
            <ol>
              <li data-md>
                <p>使用 <var>job</var> 的 <a data-link-type="dfn" href="#job-storage-key"
                    id="ref-for-job-storage-key②">存储密钥</a>、<var>job</var> 的 <a data-link-type="dfn"
                    href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url⑥">作用域 URL</a>和
                  <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-update-via-cache-mode"
                    id="ref-for-dfn-job-update-via-cache-mode③">通过缓存更新模式</a>调用<a data-link-type="dfn"
                    href="#set-registration" id="ref-for-set-registration">设置注册</a>算法。
                </p>
            </ol>
          <li data-md>
            <p>以 <var>job</var> 作为参数调用<a data-link-type="dfn" href="#update" id="ref-for-update①">更新</a>算法。
            </p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="更新">
        <h3 class="heading settled" id="update-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="update">更新</dfn></span><a class="self-link"
            href="#update-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>job</var>，一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②⑤">任务</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>registration</var> 为给定 <var>job</var> 的 <a data-link-type="dfn" href="#job-storage-key"
                id="ref-for-job-storage-key③">存储密钥</a>和 <var>job</var> 的 <a data-link-type="dfn"
                href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url⑦">作用域
                URL</a> 运行<a data-link-type="dfn" href="#get-registration" id="ref-for-get-registration①">获取注册</a>的结果。
            </p>
          <li data-md>
            <p>如果 <var>registration</var> 为 null，则：</p>
            <ol>
              <li data-md>
                <p>使用 <var>job</var> 和 <code>TypeError</code> 调用<a data-link-type="dfn" href="#reject-job-promise"
                    id="ref-for-reject-job-promise③">拒绝任务承诺</a>。
                </p>
              <li data-md>
                <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job"
                    id="ref-for-finish-job④">完成任务</a>并中止这些步骤。</p>
            </ol>
          <li data-md>
            <p>令 <var>newestWorker</var> 为以 <var>registration</var> 作为参数运行<a data-link-type="dfn"
                href="#get-newest-worker" id="ref-for-get-newest-worker②">获取最新工作者</a>算法的结果。</p>
          <li data-md>
            <p>如果 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-type"
                id="ref-for-dfn-job-type⑧">任务类型</a>是<em>更新</em>，并且 <var>newestWorker</var>
              不为 null 且其 <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url③">脚本
                URL</a> 不<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-equals"
                id="ref-for-concept-url-equals①">等于</a> <var>job</var> 的 <a data-link-type="dfn"
                href="#dfn-job-script-url" id="ref-for-dfn-job-script-url⑤">脚本 URL</a>，则：</p>
            <ol>
              <li data-md>
                <p>使用 <var>job</var> 和 <code>TypeError</code> 调用<a data-link-type="dfn" href="#reject-job-promise"
                    id="ref-for-reject-job-promise④">拒绝任务承诺</a>。
                </p>
              <li data-md>
                <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job"
                    id="ref-for-finish-job⑤">完成任务</a>并中止这些步骤。</p>
            </ol>
          <li data-md>
            <p>令 <var>hasUpdatedResources</var> 为 false。</p>
          <li data-md>
            <p>令 <var>updatedResourceMap</var> 为一个<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑦">有序映射</a>，其中<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys"
                id="ref-for-map-getting-the-keys④">键</a>是 <a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①②">URL</a>，<a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values"
                id="ref-for-map-getting-the-values③">值</a>是<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑧">响应</a>。</p>
          <li data-md>
            <p>根据 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-worker-type"
                id="ref-for-dfn-job-worker-type⑤">工作者类型</a>，使用以下选项运行这些子步骤：</p>
            <dl>
              <dt data-md>"<code>classic</code>"
              <dd data-md>
                <p>给定 <var>job</var> 的 <a data-link-type="dfn"
                    href="https://url.spec.whatwg.org/#concept-url-serializer"
                    id="ref-for-concept-url-serializer⑧">序列化的</a> <a data-link-type="dfn" href="#dfn-job-script-url"
                    id="ref-for-dfn-job-script-url⑥">脚本 URL</a>、
                  <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                    id="ref-for-dfn-job-client①⑤">客户端</a>、“<code>serviceworker</code>”以及为此服务工作者创建的<a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                    id="ref-for-environment-settings-object①⑤">环境设置对象</a>，<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script"
                    id="ref-for-fetch-a-classic-worker-script">获取经典工作者脚本</a>。
                </p>
              <dt data-md>"<code>module</code>"
              <dd data-md>
                <p>给定 <var>job</var> 的 <a data-link-type="dfn"
                    href="https://url.spec.whatwg.org/#concept-url-serializer"
                    id="ref-for-concept-url-serializer⑨">序列化的</a> <a data-link-type="dfn" href="#dfn-job-script-url"
                    id="ref-for-dfn-job-script-url⑦">脚本 URL</a>、
                  <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                    id="ref-for-dfn-job-client①⑥">客户端</a>、“<code>serviceworker</code>”、
                  “<code>omit</code>”以及为此服务工作者创建的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                    id="ref-for-environment-settings-object①⑥">环境设置对象</a>，<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree"
                    id="ref-for-fetch-a-module-worker-script-tree">获取模块工作者脚本图</a>。
                </p>
            </dl>
            <p class="issue" id="issue-02e2fe82"><a class="self-link" href="#issue-02e2fe82"></a> 使用待创建的<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-environment-settings-object①⑦">环境设置对象</a>而不是具体的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-environment-settings-object①⑧">环境设置对象</a>。这是由于服务工作者与其他<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/workers.html#workers" id="ref-for-workers①">Web
                工作者</a>相比具有独特的处理模型。HTML 标准的脚本获取算法最初是为其他<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/workers.html#workers" id="ref-for-workers②">Web
                工作者</a>设计的，需要执行环境的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-environment-settings-object①⑨">环境设置对象</a>，但服务工作者在<a data-link-type="dfn" href="#update"
                id="ref-for-update②">更新</a>算法中单独获取脚本，之后脚本通过<a data-link-type="dfn" href="#run-service-worker"
                id="ref-for-run-service-worker②">运行服务工作者</a>算法多次运行。</p>
            <p class="issue" id="issue-9d9e65b5"><a class="self-link" href="#issue-9d9e65b5"></a> HTML 中的<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script"
                id="ref-for-fetch-a-classic-worker-script①">获取经典工作者脚本</a>算法和<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree"
                id="ref-for-fetch-a-module-worker-script-tree①">获取模块工作者脚本图</a>算法将 <var>job</var> 的 <a
                data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①⑦">客户端</a>作为参数。<var>job</var> 的
              <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①⑧">客户端</a>在从<a
                data-link-type="dfn" href="#soft-update" id="ref-for-soft-update">软更新</a>算法传递时为 null。
            </p>
            <p>要给定 <var>request</var> <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-perform-fetch"
                id="ref-for-fetching-scripts-perform-fetch①">执行获取钩子</a>，请运行以下步骤：
            </p>
            <ol>
              <li data-md>
                <p>将 `<code>Service-Worker</code>`/`<code>script</code>` 追加到 <var>request</var> 的 <a
                    data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list"
                    id="ref-for-concept-request-header-list">标头列表</a>。</p>
                <p class="note" role="note"><span class="marker">注意：</span>请参阅附录 B：扩展 HTTP 标头中
                  Service-Worker 标头的定义。</p>
              <li data-md>
                <p>如果以下任一情况为真，则将 <var>request</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-cache-mode"
                    id="ref-for-concept-request-cache-mode①">缓存模式</a>设置为“<code>no-cache</code>”：</p>
                <ul>
                  <li data-md>
                    <p><var>registration</var> 的 <a data-link-type="dfn" href="#dfn-update-via-cache"
                        id="ref-for-dfn-update-via-cache④">通过缓存更新模式</a>不是“<code>all</code>”。</p>
                  <li data-md>
                    <p><var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-force-bypass-cache-flag"
                        id="ref-for-dfn-job-force-bypass-cache-flag">强制绕过缓存标志</a>已设置。</p>
                  <li data-md>
                    <p><var>newestWorker</var> 不为 null 且 <var>registration</var> <a data-link-type="dfn"
                        href="#service-worker-registration-stale"
                        id="ref-for-service-worker-registration-stale①">过时</a>。</p>
                </ul>
                <p class="note" role="note"><span
                    class="marker">注意：</span>即使缓存模式未设置为“<code>no-cache</code>”，用户代理也会遵守网络层中
                  Cache-Control 标头的 max-age 值，以确定是否应绕过浏览器缓存。</p>
              <li data-md>
                <p>将 <var>request</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#request-service-workers-mode"
                    id="ref-for-request-service-workers-mode②">服务工作者模式</a>设置为“<code>none</code>”。
                </p>
              <li data-md>
                <p>如果<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-is-top-level"
                    id="ref-for-fetching-scripts-is-top-level">isTopLevel</a> 标志未设置，则返回<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①⓪">获取</a>
                  <var>request</var> 的结果。
                </p>
              <li data-md>
                <p>将 <var>request</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode"
                    id="ref-for-concept-request-redirect-mode">重定向模式</a>设置为“<code>error</code>”。</p>
              <li data-md>
                <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch"
                    id="ref-for-concept-fetch①①">获取</a> <var>request</var>，并异步等待作为获取的<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#process-response"
                    id="ref-for-process-response①">处理响应</a>的一部分为<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑨">响应</a>
                  <var>response</var> 运行其余步骤。
                </p>
              <li data-md>
                <p>从 <var>response</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-response-header-list"
                    id="ref-for-concept-response-header-list③">标头列表</a>中<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-header-extract-mime-type"
                    id="ref-for-concept-header-extract-mime-type①">提取 MIME 类型</a>。如果此 MIME
                  类型（忽略参数）不是<a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#javascript-mime-type"
                    id="ref-for-javascript-mime-type②">JavaScript MIME 类型</a>，则：
                </p>
                <ol>
                  <li data-md>
                    <p>使用 <var>job</var> 和“<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror④">SecurityError</a></code>”
                      <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑧">DOMException</a></code>
                      调用<a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise⑤">拒绝任务承诺</a>。
                    </p>
                  <li data-md>
                    <p>使用<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error"
                        id="ref-for-concept-network-error④">网络错误</a>异步完成这些步骤。</p>
                </ol>
              <li data-md>
                <p>令 <var>serviceWorkerAllowed</var> 为给定 `<code>Service-Worker-Allowed</code>` 和
                  <var>response</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-response-header-list"
                    id="ref-for-concept-response-header-list④">标头列表</a><a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#extract-header-list-values"
                    id="ref-for-extract-header-list-values">提取标头列表值</a>的结果。
                </p>
                <p class="note" role="note"><span class="marker">注意：</span>请参阅附录 B：扩展 HTTP 标头中<a data-link-type="dfn"
                    href="#service-worker-allowed" id="ref-for-service-worker-allowed①">Service-Worker-Allowed</a>
                  标头的定义。
                </p>
              <li data-md>
                <p>令 <var>policyContainer</var> 为给定 <var>response</var> <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/origin.html#creating-a-policy-container-from-a-fetch-response"
                    id="ref-for-creating-a-policy-container-from-a-fetch-response">从获取响应创建策略容器</a>的结果。
                </p>
              <li data-md>
                <p>如果 <var>serviceWorkerAllowed</var> 失败，则：</p>
                <ol>
                  <li data-md>
                    <p>使用<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error"
                        id="ref-for-concept-network-error⑤">网络错误</a>异步完成这些步骤。</p>
                </ol>
              <li data-md>
                <p>令 <var>scopeURL</var> 为 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-scope-url"
                    id="ref-for-dfn-scope-url①③">作用域 URL</a>。</p>
              <li data-md>
                <p>令 <var>maxScopeString</var> 为 null。</p>
              <li data-md>
                <p>如果 <var>serviceWorkerAllowed</var> 为 null，则：</p>
                <ol>
                  <li data-md>
                    <p>令 <var>resolvedScope</var> 为使用 <var>job</var> 的 <a data-link-type="dfn"
                        href="#dfn-job-script-url" id="ref-for-dfn-job-script-url⑧">脚本 URL</a>
                      作为<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url"
                        id="ref-for-concept-script-base-url">基本 URL</a> <a data-link-type="dfn"
                        href="https://url.spec.whatwg.org/#concept-url-parser"
                        id="ref-for-concept-url-parser⑥">解析</a>“<code>./</code>”的结果。
                    </p>
                  <li data-md>
                    <p>将 <var>maxScopeString</var> 设置为“<code>/</code>”，后跟 <var>resolvedScope</var> 的
                      <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path"
                        id="ref-for-concept-url-path③">路径</a>中的字符串（包括空字符串），彼此用“<code>/</code>”分隔。
                    </p>
                    <p class="note" role="note"><span class="marker">注意：</span><var>resolvedScope</var> 的 <a
                        data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path"
                        id="ref-for-concept-url-path④">路径</a>中的最后一项将始终为空字符串，因此
                      <var>maxScopeString</var> 将带有一个尾随的“<code>/</code>”。
                    </p>
                </ol>
              <li data-md>
                <p>否则：</p>
                <ol>
                  <li data-md>
                    <p>令 <var>maxScope</var> 为使用 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-script-url"
                        id="ref-for-dfn-job-script-url⑨">脚本 URL</a>
                      作为<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url"
                        id="ref-for-concept-script-base-url①">基本 URL</a> <a data-link-type="dfn"
                        href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑦">解析</a>
                      <var>serviceWorkerAllowed</var> 的结果。
                    </p>
                  <li data-md>
                    <p>如果 <var>maxScope</var> 的 <a data-link-type="dfn"
                        href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑥">源</a>是
                      <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-script-url"
                        id="ref-for-dfn-job-script-url①⓪">脚本 URL</a> 的 <a data-link-type="dfn"
                        href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑦">源</a>，则：
                    </p>
                    <ol>
                      <li data-md>
                        <p>将 <var>maxScopeString</var> 设置为“<code>/</code>”，后跟
                          <var>maxScope</var> 的 <a data-link-type="dfn"
                            href="https://url.spec.whatwg.org/#concept-url-path"
                            id="ref-for-concept-url-path⑤">路径</a>中的字符串（包括空字符串），彼此用“<code>/</code>”分隔。
                        </p>
                    </ol>
                </ol>
              <li data-md>
                <p>令 <var>scopeString</var> 为“<code>/</code>”，后跟 <var>scopeURL</var> 的 <a data-link-type="dfn"
                    href="https://url.spec.whatwg.org/#concept-url-path"
                    id="ref-for-concept-url-path⑥">路径</a>中的字符串（包括空字符串），彼此用“<code>/</code>”分隔。
                </p>
              <li data-md>
                <p>如果 <var>maxScopeString</var> 为 null 或 <var>scopeString</var> 不以
                  <var>maxScopeString</var> 开头，则：
                </p>
                <ol>
                  <li data-md>
                    <p>使用 <var>job</var> 和“<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑤">SecurityError</a></code>”
                      <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑨">DOMException</a></code>
                      调用<a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise⑥">拒绝任务承诺</a>。
                    </p>
                  <li data-md>
                    <p>使用<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error"
                        id="ref-for-concept-network-error⑥">网络错误</a>异步完成这些步骤。</p>
                </ol>
              <li data-md>
                <p>令 <var>url</var> 为 <var>request</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑤">URL</a>。
                </p>
              <li data-md>
                <p>将 <var>updatedResourceMap</var>[<var>url</var>] 设置为 <var>response</var>。</p>
              <li data-md>
                <p>如果 <var>response</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-response-cache-state"
                    id="ref-for-concept-response-cache-state①">缓存状态</a>不是“<code>local</code>”，则将
                  <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-last-update-check-time"
                    id="ref-for-dfn-last-update-check-time③">上次更新检查时间</a>设置为当前时间。
                </p>
              <li data-md>
                <p>如果以下任一情况为真，则将 <var>hasUpdatedResources</var> 设置为 true：</p>
                <ul>
                  <li data-md>
                    <p><var>newestWorker</var> 为 null。</p>
                  <li data-md>
                    <p><var>newestWorker</var> 的 <a data-link-type="dfn" href="#dfn-script-url"
                        id="ref-for-dfn-script-url④">脚本 URL</a> 不是 <var>url</var> 或者
                      <var>newestWorker</var> 的 <a data-link-type="dfn" href="#dfn-type" id="ref-for-dfn-type②">类型</a>不是
                      <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-worker-type"
                        id="ref-for-dfn-job-worker-type⑥">工作者类型</a>。
                    </p>
                  <li data-md>
                    <p><var>newestWorker</var> 的 <a data-link-type="dfn" href="#dfn-script-resource-map"
                        id="ref-for-dfn-script-resource-map②">脚本资源映射</a>[<var>url</var>] 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-response-body"
                        id="ref-for-concept-response-body⑨">主体</a>与 <var>response</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-response-body"
                        id="ref-for-concept-response-body①⓪">主体</a>不是逐字节相同的。</p>
                </ul>
              <li data-md>
                <p>如果 <var>hasUpdatedResources</var> 为 false 且 <var>newestWorker</var> 的 <a data-link-type="dfn"
                    href="#dfn-classic-scripts-imported-flag"
                    id="ref-for-dfn-classic-scripts-imported-flag①">经典脚本导入标志</a>已设置，则：</p>
                <p class="note" role="note"><span class="marker">注意：</span>以下检查以查看导入的脚本是否已更新，因为主脚本未更改。
                </p>
                <ol>
                  <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                        id="ref-for-map-iterate④">对于</a> <var>newestWorker</var> 的 <a data-link-type="dfn"
                        href="#dfn-script-resource-map" id="ref-for-dfn-script-resource-map③">脚本资源映射</a>中的每个
                      <var>importUrl</var> →
                      <var>storedResponse</var>：
                    </p>
                    <ol>
                      <li data-md>
                        <p>如果 <var>importUrl</var> 是 <var>url</var>，则继续。</p>
                      <li data-md>
                        <p>令 <var>importRequest</var> 为一个新的<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request"
                            id="ref-for-concept-request⑥">请求</a>，其<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-url"
                            id="ref-for-concept-request-url⑥">URL</a> 为
                          <var>importUrl</var>，<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-client"
                            id="ref-for-concept-request-client②">客户端</a>为
                          <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client"
                            id="ref-for-dfn-job-client①⑨">客户端</a>，<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-destination"
                            id="ref-for-concept-request-destination①">目标</a>为
                          “<code>script</code>”，<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-parser-metadata"
                            id="ref-for-concept-request-parser-metadata">解析器元数据</a>为“<code>not parser-inserted</code>”，并且其<a
                            data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag"
                            id="ref-for-concept-request-use-url-credentials-flag">使用 URL
                            凭据标志</a>已设置。
                        </p>
                      <li data-md>
                        <p>如果以下任一情况为真，则将 <var>importRequest</var> 的 <a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-cache-mode"
                            id="ref-for-concept-request-cache-mode②">缓存模式</a>设置为“<code>no-cache</code>”：
                        </p>
                        <ul>
                          <li data-md>
                            <p><var>registration</var> 的 <a data-link-type="dfn" href="#dfn-update-via-cache"
                                id="ref-for-dfn-update-via-cache⑤">通过缓存更新模式</a>是“<code>none</code>”。
                            </p>
                          <li data-md>
                            <p><var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-force-bypass-cache-flag"
                                id="ref-for-dfn-job-force-bypass-cache-flag①">强制绕过缓存标志</a>已设置。
                            </p>
                          <li data-md>
                            <p><var>registration</var> <a data-link-type="dfn" href="#service-worker-registration-stale"
                                id="ref-for-service-worker-registration-stale②">过时</a>。
                            </p>
                        </ul>
                      <li data-md>
                        <p>令 <var>fetchedResponse</var> 为<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①②">获取</a>
                          <var>importRequest</var> 的结果。
                        </p>
                      <li data-md>
                        <p>将 <var>updatedResourceMap</var>[<var>importRequest</var> 的 <a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-url"
                            id="ref-for-concept-request-url⑦">URL</a>] 设置为
                          <var>fetchedResponse</var>。
                        </p>
                      <li data-md>
                        <p>将 <var>fetchedResponse</var> 设置为 <var>fetchedResponse</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response"
                            id="ref-for-unsafe-response①">不安全响应</a>。</p>
                      <li data-md>
                        <p>如果 <var>fetchedResponse</var> 的 <a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-response-cache-state"
                            id="ref-for-concept-response-cache-state②">缓存状态</a>不是“<code>local</code>”，则将
                          <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-last-update-check-time"
                            id="ref-for-dfn-last-update-check-time④">上次更新检查时间</a>设置为当前时间。
                        </p>
                      <li data-md>
                        <p>如果 <var>fetchedResponse</var> 是一个<a data-link-type="dfn"
                            href="#dfn-bad-import-script-response"
                            id="ref-for-dfn-bad-import-script-response①">错误的导入脚本响应</a>，则继续。
                        </p>
                        <p class="note" role="note"><span class="marker">注意：</span>对于逐字节检查，<a
                            data-link-type="functionish" href="#importscripts-method"
                            id="ref-for-importscripts-method②">importScripts()</a>
                          的错误响应将被忽略。仅考虑现有工作者的良好响应和潜在更新工作者的良好响应。有关一些基本原理，请参阅<a
                            href="https://github.com/w3c/ServiceWorker/issues/1374">问题
                            #1374</a>。</p>
                      <li data-md>
                        <p>如果 <var>fetchedResponse</var> 的 <a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-response-body"
                            id="ref-for-concept-response-body①①">主体</a>与
                          <var>storedResponse</var> 的 <a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response"
                            id="ref-for-unsafe-response②">不安全响应</a>的 <a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-response-body"
                            id="ref-for-concept-response-body①②">主体</a>不是逐字节相同的，则将
                          <var>hasUpdatedResources</var> 设置为 true。
                        </p>
                        <p class="note" role="note"><span class="marker">注意：</span>此步骤中的控件不会中断循环，以继续处理所有导入的脚本以填充缓存。</p>
                    </ol>
                </ol>
              <li data-md>
                <p>使用 <var>response</var> 异步完成这些步骤。</p>
            </ol>
            <p>当算法异步完成时，继续执行这些步骤的其余部分，其中 <var>script</var> 是异步完成值。
            </p>
          <li data-md>
            <p>如果 <var>script</var> 为 null 或使用 <var>script</var> 的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record"
                id="ref-for-concept-script-record">记录</a>、<var>script</var> 的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url"
                id="ref-for-concept-script-base-url②">基本 URL</a>和 « » <a data-link-type="dfn" href="#is-async-module"
                id="ref-for-is-async-module">是异步模块</a>为 true，则：</p>
            <ol>
              <li data-md>
                <p>使用 <var>job</var> 和 <code>TypeError</code> 调用<a data-link-type="dfn" href="#reject-job-promise"
                    id="ref-for-reject-job-promise⑦">拒绝任务承诺</a>。
                </p>
                <p class="note" role="note"><span class="marker">注意：</span>如果先前使用“<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑥">SecurityError</a></code>”
                  <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⓪">DOMException</a></code>
                  调用了<a data-link-type="dfn" href="#reject-job-promise"
                    id="ref-for-reject-job-promise⑧">拒绝任务承诺</a>，则此操作将不执行任何操作。
                </p>
              <li data-md>
                <p>如果 <var>newestWorker</var> 为 null，则<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove①">移除</a>
                  <a data-link-type="dfn" href="#dfn-scope-to-registration-map"
                    id="ref-for-dfn-scope-to-registration-map④">注册映射</a>[(<var>registration</var> 的
                  <a data-link-type="dfn" href="#service-worker-registration-storage-key"
                    id="ref-for-service-worker-registration-storage-key⑧">存储密钥</a>, <a data-link-type="dfn"
                    href="https://url.spec.whatwg.org/#concept-url-serializer"
                    id="ref-for-concept-url-serializer①⓪">序列化的</a> <var>scopeURL</var>)]。
                </p>
              <li data-md>
                <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job"
                    id="ref-for-finish-job⑥">完成任务</a>并中止这些步骤。</p>
            </ol>
          <li data-md>
            <p>如果 <var>hasUpdatedResources</var> 为 false，则：</p>
            <ol>
              <li data-md>
                <p>将 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-update-via-cache"
                    id="ref-for-dfn-update-via-cache⑥">通过缓存更新模式</a>设置为 <var>job</var> 的
                  <a data-link-type="dfn" href="#dfn-job-update-via-cache-mode"
                    id="ref-for-dfn-job-update-via-cache-mode④">通过缓存更新模式</a>。
                </p>
              <li data-md>
                <p>使用 <var>job</var> 和 <var>registration</var> 调用<a data-link-type="dfn" href="#resolve-job-promise"
                    id="ref-for-resolve-job-promise①">解决任务承诺</a>。</p>
              <li data-md>
                <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job"
                    id="ref-for-finish-job⑦">完成任务</a>并中止这些步骤。</p>
            </ol>
          <li data-md>
            <p>令 <var>worker</var> 为一个新的<a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker⑨⑥">服务工作者</a>。</p>
          <li data-md>
            <p>将 <var>worker</var> 的 <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url⑤">脚本
                URL</a> 设置为 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-script-url"
                id="ref-for-dfn-job-script-url①①">脚本 URL</a>，
              <var>worker</var> 的 <a data-link-type="dfn" href="#dfn-script-resource"
                id="ref-for-dfn-script-resource④">脚本资源</a>设置为 <var>script</var>，
              <var>worker</var> 的 <a data-link-type="dfn" href="#dfn-type" id="ref-for-dfn-type③">类型</a>设置为
              <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-worker-type"
                id="ref-for-dfn-job-worker-type⑦">工作者类型</a>，并将
              <var>worker</var> 的 <a data-link-type="dfn" href="#dfn-script-resource-map"
                id="ref-for-dfn-script-resource-map④">脚本资源映射</a>设置为
              <var>updatedResourceMap</var>。
            </p>
          <li data-md>
            <p>将 <var>url</var> 追加到 <var>worker</var> 的 <a data-link-type="dfn" href="#dfn-set-of-used-scripts"
                id="ref-for-dfn-set-of-used-scripts③">已用脚本集</a>。</p>
          <li data-md>
            <p>将 <var>worker</var> 的 <a data-link-type="dfn" href="#dfn-script-resource"
                id="ref-for-dfn-script-resource⑤">脚本资源</a>的 <a data-link-type="dfn" href="#dfn-policy-container"
                id="ref-for-dfn-policy-container">策略容器</a>设置为
              <var>policyContainer</var>。
            </p>
          <li data-md>
            <p>如果 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-force-bypass-cache-flag"
                id="ref-for-dfn-job-force-bypass-cache-flag②">强制绕过缓存标志</a>已设置，则令
              <var>forceBypassCache</var> 为 true，否则为 false。
            </p>
          <li data-md>
            <p>令 <var>runResult</var> 为使用 <var>worker</var> 和 <var>forceBypassCache</var> 运行<a data-link-type="dfn"
                href="#run-service-worker" id="ref-for-run-service-worker③">运行服务工作者</a>算法的结果。</p>
          <li data-md>
            <p>如果 <var>runResult</var> 是<em>失败</em>或<a data-link-type="dfn" data-refhint-key="49ea2b41"
                href="http://tc39.github.io/ecma262/#sec-completion-record-specification-type"
                id="ref-for-sec-completion-record-specification-type①">突然完成</a>，则：</p>
            <ol>
              <li data-md>
                <p>使用 <var>job</var> 和 <code>TypeError</code> 调用<a data-link-type="dfn" href="#reject-job-promise"
                    id="ref-for-reject-job-promise⑨">拒绝任务承诺</a>。
                </p>
              <li data-md>
                <p>如果 <var>newestWorker</var> 为 null，则<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove②">移除</a>
                  <a data-link-type="dfn" href="#dfn-scope-to-registration-map"
                    id="ref-for-dfn-scope-to-registration-map⑤">注册映射</a>[(<var>registration</var> 的
                  <a data-link-type="dfn" href="#service-worker-registration-storage-key"
                    id="ref-for-service-worker-registration-storage-key⑨">存储密钥</a>, <a data-link-type="dfn"
                    href="https://url.spec.whatwg.org/#concept-url-serializer"
                    id="ref-for-concept-url-serializer①①">序列化的</a> <var>scopeURL</var>)]。
                </p>
              <li data-md>
                <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job⑧">完成任务</a>。</p>
            </ol>
          <li data-md>
            <p>否则，以 <var>job</var>、<var>worker</var> 和 <var>registration</var> 作为参数调用<a data-link-type="dfn"
                href="#install" id="ref-for-install②">安装</a>算法。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="软更新">
        <h3 class="heading settled" id="soft-update-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="soft-update">软更新</dfn></span><a class="self-link"
            href="#soft-update-algorithm"></a></h3>
        <p>用户代理<em>可以</em>根据需要随时调用此方法来检查更新。</p>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>registration</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑤③">服务工作者注册</a></p>
          <dd data-md>
            <p><var>forceBypassCache</var>，一个可选布尔值，默认为 false</p>
            <p class="note" role="note"><span class="marker">注意：</span>实现者可以使用
              <var>forceBypassCache</var> 来辅助调试（例如从开发人员工具调用），其他扩展服务工作者的规范也可以根据自身需要使用该标志。
            </p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>newestWorker</var> 为以 <var>registration</var> 作为参数运行<a data-link-type="dfn"
                href="#get-newest-worker" id="ref-for-get-newest-worker③">获取最新工作者</a>算法的结果。</p>
          <li data-md>
            <p>如果 <var>newestWorker</var> 为 null，则中止这些步骤。</p>
          <li data-md>
            <p>令 <var>job</var> 为使用<em>更新</em>、<var>registration</var> 的
              <a data-link-type="dfn" href="#service-worker-registration-storage-key"
                id="ref-for-service-worker-registration-storage-key①⓪">存储密钥</a>、
              <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①④">作用域
                URL</a>、<var>newestWorker</var> 的 <a data-link-type="dfn" href="#dfn-script-url"
                id="ref-for-dfn-script-url⑥">脚本 URL</a>、
              null 和 null 运行<a data-link-type="dfn" href="#create-job" id="ref-for-create-job③">创建任务</a>的结果。
            </p>
          <li data-md>
            <p>将 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-worker-type"
                id="ref-for-dfn-job-worker-type⑧">工作者类型</a>设置为 <var>newestWorker</var> 的 <a data-link-type="dfn"
                href="#dfn-type" id="ref-for-dfn-type④">类型</a>。</p>
          <li data-md>
            <p>如果 <var>forceBypassCache</var> 为 true，则设置 <var>job</var> 的 <a data-link-type="dfn"
                href="#dfn-job-force-bypass-cache-flag" id="ref-for-dfn-job-force-bypass-cache-flag③">强制绕过缓存标志</a>。
            </p>
          <li data-md>
            <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#schedule-job" id="ref-for-schedule-job③">调度任务</a>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="安装">
        <h3 class="heading settled" id="installation-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="install">安装</dfn></span><a class="self-link"
            href="#installation-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>job</var>，一个 <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②⑥">任务</a></p>
          <dd data-md>
            <p><var>worker</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker⑨⑦">服务工作者</a></p>
          <dd data-md>
            <p><var>registration</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑤④">服务工作者注册</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>installFailed</var> 为 false。</p>
          <li data-md>
            <p>令 <var>newestWorker</var> 为以 <var>registration</var> 作为参数运行<a data-link-type="dfn"
                href="#get-newest-worker" id="ref-for-get-newest-worker④">获取最新工作者</a>算法的结果。</p>
          <li data-md>
            <p>将 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-update-via-cache"
                id="ref-for-dfn-update-via-cache⑦">通过缓存更新模式</a>设置为 <var>job</var> 的 <a data-link-type="dfn"
                href="#dfn-job-update-via-cache-mode" id="ref-for-dfn-job-update-via-cache-mode⑤">通过缓存更新模式</a>。</p>
          <li data-md>
            <p>以 <var>registration</var>、“<code>正在安装</code>”和 <var>worker</var> 作为参数运行<a data-link-type="dfn"
                href="#update-registration-state" id="ref-for-update-registration-state">更新注册状态</a>算法。
            </p>
          <li data-md>
            <p>以 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-installing-worker"
                id="ref-for-dfn-installing-worker⑧">正在安装的工作者</a>和“<code>正在安装</code>”作为参数运行<a data-link-type="dfn"
                href="#update-worker-state" id="ref-for-update-worker-state">更新工作者状态</a>算法。
            </p>
          <li data-md>
            <p class="assertion">断言：<var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-promise"
                id="ref-for-dfn-job-promise⑥">任务承诺</a>不为 null。</p>
          <li data-md>
            <p>使用 <var>job</var> 和 <var>registration</var> 调用<a data-link-type="dfn" href="#resolve-job-promise"
                id="ref-for-resolve-job-promise②">解决任务承诺</a>。
            </p>
          <li data-md>
            <p>令 <var>settingsObjects</var> 为所有<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-environment-settings-object②⓪">环境设置对象</a>，其<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                id="ref-for-concept-settings-object-origin①④">源</a>是 <var>registration</var> 的 <a data-link-type="dfn"
                href="#dfn-scope-url" id="ref-for-dfn-scope-url①⑤">作用域 URL</a> 的
              <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin"
                id="ref-for-concept-url-origin⑧">源</a>。
            </p>
          <li data-md>
            <p>对于 <var>settingsObjects</var> 中的每个 <var>settingsObject</var>，在 <var>settingsObject</var> 的 <a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                id="ref-for-responsible-event-loop①⑤">负责的事件循环</a>上的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                id="ref-for-dom-manipulation-task-source②⓪">DOM 操作任务源</a>中<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                id="ref-for-queue-a-task②⑦">排队一个任务</a>以运行以下步骤：</p>
            <ol>
              <li data-md>
                <p>令 <var>registrationObjects</var> 为 <var>settingsObject</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm"
                    id="ref-for-environment-settings-object&apos;s-realm⑨">领域</a>中的每个 <code
                    class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①④">ServiceWorkerRegistration</a></code>
                  对象，其<a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration"
                    id="ref-for-serviceworkerregistration-service-worker-registration⑦">服务工作者注册</a>是
                  <var>registration</var>。
                </p>
              <li data-md>
                <p>对于 <var>registrationObjects</var> 中的每个 <var>registrationObject</var>，在
                  <var>registrationObject</var> 上<a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire①">触发一个名为</a>
                  <code>updatefound</code> 的事件。
                </p>
            </ol>
          <li data-md>
            <p>令 <var>installingWorker</var> 为 <var>registration</var> 的 <a data-link-type="dfn"
                href="#dfn-installing-worker" id="ref-for-dfn-installing-worker⑨">正在安装的工作者</a>。
            </p>
          <li data-md>
            <p>如果使用 <var>installingWorker</var> 和 “install” 运行<a data-link-type="dfn" href="#should-skip-event"
                id="ref-for-should-skip-event①">应该跳过事件</a>算法的结果为 false，则：
            </p>
            <ol>
              <li data-md>
                <p>如果 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-force-bypass-cache-flag"
                    id="ref-for-dfn-job-force-bypass-cache-flag④">强制绕过缓存标志</a>已设置，则令
                  <var>forceBypassCache</var> 为 true，否则为 false。
                </p>
              <li data-md>
                <p>如果使用 <var>installingWorker</var> 和 <var>forceBypassCache</var> 运行<a data-link-type="dfn"
                    href="#run-service-worker" id="ref-for-run-service-worker④">运行服务工作者</a>算法的结果是<em>失败</em>，
                  则：
                </p>
                <ol>
                  <li data-md>
                    <p>将 <var>installFailed</var> 设置为 true。</p>
                </ol>
              <li data-md>
                <p>否则：</p>
                <ol>
                  <li data-md>
                    <p>在 <var>installingWorker</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                        id="ref-for-event-loop①⓪">事件循环</a>上使用<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                        id="ref-for-dom-manipulation-task-source②①">DOM 操作任务源</a><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                        id="ref-for-queue-a-task②⑧">排队一个任务</a> <var>task</var> 以运行以下步骤：
                    </p>
                    <ol>
                      <li data-md>
                        <p>令 <var>e</var> 为使用 <code
                            class="idl"><a data-link-type="idl" href="#installevent" id="ref-for-installevent②">InstallEvent</a></code>
                          <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create"
                            id="ref-for-concept-event-create②">创建事件</a>的结果。
                        </p>
                      <li data-md>
                        <p>将 <var>e</var> 的 <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type">type</a></code>
                          属性初始化为 <code
                            class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event⑤">install</a></code>。
                        </p>
                      <li data-md>
                        <p>在 <var>installingWorker</var> 的 <a data-link-type="dfn"
                            href="#dfn-service-worker-global-object"
                            id="ref-for-dfn-service-worker-global-object①">全局对象</a>处<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                            id="ref-for-concept-event-dispatch④">分派</a> <var>e</var>。
                        </p>
                      <li data-md>
                        <p><em>等待异步扩展</em>：<a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                            id="ref-for-in-parallel③⓪">并行</a>运行以下子步骤：</p>
                        <ol>
                          <li data-md>
                            <p><span id="install-settle-step">等待直到 <var>e</var> 不再
                                <a data-link-type="dfn" href="#extendableevent-active"
                                  id="ref-for-extendableevent-active①">活动</a>。</span>
                            </p>
                          <li data-md>
                            <p>如果 <var>e</var> 的 <a data-link-type="dfn" href="#extendableevent-timed-out-flag"
                                id="ref-for-extendableevent-timed-out-flag①">超时标志</a>已设置，则将
                              <var>installFailed</var> 设置为 true。
                            </p>
                          <li data-md>
                            <p>令 <var>p</var> 为<a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#waiting-for-all-promise"
                                id="ref-for-waiting-for-all-promise①">获取一个等待所有</a>
                              <var>e</var> 的 <a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises"
                                id="ref-for-extendableevent-extend-lifetime-promises⑥">延长生命周期承诺</a>的承诺的结果。
                            </p>
                          <li data-md>
                            <p><var>p</var> <a data-link-type="dfn"
                                href="https://webidl.spec.whatwg.org/#upon-rejection"
                                id="ref-for-upon-rejection③">被拒绝后</a>，将
                              <var>installFailed</var> 设置为 true。
                            </p>
                        </ol>
                    </ol>
                    <p>如果 <var>task</var> 被丢弃，则将 <var>installFailed</var> 设置为 true。</p>
                  <li data-md>
                    <p>等待 <var>task</var> 执行完毕或被丢弃。</p>
                  <li data-md>
                    <p>等待标记为<em>等待异步扩展</em>的步骤完成。
                    </p>
                </ol>
            </ol>
          <li data-md>
            <p>如果 <var>installFailed</var> 为 true，则：</p>
            <ol>
              <li data-md>
                <p>以 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-installing-worker"
                    id="ref-for-dfn-installing-worker①⓪">正在安装的工作者</a>和
                  “<code>冗余</code>”作为参数运行<a data-link-type="dfn" href="#update-worker-state"
                    id="ref-for-update-worker-state①">更新工作者状态</a>算法。
                </p>
              <li data-md>
                <p>以 <var>registration</var>、“<code>正在安装</code>”和 null 作为参数运行<a data-link-type="dfn"
                    href="#update-registration-state" id="ref-for-update-registration-state①">更新注册状态</a>算法。</p>
              <li data-md>
                <p>如果 <var>newestWorker</var> 为 null，则<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove③">移除</a>
                  <a data-link-type="dfn" href="#dfn-scope-to-registration-map"
                    id="ref-for-dfn-scope-to-registration-map⑥">注册映射</a>[(<var>registration</var> 的
                  <a data-link-type="dfn" href="#service-worker-registration-storage-key"
                    id="ref-for-service-worker-registration-storage-key①①">存储密钥</a>, <a data-link-type="dfn"
                    href="https://url.spec.whatwg.org/#concept-url-serializer"
                    id="ref-for-concept-url-serializer①②">序列化的</a> <var>registration</var> 的
                  <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①⑥">作用域
                    URL</a>)]。
                </p>
              <li data-md>
                <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job"
                    id="ref-for-finish-job⑨">完成任务</a>并中止这些步骤。</p>
            </ol>
          <li data-md>
            <p>令 <var>map</var> 为 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-installing-worker"
                id="ref-for-dfn-installing-worker①①">正在安装的工作者</a>的 <a data-link-type="dfn"
                href="#dfn-script-resource-map" id="ref-for-dfn-script-resource-map⑤">脚本资源映射</a>。</p>
          <li data-md>
            <p>令 <var>usedSet</var> 为 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-installing-worker"
                id="ref-for-dfn-installing-worker①②">正在安装的工作者</a>的 <a data-link-type="dfn"
                href="#dfn-set-of-used-scripts" id="ref-for-dfn-set-of-used-scripts④">已用脚本集</a>。</p>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                id="ref-for-map-iterate⑤">对于</a> <var>map</var> 中的每个 <var>url</var>：</p>
            <ol>
              <li data-md>
                <p>如果 <var>usedSet</var> 不<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                    id="ref-for-list-contain①">包含</a> <var>url</var>，则<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove④">移除</a>
                  <var>map</var>[<var>url</var>]。
                </p>
            </ol>
          <li data-md>
            <p>如果 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-waiting-worker"
                id="ref-for-dfn-waiting-worker⑤">等待中的工作者</a>不为 null，则：</p>
            <ol>
              <li data-md>
                <p><a data-link-type="dfn" href="#terminate-service-worker"
                    id="ref-for-terminate-service-worker③">终止</a> <var>registration</var> 的
                  <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker⑥">等待中的工作者</a>。
                </p>
              <li data-md>
                <p>以 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-waiting-worker"
                    id="ref-for-dfn-waiting-worker⑦">等待中的工作者</a>和“<code>冗余</code>”作为参数运行<a data-link-type="dfn"
                    href="#update-worker-state" id="ref-for-update-worker-state②">更新工作者状态</a>算法。
                </p>
            </ol>
          <li data-md>
            <p>以 <var>registration</var>、“<code>等待中</code>”和 <var>registration</var> 的 <a data-link-type="dfn"
                href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①③">正在安装的工作者</a>作为参数运行<a
                data-link-type="dfn" href="#update-registration-state"
                id="ref-for-update-registration-state②">更新注册状态</a>算法。
            </p>
          <li data-md>
            <p>以 <var>registration</var>、“<code>正在安装</code>”和 null 作为参数运行<a data-link-type="dfn"
                href="#update-registration-state" id="ref-for-update-registration-state③">更新注册状态</a>算法。
            </p>
          <li data-md>
            <p>以 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-waiting-worker"
                id="ref-for-dfn-waiting-worker⑧">等待中的工作者</a>和“<code>已安装</code>”作为参数运行<a data-link-type="dfn"
                href="#update-worker-state" id="ref-for-update-worker-state③">更新工作者状态</a>算法。
            </p>
          <li data-md>
            <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job①⓪">完成任务</a>。</p>
          <li data-md>
            <p>等待此算法中调用的<a data-link-type="dfn" href="#update-worker-state"
                id="ref-for-update-worker-state④">更新工作者状态</a><a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                id="ref-for-queue-a-task②⑨">排队的</a>所有<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                id="ref-for-concept-task④">任务</a>执行完毕。</p>
          <li data-md>
            <p>使用 <var>registration</var> 调用<a data-link-type="dfn" href="#try-activate"
                id="ref-for-try-activate②">尝试激活</a>。</p>
            <p class="note" role="note"><span class="marker">注意：</span>如果<a data-link-type="dfn" href="#try-activate"
                id="ref-for-try-activate③">尝试激活</a>此处未触发<a data-link-type="dfn" href="#activate"
                id="ref-for-activate③">激活</a>，则当由现有<a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker②⓪">活动工作者</a>控制的最后一个客户端<a data-link-type="dfn"
                href="#handle-service-worker-client-unload"
                id="ref-for-handle-service-worker-client-unload①">卸载</a>时，异步调用 <code
                class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-skipwaiting" id="ref-for-dom-serviceworkerglobalscope-skipwaiting③">skipWaiting()</a></code>
              时，或现有<a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②①">活动工作者</a>的<a
                data-link-type="dfn" href="#extendableevent-extend-lifetime-promises"
                id="ref-for-extendableevent-extend-lifetime-promises⑦">延长生命周期承诺</a>解决时，将再次尝试<a data-link-type="dfn"
                href="#activate" id="ref-for-activate④">激活</a>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="激活">
        <h3 class="heading settled" id="activation-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="activate">激活</dfn></span><a class="self-link"
            href="#activation-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>registration</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑤⑤">服务工作者注册</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-waiting-worker"
                id="ref-for-dfn-waiting-worker⑨">等待中工作者</a>为 null，则中止这些步骤。</p>
          <li data-md>
            <p>如果 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker②②">活动工作者</a>不为 null，则：</p>
            <ol>
              <li data-md>
                <p><a data-link-type="dfn" href="#terminate-service-worker"
                    id="ref-for-terminate-service-worker④">终止</a> <var>registration</var> 的
                  <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②③">活动工作者</a>。
                </p>
              <li data-md>
                <p>以 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker②④">活动工作者</a>和“<code>冗余</code>”作为参数运行<a data-link-type="dfn"
                    href="#update-worker-state" id="ref-for-update-worker-state⑤">更新工作者状态</a>算法。
                </p>
            </ol>
          <li data-md>
            <p>以 <var>registration</var>、“<code>活动</code>”和 <var>registration</var> 的 <a data-link-type="dfn"
                href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①⓪">等待中工作者</a>作为参数运行<a data-link-type="dfn"
                href="#update-registration-state" id="ref-for-update-registration-state④">更新注册状态</a>算法。
            </p>
          <li data-md>
            <p>以 <var>registration</var>、“<code>等待中</code>”和 null 作为参数运行<a data-link-type="dfn"
                href="#update-registration-state" id="ref-for-update-registration-state⑤">更新注册状态</a>算法。
            </p>
          <li data-md>
            <p>以 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker②⑤">活动工作者</a>和“<code>正在激活</code>”作为参数运行<a data-link-type="dfn"
                href="#update-worker-state" id="ref-for-update-worker-state⑥">更新工作者状态</a>算法。
            </p>
            <p class="note" role="note"><span class="marker">注意：</span>一旦活动工作者正在激活，运行时脚本错误或强制终止活动工作者都不会阻止活动工作者被激活。</p>
            <p class="note" role="note"><span
                class="marker">注意：</span>确保将激活处理程序设计为执行非必要工作（例如清理）。这是因为激活处理程序可能无法全部运行完成，尤其是在激活期间浏览器终止的情况下。服务工作者应设计为即使激活处理程序未全部成功完成也能正常运行。
            </p>
          <li data-md>
            <p>令 <var>matchedClients</var> 为一个<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                id="ref-for-list②②">列表</a>，其中包含<a data-link-type="dfn" href="#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client③⑨">服务工作者客户端</a>，其<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                id="ref-for-concept-environment-creation-url⑦">创建 URL</a> <a data-link-type="dfn"
                href="#match-service-worker-registration" id="ref-for-match-service-worker-registration⑥">匹配</a>
              <var>registration</var> 的 <a data-link-type="dfn" href="#service-worker-registration-storage-key"
                id="ref-for-service-worker-registration-storage-key①②">存储密钥</a>和
              <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①⑦">作用域
                URL</a>。
            </p>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                id="ref-for-list-iterate①⑤">对于</a> <var>matchedClients</var> 中的每个 <var>client</var>，
              在 <var>client</var> 的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                id="ref-for-responsible-event-loop①⑥">负责的事件循环</a>上，使用<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                id="ref-for-dom-manipulation-task-source②②">DOM 操作任务源</a><a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                id="ref-for-queue-a-task③⓪">排队一个任务</a>，以运行以下子步骤：
            </p>
            <ol>
              <li data-md>
                <p>令 <var>readyPromise</var> 为 <var>client</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
                    id="ref-for-concept-settings-object-global⑨">全局对象</a>的 <code
                    class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①⑤">ServiceWorkerContainer</a></code>
                  对象的 <a data-link-type="dfn" href="#serviceworkercontainer-ready-promise"
                    id="ref-for-serviceworkercontainer-ready-promise④">就绪承诺</a>。</p>
              <li data-md>
                <p>如果 <var>readyPromise</var> 为 null，则<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑧">继续</a>。
                </p>
              <li data-md>
                <p><span id="activate-resolve-ready-step">如果 <var>readyPromise</var> 处于待定状态，则使用在
                    <var>readyPromise</var> 的 <a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                      id="ref-for-relevant-settings-object②⑦">相关设置对象</a>中表示
                    <var>registration</var> 的<a data-link-type="dfn" href="#get-the-service-worker-registration-object"
                      id="ref-for-get-the-service-worker-registration-object⑥">获取服务工作者注册对象</a>的结果来解决
                    <var>readyPromise</var></span>。
                </p>
            </ol>
          <li data-md>
            <p>对于每个<a data-link-type="dfn" href="#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client④⓪">服务工作者客户端</a> <var>client</var>，它正在<a data-link-type="dfn"
                href="#dfn-use" id="ref-for-dfn-use②">使用</a>
              <var>registration</var>：
            </p>
            <ol>
              <li data-md>
                <p>将 <var>client</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker②⑥">活动工作者</a>设置为 <var>registration</var> 的
                  <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②⑦">活动工作者</a>。
                </p>
              <li data-md>
                <p>以 <var>client</var> 作为参数调用<a data-link-type="dfn" href="#notify-controller-change"
                    id="ref-for-notify-controller-change①">通知控制器更改</a>算法。</p>
            </ol>
          <li data-md>
            <p>令 <var>activeWorker</var> 为 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker②⑧">活动工作者</a>。</p>
          <li data-md>
            <p>如果使用 <var>activeWorker</var> 和 “activate” 运行<a data-link-type="dfn" href="#should-skip-event"
                id="ref-for-should-skip-event②">应该跳过事件</a>算法的结果为 false，则：
            </p>
            <ol>
              <li data-md>
                <p>如果使用 <var>activeWorker</var> 运行<a data-link-type="dfn" href="#run-service-worker"
                    id="ref-for-run-service-worker⑤">运行服务工作者</a>算法的结果不是<em>失败</em>，则：
                </p>
                <ol>
                  <li data-md>
                    <p>在 <var>activeWorker</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                        id="ref-for-event-loop①①">事件循环</a>上使用<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                        id="ref-for-dom-manipulation-task-source②③">DOM 操作任务源</a><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                        id="ref-for-queue-a-task③①">排队一个任务</a> <var>task</var> 以运行以下步骤：
                    </p>
                    <ol>
                      <li data-md>
                        <p>令 <var>e</var> 为使用 <code
                            class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①⑥">ExtendableEvent</a></code>
                          <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create"
                            id="ref-for-concept-event-create③">创建事件</a>的结果。
                        </p>
                      <li data-md>
                        <p>将 <var>e</var> 的 <code
                            class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type①">type</a></code>
                          属性初始化为 <code
                            class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event⑤">activate</a></code>。
                        </p>
                      <li data-md>
                        <p>在 <var>activeWorker</var> 的 <a data-link-type="dfn" href="#dfn-service-worker-global-object"
                            id="ref-for-dfn-service-worker-global-object②">全局对象</a>处<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                            id="ref-for-concept-event-dispatch⑤">分派</a> <var>e</var>。
                        </p>
                      <li data-md>
                        <p><span id="activate-settle-step"><em>等待异步扩展</em>：
                            <a data-link-type="dfn"
                              href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                              id="ref-for-in-parallel③①">并行</a>等待，直到
                            <var>e</var> 不再 <a data-link-type="dfn" href="#extendableevent-active"
                              id="ref-for-extendableevent-active②">活动</a>。</span></p>
                    </ol>
                  <li data-md>
                    <p>等待 <var>task</var> 执行完毕或被丢弃。</p>
                  <li data-md>
                    <p>等待标记为<em>等待异步扩展</em>的步骤完成。
                    </p>
                </ol>
            </ol>
          <li data-md>
            <p>以 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker②⑨">活动工作者</a>和“<code>已激活</code>”作为参数运行<a data-link-type="dfn"
                href="#update-worker-state" id="ref-for-update-worker-state⑦">更新工作者状态</a>算法。
            </p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="尝试激活">
        <h3 class="heading settled" id="try-activate-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="try-activate">尝试激活</dfn></span><a class="self-link"
            href="#try-activate-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>registration</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑤⑥">服务工作者注册</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-waiting-worker"
                id="ref-for-dfn-waiting-worker①①">等待中工作者</a>为 null，则返回。</p>
          <li data-md>
            <p>如果 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker③⓪">活动工作者</a>不为 null 且
              <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker③①">活动工作者</a>的 <a data-link-type="dfn" href="#dfn-state"
                id="ref-for-dfn-state⑦">状态</a>是“<code>正在激活</code>”，
              则返回。
            </p>
            <p class="note" role="note"><span class="marker">注意：</span>如果现有的活动工作者仍处于正在激活状态，则等待中工作者的激活将被延迟。
            </p>
          <li data-md>
            <p>如果以下任一情况为真，则使用 <var>registration</var> 调用<a data-link-type="dfn" href="#activate"
                id="ref-for-activate⑤">激活</a>：
            </p>
            <ul>
              <li data-md>
                <p><var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker③②">活动工作者</a>为 null。</p>
              <li data-md>
                <p>使用 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker③③">活动工作者</a>运行<a data-link-type="dfn"
                    href="#service-worker-has-no-pending-events"
                    id="ref-for-service-worker-has-no-pending-events①">服务工作者没有待处理事件</a>的结果为
                  true，并且没有<a data-link-type="dfn" href="#dfn-service-worker-client"
                    id="ref-for-dfn-service-worker-client④①">服务工作者客户端</a>正在<a data-link-type="dfn" href="#dfn-use"
                    id="ref-for-dfn-use③">使用</a>
                  <var>registration</var>，或者 <var>registration</var> 的 <a data-link-type="dfn"
                    href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①②">等待中工作者</a>的 <a data-link-type="dfn"
                    href="#dfn-skip-waiting-flag" id="ref-for-dfn-skip-waiting-flag②">跳过等待标志</a>已设置。
                </p>
            </ul>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="设置 ServiceWorkerGlobalScope">
        <h3 class="heading settled" id="setup-serviceworkerglobalscope-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-noexport id="setup-serviceworkerglobalscope">设置
              ServiceWorkerGlobalScope</dfn></span><a class="self-link"
            href="#setup-serviceworkerglobalscope-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>serviceWorker</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker⑨⑧">服务工作者</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>一个 <code
                class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⑦">ServiceWorkerGlobalScope</a></code>
              对象或 null</p>
        </dl>
        <p class="note" role="note"><span class="marker">注意：</span>此算法返回一个可用于 CSP 检查的 <code
            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⑧">ServiceWorkerGlobalScope</a></code>，或者返回
          null。如果 <var>serviceWorker</var> 有一个活动的 <code
            class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⑨">ServiceWorkerGlobalScope</a></code>，
          则返回它。否则，将新创建一个对象。</p>
        <div class="note" role="note">
          此算法为服务工作者执行最少的设置，以便创建可用于 CSP 和 COEP 等安全检查的内容。本规范确保在执行任何此类检查之前调用此算法。
          <p>在规范中，此类安全检查需要创建 <code
              class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope②⓪">ServiceWorkerGlobalScope</a></code>、
            一个<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
              id="ref-for-relevant-settings-object②⑧">相关设置对象</a>、一个<a data-link-type="dfn"
              href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm"
              id="ref-for-concept-global-object-realm①">领域</a>和一个<a data-link-type="dfn"
              href="http://tc39.github.io/ecma262/#agent" id="ref-for-agent">代理</a>。在
            实现中，所需的工作量可能要少得多。因此，实现可以在其等效算法中执行较少的工作，而在<a data-link-type="dfn" href="#run-service-worker"
              id="ref-for-run-service-worker⑥">运行服务工作者</a>中执行更多的工作，只要结果在可观察的范围内是等效的即可。（特别是，只要所有安全检查都具有相同的结果。）
          </p>
        </div>
        <ol>
          <li data-md>
            <p>令 <var>unsafeCreationTime</var> 为<a data-link-type="dfn"
                href="https://www.w3.org/TR/hr-time-3/#dfn-unsafe-shared-current-time"
                id="ref-for-dfn-unsafe-shared-current-time">不安全的共享当前时间</a>。</p>
          <li data-md>
            <p>如果 <var>serviceWorker</var> 正在<a data-link-type="dfn" href="#service-worker-running"
                id="ref-for-service-worker-running">运行</a>，则返回 <var>serviceWorker</var> 的
              <a data-link-type="dfn" href="#dfn-service-worker-global-object"
                id="ref-for-dfn-service-worker-global-object③">全局对象</a>。
            </p>
          <li data-md>
            <p>如果 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-state"
                id="ref-for-dfn-state⑧">状态</a>是“<code>冗余</code>”，则返回 null。</p>
          <li data-md>
            <p>如果 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-service-worker-global-object"
                id="ref-for-dfn-service-worker-global-object④">全局对象</a>不为 null，则
              返回 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-service-worker-global-object"
                id="ref-for-dfn-service-worker-global-object⑤">全局对象</a>。</p>
          <li data-md>
            <p class="assertion">断言：<var>serviceWorker</var> 的 <a data-link-type="dfn"
                href="#service-worker-start-status" id="ref-for-service-worker-start-status">启动状态</a>为
              null。</p>
          <li data-md>
            <p>令 <var>setupFailed</var> 为 false。</p>
          <li data-md>
            <p>令 <var>globalObject</var> 为 null。</p>
          <li data-md>
            <p>令 <var>agent</var> 为<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#obtain-a-service-worker-agent"
                id="ref-for-obtain-a-service-worker-agent">获取服务工作者代理</a>的结果，并在此上下文中运行以下步骤：</p>
            <ol>
              <li data-md>
                <p>令 <var>realmExecutionContext</var> 为给定 <var>agent</var> 和以下自定义项<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm"
                    id="ref-for-creating-a-new-javascript-realm">创建新领域</a>的结果：
                </p>
                <ul>
                  <li data-md>
                    <p>对于全局对象，创建一个新的 <code
                        class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope②①">ServiceWorkerGlobalScope</a></code>
                      对象。令 <var>workerGlobalScope</var> 为创建的对象。</p>
                </ul>
              <li data-md>
                <p>令 <var>settingsObject</var> 为一个新的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                    id="ref-for-environment-settings-object②①">环境设置对象</a>，其算法定义如下：</p>
                <dl>
                  <dt data-md><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#realm-execution-context"
                      id="ref-for-realm-execution-context">领域执行上下文</a>
                  <dd data-md>
                    <p>返回 <var>realmExecutionContext</var>。</p>
                  <dt data-md><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-module-map"
                      id="ref-for-concept-settings-object-module-map">模块映射</a>
                  <dd data-md>
                    <p>返回 <var>workerGlobalScope</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-module-map"
                        id="ref-for-concept-workerglobalscope-module-map">模块映射</a>。</p>
                  <dt data-md><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"
                      id="ref-for-api-base-url⑤">API 基本 URL</a>
                  <dd data-md>
                    <p>返回 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-script-url"
                        id="ref-for-dfn-script-url⑦">脚本 URL</a>。</p>
                  <dt data-md><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                      id="ref-for-concept-settings-object-origin①⑤">源</a>
                  <dd data-md>
                    <p>返回其注册的<a data-link-type="dfn" href="#dfn-service-worker-client"
                        id="ref-for-dfn-service-worker-client④②">服务工作者客户端</a>的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                        id="ref-for-concept-settings-object-origin①⑥">源</a>。</p>
                  <dt data-md><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-policy-container"
                      id="ref-for-concept-settings-object-policy-container">策略容器</a>
                  <dd data-md>
                    <p>返回 <var>workerGlobalScope</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-policy-container"
                        id="ref-for-concept-workerglobalscope-policy-container">策略容器</a>。</p>
                  <dt data-md><a data-link-type="dfn"
                      href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"
                      id="ref-for-concept-settings-object-time-origin">时间源</a>
                  <dd data-md>
                    <p>返回给定 <var>workerGlobalScope</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-cross-origin-isolated-capability"
                        id="ref-for-concept-workerglobalscope-cross-origin-isolated-capability">跨源隔离能力</a><a
                        data-link-type="dfn" href="https://www.w3.org/TR/hr-time-3/#dfn-coarsen-time"
                        id="ref-for-dfn-coarsen-time">粗化</a>
                      <var>unsafeCreationTime</var> 的结果。
                    </p>
                </dl>
              <li data-md>
                <p>将 <var>settingsObject</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id"
                    id="ref-for-concept-environment-id②">id</a> 设置为一个新的唯一不透明字符串，将 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                    id="ref-for-concept-environment-creation-url⑧">创建 URL</a> 设置为
                  <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-script-url"
                    id="ref-for-dfn-script-url⑧">脚本 URL</a>，将 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url"
                    id="ref-for-concept-environment-top-level-creation-url">顶级创建 URL</a> 设置为 null，将
                  <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin"
                    id="ref-for-concept-environment-top-level-origin">顶级源</a> 设置为一个<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#implementation-defined"
                    id="ref-for-implementation-defined">实现定义</a>的值，将 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context"
                    id="ref-for-concept-environment-target-browsing-context①">目标浏览上下文</a> 设置为
                  null，并将 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                    id="ref-for-concept-environment-active-service-worker②⑤">活动服务工作者</a> 设置为 null。
                </p>
              <li data-md>
                <p>将 <var>workerGlobalScope</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-url"
                    id="ref-for-concept-workerglobalscope-url">URL</a> 设置为 <var>serviceWorker</var>
                  的
                  <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url⑨">脚本
                    URL</a>。
                </p>
              <li data-md>
                <p>将 <var>workerGlobalScope</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-policy-container"
                    id="ref-for-concept-workerglobalscope-policy-container①">策略容器</a> 设置为
                  <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-script-resource"
                    id="ref-for-dfn-script-resource⑥">脚本资源</a>的 <a data-link-type="dfn" href="#dfn-policy-container"
                    id="ref-for-dfn-policy-container①">策略容器</a>。
                </p>
              <li data-md>
                <p>将 <var>workerGlobalScope</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-type"
                    id="ref-for-concept-workerglobalscope-type">类型</a> 设置为
                  <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-type" id="ref-for-dfn-type⑤">类型</a>。
                </p>
              <li data-md>
                <p>创建一个新的 <code
                    class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workerlocation" id="ref-for-workerlocation">WorkerLocation</a></code>
                  对象并将其与 <var>workerGlobalScope</var> 关联。</p>
              <li data-md>
                <p>如果<a data-link-type="dfn" href="https://www.w3.org/TR/CSP3/#run-global-object-csp-initialization"
                    id="ref-for-run-global-object-csp-initialization">为全局对象运行 CSP 初始化</a>算法在
                  <var>workerGlobalScope</var> 上执行时返回“<code>Blocked</code>”，则将 <var>setupFailed</var>
                  设置为 true 并中止这些步骤。
                </p>
              <li data-md>
                <p>将 <var>globalObject</var> 设置为 <var>workerGlobalScope</var>。</p>
            </ol>
          <li data-md>
            <p>等待 <var>globalObject</var> 不为 null，或者 <var>setupFailed</var> 为 true。</p>
          <li data-md>
            <p>如果 <var>setupFailed</var> 为 true，则返回 null。</p>
          <li data-md>
            <p>返回 <var>globalObject</var>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="运行服务工作者">
        <h3 class="heading settled" id="run-service-worker-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="run-service-worker">运行服务工作者</dfn></span><a class="self-link"
            href="#run-service-worker-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>serviceWorker</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker⑨⑨">服务工作者</a></p>
          <dd data-md>
            <p><var>forceBypassCache</var>，一个可选布尔值，默认为 false</p>
          <dt data-md>输出
          <dd data-md>
            <p>一个 <a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-completion-record-specification-type"
                id="ref-for-sec-completion-record-specification-type②">完成记录</a>或<em>失败</em>
            </p>
        </dl>
        <p class="note" role="note"><span class="marker">注意：</span>此算法将阻塞，直到服务工作者<a data-link-type="dfn"
            href="#service-worker-running" id="ref-for-service-worker-running①">正在运行</a>或启动失败。</p>
        <ol>
          <li data-md>
            <p>如果 <var>serviceWorker</var> <a data-link-type="dfn" href="#service-worker-running"
                id="ref-for-service-worker-running②">正在运行</a>，则返回 <var>serviceWorker</var> 的
              <a data-link-type="dfn" href="#service-worker-start-status"
                id="ref-for-service-worker-start-status①">启动状态</a>。
            </p>
          <li data-md>
            <p>如果 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-state"
                id="ref-for-dfn-state⑨">状态</a>为“<code>冗余</code>”，则返回<em>失败</em>。
            </p>
          <li data-md>
            <p class="assertion">断言：<var>serviceWorker</var> 的 <a data-link-type="dfn"
                href="#service-worker-start-status" id="ref-for-service-worker-start-status②">启动状态</a>为
              null。</p>
          <li data-md>
            <p>令 <var>script</var> 为 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-script-resource"
                id="ref-for-dfn-script-resource⑦">脚本资源</a>。</p>
          <li data-md>
            <p class="assertion">断言：<var>script</var> 不为 null。</p>
          <li data-md>
            <p>令 <var>startFailed</var> 为 false。</p>
          <li data-md>
            <p>令 <var>workerGlobalScope</var> 为 <var>serviceWorker</var> 的 <a data-link-type="dfn"
                href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object⑥">全局对象</a>。</p>
          <li data-md>
            <p>如果 <var>workerGlobalScope</var> 为 null：</p>
            <ol>
              <li data-md>
                <p>将 <var>workerGlobalScope</var> 设置为使用 <var>serviceWorker</var> 运行 <a data-link-type="dfn"
                    href="#setup-serviceworkerglobalscope" id="ref-for-setup-serviceworkerglobalscope">设置
                    ServiceWorkerGlobalScope</a>
                  算法的结果。</p>
              <li data-md>
                <p>如果 <var>workerGlobalScope</var> 为 null，则返回<em>失败</em>。</p>
              <li data-md>
                <p>将 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-service-worker-global-object"
                    id="ref-for-dfn-service-worker-global-object⑦">全局对象</a>设置为
                  <var>workerGlobalScope</var>。
                </p>
            </ol>
          <li data-md>
            <p>获取 <var>workerGlobalScope</var> 的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#realm-execution-context"
                id="ref-for-realm-execution-context①">领域执行上下文</a>的代理，并在此上下文中运行以下步骤：</p>
            <ol>
              <li data-md>
                <p>如果 <var>forceBypassCache</var> 为 true，则设置 <var>workerGlobalScope</var> 的 <a data-link-type="dfn"
                    href="#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag"
                    id="ref-for-serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag①">导入脚本强制绕过缓存标志</a>。
                </p>
              <li data-md>
                <p>如果 <var>serviceWorker</var> 是一个 <a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker③④">活动工作者</a>，并且在 <var>serviceWorker</var> 的 <a data-link-type="dfn"
                    href="#dfn-containing-service-worker-registration"
                    id="ref-for-dfn-containing-service-worker-registration①⑥">包含的服务工作者注册</a>的 <a data-link-type="dfn"
                    href="#dfn-service-worker-registration-task-queue"
                    id="ref-for-dfn-service-worker-registration-task-queue②">任务队列</a>中有任何<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                    id="ref-for-concept-task⑤">任务</a>排队，则使用其原始<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                    id="ref-for-task-source⑤">任务源</a>将它们以相同顺序<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                    id="ref-for-queue-a-task③②">排队</a>到 <var>serviceWorker</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                    id="ref-for-event-loop①②">事件循环</a>的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue"
                    id="ref-for-task-queue③">任务队列</a>。
                </p>
              <li data-md>
                <p>令 <var>evaluationStatus</var> 为 null。</p>
              <li data-md>
                <p>如果 <var>script</var> 是一个<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#classic-script"
                    id="ref-for-classic-script">经典脚本</a>，则：</p>
                <ol>
                  <li data-md>
                    <p>将 <var>evaluationStatus</var> 设置为<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#run-a-classic-script"
                        id="ref-for-run-a-classic-script">运行经典脚本</a>
                      <var>script</var> 的结果。
                    </p>
                  <li data-md>
                    <p>如果 <var>evaluationStatus</var>.[[Value]] 为空，这意味着脚本未被评估。将
                      <var>startFailed</var> 设置为 true 并中止这些步骤。
                    </p>
                </ol>
              <li data-md>
                <p>否则，如果 <var>script</var> 是一个<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#module-script"
                    id="ref-for-module-script">模块脚本</a>，则：</p>
                <ol>
                  <li data-md>
                    <p>令 <var>evaluationPromise</var> 为<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#run-a-module-script"
                        id="ref-for-run-a-module-script">运行模块脚本</a>
                      <var>script</var> 的结果，并将报告错误设置为 false。
                    </p>
                  <li data-md>
                    <p class="assertion">断言：<var>evaluationPromise</var>.[[PromiseState]]
                      不为“pending”。</p>
                  <li data-md>
                    <p>如果 <var>evaluationPromise</var>.[[PromiseState]] 为“rejected”：</p>
                    <ol>
                      <li data-md>
                        <p>将 <var>evaluationStatus</var> 设置为 <a data-link-type="abstract-op"
                            href="http://tc39.github.io/ecma262/#sec-throwcompletion"
                            id="ref-for-sec-throwcompletion">ThrowCompletion</a>(<var>evaluationPromise</var>.[[PromiseResult]])。
                        </p>
                    </ol>
                  <li data-md>
                    <p>否则：</p>
                    <ol>
                      <li data-md>
                        <p>将 <var>evaluationStatus</var> 设置为 <a data-link-type="abstract-op"
                            href="http://tc39.github.io/ecma262/#sec-normalcompletion"
                            id="ref-for-sec-normalcompletion">NormalCompletion</a>(undefined)。
                        </p>
                    </ol>
                </ol>
              <li data-md>
                <p>如果脚本被<a data-link-type="dfn" href="#terminate-service-worker"
                    id="ref-for-terminate-service-worker⑤">终止服务工作者</a>算法中止，则将 <var>startFailed</var>
                  设置为 true 并中止这些步骤。</p>
              <li data-md>
                <p>将 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#service-worker-start-status"
                    id="ref-for-service-worker-start-status③">启动状态</a>设置为
                  <var>evaluationStatus</var>。
                </p>
              <li data-md>
                <p>如果 <var>script</var> 的 <a data-link-type="dfn" href="#dfn-has-ever-been-evaluated-flag"
                    id="ref-for-dfn-has-ever-been-evaluated-flag">曾经被评估标志</a>未设置，则：</p>
                <ol>
                  <li data-md>
                    <p>对于 <var>settingsObject</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
                        id="ref-for-concept-settings-object-global①⓪">全局对象</a>的关联<a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-event-listener"
                        id="ref-for-concept-event-listener①">事件侦听器</a>列表的每个 <var>eventType</var>
                      事件类型：
                    </p>
                    <ol>
                      <li data-md>
                        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                            id="ref-for-set-append②">追加</a> <var>eventType</var> 到
                          <var>workerGlobalScope</var> 的关联 <a data-link-type="dfn"
                            href="#serviceworkerglobalscope-service-worker"
                            id="ref-for-serviceworkerglobalscope-service-worker②⑤">服务工作者</a>的
                          <a data-link-type="dfn" href="#dfn-set-of-event-types-to-handle"
                            id="ref-for-dfn-set-of-event-types-to-handle①">要处理的事件类型集</a>。
                        </p>
                    </ol>
                    <p class="note" role="note"><span class="marker">注意：</span>如果全局对象的关联事件侦听器列表此时没有任何添加的事件侦听器，则服务工作者的<a
                        data-link-type="dfn" href="#dfn-set-of-event-types-to-handle"
                        id="ref-for-dfn-set-of-event-types-to-handle②">要处理的事件类型集</a>仍然是一个空集。</p>
                  <li data-md>
                    <p>设置 <var>script</var> 的 <a data-link-type="dfn" href="#dfn-has-ever-been-evaluated-flag"
                        id="ref-for-dfn-has-ever-been-evaluated-flag①">曾经被评估标志</a>。</p>
                  <li data-md>
                    <p>取消设置 <var>serviceWorker</var> 的 <a data-link-type="dfn"
                        href="#service-worker-all-fetch-listeners-are-empty-flag"
                        id="ref-for-service-worker-all-fetch-listeners-are-empty-flag">所有 fetch
                        侦听器均为空标志</a>。</p>
                  <li data-md>
                    <p>如果使用 <var>workerGlobalScope</var> 的<a data-link-type="dfn" href="#all-fetch-listeners-are-empty"
                        id="ref-for-all-fetch-listeners-are-empty">所有 Fetch 侦听器均为空</a>算法返回
                      true，则用户代理可以设置 <var>serviceWorker</var> 的 <a data-link-type="dfn"
                        href="#service-worker-all-fetch-listeners-are-empty-flag"
                        id="ref-for-service-worker-all-fetch-listeners-are-empty-flag①">所有 fetch
                        侦听器均为空标志</a>。
                    </p>
                </ol>
              <li data-md>
                <p>运行由 <var>settingsObject</var> 指定的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                    id="ref-for-responsible-event-loop①⑦">负责的事件循环</a>，直到它被销毁。
                </p>
              <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-clear" id="ref-for-map-clear">清除</a>
                  <var>workerGlobalScope</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#map-of-active-timers"
                    id="ref-for-map-of-active-timers">活动计时器映射</a>。
                </p>
            </ol>
          <li data-md>
            <p>等待 <var>serviceWorker</var> <a data-link-type="dfn" href="#service-worker-running"
                id="ref-for-service-worker-running③">正在运行</a>，或者 <var>startFailed</var> 为 true。
            </p>
          <li data-md>
            <p>如果 <var>startFailed</var> 为 true，则返回<em>失败</em>。</p>
          <li data-md>
            <p>返回 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#service-worker-start-status"
                id="ref-for-service-worker-start-status④">启动状态</a>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="所有 Fetch 侦听器均为空">
        <h3 class="heading settled" id="all-fetch-listeners-are-empty-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-noexport id="all-fetch-listeners-are-empty">所有
              Fetch 侦听器均为空</dfn></span><a class="self-link" href="#all-fetch-listeners-are-empty-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>workerGlobalScope</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker-global-object"
                id="ref-for-dfn-service-worker-global-object⑧">全局对象</a>。</p>
          <dt data-md>输出
          <dd data-md>
            <p>一个布尔值</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果 <var>workerGlobalScope</var> 的 <a data-link-type="dfn" href="#dfn-set-of-event-types-to-handle"
                id="ref-for-dfn-set-of-event-types-to-handle③">要处理的事件类型集</a>不<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain②">包含</a>
              <code>fetch</code>，则返回 true。
            </p>
          <li data-md>
            <p>令 <var>eventHandler</var> 为 <var>workerGlobalScope</var> 的 <a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-map"
                id="ref-for-event-handler-map">事件处理程序映射</a>["onfetch"] 的值。</p>
          <li data-md>
            <p>令 <var>eventListenerCallbacks</var> 为给定 <var>workerGlobalScope</var> 调用<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#legacy-obtain-service-worker-fetch-event-listener-callbacks"
                id="ref-for-legacy-obtain-service-worker-fetch-event-listener-callbacks">旧版获取服务工作者 fetch
                事件侦听器回调</a>的结果。
            </p>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                id="ref-for-list-iterate①⑥">对于</a> <var>eventListenerCallbacks</var> 中的每个
              <var>eventListenerCallback</var>：
            </p>
            <ol>
              <li data-md>
                <p>令 <var>callback</var> 为 null。</p>
              <li data-md>
                <p>如果 <var>eventHandler</var> 不为 null 且 <var>eventListenerCallback</var> 等于
                  <var>eventHandler</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-listener"
                    id="ref-for-event-handler-listener">侦听器</a>的 <a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#event-listener-callback"
                    id="ref-for-event-listener-callback">回调</a>，则将 <var>callback</var> 设置为<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-javascript-value"
                    id="ref-for-dfn-convert-idl-to-javascript-value">转换为 ECMAScript 值</a>
                  <var>eventHandler</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-value"
                    id="ref-for-event-handler-value">值</a>的结果。
                </p>
              <li data-md>
                <p>否则，将 <var>callback</var> 设置为<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-javascript-value"
                    id="ref-for-dfn-convert-idl-to-javascript-value①">转换为 ECMAScript 值</a>
                  <var>eventListenerCallback</var> 的结果。
                </p>
              <li data-md>
                <p>如果 <a data-link-type="abstract-op" href="http://tc39.github.io/ecma262/#sec-iscallable"
                    id="ref-for-sec-iscallable">IsCallable</a>(<var>callback</var>) 为 false，则返回
                  false。</p>
                <p class="note" role="note"><span class="marker">注意：</span>使用 <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventlistener-handleevent" id="ref-for-dom-eventlistener-handleevent">handleEvent(event)</a></code>
                  的<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#event-listener-callback"
                    id="ref-for-event-listener-callback①">回调</a>对象假定为非空。这避免了调用 <code
                    class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventlistener-handleevent" id="ref-for-dom-eventlistener-handleevent①">handleEvent(event)</a></code>
                  的 getter，这可能会在此检查期间修改事件侦听器。</p>
              <li data-md>
                <p>如果 <var>callback</var> 的 <a data-link-type="dfn"
                    href="http://tc39.github.io/ecma262/#prod-FunctionBody"
                    id="ref-for-prod-FunctionBody">函数体</a>不为空（即存在<a data-link-type="dfn"
                    href="http://tc39.github.io/ecma262/#sec-ecmascript-language-statements-and-declarations"
                    id="ref-for-sec-ecmascript-language-statements-and-declarations">语句</a>或<a data-link-type="dfn"
                    data-refhint-key="4bf6be53"
                    href="http://tc39.github.io/ecma262/#sec-ecmascript-language-statements-and-declarations"
                    id="ref-for-sec-ecmascript-language-statements-and-declarations①">声明</a>），则返回
                  false。</p>
            </ol>
            <p class="note" role="note"><span class="marker">注意：</span>这将检测像 <code>() => {}</code>
              这样的“<code>fetch</code>”侦听器。一些站点具有带有空主体的 fetch 事件侦听器，以使其被 Chromium 识别为渐进式 Web 应用程序 (PWA)。</p>
          <li data-md>
            <p>返回 true。</p>
        </ol>
        <p class="note" role="note"><span
            class="marker">注意：</span>鼓励用户代理显示警告，指出空的“<code>fetch</code>”侦听器是不必要的，并且可能会对性能产生负面影响。</p>
      </section>
      <section class="algorithm" data-algorithm="终止服务工作者">
        <h3 class="heading settled" id="terminate-service-worker-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-noexport id="terminate-service-worker">终止服务工作者</dfn></span><a
            class="self-link" href="#terminate-service-worker-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>serviceWorker</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①⓪⓪">服务工作者</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>与 <var>serviceWorker</var> 的主循环<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                id="ref-for-in-parallel③②">并行</a>运行以下步骤：
            </p>
            <ol>
              <li data-md>
                <p>令 <var>serviceWorkerGlobalScope</var> 为 <var>serviceWorker</var> 的 <a data-link-type="dfn"
                    href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object⑨">全局对象</a>。
                </p>
              <li data-md>
                <p>将 <var>serviceWorkerGlobalScope</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-closing"
                    id="ref-for-dom-workerglobalscope-closing">关闭</a>标志设置为 true。</p>
              <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                    id="ref-for-list-remove">移除</a> <var>serviceWorker</var> 的 <a data-link-type="dfn"
                    href="#dfn-set-of-extended-events" id="ref-for-dfn-set-of-extended-events">扩展事件集</a>中的所有<a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item"
                    id="ref-for-list-item①⓪">项目</a>。
                </p>
              <li data-md>
                <p>如果在 <var>serviceWorkerGlobalScope</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                    id="ref-for-event-loop①③">事件循环</a>的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue"
                    id="ref-for-task-queue④">任务队列</a>中排队了任何<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                    id="ref-for-concept-task⑥">任务</a>，其<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                    id="ref-for-task-source⑥">任务源</a>是<a data-link-type="dfn" href="#dfn-handle-fetch-task-source"
                    id="ref-for-dfn-handle-fetch-task-source①">处理 fetch 任务源</a>或<a data-link-type="dfn"
                    href="#dfn-handle-functional-event-task-source"
                    id="ref-for-dfn-handle-functional-event-task-source①">处理功能事件任务源</a>，则使用其原始<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                    id="ref-for-task-source⑦">任务源</a>将它们以相同顺序<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                    id="ref-for-queue-a-task③③">排队</a>到 <var>serviceWorker</var> 的 <a data-link-type="dfn"
                    href="#dfn-containing-service-worker-registration"
                    id="ref-for-dfn-containing-service-worker-registration①⑦">包含的服务工作者注册</a>的相应<a data-link-type="dfn"
                    href="#dfn-service-worker-registration-task-queue"
                    id="ref-for-dfn-service-worker-registration-task-queue③">任务队列</a>，并从
                  <var>serviceWorkerGlobalScope</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                    id="ref-for-event-loop①④">事件循环</a>的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue"
                    id="ref-for-task-queue⑤">任务队列</a>中丢弃所有<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                    id="ref-for-concept-task⑦">任务</a>（包括<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                    id="ref-for-concept-task⑧">任务</a>，其<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source"
                    id="ref-for-task-source⑧">任务源</a>既不是<a data-link-type="dfn" href="#dfn-handle-fetch-task-source"
                    id="ref-for-dfn-handle-fetch-task-source②">处理 fetch 任务源</a>也不是<a data-link-type="dfn"
                    href="#dfn-handle-functional-event-task-source"
                    id="ref-for-dfn-handle-functional-event-task-source②">处理功能事件任务源</a>）而不处理它们。
                </p>
                <p class="note" role="note"><span class="marker">注意：</span>这实际上意味着 fetch
                  事件和其他功能事件（如推送事件）由注册的任务队列备份，而其他任务（包括消息事件）则被丢弃。</p>
              <li data-md>
                <p><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#abort-a-running-script"
                    id="ref-for-abort-a-running-script">中止</a>当前在 <var>serviceWorker</var> 中运行的脚本。
                </p>
              <li data-md>
                <p>将 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#service-worker-start-status"
                    id="ref-for-service-worker-start-status⑤">启动状态</a>设置为 null。</p>
            </ol>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="处理 Fetch">
        <h3 class="heading settled" id="on-fetch-request-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-export id="handle-fetch">处理
              Fetch</dfn></span><a class="self-link" href="#on-fetch-request-algorithm"></a></h3>
        <p><a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch⑦">处理 Fetch</a> 算法是<a
            data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch"
            id="ref-for-concept-fetch①③">获取</a>处理的入口点，该处理移交给<a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker①⓪①">服务工作者</a>上下文。</p>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>request</var>，一个 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request"
                id="ref-for-concept-request⑦">请求</a></p>
          <dd data-md>
            <p><var>fetchController</var>，一个 <a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#fetch-controller" id="ref-for-fetch-controller①">获取控制器</a></p>
          <dd data-md>
            <p><var>useHighResPerformanceTimers</var>，一个布尔值</p>
          <dt data-md>输出
          <dd data-md>
            <p>一个 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response①⓪">响应</a></p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>registration</var> 为 null。</p>
          <li data-md>
            <p>令 <var>client</var> 为 <var>request</var> 的 <a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-request-client"
                id="ref-for-concept-request-client③">客户端</a>。</p>
          <li data-md>
            <p>令 <var>reservedClient</var> 为 <var>request</var> 的 <a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-request-reserved-client"
                id="ref-for-concept-request-reserved-client">保留客户端</a>。</p>
          <li data-md>
            <p>令 <var>preloadResponse</var> 为一个新的 <a data-link-type="dfn"
                href="http://tc39.github.io/ecma262/#sec-promise-objects"
                id="ref-for-sec-promise-objects③①">promise</a>。</p>
          <li data-md>
            <p>令 <var>workerRealm</var> 为 null。</p>
          <li data-md>
            <p>令 <var>timingInfo</var> 为一个新的 <a data-link-type="dfn" href="#service-worker-timing-info"
                id="ref-for-service-worker-timing-info">服务工作者计时信息</a>。</p>
          <li data-md>
            <p class="assertion">断言：<var>request</var> 的 <a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-request-destination"
                id="ref-for-concept-request-destination②">目标</a>不是
              "<code>serviceworker</code>"。</p>
          <li data-md>
            <p>如果 <var>request</var> 的 <a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-request-destination"
                id="ref-for-concept-request-destination③">目标</a>是 "<code>embed</code>"
              或 "<code>object</code>"，则：</p>
            <ol>
              <li data-md>
                <p>返回 null。</p>
            </ol>
          <li data-md>
            <p>否则，如果 <var>request</var> 是一个<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#non-subresource-request"
                id="ref-for-non-subresource-request">非子资源请求</a>，则：</p>
            <ol>
              <li data-md>
                <p>如果 <var>reservedClient</var> 不为 null 并且是一个<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                    id="ref-for-environment-settings-object②②">环境设置对象</a>，
                  则：</p>
                <ol>
                  <li data-md>
                    <p>如果 <var>reservedClient</var> 不是一个<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                        id="ref-for-secure-context④">安全上下文</a>，则返回 null。</p>
                </ol>
              <li data-md>
                <p>否则：</p>
                <ol>
                  <li data-md>
                    <p>如果 <var>request</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request-url"
                        id="ref-for-concept-request-url⑧">URL</a> 不是一个<a data-link-type="dfn"
                        href="https://www.w3.org/TR/secure-contexts/#potentially-trustworthy-url"
                        id="ref-for-potentially-trustworthy-url">潜在可信 URL</a>，则返回 null。</p>
                </ol>
              <li data-md>
                <p>如果 <var>request</var> 是一个<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#navigation-request"
                    id="ref-for-navigation-request">导航请求</a>，并且触发它的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"
                    id="ref-for-navigate⑥">导航</a>是以 shift+reload 或等效方式启动的，则返回 null。</p>
              <li data-md>
                <p><a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-algorithm-conventions"
                    id="ref-for-sec-algorithm-conventions">断言</a> <var>reservedClient</var>
                  不为 null。</p>
              <li data-md>
                <p>令 <var>storage key</var> 为给定 <var>reservedClient</var> 运行<a data-link-type="dfn"
                    href="https://storage.spec.whatwg.org/#obtain-a-storage-key"
                    id="ref-for-obtain-a-storage-key①⓪">获取存储密钥</a>的结果。
                </p>
              <li data-md>
                <p>将 <var>registration</var> 设置为给定 <var>storage key</var> 和 <var>request</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑨">URL</a>
                  运行<a data-link-type="dfn" href="#match-service-worker-registration"
                    id="ref-for-match-service-worker-registration⑦">匹配服务工作者注册</a>的结果。</p>
              <li data-md>
                <p>如果 <var>registration</var> 为 null 或 <var>registration</var> 的 <a data-link-type="dfn"
                    href="#dfn-active-worker" id="ref-for-dfn-active-worker③⑤">活动工作者</a>为 null，则返回
                  null。</p>
              <li data-md>
                <p>如果 <var>request</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-destination"
                    id="ref-for-concept-request-destination④">目标</a>不是 <code
                    class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-requestdestination-report" id="ref-for-dom-requestdestination-report">"report"</a></code>，
                  则将 <var>reservedClient</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                    id="ref-for-concept-environment-active-service-worker②⑥">活动服务工作者</a>设置为
                  <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker③⑥">活动工作者</a>。
                </p>
            </ol>
            <p class="note" role="note"><span class="marker">注意：</span>从这一点开始，<a data-link-type="dfn"
                href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④③">服务工作者客户端</a>开始<a
                data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use④">使用</a>其<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                id="ref-for-concept-environment-active-service-worker②⑦">活动服务工作者</a>的<a data-link-type="dfn"
                href="#dfn-containing-service-worker-registration"
                id="ref-for-dfn-containing-service-worker-registration①⑧">包含的服务工作者注册</a>。</p>
          <li data-md>
            <p>否则，如果 <var>request</var> 是一个<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#subresource-request" id="ref-for-subresource-request">子资源请求</a>，则：
            </p>
            <ol>
              <li data-md>
                <p>如果 <var>client</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                    id="ref-for-concept-environment-active-service-worker②⑧">活动服务工作者</a>不为 null，则将
                  <var>registration</var> 设置为 <var>client</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                    id="ref-for-concept-environment-active-service-worker②⑨">活动服务工作者</a>的 <a data-link-type="dfn"
                    href="#dfn-containing-service-worker-registration"
                    id="ref-for-dfn-containing-service-worker-registration①⑨">包含的服务工作者注册</a>。
                </p>
              <li data-md>
                <p>否则，返回 null。</p>
            </ol>
          <li data-md>
            <p>令 <var>activeWorker</var> 为 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker③⑦">活动工作者</a>。</p>
          <li data-md>
            <p>如果以下任一情况为真，则令 <var>shouldSoftUpdate</var> 为 true，否则为 false：</p>
            <ul>
              <li data-md>
                <p><var>request</var> 是一个<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#non-subresource-request"
                    id="ref-for-non-subresource-request①">非子资源请求</a>。</p>
              <li data-md>
                <p><var>request</var> 是一个<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#subresource-request"
                    id="ref-for-subresource-request①">子资源请求</a>，并且
                  <var>registration</var> <a data-link-type="dfn" href="#service-worker-registration-stale"
                    id="ref-for-service-worker-registration-stale③">过时</a>。
                </p>
            </ul>
          <li data-md>
            <p>如果 <var>activeWorker</var> 的 <a data-link-type="dfn" href="#service-worker-list-of-router-rules"
                id="ref-for-service-worker-list-of-router-rules②">路由器规则列表</a><a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">不为空</a>：
            </p>
            <ol>
              <li data-md>
                <p>令 <var>source</var> 为使用 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker③⑧">活动工作者</a>和
                  <var>request</var> 运行<a data-link-type="dfn" href="#get-router-source"
                    id="ref-for-get-router-source">获取路由器源</a>算法的结果。
                </p>
              <li data-md>
                <p>如果 <var>source</var> 是 <code
                    class="idl"><a data-link-type="idl" href="#dom-routersourceenum-network" id="ref-for-dom-routersourceenum-network">"network"</a></code>：
                </p>
                <ol>
                  <li data-md>
                    <p>如果 <var>shouldSoftUpdate</var> 为 true，则<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                        id="ref-for-in-parallel③③">并行</a>运行<a data-link-type="dfn" href="#soft-update"
                        id="ref-for-soft-update①">软更新</a>算法，参数为
                      <var>registration</var>。
                    </p>
                  <li data-md>
                    <p>返回 null。</p>
                </ol>
              <li data-md>
                <p>否则，如果 <var>source</var> 是 <code
                    class="idl"><a data-link-type="idl" href="#dom-routersourceenum-cache" id="ref-for-dom-routersourceenum-cache">"cache"</a></code>，
                  或者 <var>source</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routersourcedict-cachename" id="ref-for-dom-routersourcedict-cachename">cacheName</a></code>"]
                  <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                    id="ref-for-map-exists⑦">存在</a>，则：
                </p>
                <ol>
                  <li data-md>
                    <p>如果 <var>shouldSoftUpdate</var> 为 true，则<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                        id="ref-for-in-parallel③④">并行</a>运行<a data-link-type="dfn" href="#soft-update"
                        id="ref-for-soft-update②">软更新</a>算法，参数为
                      <var>registration</var>。
                    </p>
                  <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                        id="ref-for-map-iterate⑥">对于</a> <var>registration</var> 的 <a data-link-type="dfn"
                        href="#service-worker-registration-storage-key"
                        id="ref-for-service-worker-registration-storage-key①③">存储密钥</a>的
                      <a data-link-type="dfn" href="#dfn-name-to-cache-map"
                        id="ref-for-dfn-name-to-cache-map⑥">名称到缓存映射</a>中的每个 <var>cacheName</var>
                      →
                      <var>cache</var>。
                    </p>
                    <ol>
                      <li data-md>
                        <p>如果 <var>source</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-routersourcedict-cachename" id="ref-for-dom-routersourcedict-cachename①">cacheName</a></code>"]
                          <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                            id="ref-for-map-exists⑧">存在</a>且 <var>source</var>["<code
                            class="idl"><a data-link-type="idl" href="#dom-routersourcedict-cachename" id="ref-for-dom-routersourcedict-cachename②">cacheName</a></code>"]
                          <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is"
                            id="ref-for-string-is">不是</a> <var>cacheName</var>，则<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#iteration-continue"
                            id="ref-for-iteration-continue⑨">继续</a>。
                        </p>
                      <li data-md>
                        <p>令 <var>requestResponses</var> 为使用 <var>request</var>、一个新的 <code
                            class="idl"><a data-link-type="idl" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions⑥">CacheQueryOptions</a></code>
                          和
                          <var>cache</var> 运行<a data-link-type="dfn" href="#query-cache"
                            id="ref-for-query-cache②">查询缓存</a>的结果。
                        </p>
                      <li data-md>
                        <p>如果 <var>requestResponses</var> 是一个空的<a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list" id="ref-for-list②③">列表</a>，则返回 null。</p>
                      <li data-md>
                        <p>否则：</p>
                        <ol>
                          <li data-md>
                            <p>令 <var>requestResponse</var> 为 <var>requestResponses</var>
                              的第一个元素。
                            </p>
                          <li data-md>
                            <p>令 <var>response</var> 为 <var>requestResponse</var> 的响应。</p>
                          <li data-md>
                            <p>令 <var>globalObject</var> 为 <var>activeWorker</var> 的 <a data-link-type="dfn"
                                href="#dfn-service-worker-global-object"
                                id="ref-for-dfn-service-worker-global-object①⓪">全局对象</a>。
                            </p>
                          <li data-md>
                            <p>如果 <var>globalObject</var> 为 null：</p>
                            <ol>
                              <li data-md>
                                <p>将 <var>globalObject</var> 设置为使用
                                  <var>activeWorker</var> 运行<a data-link-type="dfn"
                                    href="#setup-serviceworkerglobalscope"
                                    id="ref-for-setup-serviceworkerglobalscope①">设置
                                    ServiceWorkerGlobalScope</a>的结果。
                                </p>
                            </ol>
                          <li data-md>
                            <p>如果 <var>globalObject</var> 为 null，则返回 null。</p>
                        </ol>
                        <p class="note" role="note"><span class="marker">注意：</span>这仅创建一个
                          ServiceWorkerGlobalScope，因为 CORS 检查需要它。预计实现不会在此处实际创建
                          ServiceWorkerGlobalScope。</p>
                        <ol>
                          <li data-md>
                            <p>如果 <var>response</var> 的 <a data-link-type="dfn"
                                href="https://fetch.spec.whatwg.org/#concept-response-type"
                                id="ref-for-concept-response-type③">类型</a>是
                              "<code>opaque</code>"，并且使用 <var>globalObject</var> 的
                              <a data-link-type="dfn"
                                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                                id="ref-for-concept-settings-object-origin①⑦">源</a>、
                              <var>globalObject</var>、"" 和 <var>response</var> 的 <a data-link-type="dfn"
                                href="https://fetch.spec.whatwg.org/#concept-internal-response"
                                id="ref-for-concept-internal-response①">内部响应</a>进行<a data-link-type="dfn"
                                href="https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check"
                                id="ref-for-cross-origin-resource-policy-check①">跨源资源策略检查</a>返回<b>已阻止</b>，则返回
                              null。
                            </p>
                          <li data-md>
                            <p>返回 <var>response</var>。</p>
                        </ol>
                    </ol>
                  <li data-md>
                    <p>返回 null。</p>
                </ol>
              <li data-md>
                <p>否则，如果 <var>source</var> 是 <code
                    class="idl"><a data-link-type="idl" href="#dom-routersourceenum-race-network-and-fetch-handler" id="ref-for-dom-routersourceenum-race-network-and-fetch-handler②">"race-network-and-fetch-handler"</a></code>，
                  并且 <var>request</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-method"
                    id="ref-for-concept-request-method⑤">方法</a>是 `<code>GET</code>`，则：</p>
                <ol>
                  <li data-md>
                    <p>如果 <var>shouldSoftUpdate</var> 为 true，则<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                        id="ref-for-in-parallel③⑤">并行</a>运行<a data-link-type="dfn" href="#soft-update"
                        id="ref-for-soft-update③">软更新</a>算法，参数为
                      <var>registration</var>。
                    </p>
                  <li data-md>
                    <p>令 <var>queue</var> 为一个空的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue"
                        id="ref-for-queue①">队列</a>，其中包含<a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①①">响应</a>。
                    </p>
                  <li data-md>
                    <p>令 <var>raceFetchController</var> 为 null。</p>
                  <li data-md>
                    <p>令 <var>raceResponse</var> 为一个<a data-link-type="dfn" href="#dfn-race-response"
                        id="ref-for-dfn-race-response①">竞争响应</a>，其<a data-link-type="dfn" href="#race-response-value"
                        id="ref-for-race-response-value">值</a>为 "<code>pending</code>"。
                    </p>
                  <li data-md>
                    <p><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                        id="ref-for-in-parallel③⑥">并行</a>运行以下子步骤，但当 <var>fetchController</var> 的
                      <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-state"
                        id="ref-for-fetch-controller-state">状态</a>为
                      "<code>terminated</code>" 或 "<code>aborted</code>" 时<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#abort-when" id="ref-for-abort-when">中止</a>：
                    </p>
                    <ol>
                      <li data-md>
                        <p>将 <var>raceFetchController</var> 设置为给定 <var>request</var> 调用<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①④">获取</a>的结果，
                          并将<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response"
                            id="ref-for-process-response②">processResponse</a>
                          设置为以下步骤，给定一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                            id="ref-for-concept-response①②">响应</a>
                          <var>raceNetworkRequestResponse</var>：
                        </p>
                        <ol>
                          <li data-md>
                            <p>如果 <var>raceNetworkRequestResponse</var> 的 <a data-link-type="dfn"
                                href="https://fetch.spec.whatwg.org/#concept-response-status"
                                id="ref-for-concept-response-status③">状态</a>是<a data-link-type="dfn"
                                href="https://fetch.spec.whatwg.org/#ok-status" id="ref-for-ok-status②">正常状态</a>，则：</p>
                            <ol>
                              <li data-md>
                                <p>将 <var>raceResponse</var> 的 <a data-link-type="dfn" href="#race-response-value"
                                    id="ref-for-race-response-value①">值</a>设置为
                                  <var>raceNetworkRequestResponse</var>。
                                </p>
                              <li data-md>
                                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-enqueue"
                                    id="ref-for-queue-enqueue③">将</a>
                                  <var>raceNetworkRequestResponse</var> 入队到
                                  <var>queue</var>。
                                </p>
                            </ol>
                          <li data-md>
                            <p>否则，将 <var>raceResponse</var> 的 <a data-link-type="dfn" href="#race-response-value"
                                id="ref-for-race-response-value②">值</a>设置为一个<a data-link-type="dfn"
                                href="https://fetch.spec.whatwg.org/#concept-network-error"
                                id="ref-for-concept-network-error⑦">网络错误</a>。
                            </p>
                        </ol>
                    </ol>
                  <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#if-aborted"
                        id="ref-for-if-aborted">如果中止</a>且
                      <var>raceFetchController</var> 不为 null，则：
                    </p>
                    <ol>
                      <li data-md>
                        <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-abort"
                            id="ref-for-fetch-controller-abort②">中止</a>
                          <var>raceFetchController</var>。
                        </p>
                      <li data-md>
                        <p>将 <var>raceResponse</var> 设置为一个<a data-link-type="dfn" href="#dfn-race-response"
                            id="ref-for-dfn-race-response②">竞争响应</a>，其<a data-link-type="dfn"
                            href="#race-response-value" id="ref-for-race-response-value③">值</a>为 null。</p>
                    </ol>
                  <li data-md>
                    <p>用 undefined 解析 <var>preloadResponse</var>。</p>
                  <li data-md>
                    <p><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                        id="ref-for-in-parallel③⑦">并行</a>运行以下子步骤：</p>
                    <ol>
                      <li data-md>
                        <p>令 <var>fetchHandlerResponse</var> 为使用 <var>request</var>、
                          <var>registration</var>、<var>useHighResPerformanceTimers</var>、
                          <var>timingInfo</var>、<var>workerRealm</var>、
                          <var>reservedClient</var>、<var>preloadResponse</var> 和
                          <var>raceResponse</var> <a data-link-type="dfn" href="#create-fetch-event-and-dispatch"
                            id="ref-for-create-fetch-event-and-dispatch">创建 Fetch
                            事件并分派</a>的结果。
                        </p>
                      <li data-md>
                        <p>如果 <var>fetchHandlerResponse</var> 不为 null 且不是一个<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-network-error"
                            id="ref-for-concept-network-error⑧">网络错误</a>，并且
                          <var>raceFetchController</var> 不为 null，则<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#fetch-controller-abort"
                            id="ref-for-fetch-controller-abort③">中止</a>
                          <var>raceFetchController</var>。
                        </p>
                      <li data-md>
                        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-enqueue"
                            id="ref-for-queue-enqueue④">将</a>
                          <var>fetchHandlerResponse</var> 入队到 <var>queue</var>。
                        </p>
                    </ol>
                  <li data-md>
                    <p>等待直到 <var>queue</var> 不为空。</p>
                  <li data-md>
                    <p>返回<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-dequeue"
                        id="ref-for-queue-dequeue①">出队</a> <var>queue</var> 的结果。</p>
                </ol>
              <li data-md>
                <p class="assertion">断言：<var>source</var> 是 "<code
                    class="idl"><a data-link-type="idl" href="#dom-routersourceenum-fetch-event" id="ref-for-dom-routersourceenum-fetch-event①">fetch-event</a></code>"
                </p>
            </ol>
          <li data-md>
            <p>如果 <var>request</var> 是一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#navigation-request"
                id="ref-for-navigation-request①">导航请求</a>，<var>registration</var> 的 <a data-link-type="dfn"
                href="#service-worker-registration-navigation-preload-enabled-flag"
                id="ref-for-service-worker-registration-navigation-preload-enabled-flag③">导航预加载启用标志</a>已设置，<var>request</var>
              的 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method"
                id="ref-for-concept-request-method⑥">方法</a>是 `<code>GET</code>`，
              <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker③⑨">活动工作者</a>的 <a data-link-type="dfn"
                href="#dfn-set-of-event-types-to-handle" id="ref-for-dfn-set-of-event-types-to-handle④">要处理的事件类型集</a><a
                data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                id="ref-for-list-contain③">包含</a>
              <code>fetch</code>，并且
              <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker④⓪">活动工作者</a>的 <a data-link-type="dfn"
                href="#service-worker-all-fetch-listeners-are-empty-flag"
                id="ref-for-service-worker-all-fetch-listeners-are-empty-flag②">所有 fetch
                侦听器均为空标志</a>未设置，则：
            </p>
            <p class="note" role="note"><span class="marker">注意：</span>如果上述情况为真，只是 <var>registration</var> 的
              <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④①">活动工作者</a>的 <a
                data-link-type="dfn" href="#dfn-set-of-event-types-to-handle"
                id="ref-for-dfn-set-of-event-types-to-handle⑤">要处理的事件类型集</a><strong>不</strong>包含
              <code>fetch</code>，则用户代理可能希望显示控制台警告，因为开发人员的意图尚不清楚。
            </p>
            <ol>
              <li data-md>
                <p>令 <var>preloadRequest</var> 为<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-clone"
                    id="ref-for-concept-request-clone">克隆</a>请求 <var>request</var> 的结果。
                </p>
              <li data-md>
                <p>令 <var>preloadRequestHeaders</var> 为 <var>preloadRequest</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-header-list"
                    id="ref-for-concept-request-header-list①">标头列表</a>。</p>
              <li data-md>
                <p>令 <var>preloadResponseObject</var> 为一个新的 <code
                    class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①④">Response</a></code>
                  对象，与一个新的 <code
                    class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers②">Headers</a></code>
                  对象关联，其<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-headers-guard"
                    id="ref-for-concept-headers-guard②">守卫</a>为 "<code>immutable</code>"。</p>
              <li data-md>
                <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-append"
                    id="ref-for-concept-header-list-append">追加</a>到
                  <var>preloadRequestHeaders</var> 一个新的<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header②">标头</a>，其<a
                    data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-name"
                    id="ref-for-concept-header-name②">名称</a>为
                  `<code>Service-Worker-Navigation-Preload</code>`，<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-header-value" id="ref-for-concept-header-value">值</a>为
                  <var>registration</var> 的 <a data-link-type="dfn"
                    href="#service-worker-registration-navigation-preload-header-value"
                    id="ref-for-service-worker-registration-navigation-preload-header-value②">导航预加载标头值</a>。
                </p>
              <li data-md>
                <p>将 <var>preloadRequest</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#request-service-workers-mode"
                    id="ref-for-request-service-workers-mode③">服务工作者模式</a>设置为
                  "<code>none</code>"。</p>
              <li data-md>
                <p>令 <var>preloadFetchController</var> 为 null。</p>
              <li data-md>
                <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel③⑧">并行</a>运行以下子步骤，但当 <var>fetchController</var> 的 <a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#fetch-controller-state"
                    id="ref-for-fetch-controller-state①">状态</a>为 "<code>terminated</code>" 或
                  "<code>aborted</code>" 时<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#abort-when"
                    id="ref-for-abort-when①">中止</a>：</p>
                <ol>
                  <li data-md>
                    <p>将 <var>preloadFetchController</var> 设置为<a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①⑤">获取</a>
                      <var>preloadRequest</var> 的结果。
                    </p>
                    <p>对于 <var>navigationPreloadResponse</var>，要<a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#process-response"
                        id="ref-for-process-response③">处理响应</a>，请运行以下子步骤：
                    </p>
                    <ol>
                      <li data-md>
                        <p>如果 <var>navigationPreloadResponse</var> 的 <a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-response-type"
                            id="ref-for-concept-response-type④">类型</a>是
                          "<code>error</code>"，则用 <code>TypeError</code> 拒绝
                          <var>preloadResponse</var> 并终止这些子步骤。
                        </p>
                      <li data-md>
                        <p>将 <var>preloadResponseObject</var> 与
                          <var>navigationPreloadResponse</var> 关联。
                        </p>
                      <li data-md>
                        <p>用 <var>preloadResponseObject</var> 解析 <var>preloadResponse</var>。
                        </p>
                    </ol>
                </ol>
              <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#if-aborted"
                    id="ref-for-if-aborted①">如果中止</a>，则：</p>
                <ol>
                  <li data-md>
                    <p>令 <var>deserializedError</var> 为给定 null 和 <var>workerRealm</var> <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#deserialize-a-serialized-abort-reason"
                        id="ref-for-deserialize-a-serialized-abort-reason">反序列化序列化中止原因</a>的结果。
                    </p>
                  <li data-md>
                    <p>用 <var>deserializedError</var> <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#fetch-controller-abort"
                        id="ref-for-fetch-controller-abort④">中止</a>
                      <var>preloadFetchController</var>。
                    </p>
                </ol>
            </ol>
          <li data-md>
            <p>否则，用 undefined 解析 <var>preloadResponse</var>。</p>
          <li data-md>
            <p>返回使用 <var>request</var>、<var>registration</var>、<var>useHighResPerformanceTimers</var>、
              <var>timingInfo</var>、<var>workerRealm</var>、<var>reservedClient</var>、
              <var>preloadResponse</var> 和 null <a data-link-type="dfn" href="#create-fetch-event-and-dispatch"
                id="ref-for-create-fetch-event-and-dispatch①">创建
                Fetch 事件并分派</a>的结果。
            </p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="创建 Fetch 事件并分派">
        <h3 class="heading settled" id="create-fetch-event-and-dispatch-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-fetch-event-and-dispatch">创建 Fetch
              事件并分派</dfn></span><a class="self-link" href="#create-fetch-event-and-dispatch-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>request</var>，一个 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request"
                id="ref-for-concept-request⑧">请求</a></p>
          <dd data-md>
            <p><var>registration</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑤⑦">服务工作者注册</a></p>
          <dd data-md>
            <p><var>useHighResPerformanceTimers</var>，一个布尔值</p>
          <dd data-md>
            <p><var>timingInfo</var>，一个 <a data-link-type="dfn" href="#service-worker-timing-info"
                id="ref-for-service-worker-timing-info①">服务工作者计时信息</a></p>
          <dd data-md>
            <p><var>workerRealm</var>，<a data-link-type="dfn" href="#dfn-service-worker-global-object"
                id="ref-for-dfn-service-worker-global-object①①">全局对象</a>的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                id="ref-for-concept-relevant-realm⑨">相关领域</a></p>
          <dd data-md>
            <p><var>reservedClient</var>，一个 <a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-request-reserved-client"
                id="ref-for-concept-request-reserved-client①">保留客户端</a></p>
          <dd data-md>
            <p><var>preloadResponse</var>，一个 <a data-link-type="dfn"
                href="http://tc39.github.io/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects③②">promise</a>
            </p>
          <dd data-md>
            <p><var>raceResponse</var>，一个 <a data-link-type="dfn" href="#dfn-race-response"
                id="ref-for-dfn-race-response③">竞争响应</a>或 null</p>
          <dt data-md>输出
          <dd data-md>
            <p>一个 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response①③">响应</a></p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>response</var> 为 null。</p>
          <li data-md>
            <p>令 <var>eventCanceled</var> 为 false。</p>
          <li data-md>
            <p>令 <var>client</var> 为 <var>request</var> 的 <a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-request-client"
                id="ref-for-concept-request-client④">客户端</a>。</p>
          <li data-md>
            <p>令 <var>activeWorker</var> 为 <var>registration</var> 的 <a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker④②">活动工作者</a>。</p>
          <li data-md>
            <p>令 <var>eventHandled</var> 为 null。</p>
          <li data-md>
            <p>令 <var>handleFetchFailed</var> 为 false。</p>
          <li data-md>
            <p>令 <var>respondWithEntered</var> 为 false。</p>
          <li data-md>
            <p>如果以下任一情况为真，则令 <var>shouldSoftUpdate</var> 为 true，否则为 false：</p>
            <ul>
              <li data-md>
                <p><var>request</var> 是一个<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#non-subresource-request"
                    id="ref-for-non-subresource-request②">非子资源请求</a>。</p>
              <li data-md>
                <p><var>request</var> 是一个<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#subresource-request"
                    id="ref-for-subresource-request②">子资源请求</a>，并且
                  <var>registration</var> <a data-link-type="dfn" href="#service-worker-registration-stale"
                    id="ref-for-service-worker-registration-stale④">过时</a>。
                </p>
            </ul>
          <li data-md>
            <p>如果使用 "fetch" 和 <var>activeWorker</var> 运行<a data-link-type="dfn" href="#should-skip-event"
                id="ref-for-should-skip-event③">应该跳过事件</a>算法的结果为 true，则：
            </p>
            <ol>
              <li data-md>
                <p>如果 <var>shouldSoftUpdate</var> 为 true，则<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel③⑨">并行</a>运行<a data-link-type="dfn" href="#soft-update"
                    id="ref-for-soft-update④">软更新</a>算法，参数为
                  <var>registration</var>。
                </p>
              <li data-md>
                <p>返回 null。</p>
            </ol>
          <li data-md>
            <p>如果 <var>activeWorker</var> 的 <a data-link-type="dfn"
                href="#service-worker-all-fetch-listeners-are-empty-flag"
                id="ref-for-service-worker-all-fetch-listeners-are-empty-flag③">所有 fetch
                侦听器均为空标志</a>已设置：</p>
            <ol>
              <li data-md>
                <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel④⓪">并行</a>：</p>
                <ol>
                  <li data-md>
                    <p>如果 <var>activeWorker</var> 的 <a data-link-type="dfn" href="#dfn-state"
                        id="ref-for-dfn-state①⓪">状态</a>为 "activating"，则等待
                      <var>activeWorker</var> 的 <a data-link-type="dfn" href="#dfn-state"
                        id="ref-for-dfn-state①①">状态</a>变为 "activated"。
                    </p>
                  <li data-md>
                    <p>使用 <var>activeWorker</var> 运行<a data-link-type="dfn" href="#run-service-worker"
                        id="ref-for-run-service-worker⑦">运行服务工作者</a>算法。
                    </p>
                  <li data-md>
                    <p>如果 <var>shouldSoftUpdate</var> 为 true，则使用 <var>registration</var> 运行<a data-link-type="dfn"
                        href="#soft-update" id="ref-for-soft-update⑤">软更新</a>算法。</p>
                </ol>
              <li data-md>
                <p>返回 null。</p>
            </ol>
          <li data-md>
            <p>如果 <var>useHighResPerformanceTimers</var> 为 true，则将
              <var>useHighResPerformanceTimers</var> 设置为 <var>activeWorker</var> 的 <a data-link-type="dfn"
                href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①②">全局对象</a>的 <a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-cross-origin-isolated-capability"
                id="ref-for-concept-workerglobalscope-cross-origin-isolated-capability①">跨源隔离能力</a>。
            </p>
          <li data-md>
            <p>令 <var>timingInfo</var> 的 <a data-link-type="dfn" href="#service-worker-timing-info-start-time"
                id="ref-for-service-worker-timing-info-start-time">开始时间</a>为给定
              <var>useHighResPerformanceTimers</var> 的<a data-link-type="dfn"
                href="https://www.w3.org/TR/hr-time-3/#dfn-coarsened-shared-current-time"
                id="ref-for-dfn-coarsened-shared-current-time">粗略共享当前时间</a>。
            </p>
          <li data-md>
            <p>如果 <var>activeWorker</var> 的 <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①②">状态</a>为
              "<code>activating</code>"，则等待
              <var>activeWorker</var> 的 <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①③">状态</a>变为
              "<code>activated</code>"。
            </p>
          <li data-md>
            <p>如果使用 <var>activeWorker</var> 运行<a data-link-type="dfn" href="#run-service-worker"
                id="ref-for-run-service-worker⑧">运行服务工作者</a>算法的结果为<em>失败</em>，则将
              <var>handleFetchFailed</var> 设置为 true。
            </p>
          <li data-md>
            <p>否则：</p>
            <ol>
              <li data-md>
                <p>将 <var>workerRealm</var> 设置为 <var>activeWorker</var> 的 <a data-link-type="dfn"
                    href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①③">全局对象</a>的<a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                    id="ref-for-concept-relevant-realm①⓪">相关领域</a>。
                </p>
              <li data-md>
                <p>将 <var>eventHandled</var> 设置为 <var>workerRealm</var> 中的<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②⓪">一个新的 promise</a>。
                </p>
              <li data-md>
                <p>如果 <var>raceResponse</var> 不为 null，则<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③">设置</a>
                  <var>activeWorker</var> 的 <a data-link-type="dfn" href="#dfn-service-worker-global-object"
                    id="ref-for-dfn-service-worker-global-object①④">全局对象</a>的 <a data-link-type="dfn"
                    href="#serviceworkerglobalscope-race-response-map"
                    id="ref-for-serviceworkerglobalscope-race-response-map">竞争响应映射</a>[<var>request</var>]
                  为 <var>raceResponse</var>。
                </p>
              <li data-md>
                <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                    id="ref-for-queue-a-task③④">将任务</a> <var>task</var> 排队以运行以下子步骤：</p>
                <ol>
                  <li data-md>
                    <p>令 <var>e</var> 为使用 <code
                        class="idl"><a data-link-type="idl" href="#fetchevent" id="ref-for-fetchevent④">FetchEvent</a></code>
                      <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create"
                        id="ref-for-concept-event-create④">创建事件</a>的结果。
                    </p>
                  <li data-md>
                    <p>令 <var>abortController</var> 为 <var>workerRealm</var> 中的一个<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#new" id="ref-for-new">新的</a>
                      <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller">AbortController</a></code>
                      对象。
                    </p>
                  <li data-md>
                    <p>令 <var>requestObject</var> 为给定 <var>request</var>、一个新的 <code
                        class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers③">Headers</a></code>
                      对象的<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-headers-guard"
                        id="ref-for-concept-headers-guard③">守卫</a>（为
                      "<code>immutable</code>"）、<var>abortController</var> 的 <a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#abortcontroller-signal"
                        id="ref-for-abortcontroller-signal">信号</a>和
                      <var>workerRealm</var> <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#request-create" id="ref-for-request-create">创建</a>一个 <code
                        class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①④">Request</a></code>
                      对象的结果。
                    </p>
                  <li data-md>
                    <p>将 <var>e</var> 的 <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type②">type</a></code>
                      属性初始化为 <code
                        class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event⑦">fetch</a></code>。
                    </p>
                  <li data-md>
                    <p>将 <var>e</var> 的 <code
                        class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-cancelable" id="ref-for-dom-event-cancelable">cancelable</a></code>
                      属性初始化为 true。</p>
                  <li data-md>
                    <p>将 <var>e</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-fetchevent-request" id="ref-for-dom-fetchevent-request②">request</a></code>
                      属性初始化为 <var>requestObject</var>。</p>
                  <li data-md>
                    <p>将 <var>e</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-fetchevent-preloadresponse" id="ref-for-dom-fetchevent-preloadresponse②">preloadResponse</a></code>
                      初始化为 <var>preloadResponse</var>。</p>
                  <li data-md>
                    <p>将 <var>e</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-fetchevent-clientid" id="ref-for-dom-fetchevent-clientid②">clientId</a></code>
                      属性初始化为 <var>client</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id"
                        id="ref-for-concept-environment-id③">id</a>。</p>
                  <li data-md>
                    <p>如果 <var>request</var> 是一个<a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#non-subresource-request"
                        id="ref-for-non-subresource-request③">非子资源请求</a>，并且
                      <var>request</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request-destination"
                        id="ref-for-concept-request-destination⑤">目标</a>不是 <code
                        class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-requestdestination-report" id="ref-for-dom-requestdestination-report①">"report"</a></code>，
                      则将 <var>e</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-fetchevent-resultingclientid" id="ref-for-dom-fetchevent-resultingclientid②">resultingClientId</a></code>
                      属性初始化为 <var>reservedClient</var> 的 <a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id"
                        id="ref-for-concept-environment-id④">id</a>，否则初始化为空字符串。
                    </p>
                  <li data-md>
                    <p>如果 <var>request</var> 是一个<a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#navigation-request"
                        id="ref-for-navigation-request②">导航请求</a>，则将
                      <var>e</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-fetchevent-replacesclientid" id="ref-for-dom-fetchevent-replacesclientid②">replacesClientId</a></code>
                      属性初始化为 <var>request</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request-replaces-client-id"
                        id="ref-for-concept-request-replaces-client-id">替换客户端 ID</a>，
                      否则初始化为空字符串。
                    </p>
                  <li data-md>
                    <p>将 <var>e</var> 的 <code
                        class="idl"><a data-link-type="idl" href="#dom-fetchevent-handled" id="ref-for-dom-fetchevent-handled②">handled</a></code>
                      初始化为 <var>eventHandled</var>。</p>
                  <li data-md>
                    <p>令 <var>timingInfo</var> 的 <a data-link-type="dfn"
                        href="#service-worker-timing-info-fetch-event-dispatch-time"
                        id="ref-for-service-worker-timing-info-fetch-event-dispatch-time">fetch
                        事件分派时间</a>为给定 <var>useHighResPerformanceTimers</var> 的<a data-link-type="dfn"
                        href="https://www.w3.org/TR/hr-time-3/#dfn-coarsened-shared-current-time"
                        id="ref-for-dfn-coarsened-shared-current-time①">粗略共享当前时间</a>。</p>
                  <li data-md>
                    <p>在 <var>activeWorker</var> 的 <a data-link-type="dfn" href="#dfn-service-worker-global-object"
                        id="ref-for-dfn-service-worker-global-object①⑤">全局对象</a>处<a data-link-type="dfn"
                        href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                        id="ref-for-concept-event-dispatch⑥">分派</a> <var>e</var>。
                    </p>
                  <li data-md>
                    <p>使用 <var>activeWorker</var> 和 <var>e</var> 调用<a data-link-type="dfn"
                        href="#update-service-worker-extended-events-set"
                        id="ref-for-update-service-worker-extended-events-set①">更新服务工作者扩展事件集</a>。
                    </p>
                  <li data-md>
                    <p>如果 <var>e</var> 的 <a data-link-type="dfn" href="#fetchevent-respond-with-entered-flag"
                        id="ref-for-fetchevent-respond-with-entered-flag②">respond-with entered
                        标志</a>已设置，则将 <var>respondWithEntered</var> 设置为 true。</p>
                  <li data-md>
                    <p>如果 <var>e</var> 的 <a data-link-type="dfn" href="#fetchevent-wait-to-respond-flag"
                        id="ref-for-fetchevent-wait-to-respond-flag③">wait to respond
                        标志</a>已设置，则：</p>
                    <ol>
                      <li data-md>
                        <p>等待直到 <var>e</var> 的 <a data-link-type="dfn" href="#fetchevent-wait-to-respond-flag"
                            id="ref-for-fetchevent-wait-to-respond-flag④">wait to respond
                            标志</a>未设置。</p>
                      <li data-md>
                        <p>如果 <var>e</var> 的 <a data-link-type="dfn" href="#fetchevent-respond-with-error-flag"
                            id="ref-for-fetchevent-respond-with-error-flag③">respond-with
                            error 标志</a>已设置，则将 <var>handleFetchFailed</var> 设置为 true。
                        </p>
                      <li data-md>
                        <p>否则，将 <var>response</var> 设置为 <var>e</var> 的 <a data-link-type="dfn"
                            href="#fetchevent-potential-response" id="ref-for-fetchevent-potential-response①">潜在响应</a>。
                        </p>
                    </ol>
                  <li data-md>
                    <p>如果 <var>response</var> 为 null，<var>request</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request-body"
                        id="ref-for-concept-request-body">主体</a>不为 null，并且
                      <var>request</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request-body"
                        id="ref-for-concept-request-body①">主体</a>的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-body-source"
                        id="ref-for-concept-body-source">源</a>为 null，则：
                    </p>
                    <ol>
                      <li data-md>
                        <p>如果 <var>request</var> 的 <a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-body"
                            id="ref-for-concept-request-body②">主体</a><a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#body-unusable" id="ref-for-body-unusable">不可用</a>，则将
                          <var>handleFetchFailed</var> 设置为 true。
                        </p>
                      <li data-md>
                        <p>否则，使用 undefined <a data-link-type="dfn"
                            href="https://streams.spec.whatwg.org/#readablestream-cancel"
                            id="ref-for-readablestream-cancel">取消</a>
                          <var>request</var> 的 <a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-body"
                            id="ref-for-concept-request-body③">主体</a>。
                        </p>
                    </ol>
                  <li data-md>
                    <p>如果 <var>response</var> 不为 null，则将 <var>response</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#response-service-worker-timing-info"
                        id="ref-for-response-service-worker-timing-info">服务工作者计时信息</a>设置为
                      <var>timingInfo</var>。
                    </p>
                  <li data-md>
                    <p>如果 <var>e</var> 的 <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#canceled-flag"
                        id="ref-for-canceled-flag">canceled 标志</a>已设置，则将
                      <var>eventCanceled</var> 设置为 true。
                    </p>
                  <li data-md>
                    <p>如果 <var>fetchController</var> <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#fetch-controller-state"
                        id="ref-for-fetch-controller-state②">状态</a>为
                      "<code>terminated</code>" 或 "<code>aborted</code>"，则：</p>
                    <ol>
                      <li data-md>
                        <p>令 <var>deserializedError</var> 为给定 <var>fetchController</var> 的
                          <a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#fetch-controller-serialized-abort-reason"
                            id="ref-for-fetch-controller-serialized-abort-reason">序列化中止原因</a>和
                          <var>workerRealm</var> <a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#deserialize-a-serialized-abort-reason"
                            id="ref-for-deserialize-a-serialized-abort-reason①">反序列化序列化中止原因</a>的结果。
                        </p>
                      <li data-md>
                        <p><a data-link-type="dfn"
                            href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                            id="ref-for-queue-a-task③⑤">将任务排队</a>以使用
                          <var>deserializedError</var> 在 <var>abortController</var> 上<a data-link-type="dfn"
                            href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort"
                            id="ref-for-abortcontroller-signal-abort">发出中止信号</a>。
                        </p>
                    </ol>
                </ol>
                <p>如果 <var>task</var> 被丢弃，则将 <var>handleFetchFailed</var> 设置为 true。</p>
                <p><var>task</var> <em>必须</em>使用 <var>activeWorker</var> 的 <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                    id="ref-for-event-loop①⑤">事件循环</a>和<a data-link-type="dfn" href="#dfn-handle-fetch-task-source"
                    id="ref-for-dfn-handle-fetch-task-source③">处理 fetch 任务源</a>。</p>
            </ol>
          <li data-md>
            <p>等待 <var>task</var> 执行完毕或 <var>handleFetchFailed</var> 为 true。</p>
          <li data-md>
            <p>如果 <var>shouldSoftUpdate</var> 为 true，则<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                id="ref-for-in-parallel④①">并行</a>运行<a data-link-type="dfn" href="#soft-update"
                id="ref-for-soft-update⑥">软更新</a>算法，参数为
              <var>registration</var>。
            </p>
          <li data-md>
            <p>如果 <var>activeWorker</var> 的 <a data-link-type="dfn" href="#dfn-service-worker-global-object"
                id="ref-for-dfn-service-worker-global-object①⑥">全局对象</a>的 <a data-link-type="dfn"
                href="#serviceworkerglobalscope-race-response-map"
                id="ref-for-serviceworkerglobalscope-race-response-map①">竞争响应映射</a>[<var>request</var>]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists⑨">存在</a>，则<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove⑤">移除</a>
              <var>activeWorker</var> 的 <a data-link-type="dfn" href="#dfn-service-worker-global-object"
                id="ref-for-dfn-service-worker-global-object①⑦">全局对象</a>的 <a data-link-type="dfn"
                href="#serviceworkerglobalscope-race-response-map"
                id="ref-for-serviceworkerglobalscope-race-response-map②">竞争响应映射</a>[<var>request</var>]。
            </p>
          <li data-md>
            <p>如果 <var>respondWithEntered</var> 为 false，则：</p>
            <ol>
              <li data-md>
                <p>如果 <var>eventCanceled</var> 为 true，则：</p>
                <ol>
                  <li data-md>
                    <p>如果 <var>eventHandled</var> 不为 null，则在 <var>workerRealm</var> 中使用 "<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#networkerror" id="ref-for-networkerror">NetworkError</a></code>"
                      <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②①">DOMException</a></code>
                      <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">拒绝</a>
                      <var>eventHandled</var>。
                    </p>
                  <li data-md>
                    <p>返回一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error"
                        id="ref-for-concept-network-error⑨">网络错误</a>。</p>
                </ol>
              <li data-md>
                <p>如果 <var>eventHandled</var> 不为 null，则<a data-link-type="dfn"
                    href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">解析</a>
                  <var>eventHandled</var>。
                </p>
              <li data-md>
                <p>如果 <var>raceResponse</var> 的 <a data-link-type="dfn" href="#race-response-value"
                    id="ref-for-race-response-value④">值</a>不为 null，则：</p>
                <ol>
                  <li data-md>
                    <p>等待直到 <var>raceResponse</var> 的 <a data-link-type="dfn" href="#race-response-value"
                        id="ref-for-race-response-value⑤">值</a>不是
                      "<code>pending</code>"。</p>
                  <li data-md>
                    <p>如果 <var>raceResponse</var> 的 <a data-link-type="dfn" href="#race-response-value"
                        id="ref-for-race-response-value⑥">值</a>是一个<a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-response"
                        id="ref-for-concept-response①④">响应</a>，则返回
                      <var>raceResponse</var> 的 <a data-link-type="dfn" href="#race-response-value"
                        id="ref-for-race-response-value⑦">值</a>。
                    </p>
                </ol>
              <li data-md>
                <p>返回 null。</p>
            </ol>
          <li data-md>
            <p>如果 <var>handleFetchFailed</var> 为 true，则：</p>
            <ol>
              <li data-md>
                <p>如果 <var>eventHandled</var> 不为 null，则在 <var>workerRealm</var> 中使用 "<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#networkerror" id="ref-for-networkerror①">NetworkError</a></code>"
                  <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②②">DOMException</a></code>
                  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">拒绝</a>
                  <var>eventHandled</var>。
                </p>
              <li data-md>
                <p>返回一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error"
                    id="ref-for-concept-network-error①⓪">网络错误</a>。</p>
            </ol>
          <li data-md>
            <p>如果 <var>eventHandled</var> 不为 null，则<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">解析</a>
              <var>eventHandled</var>。
            </p>
          <li data-md>
            <p>返回 <var>response</var>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="解析 URL 模式">
        <h3 class="heading settled" id="parse-urlpattern-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="parse-url-pattern">解析 URL
              模式</dfn></span><a class="self-link" href="#parse-urlpattern-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>rawPattern</var>，一个 <code
                class="idl"><a data-link-type="idl" href="https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible" id="ref-for-typedefdef-urlpatterncompatible①">URLPatternCompatible</a></code>
            </p>
          <dd data-md>
            <p><var>serviceWorker</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①⓪②">服务工作者</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>一个 <a data-link-type="dfn" href="https://urlpattern.spec.whatwg.org/#url-pattern"
                id="ref-for-url-pattern">URL 模式</a></p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>baseURL</var> 为 <var>serviceWorker</var> 的 <a data-link-type="dfn" href="#dfn-script-url"
                id="ref-for-dfn-script-url①⓪">脚本 URL</a>。</p>
          <li data-md>
            <p>返回给定 <var>baseURL</var>，使用 <var>rawPattern</var> <a data-link-type="dfn"
                href="https://urlpattern.spec.whatwg.org/#build-a-url-pattern-from-a-web-idl-value"
                id="ref-for-build-a-url-pattern-from-a-web-idl-value">从 Web IDL 值构建 URL 模式</a>的结果。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="验证路由器条件">
        <h3 class="heading settled" id="verify-router-rule-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="verify-router-condition">验证路由器条件</dfn></span><a class="self-link"
            href="#verify-router-rule-algorithm"></a>
        </h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>condition</var>，一个 <code
                class="idl"><a data-link-type="idl" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition③">RouterCondition</a></code>
            </p>
          <dd data-md>
            <p><var>serviceWorker</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①⓪③">服务工作者</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>一个布尔值</p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>hasCondition</var> 为 false。</p>
          <li data-md>
            <p>如果 <var>condition</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-urlpattern" id="ref-for-dom-routercondition-urlpattern">urlPattern</a></code>"]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists①⓪">存在</a>，则：
            </p>
            <ol>
              <li data-md>
                <p>令 <var>rawPattern</var> 为 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-urlpattern" id="ref-for-dom-routercondition-urlpattern①">urlPattern</a></code>"]。
                </p>
              <li data-md>
                <p>令 <var>pattern</var> 为传递 <var>rawPattern</var> 和 <var>serviceWorker</var> 运行<a data-link-type="dfn"
                    href="#parse-url-pattern" id="ref-for-parse-url-pattern">解析
                    URL 模式</a>算法的结果。如果此操作抛出异常，则捕获该异常并返回 false。</p>
              <li data-md>
                <p>如果 <var>pattern</var> <a data-link-type="dfn"
                    href="https://urlpattern.spec.whatwg.org/#url-pattern-has-regexp-groups"
                    id="ref-for-url-pattern-has-regexp-groups">具有正则表达式组</a>，则返回
                  false。</p>
                <p class="note" role="note"><span class="marker">注意：</span>由于运行用户定义的正则表达式存在安全问题，因此禁止这样做。
                </p>
              <li data-md>
                <p>将 <var>hasCondition</var> 设置为 true。</p>
            </ol>
          <li data-md>
            <p>如果 <var>condition</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmethod" id="ref-for-dom-routercondition-requestmethod">requestMethod</a></code>"]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①①">存在</a>：
            </p>
            <ol>
              <li data-md>
                <p>令 <var>method</var> 为 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmethod" id="ref-for-dom-routercondition-requestmethod①">requestMethod</a></code>"]。
                </p>
              <li data-md>
                <p>如果 <var>method</var> 不是一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-method"
                    id="ref-for-concept-method">方法</a>，则返回 false。</p>
              <li data-md>
                <p>如果 <var>method</var> 是一个<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#forbidden-method" id="ref-for-forbidden-method">禁止的方法</a>，则返回
                  false。</p>
              <li data-md>
                <p>将 <var>hasCondition</var> 设置为 true。</p>
            </ol>
          <li data-md>
            <p>如果 <var>condition</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmode" id="ref-for-dom-routercondition-requestmode">requestMode</a></code>"]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists①②">存在</a>，则将 <var>hasCondition</var> 设置为 true。
            </p>
          <li data-md>
            <p>如果 <var>condition</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-requestdestination" id="ref-for-dom-routercondition-requestdestination">requestDestination</a></code>"]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists①③">存在</a>，则将 <var>hasCondition</var> 设置为 true。
            </p>
          <li data-md>
            <p>如果 <var>condition</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-runningstatus" id="ref-for-dom-routercondition-runningstatus">runningStatus</a></code>"]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists①④">存在</a>，则将 <var>hasCondition</var> 设置为 true。
            </p>
          <li data-md>
            <p>如果 <var>condition</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or">_or</a></code>"]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists①⑤">存在</a>，则：
            </p>
            <ol>
              <li data-md>
                <p>如果 <var>hasCondition</var> 为 true，则返回 false。</p>
                <p class="note" role="note"><span class="marker">注意：</span>为了便于理解路由器规则，"or" 条件与其他条件互斥。
                </p>
              <li data-md>
                <p>令 <var>orConditions</var> 为 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or①">_or</a></code>"]。
                </p>
              <li data-md>
                <p>对于 <var>orConditions</var> 中的每个 <var>orCondition</var>：</p>
                <ol>
                  <li data-md>
                    <p>如果使用 <var>orCondition</var> 和 <var>serviceWorker</var> 运行<a data-link-type="dfn"
                        href="#verify-router-condition" id="ref-for-verify-router-condition①">验证路由器条件</a>算法返回
                      false，则返回 false。</p>
                </ol>
              <li data-md>
                <p>将 <var>hasCondition</var> 设置为 true。</p>
            </ol>
          <li data-md>
            <p>如果 <var>condition</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not">not</a></code>"]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists①⑥">存在</a>，则：
            </p>
            <ol>
              <li data-md>
                <p>如果 <var>hasCondition</var> 为 true，则返回 false。</p>
                <p class="note" role="note"><span class="marker">注意：</span>为了便于理解路由器规则，"not" 条件与其他条件互斥。
                </p>
              <li data-md>
                <p>如果使用 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not①">not</a></code>"]
                  和 <var>serviceWorker</var> 运行<a data-link-type="dfn" href="#verify-router-condition"
                    id="ref-for-verify-router-condition②">验证路由器条件</a>算法返回 false，则返回 false。
                </p>
              <li data-md>
                <p>将 <var>hasCondition</var> 设置为 true。</p>
            </ol>
          <li data-md>
            <p>返回 <var>hasCondition</var>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="匹配路由器条件">
        <h3 class="heading settled" id="match-router-condition-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="match-router-condition">匹配路由器条件</dfn></span><a class="self-link"
            href="#match-router-condition-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>condition</var>，一个 <code
                class="idl"><a data-link-type="idl" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition④">RouterCondition</a></code>
            </p>
          <dd data-md>
            <p><var>serviceWorker</var>，一个 <a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①⓪④">服务工作者</a></p>
          <dd data-md>
            <p><var>request</var>，一个 <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request"
                id="ref-for-concept-request⑨">请求</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>一个布尔值</p>
        </dl>
        <p class="note" role="note"><span class="marker">注意：</span>如果存在多个条件（例如，设置了
          <code>urlPattern</code>、<code>runningStatus</code> 和 <code>requestMethod</code>），则所有条件都需要匹配才能返回
          true。
        </p>
        <ol>
          <li data-md>
            <p>如果 <var>condition</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or②">or</a></code>"]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists①⑦">存在</a>，则：
            </p>
            <ol>
              <li data-md>
                <p>令 <var>orConditions</var> 为 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or③">or</a></code>"]。
                </p>
              <li data-md>
                <p>对于 <var>orConditions</var> 中的每个 <var>orCondition</var>：</p>
                <ol>
                  <li data-md>
                    <p>如果使用 <var>orCondition</var>、<var>serviceWorker</var> 和 <var>request</var>
                      运行<a data-link-type="dfn" href="#match-router-condition"
                        id="ref-for-match-router-condition">匹配路由器条件</a>算法返回 true，则返回 true。</p>
                </ol>
              <li data-md>
                <p>返回 false。</p>
            </ol>
          <li data-md>
            <p>如果 <var>condition</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not②">not</a></code>"]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists①⑧">存在</a>，则：
            </p>
            <ol>
              <li data-md>
                <p>如果使用 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not③">not</a></code>"]、
                  <var>serviceWorker</var> 和 <var>request</var> 运行<a data-link-type="dfn" href="#match-router-condition"
                    id="ref-for-match-router-condition①">匹配路由器条件</a>算法返回 true，则返回 false。
                </p>
              <li data-md>
                <p>返回 true。</p>
            </ol>
          <li data-md>
            <p>否则：</p>
            <p class="note" role="note"><span class="marker">注意：</span><a data-link-type="dfn"
                href="#verify-router-condition" id="ref-for-verify-router-condition③">验证路由器条件</a>算法保证
              <code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or④">or</a></code>、
              <code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not④">not</a></code>
              和其他条件是互斥的。
            </p>
            <ol>
              <li data-md>
                <p>如果 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-urlpattern" id="ref-for-dom-routercondition-urlpattern②">urlPattern</a></code>"]
                  <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                    id="ref-for-map-exists①⑨">存在</a>，则：
                </p>
                <ol>
                  <li data-md>
                    <p>令 <var>rawPattern</var> 为 <var>condition</var>["<code
                        class="idl"><a data-link-type="idl" href="#dom-routercondition-urlpattern" id="ref-for-dom-routercondition-urlpattern③">urlPattern</a></code>"]。
                    </p>
                  <li data-md>
                    <p>令 <var>pattern</var> 为传递 <var>rawPattern</var> 和
                      <var>serviceWorker</var> 运行<a data-link-type="dfn" href="#parse-url-pattern"
                        id="ref-for-parse-url-pattern①">解析 URL
                        模式</a>算法的结果。
                    </p>
                  <li data-md>
                    <p>如果使用 <var>pattern</var> 和 <var>request</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request-url"
                        id="ref-for-concept-request-url①⓪">URL</a> 运行<a data-link-type="dfn"
                        href="https://urlpattern.spec.whatwg.org/#url-pattern-match"
                        id="ref-for-url-pattern-match">匹配</a>返回 null，则返回 false。
                    </p>
                </ol>
              <li data-md>
                <p>如果 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmethod" id="ref-for-dom-routercondition-requestmethod②">requestMethod</a></code>"]
                  <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                    id="ref-for-map-exists②⓪">存在</a>，则：
                </p>
                <ol>
                  <li data-md>
                    <p>令 <var>method</var> 为 <var>condition</var>["<code
                        class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmethod" id="ref-for-dom-routercondition-requestmethod③">requestMethod</a></code>"]。
                    </p>
                  <li data-md>
                    <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-method-normalize"
                        id="ref-for-concept-method-normalize">规范化</a> <var>method</var>。
                    </p>
                  <li data-md>
                    <p>如果 <var>request</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request-method"
                        id="ref-for-concept-request-method⑦">方法</a>不是
                      <var>method</var>，则返回 false。
                    </p>
                </ol>
              <li data-md>
                <p>如果 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmode" id="ref-for-dom-routercondition-requestmode①">requestMode</a></code>"]
                  <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                    id="ref-for-map-exists②①">存在</a>，则：
                </p>
                <ol>
                  <li data-md>
                    <p>令 <var>mode</var> 为 <var>condition</var>["<code
                        class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmode" id="ref-for-dom-routercondition-requestmode②">requestMode</a></code>"]。
                    </p>
                  <li data-md>
                    <p>如果 <var>request</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request-mode"
                        id="ref-for-concept-request-mode">模式</a>不是 <var>mode</var>，
                      则返回 false。</p>
                </ol>
              <li data-md>
                <p>如果 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-requestdestination" id="ref-for-dom-routercondition-requestdestination①">requestDestination</a></code>"]
                  <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                    id="ref-for-map-exists②②">存在</a>，则：
                </p>
                <ol>
                  <li data-md>
                    <p>令 <var>destination</var> 为 <var>condition</var>["<code
                        class="idl"><a data-link-type="idl" href="#dom-routercondition-requestdestination" id="ref-for-dom-routercondition-requestdestination②">requestDestination</a></code>"]。
                    </p>
                  <li data-md>
                    <p>如果 <var>request</var> 的 <a data-link-type="dfn"
                        href="https://fetch.spec.whatwg.org/#concept-request-destination"
                        id="ref-for-concept-request-destination⑥">目标</a>不是
                      <var>destination</var>，则返回 false。
                    </p>
                </ol>
              <li data-md>
                <p>如果 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-runningstatus" id="ref-for-dom-routercondition-runningstatus①">runningStatus</a></code>"]
                  <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                    id="ref-for-map-exists②③">存在</a>，则：
                </p>
                <ol>
                  <li data-md>
                    <p>令 <var>runningStatus</var> 为 <var>condition</var>["<code
                        class="idl"><a data-link-type="idl" href="#dom-routercondition-runningstatus" id="ref-for-dom-routercondition-runningstatus②">runningStatus</a></code>"]。
                    </p>
                  <li data-md>
                    <p>如果 <var>runningStatus</var> 是 <code
                        class="idl"><a data-link-type="idl" href="#dom-runningstatus-running" id="ref-for-dom-runningstatus-running">"running"</a></code>，
                      并且 <var>serviceWorker</var> 未<a data-link-type="dfn" href="#service-worker-running"
                        id="ref-for-service-worker-running④">运行</a>，则返回 false。</p>
                  <li data-md>
                    <p>如果 <var>runningStatus</var> 是 <code
                        class="idl"><a data-link-type="idl" href="#dom-runningstatus-not-running" id="ref-for-dom-runningstatus-not-running">"not-running"</a></code>，
                      并且 <var>serviceWorker</var> 正在<a data-link-type="dfn" href="#service-worker-running"
                        id="ref-for-service-worker-running⑤">运行</a>，则返回 false。</p>
                </ol>
              <li data-md>
                <p>返回 true。</p>
            </ol>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="检查路由器注册限制">
        <h3 class="heading settled" id="check-router-registration-limit-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-noexport
              id="check-router-registration-limit">检查路由器注册限制</dfn></span><a class="self-link"
            href="#check-router-registration-limit-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>routerRules</var>，一个<a data-link-type="dfn" href="#service-worker-list-of-router-rules"
                id="ref-for-service-worker-list-of-router-rules③">路由器规则列表</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>一个布尔值</p>
        </dl>
        <p class="note" role="note"><span class="marker">注意：</span>路由器条件可能很复杂，并且可以使用 <code
            class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or⑤">_or</a></code>
          和 <code
            class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not⑤">not</a></code>
          进行嵌套。
          为了防止过度处理，此算法引入了两个限制。首先，条件总数（计算所有嵌套条件）不能超过 1024。其次，嵌套深度限制为 10 级，以避免指数级计算。</p>
        <ol>
          <li data-md>
            <p>令 <var>result</var> 为一个<a data-link-type="dfn" href="#dfn-count-router-condition-result"
                id="ref-for-dfn-count-router-condition-result">计数路由器条件结果</a>。</p>
          <li data-md>
            <p>将 <var>result</var> 的<a data-link-type="dfn" href="#dfn-count-router-condition-result-condition-count"
                id="ref-for-dfn-count-router-condition-result-condition-count">条件计数</a>设置为
              1024。</p>
          <li data-md>
            <p>将 <var>result</var> 的<a data-link-type="dfn" href="#dfn-dfn-count-router-condition-result-quota-exceeded"
                id="ref-for-dfn-dfn-count-router-condition-result-quota-exceeded">超出配额</a>设置为
              false。</p>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                id="ref-for-list-iterate①⑦">对于</a> <var>routerRules</var> 中的每个 <var>rule</var>：</p>
            <ol>
              <li data-md>
                <p>将 <var>result</var> 设置为使用 <var>rule</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routerrule-condition" id="ref-for-dom-routerrule-condition①">condition</a></code>"]、
                  <var>result</var> 和 10 运行<a data-link-type="dfn" href="#count-router-inner-conditions"
                    id="ref-for-count-router-inner-conditions">计算路由器内部条件</a>的结果。
                </p>
              <li data-md>
                <p>如果 <var>result</var> 的<a data-link-type="dfn"
                    href="#dfn-dfn-count-router-condition-result-quota-exceeded"
                    id="ref-for-dfn-dfn-count-router-condition-result-quota-exceeded①">超出配额</a>为
                  true，则返回 false。</p>
            </ol>
          <li data-md>
            <p>返回 true。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="计算路由器内部条件">
        <h3 class="heading settled" id="count-router-inner-conditions-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-noexport
              id="count-router-inner-conditions">计算路由器内部条件</dfn></span><a class="self-link"
            href="#count-router-inner-conditions-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>condition</var>，一个 <code
                class="idl"><a data-link-type="idl" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition⑤">RouterCondition</a></code>
            </p>
          <dd data-md>
            <p><var>result</var>，一个<a data-link-type="dfn" href="#dfn-count-router-condition-result"
                id="ref-for-dfn-count-router-condition-result①">计数路由器条件结果</a></p>
          <dd data-md>
            <p><var>depth</var>，一个数字</p>
          <dt data-md>输出
          <dd data-md>
            <p><var>result</var>，一个<a data-link-type="dfn" href="#dfn-count-router-condition-result"
                id="ref-for-dfn-count-router-condition-result②">计数路由器条件结果</a></p>
        </dl>
        <ol>
          <li data-md>
            <p>将 <var>result</var> 的<a data-link-type="dfn" href="#dfn-count-router-condition-result-condition-count"
                id="ref-for-dfn-count-router-condition-result-condition-count①">条件计数</a>减一。</p>
          <li data-md>
            <p>如果 <var>result</var> 的<a data-link-type="dfn" href="#dfn-count-router-condition-result-condition-count"
                id="ref-for-dfn-count-router-condition-result-condition-count②">条件计数</a>为零，或者
              <var>depth</var> 为零，则：
            </p>
            <ol>
              <li data-md>
                <p>将 <var>result</var> 的<a data-link-type="dfn"
                    href="#dfn-dfn-count-router-condition-result-quota-exceeded"
                    id="ref-for-dfn-dfn-count-router-condition-result-quota-exceeded②">超出配额</a>设置为
                  true。</p>
              <li data-md>
                <p>返回 <var>result</var>。</p>
            </ol>
          <li data-md>
            <p>如果 <var>condition</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or⑥">_or</a></code>"]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists②④">存在</a>，则：
            </p>
            <ol>
              <li data-md>
                <p>将 <var>depth</var> 减一。</p>
              <li data-md>
                <p>对于 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or⑦">_or</a></code>"]
                  中的每个 <var>orCondition</var>：
                </p>
                <ol>
                  <li data-md>
                    <p>将 <var>result</var> 设置为使用 <var>orCondition</var>、<var>result</var> 和
                      <var>depth</var> 运行<a data-link-type="dfn" href="#count-router-inner-conditions"
                        id="ref-for-count-router-inner-conditions①">计算路由器内部条件</a>的结果。
                    </p>
                  <li data-md>
                    <p>如果 <var>result</var> 的<a data-link-type="dfn"
                        href="#dfn-dfn-count-router-condition-result-quota-exceeded"
                        id="ref-for-dfn-dfn-count-router-condition-result-quota-exceeded③">超出配额</a>为
                      true，则返回 <var>result</var>。</p>
                </ol>
            </ol>
          <li data-md>
            <p>否则，如果 <var>condition</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not⑥">not</a></code>"]
              <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists"
                id="ref-for-map-exists②⑤">存在</a>，则：
            </p>
            <ol>
              <li data-md>
                <p>将 <var>depth</var> 减一。</p>
              <li data-md>
                <p>将 <var>result</var> 设置为使用 <var>condition</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not⑦">not</a></code>"]、
                  <var>result</var> 和 <var>depth</var> 运行<a data-link-type="dfn" href="#count-router-inner-conditions"
                    id="ref-for-count-router-inner-conditions②">计算路由器内部条件</a>的结果。
                </p>
              <li data-md>
                <p>如果 <var>result</var> 的<a data-link-type="dfn"
                    href="#dfn-dfn-count-router-condition-result-quota-exceeded"
                    id="ref-for-dfn-dfn-count-router-condition-result-quota-exceeded④">超出配额</a>为
                  true，则返回 <var>result</var>。</p>
            </ol>
          <li data-md>
            <p>返回 <var>result</var>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="获取路由器源">
        <h3 class="heading settled" id="get-router-source-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="get-router-source">获取路由器源</dfn></span><a class="self-link"
            href="#get-router-source-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>serviceWorker</var>，一个<a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①⓪⑤">服务工作者</a></p>
          <dd data-md>
            <p><var>request</var>，一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request"
                id="ref-for-concept-request①⓪">请求</a></p>
          <dt data-md>输出
          <dd data-md>
            <p><code
                class="idl"><a data-link-type="idl" href="#typedefdef-routersource" id="ref-for-typedefdef-routersource①">RouterSource</a></code>
              或 null</p>
        </dl>
        <ol>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                id="ref-for-list-iterate①⑧">对于</a> <var>serviceWorker</var> 的<a data-link-type="dfn"
                href="#service-worker-list-of-router-rules"
                id="ref-for-service-worker-list-of-router-rules④">路由器规则列表</a>中的每个 <var>rule</var>：
            </p>
            <ol>
              <li data-md>
                <p>如果使用 <var>rule</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routerrule-condition" id="ref-for-dom-routerrule-condition②">condition</a></code>"]、
                  <var>serviceWorker</var> 和 <var>request</var> 运行<a data-link-type="dfn" href="#match-router-condition"
                    id="ref-for-match-router-condition②">匹配路由器条件</a>算法返回 true，则返回
                  <var>rule</var>["<code
                    class="idl"><a data-link-type="idl" href="#dom-routerrule-source" id="ref-for-dom-routerrule-source①">source</a></code>"]。
                </p>
            </ol>
          <li data-md>
            <p>返回 null。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="是否应跳过事件">
        <h3 class="heading settled" id="should-skip-event-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="should-skip-event">是否应跳过事件</dfn></span><a class="self-link"
            href="#should-skip-event-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>eventName</var>，一个字符串</p>
          <dd data-md>
            <p><var>serviceWorker</var>，一个<a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①⓪⑥">服务工作者</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>一个布尔值</p>
        </dl>
        <p class="note" role="note"><span
            class="marker">注意：</span>为避免不必要的延迟，本规范允许在服务工作者的全局范围内首次执行脚本期间未确定性地添加该事件的事件侦听器时跳过事件分派。</p>
        <ol>
          <li data-md>
            <p>如果 <var>serviceWorker</var> 的<a data-link-type="dfn" href="#dfn-set-of-event-types-to-handle"
                id="ref-for-dfn-set-of-event-types-to-handle⑥">要处理的事件类型集</a>不<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain④">包含</a>
              <var>eventName</var>，则用户代理<em>可以</em>返回 true。
            </p>
          <li data-md>
            <p>返回 false。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="触发功能性事件">
        <h3 class="heading settled" id="fire-functional-event-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-export data-lt="Fire Functional Event|Fire a functional event"
              id="fire-functional-event">触发功能性事件</dfn></span><a class="self-link"
            href="#fire-functional-event-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>eventName</var>，一个字符串</p>
          <dd data-md>
            <p><var>eventConstructor</var>，一个扩展了 <code
                class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①⑦">ExtendableEvent</a></code>
              的事件构造函数
            </p>
          <dd data-md>
            <p><var>registration</var>，一个<a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑤⑧">服务工作者注册</a></p>
          <dd data-md>
            <p><var>initialization</var>，可选的 <var>event</var> 属性初始化，由 <var>eventConstructor</var> 构造</p>
          <dd data-md>
            <p><var>postDispatchSteps</var>，可选步骤，在<a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker④③">活动工作者</a>的事件循环中运行，并将 <var>dispatchedEvent</var> 设置为<a
                data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                id="ref-for-concept-event-dispatch⑦">已分派</a>的 <var>eventConstructor</var> 实例。</p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p class="assertion">断言：<var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker④④">活动工作者</a>不为 null。</p>
          <li data-md>
            <p>令 <var>activeWorker</var> 为 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker④⑤">活动工作者</a>。</p>
          <li data-md>
            <p>如果使用 <var>eventName</var> 和 <var>activeWorker</var> 运行<a data-link-type="dfn" href="#should-skip-event"
                id="ref-for-should-skip-event④">是否应跳过事件</a>的结果为 true，则：
            </p>
            <ol>
              <li data-md>
                <p>如果 <var>registration</var> <a data-link-type="dfn" href="#service-worker-registration-stale"
                    id="ref-for-service-worker-registration-stale⑤">过时</a>，则<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel④②">并行</a>运行<a data-link-type="dfn" href="#soft-update"
                    id="ref-for-soft-update⑦">软更新</a>算法，参数为
                  <var>registration</var>。
                </p>
              <li data-md>
                <p>返回。</p>
            </ol>
          <li data-md>
            <p>如果 <var>activeWorker</var> 的<a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①④">状态</a>为
              "<code>activating</code>"，则等待
              <var>activeWorker</var> 的<a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①⑤">状态</a>变为
              "<code>activated</code>"。
            </p>
          <li data-md>
            <p>如果使用 <var>activeWorker</var> 运行<a data-link-type="dfn" href="#run-service-worker"
                id="ref-for-run-service-worker⑨">运行服务工作者</a>算法的结果为<em>失败</em>，则：
            </p>
            <ol>
              <li data-md>
                <p>如果 <var>registration</var> <a data-link-type="dfn" href="#service-worker-registration-stale"
                    id="ref-for-service-worker-registration-stale⑥">过时</a>，则<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel④③">并行</a>运行<a data-link-type="dfn" href="#soft-update"
                    id="ref-for-soft-update⑧">软更新</a>算法，参数为
                  <var>registration</var>。
                </p>
              <li data-md>
                <p>返回。</p>
            </ol>
          <li data-md>
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                id="ref-for-queue-a-task③⑥">将任务</a> <var>task</var> 排队以运行这些子步骤：</p>
            <ol>
              <li data-md>
                <p>令 <var>event</var> 为使用 <var>eventConstructor</var> 和 <var>activeWorker</var> 的<a data-link-type="dfn"
                    href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①⑧">全局对象</a>的<a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"
                    id="ref-for-concept-relevant-realm①①">相关领域</a><a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#concept-event-create"
                    id="ref-for-concept-event-create⑤">创建事件</a>的结果。
                </p>
              <li data-md>
                <p>如果 <var>initialization</var> 不为 null，则使用 <var>initialization</var> 初始化
                  <var>event</var>。
                </p>
              <li data-md>
                <p>在 <var>activeWorker</var> 的<a data-link-type="dfn" href="#dfn-service-worker-global-object"
                    id="ref-for-dfn-service-worker-global-object①⑨">全局对象</a>上<a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#concept-event-dispatch"
                    id="ref-for-concept-event-dispatch⑧">分派</a> <var>event</var>。
                </p>
              <li data-md>
                <p>使用 <var>activeWorker</var> 和 <var>event</var> 调用<a data-link-type="dfn"
                    href="#update-service-worker-extended-events-set"
                    id="ref-for-update-service-worker-extended-events-set②">更新服务工作者扩展事件集</a>。</p>
              <li data-md>
                <p>如果 <var>postDispatchSteps</var> 不为 null，则将 <var>event</var> 作为
                  <var>dispatchedEvent</var> 传递并运行 <var>postDispatchSteps</var>。
                </p>
            </ol>
            <p><var>task</var> <em>必须</em>使用 <var>activeWorker</var> 的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                id="ref-for-event-loop①⑥">事件循环</a>和<a data-link-type="dfn"
                href="#dfn-handle-functional-event-task-source"
                id="ref-for-dfn-handle-functional-event-task-source③">处理功能性事件任务源</a>。</p>
          <li data-md>
            <p>等待 <var>task</var> 执行完毕或被丢弃。</p>
          <li data-md>
            <p>如果 <var>registration</var> <a data-link-type="dfn" href="#service-worker-registration-stale"
                id="ref-for-service-worker-registration-stale⑦">过时</a>，则<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                id="ref-for-in-parallel④④">并行</a>运行<a data-link-type="dfn" href="#soft-update"
                id="ref-for-soft-update⑨">软更新</a>算法，参数为
              <var>registration</var>。
            </p>
        </ol>
        <div class="example" id="example-cfaebd87">
          <a class="self-link" href="#example-cfaebd87"></a> 要在特定的 <var>serviceWorkerRegistration</var> 上触发
          "<code>amazingthing</code>" 事件（类型为 <code>AmazingThingEvent</code>），并初始化事件对象的属性，其描述如下：
          <ol>
            <li data-md>
              <p>在 <var>serviceWorkerRegistration</var> 上使用 <code>AmazingThingEvent</code> <a data-link-type="dfn"
                  href="#fire-functional-event" id="ref-for-fire-functional-event①">触发功能性事件</a>
                "<code>amazingthing</code>"，并具有以下属性：
              </p>
              <dl>
                <dt data-md>属性名称
                <dd data-md>
                  <p>值</p>
                <dt data-md>另一个属性名称
                <dd data-md>
                  <p>另一个值</p>
              </dl>
              <p>然后使用 <var>dispatchedEvent</var> 运行以下步骤：</p>
              <ol>
                <li data-md>
                  <p>在服务工作者的事件循环中对 <var>dispatchedEvent</var> 执行任何所需操作。</p>
              </ol>
          </ol>
          <p>请注意，初始化步骤和分派后步骤是可选的。如果不需要它们，则描述如下：</p>
          <ol>
            <li data-md>
              <p>在 <var>serviceWorkerRegistration</var> 上使用 <code
                  class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①⑧">ExtendableEvent</a></code>
                <a data-link-type="dfn" href="#fire-functional-event" id="ref-for-fire-functional-event②">触发功能性事件</a>
                "<code>whatever</code>"。
              </p>
          </ol>
        </div>
      </section>
      <section class="algorithm" data-algorithm="处理服务工作者客户端卸载">
        <h3 class="heading settled" id="on-client-unload-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="handle-service-worker-client-unload">处理服务工作者客户端卸载</dfn></span><a
            class="self-link" href="#on-client-unload-algorithm"></a></h3>
        <p>用户代理<em>必须</em>在<a data-link-type="dfn" href="#dfn-service-worker-client"
            id="ref-for-dfn-service-worker-client④④">服务工作者客户端</a>通过<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#unloading-document-cleanup-steps"
            id="ref-for-unloading-document-cleanup-steps">卸载文档清理步骤</a>或<a data-link-type="dfn"
            href="#terminate-service-worker" id="ref-for-terminate-service-worker⑥">终止</a>卸载时运行这些步骤。</p>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>client</var>，一个<a data-link-type="dfn" href="#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client④⑤">服务工作者客户端</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>原子地运行以下步骤。</p>
          <li data-md>
            <p>令 <var>registration</var> 为 <var>client</var> <a data-link-type="dfn" href="#dfn-use"
                id="ref-for-dfn-use⑤">使用</a>的<a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑤⑨">服务工作者注册</a>。
            </p>
          <li data-md>
            <p>如果 <var>registration</var> 为 null，则中止这些步骤。</p>
          <li data-md>
            <p>如果任何其他<a data-link-type="dfn" href="#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client④⑥">服务工作者客户端</a>正在<a data-link-type="dfn" href="#dfn-use"
                id="ref-for-dfn-use⑥">使用</a>
              <var>registration</var>，则中止这些步骤。
            </p>
          <li data-md>
            <p>如果 <var>registration</var> 已<a data-link-type="dfn" href="#dfn-service-worker-registration-unregistered"
                id="ref-for-dfn-service-worker-registration-unregistered③">取消注册</a>，则使用
              <var>registration</var> 调用<a data-link-type="dfn" href="#try-clear-registration"
                id="ref-for-try-clear-registration①">尝试清除注册</a>。
            </p>
          <li data-md>
            <p>使用 <var>registration</var> 调用<a data-link-type="dfn" href="#try-activate"
                id="ref-for-try-activate④">尝试激活</a>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="处理用户代理关闭">
        <h3 class="heading settled" id="on-user-agent-shutdown-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="handle-user-agent-shutdown">处理用户代理关闭</dfn></span><a
            class="self-link" href="#on-user-agent-shutdown-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p>无</p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                id="ref-for-list-iterate①⑨">对于</a><a data-link-type="dfn" href="#dfn-scope-to-registration-map"
                id="ref-for-dfn-scope-to-registration-map⑦">注册映射</a>的<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#map-getting-the-values"
                id="ref-for-map-getting-the-values④">值</a>中的每个 <var>registration</var>：</p>
            <ol>
              <li data-md>
                <p>如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-installing-worker"
                    id="ref-for-dfn-installing-worker①④">安装中工作者</a>不为 null，则：
                </p>
                <ol>
                  <li data-md>
                    <p>如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-waiting-worker"
                        id="ref-for-dfn-waiting-worker①③">等待中工作者</a>为
                      null 且 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                        id="ref-for-dfn-active-worker④⑥">活动工作者</a>为
                      null，则使用 <var>registration</var> 调用<a data-link-type="dfn" href="#clear-registration"
                        id="ref-for-clear-registration">清除注册</a>并继续循环的下一次迭代。</p>
                  <li data-md>
                    <p>否则，将 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-installing-worker"
                        id="ref-for-dfn-installing-worker①⑤">安装中工作者</a>设置为 null。</p>
                </ol>
              <li data-md>
                <p>如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-waiting-worker"
                    id="ref-for-dfn-waiting-worker①④">等待中工作者</a>不为 null，则<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"
                    id="ref-for-in-parallel④⑤">并行</a>：</p>
                <ol>
                  <li data-md>
                    <p>使用 <var>registration</var> 调用<a data-link-type="dfn" href="#activate"
                        id="ref-for-activate⑥">激活</a>。</p>
                </ol>
            </ol>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="更新服务工作者扩展事件集">
        <h3 class="heading settled" id="update-service-worker-extended-events-set-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-noexport
              id="update-service-worker-extended-events-set">更新服务工作者扩展事件集</dfn></span><a class="self-link"
            href="#update-service-worker-extended-events-set-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>worker</var>，一个<a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①⓪⑦">服务工作者</a></p>
          <dd data-md>
            <p><var>event</var>，一个<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event"
                id="ref-for-concept-event⑦">事件</a>
            </p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p class="assertion">断言：<var>event</var> 的<a data-link-type="dfn"
                href="https://dom.spec.whatwg.org/#dispatch-flag" id="ref-for-dispatch-flag②">分派标志</a>未设置。</p>
          <li data-md>
            <p>对于 <var>worker</var> 的<a data-link-type="dfn" href="#dfn-set-of-extended-events"
                id="ref-for-dfn-set-of-extended-events①">扩展事件集</a>中的每个 <var>item</var>：</p>
            <ol>
              <li data-md>
                <p>如果 <var>item</var> 不是<a data-link-type="dfn" href="#extendableevent-active"
                    id="ref-for-extendableevent-active③">活动的</a>，则从 <var>worker</var> 的<a data-link-type="dfn"
                    href="#dfn-set-of-extended-events" id="ref-for-dfn-set-of-extended-events②">扩展事件集</a>中<a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove"
                    id="ref-for-list-remove①">移除</a> <var>item</var>。</p>
            </ol>
          <li data-md>
            <p>如果 <var>event</var> 是<a data-link-type="dfn" href="#extendableevent-active"
                id="ref-for-extendableevent-active④">活动的</a>，则将 <var>event</var> <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append③">追加</a>到
              <var>worker</var> 的<a data-link-type="dfn" href="#dfn-set-of-extended-events"
                id="ref-for-dfn-set-of-extended-events③">扩展事件集</a>。
            </p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="取消注册">
        <h3 class="heading settled" id="unregister-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="unregister">取消注册</dfn></span><a class="self-link"
            href="#unregister-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>job</var>，一个<a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②⑦">作业</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果 <var>job</var> 的<a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url⑧">作用域
                URL</a> 的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                id="ref-for-concept-settings-object-origin①⑧">源</a>不是 <var>job</var> 的<a data-link-type="dfn"
                href="#dfn-job-client" id="ref-for-dfn-job-client②⓪">客户端</a>的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                id="ref-for-concept-settings-object-origin①⑨">源</a>，则：</p>
            <ol>
              <li data-md>
                <p>使用 <var>job</var> 和 "<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑦">SecurityError</a></code>"
                  <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②③">DOMException</a></code>
                  调用<a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise①⓪">拒绝作业承诺</a>。
                </p>
              <li data-md>
                <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job"
                    id="ref-for-finish-job①①">完成作业</a>并中止这些步骤。</p>
            </ol>
          <li data-md>
            <p>令 <var>registration</var> 为给定 <var>job</var> 的<a data-link-type="dfn" href="#job-storage-key"
                id="ref-for-job-storage-key④">存储键</a>和 <var>job</var> 的<a data-link-type="dfn" href="#dfn-job-scope-url"
                id="ref-for-dfn-job-scope-url⑨">作用域 URL</a> 运行<a data-link-type="dfn" href="#get-registration"
                id="ref-for-get-registration②">获取注册</a>的结果。
            </p>
          <li data-md>
            <p>如果 <var>registration</var> 为 null，则：</p>
            <ol>
              <li data-md>
                <p>使用 <var>job</var> 和 false 调用<a data-link-type="dfn" href="#resolve-job-promise"
                    id="ref-for-resolve-job-promise③">解决作业承诺</a>。</p>
              <li data-md>
                <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job"
                    id="ref-for-finish-job①②">完成作业</a>并中止这些步骤。</p>
            </ol>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove⑥">移除</a>
              <a data-link-type="dfn" href="#dfn-scope-to-registration-map"
                id="ref-for-dfn-scope-to-registration-map⑧">注册映射</a>[(<var>registration</var> 的<a data-link-type="dfn"
                href="#service-worker-registration-storage-key"
                id="ref-for-service-worker-registration-storage-key①④">存储键</a>, <var>job</var> 的<a data-link-type="dfn"
                href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url①⓪">作用域
                URL</a>)]。
            </p>
          <li data-md>
            <p>使用 <var>job</var> 和 true 调用<a data-link-type="dfn" href="#resolve-job-promise"
                id="ref-for-resolve-job-promise④">解决作业承诺</a>。</p>
          <li data-md>
            <p>使用 <var>registration</var> 调用<a data-link-type="dfn" href="#try-clear-registration"
                id="ref-for-try-clear-registration②">尝试清除注册</a>。
            </p>
            <p class="note" role="note"><span class="marker">注意：</span>如果<a data-link-type="dfn"
                href="#try-clear-registration" id="ref-for-try-clear-registration③">尝试清除注册</a>此处未触发<a
                data-link-type="dfn" href="#clear-registration" id="ref-for-clear-registration①">清除注册</a>，则当最后一个<a
                data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use⑦">使用</a>该注册的客户端<a data-link-type="dfn"
                href="#handle-service-worker-client-unload"
                id="ref-for-handle-service-worker-client-unload②">卸载</a>或该注册的服务工作者的<a data-link-type="dfn"
                href="#extendableevent-extend-lifetime-promises"
                id="ref-for-extendableevent-extend-lifetime-promises⑧">延长生命周期承诺</a>解决时，将再次尝试<a data-link-type="dfn"
                href="#clear-registration" id="ref-for-clear-registration②">清除注册</a>。</p>
          <li data-md>
            <p>使用 <var>job</var> 调用<a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job①③">完成作业</a>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="设置注册">
        <h3 class="heading settled" id="set-registration-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="set-registration">设置注册</dfn></span><a class="self-link"
            href="#set-registration-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>storage key</var>，一个<a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key"
                id="ref-for-storage-key⑦">存储键</a>
            </p>
          <dd data-md>
            <p><var>scope</var>，一个<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
                id="ref-for-concept-url①③">URL</a></p>
          <dd data-md>
            <p><var>updateViaCache</var>，一个<a data-link-type="dfn" href="#dfn-update-via-cache"
                id="ref-for-dfn-update-via-cache⑧">通过缓存更新模式</a></p>
          <dt data-md>输出
          <dd data-md>
            <p><var>registration</var>，一个<a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑥⓪">服务工作者注册</a></p>
        </dl>
        <ol>
          <li data-md>
            <p>原子地运行以下步骤。</p>
          <li data-md>
            <p>令 <var>scopeString</var> 为设置了<em>排除片段标志</em>的<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①③">序列化</a>
              <var>scope</var>。
            </p>
          <li data-md>
            <p>令 <var>registration</var> 为一个新的<a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑥①">服务工作者注册</a>，其<a data-link-type="dfn"
                href="#service-worker-registration-storage-key"
                id="ref-for-service-worker-registration-storage-key①⑤">存储键</a>设置为
              <var>storage key</var>，<a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①⑧">作用域
                URL</a> 设置为 <var>scope</var>，<a data-link-type="dfn" href="#dfn-update-via-cache"
                id="ref-for-dfn-update-via-cache⑨">通过缓存更新模式</a>设置为
              <var>updateViaCache</var>。
            </p>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④">设置</a> <a
                data-link-type="dfn" href="#dfn-scope-to-registration-map"
                id="ref-for-dfn-scope-to-registration-map⑨">注册映射</a>[(<var>storage
                key</var>, <var>scopeString</var>)] 为 <var>registration</var>。</p>
          <li data-md>
            <p>返回 <var>registration</var>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="清除注册">
        <h3 class="heading settled" id="clear-registration-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="clear-registration">清除注册</dfn></span><a class="self-link"
            href="#clear-registration-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>registration</var>，一个<a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑥②">服务工作者注册</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>原子地运行以下步骤。</p>
          <li data-md>
            <p>如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-installing-worker"
                id="ref-for-dfn-installing-worker①⑥">安装中工作者</a>不为 null，则：</p>
            <ol>
              <li data-md>
                <p><a data-link-type="dfn" href="#terminate-service-worker"
                    id="ref-for-terminate-service-worker⑦">终止</a> <var>registration</var> 的<a data-link-type="dfn"
                    href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①⑦">安装中工作者</a>。
                </p>
              <li data-md>
                <p>运行<a data-link-type="dfn" href="#update-worker-state"
                    id="ref-for-update-worker-state⑧">更新工作者状态</a>算法，将 <var>registration</var> 的<a data-link-type="dfn"
                    href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①⑧">安装中工作者</a>和
                  "<code>redundant</code>"
                  作为参数传递。
                </p>
              <li data-md>
                <p>运行<a data-link-type="dfn" href="#update-registration-state"
                    id="ref-for-update-registration-state⑥">更新注册状态</a>算法，将
                  <var>registration</var>、"<code>installing</code>" 和 null 作为参数传递。
                </p>
            </ol>
          <li data-md>
            <p>如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-waiting-worker"
                id="ref-for-dfn-waiting-worker①⑤">等待中工作者</a>不为 null，则：</p>
            <ol>
              <li data-md>
                <p><a data-link-type="dfn" href="#terminate-service-worker"
                    id="ref-for-terminate-service-worker⑧">终止</a> <var>registration</var> 的<a data-link-type="dfn"
                    href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①⑥">等待中工作者</a>。
                </p>
              <li data-md>
                <p>运行<a data-link-type="dfn" href="#update-worker-state"
                    id="ref-for-update-worker-state⑨">更新工作者状态</a>算法，将 <var>registration</var> 的<a data-link-type="dfn"
                    href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①⑦">等待中工作者</a>和 "<code>redundant</code>"
                  作为参数传递。
                </p>
              <li data-md>
                <p>运行<a data-link-type="dfn" href="#update-registration-state"
                    id="ref-for-update-registration-state⑦">更新注册状态</a>算法，将
                  <var>registration</var>、"<code>waiting</code>" 和 null 作为参数传递。
                </p>
            </ol>
          <li data-md>
            <p>如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker④⑦">活动工作者</a>不为 null，则：</p>
            <ol>
              <li data-md>
                <p><a data-link-type="dfn" href="#terminate-service-worker"
                    id="ref-for-terminate-service-worker⑨">终止</a> <var>registration</var> 的<a data-link-type="dfn"
                    href="#dfn-active-worker" id="ref-for-dfn-active-worker④⑧">活动工作者</a>。
                </p>
              <li data-md>
                <p>运行<a data-link-type="dfn" href="#update-worker-state"
                    id="ref-for-update-worker-state①⓪">更新工作者状态</a>算法，将 <var>registration</var> 的<a data-link-type="dfn"
                    href="#dfn-active-worker" id="ref-for-dfn-active-worker④⑨">活动工作者</a>和 "<code>redundant</code>"
                  作为参数传递。
                </p>
              <li data-md>
                <p>运行<a data-link-type="dfn" href="#update-registration-state"
                    id="ref-for-update-registration-state⑧">更新注册状态</a>算法，将
                  <var>registration</var>、"<code>active</code>" 和 null 作为参数传递。
                </p>
            </ol>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="尝试清除注册">
        <h3 class="heading settled" id="try-clear-registration-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="try-clear-registration">尝试清除注册</dfn></span><a class="self-link"
            href="#try-clear-registration-algorithm"></a>
        </h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>registration</var>，一个<a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑥③">服务工作者注册</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果没有<a data-link-type="dfn" href="#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client④⑦">服务工作者客户端</a>正在<a data-link-type="dfn" href="#dfn-use"
                id="ref-for-dfn-use⑧">使用</a>
              <var>registration</var> 并且以下所有条件都为真，则使用 <var>registration</var> 调用<a data-link-type="dfn"
                href="#clear-registration" id="ref-for-clear-registration③">清除注册</a>：
            </p>
            <ul>
              <li data-md>
                <p><var>registration</var> 的<a data-link-type="dfn" href="#dfn-installing-worker"
                    id="ref-for-dfn-installing-worker①⑨">安装中工作者</a>为 null，或者使用
                  <var>registration</var> 的<a data-link-type="dfn" href="#dfn-installing-worker"
                    id="ref-for-dfn-installing-worker②⓪">安装中工作者</a>运行<a data-link-type="dfn"
                    href="#service-worker-has-no-pending-events"
                    id="ref-for-service-worker-has-no-pending-events②">服务工作者没有待处理事件</a>的结果为 true。
                </p>
              <li data-md>
                <p><var>registration</var> 的<a data-link-type="dfn" href="#dfn-waiting-worker"
                    id="ref-for-dfn-waiting-worker①⑧">等待中工作者</a>为 null，或者使用 <var>registration</var>
                  的<a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①⑨">等待中工作者</a>运行<a
                    data-link-type="dfn" href="#service-worker-has-no-pending-events"
                    id="ref-for-service-worker-has-no-pending-events③">服务工作者没有待处理事件</a>的结果为 true。
                </p>
              <li data-md>
                <p><var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker⑤⓪">活动工作者</a>为 null，或者使用 <var>registration</var>
                  的<a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑤①">活动工作者</a>运行<a
                    data-link-type="dfn" href="#service-worker-has-no-pending-events"
                    id="ref-for-service-worker-has-no-pending-events④">服务工作者没有待处理事件</a>的结果为 true。
                </p>
            </ul>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="更新注册状态">
        <h3 class="heading settled" id="update-registration-state-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update-registration-state">更新注册状态</dfn></span><a
            class="self-link" href="#update-registration-state-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>registration</var>，一个<a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑥④">服务工作者注册</a></p>
          <dd data-md>
            <p><var>target</var>，一个字符串（"<code>installing</code>"、"<code>waiting</code>" 或
              "<code>active</code>" 之一）</p>
          <dd data-md>
            <p><var>source</var>，一个<a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①⓪⑧">服务工作者</a>或 null</p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>registrationObjects</var> 为一个包含与 <var>registration</var> 关联的所有 <code
                class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①⑤">ServiceWorkerRegistration</a></code>
              对象的数组。</p>
          <li data-md>
            <p>如果 <var>target</var> 是 "<code>installing</code>"，则：</p>
            <ol>
              <li data-md>
                <p>将 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-installing-worker"
                    id="ref-for-dfn-installing-worker②①">安装中工作者</a>设置为 <var>source</var>。
                </p>
              <li data-md>
                <p>对于 <var>registrationObjects</var> 中的每个 <var>registrationObject</var>：</p>
                <ol>
                  <li data-md>
                    <p><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                        id="ref-for-queue-a-task③⑦">将任务排队</a>以将 <var>registrationObject</var> 的
                      <code
                        class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-installing" id="ref-for-dom-serviceworkerregistration-installing④">installing</a></code>
                      属性设置为 null（如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-installing-worker"
                        id="ref-for-dfn-installing-worker②②">安装中工作者</a>为 null），或者设置为在
                      <var>registrationObject</var> 的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                        id="ref-for-relevant-settings-object②⑨">相关设置对象</a>中<a data-link-type="dfn"
                        href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object⑦">获取表示</a>
                      <var>registration</var> 的<a data-link-type="dfn" href="#dfn-installing-worker"
                        id="ref-for-dfn-installing-worker②③">安装中工作者</a>的服务工作者对象的结果。
                    </p>
                </ol>
            </ol>
          <li data-md>
            <p>否则，如果 <var>target</var> 是 "<code>waiting</code>"，则：</p>
            <ol>
              <li data-md>
                <p>将 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-waiting-worker"
                    id="ref-for-dfn-waiting-worker②⓪">等待中工作者</a>设置为 <var>source</var>。</p>
              <li data-md>
                <p>对于 <var>registrationObjects</var> 中的每个 <var>registrationObject</var>：</p>
                <ol>
                  <li data-md>
                    <p><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                        id="ref-for-queue-a-task③⑧">将任务排队</a>以将 <var>registrationObject</var> 的
                      <code
                        class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-waiting" id="ref-for-dom-serviceworkerregistration-waiting④">waiting</a></code>
                      属性设置为 null（如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-waiting-worker"
                        id="ref-for-dfn-waiting-worker②①">等待中工作者</a>为
                      null），或者设置为在 <var>registrationObject</var> 的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                        id="ref-for-relevant-settings-object③⓪">相关设置对象</a>中<a data-link-type="dfn"
                        href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object⑧">获取表示</a>
                      <var>registration</var> 的<a data-link-type="dfn" href="#dfn-waiting-worker"
                        id="ref-for-dfn-waiting-worker②②">等待中工作者</a>的服务工作者对象的结果。
                    </p>
                </ol>
            </ol>
          <li data-md>
            <p>否则，如果 <var>target</var> 是 "<code>active</code>"，则：</p>
            <ol>
              <li data-md>
                <p>将 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                    id="ref-for-dfn-active-worker⑤②">活动工作者</a>设置为 <var>source</var>。</p>
              <li data-md>
                <p>对于 <var>registrationObjects</var> 中的每个 <var>registrationObject</var>：</p>
                <ol>
                  <li data-md>
                    <p><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                        id="ref-for-queue-a-task③⑨">将任务排队</a>以将 <var>registrationObject</var> 的
                      <code
                        class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-active" id="ref-for-dom-serviceworkerregistration-active④">active</a></code>
                      属性设置为 null（如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                        id="ref-for-dfn-active-worker⑤③">活动工作者</a>为
                      null），或者设置为在 <var>registrationObject</var> 的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                        id="ref-for-relevant-settings-object③①">相关设置对象</a>中<a data-link-type="dfn"
                        href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object⑨">获取表示</a>
                      <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                        id="ref-for-dfn-active-worker⑤④">活动工作者</a>的服务工作者对象的结果。
                    </p>
                </ol>
            </ol>
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
                id="ref-for-concept-task⑨">任务</a><em>必须</em>使用 <var>registrationObject</var> 的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                id="ref-for-relevant-settings-object③②">相关设置对象</a>的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                id="ref-for-responsible-event-loop①⑧">负责的事件循环</a>和<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                id="ref-for-dom-manipulation-task-source②④">DOM 操作任务源</a>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="更新工作者状态">
        <h3 class="heading settled" id="update-state-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="update-worker-state">更新工作者状态</dfn></span><a class="self-link"
            href="#update-state-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>worker</var>，一个<a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①⓪⑨">服务工作者</a></p>
          <dd data-md>
            <p><var>state</var>，一个<a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①①⓪">服务工作者</a> <a data-link-type="dfn" href="#dfn-state"
                id="ref-for-dfn-state①⑥">状态</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p class="assertion">断言：<var>state</var> 不是 "<code>parsed</code>"。</p>
            <p class="note" role="note"><span class="marker">注意：</span>"<code>parsed</code>" 是初始状态。一个<a
                data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①①">服务工作者</a>永远不会更新到此状态。
            </p>
          <li data-md>
            <p>将 <var>worker</var> 的<a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①⑦">状态</a>设置为
              <var>state</var>。
            </p>
          <li data-md>
            <p>令 <var>settingsObjects</var> 为所有<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-environment-settings-object②③">环境设置对象</a>，其<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"
                id="ref-for-concept-settings-object-origin②⓪">源</a>为 <var>worker</var> 的<a data-link-type="dfn"
                href="#dfn-script-url" id="ref-for-dfn-script-url①①">脚本 URL</a> 的<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑨">源</a>。</p>
          <li data-md>
            <p>对于 <var>settingsObjects</var> 中的每个 <var>settingsObject</var>，在 <var>settingsObject</var> 的<a
                data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                id="ref-for-responsible-event-loop①⑨">负责的事件循环</a>中的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                id="ref-for-dom-manipulation-task-source②⑤">DOM 操作任务源</a>上<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                id="ref-for-queue-a-task④⓪">将任务排队</a>以运行以下步骤：</p>
            <ol>
              <li data-md>
                <p>令 <var>objectMap</var> 为 <var>settingsObject</var> 的<a data-link-type="dfn"
                    href="#environment-settings-object-service-worker-object-map"
                    id="ref-for-environment-settings-object-service-worker-object-map①">服务工作者对象映射</a>。
                </p>
              <li data-md>
                <p>如果 <var>objectMap</var>[<var>worker</var>] 不<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑥">存在</a>，则中止这些步骤。</p>
              <li data-md>
                <p>令 <var>workerObj</var> 为 <var>objectMap</var>[<var>worker</var>]。</p>
              <li data-md>
                <p>将 <var>workerObj</var> 的 <code
                    class="idl"><a data-link-type="idl" href="#dom-serviceworker-state" id="ref-for-dom-serviceworker-state④">state</a></code>
                  设置为 <var>state</var>。</p>
              <li data-md>
                <p>在 <var>workerObj</var> 上<a data-link-type="dfn"
                    href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire②">触发</a>名为
                  <code
                    class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworker-statechange" id="ref-for-eventdef-serviceworker-statechange①">statechange</a></code>
                  的事件。
                </p>
            </ol>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="通知控制器更改">
        <h3 class="heading settled" id="notify-controller-change-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-noexport id="notify-controller-change">通知控制器更改</dfn></span><a
            class="self-link" href="#notify-controller-change-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>client</var>，一个<a data-link-type="dfn" href="#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client④⑧">服务工作者客户端</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p class="assertion">断言：<var>client</var> 不为 null。</p>
          <li data-md>
            <p>如果 <var>client</var> 是一个<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-environment-settings-object②④">环境设置对象</a>，<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                id="ref-for-queue-a-task④①">将任务排队</a>以在与 <var>client</var> <a data-link-type="dfn"
                href="#serviceworkercontainer-service-worker-client"
                id="ref-for-serviceworkercontainer-service-worker-client⑨">关联</a>的 <code
                class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①⑥">ServiceWorkerContainer</a></code>
              对象上<a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire"
                id="ref-for-concept-event-fire③">触发</a>名为 <code>controllerchange</code> 的事件。</p>
        </ol>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"
            id="ref-for-concept-task①⓪">任务</a><em>必须</em>使用 <var>client</var> 的<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
            id="ref-for-responsible-event-loop②⓪">负责的事件循环</a>和<a data-link-type="dfn"
            href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
            id="ref-for-dom-manipulation-task-source②⑥">DOM 操作任务源</a>。</p>
      </section>
      <section class="algorithm" data-algorithm="匹配服务工作者注册">
        <h3 class="heading settled" id="scope-match-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-export id="match-service-worker-registration">匹配服务工作者注册</dfn></span><a
            class="self-link" href="#scope-match-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>storage key</var>，一个<a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key"
                id="ref-for-storage-key⑧">存储键</a>
            </p>
          <dd data-md>
            <p><var>clientURL</var>，一个<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
                id="ref-for-concept-url①④">URL</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>一个<a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑥⑤">服务工作者注册</a></p>
        </dl>
        <ol>
          <li data-md>
            <p>原子地运行以下步骤。</p>
          <li data-md>
            <p>令 <var>clientURLString</var> 为<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-serializer"
                id="ref-for-concept-url-serializer①④">序列化</a>的 <var>clientURL</var>。</p>
          <li data-md>
            <p>令 <var>matchingScopeString</var> 为空字符串。</p>
          <li data-md>
            <p>令 <var>scopeStringSet</var> 为一个空列表。</p>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                id="ref-for-list-iterate②⓪">对于</a><a data-link-type="dfn" href="#dfn-scope-to-registration-map"
                id="ref-for-dfn-scope-to-registration-map①⓪">注册映射</a>的<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑤">键</a>中的每个
              (<var>entry storage key</var>, <var>entry
                scope</var>)：</p>
            <ol>
              <li data-md>
                <p>如果 <var>storage key</var> <a data-link-type="dfn"
                    href="https://storage.spec.whatwg.org/#storage-key-equal" id="ref-for-storage-key-equal⑤">等于</a>
                  <var>entry storage key</var>，则将
                  <var>entry scope</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append"
                    id="ref-for-list-append⑧">追加</a>到 <var>scopeStringSet</var> 的末尾。
                </p>
            </ol>
          <li data-md>
            <p>如果存在，则将 <var>matchingScopeString</var> 设置为 <var>scopeStringSet</var> 中
              <var>clientURLString</var> 值开头的最长值。
            </p>
            <p class="note" role="note"><span class="marker">注意：</span>此步骤中的 URL
              字符串匹配是基于前缀的，而不是基于路径结构的。例如，具有 "https://example.com/prefix-of/resource.html" 的客户端 URL
              字符串将匹配作用域为 "https://example.com/prefix" 的注册。URL 字符串比较对于同源安全性是安全的，因为 HTTP(S) URL 在 URL
              的源部分的末尾始终使用尾部斜杠进行<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer"
                id="ref-for-concept-url-serializer①⑤">序列化</a>。</p>
          <li data-md>
            <p>令 <var>matchingScope</var> 为 null。</p>
          <li data-md>
            <p>如果 <var>matchingScopeString</var> 不是空字符串，则：</p>
            <ol>
              <li data-md>
                <p>将 <var>matchingScope</var> 设置为<a data-link-type="dfn"
                    href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑧">解析</a>
                  <var>matchingScopeString</var> 的结果。
                </p>
              <li data-md>
                <p class="assertion">断言：<var>matchingScope</var> 的<a data-link-type="dfn"
                    href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①⓪">源</a>和
                  <var>clientURL</var> 的<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin"
                    id="ref-for-concept-url-origin①①">源</a>是<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin"
                    id="ref-for-same-origin⑥">同源</a>。
                </p>
            </ol>
          <li data-md>
            <p>返回给定 <var>storage key</var> 和 <var>matchingScope</var> 运行<a data-link-type="dfn" href="#get-registration"
                id="ref-for-get-registration③">获取注册</a>的结果。
            </p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="获取注册">
        <h3 class="heading settled" id="get-registration-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="get-registration">获取注册</dfn></span><a class="self-link"
            href="#get-registration-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>storage key</var>，一个<a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key"
                id="ref-for-storage-key⑨">存储键</a>
            </p>
          <dd data-md>
            <p><var>scope</var>，一个<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
                id="ref-for-concept-url①⑤">URL</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>一个<a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑥⑥">服务工作者注册</a></p>
        </dl>
        <ol>
          <li data-md>
            <p>原子地运行以下步骤。</p>
          <li data-md>
            <p>令 <var>scopeString</var> 为空字符串。</p>
          <li data-md>
            <p>如果 <var>scope</var> 不为 null，则将 <var>scopeString</var> 设置为设置了<em>排除片段标志</em>的<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①⑥">序列化</a>
              <var>scope</var>。
            </p>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate"
                id="ref-for-map-iterate⑦">对于</a><a data-link-type="dfn" href="#dfn-scope-to-registration-map"
                id="ref-for-dfn-scope-to-registration-map①①">注册映射</a>中的每个 (<var>entry storage key</var>,
              <var>entry scope</var>) → <var>registration</var>：
            </p>
            <ol>
              <li data-md>
                <p>如果 <var>storage key</var> <a data-link-type="dfn"
                    href="https://storage.spec.whatwg.org/#storage-key-equal" id="ref-for-storage-key-equal⑥">等于</a>
                  <var>entry storage key</var> 并且
                  <var>scopeString</var> 匹配 <var>entry scope</var>，则返回 <var>registration</var>。
                </p>
            </ol>
          <li data-md>
            <p>返回 null。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="获取最新工作者">
        <h3 class="heading settled" id="get-newest-worker-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="get-newest-worker">获取最新工作者</dfn></span><a class="self-link"
            href="#get-newest-worker-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>registration</var>，一个<a data-link-type="dfn" href="#dfn-service-worker-registration"
                id="ref-for-dfn-service-worker-registration⑥⑦">服务工作者注册</a></p>
          <dt data-md>输出
          <dd data-md>
            <p><var>newestWorker</var>，一个<a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①①②">服务工作者</a></p>
        </dl>
        <ol>
          <li data-md>
            <p>原子地运行以下步骤。</p>
          <li data-md>
            <p>令 <var>newestWorker</var> 为 null。</p>
          <li data-md>
            <p>如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-installing-worker"
                id="ref-for-dfn-installing-worker②④">安装中工作者</a>不为 null，则将 <var>newestWorker</var> 设置为
              <var>registration</var> 的<a data-link-type="dfn" href="#dfn-installing-worker"
                id="ref-for-dfn-installing-worker②⑤">安装中工作者</a>。
            </p>
          <li data-md>
            <p>否则，如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-waiting-worker"
                id="ref-for-dfn-waiting-worker②③">等待中工作者</a>不为 null，则将 <var>newestWorker</var> 设置为
              <var>registration</var> 的<a data-link-type="dfn" href="#dfn-waiting-worker"
                id="ref-for-dfn-waiting-worker②④">等待中工作者</a>。
            </p>
          <li data-md>
            <p>否则，如果 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker⑤⑤">活动工作者</a>不为 null，则将 <var>newestWorker</var> 设置为
              <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker⑤⑥">活动工作者</a>。
            </p>
          <li data-md>
            <p>返回 <var>newestWorker</var>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="服务工作者没有待处理事件">
        <h3 class="heading settled" id="service-worker-has-no-pending-events-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-noexport
              id="service-worker-has-no-pending-events">服务工作者没有待处理事件</dfn></span><a class="self-link"
            href="#service-worker-has-no-pending-events-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>worker</var>，一个<a data-link-type="dfn" href="#dfn-service-worker"
                id="ref-for-dfn-service-worker①①③">服务工作者</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>True 或 false，一个布尔值</p>
        </dl>
        <ol>
          <li data-md>
            <p>对于 <var>worker</var> 的<a data-link-type="dfn" href="#dfn-set-of-extended-events"
                id="ref-for-dfn-set-of-extended-events④">扩展事件集</a>中的每个 <var>event</var>：</p>
            <ol>
              <li data-md>
                <p>如果 <var>event</var> 是<a data-link-type="dfn" href="#extendableevent-active"
                    id="ref-for-extendableevent-active⑤">活动的</a>，则返回 false。</p>
            </ol>
          <li data-md>
            <p>返回 true。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="创建客户端">
        <h3 class="heading settled" id="create-client-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="create-client">创建客户端</dfn></span><a class="self-link"
            href="#create-client-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>client</var>，一个<a data-link-type="dfn" href="#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client④⑨">服务工作者客户端</a></p>
          <dt data-md>输出
          <dd data-md>
            <p><var>clientObject</var>，一个 <code
                class="idl"><a data-link-type="idl" href="#client" id="ref-for-client①①">Client</a></code>
              对象</p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>clientObject</var> 为一个新的 <code
                class="idl"><a data-link-type="idl" href="#client" id="ref-for-client①②">Client</a></code>
              对象。</p>
          <li data-md>
            <p>将 <var>clientObject</var> 的<a data-link-type="dfn"
                href="#dfn-service-worker-client-service-worker-client"
                id="ref-for-dfn-service-worker-client-service-worker-client①③">服务工作者客户端</a>设置为
              <var>client</var>。
            </p>
          <li data-md>
            <p>返回 <var>clientObject</var>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="创建窗口客户端">
        <h3 class="heading settled" id="create-windowclient-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="create-window-client">创建窗口客户端</dfn></span><a class="self-link"
            href="#create-windowclient-algorithm"></a>
        </h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>client</var>，一个<a data-link-type="dfn" href="#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client⑤⓪">服务工作者客户端</a></p>
          <dd data-md>
            <p><var>frameType</var>，一个字符串</p>
          <dd data-md>
            <p><var>visibilityState</var>，一个字符串</p>
          <dd data-md>
            <p><var>focusState</var>，一个布尔值</p>
          <dd data-md>
            <p><var>ancestorOriginsList</var>，一个列表</p>
          <dt data-md>输出
          <dd data-md>
            <p><var>windowClient</var>，一个 <code
                class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient①⓪">WindowClient</a></code>
              对象</p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>windowClient</var> 为一个新的 <code
                class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient①①">WindowClient</a></code>
              对象。</p>
          <li data-md>
            <p>将 <var>windowClient</var> 的<a data-link-type="dfn"
                href="#dfn-service-worker-client-service-worker-client"
                id="ref-for-dfn-service-worker-client-service-worker-client①④">服务工作者客户端</a>设置为
              <var>client</var>。
            </p>
          <li data-md>
            <p>将 <var>windowClient</var> 的<a data-link-type="dfn" href="#dfn-service-worker-client-frame-type"
                id="ref-for-dfn-service-worker-client-frame-type①">框架类型</a>设置为 <var>frameType</var>。
            </p>
          <li data-md>
            <p>将 <var>windowClient</var> 的<a data-link-type="dfn" href="#dfn-service-worker-client-visibilitystate"
                id="ref-for-dfn-service-worker-client-visibilitystate①">可见性状态</a>设置为
              <var>visibilityState</var>。
            </p>
          <li data-md>
            <p>将 <var>windowClient</var> 的<a data-link-type="dfn" href="#dfn-service-worker-client-focusstate"
                id="ref-for-dfn-service-worker-client-focusstate②">焦点状态</a>设置为 <var>focusState</var>。
            </p>
          <li data-md>
            <p>将 <var>windowClient</var> 的<a data-link-type="dfn" href="#windowclient-ancestor-origins-array"
                id="ref-for-windowclient-ancestor-origins-array①">祖先源数组</a>设置为从
              <var>ancestorOriginsList</var> 创建的<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-frozen-array-type"
                id="ref-for-dfn-frozen-array-type④">冻结数组</a>。
            </p>
          <li data-md>
            <p>返回 <var>windowClient</var>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="获取框架类型">
        <h3 class="heading settled" id="get-frametype-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="get-frame-type">获取框架类型</dfn></span><a class="self-link"
            href="#get-frametype-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>navigable</var>，一个<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"
                id="ref-for-navigable">可导航对象</a></p>
          <dt data-md>输出
          <dd data-md>
            <p><var>frameType</var>，一个字符串</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果 <var>navigable</var> 的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent"
                id="ref-for-nav-parent">父级</a>不为 null，则返回 "<code>nested</code>"。</p>
          <li data-md>
            <p>如果 <var>navigable</var> 的<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc"
                id="ref-for-nav-bc">活动浏览上下文</a>是一个<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/document-sequences.html#auxiliary-browsing-context"
                id="ref-for-auxiliary-browsing-context">辅助浏览上下文</a>，则返回 "<code>auxiliary</code>"。</p>
          <li data-md>
            <p>返回 "<code>top-level</code>"。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="解决 Get Client Promise">
        <h3 class="heading settled" id="resolve-get-client-promise-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-noexport id="resolve-get-client-promise">解决 Get
              Client Promise</dfn></span><a class="self-link" href="#resolve-get-client-promise-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>client</var>，一个<a data-link-type="dfn" href="#dfn-service-worker-client"
                id="ref-for-dfn-service-worker-client⑤①">服务工作者客户端</a></p>
          <dd data-md>
            <p><var>promise</var>，一个<a data-link-type="dfn" href="http://tc39.github.io/ecma262/#sec-promise-objects"
                id="ref-for-sec-promise-objects③③">promise</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>无</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果 <var>client</var> 是一个<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-environment-settings-object②⑤">环境设置对象</a>，则：</p>
            <ol>
              <li data-md>
                <p>如果 <var>client</var> 不是一个<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"
                    id="ref-for-secure-context⑤">安全上下文</a>，则在 <var>promise</var> 的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                    id="ref-for-relevant-settings-object③③">相关设置对象</a>的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                    id="ref-for-responsible-event-loop②①">负责的事件循环</a>上使用<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                    id="ref-for-dom-manipulation-task-source②⑦">DOM 操作任务源</a><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                    id="ref-for-queue-a-task④②">将任务排队</a>以使用 "<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑧">SecurityError</a></code>"
                  <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②④">DOMException</a></code>
                  拒绝 <var>promise</var>，并中止这些步骤。
                </p>
            </ol>
          <li data-md>
            <p>否则：</p>
            <ol>
              <li data-md>
                <p>如果 <var>client</var> 的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"
                    id="ref-for-concept-environment-creation-url⑨">创建 URL</a> 不是一个<a data-link-type="dfn"
                    href="https://www.w3.org/TR/secure-contexts/#potentially-trustworthy-url"
                    id="ref-for-potentially-trustworthy-url①">潜在可信 URL</a>，则在 <var>promise</var> 的<a
                    data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                    id="ref-for-relevant-settings-object③④">相关设置对象</a>的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                    id="ref-for-responsible-event-loop②②">负责的事件循环</a>上使用<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                    id="ref-for-dom-manipulation-task-source②⑧">DOM 操作任务源</a><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                    id="ref-for-queue-a-task④③">将任务排队</a>以使用 "<code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑨">SecurityError</a></code>"
                  <code
                    class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑤">DOMException</a></code>
                  拒绝 <var>promise</var>，并中止这些步骤。
                </p>
            </ol>
          <li data-md>
            <p>如果 <var>client</var> 是一个<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                id="ref-for-environment-settings-object②⑥">环境设置对象</a>并且不是一个<a data-link-type="dfn"
                href="#dfn-window-client" id="ref-for-dfn-window-client①③">窗口客户端</a>，则：
            </p>
            <ol>
              <li data-md>
                <p>令 <var>clientObject</var> 为以 <var>client</var> 作为参数运行<a data-link-type="dfn" href="#create-client"
                    id="ref-for-create-client①">创建客户端</a>算法的结果。</p>
              <li data-md>
                <p>在 <var>promise</var> 的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                    id="ref-for-relevant-settings-object③⑤">相关设置对象</a>的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                    id="ref-for-responsible-event-loop②③">负责的事件循环</a>上使用<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                    id="ref-for-dom-manipulation-task-source②⑨">DOM 操作任务源</a><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                    id="ref-for-queue-a-task④④">将任务排队</a>以使用 <var>clientObject</var> 解决
                  <var>promise</var>，并中止这些步骤。
                </p>
            </ol>
          <li data-md>
            <p>否则：</p>
            <ol>
              <li data-md>
                <p>令 <var>browsingContext</var> 为 null。</p>
              <li data-md>
                <p>如果 <var>client</var> 是一个<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"
                    id="ref-for-environment-settings-object②⑦">环境设置对象</a>，则将
                  <var>browsingContext</var> 设置为 <var>client</var> 的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"
                    id="ref-for-concept-settings-object-global①①">全局对象</a>的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"
                    id="ref-for-browsing-context⑦">浏览上下文</a>。
                </p>
              <li data-md>
                <p>否则，将 <var>browsingContext</var> 设置为 <var>client</var> 的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context"
                    id="ref-for-concept-environment-target-browsing-context②">目标浏览上下文</a>。</p>
              <li data-md>
                <p>令 <var>navigable</var> 为具有 <var>browsingContext</var> 的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc"
                    id="ref-for-nav-bc①">活动浏览上下文</a>的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"
                    id="ref-for-navigable①">可导航对象</a>。
                </p>
              <li data-md>
                <p>在 <var>browsingContext</var> 的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"
                    id="ref-for-event-loop①⑦">事件循环</a>上使用<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source"
                    id="ref-for-user-interaction-task-source④">用户交互任务源</a><a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                    id="ref-for-queue-a-task④⑤">将任务排队</a>以运行以下步骤：
                </p>
                <ol>
                  <li data-md>
                    <p>令 <var>frameType</var> 为以 <var>navigable</var> 运行<a data-link-type="dfn" href="#get-frame-type"
                        id="ref-for-get-frame-type④">获取框架类型</a>的结果。</p>
                  <li data-md>
                    <p>令 <var>visibilityState</var> 为 <var>browsingContext</var> 的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                        id="ref-for-nav-document①④">活动文档</a>的 <code
                        class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/page-visibility/#dom-document-visibilitystate" id="ref-for-dom-document-visibilitystate⑤">visibilityState</a></code>
                      属性值。</p>
                  <li data-md>
                    <p>令 <var>focusState</var> 为以 <var>browsingContext</var> 的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                        id="ref-for-nav-document①⑤">活动文档</a>作为参数运行<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps"
                        id="ref-for-has-focus-steps④">具有焦点步骤</a>的结果。
                    </p>
                  <li data-md>
                    <p>令 <var>ancestorOriginsList</var> 为空列表。</p>
                  <li data-md>
                    <p>如果 <var>client</var> 是一个<a data-link-type="dfn" href="#dfn-window-client"
                        id="ref-for-dfn-window-client①④">窗口客户端</a>，则将
                      <var>ancestorOriginsList</var> 设置为 <var>browsingContext</var> 的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"
                        id="ref-for-nav-document①⑥">活动文档</a>的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"
                        id="ref-for-concept-relevant-global⑨">相关全局对象</a>的 <code
                        class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" id="ref-for-location④">Location</a></code>
                      对象的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/browsers.html#concept-location-ancestor-origins-list"
                        id="ref-for-concept-location-ancestor-origins-list④">祖先源列表</a>的关联列表。
                    </p>
                  <li data-md>
                    <p>在 <var>promise</var> 的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"
                        id="ref-for-relevant-settings-object③⑥">相关设置对象</a>的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"
                        id="ref-for-responsible-event-loop②④">负责的事件循环</a>上使用<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"
                        id="ref-for-dom-manipulation-task-source③⓪">DOM 操作任务源</a><a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"
                        id="ref-for-queue-a-task④⑥">将任务排队</a>以运行以下步骤：
                    </p>
                    <ol>
                      <li data-md>
                        <p>如果 <var>client</var> 的<a data-link-type="dfn" href="#service-worker-client-discarded-flag"
                            id="ref-for-service-worker-client-discarded-flag⑤">已丢弃标志</a>已设置，则使用
                          undefined 解决 <var>promise</var> 并中止这些步骤。</p>
                      <li data-md>
                        <p>令 <var>windowClient</var> 为使用
                          <var>client</var>、<var>frameType</var>、<var>visibilityState</var>、<var>focusState</var>
                          和 <var>ancestorOriginsList</var> 运行<a data-link-type="dfn" href="#create-window-client"
                            id="ref-for-create-window-client④">创建窗口客户端</a>的结果。
                        </p>
                      <li data-md>
                        <p>使用 <var>windowClient</var> 解决 <var>promise</var>。</p>
                    </ol>
                </ol>
            </ol>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="查询缓存">
        <h3 class="heading settled" id="query-cache-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="query-cache">查询缓存</dfn></span><a class="self-link"
            href="#query-cache-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>requestQuery</var>，一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request"
                id="ref-for-concept-request①①">请求</a></p>
          <dd data-md>
            <p><var>options</var>，一个可选的 <code
                class="idl"><a data-link-type="idl" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions⑦">CacheQueryOptions</a></code>
              对象</p>
          <dd data-md>
            <p><var>targetStorage</var>，一个可选的<a data-link-type="dfn" href="#dfn-request-response-list"
                id="ref-for-dfn-request-response-list⑥">请求响应列表</a></p>
          <dt data-md>输出
          <dd data-md>
            <p><var>resultList</var>，一个<a data-link-type="dfn" href="#dfn-request-response-list"
                id="ref-for-dfn-request-response-list⑦">请求响应列表</a></p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>resultList</var> 为一个空的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                id="ref-for-list②④">列表</a>。</p>
          <li data-md>
            <p>令 <var>storage</var> 为 null。</p>
          <li data-md>
            <p>如果省略了可选参数 <var>targetStorage</var>，则将 <var>storage</var> 设置为<a data-link-type="dfn"
                href="#dfn-relevant-request-response-list"
                id="ref-for-dfn-relevant-request-response-list②">相关的请求响应列表</a>。
            </p>
          <li data-md>
            <p>否则，将 <var>storage</var> 设置为 <var>targetStorage</var>。</p>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                id="ref-for-list-iterate②①">对于</a> <var>storage</var> 中的每个 <var>requestResponse</var>：
            </p>
            <ol>
              <li data-md>
                <p>令 <var>cachedRequest</var> 为 <var>requestResponse</var> 的请求。</p>
              <li data-md>
                <p>令 <var>cachedResponse</var> 为 <var>requestResponse</var> 的响应。</p>
              <li data-md>
                <p>如果使用 <var>requestQuery</var>、<var>cachedRequest</var>、<var>cachedResponse</var> 和
                  <var>options</var> 的<a data-link-type="dfn" href="#request-matches-cached-item"
                    id="ref-for-request-matches-cached-item">请求匹配缓存项</a>返回 true，则：
                </p>
                <ol>
                  <li data-md>
                    <p>令 <var>requestCopy</var> 为 <var>cachedRequest</var> 的副本。</p>
                  <li data-md>
                    <p>令 <var>responseCopy</var> 为 <var>cachedResponse</var> 的副本。</p>
                  <li data-md>
                    <p>将 <var>requestCopy</var>/<var>responseCopy</var> 添加到 <var>resultList</var>。
                    </p>
                </ol>
            </ol>
          <li data-md>
            <p>返回 <var>resultList</var>。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="请求匹配缓存项">
        <h3 class="heading settled" id="request-matches-cached-item-algorithm"><span class="content"><dfn
              class="dfn-paneled" data-dfn-type="dfn" data-export
              id="request-matches-cached-item">请求匹配缓存项</dfn></span><a class="self-link"
            href="#request-matches-cached-item-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>requestQuery</var>，一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request"
                id="ref-for-concept-request①②">请求</a></p>
          <dd data-md>
            <p><var>request</var>，一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request"
                id="ref-for-concept-request①③">请求</a></p>
          <dd data-md>
            <p><var>response</var>，一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response①⑤">响应</a>或 null，可选，默认为 null</p>
          <dd data-md>
            <p><var>options</var>，一个可选的 <code
                class="idl"><a data-link-type="idl" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions⑧">CacheQueryOptions</a></code>
              对象</p>
          <dt data-md>输出
          <dd data-md>
            <p>一个布尔值</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果 <var>options</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-cachequeryoptions-ignoremethod" id="ref-for-dom-cachequeryoptions-ignoremethod">ignoreMethod</a></code>"]
              为 false 且 <var>request</var> 的<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-request-method"
                id="ref-for-concept-request-method⑧">方法</a>不是 `<code>GET</code>`，则返回 false。
            </p>
          <li data-md>
            <p>令 <var>queryURL</var> 为 <var>requestQuery</var> 的<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①①">URL</a>。
            </p>
          <li data-md>
            <p>令 <var>cachedURL</var> 为 <var>request</var> 的<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①②">URL</a>。
            </p>
          <li data-md>
            <p>如果 <var>options</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-cachequeryoptions-ignoresearch" id="ref-for-dom-cachequeryoptions-ignoresearch">ignoreSearch</a></code>"]
              为 true，则：</p>
            <ol>
              <li data-md>
                <p>将 <var>cachedURL</var> 的<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query"
                    id="ref-for-concept-url-query">查询</a>设置为空字符串。</p>
              <li data-md>
                <p>将 <var>queryURL</var> 的<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query"
                    id="ref-for-concept-url-query①">查询</a>设置为空字符串。</p>
            </ol>
          <li data-md>
            <p>如果 <var>queryURL</var> 在设置了<em>排除片段标志</em>的情况下不<a data-link-type="dfn"
                href="https://url.spec.whatwg.org/#concept-url-equals" id="ref-for-concept-url-equals②">等于</a>
              <var>cachedURL</var>，则返回 false。
            </p>
          <li data-md>
            <p>如果 <var>response</var> 为 null，<var>options</var>["<code
                class="idl"><a data-link-type="idl" href="#dom-cachequeryoptions-ignorevary" id="ref-for-dom-cachequeryoptions-ignorevary">ignoreVary</a></code>"]
              为 true，或者 <var>response</var> 的<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-response-header-list"
                id="ref-for-concept-response-header-list⑤">标头列表</a>不<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#header-list-contains" id="ref-for-header-list-contains">包含</a>
              `<code>Vary</code>`，则返回 true。</p>
          <li data-md>
            <p>令 <var>fieldValues</var> 为包含与<a data-link-type="dfn"
                href="https://tools.ietf.org/html/rfc7231#section-7.1.4" id="ref-for-section-7.1.4②">Vary</a> 标头的<a
                data-link-type="dfn" href="https://tools.ietf.org/html/rfc7230#section-3.2"
                id="ref-for-section-3.2②">字段值</a>对应的元素的<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑤">列表</a>，该<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header③">标头</a>的<a
                data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-name"
                id="ref-for-concept-header-name③">名称</a>为 `<code>Vary</code>`，<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#concept-header-value"
                id="ref-for-concept-header-value①">值</a>为该标头的值。</p>
          <li data-md>
            <p>对于 <var>fieldValues</var> 中的每个 <var>fieldValue</var>：</p>
            <ol>
              <li data-md>
                <p>如果 <var>fieldValue</var> 匹配 "<code>*</code>"，或者给定 <var>fieldValue</var> 和
                  <var>request</var> 的<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-header-list"
                    id="ref-for-concept-request-header-list②">标头列表</a>的<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-header-list-combine"
                    id="ref-for-concept-header-list-combine">组合值</a>与给定 <var>fieldValue</var> 和
                  <var>requestQuery</var> 的<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-header-list"
                    id="ref-for-concept-request-header-list③">标头列表</a>的<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-header-list-combine"
                    id="ref-for-concept-header-list-combine①">组合值</a>不匹配，则返回 false。
                </p>
            </ol>
          <li data-md>
            <p>返回 true。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="批量缓存操作">
        <h3 class="heading settled" id="batch-cache-operations-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="batch-cache-operations">批量缓存操作</dfn></span><a class="self-link"
            href="#batch-cache-operations-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>operations</var>，一个<a data-link-type="dfn" href="#dfn-cache-batch-operation"
                id="ref-for-dfn-cache-batch-operation③">缓存批量操作</a>对象的<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑥">列表</a></p>
          <dt data-md>输出
          <dd data-md>
            <p><var>resultList</var>，一个<a data-link-type="dfn" href="#dfn-request-response-list"
                id="ref-for-dfn-request-response-list⑧">请求响应列表</a></p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>cache</var> 为<a data-link-type="dfn" href="#dfn-relevant-request-response-list"
                id="ref-for-dfn-relevant-request-response-list③">相关的请求响应列表</a>。</p>
          <li data-md>
            <p>令 <var>backupCache</var> 为一个作为 <var>cache</var> 副本的新的<a data-link-type="dfn"
                href="#dfn-request-response-list" id="ref-for-dfn-request-response-list⑨">请求响应列表</a>。
            </p>
          <li data-md>
            <p>令 <var>addedItems</var> 为一个空的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                id="ref-for-list②⑦">列表</a>。</p>
          <li data-md>
            <p>尝试原子地运行以下子步骤：</p>
            <ol>
              <li data-md>
                <p>令 <var>resultList</var> 为一个空的<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list"
                    id="ref-for-list②⑧">列表</a>。</p>
              <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                    id="ref-for-list-iterate②②">对于</a> <var>operations</var> 中的每个
                  <var>operation</var>：
                </p>
                <ol>
                  <li data-md>
                    <p>如果 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-type"
                        id="ref-for-dfn-cache-batch-operation-type③">类型</a>既不匹配
                      "<code>delete</code>" 也不匹配 "<code>put</code>"，则<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①④">抛出</a>一个
                      <code>TypeError</code>。
                    </p>
                  <li data-md>
                    <p>如果 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-type"
                        id="ref-for-dfn-cache-batch-operation-type④">类型</a>匹配
                      "<code>delete</code>" 且 <var>operation</var> 的<a data-link-type="dfn"
                        href="#dfn-cache-batch-operation-response"
                        id="ref-for-dfn-cache-batch-operation-response②">响应</a>不为 null，则<a data-link-type="dfn"
                        href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑤">抛出</a>一个
                      <code>TypeError</code>。
                    </p>
                  <li data-md>
                    <p>如果使用 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-request"
                        id="ref-for-dfn-cache-batch-operation-request③">请求</a>、<var>operation</var>
                      的<a data-link-type="dfn" href="#dfn-cache-batch-operation-options"
                        id="ref-for-dfn-cache-batch-operation-options①">选项</a>和
                      <var>addedItems</var> 运行<a data-link-type="dfn" href="#query-cache"
                        id="ref-for-query-cache③">查询缓存</a>的结果<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty④">不为空</a>，则<a
                        data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                        id="ref-for-dfn-throw①⑥">抛出</a>一个 "<code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①⓪">InvalidStateError</a></code>"
                      <code
                        class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑥">DOMException</a></code>。
                    </p>
                  <li data-md>
                    <p>令 <var>requestResponses</var> 为一个空的<a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑨">列表</a>。
                    </p>
                  <li data-md>
                    <p>如果 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-type"
                        id="ref-for-dfn-cache-batch-operation-type⑤">类型</a>匹配
                      "<code>delete</code>"，则：</p>
                    <ol>
                      <li data-md>
                        <p>将 <var>requestResponses</var> 设置为使用 <var>operation</var> 的<a data-link-type="dfn"
                            href="#dfn-cache-batch-operation-request"
                            id="ref-for-dfn-cache-batch-operation-request④">请求</a>和
                          <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-options"
                            id="ref-for-dfn-cache-batch-operation-options②">选项</a>运行<a data-link-type="dfn"
                            href="#query-cache" id="ref-for-query-cache④">查询缓存</a>的结果。
                        </p>
                      <li data-md>
                        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate②③">对于</a> <var>requestResponses</var>
                          中的每个 <var>requestResponse</var>：
                        </p>
                        <ol>
                          <li data-md>
                            <p>从 <var>cache</var> 中<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove②">移除</a>值与
                              <var>requestResponse</var> 匹配的<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①①">项</a>。
                            </p>
                        </ol>
                    </ol>
                  <li data-md>
                    <p>否则，如果 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-type"
                        id="ref-for-dfn-cache-batch-operation-type⑥">类型</a>匹配
                      "<code>put</code>"，则：</p>
                    <ol>
                      <li data-md>
                        <p>如果 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-response"
                            id="ref-for-dfn-cache-batch-operation-response③">响应</a>为
                          null，则<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw①⑦">抛出</a>一个 <code>TypeError</code>。</p>
                      <li data-md>
                        <p>令 <var>r</var> 为 <var>operation</var> 的<a data-link-type="dfn"
                            href="#dfn-cache-batch-operation-request"
                            id="ref-for-dfn-cache-batch-operation-request⑤">请求</a>的关联<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-request"
                            id="ref-for-concept-request-request①⓪">请求</a>。</p>
                      <li data-md>
                        <p>如果 <var>r</var> 的<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-url"
                            id="ref-for-concept-request-url①③">URL</a> 的<a data-link-type="dfn"
                            href="https://url.spec.whatwg.org/#concept-url-scheme"
                            id="ref-for-concept-url-scheme⑤">方案</a>不是 "<code>http</code>" 或
                          "<code>https</code>" 之一，则<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑧">抛出</a>一个
                          <code>TypeError</code>。
                        </p>
                      <li data-md>
                        <p>如果 <var>r</var> 的<a data-link-type="dfn"
                            href="https://fetch.spec.whatwg.org/#concept-request-method"
                            id="ref-for-concept-request-method⑨">方法</a>不是
                          `<code>GET</code>`，则<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw①⑨">抛出</a>一个 <code>TypeError</code>。</p>
                      <li data-md>
                        <p>如果 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-options"
                            id="ref-for-dfn-cache-batch-operation-options③">选项</a>不为
                          null，则<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                            id="ref-for-dfn-throw②⓪">抛出</a>一个 <code>TypeError</code>。</p>
                      <li data-md>
                        <p>将 <var>requestResponses</var> 设置为使用 <var>operation</var> 的<a data-link-type="dfn"
                            href="#dfn-cache-batch-operation-request"
                            id="ref-for-dfn-cache-batch-operation-request⑥">请求</a>运行<a data-link-type="dfn"
                            href="#query-cache" id="ref-for-query-cache⑤">查询缓存</a>的结果。
                        </p>
                      <li data-md>
                        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                            id="ref-for-list-iterate②④">对于</a> <var>requestResponses</var>
                          中的每个 <var>requestResponse</var>：
                        </p>
                        <ol>
                          <li data-md>
                            <p>从 <var>cache</var> 中<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove③">移除</a>值与
                              <var>requestResponse</var> 匹配的<a data-link-type="dfn"
                                href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①②">项</a>。
                            </p>
                        </ol>
                      <li data-md>
                        <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-request"
                            id="ref-for-dfn-cache-batch-operation-request⑦">请求</a>/<var>operation</var>
                          的<a data-link-type="dfn" href="#dfn-cache-batch-operation-response"
                            id="ref-for-dfn-cache-batch-operation-response④">响应</a><a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑨">追加</a>到
                          <var>cache</var>。
                        </p>
                      <li data-md>
                        <p>如果前两个步骤中的缓存写入操作由于超出授予的配额限制而失败，则<a data-link-type="dfn"
                            href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②①">抛出</a>一个 "<code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederror①">QuotaExceededError</a></code>"
                          <code
                            class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑦">DOMException</a></code>。
                        </p>
                      <li data-md>
                        <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-request"
                            id="ref-for-dfn-cache-batch-operation-request⑧">请求</a>/<var>operation</var>
                          的<a data-link-type="dfn" href="#dfn-cache-batch-operation-response"
                            id="ref-for-dfn-cache-batch-operation-response⑤">响应</a><a data-link-type="dfn"
                            href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⓪">追加</a>到
                          <var>addedItems</var>。
                        </p>
                    </ol>
                  <li data-md>
                    <p>将 <var>operation</var> 的<a data-link-type="dfn" href="#dfn-cache-batch-operation-request"
                        id="ref-for-dfn-cache-batch-operation-request⑨">请求</a>/<var>operation</var>
                      的<a data-link-type="dfn" href="#dfn-cache-batch-operation-response"
                        id="ref-for-dfn-cache-batch-operation-response⑥">响应</a><a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①①">追加</a>到
                      <var>resultList</var>。
                    </p>
                </ol>
              <li data-md>
                <p>返回 <var>resultList</var>。</p>
            </ol>
          <li data-md>
            <p>然后，如果<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                id="ref-for-dfn-throw②②">抛出</a>了异常，则：</p>
            <ol>
              <li data-md>
                <p>从<a data-link-type="dfn" href="#dfn-relevant-request-response-list"
                    id="ref-for-dfn-relevant-request-response-list④">相关的请求响应列表</a>中<a data-link-type="dfn"
                    href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove④">移除</a>所有<a
                    data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①③">项</a>。
                </p>
              <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                    id="ref-for-list-iterate②⑤">对于</a> <var>backupCache</var> 中的每个
                  <var>requestResponse</var>：
                </p>
                <ol>
                  <li data-md>
                    <p>将 <var>requestResponse</var> <a data-link-type="dfn"
                        href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①②">追加</a>到<a
                        data-link-type="dfn" href="#dfn-relevant-request-response-list"
                        id="ref-for-dfn-relevant-request-response-list⑤">相关的请求响应列表</a>。
                    </p>
                </ol>
              <li data-md>
                <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw"
                    id="ref-for-dfn-throw②③">抛出</a>异常。</p>
            </ol>
            <p class="note" role="note"><span class="marker">注意：</span>当<a data-link-type="dfn"
                href="https://webidl.spec.whatwg.org/#dfn-throw"
                id="ref-for-dfn-throw②④">抛出</a>异常时，实现会撤消（回滚）在批量操作作业期间对缓存存储所做的任何更改。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="是异步模块">
        <h3 class="heading settled" id="is-async-module-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-noexport id="is-async-module">是异步模块</dfn></span><a class="self-link"
            href="#is-async-module-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>record</var>，一个<a data-link-type="dfn"
                href="http://tc39.github.io/ecma262/#sec-abstract-module-records"
                id="ref-for-sec-abstract-module-records">模块记录</a></p>
          <dd data-md>
            <p><var>moduleMap</var>，一个<a data-link-type="dfn"
                href="https://html.spec.whatwg.org/multipage/webappapis.html#module-map"
                id="ref-for-module-map">模块映射</a></p>
          <dd data-md>
            <p><var>base</var>，一个<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
                id="ref-for-concept-url①⑥">URL</a></p>
          <dd data-md>
            <p><var>seen</var>，一个<a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url"
                id="ref-for-concept-url①⑦">URL</a> 的<a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑦">集合</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>一个布尔值</p>
        </dl>
        <ol>
          <li data-md>
            <p>如果 <var>record</var> 不是一个<a data-link-type="dfn"
                href="http://tc39.github.io/ecma262/#sec-cyclic-module-records"
                id="ref-for-sec-cyclic-module-records">循环模块记录</a>，则：</p>
            <ol>
              <li data-md>
                <p>返回 false。</p>
            </ol>
          <li data-md>
            <p>如果 <var>record</var>.[[Async]] 为 true，则：</p>
            <ol>
              <li data-md>
                <p>返回 true。</p>
            </ol>
          <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate"
                id="ref-for-list-iterate②⑥">对于</a> <var>record</var>.[[RequestedModules]] 中的每个字符串
              <var>requested</var>：
            </p>
            <ol>
              <li data-md>
                <p>令 <var>url</var> 为给定 <var>base</var> 和 <var>requested</var> <a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#resolve-a-module-specifier"
                    id="ref-for-resolve-a-module-specifier">解析模块说明符</a>的结果。
                </p>
              <li data-md>
                <p class="assertion">断言：<var>url</var> 永远不会失败，因为<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#resolve-a-module-specifier"
                    id="ref-for-resolve-a-module-specifier①">解析模块说明符</a>先前必须已使用这两个相同的参数成功。</p>
              <li data-md>
                <p>如果 <var>seen</var> 不<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain"
                    id="ref-for-list-contain⑤">包含</a> <var>url</var>，则：</p>
                <ol>
                  <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append"
                        id="ref-for-set-append④">追加</a> <var>url</var> 到 <var>seen</var>。
                    </p>
                  <li data-md>
                    <p>如果 <var>moduleMap</var>[<var>url</var>] 没有<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record"
                        id="ref-for-concept-script-record①">记录</a>，则：</p>
                    <ol>
                      <li data-md>
                        <p>返回 false。</p>
                    </ol>
                  <li data-md>
                    <p>如果对于 <var>moduleMap</var>[<var>url</var>] 的<a data-link-type="dfn"
                        href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record"
                        id="ref-for-concept-script-record②">记录</a>、<var>moduleMap</var>、<var>base</var>
                      和 <var>seen</var>，<a data-link-type="dfn" href="#is-async-module"
                        id="ref-for-is-async-module①">是异步模块</a>为 true，则：
                    </p>
                    <ol>
                      <li data-md>
                        <p>返回 true。</p>
                    </ol>
                </ol>
            </ol>
          <li data-md>
            <p>返回 false。</p>
        </ol>
      </section>
      <section class="algorithm" data-algorithm="查找竞争响应">
        <h3 class="heading settled" id="lookup-race-response-algorithm"><span class="content"><dfn class="dfn-paneled"
              data-dfn-type="dfn" data-export id="lookup-race-response">查找竞争响应</dfn></span><a class="self-link"
            href="#lookup-race-response-algorithm"></a></h3>
        <dl>
          <dt data-md>输入
          <dd data-md>
            <p><var>request</var>，一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request"
                id="ref-for-concept-request①④">请求</a></p>
          <dt data-md>输出
          <dd data-md>
            <p>一个<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response"
                id="ref-for-concept-response①⑥">响应</a>或 null</p>
        </dl>
        <ol>
          <li data-md>
            <p>令 <var>registration</var> 为 null。</p>
          <li data-md>
            <p>如果 <var>request</var> 是一个<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#non-subresource-request"
                id="ref-for-non-subresource-request④">非子资源请求</a>，则：</p>
            <ol>
              <li data-md>
                <p>如果 <var>request</var> 的<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-reserved-client"
                    id="ref-for-concept-request-reserved-client②">保留客户端</a>为 null，则返回 null。</p>
              <li data-md>
                <p>令 <var>storage key</var> 为给定 <var>request</var> 的<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-reserved-client"
                    id="ref-for-concept-request-reserved-client③">保留客户端</a>运行<a data-link-type="dfn"
                    href="https://storage.spec.whatwg.org/#obtain-a-storage-key"
                    id="ref-for-obtain-a-storage-key①①">获取存储密钥</a>的结果。
                </p>
              <li data-md>
                <p>将 <var>registration</var> 设置为给定 <var>storage key</var> 和 <var>request</var> 的<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①④">URL</a>
                  运行<a data-link-type="dfn" href="#match-service-worker-registration"
                    id="ref-for-match-service-worker-registration⑧">匹配服务工作者注册</a>的结果。</p>
            </ol>
          <li data-md>
            <p>否则，如果 <var>request</var> 是一个<a data-link-type="dfn"
                href="https://fetch.spec.whatwg.org/#subresource-request" id="ref-for-subresource-request③">子资源请求</a>，则：
            </p>
            <ol>
              <li data-md>
                <p>令 <var>client</var> 为 <var>request</var> 的<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-request-client"
                    id="ref-for-concept-request-client⑤">客户端</a>。</p>
              <li data-md>
                <p>如果 <var>client</var> 的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                    id="ref-for-concept-environment-active-service-worker③⓪">活动服务工作者</a>为 null，则返回
                  null。</p>
              <li data-md>
                <p>将 <var>registration</var> 设置为 <var>client</var> 的<a data-link-type="dfn"
                    href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"
                    id="ref-for-concept-environment-active-service-worker③①">活动服务工作者</a>的<a data-link-type="dfn"
                    href="#dfn-containing-service-worker-registration"
                    id="ref-for-dfn-containing-service-worker-registration②⓪">包含服务工作者注册</a>。</p>
            </ol>
          <li data-md>
            <p>否则，返回 null。</p>
          <li data-md>
            <p>令 <var>activeWorker</var> 为 <var>registration</var> 的<a data-link-type="dfn" href="#dfn-active-worker"
                id="ref-for-dfn-active-worker⑤⑦">活动工作者</a>。</p>
          <li data-md>
            <p>令 <var>map</var> 为 <var>activeWorker</var> 的<a data-link-type="dfn"
                href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object②⓪">全局对象</a>的<a
                data-link-type="dfn" href="#serviceworkerglobalscope-race-response-map"
                id="ref-for-serviceworkerglobalscope-race-response-map③">竞争响应映射</a>。</p>
          <li data-md>
            <p>如果 <var>map</var>[<var>request</var>] <a data-link-type="dfn"
                href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑦">存在</a>，则：</p>
            <ol>
              <li data-md>
                <p>令 <var>entry</var> 为 <var>map</var>[<var>request</var>]。</p>
              <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove"
                    id="ref-for-map-remove⑦">移除</a> <var>map</var>[<var>request</var>]。</p>
              <li data-md>
                <p>等待直到 <var>entry</var> 的<a data-link-type="dfn" href="#race-response-value"
                    id="ref-for-race-response-value⑧">值</a>不是 "<code>pending</code>"</p>
              <li data-md>
                <p>如果 <var>entry</var> 的<a data-link-type="dfn" href="#race-response-value"
                    id="ref-for-race-response-value⑨">值</a>是<a data-link-type="dfn"
                    href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①⑦">响应</a>，则返回
                  <var>entry</var> 的<a data-link-type="dfn" href="#race-response-value"
                    id="ref-for-race-response-value①⓪">值</a>。
                </p>
            </ol>
          <li data-md>
            <p>返回 null。</p>
        </ol>
      </section>
    </section>
    <section>
      <h2 class="heading settled" id="extended-http-headers"><span class="content">附录 B：扩展 HTTP 标头</span><a
          class="self-link" href="#extended-http-headers"></a></h2>
      <section>
        <h3 class="heading settled" id="service-worker-script-request"><span class="content">Service Worker
            脚本请求</span><a class="self-link" href="#service-worker-script-request"></a></h3>
        <p>一个用于<a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch"
            id="ref-for-concept-fetch①⑥">获取</a> <a data-link-type="dfn" href="#dfn-service-worker"
            id="ref-for-dfn-service-worker①①④">service worker</a> 的<a data-link-type="dfn" href="#dfn-script-resource"
            id="ref-for-dfn-script-resource⑧">脚本资源</a>的 HTTP 请求将包含以下<a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header④">标头</a>：</p>
        <dl>
          <dt data-md>`<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
              id="service-worker"><code>Service-Worker</code></dfn>`
          <dd data-md>
            <p>指示此请求是一个 <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①⑤">service
                worker</a> 的<a data-link-type="dfn" href="#dfn-script-resource"
                id="ref-for-dfn-script-resource⑨">脚本资源</a>请求。</p>
            <p class="note" role="note"><span class="marker">注意：</span>此标头有助于管理员记录请求并检测威胁。</p>
        </dl>
      </section>
      <section>
        <h3 class="heading settled" id="service-worker-script-response"><span class="content">Service Worker
            脚本响应</span><a class="self-link" href="#service-worker-script-response"></a></h3>
        <p>对 <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①⑥">service
            worker</a> 的<a data-link-type="dfn" href="#dfn-script-resource"
            id="ref-for-dfn-script-resource①⓪">脚本资源</a>请求的 HTTP 响应可以包含以下<a data-link-type="dfn"
            href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header⑤">标头</a>：</p>
        <dl>
          <dt data-md>`<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport
              id="service-worker-allowed"><code>Service-Worker-Allowed</code></dfn>`
          <dd data-md>
            <p>指示用户代理将覆盖路径限制，该限制限制了脚本可以<a data-link-type="dfn" href="#dfn-control"
                id="ref-for-dfn-control③">控制</a>的最大允许<a data-link-type="dfn" href="#dfn-scope-url"
                id="ref-for-dfn-scope-url①⑨">作用域 URL</a>，并将其设置为给定值。
            </p>
            <p class="note" role="note"><span class="marker">注意：</span>该值为一个 URL。如果给定的是相对 URL，则会根据脚本的 URL
              进行解析。</p>
        </dl>
        <div class="example" id="example-3c0435b3">
          <a class="self-link" href="#example-3c0435b3"></a> 默认作用域：
          <pre class="highlight"><c- c1>// 最大允许作用域默认为脚本所在的路径</c->
<c- c1>// 在此示例中为 "/js/"</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/js/sw.js"</c-><c- p>).</c->then<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- u>"安装成功，默认作用域为 '/js/'。"</c-><c- p>);</c->
<c- p>});</c->
</pre>
        </div>
        <div class="example" id="example-7c01199a">
          <a class="self-link" href="#example-7c01199a"></a> 没有 Service-Worker-Allowed 标头的上级路径：
          <pre class="highlight"><c- c1>// 将作用域设置为脚本位置的上级路径</c->
<c- c1>// 响应中没有 Service-Worker-Allowed 标头</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/js/sw.js"</c-><c- p>,</c-> <c- p>{</c-> scope<c- o>:</c-> <c- u>"/"</c-> <c- p>}).</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c-><c- u>"由于违反路径限制，安装失败。"</c-><c- p>);</c->
<c- p>});</c->
</pre>
        </div>
        <div class="example" id="example-4ac10046">
          <a class="self-link" href="#example-4ac10046"></a> 带有 Service-Worker-Allowed 标头的上级路径：
          <pre class="highlight"><c- c1>// 将作用域设置为脚本位置的上级路径</c->
<c- c1>// 响应中包含 "Service-Worker-Allowed : /"</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/js/sw.js"</c-><c- p>,</c-> <c- p>{</c-> scope<c- o>:</c-> <c- u>"/"</c-> <c- p>}).</c->then<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
    console<c- p>.</c->log<c- p>(</c-><c- u>"安装成功，因为最大允许作用域已覆盖为 '/'。"</c-><c- p>);</c->
<c- p>});</c->
</pre>
        </div>
        <div class="example" id="example-e39a8279">
          <a class="self-link" href="#example-e39a8279"></a> 即使带有 Service-Worker-Allowed 标头也存在路径限制冲突：
          <pre class="highlight"><c- c1>// 将作用域设置为脚本位置的上级路径</c->
<c- c1>// 响应中包含 "Service-Worker-Allowed : /foo"</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/foo/bar/sw.js"</c-><c- p>,</c-> <c- p>{</c-> scope<c- o>:</c-> <c- u>"/"</c-> <c- p>}).</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
    console<c- p>.</c->error<c- p>(</c-><c- u>"安装失败，因为作用域仍超出覆盖的最大允许作用域。"</c-><c- p>);</c->
<c- p>});</c->
</pre>
        </div>
      </section>
      <section>
        <h3 class="heading settled" id="syntax"><span class="content">语法</span><a class="self-link" href="#syntax"></a>
        </h3>
        <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①⑦">service
            worker</a> 的<a data-link-type="dfn" href="#dfn-script-resource"
            id="ref-for-dfn-script-resource①①">脚本资源</a>请求和响应使用的标头值的 <a data-link-type="biblio" href="#biblio-rfc5234"
            title="语法规范的增强 BNF：ABNF">ABNF</a>：</p>
        <pre>Service-Worker = %x73.63.72.69.70.74 ; "script"，区分大小写
</pre>
        <p class="note" role="note"><span class="marker">注意：</span>Service-Worker-Allowed 标头值的验证是通过 URL
          解析算法（在更新算法中）完成的，而不是使用 ABNF。</p>
      </section>
    </section>
    <section>
      <h2 class="heading settled" data-level="8" id="acknowledgements"><span class="secno">8. </span><span
          class="content">致谢</span><a class="self-link" href="#acknowledgements"></a></h2>
      <p>深深感谢 Andrew Betts 组织并主持了一个由志同道合者组成的小型研讨会，其中包括：Jake Archibald、Jackson Gabbard、Tobie Langel、Robin
        Berjon、Patrick Lauke、Christian Heilmann。 благодаря清晰的讨论和概述的用例，许多事情成为可能。还要感谢 Andrew 提高了人们对离线问题的认识。他组织的
        EdgeConf 并将离线作为一个持续性议题，为这项工作的进展创造了许多机会和联系。</p>
      <p>在 service worker 的整个开发过程中，Anne van Kesteren 慷慨地贡献了他对 Web 平台奥秘和标准制定经验的百科全书般的知识。没有他之前在描述 URL、HTTP
        Fetch、Promises 和 DOM 的真实行为方面的工作，本规范将是不完整的。同样，没有 Ian Hickson 严谨的 Web Worker 规范，本规范也不可能实现。非常感谢他。</p>
      <p>排名不分先后，深深感谢以下人士的设计指导和讨论：Jungkee Song、Alec Flett、David Barrett-Kahn、Aaron Boodman、Michael Nordman、Tom
        Ashworth、Kinuko Yasuda、Darin Fisher、Jonas Sicking、Jesús Leganés Combarro、Mark Christian、Dave
        Hermann、Yehuda Katz、François Remy、Ilya Grigorik、Will Chan、Domenic Denicola、Nikhil Marathe、Yves
        Lafon、Adam Barth、Greg Simon、Devdatta Akhawe、Dominic Cooney、Jeffrey Yasskin、Joshua Bell、Boris
        Zbarsky、Matt Falkenhagen、Tobie Langel、Gavin Peters、Ben Kelly、Hiroki Nakagawa、Jake Archibald、Josh
        Soref、Jinho Bang、Yutaka Hirano、Michael(tm) Smith、isonmad、Ali Alabbas、Philip Jägenstedt、Mike Pennisi 和
        Eric Willigers。</p>
      <p>Jason Weber、Chris Wilson、Paul Kinlan、Ehsan Akhgari 和 Daniel Austin 就需求和标准化过程提供了宝贵且及时的反馈。</p>
      <p>作者们还要感谢 Dimitri Glazkov，他的脚本和格式化工具对本规范的制作至关重要。作者们也非常感谢他的悉心指导。</p>
      <p>还要感谢 Vivian Cromwell、Greg Simon、Alex Komoroske、Wonsuk Lee 和 Seojin Kim 给予的大力专业支持。</p>
    </section>
  </main>
  <div data-fill-with="conformance">
    <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">一致性</span><a class="self-link"
        href="#w3c-conformance"></a></h2>
    <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">文档约定</span><a class="self-link"
        href="#w3c-conventions"></a></h3>
    <p>一致性要求通过描述性断言和 RFC 2119 术语的组合来表达。
      本文档规范部分的关键词“MUST”、“MUST NOT”、“REQUIRED”、“SHALL”、“SHALL NOT”、“SHOULD”、“SHOULD
      NOT”、“RECOMMENDED”、“MAY”和“OPTIONAL”
      应按照 RFC 2119 中的描述进行解释。
      但是，为了便于阅读，
      这些词在本规范中不大写显示。 </p>
    <p>本规范的所有文本都是规范性的，
      明确标记为非规范性的章节、示例和注释除外。 <a data-link-type="biblio" href="#biblio-rfc2119" title="用于 RFC 中表示需求级别的关键词">[RFC2119]</a>
    </p>
    <p>本规范中的示例以“例如”一词引入，
      或通过 <code>class="example"</code> 与规范性文本分开，
      如下所示： </p>
    <div class="example" id="w3c-example">
      <a class="self-link" href="#w3c-example"></a>
      <p>这是一个信息性示例的例子。 </p>
    </div>
    <p>信息性注释以“注意”一词开头，
      并通过 <code>class="note"</code> 与规范性文本分开，
      如下所示： </p>
    <p class="note" role="note">注意，这是一个信息性注释。</p>
    <section>
      <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">一致性算法</span><a
          class="self-link" href="#w3c-conformant-algorithms"></a></h3>
      <p>作为算法一部分以祈使语气表述的要求
        （例如“去除任何前导空格字符”
        或“返回 false 并中止这些步骤”）
        应根据引入算法时使用的关键词
        （“必须”、“应该”、“可以”等）的含义进行解释。 </p>
      <p>以算法或特定步骤形式表述的一致性要求
        可以以任何方式实现，
        只要最终结果等效即可。
        特别是，本规范中定义的算法
        旨在易于理解，
        并非旨在追求高性能。
        鼓励实现者进行优化。 </p>
    </section>
  </div>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">索引</span><a class="self-link"
      href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">本规范定义的术语</span><a
      class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
    <li><a href="#activate">激活</a><span>，位于 § 未编号章节</span>
    <li><a href="#service-worker-global-scope-activate-event">activate</a><span>，位于 § 4.8</span>
    <li><a href="#dom-serviceworkerstate-activated">"activated"</a><span>，位于 § 3.1</span>
    <li><a href="#dom-serviceworkerstate-activating">"activating"</a><span>，位于 § 3.1</span>
    <li>
      active
      <ul>
        <li><a href="#dom-serviceworkerregistration-active">ServiceWorkerRegistration 的属性</a><span>，
            位于 § 3.2.4</span>
        <li><a href="#extendableevent-active">ExtendableEvent 的 dfn</a><span>，位于 § 4.4</span>
      </ul>
    <li><a href="#dfn-active-worker">活动工作者</a><span>，位于 § 2.3</span>
    <li><a href="#dom-cache-addall">addAll(requests)</a><span>，位于 § 5.4.4</span>
    <li><a href="#extendableevent-add-lifetime-promise">添加生命周期承诺</a><span>，位于 § 4.4</span>
    <li><a href="#dom-cache-add">add(request)</a><span>，位于 § 5.4.3</span>
    <li><a href="#dom-installevent-addroutes">addRoutes(rules)</a><span>，位于 § 4.5.1</span>
    <li>
      "all"
      <ul>
        <li><a href="#dom-clienttype-all">ClientType 的枚举值</a><span>，位于 § 4.3</span>
        <li><a href="#dom-serviceworkerupdateviacache-all">ServiceWorkerUpdateViaCache 的枚举值</a><span>，
            位于 § 3.2</span>
      </ul>
    <li><a href="#all-fetch-listeners-are-empty">所有 Fetch 侦听器均为空</a><span>，位于 § 未编号章节</span>
    <li><a href="#service-worker-all-fetch-listeners-are-empty-flag">所有 fetch 侦听器均为空标志</a><span>，
        位于 § 2.1</span>
    <li><a href="#dom-windowclient-ancestororigins">ancestorOrigins</a><span>，位于 § 4.2.9</span>
    <li><a href="#windowclient-ancestor-origins-array">祖先源数组</a><span>，位于 § 4.2</span>
    <li><a href="#dom-frametype-auxiliary">"auxiliary"</a><span>，位于 § 4.2</span>
    <li><a href="#dfn-bad-import-script-response">错误的导入脚本响应</a><span>，位于 § 未编号章节</span>
    <li><a href="#batch-cache-operations">批量缓存操作</a><span>，位于 § 未编号章节</span>
    <li><a href="#dfn-service-worker-client-browsing-context">浏览上下文</a><span>，位于 § 4.2</span>
    <li><a href="#dom-routersourceenum-cache">"cache"</a><span>，位于 § 4.5</span>
    <li><a href="#cache">Cache</a><span>，位于 § 5.4</span>
    <li><a href="#dfn-cache-batch-operation">缓存批量操作</a><span>，位于 § 5.4</span>
    <li>
      cacheName
      <ul>
        <li><a href="#dom-multicachequeryoptions-cachename">MultiCacheQueryOptions 的字典成员</a><span>，位于
            § 5.5</span>
        <li><a href="#dom-routersourcedict-cachename">RouterSourceDict 的字典成员</a><span>，位于
            § 4.5</span>
      </ul>
    <li><a href="#dictdef-cachequeryoptions">CacheQueryOptions</a><span>，位于 § 5.4</span>
    <li><a href="#global-caches-attribute">caches</a><span>，位于 § 5.3.1</span>
    <li><a href="#cachestorage">CacheStorage</a><span>，位于 § 5.5</span>
    <li><a href="#check-router-registration-limit">检查路由注册限制</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-clients-claim">claim()</a><span>，位于 § 4.3.4</span>
    <li><a href="#dfn-classic-scripts-imported-flag">经典脚本导入标志</a><span>，位于 § 2.1</span>
    <li><a href="#clear-registration">清除注册</a><span>，位于 § 未编号章节</span>
    <li><a href="#client">Client</a><span>，位于 § 4.2</span>
    <li><a href="#dfn-job-client">client</a><span>，位于 § 未编号章节</span>
    <li>
      clientId
      <ul>
        <li><a href="#dom-fetchevent-clientid">FetchEvent 的属性</a><span>，位于 § 4.6.3</span>
        <li><a href="#dom-fetcheventinit-clientid">FetchEventInit 的字典成员</a><span>，位于 § 4.6</span>
      </ul>
    <li><a href="#dfn-client-message-queue">客户端消息队列</a><span>，位于 § 3.4</span>
    <li><a href="#dictdef-clientqueryoptions">ClientQueryOptions</a><span>，位于 § 4.3</span>
    <li><a href="#clients">Clients</a><span>，位于 § 4.3</span>
    <li><a href="#dom-serviceworkerglobalscope-clients">clients</a><span>，位于 § 4.1.1</span>
    <li><a href="#enumdef-clienttype">ClientType</a><span>，位于 § 4.3</span>
    <li><a href="#dom-routerrule-condition">condition</a><span>，位于 § 4.5</span>
    <li><a href="#dfn-count-router-condition-result-condition-count">条件计数</a><span>，位于 § 4.5</span>
    <li>
      constructor(type)
      <ul>
        <li><a href="#dom-extendableevent-extendableevent">ExtendableEvent 的构造函数</a><span>，位于
            § 4.4</span>
        <li><a href="#dom-extendablemessageevent-extendablemessageevent">ExtendableMessageEvent
            的构造函数</a><span>，位于 § 4.7</span>
        <li><a href="#dom-installevent-installevent">InstallEvent 的构造函数</a><span>，位于 § 4.5</span>
      </ul>
    <li>
      constructor(type, eventInitDict)
      <ul>
        <li><a href="#dom-extendableevent-extendableevent">ExtendableEvent 的构造函数</a><span>，位于
            § 4.4</span>
        <li><a href="#dom-extendablemessageevent-extendablemessageevent">ExtendableMessageEvent
            的构造函数</a><span>，位于 § 4.7</span>
        <li><a href="#dom-fetchevent-fetchevent">FetchEvent 的构造函数</a><span>，位于 § 4.6</span>
        <li><a href="#dom-installevent-installevent">InstallEvent 的构造函数</a><span>，位于 § 4.5</span>
      </ul>
    <li><a href="#dfn-containing-job-queue">包含作业队列</a><span>，位于 § 未编号章节</span>
    <li><a href="#dfn-containing-service-worker-registration">包含 service worker 注册</a><span>，位于
        § 2.1</span>
    <li><a href="#dfn-control">controlled</a><span>，位于 § 2.5</span>
    <li><a href="#dom-serviceworkercontainer-controller">controller</a><span>，位于 § 3.4.1</span>
    <li><a href="#service-worker-container-controllerchange-event">controllerchange</a><span>，位于 § 3.5</span>
    <li><a href="#dfn-control">controlling</a><span>，位于 § 2.5</span>
    <li><a href="#dfn-control">controls</a><span>，位于 § 2.5</span>
    <li><a href="#dfn-count-router-condition-result">计数路由条件结果</a><span>，位于 § 4.5</span>
    <li><a href="#count-router-inner-conditions">计数路由内部条件</a><span>，位于 § 未编号章节</span>
    <li><a href="#create-client">创建客户端</a><span>，位于 § 未编号章节</span>
    <li><a href="#create-fetch-event-and-dispatch">创建 Fetch 事件并分派</a><span>，位于 § 未编号章节</span>
    <li><a href="#create-job">创建作业</a><span>，位于 § 未编号章节</span>
    <li><a href="#create-window-client">创建窗口客户端</a><span>，位于 § 未编号章节</span>
    <li>
      data
      <ul>
        <li><a href="#dom-extendablemessageevent-data">ExtendableMessageEvent 的属性</a><span>，位于
            § 4.7.1</span>
        <li><a href="#dom-extendablemessageeventinit-data">ExtendableMessageEventInit 的字典成员</a><span>，
            位于 § 4.7</span>
      </ul>
    <li><a href="#dfn-dedicatedworker-client">专用工作者客户端</a><span>，位于 § 2.4</span>
    <li><a href="#dom-cachestorage-delete">delete(cacheName)</a><span>，位于 § 5.5.4</span>
    <li><a href="#dom-cache-delete">delete(request)</a><span>，位于 § 5.4.6</span>
    <li><a href="#dom-cache-delete">delete(request, options)</a><span>，位于 § 5.4.6</span>
    <li><a href="#dom-navigationpreloadmanager-disable">disable()</a><span>，位于 § 3.6.2</span>
    <li><a href="#service-worker-client-discarded-flag">已丢弃标志</a><span>，位于 § 2.4</span>
    <li><a href="#dom-navigationpreloadmanager-enable">enable()</a><span>，位于 § 3.6.1</span>
    <li><a href="#dom-navigationpreloadstate-enabled">enabled</a><span>，位于 § 3.6</span>
    <li><a href="#dfn-job-equivalent">equivalent</a><span>，位于 § 未编号章节</span>
    <li><a href="#extendableevent">ExtendableEvent</a><span>，位于 § 4.4</span>
    <li><a href="#dictdef-extendableeventinit">ExtendableEventInit</a><span>，位于 § 4.4</span>
    <li><a href="#dom-extendableevent-extendableevent">ExtendableEvent(type)</a><span>，位于 § 4.4</span>
    <li><a href="#dom-extendableevent-extendableevent">ExtendableEvent(type, eventInitDict)</a><span>，位于
        § 4.4</span>
    <li><a href="#extendablemessageevent">ExtendableMessageEvent</a><span>，位于 § 4.7</span>
    <li><a href="#dictdef-extendablemessageeventinit">ExtendableMessageEventInit</a><span>，位于 § 4.7</span>
    <li><a href="#dom-extendablemessageevent-extendablemessageevent">ExtendableMessageEvent(type)</a><span>，位于
        § 4.7</span>
    <li><a href="#dom-extendablemessageevent-extendablemessageevent">ExtendableMessageEvent(type,
        eventInitDict)</a><span>，位于 § 4.7</span>
    <li><a href="#extendableevent-extend-lifetime-promises">扩展生命周期承诺</a><span>，位于 § 4.4</span>
    <li><a href="#service-worker-global-scope-fetch-event">fetch</a><span>，位于 § 4.8</span>
    <li><a href="#dom-routersourceenum-fetch-event">"fetch-event"</a><span>，位于 § 4.5</span>
    <li><a href="#fetchevent">FetchEvent</a><span>，位于 § 4.6</span>
    <li><a href="#service-worker-timing-info-fetch-event-dispatch-time">fetch 事件分派时间</a><span>，位于
        § 2.2</span>
    <li><a href="#dictdef-fetcheventinit">FetchEventInit</a><span>，位于 § 4.6</span>
    <li><a href="#dom-fetchevent-fetchevent">FetchEvent(type, eventInitDict)</a><span>，位于 § 4.6</span>
    <li><a href="#finish-job">完成作业</a><span>，位于 § 未编号章节</span>
    <li><a href="#fire-functional-event">触发功能事件</a><span>，位于 § 未编号章节</span>
    <li><a href="#fire-functional-event">Fire Functional Event</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-windowclient-focus">focus()</a><span>，位于 § 4.2.10</span>
    <li><a href="#dom-windowclient-focused">focused</a><span>，位于 § 4.2.8</span>
    <li><a href="#dfn-service-worker-client-focusstate">焦点状态</a><span>，位于 § 4.2</span>
    <li><a href="#dfn-job-force-bypass-cache-flag">强制绕过缓存标志</a><span>，位于 § 未编号章节</span>
    <li><a href="#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag">强制绕过导入脚本缓存标志</a><span>，位于 §
        4.1</span>
    <li><a href="#dfn-service-worker-client-frame-type">框架类型</a><span>，位于 § 4.2</span>
    <li><a href="#enumdef-frametype">FrameType</a><span>，位于 § 4.2</span>
    <li><a href="#dom-client-frametype">frameType</a><span>，位于 § 4.2.2</span>
    <li><a href="#dfn-functional-events">功能事件</a><span>，位于 § 2.1.2</span>
    <li><a href="#get-frame-type">获取框架类型</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-clients-get">get(id)</a><span>，位于 § 4.3.1</span>
    <li><a href="#get-newest-worker">获取最新工作者</a><span>，位于 § 未编号章节</span>
    <li><a href="#get-registration">获取注册</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-serviceworkercontainer-getregistration">getRegistration()</a><span>，位于 § 3.4.4</span>
    <li><a href="#dom-serviceworkercontainer-getregistration">getRegistration(clientURL)</a><span>，位于
        § 3.4.4</span>
    <li><a href="#dom-serviceworkercontainer-getregistrations">getRegistrations()</a><span>，位于 § 3.4.5</span>
    <li><a href="#get-router-source">获取路由源</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-navigationpreloadmanager-getstate">getState()</a><span>，位于 § 3.6.4</span>
    <li><a href="#get-the-service-worker-object">获取 service worker 对象</a><span>，位于 § 3.1.1</span>
    <li><a href="#get-the-service-worker-registration-object">获取 service worker 注册对象</a><span>，
        位于 § 3.2.1</span>
    <li><a href="#get-the-service-worker-object">获取 service worker 对象</a><span>，位于 § 3.1.1</span>
    <li><a href="#get-the-service-worker-registration-object">获取 service worker 注册对象</a><span>，
        位于 § 3.2.1</span>
    <li>
      global object
      <ul>
        <li><a href="#cachestorage-global-object">CacheStorage 的 dfn</a><span>，位于 § 5.5</span>
        <li><a href="#dfn-service-worker-global-object">service worker 的 dfn</a><span>，位于 § 2.1</span>
      </ul>
    <li>
      handled
      <ul>
        <li><a href="#dom-fetchevent-handled">FetchEvent 的属性</a><span>，位于 § 4.6.6</span>
        <li><a href="#dom-fetcheventinit-handled">FetchEventInit 的字典成员</a><span>，位于 § 4.6</span>
      </ul>
    <li><a href="#handle-fetch">处理 Fetch</a><span>，位于 § 未编号章节</span>
    <li><a href="#dfn-handle-fetch-task-source">处理 fetch 任务源</a><span>，位于 § 2.6</span>
    <li><a href="#dfn-handle-functional-event-task-source">处理功能事件任务源</a><span>，位于
        § 2.6</span>
    <li><a href="#handle-service-worker-client-unload">处理 Service Worker 客户端卸载</a><span>，位于 § 未编号章节</span>
    <li><a href="#handle-user-agent-shutdown">处理用户代理关闭</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-cachestorage-has">has(cacheName)</a><span>，位于 § 5.5.2</span>
    <li><a href="#dfn-has-ever-been-evaluated-flag">曾经被评估标志</a><span>，位于 § 2.1</span>
    <li><a href="#dom-navigationpreloadstate-headervalue">headerValue</a><span>，位于 § 3.6</span>
    <li><a href="#dom-client-id">id</a><span>，位于 § 4.2.3</span>
    <li><a href="#dom-cachequeryoptions-ignoremethod">ignoreMethod</a><span>，位于 § 5.4</span>
    <li><a href="#dom-cachequeryoptions-ignoresearch">ignoreSearch</a><span>，位于 § 5.4</span>
    <li><a href="#dom-cachequeryoptions-ignorevary">ignoreVary</a><span>，位于 § 5.4</span>
    <li><a href="#dom-serviceworkerupdateviacache-imports">"imports"</a><span>，位于 § 3.2</span>
    <li><a href="#importscripts-method">importScripts(urls)</a><span>，位于 § 6.3.2</span>
    <li><a href="#dom-clientqueryoptions-includeuncontrolled">includeUncontrolled</a><span>，位于 § 4.3</span>
    <li><a href="#install">安装</a><span>，位于 § 未编号章节</span>
    <li><a href="#service-worker-global-scope-install-event">install</a><span>，位于 § 4.8</span>
    <li><a href="#dom-serviceworkerstate-installed">"installed"</a><span>，位于 § 3.1</span>
    <li><a href="#installevent">InstallEvent</a><span>，位于 § 4.5</span>
    <li><a href="#dom-installevent-installevent">InstallEvent(type)</a><span>，位于 § 4.5</span>
    <li><a href="#dom-installevent-installevent">InstallEvent(type, eventInitDict)</a><span>，位于 § 4.5</span>
    <li><a href="#dom-serviceworkerstate-installing">"installing"</a><span>，位于 § 3.1</span>
    <li><a href="#dom-serviceworkerregistration-installing">installing</a><span>，位于 § 3.2.2</span>
    <li><a href="#dfn-installing-worker">安装中工作者</a><span>，位于 § 2.3</span>
    <li><a href="#is-async-module">Is Async Module</a><span>，位于 § 未编号章节</span>
    <li><a href="#dfn-job">job</a><span>，位于 § 未编号章节</span>
    <li><a href="#dfn-job-promise">job promise</a><span>，位于 § 未编号章节</span>
    <li><a href="#dfn-job-queue">job queue</a><span>，位于 § 未编号章节</span>
    <li><a href="#dfn-job-type">job type</a><span>，位于 § 未编号章节</span>
    <li>
      keys()
      <ul>
        <li><a href="#dom-cache-keys">Cache 的方法</a><span>，位于 § 5.4.7</span>
        <li><a href="#dom-cachestorage-keys">CacheStorage 的方法</a><span>，位于 § 5.5.5</span>
      </ul>
    <li><a href="#dom-cache-keys">keys(request)</a><span>，位于 § 5.4.7</span>
    <li><a href="#dom-cache-keys">keys(request, options)</a><span>，位于 § 5.4.7</span>
    <li>
      lastEventId
      <ul>
        <li><a href="#dom-extendablemessageevent-lasteventid">ExtendableMessageEvent 的属性</a><span>，位于
            § 4.7.3</span>
        <li><a href="#dom-extendablemessageeventinit-lasteventid">ExtendableMessageEventInit 的字典成员</a><span>，位于
            § 4.7</span>
      </ul>
    <li><a href="#dfn-last-update-check-time">上次更新检查时间</a><span>，位于 § 2.3</span>
    <li><a href="#dfn-lifecycle-events">生命周期事件</a><span>，位于 § 2.1.2</span>
    <li><a href="#dfn-job-list-of-equivalent-jobs">等效作业列表</a><span>，位于 § 未编号章节</span>
    <li><a href="#service-worker-list-of-router-rules">路由规则列表</a><span>，位于 § 2.1</span>
    <li><a href="#lookup-race-response">Lookup Race Response</a><span>，位于 § 未编号章节</span>
    <li>
      matchAll()
      <ul>
        <li><a href="#dom-cache-matchall">Cache 的方法</a><span>，位于 § 5.4.2</span>
        <li><a href="#dom-clients-matchall">Clients 的方法</a><span>，位于 § 4.3.2</span>
      </ul>
    <li><a href="#dom-clients-matchall">matchAll(options)</a><span>，位于 § 4.3.2</span>
    <li><a href="#dom-cache-matchall">matchAll(request)</a><span>，位于 § 5.4.2</span>
    <li><a href="#dom-cache-matchall">matchAll(request, options)</a><span>，位于 § 5.4.2</span>
    <li>
      match(request)
      <ul>
        <li><a href="#dom-cache-match">Cache 的方法</a><span>，位于 § 5.4.1</span>
        <li><a href="#dom-cachestorage-match">CacheStorage 的方法</a><span>，位于 § 5.5.1</span>
      </ul>
    <li>
      match(request, options)
      <ul>
        <li><a href="#dom-cache-match">Cache 的方法</a><span>，位于 § 5.4.1</span>
        <li><a href="#dom-cachestorage-match">CacheStorage 的方法</a><span>，位于 § 5.5.1</span>
      </ul>
    <li><a href="#match-router-condition">匹配路由条件</a><span>，位于 § 未编号章节</span>
    <li><a href="#match-service-worker-registration">匹配 Service Worker 注册</a><span>，位于 § 未编号章节</span>
    <li>
      message
      <ul>
        <li><a href="#service-worker-container-message-event">ServiceWorkerContainer 的事件</a><span>，位于
            § 3.5</span>
        <li><a href="#eventdef-serviceworkerglobalscope-message">ServiceWorkerGlobalScope 的事件</a><span>，
            位于 § 4.8</span>
      </ul>
    <li>
      messageerror
      <ul>
        <li><a href="#service-worker-container-messageerror-event">ServiceWorkerContainer 的事件</a><span>，
            位于 § 3.5</span>
        <li><a href="#eventdef-serviceworkerglobalscope-messageerror">ServiceWorkerGlobalScope 的事件</a><span>，位于
            § 4.8</span>
      </ul>
    <li><a href="#dictdef-multicachequeryoptions">MultiCacheQueryOptions</a><span>，位于 § 5.5</span>
    <li><a href="#dfn-name-to-cache-map">名称到缓存映射</a><span>，位于 § 5.1</span>
    <li><a href="#dom-windowclient-navigate">navigate(url)</a><span>，位于 § 4.2.11</span>
    <li><a href="#dom-serviceworkerregistration-navigationpreload">navigationPreload</a><span>，位于 § 3.2.5</span>
    <li><a href="#service-worker-registration-navigation-preload-enabled-flag">导航预加载启用标志</a><span>，位于 § 2.3</span>
    <li><a href="#service-worker-registration-navigation-preload-header-value">导航预加载标头值</a><span>，位于 § 2.3</span>
    <li>
      NavigationPreloadManager
      <ul>
        <li><a href="#navigationpreloadmanager">(接口)</a><span>，位于 § 3.6</span>
        <li><a href="#service-worker-registration-navigationpreloadmanager">service worker 注册的 dfn</a><span>，位于
            § 2.3</span>
      </ul>
    <li><a href="#dictdef-navigationpreloadstate">NavigationPreloadState</a><span>，位于 § 3.6</span>
    <li><a href="#dom-frametype-nested">"nested"</a><span>，位于 § 4.2</span>
    <li><a href="#dom-routersourceenum-network">"network"</a><span>，位于 § 4.5</span>
    <li>
      "none"
      <ul>
        <li><a href="#dom-frametype-none">FrameType 的枚举值</a><span>，位于 § 4.2</span>
        <li><a href="#dom-serviceworkerupdateviacache-none">ServiceWorkerUpdateViaCache 的枚举值</a><span>，位于 §
            3.2</span>
      </ul>
    <li><a href="#dom-routercondition-not">not</a><span>，位于 § 4.5</span>
    <li><a href="#notify-controller-change">通知控制器更改</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-runningstatus-not-running">"not-running"</a><span>，位于 § 4.5</span>
    <li><a href="#dom-serviceworkerglobalscope-onactivate">onactivate</a><span>，位于 § 4.1.5</span>
    <li><a href="#dom-serviceworkercontainer-oncontrollerchange">oncontrollerchange</a><span>，位于 § 3.4.7</span>
    <li><a href="#dom-serviceworkerglobalscope-onfetch">onfetch</a><span>，位于 § 4.1.5</span>
    <li><a href="#dom-serviceworkerglobalscope-oninstall">oninstall</a><span>，位于 § 4.1.5</span>
    <li>
      onmessage
      <ul>
        <li><a href="#dom-serviceworkercontainer-onmessage">ServiceWorkerContainer 的属性</a><span>，位于
            § 3.4.7</span>
        <li><a href="#dom-serviceworkerglobalscope-onmessage">ServiceWorkerGlobalScope 的属性</a><span>，
            位于 § 4.1.5</span>
      </ul>
    <li>
      onmessageerror
      <ul>
        <li><a href="#dom-serviceworkercontainer-onmessageerror">ServiceWorkerContainer 的属性</a><span>，
            位于 § 3.4.7</span>
        <li><a href="#dom-serviceworkerglobalscope-onmessageerror">ServiceWorkerGlobalScope 的属性</a><span>，位于 §
            4.1.5</span>
      </ul>
    <li><a href="#dom-serviceworker-onstatechange">onstatechange</a><span>，位于 § 3.1.6</span>
    <li><a href="#dom-serviceworkerregistration-onupdatefound">onupdatefound</a><span>，位于 § 3.2.10</span>
    <li><a href="#dom-cachestorage-open">open(cacheName)</a><span>，位于 § 5.5.3</span>
    <li><a href="#dom-clients-openwindow">openWindow(url)</a><span>，位于 § 4.3.3</span>
    <li><a href="#dfn-cache-batch-operation-options">options</a><span>，位于 § 5.4</span>
    <li><a href="#dom-routercondition-or">or</a><span>，位于 § 4.5</span>
    <li>
      origin
      <ul>
        <li><a href="#dom-extendablemessageevent-origin">ExtendableMessageEvent 的属性</a><span>，位于
            § 4.7.2</span>
        <li><a href="#service-worker-client-origin">service worker client 的 dfn</a><span>，位于 § 2.4</span>
        <li><a href="#dom-extendablemessageeventinit-origin">ExtendableMessageEventInit 的字典成员</a><span>，位于 §
            4.7</span>
      </ul>
    <li><a href="#dom-serviceworkerstate-parsed">"parsed"</a><span>，位于 § 3.1</span>
    <li><a href="#parse-url-pattern">解析 URL 模式</a><span>，位于 § 未编号章节</span>
    <li><a href="#extendableevent-pending-promises-count">待处理承诺计数</a><span>，位于 § 4.4</span>
    <li><a href="#dfn-policy-container">策略容器</a><span>，位于 § 2.1</span>
    <li>
      ports
      <ul>
        <li><a href="#dom-extendablemessageevent-ports">ExtendableMessageEvent 的属性</a><span>，位于
            § 4.7.5</span>
        <li><a href="#dom-extendablemessageeventinit-ports">ExtendableMessageEventInit 的字典成员</a><span>，
            位于 § 4.7</span>
      </ul>
    <li>
      postMessage(message)
      <ul>
        <li><a href="#dom-client-postmessage-message-options">Client 的方法</a><span>，位于 § 4.2.6</span>
        <li><a href="#dom-serviceworker-postmessage-message-options">ServiceWorker 的方法</a><span>，位于
            § 3.1.5</span>
      </ul>
    <li>
      postMessage(message, options)
      <ul>
        <li><a href="#dom-client-postmessage-message-options">Client 的方法</a><span>，位于 § 4.2.6</span>
        <li><a href="#dom-serviceworker-postmessage-message-options">ServiceWorker 的方法</a><span>，位于
            § 3.1.5</span>
      </ul>
    <li>
      postMessage(message, transfer)
      <ul>
        <li><a href="#dom-client-postmessage">Client 的方法</a><span>，位于 § 4.2.5</span>
        <li><a href="#dom-serviceworker-postmessage">ServiceWorker 的方法</a><span>，位于 § 3.1.4</span>
      </ul>
    <li><a href="#fetchevent-potential-response">potential response</a><span>，位于 § 4.6</span>
    <li>
      preloadResponse
      <ul>
        <li><a href="#dom-fetchevent-preloadresponse">FetchEvent 的属性</a><span>，位于 § 4.6.2</span>
        <li><a href="#dom-fetcheventinit-preloadresponse">FetchEventInit 的字典成员</a><span>，位于
            § 4.6</span>
      </ul>
    <li><a href="#dom-cache-put">put(request, response)</a><span>，位于 § 5.4.5</span>
    <li><a href="#query-cache">查询缓存</a><span>，位于 § 未编号章节</span>
    <li><a href="#dfn-dfn-count-router-condition-result-quota-exceeded">quota exceeded</a><span>，位于 § 4.5</span>
    <li><a href="#dom-routersourceenum-race-network-and-fetch-handler">"race-network-and-fetch-handler"</a><span>,
        位于 § 4.5</span>
    <li><a href="#dfn-race-response">race response</a><span>，位于 § 4.1</span>
    <li><a href="#serviceworkerglobalscope-race-response-map">race response map</a><span>，位于 § 4.1</span>
    <li><a href="#dom-serviceworkercontainer-ready">ready</a><span>，位于 § 3.4.2</span>
    <li><a href="#serviceworkercontainer-ready-promise">ready promise</a><span>，位于 § 3.4</span>
    <li><a href="#dom-serviceworkerstate-redundant">"redundant"</a><span>，位于 § 3.1</span>
    <li><a href="#job-referrer">referrer</a><span>，位于 § 未编号章节</span>
    <li><a href="#register">注册</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-serviceworkercontainer-register">register(scriptURL)</a><span>，位于 § 3.4.3</span>
    <li><a href="#dom-serviceworkercontainer-register">register(scriptURL, options)</a><span>，位于 § 3.4.3</span>
    <li>
      registration
      <ul>
        <li><a href="#dom-serviceworkerglobalscope-registration">ServiceWorkerGlobalScope 的属性</a><span>，位于 §
            4.1.2</span>
        <li><a href="#dfn-containing-service-worker-registration">service worker 的 dfn</a><span>，位于
            § 2.1</span>
      </ul>
    <li><a href="#dfn-scope-to-registration-map">registration map</a><span>，位于 § 未编号章节</span>
    <li><a href="#dictdef-registrationoptions">RegistrationOptions</a><span>，位于 § 3.4</span>
    <li><a href="#reject-job-promise">拒绝作业承诺</a><span>，位于 § 未编号章节</span>
    <li><a href="#dfn-relevant-name-to-cache-map">相关名称到缓存映射</a><span>，位于 § 5.1</span>
    <li><a href="#dfn-relevant-request-response-list">相关请求响应列表</a><span>，位于 § 5.1</span>
    <li>
      replacesClientId
      <ul>
        <li><a href="#dom-fetchevent-replacesclientid">FetchEvent 的属性</a><span>，位于 § 4.6.5</span>
        <li><a href="#dom-fetcheventinit-replacesclientid">FetchEventInit 的字典成员</a><span>，位于
            § 4.6</span>
      </ul>
    <li>
      request
      <ul>
        <li><a href="#dom-fetchevent-request">FetchEvent 的属性</a><span>，位于 § 4.6.1</span>
        <li><a href="#dfn-cache-batch-operation-request">cache batch operation 的 dfn</a><span>，位于
            § 5.4</span>
        <li><a href="#dom-fetcheventinit-request">FetchEventInit 的字典成员</a><span>，位于 § 4.6</span>
      </ul>
    <li><a href="#dom-routercondition-requestdestination">requestDestination</a><span>，位于 § 4.5</span>
    <li><a href="#request-matches-cached-item">请求匹配缓存项</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-routercondition-requestmethod">requestMethod</a><span>，位于 § 4.5</span>
    <li><a href="#dom-routercondition-requestmode">requestMode</a><span>，位于 § 4.5</span>
    <li><a href="#dfn-request-response-list">请求响应列表</a><span>，位于 § 5.1</span>
    <li><a href="#resolve-get-client-promise">解决 Get Client Promise</a><span>，位于 § 未编号章节</span>
    <li><a href="#resolve-job-promise">解决作业承诺</a><span>，位于 § 未编号章节</span>
    <li><a href="#fetchevent-respond-with-entered-flag">respond-with entered flag</a><span>，位于 § 4.6</span>
    <li><a href="#fetchevent-respond-with-error-flag">respond-with error flag</a><span>，位于 § 4.6</span>
    <li><a href="#dom-fetchevent-respondwith">respondWith(r)</a><span>，位于 § 4.6.7</span>
    <li><a href="#dfn-cache-batch-operation-response">response</a><span>，位于 § 5.4</span>
    <li>
      resultingClientId
      <ul>
        <li><a href="#dom-fetchevent-resultingclientid">FetchEvent 的属性</a><span>，位于 § 4.6.4</span>
        <li><a href="#dom-fetcheventinit-resultingclientid">FetchEventInit 的字典成员</a><span>，位于
            § 4.6</span>
      </ul>
    <li><a href="#dictdef-routercondition">RouterCondition</a><span>，位于 § 4.5</span>
    <li><a href="#dictdef-routerrule">RouterRule</a><span>，位于 § 4.5</span>
    <li><a href="#typedefdef-routersource">RouterSource</a><span>，位于 § 4.5</span>
    <li><a href="#dictdef-routersourcedict">RouterSourceDict</a><span>，位于 § 4.5</span>
    <li><a href="#enumdef-routersourceenum">RouterSourceEnum</a><span>，位于 § 4.5</span>
    <li><a href="#run-job">运行作业</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-runningstatus-running">"running"</a><span>，位于 § 4.5</span>
    <li><a href="#service-worker-running">running</a><span>，位于 § 2.1</span>
    <li><a href="#enumdef-runningstatus">RunningStatus</a><span>，位于 § 4.5</span>
    <li><a href="#dom-routercondition-runningstatus">runningStatus</a><span>，位于 § 4.5</span>
    <li><a href="#run-service-worker">运行 Service Worker</a><span>，位于 § 未编号章节</span>
    <li><a href="#schedule-job">调度作业</a><span>，位于 § 未编号章节</span>
    <li>
      scope
      <ul>
        <li><a href="#dom-serviceworkerregistration-scope">ServiceWorkerRegistration 的属性</a><span>，位于
            § 3.2.6</span>
        <li><a href="#dom-registrationoptions-scope">RegistrationOptions 的字典成员</a><span>，位于
            § 3.4</span>
      </ul>
    <li><a href="#dfn-scope-to-job-queue-map">scope to job queue map</a><span>，位于 § 未编号章节</span>
    <li>
      scope url
      <ul>
        <li><a href="#dfn-job-scope-url">job 的 dfn</a><span>，位于 § 未编号章节</span>
        <li><a href="#dfn-scope-url">service worker registration 的 dfn</a><span>，位于 § 2.3</span>
      </ul>
    <li><a href="#dfn-script-resource">script resource</a><span>，位于 § 2.1</span>
    <li><a href="#dfn-script-resource-map">script resource map</a><span>，位于 § 2.1</span>
    <li>
      script url
      <ul>
        <li><a href="#dfn-job-script-url">job 的 dfn</a><span>，位于 § 未编号章节</span>
        <li><a href="#dfn-script-url">service worker 的 dfn</a><span>，位于 § 2.1</span>
      </ul>
    <li><a href="#dom-serviceworker-scripturl">scriptURL</a><span>，位于 § 3.1.2</span>
    <li>
      service worker
      <ul>
        <li><a href="#dfn-service-worker">dfn for </a><span>，位于 § 2.1</span>
        <li><a href="#serviceworkerglobalscope-service-worker">ServiceWorkerGlobalScope 的 dfn</a><span>，位于
            § 4.1</span>
      </ul>
    <li><a href="#service-worker">Service-Worker</a><span>，位于 § 未编号章节</span>
    <li><a href="#serviceworker">ServiceWorker</a><span>，位于 § 3.1</span>
    <li>
      serviceWorker
      <ul>
        <li><a href="#navigator-service-worker-attribute">Navigator, WorkerNavigator 的属性</a><span>，位于
            § 3.3</span>
        <li><a href="#dom-serviceworkerglobalscope-serviceworker">ServiceWorkerGlobalScope 的属性</a><span>，
            位于 § 4.1.3</span>
      </ul>
    <li><a href="#service-worker-allowed">Service-Worker-Allowed</a><span>，位于 § 未编号章节</span>
    <li>
      service worker client
      <ul>
        <li><a href="#dfn-service-worker-client">dfn for </a><span>，位于 § 2.4</span>
        <li><a href="#dfn-service-worker-client-service-worker-client">Client 的 dfn</a><span>，位于 § 4.2</span>
        <li><a href="#serviceworkercontainer-service-worker-client">ServiceWorkerContainer 的 dfn</a><span>，位于
            § 3.4</span>
      </ul>
    <li><a href="#serviceworkercontainer">ServiceWorkerContainer</a><span>，位于 § 3.4</span>
    <li><a href="#dfn-service-worker-events">service worker events</a><span>，位于 § 2.1.2</span>
    <li><a href="#serviceworkerglobalscope">ServiceWorkerGlobalScope</a><span>，位于 § 4.1</span>
    <li><a href="#service-worker-has-no-pending-events">Service Worker Has No Pending Events</a><span>，位于
        § 未编号章节</span>
    <li><a href="#environment-settings-object-service-worker-object-map">service worker object map</a><span>，位于
        § 3.1.1</span>
    <li><a href="#service-worker-service-worker-queue">[[service worker queue]]</a><span>，位于 § 2.1</span>
    <li>
      service worker registration
      <ul>
        <li><a href="#dfn-service-worker-registration">dfn for </a><span>，位于 § 2.3</span>
        <li><a href="#serviceworkerregistration-service-worker-registration">ServiceWorkerRegistration 的
            dfn</a><span>，位于 § 3.2</span>
      </ul>
    <li><a href="#serviceworkerregistration">ServiceWorkerRegistration</a><span>，位于 § 3.2</span>
    <li><a href="#environment-settings-object-service-worker-registration-object-map">service worker registration
        object map</a><span>，位于 § 3.2.1</span>
    <li><a href="#enumdef-serviceworkerstate">ServiceWorkerState</a><span>，位于 § 3.1</span>
    <li><a href="#service-worker-timing-info">service worker timing info</a><span>，位于 § 2.2</span>
    <li><a href="#enumdef-serviceworkerupdateviacache">ServiceWorkerUpdateViaCache</a><span>，位于 § 3.2</span>
    <li><a href="#dom-navigationpreloadmanager-setheadervalue">setHeaderValue(value)</a><span>，位于 § 3.6.3</span>
    <li><a href="#dfn-set-of-event-types-to-handle">要处理的事件类型集</a><span>，位于 § 2.1</span>
    <li><a href="#dfn-set-of-extended-events">扩展事件集</a><span>，位于 § 2.1</span>
    <li><a href="#dfn-set-of-used-scripts">已用脚本集</a><span>，位于 § 2.1</span>
    <li><a href="#set-registration">设置注册</a><span>，位于 § 未编号章节</span>
    <li><a href="#setup-serviceworkerglobalscope">设置 ServiceWorkerGlobalScope</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-clienttype-sharedworker">"sharedworker"</a><span>，位于 § 4.3</span>
    <li><a href="#dfn-sharedworker-client">shared worker client</a><span>，位于 § 2.4</span>
    <li><a href="#should-skip-event">Should Skip Event</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-serviceworkerglobalscope-skipwaiting">skipWaiting()</a><span>，位于 § 4.1.4</span>
    <li><a href="#dfn-skip-waiting-flag">skip waiting flag</a><span>，位于 § 2.1</span>
    <li><a href="#soft-update">Soft Update</a><span>，位于 § 未编号章节</span>
    <li>
      source
      <ul>
        <li><a href="#dom-extendablemessageevent-source">ExtendableMessageEvent 的属性</a><span>，位于
            § 4.7.4</span>
        <li><a href="#dom-extendablemessageeventinit-source">ExtendableMessageEventInit 的字典成员</a><span>，
            位于 § 4.7</span>
        <li><a href="#dom-routerrule-source">RouterRule 的字典成员</a><span>，位于 § 4.5</span>
      </ul>
    <li><a href="#service-worker-registration-stale">stale</a><span>，位于 § 2.3</span>
    <li><a href="#dom-serviceworkercontainer-startmessages">startMessages()</a><span>，位于 § 3.4.6</span>
    <li><a href="#start-register">Start Register</a><span>，位于 § 未编号章节</span>
    <li><a href="#service-worker-start-status">start status</a><span>，位于 § 2.1</span>
    <li><a href="#service-worker-timing-info-start-time">start time</a><span>，位于 § 2.2</span>
    <li>
      state
      <ul>
        <li><a href="#dom-serviceworker-state">ServiceWorker 的属性</a><span>，位于 § 3.1.3</span>
        <li><a href="#dfn-state">service worker 的 dfn</a><span>，位于 § 2.1</span>
      </ul>
    <li><a href="#eventdef-serviceworker-statechange">statechange</a><span>，位于 § 3.5</span>
    <li>
      storage key
      <ul>
        <li><a href="#job-storage-key">job 的 dfn</a><span>，位于 § 未编号章节</span>
        <li><a href="#service-worker-registration-storage-key">service worker registration 的 dfn</a><span>，位于
            § 2.3</span>
      </ul>
    <li><a href="#dfn-service-worker-registration-task-queue">task queues</a><span>，位于 § 2.3</span>
    <li><a href="#terminate-service-worker">Terminate Service Worker</a><span>，位于 § 未编号章节</span>
    <li><a href="#extendableevent-timed-out-flag">timed out flag</a><span>，位于 § 4.4</span>
    <li><a href="#dom-frametype-top-level">"top-level"</a><span>，位于 § 4.2</span>
    <li><a href="#try-activate">Try Activate</a><span>，位于 § 未编号章节</span>
    <li><a href="#try-clear-registration">Try Clear Registration</a><span>，位于 § 未编号章节</span>
    <li>
      type
      <ul>
        <li><a href="#dom-client-type">Client 的属性</a><span>，位于 § 4.2.4</span>
        <li><a href="#dfn-cache-batch-operation-type">cache batch operation 的 dfn</a><span>，位于 § 5.4</span>
        <li><a href="#dfn-type">service worker 的 dfn</a><span>，位于 § 2.1</span>
        <li><a href="#dom-clientqueryoptions-type">ClientQueryOptions 的字典成员</a><span>，位于 § 4.3</span>
        <li><a href="#dom-registrationoptions-type">RegistrationOptions 的字典成员</a><span>，位于
            § 3.4</span>
      </ul>
    <li><a href="#unregister">Unregister</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-serviceworkerregistration-unregister">unregister()</a><span>，位于 § 3.2.9</span>
    <li><a href="#dfn-service-worker-registration-unregistered">unregistered</a><span>，位于 § 2.3</span>
    <li><a href="#update">Update</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-serviceworkerregistration-update">update()</a><span>，位于 § 3.2.8</span>
    <li><a href="#service-worker-registration-updatefound-event">updatefound</a><span>，位于 § 3.5</span>
    <li><a href="#update-registration-state">Update Registration State</a><span>，位于 § 未编号章节</span>
    <li><a href="#update-service-worker-extended-events-set">Update Service Worker Extended Events Set</a><span>，位于
        § 未编号章节</span>
    <li>
      updateViaCache
      <ul>
        <li><a href="#dom-serviceworkerregistration-updateviacache">ServiceWorkerRegistration 的属性</a><span>，位于 §
            3.2.7</span>
        <li><a href="#dom-registrationoptions-updateviacache">RegistrationOptions 的字典成员</a><span>，位于
            § 3.4</span>
      </ul>
    <li>
      update via cache mode
      <ul>
        <li><a href="#dfn-job-update-via-cache-mode">job 的 dfn</a><span>，位于 § 未编号章节</span>
        <li><a href="#dfn-update-via-cache">service worker registration 的 dfn</a><span>，位于 § 2.3</span>
      </ul>
    <li><a href="#update-worker-state">Update Worker State</a><span>，位于 § 未编号章节</span>
    <li><a href="#dom-client-url">url</a><span>，位于 § 4.2.1</span>
    <li><a href="#dom-routercondition-urlpattern">urlPattern</a><span>，位于 § 4.5</span>
    <li><a href="#dfn-use">used</a><span>，位于 § 2.5</span>
    <li><a href="#dfn-use">uses</a><span>，位于 § 2.5</span>
    <li><a href="#dfn-use">using</a><span>，位于 § 2.5</span>
    <li><a href="#race-response-value">value</a><span>，位于 § 4.1</span>
    <li><a href="#verify-router-condition">Verify Router Condition</a><span>，位于 § 未编号章节</span>
    <li><a href="#dfn-service-worker-client-visibilitystate">visibility state</a><span>，位于 § 4.2</span>
    <li><a href="#dom-windowclient-visibilitystate">visibilityState</a><span>，位于 § 4.2.7</span>
    <li><a href="#dom-serviceworkerregistration-waiting">waiting</a><span>，位于 § 3.2.3</span>
    <li><a href="#dfn-waiting-worker">waiting worker</a><span>，位于 § 2.3</span>
    <li><a href="#fetchevent-wait-to-respond-flag">wait to respond flag</a><span>，位于 § 4.6</span>
    <li><a href="#dom-extendableevent-waituntil">waitUntil(f)</a><span>，位于 § 4.4.1</span>
    <li><a href="#dom-clienttype-window">"window"</a><span>，位于 § 4.3</span>
    <li><a href="#dfn-window-client">window client</a><span>，位于 § 2.4</span>
    <li><a href="#windowclient">WindowClient</a><span>，位于 § 4.2</span>
    <li><a href="#dom-clienttype-worker">"worker"</a><span>，位于 § 4.3</span>
    <li><a href="#dfn-worker-client">worker client</a><span>，位于 § 2.4</span>
    <li><a href="#dfn-job-worker-type">worker type</a><span>，位于 § 未编号章节</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">引用定义的术语</span><a
      class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
    <li>
      <a data-link-type="biblio">[CSP-NEXT]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="57c34878">enforced</span>
      </ul>
    <li>
      <a data-link-type="biblio">[CSP3]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="242555fe">为全局对象运行 CSP 初始化</span>
      </ul>
    <li>
      <a data-link-type="biblio">[DOM]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="2e66eaf1">AbortController</span>
        <li><span class="dfn-paneled" id="129bdae8">Event</span>
        <li><span class="dfn-paneled" id="44a7708c">EventInit</span>
        <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
        <li><span class="dfn-paneled" id="622d9f0e">callback</span>
        <li><span class="dfn-paneled" id="8c407366">cancelable</span>
        <li><span class="dfn-paneled" id="2e9f6464">canceled flag</span>
        <li><span class="dfn-paneled" id="8abfc3b6">creating an event</span>
        <li><span class="dfn-paneled" id="1372f92a">dispatch</span>
        <li><span class="dfn-paneled" id="092f2e0b">dispatch flag</span>
        <li><span class="dfn-paneled" id="a973e0fe">document</span>
        <li><span class="dfn-paneled" id="26b82890">event</span>
        <li><span class="dfn-paneled" id="06950d36">event listener</span>
        <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
        <li><span class="dfn-paneled" id="d9482602">handleEvent(event)</span>
        <li><span class="dfn-paneled" id="838900a7">isTrusted</span>
        <li><span class="dfn-paneled" id="719b834e">legacy-obtain service worker fetch event listener
            callbacks</span>
        <li><span class="dfn-paneled" id="0fe84b59">signal</span>
        <li><span class="dfn-paneled" id="2296404c">signal abort</span>
        <li><span class="dfn-paneled" id="38340ce0">stop immediate propagation flag</span>
        <li><span class="dfn-paneled" id="c89908b4">stop propagation flag</span>
        <li><span class="dfn-paneled" id="9d09d04c">type</span>
      </ul>
    <li>
      <a data-link-type="biblio">[ECMASCRIPT]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="892d5291">IsCallable</span>
        <li><span class="dfn-paneled" id="198b92c1">NormalCompletion</span>
        <li><span class="dfn-paneled" id="c08e1049">ThrowCompletion</span>
        <li><span class="dfn-paneled" id="4a79c433">abrupt completion</span>
        <li><span class="dfn-paneled" id="690506c4">agent</span>
        <li><span class="dfn-paneled" id="9ff141c4">Assert</span>
        <li><span class="dfn-paneled" id="70f7889c">Completion</span>
        <li><span class="dfn-paneled" id="1aec1016">Cyclic Module Record</span>
        <li><span class="dfn-paneled" id="f4e63c13">declaration</span>
        <li><span class="dfn-paneled" id="8b81cade">DetachArrayBuffer</span>
        <li><span class="dfn-paneled" id="ef104a06">function body</span>
        <li><span class="dfn-paneled" id="7669f968">map objects</span>
        <li><span class="dfn-paneled" id="3c019c7a">Module Record</span>
        <li><span class="dfn-paneled" id="7c9ab308">promise</span>
        <li><span class="dfn-paneled" id="facacdeb">statement</span>
        <li><span class="dfn-paneled" id="4ad913ae">surrounding agent</span>
      </ul>
    <li>
      <a data-link-type="biblio">[FETCH]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="c56329c9">"report"</span>
        <li><span class="dfn-paneled" id="e806d5a8">Headers</span>
        <li><span class="dfn-paneled" id="f9da6f1f">Request</span>
        <li><span class="dfn-paneled" id="b4c5b3f7">RequestDestination</span>
        <li><span class="dfn-paneled" id="8ba500d2">RequestInfo</span>
        <li><span class="dfn-paneled" id="4cf7cda3">RequestMode</span>
        <li><span class="dfn-paneled" id="08a12aad">Response</span>
        <li><span class="dfn-paneled" id="49a5521a">abort</span>
        <li><span class="dfn-paneled" id="3eff7ece">aborted flag</span>
        <li><span class="dfn-paneled" id="a6a8ec88">append</span>
        <li><span class="dfn-paneled" id="b5d1f9d3">basic filtered response</span>
        <li><span class="dfn-paneled" id="644cb530">body</span>
        <li><span class="dfn-paneled" id="8e9945a0">body <small>(针对 request)</small></span>
        <li><span class="dfn-paneled" id="81a76425">body <small>(针对 response)</small></span>
        <li><span class="dfn-paneled" id="80f5eafb">body info</span>
        <li><span class="dfn-paneled" id="688f9669">cache mode</span>
        <li><span class="dfn-paneled" id="e6defb69">cache state</span>
        <li><span class="dfn-paneled" id="857d5516">client</span>
        <li><span class="dfn-paneled" id="8e720892">clone <small>(针对 request)</small></span>
        <li><span class="dfn-paneled" id="555b1be1">clone <small>(针对 response)</small></span>
        <li><span class="dfn-paneled" id="0a52a8b4">combine</span>
        <li><span class="dfn-paneled" id="d5434eef">contains</span>
        <li><span class="dfn-paneled" id="dacc9b46">CORS filtered response</span>
        <li><span class="dfn-paneled" id="399a9307">creating</span>
        <li><span class="dfn-paneled" id="2aaa937f">cross-origin resource policy check</span>
        <li><span class="dfn-paneled" id="7aab3a36">decoded size</span>
        <li><span class="dfn-paneled" id="5843bd02">deserialize a serialized abort reason</span>
        <li><span class="dfn-paneled" id="3ae34c95">destination</span>
        <li><span class="dfn-paneled" id="a0fdc68e">encoded size</span>
        <li><span class="dfn-paneled" id="3743dd5f">extract a MIME type</span>
        <li><span class="dfn-paneled" id="3be1d4ac">extracting header list values</span>
        <li><span class="dfn-paneled" id="a33db89a">fetch</span>
        <li><span class="dfn-paneled" id="6bb42fbb">fetch controller</span>
        <li><span class="dfn-paneled" id="00f91d3b">fetch(input, init)</span>
        <li><span class="dfn-paneled" id="de82addd">filtered response</span>
        <li><span class="dfn-paneled" id="f7bf85cd">forbidden method</span>
        <li><span class="dfn-paneled" id="99d701c5">guard</span>
        <li><span class="dfn-paneled" id="c9e7c11a">header</span>
        <li><span class="dfn-paneled" id="6ee0eab1">header list <small>(针对 request)</small></span>
        <li><span class="dfn-paneled" id="f7b00a8b">header list <small>(针对 response)</small></span>
        <li><span class="dfn-paneled" id="2aaa2f42">HTTP fetch</span>
        <li><span class="dfn-paneled" id="fa4ea124">initiator</span>
        <li><span class="dfn-paneled" id="9a95489b">internal response</span>
        <li><span class="dfn-paneled" id="1a4f3e89">method</span>
        <li><span class="dfn-paneled" id="50b05fad">method <small>(针对 request)</small></span>
        <li><span class="dfn-paneled" id="cb98f71f">mode</span>
        <li><span class="dfn-paneled" id="4b84a0bc">name</span>
        <li><span class="dfn-paneled" id="2889d1ec">navigation request</span>
        <li><span class="dfn-paneled" id="eb1b1af3">network error</span>
        <li><span class="dfn-paneled" id="5a391458">non-subresource request</span>
        <li><span class="dfn-paneled" id="2c16705a">normalize</span>
        <li><span class="dfn-paneled" id="a27468c5">ok status</span>
        <li><span class="dfn-paneled" id="d3d229b5">opaque filtered response</span>
        <li><span class="dfn-paneled" id="f78d5b5c">origin</span>
        <li><span class="dfn-paneled" id="ee1a333c">parser metadata</span>
        <li><span class="dfn-paneled" id="bd2fe71e">processResponse</span>
        <li><span class="dfn-paneled" id="a2d0ae2a">processResponseEndOfBody</span>
        <li><span class="dfn-paneled" id="64b62ea0">redirect mode</span>
        <li><span class="dfn-paneled" id="36caebd4">replaces client id</span>
        <li><span class="dfn-paneled" id="55213b5b">request</span>
        <li><span class="dfn-paneled" id="162d2b51">request <small>(针对 Request)</small></span>
        <li><span class="dfn-paneled" id="abe352cd">reserved client</span>
        <li><span class="dfn-paneled" id="ee7bba09">response</span>
        <li><span class="dfn-paneled" id="e3201629">response <small>(针对 Response)</small></span>
        <li><span class="dfn-paneled" id="c8e62d82">serialized abort reason</span>
        <li><span class="dfn-paneled" id="7b34ea98">service worker timing info</span>
        <li><span class="dfn-paneled" id="6d1db60d">service-workers mode</span>
        <li><span class="dfn-paneled" id="449b55f1">source</span>
        <li><span class="dfn-paneled" id="cdc0b059">state</span>
        <li><span class="dfn-paneled" id="a1d47575">status</span>
        <li><span class="dfn-paneled" id="db8aa4d8">stream</span>
        <li><span class="dfn-paneled" id="839611db">subresource request</span>
        <li><span class="dfn-paneled" id="cdea6030">type</span>
        <li><span class="dfn-paneled" id="c1030cbe">unusable</span>
        <li><span class="dfn-paneled" id="dc1cd39b">URL</span>
        <li><span class="dfn-paneled" id="44d0e8a7">use-URL-credentials flag</span>
        <li><span class="dfn-paneled" id="8a608b90">value</span>
      </ul>
    <li>
      <a data-link-type="biblio">[FileAPI]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="a9a29016">blob URL</span>
      </ul>
    <li>
      <a data-link-type="biblio">[HR-TIME-3]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="2a9f2069">DOMHighResTimeStamp</span>
        <li><span class="dfn-paneled" id="a3fa5074">coarsen time</span>
        <li><span class="dfn-paneled" id="d841e977">coarsened shared current time</span>
        <li><span class="dfn-paneled" id="143adb4c">unsafe shared current time</span>
      </ul>
    <li>
      <a data-link-type="biblio">[HTML]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="a8ce2b70">AbstractWorker</span>
        <li><span class="dfn-paneled" id="7bcff2a1">DOMContentLoaded</span>
        <li><span class="dfn-paneled" id="b8308563">DedicatedWorkerGlobalScope</span>
        <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
        <li><span class="dfn-paneled" id="cc549724">Location</span>
        <li><span class="dfn-paneled" id="3e8c0e5f">MessageEvent</span>
        <li><span class="dfn-paneled" id="df16744f">MessagePort</span>
        <li><span class="dfn-paneled" id="be0c27b2">Navigator</span>
        <li><span class="dfn-paneled" id="165b73c9">SharedWorkerGlobalScope</span>
        <li><span class="dfn-paneled" id="e7cb09fb">StructuredDeserializeWithTransfer</span>
        <li><span class="dfn-paneled" id="b56b31a9">StructuredSerializeOptions</span>
        <li><span class="dfn-paneled" id="9da834a1">StructuredSerializeWithTransfer</span>
        <li><span class="dfn-paneled" id="5d7209e9">Window</span>
        <li><span class="dfn-paneled" id="5f6d392d">WindowOrWorkerGlobalScope</span>
        <li><span class="dfn-paneled" id="bfc1c271">Worker</span>
        <li><span class="dfn-paneled" id="83c59a3a">WorkerGlobalScope</span>
        <li><span class="dfn-paneled" id="e9ac3051">WorkerLocation</span>
        <li><span class="dfn-paneled" id="a4785085">WorkerNavigator</span>
        <li><span class="dfn-paneled" id="c262266a">WorkerType</span>
        <li><span class="dfn-paneled" id="f7e0ea10">abort a running script</span>
        <li><span class="dfn-paneled" id="55a6b830">active browsing context</span>
        <li><span class="dfn-paneled" id="35972864">active document</span>
        <li><span class="dfn-paneled" id="0ba26d3b">active service worker</span>
        <li><span class="dfn-paneled" id="fff7fefb">ancestor origins list</span>
        <li><span class="dfn-paneled" id="1b5b1c0c">API base URL</span>
        <li><span class="dfn-paneled" id="3349d69f">associated Document</span>
        <li><span class="dfn-paneled" id="58ebefde">auxiliary browsing context</span>
        <li><span class="dfn-paneled" id="3b0ee7a3">base URL</span>
        <li><span class="dfn-paneled" id="0d0390b4">browsing context</span>
        <li><span class="dfn-paneled" id="caa8344c">classic script</span>
        <li><span class="dfn-paneled" id="93268483">closing</span>
        <li><span class="dfn-paneled" id="15c0e5cb">create a new realm</span>
        <li><span class="dfn-paneled" id="b7337f41">creating a policy container from a fetch response</span>
        <li><span class="dfn-paneled" id="fa5ee9c5">creation URL</span>
        <li><span class="dfn-paneled" id="061c440e">cross-origin isolated capability</span>
        <li><span class="dfn-paneled" id="ce3d2bbb">current global object</span>
        <li><span class="dfn-paneled" id="3700794f">data</span>
        <li><span class="dfn-paneled" id="e10e7eb7">DOM manipulation task source</span>
        <li><span class="dfn-paneled" id="24cf98a1">environment</span>
        <li><span class="dfn-paneled" id="78a97411">environment discarding steps</span>
        <li><span class="dfn-paneled" id="3e12e042">environment settings object</span>
        <li><span class="dfn-paneled" id="6a5a59a0">event handler</span>
        <li><span class="dfn-paneled" id="9d386f55">event handler event type</span>
        <li><span class="dfn-paneled" id="03675365">event handler IDL attribute</span>
        <li><span class="dfn-paneled" id="b0cc35b0">event handler map</span>
        <li><span class="dfn-paneled" id="c6d19e56">event loop</span>
        <li><span class="dfn-paneled" id="b78d6a64">event loop <small>(针对 agent)</small></span>
        <li><span class="dfn-paneled" id="2285c18a">exceptionsEnabled</span>
        <li><span class="dfn-paneled" id="f5265332">execution ready flag</span>
        <li><span class="dfn-paneled" id="f0fdbfa4">fetch a classic worker script</span>
        <li><span class="dfn-paneled" id="a9a61cfb">fetch a classic worker-imported script</span>
        <li><span class="dfn-paneled" id="99030cf4">fetch a module worker script graph</span>
        <li><span class="dfn-paneled" id="fe07e8b2">focusing steps</span>
        <li><span class="dfn-paneled" id="0e3ba9f8">fully active</span>
        <li><span class="dfn-paneled" id="4b6086d7">global object</span>
        <li><span class="dfn-paneled" id="8a30477b">global object <small>(针对 environment settings
              object)</small></span>
        <li><span class="dfn-paneled" id="7c421916">has focus steps</span>
        <li><span class="dfn-paneled" id="37b5f0f9">historyHandling</span>
        <li><span class="dfn-paneled" id="73a186aa">id</span>
        <li><span class="dfn-paneled" id="87fcd40c">iframe</span>
        <li><span class="dfn-paneled" id="34b679c0">import scripts into worker global scope</span>
        <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
        <li><span class="dfn-paneled" id="d7af7adc">incumbent settings object</span>
        <li><span class="dfn-paneled" id="af5cef2c">isTopLevel</span>
        <li><span class="dfn-paneled" id="84fb0b9d">listener</span>
        <li><span class="dfn-paneled" id="e34ca041">map of active timers</span>
        <li><span class="dfn-paneled" id="38381ead">message</span>
        <li><span class="dfn-paneled" id="c79e5abb">module map</span>
        <li><span class="dfn-paneled" id="9b3743cd">module map <small>(针对 WorkerGlobalScope)</small></span>
        <li><span class="dfn-paneled" id="78457614">module map <small>(针对 environment settings
              object)</small></span>
        <li><span class="dfn-paneled" id="a1005ed9">module script</span>
        <li><span class="dfn-paneled" id="9c19b7fc">navigable</span>
        <li><span class="dfn-paneled" id="2594e562">navigate</span>
        <li><span class="dfn-paneled" id="69ec9122">obtain a service worker agent</span>
        <li><span class="dfn-paneled" id="b01b1359">opaque origin</span>
        <li><span class="dfn-paneled" id="086e3aff">origin</span>
        <li><span class="dfn-paneled" id="e0eefdd9">origin <small>(针对 MessageEvent)</small></span>
        <li><span class="dfn-paneled" id="43ac8374">origin <small>(针对 environment settings
              object)</small></span>
        <li><span class="dfn-paneled" id="dc248371">owner set</span>
        <li><span class="dfn-paneled" id="7de33c29">parallel queue</span>
        <li><span class="dfn-paneled" id="1bba3db7">parent</span>
        <li><span class="dfn-paneled" id="b2e9303e">perform the fetch hook</span>
        <li><span class="dfn-paneled" id="b33787b2">policy container</span>
        <li><span class="dfn-paneled" id="432147ee">policy container <small>(针对
              WorkerGlobalScope)</small></span>
        <li><span class="dfn-paneled" id="bd1db03d">policy container <small>(针对 environment settings
              object)</small></span>
        <li><span class="dfn-paneled" id="7b162b57">ports</span>
        <li><span class="dfn-paneled" id="53079ce3">queue a microtask</span>
        <li><span class="dfn-paneled" id="9a517a7d">queue a task</span>
        <li><span class="dfn-paneled" id="d1ee46ce">realm <small>(针对 environment settings object)</small></span>
        <li><span class="dfn-paneled" id="b75a7d23">realm <small>(针对 global object)</small></span>
        <li><span class="dfn-paneled" id="ce15d5dc">realm execution context</span>
        <li><span class="dfn-paneled" id="6594df5c">record</span>
        <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
        <li><span class="dfn-paneled" id="5991ccfb">relevant realm</span>
        <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
        <li><span class="dfn-paneled" id="0ef5a390">resolve a module specifier</span>
        <li><span class="dfn-paneled" id="e3288657">responsible event loop</span>
        <li><span class="dfn-paneled" id="bb8bd6d1">run a classic script</span>
        <li><span class="dfn-paneled" id="78aa7d8d">run a module script</span>
        <li><span class="dfn-paneled" id="ea6f3f13">run a worker</span>
        <li><span class="dfn-paneled" id="7393da89">same origin</span>
        <li><span class="dfn-paneled" id="5c35dd47">sandbox</span>
        <li><span class="dfn-paneled" id="dd6462cb">script</span>
        <li><span class="dfn-paneled" id="65181da8">secure context</span>
        <li><span class="dfn-paneled" id="dae0bfde">serialization of an origin</span>
        <li><span class="dfn-paneled" id="a0d0a7c7">source</span>
        <li><span class="dfn-paneled" id="085ddd0a">target browsing context</span>
        <li><span class="dfn-paneled" id="e270bd2a">task</span>
        <li><span class="dfn-paneled" id="80726755">task queues</span>
        <li><span class="dfn-paneled" id="c3b2d08c">task source</span>
        <li><span class="dfn-paneled" id="e9c58cef">time origin</span>
        <li><span class="dfn-paneled" id="ae2a6342">top-level browsing context</span>
        <li><span class="dfn-paneled" id="2c6fd92e">top-level creation URL</span>
        <li><span class="dfn-paneled" id="c63519ed">top-level origin</span>
        <li><span class="dfn-paneled" id="6ad16aca">transfer</span>
        <li><span class="dfn-paneled" id="47fe679e">transient activation</span>
        <li><span class="dfn-paneled" id="7a2fc3e3">type</span>
        <li><span class="dfn-paneled" id="4411082c">unloading document cleanup steps</span>
        <li><span class="dfn-paneled" id="b6209f34">unsafe response</span>
        <li><span class="dfn-paneled" id="c5b6dcb3">url</span>
        <li><span class="dfn-paneled" id="825cbc48">user interaction task source</span>
        <li><span class="dfn-paneled" id="f1d0e483">value</span>
        <li><span class="dfn-paneled" id="e5bf7ea1">web worker</span>
      </ul>
    <li>
      <a data-link-type="biblio">[INFRA]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="1adcc035">abort when</span>
        <li><span class="dfn-paneled" id="53275e46">append <small>(针对 list)</small></span>
        <li><span class="dfn-paneled" id="a3b18719">append <small>(针对 set)</small></span>
        <li><span class="dfn-paneled" id="7f9469b5">ASCII case-insensitive</span>
        <li><span class="dfn-paneled" id="7b0d918d">break</span>
        <li><span class="dfn-paneled" id="3de9e659">byte sequence</span>
        <li><span class="dfn-paneled" id="bc7b9068">clear</span>
        <li><span class="dfn-paneled" id="ae8def21">contain</span>
        <li><span class="dfn-paneled" id="f937b7b6">continue</span>
        <li><span class="dfn-paneled" id="9a9b558b">dequeue</span>
        <li><span class="dfn-paneled" id="06a6db54">enqueue</span>
        <li><span class="dfn-paneled" id="8958b003">entry</span>
        <li><span class="dfn-paneled" id="1243a891">exist</span>
        <li><span class="dfn-paneled" id="16d07e10">for each <small>(针对 list)</small></span>
        <li><span class="dfn-paneled" id="45209803">for each <small>(针对 map)</small></span>
        <li><span class="dfn-paneled" id="4e92bc80">get the keys</span>
        <li><span class="dfn-paneled" id="715f22e4">if aborted</span>
        <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
        <li><span class="dfn-paneled" id="7a87d819">is</span>
        <li><span class="dfn-paneled" id="dd460c8e">is not empty</span>
        <li><span class="dfn-paneled" id="5afbefcd">item <small>(针对 list)</small></span>
        <li><span class="dfn-paneled" id="c88f3887">item <small>(针对 struct)</small></span>
        <li><span class="dfn-paneled" id="d14a6f26">key</span>
        <li><span class="dfn-paneled" id="31db57e6">keys</span>
        <li><span class="dfn-paneled" id="649608b9">list</span>
        <li><span class="dfn-paneled" id="3fca5a9e">map</span>
        <li><span class="dfn-paneled" id="84b454ff">ordered map</span>
        <li><span class="dfn-paneled" id="692595fe">ordered set</span>
        <li><span class="dfn-paneled" id="47dfca75">queue</span>
        <li><span class="dfn-paneled" id="99c988d6">remove <small>(针对 list)</small></span>
        <li><span class="dfn-paneled" id="7d4424b2">remove <small>(针对 map)</small></span>
        <li><span class="dfn-paneled" id="15e48c39">set</span>
        <li><span class="dfn-paneled" id="0e6b2056">set <small>(针对 map)</small></span>
        <li><span class="dfn-paneled" id="984221ca">struct</span>
        <li><span class="dfn-paneled" id="0e8de730">tuple</span>
        <li><span class="dfn-paneled" id="802b0fdd">value</span>
        <li><span class="dfn-paneled" id="12d6b9a8">values</span>
      </ul>
    <li>
      <a data-link-type="biblio">[MIMESNIFF]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="a93f0b06">JavaScript MIME type</span>
      </ul>
    <li>
      <a data-link-type="biblio">[NAVIGATION-TIMING-2]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="ed60a31e">PerformanceNavigationTiming</span>
      </ul>
    <li>
      <a data-link-type="biblio">[PAGE-LIFECYCLE]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="5dc9e82c">discard</span>
      </ul>
    <li>
      <a data-link-type="biblio">[PAGE-VISIBILITY]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="83d6ac35">VisibilityState</span>
        <li><span class="dfn-paneled" id="b5e98e1f">visibilityState</span>
      </ul>
    <li>
      <a data-link-type="biblio">[PUSH]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="ea8132ed">push</span>
      </ul>
    <li>
      <a data-link-type="biblio">[RFC7230]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="b3bbb20b">field-value</span>
      </ul>
    <li>
      <a data-link-type="biblio">[RFC7231]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="9de4af9f">Vary</span>
      </ul>
    <li>
      <a data-link-type="biblio">[SCREEN-CAPTURE]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="3119c0d1">monitor</span>
      </ul>
    <li>
      <a data-link-type="biblio">[SECURE-CONTEXTS]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="b84e54ba">potentially trustworthy origin</span>
        <li><span class="dfn-paneled" id="f5d4a41e">potentially trustworthy URL</span>
      </ul>
    <li>
      <a data-link-type="biblio">[STORAGE]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="8d831b4d">equal</span>
        <li><span class="dfn-paneled" id="c9858f6e">obtain a storage key</span>
        <li><span class="dfn-paneled" id="7f6a70d1">storage key</span>
      </ul>
    <li>
      <a data-link-type="biblio">[STREAMS]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="59ed4e57">ReadableStream</span>
        <li><span class="dfn-paneled" id="e3e2d506">cancel <small>(针对 ReadableStream)</small></span>
        <li><span class="dfn-paneled" id="055980d9">cancel <small>(针对
              ReadableStreamDefaultReader)</small></span>
        <li><span class="dfn-paneled" id="b5b30abb">cancelAlgorithm</span>
        <li><span class="dfn-paneled" id="2d10bf58">chunk</span>
        <li><span class="dfn-paneled" id="43d35049">chunk steps</span>
        <li><span class="dfn-paneled" id="b3cf1c94">close</span>
        <li><span class="dfn-paneled" id="f0e85418">close steps</span>
        <li><span class="dfn-paneled" id="f33a5993">disturbed</span>
        <li><span class="dfn-paneled" id="6b6bb798">enqueue</span>
        <li><span class="dfn-paneled" id="3bd18bd6">error</span>
        <li><span class="dfn-paneled" id="5655d36f">error steps</span>
        <li><span class="dfn-paneled" id="41d0ebd7">errored</span>
        <li><span class="dfn-paneled" id="bf6531af">getting a reader</span>
        <li><span class="dfn-paneled" id="e2b69bfa">highWaterMark</span>
        <li><span class="dfn-paneled" id="ffba9cf8">locked</span>
        <li><span class="dfn-paneled" id="42f97769">pullAlgorithm</span>
        <li><span class="dfn-paneled" id="ad191408">read a chunk</span>
        <li><span class="dfn-paneled" id="6d997105">read request</span>
        <li><span class="dfn-paneled" id="de1558f6">reading all bytes</span>
        <li><span class="dfn-paneled" id="d438bc09">set up</span>
        <li><span class="dfn-paneled" id="4a73a347">sizeAlgorithm</span>
      </ul>
    <li>
      <a data-link-type="biblio">[TRUSTED-TYPES]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="49412eb8">Get Trusted Type compliant string</span>
        <li><span class="dfn-paneled" id="9c774212">TrustedScriptURL</span>
      </ul>
    <li>
      <a data-link-type="biblio">[URL]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="6fbdf145">equal</span>
        <li><span class="dfn-paneled" id="ed948033">fragment</span>
        <li><span class="dfn-paneled" id="959ad97b">origin</span>
        <li><span class="dfn-paneled" id="c0868016">path</span>
        <li><span class="dfn-paneled" id="3ab2ec8b">query</span>
        <li><span class="dfn-paneled" id="3a711be7">scheme</span>
        <li><span class="dfn-paneled" id="dcffbccd">URL</span>
        <li><span class="dfn-paneled" id="ca3ca4ae">URL parser</span>
        <li><span class="dfn-paneled" id="5442ea33">URL serializer</span>
      </ul>
    <li>
      <a data-link-type="biblio">[URLPATTERN]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="31f25047">URLPatternCompatible</span>
        <li><span class="dfn-paneled" id="75a12309">build a URL pattern from a Web IDL value</span>
        <li><span class="dfn-paneled" id="9ceffca3">has regexp groups</span>
        <li><span class="dfn-paneled" id="5c4f772b">match</span>
        <li><span class="dfn-paneled" id="60393e82">URL pattern</span>
      </ul>
    <li>
      <a data-link-type="biblio">[WEBIDL]</a> 定义了以下术语：
      <ul>
        <li><span class="dfn-paneled" id="d25dfb2c">AbortError</span>
        <li><span class="dfn-paneled" id="2f8afbfe">ArrayBuffer</span>
        <li><span class="dfn-paneled" id="22cb9a16">ByteString</span>
        <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
        <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
        <li><span class="dfn-paneled" id="889e932f">Exposed</span>
        <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
        <li><span class="dfn-paneled" id="7fb6fbc6">Global</span>
        <li><span class="dfn-paneled" id="37afd48d">InvalidAccessError</span>
        <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
        <li><span class="dfn-paneled" id="c74f29b9">NetworkError</span>
        <li><span class="dfn-paneled" id="c807e273">NewObject</span>
        <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
        <li><span class="dfn-paneled" id="5e129c74">QuotaExceededError</span>
        <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
        <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
        <li><span class="dfn-paneled" id="c3e881ef">SecurityError</span>
        <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
        <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
        <li><span class="dfn-paneled" id="95d7775a">Uint8Array</span>
        <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
        <li><span class="dfn-paneled" id="d0b4a948">a promise rejected with</span>
        <li><span class="dfn-paneled" id="8f5c2179">a promise resolved with</span>
        <li><span class="dfn-paneled" id="6c6b1005">any</span>
        <li><span class="dfn-paneled" id="5372cca8">boolean</span>
        <li><span class="dfn-paneled" id="495737df">byte length</span>
        <li><span class="dfn-paneled" id="ae4bc361">converted to an ECMAScript value</span>
        <li><span class="dfn-paneled" id="6a73c310">create</span>
        <li><span class="dfn-paneled" id="1641b9ef">create a frozen array</span>
        <li><span class="dfn-paneled" id="cd787c3f">exception</span>
        <li><span class="dfn-paneled" id="abbed741">frozen array type</span>
        <li><span class="dfn-paneled" id="4ae6d1ad">getting a promise to wait for all</span>
        <li><span class="dfn-paneled" id="56f81a8e">new</span>
        <li><span class="dfn-paneled" id="efd1ec5d">object</span>
        <li><span class="dfn-paneled" id="d0eba3fd">partial interface</span>
        <li><span class="dfn-paneled" id="116848ac">reacting</span>
        <li><span class="dfn-paneled" id="b262501e">reject</span>
        <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
        <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
        <li><span class="dfn-paneled" id="4013a022">this</span>
        <li><span class="dfn-paneled" id="b4cfa5ce">throw</span>
        <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
        <li><span class="dfn-paneled" id="24bd7d25">upon fulfillment</span>
        <li><span class="dfn-paneled" id="f14ed351">upon rejection</span>
      </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">参考文献</span><a class="self-link"
      href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">规范性参考文献</span><a class="self-link"
      href="#normative"></a></h3>
  <dl>
    <dt id="biblio-csp-next">[CSP-NEXT]
    <dd><a href="https://wicg.github.io/csp-next/scripting-policy.html"><cite>Scripting Policy</cite></a>. 编辑草案.
      URL: <a
        href="https://wicg.github.io/csp-next/scripting-policy.html">https://wicg.github.io/csp-next/scripting-policy.html</a>
    <dt id="biblio-csp3">[CSP3]
    <dd>Mike West; Antonio Sartori. <a href="https://www.w3.org/TR/CSP3/"><cite>Content Security Policy Level
          3</cite></a>. 2025年2月6日. 工作草案. URL: <a href="https://www.w3.org/TR/CSP3/">https://www.w3.org/TR/CSP3/</a>
    <dt id="biblio-dom">[DOM]
    <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. 动态标准.
      URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
    <dt id="biblio-ecmascript">[ECMASCRIPT]
    <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a
        href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
    <dt id="biblio-fetch">[FETCH]
    <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. 动态标准.
      URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
    <dt id="biblio-fileapi">[FileAPI]
    <dd>Marijn Kruisselbrink. <a href="https://www.w3.org/TR/FileAPI/"><cite>File API</cite></a>. 2024年12月4日.
      工作草案. URL: <a href="https://www.w3.org/TR/FileAPI/">https://www.w3.org/TR/FileAPI/</a>
    <dt id="biblio-hr-time-3">[HR-TIME-3]
    <dd>Yoav Weiss. <a href="https://www.w3.org/TR/hr-time-3/"><cite>High Resolution Time</cite></a>. 2024年11月7日.
      工作草案. URL: <a href="https://www.w3.org/TR/hr-time-3/">https://www.w3.org/TR/hr-time-3/</a>
    <dt id="biblio-html">[HTML]
    <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>.
      动态标准. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
    <dt id="biblio-infra">[INFRA]
    <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra
          Standard</cite></a>. 动态标准. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
    <dt id="biblio-mimesniff">[MIMESNIFF]
    <dd>Gordon P. Hemsley. <a href="https://mimesniff.spec.whatwg.org/"><cite>MIME Sniffing Standard</cite></a>.
      动态标准. URL: <a href="https://mimesniff.spec.whatwg.org/">https://mimesniff.spec.whatwg.org/</a>
    <dt id="biblio-navigation-timing-2">[NAVIGATION-TIMING-2]
    <dd>Yoav Weiss; Noam Rosenthal. <a href="https://www.w3.org/TR/navigation-timing-2/"><cite>Navigation Timing
          Level 2</cite></a>. 2025年2月13日. 工作草案. URL: <a
        href="https://www.w3.org/TR/navigation-timing-2/">https://www.w3.org/TR/navigation-timing-2/</a>
    <dt id="biblio-page-lifecycle">[PAGE-LIFECYCLE]
    <dd><a href="https://wicg.github.io/page-lifecycle/"><cite>Page Lifecycle</cite></a>. 社区组报告草案.
      URL: <a href="https://wicg.github.io/page-lifecycle/">https://wicg.github.io/page-lifecycle/</a>
    <dt id="biblio-page-visibility">[PAGE-VISIBILITY]
    <dd>Jatinder Mann; Arvind Jain. <a href="https://www.w3.org/TR/page-visibility/"><cite>Page Visibility (Second
          Edition)</cite></a>. 2013年10月29日. 推荐标准. URL: <a
        href="https://www.w3.org/TR/page-visibility/">https://www.w3.org/TR/page-visibility/</a>
    <dt id="biblio-rfc2119">[RFC2119]
    <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to
          Indicate Requirement Levels</cite></a>. 1997年3月. 最佳实践. URL: <a
        href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
    <dt id="biblio-rfc5234">[RFC5234]
    <dd>D. Crocker, Ed.; P. Overell. <a href="https://www.rfc-editor.org/rfc/rfc5234"><cite>Augmented BNF for Syntax
          Specifications: ABNF</cite></a>. 2008年1月. 互联网标准. URL: <a
        href="https://www.rfc-editor.org/rfc/rfc5234">https://www.rfc-editor.org/rfc/rfc5234</a>
    <dt id="biblio-rfc7230">[RFC7230]
    <dd>R. Fielding, Ed.; J. Reschke, Ed.. <a href="https://httpwg.org/specs/rfc7230.html"><cite>Hypertext Transfer
          Protocol (HTTP/1.1): Message Syntax and Routing</cite></a>. 2014年6月. 建议标准. URL: <a
        href="https://httpwg.org/specs/rfc7230.html">https://httpwg.org/specs/rfc7230.html</a>
    <dt id="biblio-rfc7231">[RFC7231]
    <dd>R. Fielding, Ed.; J. Reschke, Ed.. <a href="https://httpwg.org/specs/rfc7231.html"><cite>Hypertext Transfer
          Protocol (HTTP/1.1): Semantics and Content</cite></a>. 2014年6月. 建议标准. URL: <a
        href="https://httpwg.org/specs/rfc7231.html">https://httpwg.org/specs/rfc7231.html</a>
    <dt id="biblio-screen-capture">[SCREEN-CAPTURE]
    <dd>Jan-Ivar Bruaroey; Elad Alon. <a href="https://www.w3.org/TR/screen-capture/"><cite>Screen
          Capture</cite></a>. 2025年2月13日. 工作草案. URL: <a
        href="https://www.w3.org/TR/screen-capture/">https://www.w3.org/TR/screen-capture/</a>
    <dt id="biblio-secure-contexts">[SECURE-CONTEXTS]
    <dd>Mike West. <a href="https://www.w3.org/TR/secure-contexts/"><cite>Secure Contexts</cite></a>. 2023年11月10日.
      候选推荐草案. URL: <a href="https://www.w3.org/TR/secure-contexts/">https://www.w3.org/TR/secure-contexts/</a>
    <dt id="biblio-storage">[STORAGE]
    <dd>Anne van Kesteren. <a href="https://storage.spec.whatwg.org/"><cite>Storage Standard</cite></a>. 动态标准.
      URL: <a href="https://storage.spec.whatwg.org/">https://storage.spec.whatwg.org/</a>
    <dt id="biblio-streams">[STREAMS]
    <dd>Adam Rice; et al. <a href="https://streams.spec.whatwg.org/"><cite>Streams Standard</cite></a>. 动态标准.
      URL: <a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
    <dt id="biblio-trusted-types">[TRUSTED-TYPES]
    <dd>Krzysztof Kotowicz. <a href="https://www.w3.org/TR/trusted-types/"><cite>Trusted Types</cite></a>.
      2025年1月10日.
      工作草案. URL: <a href="https://www.w3.org/TR/trusted-types/">https://www.w3.org/TR/trusted-types/</a>
    <dt id="biblio-url">[URL]
    <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. 动态标准.
      URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
    <dt id="biblio-urlpattern">[URLPATTERN]
    <dd>Ben Kelly; Jeremy Roman; 宍戸俊哉 (Shunya Shishido). <a href="https://urlpattern.spec.whatwg.org/"><cite>URL
          Pattern Standard</cite></a>. 动态标准. URL: <a
        href="https://urlpattern.spec.whatwg.org/">https://urlpattern.spec.whatwg.org/</a>
    <dt id="biblio-webidl">[WEBIDL]
    <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. 动态标准.
      URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">信息性参考文献</span><a class="self-link"
      href="#informative"></a></h3>
  <dl>
    <dt id="biblio-unsanctioned-tracking">[UNSANCTIONED-TRACKING]
    <dd><a href="https://www.w3.org/2001/tag/doc/unsanctioned-tracking/"><cite>Unsanctioned Web Tracking</cite></a>.
      2015年7月17日. W3C TAG 调查结果. URL: <a
        href="https://www.w3.org/2001/tag/doc/unsanctioned-tracking/">https://www.w3.org/2001/tag/doc/unsanctioned-tracking/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL 索引</span><a class="self-link"
      href="#idl-index"></a></h2>
  <pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#serviceworker"><code><c- g>ServiceWorker</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-serviceworker-scripturl"><c- g>scriptURL</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-serviceworkerstate"><c- n>ServiceWorkerState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerState" href="#dom-serviceworker-state"><c- g>state</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworker-postmessage"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-serviceworker-postmessage-message-transfer-message"><code><c- g>message</c-></code></a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a>> <a href="#dom-serviceworker-postmessage-message-transfer-transfer"><code><c- g>transfer</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworker-postmessage-message-options"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-serviceworker-postmessage-message-options-message"><code><c- g>message</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions"><c- n>StructuredSerializeOptions</c-></a> <a href="#dom-serviceworker-postmessage-message-options-options"><code><c- g>options</c-></code></a> = {});

  // event
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworker-onstatechange"><c- g>onstatechange</c-></a>;
};
<a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#abstractworker"><c- n>AbstractWorker</c-></a>;

<c- b>enum</c-> <a href="#enumdef-serviceworkerstate"><code><c- g>ServiceWorkerState</c-></code></a> {
  <a href="#dom-serviceworkerstate-parsed"><code><c- s>"parsed"</c-></code></a>,
  <a href="#dom-serviceworkerstate-installing"><code><c- s>"installing"</c-></code></a>,
  <a href="#dom-serviceworkerstate-installed"><code><c- s>"installed"</c-></code></a>,
  <a href="#dom-serviceworkerstate-activating"><code><c- s>"activating"</c-></code></a>,
  <a href="#dom-serviceworkerstate-activated"><code><c- s>"activated"</c-></code></a>,
  <a href="#dom-serviceworkerstate-redundant"><code><c- s>"redundant"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#serviceworkerregistration"><code><c- g>ServiceWorkerRegistration</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-installing"><c- g>installing</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-waiting"><c- g>waiting</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-active"><c- g>active</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationpreloadmanager"><c- n>NavigationPreloadManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationPreloadManager" href="#dom-serviceworkerregistration-navigationpreload"><c- g>navigationPreload</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-serviceworkerregistration-scope"><c- g>scope</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-serviceworkerupdateviacache"><c- n>ServiceWorkerUpdateViaCache</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerUpdateViaCache" href="#dom-serviceworkerregistration-updateviacache"><c- g>updateViaCache</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkerregistration-update"><c- g>update</c-></a>();
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkerregistration-unregister"><c- g>unregister</c-></a>();

  // event
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerregistration-onupdatefound"><c- g>onupdatefound</c-></a>;
};

<c- b>enum</c-> <a href="#enumdef-serviceworkerupdateviacache"><code><c- g>ServiceWorkerUpdateViaCache</c-></code></a> {
  <a href="#dom-serviceworkerupdateviacache-imports"><code><c- s>"imports"</c-></code></a>,
  <a href="#dom-serviceworkerupdateviacache-all"><code><c- s>"all"</c-></code></a>,
  <a href="#dom-serviceworkerupdateviacache-none"><code><c- s>"none"</c-></code></a>
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworkercontainer"><c- n>ServiceWorkerContainer</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerContainer" href="#navigator-service-worker-attribute"><c- g>serviceWorker</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator"><c- g>WorkerNavigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworkercontainer"><c- n>ServiceWorkerContainer</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerContainer" href="#navigator-service-worker-attribute"><c- g>serviceWorker</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#serviceworkercontainer"><code><c- g>ServiceWorkerContainer</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkercontainer-controller"><c- g>controller</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration"><c- n>ServiceWorkerRegistration</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<ServiceWorkerRegistration>" href="#dom-serviceworkercontainer-ready"><c- g>ready</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration"><c- n>ServiceWorkerRegistration</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-register"><c- g>register</c-></a>((<a data-link-type="idl-name" href="https://www.w3.org/TR/trusted-types/#trustedscripturl"><c- n>TrustedScriptURL</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>) <a href="#dom-serviceworkercontainer-register-scripturl-options-scripturl"><code><c- g>scriptURL</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-registrationoptions"><c- n>RegistrationOptions</c-></a> <a href="#dom-serviceworkercontainer-register-scripturl-options-options"><code><c- g>options</c-></code></a> = {});

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="#serviceworkerregistration"><c- n>ServiceWorkerRegistration</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-getregistration"><c- g>getRegistration</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-serviceworkercontainer-getregistration-clienturl-clienturl"><code><c- g>clientURL</c-></code></a> = "");
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration"><c- n>ServiceWorkerRegistration</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-getregistrations"><c- g>getRegistrations</c-></a>();

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-startmessages"><c- g>startMessages</c-></a>();


  // events
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-oncontrollerchange"><c- g>oncontrollerchange</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-onmessage"><c- g>onmessage</c-></a>; // event.source of message events is ServiceWorker object
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-onmessageerror"><c- g>onmessageerror</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-registrationoptions"><code><c- g>RegistrationOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-registrationoptions-scope"><code><c- g>scope</c-></code></a>;
  <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#workertype"><c- n>WorkerType</c-></a> <a data-default="&quot;classic&quot;" data-type="WorkerType" href="#dom-registrationoptions-type"><code><c- g>type</c-></code></a> = "classic";
  <a data-link-type="idl-name" href="#enumdef-serviceworkerupdateviacache"><c- n>ServiceWorkerUpdateViaCache</c-></a> <a data-default="&quot;imports&quot;" data-type="ServiceWorkerUpdateViaCache" href="#dom-registrationoptions-updateviacache"><code><c- g>updateViaCache</c-></code></a> = "imports";
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#navigationpreloadmanager"><code><c- g>NavigationPreloadManager</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-enable"><c- g>enable</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-disable"><c- g>disable</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-setheadervalue"><c- g>setHeaderValue</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString"><c- b>ByteString</c-></a> <a href="#dom-navigationpreloadmanager-setheadervalue-value-value"><code><c- g>value</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-navigationpreloadstate"><c- n>NavigationPreloadState</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-getstate"><c- g>getState</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-navigationpreloadstate"><code><c- g>NavigationPreloadState</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-navigationpreloadstate-enabled"><code><c- g>enabled</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString"><c- b>ByteString</c-></a> <a data-type="ByteString" href="#dom-navigationpreloadstate-headervalue"><code><c- g>headerValue</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global"><c- g>Global</c-></a>=(<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#worker"><c- n>Worker</c-></a>,<a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a>), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#serviceworkerglobalscope"><code><c- g>ServiceWorkerGlobalScope</c-></code></a> : <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope"><c- n>WorkerGlobalScope</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#clients"><c- n>Clients</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Clients" href="#dom-serviceworkerglobalscope-clients"><c- g>clients</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworkerregistration"><c- n>ServiceWorkerRegistration</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerRegistration" href="#dom-serviceworkerglobalscope-registration"><c- g>registration</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker" href="#dom-serviceworkerglobalscope-serviceworker"><c- g>serviceWorker</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkerglobalscope-skipwaiting"><c- g>skipWaiting</c-></a>();

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-oninstall"><c- g>oninstall</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onactivate"><c- g>onactivate</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onfetch"><c- g>onfetch</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onmessage"><c- g>onmessage</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onmessageerror"><c- g>onmessageerror</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#client"><code><c- g>Client</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-client-url"><c- g>url</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-frametype"><c- n>FrameType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrameType" href="#dom-client-frametype"><c- g>frameType</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-client-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-clienttype"><c- n>ClientType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ClientType" href="#dom-client-type"><c- g>type</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-client-postmessage"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-client-postmessage-message-transfer-message"><code><c- g>message</c-></code></a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a>> <a href="#dom-client-postmessage-message-transfer-transfer"><code><c- g>transfer</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-client-postmessage-message-options"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-client-postmessage-message-options-message"><code><c- g>message</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions"><c- n>StructuredSerializeOptions</c-></a> <a href="#dom-client-postmessage-message-options-options"><code><c- g>options</c-></code></a> = {});
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#windowclient"><code><c- g>WindowClient</c-></code></a> : <a data-link-type="idl-name" href="#client"><c- n>Client</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://www.w3.org/TR/page-visibility/#VisibilityState"><c- n>VisibilityState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="VisibilityState" href="#dom-windowclient-visibilitystate"><c- g>visibilityState</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-windowclient-focused"><c- g>focused</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<USVString>" href="#dom-windowclient-ancestororigins"><c- g>ancestorOrigins</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#windowclient"><c- n>WindowClient</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-windowclient-focus"><c- g>focus</c-></a>();
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#windowclient"><c- n>WindowClient</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-windowclient-navigate"><c- g>navigate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-windowclient-navigate-url-url"><code><c- g>url</c-></code></a>);
};

<c- b>enum</c-> <a href="#enumdef-frametype"><code><c- g>FrameType</c-></code></a> {
  <a href="#dom-frametype-auxiliary"><code><c- s>"auxiliary"</c-></code></a>,
  <a href="#dom-frametype-top-level"><code><c- s>"top-level"</c-></code></a>,
  <a href="#dom-frametype-nested"><code><c- s>"nested"</c-></code></a>,
  <a href="#dom-frametype-none"><code><c- s>"none"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#clients"><code><c- g>Clients</c-></code></a> {
  // The objects returned will be new instances every time
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="#client"><c- n>Client</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-clients-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clients-get-id-id"><code><c- g>id</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#client"><c- n>Client</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-clients-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clientqueryoptions"><c- n>ClientQueryOptions</c-></a> <a href="#dom-clients-matchall-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#windowclient"><c- n>WindowClient</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-clients-openwindow"><c- g>openWindow</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-clients-openwindow-url-url"><code><c- g>url</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clients-claim"><c- g>claim</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-clientqueryoptions"><code><c- g>ClientQueryOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-clientqueryoptions-includeuncontrolled"><code><c- g>includeUncontrolled</c-></code></a> = <c- b>false</c->;
  <a data-link-type="idl-name" href="#enumdef-clienttype"><c- n>ClientType</c-></a> <a data-default="&quot;window&quot;" data-type="ClientType" href="#dom-clientqueryoptions-type"><code><c- g>type</c-></code></a> = "window";
};

<c- b>enum</c-> <a href="#enumdef-clienttype"><code><c- g>ClientType</c-></code></a> {
  <a href="#dom-clienttype-window"><code><c- s>"window"</c-></code></a>,
  <a href="#dom-clienttype-worker"><code><c- s>"worker"</c-></code></a>,
  <a href="#dom-clienttype-sharedworker"><code><c- s>"sharedworker"</c-></code></a>,
  <a href="#dom-clienttype-all"><code><c- s>"all"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#extendableevent"><code><c- g>ExtendableEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-extendableevent-extendableevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-extendableevent-extendableevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> <a href="#dom-extendableevent-extendableevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-extendableevent-waituntil"><c- g>waitUntil</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> <a href="#dom-extendableevent-waituntil-f-f"><code><c- g>f</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-extendableeventinit"><code><c- g>ExtendableEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  // Defined for the forward compatibility across the derived events
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#installevent"><code><c- g>InstallEvent</c-></code></a> : <a data-link-type="idl-name" href="#extendableevent"><c- n>ExtendableEvent</c-></a> {
  <a href="#dom-installevent-installevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-installevent-installevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> <a href="#dom-installevent-installevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-installevent-addroutes"><c- g>addRoutes</c-></a>((<a data-link-type="idl-name" href="#dictdef-routerrule"><c- n>RouterRule</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-routerrule"><c- n>RouterRule</c-></a>>) <a href="#dom-installevent-addroutes-rules-rules"><code><c- g>rules</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-routerrule"><code><c- g>RouterRule</c-></code></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-routercondition"><c- n>RouterCondition</c-></a> <a data-type="RouterCondition" href="#dom-routerrule-condition"><code><c- g>condition</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#typedefdef-routersource"><c- n>RouterSource</c-></a> <a data-type="RouterSource" href="#dom-routerrule-source"><code><c- g>source</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-routercondition"><code><c- g>RouterCondition</c-></code></a> {
  <a data-link-type="idl-name" href="https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible"><c- n>URLPatternCompatible</c-></a> <a data-type="URLPatternCompatible" href="#dom-routercondition-urlpattern"><code><c- g>urlPattern</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString"><c- b>ByteString</c-></a> <a data-type="ByteString" href="#dom-routercondition-requestmethod"><code><c- g>requestMethod</c-></code></a>;
  <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestmode"><c- n>RequestMode</c-></a> <a data-type="RequestMode" href="#dom-routercondition-requestmode"><code><c- g>requestMode</c-></code></a>;
  <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestdestination"><c- n>RequestDestination</c-></a> <a data-type="RequestDestination" href="#dom-routercondition-requestdestination"><code><c- g>requestDestination</c-></code></a>;
  <a data-link-type="idl-name" href="#enumdef-runningstatus"><c- n>RunningStatus</c-></a> <a data-type="RunningStatus" href="#dom-routercondition-runningstatus"><code><c- g>runningStatus</c-></code></a>;

  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-routercondition"><c- n>RouterCondition</c-></a>> <a data-type="sequence<RouterCondition>" href="#dom-routercondition-or"><code><c- g>_or</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-routercondition"><c- n>RouterCondition</c-></a> <a data-type="RouterCondition" href="#dom-routercondition-not"><code><c- g>not</c-></code></a>;
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="#dictdef-routersourcedict"><c- n>RouterSourceDict</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#enumdef-routersourceenum"><c- n>RouterSourceEnum</c-></a>) <a href="#typedefdef-routersource"><code><c- g>RouterSource</c-></code></a>;

<c- b>dictionary</c-> <a href="#dictdef-routersourcedict"><code><c- g>RouterSourceDict</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-routersourcedict-cachename"><code><c- g>cacheName</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-runningstatus"><code><c- g>RunningStatus</c-></code></a> { <a href="#dom-runningstatus-running"><code><c- s>"running"</c-></code></a>, <a href="#dom-runningstatus-not-running"><code><c- s>"not-running"</c-></code></a> };
<c- b>enum</c-> <a href="#enumdef-routersourceenum"><code><c- g>RouterSourceEnum</c-></code></a> {
  <a href="#dom-routersourceenum-cache"><code><c- s>"cache"</c-></code></a>,
  <a href="#dom-routersourceenum-fetch-event"><code><c- s>"fetch-event"</c-></code></a>,
  <a href="#dom-routersourceenum-network"><code><c- s>"network"</c-></code></a>,
  <a href="#dom-routersourceenum-race-network-and-fetch-handler"><code><c- s>"race-network-and-fetch-handler"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#fetchevent"><code><c- g>FetchEvent</c-></code></a> : <a data-link-type="idl-name" href="#extendableevent"><c- n>ExtendableEvent</c-></a> {
  <a href="#dom-fetchevent-fetchevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-fetchevent-fetchevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-fetcheventinit"><c- n>FetchEventInit</c-></a> <a href="#dom-fetchevent-fetchevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request"><c- n>Request</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Request" href="#dom-fetchevent-request"><c- g>request</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<any>" href="#dom-fetchevent-preloadresponse"><c- g>preloadResponse</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-fetchevent-clientid"><c- g>clientId</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-fetchevent-resultingclientid"><c- g>resultingClientId</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-fetchevent-replacesclientid"><c- g>replacesClientId</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#dom-fetchevent-handled"><c- g>handled</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fetchevent-respondwith"><c- g>respondWith</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a>> <a href="#dom-fetchevent-respondwith-r-r"><code><c- g>r</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-fetcheventinit"><code><c- g>FetchEventInit</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request"><c- n>Request</c-></a> <a data-type="Request" href="#dom-fetcheventinit-request"><code><c- g>request</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> <a data-type="Promise<any>" href="#dom-fetcheventinit-preloadresponse"><code><c- g>preloadResponse</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-default="&quot;&quot;" data-type="DOMString" href="#dom-fetcheventinit-clientid"><code><c- g>clientId</c-></code></a> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-default="&quot;&quot;" data-type="DOMString" href="#dom-fetcheventinit-resultingclientid"><code><c- g>resultingClientId</c-></code></a> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-default="&quot;&quot;" data-type="DOMString" href="#dom-fetcheventinit-replacesclientid"><code><c- g>replacesClientId</c-></code></a> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a data-type="Promise<undefined>" href="#dom-fetcheventinit-handled"><code><c- g>handled</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#extendablemessageevent"><code><c- g>ExtendableMessageEvent</c-></code></a> : <a data-link-type="idl-name" href="#extendableevent"><c- n>ExtendableEvent</c-></a> {
  <a href="#dom-extendablemessageevent-extendablemessageevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendablemessageeventinit"><c- n>ExtendableMessageEventInit</c-></a> <a href="#dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="any" href="#dom-extendablemessageevent-data"><c- g>data</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-extendablemessageevent-origin"><c- g>origin</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-extendablemessageevent-lasteventid"><c- g>lastEventId</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> (<a data-link-type="idl-name" href="#client"><c- n>Client</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport"><c- n>MessagePort</c-></a>)? <a class="idl-code" data-link-type="attribute" data-readonly data-type="(Client or ServiceWorker or MessagePort)?" href="#dom-extendablemessageevent-source"><c- g>source</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport"><c- n>MessagePort</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<MessagePort>" href="#dom-extendablemessageevent-ports"><c- g>ports</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-extendablemessageeventinit"><code><c- g>ExtendableMessageEventInit</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-default="null" data-type="any" href="#dom-extendablemessageeventinit-data"><code><c- g>data</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-default="&quot;&quot;" data-type="USVString" href="#dom-extendablemessageeventinit-origin"><code><c- g>origin</c-></code></a> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-default="&quot;&quot;" data-type="DOMString" href="#dom-extendablemessageeventinit-lasteventid"><code><c- g>lastEventId</c-></code></a> = "";
  (<a data-link-type="idl-name" href="#client"><c- n>Client</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport"><c- n>MessagePort</c-></a>)? <a data-default="null" data-type="(Client or ServiceWorker or MessagePort)?" href="#dom-extendablemessageeventinit-source"><code><c- g>source</c-></code></a> = <c- b>null</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport"><c- n>MessagePort</c-></a>> <a data-default="[]" data-type="sequence<MessagePort>" href="#dom-extendablemessageeventinit-ports"><code><c- g>ports</c-></code></a> = [];
};

<c- b>partial</c-> <c- b>interface</c-> <c- b>mixin</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope"><c- g>WindowOrWorkerGlobalScope</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cachestorage"><c- n>CacheStorage</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CacheStorage" href="#global-caches-attribute"><c- g>caches</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#cache"><code><c- g>Cache</c-></code></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-cache-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-match-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-cache-match-request-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cache-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-matchall-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-cache-matchall-request-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-add"><c- g>add</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-add-request-request"><code><c- g>request</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-addall"><c- g>addAll</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a>> <a href="#dom-cache-addall-requests-requests"><code><c- g>requests</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-put"><c- g>put</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-put-request-response-request"><code><c- g>request</c-></code></a>, <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a> <a href="#dom-cache-put-request-response-response"><code><c- g>response</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-delete"><c- g>delete</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-delete-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-cache-delete-request-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request"><c- n>Request</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cache-keys"><c- g>keys</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-keys-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-cache-keys-request-options-options"><code><c- g>options</c-></code></a> = {});
};

<c- b>dictionary</c-> <a href="#dictdef-cachequeryoptions"><code><c- g>CacheQueryOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-cachequeryoptions-ignoresearch"><code><c- g>ignoreSearch</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-cachequeryoptions-ignoremethod"><code><c- g>ignoreMethod</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-cachequeryoptions-ignorevary"><code><c- g>ignoreVary</c-></code></a> = <c- b>false</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#cachestorage"><code><c- g>CacheStorage</c-></code></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cachestorage-match-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-multicachequeryoptions"><c- n>MultiCacheQueryOptions</c-></a> <a href="#dom-cachestorage-match-request-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-has"><c- g>has</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-cachestorage-has-cachename-cachename"><code><c- g>cacheName</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#cache"><c- n>Cache</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-open"><c- g>open</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-cachestorage-open-cachename-cachename"><code><c- g>cacheName</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-delete"><c- g>delete</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-cachestorage-delete-cachename-cachename"><code><c- g>cacheName</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-keys"><c- g>keys</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-multicachequeryoptions"><code><c- g>MultiCacheQueryOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-multicachequeryoptions-cachename"><code><c- g>cacheName</c-></code></a>;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">问题索引</span><a class="self-link"
      href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
    <div class="issue"> 本节中的行为尚未完全指定，将在 <a href="https://html.spec.whatwg.org">HTML Standard</a> 中指定。该工作由 <a
        href="https://github.com/w3c/ServiceWorker/issues/765">issue</a> 和 <a
        href="https://github.com/whatwg/html/pull/2809">pull request</a> 跟踪。 <a class="issue-return"
        href="#issue-f6a7ea80" title="跳转到章节">↵</a></div>
    <div class="issue"> 使用待创建的 <a data-link-type="dfn"
        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">environment
        settings object</a> 而不是具体的 <a data-link-type="dfn"
        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">environment
        settings object</a>。这是由于服务工作线程与其它 <a data-link-type="dfn"
        href="https://html.spec.whatwg.org/multipage/workers.html#workers">web workers</a>
      的处理模型相比，其处理模型具有独特性。HTML 标准中最初为其它 <a data-link-type="dfn"
        href="https://html.spec.whatwg.org/multipage/workers.html#workers">web workers</a> 设计的脚本获取算法需要执行环境的 <a
        data-link-type="dfn"
        href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">environment
        settings object</a>，但是服务工作线程在脚本稍后通过 <a data-link-type="dfn" href="#run-service-worker">Run Service
        Worker</a> 算法多次运行之前，在 <a data-link-type="dfn" href="#update">Update</a> 算法中单独获取脚本。 <a class="issue-return"
        href="#issue-02e2fe82" title="跳转到章节">↵</a>
    </div>
    <div class="issue"> HTML 中的 <a data-link-type="dfn"
        href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script">fetch a
        classic worker script</a> 算法和 <a data-link-type="dfn"
        href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree">fetch a
        module worker script graph</a> 算法将 <var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client">client</a>
      作为参数。当从 <a data-link-type="dfn" href="#soft-update">Soft Update</a>
      算法传递时，<var>job</var> 的 <a data-link-type="dfn" href="#dfn-job-client">client</a> 为 null。 <a class="issue-return"
        href="#issue-9d9e65b5" title="跳转到章节">↵</a></div>
  </div>
  <details class="mdn-anno unpositioned" data-anno-for="cache-add">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/add"
          title="The add() method of the Cache interface takes a URL, retrieves it, and adds the resulting response object to the given cache.">Cache/add</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>44+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung
            Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-addAll">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/addAll"
          title="The addAll() method of the Cache interface takes an array of URLs, retrieves them, and adds the resulting response objects to the given cache. The request objects created during retrieval become keys to the stored response operations.">Cache/addAll</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>46+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-delete">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/delete"
          title="The delete() method of the Cache interface finds the Cache entry whose key is the request, and if found, deletes the Cache entry and returns a Promise that resolves to true. If no Cache entry is found, it resolves to false.">Cache/delete</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>43+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-keys">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/keys"
          title="The keys() method of the Cache interface returns a Promise that resolves to an array of Request objects representing the keys of the Cache.">Cache/keys</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>43+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-match">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/match"
          title="The match() method of the Cache interface returns a Promise that resolves to the Response associated with the first matching request in the Cache object. If no match is found, the Promise resolves to undefined.">Cache/match</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>43+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-matchall">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/matchAll"
          title="The matchAll() method of the Cache interface returns a Promise that resolves to an array of all matching responses in the Cache object.">Cache/matchAll</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>47+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>34+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-put">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/put"
          title="The put() method of the Cache interface allows key/value pairs to be added to the current Cache object.">Cache/put</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>43+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung
            Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-interface">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache"
          title="The Cache interface provides a persistent storage mechanism for Request / Response object pairs that are cached in long lived memory. How long a Cache object lives is browser dependent, but a single origin&apos;s scripts can typically rely on the presence of a previously populated Cache object. Note that the Cache interface is exposed to windowed scopes as well as workers. You don&apos;t have to use it in conjunction with service workers, even though it is defined in the service worker spec.">Cache</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung
            Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-storage-delete">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/delete"
          title="The delete() method of the CacheStorage interface finds the Cache object matching the cacheName, and if found, deletes the Cache object and returns a Promise that resolves to true. If no Cache object is found, it resolves to false.">CacheStorage/delete</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-storage-has">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/has"
          title="The has() method of the CacheStorage interface returns a Promise that resolves to true if a Cache object matches the cacheName.">CacheStorage/has</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-storage-keys">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/keys"
          title="The keys() method of the CacheStorage interface returns a Promise that will resolve with an array containing strings corresponding to all of the named Cache objects tracked by the CacheStorage object in the order they were created. Use this method to iterate over a list of all Cache objects.">CacheStorage/keys</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-storage-match">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/match"
          title="The match() method of the CacheStorage interface checks if a given Request or URL string is a key for a stored Response. This method returns a Promise for a Response, or a Promise which resolves to undefined if no match is found.">CacheStorage/match</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>54+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-storage-open">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/open"
          title="The open() method of the CacheStorage interface returns a Promise that resolves to the Cache object matching the cacheName.">CacheStorage/open</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cachestorage-interface">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage"
          title="The CacheStorage interface represents the storage for Cache objects.">CacheStorage</a></p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>43+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-frametype">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/frameType"
          title="The frameType read-only property of the Client interface indicates the type of browsing context of the current Client. This value can be one of &quot;auxiliary&quot;, &quot;top-level&quot;, &quot;nested&quot;, or &quot;none&quot;.">Client/frameType</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>43+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-id">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/id"
          title="The id read-only property of the Client interface returns the universally unique identifier of the Client object.">Client/id</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-client-postmessage-message-options">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/postMessage"
          title="The postMessage() method of the Client interface allows a service worker to send a message to a client (a Window, Worker, or SharedWorker). The message is received in the &quot;message&quot; event on navigator.serviceWorker.">Client/postMessage</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-type">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/type"
          title="The type read-only property of the Client interface indicates the type of client the service worker is controlling.">Client/type</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>54+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>60+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-url">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/url"
          title="The url read-only property of the Client interface returns the URL of the current service worker client.">Client/url</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-interface">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client"
          title="The Client interface represents an executable context such as a Worker, or a SharedWorker. Window clients are represented by the more-specific WindowClient. You can get Client/WindowClient objects from methods such as Clients.matchAll() and Clients.get().">Client</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clients-claim">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clients/claim"
          title="The claim() method of the Clients interface allows an active service worker to set itself as the controller for all clients within its scope. This triggers a &quot;controllerchange&quot; event on navigator.serviceWorker in any clients that become controlled by this service worker.">Clients/claim</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>42+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clients-get">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clients/get"
          title="The get() method of the Clients interface gets a service worker client matching a given id and returns it in a Promise.">Clients/get</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>45+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>51+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clients-matchall">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clients/matchAll"
          title="The matchAll() method of the Clients interface returns a Promise for a list of service worker Client objects. Include the options parameter to return all service worker clients whose origin is the same as the associated service worker&apos;s origin. If options are not included, the method returns only the service worker clients controlled by the service worker.">Clients/matchAll</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>54+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>42+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>29+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>29+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clients-openwindow">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clients/openWindow"
          title="The openWindow() method of the Clients interface creates a new top level browsing context and loads a given URL. If the calling script doesn&apos;t have permission to show popups, openWindow() will throw an InvalidAccessError.">Clients/openWindow</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>38+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>41+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clients-interface">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clients"
          title="The Clients interface provides access to Client objects. Access it via self.clients within a service worker.">Clients</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-extendableevent-extendableevent">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableEvent/ExtendableEvent"
          title="The ExtendableEvent() constructor creates a new ExtendableEvent object.">ExtendableEvent/ExtendableEvent</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>41+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>24+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>24+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-extendableevent-waituntil">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableEvent/waitUntil"
          title="The ExtendableEvent.waitUntil() method tells the event dispatcher that work is ongoing. It can also be used to detect whether that work was successful. In service workers, waitUntil() tells the browser that work is ongoing until the promise settles, and it shouldn&apos;t terminate the service worker if it wants that work to complete.">ExtendableEvent/waitUntil</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>24+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>24+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendableevent-interface">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableEvent"
          title="The ExtendableEvent interface extends the lifetime of the install and activate events dispatched on the global scope as part of the service worker lifecycle. This ensures that any functional events (like FetchEvent) are not dispatched until it upgrades database schemas and deletes the outdated cache entries.">ExtendableEvent</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>24+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>24+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-extendablemessageevent-extendablemessageevent">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/ExtendableMessageEvent"
          title="The ExtendableMessageEvent() constructor creates a new ExtendableMessageEvent object.">ExtendableMessageEvent/ExtendableMessageEvent</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>51+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessage-event-data">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/data"
          title="The data read-only property of the ExtendableMessageEvent interface returns the event&apos;s data. It can be any data type.">ExtendableMessageEvent/data</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>51+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessage-event-lasteventid">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/lastEventId"
          title="The lastEventID read-only property of the ExtendableMessageEvent interface represents, in server-sent events, the last event ID of the event source. This is an empty string.">ExtendableMessageEvent/lastEventId</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>51+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessage-event-origin">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/origin"
          title="The origin read-only property of the ExtendableMessageEvent interface returns the origin of the Client that sent the message.">ExtendableMessageEvent/origin</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>51+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessage-event-ports">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/ports"
          title="The ports read-only property of the ExtendableMessageEvent interface returns the array containing the MessagePort objects representing the ports of the associated message channel (the channel the message is being sent through.)">ExtendableMessageEvent/ports</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>51+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessage-event-source">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/source"
          title="The source read-only property of the ExtendableMessageEvent interface returns a reference to the Client object from which the message was sent.">ExtendableMessageEvent/source</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>51+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessageevent-interface">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent"
          title="The ExtendableMessageEvent interface of the Service Worker API represents the event object of a message event fired on a service worker (when a message is received on the ServiceWorkerGlobalScope from another context) — extends the lifetime of such events.">ExtendableMessageEvent</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>51+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fetchevent-fetchevent">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/FetchEvent"
          title="The FetchEvent() constructor creates a new FetchEvent object.">FetchEvent/FetchEvent</a></p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>44+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-clientid">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/clientId"
          title="The clientId read-only property of the FetchEvent interface returns the id of the Client that the current service worker is controlling.">FetchEvent/clientId</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>45+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>49+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fetchevent-handled">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/handled"
          title="The handled property of the FetchEvent interface returns a promise indicating if the event has been handled by the fetch algorithm or not. This property allows executing code after the browser has consumed a response, and is usually used together with the waitUntil() method.">FetchEvent/handled</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>84+</span></span><span
          class="safari yes"><span>Safari</span><span>16+</span></span><span
          class="chrome yes"><span>Chrome</span><span>86+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>86+</span></span>
        <hr>
        <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-preloadresponse">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/preloadResponse"
          title="The preloadResponse read-only property of the FetchEvent interface returns a Promise that resolves to the navigation preload Response if navigation preload was triggered, or undefined otherwise.">FetchEvent/preloadResponse</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span
          class="safari yes"><span>Safari</span><span>15.4+</span></span><span
          class="chrome yes"><span>Chrome</span><span>59+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-replacesClientId">
    <summary><b class="less-than-two-engines-flag"
        title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/replacesClientId"
          title="The replacesClientId read-only property of the FetchEvent interface is the id of the client that is being replaced during a page navigation.">FetchEvent/replacesClientId</a>
      </p>
      <p class="less-than-two-engines-text">In no current engines.</p>
      <div class="support">
        <span class="firefox no"><span>Firefox</span><span>None</span></span><span
          class="safari no"><span>Safari</span><span>None</span></span><span
          class="chrome no"><span>Chrome</span><span>None</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink no"><span>Edge</span><span>None</span></span>
        <hr>
        <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-request">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/request"
          title="The request read-only property of the FetchEvent interface returns the Request that triggered the event handler.">FetchEvent/request</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-respondwith">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/respondWith"
          title="The respondWith() method of FetchEvent prevents the browser&apos;s default fetch handling, and allows you to provide a promise for a Response yourself.">FetchEvent/respondWith</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>42+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-resultingclientid">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/resultingClientId"
          title="The resultingClientId read-only property of the FetchEvent interface is the id of the client that replaces the previous client during a page navigation.">FetchEvent/resultingClientId</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span
          class="safari yes"><span>Safari</span><span>16+</span></span><span
          class="chrome yes"><span>Chrome</span><span>72+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>50+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetchevent-interface">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent"
          title="This is the event type for fetch events dispatched on the service worker global scope. It contains information about the fetch, including the request and how the receiver will treat the response. It provides the event.respondWith() method, which allows us to provide a response to this fetch.">FetchEvent</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-navigationpreloadmanager-disable">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigationPreloadManager/disable"
          title="The disable() method of the NavigationPreloadManager interface halts the automatic preloading of service-worker-managed resources previously started using enable() It returns a promise that resolves with undefined.">NavigationPreloadManager/disable</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span
          class="safari yes"><span>Safari</span><span>15.4+</span></span><span
          class="chrome yes"><span>Chrome</span><span>59+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-navigationpreloadmanager-enable">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigationPreloadManager/enable"
          title="The enable() method of the NavigationPreloadManager interface is used to enable preloading of resources managed by the service worker. It returns a promise that resolves with undefined.">NavigationPreloadManager/enable</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span
          class="safari yes"><span>Safari</span><span>15.4+</span></span><span
          class="chrome yes"><span>Chrome</span><span>59+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-navigationpreloadmanager-getstate">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigationPreloadManager/getState"
          title="The getState() method of the NavigationPreloadManager interface returns a Promise that resolves to an object with properties that indicate whether preload is enabled and what value will be sent in the Service-Worker-Navigation-Preload HTTP header.">NavigationPreloadManager/getState</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span
          class="safari yes"><span>Safari</span><span>15.4+</span></span><span
          class="chrome yes"><span>Chrome</span><span>59+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-navigationpreloadmanager-setheadervalue">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigationPreloadManager/setHeaderValue"
          title="The setHeaderValue() method of the NavigationPreloadManager interface sets the value of the Service-Worker-Navigation-Preload header that will be sent with requests resulting from a fetch() operation made during service worker navigation preloading. It returns an empty Promise that resolves with undefined.">NavigationPreloadManager/setHeaderValue</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span
          class="safari yes"><span>Safari</span><span>15.4+</span></span><span
          class="chrome yes"><span>Chrome</span><span>59+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigation-preload-manager">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigationPreloadManager"
          title="The NavigationPreloadManager interface of the Service Worker API provides methods for managing the preloading of resources in parallel with service worker bootup.">NavigationPreloadManager</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span
          class="safari yes"><span>Safari</span><span>15.4+</span></span><span
          class="chrome yes"><span>Chrome</span><span>59+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-attribute">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/serviceWorker"
          title="The Navigator.serviceWorker read-only property returns the ServiceWorkerContainer object for the associated document, which provides access to registration, removal, upgrade, and communication with the ServiceWorker.">Navigator/serviceWorker</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworker-postmessage">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/postMessage"
          title="The postMessage() method of the ServiceWorker interface sends a message to the worker. This accepts a single parameter, which is the data to send to the worker. The data may be any JavaScript object which can be handled by the structured clone algorithm.">ServiceWorker/postMessage</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworker-postmessage-message-options">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/postMessage"
          title="The postMessage() method of the ServiceWorker interface sends a message to the worker. This accepts a single parameter, which is the data to send to the worker. The data may be any JavaScript object which can be handled by the structured clone algorithm.">ServiceWorker/postMessage</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-url">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/scriptURL"
          title="Returns the ServiceWorker serialized script URL defined as part of ServiceWorkerRegistration. Must be on the same origin as the document that registers the ServiceWorker.">ServiceWorker/scriptURL</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-state">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/state"
          title="The state read-only property of the ServiceWorker interface returns a string representing the current state of the service worker. It can be one of the following values: parsed, installing, installed, activating, activated, or redundant.">ServiceWorker/state</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworker-onstatechange">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/statechange_event"
          title="The statechange event fires anytime the ServiceWorker.state changes.">ServiceWorker/statechange_event</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="serviceworker-interface">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker"
          title="The ServiceWorker interface of the Service Worker API provides a reference to a service worker. Multiple browsing contexts (e.g. pages, workers, etc.) can be associated with the same service worker, each through a unique ServiceWorker object.">ServiceWorker</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-controller">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/controller"
          title="The controller read-only property of the ServiceWorkerContainer interface returns a ServiceWorker object if its state is activating or activated (the same object returned by ServiceWorkerRegistration.active). This property returns null if the request is a force refresh (Shift + refresh) or if there is no active worker.">ServiceWorkerContainer/controller</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkercontainer-oncontrollerchange">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/controllerchange_event"
          title="The controllerchange event of the ServiceWorkerContainer interface fires when the document&apos;s associated ServiceWorkerRegistration acquires a new active worker.">ServiceWorkerContainer/controllerchange_event</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-getRegistration">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/getRegistration"
          title="The getRegistration() method of the ServiceWorkerContainer interface gets a ServiceWorkerRegistration object whose scope URL matches the provided client URL. The method returns a Promise that resolves to a ServiceWorkerRegistration or undefined.">ServiceWorkerContainer/getRegistration</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-getRegistrations">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/getRegistrations"
          title="The getRegistrations() method of the ServiceWorkerContainer interface gets all ServiceWorkerRegistrations associated with a ServiceWorkerContainer, in an array. The method returns a Promise that resolves to an array of ServiceWorkerRegistration.">ServiceWorkerContainer/getRegistrations</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>45+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>27+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android yes"><span>Android
            WebView</span><span>40+</span></span><span class="samsunginternet_android yes"><span>Samsung
            Internet</span><span>4.0+</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>27+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkercontainer-onmessage">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/message_event"
          title="The message event is used in a page controlled by a service worker to receive messages from the service worker.">ServiceWorkerContainer/message_event</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-ready">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/ready"
          title="The ready read-only property of the ServiceWorkerContainer interface provides a way of delaying code execution until a service worker is active. It returns a Promise that will never reject, and which waits indefinitely until the ServiceWorkerRegistration associated with the current page has an active worker. Once that condition is met, it resolves with the ServiceWorkerRegistration.">ServiceWorkerContainer/ready</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-register">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register"
          title="The register() method of the ServiceWorkerContainer interface creates or updates a ServiceWorkerRegistration for the given scriptURL.">ServiceWorkerContainer/register</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-startMessages">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/startMessages"
          title="The startMessages() method of the ServiceWorkerContainer interface explicitly starts the flow of messages being dispatched from a service worker to pages under its control (e.g. sent via Client.postMessage()). This can be used to react to sent messages earlier, even before that page&apos;s content has finished loading.">ServiceWorkerContainer/startMessages</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>64+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>74+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>50+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="serviceworkercontainer-interface">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer"
          title="The ServiceWorkerContainer interface of the Service Worker API provides an object representing the service worker as an overall unit in the network ecosystem, including facilities to register, unregister and update service workers, and access the state of service workers and their registrations.">ServiceWorkerContainer</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-global-scope-activate-event">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/activate_event"
          title="The activate event of the ServiceWorkerGlobalScope interface is fired when a ServiceWorkerRegistration acquires a new ServiceWorkerRegistration.active worker.">ServiceWorkerGlobalScope/activate_event</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>24+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>24+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-onactivate">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/activate_event"
          title="The activate event of the ServiceWorkerGlobalScope interface is fired when a ServiceWorkerRegistration acquires a new ServiceWorkerRegistration.active worker.">ServiceWorkerGlobalScope/activate_event</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>24+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>24+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-global-scope-clients">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/clients"
          title="The clients read-only property of the ServiceWorkerGlobalScope interface returns the Clients object associated with the service worker.">ServiceWorkerGlobalScope/clients</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>24+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>24+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-onfetch">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/fetch_event"
          title="The fetch event is fired in the service worker&apos;s global scope when the main app thread makes a network request. It enables the service worker to intercept network requests and send customized responses (for example, from a local cache).">ServiceWorkerGlobalScope/fetch_event</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>24+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>24+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-oninstall">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/install_event"
          title="The install event of the ServiceWorkerGlobalScope interface is fired when a ServiceWorkerRegistration acquires a new ServiceWorkerRegistration.installing worker.">ServiceWorkerGlobalScope/install_event</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>24+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>24+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="eventdef-serviceworkerglobalscope-message">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/message_event"
          title="The message event of the ServiceWorkerGlobalScope interface occurs when incoming messages are received. Controlled pages can use the ServiceWorker.postMessage() method to send messages to service workers. The service worker can optionally send a response back via the Client.postMessage(), corresponding to the controlled page.">ServiceWorkerGlobalScope/message_event</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>24+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>24+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-onmessage">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/message_event"
          title="The message event of the ServiceWorkerGlobalScope interface occurs when incoming messages are received. Controlled pages can use the ServiceWorker.postMessage() method to send messages to service workers. The service worker can optionally send a response back via the Client.postMessage(), corresponding to the controlled page.">ServiceWorkerGlobalScope/message_event</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>24+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>24+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-global-scope-registration">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/registration"
          title="The registration read-only property of the ServiceWorkerGlobalScope interface returns a reference to the ServiceWorkerRegistration object, which represents the service worker&apos;s registration.">ServiceWorkerGlobalScope/registration</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>42+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>26+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>26+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-global-scope-skipwaiting">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/skipWaiting"
          title="The ServiceWorkerGlobalScope.skipWaiting() method of the ServiceWorkerGlobalScope forces the waiting service worker to become the active service worker.">ServiceWorkerGlobalScope/skipWaiting</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>41+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>25+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>25+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="serviceworkerglobalscope-interface">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope"
          title="The ServiceWorkerGlobalScope interface of the Service Worker API represents the global execution context of a service worker.">ServiceWorkerGlobalScope</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera yes"><span>Opera</span><span>24+</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera
            Mobile</span><span>24+</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-active">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/active"
          title="The active property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is activating or activated. This property is initially set to null.">ServiceWorkerRegistration/active</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-installing">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/installing"
          title="The installing property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is installing. This property is initially set to null.">ServiceWorkerRegistration/installing</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-registration-navigationpreload">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/navigationPreload"
          title="The navigationPreload read-only property of the ServiceWorkerRegistration interface returns the NavigationPreloadManager associated with the current service worker registration.">ServiceWorkerRegistration/navigationPreload</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span
          class="safari yes"><span>Safari</span><span>15.4+</span></span><span
          class="chrome yes"><span>Chrome</span><span>59+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung
            Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-registration-scope">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/scope"
          title="The scope read-only property of the ServiceWorkerRegistration interface returns a unique identifier for a service worker registration. The service worker must be on the same origin as the document that registers the ServiceWorker.">ServiceWorkerRegistration/scope</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-unregister">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/unregister"
          title="The unregister() method of the ServiceWorkerRegistration interface unregisters the service worker registration and returns a Promise. The promise will resolve to false if no registration was found, otherwise it resolves to true irrespective of whether unregistration happened or not (it may not unregister if someone else just called ServiceWorkerContainer.register() with the same scope.) The service worker will finish any ongoing operations before it is unregistered.">ServiceWorkerRegistration/unregister</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-registration-update">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/update"
          title="The update() method of the ServiceWorkerRegistration interface attempts to update the service worker. It fetches the worker&apos;s script URL, and if the new worker is not byte-by-byte identical to the current worker, it installs the new worker. The fetch of the worker bypasses any browser caches if the previous fetch occurred over 24 hours ago.">ServiceWorkerRegistration/update</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>45+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung
            Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerregistration-onupdatefound">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/updatefound_event"
          title="The updatefound event of the ServiceWorkerRegistration interface is fired any time the ServiceWorkerRegistration.installing property acquires a new service worker.">ServiceWorkerRegistration/updatefound_event</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-registration-updateviacache">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/updateViaCache"
          title="The updateViaCache read-only property of the ServiceWorkerRegistration interface updates the cache using the mode specified in the call to ServiceWorkerContainer.register. Requests for importScripts still go via the HTTP cache. updateViaCache offers control over this behavior.">ServiceWorkerRegistration/updateViaCache</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>57+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>68+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-waiting">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/waiting"
          title="The waiting property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is installed. This property is initially set to null.">ServiceWorkerRegistration/waiting</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="serviceworkerregistration-interface">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration"
          title="The ServiceWorkerRegistration interface of the Service Worker API represents the service worker registration. You register a service worker to control one or more pages that share the same origin.">ServiceWorkerRegistration</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-focus">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/focus"
          title="The focus() method of the WindowClient interface gives user input focus to the current client and returns a Promise that resolves to the existing WindowClient.">WindowClient/focus</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>42+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-focused">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/focused"
          title="The focused read-only property of the WindowClient interface is a boolean value that indicates whether the current client has focus.">WindowClient/focused</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>42+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-navigate">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/navigate"
          title="The navigate() method of the WindowClient interface loads a specified URL into a controlled client page then returns a Promise that resolves to the existing WindowClient.">WindowClient/navigate</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>50+</span></span><span
          class="safari yes"><span>Safari</span><span>16+</span></span><span
          class="chrome yes"><span>Chrome</span><span>49+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android yes"><span>Android
            WebView</span><span>42+</span></span><span class="samsunginternet_android yes"><span>Samsung
            Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-visibilitystate">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/visibilityState"
          title="The visibilityState read-only property of the WindowClient interface indicates the visibility of the current client. This value can be one of &quot;hidden&quot;, &quot;visible&quot;, or &quot;prerender&quot;.">WindowClient/visibilityState</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>42+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="windowclient">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowClient"
          title="The WindowClient interface of the ServiceWorker API represents the scope of a service worker client that is a document in a browsing context, controlled by an active worker. The service worker client independently selects and uses a service worker for its own loading and sub-resources.">WindowClient</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>42+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="self-caches">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/caches"
          title="The global caches read-only property returns the CacheStorage object associated with the current context. This object enables functionality such as storing assets for offline use, and generating custom responses to requests.">caches</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span
          class="safari yes"><span>Safari</span><span>11.1+</span></span><span
          class="chrome yes"><span>Chrome</span><span>40+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="handle-fetch">
    <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span>
    </summary>
    <div class="feature">
      <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Service-Worker-Navigation-Preload"
          title="The Service-Worker-Navigation-Preload request header indicates that the request was the result of a fetch() operation made during service worker navigation preloading. It allows a server to respond with a different resource than for a normal fetch().">Headers/Service-Worker-Navigation-Preload</a>
      </p>
      <p class="all-engines-text">In all current engines.</p>
      <div class="support">
        <span class="firefox yes"><span>Firefox</span><span>preview+</span></span><span
          class="safari yes"><span>Safari</span><span>15.4+</span></span><span
          class="chrome yes"><span>Chrome</span><span>59+</span></span>
        <hr>
        <span class="opera no"><span>Opera</span><span>?</span></span><span
          class="edge_blink yes"><span>Edge</span><span>79+</span></span>
        <hr>
        <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span
          class="ie no"><span>IE</span><span>None</span></span>
        <hr>
        <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span
          class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome
            for Android</span><span>?</span></span><span class="webview_android no"><span>Android
            WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung
            Internet</span><span>?</span></span><span class="opera_android no"><span>Opera
            Mobile</span><span>?</span></span>
      </div>
    </div>
  </details>
  <script>/* Boilerplate: script-dom-helper */
    "use strict";
    function query(sel) { return document.querySelector(sel); }

    function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

    function iter(obj) {
      if (!obj) return [];
      var it = obj[Symbol.iterator];
      if (it) return it;
      return Object.entries(obj);
    }

    function mk(tagname, attrs, ...children) {
      const el = document.createElement(tagname);
      for (const [k, v] of iter(attrs)) {
        if (k.slice(0, 3) == "_on") {
          const eventName = k.slice(3);
          el.addEventListener(eventName, v);
        } else if (k[0] == "_") {
          // property, not attribute
          el[k.slice(1)] = v;
        } else {
          if (v === false || v == null) {
            continue;
          } else if (v === true) {
            el.setAttribute(k, "");
            continue;
          } else {
            el.setAttribute(k, v);
          }
        }
      }
      append(el, children);
      return el;
    }

    /* Create shortcuts for every known HTML element */
    [
      "a",
      "abbr",
      "acronym",
      "address",
      "applet",
      "area",
      "article",
      "aside",
      "audio",
      "b",
      "base",
      "basefont",
      "bdo",
      "big",
      "blockquote",
      "body",
      "br",
      "button",
      "canvas",
      "caption",
      "center",
      "cite",
      "code",
      "col",
      "colgroup",
      "datalist",
      "dd",
      "del",
      "details",
      "dfn",
      "dialog",
      "div",
      "dl",
      "dt",
      "em",
      "embed",
      "fieldset",
      "figcaption",
      "figure",
      "font",
      "footer",
      "form",
      "frame",
      "frameset",
      "head",
      "header",
      "h1",
      "h2",
      "h3",
      "h4",
      "h5",
      "h6",
      "hr",
      "html",
      "i",
      "iframe",
      "img",
      "input",
      "ins",
      "kbd",
      "label",
      "legend",
      "li",
      "link",
      "main",
      "map",
      "mark",
      "meta",
      "meter",
      "nav",
      "nobr",
      "noscript",
      "object",
      "ol",
      "optgroup",
      "option",
      "output",
      "p",
      "param",
      "pre",
      "progress",
      "q",
      "s",
      "samp",
      "script",
      "section",
      "select",
      "small",
      "source",
      "span",
      "strike",
      "strong",
      "style",
      "sub",
      "summary",
      "sup",
      "table",
      "tbody",
      "td",
      "template",
      "textarea",
      "tfoot",
      "th",
      "thead",
      "time",
      "title",
      "tr",
      "u",
      "ul",
      "var",
      "video",
      "wbr",
      "xmp",
    ].forEach(tagname => {
      mk[tagname] = (...args) => mk(tagname, ...args);
    });

    function* nodesFromChildList(children) {
      for (const child of children.flat(Infinity)) {
        if (child instanceof Node) {
          yield child;
        } else {
          yield new Text(child);
        }
      }
    }
    function append(el, ...children) {
      for (const child of nodesFromChildList(children)) {
        if (el instanceof Node) el.appendChild(child);
        else el.push(child);
      }
      return el;
    }

    function insertAfter(el, ...children) {
      for (const child of nodesFromChildList(children)) {
        el.parentNode.insertBefore(child, el.nextSibling);
      }
      return el;
    }

    function clearContents(el) {
      el.innerHTML = "";
      return el;
    }

    function parseHTML(markup) {
      if (markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
        const doc = document.implementation.createHTMLDocument("");
        doc.documentElement.innerHTML = markup;
        return doc;
      } else {
        const el = mk.template({});
        el.innerHTML = markup;
        return el.content;
      }
    }</script>
  <script>/* Boilerplate: script-dfn-panel */
    "use strict";
    {
      let dfnPanelData = {
        "00f91d3b": { "dfnID": "00f91d3b", "dfnText": "fetch(input, init)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-global-fetch" }], "title": "4.8. Events" }], "url": "https://fetch.spec.whatwg.org/#dom-global-fetch" },
        "03675365": { "dfnID": "03675365", "dfnText": "event handler IDL attribute", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handler-idl-attributes" }], "title": "3.1.6. Event handler" }, { "refs": [{ "id": "ref-for-event-handler-idl-attributes\u2460" }], "title": "3.2.10. Event handler" }, { "refs": [{ "id": "ref-for-event-handler-idl-attributes\u2461" }], "title": "3.4.7. Event handlers" }, { "refs": [{ "id": "ref-for-event-handler-idl-attributes\u2462" }], "title": "4.1.5. Event handlers" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" },
        "055980d9": { "dfnID": "055980d9", "dfnText": "cancel (for ReadableStreamDefaultReader)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultreader-cancel" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestreamdefaultreader-cancel" },
        "061c440e": { "dfnID": "061c440e", "dfnText": "cross-origin isolated capability", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-workerglobalscope-cross-origin-isolated-capability" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-concept-workerglobalscope-cross-origin-isolated-capability\u2460" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-cross-origin-isolated-capability" },
        "06950d36": { "dfnID": "06950d36", "dfnText": "event listener", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-listener" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-concept-event-listener\u2460" }], "title": "Run Service Worker" }], "url": "https://dom.spec.whatwg.org/#concept-event-listener" },
        "06a6db54": { "dfnID": "06a6db54", "dfnText": "enqueue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-enqueue" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-queue-enqueue\u2460" }, { "id": "ref-for-queue-enqueue\u2461" }], "title": "Schedule Job" }, { "refs": [{ "id": "ref-for-queue-enqueue\u2462" }, { "id": "ref-for-queue-enqueue\u2463" }], "title": "Handle Fetch" }], "url": "https://infra.spec.whatwg.org/#queue-enqueue" },
        "085ddd0a": { "dfnID": "085ddd0a", "dfnText": "target browsing context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-environment-target-browsing-context" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-concept-environment-target-browsing-context\u2460" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-concept-environment-target-browsing-context\u2461" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context" },
        "086e3aff": { "dfnID": "086e3aff", "dfnText": "origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-origin" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-concept-origin\u2460" }, { "id": "ref-for-concept-origin\u2461" }, { "id": "ref-for-concept-origin\u2462" }, { "id": "ref-for-concept-origin\u2463" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-concept-origin\u2464" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-concept-origin\u2465" }, { "id": "ref-for-concept-origin\u2466" }], "title": "2.5. Control and Use" }, { "refs": [{ "id": "ref-for-concept-origin\u2467" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-concept-origin\u2468" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-concept-origin\u2460\u24ea" }], "title": "5. Caches" }, { "refs": [{ "id": "ref-for-concept-origin\u2460\u2460" }], "title": "6.3.1. Origin restriction" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" },
        "08a12aad": { "dfnID": "08a12aad", "dfnText": "Response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-response" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-response\u2460" }, { "id": "ref-for-response\u2461" }, { "id": "ref-for-response\u2462" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-response\u2463" }, { "id": "ref-for-response\u2464" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-response\u2465" }, { "id": "ref-for-response\u2466" }, { "id": "ref-for-response\u2467" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-response\u2468" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-response\u2460\u24ea" }], "title": "5.5. CacheStorage" }, { "refs": [{ "id": "ref-for-response\u2460\u2460" }, { "id": "ref-for-response\u2460\u2461" }, { "id": "ref-for-response\u2460\u2462" }], "title": "6.4. Cross-Origin Resources and CORS" }, { "refs": [{ "id": "ref-for-response\u2460\u2463" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#response" },
        "092f2e0b": { "dfnID": "092f2e0b", "dfnText": "dispatch flag", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dispatch-flag" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-dispatch-flag\u2460" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-dispatch-flag\u2461" }], "title": "Update Service Worker Extended Events Set" }], "url": "https://dom.spec.whatwg.org/#dispatch-flag" },
        "0a52a8b4": { "dfnID": "0a52a8b4", "dfnText": "combine", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-header-list-combine" }, { "id": "ref-for-concept-header-list-combine\u2460" }], "title": "Request Matches Cached Item" }], "url": "https://fetch.spec.whatwg.org/#concept-header-list-combine" },
        "0ba26d3b": { "dfnID": "0ba26d3b", "dfnText": "active service worker", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-environment-active-service-worker" }, { "id": "ref-for-concept-environment-active-service-worker\u2460" }, { "id": "ref-for-concept-environment-active-service-worker\u2461" }, { "id": "ref-for-concept-environment-active-service-worker\u2462" }, { "id": "ref-for-concept-environment-active-service-worker\u2460\u2463" }, { "id": "ref-for-concept-environment-active-service-worker\u2460\u2464" }, { "id": "ref-for-concept-environment-active-service-worker\u2460\u2465" }], "title": "2.5. Control and Use" }, { "refs": [{ "id": "ref-for-concept-environment-active-service-worker\u2463" }, { "id": "ref-for-concept-environment-active-service-worker\u2464" }, { "id": "ref-for-concept-environment-active-service-worker\u2465" }, { "id": "ref-for-concept-environment-active-service-worker\u2466" }, { "id": "ref-for-concept-environment-active-service-worker\u2467" }, { "id": "ref-for-concept-environment-active-service-worker\u2468" }, { "id": "ref-for-concept-environment-active-service-worker\u2460\u24ea" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-concept-environment-active-service-worker\u2460\u2460" }, { "id": "ref-for-concept-environment-active-service-worker\u2460\u2461" }, { "id": "ref-for-concept-environment-active-service-worker\u2460\u2462" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-concept-environment-active-service-worker\u2460\u2466" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-concept-environment-active-service-worker\u2460\u2467" }, { "id": "ref-for-concept-environment-active-service-worker\u2460\u2468" }], "title": "3.4.1. controller" }, { "refs": [{ "id": "ref-for-concept-environment-active-service-worker\u2461\u24ea" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-concept-environment-active-service-worker\u2461\u2460" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-concept-environment-active-service-worker\u2461\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-concept-environment-active-service-worker\u2461\u2462" }, { "id": "ref-for-concept-environment-active-service-worker\u2461\u2463" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-concept-environment-active-service-worker\u2461\u2464" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-concept-environment-active-service-worker\u2461\u2465" }, { "id": "ref-for-concept-environment-active-service-worker\u2461\u2466" }, { "id": "ref-for-concept-environment-active-service-worker\u2461\u2467" }, { "id": "ref-for-concept-environment-active-service-worker\u2461\u2468" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-environment-active-service-worker\u2462\u24ea" }, { "id": "ref-for-concept-environment-active-service-worker\u2462\u2460" }], "title": "Lookup Race Response" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" },
        "0d0390b4": { "dfnID": "0d0390b4", "dfnText": "browsing context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-browsing-context" }, { "id": "ref-for-browsing-context\u2460" }, { "id": "ref-for-browsing-context\u2461" }, { "id": "ref-for-browsing-context\u2462" }, { "id": "ref-for-browsing-context\u2463" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-browsing-context\u2464" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-browsing-context\u2465" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-browsing-context\u2466" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" },
        "0e3ba9f8": { "dfnID": "0e3ba9f8", "dfnText": "fully active", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fully-active" }], "title": "4.2.11. navigate(url)" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" },
        "0e6b2056": { "dfnID": "0e6b2056", "dfnText": "set (for map)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-set" }], "title": "5.5.3. open(cacheName)" }, { "refs": [{ "id": "ref-for-map-set\u2460" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-map-set\u2461" }], "title": "Schedule Job" }, { "refs": [{ "id": "ref-for-map-set\u2462" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-map-set\u2463" }], "title": "Set Registration" }], "url": "https://infra.spec.whatwg.org/#map-set" },
        "0e8de730": { "dfnID": "0e8de730", "dfnText": "tuple", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-tuple" }], "title": "5.1. Constructs" }], "url": "https://infra.spec.whatwg.org/#tuple" },
        "0ef5a390": { "dfnID": "0ef5a390", "dfnText": "resolve a module specifier", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-resolve-a-module-specifier" }, { "id": "ref-for-resolve-a-module-specifier\u2460" }], "title": "Is Async Module" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#resolve-a-module-specifier" },
        "0fe84b59": { "dfnID": "0fe84b59", "dfnText": "signal", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortcontroller-signal" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://dom.spec.whatwg.org/#abortcontroller-signal" },
        "116848ac": { "dfnID": "116848ac", "dfnText": "reacting", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled" }], "title": "5.4.3. add(request)" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2460" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2461" }], "title": "5.5.1. match(request, options)" }, { "refs": [{ "id": "ref-for-dfn-perform-steps-once-promise-is-settled\u2462" }], "title": "5.5.4. delete(cacheName)" }], "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" },
        "1243a891": { "dfnID": "1243a891", "dfnText": "exist", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-exists" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-map-exists\u2460" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-map-exists\u2461" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-map-exists\u2462" }], "title": "5.5.1. match(request, options)" }, { "refs": [{ "id": "ref-for-map-exists\u2463" }, { "id": "ref-for-map-exists\u2464" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-map-exists\u2465" }], "title": "Schedule Job" }, { "refs": [{ "id": "ref-for-map-exists\u2466" }, { "id": "ref-for-map-exists\u2467" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-map-exists\u2468" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-map-exists\u2460\u24ea" }, { "id": "ref-for-map-exists\u2460\u2460" }, { "id": "ref-for-map-exists\u2460\u2461" }, { "id": "ref-for-map-exists\u2460\u2462" }, { "id": "ref-for-map-exists\u2460\u2463" }, { "id": "ref-for-map-exists\u2460\u2464" }, { "id": "ref-for-map-exists\u2460\u2465" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-map-exists\u2460\u2466" }, { "id": "ref-for-map-exists\u2460\u2467" }, { "id": "ref-for-map-exists\u2460\u2468" }, { "id": "ref-for-map-exists\u2461\u24ea" }, { "id": "ref-for-map-exists\u2461\u2460" }, { "id": "ref-for-map-exists\u2461\u2461" }, { "id": "ref-for-map-exists\u2461\u2462" }], "title": "Match Router Condition" }, { "refs": [{ "id": "ref-for-map-exists\u2461\u2463" }, { "id": "ref-for-map-exists\u2461\u2464" }], "title": "Count Router Inner Conditions" }, { "refs": [{ "id": "ref-for-map-exists\u2461\u2465" }], "title": "Update Worker State" }, { "refs": [{ "id": "ref-for-map-exists\u2461\u2466" }], "title": "Lookup Race Response" }], "url": "https://infra.spec.whatwg.org/#map-exists" },
        "129bdae8": { "dfnID": "129bdae8", "dfnText": "Event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event" }, { "id": "ref-for-event\u2460" }, { "id": "ref-for-event\u2461" }, { "id": "ref-for-event\u2462" }, { "id": "ref-for-event\u2463" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-event\u2464" }], "title": "4.4. ExtendableEvent" }], "url": "https://dom.spec.whatwg.org/#event" },
        "12d6b9a8": { "dfnID": "12d6b9a8", "dfnText": "values", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-getting-the-values" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-map-getting-the-values\u2460" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-map-getting-the-values\u2461" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-map-getting-the-values\u2462" }], "title": "Update" }, { "refs": [{ "id": "ref-for-map-getting-the-values\u2463" }], "title": "Handle User Agent Shutdown" }], "url": "https://infra.spec.whatwg.org/#map-getting-the-values" },
        "1372f92a": { "dfnID": "1372f92a", "dfnText": "dispatch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-dispatch" }, { "id": "ref-for-concept-event-dispatch\u2460" }], "title": "2.6. Task Sources" }, { "refs": [{ "id": "ref-for-concept-event-dispatch\u2461" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-concept-event-dispatch\u2462" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-concept-event-dispatch\u2463" }], "title": "Install" }, { "refs": [{ "id": "ref-for-concept-event-dispatch\u2464" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-concept-event-dispatch\u2465" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-concept-event-dispatch\u2466" }, { "id": "ref-for-concept-event-dispatch\u2467" }], "title": "Fire Functional Event" }], "url": "https://dom.spec.whatwg.org/#concept-event-dispatch" },
        "143adb4c": { "dfnID": "143adb4c", "dfnText": "unsafe shared current time", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-unsafe-shared-current-time" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://www.w3.org/TR/hr-time-3/#dfn-unsafe-shared-current-time" },
        "15c0e5cb": { "dfnID": "15c0e5cb", "dfnText": "create a new realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-creating-a-new-javascript-realm" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm" },
        "15e48c39": { "dfnID": "15e48c39", "dfnText": "set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }, { "id": "ref-for-ordered-set\u2460" }, { "id": "ref-for-ordered-set\u2461" }, { "id": "ref-for-ordered-set\u2462" }, { "id": "ref-for-ordered-set\u2463" }, { "id": "ref-for-ordered-set\u2464" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-ordered-set\u2465" }], "title": "5.5.5. keys()" }, { "refs": [{ "id": "ref-for-ordered-set\u2466" }], "title": "Is Async Module" }], "url": "https://infra.spec.whatwg.org/#ordered-set" },
        "162d2b51": { "dfnID": "162d2b51", "dfnText": "request (for Request)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-request" }, { "id": "ref-for-concept-request-request\u2460" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-concept-request-request\u2461" }, { "id": "ref-for-concept-request-request\u2462" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-request-request\u2463" }, { "id": "ref-for-concept-request-request\u2464" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-concept-request-request\u2465" }, { "id": "ref-for-concept-request-request\u2466" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-concept-request-request\u2467" }, { "id": "ref-for-concept-request-request\u2468" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-concept-request-request\u2460\u24ea" }], "title": "Batch Cache Operations" }], "url": "https://fetch.spec.whatwg.org/#concept-request-request" },
        "1641b9ef": { "dfnID": "1641b9ef", "dfnText": "create a frozen array", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-create-frozen-array" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-dfn-create-frozen-array\u2460" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-dfn-create-frozen-array\u2461" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-dfn-create-frozen-array\u2462" }], "title": "5.4.7. keys(request, options)" }], "url": "https://webidl.spec.whatwg.org/#dfn-create-frozen-array" },
        "165b73c9": { "dfnID": "165b73c9", "dfnText": "SharedWorkerGlobalScope", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sharedworkerglobalscope" }], "title": "2.4. Service Worker Client" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#sharedworkerglobalscope" },
        "16d07e10": { "dfnID": "16d07e10", "dfnText": "for each (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-iterate" }, { "id": "ref-for-list-iterate\u2460" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-list-iterate\u2461" }, { "id": "ref-for-list-iterate\u2462" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-list-iterate\u2463" }, { "id": "ref-for-list-iterate\u2464" }, { "id": "ref-for-list-iterate\u2465" }, { "id": "ref-for-list-iterate\u2466" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-list-iterate\u2467" }, { "id": "ref-for-list-iterate\u2468" }, { "id": "ref-for-list-iterate\u2460\u24ea" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u2461" }, { "id": "ref-for-list-iterate\u2460\u2462" }, { "id": "ref-for-list-iterate\u2460\u2463" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u2464" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u2465" }], "title": "All Fetch Listeners Are Empty" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u2466" }], "title": "Check Router Registration Limit" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u2467" }], "title": "Get Router Source" }, { "refs": [{ "id": "ref-for-list-iterate\u2460\u2468" }], "title": "Handle User Agent Shutdown" }, { "refs": [{ "id": "ref-for-list-iterate\u2461\u24ea" }], "title": "Match Service Worker Registration" }, { "refs": [{ "id": "ref-for-list-iterate\u2461\u2460" }], "title": "Query Cache" }, { "refs": [{ "id": "ref-for-list-iterate\u2461\u2461" }, { "id": "ref-for-list-iterate\u2461\u2462" }, { "id": "ref-for-list-iterate\u2461\u2463" }, { "id": "ref-for-list-iterate\u2461\u2464" }], "title": "Batch Cache Operations" }, { "refs": [{ "id": "ref-for-list-iterate\u2461\u2465" }], "title": "Is Async Module" }], "url": "https://infra.spec.whatwg.org/#list-iterate" },
        "198b92c1": { "dfnID": "198b92c1", "dfnText": "NormalCompletion", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-normalcompletion" }], "title": "Run Service Worker" }], "url": "http://tc39.github.io/ecma262/#sec-normalcompletion" },
        "1a4f3e89": { "dfnID": "1a4f3e89", "dfnText": "method", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-method" }], "title": "Verify Router Condition" }], "url": "https://fetch.spec.whatwg.org/#concept-method" },
        "1adcc035": { "dfnID": "1adcc035", "dfnText": "abort when", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abort-when" }, { "id": "ref-for-abort-when\u2460" }], "title": "Handle Fetch" }], "url": "https://infra.spec.whatwg.org/#abort-when" },
        "1aec1016": { "dfnID": "1aec1016", "dfnText": "Cyclic Module Record", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-cyclic-module-records" }], "title": "Is Async Module" }], "url": "http://tc39.github.io/ecma262/#sec-cyclic-module-records" },
        "1b5b1c0c": { "dfnID": "1b5b1c0c", "dfnText": "API base URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-api-base-url" }, { "id": "ref-for-api-base-url\u2460" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-api-base-url\u2461" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-api-base-url\u2462" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-api-base-url\u2463" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-api-base-url\u2464" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" },
        "1bba3db7": { "dfnID": "1bba3db7", "dfnText": "parent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-nav-parent" }], "title": "Get Frame Type" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" },
        "2285c18a": { "dfnID": "2285c18a", "dfnText": "exceptionsEnabled", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptions-enabled" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-exceptions-enabled\u2460" }], "title": "4.3.3. openWindow(url)" }], "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled" },
        "2296404c": { "dfnID": "2296404c", "dfnText": "signal abort", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortcontroller-signal-abort" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://dom.spec.whatwg.org/#abortcontroller-signal-abort" },
        "22cb9a16": { "dfnID": "22cb9a16", "dfnText": "ByteString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-ByteString" }, { "id": "ref-for-idl-ByteString\u2460" }], "title": "3.6. NavigationPreloadManager" }, { "refs": [{ "id": "ref-for-idl-ByteString\u2461" }], "title": "4.5. InstallEvent" }], "url": "https://webidl.spec.whatwg.org/#idl-ByteString" },
        "242555fe": { "dfnID": "242555fe", "dfnText": "Run CSP initialization for a global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-run-global-object-csp-initialization" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://www.w3.org/TR/CSP3/#run-global-object-csp-initialization" },
        "24bd7d25": { "dfnID": "24bd7d25", "dfnText": "upon fulfillment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-upon-fulfillment" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-upon-fulfillment\u2460" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-upon-fulfillment\u2461" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-upon-fulfillment\u2462" }], "title": "5.4.5. put(request, response)" }], "url": "https://webidl.spec.whatwg.org/#upon-fulfillment" },
        "24cf98a1": { "dfnID": "24cf98a1", "dfnText": "environment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-environment" }], "title": "2.4. Service Worker Client" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#environment" },
        "2594e562": { "dfnID": "2594e562", "dfnText": "navigate", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-navigate" }, { "id": "ref-for-navigate\u2460" }, { "id": "ref-for-navigate\u2461" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-navigate\u2462" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-navigate\u2463" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-navigate\u2464" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-navigate\u2465" }], "title": "Handle Fetch" }], "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" },
        "26b82890": { "dfnID": "26b82890", "dfnText": "event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event" }, { "id": "ref-for-concept-event\u2460" }], "title": "2.1.2. Events" }, { "refs": [{ "id": "ref-for-concept-event\u2461" }], "title": "4.6.2. event.preloadResponse" }, { "refs": [{ "id": "ref-for-concept-event\u2462" }], "title": "4.6.3. event.clientId" }, { "refs": [{ "id": "ref-for-concept-event\u2463" }], "title": "4.6.4. event.resultingClientId" }, { "refs": [{ "id": "ref-for-concept-event\u2464" }], "title": "4.6.5. event.replacesClientId" }, { "refs": [{ "id": "ref-for-concept-event\u2465" }], "title": "4.6.6. event.handled" }, { "refs": [{ "id": "ref-for-concept-event\u2466" }], "title": "Update Service Worker Extended Events Set" }], "url": "https://dom.spec.whatwg.org/#concept-event" },
        "2889d1ec": { "dfnID": "2889d1ec", "dfnText": "navigation request", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-navigation-request" }, { "id": "ref-for-navigation-request\u2460" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-navigation-request\u2461" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#navigation-request" },
        "2a9f2069": { "dfnID": "2a9f2069", "dfnText": "DOMHighResTimeStamp", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-domhighrestimestamp" }, { "id": "ref-for-dom-domhighrestimestamp\u2460" }], "title": "2.2. Service Worker Timing" }], "url": "https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp" },
        "2aaa2f42": { "dfnID": "2aaa2f42", "dfnText": "HTTP fetch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-http-fetch" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-concept-http-fetch\u2460" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-concept-http-fetch\u2461" }, { "id": "ref-for-concept-http-fetch\u2462" }], "title": "4.8. Events" }], "url": "https://fetch.spec.whatwg.org/#concept-http-fetch" },
        "2aaa937f": { "dfnID": "2aaa937f", "dfnText": "cross-origin resource policy check", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-cross-origin-resource-policy-check" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-cross-origin-resource-policy-check\u2460" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check" },
        "2bc0cdf4": { "dfnID": "2bc0cdf4", "dfnText": "EventTarget", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventtarget" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-eventtarget\u2460" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-eventtarget\u2461" }], "title": "3.4. ServiceWorkerContainer" }], "url": "https://dom.spec.whatwg.org/#eventtarget" },
        "2c16705a": { "dfnID": "2c16705a", "dfnText": "normalize", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-method-normalize" }], "title": "Match Router Condition" }], "url": "https://fetch.spec.whatwg.org/#concept-method-normalize" },
        "2c6fd92e": { "dfnID": "2c6fd92e", "dfnText": "top-level creation URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-environment-top-level-creation-url" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url" },
        "2d10bf58": { "dfnID": "2d10bf58", "dfnText": "chunk", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-chunk" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#chunk" },
        "2e66eaf1": { "dfnID": "2e66eaf1", "dfnText": "AbortController", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abortcontroller" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://dom.spec.whatwg.org/#abortcontroller" },
        "2e9f6464": { "dfnID": "2e9f6464", "dfnText": "canceled flag", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-canceled-flag" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://dom.spec.whatwg.org/#canceled-flag" },
        "2f8afbfe": { "dfnID": "2f8afbfe", "dfnText": "ArrayBuffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-ArrayBuffer" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://webidl.spec.whatwg.org/#idl-ArrayBuffer" },
        "3119c0d1": { "dfnID": "3119c0d1", "dfnText": "monitor", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-monitor" }], "title": "6.2. Content Security Policy" }], "url": "https://www.w3.org/TR/screen-capture/#dfn-monitor" },
        "31db57e6": { "dfnID": "31db57e6", "dfnText": "keys", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-getting-the-keys" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-map-getting-the-keys\u2460" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-map-getting-the-keys\u2461" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-map-getting-the-keys\u2462" }], "title": "5.5.5. keys()" }, { "refs": [{ "id": "ref-for-map-getting-the-keys\u2463" }], "title": "Update" }, { "refs": [{ "id": "ref-for-map-getting-the-keys\u2464" }], "title": "Match Service Worker Registration" }], "url": "https://infra.spec.whatwg.org/#map-getting-the-keys" },
        "31f25047": { "dfnID": "31f25047", "dfnText": "URLPatternCompatible", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-urlpatterncompatible" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-typedefdef-urlpatterncompatible\u2460" }], "title": "Parse URL Pattern" }], "url": "https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible" },
        "3349d69f": { "dfnID": "3349d69f", "dfnText": "associated Document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-document-window" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-concept-document-window\u2460" }, { "id": "ref-for-concept-document-window\u2461" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-concept-document-window\u2462" }], "title": "4.3.2. matchAll(options)" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" },
        "34b679c0": { "dfnID": "34b679c0", "dfnText": "import scripts into worker global scope", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-import-scripts-into-worker-global-scope" }], "title": "6.3.2. importScripts(urls)" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#import-scripts-into-worker-global-scope" },
        "35972864": { "dfnID": "35972864", "dfnText": "active document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-nav-document" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-nav-document\u2460" }, { "id": "ref-for-nav-document\u2461" }, { "id": "ref-for-nav-document\u2462" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-nav-document\u2463" }, { "id": "ref-for-nav-document\u2464" }, { "id": "ref-for-nav-document\u2465" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-nav-document\u2466" }, { "id": "ref-for-nav-document\u2467" }, { "id": "ref-for-nav-document\u2468" }, { "id": "ref-for-nav-document\u2460\u24ea" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-nav-document\u2460\u2460" }, { "id": "ref-for-nav-document\u2460\u2461" }, { "id": "ref-for-nav-document\u2460\u2462" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-nav-document\u2460\u2463" }, { "id": "ref-for-nav-document\u2460\u2464" }, { "id": "ref-for-nav-document\u2460\u2465" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" },
        "36caebd4": { "dfnID": "36caebd4", "dfnText": "replaces client id", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-replaces-client-id" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#concept-request-replaces-client-id" },
        "3700794f": { "dfnID": "3700794f", "dfnText": "data", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-messageevent-data" }], "title": "4.2.6. postMessage(message, options)" }], "url": "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-data" },
        "3743dd5f": { "dfnID": "3743dd5f", "dfnText": "extract a MIME type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-header-extract-mime-type" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-concept-header-extract-mime-type\u2460" }], "title": "Update" }], "url": "https://fetch.spec.whatwg.org/#concept-header-extract-mime-type" },
        "37afd48d": { "dfnID": "37afd48d", "dfnText": "InvalidAccessError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-invalidaccesserror" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-invalidaccesserror\u2460" }], "title": "4.3.3. openWindow(url)" }], "url": "https://webidl.spec.whatwg.org/#invalidaccesserror" },
        "37b5f0f9": { "dfnID": "37b5f0f9", "dfnText": "historyHandling", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-navigation-hh" }], "title": "4.3.3. openWindow(url)" }], "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh" },
        "38340ce0": { "dfnID": "38340ce0", "dfnText": "stop immediate propagation flag", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-stop-immediate-propagation-flag" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://dom.spec.whatwg.org/#stop-immediate-propagation-flag" },
        "38381ead": { "dfnID": "38381ead", "dfnText": "message", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-message" }], "title": "4.2.6. postMessage(message, options)" }], "url": "https://html.spec.whatwg.org/multipage/indices.html#event-message" },
        "399a9307": { "dfnID": "399a9307", "dfnText": "creating", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-request-create" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#request-create" },
        "3a711be7": { "dfnID": "3a711be7", "dfnText": "scheme", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-scheme" }, { "id": "ref-for-concept-url-scheme\u2460" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-url-scheme\u2461" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-concept-url-scheme\u2462" }, { "id": "ref-for-concept-url-scheme\u2463" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-concept-url-scheme\u2464" }], "title": "Batch Cache Operations" }], "url": "https://url.spec.whatwg.org/#concept-url-scheme" },
        "3ab2ec8b": { "dfnID": "3ab2ec8b", "dfnText": "query", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-query" }, { "id": "ref-for-concept-url-query\u2460" }], "title": "Request Matches Cached Item" }], "url": "https://url.spec.whatwg.org/#concept-url-query" },
        "3ae34c95": { "dfnID": "3ae34c95", "dfnText": "destination", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-destination" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-request-destination\u2460" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-request-destination\u2461" }, { "id": "ref-for-concept-request-destination\u2462" }, { "id": "ref-for-concept-request-destination\u2463" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-request-destination\u2464" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-concept-request-destination\u2465" }], "title": "Match Router Condition" }], "url": "https://fetch.spec.whatwg.org/#concept-request-destination" },
        "3b0ee7a3": { "dfnID": "3b0ee7a3", "dfnText": "base URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-script-base-url" }, { "id": "ref-for-concept-script-base-url\u2460" }, { "id": "ref-for-concept-script-base-url\u2461" }], "title": "Update" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url" },
        "3b90bdcd": { "dfnID": "3b90bdcd", "dfnText": "resolve", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-resolve" }, { "id": "ref-for-resolve\u2460" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://webidl.spec.whatwg.org/#resolve" },
        "3bd18bd6": { "dfnID": "3bd18bd6", "dfnText": "error", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-error" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestream-error" },
        "3be1d4ac": { "dfnID": "3be1d4ac", "dfnText": "extracting header list values", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-extract-header-list-values" }], "title": "Update" }], "url": "https://fetch.spec.whatwg.org/#extract-header-list-values" },
        "3c019c7a": { "dfnID": "3c019c7a", "dfnText": "Module Record", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-abstract-module-records" }], "title": "Is Async Module" }], "url": "http://tc39.github.io/ecma262/#sec-abstract-module-records" },
        "3de9e659": { "dfnID": "3de9e659", "dfnText": "byte sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-byte-sequence" }], "title": "2.3. Service Worker Registration" }], "url": "https://infra.spec.whatwg.org/#byte-sequence" },
        "3e12e042": { "dfnID": "3e12e042", "dfnText": "environment settings object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-environment-settings-object" }], "title": "2.4. Service Worker Client" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2460" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2461" }, { "id": "ref-for-environment-settings-object\u2462" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2463" }, { "id": "ref-for-environment-settings-object\u2464" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2465" }], "title": "4.2.4. type" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2466" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2467" }, { "id": "ref-for-environment-settings-object\u2468" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2460\u24ea" }, { "id": "ref-for-environment-settings-object\u2460\u2460" }, { "id": "ref-for-environment-settings-object\u2460\u2461" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2460\u2462" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2460\u2463" }], "title": "5.5. CacheStorage" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2460\u2464" }, { "id": "ref-for-environment-settings-object\u2460\u2465" }, { "id": "ref-for-environment-settings-object\u2460\u2466" }, { "id": "ref-for-environment-settings-object\u2460\u2467" }, { "id": "ref-for-environment-settings-object\u2460\u2468" }], "title": "Update" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2461\u24ea" }], "title": "Install" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2461\u2460" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2461\u2461" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2461\u2462" }], "title": "Update Worker State" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2461\u2463" }], "title": "Notify Controller Change" }, { "refs": [{ "id": "ref-for-environment-settings-object\u2461\u2464" }, { "id": "ref-for-environment-settings-object\u2461\u2465" }, { "id": "ref-for-environment-settings-object\u2461\u2466" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" },
        "3e8c0e5f": { "dfnID": "3e8c0e5f", "dfnText": "MessageEvent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-messageevent" }, { "id": "ref-for-messageevent\u2460" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-messageevent\u2461" }], "title": "4.8. Events" }], "url": "https://html.spec.whatwg.org/multipage/comms.html#messageevent" },
        "3eff7ece": { "dfnID": "3eff7ece", "dfnText": "aborted flag", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response-aborted" }], "title": "5.4.4. addAll(requests)" }], "url": "https://fetch.spec.whatwg.org/#concept-response-aborted" },
        "3fca5a9e": { "dfnID": "3fca5a9e", "dfnText": "map", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-map" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-ordered-map\u2460" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-ordered-map\u2461" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-ordered-map\u2462" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-ordered-map\u2463" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-ordered-map\u2464" }, { "id": "ref-for-ordered-map\u2465" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-ordered-map\u2466" }], "title": "Update" }], "url": "https://infra.spec.whatwg.org/#ordered-map" },
        "4013a022": { "dfnID": "4013a022", "dfnText": "this", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-this" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-this\u2460" }, { "id": "ref-for-this\u2461" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-this\u2462" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-this\u2463" }], "title": "3.3. navigator.serviceWorker" }, { "refs": [{ "id": "ref-for-this\u2464" }, { "id": "ref-for-this\u2465" }], "title": "3.4.1. controller" }, { "refs": [{ "id": "ref-for-this\u2466" }, { "id": "ref-for-this\u2467" }, { "id": "ref-for-this\u2468" }, { "id": "ref-for-this\u2460\u24ea" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-this\u2460\u2460" }, { "id": "ref-for-this\u2460\u2461" }, { "id": "ref-for-this\u2460\u2462" }, { "id": "ref-for-this\u2460\u2463" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-this\u2460\u2464" }, { "id": "ref-for-this\u2460\u2465" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-this\u2460\u2466" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-this\u2460\u2467" }], "title": "3.4.6. startMessages()" }, { "refs": [{ "id": "ref-for-this\u2460\u2468" }], "title": "3.4.7. Event handlers" }, { "refs": [{ "id": "ref-for-this\u2461\u24ea" }], "title": "3.6.1. enable()" }, { "refs": [{ "id": "ref-for-this\u2461\u2460" }], "title": "3.6.2. disable()" }, { "refs": [{ "id": "ref-for-this\u2461\u2461" }], "title": "3.6.3. setHeaderValue(value)" }, { "refs": [{ "id": "ref-for-this\u2461\u2462" }], "title": "3.6.4. getState()" }, { "refs": [{ "id": "ref-for-this\u2461\u2463" }], "title": "4.1.1. clients" }, { "refs": [{ "id": "ref-for-this\u2461\u2464" }, { "id": "ref-for-this\u2461\u2465" }], "title": "4.1.2. registration" }, { "refs": [{ "id": "ref-for-this\u2461\u2466" }, { "id": "ref-for-this\u2461\u2467" }], "title": "4.1.3. serviceWorker" }, { "refs": [{ "id": "ref-for-this\u2461\u2468" }], "title": "4.2.1. url" }, { "refs": [{ "id": "ref-for-this\u2462\u24ea" }], "title": "4.2.2. frameType" }, { "refs": [{ "id": "ref-for-this\u2462\u2460" }], "title": "4.2.3. id" }, { "refs": [{ "id": "ref-for-this\u2462\u2461" }], "title": "4.2.4. type" }, { "refs": [{ "id": "ref-for-this\u2462\u2462" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-this\u2462\u2463" }], "title": "4.2.7. visibilityState" }, { "refs": [{ "id": "ref-for-this\u2462\u2464" }], "title": "4.2.8. focused" }, { "refs": [{ "id": "ref-for-this\u2462\u2465" }], "title": "4.2.9. ancestorOrigins" }, { "refs": [{ "id": "ref-for-this\u2462\u2466" }, { "id": "ref-for-this\u2462\u2467" }, { "id": "ref-for-this\u2462\u2468" }, { "id": "ref-for-this\u2463\u24ea" }, { "id": "ref-for-this\u2463\u2460" }, { "id": "ref-for-this\u2463\u2461" }, { "id": "ref-for-this\u2463\u2462" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-this\u2463\u2463" }, { "id": "ref-for-this\u2463\u2464" }, { "id": "ref-for-this\u2463\u2465" }, { "id": "ref-for-this\u2463\u2466" }, { "id": "ref-for-this\u2463\u2467" }, { "id": "ref-for-this\u2463\u2468" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-this\u2464\u24ea" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-this\u2464\u2460" }], "title": "4.4.1. event.waitUntil(f)" }, { "refs": [{ "id": "ref-for-this\u2464\u2461" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-this\u2464\u2462" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-this\u2464\u2463" }, { "id": "ref-for-this\u2464\u2464" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-this\u2464\u2465" }], "title": "5.3.1. caches" }, { "refs": [{ "id": "ref-for-this\u2464\u2466" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-this\u2464\u2467" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-this\u2464\u2468" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-this\u2465\u24ea" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-this\u2465\u2460" }], "title": "5.4.7. keys(request, options)" }], "url": "https://webidl.spec.whatwg.org/#this" },
        "41d0ebd7": { "dfnID": "41d0ebd7", "dfnText": "errored", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-errored" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestream-errored" },
        "42f97769": { "dfnID": "42f97769", "dfnText": "pullAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-set-up-pullalgorithm" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestream-set-up-pullalgorithm" },
        "432147ee": { "dfnID": "432147ee", "dfnText": "policy container (for WorkerGlobalScope)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-workerglobalscope-policy-container" }, { "id": "ref-for-concept-workerglobalscope-policy-container\u2460" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-policy-container" },
        "43ac8374": { "dfnID": "43ac8374", "dfnText": "origin (for environment settings object)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-origin" }], "title": "2.4. Service Worker Client" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2460" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2461" }, { "id": "ref-for-concept-settings-object-origin\u2462" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2463" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2464" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2465" }], "title": "4.7.2. event.origin" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2466" }], "title": "5. Caches" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2467" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2468" }], "title": "5.5. CacheStorage" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2460\u24ea" }], "title": "6.3.1. Origin restriction" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2460\u2460" }, { "id": "ref-for-concept-settings-object-origin\u2460\u2461" }], "title": "6.4. Cross-Origin Resources and CORS" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2460\u2462" }], "title": "Register" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2460\u2463" }], "title": "Install" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2460\u2464" }, { "id": "ref-for-concept-settings-object-origin\u2460\u2465" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2460\u2466" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2460\u2467" }, { "id": "ref-for-concept-settings-object-origin\u2460\u2468" }], "title": "Unregister" }, { "refs": [{ "id": "ref-for-concept-settings-object-origin\u2461\u24ea" }], "title": "Update Worker State" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
        "43d35049": { "dfnID": "43d35049", "dfnText": "chunk steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-read-request-chunk-steps" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#read-request-chunk-steps" },
        "4411082c": { "dfnID": "4411082c", "dfnText": "unloading document cleanup steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-unloading-document-cleanup-steps" }], "title": "Handle Service Worker Client Unload" }], "url": "https://html.spec.whatwg.org/multipage/document-lifecycle.html#unloading-document-cleanup-steps" },
        "449b55f1": { "dfnID": "449b55f1", "dfnText": "source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-body-source" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#concept-body-source" },
        "44a7708c": { "dfnID": "44a7708c", "dfnText": "EventInit", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-eventinit" }], "title": "4.4. ExtendableEvent" }], "url": "https://dom.spec.whatwg.org/#dictdef-eventinit" },
        "44d0e8a7": { "dfnID": "44d0e8a7", "dfnText": "use-URL-credentials flag", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-use-url-credentials-flag" }], "title": "Update" }], "url": "https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag" },
        "45209803": { "dfnID": "45209803", "dfnText": "for each (for map)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-iterate" }, { "id": "ref-for-map-iterate\u2460" }], "title": "5.5.1. match(request, options)" }, { "refs": [{ "id": "ref-for-map-iterate\u2461" }], "title": "5.5.2. has(cacheName)" }, { "refs": [{ "id": "ref-for-map-iterate\u2462" }], "title": "5.5.3. open(cacheName)" }, { "refs": [{ "id": "ref-for-map-iterate\u2463" }], "title": "Update" }, { "refs": [{ "id": "ref-for-map-iterate\u2464" }], "title": "Install" }, { "refs": [{ "id": "ref-for-map-iterate\u2465" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-map-iterate\u2466" }], "title": "Get Registration" }], "url": "https://infra.spec.whatwg.org/#map-iterate" },
        "47dfca75": { "dfnID": "47dfca75", "dfnText": "queue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-queue\u2460" }], "title": "Handle Fetch" }], "url": "https://infra.spec.whatwg.org/#queue" },
        "47fe679e": { "dfnID": "47fe679e", "dfnText": "transient activation", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-transient-activation" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-transient-activation\u2460" }], "title": "4.3.3. openWindow(url)" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" },
        "49412eb8": { "dfnID": "49412eb8", "dfnText": "Get Trusted Type compliant string", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abstract-opdef-get-trusted-type-compliant-string" }], "title": "3.4.3. register(scriptURL, options)" }], "url": "https://www.w3.org/TR/trusted-types/#abstract-opdef-get-trusted-type-compliant-string" },
        "495737df": { "dfnID": "495737df", "dfnText": "byte length", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-buffersource-byte-length" }, { "id": "ref-for-buffersource-byte-length\u2460" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://webidl.spec.whatwg.org/#buffersource-byte-length" },
        "49a5521a": { "dfnID": "49a5521a", "dfnText": "abort", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-controller-abort" }, { "id": "ref-for-fetch-controller-abort\u2460" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-fetch-controller-abort\u2461" }, { "id": "ref-for-fetch-controller-abort\u2462" }, { "id": "ref-for-fetch-controller-abort\u2463" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#fetch-controller-abort" },
        "4a73a347": { "dfnID": "4a73a347", "dfnText": "sizeAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-set-up-sizealgorithm" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestream-set-up-sizealgorithm" },
        "4a79c433": { "dfnID": "4a79c433", "dfnText": "abrupt completion", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-completion-record-specification-type" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-sec-completion-record-specification-type\u2460" }], "title": "Update" }, { "refs": [{ "id": "ref-for-sec-completion-record-specification-type\u2461" }], "title": "Run Service Worker" }], "url": "http://tc39.github.io/ecma262/#sec-completion-record-specification-type" },
        "4ad913ae": { "dfnID": "4ad913ae", "dfnText": "surrounding agent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-surrounding-agent" }], "title": "4.2.10. focus()" }], "url": "https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent" },
        "4ae6d1ad": { "dfnID": "4ae6d1ad", "dfnText": "getting a promise to wait for all", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-waiting-for-all-promise" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-waiting-for-all-promise\u2460" }], "title": "Install" }], "url": "https://webidl.spec.whatwg.org/#waiting-for-all-promise" },
        "4b6086d7": { "dfnID": "4b6086d7", "dfnText": "global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-global-object" }, { "id": "ref-for-global-object\u2460" }], "title": "2.5.2. The worker client case" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#global-object" },
        "4b84a0bc": { "dfnID": "4b84a0bc", "dfnText": "name", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-header-name" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-header-name\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-concept-header-name\u2461" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-header-name\u2462" }], "title": "Request Matches Cached Item" }], "url": "https://fetch.spec.whatwg.org/#concept-header-name" },
        "4cf7cda3": { "dfnID": "4cf7cda3", "dfnText": "RequestMode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-requestmode" }], "title": "4.5. InstallEvent" }], "url": "https://fetch.spec.whatwg.org/#requestmode" },
        "4e92bc80": { "dfnID": "4e92bc80", "dfnText": "get the keys", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-getting-the-keys" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-map-getting-the-keys\u2460" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-map-getting-the-keys\u2461" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-map-getting-the-keys\u2462" }], "title": "5.5.5. keys()" }, { "refs": [{ "id": "ref-for-map-getting-the-keys\u2463" }], "title": "Update" }, { "refs": [{ "id": "ref-for-map-getting-the-keys\u2464" }], "title": "Match Service Worker Registration" }], "url": "https://infra.spec.whatwg.org/#map-getting-the-keys" },
        "50b05fad": { "dfnID": "50b05fad", "dfnText": "method (for request)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-method" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-concept-request-method\u2460" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-request-method\u2461" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-concept-request-method\u2462" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-concept-request-method\u2463" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-concept-request-method\u2464" }, { "id": "ref-for-concept-request-method\u2465" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-request-method\u2466" }], "title": "Match Router Condition" }, { "refs": [{ "id": "ref-for-concept-request-method\u2467" }], "title": "Request Matches Cached Item" }, { "refs": [{ "id": "ref-for-concept-request-method\u2468" }], "title": "Batch Cache Operations" }], "url": "https://fetch.spec.whatwg.org/#concept-request-method" },
        "53079ce3": { "dfnID": "53079ce3", "dfnText": "queue a microtask", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-a-microtask" }], "title": "4.4. ExtendableEvent" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask" },
        "53275e46": { "dfnID": "53275e46", "dfnText": "append (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-append" }, { "id": "ref-for-list-append\u2460" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-list-append\u2461" }, { "id": "ref-for-list-append\u2462" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-list-append\u2463" }, { "id": "ref-for-list-append\u2464" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-list-append\u2465" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-list-append\u2466" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-list-append\u2467" }], "title": "Match Service Worker Registration" }, { "refs": [{ "id": "ref-for-list-append\u2468" }, { "id": "ref-for-list-append\u2460\u24ea" }, { "id": "ref-for-list-append\u2460\u2460" }, { "id": "ref-for-list-append\u2460\u2461" }], "title": "Batch Cache Operations" }], "url": "https://infra.spec.whatwg.org/#list-append" },
        "5372cca8": { "dfnID": "5372cca8", "dfnText": "boolean", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-boolean" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-idl-boolean\u2460" }], "title": "3.6. NavigationPreloadManager" }, { "refs": [{ "id": "ref-for-idl-boolean\u2461" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-idl-boolean\u2462" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-idl-boolean\u2463" }, { "id": "ref-for-idl-boolean\u2464" }, { "id": "ref-for-idl-boolean\u2465" }, { "id": "ref-for-idl-boolean\u2466" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-idl-boolean\u2467" }, { "id": "ref-for-idl-boolean\u2468" }], "title": "5.5. CacheStorage" }], "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
        "5442ea33": { "dfnID": "5442ea33", "dfnText": "URL serializer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-serializer" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-concept-url-serializer\u2460" }], "title": "2.3.1. Lifetime" }, { "refs": [{ "id": "ref-for-concept-url-serializer\u2461" }], "title": "3.1.2. scriptURL" }, { "refs": [{ "id": "ref-for-concept-url-serializer\u2462" }], "title": "3.2.6. scope" }, { "refs": [{ "id": "ref-for-concept-url-serializer\u2463" }], "title": "4.2.1. url" }, { "refs": [{ "id": "ref-for-concept-url-serializer\u2464" }, { "id": "ref-for-concept-url-serializer\u2465" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-concept-url-serializer\u2466" }], "title": "Schedule Job" }, { "refs": [{ "id": "ref-for-concept-url-serializer\u2467" }, { "id": "ref-for-concept-url-serializer\u2468" }, { "id": "ref-for-concept-url-serializer\u2460\u24ea" }, { "id": "ref-for-concept-url-serializer\u2460\u2460" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-url-serializer\u2460\u2461" }], "title": "Install" }, { "refs": [{ "id": "ref-for-concept-url-serializer\u2460\u2462" }], "title": "Set Registration" }, { "refs": [{ "id": "ref-for-concept-url-serializer\u2460\u2463" }, { "id": "ref-for-concept-url-serializer\u2460\u2464" }], "title": "Match Service Worker Registration" }, { "refs": [{ "id": "ref-for-concept-url-serializer\u2460\u2465" }], "title": "Get Registration" }], "url": "https://url.spec.whatwg.org/#concept-url-serializer" },
        "55213b5b": { "dfnID": "55213b5b", "dfnText": "request", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-concept-request\u2460" }], "title": "2.5. Control and Use" }, { "refs": [{ "id": "ref-for-concept-request\u2461" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-concept-request\u2462" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-concept-request\u2463" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-concept-request\u2464" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-concept-request\u2465" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-request\u2466" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-request\u2467" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-concept-request\u2468" }], "title": "Match Router Condition" }, { "refs": [{ "id": "ref-for-concept-request\u2460\u24ea" }], "title": "Get Router Source" }, { "refs": [{ "id": "ref-for-concept-request\u2460\u2460" }], "title": "Query Cache" }, { "refs": [{ "id": "ref-for-concept-request\u2460\u2461" }, { "id": "ref-for-concept-request\u2460\u2462" }], "title": "Request Matches Cached Item" }, { "refs": [{ "id": "ref-for-concept-request\u2460\u2463" }], "title": "Lookup Race Response" }], "url": "https://fetch.spec.whatwg.org/#concept-request" },
        "555b1be1": { "dfnID": "555b1be1", "dfnText": "clone (for response)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response-clone" }], "title": "5.4.5. put(request, response)" }], "url": "https://fetch.spec.whatwg.org/#concept-response-clone" },
        "55a6b830": { "dfnID": "55a6b830", "dfnText": "active browsing context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-nav-bc" }], "title": "Get Frame Type" }, { "refs": [{ "id": "ref-for-nav-bc\u2460" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" },
        "5655d36f": { "dfnID": "5655d36f", "dfnText": "error steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-read-request-error-steps" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#read-request-error-steps" },
        "56f81a8e": { "dfnID": "56f81a8e", "dfnText": "new", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-new" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://webidl.spec.whatwg.org/#new" },
        "57c34878": { "dfnID": "57c34878", "dfnText": "enforced", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-scripting-policy-pair-enforced" }], "title": "6.2. Content Security Policy" }], "url": "https://wicg.github.io/csp-next/scripting-policy.html#scripting-policy-pair-enforced" },
        "5843bd02": { "dfnID": "5843bd02", "dfnText": "deserialize a serialized abort reason", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-deserialize-a-serialized-abort-reason" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-deserialize-a-serialized-abort-reason\u2460" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#deserialize-a-serialized-abort-reason" },
        "58ebefde": { "dfnID": "58ebefde", "dfnText": "auxiliary browsing context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-auxiliary-browsing-context" }], "title": "Get Frame Type" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#auxiliary-browsing-context" },
        "5991ccfb": { "dfnID": "5991ccfb", "dfnText": "relevant realm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-realm" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2460" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2462" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2463" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2464" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2465" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2466" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2467" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2468" }, { "id": "ref-for-concept-relevant-realm\u2460\u24ea" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-concept-relevant-realm\u2460\u2460" }], "title": "Fire Functional Event" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
        "59ed4e57": { "dfnID": "59ed4e57", "dfnText": "ReadableStream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestream" },
        "5a391458": { "dfnID": "5a391458", "dfnText": "non-subresource request", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-non-subresource-request" }, { "id": "ref-for-non-subresource-request\u2460" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-non-subresource-request\u2461" }, { "id": "ref-for-non-subresource-request\u2462" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-non-subresource-request\u2463" }], "title": "Lookup Race Response" }], "url": "https://fetch.spec.whatwg.org/#non-subresource-request" },
        "5afbefcd": { "dfnID": "5afbefcd", "dfnText": "item (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-item" }, { "id": "ref-for-list-item\u2460" }, { "id": "ref-for-list-item\u2461" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-list-item\u2462" }, { "id": "ref-for-list-item\u2463" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-list-item\u2464" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-list-item\u2465" }], "title": "5.5.5. keys()" }, { "refs": [{ "id": "ref-for-list-item\u2466" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-list-item\u2467" }], "title": "Run Job" }, { "refs": [{ "id": "ref-for-list-item\u2468" }], "title": "Finish Job" }, { "refs": [{ "id": "ref-for-list-item\u2460\u24ea" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-list-item\u2460\u2460" }, { "id": "ref-for-list-item\u2460\u2461" }, { "id": "ref-for-list-item\u2460\u2462" }], "title": "Batch Cache Operations" }], "url": "https://infra.spec.whatwg.org/#list-item" },
        "5c35dd47": { "dfnID": "5c35dd47", "dfnText": "sandbox", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-attr-iframe-sandbox" }], "title": "2.5.1. The window client case" }], "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox" },
        "5c4f772b": { "dfnID": "5c4f772b", "dfnText": "match", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-url-pattern-match" }], "title": "Match Router Condition" }], "url": "https://urlpattern.spec.whatwg.org/#url-pattern-match" },
        "5d7209e9": { "dfnID": "5d7209e9", "dfnText": "Window", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-window" }], "title": "2.4. Service Worker Client" }, { "refs": [{ "id": "ref-for-window\u2460" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-window\u2461" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-window\u2462" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-window\u2463" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-window\u2464" }, { "id": "ref-for-window\u2465" }, { "id": "ref-for-window\u2466" }, { "id": "ref-for-window\u2467" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-window\u2468" }], "title": "5. Caches" }, { "refs": [{ "id": "ref-for-window\u2460\u24ea" }], "title": "5.5. CacheStorage" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
        "5dc9e82c": { "dfnID": "5dc9e82c", "dfnText": "discard", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-discarded" }], "title": "4.3.2. matchAll(options)" }], "url": "https://wicg.github.io/page-lifecycle/#discarded" },
        "5e129c74": { "dfnID": "5e129c74", "dfnText": "QuotaExceededError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-quotaexceedederror" }], "title": "5.5.3. open(cacheName)" }, { "refs": [{ "id": "ref-for-quotaexceedederror\u2460" }], "title": "Batch Cache Operations" }], "url": "https://webidl.spec.whatwg.org/#quotaexceedederror" },
        "5f6d392d": { "dfnID": "5f6d392d", "dfnText": "WindowOrWorkerGlobalScope", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-windoworworkerglobalscope" }], "title": "5.3. self.caches" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" },
        "5f90bbfb": { "dfnID": "5f90bbfb", "dfnText": "undefined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-undefined" }, { "id": "ref-for-idl-undefined\u2460" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-idl-undefined\u2461" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-idl-undefined\u2462" }, { "id": "ref-for-idl-undefined\u2463" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-idl-undefined\u2464" }, { "id": "ref-for-idl-undefined\u2465" }, { "id": "ref-for-idl-undefined\u2466" }], "title": "3.6. NavigationPreloadManager" }, { "refs": [{ "id": "ref-for-idl-undefined\u2467" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-idl-undefined\u2468" }, { "id": "ref-for-idl-undefined\u2460\u24ea" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460\u2460" }, { "id": "ref-for-idl-undefined\u2460\u2461" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460\u2462" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460\u2463" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460\u2464" }, { "id": "ref-for-idl-undefined\u2460\u2465" }, { "id": "ref-for-idl-undefined\u2460\u2466" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-idl-undefined\u2460\u2467" }, { "id": "ref-for-idl-undefined\u2460\u2468" }, { "id": "ref-for-idl-undefined\u2461\u24ea" }, { "id": "ref-for-idl-undefined\u2461\u2460" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-idl-undefined\u2461\u2461" }], "title": "5.5. CacheStorage" }], "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
        "5fd23811": { "dfnID": "5fd23811", "dfnText": "fire an event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-fire" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2460" }], "title": "Install" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2461" }], "title": "Update Worker State" }, { "refs": [{ "id": "ref-for-concept-event-fire\u2462" }], "title": "Notify Controller Change" }], "url": "https://dom.spec.whatwg.org/#concept-event-fire" },
        "60393e82": { "dfnID": "60393e82", "dfnText": "URL pattern", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-url-pattern" }], "title": "Parse URL Pattern" }], "url": "https://urlpattern.spec.whatwg.org/#url-pattern" },
        "622d9f0e": { "dfnID": "622d9f0e", "dfnText": "callback", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-listener-callback" }, { "id": "ref-for-event-listener-callback\u2460" }], "title": "All Fetch Listeners Are Empty" }], "url": "https://dom.spec.whatwg.org/#event-listener-callback" },
        "644cb530": { "dfnID": "644cb530", "dfnText": "body", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-body" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://fetch.spec.whatwg.org/#concept-body" },
        "649608b9": { "dfnID": "649608b9", "dfnText": "list", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list" }, { "id": "ref-for-list\u2460" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-list\u2461" }, { "id": "ref-for-list\u2462" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-list\u2463" }, { "id": "ref-for-list\u2464" }, { "id": "ref-for-list\u2465" }, { "id": "ref-for-list\u2466" }, { "id": "ref-for-list\u2467" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-list\u2468" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-list\u2460\u24ea" }, { "id": "ref-for-list\u2460\u2460" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-list\u2460\u2461" }, { "id": "ref-for-list\u2460\u2462" }, { "id": "ref-for-list\u2460\u2463" }, { "id": "ref-for-list\u2460\u2464" }, { "id": "ref-for-list\u2460\u2465" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-list\u2460\u2466" }, { "id": "ref-for-list\u2460\u2467" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-list\u2460\u2468" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-list\u2461\u24ea" }, { "id": "ref-for-list\u2461\u2460" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-list\u2461\u2461" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-list\u2461\u2462" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-list\u2461\u2463" }], "title": "Query Cache" }, { "refs": [{ "id": "ref-for-list\u2461\u2464" }], "title": "Request Matches Cached Item" }, { "refs": [{ "id": "ref-for-list\u2461\u2465" }, { "id": "ref-for-list\u2461\u2466" }, { "id": "ref-for-list\u2461\u2467" }, { "id": "ref-for-list\u2461\u2468" }], "title": "Batch Cache Operations" }], "url": "https://infra.spec.whatwg.org/#list" },
        "64b62ea0": { "dfnID": "64b62ea0", "dfnText": "redirect mode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-redirect-mode" }], "title": "Update" }], "url": "https://fetch.spec.whatwg.org/#concept-request-redirect-mode" },
        "65181da8": { "dfnID": "65181da8", "dfnText": "secure context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-secure-context" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-secure-context\u2460" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-secure-context\u2461" }, { "id": "ref-for-secure-context\u2462" }], "title": "6.1. Secure Context" }, { "refs": [{ "id": "ref-for-secure-context\u2463" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-secure-context\u2464" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" },
        "6594df5c": { "dfnID": "6594df5c", "dfnText": "record", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-script-record" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-script-record\u2460" }, { "id": "ref-for-concept-script-record\u2461" }], "title": "Is Async Module" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record" },
        "688f9669": { "dfnID": "688f9669", "dfnText": "cache mode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-cache-mode" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-concept-request-cache-mode\u2460" }, { "id": "ref-for-concept-request-cache-mode\u2461" }], "title": "Update" }], "url": "https://fetch.spec.whatwg.org/#concept-request-cache-mode" },
        "690506c4": { "dfnID": "690506c4", "dfnText": "agent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-agent" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "http://tc39.github.io/ecma262/#agent" },
        "692595fe": { "dfnID": "692595fe", "dfnText": "ordered set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-set" }, { "id": "ref-for-ordered-set\u2460" }, { "id": "ref-for-ordered-set\u2461" }, { "id": "ref-for-ordered-set\u2462" }, { "id": "ref-for-ordered-set\u2463" }, { "id": "ref-for-ordered-set\u2464" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-ordered-set\u2465" }], "title": "5.5.5. keys()" }, { "refs": [{ "id": "ref-for-ordered-set\u2466" }], "title": "Is Async Module" }], "url": "https://infra.spec.whatwg.org/#ordered-set" },
        "69ec9122": { "dfnID": "69ec9122", "dfnText": "obtain a service worker agent", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-obtain-a-service-worker-agent" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#obtain-a-service-worker-agent" },
        "6a5a59a0": { "dfnID": "6a5a59a0", "dfnText": "event handler", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handlers" }, { "id": "ref-for-event-handlers\u2460" }], "title": "3.1.6. Event handler" }, { "refs": [{ "id": "ref-for-event-handlers\u2461" }, { "id": "ref-for-event-handlers\u2462" }], "title": "3.2.10. Event handler" }, { "refs": [{ "id": "ref-for-event-handlers\u2463" }, { "id": "ref-for-event-handlers\u2464" }], "title": "3.4.7. Event handlers" }, { "refs": [{ "id": "ref-for-event-handlers\u2465" }, { "id": "ref-for-event-handlers\u2466" }], "title": "4.1.5. Event handlers" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" },
        "6a73c310": { "dfnID": "6a73c310", "dfnText": "create", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-create-exception" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-dfn-create-exception\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-dfn-create-exception\u2461" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-dfn-create-exception\u2462" }, { "id": "ref-for-dfn-create-exception\u2463" }, { "id": "ref-for-dfn-create-exception\u2464" }], "title": "Reject Job Promise" }], "url": "https://webidl.spec.whatwg.org/#dfn-create-exception" },
        "6ad16aca": { "dfnID": "6ad16aca", "dfnText": "transfer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-structuredserializeoptions-transfer" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dom-structuredserializeoptions-transfer\u2460" }], "title": "4.2.6. postMessage(message, options)" }], "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#dom-structuredserializeoptions-transfer" },
        "6b6bb798": { "dfnID": "6b6bb798", "dfnText": "enqueue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-enqueue" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestream-enqueue" },
        "6bb42fbb": { "dfnID": "6bb42fbb", "dfnText": "fetch controller", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-controller" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-fetch-controller\u2460" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#fetch-controller" },
        "6c6b1005": { "dfnID": "6c6b1005", "dfnText": "any", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-any" }, { "id": "ref-for-idl-any\u2460" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-idl-any\u2461" }, { "id": "ref-for-idl-any\u2462" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-idl-any\u2463" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-idl-any\u2464" }, { "id": "ref-for-idl-any\u2465" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-idl-any\u2466" }, { "id": "ref-for-idl-any\u2467" }], "title": "4.7. ExtendableMessageEvent" }], "url": "https://webidl.spec.whatwg.org/#idl-any" },
        "6d1db60d": { "dfnID": "6d1db60d", "dfnText": "service-workers mode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-request-service-workers-mode" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-request-service-workers-mode\u2460" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-request-service-workers-mode\u2461" }], "title": "Update" }, { "refs": [{ "id": "ref-for-request-service-workers-mode\u2462" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#request-service-workers-mode" },
        "6d997105": { "dfnID": "6d997105", "dfnText": "read request", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-read-request" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#read-request" },
        "6ee0eab1": { "dfnID": "6ee0eab1", "dfnText": "header list (for request)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-header-list" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-request-header-list\u2460" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-request-header-list\u2461" }, { "id": "ref-for-concept-request-header-list\u2462" }], "title": "Request Matches Cached Item" }], "url": "https://fetch.spec.whatwg.org/#concept-request-header-list" },
        "6fbdf145": { "dfnID": "6fbdf145", "dfnText": "equal", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-equals" }], "title": "Register" }, { "refs": [{ "id": "ref-for-concept-url-equals\u2460" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-url-equals\u2461" }], "title": "Request Matches Cached Item" }], "url": "https://url.spec.whatwg.org/#concept-url-equals" },
        "70f7889c": { "dfnID": "70f7889c", "dfnText": "Completion", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-completion-record-specification-type" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-sec-completion-record-specification-type\u2460" }], "title": "Update" }, { "refs": [{ "id": "ref-for-sec-completion-record-specification-type\u2461" }], "title": "Run Service Worker" }], "url": "http://tc39.github.io/ecma262/#sec-completion-record-specification-type" },
        "715f22e4": { "dfnID": "715f22e4", "dfnText": "if aborted", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-if-aborted" }, { "id": "ref-for-if-aborted\u2460" }], "title": "Handle Fetch" }], "url": "https://infra.spec.whatwg.org/#if-aborted" },
        "719b834e": { "dfnID": "719b834e", "dfnText": "legacy-obtain service worker fetch event listener callbacks", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-legacy-obtain-service-worker-fetch-event-listener-callbacks" }], "title": "All Fetch Listeners Are Empty" }], "url": "https://dom.spec.whatwg.org/#legacy-obtain-service-worker-fetch-event-listener-callbacks" },
        "7393da89": { "dfnID": "7393da89", "dfnText": "same origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-same-origin" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-same-origin\u2460" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-same-origin\u2461" }], "title": "2.5. Control and Use" }, { "refs": [{ "id": "ref-for-same-origin\u2462" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-same-origin\u2463" }, { "id": "ref-for-same-origin\u2464" }], "title": "Register" }, { "refs": [{ "id": "ref-for-same-origin\u2465" }], "title": "Match Service Worker Registration" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin" },
        "73a186aa": { "dfnID": "73a186aa", "dfnText": "id", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-environment-id" }], "title": "4.2.3. id" }, { "refs": [{ "id": "ref-for-concept-environment-id\u2460" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-concept-environment-id\u2461" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-concept-environment-id\u2462" }, { "id": "ref-for-concept-environment-id\u2463" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id" },
        "75a12309": { "dfnID": "75a12309", "dfnText": "build a URL pattern from a Web IDL value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-build-a-url-pattern-from-a-web-idl-value" }], "title": "Parse URL Pattern" }], "url": "https://urlpattern.spec.whatwg.org/#build-a-url-pattern-from-a-web-idl-value" },
        "7669f968": { "dfnID": "7669f968", "dfnText": "map objects", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-map-objects" }], "title": "5.5. CacheStorage" }], "url": "http://tc39.github.io/ecma262/#sec-map-objects" },
        "78457614": { "dfnID": "78457614", "dfnText": "module map (for environment settings object)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-module-map" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-module-map" },
        "78a97411": { "dfnID": "78a97411", "dfnText": "environment discarding steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-environment-discarding-steps" }], "title": "2.4. Service Worker Client" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps" },
        "78aa7d8d": { "dfnID": "78aa7d8d", "dfnText": "run a module script", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-run-a-module-script" }], "title": "Run Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#run-a-module-script" },
        "797018a7": { "dfnID": "797018a7", "dfnText": "InvalidStateError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-invalidstateerror" }, { "id": "ref-for-invalidstateerror\u2460" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2461" }], "title": "3.6.1. enable()" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2462" }], "title": "3.6.2. disable()" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2463" }], "title": "3.6.3. setHeaderValue(value)" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2464" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2465" }, { "id": "ref-for-invalidstateerror\u2466" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2467" }, { "id": "ref-for-invalidstateerror\u2468" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-invalidstateerror\u2460\u24ea" }], "title": "Batch Cache Operations" }], "url": "https://webidl.spec.whatwg.org/#invalidstateerror" },
        "7a2fc3e3": { "dfnID": "7a2fc3e3", "dfnText": "type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-workerglobalscope-type" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-type" },
        "7a87d819": { "dfnID": "7a87d819", "dfnText": "is", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-string-is" }], "title": "Handle Fetch" }], "url": "https://infra.spec.whatwg.org/#string-is" },
        "7aab3a36": { "dfnID": "7aab3a36", "dfnText": "decoded size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-timing-info-decoded-body-size" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://fetch.spec.whatwg.org/#fetch-timing-info-decoded-body-size" },
        "7b0d918d": { "dfnID": "7b0d918d", "dfnText": "break", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-iteration-break" }], "title": "4.2.6. postMessage(message, options)" }], "url": "https://infra.spec.whatwg.org/#iteration-break" },
        "7b162b57": { "dfnID": "7b162b57", "dfnText": "ports", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-messageevent-ports" }], "title": "4.2.6. postMessage(message, options)" }], "url": "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-ports" },
        "7b34ea98": { "dfnID": "7b34ea98", "dfnText": "service worker timing info", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-response-service-worker-timing-info" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#response-service-worker-timing-info" },
        "7bcff2a1": { "dfnID": "7bcff2a1", "dfnText": "DOMContentLoaded", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-domcontentloaded" }], "title": "Run Job" }], "url": "https://html.spec.whatwg.org/multipage/indices.html#event-domcontentloaded" },
        "7c421916": { "dfnID": "7c421916", "dfnText": "has focus steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-has-focus-steps" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-has-focus-steps\u2460" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-has-focus-steps\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-has-focus-steps\u2462" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-has-focus-steps\u2463" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps" },
        "7c9ab308": { "dfnID": "7c9ab308", "dfnText": "promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-promise-objects" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2460" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2461" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2462" }, { "id": "ref-for-sec-promise-objects\u2463" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2464" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2465" }, { "id": "ref-for-sec-promise-objects\u2466" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2467" }, { "id": "ref-for-sec-promise-objects\u2468" }, { "id": "ref-for-sec-promise-objects\u2460\u24ea" }, { "id": "ref-for-sec-promise-objects\u2460\u2460" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2460\u2461" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2460\u2462" }, { "id": "ref-for-sec-promise-objects\u2460\u2463" }, { "id": "ref-for-sec-promise-objects\u2460\u2464" }, { "id": "ref-for-sec-promise-objects\u2460\u2465" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2460\u2466" }, { "id": "ref-for-sec-promise-objects\u2460\u2467" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2460\u2468" }, { "id": "ref-for-sec-promise-objects\u2461\u24ea" }, { "id": "ref-for-sec-promise-objects\u2461\u2460" }, { "id": "ref-for-sec-promise-objects\u2461\u2461" }, { "id": "ref-for-sec-promise-objects\u2461\u2462" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2461\u2463" }, { "id": "ref-for-sec-promise-objects\u2461\u2464" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2461\u2465" }], "title": "4.6.6. event.handled" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2461\u2466" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2461\u2467" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2461\u2468" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2462\u24ea" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2462\u2460" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2462\u2461" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-sec-promise-objects\u2462\u2462" }], "title": "Resolve Get Client Promise" }], "url": "http://tc39.github.io/ecma262/#sec-promise-objects" },
        "7d4424b2": { "dfnID": "7d4424b2", "dfnText": "remove (for map)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-remove" }], "title": "5.5.4. delete(cacheName)" }, { "refs": [{ "id": "ref-for-map-remove\u2460" }, { "id": "ref-for-map-remove\u2461" }], "title": "Update" }, { "refs": [{ "id": "ref-for-map-remove\u2462" }, { "id": "ref-for-map-remove\u2463" }], "title": "Install" }, { "refs": [{ "id": "ref-for-map-remove\u2464" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-map-remove\u2465" }], "title": "Unregister" }, { "refs": [{ "id": "ref-for-map-remove\u2466" }], "title": "Lookup Race Response" }], "url": "https://infra.spec.whatwg.org/#map-remove" },
        "7de33c29": { "dfnID": "7de33c29", "dfnText": "parallel queue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-parallel-queue" }], "title": "2.1. Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue" },
        "7f6a70d1": { "dfnID": "7f6a70d1", "dfnText": "storage key", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-key" }, { "id": "ref-for-storage-key\u2460" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-storage-key\u2461" }, { "id": "ref-for-storage-key\u2462" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-storage-key\u2463" }, { "id": "ref-for-storage-key\u2464" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-storage-key\u2465" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-storage-key\u2466" }], "title": "Set Registration" }, { "refs": [{ "id": "ref-for-storage-key\u2467" }], "title": "Match Service Worker Registration" }, { "refs": [{ "id": "ref-for-storage-key\u2468" }], "title": "Get Registration" }], "url": "https://storage.spec.whatwg.org/#storage-key" },
        "7f9469b5": { "dfnID": "7f9469b5", "dfnText": "ASCII case-insensitive", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-case-insensitive" }, { "id": "ref-for-ascii-case-insensitive\u2460" }, { "id": "ref-for-ascii-case-insensitive\u2461" }, { "id": "ref-for-ascii-case-insensitive\u2462" }], "title": "Start Register" }], "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
        "7fb6fbc6": { "dfnID": "7fb6fbc6", "dfnText": "Global", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Global" }], "title": "4.1. ServiceWorkerGlobalScope" }], "url": "https://webidl.spec.whatwg.org/#Global" },
        "802b0fdd": { "dfnID": "802b0fdd", "dfnText": "value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-value" }], "title": "5.1. Constructs" }], "url": "https://infra.spec.whatwg.org/#map-value" },
        "80726755": { "dfnID": "80726755", "dfnText": "task queues", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-task-queue" }, { "id": "ref-for-task-queue\u2460" }, { "id": "ref-for-task-queue\u2461" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-task-queue\u2462" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-task-queue\u2463" }, { "id": "ref-for-task-queue\u2464" }], "title": "Terminate Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" },
        "80f5eafb": { "dfnID": "80f5eafb", "dfnText": "body info", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response-body-info" }, { "id": "ref-for-concept-response-body-info\u2460" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://fetch.spec.whatwg.org/#concept-response-body-info" },
        "81a76425": { "dfnID": "81a76425", "dfnText": "body (for response)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response-body" }, { "id": "ref-for-concept-response-body\u2460" }, { "id": "ref-for-concept-response-body\u2461" }, { "id": "ref-for-concept-response-body\u2462" }, { "id": "ref-for-concept-response-body\u2463" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-concept-response-body\u2464" }, { "id": "ref-for-concept-response-body\u2465" }, { "id": "ref-for-concept-response-body\u2466" }, { "id": "ref-for-concept-response-body\u2467" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-concept-response-body\u2468" }, { "id": "ref-for-concept-response-body\u2460\u24ea" }, { "id": "ref-for-concept-response-body\u2460\u2460" }, { "id": "ref-for-concept-response-body\u2460\u2461" }], "title": "Update" }], "url": "https://fetch.spec.whatwg.org/#concept-response-body" },
        "825cbc48": { "dfnID": "825cbc48", "dfnText": "user interaction task source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-user-interaction-task-source" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-user-interaction-task-source\u2460" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-user-interaction-task-source\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-user-interaction-task-source\u2462" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-user-interaction-task-source\u2463" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source" },
        "82ca3efc": { "dfnID": "82ca3efc", "dfnText": "TypeError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-exceptiondef-typeerror" }, { "id": "ref-for-exceptiondef-typeerror\u2460" }, { "id": "ref-for-exceptiondef-typeerror\u2461" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-exceptiondef-typeerror\u2462" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
        "838900a7": { "dfnID": "838900a7", "dfnText": "isTrusted", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-istrusted" }], "title": "4.4. ExtendableEvent" }], "url": "https://dom.spec.whatwg.org/#dom-event-istrusted" },
        "839611db": { "dfnID": "839611db", "dfnText": "subresource request", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-subresource-request" }, { "id": "ref-for-subresource-request\u2460" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-subresource-request\u2461" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-subresource-request\u2462" }], "title": "Lookup Race Response" }], "url": "https://fetch.spec.whatwg.org/#subresource-request" },
        "83c59a3a": { "dfnID": "83c59a3a", "dfnText": "WorkerGlobalScope", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-workerglobalscope" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-workerglobalscope\u2460" }], "title": "5. Caches" }, { "refs": [{ "id": "ref-for-workerglobalscope\u2461" }], "title": "5.5. CacheStorage" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" },
        "83d6ac35": { "dfnID": "83d6ac35", "dfnText": "VisibilityState", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-VisibilityState" }], "title": "4.2. Client" }], "url": "https://www.w3.org/TR/page-visibility/#VisibilityState" },
        "84b454ff": { "dfnID": "84b454ff", "dfnText": "ordered map", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ordered-map" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-ordered-map\u2460" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-ordered-map\u2461" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-ordered-map\u2462" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-ordered-map\u2463" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-ordered-map\u2464" }, { "id": "ref-for-ordered-map\u2465" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-ordered-map\u2466" }], "title": "Update" }], "url": "https://infra.spec.whatwg.org/#ordered-map" },
        "84fb0b9d": { "dfnID": "84fb0b9d", "dfnText": "listener", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handler-listener" }], "title": "All Fetch Listeners Are Empty" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-listener" },
        "857d5516": { "dfnID": "857d5516", "dfnText": "client", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-client" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-request-client\u2460" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-concept-request-client\u2461" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-request-client\u2462" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-request-client\u2463" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-concept-request-client\u2464" }], "title": "Lookup Race Response" }], "url": "https://fetch.spec.whatwg.org/#concept-request-client" },
        "860300d4": { "dfnID": "860300d4", "dfnText": "implementation-defined", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-implementation-defined" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://infra.spec.whatwg.org/#implementation-defined" },
        "87fcd40c": { "dfnID": "87fcd40c", "dfnText": "iframe", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-the-iframe-element" }], "title": "2.5.1. The window client case" }], "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" },
        "8855a9aa": { "dfnID": "8855a9aa", "dfnText": "DOMString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMString" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2461" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2462" }, { "id": "ref-for-idl-DOMString\u2463" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2464" }, { "id": "ref-for-idl-DOMString\u2465" }, { "id": "ref-for-idl-DOMString\u2466" }, { "id": "ref-for-idl-DOMString\u2467" }, { "id": "ref-for-idl-DOMString\u2468" }, { "id": "ref-for-idl-DOMString\u2460\u24ea" }, { "id": "ref-for-idl-DOMString\u2460\u2460" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460\u2461" }, { "id": "ref-for-idl-DOMString\u2460\u2462" }, { "id": "ref-for-idl-DOMString\u2460\u2463" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-idl-DOMString\u2460\u2464" }, { "id": "ref-for-idl-DOMString\u2460\u2465" }, { "id": "ref-for-idl-DOMString\u2460\u2466" }, { "id": "ref-for-idl-DOMString\u2460\u2467" }, { "id": "ref-for-idl-DOMString\u2460\u2468" }], "title": "5.5. CacheStorage" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
        "889e932f": { "dfnID": "889e932f", "dfnText": "Exposed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-Exposed" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-Exposed\u2460" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-Exposed\u2461" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-Exposed\u2462" }], "title": "3.6. NavigationPreloadManager" }, { "refs": [{ "id": "ref-for-Exposed\u2463" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-Exposed\u2464" }, { "id": "ref-for-Exposed\u2465" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-Exposed\u2466" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-Exposed\u2467" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-Exposed\u2468" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-Exposed\u2460\u24ea" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-Exposed\u2460\u2460" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-Exposed\u2460\u2461" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-Exposed\u2460\u2462" }], "title": "5.5. CacheStorage" }], "url": "https://webidl.spec.whatwg.org/#Exposed" },
        "892d5291": { "dfnID": "892d5291", "dfnText": "IsCallable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-iscallable" }], "title": "All Fetch Listeners Are Empty" }], "url": "http://tc39.github.io/ecma262/#sec-iscallable" },
        "8958b003": { "dfnID": "8958b003", "dfnText": "entry", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-entry" }], "title": "5.1. Constructs" }], "url": "https://infra.spec.whatwg.org/#map-entry" },
        "8a30477b": { "dfnID": "8a30477b", "dfnText": "global object (for environment settings object)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-global" }, { "id": "ref-for-concept-settings-object-global\u2460" }, { "id": "ref-for-concept-settings-object-global\u2461" }], "title": "2.4. Service Worker Client" }, { "refs": [{ "id": "ref-for-concept-settings-object-global\u2462" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-concept-settings-object-global\u2463" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-concept-settings-object-global\u2464" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-concept-settings-object-global\u2465" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-concept-settings-object-global\u2466" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-settings-object-global\u2467" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-concept-settings-object-global\u2468" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-concept-settings-object-global\u2460\u24ea" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-concept-settings-object-global\u2460\u2460" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" },
        "8a608b90": { "dfnID": "8a608b90", "dfnText": "value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-header-value" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-header-value\u2460" }], "title": "Request Matches Cached Item" }], "url": "https://fetch.spec.whatwg.org/#concept-header-value" },
        "8abfc3b6": { "dfnID": "8abfc3b6", "dfnText": "creating an event", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-event-create" }, { "id": "ref-for-concept-event-create\u2460" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-concept-event-create\u2461" }], "title": "Install" }, { "refs": [{ "id": "ref-for-concept-event-create\u2462" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-concept-event-create\u2463" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-concept-event-create\u2464" }], "title": "Fire Functional Event" }], "url": "https://dom.spec.whatwg.org/#concept-event-create" },
        "8b81cade": { "dfnID": "8b81cade", "dfnText": "DetachArrayBuffer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-detacharraybuffer" }], "title": "4.6.7. event.respondWith(r)" }], "url": "http://tc39.github.io/ecma262/#sec-detacharraybuffer" },
        "8ba500d2": { "dfnID": "8ba500d2", "dfnText": "RequestInfo", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-requestinfo" }, { "id": "ref-for-requestinfo\u2460" }, { "id": "ref-for-requestinfo\u2461" }, { "id": "ref-for-requestinfo\u2462" }, { "id": "ref-for-requestinfo\u2463" }, { "id": "ref-for-requestinfo\u2464" }, { "id": "ref-for-requestinfo\u2465" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-requestinfo\u2466" }], "title": "5.5. CacheStorage" }], "url": "https://fetch.spec.whatwg.org/#requestinfo" },
        "8c407366": { "dfnID": "8c407366", "dfnText": "cancelable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-cancelable" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://dom.spec.whatwg.org/#dom-event-cancelable" },
        "8d831b4d": { "dfnID": "8d831b4d", "dfnText": "equal", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-storage-key-equal" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-storage-key-equal\u2460" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-storage-key-equal\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-storage-key-equal\u2462" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-storage-key-equal\u2463" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-storage-key-equal\u2464" }], "title": "Match Service Worker Registration" }, { "refs": [{ "id": "ref-for-storage-key-equal\u2465" }], "title": "Get Registration" }], "url": "https://storage.spec.whatwg.org/#storage-key-equal" },
        "8e720892": { "dfnID": "8e720892", "dfnText": "clone (for request)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-clone" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#concept-request-clone" },
        "8e9945a0": { "dfnID": "8e9945a0", "dfnText": "body (for request)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-body" }, { "id": "ref-for-concept-request-body\u2460" }, { "id": "ref-for-concept-request-body\u2461" }, { "id": "ref-for-concept-request-body\u2462" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#concept-request-body" },
        "8f5c2179": { "dfnID": "8f5c2179", "dfnText": "a promise resolved with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-promise-resolved-with" }], "title": "4.6.2. event.preloadResponse" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2460" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2461" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2462" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2463" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-a-promise-resolved-with\u2464" }], "title": "5.5.1. match(request, options)" }], "url": "https://webidl.spec.whatwg.org/#a-promise-resolved-with" },
        "93268483": { "dfnID": "93268483", "dfnText": "closing", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-workerglobalscope-closing" }], "title": "Terminate Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-closing" },
        "959ad97b": { "dfnID": "959ad97b", "dfnText": "origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-origin" }], "title": "2.4. Service Worker Client" }, { "refs": [{ "id": "ref-for-concept-url-origin\u2460" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-concept-url-origin\u2461" }, { "id": "ref-for-concept-url-origin\u2462" }, { "id": "ref-for-concept-url-origin\u2463" }, { "id": "ref-for-concept-url-origin\u2464" }], "title": "Register" }, { "refs": [{ "id": "ref-for-concept-url-origin\u2465" }, { "id": "ref-for-concept-url-origin\u2466" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-url-origin\u2467" }], "title": "Install" }, { "refs": [{ "id": "ref-for-concept-url-origin\u2468" }], "title": "Update Worker State" }, { "refs": [{ "id": "ref-for-concept-url-origin\u2460\u24ea" }, { "id": "ref-for-concept-url-origin\u2460\u2460" }], "title": "Match Service Worker Registration" }], "url": "https://url.spec.whatwg.org/#concept-url-origin" },
        "95d7775a": { "dfnID": "95d7775a", "dfnText": "Uint8Array", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-Uint8Array" }, { "id": "ref-for-idl-Uint8Array\u2460" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://webidl.spec.whatwg.org/#idl-Uint8Array" },
        "984221ca": { "dfnID": "984221ca", "dfnText": "struct", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-struct" }], "title": "2.2. Service Worker Timing" }, { "refs": [{ "id": "ref-for-struct\u2460" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-struct\u2461" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-struct\u2462" }], "title": "5.4. Cache" }], "url": "https://infra.spec.whatwg.org/#struct" },
        "99030cf4": { "dfnID": "99030cf4", "dfnText": "fetch a module worker script graph", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-a-module-worker-script-tree" }, { "id": "ref-for-fetch-a-module-worker-script-tree\u2460" }], "title": "Update" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree" },
        "99c988d6": { "dfnID": "99c988d6", "dfnText": "remove (for list)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-remove" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-list-remove\u2460" }], "title": "Update Service Worker Extended Events Set" }, { "refs": [{ "id": "ref-for-list-remove\u2461" }, { "id": "ref-for-list-remove\u2462" }, { "id": "ref-for-list-remove\u2463" }], "title": "Batch Cache Operations" }], "url": "https://infra.spec.whatwg.org/#list-remove" },
        "99d701c5": { "dfnID": "99d701c5", "dfnText": "guard", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-headers-guard" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-concept-headers-guard\u2460" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-concept-headers-guard\u2461" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-headers-guard\u2462" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#concept-headers-guard" },
        "9a517a7d": { "dfnID": "9a517a7d", "dfnText": "queue a task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-a-task" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-queue-a-task\u2460" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-queue-a-task\u2461" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-queue-a-task\u2462" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-queue-a-task\u2463" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-queue-a-task\u2464" }, { "id": "ref-for-queue-a-task\u2465" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-queue-a-task\u2466" }, { "id": "ref-for-queue-a-task\u2467" }, { "id": "ref-for-queue-a-task\u2468" }, { "id": "ref-for-queue-a-task\u2460\u24ea" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-queue-a-task\u2460\u2460" }, { "id": "ref-for-queue-a-task\u2460\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-queue-a-task\u2460\u2462" }, { "id": "ref-for-queue-a-task\u2460\u2463" }, { "id": "ref-for-queue-a-task\u2460\u2464" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-queue-a-task\u2460\u2465" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-queue-a-task\u2460\u2466" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-queue-a-task\u2460\u2467" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-queue-a-task\u2460\u2468" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-queue-a-task\u2461\u24ea" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-queue-a-task\u2461\u2460" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-queue-a-task\u2461\u2461" }], "title": "Run Job" }, { "refs": [{ "id": "ref-for-queue-a-task\u2461\u2462" }, { "id": "ref-for-queue-a-task\u2461\u2463" }], "title": "Resolve Job Promise" }, { "refs": [{ "id": "ref-for-queue-a-task\u2461\u2464" }, { "id": "ref-for-queue-a-task\u2461\u2465" }], "title": "Reject Job Promise" }, { "refs": [{ "id": "ref-for-queue-a-task\u2461\u2466" }, { "id": "ref-for-queue-a-task\u2461\u2467" }, { "id": "ref-for-queue-a-task\u2461\u2468" }], "title": "Install" }, { "refs": [{ "id": "ref-for-queue-a-task\u2462\u24ea" }, { "id": "ref-for-queue-a-task\u2462\u2460" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-queue-a-task\u2462\u2461" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-queue-a-task\u2462\u2462" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-queue-a-task\u2462\u2463" }, { "id": "ref-for-queue-a-task\u2462\u2464" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-queue-a-task\u2462\u2465" }], "title": "Fire Functional Event" }, { "refs": [{ "id": "ref-for-queue-a-task\u2462\u2466" }, { "id": "ref-for-queue-a-task\u2462\u2467" }, { "id": "ref-for-queue-a-task\u2462\u2468" }], "title": "Update Registration State" }, { "refs": [{ "id": "ref-for-queue-a-task\u2463\u24ea" }], "title": "Update Worker State" }, { "refs": [{ "id": "ref-for-queue-a-task\u2463\u2460" }], "title": "Notify Controller Change" }, { "refs": [{ "id": "ref-for-queue-a-task\u2463\u2461" }, { "id": "ref-for-queue-a-task\u2463\u2462" }, { "id": "ref-for-queue-a-task\u2463\u2463" }, { "id": "ref-for-queue-a-task\u2463\u2464" }, { "id": "ref-for-queue-a-task\u2463\u2465" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" },
        "9a95489b": { "dfnID": "9a95489b", "dfnText": "internal response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-internal-response" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-concept-internal-response\u2460" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#concept-internal-response" },
        "9a9b558b": { "dfnID": "9a9b558b", "dfnText": "dequeue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-queue-dequeue" }], "title": "Finish Job" }, { "refs": [{ "id": "ref-for-queue-dequeue\u2460" }], "title": "Handle Fetch" }], "url": "https://infra.spec.whatwg.org/#queue-dequeue" },
        "9b3743cd": { "dfnID": "9b3743cd", "dfnText": "module map (for WorkerGlobalScope)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-workerglobalscope-module-map" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-module-map" },
        "9c19b7fc": { "dfnID": "9c19b7fc", "dfnText": "navigable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-navigable" }], "title": "Get Frame Type" }, { "refs": [{ "id": "ref-for-navigable\u2460" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" },
        "9c4c1e66": { "dfnID": "9c4c1e66", "dfnText": "relevant settings object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-relevant-settings-object" }, { "id": "ref-for-relevant-settings-object\u2460" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2461" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2462" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2463" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2464" }], "title": "3.4.1. controller" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2465" }, { "id": "ref-for-relevant-settings-object\u2466" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2467" }, { "id": "ref-for-relevant-settings-object\u2468" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460\u24ea" }, { "id": "ref-for-relevant-settings-object\u2460\u2460" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460\u2461" }, { "id": "ref-for-relevant-settings-object\u2460\u2462" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460\u2463" }], "title": "4.1.2. registration" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460\u2464" }], "title": "4.1.3. serviceWorker" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460\u2465" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460\u2466" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460\u2467" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2460\u2468" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2461\u24ea" }, { "id": "ref-for-relevant-settings-object\u2461\u2460" }, { "id": "ref-for-relevant-settings-object\u2461\u2461" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2461\u2462" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2461\u2463" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2461\u2464" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2461\u2465" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2461\u2466" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2461\u2467" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2461\u2468" }, { "id": "ref-for-relevant-settings-object\u2462\u24ea" }, { "id": "ref-for-relevant-settings-object\u2462\u2460" }, { "id": "ref-for-relevant-settings-object\u2462\u2461" }], "title": "Update Registration State" }, { "refs": [{ "id": "ref-for-relevant-settings-object\u2462\u2462" }, { "id": "ref-for-relevant-settings-object\u2462\u2463" }, { "id": "ref-for-relevant-settings-object\u2462\u2464" }, { "id": "ref-for-relevant-settings-object\u2462\u2465" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
        "9c774212": { "dfnID": "9c774212", "dfnText": "TrustedScriptURL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-trustedscripturl" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-trustedscripturl\u2460" }], "title": "3.4.3. register(scriptURL, options)" }], "url": "https://www.w3.org/TR/trusted-types/#trustedscripturl" },
        "9cce47fd": { "dfnID": "9cce47fd", "dfnText": "sequence", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-sequence" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-idl-sequence\u2460" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-idl-sequence\u2461" }, { "id": "ref-for-idl-sequence\u2462" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-idl-sequence\u2463" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-idl-sequence\u2464" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-idl-sequence\u2465" }], "title": "5.5. CacheStorage" }], "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
        "9ceffca3": { "dfnID": "9ceffca3", "dfnText": "has regexp groups", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-url-pattern-has-regexp-groups" }], "title": "Verify Router Condition" }], "url": "https://urlpattern.spec.whatwg.org/#url-pattern-has-regexp-groups" },
        "9d09d04c": { "dfnID": "9d09d04c", "dfnText": "type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-event-type" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dom-event-type\u2460" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-dom-event-type\u2461" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://dom.spec.whatwg.org/#dom-event-type" },
        "9d386f55": { "dfnID": "9d386f55", "dfnText": "event handler event type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handler-event-type" }, { "id": "ref-for-event-handler-event-type\u2460" }], "title": "3.1.6. Event handler" }, { "refs": [{ "id": "ref-for-event-handler-event-type\u2461" }, { "id": "ref-for-event-handler-event-type\u2462" }], "title": "3.2.10. Event handler" }, { "refs": [{ "id": "ref-for-event-handler-event-type\u2463" }, { "id": "ref-for-event-handler-event-type\u2464" }], "title": "3.4.7. Event handlers" }, { "refs": [{ "id": "ref-for-event-handler-event-type\u2465" }, { "id": "ref-for-event-handler-event-type\u2466" }], "title": "4.1.5. Event handlers" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" },
        "9da834a1": { "dfnID": "9da834a1", "dfnText": "StructuredSerializeWithTransfer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-structuredserializewithtransfer" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-structuredserializewithtransfer\u2460" }], "title": "4.2.6. postMessage(message, options)" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" },
        "9de4af9f": { "dfnID": "9de4af9f", "dfnText": "Vary", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-section-7.1.4" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-section-7.1.4\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-section-7.1.4\u2461" }], "title": "Request Matches Cached Item" }], "url": "https://tools.ietf.org/html/rfc7231#section-7.1.4" },
        "9ff141c4": { "dfnID": "9ff141c4", "dfnText": "Assert", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-algorithm-conventions" }], "title": "Handle Fetch" }], "url": "http://tc39.github.io/ecma262/#sec-algorithm-conventions" },
        "a0d0a7c7": { "dfnID": "a0d0a7c7", "dfnText": "source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-messageevent-source" }, { "id": "ref-for-dom-messageevent-source\u2460" }], "title": "4.2.6. postMessage(message, options)" }], "url": "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-source" },
        "a0fdc68e": { "dfnID": "a0fdc68e", "dfnText": "encoded size", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-timing-info-encoded-body-size" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://fetch.spec.whatwg.org/#fetch-timing-info-encoded-body-size" },
        "a1005ed9": { "dfnID": "a1005ed9", "dfnText": "module script", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-module-script" }], "title": "Run Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#module-script" },
        "a1d47575": { "dfnID": "a1d47575", "dfnText": "status", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response-status" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-response-status\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-concept-response-status\u2461" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-concept-response-status\u2462" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#concept-response-status" },
        "a27468c5": { "dfnID": "a27468c5", "dfnText": "ok status", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ok-status" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-ok-status\u2460" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-ok-status\u2461" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#ok-status" },
        "a2d0ae2a": { "dfnID": "a2d0ae2a", "dfnText": "processResponseEndOfBody", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-processresponseendofbody" }], "title": "5.4.4. addAll(requests)" }], "url": "https://fetch.spec.whatwg.org/#fetch-processresponseendofbody" },
        "a33db89a": { "dfnID": "a33db89a", "dfnText": "fetch", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-fetch" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-concept-fetch\u2460" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-concept-fetch\u2461" }, { "id": "ref-for-concept-fetch\u2462" }, { "id": "ref-for-concept-fetch\u2463" }, { "id": "ref-for-concept-fetch\u2464" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-concept-fetch\u2465" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-fetch\u2466" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-concept-fetch\u2467" }, { "id": "ref-for-concept-fetch\u2468" }], "title": "6.4. Cross-Origin Resources and CORS" }, { "refs": [{ "id": "ref-for-concept-fetch\u2460\u24ea" }, { "id": "ref-for-concept-fetch\u2460\u2460" }, { "id": "ref-for-concept-fetch\u2460\u2461" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-fetch\u2460\u2462" }, { "id": "ref-for-concept-fetch\u2460\u2463" }, { "id": "ref-for-concept-fetch\u2460\u2464" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-fetch\u2460\u2465" }], "title": "Service Worker Script Request" }], "url": "https://fetch.spec.whatwg.org/#concept-fetch" },
        "a3b18719": { "dfnID": "a3b18719", "dfnText": "append (for set)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-set-append" }, { "id": "ref-for-set-append\u2460" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-set-append\u2461" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-set-append\u2462" }], "title": "Update Service Worker Extended Events Set" }, { "refs": [{ "id": "ref-for-set-append\u2463" }], "title": "Is Async Module" }], "url": "https://infra.spec.whatwg.org/#set-append" },
        "a3fa5074": { "dfnID": "a3fa5074", "dfnText": "coarsen time", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-coarsen-time" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://www.w3.org/TR/hr-time-3/#dfn-coarsen-time" },
        "a4785085": { "dfnID": "a4785085", "dfnText": "WorkerNavigator", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-workernavigator" }], "title": "3.3. navigator.serviceWorker" }, { "refs": [{ "id": "ref-for-workernavigator\u2460" }, { "id": "ref-for-workernavigator\u2461" }], "title": "3.4. ServiceWorkerContainer" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#workernavigator" },
        "a5c91173": { "dfnID": "a5c91173", "dfnText": "SameObject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SameObject" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-SameObject\u2460" }, { "id": "ref-for-SameObject\u2461" }], "title": "3.3. navigator.serviceWorker" }, { "refs": [{ "id": "ref-for-SameObject\u2462" }, { "id": "ref-for-SameObject\u2463" }, { "id": "ref-for-SameObject\u2464" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-SameObject\u2465" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-SameObject\u2466" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-SameObject\u2467" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-SameObject\u2468" }], "title": "5.3. self.caches" }], "url": "https://webidl.spec.whatwg.org/#SameObject" },
        "a6a8ec88": { "dfnID": "a6a8ec88", "dfnText": "append", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-header-list-append" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#concept-header-list-append" },
        "a72449dd": { "dfnID": "a72449dd", "dfnText": "in parallel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-in-parallel" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-in-parallel\u2460" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-in-parallel\u2461" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-in-parallel\u2462" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-in-parallel\u2463" }], "title": "3.6.1. enable()" }, { "refs": [{ "id": "ref-for-in-parallel\u2464" }], "title": "3.6.2. disable()" }, { "refs": [{ "id": "ref-for-in-parallel\u2465" }], "title": "3.6.3. setHeaderValue(value)" }, { "refs": [{ "id": "ref-for-in-parallel\u2466" }], "title": "3.6.4. getState()" }, { "refs": [{ "id": "ref-for-in-parallel\u2467" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-in-parallel\u2468" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-in-parallel\u2460\u24ea" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-in-parallel\u2460\u2460" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-in-parallel\u2460\u2461" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-in-parallel\u2460\u2462" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-in-parallel\u2460\u2463" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-in-parallel\u2460\u2464" }], "title": "5.4.1. match(request, options)" }, { "refs": [{ "id": "ref-for-in-parallel\u2460\u2465" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-in-parallel\u2460\u2466" }, { "id": "ref-for-in-parallel\u2460\u2467" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-in-parallel\u2460\u2468" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-in-parallel\u2461\u24ea" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-in-parallel\u2461\u2460" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-in-parallel\u2461\u2461" }], "title": "5.5.1. match(request, options)" }, { "refs": [{ "id": "ref-for-in-parallel\u2461\u2462" }], "title": "5.5.2. has(cacheName)" }, { "refs": [{ "id": "ref-for-in-parallel\u2461\u2463" }], "title": "5.5.3. open(cacheName)" }, { "refs": [{ "id": "ref-for-in-parallel\u2461\u2464" }], "title": "5.5.4. delete(cacheName)" }, { "refs": [{ "id": "ref-for-in-parallel\u2461\u2465" }], "title": "5.5.5. keys()" }, { "refs": [{ "id": "ref-for-in-parallel\u2461\u2466" }, { "id": "ref-for-in-parallel\u2461\u2467" }, { "id": "ref-for-in-parallel\u2461\u2468" }], "title": "Run Job" }, { "refs": [{ "id": "ref-for-in-parallel\u2462\u24ea" }], "title": "Install" }, { "refs": [{ "id": "ref-for-in-parallel\u2462\u2460" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-in-parallel\u2462\u2461" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-in-parallel\u2462\u2462" }, { "id": "ref-for-in-parallel\u2462\u2463" }, { "id": "ref-for-in-parallel\u2462\u2464" }, { "id": "ref-for-in-parallel\u2462\u2465" }, { "id": "ref-for-in-parallel\u2462\u2466" }, { "id": "ref-for-in-parallel\u2462\u2467" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-in-parallel\u2462\u2468" }, { "id": "ref-for-in-parallel\u2463\u24ea" }, { "id": "ref-for-in-parallel\u2463\u2460" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-in-parallel\u2463\u2461" }, { "id": "ref-for-in-parallel\u2463\u2462" }, { "id": "ref-for-in-parallel\u2463\u2463" }], "title": "Fire Functional Event" }, { "refs": [{ "id": "ref-for-in-parallel\u2463\u2464" }], "title": "Handle User Agent Shutdown" }], "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
        "a8ce2b70": { "dfnID": "a8ce2b70", "dfnText": "AbstractWorker", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abstractworker" }], "title": "3.1. ServiceWorker" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#abstractworker" },
        "a93f0b06": { "dfnID": "a93f0b06", "dfnText": "JavaScript MIME type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-javascript-mime-type" }], "title": "6.6. Service worker script request" }, { "refs": [{ "id": "ref-for-javascript-mime-type\u2460" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-javascript-mime-type\u2461" }], "title": "Update" }], "url": "https://mimesniff.spec.whatwg.org/#javascript-mime-type" },
        "a973e0fe": { "dfnID": "a973e0fe", "dfnText": "document", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-document" }, { "id": "ref-for-concept-document\u2460" }, { "id": "ref-for-concept-document\u2461" }, { "id": "ref-for-concept-document\u2462" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-concept-document\u2463" }, { "id": "ref-for-concept-document\u2464" }], "title": "2.5. Control and Use" }], "url": "https://dom.spec.whatwg.org/#concept-document" },
        "a9a29016": { "dfnID": "a9a29016", "dfnText": "blob URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-blob-url" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-blob-url\u2460" }], "title": "2.5. Control and Use" }], "url": "https://www.w3.org/TR/FileAPI/#blob-url" },
        "a9a61cfb": { "dfnID": "a9a61cfb", "dfnText": "fetch a classic worker-imported script", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-a-classic-worker-imported-script" }], "title": "Appendix A: Algorithms" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-imported-script" },
        "abbed741": { "dfnID": "abbed741", "dfnText": "frozen array type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-frozen-array-type" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dfn-frozen-array-type\u2460" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dfn-frozen-array-type\u2461" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-dfn-frozen-array-type\u2462" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-dfn-frozen-array-type\u2463" }], "title": "Create Window Client" }], "url": "https://webidl.spec.whatwg.org/#dfn-frozen-array-type" },
        "abe352cd": { "dfnID": "abe352cd", "dfnText": "reserved client", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-reserved-client" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-request-reserved-client\u2460" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-concept-request-reserved-client\u2461" }, { "id": "ref-for-concept-request-reserved-client\u2462" }], "title": "Lookup Race Response" }], "url": "https://fetch.spec.whatwg.org/#concept-request-reserved-client" },
        "activate": { "dfnID": "activate", "dfnText": "Activate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-activate" }, { "id": "ref-for-activate\u2460" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-activate\u2461" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-activate\u2462" }, { "id": "ref-for-activate\u2463" }], "title": "Install" }, { "refs": [{ "id": "ref-for-activate\u2464" }], "title": "Try Activate" }, { "refs": [{ "id": "ref-for-activate\u2465" }], "title": "Handle User Agent Shutdown" }], "url": "#activate" },
        "ad191408": { "dfnID": "ad191408", "dfnText": "read a chunk", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultreader-read-a-chunk" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-a-chunk" },
        "ae2a6342": { "dfnID": "ae2a6342", "dfnText": "top-level browsing context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-top-level-browsing-context" }], "title": "4.3.3. openWindow(url)" }], "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context" },
        "ae4bc361": { "dfnID": "ae4bc361", "dfnText": "converted to an ECMAScript value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-convert-idl-to-javascript-value" }, { "id": "ref-for-dfn-convert-idl-to-javascript-value\u2460" }], "title": "All Fetch Listeners Are Empty" }], "url": "https://webidl.spec.whatwg.org/#dfn-convert-idl-to-javascript-value" },
        "ae8def21": { "dfnID": "ae8def21", "dfnText": "contain", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-contain" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-list-contain\u2460" }], "title": "Install" }, { "refs": [{ "id": "ref-for-list-contain\u2461" }], "title": "All Fetch Listeners Are Empty" }, { "refs": [{ "id": "ref-for-list-contain\u2462" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-list-contain\u2463" }], "title": "Should Skip Event" }, { "refs": [{ "id": "ref-for-list-contain\u2464" }], "title": "Is Async Module" }], "url": "https://infra.spec.whatwg.org/#list-contain" },
        "af5cef2c": { "dfnID": "af5cef2c", "dfnText": "isTopLevel", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetching-scripts-is-top-level" }], "title": "Update" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-is-top-level" },
        "all-fetch-listeners-are-empty": { "dfnID": "all-fetch-listeners-are-empty", "dfnText": "All Fetch Listeners Are Empty", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-all-fetch-listeners-are-empty" }], "title": "Run Service Worker" }], "url": "#all-fetch-listeners-are-empty" },
        "b01b1359": { "dfnID": "b01b1359", "dfnText": "opaque origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-origin-opaque" }, { "id": "ref-for-concept-origin-opaque\u2460" }, { "id": "ref-for-concept-origin-opaque\u2461" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-concept-origin-opaque\u2462" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-concept-origin-opaque\u2463" }], "title": "2.5. Control and Use" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" },
        "b0cc35b0": { "dfnID": "b0cc35b0", "dfnText": "event handler map", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handler-map" }], "title": "All Fetch Listeners Are Empty" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-map" },
        "b0d7f3c3": { "dfnID": "b0d7f3c3", "dfnText": "USVString", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-USVString" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-idl-USVString\u2460" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-idl-USVString\u2461" }, { "id": "ref-for-idl-USVString\u2462" }, { "id": "ref-for-idl-USVString\u2463" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-idl-USVString\u2464" }, { "id": "ref-for-idl-USVString\u2465" }, { "id": "ref-for-idl-USVString\u2466" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-idl-USVString\u2467" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-idl-USVString\u2468" }, { "id": "ref-for-idl-USVString\u2460\u24ea" }], "title": "4.7. ExtendableMessageEvent" }], "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
        "b262501e": { "dfnID": "b262501e", "dfnText": "reject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-reject" }], "title": "3.6.1. enable()" }, { "refs": [{ "id": "ref-for-reject\u2460" }], "title": "3.6.2. disable()" }, { "refs": [{ "id": "ref-for-reject\u2461" }], "title": "3.6.3. setHeaderValue(value)" }, { "refs": [{ "id": "ref-for-reject\u2462" }, { "id": "ref-for-reject\u2463" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://webidl.spec.whatwg.org/#reject" },
        "b2e9303e": { "dfnID": "b2e9303e", "dfnText": "perform the fetch hook", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetching-scripts-perform-fetch" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-fetching-scripts-perform-fetch\u2460" }], "title": "Update" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-perform-fetch" },
        "b33787b2": { "dfnID": "b33787b2", "dfnText": "policy container", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-policy-container" }], "title": "2.1. Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#policy-container" },
        "b3bbb20b": { "dfnID": "b3bbb20b", "dfnText": "field-value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-section-3.2" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-section-3.2\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-section-3.2\u2461" }], "title": "Request Matches Cached Item" }], "url": "https://tools.ietf.org/html/rfc7230#section-3.2" },
        "b3cf1c94": { "dfnID": "b3cf1c94", "dfnText": "close", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-close" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestream-close" },
        "b4c5b3f7": { "dfnID": "b4c5b3f7", "dfnText": "RequestDestination", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-requestdestination" }], "title": "4.5. InstallEvent" }], "url": "https://fetch.spec.whatwg.org/#requestdestination" },
        "b4cfa5ce": { "dfnID": "b4cfa5ce", "dfnText": "throw", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-throw" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-dfn-throw\u2460" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-dfn-throw\u2461" }, { "id": "ref-for-dfn-throw\u2462" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-dfn-throw\u2463" }, { "id": "ref-for-dfn-throw\u2464" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-dfn-throw\u2465" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-dfn-throw\u2466" }, { "id": "ref-for-dfn-throw\u2467" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-dfn-throw\u2468" }, { "id": "ref-for-dfn-throw\u2460\u24ea" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-dfn-throw\u2460\u2460" }, { "id": "ref-for-dfn-throw\u2460\u2461" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-dfn-throw\u2460\u2462" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-dfn-throw\u2460\u2463" }, { "id": "ref-for-dfn-throw\u2460\u2464" }, { "id": "ref-for-dfn-throw\u2460\u2465" }, { "id": "ref-for-dfn-throw\u2460\u2466" }, { "id": "ref-for-dfn-throw\u2460\u2467" }, { "id": "ref-for-dfn-throw\u2460\u2468" }, { "id": "ref-for-dfn-throw\u2461\u24ea" }, { "id": "ref-for-dfn-throw\u2461\u2460" }, { "id": "ref-for-dfn-throw\u2461\u2461" }, { "id": "ref-for-dfn-throw\u2461\u2462" }, { "id": "ref-for-dfn-throw\u2461\u2463" }], "title": "Batch Cache Operations" }], "url": "https://webidl.spec.whatwg.org/#dfn-throw" },
        "b56b31a9": { "dfnID": "b56b31a9", "dfnText": "StructuredSerializeOptions", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-structuredserializeoptions" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-structuredserializeoptions\u2460" }], "title": "4.2. Client" }], "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions" },
        "b5b30abb": { "dfnID": "b5b30abb", "dfnText": "cancelAlgorithm", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-set-up-cancelalgorithm" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm" },
        "b5d1f9d3": { "dfnID": "b5d1f9d3", "dfnText": "basic filtered response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-filtered-response-basic" }, { "id": "ref-for-concept-filtered-response-basic\u2460" }], "title": "6.4. Cross-Origin Resources and CORS" }], "url": "https://fetch.spec.whatwg.org/#concept-filtered-response-basic" },
        "b5e98e1f": { "dfnID": "b5e98e1f", "dfnText": "visibilityState", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-document-visibilitystate" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-document-visibilitystate\u2460" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-dom-document-visibilitystate\u2461" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-dom-document-visibilitystate\u2462" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-dom-document-visibilitystate\u2463" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-dom-document-visibilitystate\u2464" }], "title": "Resolve Get Client Promise" }], "url": "https://www.w3.org/TR/page-visibility/#dom-document-visibilitystate" },
        "b6209f34": { "dfnID": "b6209f34", "dfnText": "unsafe response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-unsafe-response" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-unsafe-response\u2460" }, { "id": "ref-for-unsafe-response\u2461" }], "title": "Update" }], "url": "https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response" },
        "b7337f41": { "dfnID": "b7337f41", "dfnText": "creating a policy container from a fetch response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-creating-a-policy-container-from-a-fetch-response" }], "title": "Update" }], "url": "https://html.spec.whatwg.org/multipage/origin.html#creating-a-policy-container-from-a-fetch-response" },
        "b75a7d23": { "dfnID": "b75a7d23", "dfnText": "realm (for global object)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-global-object-realm" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-concept-global-object-realm\u2460" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm" },
        "b75bb3bd": { "dfnID": "b75bb3bd", "dfnText": "SecureContext", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-SecureContext" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-SecureContext\u2460" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-SecureContext\u2461" }, { "id": "ref-for-SecureContext\u2462" }], "title": "3.3. navigator.serviceWorker" }, { "refs": [{ "id": "ref-for-SecureContext\u2463" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-SecureContext\u2464" }], "title": "3.6. NavigationPreloadManager" }, { "refs": [{ "id": "ref-for-SecureContext\u2465" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-SecureContext\u2466" }], "title": "5.3. self.caches" }, { "refs": [{ "id": "ref-for-SecureContext\u2467" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-SecureContext\u2468" }], "title": "5.5. CacheStorage" }], "url": "https://webidl.spec.whatwg.org/#SecureContext" },
        "b78d6a64": { "dfnID": "b78d6a64", "dfnText": "event loop (for agent)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-agent-event-loop" }], "title": "4.2.10. focus()" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop" },
        "b8308563": { "dfnID": "b8308563", "dfnText": "DedicatedWorkerGlobalScope", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dedicatedworkerglobalscope" }], "title": "2.4. Service Worker Client" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" },
        "b84e54ba": { "dfnID": "b84e54ba", "dfnText": "potentially trustworthy origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-potentially-trustworthy-origin" }], "title": "Register" }], "url": "https://www.w3.org/TR/secure-contexts/#potentially-trustworthy-origin" },
        "batch-cache-operations": { "dfnID": "batch-cache-operations", "dfnText": "Batch Cache Operations", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-batch-cache-operations" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-batch-cache-operations\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-batch-cache-operations\u2461" }], "title": "5.4.6. delete(request, options)" }], "url": "#batch-cache-operations" },
        "bb8bd6d1": { "dfnID": "bb8bd6d1", "dfnText": "run a classic script", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-run-a-classic-script" }], "title": "Run Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#run-a-classic-script" },
        "bc7b9068": { "dfnID": "bc7b9068", "dfnText": "clear", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-clear" }], "title": "Run Service Worker" }], "url": "https://infra.spec.whatwg.org/#map-clear" },
        "bd1db03d": { "dfnID": "bd1db03d", "dfnText": "policy container (for environment settings object)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-policy-container" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-policy-container" },
        "bd2fe71e": { "dfnID": "bd2fe71e", "dfnText": "processResponse", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-process-response" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-process-response\u2460" }], "title": "Update" }, { "refs": [{ "id": "ref-for-process-response\u2461" }, { "id": "ref-for-process-response\u2462" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#process-response" },
        "bdbd19d1": { "dfnID": "bdbd19d1", "dfnText": "Promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-promise" }, { "id": "ref-for-idl-promise\u2460" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-idl-promise\u2461" }, { "id": "ref-for-idl-promise\u2462" }, { "id": "ref-for-idl-promise\u2463" }, { "id": "ref-for-idl-promise\u2464" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-idl-promise\u2465" }, { "id": "ref-for-idl-promise\u2466" }, { "id": "ref-for-idl-promise\u2467" }, { "id": "ref-for-idl-promise\u2468" }], "title": "3.6. NavigationPreloadManager" }, { "refs": [{ "id": "ref-for-idl-promise\u2460\u24ea" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-idl-promise\u2460\u2460" }, { "id": "ref-for-idl-promise\u2460\u2461" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-idl-promise\u2460\u2462" }, { "id": "ref-for-idl-promise\u2460\u2463" }, { "id": "ref-for-idl-promise\u2460\u2464" }, { "id": "ref-for-idl-promise\u2460\u2465" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-idl-promise\u2460\u2466" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-idl-promise\u2460\u2467" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-idl-promise\u2460\u2468" }, { "id": "ref-for-idl-promise\u2461\u24ea" }, { "id": "ref-for-idl-promise\u2461\u2460" }, { "id": "ref-for-idl-promise\u2461\u2461" }, { "id": "ref-for-idl-promise\u2461\u2462" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-idl-promise\u2461\u2463" }, { "id": "ref-for-idl-promise\u2461\u2464" }, { "id": "ref-for-idl-promise\u2461\u2465" }, { "id": "ref-for-idl-promise\u2461\u2466" }, { "id": "ref-for-idl-promise\u2461\u2467" }, { "id": "ref-for-idl-promise\u2461\u2468" }, { "id": "ref-for-idl-promise\u2462\u24ea" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-idl-promise\u2462\u2460" }, { "id": "ref-for-idl-promise\u2462\u2461" }, { "id": "ref-for-idl-promise\u2462\u2462" }, { "id": "ref-for-idl-promise\u2462\u2463" }, { "id": "ref-for-idl-promise\u2462\u2464" }], "title": "5.5. CacheStorage" }], "url": "https://webidl.spec.whatwg.org/#idl-promise" },
        "be0c27b2": { "dfnID": "be0c27b2", "dfnText": "Navigator", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-navigator" }], "title": "3.3. navigator.serviceWorker" }, { "refs": [{ "id": "ref-for-navigator\u2460" }, { "id": "ref-for-navigator\u2461" }], "title": "3.4. ServiceWorkerContainer" }], "url": "https://html.spec.whatwg.org/multipage/system-state.html#navigator" },
        "bf6531af": { "dfnID": "bf6531af", "dfnText": "getting a reader", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-get-a-reader" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-readablestream-get-a-reader\u2460" }], "title": "5.4.5. put(request, response)" }], "url": "https://streams.spec.whatwg.org/#readablestream-get-a-reader" },
        "bfc1c271": { "dfnID": "bfc1c271", "dfnText": "Worker", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-worker" }], "title": "4.1. ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#worker" },
        "c0868016": { "dfnID": "c0868016", "dfnText": "path", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-path" }], "title": "6.5. Path restriction" }, { "refs": [{ "id": "ref-for-concept-url-path\u2460" }, { "id": "ref-for-concept-url-path\u2461" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-concept-url-path\u2462" }, { "id": "ref-for-concept-url-path\u2463" }, { "id": "ref-for-concept-url-path\u2464" }, { "id": "ref-for-concept-url-path\u2465" }], "title": "Update" }], "url": "https://url.spec.whatwg.org/#concept-url-path" },
        "c08e1049": { "dfnID": "c08e1049", "dfnText": "ThrowCompletion", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-throwcompletion" }], "title": "Run Service Worker" }], "url": "http://tc39.github.io/ecma262/#sec-throwcompletion" },
        "c1030cbe": { "dfnID": "c1030cbe", "dfnText": "unusable", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-body-unusable" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#body-unusable" },
        "c262266a": { "dfnID": "c262266a", "dfnText": "WorkerType", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-workertype" }], "title": "3.4. ServiceWorkerContainer" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#workertype" },
        "c3b2d08c": { "dfnID": "c3b2d08c", "dfnText": "task source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-task-source" }, { "id": "ref-for-task-source\u2460" }, { "id": "ref-for-task-source\u2461" }], "title": "2.6. Task Sources" }, { "refs": [{ "id": "ref-for-task-source\u2462" }, { "id": "ref-for-task-source\u2463" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-task-source\u2464" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-task-source\u2465" }, { "id": "ref-for-task-source\u2466" }, { "id": "ref-for-task-source\u2467" }], "title": "Terminate Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-source" },
        "c3e881ef": { "dfnID": "c3e881ef", "dfnText": "SecurityError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-securityerror" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-securityerror\u2460" }, { "id": "ref-for-securityerror\u2461" }, { "id": "ref-for-securityerror\u2462" }], "title": "Register" }, { "refs": [{ "id": "ref-for-securityerror\u2463" }, { "id": "ref-for-securityerror\u2464" }, { "id": "ref-for-securityerror\u2465" }], "title": "Update" }, { "refs": [{ "id": "ref-for-securityerror\u2466" }], "title": "Unregister" }, { "refs": [{ "id": "ref-for-securityerror\u2467" }, { "id": "ref-for-securityerror\u2468" }], "title": "Resolve Get Client Promise" }], "url": "https://webidl.spec.whatwg.org/#securityerror" },
        "c56329c9": { "dfnID": "c56329c9", "dfnText": "\"report\"", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-requestdestination-report" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-dom-requestdestination-report\u2460" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#dom-requestdestination-report" },
        "c5b6dcb3": { "dfnID": "c5b6dcb3", "dfnText": "url", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-workerglobalscope-url" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-url" },
        "c63519ed": { "dfnID": "c63519ed", "dfnText": "top-level origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-environment-top-level-origin" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" },
        "c6d19e56": { "dfnID": "c6d19e56", "dfnText": "event loop", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-loop" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-event-loop\u2460" }, { "id": "ref-for-event-loop\u2461" }, { "id": "ref-for-event-loop\u2462" }, { "id": "ref-for-event-loop\u2463" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-event-loop\u2464" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-event-loop\u2465" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-event-loop\u2466" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-event-loop\u2467" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-event-loop\u2468" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-event-loop\u2460\u24ea" }], "title": "Install" }, { "refs": [{ "id": "ref-for-event-loop\u2460\u2460" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-event-loop\u2460\u2461" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-event-loop\u2460\u2462" }, { "id": "ref-for-event-loop\u2460\u2463" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-event-loop\u2460\u2464" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-event-loop\u2460\u2465" }], "title": "Fire Functional Event" }, { "refs": [{ "id": "ref-for-event-loop\u2460\u2466" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" },
        "c74f29b9": { "dfnID": "c74f29b9", "dfnText": "NetworkError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-networkerror" }, { "id": "ref-for-networkerror\u2460" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://webidl.spec.whatwg.org/#networkerror" },
        "c79e5abb": { "dfnID": "c79e5abb", "dfnText": "module map", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-module-map" }], "title": "Is Async Module" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#module-map" },
        "c807e273": { "dfnID": "c807e273", "dfnText": "NewObject", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-NewObject" }, { "id": "ref-for-NewObject\u2460" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-NewObject\u2461" }, { "id": "ref-for-NewObject\u2462" }, { "id": "ref-for-NewObject\u2463" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-NewObject\u2464" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-NewObject\u2465" }, { "id": "ref-for-NewObject\u2466" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-NewObject\u2467" }, { "id": "ref-for-NewObject\u2468" }, { "id": "ref-for-NewObject\u2460\u24ea" }, { "id": "ref-for-NewObject\u2460\u2460" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-NewObject\u2460\u2461" }, { "id": "ref-for-NewObject\u2460\u2462" }, { "id": "ref-for-NewObject\u2460\u2463" }, { "id": "ref-for-NewObject\u2460\u2464" }, { "id": "ref-for-NewObject\u2460\u2465" }, { "id": "ref-for-NewObject\u2460\u2466" }, { "id": "ref-for-NewObject\u2460\u2467" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-NewObject\u2460\u2468" }, { "id": "ref-for-NewObject\u2461\u24ea" }, { "id": "ref-for-NewObject\u2461\u2460" }, { "id": "ref-for-NewObject\u2461\u2461" }, { "id": "ref-for-NewObject\u2461\u2462" }], "title": "5.5. CacheStorage" }], "url": "https://webidl.spec.whatwg.org/#NewObject" },
        "c88f3887": { "dfnID": "c88f3887", "dfnText": "item (for struct)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-struct-item" }], "title": "2.2. Service Worker Timing" }, { "refs": [{ "id": "ref-for-struct-item\u2460" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://infra.spec.whatwg.org/#struct-item" },
        "c89908b4": { "dfnID": "c89908b4", "dfnText": "stop propagation flag", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-stop-propagation-flag" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://dom.spec.whatwg.org/#stop-propagation-flag" },
        "c8e62d82": { "dfnID": "c8e62d82", "dfnText": "serialized abort reason", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-controller-serialized-abort-reason" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#fetch-controller-serialized-abort-reason" },
        "c9858f6e": { "dfnID": "c9858f6e", "dfnText": "obtain a storage key", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-obtain-a-storage-key" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-obtain-a-storage-key\u2460" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-obtain-a-storage-key\u2461" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-obtain-a-storage-key\u2462" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-obtain-a-storage-key\u2463" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-obtain-a-storage-key\u2464" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-obtain-a-storage-key\u2465" }, { "id": "ref-for-obtain-a-storage-key\u2466" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-obtain-a-storage-key\u2467" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-obtain-a-storage-key\u2468" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-obtain-a-storage-key\u2460\u24ea" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-obtain-a-storage-key\u2460\u2460" }], "title": "Lookup Race Response" }], "url": "https://storage.spec.whatwg.org/#obtain-a-storage-key" },
        "c9e7c11a": { "dfnID": "c9e7c11a", "dfnText": "header", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-header" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-header\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-concept-header\u2461" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-header\u2462" }], "title": "Request Matches Cached Item" }, { "refs": [{ "id": "ref-for-concept-header\u2463" }], "title": "Service Worker Script Request" }, { "refs": [{ "id": "ref-for-concept-header\u2464" }], "title": "Service Worker Script Response" }], "url": "https://fetch.spec.whatwg.org/#concept-header" },
        "ca3ca4ae": { "dfnID": "ca3ca4ae", "dfnText": "URL parser", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-parser" }, { "id": "ref-for-concept-url-parser\u2460" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-concept-url-parser\u2461" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-concept-url-parser\u2462" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-concept-url-parser\u2463" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-concept-url-parser\u2464" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-concept-url-parser\u2465" }, { "id": "ref-for-concept-url-parser\u2466" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-url-parser\u2467" }], "title": "Match Service Worker Registration" }], "url": "https://url.spec.whatwg.org/#concept-url-parser" },
        "caa8344c": { "dfnID": "caa8344c", "dfnText": "classic script", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-classic-script" }], "title": "Run Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#classic-script" },
        "cache": { "dfnID": "cache", "dfnText": "Cache", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cache" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-cache\u2460" }, { "id": "ref-for-cache\u2461" }], "title": "5. Caches" }, { "refs": [{ "id": "ref-for-cache\u2462" }, { "id": "ref-for-cache\u2463" }, { "id": "ref-for-cache\u2464" }, { "id": "ref-for-cache\u2465" }, { "id": "ref-for-cache\u2466" }], "title": "5.2. Understanding Cache Lifetimes" }, { "refs": [{ "id": "ref-for-cache\u2467" }, { "id": "ref-for-cache\u2468" }, { "id": "ref-for-cache\u2460\u24ea" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-cache\u2460\u2460" }], "title": "5.5. CacheStorage" }, { "refs": [{ "id": "ref-for-cache\u2460\u2461" }, { "id": "ref-for-cache\u2460\u2462" }], "title": "5.5.1. match(request, options)" }, { "refs": [{ "id": "ref-for-cache\u2460\u2463" }, { "id": "ref-for-cache\u2460\u2464" }], "title": "5.5.3. open(cacheName)" }, { "refs": [{ "id": "ref-for-cache\u2460\u2465" }, { "id": "ref-for-cache\u2460\u2466" }, { "id": "ref-for-cache\u2460\u2467" }], "title": "6.4. Cross-Origin Resources and CORS" }], "url": "#cache" },
        "cachestorage": { "dfnID": "cachestorage", "dfnText": "CacheStorage", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cachestorage" }], "title": "5.3. self.caches" }, { "refs": [{ "id": "ref-for-cachestorage\u2460" }], "title": "5.3.1. caches" }, { "refs": [{ "id": "ref-for-cachestorage\u2461" }, { "id": "ref-for-cachestorage\u2462" }, { "id": "ref-for-cachestorage\u2463" }, { "id": "ref-for-cachestorage\u2464" }, { "id": "ref-for-cachestorage\u2465" }], "title": "5.5. CacheStorage" }], "url": "#cachestorage" },
        "cachestorage-global-object": { "dfnID": "cachestorage-global-object", "dfnText": "global object", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-cachestorage-global-object" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-cachestorage-global-object\u2460" }], "title": "5.5. CacheStorage" }], "url": "#cachestorage-global-object" },
        "cb98f71f": { "dfnID": "cb98f71f", "dfnText": "mode", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-mode" }], "title": "Match Router Condition" }], "url": "https://fetch.spec.whatwg.org/#concept-request-mode" },
        "cc549724": { "dfnID": "cc549724", "dfnText": "Location", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-location" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-location\u2460" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-location\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-location\u2462" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-location\u2463" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" },
        "cd787c3f": { "dfnID": "cd787c3f", "dfnText": "exception", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-exception" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-dfn-exception\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-dfn-exception\u2461" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-dfn-exception\u2462" }, { "id": "ref-for-dfn-exception\u2463" }], "title": "Reject Job Promise" }], "url": "https://webidl.spec.whatwg.org/#dfn-exception" },
        "cdc0b059": { "dfnID": "cdc0b059", "dfnText": "state", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-controller-state" }, { "id": "ref-for-fetch-controller-state\u2460" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-fetch-controller-state\u2461" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#fetch-controller-state" },
        "cdea6030": { "dfnID": "cdea6030", "dfnText": "type", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response-type" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-concept-response-type\u2460" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-response-type\u2461" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-concept-response-type\u2462" }, { "id": "ref-for-concept-response-type\u2463" }], "title": "Handle Fetch" }], "url": "https://fetch.spec.whatwg.org/#concept-response-type" },
        "ce15d5dc": { "dfnID": "ce15d5dc", "dfnText": "realm execution context", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-realm-execution-context" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-realm-execution-context\u2460" }], "title": "Run Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#realm-execution-context" },
        "ce3d2bbb": { "dfnID": "ce3d2bbb", "dfnText": "current global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-current-global-object" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-current-global-object\u2460" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-current-global-object\u2461" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-current-global-object\u2462" }, { "id": "ref-for-current-global-object\u2463" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-current-global-object\u2464" }], "title": "6.3.2. importScripts(urls)" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" },
        "check-router-registration-limit": { "dfnID": "check-router-registration-limit", "dfnText": "Check Router Registration Limit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-check-router-registration-limit" }], "title": "4.5.1. event.addRoutes(rules)" }], "url": "#check-router-registration-limit" },
        "clear-registration": { "dfnID": "clear-registration", "dfnText": "Clear Registration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-clear-registration" }], "title": "Handle User Agent Shutdown" }, { "refs": [{ "id": "ref-for-clear-registration\u2460" }, { "id": "ref-for-clear-registration\u2461" }], "title": "Unregister" }, { "refs": [{ "id": "ref-for-clear-registration\u2462" }], "title": "Try Clear Registration" }], "url": "#clear-registration" },
        "client": { "dfnID": "client", "dfnText": "Client", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-client" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-client\u2460" }, { "id": "ref-for-client\u2461" }, { "id": "ref-for-client\u2462" }, { "id": "ref-for-client\u2463" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-client\u2464" }, { "id": "ref-for-client\u2465" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-client\u2466" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-client\u2467" }, { "id": "ref-for-client\u2468" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-client\u2460\u24ea" }], "title": "4.7.4. event.source" }, { "refs": [{ "id": "ref-for-client\u2460\u2460" }, { "id": "ref-for-client\u2460\u2461" }], "title": "Create Client" }], "url": "#client" },
        "clients": { "dfnID": "clients", "dfnText": "Clients", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-clients" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-clients\u2460" }], "title": "4.1.1. clients" }, { "refs": [{ "id": "ref-for-clients\u2461" }, { "id": "ref-for-clients\u2462" }], "title": "4.3. Clients" }], "url": "#clients" },
        "count-router-inner-conditions": { "dfnID": "count-router-inner-conditions", "dfnText": "Count Router Inner Conditions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-count-router-inner-conditions" }], "title": "Check Router Registration Limit" }, { "refs": [{ "id": "ref-for-count-router-inner-conditions\u2460" }, { "id": "ref-for-count-router-inner-conditions\u2461" }], "title": "Count Router Inner Conditions" }], "url": "#count-router-inner-conditions" },
        "create-client": { "dfnID": "create-client", "dfnText": "Create Client", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-client" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-create-client\u2460" }], "title": "Resolve Get Client Promise" }], "url": "#create-client" },
        "create-fetch-event-and-dispatch": { "dfnID": "create-fetch-event-and-dispatch", "dfnText": "Create Fetch Event and Dispatch", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-fetch-event-and-dispatch" }, { "id": "ref-for-create-fetch-event-and-dispatch\u2460" }], "title": "Handle Fetch" }], "url": "#create-fetch-event-and-dispatch" },
        "create-job": { "dfnID": "create-job", "dfnText": "Create Job", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-job" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-create-job\u2460" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-create-job\u2461" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-create-job\u2462" }], "title": "Soft Update" }], "url": "#create-job" },
        "create-window-client": { "dfnID": "create-window-client", "dfnText": "Create Window Client", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-create-window-client" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-create-window-client\u2460" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-create-window-client\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-create-window-client\u2462" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-create-window-client\u2463" }], "title": "Resolve Get Client Promise" }], "url": "#create-window-client" },
        "d0b4a948": { "dfnID": "d0b4a948", "dfnText": "a promise rejected with", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-promise-rejected-with" }, { "id": "ref-for-a-promise-rejected-with\u2460" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2461" }, { "id": "ref-for-a-promise-rejected-with\u2462" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2463" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2464" }, { "id": "ref-for-a-promise-rejected-with\u2465" }, { "id": "ref-for-a-promise-rejected-with\u2466" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2467" }, { "id": "ref-for-a-promise-rejected-with\u2468" }, { "id": "ref-for-a-promise-rejected-with\u2460\u24ea" }, { "id": "ref-for-a-promise-rejected-with\u2460\u2460" }, { "id": "ref-for-a-promise-rejected-with\u2460\u2461" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2460\u2462" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-a-promise-rejected-with\u2460\u2463" }], "title": "5.4.7. keys(request, options)" }], "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
        "d0eba3fd": { "dfnID": "d0eba3fd", "dfnText": "partial interface", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-partial-interface" }], "title": "7.1. Define API bound to Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-partial-interface\u2460" }], "title": "7.3. Define Event Handler" }], "url": "https://webidl.spec.whatwg.org/#dfn-partial-interface" },
        "d14a6f26": { "dfnID": "d14a6f26", "dfnText": "key", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-key" }], "title": "5.1. Constructs" }], "url": "https://infra.spec.whatwg.org/#map-key" },
        "d1ee46ce": { "dfnID": "d1ee46ce", "dfnText": "realm (for environment settings object)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-environment-settings-object's-realm" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-environment-settings-object's-realm\u2460" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-environment-settings-object's-realm\u2461" }], "title": "3.2.2. installing" }, { "refs": [{ "id": "ref-for-environment-settings-object's-realm\u2462" }], "title": "3.2.3. waiting" }, { "refs": [{ "id": "ref-for-environment-settings-object's-realm\u2463" }], "title": "3.2.4. active" }, { "refs": [{ "id": "ref-for-environment-settings-object's-realm\u2464" }, { "id": "ref-for-environment-settings-object's-realm\u2465" }], "title": "Resolve Job Promise" }, { "refs": [{ "id": "ref-for-environment-settings-object's-realm\u2466" }, { "id": "ref-for-environment-settings-object's-realm\u2467" }], "title": "Reject Job Promise" }, { "refs": [{ "id": "ref-for-environment-settings-object's-realm\u2468" }], "title": "Install" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object's-realm" },
        "d25dfb2c": { "dfnID": "d25dfb2c", "dfnText": "AbortError", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-aborterror" }], "title": "5.4.4. addAll(requests)" }], "url": "https://webidl.spec.whatwg.org/#aborterror" },
        "d3d229b5": { "dfnID": "d3d229b5", "dfnText": "opaque filtered response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-filtered-response-opaque" }], "title": "6.4. Cross-Origin Resources and CORS" }], "url": "https://fetch.spec.whatwg.org/#concept-filtered-response-opaque" },
        "d438bc09": { "dfnID": "d438bc09", "dfnText": "set up", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-set-up" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestream-set-up" },
        "d5434eef": { "dfnID": "d5434eef", "dfnText": "contains", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-header-list-contains" }], "title": "Request Matches Cached Item" }], "url": "https://fetch.spec.whatwg.org/#header-list-contains" },
        "d7af7adc": { "dfnID": "d7af7adc", "dfnText": "incumbent settings object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-incumbent-settings-object" }], "title": "3.1.5. postMessage(message, options)" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#incumbent-settings-object" },
        "d841e977": { "dfnID": "d841e977", "dfnText": "coarsened shared current time", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dfn-coarsened-shared-current-time" }, { "id": "ref-for-dfn-coarsened-shared-current-time\u2460" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://www.w3.org/TR/hr-time-3/#dfn-coarsened-shared-current-time" },
        "d9482602": { "dfnID": "d9482602", "dfnText": "handleEvent(event)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-eventlistener-handleevent" }, { "id": "ref-for-dom-eventlistener-handleevent\u2460" }], "title": "All Fetch Listeners Are Empty" }], "url": "https://dom.spec.whatwg.org/#dom-eventlistener-handleevent" },
        "dacc9b46": { "dfnID": "dacc9b46", "dfnText": "CORS filtered response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-filtered-response-cors" }], "title": "6.4. Cross-Origin Resources and CORS" }], "url": "https://fetch.spec.whatwg.org/#concept-filtered-response-cors" },
        "dacde8b5": { "dfnID": "dacde8b5", "dfnText": "a new promise", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-a-new-promise" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-a-new-promise\u2461" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-a-new-promise\u2462" }], "title": "3.6.1. enable()" }, { "refs": [{ "id": "ref-for-a-new-promise\u2463" }], "title": "3.6.2. disable()" }, { "refs": [{ "id": "ref-for-a-new-promise\u2464" }], "title": "3.6.3. setHeaderValue(value)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2465" }], "title": "3.6.4. getState()" }, { "refs": [{ "id": "ref-for-a-new-promise\u2466" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2467" }], "title": "5.4.1. match(request, options)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2468" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u24ea" }, { "id": "ref-for-a-new-promise\u2460\u2460" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2461" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2462" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2463" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2464" }], "title": "5.5.1. match(request, options)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2465" }], "title": "5.5.2. has(cacheName)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2466" }], "title": "5.5.3. open(cacheName)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2467" }], "title": "5.5.4. delete(cacheName)" }, { "refs": [{ "id": "ref-for-a-new-promise\u2460\u2468" }], "title": "5.5.5. keys()" }, { "refs": [{ "id": "ref-for-a-new-promise\u2461\u24ea" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
        "dae0bfde": { "dfnID": "dae0bfde", "dfnText": "serialization of an origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-ascii-serialisation-of-an-origin" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-ascii-serialisation-of-an-origin\u2460" }], "title": "4.2.6. postMessage(message, options)" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" },
        "db8aa4d8": { "dfnID": "db8aa4d8", "dfnText": "stream", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-body-stream" }, { "id": "ref-for-concept-body-stream\u2460" }, { "id": "ref-for-concept-body-stream\u2461" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-concept-body-stream\u2462" }], "title": "5.4.5. put(request, response)" }], "url": "https://fetch.spec.whatwg.org/#concept-body-stream" },
        "dc1cd39b": { "dfnID": "dc1cd39b", "dfnText": "URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-url" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-concept-request-url\u2460" }, { "id": "ref-for-concept-request-url\u2461" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-request-url\u2462" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-concept-request-url\u2463" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-concept-request-url\u2464" }, { "id": "ref-for-concept-request-url\u2465" }, { "id": "ref-for-concept-request-url\u2466" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-request-url\u2467" }, { "id": "ref-for-concept-request-url\u2468" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-request-url\u2460\u24ea" }], "title": "Match Router Condition" }, { "refs": [{ "id": "ref-for-concept-request-url\u2460\u2460" }, { "id": "ref-for-concept-request-url\u2460\u2461" }], "title": "Request Matches Cached Item" }, { "refs": [{ "id": "ref-for-concept-request-url\u2460\u2462" }], "title": "Batch Cache Operations" }, { "refs": [{ "id": "ref-for-concept-request-url\u2460\u2463" }], "title": "Lookup Race Response" }], "url": "https://fetch.spec.whatwg.org/#concept-request-url" },
        "dc248371": { "dfnID": "dc248371", "dfnText": "owner set", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-WorkerGlobalScope-owner-set" }, { "id": "ref-for-concept-WorkerGlobalScope-owner-set\u2460" }], "title": "2.5.2. The worker client case" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-WorkerGlobalScope-owner-set" },
        "dca2de17": { "dfnID": "dca2de17", "dfnText": "DOMException", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-DOMException" }, { "id": "ref-for-idl-DOMException\u2460" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2462" }], "title": "3.6.1. enable()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2463" }], "title": "3.6.2. disable()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2464" }], "title": "3.6.3. setHeaderValue(value)" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2465" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2466" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2467" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2468" }, { "id": "ref-for-idl-DOMException\u2460\u24ea" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460\u2460" }, { "id": "ref-for-idl-DOMException\u2460\u2461" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460\u2462" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460\u2463" }], "title": "5.5.3. open(cacheName)" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460\u2464" }, { "id": "ref-for-idl-DOMException\u2460\u2465" }, { "id": "ref-for-idl-DOMException\u2460\u2466" }], "title": "Register" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2460\u2467" }, { "id": "ref-for-idl-DOMException\u2460\u2468" }, { "id": "ref-for-idl-DOMException\u2461\u24ea" }], "title": "Update" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461\u2460" }, { "id": "ref-for-idl-DOMException\u2461\u2461" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461\u2462" }], "title": "Unregister" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461\u2463" }, { "id": "ref-for-idl-DOMException\u2461\u2464" }], "title": "Resolve Get Client Promise" }, { "refs": [{ "id": "ref-for-idl-DOMException\u2461\u2465" }, { "id": "ref-for-idl-DOMException\u2461\u2466" }], "title": "Batch Cache Operations" }], "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
        "dcf5fafa": { "dfnID": "dcf5fafa", "dfnText": "FrozenArray", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-frozen-array" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-idl-frozen-array\u2460" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-idl-frozen-array\u2461" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-idl-frozen-array\u2462" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-idl-frozen-array\u2463" }, { "id": "ref-for-idl-frozen-array\u2464" }], "title": "5.4. Cache" }], "url": "https://webidl.spec.whatwg.org/#idl-frozen-array" },
        "dcffbccd": { "dfnID": "dcffbccd", "dfnText": "URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url" }, { "id": "ref-for-concept-url\u2460" }, { "id": "ref-for-concept-url\u2461" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-concept-url\u2462" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-concept-url\u2463" }, { "id": "ref-for-concept-url\u2464" }, { "id": "ref-for-concept-url\u2465" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-concept-url\u2466" }, { "id": "ref-for-concept-url\u2467" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-concept-url\u2468" }, { "id": "ref-for-concept-url\u2460\u24ea" }, { "id": "ref-for-concept-url\u2460\u2460" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-concept-url\u2460\u2461" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-url\u2460\u2462" }], "title": "Set Registration" }, { "refs": [{ "id": "ref-for-concept-url\u2460\u2463" }], "title": "Match Service Worker Registration" }, { "refs": [{ "id": "ref-for-concept-url\u2460\u2464" }], "title": "Get Registration" }, { "refs": [{ "id": "ref-for-concept-url\u2460\u2465" }, { "id": "ref-for-concept-url\u2460\u2466" }], "title": "Is Async Module" }], "url": "https://url.spec.whatwg.org/#concept-url" },
        "dd460c8e": { "dfnID": "dd460c8e", "dfnText": "is not empty", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-list-is-empty" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-list-is-empty\u2460" }], "title": "Run Job" }, { "refs": [{ "id": "ref-for-list-is-empty\u2461" }], "title": "Finish Job" }, { "refs": [{ "id": "ref-for-list-is-empty\u2462" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-list-is-empty\u2463" }], "title": "Batch Cache Operations" }], "url": "https://infra.spec.whatwg.org/#list-is-empty" },
        "dd6462cb": { "dfnID": "dd6462cb", "dfnText": "script", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-script" }], "title": "2.1. Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-script" },
        "de1558f6": { "dfnID": "de1558f6", "dfnText": "reading all bytes", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestreamdefaultreader-read-all-bytes" }], "title": "5.4.5. put(request, response)" }], "url": "https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-all-bytes" },
        "de82addd": { "dfnID": "de82addd", "dfnText": "filtered response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-filtered-response" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://fetch.spec.whatwg.org/#concept-filtered-response" },
        "df16744f": { "dfnID": "df16744f", "dfnText": "MessagePort", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-messageport" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-messageport\u2460" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-messageport\u2461" }, { "id": "ref-for-messageport\u2462" }, { "id": "ref-for-messageport\u2463" }, { "id": "ref-for-messageport\u2464" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-messageport\u2465" }], "title": "4.7.5. event.ports" }], "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" },
        "dfn-active-worker": { "dfnID": "dfn-active-worker", "dfnText": "active worker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-active-worker" }, { "id": "ref-for-dfn-active-worker\u2460" }, { "id": "ref-for-dfn-active-worker\u2461" }, { "id": "ref-for-dfn-active-worker\u2462" }, { "id": "ref-for-dfn-active-worker\u2463" }, { "id": "ref-for-dfn-active-worker\u2464" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2465" }], "title": "2.7. User Agent Shutdown" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2466" }, { "id": "ref-for-dfn-active-worker\u2467" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2468" }, { "id": "ref-for-dfn-active-worker\u2460\u24ea" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2460\u2460" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2460\u2461" }], "title": "3.6.1. enable()" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2460\u2462" }], "title": "3.6.2. disable()" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2460\u2463" }], "title": "3.6.3. setHeaderValue(value)" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2460\u2464" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2460\u2465" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2460\u2466" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2460\u2467" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2460\u2468" }], "title": "7.4. Firing Functional Events" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2461\u24ea" }, { "id": "ref-for-dfn-active-worker\u2461\u2460" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2461\u2461" }, { "id": "ref-for-dfn-active-worker\u2461\u2462" }, { "id": "ref-for-dfn-active-worker\u2461\u2463" }, { "id": "ref-for-dfn-active-worker\u2461\u2464" }, { "id": "ref-for-dfn-active-worker\u2461\u2465" }, { "id": "ref-for-dfn-active-worker\u2461\u2466" }, { "id": "ref-for-dfn-active-worker\u2461\u2467" }, { "id": "ref-for-dfn-active-worker\u2461\u2468" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2462\u24ea" }, { "id": "ref-for-dfn-active-worker\u2462\u2460" }, { "id": "ref-for-dfn-active-worker\u2462\u2461" }, { "id": "ref-for-dfn-active-worker\u2462\u2462" }], "title": "Try Activate" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2462\u2463" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2462\u2464" }, { "id": "ref-for-dfn-active-worker\u2462\u2465" }, { "id": "ref-for-dfn-active-worker\u2462\u2466" }, { "id": "ref-for-dfn-active-worker\u2462\u2467" }, { "id": "ref-for-dfn-active-worker\u2462\u2468" }, { "id": "ref-for-dfn-active-worker\u2463\u24ea" }, { "id": "ref-for-dfn-active-worker\u2463\u2460" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2463\u2461" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2463\u2462" }, { "id": "ref-for-dfn-active-worker\u2463\u2463" }, { "id": "ref-for-dfn-active-worker\u2463\u2464" }], "title": "Fire Functional Event" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2463\u2465" }], "title": "Handle User Agent Shutdown" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2463\u2466" }, { "id": "ref-for-dfn-active-worker\u2463\u2467" }, { "id": "ref-for-dfn-active-worker\u2463\u2468" }], "title": "Clear Registration" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2464\u24ea" }, { "id": "ref-for-dfn-active-worker\u2464\u2460" }], "title": "Try Clear Registration" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2464\u2461" }, { "id": "ref-for-dfn-active-worker\u2464\u2462" }, { "id": "ref-for-dfn-active-worker\u2464\u2463" }], "title": "Update Registration State" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2464\u2464" }, { "id": "ref-for-dfn-active-worker\u2464\u2465" }], "title": "Get Newest Worker" }, { "refs": [{ "id": "ref-for-dfn-active-worker\u2464\u2466" }], "title": "Lookup Race Response" }], "url": "#dfn-active-worker" },
        "dfn-bad-import-script-response": { "dfnID": "dfn-bad-import-script-response", "dfnText": "bad import script response", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-bad-import-script-response" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-dfn-bad-import-script-response\u2460" }], "title": "Update" }], "url": "#dfn-bad-import-script-response" },
        "dfn-cache-batch-operation": { "dfnID": "dfn-cache-batch-operation", "dfnText": "cache batch operation", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-cache-batch-operation" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation\u2461" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation\u2462" }], "title": "Batch Cache Operations" }], "url": "#dfn-cache-batch-operation" },
        "dfn-cache-batch-operation-options": { "dfnID": "dfn-cache-batch-operation-options", "dfnText": "options", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-cache-batch-operation-options" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation-options\u2460" }, { "id": "ref-for-dfn-cache-batch-operation-options\u2461" }, { "id": "ref-for-dfn-cache-batch-operation-options\u2462" }], "title": "Batch Cache Operations" }], "url": "#dfn-cache-batch-operation-options" },
        "dfn-cache-batch-operation-request": { "dfnID": "dfn-cache-batch-operation-request", "dfnText": "request", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-cache-batch-operation-request" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation-request\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation-request\u2461" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation-request\u2462" }, { "id": "ref-for-dfn-cache-batch-operation-request\u2463" }, { "id": "ref-for-dfn-cache-batch-operation-request\u2464" }, { "id": "ref-for-dfn-cache-batch-operation-request\u2465" }, { "id": "ref-for-dfn-cache-batch-operation-request\u2466" }, { "id": "ref-for-dfn-cache-batch-operation-request\u2467" }, { "id": "ref-for-dfn-cache-batch-operation-request\u2468" }], "title": "Batch Cache Operations" }], "url": "#dfn-cache-batch-operation-request" },
        "dfn-cache-batch-operation-response": { "dfnID": "dfn-cache-batch-operation-response", "dfnText": "response", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-cache-batch-operation-response" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation-response\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation-response\u2461" }, { "id": "ref-for-dfn-cache-batch-operation-response\u2462" }, { "id": "ref-for-dfn-cache-batch-operation-response\u2463" }, { "id": "ref-for-dfn-cache-batch-operation-response\u2464" }, { "id": "ref-for-dfn-cache-batch-operation-response\u2465" }], "title": "Batch Cache Operations" }], "url": "#dfn-cache-batch-operation-response" },
        "dfn-cache-batch-operation-type": { "dfnID": "dfn-cache-batch-operation-type", "dfnText": "type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-cache-batch-operation-type" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation-type\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation-type\u2461" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-dfn-cache-batch-operation-type\u2462" }, { "id": "ref-for-dfn-cache-batch-operation-type\u2463" }, { "id": "ref-for-dfn-cache-batch-operation-type\u2464" }, { "id": "ref-for-dfn-cache-batch-operation-type\u2465" }], "title": "Batch Cache Operations" }], "url": "#dfn-cache-batch-operation-type" },
        "dfn-classic-scripts-imported-flag": { "dfnID": "dfn-classic-scripts-imported-flag", "dfnText": "classic scripts imported flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-classic-scripts-imported-flag" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-dfn-classic-scripts-imported-flag\u2460" }], "title": "Update" }], "url": "#dfn-classic-scripts-imported-flag" },
        "dfn-client-message-queue": { "dfnID": "dfn-client-message-queue", "dfnText": "client message queue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-client-message-queue" }, { "id": "ref-for-dfn-client-message-queue\u2460" }, { "id": "ref-for-dfn-client-message-queue\u2461" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-dfn-client-message-queue\u2462" }], "title": "3.4.6. startMessages()" }, { "refs": [{ "id": "ref-for-dfn-client-message-queue\u2463" }], "title": "3.4.7. Event handlers" }, { "refs": [{ "id": "ref-for-dfn-client-message-queue\u2464" }], "title": "4.2.6. postMessage(message, options)" }], "url": "#dfn-client-message-queue" },
        "dfn-containing-job-queue": { "dfnID": "dfn-containing-job-queue", "dfnText": "containing job queue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-containing-job-queue" }, { "id": "ref-for-dfn-containing-job-queue\u2460" }], "title": "Schedule Job" }, { "refs": [{ "id": "ref-for-dfn-containing-job-queue\u2461" }], "title": "Finish Job" }], "url": "#dfn-containing-job-queue" },
        "dfn-containing-service-worker-registration": { "dfnID": "dfn-containing-service-worker-registration", "dfnText": "containing service worker registration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration" }], "title": "2.5. Control and Use" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2460" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2461" }], "title": "4.1.2. registration" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2462" }, { "id": "ref-for-dfn-containing-service-worker-registration\u2463" }, { "id": "ref-for-dfn-containing-service-worker-registration\u2464" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2465" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2466" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2467" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2468" }, { "id": "ref-for-dfn-containing-service-worker-registration\u2460\u24ea" }, { "id": "ref-for-dfn-containing-service-worker-registration\u2460\u2460" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2460\u2461" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2460\u2462" }, { "id": "ref-for-dfn-containing-service-worker-registration\u2460\u2463" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2460\u2464" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2460\u2465" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2460\u2466" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2460\u2467" }, { "id": "ref-for-dfn-containing-service-worker-registration\u2460\u2468" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-dfn-containing-service-worker-registration\u2461\u24ea" }], "title": "Lookup Race Response" }], "url": "#dfn-containing-service-worker-registration" },
        "dfn-control": { "dfnID": "dfn-control", "dfnText": "controlled", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-control" }], "title": "2.5. Control and Use" }, { "refs": [{ "id": "ref-for-dfn-control\u2460" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-dfn-control\u2461" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-dfn-control\u2462" }], "title": "Service Worker Script Response" }], "url": "#dfn-control" },
        "dfn-count-router-condition-result": { "dfnID": "dfn-count-router-condition-result", "dfnText": "count router condition result", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-count-router-condition-result" }], "title": "Check Router Registration Limit" }, { "refs": [{ "id": "ref-for-dfn-count-router-condition-result\u2460" }, { "id": "ref-for-dfn-count-router-condition-result\u2461" }], "title": "Count Router Inner Conditions" }], "url": "#dfn-count-router-condition-result" },
        "dfn-count-router-condition-result-condition-count": { "dfnID": "dfn-count-router-condition-result-condition-count", "dfnText": "condition count", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-count-router-condition-result-condition-count" }], "title": "Check Router Registration Limit" }, { "refs": [{ "id": "ref-for-dfn-count-router-condition-result-condition-count\u2460" }, { "id": "ref-for-dfn-count-router-condition-result-condition-count\u2461" }], "title": "Count Router Inner Conditions" }], "url": "#dfn-count-router-condition-result-condition-count" },
        "dfn-dedicatedworker-client": { "dfnID": "dfn-dedicatedworker-client", "dfnText": "dedicated worker client", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-dedicatedworker-client" }], "title": "2.4. Service Worker Client" }, { "refs": [{ "id": "ref-for-dfn-dedicatedworker-client\u2460" }], "title": "4.2.4. type" }, { "refs": [{ "id": "ref-for-dfn-dedicatedworker-client\u2461" }], "title": "4.3.2. matchAll(options)" }], "url": "#dfn-dedicatedworker-client" },
        "dfn-dfn-count-router-condition-result-quota-exceeded": { "dfnID": "dfn-dfn-count-router-condition-result-quota-exceeded", "dfnText": "quota exceeded", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-dfn-count-router-condition-result-quota-exceeded" }, { "id": "ref-for-dfn-dfn-count-router-condition-result-quota-exceeded\u2460" }], "title": "Check Router Registration Limit" }, { "refs": [{ "id": "ref-for-dfn-dfn-count-router-condition-result-quota-exceeded\u2461" }, { "id": "ref-for-dfn-dfn-count-router-condition-result-quota-exceeded\u2462" }, { "id": "ref-for-dfn-dfn-count-router-condition-result-quota-exceeded\u2463" }], "title": "Count Router Inner Conditions" }], "url": "#dfn-dfn-count-router-condition-result-quota-exceeded" },
        "dfn-functional-events": { "dfnID": "dfn-functional-events", "dfnText": "Functional events", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-functional-events" }], "title": "2.6. Task Sources" }, { "refs": [{ "id": "ref-for-dfn-functional-events\u2460" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-dfn-functional-events\u2461" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-dfn-functional-events\u2462" }, { "id": "ref-for-dfn-functional-events\u2463" }, { "id": "ref-for-dfn-functional-events\u2464" }, { "id": "ref-for-dfn-functional-events\u2465" }, { "id": "ref-for-dfn-functional-events\u2466" }, { "id": "ref-for-dfn-functional-events\u2467" }, { "id": "ref-for-dfn-functional-events\u2468" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-dfn-functional-events\u2460\u24ea" }], "title": "7.2. Define Functional Event" }, { "refs": [{ "id": "ref-for-dfn-functional-events\u2460\u2460" }], "title": "7.3. Define Event Handler" }, { "refs": [{ "id": "ref-for-dfn-functional-events\u2460\u2461" }], "title": "7.4. Firing Functional Events" }], "url": "#dfn-functional-events" },
        "dfn-handle-fetch-task-source": { "dfnID": "dfn-handle-fetch-task-source", "dfnText": "handle fetch task source", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-handle-fetch-task-source" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-handle-fetch-task-source\u2460" }, { "id": "ref-for-dfn-handle-fetch-task-source\u2461" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-dfn-handle-fetch-task-source\u2462" }], "title": "Create Fetch Event and Dispatch" }], "url": "#dfn-handle-fetch-task-source" },
        "dfn-handle-functional-event-task-source": { "dfnID": "dfn-handle-functional-event-task-source", "dfnText": "handle functional event task source", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-handle-functional-event-task-source" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-handle-functional-event-task-source\u2460" }, { "id": "ref-for-dfn-handle-functional-event-task-source\u2461" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-dfn-handle-functional-event-task-source\u2462" }], "title": "Fire Functional Event" }], "url": "#dfn-handle-functional-event-task-source" },
        "dfn-has-ever-been-evaluated-flag": { "dfnID": "dfn-has-ever-been-evaluated-flag", "dfnText": "has ever been evaluated flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-has-ever-been-evaluated-flag" }, { "id": "ref-for-dfn-has-ever-been-evaluated-flag\u2460" }], "title": "Run Service Worker" }], "url": "#dfn-has-ever-been-evaluated-flag" },
        "dfn-installing-worker": { "dfnID": "dfn-installing-worker", "dfnText": "installing worker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-installing-worker" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-installing-worker\u2460" }, { "id": "ref-for-dfn-installing-worker\u2461" }], "title": "2.7. User Agent Shutdown" }, { "refs": [{ "id": "ref-for-dfn-installing-worker\u2462" }, { "id": "ref-for-dfn-installing-worker\u2463" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-dfn-installing-worker\u2464" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-dfn-installing-worker\u2465" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-dfn-installing-worker\u2466" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-dfn-installing-worker\u2467" }, { "id": "ref-for-dfn-installing-worker\u2468" }, { "id": "ref-for-dfn-installing-worker\u2460\u24ea" }, { "id": "ref-for-dfn-installing-worker\u2460\u2460" }, { "id": "ref-for-dfn-installing-worker\u2460\u2461" }, { "id": "ref-for-dfn-installing-worker\u2460\u2462" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dfn-installing-worker\u2460\u2463" }, { "id": "ref-for-dfn-installing-worker\u2460\u2464" }], "title": "Handle User Agent Shutdown" }, { "refs": [{ "id": "ref-for-dfn-installing-worker\u2460\u2465" }, { "id": "ref-for-dfn-installing-worker\u2460\u2466" }, { "id": "ref-for-dfn-installing-worker\u2460\u2467" }], "title": "Clear Registration" }, { "refs": [{ "id": "ref-for-dfn-installing-worker\u2460\u2468" }, { "id": "ref-for-dfn-installing-worker\u2461\u24ea" }], "title": "Try Clear Registration" }, { "refs": [{ "id": "ref-for-dfn-installing-worker\u2461\u2460" }, { "id": "ref-for-dfn-installing-worker\u2461\u2461" }, { "id": "ref-for-dfn-installing-worker\u2461\u2462" }], "title": "Update Registration State" }, { "refs": [{ "id": "ref-for-dfn-installing-worker\u2461\u2463" }, { "id": "ref-for-dfn-installing-worker\u2461\u2464" }], "title": "Get Newest Worker" }], "url": "#dfn-installing-worker" },
        "dfn-job": { "dfnID": "dfn-job", "dfnText": "job", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job" }, { "id": "ref-for-dfn-job\u2460" }, { "id": "ref-for-dfn-job\u2461" }, { "id": "ref-for-dfn-job\u2462" }, { "id": "ref-for-dfn-job\u2463" }, { "id": "ref-for-dfn-job\u2464" }, { "id": "ref-for-dfn-job\u2465" }, { "id": "ref-for-dfn-job\u2466" }, { "id": "ref-for-dfn-job\u2467" }, { "id": "ref-for-dfn-job\u2468" }, { "id": "ref-for-dfn-job\u2460\u24ea" }, { "id": "ref-for-dfn-job\u2460\u2460" }, { "id": "ref-for-dfn-job\u2460\u2461" }, { "id": "ref-for-dfn-job\u2460\u2462" }, { "id": "ref-for-dfn-job\u2460\u2463" }, { "id": "ref-for-dfn-job\u2460\u2464" }, { "id": "ref-for-dfn-job\u2460\u2465" }, { "id": "ref-for-dfn-job\u2460\u2466" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-dfn-job\u2460\u2467" }, { "id": "ref-for-dfn-job\u2460\u2468" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-dfn-job\u2461\u24ea" }], "title": "Schedule Job" }, { "refs": [{ "id": "ref-for-dfn-job\u2461\u2460" }], "title": "Finish Job" }, { "refs": [{ "id": "ref-for-dfn-job\u2461\u2461" }], "title": "Resolve Job Promise" }, { "refs": [{ "id": "ref-for-dfn-job\u2461\u2462" }], "title": "Reject Job Promise" }, { "refs": [{ "id": "ref-for-dfn-job\u2461\u2463" }], "title": "Register" }, { "refs": [{ "id": "ref-for-dfn-job\u2461\u2464" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-job\u2461\u2465" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dfn-job\u2461\u2466" }], "title": "Unregister" }], "url": "#dfn-job" },
        "dfn-job-client": { "dfnID": "dfn-job-client", "dfnText": "client", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job-client" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-dfn-job-client\u2460" }, { "id": "ref-for-dfn-job-client\u2461" }, { "id": "ref-for-dfn-job-client\u2462" }, { "id": "ref-for-dfn-job-client\u2463" }, { "id": "ref-for-dfn-job-client\u2464" }, { "id": "ref-for-dfn-job-client\u2465" }, { "id": "ref-for-dfn-job-client\u2466" }, { "id": "ref-for-dfn-job-client\u2467" }], "title": "Resolve Job Promise" }, { "refs": [{ "id": "ref-for-dfn-job-client\u2468" }, { "id": "ref-for-dfn-job-client\u2460\u24ea" }, { "id": "ref-for-dfn-job-client\u2460\u2460" }, { "id": "ref-for-dfn-job-client\u2460\u2461" }, { "id": "ref-for-dfn-job-client\u2460\u2462" }, { "id": "ref-for-dfn-job-client\u2460\u2463" }], "title": "Reject Job Promise" }, { "refs": [{ "id": "ref-for-dfn-job-client\u2460\u2464" }, { "id": "ref-for-dfn-job-client\u2460\u2465" }, { "id": "ref-for-dfn-job-client\u2460\u2466" }, { "id": "ref-for-dfn-job-client\u2460\u2467" }, { "id": "ref-for-dfn-job-client\u2460\u2468" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-job-client\u2461\u24ea" }], "title": "Unregister" }], "url": "#dfn-job-client" },
        "dfn-job-equivalent": { "dfnID": "dfn-job-equivalent", "dfnText": "equivalent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job-equivalent" }], "title": "Schedule Job" }], "url": "#dfn-job-equivalent" },
        "dfn-job-force-bypass-cache-flag": { "dfnID": "dfn-job-force-bypass-cache-flag", "dfnText": "force bypass cache flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job-force-bypass-cache-flag" }, { "id": "ref-for-dfn-job-force-bypass-cache-flag\u2460" }, { "id": "ref-for-dfn-job-force-bypass-cache-flag\u2461" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-job-force-bypass-cache-flag\u2462" }], "title": "Soft Update" }, { "refs": [{ "id": "ref-for-dfn-job-force-bypass-cache-flag\u2463" }], "title": "Install" }], "url": "#dfn-job-force-bypass-cache-flag" },
        "dfn-job-list-of-equivalent-jobs": { "dfnID": "dfn-job-list-of-equivalent-jobs", "dfnText": "list of equivalent jobs", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job-list-of-equivalent-jobs" }], "title": "Schedule Job" }, { "refs": [{ "id": "ref-for-dfn-job-list-of-equivalent-jobs\u2460" }], "title": "Resolve Job Promise" }, { "refs": [{ "id": "ref-for-dfn-job-list-of-equivalent-jobs\u2461" }], "title": "Reject Job Promise" }], "url": "#dfn-job-list-of-equivalent-jobs" },
        "dfn-job-promise": { "dfnID": "dfn-job-promise", "dfnText": "job promise", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job-promise" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-dfn-job-promise\u2460" }], "title": "Schedule Job" }, { "refs": [{ "id": "ref-for-dfn-job-promise\u2461" }, { "id": "ref-for-dfn-job-promise\u2462" }], "title": "Resolve Job Promise" }, { "refs": [{ "id": "ref-for-dfn-job-promise\u2463" }, { "id": "ref-for-dfn-job-promise\u2464" }], "title": "Reject Job Promise" }, { "refs": [{ "id": "ref-for-dfn-job-promise\u2465" }], "title": "Install" }], "url": "#dfn-job-promise" },
        "dfn-job-queue": { "dfnID": "dfn-job-queue", "dfnText": "job queue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job-queue" }, { "id": "ref-for-dfn-job-queue\u2460" }, { "id": "ref-for-dfn-job-queue\u2461" }, { "id": "ref-for-dfn-job-queue\u2462" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-dfn-job-queue\u2463" }], "title": "Schedule Job" }, { "refs": [{ "id": "ref-for-dfn-job-queue\u2464" }], "title": "Run Job" }], "url": "#dfn-job-queue" },
        "dfn-job-scope-url": { "dfnID": "dfn-job-scope-url", "dfnText": "scope url", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job-scope-url" }, { "id": "ref-for-dfn-job-scope-url\u2460" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-dfn-job-scope-url\u2461" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-dfn-job-scope-url\u2462" }], "title": "Schedule Job" }, { "refs": [{ "id": "ref-for-dfn-job-scope-url\u2463" }, { "id": "ref-for-dfn-job-scope-url\u2464" }, { "id": "ref-for-dfn-job-scope-url\u2465" }], "title": "Register" }, { "refs": [{ "id": "ref-for-dfn-job-scope-url\u2466" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-job-scope-url\u2467" }, { "id": "ref-for-dfn-job-scope-url\u2468" }, { "id": "ref-for-dfn-job-scope-url\u2460\u24ea" }], "title": "Unregister" }], "url": "#dfn-job-scope-url" },
        "dfn-job-script-url": { "dfnID": "dfn-job-script-url", "dfnText": "script url", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job-script-url" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-dfn-job-script-url\u2460" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-dfn-job-script-url\u2461" }, { "id": "ref-for-dfn-job-script-url\u2462" }, { "id": "ref-for-dfn-job-script-url\u2463" }], "title": "Register" }, { "refs": [{ "id": "ref-for-dfn-job-script-url\u2464" }, { "id": "ref-for-dfn-job-script-url\u2465" }, { "id": "ref-for-dfn-job-script-url\u2466" }, { "id": "ref-for-dfn-job-script-url\u2467" }, { "id": "ref-for-dfn-job-script-url\u2468" }, { "id": "ref-for-dfn-job-script-url\u2460\u24ea" }, { "id": "ref-for-dfn-job-script-url\u2460\u2460" }], "title": "Update" }], "url": "#dfn-job-script-url" },
        "dfn-job-type": { "dfnID": "dfn-job-type", "dfnText": "job type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job-type" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-dfn-job-type\u2460" }, { "id": "ref-for-dfn-job-type\u2461" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-dfn-job-type\u2462" }, { "id": "ref-for-dfn-job-type\u2463" }, { "id": "ref-for-dfn-job-type\u2464" }], "title": "Run Job" }, { "refs": [{ "id": "ref-for-dfn-job-type\u2465" }, { "id": "ref-for-dfn-job-type\u2466" }], "title": "Resolve Job Promise" }, { "refs": [{ "id": "ref-for-dfn-job-type\u2467" }], "title": "Update" }], "url": "#dfn-job-type" },
        "dfn-job-update-via-cache-mode": { "dfnID": "dfn-job-update-via-cache-mode", "dfnText": "update via cache mode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job-update-via-cache-mode" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-dfn-job-update-via-cache-mode\u2460" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-dfn-job-update-via-cache-mode\u2461" }, { "id": "ref-for-dfn-job-update-via-cache-mode\u2462" }], "title": "Register" }, { "refs": [{ "id": "ref-for-dfn-job-update-via-cache-mode\u2463" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-job-update-via-cache-mode\u2464" }], "title": "Install" }], "url": "#dfn-job-update-via-cache-mode" },
        "dfn-job-worker-type": { "dfnID": "dfn-job-worker-type", "dfnText": "worker type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-job-worker-type" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-dfn-job-worker-type\u2460" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-dfn-job-worker-type\u2461" }, { "id": "ref-for-dfn-job-worker-type\u2462" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-dfn-job-worker-type\u2463" }], "title": "Register" }, { "refs": [{ "id": "ref-for-dfn-job-worker-type\u2464" }, { "id": "ref-for-dfn-job-worker-type\u2465" }, { "id": "ref-for-dfn-job-worker-type\u2466" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-job-worker-type\u2467" }], "title": "Soft Update" }], "url": "#dfn-job-worker-type" },
        "dfn-last-update-check-time": { "dfnID": "dfn-last-update-check-time", "dfnText": "last update check time", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-last-update-check-time" }, { "id": "ref-for-dfn-last-update-check-time\u2460" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-last-update-check-time\u2461" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-dfn-last-update-check-time\u2462" }, { "id": "ref-for-dfn-last-update-check-time\u2463" }], "title": "Update" }], "url": "#dfn-last-update-check-time" },
        "dfn-lifecycle-events": { "dfnID": "dfn-lifecycle-events", "dfnText": "Lifecycle events", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-lifecycle-events" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-dfn-lifecycle-events\u2460" }, { "id": "ref-for-dfn-lifecycle-events\u2461" }], "title": "4.8. Events" }], "url": "#dfn-lifecycle-events" },
        "dfn-name-to-cache-map": { "dfnID": "dfn-name-to-cache-map", "dfnText": "name to cache map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-name-to-cache-map" }, { "id": "ref-for-dfn-name-to-cache-map\u2460" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-dfn-name-to-cache-map\u2461" }, { "id": "ref-for-dfn-name-to-cache-map\u2462" }], "title": "5.5. CacheStorage" }, { "refs": [{ "id": "ref-for-dfn-name-to-cache-map\u2463" }], "title": "5.5.5. keys()" }, { "refs": [{ "id": "ref-for-dfn-name-to-cache-map\u2464" }], "title": "6.8. Privacy" }, { "refs": [{ "id": "ref-for-dfn-name-to-cache-map\u2465" }], "title": "Handle Fetch" }], "url": "#dfn-name-to-cache-map" },
        "dfn-policy-container": { "dfnID": "dfn-policy-container", "dfnText": "policy container", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-policy-container" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-policy-container\u2460" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "#dfn-policy-container" },
        "dfn-race-response": { "dfnID": "dfn-race-response", "dfnText": "race response", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-race-response" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dfn-race-response\u2460" }, { "id": "ref-for-dfn-race-response\u2461" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-dfn-race-response\u2462" }], "title": "Create Fetch Event and Dispatch" }], "url": "#dfn-race-response" },
        "dfn-relevant-name-to-cache-map": { "dfnID": "dfn-relevant-name-to-cache-map", "dfnText": "relevant name to cache map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-relevant-name-to-cache-map" }, { "id": "ref-for-dfn-relevant-name-to-cache-map\u2460" }], "title": "5.5.1. match(request, options)" }, { "refs": [{ "id": "ref-for-dfn-relevant-name-to-cache-map\u2461" }], "title": "5.5.2. has(cacheName)" }, { "refs": [{ "id": "ref-for-dfn-relevant-name-to-cache-map\u2462" }, { "id": "ref-for-dfn-relevant-name-to-cache-map\u2463" }], "title": "5.5.3. open(cacheName)" }, { "refs": [{ "id": "ref-for-dfn-relevant-name-to-cache-map\u2464" }], "title": "5.5.4. delete(cacheName)" }, { "refs": [{ "id": "ref-for-dfn-relevant-name-to-cache-map\u2465" }], "title": "5.5.5. keys()" }], "url": "#dfn-relevant-name-to-cache-map" },
        "dfn-relevant-request-response-list": { "dfnID": "dfn-relevant-request-response-list", "dfnText": "relevant request response list", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-relevant-request-response-list" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-dfn-relevant-request-response-list\u2460" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-dfn-relevant-request-response-list\u2461" }], "title": "Query Cache" }, { "refs": [{ "id": "ref-for-dfn-relevant-request-response-list\u2462" }, { "id": "ref-for-dfn-relevant-request-response-list\u2463" }, { "id": "ref-for-dfn-relevant-request-response-list\u2464" }], "title": "Batch Cache Operations" }], "url": "#dfn-relevant-request-response-list" },
        "dfn-request-response-list": { "dfnID": "dfn-request-response-list", "dfnText": "request response list", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-request-response-list" }, { "id": "ref-for-dfn-request-response-list\u2460" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-dfn-request-response-list\u2461" }, { "id": "ref-for-dfn-request-response-list\u2462" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-dfn-request-response-list\u2463" }], "title": "5.5.3. open(cacheName)" }, { "refs": [{ "id": "ref-for-dfn-request-response-list\u2464" }], "title": "6.8. Privacy" }, { "refs": [{ "id": "ref-for-dfn-request-response-list\u2465" }, { "id": "ref-for-dfn-request-response-list\u2466" }], "title": "Query Cache" }, { "refs": [{ "id": "ref-for-dfn-request-response-list\u2467" }, { "id": "ref-for-dfn-request-response-list\u2468" }], "title": "Batch Cache Operations" }], "url": "#dfn-request-response-list" },
        "dfn-scope-to-job-queue-map": { "dfnID": "dfn-scope-to-job-queue-map", "dfnText": "scope to job queue map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-scope-to-job-queue-map" }, { "id": "ref-for-dfn-scope-to-job-queue-map\u2460" }, { "id": "ref-for-dfn-scope-to-job-queue-map\u2461" }], "title": "Schedule Job" }], "url": "#dfn-scope-to-job-queue-map" },
        "dfn-scope-to-registration-map": { "dfnID": "dfn-scope-to-registration-map", "dfnText": "registration map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-scope-to-registration-map" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-scope-to-registration-map\u2460" }], "title": "2.3.1. Lifetime" }, { "refs": [{ "id": "ref-for-dfn-scope-to-registration-map\u2461" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-dfn-scope-to-registration-map\u2462" }], "title": "6.8. Privacy" }, { "refs": [{ "id": "ref-for-dfn-scope-to-registration-map\u2463" }, { "id": "ref-for-dfn-scope-to-registration-map\u2464" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-scope-to-registration-map\u2465" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dfn-scope-to-registration-map\u2466" }], "title": "Handle User Agent Shutdown" }, { "refs": [{ "id": "ref-for-dfn-scope-to-registration-map\u2467" }], "title": "Unregister" }, { "refs": [{ "id": "ref-for-dfn-scope-to-registration-map\u2468" }], "title": "Set Registration" }, { "refs": [{ "id": "ref-for-dfn-scope-to-registration-map\u2460\u24ea" }], "title": "Match Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-scope-to-registration-map\u2460\u2460" }], "title": "Get Registration" }], "url": "#dfn-scope-to-registration-map" },
        "dfn-scope-url": { "dfnID": "dfn-scope-url", "dfnText": "scope url", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-scope-url" }, { "id": "ref-for-dfn-scope-url\u2460" }, { "id": "ref-for-dfn-scope-url\u2461" }, { "id": "ref-for-dfn-scope-url\u2462" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2463" }], "title": "2.3.1. Lifetime" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2464" }], "title": "3.2.6. scope" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2465" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2466" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2467" }, { "id": "ref-for-dfn-scope-url\u2468" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2460\u24ea" }], "title": "6.5. Path restriction" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2460\u2460" }, { "id": "ref-for-dfn-scope-url\u2460\u2461" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2460\u2462" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2460\u2463" }], "title": "Soft Update" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2460\u2464" }, { "id": "ref-for-dfn-scope-url\u2460\u2465" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2460\u2466" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2460\u2467" }], "title": "Set Registration" }, { "refs": [{ "id": "ref-for-dfn-scope-url\u2460\u2468" }], "title": "Service Worker Script Response" }], "url": "#dfn-scope-url" },
        "dfn-script-resource": { "dfnID": "dfn-script-resource", "dfnText": "script resource", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-script-resource" }, { "id": "ref-for-dfn-script-resource\u2460" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-dfn-script-resource\u2461" }, { "id": "ref-for-dfn-script-resource\u2462" }], "title": "6.2. Content Security Policy" }, { "refs": [{ "id": "ref-for-dfn-script-resource\u2463" }, { "id": "ref-for-dfn-script-resource\u2464" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-script-resource\u2465" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dfn-script-resource\u2466" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-dfn-script-resource\u2467" }, { "id": "ref-for-dfn-script-resource\u2468" }], "title": "Service Worker Script Request" }, { "refs": [{ "id": "ref-for-dfn-script-resource\u2460\u24ea" }], "title": "Service Worker Script Response" }, { "refs": [{ "id": "ref-for-dfn-script-resource\u2460\u2460" }], "title": "Syntax" }], "url": "#dfn-script-resource" },
        "dfn-script-resource-map": { "dfnID": "dfn-script-resource-map", "dfnText": "script resource map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-script-resource-map" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-dfn-script-resource-map\u2460" }], "title": "6.8. Privacy" }, { "refs": [{ "id": "ref-for-dfn-script-resource-map\u2461" }, { "id": "ref-for-dfn-script-resource-map\u2462" }, { "id": "ref-for-dfn-script-resource-map\u2463" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-script-resource-map\u2464" }], "title": "Install" }], "url": "#dfn-script-resource-map" },
        "dfn-script-url": { "dfnID": "dfn-script-url", "dfnText": "script url", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-script-url" }], "title": "3.1.2. scriptURL" }, { "refs": [{ "id": "ref-for-dfn-script-url\u2460" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-dfn-script-url\u2461" }], "title": "Register" }, { "refs": [{ "id": "ref-for-dfn-script-url\u2462" }, { "id": "ref-for-dfn-script-url\u2463" }, { "id": "ref-for-dfn-script-url\u2464" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-script-url\u2465" }], "title": "Soft Update" }, { "refs": [{ "id": "ref-for-dfn-script-url\u2466" }, { "id": "ref-for-dfn-script-url\u2467" }, { "id": "ref-for-dfn-script-url\u2468" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dfn-script-url\u2460\u24ea" }], "title": "Parse URL Pattern" }, { "refs": [{ "id": "ref-for-dfn-script-url\u2460\u2460" }], "title": "Update Worker State" }], "url": "#dfn-script-url" },
        "dfn-service-worker": { "dfnID": "dfn-service-worker", "dfnText": "service worker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker" }, { "id": "ref-for-dfn-service-worker\u2460" }, { "id": "ref-for-dfn-service-worker\u2461" }, { "id": "ref-for-dfn-service-worker\u2462" }, { "id": "ref-for-dfn-service-worker\u2463" }, { "id": "ref-for-dfn-service-worker\u2464" }, { "id": "ref-for-dfn-service-worker\u2465" }, { "id": "ref-for-dfn-service-worker\u2466" }, { "id": "ref-for-dfn-service-worker\u2467" }, { "id": "ref-for-dfn-service-worker\u2468" }, { "id": "ref-for-dfn-service-worker\u2460\u24ea" }, { "id": "ref-for-dfn-service-worker\u2460\u2460" }, { "id": "ref-for-dfn-service-worker\u2460\u2461" }, { "id": "ref-for-dfn-service-worker\u2460\u2462" }], "title": "1. Motivations" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u2463" }, { "id": "ref-for-dfn-service-worker\u2460\u2464" }, { "id": "ref-for-dfn-service-worker\u2460\u2465" }, { "id": "ref-for-dfn-service-worker\u2460\u2466" }, { "id": "ref-for-dfn-service-worker\u2460\u2467" }, { "id": "ref-for-dfn-service-worker\u2460\u2468" }, { "id": "ref-for-dfn-service-worker\u2461\u24ea" }, { "id": "ref-for-dfn-service-worker\u2461\u2460" }, { "id": "ref-for-dfn-service-worker\u2461\u2461" }, { "id": "ref-for-dfn-service-worker\u2461\u2462" }, { "id": "ref-for-dfn-service-worker\u2461\u2463" }, { "id": "ref-for-dfn-service-worker\u2461\u2464" }, { "id": "ref-for-dfn-service-worker\u2461\u2465" }, { "id": "ref-for-dfn-service-worker\u2461\u2466" }, { "id": "ref-for-dfn-service-worker\u2461\u2467" }, { "id": "ref-for-dfn-service-worker\u2461\u2468" }, { "id": "ref-for-dfn-service-worker\u2462\u24ea" }, { "id": "ref-for-dfn-service-worker\u2462\u2460" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2462\u2461" }, { "id": "ref-for-dfn-service-worker\u2462\u2462" }], "title": "2.1.1. Lifetime" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2462\u2463" }, { "id": "ref-for-dfn-service-worker\u2462\u2464" }, { "id": "ref-for-dfn-service-worker\u2462\u2465" }, { "id": "ref-for-dfn-service-worker\u2462\u2466" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2462\u2467" }, { "id": "ref-for-dfn-service-worker\u2462\u2468" }], "title": "2.5. Control and Use" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2463\u24ea" }, { "id": "ref-for-dfn-service-worker\u2463\u2460" }, { "id": "ref-for-dfn-service-worker\u2463\u2461" }], "title": "2.6. Task Sources" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2463\u2462" }], "title": "2.7. User Agent Shutdown" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2463\u2463" }, { "id": "ref-for-dfn-service-worker\u2463\u2464" }, { "id": "ref-for-dfn-service-worker\u2463\u2465" }, { "id": "ref-for-dfn-service-worker\u2463\u2466" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2463\u2467" }, { "id": "ref-for-dfn-service-worker\u2463\u2468" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2464\u24ea" }], "title": "3.1.2. scriptURL" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2464\u2460" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2464\u2461" }], "title": "3.2.2. installing" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2464\u2462" }], "title": "3.2.3. waiting" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2464\u2463" }], "title": "3.2.4. active" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2464\u2464" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2464\u2465" }, { "id": "ref-for-dfn-service-worker\u2464\u2466" }, { "id": "ref-for-dfn-service-worker\u2464\u2467" }, { "id": "ref-for-dfn-service-worker\u2464\u2468" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2465\u24ea" }, { "id": "ref-for-dfn-service-worker\u2465\u2460" }, { "id": "ref-for-dfn-service-worker\u2465\u2461" }, { "id": "ref-for-dfn-service-worker\u2465\u2462" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2465\u2463" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2465\u2464" }, { "id": "ref-for-dfn-service-worker\u2465\u2465" }, { "id": "ref-for-dfn-service-worker\u2465\u2466" }, { "id": "ref-for-dfn-service-worker\u2465\u2467" }, { "id": "ref-for-dfn-service-worker\u2465\u2468" }, { "id": "ref-for-dfn-service-worker\u2466\u24ea" }, { "id": "ref-for-dfn-service-worker\u2466\u2460" }, { "id": "ref-for-dfn-service-worker\u2466\u2461" }, { "id": "ref-for-dfn-service-worker\u2466\u2462" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2466\u2463" }, { "id": "ref-for-dfn-service-worker\u2466\u2464" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2466\u2465" }, { "id": "ref-for-dfn-service-worker\u2466\u2466" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2466\u2467" }, { "id": "ref-for-dfn-service-worker\u2466\u2468" }], "title": "5.2. Understanding Cache Lifetimes" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2467\u24ea" }, { "id": "ref-for-dfn-service-worker\u2467\u2460" }, { "id": "ref-for-dfn-service-worker\u2467\u2461" }, { "id": "ref-for-dfn-service-worker\u2467\u2462" }, { "id": "ref-for-dfn-service-worker\u2467\u2463" }], "title": "6.1. Secure Context" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2467\u2464" }], "title": "6.2. Content Security Policy" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2467\u2465" }, { "id": "ref-for-dfn-service-worker\u2467\u2466" }, { "id": "ref-for-dfn-service-worker\u2467\u2467" }], "title": "6.3.1. Origin restriction" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2467\u2468" }], "title": "6.4. Cross-Origin Resources and CORS" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2468\u24ea" }, { "id": "ref-for-dfn-service-worker\u2468\u2460" }, { "id": "ref-for-dfn-service-worker\u2468\u2461" }], "title": "6.7. Implementer Concerns" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2468\u2462" }, { "id": "ref-for-dfn-service-worker\u2468\u2463" }], "title": "6.8. Privacy" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2468\u2464" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2468\u2465" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2468\u2466" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2468\u2467" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2468\u2468" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea\u24ea" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea\u2460" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea\u2461" }], "title": "Parse URL Pattern" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea\u2462" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea\u2463" }], "title": "Match Router Condition" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea\u2464" }], "title": "Get Router Source" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea\u2465" }], "title": "Should Skip Event" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea\u2466" }], "title": "Update Service Worker Extended Events Set" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea\u2467" }], "title": "Update Registration State" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u24ea\u2468" }, { "id": "ref-for-dfn-service-worker\u2460\u2460\u24ea" }, { "id": "ref-for-dfn-service-worker\u2460\u2460\u2460" }], "title": "Update Worker State" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u2460\u2461" }], "title": "Get Newest Worker" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u2460\u2462" }], "title": "Service Worker Has No Pending Events" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u2460\u2463" }, { "id": "ref-for-dfn-service-worker\u2460\u2460\u2464" }], "title": "Service Worker Script Request" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u2460\u2465" }], "title": "Service Worker Script Response" }, { "refs": [{ "id": "ref-for-dfn-service-worker\u2460\u2460\u2466" }], "title": "Syntax" }], "url": "#dfn-service-worker" },
        "dfn-service-worker-client": { "dfnID": "dfn-service-worker-client", "dfnText": "service worker client", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-client" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2460" }], "title": "2.1.1. Lifetime" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2461" }], "title": "2.3.1. Lifetime" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2462" }, { "id": "ref-for-dfn-service-worker-client\u2463" }, { "id": "ref-for-dfn-service-worker-client\u2464" }, { "id": "ref-for-dfn-service-worker-client\u2465" }, { "id": "ref-for-dfn-service-worker-client\u2466" }, { "id": "ref-for-dfn-service-worker-client\u2467" }, { "id": "ref-for-dfn-service-worker-client\u2468" }, { "id": "ref-for-dfn-service-worker-client\u2460\u24ea" }, { "id": "ref-for-dfn-service-worker-client\u2460\u2460" }], "title": "2.4. Service Worker Client" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2460\u2461" }, { "id": "ref-for-dfn-service-worker-client\u2460\u2462" }, { "id": "ref-for-dfn-service-worker-client\u2460\u2463" }, { "id": "ref-for-dfn-service-worker-client\u2460\u2464" }, { "id": "ref-for-dfn-service-worker-client\u2460\u2465" }], "title": "2.5. Control and Use" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2460\u2466" }, { "id": "ref-for-dfn-service-worker-client\u2460\u2467" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2460\u2468" }, { "id": "ref-for-dfn-service-worker-client\u2461\u24ea" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2461\u2460" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2461\u2461" }, { "id": "ref-for-dfn-service-worker-client\u2461\u2462" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2461\u2463" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2461\u2464" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2461\u2465" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2461\u2466" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2461\u2467" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2461\u2468" }, { "id": "ref-for-dfn-service-worker-client\u2462\u24ea" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2462\u2460" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2462\u2461" }], "title": "4.7.2. event.origin" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2462\u2462" }, { "id": "ref-for-dfn-service-worker-client\u2462\u2463" }], "title": "6.1. Secure Context" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2462\u2464" }], "title": "6.3.1. Origin restriction" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2462\u2465" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2462\u2466" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2462\u2467" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2462\u2468" }, { "id": "ref-for-dfn-service-worker-client\u2463\u24ea" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2463\u2460" }], "title": "Try Activate" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2463\u2461" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2463\u2462" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2463\u2463" }, { "id": "ref-for-dfn-service-worker-client\u2463\u2464" }, { "id": "ref-for-dfn-service-worker-client\u2463\u2465" }], "title": "Handle Service Worker Client Unload" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2463\u2466" }], "title": "Try Clear Registration" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2463\u2467" }], "title": "Notify Controller Change" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2463\u2468" }], "title": "Create Client" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2464\u24ea" }], "title": "Create Window Client" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client\u2464\u2460" }], "title": "Resolve Get Client Promise" }], "url": "#dfn-service-worker-client" },
        "dfn-service-worker-client-browsing-context": { "dfnID": "dfn-service-worker-client-browsing-context", "dfnText": "browsing context", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-client-browsing-context" }, { "id": "ref-for-dfn-service-worker-client-browsing-context\u2460" }, { "id": "ref-for-dfn-service-worker-client-browsing-context\u2461" }, { "id": "ref-for-dfn-service-worker-client-browsing-context\u2462" }, { "id": "ref-for-dfn-service-worker-client-browsing-context\u2463" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-browsing-context\u2464" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-browsing-context\u2465" }, { "id": "ref-for-dfn-service-worker-client-browsing-context\u2466" }], "title": "4.3.2. matchAll(options)" }], "url": "#dfn-service-worker-client-browsing-context" },
        "dfn-service-worker-client-focusstate": { "dfnID": "dfn-service-worker-client-focusstate", "dfnText": "focus state", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-client-focusstate" }], "title": "4.2.8. focused" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-focusstate\u2460" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-focusstate\u2461" }], "title": "Create Window Client" }], "url": "#dfn-service-worker-client-focusstate" },
        "dfn-service-worker-client-frame-type": { "dfnID": "dfn-service-worker-client-frame-type", "dfnText": "frame type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-client-frame-type" }], "title": "4.2.2. frameType" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-frame-type\u2460" }], "title": "Create Window Client" }], "url": "#dfn-service-worker-client-frame-type" },
        "dfn-service-worker-client-service-worker-client": { "dfnID": "dfn-service-worker-client-service-worker-client", "dfnText": "service worker client", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-client-service-worker-client" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-service-worker-client\u2460" }], "title": "4.2.1. url" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-service-worker-client\u2461" }], "title": "4.2.3. id" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-service-worker-client\u2462" }], "title": "4.2.4. type" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-service-worker-client\u2463" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-service-worker-client\u2464" }, { "id": "ref-for-dfn-service-worker-client-service-worker-client\u2465" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-service-worker-client\u2466" }, { "id": "ref-for-dfn-service-worker-client-service-worker-client\u2467" }, { "id": "ref-for-dfn-service-worker-client-service-worker-client\u2468" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-service-worker-client\u2460\u24ea" }, { "id": "ref-for-dfn-service-worker-client-service-worker-client\u2460\u2460" }, { "id": "ref-for-dfn-service-worker-client-service-worker-client\u2460\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-service-worker-client\u2460\u2462" }], "title": "Create Client" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-service-worker-client\u2460\u2463" }], "title": "Create Window Client" }], "url": "#dfn-service-worker-client-service-worker-client" },
        "dfn-service-worker-client-visibilitystate": { "dfnID": "dfn-service-worker-client-visibilitystate", "dfnText": "visibility state", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-client-visibilitystate" }], "title": "4.2.7. visibilityState" }, { "refs": [{ "id": "ref-for-dfn-service-worker-client-visibilitystate\u2460" }], "title": "Create Window Client" }], "url": "#dfn-service-worker-client-visibilitystate" },
        "dfn-service-worker-events": { "dfnID": "dfn-service-worker-events", "dfnText": "service worker events", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-events" }], "title": "4.8. Events" }], "url": "#dfn-service-worker-events" },
        "dfn-service-worker-global-object": { "dfnID": "dfn-service-worker-global-object", "dfnText": "global object", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-global-object" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dfn-service-worker-global-object\u2460" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dfn-service-worker-global-object\u2461" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-dfn-service-worker-global-object\u2462" }, { "id": "ref-for-dfn-service-worker-global-object\u2463" }, { "id": "ref-for-dfn-service-worker-global-object\u2464" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dfn-service-worker-global-object\u2465" }, { "id": "ref-for-dfn-service-worker-global-object\u2466" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-dfn-service-worker-global-object\u2467" }], "title": "All Fetch Listeners Are Empty" }, { "refs": [{ "id": "ref-for-dfn-service-worker-global-object\u2468" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-dfn-service-worker-global-object\u2460\u24ea" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-dfn-service-worker-global-object\u2460\u2460" }, { "id": "ref-for-dfn-service-worker-global-object\u2460\u2461" }, { "id": "ref-for-dfn-service-worker-global-object\u2460\u2462" }, { "id": "ref-for-dfn-service-worker-global-object\u2460\u2463" }, { "id": "ref-for-dfn-service-worker-global-object\u2460\u2464" }, { "id": "ref-for-dfn-service-worker-global-object\u2460\u2465" }, { "id": "ref-for-dfn-service-worker-global-object\u2460\u2466" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-dfn-service-worker-global-object\u2460\u2467" }, { "id": "ref-for-dfn-service-worker-global-object\u2460\u2468" }], "title": "Fire Functional Event" }, { "refs": [{ "id": "ref-for-dfn-service-worker-global-object\u2461\u24ea" }], "title": "Lookup Race Response" }], "url": "#dfn-service-worker-global-object" },
        "dfn-service-worker-registration": { "dfnID": "dfn-service-worker-registration", "dfnText": "service worker registration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-registration" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2460" }, { "id": "ref-for-dfn-service-worker-registration\u2461" }, { "id": "ref-for-dfn-service-worker-registration\u2462" }, { "id": "ref-for-dfn-service-worker-registration\u2463" }, { "id": "ref-for-dfn-service-worker-registration\u2464" }, { "id": "ref-for-dfn-service-worker-registration\u2465" }, { "id": "ref-for-dfn-service-worker-registration\u2466" }, { "id": "ref-for-dfn-service-worker-registration\u2467" }, { "id": "ref-for-dfn-service-worker-registration\u2468" }, { "id": "ref-for-dfn-service-worker-registration\u2460\u24ea" }, { "id": "ref-for-dfn-service-worker-registration\u2460\u2460" }, { "id": "ref-for-dfn-service-worker-registration\u2460\u2461" }, { "id": "ref-for-dfn-service-worker-registration\u2460\u2462" }, { "id": "ref-for-dfn-service-worker-registration\u2460\u2463" }, { "id": "ref-for-dfn-service-worker-registration\u2460\u2464" }, { "id": "ref-for-dfn-service-worker-registration\u2460\u2465" }, { "id": "ref-for-dfn-service-worker-registration\u2460\u2466" }, { "id": "ref-for-dfn-service-worker-registration\u2460\u2467" }, { "id": "ref-for-dfn-service-worker-registration\u2460\u2468" }, { "id": "ref-for-dfn-service-worker-registration\u2461\u24ea" }, { "id": "ref-for-dfn-service-worker-registration\u2461\u2460" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2461\u2461" }, { "id": "ref-for-dfn-service-worker-registration\u2461\u2462" }, { "id": "ref-for-dfn-service-worker-registration\u2461\u2463" }, { "id": "ref-for-dfn-service-worker-registration\u2461\u2464" }], "title": "2.3.1. Lifetime" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2461\u2465" }, { "id": "ref-for-dfn-service-worker-registration\u2461\u2466" }, { "id": "ref-for-dfn-service-worker-registration\u2461\u2467" }], "title": "2.7. User Agent Shutdown" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2461\u2468" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2462\u24ea" }, { "id": "ref-for-dfn-service-worker-registration\u2462\u2460" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2462\u2461" }, { "id": "ref-for-dfn-service-worker-registration\u2462\u2462" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2462\u2463" }, { "id": "ref-for-dfn-service-worker-registration\u2462\u2464" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2462\u2465" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2462\u2466" }, { "id": "ref-for-dfn-service-worker-registration\u2462\u2467" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2462\u2468" }, { "id": "ref-for-dfn-service-worker-registration\u2463\u24ea" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2463\u2460" }], "title": "3.6.1. enable()" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2463\u2461" }], "title": "3.6.2. disable()" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2463\u2462" }], "title": "3.6.3. setHeaderValue(value)" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2463\u2463" }], "title": "3.6.4. getState()" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2463\u2464" }, { "id": "ref-for-dfn-service-worker-registration\u2463\u2465" }], "title": "6.1. Secure Context" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2463\u2466" }], "title": "6.8. Privacy" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2463\u2467" }], "title": "7.1. Define API bound to Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2463\u2468" }], "title": "7.4. Firing Functional Events" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2464\u24ea" }, { "id": "ref-for-dfn-service-worker-registration\u2464\u2460" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2464\u2461" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2464\u2462" }], "title": "Soft Update" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2464\u2463" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2464\u2464" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2464\u2465" }], "title": "Try Activate" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2464\u2466" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2464\u2467" }], "title": "Fire Functional Event" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2464\u2468" }], "title": "Handle Service Worker Client Unload" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2465\u24ea" }, { "id": "ref-for-dfn-service-worker-registration\u2465\u2460" }], "title": "Set Registration" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2465\u2461" }], "title": "Clear Registration" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2465\u2462" }], "title": "Try Clear Registration" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2465\u2463" }], "title": "Update Registration State" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2465\u2464" }], "title": "Match Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2465\u2465" }], "title": "Get Registration" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration\u2465\u2466" }], "title": "Get Newest Worker" }], "url": "#dfn-service-worker-registration" },
        "dfn-service-worker-registration-task-queue": { "dfnID": "dfn-service-worker-registration-task-queue", "dfnText": "task queues", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-registration-task-queue" }, { "id": "ref-for-dfn-service-worker-registration-task-queue\u2460" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration-task-queue\u2461" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration-task-queue\u2462" }], "title": "Terminate Service Worker" }], "url": "#dfn-service-worker-registration-task-queue" },
        "dfn-service-worker-registration-unregistered": { "dfnID": "dfn-service-worker-registration-unregistered", "dfnText": "unregistered", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-service-worker-registration-unregistered" }], "title": "2.3.1. Lifetime" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration-unregistered\u2460" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration-unregistered\u2461" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-dfn-service-worker-registration-unregistered\u2462" }], "title": "Handle Service Worker Client Unload" }], "url": "#dfn-service-worker-registration-unregistered" },
        "dfn-set-of-event-types-to-handle": { "dfnID": "dfn-set-of-event-types-to-handle", "dfnText": "set of event types to handle", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-set-of-event-types-to-handle" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-dfn-set-of-event-types-to-handle\u2460" }, { "id": "ref-for-dfn-set-of-event-types-to-handle\u2461" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-dfn-set-of-event-types-to-handle\u2462" }], "title": "All Fetch Listeners Are Empty" }, { "refs": [{ "id": "ref-for-dfn-set-of-event-types-to-handle\u2463" }, { "id": "ref-for-dfn-set-of-event-types-to-handle\u2464" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-dfn-set-of-event-types-to-handle\u2465" }], "title": "Should Skip Event" }], "url": "#dfn-set-of-event-types-to-handle" },
        "dfn-set-of-extended-events": { "dfnID": "dfn-set-of-extended-events", "dfnText": "set of extended events", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-set-of-extended-events" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-dfn-set-of-extended-events\u2460" }, { "id": "ref-for-dfn-set-of-extended-events\u2461" }, { "id": "ref-for-dfn-set-of-extended-events\u2462" }], "title": "Update Service Worker Extended Events Set" }, { "refs": [{ "id": "ref-for-dfn-set-of-extended-events\u2463" }], "title": "Service Worker Has No Pending Events" }], "url": "#dfn-set-of-extended-events" },
        "dfn-set-of-used-scripts": { "dfnID": "dfn-set-of-used-scripts", "dfnText": "set of used scripts", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-set-of-used-scripts" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-dfn-set-of-used-scripts\u2460" }, { "id": "ref-for-dfn-set-of-used-scripts\u2461" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-dfn-set-of-used-scripts\u2462" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-set-of-used-scripts\u2463" }], "title": "Install" }], "url": "#dfn-set-of-used-scripts" },
        "dfn-sharedworker-client": { "dfnID": "dfn-sharedworker-client", "dfnText": "shared worker client", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-sharedworker-client" }], "title": "2.4. Service Worker Client" }, { "refs": [{ "id": "ref-for-dfn-sharedworker-client\u2460" }], "title": "4.2.4. type" }, { "refs": [{ "id": "ref-for-dfn-sharedworker-client\u2461" }], "title": "4.3.2. matchAll(options)" }], "url": "#dfn-sharedworker-client" },
        "dfn-skip-waiting-flag": { "dfnID": "dfn-skip-waiting-flag", "dfnText": "skip waiting flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-skip-waiting-flag" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-dfn-skip-waiting-flag\u2460" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-dfn-skip-waiting-flag\u2461" }], "title": "Try Activate" }], "url": "#dfn-skip-waiting-flag" },
        "dfn-state": { "dfnID": "dfn-state", "dfnText": "state", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-state" }, { "id": "ref-for-dfn-state\u2460" }, { "id": "ref-for-dfn-state\u2461" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-state\u2462" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-dfn-state\u2463" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-dfn-state\u2464" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-dfn-state\u2465" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-dfn-state\u2466" }], "title": "Try Activate" }, { "refs": [{ "id": "ref-for-dfn-state\u2467" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dfn-state\u2468" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-dfn-state\u2460\u24ea" }, { "id": "ref-for-dfn-state\u2460\u2460" }, { "id": "ref-for-dfn-state\u2460\u2461" }, { "id": "ref-for-dfn-state\u2460\u2462" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-dfn-state\u2460\u2463" }, { "id": "ref-for-dfn-state\u2460\u2464" }], "title": "Fire Functional Event" }, { "refs": [{ "id": "ref-for-dfn-state\u2460\u2465" }, { "id": "ref-for-dfn-state\u2460\u2466" }], "title": "Update Worker State" }], "url": "#dfn-state" },
        "dfn-type": { "dfnID": "dfn-type", "dfnText": "type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-type" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-dfn-type\u2460" }], "title": "Register" }, { "refs": [{ "id": "ref-for-dfn-type\u2461" }, { "id": "ref-for-dfn-type\u2462" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-type\u2463" }], "title": "Soft Update" }, { "refs": [{ "id": "ref-for-dfn-type\u2464" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "#dfn-type" },
        "dfn-update-via-cache": { "dfnID": "dfn-update-via-cache", "dfnText": "update via cache mode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-update-via-cache" }], "title": "3.2.7. updateViaCache" }, { "refs": [{ "id": "ref-for-dfn-update-via-cache\u2460" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-dfn-update-via-cache\u2461" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-dfn-update-via-cache\u2462" }], "title": "Register" }, { "refs": [{ "id": "ref-for-dfn-update-via-cache\u2463" }, { "id": "ref-for-dfn-update-via-cache\u2464" }, { "id": "ref-for-dfn-update-via-cache\u2465" }], "title": "Update" }, { "refs": [{ "id": "ref-for-dfn-update-via-cache\u2466" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dfn-update-via-cache\u2467" }, { "id": "ref-for-dfn-update-via-cache\u2468" }], "title": "Set Registration" }], "url": "#dfn-update-via-cache" },
        "dfn-use": { "dfnID": "dfn-use", "dfnText": "using", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-use" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-dfn-use\u2460" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-dfn-use\u2461" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-dfn-use\u2462" }], "title": "Try Activate" }, { "refs": [{ "id": "ref-for-dfn-use\u2463" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-dfn-use\u2464" }, { "id": "ref-for-dfn-use\u2465" }], "title": "Handle Service Worker Client Unload" }, { "refs": [{ "id": "ref-for-dfn-use\u2466" }], "title": "Unregister" }, { "refs": [{ "id": "ref-for-dfn-use\u2467" }], "title": "Try Clear Registration" }], "url": "#dfn-use" },
        "dfn-waiting-worker": { "dfnID": "dfn-waiting-worker", "dfnText": "waiting worker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-waiting-worker" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-dfn-waiting-worker\u2460" }], "title": "2.7. User Agent Shutdown" }, { "refs": [{ "id": "ref-for-dfn-waiting-worker\u2461" }, { "id": "ref-for-dfn-waiting-worker\u2462" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-dfn-waiting-worker\u2463" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-dfn-waiting-worker\u2464" }, { "id": "ref-for-dfn-waiting-worker\u2465" }, { "id": "ref-for-dfn-waiting-worker\u2466" }, { "id": "ref-for-dfn-waiting-worker\u2467" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dfn-waiting-worker\u2468" }, { "id": "ref-for-dfn-waiting-worker\u2460\u24ea" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-dfn-waiting-worker\u2460\u2460" }, { "id": "ref-for-dfn-waiting-worker\u2460\u2461" }], "title": "Try Activate" }, { "refs": [{ "id": "ref-for-dfn-waiting-worker\u2460\u2462" }, { "id": "ref-for-dfn-waiting-worker\u2460\u2463" }], "title": "Handle User Agent Shutdown" }, { "refs": [{ "id": "ref-for-dfn-waiting-worker\u2460\u2464" }, { "id": "ref-for-dfn-waiting-worker\u2460\u2465" }, { "id": "ref-for-dfn-waiting-worker\u2460\u2466" }], "title": "Clear Registration" }, { "refs": [{ "id": "ref-for-dfn-waiting-worker\u2460\u2467" }, { "id": "ref-for-dfn-waiting-worker\u2460\u2468" }], "title": "Try Clear Registration" }, { "refs": [{ "id": "ref-for-dfn-waiting-worker\u2461\u24ea" }, { "id": "ref-for-dfn-waiting-worker\u2461\u2460" }, { "id": "ref-for-dfn-waiting-worker\u2461\u2461" }], "title": "Update Registration State" }, { "refs": [{ "id": "ref-for-dfn-waiting-worker\u2461\u2462" }, { "id": "ref-for-dfn-waiting-worker\u2461\u2463" }], "title": "Get Newest Worker" }], "url": "#dfn-waiting-worker" },
        "dfn-window-client": { "dfnID": "dfn-window-client", "dfnText": "window client", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-window-client" }, { "id": "ref-for-dfn-window-client\u2460" }, { "id": "ref-for-dfn-window-client\u2461" }, { "id": "ref-for-dfn-window-client\u2462" }, { "id": "ref-for-dfn-window-client\u2463" }, { "id": "ref-for-dfn-window-client\u2464" }, { "id": "ref-for-dfn-window-client\u2465" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-dfn-window-client\u2466" }, { "id": "ref-for-dfn-window-client\u2467" }], "title": "2.5. Control and Use" }, { "refs": [{ "id": "ref-for-dfn-window-client\u2468" }], "title": "4.2.4. type" }, { "refs": [{ "id": "ref-for-dfn-window-client\u2460\u24ea" }, { "id": "ref-for-dfn-window-client\u2460\u2460" }, { "id": "ref-for-dfn-window-client\u2460\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-dfn-window-client\u2460\u2462" }, { "id": "ref-for-dfn-window-client\u2460\u2463" }], "title": "Resolve Get Client Promise" }], "url": "#dfn-window-client" },
        "dfn-worker-client": { "dfnID": "dfn-worker-client", "dfnText": "worker client", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dfn-worker-client" }, { "id": "ref-for-dfn-worker-client\u2460" }, { "id": "ref-for-dfn-worker-client\u2461" }, { "id": "ref-for-dfn-worker-client\u2462" }, { "id": "ref-for-dfn-worker-client\u2463" }, { "id": "ref-for-dfn-worker-client\u2464" }, { "id": "ref-for-dfn-worker-client\u2465" }, { "id": "ref-for-dfn-worker-client\u2466" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-dfn-worker-client\u2467" }, { "id": "ref-for-dfn-worker-client\u2468" }], "title": "2.5. Control and Use" }, { "refs": [{ "id": "ref-for-dfn-worker-client\u2460\u24ea" }, { "id": "ref-for-dfn-worker-client\u2460\u2460" }], "title": "4.3.2. matchAll(options)" }], "url": "#dfn-worker-client" },
        "dictdef-cachequeryoptions": { "dfnID": "dictdef-cachequeryoptions", "dfnText": "CacheQueryOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-cachequeryoptions" }, { "id": "ref-for-dictdef-cachequeryoptions\u2460" }, { "id": "ref-for-dictdef-cachequeryoptions\u2461" }, { "id": "ref-for-dictdef-cachequeryoptions\u2462" }, { "id": "ref-for-dictdef-cachequeryoptions\u2463" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-dictdef-cachequeryoptions\u2464" }], "title": "5.5. CacheStorage" }, { "refs": [{ "id": "ref-for-dictdef-cachequeryoptions\u2465" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-dictdef-cachequeryoptions\u2466" }], "title": "Query Cache" }, { "refs": [{ "id": "ref-for-dictdef-cachequeryoptions\u2467" }], "title": "Request Matches Cached Item" }], "url": "#dictdef-cachequeryoptions" },
        "dictdef-clientqueryoptions": { "dfnID": "dictdef-clientqueryoptions", "dfnText": "ClientQueryOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-clientqueryoptions" }], "title": "4.3. Clients" }], "url": "#dictdef-clientqueryoptions" },
        "dictdef-extendableeventinit": { "dfnID": "dictdef-extendableeventinit", "dfnText": "ExtendableEventInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-extendableeventinit" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-dictdef-extendableeventinit\u2460" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-dictdef-extendableeventinit\u2461" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-dictdef-extendableeventinit\u2462" }], "title": "4.7. ExtendableMessageEvent" }], "url": "#dictdef-extendableeventinit" },
        "dictdef-extendablemessageeventinit": { "dfnID": "dictdef-extendablemessageeventinit", "dfnText": "ExtendableMessageEventInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-extendablemessageeventinit" }], "title": "4.7. ExtendableMessageEvent" }], "url": "#dictdef-extendablemessageeventinit" },
        "dictdef-fetcheventinit": { "dfnID": "dictdef-fetcheventinit", "dfnText": "FetchEventInit", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-fetcheventinit" }], "title": "4.6. FetchEvent" }], "url": "#dictdef-fetcheventinit" },
        "dictdef-multicachequeryoptions": { "dfnID": "dictdef-multicachequeryoptions", "dfnText": "MultiCacheQueryOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-multicachequeryoptions" }], "title": "5.5. CacheStorage" }], "url": "#dictdef-multicachequeryoptions" },
        "dictdef-navigationpreloadstate": { "dfnID": "dictdef-navigationpreloadstate", "dfnText": "NavigationPreloadState", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-navigationpreloadstate" }], "title": "3.6. NavigationPreloadManager" }, { "refs": [{ "id": "ref-for-dictdef-navigationpreloadstate\u2460" }], "title": "3.6.4. getState()" }], "url": "#dictdef-navigationpreloadstate" },
        "dictdef-registrationoptions": { "dfnID": "dictdef-registrationoptions", "dfnText": "RegistrationOptions", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-registrationoptions" }], "title": "3.4. ServiceWorkerContainer" }], "url": "#dictdef-registrationoptions" },
        "dictdef-routercondition": { "dfnID": "dictdef-routercondition", "dfnText": "RouterCondition", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-routercondition" }, { "id": "ref-for-dictdef-routercondition\u2460" }, { "id": "ref-for-dictdef-routercondition\u2461" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-dictdef-routercondition\u2462" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-dictdef-routercondition\u2463" }], "title": "Match Router Condition" }, { "refs": [{ "id": "ref-for-dictdef-routercondition\u2464" }], "title": "Count Router Inner Conditions" }], "url": "#dictdef-routercondition" },
        "dictdef-routerrule": { "dfnID": "dictdef-routerrule", "dfnText": "RouterRule", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-routerrule" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-dictdef-routerrule\u2460" }, { "id": "ref-for-dictdef-routerrule\u2461" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-dictdef-routerrule\u2462" }], "title": "4.5.1. event.addRoutes(rules)" }], "url": "#dictdef-routerrule" },
        "dictdef-routersourcedict": { "dfnID": "dictdef-routersourcedict", "dfnText": "RouterSourceDict", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dictdef-routersourcedict" }], "title": "4.5. InstallEvent" }], "url": "#dictdef-routersourcedict" },
        "dom-cache-add": { "dfnID": "dom-cache-add", "dfnText": "add(request)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cache-add" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-dom-cache-add\u2460" }], "title": "5.4.3. add(request)" }], "url": "#dom-cache-add" },
        "dom-cache-add-request-request": { "dfnID": "dom-cache-add-request-request", "dfnText": "request", "external": false, "refSections": [], "url": "#dom-cache-add-request-request" },
        "dom-cache-addall": { "dfnID": "dom-cache-addall", "dfnText": "addAll(requests)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cache-addall" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-dom-cache-addall\u2460" }], "title": "5.4.3. add(request)" }, { "refs": [{ "id": "ref-for-dom-cache-addall\u2461" }], "title": "5.4.4. addAll(requests)" }], "url": "#dom-cache-addall" },
        "dom-cache-addall-requests-requests": { "dfnID": "dom-cache-addall-requests-requests", "dfnText": "requests", "external": false, "refSections": [], "url": "#dom-cache-addall-requests-requests" },
        "dom-cache-delete": { "dfnID": "dom-cache-delete", "dfnText": "delete(request, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cache-delete" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-dom-cache-delete\u2460" }], "title": "5.4.6. delete(request, options)" }], "url": "#dom-cache-delete" },
        "dom-cache-delete-request-options-options": { "dfnID": "dom-cache-delete-request-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cache-delete-request-options-options" },
        "dom-cache-delete-request-options-request": { "dfnID": "dom-cache-delete-request-options-request", "dfnText": "request", "external": false, "refSections": [], "url": "#dom-cache-delete-request-options-request" },
        "dom-cache-keys": { "dfnID": "dom-cache-keys", "dfnText": "keys(request, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cache-keys" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-dom-cache-keys\u2460" }], "title": "5.4.7. keys(request, options)" }], "url": "#dom-cache-keys" },
        "dom-cache-keys-request-options-options": { "dfnID": "dom-cache-keys-request-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cache-keys-request-options-options" },
        "dom-cache-keys-request-options-request": { "dfnID": "dom-cache-keys-request-options-request", "dfnText": "request", "external": false, "refSections": [], "url": "#dom-cache-keys-request-options-request" },
        "dom-cache-match": { "dfnID": "dom-cache-match", "dfnText": "match(request, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cache-match" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-dom-cache-match\u2460" }], "title": "5.4.1. match(request, options)" }, { "refs": [{ "id": "ref-for-dom-cache-match\u2461" }, { "id": "ref-for-dom-cache-match\u2462" }, { "id": "ref-for-dom-cache-match\u2463" }, { "id": "ref-for-dom-cache-match\u2464" }], "title": "5.5.1. match(request, options)" }], "url": "#dom-cache-match" },
        "dom-cache-match-request-options-options": { "dfnID": "dom-cache-match-request-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cache-match-request-options-options" },
        "dom-cache-match-request-options-request": { "dfnID": "dom-cache-match-request-options-request", "dfnText": "request", "external": false, "refSections": [], "url": "#dom-cache-match-request-options-request" },
        "dom-cache-matchall": { "dfnID": "dom-cache-matchall", "dfnText": "matchAll(request, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cache-matchall" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-dom-cache-matchall\u2460" }], "title": "5.4.1. match(request, options)" }, { "refs": [{ "id": "ref-for-dom-cache-matchall\u2461" }], "title": "5.4.2. matchAll(request, options)" }], "url": "#dom-cache-matchall" },
        "dom-cache-matchall-request-options-options": { "dfnID": "dom-cache-matchall-request-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cache-matchall-request-options-options" },
        "dom-cache-matchall-request-options-request": { "dfnID": "dom-cache-matchall-request-options-request", "dfnText": "request", "external": false, "refSections": [], "url": "#dom-cache-matchall-request-options-request" },
        "dom-cache-put": { "dfnID": "dom-cache-put", "dfnText": "put(request, response)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cache-put" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-dom-cache-put\u2460" }], "title": "5.4.5. put(request, response)" }], "url": "#dom-cache-put" },
        "dom-cache-put-request-response-request": { "dfnID": "dom-cache-put-request-response-request", "dfnText": "request", "external": false, "refSections": [], "url": "#dom-cache-put-request-response-request" },
        "dom-cache-put-request-response-response": { "dfnID": "dom-cache-put-request-response-response", "dfnText": "response", "external": false, "refSections": [], "url": "#dom-cache-put-request-response-response" },
        "dom-cachequeryoptions-ignoremethod": { "dfnID": "dom-cachequeryoptions-ignoremethod", "dfnText": "ignoreMethod", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cachequeryoptions-ignoremethod" }], "title": "Request Matches Cached Item" }], "url": "#dom-cachequeryoptions-ignoremethod" },
        "dom-cachequeryoptions-ignoresearch": { "dfnID": "dom-cachequeryoptions-ignoresearch", "dfnText": "ignoreSearch", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cachequeryoptions-ignoresearch" }], "title": "Request Matches Cached Item" }], "url": "#dom-cachequeryoptions-ignoresearch" },
        "dom-cachequeryoptions-ignorevary": { "dfnID": "dom-cachequeryoptions-ignorevary", "dfnText": "ignoreVary", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cachequeryoptions-ignorevary" }], "title": "Request Matches Cached Item" }], "url": "#dom-cachequeryoptions-ignorevary" },
        "dom-cachestorage-delete": { "dfnID": "dom-cachestorage-delete", "dfnText": "delete(cacheName)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cachestorage-delete" }], "title": "5.5. CacheStorage" }, { "refs": [{ "id": "ref-for-dom-cachestorage-delete\u2460" }], "title": "5.5.4. delete(cacheName)" }], "url": "#dom-cachestorage-delete" },
        "dom-cachestorage-delete-cachename-cachename": { "dfnID": "dom-cachestorage-delete-cachename-cachename", "dfnText": "cacheName", "external": false, "refSections": [], "url": "#dom-cachestorage-delete-cachename-cachename" },
        "dom-cachestorage-has": { "dfnID": "dom-cachestorage-has", "dfnText": "has(cacheName)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cachestorage-has" }], "title": "5.5. CacheStorage" }, { "refs": [{ "id": "ref-for-dom-cachestorage-has\u2460" }], "title": "5.5.2. has(cacheName)" }, { "refs": [{ "id": "ref-for-dom-cachestorage-has\u2461" }], "title": "5.5.4. delete(cacheName)" }], "url": "#dom-cachestorage-has" },
        "dom-cachestorage-has-cachename-cachename": { "dfnID": "dom-cachestorage-has-cachename-cachename", "dfnText": "cacheName", "external": false, "refSections": [], "url": "#dom-cachestorage-has-cachename-cachename" },
        "dom-cachestorage-keys": { "dfnID": "dom-cachestorage-keys", "dfnText": "keys()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cachestorage-keys" }], "title": "5.5. CacheStorage" }, { "refs": [{ "id": "ref-for-dom-cachestorage-keys\u2460" }], "title": "5.5.5. keys()" }], "url": "#dom-cachestorage-keys" },
        "dom-cachestorage-match": { "dfnID": "dom-cachestorage-match", "dfnText": "match(request, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cachestorage-match" }], "title": "5.5. CacheStorage" }, { "refs": [{ "id": "ref-for-dom-cachestorage-match\u2460" }], "title": "5.5.1. match(request, options)" }], "url": "#dom-cachestorage-match" },
        "dom-cachestorage-match-request-options-options": { "dfnID": "dom-cachestorage-match-request-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-cachestorage-match-request-options-options" },
        "dom-cachestorage-match-request-options-request": { "dfnID": "dom-cachestorage-match-request-options-request", "dfnText": "request", "external": false, "refSections": [], "url": "#dom-cachestorage-match-request-options-request" },
        "dom-cachestorage-open": { "dfnID": "dom-cachestorage-open", "dfnText": "open(cacheName)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-cachestorage-open" }], "title": "5.5. CacheStorage" }, { "refs": [{ "id": "ref-for-dom-cachestorage-open\u2460" }], "title": "5.5.3. open(cacheName)" }], "url": "#dom-cachestorage-open" },
        "dom-cachestorage-open-cachename-cachename": { "dfnID": "dom-cachestorage-open-cachename-cachename", "dfnText": "cacheName", "external": false, "refSections": [], "url": "#dom-cachestorage-open-cachename-cachename" },
        "dom-client-frametype": { "dfnID": "dom-client-frametype", "dfnText": "frameType", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-client-frametype" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-client-frametype\u2460" }], "title": "4.2.2. frameType" }], "url": "#dom-client-frametype" },
        "dom-client-id": { "dfnID": "dom-client-id", "dfnText": "id", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-client-id" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-client-id\u2460" }], "title": "4.2.3. id" }], "url": "#dom-client-id" },
        "dom-client-postmessage": { "dfnID": "dom-client-postmessage", "dfnText": "postMessage(message, transfer)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-client-postmessage" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-client-postmessage\u2460" }], "title": "4.2.5. postMessage(message, transfer)" }], "url": "#dom-client-postmessage" },
        "dom-client-postmessage-message-options": { "dfnID": "dom-client-postmessage-message-options", "dfnText": "postMessage(message, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-client-postmessage-message-options" }, { "id": "ref-for-dom-client-postmessage-message-options\u2460" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-dom-client-postmessage-message-options\u2461" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-client-postmessage-message-options\u2462" }], "title": "4.2.5. postMessage(message, transfer)" }, { "refs": [{ "id": "ref-for-dom-client-postmessage-message-options\u2463" }], "title": "4.2.6. postMessage(message, options)" }], "url": "#dom-client-postmessage-message-options" },
        "dom-client-postmessage-message-options-message": { "dfnID": "dom-client-postmessage-message-options-message", "dfnText": "message", "external": false, "refSections": [], "url": "#dom-client-postmessage-message-options-message" },
        "dom-client-postmessage-message-options-options": { "dfnID": "dom-client-postmessage-message-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-client-postmessage-message-options-options" },
        "dom-client-postmessage-message-transfer-message": { "dfnID": "dom-client-postmessage-message-transfer-message", "dfnText": "message", "external": false, "refSections": [], "url": "#dom-client-postmessage-message-transfer-message" },
        "dom-client-postmessage-message-transfer-transfer": { "dfnID": "dom-client-postmessage-message-transfer-transfer", "dfnText": "transfer", "external": false, "refSections": [], "url": "#dom-client-postmessage-message-transfer-transfer" },
        "dom-client-type": { "dfnID": "dom-client-type", "dfnText": "type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-client-type" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-client-type\u2460" }], "title": "4.2.4. type" }], "url": "#dom-client-type" },
        "dom-client-url": { "dfnID": "dom-client-url", "dfnText": "url", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-client-url" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-client-url\u2460" }], "title": "4.2.1. url" }], "url": "#dom-client-url" },
        "dom-clientqueryoptions-includeuncontrolled": { "dfnID": "dom-clientqueryoptions-includeuncontrolled", "dfnText": "includeUncontrolled", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clientqueryoptions-includeuncontrolled" }], "title": "4.3.2. matchAll(options)" }], "url": "#dom-clientqueryoptions-includeuncontrolled" },
        "dom-clientqueryoptions-type": { "dfnID": "dom-clientqueryoptions-type", "dfnText": "type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clientqueryoptions-type" }, { "id": "ref-for-dom-clientqueryoptions-type\u2460" }, { "id": "ref-for-dom-clientqueryoptions-type\u2461" }], "title": "4.3.2. matchAll(options)" }], "url": "#dom-clientqueryoptions-type" },
        "dom-clients-claim": { "dfnID": "dom-clients-claim", "dfnText": "claim()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clients-claim" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-dom-clients-claim\u2460" }], "title": "4.3.4. claim()" }], "url": "#dom-clients-claim" },
        "dom-clients-get": { "dfnID": "dom-clients-get", "dfnText": "get(id)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clients-get" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-dom-clients-get\u2460" }], "title": "4.3.1. get(id)" }], "url": "#dom-clients-get" },
        "dom-clients-get-id-id": { "dfnID": "dom-clients-get-id-id", "dfnText": "id", "external": false, "refSections": [], "url": "#dom-clients-get-id-id" },
        "dom-clients-matchall": { "dfnID": "dom-clients-matchall", "dfnText": "matchAll(options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clients-matchall" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-dom-clients-matchall\u2460" }], "title": "4.3.2. matchAll(options)" }], "url": "#dom-clients-matchall" },
        "dom-clients-matchall-options-options": { "dfnID": "dom-clients-matchall-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-clients-matchall-options-options" },
        "dom-clients-openwindow": { "dfnID": "dom-clients-openwindow", "dfnText": "openWindow(url)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clients-openwindow" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-dom-clients-openwindow\u2460" }], "title": "4.3.3. openWindow(url)" }], "url": "#dom-clients-openwindow" },
        "dom-clients-openwindow-url-url": { "dfnID": "dom-clients-openwindow-url-url", "dfnText": "url", "external": false, "refSections": [], "url": "#dom-clients-openwindow-url-url" },
        "dom-clienttype-all": { "dfnID": "dom-clienttype-all", "dfnText": "\"all\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clienttype-all" }, { "id": "ref-for-dom-clienttype-all\u2460" }, { "id": "ref-for-dom-clienttype-all\u2461" }], "title": "4.3.2. matchAll(options)" }], "url": "#dom-clienttype-all" },
        "dom-clienttype-sharedworker": { "dfnID": "dom-clienttype-sharedworker", "dfnText": "\"sharedworker\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clienttype-sharedworker" }], "title": "4.2.4. type" }, { "refs": [{ "id": "ref-for-dom-clienttype-sharedworker\u2460" }], "title": "4.3.2. matchAll(options)" }], "url": "#dom-clienttype-sharedworker" },
        "dom-clienttype-window": { "dfnID": "dom-clienttype-window", "dfnText": "\"window\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clienttype-window" }, { "id": "ref-for-dom-clienttype-window\u2460" }], "title": "4.2.4. type" }, { "refs": [{ "id": "ref-for-dom-clienttype-window\u2461" }], "title": "4.3.2. matchAll(options)" }], "url": "#dom-clienttype-window" },
        "dom-clienttype-worker": { "dfnID": "dom-clienttype-worker", "dfnText": "\"worker\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-clienttype-worker" }], "title": "4.2.4. type" }, { "refs": [{ "id": "ref-for-dom-clienttype-worker\u2460" }], "title": "4.3.2. matchAll(options)" }], "url": "#dom-clienttype-worker" },
        "dom-extendableevent-extendableevent": { "dfnID": "dom-extendableevent-extendableevent", "dfnText": "constructor", "external": false, "refSections": [], "url": "#dom-extendableevent-extendableevent" },
        "dom-extendableevent-extendableevent-type-eventinitdict-eventinitdict": { "dfnID": "dom-extendableevent-extendableevent-type-eventinitdict-eventinitdict", "dfnText": "eventInitDict", "external": false, "refSections": [], "url": "#dom-extendableevent-extendableevent-type-eventinitdict-eventinitdict" },
        "dom-extendableevent-extendableevent-type-eventinitdict-type": { "dfnID": "dom-extendableevent-extendableevent-type-eventinitdict-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-extendableevent-extendableevent-type-eventinitdict-type" },
        "dom-extendableevent-waituntil": { "dfnID": "dom-extendableevent-waituntil", "dfnText": "waitUntil(f)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-extendableevent-waituntil" }, { "id": "ref-for-dom-extendableevent-waituntil\u2462" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-dom-extendableevent-waituntil\u2460" }, { "id": "ref-for-dom-extendableevent-waituntil\u2461" }], "title": "4.4.1. event.waitUntil(f)" }, { "refs": [{ "id": "ref-for-dom-extendableevent-waituntil\u2463" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-dom-extendableevent-waituntil\u2464" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-dom-extendableevent-waituntil\u2465" }], "title": "4.7. ExtendableMessageEvent" }], "url": "#dom-extendableevent-waituntil" },
        "dom-extendableevent-waituntil-f-f": { "dfnID": "dom-extendableevent-waituntil-f-f", "dfnText": "f", "external": false, "refSections": [], "url": "#dom-extendableevent-waituntil-f-f" },
        "dom-extendablemessageevent-data": { "dfnID": "dom-extendablemessageevent-data", "dfnText": "data", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-extendablemessageevent-data" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dom-extendablemessageevent-data\u2460" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-dom-extendablemessageevent-data\u2461" }], "title": "4.7.1. event.data" }], "url": "#dom-extendablemessageevent-data" },
        "dom-extendablemessageevent-extendablemessageevent": { "dfnID": "dom-extendablemessageevent-extendablemessageevent", "dfnText": "constructor", "external": false, "refSections": [], "url": "#dom-extendablemessageevent-extendablemessageevent" },
        "dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-eventinitdict": { "dfnID": "dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-eventinitdict", "dfnText": "eventInitDict", "external": false, "refSections": [], "url": "#dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-eventinitdict" },
        "dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-type": { "dfnID": "dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-type" },
        "dom-extendablemessageevent-lasteventid": { "dfnID": "dom-extendablemessageevent-lasteventid", "dfnText": "lastEventId", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-extendablemessageevent-lasteventid" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-dom-extendablemessageevent-lasteventid\u2460" }], "title": "4.7.3. event.lastEventId" }], "url": "#dom-extendablemessageevent-lasteventid" },
        "dom-extendablemessageevent-origin": { "dfnID": "dom-extendablemessageevent-origin", "dfnText": "origin", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-extendablemessageevent-origin" }, { "id": "ref-for-dom-extendablemessageevent-origin\u2460" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dom-extendablemessageevent-origin\u2461" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-dom-extendablemessageevent-origin\u2462" }], "title": "4.7.2. event.origin" }], "url": "#dom-extendablemessageevent-origin" },
        "dom-extendablemessageevent-ports": { "dfnID": "dom-extendablemessageevent-ports", "dfnText": "ports", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-extendablemessageevent-ports" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dom-extendablemessageevent-ports\u2460" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-dom-extendablemessageevent-ports\u2461" }], "title": "4.7.5. event.ports" }], "url": "#dom-extendablemessageevent-ports" },
        "dom-extendablemessageevent-source": { "dfnID": "dom-extendablemessageevent-source", "dfnText": "source", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-extendablemessageevent-source" }, { "id": "ref-for-dom-extendablemessageevent-source\u2460" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dom-extendablemessageevent-source\u2461" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-dom-extendablemessageevent-source\u2462" }], "title": "4.7.4. event.source" }], "url": "#dom-extendablemessageevent-source" },
        "dom-extendablemessageeventinit-data": { "dfnID": "dom-extendablemessageeventinit-data", "dfnText": "data", "external": false, "refSections": [], "url": "#dom-extendablemessageeventinit-data" },
        "dom-extendablemessageeventinit-lasteventid": { "dfnID": "dom-extendablemessageeventinit-lasteventid", "dfnText": "lastEventId", "external": false, "refSections": [], "url": "#dom-extendablemessageeventinit-lasteventid" },
        "dom-extendablemessageeventinit-origin": { "dfnID": "dom-extendablemessageeventinit-origin", "dfnText": "origin", "external": false, "refSections": [], "url": "#dom-extendablemessageeventinit-origin" },
        "dom-extendablemessageeventinit-ports": { "dfnID": "dom-extendablemessageeventinit-ports", "dfnText": "ports", "external": false, "refSections": [], "url": "#dom-extendablemessageeventinit-ports" },
        "dom-extendablemessageeventinit-source": { "dfnID": "dom-extendablemessageeventinit-source", "dfnText": "source", "external": false, "refSections": [], "url": "#dom-extendablemessageeventinit-source" },
        "dom-fetchevent-clientid": { "dfnID": "dom-fetchevent-clientid", "dfnText": "clientId", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-fetchevent-clientid" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-dom-fetchevent-clientid\u2460" }], "title": "4.6.3. event.clientId" }, { "refs": [{ "id": "ref-for-dom-fetchevent-clientid\u2461" }], "title": "Create Fetch Event and Dispatch" }], "url": "#dom-fetchevent-clientid" },
        "dom-fetchevent-fetchevent": { "dfnID": "dom-fetchevent-fetchevent", "dfnText": "constructor", "external": false, "refSections": [], "url": "#dom-fetchevent-fetchevent" },
        "dom-fetchevent-fetchevent-type-eventinitdict-eventinitdict": { "dfnID": "dom-fetchevent-fetchevent-type-eventinitdict-eventinitdict", "dfnText": "eventInitDict", "external": false, "refSections": [], "url": "#dom-fetchevent-fetchevent-type-eventinitdict-eventinitdict" },
        "dom-fetchevent-fetchevent-type-eventinitdict-type": { "dfnID": "dom-fetchevent-fetchevent-type-eventinitdict-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-fetchevent-fetchevent-type-eventinitdict-type" },
        "dom-fetchevent-handled": { "dfnID": "dom-fetchevent-handled", "dfnText": "handled", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-fetchevent-handled" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-dom-fetchevent-handled\u2460" }], "title": "4.6.6. event.handled" }, { "refs": [{ "id": "ref-for-dom-fetchevent-handled\u2461" }], "title": "Create Fetch Event and Dispatch" }], "url": "#dom-fetchevent-handled" },
        "dom-fetchevent-preloadresponse": { "dfnID": "dom-fetchevent-preloadresponse", "dfnText": "preloadResponse", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-fetchevent-preloadresponse" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-dom-fetchevent-preloadresponse\u2460" }], "title": "4.6.2. event.preloadResponse" }, { "refs": [{ "id": "ref-for-dom-fetchevent-preloadresponse\u2461" }], "title": "Create Fetch Event and Dispatch" }], "url": "#dom-fetchevent-preloadresponse" },
        "dom-fetchevent-replacesclientid": { "dfnID": "dom-fetchevent-replacesclientid", "dfnText": "replacesClientId", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-fetchevent-replacesclientid" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-dom-fetchevent-replacesclientid\u2460" }], "title": "4.6.5. event.replacesClientId" }, { "refs": [{ "id": "ref-for-dom-fetchevent-replacesclientid\u2461" }], "title": "Create Fetch Event and Dispatch" }], "url": "#dom-fetchevent-replacesclientid" },
        "dom-fetchevent-request": { "dfnID": "dom-fetchevent-request", "dfnText": "request", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-fetchevent-request" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-dom-fetchevent-request\u2460" }], "title": "4.6.1. event.request" }, { "refs": [{ "id": "ref-for-dom-fetchevent-request\u2461" }], "title": "Create Fetch Event and Dispatch" }], "url": "#dom-fetchevent-request" },
        "dom-fetchevent-respondwith": { "dfnID": "dom-fetchevent-respondwith", "dfnText": "respondWith(r)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-fetchevent-respondwith" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-dom-fetchevent-respondwith\u2460" }, { "id": "ref-for-dom-fetchevent-respondwith\u2461" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-dom-fetchevent-respondwith\u2462" }], "title": "6.4. Cross-Origin Resources and CORS" }], "url": "#dom-fetchevent-respondwith" },
        "dom-fetchevent-respondwith-r-r": { "dfnID": "dom-fetchevent-respondwith-r-r", "dfnText": "r", "external": false, "refSections": [], "url": "#dom-fetchevent-respondwith-r-r" },
        "dom-fetchevent-resultingclientid": { "dfnID": "dom-fetchevent-resultingclientid", "dfnText": "resultingClientId", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-fetchevent-resultingclientid" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-dom-fetchevent-resultingclientid\u2460" }], "title": "4.6.4. event.resultingClientId" }, { "refs": [{ "id": "ref-for-dom-fetchevent-resultingclientid\u2461" }], "title": "Create Fetch Event and Dispatch" }], "url": "#dom-fetchevent-resultingclientid" },
        "dom-fetcheventinit-clientid": { "dfnID": "dom-fetcheventinit-clientid", "dfnText": "clientId", "external": false, "refSections": [], "url": "#dom-fetcheventinit-clientid" },
        "dom-fetcheventinit-handled": { "dfnID": "dom-fetcheventinit-handled", "dfnText": "handled", "external": false, "refSections": [], "url": "#dom-fetcheventinit-handled" },
        "dom-fetcheventinit-preloadresponse": { "dfnID": "dom-fetcheventinit-preloadresponse", "dfnText": "preloadResponse", "external": false, "refSections": [], "url": "#dom-fetcheventinit-preloadresponse" },
        "dom-fetcheventinit-replacesclientid": { "dfnID": "dom-fetcheventinit-replacesclientid", "dfnText": "replacesClientId", "external": false, "refSections": [], "url": "#dom-fetcheventinit-replacesclientid" },
        "dom-fetcheventinit-request": { "dfnID": "dom-fetcheventinit-request", "dfnText": "request", "external": false, "refSections": [], "url": "#dom-fetcheventinit-request" },
        "dom-fetcheventinit-resultingclientid": { "dfnID": "dom-fetcheventinit-resultingclientid", "dfnText": "resultingClientId", "external": false, "refSections": [], "url": "#dom-fetcheventinit-resultingclientid" },
        "dom-frametype-auxiliary": { "dfnID": "dom-frametype-auxiliary", "dfnText": "\"auxiliary\"", "external": false, "refSections": [], "url": "#dom-frametype-auxiliary" },
        "dom-frametype-nested": { "dfnID": "dom-frametype-nested", "dfnText": "\"nested\"", "external": false, "refSections": [], "url": "#dom-frametype-nested" },
        "dom-frametype-none": { "dfnID": "dom-frametype-none", "dfnText": "\"none\"", "external": false, "refSections": [], "url": "#dom-frametype-none" },
        "dom-frametype-top-level": { "dfnID": "dom-frametype-top-level", "dfnText": "\"top-level\"", "external": false, "refSections": [], "url": "#dom-frametype-top-level" },
        "dom-installevent-addroutes": { "dfnID": "dom-installevent-addroutes", "dfnText": "addRoutes(rules)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-installevent-addroutes" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-dom-installevent-addroutes\u2460" }, { "id": "ref-for-dom-installevent-addroutes\u2461" }, { "id": "ref-for-dom-installevent-addroutes\u2462" }], "title": "4.5.1. event.addRoutes(rules)" }], "url": "#dom-installevent-addroutes" },
        "dom-installevent-addroutes-rules-rules": { "dfnID": "dom-installevent-addroutes-rules-rules", "dfnText": "rules", "external": false, "refSections": [], "url": "#dom-installevent-addroutes-rules-rules" },
        "dom-installevent-installevent": { "dfnID": "dom-installevent-installevent", "dfnText": "constructor", "external": false, "refSections": [], "url": "#dom-installevent-installevent" },
        "dom-installevent-installevent-type-eventinitdict-eventinitdict": { "dfnID": "dom-installevent-installevent-type-eventinitdict-eventinitdict", "dfnText": "eventInitDict", "external": false, "refSections": [], "url": "#dom-installevent-installevent-type-eventinitdict-eventinitdict" },
        "dom-installevent-installevent-type-eventinitdict-type": { "dfnID": "dom-installevent-installevent-type-eventinitdict-type", "dfnText": "type", "external": false, "refSections": [], "url": "#dom-installevent-installevent-type-eventinitdict-type" },
        "dom-multicachequeryoptions-cachename": { "dfnID": "dom-multicachequeryoptions-cachename", "dfnText": "cacheName", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-multicachequeryoptions-cachename" }, { "id": "ref-for-dom-multicachequeryoptions-cachename\u2460" }], "title": "5.5.1. match(request, options)" }], "url": "#dom-multicachequeryoptions-cachename" },
        "dom-navigationpreloadmanager-disable": { "dfnID": "dom-navigationpreloadmanager-disable", "dfnText": "disable()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-navigationpreloadmanager-disable" }], "title": "3.6. NavigationPreloadManager" }, { "refs": [{ "id": "ref-for-dom-navigationpreloadmanager-disable\u2460" }], "title": "3.6.2. disable()" }], "url": "#dom-navigationpreloadmanager-disable" },
        "dom-navigationpreloadmanager-enable": { "dfnID": "dom-navigationpreloadmanager-enable", "dfnText": "enable()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-navigationpreloadmanager-enable" }], "title": "3.6. NavigationPreloadManager" }, { "refs": [{ "id": "ref-for-dom-navigationpreloadmanager-enable\u2460" }], "title": "3.6.1. enable()" }], "url": "#dom-navigationpreloadmanager-enable" },
        "dom-navigationpreloadmanager-getstate": { "dfnID": "dom-navigationpreloadmanager-getstate", "dfnText": "getState()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-navigationpreloadmanager-getstate" }], "title": "3.6. NavigationPreloadManager" }, { "refs": [{ "id": "ref-for-dom-navigationpreloadmanager-getstate\u2460" }], "title": "3.6.4. getState()" }], "url": "#dom-navigationpreloadmanager-getstate" },
        "dom-navigationpreloadmanager-setheadervalue": { "dfnID": "dom-navigationpreloadmanager-setheadervalue", "dfnText": "setHeaderValue(value)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-navigationpreloadmanager-setheadervalue" }], "title": "3.6. NavigationPreloadManager" }, { "refs": [{ "id": "ref-for-dom-navigationpreloadmanager-setheadervalue\u2460" }], "title": "3.6.3. setHeaderValue(value)" }], "url": "#dom-navigationpreloadmanager-setheadervalue" },
        "dom-navigationpreloadmanager-setheadervalue-value-value": { "dfnID": "dom-navigationpreloadmanager-setheadervalue-value-value", "dfnText": "value", "external": false, "refSections": [], "url": "#dom-navigationpreloadmanager-setheadervalue-value-value" },
        "dom-navigationpreloadstate-enabled": { "dfnID": "dom-navigationpreloadstate-enabled", "dfnText": "enabled", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-navigationpreloadstate-enabled" }], "title": "3.6.4. getState()" }], "url": "#dom-navigationpreloadstate-enabled" },
        "dom-navigationpreloadstate-headervalue": { "dfnID": "dom-navigationpreloadstate-headervalue", "dfnText": "headerValue", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-navigationpreloadstate-headervalue" }], "title": "3.6.4. getState()" }], "url": "#dom-navigationpreloadstate-headervalue" },
        "dom-registrationoptions-scope": { "dfnID": "dom-registrationoptions-scope", "dfnText": "scope", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-registrationoptions-scope" }, { "id": "ref-for-dom-registrationoptions-scope\u2460" }], "title": "3.4.3. register(scriptURL, options)" }], "url": "#dom-registrationoptions-scope" },
        "dom-registrationoptions-type": { "dfnID": "dom-registrationoptions-type", "dfnText": "type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-registrationoptions-type" }], "title": "3.4.3. register(scriptURL, options)" }], "url": "#dom-registrationoptions-type" },
        "dom-registrationoptions-updateviacache": { "dfnID": "dom-registrationoptions-updateviacache", "dfnText": "updateViaCache", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-registrationoptions-updateviacache" }], "title": "3.4.3. register(scriptURL, options)" }], "url": "#dom-registrationoptions-updateviacache" },
        "dom-routercondition-not": { "dfnID": "dom-routercondition-not", "dfnText": "not", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routercondition-not" }, { "id": "ref-for-dom-routercondition-not\u2460" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-dom-routercondition-not\u2461" }, { "id": "ref-for-dom-routercondition-not\u2462" }, { "id": "ref-for-dom-routercondition-not\u2463" }], "title": "Match Router Condition" }, { "refs": [{ "id": "ref-for-dom-routercondition-not\u2464" }], "title": "Check Router Registration Limit" }, { "refs": [{ "id": "ref-for-dom-routercondition-not\u2465" }, { "id": "ref-for-dom-routercondition-not\u2466" }], "title": "Count Router Inner Conditions" }], "url": "#dom-routercondition-not" },
        "dom-routercondition-or": { "dfnID": "dom-routercondition-or", "dfnText": "_or", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routercondition-or" }, { "id": "ref-for-dom-routercondition-or\u2460" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-dom-routercondition-or\u2461" }, { "id": "ref-for-dom-routercondition-or\u2462" }, { "id": "ref-for-dom-routercondition-or\u2463" }], "title": "Match Router Condition" }, { "refs": [{ "id": "ref-for-dom-routercondition-or\u2464" }], "title": "Check Router Registration Limit" }, { "refs": [{ "id": "ref-for-dom-routercondition-or\u2465" }, { "id": "ref-for-dom-routercondition-or\u2466" }], "title": "Count Router Inner Conditions" }], "url": "#dom-routercondition-or" },
        "dom-routercondition-requestdestination": { "dfnID": "dom-routercondition-requestdestination", "dfnText": "requestDestination", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routercondition-requestdestination" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-dom-routercondition-requestdestination\u2460" }, { "id": "ref-for-dom-routercondition-requestdestination\u2461" }], "title": "Match Router Condition" }], "url": "#dom-routercondition-requestdestination" },
        "dom-routercondition-requestmethod": { "dfnID": "dom-routercondition-requestmethod", "dfnText": "requestMethod", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routercondition-requestmethod" }, { "id": "ref-for-dom-routercondition-requestmethod\u2460" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-dom-routercondition-requestmethod\u2461" }, { "id": "ref-for-dom-routercondition-requestmethod\u2462" }], "title": "Match Router Condition" }], "url": "#dom-routercondition-requestmethod" },
        "dom-routercondition-requestmode": { "dfnID": "dom-routercondition-requestmode", "dfnText": "requestMode", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routercondition-requestmode" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-dom-routercondition-requestmode\u2460" }, { "id": "ref-for-dom-routercondition-requestmode\u2461" }], "title": "Match Router Condition" }], "url": "#dom-routercondition-requestmode" },
        "dom-routercondition-runningstatus": { "dfnID": "dom-routercondition-runningstatus", "dfnText": "runningStatus", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routercondition-runningstatus" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-dom-routercondition-runningstatus\u2460" }, { "id": "ref-for-dom-routercondition-runningstatus\u2461" }], "title": "Match Router Condition" }], "url": "#dom-routercondition-runningstatus" },
        "dom-routercondition-urlpattern": { "dfnID": "dom-routercondition-urlpattern", "dfnText": "urlPattern", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routercondition-urlpattern" }, { "id": "ref-for-dom-routercondition-urlpattern\u2460" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-dom-routercondition-urlpattern\u2461" }, { "id": "ref-for-dom-routercondition-urlpattern\u2462" }], "title": "Match Router Condition" }], "url": "#dom-routercondition-urlpattern" },
        "dom-routerrule-condition": { "dfnID": "dom-routerrule-condition", "dfnText": "condition", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routerrule-condition" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-dom-routerrule-condition\u2460" }], "title": "Check Router Registration Limit" }, { "refs": [{ "id": "ref-for-dom-routerrule-condition\u2461" }], "title": "Get Router Source" }], "url": "#dom-routerrule-condition" },
        "dom-routerrule-source": { "dfnID": "dom-routerrule-source", "dfnText": "source", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routerrule-source" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-dom-routerrule-source\u2460" }], "title": "Get Router Source" }], "url": "#dom-routerrule-source" },
        "dom-routersourcedict-cachename": { "dfnID": "dom-routersourcedict-cachename", "dfnText": "cacheName", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routersourcedict-cachename" }, { "id": "ref-for-dom-routersourcedict-cachename\u2460" }, { "id": "ref-for-dom-routersourcedict-cachename\u2461" }], "title": "Handle Fetch" }], "url": "#dom-routersourcedict-cachename" },
        "dom-routersourceenum-cache": { "dfnID": "dom-routersourceenum-cache", "dfnText": "\"cache\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routersourceenum-cache" }], "title": "Handle Fetch" }], "url": "#dom-routersourceenum-cache" },
        "dom-routersourceenum-fetch-event": { "dfnID": "dom-routersourceenum-fetch-event", "dfnText": "\"fetch-event\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routersourceenum-fetch-event" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-dom-routersourceenum-fetch-event\u2460" }], "title": "Handle Fetch" }], "url": "#dom-routersourceenum-fetch-event" },
        "dom-routersourceenum-network": { "dfnID": "dom-routersourceenum-network", "dfnText": "\"network\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routersourceenum-network" }], "title": "Handle Fetch" }], "url": "#dom-routersourceenum-network" },
        "dom-routersourceenum-race-network-and-fetch-handler": { "dfnID": "dom-routersourceenum-race-network-and-fetch-handler", "dfnText": "\"race-network-and-fetch-handler\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-routersourceenum-race-network-and-fetch-handler" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dom-routersourceenum-race-network-and-fetch-handler\u2460" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-dom-routersourceenum-race-network-and-fetch-handler\u2461" }], "title": "Handle Fetch" }], "url": "#dom-routersourceenum-race-network-and-fetch-handler" },
        "dom-runningstatus-not-running": { "dfnID": "dom-runningstatus-not-running", "dfnText": "\"not-running\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-runningstatus-not-running" }], "title": "Match Router Condition" }], "url": "#dom-runningstatus-not-running" },
        "dom-runningstatus-running": { "dfnID": "dom-runningstatus-running", "dfnText": "\"running\"", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-runningstatus-running" }], "title": "Match Router Condition" }], "url": "#dom-runningstatus-running" },
        "dom-serviceworker-onstatechange": { "dfnID": "dom-serviceworker-onstatechange", "dfnText": "onstatechange", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworker-onstatechange" }], "title": "3.1. ServiceWorker" }], "url": "#dom-serviceworker-onstatechange" },
        "dom-serviceworker-postmessage": { "dfnID": "dom-serviceworker-postmessage", "dfnText": "postMessage(message, transfer)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworker-postmessage" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-dom-serviceworker-postmessage\u2460" }], "title": "3.1.4. postMessage(message, transfer)" }], "url": "#dom-serviceworker-postmessage" },
        "dom-serviceworker-postmessage-message-options": { "dfnID": "dom-serviceworker-postmessage-message-options", "dfnText": "postMessage(message, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworker-postmessage-message-options" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-dom-serviceworker-postmessage-message-options\u2460" }], "title": "3.1.4. postMessage(message, transfer)" }, { "refs": [{ "id": "ref-for-dom-serviceworker-postmessage-message-options\u2461" }], "title": "3.1.5. postMessage(message, options)" }], "url": "#dom-serviceworker-postmessage-message-options" },
        "dom-serviceworker-postmessage-message-options-message": { "dfnID": "dom-serviceworker-postmessage-message-options-message", "dfnText": "message", "external": false, "refSections": [], "url": "#dom-serviceworker-postmessage-message-options-message" },
        "dom-serviceworker-postmessage-message-options-options": { "dfnID": "dom-serviceworker-postmessage-message-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-serviceworker-postmessage-message-options-options" },
        "dom-serviceworker-postmessage-message-transfer-message": { "dfnID": "dom-serviceworker-postmessage-message-transfer-message", "dfnText": "message", "external": false, "refSections": [], "url": "#dom-serviceworker-postmessage-message-transfer-message" },
        "dom-serviceworker-postmessage-message-transfer-transfer": { "dfnID": "dom-serviceworker-postmessage-message-transfer-transfer", "dfnText": "transfer", "external": false, "refSections": [], "url": "#dom-serviceworker-postmessage-message-transfer-transfer" },
        "dom-serviceworker-scripturl": { "dfnID": "dom-serviceworker-scripturl", "dfnText": "scriptURL", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworker-scripturl" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-dom-serviceworker-scripturl\u2460" }], "title": "3.1.2. scriptURL" }], "url": "#dom-serviceworker-scripturl" },
        "dom-serviceworker-state": { "dfnID": "dom-serviceworker-state", "dfnText": "state", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworker-state" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-dom-serviceworker-state\u2460" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-dom-serviceworker-state\u2461" }], "title": "3.1.3. state" }, { "refs": [{ "id": "ref-for-dom-serviceworker-state\u2462" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-dom-serviceworker-state\u2463" }], "title": "Update Worker State" }], "url": "#dom-serviceworker-state" },
        "dom-serviceworkercontainer-controller": { "dfnID": "dom-serviceworkercontainer-controller", "dfnText": "controller", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkercontainer-controller" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-dom-serviceworkercontainer-controller\u2460" }, { "id": "ref-for-dom-serviceworkercontainer-controller\u2461" }], "title": "3.4.1. controller" }, { "refs": [{ "id": "ref-for-dom-serviceworkercontainer-controller\u2462" }], "title": "3.5. Events" }], "url": "#dom-serviceworkercontainer-controller" },
        "dom-serviceworkercontainer-getregistration": { "dfnID": "dom-serviceworkercontainer-getregistration", "dfnText": "getRegistration(clientURL)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkercontainer-getregistration" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-dom-serviceworkercontainer-getregistration\u2460" }], "title": "3.4.4. getRegistration(clientURL)" }], "url": "#dom-serviceworkercontainer-getregistration" },
        "dom-serviceworkercontainer-getregistration-clienturl-clienturl": { "dfnID": "dom-serviceworkercontainer-getregistration-clienturl-clienturl", "dfnText": "clientURL", "external": false, "refSections": [], "url": "#dom-serviceworkercontainer-getregistration-clienturl-clienturl" },
        "dom-serviceworkercontainer-getregistrations": { "dfnID": "dom-serviceworkercontainer-getregistrations", "dfnText": "getRegistrations()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkercontainer-getregistrations" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-dom-serviceworkercontainer-getregistrations\u2460" }], "title": "3.4.5. getRegistrations()" }], "url": "#dom-serviceworkercontainer-getregistrations" },
        "dom-serviceworkercontainer-oncontrollerchange": { "dfnID": "dom-serviceworkercontainer-oncontrollerchange", "dfnText": "oncontrollerchange", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkercontainer-oncontrollerchange" }], "title": "3.4. ServiceWorkerContainer" }], "url": "#dom-serviceworkercontainer-oncontrollerchange" },
        "dom-serviceworkercontainer-onmessage": { "dfnID": "dom-serviceworkercontainer-onmessage", "dfnText": "onmessage", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkercontainer-onmessage" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-dom-serviceworkercontainer-onmessage\u2460" }], "title": "3.4.7. Event handlers" }], "url": "#dom-serviceworkercontainer-onmessage" },
        "dom-serviceworkercontainer-onmessageerror": { "dfnID": "dom-serviceworkercontainer-onmessageerror", "dfnText": "onmessageerror", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkercontainer-onmessageerror" }], "title": "3.4. ServiceWorkerContainer" }], "url": "#dom-serviceworkercontainer-onmessageerror" },
        "dom-serviceworkercontainer-ready": { "dfnID": "dom-serviceworkercontainer-ready", "dfnText": "ready", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkercontainer-ready" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-dom-serviceworkercontainer-ready\u2460" }], "title": "3.4.2. ready" }], "url": "#dom-serviceworkercontainer-ready" },
        "dom-serviceworkercontainer-register": { "dfnID": "dom-serviceworkercontainer-register", "dfnText": "register(scriptURL, options)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkercontainer-register" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-dom-serviceworkercontainer-register\u2460" }, { "id": "ref-for-dom-serviceworkercontainer-register\u2461" }], "title": "3.4.3. register(scriptURL, options)" }], "url": "#dom-serviceworkercontainer-register" },
        "dom-serviceworkercontainer-register-scripturl-options-options": { "dfnID": "dom-serviceworkercontainer-register-scripturl-options-options", "dfnText": "options", "external": false, "refSections": [], "url": "#dom-serviceworkercontainer-register-scripturl-options-options" },
        "dom-serviceworkercontainer-register-scripturl-options-scripturl": { "dfnID": "dom-serviceworkercontainer-register-scripturl-options-scripturl", "dfnText": "scriptURL", "external": false, "refSections": [], "url": "#dom-serviceworkercontainer-register-scripturl-options-scripturl" },
        "dom-serviceworkercontainer-startmessages": { "dfnID": "dom-serviceworkercontainer-startmessages", "dfnText": "startMessages()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkercontainer-startmessages" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-dom-serviceworkercontainer-startmessages\u2460" }], "title": "3.4.6. startMessages()" }], "url": "#dom-serviceworkercontainer-startmessages" },
        "dom-serviceworkerglobalscope-clients": { "dfnID": "dom-serviceworkerglobalscope-clients", "dfnText": "clients", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-clients" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-clients\u2460" }], "title": "4.1.1. clients" }], "url": "#dom-serviceworkerglobalscope-clients" },
        "dom-serviceworkerglobalscope-onactivate": { "dfnID": "dom-serviceworkerglobalscope-onactivate", "dfnText": "onactivate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-onactivate" }], "title": "4.1. ServiceWorkerGlobalScope" }], "url": "#dom-serviceworkerglobalscope-onactivate" },
        "dom-serviceworkerglobalscope-onfetch": { "dfnID": "dom-serviceworkerglobalscope-onfetch", "dfnText": "onfetch", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-onfetch" }], "title": "4.1. ServiceWorkerGlobalScope" }], "url": "#dom-serviceworkerglobalscope-onfetch" },
        "dom-serviceworkerglobalscope-oninstall": { "dfnID": "dom-serviceworkerglobalscope-oninstall", "dfnText": "oninstall", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-oninstall" }], "title": "4.1. ServiceWorkerGlobalScope" }], "url": "#dom-serviceworkerglobalscope-oninstall" },
        "dom-serviceworkerglobalscope-onmessage": { "dfnID": "dom-serviceworkerglobalscope-onmessage", "dfnText": "onmessage", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-onmessage" }], "title": "4.1. ServiceWorkerGlobalScope" }], "url": "#dom-serviceworkerglobalscope-onmessage" },
        "dom-serviceworkerglobalscope-onmessageerror": { "dfnID": "dom-serviceworkerglobalscope-onmessageerror", "dfnText": "onmessageerror", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-onmessageerror" }], "title": "4.1. ServiceWorkerGlobalScope" }], "url": "#dom-serviceworkerglobalscope-onmessageerror" },
        "dom-serviceworkerglobalscope-registration": { "dfnID": "dom-serviceworkerglobalscope-registration", "dfnText": "registration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-registration" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-registration\u2460" }], "title": "4.1.2. registration" }], "url": "#dom-serviceworkerglobalscope-registration" },
        "dom-serviceworkerglobalscope-serviceworker": { "dfnID": "dom-serviceworkerglobalscope-serviceworker", "dfnText": "serviceWorker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-serviceworker" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-serviceworker\u2460" }], "title": "4.1.3. serviceWorker" }], "url": "#dom-serviceworkerglobalscope-serviceworker" },
        "dom-serviceworkerglobalscope-skipwaiting": { "dfnID": "dom-serviceworkerglobalscope-skipwaiting", "dfnText": "skipWaiting()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-skipwaiting" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-skipwaiting\u2460" }, { "id": "ref-for-dom-serviceworkerglobalscope-skipwaiting\u2461" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-dom-serviceworkerglobalscope-skipwaiting\u2462" }], "title": "Install" }], "url": "#dom-serviceworkerglobalscope-skipwaiting" },
        "dom-serviceworkerregistration-active": { "dfnID": "dom-serviceworkerregistration-active", "dfnText": "active", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerregistration-active" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-active\u2460" }, { "id": "ref-for-dom-serviceworkerregistration-active\u2461" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-active\u2462" }], "title": "3.2.4. active" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-active\u2463" }], "title": "Update Registration State" }], "url": "#dom-serviceworkerregistration-active" },
        "dom-serviceworkerregistration-installing": { "dfnID": "dom-serviceworkerregistration-installing", "dfnText": "installing", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerregistration-installing" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-installing\u2460" }, { "id": "ref-for-dom-serviceworkerregistration-installing\u2461" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-installing\u2462" }], "title": "3.2.2. installing" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-installing\u2463" }], "title": "Update Registration State" }], "url": "#dom-serviceworkerregistration-installing" },
        "dom-serviceworkerregistration-navigationpreload": { "dfnID": "dom-serviceworkerregistration-navigationpreload", "dfnText": "navigationPreload", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerregistration-navigationpreload" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-navigationpreload\u2460" }], "title": "3.2.5. navigationPreload" }], "url": "#dom-serviceworkerregistration-navigationpreload" },
        "dom-serviceworkerregistration-onupdatefound": { "dfnID": "dom-serviceworkerregistration-onupdatefound", "dfnText": "onupdatefound", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerregistration-onupdatefound" }], "title": "3.2. ServiceWorkerRegistration" }], "url": "#dom-serviceworkerregistration-onupdatefound" },
        "dom-serviceworkerregistration-scope": { "dfnID": "dom-serviceworkerregistration-scope", "dfnText": "scope", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerregistration-scope" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-scope\u2460" }], "title": "3.2.6. scope" }], "url": "#dom-serviceworkerregistration-scope" },
        "dom-serviceworkerregistration-unregister": { "dfnID": "dom-serviceworkerregistration-unregister", "dfnText": "unregister()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerregistration-unregister" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-unregister\u2460" }, { "id": "ref-for-dom-serviceworkerregistration-unregister\u2461" }, { "id": "ref-for-dom-serviceworkerregistration-unregister\u2462" }], "title": "3.2.9. unregister()" }], "url": "#dom-serviceworkerregistration-unregister" },
        "dom-serviceworkerregistration-update": { "dfnID": "dom-serviceworkerregistration-update", "dfnText": "update()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerregistration-update" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-update\u2460" }], "title": "3.2.8. update()" }], "url": "#dom-serviceworkerregistration-update" },
        "dom-serviceworkerregistration-updateviacache": { "dfnID": "dom-serviceworkerregistration-updateviacache", "dfnText": "updateViaCache", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerregistration-updateviacache" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-updateviacache\u2460" }], "title": "3.2.7. updateViaCache" }], "url": "#dom-serviceworkerregistration-updateviacache" },
        "dom-serviceworkerregistration-waiting": { "dfnID": "dom-serviceworkerregistration-waiting", "dfnText": "waiting", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-serviceworkerregistration-waiting" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-waiting\u2460" }, { "id": "ref-for-dom-serviceworkerregistration-waiting\u2461" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-waiting\u2462" }], "title": "3.2.3. waiting" }, { "refs": [{ "id": "ref-for-dom-serviceworkerregistration-waiting\u2463" }], "title": "Update Registration State" }], "url": "#dom-serviceworkerregistration-waiting" },
        "dom-serviceworkerstate-activated": { "dfnID": "dom-serviceworkerstate-activated", "dfnText": "\"activated\"", "external": false, "refSections": [], "url": "#dom-serviceworkerstate-activated" },
        "dom-serviceworkerstate-activating": { "dfnID": "dom-serviceworkerstate-activating", "dfnText": "\"activating\"", "external": false, "refSections": [], "url": "#dom-serviceworkerstate-activating" },
        "dom-serviceworkerstate-installed": { "dfnID": "dom-serviceworkerstate-installed", "dfnText": "\"installed\"", "external": false, "refSections": [], "url": "#dom-serviceworkerstate-installed" },
        "dom-serviceworkerstate-installing": { "dfnID": "dom-serviceworkerstate-installing", "dfnText": "\"installing\"", "external": false, "refSections": [], "url": "#dom-serviceworkerstate-installing" },
        "dom-serviceworkerstate-parsed": { "dfnID": "dom-serviceworkerstate-parsed", "dfnText": "\"parsed\"", "external": false, "refSections": [], "url": "#dom-serviceworkerstate-parsed" },
        "dom-serviceworkerstate-redundant": { "dfnID": "dom-serviceworkerstate-redundant", "dfnText": "\"redundant\"", "external": false, "refSections": [], "url": "#dom-serviceworkerstate-redundant" },
        "dom-serviceworkerupdateviacache-all": { "dfnID": "dom-serviceworkerupdateviacache-all", "dfnText": "\"all\"", "external": false, "refSections": [], "url": "#dom-serviceworkerupdateviacache-all" },
        "dom-serviceworkerupdateviacache-imports": { "dfnID": "dom-serviceworkerupdateviacache-imports", "dfnText": "\"imports\"", "external": false, "refSections": [], "url": "#dom-serviceworkerupdateviacache-imports" },
        "dom-serviceworkerupdateviacache-none": { "dfnID": "dom-serviceworkerupdateviacache-none", "dfnText": "\"none\"", "external": false, "refSections": [], "url": "#dom-serviceworkerupdateviacache-none" },
        "dom-windowclient-ancestororigins": { "dfnID": "dom-windowclient-ancestororigins", "dfnText": "ancestorOrigins", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-windowclient-ancestororigins" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-windowclient-ancestororigins\u2460" }], "title": "4.2.9. ancestorOrigins" }], "url": "#dom-windowclient-ancestororigins" },
        "dom-windowclient-focus": { "dfnID": "dom-windowclient-focus", "dfnText": "focus()", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-windowclient-focus" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-windowclient-focus\u2460" }], "title": "4.2.10. focus()" }], "url": "#dom-windowclient-focus" },
        "dom-windowclient-focused": { "dfnID": "dom-windowclient-focused", "dfnText": "focused", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-windowclient-focused" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-windowclient-focused\u2460" }], "title": "4.2.8. focused" }], "url": "#dom-windowclient-focused" },
        "dom-windowclient-navigate": { "dfnID": "dom-windowclient-navigate", "dfnText": "navigate(url)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-windowclient-navigate" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-windowclient-navigate\u2460" }], "title": "4.2.11. navigate(url)" }], "url": "#dom-windowclient-navigate" },
        "dom-windowclient-navigate-url-url": { "dfnID": "dom-windowclient-navigate-url-url", "dfnText": "url", "external": false, "refSections": [], "url": "#dom-windowclient-navigate-url-url" },
        "dom-windowclient-visibilitystate": { "dfnID": "dom-windowclient-visibilitystate", "dfnText": "visibilityState", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-dom-windowclient-visibilitystate" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-dom-windowclient-visibilitystate\u2460" }], "title": "4.2.7. visibilityState" }], "url": "#dom-windowclient-visibilitystate" },
        "e0eefdd9": { "dfnID": "e0eefdd9", "dfnText": "origin (for MessageEvent)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-messageevent-origin" }, { "id": "ref-for-dom-messageevent-origin\u2460" }], "title": "4.2.6. postMessage(message, options)" }], "url": "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-origin" },
        "e10e7eb7": { "dfnID": "e10e7eb7", "dfnText": "DOM manipulation task source", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-manipulation-task-source" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2460" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2461" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2462" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2463" }, { "id": "ref-for-dom-manipulation-task-source\u2464" }, { "id": "ref-for-dom-manipulation-task-source\u2465" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2466" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2467" }, { "id": "ref-for-dom-manipulation-task-source\u2468" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2460\u24ea" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2460\u2460" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2460\u2461" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2460\u2462" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2460\u2463" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2460\u2464" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2460\u2465" }, { "id": "ref-for-dom-manipulation-task-source\u2460\u2466" }], "title": "Resolve Job Promise" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2460\u2467" }, { "id": "ref-for-dom-manipulation-task-source\u2460\u2468" }], "title": "Reject Job Promise" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2461\u24ea" }, { "id": "ref-for-dom-manipulation-task-source\u2461\u2460" }], "title": "Install" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2461\u2461" }, { "id": "ref-for-dom-manipulation-task-source\u2461\u2462" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2461\u2463" }], "title": "Update Registration State" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2461\u2464" }], "title": "Update Worker State" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2461\u2465" }], "title": "Notify Controller Change" }, { "refs": [{ "id": "ref-for-dom-manipulation-task-source\u2461\u2466" }, { "id": "ref-for-dom-manipulation-task-source\u2461\u2467" }, { "id": "ref-for-dom-manipulation-task-source\u2461\u2468" }, { "id": "ref-for-dom-manipulation-task-source\u2462\u24ea" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" },
        "e270bd2a": { "dfnID": "e270bd2a", "dfnText": "task", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-task" }, { "id": "ref-for-concept-task\u2460" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-concept-task\u2461" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-concept-task\u2462" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-concept-task\u2463" }], "title": "Install" }, { "refs": [{ "id": "ref-for-concept-task\u2464" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-concept-task\u2465" }, { "id": "ref-for-concept-task\u2466" }, { "id": "ref-for-concept-task\u2467" }], "title": "Terminate Service Worker" }, { "refs": [{ "id": "ref-for-concept-task\u2468" }], "title": "Update Registration State" }, { "refs": [{ "id": "ref-for-concept-task\u2460\u24ea" }], "title": "Notify Controller Change" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" },
        "e2b69bfa": { "dfnID": "e2b69bfa", "dfnText": "highWaterMark", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-set-up-highwatermark" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#readablestream-set-up-highwatermark" },
        "e3201629": { "dfnID": "e3201629", "dfnText": "response (for Response)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response-response" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-concept-response-response\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-concept-response-response\u2461" }, { "id": "ref-for-concept-response-response\u2462" }, { "id": "ref-for-concept-response-response\u2463" }], "title": "6.4. Cross-Origin Resources and CORS" }], "url": "https://fetch.spec.whatwg.org/#concept-response-response" },
        "e3288657": { "dfnID": "e3288657", "dfnText": "responsible event loop", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-responsible-event-loop" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2460" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2461" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2462" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2463" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2464" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2465" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2466" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2467" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2468" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2460\u24ea" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2460\u2460" }, { "id": "ref-for-responsible-event-loop\u2460\u2461" }], "title": "Resolve Job Promise" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2460\u2462" }, { "id": "ref-for-responsible-event-loop\u2460\u2463" }], "title": "Reject Job Promise" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2460\u2464" }], "title": "Install" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2460\u2465" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2460\u2466" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2460\u2467" }], "title": "Update Registration State" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2460\u2468" }], "title": "Update Worker State" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2461\u24ea" }], "title": "Notify Controller Change" }, { "refs": [{ "id": "ref-for-responsible-event-loop\u2461\u2460" }, { "id": "ref-for-responsible-event-loop\u2461\u2461" }, { "id": "ref-for-responsible-event-loop\u2461\u2462" }, { "id": "ref-for-responsible-event-loop\u2461\u2463" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" },
        "e34ca041": { "dfnID": "e34ca041", "dfnText": "map of active timers", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-map-of-active-timers" }], "title": "Run Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#map-of-active-timers" },
        "e3e2d506": { "dfnID": "e3e2d506", "dfnText": "cancel (for ReadableStream)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-cancel" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://streams.spec.whatwg.org/#readablestream-cancel" },
        "e5bf7ea1": { "dfnID": "e5bf7ea1", "dfnText": "web worker", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-workers" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-workers\u2460" }, { "id": "ref-for-workers\u2461" }], "title": "Update" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#workers" },
        "e6defb69": { "dfnID": "e6defb69", "dfnText": "cache state", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response-cache-state" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-concept-response-cache-state\u2460" }, { "id": "ref-for-concept-response-cache-state\u2461" }], "title": "Update" }], "url": "https://fetch.spec.whatwg.org/#concept-response-cache-state" },
        "e7cb09fb": { "dfnID": "e7cb09fb", "dfnText": "StructuredDeserializeWithTransfer", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-structureddeserializewithtransfer" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-structureddeserializewithtransfer\u2460" }], "title": "4.2.6. postMessage(message, options)" }], "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer" },
        "e806d5a8": { "dfnID": "e806d5a8", "dfnText": "Headers", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-headers" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-headers\u2460" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-headers\u2461" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-headers\u2462" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#headers" },
        "e99bd18e": { "dfnID": "e99bd18e", "dfnText": "relevant global object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-relevant-global" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2460" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2461" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2462" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2463" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2464" }, { "id": "ref-for-concept-relevant-global\u2465" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2466" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2467" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-concept-relevant-global\u2468" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
        "e9ac3051": { "dfnID": "e9ac3051", "dfnText": "WorkerLocation", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-workerlocation" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#workerlocation" },
        "e9c58cef": { "dfnID": "e9c58cef", "dfnText": "time origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-settings-object-time-origin" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin" },
        "ea6f3f13": { "dfnID": "ea6f3f13", "dfnText": "run a worker", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-run-a-worker" }], "title": "2.5.2. The worker client case" }], "url": "https://html.spec.whatwg.org/multipage/workers.html#run-a-worker" },
        "ea8132ed": { "dfnID": "ea8132ed", "dfnText": "push", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-h-the-push-event" }], "title": "2.6. Task Sources" }], "url": "https://w3c.github.io/push-api/#h-the-push-event" },
        "eb1b1af3": { "dfnID": "eb1b1af3", "dfnText": "network error", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-network-error" }, { "id": "ref-for-concept-network-error\u2460" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-concept-network-error\u2461" }, { "id": "ref-for-concept-network-error\u2462" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-concept-network-error\u2463" }, { "id": "ref-for-concept-network-error\u2464" }, { "id": "ref-for-concept-network-error\u2465" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-network-error\u2466" }, { "id": "ref-for-concept-network-error\u2467" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-network-error\u2468" }, { "id": "ref-for-concept-network-error\u2460\u24ea" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#concept-network-error" },
        "ed60a31e": { "dfnID": "ed60a31e", "dfnText": "PerformanceNavigationTiming", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-dom-performancenavigationtiming" }], "title": "2.2. Service Worker Timing" }], "url": "https://www.w3.org/TR/navigation-timing-2/#dom-performancenavigationtiming" },
        "ed948033": { "dfnID": "ed948033", "dfnText": "fragment", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-url-fragment" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-concept-url-fragment\u2460" }, { "id": "ref-for-concept-url-fragment\u2461" }, { "id": "ref-for-concept-url-fragment\u2462" }, { "id": "ref-for-concept-url-fragment\u2463" }, { "id": "ref-for-concept-url-fragment\u2464" }, { "id": "ref-for-concept-url-fragment\u2465" }], "title": "Start Register" }], "url": "https://url.spec.whatwg.org/#concept-url-fragment" },
        "ee1a333c": { "dfnID": "ee1a333c", "dfnText": "parser metadata", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-parser-metadata" }], "title": "Update" }], "url": "https://fetch.spec.whatwg.org/#concept-request-parser-metadata" },
        "ee7bba09": { "dfnID": "ee7bba09", "dfnText": "response", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-concept-response\u2460" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-concept-response\u2461" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-concept-response\u2462" }, { "id": "ref-for-concept-response\u2463" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-concept-response\u2464" }], "title": "5.1. Constructs" }, { "refs": [{ "id": "ref-for-concept-response\u2465" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-concept-response\u2466" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-concept-response\u2467" }, { "id": "ref-for-concept-response\u2468" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-response\u2460\u24ea" }, { "id": "ref-for-concept-response\u2460\u2460" }, { "id": "ref-for-concept-response\u2460\u2461" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-concept-response\u2460\u2462" }, { "id": "ref-for-concept-response\u2460\u2463" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-concept-response\u2460\u2464" }], "title": "Request Matches Cached Item" }, { "refs": [{ "id": "ref-for-concept-response\u2460\u2465" }, { "id": "ref-for-concept-response\u2460\u2466" }], "title": "Lookup Race Response" }], "url": "https://fetch.spec.whatwg.org/#concept-response" },
        "ef104a06": { "dfnID": "ef104a06", "dfnText": "function body", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-prod-FunctionBody" }], "title": "All Fetch Listeners Are Empty" }], "url": "http://tc39.github.io/ecma262/#prod-FunctionBody" },
        "efd1ec5d": { "dfnID": "efd1ec5d", "dfnText": "object", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-idl-object" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-idl-object\u2460" }], "title": "4.2. Client" }], "url": "https://webidl.spec.whatwg.org/#idl-object" },
        "enumdef-clienttype": { "dfnID": "enumdef-clienttype", "dfnText": "ClientType", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-clienttype" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-enumdef-clienttype\u2460" }], "title": "4.3. Clients" }], "url": "#enumdef-clienttype" },
        "enumdef-frametype": { "dfnID": "enumdef-frametype", "dfnText": "FrameType", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-frametype" }], "title": "4.2. Client" }], "url": "#enumdef-frametype" },
        "enumdef-routersourceenum": { "dfnID": "enumdef-routersourceenum", "dfnText": "RouterSourceEnum", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-routersourceenum" }], "title": "4.5. InstallEvent" }], "url": "#enumdef-routersourceenum" },
        "enumdef-runningstatus": { "dfnID": "enumdef-runningstatus", "dfnText": "RunningStatus", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-runningstatus" }], "title": "4.5. InstallEvent" }], "url": "#enumdef-runningstatus" },
        "enumdef-serviceworkerstate": { "dfnID": "enumdef-serviceworkerstate", "dfnText": "ServiceWorkerState", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-serviceworkerstate" }, { "id": "ref-for-enumdef-serviceworkerstate\u2460" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-enumdef-serviceworkerstate\u2461" }], "title": "3.1.3. state" }], "url": "#enumdef-serviceworkerstate" },
        "enumdef-serviceworkerupdateviacache": { "dfnID": "enumdef-serviceworkerupdateviacache", "dfnText": "ServiceWorkerUpdateViaCache", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-enumdef-serviceworkerupdateviacache" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-enumdef-serviceworkerupdateviacache\u2460" }], "title": "3.4. ServiceWorkerContainer" }], "url": "#enumdef-serviceworkerupdateviacache" },
        "environment-settings-object-service-worker-object-map": { "dfnID": "environment-settings-object-service-worker-object-map", "dfnText": "service worker object map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-environment-settings-object-service-worker-object-map" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-environment-settings-object-service-worker-object-map\u2460" }], "title": "Update Worker State" }], "url": "#environment-settings-object-service-worker-object-map" },
        "environment-settings-object-service-worker-registration-object-map": { "dfnID": "environment-settings-object-service-worker-registration-object-map", "dfnText": "service worker registration object map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-environment-settings-object-service-worker-registration-object-map" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }], "url": "#environment-settings-object-service-worker-registration-object-map" },
        "eventdef-serviceworker-statechange": { "dfnID": "eventdef-serviceworker-statechange", "dfnText": "statechange", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-eventdef-serviceworker-statechange" }], "title": "3.1.6. Event handler" }, { "refs": [{ "id": "ref-for-eventdef-serviceworker-statechange\u2460" }], "title": "Update Worker State" }], "url": "#eventdef-serviceworker-statechange" },
        "eventdef-serviceworkerglobalscope-message": { "dfnID": "eventdef-serviceworkerglobalscope-message", "dfnText": "message", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-eventdef-serviceworkerglobalscope-message" }], "title": "2.1.2. Events" }, { "refs": [{ "id": "ref-for-eventdef-serviceworkerglobalscope-message\u2460" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-eventdef-serviceworkerglobalscope-message\u2461" }], "title": "4.1.5. Event handlers" }, { "refs": [{ "id": "ref-for-eventdef-serviceworkerglobalscope-message\u2462" }, { "id": "ref-for-eventdef-serviceworkerglobalscope-message\u2463" }], "title": "4.7. ExtendableMessageEvent" }], "url": "#eventdef-serviceworkerglobalscope-message" },
        "eventdef-serviceworkerglobalscope-messageerror": { "dfnID": "eventdef-serviceworkerglobalscope-messageerror", "dfnText": "messageerror", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-eventdef-serviceworkerglobalscope-messageerror" }], "title": "2.1.2. Events" }, { "refs": [{ "id": "ref-for-eventdef-serviceworkerglobalscope-messageerror\u2460" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-eventdef-serviceworkerglobalscope-messageerror\u2461" }], "title": "4.1.5. Event handlers" }], "url": "#eventdef-serviceworkerglobalscope-messageerror" },
        "extendableevent": { "dfnID": "extendableevent", "dfnText": "ExtendableEvent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-extendableevent" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-extendableevent\u2460" }, { "id": "ref-for-extendableevent\u2461" }, { "id": "ref-for-extendableevent\u2462" }, { "id": "ref-for-extendableevent\u2463" }, { "id": "ref-for-extendableevent\u2464" }, { "id": "ref-for-extendableevent\u2465" }, { "id": "ref-for-extendableevent\u2466" }, { "id": "ref-for-extendableevent\u2467" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-extendableevent\u2468" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-extendableevent\u2460\u24ea" }, { "id": "ref-for-extendableevent\u2460\u2460" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-extendableevent\u2460\u2461" }, { "id": "ref-for-extendableevent\u2460\u2462" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-extendableevent\u2460\u2463" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-extendableevent\u2460\u2464" }], "title": "7.2. Define Functional Event" }, { "refs": [{ "id": "ref-for-extendableevent\u2460\u2465" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-extendableevent\u2460\u2466" }, { "id": "ref-for-extendableevent\u2460\u2467" }], "title": "Fire Functional Event" }], "url": "#extendableevent" },
        "extendableevent-active": { "dfnID": "extendableevent-active", "dfnText": "active", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-extendableevent-active" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-extendableevent-active\u2460" }], "title": "Install" }, { "refs": [{ "id": "ref-for-extendableevent-active\u2461" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-extendableevent-active\u2462" }, { "id": "ref-for-extendableevent-active\u2463" }], "title": "Update Service Worker Extended Events Set" }, { "refs": [{ "id": "ref-for-extendableevent-active\u2464" }], "title": "Service Worker Has No Pending Events" }], "url": "#extendableevent-active" },
        "extendableevent-add-lifetime-promise": { "dfnID": "extendableevent-add-lifetime-promise", "dfnText": "add lifetime promise", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-extendableevent-add-lifetime-promise" }], "title": "4.4.1. event.waitUntil(f)" }, { "refs": [{ "id": "ref-for-extendableevent-add-lifetime-promise\u2460" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-extendableevent-add-lifetime-promise\u2461" }], "title": "4.6.7. event.respondWith(r)" }], "url": "#extendableevent-add-lifetime-promise" },
        "extendableevent-extend-lifetime-promises": { "dfnID": "extendableevent-extend-lifetime-promises", "dfnText": "extend lifetime promises", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-extendableevent-extend-lifetime-promises" }, { "id": "ref-for-extendableevent-extend-lifetime-promises\u2460" }, { "id": "ref-for-extendableevent-extend-lifetime-promises\u2461" }, { "id": "ref-for-extendableevent-extend-lifetime-promises\u2462" }, { "id": "ref-for-extendableevent-extend-lifetime-promises\u2463" }, { "id": "ref-for-extendableevent-extend-lifetime-promises\u2464" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-extendableevent-extend-lifetime-promises\u2465" }, { "id": "ref-for-extendableevent-extend-lifetime-promises\u2466" }], "title": "Install" }, { "refs": [{ "id": "ref-for-extendableevent-extend-lifetime-promises\u2467" }], "title": "Unregister" }], "url": "#extendableevent-extend-lifetime-promises" },
        "extendableevent-pending-promises-count": { "dfnID": "extendableevent-pending-promises-count", "dfnText": "pending promises count", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-extendableevent-pending-promises-count" }, { "id": "ref-for-extendableevent-pending-promises-count\u2460" }, { "id": "ref-for-extendableevent-pending-promises-count\u2461" }, { "id": "ref-for-extendableevent-pending-promises-count\u2462" }, { "id": "ref-for-extendableevent-pending-promises-count\u2463" }, { "id": "ref-for-extendableevent-pending-promises-count\u2464" }], "title": "4.4. ExtendableEvent" }], "url": "#extendableevent-pending-promises-count" },
        "extendableevent-timed-out-flag": { "dfnID": "extendableevent-timed-out-flag", "dfnText": "timed out flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-extendableevent-timed-out-flag" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-extendableevent-timed-out-flag\u2460" }], "title": "Install" }], "url": "#extendableevent-timed-out-flag" },
        "extendablemessageevent": { "dfnID": "extendablemessageevent", "dfnText": "ExtendableMessageEvent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-extendablemessageevent" }, { "id": "ref-for-extendablemessageevent\u2460" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-extendablemessageevent\u2461" }, { "id": "ref-for-extendablemessageevent\u2462" }], "title": "4.7. ExtendableMessageEvent" }, { "refs": [{ "id": "ref-for-extendablemessageevent\u2463" }], "title": "4.8. Events" }], "url": "#extendablemessageevent" },
        "f0951476": { "dfnID": "f0951476", "dfnText": "EventHandler", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-eventhandler" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-eventhandler\u2460" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-eventhandler\u2461" }, { "id": "ref-for-eventhandler\u2462" }, { "id": "ref-for-eventhandler\u2463" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-eventhandler\u2464" }, { "id": "ref-for-eventhandler\u2465" }, { "id": "ref-for-eventhandler\u2466" }, { "id": "ref-for-eventhandler\u2467" }, { "id": "ref-for-eventhandler\u2468" }], "title": "4.1. ServiceWorkerGlobalScope" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
        "f0e85418": { "dfnID": "f0e85418", "dfnText": "close steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-read-request-close-steps" }], "title": "4.6.7. event.respondWith(r)" }], "url": "https://streams.spec.whatwg.org/#read-request-close-steps" },
        "f0fdbfa4": { "dfnID": "f0fdbfa4", "dfnText": "fetch a classic worker script", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-fetch-a-classic-worker-script" }, { "id": "ref-for-fetch-a-classic-worker-script\u2460" }], "title": "Update" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script" },
        "f14ed351": { "dfnID": "f14ed351", "dfnText": "upon rejection", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-upon-rejection" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-upon-rejection\u2460" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-upon-rejection\u2461" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-upon-rejection\u2462" }], "title": "Install" }], "url": "https://webidl.spec.whatwg.org/#upon-rejection" },
        "f1d0e483": { "dfnID": "f1d0e483", "dfnText": "value", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-event-handler-value" }], "title": "All Fetch Listeners Are Empty" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-value" },
        "f33a5993": { "dfnID": "f33a5993", "dfnText": "disturbed", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-is-readable-stream-disturbed" }], "title": "5.4.5. put(request, response)" }], "url": "https://streams.spec.whatwg.org/#is-readable-stream-disturbed" },
        "f4e63c13": { "dfnID": "f4e63c13", "dfnText": "declaration", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-statements-and-declarations" }, { "id": "ref-for-sec-ecmascript-language-statements-and-declarations\u2460" }], "title": "All Fetch Listeners Are Empty" }], "url": "http://tc39.github.io/ecma262/#sec-ecmascript-language-statements-and-declarations" },
        "f5265332": { "dfnID": "f5265332", "dfnText": "execution ready flag", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-environment-execution-ready-flag" }, { "id": "ref-for-concept-environment-execution-ready-flag\u2460" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-concept-environment-execution-ready-flag\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-concept-environment-execution-ready-flag\u2462" }], "title": "4.3.4. claim()" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag" },
        "f5d4a41e": { "dfnID": "f5d4a41e", "dfnText": "potentially trustworthy URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-potentially-trustworthy-url" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-potentially-trustworthy-url\u2460" }], "title": "Resolve Get Client Promise" }], "url": "https://www.w3.org/TR/secure-contexts/#potentially-trustworthy-url" },
        "f78d5b5c": { "dfnID": "f78d5b5c", "dfnText": "origin", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-origin" }], "title": "2.5. Control and Use" }], "url": "https://fetch.spec.whatwg.org/#concept-request-origin" },
        "f7b00a8b": { "dfnID": "f7b00a8b", "dfnText": "header list (for response)", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-response-header-list" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-concept-response-header-list\u2460" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-concept-response-header-list\u2461" }], "title": "Appendix A: Algorithms" }, { "refs": [{ "id": "ref-for-concept-response-header-list\u2462" }, { "id": "ref-for-concept-response-header-list\u2463" }], "title": "Update" }, { "refs": [{ "id": "ref-for-concept-response-header-list\u2464" }], "title": "Request Matches Cached Item" }], "url": "https://fetch.spec.whatwg.org/#concept-response-header-list" },
        "f7bf85cd": { "dfnID": "f7bf85cd", "dfnText": "forbidden method", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-forbidden-method" }], "title": "Verify Router Condition" }], "url": "https://fetch.spec.whatwg.org/#forbidden-method" },
        "f7e0ea10": { "dfnID": "f7e0ea10", "dfnText": "abort a running script", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-abort-a-running-script" }], "title": "Terminate Service Worker" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#abort-a-running-script" },
        "f937b7b6": { "dfnID": "f937b7b6", "dfnText": "continue", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-iteration-continue" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-iteration-continue\u2460" }, { "id": "ref-for-iteration-continue\u2461" }, { "id": "ref-for-iteration-continue\u2462" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-iteration-continue\u2463" }, { "id": "ref-for-iteration-continue\u2464" }, { "id": "ref-for-iteration-continue\u2465" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-iteration-continue\u2466" }], "title": "Reject Job Promise" }, { "refs": [{ "id": "ref-for-iteration-continue\u2467" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-iteration-continue\u2468" }], "title": "Handle Fetch" }], "url": "https://infra.spec.whatwg.org/#iteration-continue" },
        "f9da6f1f": { "dfnID": "f9da6f1f", "dfnText": "Request", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-request" }, { "id": "ref-for-request\u2460" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-request\u2461" }], "title": "5.4. Cache" }, { "refs": [{ "id": "ref-for-request\u2462" }, { "id": "ref-for-request\u2463" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-request\u2464" }, { "id": "ref-for-request\u2465" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-request\u2466" }, { "id": "ref-for-request\u2467" }], "title": "5.4.5. put(request, response)" }, { "refs": [{ "id": "ref-for-request\u2468" }, { "id": "ref-for-request\u2460\u24ea" }], "title": "5.4.6. delete(request, options)" }, { "refs": [{ "id": "ref-for-request\u2460\u2460" }, { "id": "ref-for-request\u2460\u2461" }, { "id": "ref-for-request\u2460\u2462" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-request\u2460\u2463" }], "title": "Create Fetch Event and Dispatch" }], "url": "https://fetch.spec.whatwg.org/#request" },
        "fa4ea124": { "dfnID": "fa4ea124", "dfnText": "initiator", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-request-initiator" }], "title": "5.4.4. addAll(requests)" }], "url": "https://fetch.spec.whatwg.org/#concept-request-initiator" },
        "fa5ee9c5": { "dfnID": "fa5ee9c5", "dfnText": "creation URL", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-environment-creation-url" }], "title": "2.4. Service Worker Client" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2460" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2461" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2462" }], "title": "4.2.1. url" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2463" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2464" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2465" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2466" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2467" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-concept-environment-creation-url\u2468" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" },
        "facacdeb": { "dfnID": "facacdeb", "dfnText": "statement", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-sec-ecmascript-language-statements-and-declarations" }, { "id": "ref-for-sec-ecmascript-language-statements-and-declarations\u2460" }], "title": "All Fetch Listeners Are Empty" }], "url": "http://tc39.github.io/ecma262/#sec-ecmascript-language-statements-and-declarations" },
        "fe07e8b2": { "dfnID": "fe07e8b2", "dfnText": "focusing steps", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-focusing-steps" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-focusing-steps\u2460" }, { "id": "ref-for-focusing-steps\u2461" }, { "id": "ref-for-focusing-steps\u2462" }], "title": "4.3.2. matchAll(options)" }], "url": "https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" },
        "fetchevent": { "dfnID": "fetchevent", "dfnText": "FetchEvent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-fetchevent" }, { "id": "ref-for-fetchevent\u2460" }, { "id": "ref-for-fetchevent\u2461" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-fetchevent\u2462" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-fetchevent\u2463" }], "title": "Create Fetch Event and Dispatch" }], "url": "#fetchevent" },
        "fetchevent-potential-response": { "dfnID": "fetchevent-potential-response", "dfnText": "potential response", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-fetchevent-potential-response" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-fetchevent-potential-response\u2460" }], "title": "Create Fetch Event and Dispatch" }], "url": "#fetchevent-potential-response" },
        "fetchevent-respond-with-entered-flag": { "dfnID": "fetchevent-respond-with-entered-flag", "dfnText": "respond-with entered flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-fetchevent-respond-with-entered-flag" }, { "id": "ref-for-fetchevent-respond-with-entered-flag\u2460" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-fetchevent-respond-with-entered-flag\u2461" }], "title": "Create Fetch Event and Dispatch" }], "url": "#fetchevent-respond-with-entered-flag" },
        "fetchevent-respond-with-error-flag": { "dfnID": "fetchevent-respond-with-error-flag", "dfnText": "respond-with error flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-fetchevent-respond-with-error-flag" }, { "id": "ref-for-fetchevent-respond-with-error-flag\u2460" }, { "id": "ref-for-fetchevent-respond-with-error-flag\u2461" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-fetchevent-respond-with-error-flag\u2462" }], "title": "Create Fetch Event and Dispatch" }], "url": "#fetchevent-respond-with-error-flag" },
        "fetchevent-wait-to-respond-flag": { "dfnID": "fetchevent-wait-to-respond-flag", "dfnText": "wait to respond flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-fetchevent-wait-to-respond-flag" }, { "id": "ref-for-fetchevent-wait-to-respond-flag\u2460" }, { "id": "ref-for-fetchevent-wait-to-respond-flag\u2461" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-fetchevent-wait-to-respond-flag\u2462" }, { "id": "ref-for-fetchevent-wait-to-respond-flag\u2463" }], "title": "Create Fetch Event and Dispatch" }], "url": "#fetchevent-wait-to-respond-flag" },
        "ffba9cf8": { "dfnID": "ffba9cf8", "dfnText": "locked", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-readablestream-locked" }, { "id": "ref-for-readablestream-locked\u2460" }], "title": "5.4.5. put(request, response)" }], "url": "https://streams.spec.whatwg.org/#readablestream-locked" },
        "fff7fefb": { "dfnID": "fff7fefb", "dfnText": "ancestor origins list", "external": true, "refSections": [{ "refs": [{ "id": "ref-for-concept-location-ancestor-origins-list" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-concept-location-ancestor-origins-list\u2460" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-concept-location-ancestor-origins-list\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-concept-location-ancestor-origins-list\u2462" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-concept-location-ancestor-origins-list\u2463" }], "title": "Resolve Get Client Promise" }], "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-location-ancestor-origins-list" },
        "finish-job": { "dfnID": "finish-job", "dfnText": "Finish Job", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-finish-job" }, { "id": "ref-for-finish-job\u2460" }, { "id": "ref-for-finish-job\u2461" }, { "id": "ref-for-finish-job\u2462" }], "title": "Register" }, { "refs": [{ "id": "ref-for-finish-job\u2463" }, { "id": "ref-for-finish-job\u2464" }, { "id": "ref-for-finish-job\u2465" }, { "id": "ref-for-finish-job\u2466" }, { "id": "ref-for-finish-job\u2467" }], "title": "Update" }, { "refs": [{ "id": "ref-for-finish-job\u2468" }, { "id": "ref-for-finish-job\u2460\u24ea" }], "title": "Install" }, { "refs": [{ "id": "ref-for-finish-job\u2460\u2460" }, { "id": "ref-for-finish-job\u2460\u2461" }, { "id": "ref-for-finish-job\u2460\u2462" }], "title": "Unregister" }], "url": "#finish-job" },
        "fire-functional-event": { "dfnID": "fire-functional-event", "dfnText": "Fire Functional Event", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-fire-functional-event" }], "title": "7.4. Firing Functional Events" }, { "refs": [{ "id": "ref-for-fire-functional-event\u2460" }, { "id": "ref-for-fire-functional-event\u2461" }], "title": "Fire Functional Event" }], "url": "#fire-functional-event" },
        "get-frame-type": { "dfnID": "get-frame-type", "dfnText": "Get Frame Type", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-frame-type" }], "title": "4.2.10. focus()" }, { "refs": [{ "id": "ref-for-get-frame-type\u2460" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-get-frame-type\u2461" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-get-frame-type\u2462" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-get-frame-type\u2463" }], "title": "Resolve Get Client Promise" }], "url": "#get-frame-type" },
        "get-newest-worker": { "dfnID": "get-newest-worker", "dfnText": "Get Newest Worker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-newest-worker" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-get-newest-worker\u2460" }], "title": "Register" }, { "refs": [{ "id": "ref-for-get-newest-worker\u2461" }], "title": "Update" }, { "refs": [{ "id": "ref-for-get-newest-worker\u2462" }], "title": "Soft Update" }, { "refs": [{ "id": "ref-for-get-newest-worker\u2463" }], "title": "Install" }], "url": "#get-newest-worker" },
        "get-registration": { "dfnID": "get-registration", "dfnText": "Get Registration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-registration" }], "title": "Register" }, { "refs": [{ "id": "ref-for-get-registration\u2460" }], "title": "Update" }, { "refs": [{ "id": "ref-for-get-registration\u2461" }], "title": "Unregister" }, { "refs": [{ "id": "ref-for-get-registration\u2462" }], "title": "Match Service Worker Registration" }], "url": "#get-registration" },
        "get-router-source": { "dfnID": "get-router-source", "dfnText": "Get Router Source", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-router-source" }], "title": "Handle Fetch" }], "url": "#get-router-source" },
        "get-the-service-worker-object": { "dfnID": "get-the-service-worker-object", "dfnText": "get the service worker object", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-the-service-worker-object" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-get-the-service-worker-object\u2460" }, { "id": "ref-for-get-the-service-worker-object\u2461" }, { "id": "ref-for-get-the-service-worker-object\u2462" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-get-the-service-worker-object\u2463" }], "title": "3.4.1. controller" }, { "refs": [{ "id": "ref-for-get-the-service-worker-object\u2464" }], "title": "4.1.3. serviceWorker" }, { "refs": [{ "id": "ref-for-get-the-service-worker-object\u2465" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-get-the-service-worker-object\u2466" }, { "id": "ref-for-get-the-service-worker-object\u2467" }, { "id": "ref-for-get-the-service-worker-object\u2468" }], "title": "Update Registration State" }], "url": "#get-the-service-worker-object" },
        "get-the-service-worker-registration-object": { "dfnID": "get-the-service-worker-registration-object", "dfnText": "get the service worker registration object", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-get-the-service-worker-registration-object" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-get-the-service-worker-registration-object\u2460" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-get-the-service-worker-registration-object\u2461" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-get-the-service-worker-registration-object\u2462" }], "title": "4.1.2. registration" }, { "refs": [{ "id": "ref-for-get-the-service-worker-registration-object\u2463" }, { "id": "ref-for-get-the-service-worker-registration-object\u2464" }], "title": "Resolve Job Promise" }, { "refs": [{ "id": "ref-for-get-the-service-worker-registration-object\u2465" }], "title": "Activate" }], "url": "#get-the-service-worker-registration-object" },
        "global-caches-attribute": { "dfnID": "global-caches-attribute", "dfnText": "caches", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-global-caches-attribute" }, { "id": "ref-for-global-caches-attribute\u2460" }], "title": "5.3. self.caches" }, { "refs": [{ "id": "ref-for-global-caches-attribute\u2461" }], "title": "5.3.1. caches" }], "url": "#global-caches-attribute" },
        "handle-fetch": { "dfnID": "handle-fetch", "dfnText": "Handle Fetch", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-handle-fetch\u2460" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-handle-fetch\u2461" }, { "id": "ref-for-handle-fetch\u2462" }], "title": "4.6.7. event.respondWith(r)" }, { "refs": [{ "id": "ref-for-handle-fetch\u2463" }, { "id": "ref-for-handle-fetch\u2464" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-handle-fetch\u2465" }], "title": "6.7. Implementer Concerns" }, { "refs": [{ "id": "ref-for-handle-fetch\u2466" }], "title": "Handle Fetch" }], "url": "#handle-fetch" },
        "handle-service-worker-client-unload": { "dfnID": "handle-service-worker-client-unload", "dfnText": "Handle Service Worker Client Unload", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-handle-service-worker-client-unload" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-handle-service-worker-client-unload\u2460" }], "title": "Install" }, { "refs": [{ "id": "ref-for-handle-service-worker-client-unload\u2461" }], "title": "Unregister" }], "url": "#handle-service-worker-client-unload" },
        "handle-user-agent-shutdown": { "dfnID": "handle-user-agent-shutdown", "dfnText": "Handle User Agent Shutdown", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-handle-user-agent-shutdown" }], "title": "2.7. User Agent Shutdown" }], "url": "#handle-user-agent-shutdown" },
        "importscripts-method": { "dfnID": "importscripts-method", "dfnText": "importScripts(urls)", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-importscripts-method" }], "title": "6.3.1. Origin restriction" }, { "refs": [{ "id": "ref-for-importscripts-method\u2460" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-importscripts-method\u2461" }], "title": "Update" }], "url": "#importscripts-method" },
        "install": { "dfnID": "install", "dfnText": "Install", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-install" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-install\u2460" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-install\u2461" }], "title": "Update" }], "url": "#install" },
        "installevent": { "dfnID": "installevent", "dfnText": "InstallEvent", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-installevent" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-installevent\u2460" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-installevent\u2461" }], "title": "Install" }], "url": "#installevent" },
        "is-async-module": { "dfnID": "is-async-module", "dfnText": "Is Async Module", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-is-async-module" }], "title": "Update" }, { "refs": [{ "id": "ref-for-is-async-module\u2460" }], "title": "Is Async Module" }], "url": "#is-async-module" },
        "job-referrer": { "dfnID": "job-referrer", "dfnText": "referrer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-job-referrer" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-job-referrer\u2460" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-job-referrer\u2461" }, { "id": "ref-for-job-referrer\u2462" }], "title": "Register" }], "url": "#job-referrer" },
        "job-storage-key": { "dfnID": "job-storage-key", "dfnText": "storage key", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-job-storage-key" }], "title": "Create Job" }, { "refs": [{ "id": "ref-for-job-storage-key\u2460" }, { "id": "ref-for-job-storage-key\u2461" }], "title": "Register" }, { "refs": [{ "id": "ref-for-job-storage-key\u2462" }], "title": "Update" }, { "refs": [{ "id": "ref-for-job-storage-key\u2463" }], "title": "Unregister" }], "url": "#job-storage-key" },
        "lookup-race-response": { "dfnID": "lookup-race-response", "dfnText": "Lookup Race Response", "external": false, "refSections": [], "url": "#lookup-race-response" },
        "match-router-condition": { "dfnID": "match-router-condition", "dfnText": "Match Router Condition", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-match-router-condition" }, { "id": "ref-for-match-router-condition\u2460" }], "title": "Match Router Condition" }, { "refs": [{ "id": "ref-for-match-router-condition\u2461" }], "title": "Get Router Source" }], "url": "#match-router-condition" },
        "match-service-worker-registration": { "dfnID": "match-service-worker-registration", "dfnText": "Match Service Worker Registration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-match-service-worker-registration" }], "title": "2.5.1. The window client case" }, { "refs": [{ "id": "ref-for-match-service-worker-registration\u2460" }], "title": "2.5.2. The worker client case" }, { "refs": [{ "id": "ref-for-match-service-worker-registration\u2461" }], "title": "3.1.2. scriptURL" }, { "refs": [{ "id": "ref-for-match-service-worker-registration\u2462" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-match-service-worker-registration\u2463" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-match-service-worker-registration\u2464" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-match-service-worker-registration\u2465" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-match-service-worker-registration\u2466" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-match-service-worker-registration\u2467" }], "title": "Lookup Race Response" }], "url": "#match-service-worker-registration" },
        "navigationpreloadmanager": { "dfnID": "navigationpreloadmanager", "dfnText": "NavigationPreloadManager", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-navigationpreloadmanager" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-navigationpreloadmanager\u2460" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-navigationpreloadmanager\u2461" }], "title": "3.2.5. navigationPreload" }, { "refs": [{ "id": "ref-for-navigationpreloadmanager\u2462" }], "title": "3.6. NavigationPreloadManager" }], "url": "#navigationpreloadmanager" },
        "navigator-service-worker-attribute": { "dfnID": "navigator-service-worker-attribute", "dfnText": "serviceWorker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-navigator-service-worker-attribute" }, { "id": "ref-for-navigator-service-worker-attribute\u2460" }, { "id": "ref-for-navigator-service-worker-attribute\u2461" }], "title": "3.3. navigator.serviceWorker" }], "url": "#navigator-service-worker-attribute" },
        "notify-controller-change": { "dfnID": "notify-controller-change", "dfnText": "Notify Controller Change", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-notify-controller-change" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-notify-controller-change\u2460" }], "title": "Activate" }], "url": "#notify-controller-change" },
        "parse-url-pattern": { "dfnID": "parse-url-pattern", "dfnText": "Parse URL Pattern", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-parse-url-pattern" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-parse-url-pattern\u2460" }], "title": "Match Router Condition" }], "url": "#parse-url-pattern" },
        "query-cache": { "dfnID": "query-cache", "dfnText": "Query Cache", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-query-cache" }], "title": "5.4.2. matchAll(request, options)" }, { "refs": [{ "id": "ref-for-query-cache\u2460" }], "title": "5.4.7. keys(request, options)" }, { "refs": [{ "id": "ref-for-query-cache\u2461" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-query-cache\u2462" }, { "id": "ref-for-query-cache\u2463" }, { "id": "ref-for-query-cache\u2464" }], "title": "Batch Cache Operations" }], "url": "#query-cache" },
        "race-response-value": { "dfnID": "race-response-value", "dfnText": "value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-race-response-value" }, { "id": "ref-for-race-response-value\u2460" }, { "id": "ref-for-race-response-value\u2461" }, { "id": "ref-for-race-response-value\u2462" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-race-response-value\u2463" }, { "id": "ref-for-race-response-value\u2464" }, { "id": "ref-for-race-response-value\u2465" }, { "id": "ref-for-race-response-value\u2466" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-race-response-value\u2467" }, { "id": "ref-for-race-response-value\u2468" }, { "id": "ref-for-race-response-value\u2460\u24ea" }], "title": "Lookup Race Response" }], "url": "#race-response-value" },
        "register": { "dfnID": "register", "dfnText": "Register", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-register" }], "title": "2.3.1. Lifetime" }, { "refs": [{ "id": "ref-for-register\u2460" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-register\u2461" }], "title": "Run Job" }], "url": "#register" },
        "reject-job-promise": { "dfnID": "reject-job-promise", "dfnText": "Reject Job Promise", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-reject-job-promise" }, { "id": "ref-for-reject-job-promise\u2460" }, { "id": "ref-for-reject-job-promise\u2461" }], "title": "Register" }, { "refs": [{ "id": "ref-for-reject-job-promise\u2462" }, { "id": "ref-for-reject-job-promise\u2463" }, { "id": "ref-for-reject-job-promise\u2464" }, { "id": "ref-for-reject-job-promise\u2465" }, { "id": "ref-for-reject-job-promise\u2466" }, { "id": "ref-for-reject-job-promise\u2467" }, { "id": "ref-for-reject-job-promise\u2468" }], "title": "Update" }, { "refs": [{ "id": "ref-for-reject-job-promise\u2460\u24ea" }], "title": "Unregister" }], "url": "#reject-job-promise" },
        "request-matches-cached-item": { "dfnID": "request-matches-cached-item", "dfnText": "Request Matches Cached Item", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-request-matches-cached-item" }], "title": "Query Cache" }], "url": "#request-matches-cached-item" },
        "resolve-get-client-promise": { "dfnID": "resolve-get-client-promise", "dfnText": "Resolve Get Client Promise", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-resolve-get-client-promise" }], "title": "4.3.1. get(id)" }], "url": "#resolve-get-client-promise" },
        "resolve-job-promise": { "dfnID": "resolve-job-promise", "dfnText": "Resolve Job Promise", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-resolve-job-promise" }], "title": "Register" }, { "refs": [{ "id": "ref-for-resolve-job-promise\u2460" }], "title": "Update" }, { "refs": [{ "id": "ref-for-resolve-job-promise\u2461" }], "title": "Install" }, { "refs": [{ "id": "ref-for-resolve-job-promise\u2462" }, { "id": "ref-for-resolve-job-promise\u2463" }], "title": "Unregister" }], "url": "#resolve-job-promise" },
        "run-job": { "dfnID": "run-job", "dfnText": "Run Job", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-run-job" }], "title": "Schedule Job" }, { "refs": [{ "id": "ref-for-run-job\u2460" }], "title": "Finish Job" }], "url": "#run-job" },
        "run-service-worker": { "dfnID": "run-service-worker", "dfnText": "Run Service Worker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-run-service-worker" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-run-service-worker\u2460" }], "title": "6.2. Content Security Policy" }, { "refs": [{ "id": "ref-for-run-service-worker\u2461" }, { "id": "ref-for-run-service-worker\u2462" }], "title": "Update" }, { "refs": [{ "id": "ref-for-run-service-worker\u2463" }], "title": "Install" }, { "refs": [{ "id": "ref-for-run-service-worker\u2464" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-run-service-worker\u2465" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-run-service-worker\u2466" }, { "id": "ref-for-run-service-worker\u2467" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-run-service-worker\u2468" }], "title": "Fire Functional Event" }], "url": "#run-service-worker" },
        "schedule-job": { "dfnID": "schedule-job", "dfnText": "Schedule Job", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-schedule-job" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-schedule-job\u2460" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-schedule-job\u2461" }], "title": "Start Register" }, { "refs": [{ "id": "ref-for-schedule-job\u2462" }], "title": "Soft Update" }], "url": "#schedule-job" },
        "service-worker": { "dfnID": "service-worker", "dfnText": "Service-Worker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker" }], "title": "6.6. Service worker script request" }], "url": "#service-worker" },
        "service-worker-all-fetch-listeners-are-empty-flag": { "dfnID": "service-worker-all-fetch-listeners-are-empty-flag", "dfnText": "all fetch listeners are empty flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-all-fetch-listeners-are-empty-flag" }, { "id": "ref-for-service-worker-all-fetch-listeners-are-empty-flag\u2460" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-service-worker-all-fetch-listeners-are-empty-flag\u2461" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-service-worker-all-fetch-listeners-are-empty-flag\u2462" }], "title": "Create Fetch Event and Dispatch" }], "url": "#service-worker-all-fetch-listeners-are-empty-flag" },
        "service-worker-allowed": { "dfnID": "service-worker-allowed", "dfnText": "Service-Worker-Allowed", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-allowed" }], "title": "6.5. Path restriction" }, { "refs": [{ "id": "ref-for-service-worker-allowed\u2460" }], "title": "Update" }], "url": "#service-worker-allowed" },
        "service-worker-client-discarded-flag": { "dfnID": "service-worker-client-discarded-flag", "dfnText": "discarded flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-client-discarded-flag" }, { "id": "ref-for-service-worker-client-discarded-flag\u2460" }], "title": "2.4. Service Worker Client" }, { "refs": [{ "id": "ref-for-service-worker-client-discarded-flag\u2461" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-service-worker-client-discarded-flag\u2462" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-service-worker-client-discarded-flag\u2463" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-service-worker-client-discarded-flag\u2464" }], "title": "Resolve Get Client Promise" }], "url": "#service-worker-client-discarded-flag" },
        "service-worker-client-origin": { "dfnID": "service-worker-client-origin", "dfnText": "origin", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-client-origin" }, { "id": "ref-for-service-worker-client-origin\u2460" }], "title": "2.5.2. The worker client case" }], "url": "#service-worker-client-origin" },
        "service-worker-container-controllerchange-event": { "dfnID": "service-worker-container-controllerchange-event", "dfnText": "controllerchange", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-container-controllerchange-event" }], "title": "3.4.7. Event handlers" }], "url": "#service-worker-container-controllerchange-event" },
        "service-worker-container-message-event": { "dfnID": "service-worker-container-message-event", "dfnText": "message", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-container-message-event" }], "title": "3.4.7. Event handlers" }], "url": "#service-worker-container-message-event" },
        "service-worker-container-messageerror-event": { "dfnID": "service-worker-container-messageerror-event", "dfnText": "messageerror", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-container-messageerror-event" }], "title": "3.4.7. Event handlers" }, { "refs": [{ "id": "ref-for-service-worker-container-messageerror-event\u2460" }], "title": "4.2.6. postMessage(message, options)" }], "url": "#service-worker-container-messageerror-event" },
        "service-worker-global-scope-activate-event": { "dfnID": "service-worker-global-scope-activate-event", "dfnText": "activate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-global-scope-activate-event" }], "title": "2.1.2. Events" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-activate-event\u2460" }], "title": "4.1.5. Event handlers" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-activate-event\u2461" }, { "id": "ref-for-service-worker-global-scope-activate-event\u2462" }, { "id": "ref-for-service-worker-global-scope-activate-event\u2463" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-activate-event\u2464" }], "title": "Activate" }], "url": "#service-worker-global-scope-activate-event" },
        "service-worker-global-scope-fetch-event": { "dfnID": "service-worker-global-scope-fetch-event", "dfnText": "fetch", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-global-scope-fetch-event" }], "title": "2.1.2. Events" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-fetch-event\u2460" }], "title": "2.6. Task Sources" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-fetch-event\u2461" }], "title": "4.1.5. Event handlers" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-fetch-event\u2462" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-fetch-event\u2463" }, { "id": "ref-for-service-worker-global-scope-fetch-event\u2464" }], "title": "4.6. FetchEvent" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-fetch-event\u2465" }], "title": "6.7. Implementer Concerns" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-fetch-event\u2466" }], "title": "Create Fetch Event and Dispatch" }], "url": "#service-worker-global-scope-fetch-event" },
        "service-worker-global-scope-install-event": { "dfnID": "service-worker-global-scope-install-event", "dfnText": "install", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-global-scope-install-event" }], "title": "2.1.2. Events" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-install-event\u2460" }], "title": "4.1.5. Event handlers" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-install-event\u2461" }, { "id": "ref-for-service-worker-global-scope-install-event\u2462" }, { "id": "ref-for-service-worker-global-scope-install-event\u2463" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-service-worker-global-scope-install-event\u2464" }], "title": "Install" }], "url": "#service-worker-global-scope-install-event" },
        "service-worker-has-no-pending-events": { "dfnID": "service-worker-has-no-pending-events", "dfnText": "Service Worker Has No Pending Events", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-has-no-pending-events" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-service-worker-has-no-pending-events\u2460" }], "title": "Try Activate" }, { "refs": [{ "id": "ref-for-service-worker-has-no-pending-events\u2461" }, { "id": "ref-for-service-worker-has-no-pending-events\u2462" }, { "id": "ref-for-service-worker-has-no-pending-events\u2463" }], "title": "Try Clear Registration" }], "url": "#service-worker-has-no-pending-events" },
        "service-worker-list-of-router-rules": { "dfnID": "service-worker-list-of-router-rules", "dfnText": "list of router rules", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-list-of-router-rules" }, { "id": "ref-for-service-worker-list-of-router-rules\u2460" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-service-worker-list-of-router-rules\u2461" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-service-worker-list-of-router-rules\u2462" }], "title": "Check Router Registration Limit" }, { "refs": [{ "id": "ref-for-service-worker-list-of-router-rules\u2463" }], "title": "Get Router Source" }], "url": "#service-worker-list-of-router-rules" },
        "service-worker-registration-navigation-preload-enabled-flag": { "dfnID": "service-worker-registration-navigation-preload-enabled-flag", "dfnText": "navigation preload enabled flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-registration-navigation-preload-enabled-flag" }], "title": "3.6.1. enable()" }, { "refs": [{ "id": "ref-for-service-worker-registration-navigation-preload-enabled-flag\u2460" }], "title": "3.6.2. disable()" }, { "refs": [{ "id": "ref-for-service-worker-registration-navigation-preload-enabled-flag\u2461" }], "title": "3.6.4. getState()" }, { "refs": [{ "id": "ref-for-service-worker-registration-navigation-preload-enabled-flag\u2462" }], "title": "Handle Fetch" }], "url": "#service-worker-registration-navigation-preload-enabled-flag" },
        "service-worker-registration-navigation-preload-header-value": { "dfnID": "service-worker-registration-navigation-preload-header-value", "dfnText": "navigation preload header value", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-registration-navigation-preload-header-value" }], "title": "3.6.3. setHeaderValue(value)" }, { "refs": [{ "id": "ref-for-service-worker-registration-navigation-preload-header-value\u2460" }], "title": "3.6.4. getState()" }, { "refs": [{ "id": "ref-for-service-worker-registration-navigation-preload-header-value\u2461" }], "title": "Handle Fetch" }], "url": "#service-worker-registration-navigation-preload-header-value" },
        "service-worker-registration-navigationpreloadmanager": { "dfnID": "service-worker-registration-navigationpreloadmanager", "dfnText": "NavigationPreloadManager", "external": false, "refSections": [], "url": "#service-worker-registration-navigationpreloadmanager" },
        "service-worker-registration-stale": { "dfnID": "service-worker-registration-stale", "dfnText": "stale", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-registration-stale" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-service-worker-registration-stale\u2460" }, { "id": "ref-for-service-worker-registration-stale\u2461" }], "title": "Update" }, { "refs": [{ "id": "ref-for-service-worker-registration-stale\u2462" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-service-worker-registration-stale\u2463" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-service-worker-registration-stale\u2464" }, { "id": "ref-for-service-worker-registration-stale\u2465" }, { "id": "ref-for-service-worker-registration-stale\u2466" }], "title": "Fire Functional Event" }], "url": "#service-worker-registration-stale" },
        "service-worker-registration-storage-key": { "dfnID": "service-worker-registration-storage-key", "dfnText": "storage key", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-registration-storage-key" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2460" }], "title": "2.3.1. Lifetime" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2461" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2462" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2463" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2464" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2465" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2466" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2467" }, { "id": "ref-for-service-worker-registration-storage-key\u2468" }], "title": "Update" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2460\u24ea" }], "title": "Soft Update" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2460\u2460" }], "title": "Install" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2460\u2461" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2460\u2462" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2460\u2463" }], "title": "Unregister" }, { "refs": [{ "id": "ref-for-service-worker-registration-storage-key\u2460\u2464" }], "title": "Set Registration" }], "url": "#service-worker-registration-storage-key" },
        "service-worker-registration-updatefound-event": { "dfnID": "service-worker-registration-updatefound-event", "dfnText": "updatefound", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-registration-updatefound-event" }], "title": "3.2.10. Event handler" }], "url": "#service-worker-registration-updatefound-event" },
        "service-worker-running": { "dfnID": "service-worker-running", "dfnText": "running", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-running" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-service-worker-running\u2460" }, { "id": "ref-for-service-worker-running\u2461" }, { "id": "ref-for-service-worker-running\u2462" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-service-worker-running\u2463" }, { "id": "ref-for-service-worker-running\u2464" }], "title": "Match Router Condition" }], "url": "#service-worker-running" },
        "service-worker-service-worker-queue": { "dfnID": "service-worker-service-worker-queue", "dfnText": "[[service worker queue]]", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-service-worker-queue" }], "title": "4.5.1. event.addRoutes(rules)" }], "url": "#service-worker-service-worker-queue" },
        "service-worker-start-status": { "dfnID": "service-worker-start-status", "dfnText": "start status", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-start-status" }], "title": "Setup ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-service-worker-start-status\u2460" }, { "id": "ref-for-service-worker-start-status\u2461" }, { "id": "ref-for-service-worker-start-status\u2462" }, { "id": "ref-for-service-worker-start-status\u2463" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-service-worker-start-status\u2464" }], "title": "Terminate Service Worker" }], "url": "#service-worker-start-status" },
        "service-worker-timing-info": { "dfnID": "service-worker-timing-info", "dfnText": "service worker timing info", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-timing-info" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-service-worker-timing-info\u2460" }], "title": "Create Fetch Event and Dispatch" }], "url": "#service-worker-timing-info" },
        "service-worker-timing-info-fetch-event-dispatch-time": { "dfnID": "service-worker-timing-info-fetch-event-dispatch-time", "dfnText": "fetch event dispatch time", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-timing-info-fetch-event-dispatch-time" }], "title": "Create Fetch Event and Dispatch" }], "url": "#service-worker-timing-info-fetch-event-dispatch-time" },
        "service-worker-timing-info-start-time": { "dfnID": "service-worker-timing-info-start-time", "dfnText": "start time", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-service-worker-timing-info-start-time" }], "title": "Create Fetch Event and Dispatch" }], "url": "#service-worker-timing-info-start-time" },
        "serviceworker": { "dfnID": "serviceworker", "dfnText": "ServiceWorker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworker" }], "title": "2.1.1. Lifetime" }, { "refs": [{ "id": "ref-for-serviceworker\u2460" }, { "id": "ref-for-serviceworker\u2461" }, { "id": "ref-for-serviceworker\u2462" }, { "id": "ref-for-serviceworker\u2463" }, { "id": "ref-for-serviceworker\u2464" }, { "id": "ref-for-serviceworker\u2465" }], "title": "3.1. ServiceWorker" }, { "refs": [{ "id": "ref-for-serviceworker\u2466" }, { "id": "ref-for-serviceworker\u2467" }, { "id": "ref-for-serviceworker\u2468" }], "title": "3.1.1. Getting ServiceWorker instances" }, { "refs": [{ "id": "ref-for-serviceworker\u2460\u24ea" }], "title": "3.1.6. Event handler" }, { "refs": [{ "id": "ref-for-serviceworker\u2460\u2460" }, { "id": "ref-for-serviceworker\u2460\u2461" }, { "id": "ref-for-serviceworker\u2460\u2462" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-serviceworker\u2460\u2463" }], "title": "3.2.2. installing" }, { "refs": [{ "id": "ref-for-serviceworker\u2460\u2464" }], "title": "3.2.3. waiting" }, { "refs": [{ "id": "ref-for-serviceworker\u2460\u2465" }], "title": "3.2.4. active" }, { "refs": [{ "id": "ref-for-serviceworker\u2460\u2466" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-serviceworker\u2460\u2467" }, { "id": "ref-for-serviceworker\u2460\u2468" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-serviceworker\u2461\u24ea" }, { "id": "ref-for-serviceworker\u2461\u2460" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-serviceworker\u2461\u2461" }, { "id": "ref-for-serviceworker\u2461\u2462" }], "title": "4.7. ExtendableMessageEvent" }], "url": "#serviceworker" },
        "serviceworkercontainer": { "dfnID": "serviceworkercontainer", "dfnText": "ServiceWorkerContainer", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkercontainer" }, { "id": "ref-for-serviceworkercontainer\u2460" }, { "id": "ref-for-serviceworkercontainer\u2461" }], "title": "3.3. navigator.serviceWorker" }, { "refs": [{ "id": "ref-for-serviceworkercontainer\u2462" }, { "id": "ref-for-serviceworkercontainer\u2463" }, { "id": "ref-for-serviceworkercontainer\u2464" }, { "id": "ref-for-serviceworkercontainer\u2465" }, { "id": "ref-for-serviceworkercontainer\u2466" }, { "id": "ref-for-serviceworkercontainer\u2467" }, { "id": "ref-for-serviceworkercontainer\u2468" }, { "id": "ref-for-serviceworkercontainer\u2460\u24ea" }, { "id": "ref-for-serviceworkercontainer\u2460\u2460" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-serviceworkercontainer\u2460\u2461" }], "title": "3.4.7. Event handlers" }, { "refs": [{ "id": "ref-for-serviceworkercontainer\u2460\u2462" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-serviceworkercontainer\u2460\u2463" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-serviceworkercontainer\u2460\u2464" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-serviceworkercontainer\u2460\u2465" }], "title": "Notify Controller Change" }], "url": "#serviceworkercontainer" },
        "serviceworkercontainer-ready-promise": { "dfnID": "serviceworkercontainer-ready-promise", "dfnText": "ready promise", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkercontainer-ready-promise" }, { "id": "ref-for-serviceworkercontainer-ready-promise\u2460" }, { "id": "ref-for-serviceworkercontainer-ready-promise\u2461" }, { "id": "ref-for-serviceworkercontainer-ready-promise\u2462" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-serviceworkercontainer-ready-promise\u2463" }], "title": "Activate" }], "url": "#serviceworkercontainer-ready-promise" },
        "serviceworkercontainer-service-worker-client": { "dfnID": "serviceworkercontainer-service-worker-client", "dfnText": "service worker client", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkercontainer-service-worker-client" }], "title": "3.4.1. controller" }, { "refs": [{ "id": "ref-for-serviceworkercontainer-service-worker-client\u2460" }], "title": "3.4.2. ready" }, { "refs": [{ "id": "ref-for-serviceworkercontainer-service-worker-client\u2461" }], "title": "3.4.3. register(scriptURL, options)" }, { "refs": [{ "id": "ref-for-serviceworkercontainer-service-worker-client\u2462" }], "title": "3.4.4. getRegistration(clientURL)" }, { "refs": [{ "id": "ref-for-serviceworkercontainer-service-worker-client\u2463" }], "title": "3.4.5. getRegistrations()" }, { "refs": [{ "id": "ref-for-serviceworkercontainer-service-worker-client\u2464" }, { "id": "ref-for-serviceworkercontainer-service-worker-client\u2465" }, { "id": "ref-for-serviceworkercontainer-service-worker-client\u2466" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-serviceworkercontainer-service-worker-client\u2467" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-serviceworkercontainer-service-worker-client\u2468" }], "title": "Notify Controller Change" }], "url": "#serviceworkercontainer-service-worker-client" },
        "serviceworkerglobalscope": { "dfnID": "serviceworkerglobalscope", "dfnText": "ServiceWorkerGlobalScope", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerglobalscope" }], "title": "2.1. Service Worker" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2460" }, { "id": "ref-for-serviceworkerglobalscope\u2461" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2462" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2463" }, { "id": "ref-for-serviceworkerglobalscope\u2464" }, { "id": "ref-for-serviceworkerglobalscope\u2465" }, { "id": "ref-for-serviceworkerglobalscope\u2466" }, { "id": "ref-for-serviceworkerglobalscope\u2467" }, { "id": "ref-for-serviceworkerglobalscope\u2468" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2460\u24ea" }], "title": "4.1.5. Event handlers" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2460\u2460" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2460\u2461" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2460\u2462" }], "title": "5.4.4. addAll(requests)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2460\u2463" }, { "id": "ref-for-serviceworkerglobalscope\u2460\u2464" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2460\u2465" }], "title": "7.3. Define Event Handler" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope\u2460\u2466" }, { "id": "ref-for-serviceworkerglobalscope\u2460\u2467" }, { "id": "ref-for-serviceworkerglobalscope\u2460\u2468" }, { "id": "ref-for-serviceworkerglobalscope\u2461\u24ea" }, { "id": "ref-for-serviceworkerglobalscope\u2461\u2460" }], "title": "Setup ServiceWorkerGlobalScope" }], "url": "#serviceworkerglobalscope" },
        "serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag": { "dfnID": "serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag", "dfnText": "force bypass cache for import scripts flag", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag\u2460" }], "title": "Run Service Worker" }], "url": "#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag" },
        "serviceworkerglobalscope-race-response-map": { "dfnID": "serviceworkerglobalscope-race-response-map", "dfnText": "race response map", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerglobalscope-race-response-map" }, { "id": "ref-for-serviceworkerglobalscope-race-response-map\u2460" }, { "id": "ref-for-serviceworkerglobalscope-race-response-map\u2461" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-race-response-map\u2462" }], "title": "Lookup Race Response" }], "url": "#serviceworkerglobalscope-race-response-map" },
        "serviceworkerglobalscope-service-worker": { "dfnID": "serviceworkerglobalscope-service-worker", "dfnText": "service worker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2460" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2461" }], "title": "4.1.2. registration" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2462" }], "title": "4.1.3. serviceWorker" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2463" }, { "id": "ref-for-serviceworkerglobalscope-service-worker\u2464" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2465" }], "title": "4.2.6. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2466" }, { "id": "ref-for-serviceworkerglobalscope-service-worker\u2467" }], "title": "4.2.11. navigate(url)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2468" }], "title": "4.3.1. get(id)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2460\u24ea" }, { "id": "ref-for-serviceworkerglobalscope-service-worker\u2460\u2460" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2460\u2461" }], "title": "4.3.3. openWindow(url)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2460\u2462" }, { "id": "ref-for-serviceworkerglobalscope-service-worker\u2460\u2463" }, { "id": "ref-for-serviceworkerglobalscope-service-worker\u2460\u2464" }, { "id": "ref-for-serviceworkerglobalscope-service-worker\u2460\u2465" }, { "id": "ref-for-serviceworkerglobalscope-service-worker\u2460\u2466" }, { "id": "ref-for-serviceworkerglobalscope-service-worker\u2460\u2467" }], "title": "4.3.4. claim()" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2460\u2468" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2461\u24ea" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2461\u2460" }, { "id": "ref-for-serviceworkerglobalscope-service-worker\u2461\u2461" }, { "id": "ref-for-serviceworkerglobalscope-service-worker\u2461\u2462" }], "title": "4.8. Events" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2461\u2463" }], "title": "6.3.2. importScripts(urls)" }, { "refs": [{ "id": "ref-for-serviceworkerglobalscope-service-worker\u2461\u2464" }], "title": "Run Service Worker" }], "url": "#serviceworkerglobalscope-service-worker" },
        "serviceworkerregistration": { "dfnID": "serviceworkerregistration", "dfnText": "ServiceWorkerRegistration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerregistration" }], "title": "2.3.1. Lifetime" }, { "refs": [{ "id": "ref-for-serviceworkerregistration\u2460" }, { "id": "ref-for-serviceworkerregistration\u2461" }], "title": "3.2. ServiceWorkerRegistration" }, { "refs": [{ "id": "ref-for-serviceworkerregistration\u2462" }, { "id": "ref-for-serviceworkerregistration\u2463" }, { "id": "ref-for-serviceworkerregistration\u2464" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-serviceworkerregistration\u2465" }], "title": "3.2.10. Event handler" }, { "refs": [{ "id": "ref-for-serviceworkerregistration\u2466" }, { "id": "ref-for-serviceworkerregistration\u2467" }, { "id": "ref-for-serviceworkerregistration\u2468" }, { "id": "ref-for-serviceworkerregistration\u2460\u24ea" }], "title": "3.4. ServiceWorkerContainer" }, { "refs": [{ "id": "ref-for-serviceworkerregistration\u2460\u2460" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-serviceworkerregistration\u2460\u2461" }], "title": "4.1. ServiceWorkerGlobalScope" }, { "refs": [{ "id": "ref-for-serviceworkerregistration\u2460\u2462" }], "title": "7.1. Define API bound to Service Worker Registration" }, { "refs": [{ "id": "ref-for-serviceworkerregistration\u2460\u2463" }], "title": "Install" }, { "refs": [{ "id": "ref-for-serviceworkerregistration\u2460\u2464" }], "title": "Update Registration State" }], "url": "#serviceworkerregistration" },
        "serviceworkerregistration-service-worker-registration": { "dfnID": "serviceworkerregistration-service-worker-registration", "dfnText": "service worker registration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-serviceworkerregistration-service-worker-registration" }], "title": "3.2.1. Getting ServiceWorkerRegistration instances" }, { "refs": [{ "id": "ref-for-serviceworkerregistration-service-worker-registration\u2460" }], "title": "3.2.5. navigationPreload" }, { "refs": [{ "id": "ref-for-serviceworkerregistration-service-worker-registration\u2461" }], "title": "3.2.6. scope" }, { "refs": [{ "id": "ref-for-serviceworkerregistration-service-worker-registration\u2462" }], "title": "3.2.7. updateViaCache" }, { "refs": [{ "id": "ref-for-serviceworkerregistration-service-worker-registration\u2463" }], "title": "3.2.8. update()" }, { "refs": [{ "id": "ref-for-serviceworkerregistration-service-worker-registration\u2464" }], "title": "3.2.9. unregister()" }, { "refs": [{ "id": "ref-for-serviceworkerregistration-service-worker-registration\u2465" }], "title": "3.5. Events" }, { "refs": [{ "id": "ref-for-serviceworkerregistration-service-worker-registration\u2466" }], "title": "Install" }], "url": "#serviceworkerregistration-service-worker-registration" },
        "set-registration": { "dfnID": "set-registration", "dfnText": "Set Registration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-set-registration" }], "title": "Register" }], "url": "#set-registration" },
        "setup-serviceworkerglobalscope": { "dfnID": "setup-serviceworkerglobalscope", "dfnText": "Setup ServiceWorkerGlobalScope", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-setup-serviceworkerglobalscope" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-setup-serviceworkerglobalscope\u2460" }], "title": "Handle Fetch" }], "url": "#setup-serviceworkerglobalscope" },
        "should-skip-event": { "dfnID": "should-skip-event", "dfnText": "Should Skip Event", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-should-skip-event" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-should-skip-event\u2460" }], "title": "Install" }, { "refs": [{ "id": "ref-for-should-skip-event\u2461" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-should-skip-event\u2462" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-should-skip-event\u2463" }], "title": "Fire Functional Event" }], "url": "#should-skip-event" },
        "soft-update": { "dfnID": "soft-update", "dfnText": "Soft Update", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-soft-update" }], "title": "Update" }, { "refs": [{ "id": "ref-for-soft-update\u2460" }, { "id": "ref-for-soft-update\u2461" }, { "id": "ref-for-soft-update\u2462" }], "title": "Handle Fetch" }, { "refs": [{ "id": "ref-for-soft-update\u2463" }, { "id": "ref-for-soft-update\u2464" }, { "id": "ref-for-soft-update\u2465" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-soft-update\u2466" }, { "id": "ref-for-soft-update\u2467" }, { "id": "ref-for-soft-update\u2468" }], "title": "Fire Functional Event" }], "url": "#soft-update" },
        "start-register": { "dfnID": "start-register", "dfnText": "Start Register", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-start-register" }], "title": "3.4.3. register(scriptURL, options)" }], "url": "#start-register" },
        "terminate-service-worker": { "dfnID": "terminate-service-worker", "dfnText": "Terminate Service Worker", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-terminate-service-worker" }], "title": "2.1.1. Lifetime" }, { "refs": [{ "id": "ref-for-terminate-service-worker\u2460" }], "title": "2.3. Service Worker Registration" }, { "refs": [{ "id": "ref-for-terminate-service-worker\u2461" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-terminate-service-worker\u2462" }], "title": "Install" }, { "refs": [{ "id": "ref-for-terminate-service-worker\u2463" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-terminate-service-worker\u2464" }], "title": "Run Service Worker" }, { "refs": [{ "id": "ref-for-terminate-service-worker\u2465" }], "title": "Handle Service Worker Client Unload" }, { "refs": [{ "id": "ref-for-terminate-service-worker\u2466" }, { "id": "ref-for-terminate-service-worker\u2467" }, { "id": "ref-for-terminate-service-worker\u2468" }], "title": "Clear Registration" }], "url": "#terminate-service-worker" },
        "try-activate": { "dfnID": "try-activate", "dfnText": "Try Activate", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-try-activate" }], "title": "4.1.4. skipWaiting()" }, { "refs": [{ "id": "ref-for-try-activate\u2460" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-try-activate\u2461" }, { "id": "ref-for-try-activate\u2462" }], "title": "Install" }, { "refs": [{ "id": "ref-for-try-activate\u2463" }], "title": "Handle Service Worker Client Unload" }], "url": "#try-activate" },
        "try-clear-registration": { "dfnID": "try-clear-registration", "dfnText": "Try Clear Registration", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-try-clear-registration" }], "title": "4.4. ExtendableEvent" }, { "refs": [{ "id": "ref-for-try-clear-registration\u2460" }], "title": "Handle Service Worker Client Unload" }, { "refs": [{ "id": "ref-for-try-clear-registration\u2461" }, { "id": "ref-for-try-clear-registration\u2462" }], "title": "Unregister" }], "url": "#try-clear-registration" },
        "typedefdef-routersource": { "dfnID": "typedefdef-routersource", "dfnText": "RouterSource", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-typedefdef-routersource" }], "title": "4.5. InstallEvent" }, { "refs": [{ "id": "ref-for-typedefdef-routersource\u2460" }], "title": "Get Router Source" }], "url": "#typedefdef-routersource" },
        "unregister": { "dfnID": "unregister", "dfnText": "Unregister", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-unregister" }], "title": "Run Job" }], "url": "#unregister" },
        "update": { "dfnID": "update", "dfnText": "Update", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-update" }], "title": "Run Job" }, { "refs": [{ "id": "ref-for-update\u2460" }], "title": "Register" }, { "refs": [{ "id": "ref-for-update\u2461" }], "title": "Update" }], "url": "#update" },
        "update-registration-state": { "dfnID": "update-registration-state", "dfnText": "Update Registration State", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-update-registration-state" }, { "id": "ref-for-update-registration-state\u2460" }, { "id": "ref-for-update-registration-state\u2461" }, { "id": "ref-for-update-registration-state\u2462" }], "title": "Install" }, { "refs": [{ "id": "ref-for-update-registration-state\u2463" }, { "id": "ref-for-update-registration-state\u2464" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-update-registration-state\u2465" }, { "id": "ref-for-update-registration-state\u2466" }, { "id": "ref-for-update-registration-state\u2467" }], "title": "Clear Registration" }], "url": "#update-registration-state" },
        "update-service-worker-extended-events-set": { "dfnID": "update-service-worker-extended-events-set", "dfnText": "Update Service Worker Extended Events Set", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-update-service-worker-extended-events-set" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-update-service-worker-extended-events-set\u2460" }], "title": "Create Fetch Event and Dispatch" }, { "refs": [{ "id": "ref-for-update-service-worker-extended-events-set\u2461" }], "title": "Fire Functional Event" }], "url": "#update-service-worker-extended-events-set" },
        "update-worker-state": { "dfnID": "update-worker-state", "dfnText": "Update Worker State", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-update-worker-state" }, { "id": "ref-for-update-worker-state\u2460" }, { "id": "ref-for-update-worker-state\u2461" }, { "id": "ref-for-update-worker-state\u2462" }, { "id": "ref-for-update-worker-state\u2463" }], "title": "Install" }, { "refs": [{ "id": "ref-for-update-worker-state\u2464" }, { "id": "ref-for-update-worker-state\u2465" }, { "id": "ref-for-update-worker-state\u2466" }], "title": "Activate" }, { "refs": [{ "id": "ref-for-update-worker-state\u2467" }, { "id": "ref-for-update-worker-state\u2468" }, { "id": "ref-for-update-worker-state\u2460\u24ea" }], "title": "Clear Registration" }], "url": "#update-worker-state" },
        "verify-router-condition": { "dfnID": "verify-router-condition", "dfnText": "Verify Router Condition", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-verify-router-condition" }], "title": "4.5.1. event.addRoutes(rules)" }, { "refs": [{ "id": "ref-for-verify-router-condition\u2460" }, { "id": "ref-for-verify-router-condition\u2461" }], "title": "Verify Router Condition" }, { "refs": [{ "id": "ref-for-verify-router-condition\u2462" }], "title": "Match Router Condition" }], "url": "#verify-router-condition" },
        "windowclient": { "dfnID": "windowclient", "dfnText": "WindowClient", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windowclient" }], "title": "3.1.5. postMessage(message, options)" }, { "refs": [{ "id": "ref-for-windowclient\u2460" }, { "id": "ref-for-windowclient\u2461" }, { "id": "ref-for-windowclient\u2462" }, { "id": "ref-for-windowclient\u2463" }, { "id": "ref-for-windowclient\u2464" }, { "id": "ref-for-windowclient\u2465" }], "title": "4.2. Client" }, { "refs": [{ "id": "ref-for-windowclient\u2466" }], "title": "4.3. Clients" }, { "refs": [{ "id": "ref-for-windowclient\u2467" }, { "id": "ref-for-windowclient\u2468" }], "title": "4.3.2. matchAll(options)" }, { "refs": [{ "id": "ref-for-windowclient\u2460\u24ea" }, { "id": "ref-for-windowclient\u2460\u2460" }], "title": "Create Window Client" }], "url": "#windowclient" },
        "windowclient-ancestor-origins-array": { "dfnID": "windowclient-ancestor-origins-array", "dfnText": "ancestor origins array", "external": false, "refSections": [{ "refs": [{ "id": "ref-for-windowclient-ancestor-origins-array" }], "title": "4.2.9. ancestorOrigins" }, { "refs": [{ "id": "ref-for-windowclient-ancestor-origins-array\u2460" }], "title": "Create Window Client" }], "url": "#windowclient-ancestor-origins-array" },
      };

      document.addEventListener("DOMContentLoaded", () => {
        genAllDfnPanels();

        document.body.addEventListener("click", (e) => {
          // If not handled already, just hide all dfn panels.
          hideAllDfnPanels();
        });
      });

      window.addEventListener("resize", () => {
        // Pin any visible dfn panel
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el => positionDfnPanel(el));
      });

      function genAllDfnPanels() {
        for (const panelData of Object.values(dfnPanelData)) {
          const dfnID = panelData.dfnID;
          const dfn = document.getElementById(dfnID);
          if (!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
          }
          dfn.panelData = panelData;
          insertDfnPopupAction(dfn);
        }
      }

      function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
        const dfnPanel = mk.aside({
          class: "dfn-panel on",
          id: `infopanel-for-${dfnID}`,
          "data-for": dfnID,
          "aria-labelled-by": `infopaneltitle-for-${dfnID}`,
        },
          mk.span({ id: `infopaneltitle-for-${dfnID}`, style: "display:none" },
            `Info about the '${dfnText}' ${external ? "external" : ""} reference.`),
          mk.a({ href: url, class: "dfn-link" }, url),
          refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
          mk.ul({},
            ...refSections.map(section =>
              mk.li({},
                ...section.refs.map((ref, refI) =>
                  [
                    mk.a({ href: `#${ref.id}` },
                      (refI == 0) ? section.title : `(${refI + 1})`
                    ),
                    " ",
                  ]
                ),
              ),
            ),
          ),
          genLinkingSyntaxes(dfn),
        );

        dfnPanel.addEventListener('click', (event) => {
          if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
          }
          event.stopPropagation();
          refocusOnTarget(event);
        });
        dfnPanel.addEventListener('keydown', (event) => {
          if (event.keyCode == 27) { // Escape key
            hideDfnPanel({ dfnPanel });
            event.stopPropagation();
            event.preventDefault();
          }
        });

        dfnPanel.dfn = dfn;
        dfn.dfnPanel = dfnPanel;
        return dfnPanel;
      }



      function hideAllDfnPanels() {
        // Delete the currently-active dfn panel.
        queryAll(".dfn-panel").forEach(dfnPanel => hideDfnPanel({ dfnPanel }));
      }

      function showDfnPanel(dfn) {
        hideAllDfnPanels(); // Only display one at a time.

        dfn.setAttribute("aria-expanded", "true");

        const dfnPanel = genDfnPanel(dfn, dfn.panelData);

        // Give the dfn a unique tabindex, and then
        // give all the tabbable panel bits successive indexes.
        let tabIndex = 100;
        dfn.tabIndex = tabIndex++;
        const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
        for (const el of tabbable) {
          el.tabIndex = tabIndex++;
        }

        append(document.body, dfnPanel);
        positionDfnPanel(dfnPanel);
      }

      function positionDfnPanel(dfnPanel) {
        const dfn = dfnPanel.dfn;
        const dfnPos = getBounds(dfn);
        dfnPanel.style.top = dfnPos.bottom + "px";
        dfnPanel.style.left = dfnPos.left + "px";

        const panelPos = dfnPanel.getBoundingClientRect();
        const panelMargin = 8;
        const maxRight = document.body.parentNode.clientWidth - panelMargin;
        if (panelPos.right > maxRight) {
          const overflowAmount = panelPos.right - maxRight;
          const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
          dfnPanel.style.left = newLeft + "px";
        }
      }

      function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.position = "fixed";
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
      }

      function hideDfnPanel({ dfn, dfnPanel }) {
        if (!dfnPanel) dfnPanel = dfn.dfnPanel;
        if (!dfn) dfn = dfnPanel.dfn;
        dfn.dfnPanel = undefined;
        dfnPanel.dfn = undefined;
        dfn.setAttribute("aria-expanded", "false");
        dfn.tabIndex = undefined;
        dfnPanel.remove()
      }

      function toggleDfnPanel(dfn) {
        if (dfn.dfnPanel) {
          hideDfnPanel(dfn);
        } else {
          showDfnPanel(dfn);
        }
      }

      function insertDfnPopupAction(dfn) {
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
          toggleDfnPanel(dfn);
          event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
          const kc = event.keyCode;
          // 32->Space, 13->Enter
          if (kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
          }
        });
      }

      function refocusOnTarget(event) {
        const target = event.target;
        setTimeout(() => {
          // Refocus on the event.target element.
          // This is needed after browser scrolls to the destination.
          target.focus();
        });
      }

      // TODO: shared util
      // Returns the root-level absolute position {left and top} of element.
      function getBounds(el, relativeTo = document.body) {
        const relativeRect = relativeTo.getBoundingClientRect();
        const elRect = el.getBoundingClientRect();
        const top = elRect.top - relativeRect.top;
        const left = elRect.left - relativeRect.left;
        return {
          top,
          left,
          bottom: top + elRect.height,
          right: left + elRect.width,
        }
      }

      function scrollToTargetAndHighlight(event) {
        let hash = event.target.hash;
        if (hash) {
          hash = decodeURIComponent(hash.substring(1));
          const dest = document.getElementById(hash);
          if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
          }
        }
      }

      // Functions, divided by link type, that wrap an autolink's
      // contents with the appropriate outer syntax.
      // Alternately, a string naming another type they format
      // the same as.
      function needsFor(type) {
        switch (type) {
          case "descriptor":
          case "value":
          case "element-attr":
          case "attr-value":
          case "element-state":
          case "method":
          case "constructor":
          case "argument":
          case "attribute":
          case "const":
          case "dict-member":
          case "event":
          case "enum-value":
          case "stringifier":
          case "serializer":
          case "iterator":
          case "maplike":
          case "setlike":
          case "state":
          case "mode":
          case "context":
          case "facet": return true;

          default: return false;
        }
      }
      function refusesFor(type) {
        switch (type) {
          case "property":
          case "element":
          case "interface":
          case "namespace":
          case "callback":
          case "dictionary":
          case "enum":
          case "exception":
          case "typedef":
          case "http-header":
          case "permission": return true;

          default: return false;
        }
      }
      function linkFormatterFromType(type) {
        switch (type) {
          case 'scheme':
          case 'permission':
          case 'dfn': return (text) => `[=${text}=]`;

          case 'abstract-op': return (text) => `[\$${text}\$]`;

          case 'function':
          case 'at-rule':
          case 'selector':
          case 'value': return (text) => `''${text}''`;

          case 'http-header': return (text) => `[:${text}:]`;

          case 'interface':
          case 'constructor':
          case 'method':
          case 'argument':
          case 'attribute':
          case 'callback':
          case 'dictionary':
          case 'dict-member':
          case 'enum':
          case 'enum-value':
          case 'exception':
          case 'const':
          case 'typedef':
          case 'stringifier':
          case 'serializer':
          case 'iterator':
          case 'maplike':
          case 'setlike':
          case 'extended-attribute':
          case 'event':
          case 'idl': return (text) => `{{${text}}}`;

          case 'element-state':
          case 'element-attr':
          case 'attr-value':
          case 'element': return (element) => `<{${element}}>`;

          case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

          case 'type': return (text) => `<<${text}>>`;

          case 'descriptor':
          case 'property': return (text) => `'${text}'`;

          default: return;
        };
      };

      function genLinkingSyntaxes(dfn) {
        if (dfn.tagName != "DFN") return;

        const type = dfn.getAttribute('data-dfn-type');
        if (!type) {
          console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
          return [];
        }

        // Return a function that wraps link text based on the type
        const linkFormatter = linkFormatterFromType(type);
        if (!linkFormatter) {
          console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
          return [];
        }

        let ltAlts;
        if (dfn.hasAttribute('data-lt')) {
          ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x => x.trim());
        } else {
          ltAlts = [dfn.textContent.trim()];
        }
        if (type == "type") {
          // lt of "<foo>", but "foo" is the interior;
          // <<foo/bar>> is how you write it with a for,
          // not <foo/<bar>> or whatever.
          for (var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if (match) { ltAlts[i] = match[1]; }
          }
        }

        let forAlts;
        if (dfn.hasAttribute('data-dfn-for')) {
          forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x => x.trim());
        } else {
          forAlts = [''];
        }

        let linkingSyntaxes = [];
        if (!needsFor(type)) {
          for (const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
          }
        }
        if (!refusesFor(type)) {
          for (const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
          }
        }
        return [
          mk.b({}, 'Possible linking syntaxes:'),
          mk.ul({},
            ...linkingSyntaxes.map(link => {
              const copyLink = async () =>
                await navigator.clipboard.writeText(link);
              return mk.li({},
                mk.div({ class: 'link-item' },
                  mk.button({
                    class: 'copy-icon', title: 'Copy',
                    type: 'button',
                    _onclick: copyLink,
                    tabindex: 0,
                  }, mk.span({ class: 'icon' })),
                  mk.span({}, link)
                )
              );
            })
          )
        ];
      }
    }
  </script>
  <script>/* Boilerplate: script-position-annos */
    "use strict";
    {
      function repositionAnnoPanels() {
        const panels = [...document.querySelectorAll("[data-anno-for]")];
        hydratePanels(panels);
        let vSoFar = 0;
        for (const panel of panels.sort(cmpTops)) {
          if (panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
          }
          vSoFar = panel.top + panel.height + 15;
        }
      }
      function hydratePanels(panels) {
        const main = document.querySelector("main");
        let mainRect;
        if (main) mainRect = main.getBoundingClientRect();
        // First display them all, if they're not already visible.
        for (const panel of panels) {
          panel.classList.remove("unpositioned");
        }
        // Measure them all
        for (const panel of panels) {
          const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
          if (!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
          }
          panel.dfn = dfn;
          panel.top = window.scrollY + dfn.getBoundingClientRect().top;
          let panelRect = panel.getBoundingClientRect();
          panel.height = panelRect.height;
          if (main) {
            panel.overlappingMain = panelRect.left < mainRect.right;
          } else {
            panel.overlappingMain = false;
          }
        }
        // And finally position them
        for (const panel of panels) {
          const dfn = panel.dfn;
          if (!dfn) continue;
          panel.style.top = panel.top + "px";
          panel.classList.toggle("overlapping-main", panel.overlappingMain);
        }
      }

      function cmpTops(a, b) {
        return a.top - b.top;
      }

      window.addEventListener("load", repositionAnnoPanels);
      window.addEventListener("resize", repositionAnnoPanels);
    }
  </script>
  <script>/* Boilerplate: script-ref-hints */
    "use strict";
    {
      let refsData = {
        "#activate": { "displayText": "activate", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "activate", "type": "dfn", "url": "#activate" },
        "#all-fetch-listeners-are-empty": { "displayText": "all fetch listeners are empty", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "all fetch listeners are empty", "type": "dfn", "url": "#all-fetch-listeners-are-empty" },
        "#batch-cache-operations": { "displayText": "batch cache operations", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "batch cache operations", "type": "dfn", "url": "#batch-cache-operations" },
        "#cache": { "displayText": "Cache", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "Cache", "type": "interface", "url": "#cache" },
        "#cachestorage": { "displayText": "CacheStorage", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "CacheStorage", "type": "interface", "url": "#cachestorage" },
        "#cachestorage-global-object": { "displayText": "global object", "export": true, "for_": ["CacheStorage"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "global object", "type": "dfn", "url": "#cachestorage-global-object" },
        "#check-router-registration-limit": { "displayText": "check router registration limit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "check router registration limit", "type": "dfn", "url": "#check-router-registration-limit" },
        "#clear-registration": { "displayText": "clear registration", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "clear registration", "type": "dfn", "url": "#clear-registration" },
        "#client": { "displayText": "Client", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "Client", "type": "interface", "url": "#client" },
        "#clients": { "displayText": "Clients", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "Clients", "type": "interface", "url": "#clients" },
        "#count-router-inner-conditions": { "displayText": "count router inner conditions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "count router inner conditions", "type": "dfn", "url": "#count-router-inner-conditions" },
        "#create-client": { "displayText": "create client", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "create client", "type": "dfn", "url": "#create-client" },
        "#create-fetch-event-and-dispatch": { "displayText": "create fetch event and dispatch", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "create fetch event and dispatch", "type": "dfn", "url": "#create-fetch-event-and-dispatch" },
        "#create-job": { "displayText": "create job", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "create job", "type": "dfn", "url": "#create-job" },
        "#create-window-client": { "displayText": "create window client", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "create window client", "type": "dfn", "url": "#create-window-client" },
        "#dfn-active-worker": { "displayText": "active worker", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "active worker", "type": "dfn", "url": "#dfn-active-worker" },
        "#dfn-bad-import-script-response": { "displayText": "bad import script response", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "bad import script response", "type": "dfn", "url": "#dfn-bad-import-script-response" },
        "#dfn-cache-batch-operation": { "displayText": "cache batch operation", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "cache batch operation", "type": "dfn", "url": "#dfn-cache-batch-operation" },
        "#dfn-cache-batch-operation-options": { "displayText": "options", "export": true, "for_": ["cache batch operation"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "options", "type": "dfn", "url": "#dfn-cache-batch-operation-options" },
        "#dfn-cache-batch-operation-request": { "displayText": "request", "export": true, "for_": ["cache batch operation"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "request", "type": "dfn", "url": "#dfn-cache-batch-operation-request" },
        "#dfn-cache-batch-operation-response": { "displayText": "response", "export": true, "for_": ["cache batch operation"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "response", "type": "dfn", "url": "#dfn-cache-batch-operation-response" },
        "#dfn-cache-batch-operation-type": { "displayText": "type", "export": true, "for_": ["cache batch operation"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "type", "type": "dfn", "url": "#dfn-cache-batch-operation-type" },
        "#dfn-classic-scripts-imported-flag": { "displayText": "classic scripts imported flag", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "classic scripts imported flag", "type": "dfn", "url": "#dfn-classic-scripts-imported-flag" },
        "#dfn-client-message-queue": { "displayText": "client message queue", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "client message queue", "type": "dfn", "url": "#dfn-client-message-queue" },
        "#dfn-containing-job-queue": { "displayText": "containing job queue", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "containing job queue", "type": "dfn", "url": "#dfn-containing-job-queue" },
        "#dfn-containing-service-worker-registration": { "displayText": "containing service worker registration", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "containing service worker registration", "type": "dfn", "url": "#dfn-containing-service-worker-registration" },
        "#dfn-control": { "displayText": "controlled", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "controlled", "type": "dfn", "url": "#dfn-control" },
        "#dfn-count-router-condition-result": { "displayText": "count router condition result", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "count router condition result", "type": "dfn", "url": "#dfn-count-router-condition-result" },
        "#dfn-count-router-condition-result-condition-count": { "displayText": "condition count", "export": true, "for_": ["count router condition result"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "condition count", "type": "dfn", "url": "#dfn-count-router-condition-result-condition-count" },
        "#dfn-dedicatedworker-client": { "displayText": "dedicated worker client", "export": true, "for_": ["service worker client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "dedicated worker client", "type": "dfn", "url": "#dfn-dedicatedworker-client" },
        "#dfn-dfn-count-router-condition-result-quota-exceeded": { "displayText": "quota exceeded", "export": true, "for_": ["count router condition result"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "quota exceeded", "type": "dfn", "url": "#dfn-dfn-count-router-condition-result-quota-exceeded" },
        "#dfn-functional-events": { "displayText": "functional events", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "functional events", "type": "dfn", "url": "#dfn-functional-events" },
        "#dfn-handle-fetch-task-source": { "displayText": "handle fetch task source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "handle fetch task source", "type": "dfn", "url": "#dfn-handle-fetch-task-source" },
        "#dfn-handle-functional-event-task-source": { "displayText": "handle functional event task source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "handle functional event task source", "type": "dfn", "url": "#dfn-handle-functional-event-task-source" },
        "#dfn-has-ever-been-evaluated-flag": { "displayText": "has ever been evaluated flag", "export": true, "for_": ["script resource"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "has ever been evaluated flag", "type": "dfn", "url": "#dfn-has-ever-been-evaluated-flag" },
        "#dfn-installing-worker": { "displayText": "installing worker", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "installing worker", "type": "dfn", "url": "#dfn-installing-worker" },
        "#dfn-job": { "displayText": "job", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "job", "type": "dfn", "url": "#dfn-job" },
        "#dfn-job-client": { "displayText": "client", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "client", "type": "dfn", "url": "#dfn-job-client" },
        "#dfn-job-equivalent": { "displayText": "equivalent", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "equivalent", "type": "dfn", "url": "#dfn-job-equivalent" },
        "#dfn-job-force-bypass-cache-flag": { "displayText": "force bypass cache flag", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "force bypass cache flag", "type": "dfn", "url": "#dfn-job-force-bypass-cache-flag" },
        "#dfn-job-list-of-equivalent-jobs": { "displayText": "list of equivalent jobs", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "list of equivalent jobs", "type": "dfn", "url": "#dfn-job-list-of-equivalent-jobs" },
        "#dfn-job-promise": { "displayText": "job promise", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "job promise", "type": "dfn", "url": "#dfn-job-promise" },
        "#dfn-job-queue": { "displayText": "job queue", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "job queue", "type": "dfn", "url": "#dfn-job-queue" },
        "#dfn-job-scope-url": { "displayText": "scope url", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "scope url", "type": "dfn", "url": "#dfn-job-scope-url" },
        "#dfn-job-script-url": { "displayText": "script url", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "script url", "type": "dfn", "url": "#dfn-job-script-url" },
        "#dfn-job-type": { "displayText": "job type", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "job type", "type": "dfn", "url": "#dfn-job-type" },
        "#dfn-job-update-via-cache-mode": { "displayText": "update via cache mode", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "update via cache mode", "type": "dfn", "url": "#dfn-job-update-via-cache-mode" },
        "#dfn-job-worker-type": { "displayText": "worker type", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "worker type", "type": "dfn", "url": "#dfn-job-worker-type" },
        "#dfn-last-update-check-time": { "displayText": "last update check time", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "last update check time", "type": "dfn", "url": "#dfn-last-update-check-time" },
        "#dfn-lifecycle-events": { "displayText": "lifecycle events", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "lifecycle events", "type": "dfn", "url": "#dfn-lifecycle-events" },
        "#dfn-name-to-cache-map": { "displayText": "name to cache map", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "name to cache map", "type": "dfn", "url": "#dfn-name-to-cache-map" },
        "#dfn-policy-container": { "displayText": "policy container", "export": true, "for_": ["script resource"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "policy container", "type": "dfn", "url": "#dfn-policy-container" },
        "#dfn-race-response": { "displayText": "race response", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "race response", "type": "dfn", "url": "#dfn-race-response" },
        "#dfn-relevant-name-to-cache-map": { "displayText": "relevant name to cache map", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "relevant name to cache map", "type": "dfn", "url": "#dfn-relevant-name-to-cache-map" },
        "#dfn-relevant-request-response-list": { "displayText": "relevant request response list", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "relevant request response list", "type": "dfn", "url": "#dfn-relevant-request-response-list" },
        "#dfn-request-response-list": { "displayText": "request response list", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "request response list", "type": "dfn", "url": "#dfn-request-response-list" },
        "#dfn-scope-to-job-queue-map": { "displayText": "scope to job queue map", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "scope to job queue map", "type": "dfn", "url": "#dfn-scope-to-job-queue-map" },
        "#dfn-scope-to-registration-map": { "displayText": "registration map", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "registration map", "type": "dfn", "url": "#dfn-scope-to-registration-map" },
        "#dfn-scope-url": { "displayText": "scope url", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "scope url", "type": "dfn", "url": "#dfn-scope-url" },
        "#dfn-script-resource": { "displayText": "script resource", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "script resource", "type": "dfn", "url": "#dfn-script-resource" },
        "#dfn-script-resource-map": { "displayText": "script resource map", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "script resource map", "type": "dfn", "url": "#dfn-script-resource-map" },
        "#dfn-script-url": { "displayText": "script url", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "script url", "type": "dfn", "url": "#dfn-script-url" },
        "#dfn-service-worker": { "displayText": "service worker", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker", "type": "dfn", "url": "#dfn-service-worker" },
        "#dfn-service-worker-client": { "displayText": "service worker client", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker client", "type": "dfn", "url": "#dfn-service-worker-client" },
        "#dfn-service-worker-client-browsing-context": { "displayText": "browsing context", "export": true, "for_": ["WindowClient"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "browsing context", "type": "dfn", "url": "#dfn-service-worker-client-browsing-context" },
        "#dfn-service-worker-client-focusstate": { "displayText": "focus state", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "focus state", "type": "dfn", "url": "#dfn-service-worker-client-focusstate" },
        "#dfn-service-worker-client-frame-type": { "displayText": "frame type", "export": true, "for_": ["Client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "frame type", "type": "dfn", "url": "#dfn-service-worker-client-frame-type" },
        "#dfn-service-worker-client-service-worker-client": { "displayText": "service worker client", "export": true, "for_": ["Client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker client", "type": "dfn", "url": "#dfn-service-worker-client-service-worker-client" },
        "#dfn-service-worker-client-visibilitystate": { "displayText": "visibility state", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "visibility state", "type": "dfn", "url": "#dfn-service-worker-client-visibilitystate" },
        "#dfn-service-worker-events": { "displayText": "service worker events", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker events", "type": "dfn", "url": "#dfn-service-worker-events" },
        "#dfn-service-worker-global-object": { "displayText": "global object", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "global object", "type": "dfn", "url": "#dfn-service-worker-global-object" },
        "#dfn-service-worker-registration": { "displayText": "service worker registration", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker registration", "type": "dfn", "url": "#dfn-service-worker-registration" },
        "#dfn-service-worker-registration-task-queue": { "displayText": "task queues", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "task queues", "type": "dfn", "url": "#dfn-service-worker-registration-task-queue" },
        "#dfn-service-worker-registration-unregistered": { "displayText": "unregistered", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "unregistered", "type": "dfn", "url": "#dfn-service-worker-registration-unregistered" },
        "#dfn-set-of-event-types-to-handle": { "displayText": "set of event types to handle", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "set of event types to handle", "type": "dfn", "url": "#dfn-set-of-event-types-to-handle" },
        "#dfn-set-of-extended-events": { "displayText": "set of extended events", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "set of extended events", "type": "dfn", "url": "#dfn-set-of-extended-events" },
        "#dfn-set-of-used-scripts": { "displayText": "set of used scripts", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "set of used scripts", "type": "dfn", "url": "#dfn-set-of-used-scripts" },
        "#dfn-sharedworker-client": { "displayText": "shared worker client", "export": true, "for_": ["service worker client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "shared worker client", "type": "dfn", "url": "#dfn-sharedworker-client" },
        "#dfn-skip-waiting-flag": { "displayText": "skip waiting flag", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "skip waiting flag", "type": "dfn", "url": "#dfn-skip-waiting-flag" },
        "#dfn-state": { "displayText": "state", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "state", "type": "dfn", "url": "#dfn-state" },
        "#dfn-type": { "displayText": "type", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "type", "type": "dfn", "url": "#dfn-type" },
        "#dfn-update-via-cache": { "displayText": "update via cache mode", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "update via cache mode", "type": "dfn", "url": "#dfn-update-via-cache" },
        "#dfn-use": { "displayText": "using", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "using", "type": "dfn", "url": "#dfn-use" },
        "#dfn-waiting-worker": { "displayText": "waiting worker", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "waiting worker", "type": "dfn", "url": "#dfn-waiting-worker" },
        "#dfn-window-client": { "displayText": "window client", "export": true, "for_": ["service worker client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "window client", "type": "dfn", "url": "#dfn-window-client" },
        "#dfn-worker-client": { "displayText": "worker client", "export": true, "for_": ["service worker client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "worker client", "type": "dfn", "url": "#dfn-worker-client" },
        "#dictdef-cachequeryoptions": { "displayText": "CacheQueryOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "CacheQueryOptions", "type": "dictionary", "url": "#dictdef-cachequeryoptions" },
        "#dictdef-clientqueryoptions": { "displayText": "ClientQueryOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ClientQueryOptions", "type": "dictionary", "url": "#dictdef-clientqueryoptions" },
        "#dictdef-extendableeventinit": { "displayText": "ExtendableEventInit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ExtendableEventInit", "type": "dictionary", "url": "#dictdef-extendableeventinit" },
        "#dictdef-extendablemessageeventinit": { "displayText": "ExtendableMessageEventInit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ExtendableMessageEventInit", "type": "dictionary", "url": "#dictdef-extendablemessageeventinit" },
        "#dictdef-fetcheventinit": { "displayText": "FetchEventInit", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "FetchEventInit", "type": "dictionary", "url": "#dictdef-fetcheventinit" },
        "#dictdef-multicachequeryoptions": { "displayText": "MultiCacheQueryOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "MultiCacheQueryOptions", "type": "dictionary", "url": "#dictdef-multicachequeryoptions" },
        "#dictdef-navigationpreloadstate": { "displayText": "NavigationPreloadState", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "NavigationPreloadState", "type": "dictionary", "url": "#dictdef-navigationpreloadstate" },
        "#dictdef-registrationoptions": { "displayText": "RegistrationOptions", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "RegistrationOptions", "type": "dictionary", "url": "#dictdef-registrationoptions" },
        "#dictdef-routercondition": { "displayText": "RouterCondition", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "RouterCondition", "type": "dictionary", "url": "#dictdef-routercondition" },
        "#dictdef-routerrule": { "displayText": "RouterRule", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "RouterRule", "type": "dictionary", "url": "#dictdef-routerrule" },
        "#dictdef-routersourcedict": { "displayText": "RouterSourceDict", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "RouterSourceDict", "type": "dictionary", "url": "#dictdef-routersourcedict" },
        "#dom-cache-add": { "displayText": "add(request)", "export": true, "for_": ["Cache"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "add(request)", "type": "method", "url": "#dom-cache-add" },
        "#dom-cache-addall": { "displayText": "addAll(requests)", "export": true, "for_": ["Cache"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "addAll(requests)", "type": "method", "url": "#dom-cache-addall" },
        "#dom-cache-delete": { "displayText": "delete(request, options)", "export": true, "for_": ["Cache"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "delete(request, options)", "type": "method", "url": "#dom-cache-delete" },
        "#dom-cache-keys": { "displayText": "keys(request, options)", "export": true, "for_": ["Cache"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "keys(request, options)", "type": "method", "url": "#dom-cache-keys" },
        "#dom-cache-match": { "displayText": "match(request, options)", "export": true, "for_": ["Cache"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "match(request, options)", "type": "method", "url": "#dom-cache-match" },
        "#dom-cache-matchall": { "displayText": "matchAll(request, options)", "export": true, "for_": ["Cache"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "matchAll(request, options)", "type": "method", "url": "#dom-cache-matchall" },
        "#dom-cache-put": { "displayText": "put(request, response)", "export": true, "for_": ["Cache"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "put(request, response)", "type": "method", "url": "#dom-cache-put" },
        "#dom-cachequeryoptions-ignoremethod": { "displayText": "ignoreMethod", "export": true, "for_": ["CacheQueryOptions"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ignoreMethod", "type": "dict-member", "url": "#dom-cachequeryoptions-ignoremethod" },
        "#dom-cachequeryoptions-ignoresearch": { "displayText": "ignoreSearch", "export": true, "for_": ["CacheQueryOptions"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ignoreSearch", "type": "dict-member", "url": "#dom-cachequeryoptions-ignoresearch" },
        "#dom-cachequeryoptions-ignorevary": { "displayText": "ignoreVary", "export": true, "for_": ["CacheQueryOptions"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ignoreVary", "type": "dict-member", "url": "#dom-cachequeryoptions-ignorevary" },
        "#dom-cachestorage-delete": { "displayText": "delete(cacheName)", "export": true, "for_": ["CacheStorage"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "delete(cacheName)", "type": "method", "url": "#dom-cachestorage-delete" },
        "#dom-cachestorage-has": { "displayText": "has(cacheName)", "export": true, "for_": ["CacheStorage"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "has(cacheName)", "type": "method", "url": "#dom-cachestorage-has" },
        "#dom-cachestorage-keys": { "displayText": "keys()", "export": true, "for_": ["CacheStorage"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "keys()", "type": "method", "url": "#dom-cachestorage-keys" },
        "#dom-cachestorage-match": { "displayText": "match(request, options)", "export": true, "for_": ["CacheStorage"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "match(request, options)", "type": "method", "url": "#dom-cachestorage-match" },
        "#dom-cachestorage-open": { "displayText": "open(cacheName)", "export": true, "for_": ["CacheStorage"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "open(cacheName)", "type": "method", "url": "#dom-cachestorage-open" },
        "#dom-client-frametype": { "displayText": "frameType", "export": true, "for_": ["Client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "frameType", "type": "attribute", "url": "#dom-client-frametype" },
        "#dom-client-id": { "displayText": "id", "export": true, "for_": ["Client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "id", "type": "attribute", "url": "#dom-client-id" },
        "#dom-client-postmessage": { "displayText": "postMessage(message, transfer)", "export": true, "for_": ["Client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "postMessage(message, transfer)", "type": "method", "url": "#dom-client-postmessage" },
        "#dom-client-postmessage-message-options": { "displayText": "postMessage(message, options)", "export": true, "for_": ["Client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "postMessage(message, options)", "type": "method", "url": "#dom-client-postmessage-message-options" },
        "#dom-client-type": { "displayText": "type", "export": true, "for_": ["Client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "type", "type": "attribute", "url": "#dom-client-type" },
        "#dom-client-url": { "displayText": "url", "export": true, "for_": ["Client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "url", "type": "attribute", "url": "#dom-client-url" },
        "#dom-clientqueryoptions-includeuncontrolled": { "displayText": "includeUncontrolled", "export": true, "for_": ["ClientQueryOptions"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "includeUncontrolled", "type": "dict-member", "url": "#dom-clientqueryoptions-includeuncontrolled" },
        "#dom-clientqueryoptions-type": { "displayText": "type", "export": true, "for_": ["ClientQueryOptions"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "type", "type": "dict-member", "url": "#dom-clientqueryoptions-type" },
        "#dom-clients-claim": { "displayText": "claim()", "export": true, "for_": ["Clients"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "claim()", "type": "method", "url": "#dom-clients-claim" },
        "#dom-clients-get": { "displayText": "get(id)", "export": true, "for_": ["Clients"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "get(id)", "type": "method", "url": "#dom-clients-get" },
        "#dom-clients-matchall": { "displayText": "matchAll(options)", "export": true, "for_": ["Clients"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "matchAll(options)", "type": "method", "url": "#dom-clients-matchall" },
        "#dom-clients-openwindow": { "displayText": "openWindow(url)", "export": true, "for_": ["Clients"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "openWindow(url)", "type": "method", "url": "#dom-clients-openwindow" },
        "#dom-clienttype-all": { "displayText": "\"all\"", "export": true, "for_": ["ClientType"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "\"all\"", "type": "enum-value", "url": "#dom-clienttype-all" },
        "#dom-clienttype-sharedworker": { "displayText": "\"sharedworker\"", "export": true, "for_": ["ClientType"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "\"sharedworker\"", "type": "enum-value", "url": "#dom-clienttype-sharedworker" },
        "#dom-clienttype-window": { "displayText": "\"window\"", "export": true, "for_": ["ClientType"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "\"window\"", "type": "enum-value", "url": "#dom-clienttype-window" },
        "#dom-clienttype-worker": { "displayText": "\"worker\"", "export": true, "for_": ["ClientType"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "\"worker\"", "type": "enum-value", "url": "#dom-clienttype-worker" },
        "#dom-extendableevent-waituntil": { "displayText": "waitUntil(f)", "export": true, "for_": ["ExtendableEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "waitUntil(f)", "type": "method", "url": "#dom-extendableevent-waituntil" },
        "#dom-extendablemessageevent-data": { "displayText": "data", "export": true, "for_": ["ExtendableMessageEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "data", "type": "attribute", "url": "#dom-extendablemessageevent-data" },
        "#dom-extendablemessageevent-lasteventid": { "displayText": "lastEventId", "export": true, "for_": ["ExtendableMessageEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "lastEventId", "type": "attribute", "url": "#dom-extendablemessageevent-lasteventid" },
        "#dom-extendablemessageevent-origin": { "displayText": "origin", "export": true, "for_": ["ExtendableMessageEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "origin", "type": "attribute", "url": "#dom-extendablemessageevent-origin" },
        "#dom-extendablemessageevent-ports": { "displayText": "ports", "export": true, "for_": ["ExtendableMessageEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ports", "type": "attribute", "url": "#dom-extendablemessageevent-ports" },
        "#dom-extendablemessageevent-source": { "displayText": "source", "export": true, "for_": ["ExtendableMessageEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "source", "type": "attribute", "url": "#dom-extendablemessageevent-source" },
        "#dom-fetchevent-clientid": { "displayText": "clientId", "export": true, "for_": ["FetchEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "clientId", "type": "attribute", "url": "#dom-fetchevent-clientid" },
        "#dom-fetchevent-handled": { "displayText": "handled", "export": true, "for_": ["FetchEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "handled", "type": "attribute", "url": "#dom-fetchevent-handled" },
        "#dom-fetchevent-preloadresponse": { "displayText": "preloadResponse", "export": true, "for_": ["FetchEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "preloadResponse", "type": "attribute", "url": "#dom-fetchevent-preloadresponse" },
        "#dom-fetchevent-replacesclientid": { "displayText": "replacesClientId", "export": true, "for_": ["FetchEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "replacesClientId", "type": "attribute", "url": "#dom-fetchevent-replacesclientid" },
        "#dom-fetchevent-request": { "displayText": "request", "export": true, "for_": ["FetchEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "request", "type": "attribute", "url": "#dom-fetchevent-request" },
        "#dom-fetchevent-respondwith": { "displayText": "respondWith(r)", "export": true, "for_": ["FetchEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "respondWith(r)", "type": "method", "url": "#dom-fetchevent-respondwith" },
        "#dom-fetchevent-resultingclientid": { "displayText": "resultingClientId", "export": true, "for_": ["FetchEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "resultingClientId", "type": "attribute", "url": "#dom-fetchevent-resultingclientid" },
        "#dom-installevent-addroutes": { "displayText": "addRoutes(rules)", "export": true, "for_": ["InstallEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "addRoutes(rules)", "type": "method", "url": "#dom-installevent-addroutes" },
        "#dom-multicachequeryoptions-cachename": { "displayText": "cacheName", "export": true, "for_": ["MultiCacheQueryOptions"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "cacheName", "type": "dict-member", "url": "#dom-multicachequeryoptions-cachename" },
        "#dom-navigationpreloadmanager-disable": { "displayText": "disable()", "export": true, "for_": ["NavigationPreloadManager"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "disable()", "type": "method", "url": "#dom-navigationpreloadmanager-disable" },
        "#dom-navigationpreloadmanager-enable": { "displayText": "enable()", "export": true, "for_": ["NavigationPreloadManager"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "enable()", "type": "method", "url": "#dom-navigationpreloadmanager-enable" },
        "#dom-navigationpreloadmanager-getstate": { "displayText": "getState()", "export": true, "for_": ["NavigationPreloadManager"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "getState()", "type": "method", "url": "#dom-navigationpreloadmanager-getstate" },
        "#dom-navigationpreloadmanager-setheadervalue": { "displayText": "setHeaderValue(value)", "export": true, "for_": ["NavigationPreloadManager"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "setHeaderValue(value)", "type": "method", "url": "#dom-navigationpreloadmanager-setheadervalue" },
        "#dom-navigationpreloadstate-enabled": { "displayText": "enabled", "export": true, "for_": ["NavigationPreloadState"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "enabled", "type": "dict-member", "url": "#dom-navigationpreloadstate-enabled" },
        "#dom-navigationpreloadstate-headervalue": { "displayText": "headerValue", "export": true, "for_": ["NavigationPreloadState"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "headerValue", "type": "dict-member", "url": "#dom-navigationpreloadstate-headervalue" },
        "#dom-registrationoptions-scope": { "displayText": "scope", "export": true, "for_": ["RegistrationOptions"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "scope", "type": "dict-member", "url": "#dom-registrationoptions-scope" },
        "#dom-registrationoptions-type": { "displayText": "type", "export": true, "for_": ["RegistrationOptions"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "type", "type": "dict-member", "url": "#dom-registrationoptions-type" },
        "#dom-registrationoptions-updateviacache": { "displayText": "updateViaCache", "export": true, "for_": ["RegistrationOptions"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "updateViaCache", "type": "dict-member", "url": "#dom-registrationoptions-updateviacache" },
        "#dom-routercondition-not": { "displayText": "not", "export": true, "for_": ["RouterCondition"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "not", "type": "dict-member", "url": "#dom-routercondition-not" },
        "#dom-routercondition-or": { "displayText": "or", "export": true, "for_": ["RouterCondition"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "or", "type": "dict-member", "url": "#dom-routercondition-or" },
        "#dom-routercondition-requestdestination": { "displayText": "requestDestination", "export": true, "for_": ["RouterCondition"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "requestDestination", "type": "dict-member", "url": "#dom-routercondition-requestdestination" },
        "#dom-routercondition-requestmethod": { "displayText": "requestMethod", "export": true, "for_": ["RouterCondition"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "requestMethod", "type": "dict-member", "url": "#dom-routercondition-requestmethod" },
        "#dom-routercondition-requestmode": { "displayText": "requestMode", "export": true, "for_": ["RouterCondition"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "requestMode", "type": "dict-member", "url": "#dom-routercondition-requestmode" },
        "#dom-routercondition-runningstatus": { "displayText": "runningStatus", "export": true, "for_": ["RouterCondition"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "runningStatus", "type": "dict-member", "url": "#dom-routercondition-runningstatus" },
        "#dom-routercondition-urlpattern": { "displayText": "urlPattern", "export": true, "for_": ["RouterCondition"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "urlPattern", "type": "dict-member", "url": "#dom-routercondition-urlpattern" },
        "#dom-routerrule-condition": { "displayText": "condition", "export": true, "for_": ["RouterRule"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "condition", "type": "dict-member", "url": "#dom-routerrule-condition" },
        "#dom-routerrule-source": { "displayText": "source", "export": true, "for_": ["RouterRule"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "source", "type": "dict-member", "url": "#dom-routerrule-source" },
        "#dom-routersourcedict-cachename": { "displayText": "cacheName", "export": true, "for_": ["RouterSourceDict"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "cacheName", "type": "dict-member", "url": "#dom-routersourcedict-cachename" },
        "#dom-routersourceenum-cache": { "displayText": "\"cache\"", "export": true, "for_": ["RouterSourceEnum"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "\"cache\"", "type": "enum-value", "url": "#dom-routersourceenum-cache" },
        "#dom-routersourceenum-fetch-event": { "displayText": "\"fetch-event\"", "export": true, "for_": ["RouterSourceEnum"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "\"fetch-event\"", "type": "enum-value", "url": "#dom-routersourceenum-fetch-event" },
        "#dom-routersourceenum-network": { "displayText": "\"network\"", "export": true, "for_": ["RouterSourceEnum"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "\"network\"", "type": "enum-value", "url": "#dom-routersourceenum-network" },
        "#dom-routersourceenum-race-network-and-fetch-handler": { "displayText": "\"race-network-and-fetch-handler\"", "export": true, "for_": ["RouterSourceEnum"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "\"race-network-and-fetch-handler\"", "type": "enum-value", "url": "#dom-routersourceenum-race-network-and-fetch-handler" },
        "#dom-runningstatus-not-running": { "displayText": "\"not-running\"", "export": true, "for_": ["RunningStatus"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "\"not-running\"", "type": "enum-value", "url": "#dom-runningstatus-not-running" },
        "#dom-runningstatus-running": { "displayText": "\"running\"", "export": true, "for_": ["RunningStatus"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "\"running\"", "type": "enum-value", "url": "#dom-runningstatus-running" },
        "#dom-serviceworker-onstatechange": { "displayText": "onstatechange", "export": true, "for_": ["ServiceWorker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "onstatechange", "type": "attribute", "url": "#dom-serviceworker-onstatechange" },
        "#dom-serviceworker-postmessage": { "displayText": "postMessage(message, transfer)", "export": true, "for_": ["ServiceWorker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "postMessage(message, transfer)", "type": "method", "url": "#dom-serviceworker-postmessage" },
        "#dom-serviceworker-postmessage-message-options": { "displayText": "postMessage(message, options)", "export": true, "for_": ["ServiceWorker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "postMessage(message, options)", "type": "method", "url": "#dom-serviceworker-postmessage-message-options" },
        "#dom-serviceworker-scripturl": { "displayText": "scriptURL", "export": true, "for_": ["ServiceWorker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "scriptURL", "type": "attribute", "url": "#dom-serviceworker-scripturl" },
        "#dom-serviceworker-state": { "displayText": "state", "export": true, "for_": ["ServiceWorker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "state", "type": "attribute", "url": "#dom-serviceworker-state" },
        "#dom-serviceworkercontainer-controller": { "displayText": "controller", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "controller", "type": "attribute", "url": "#dom-serviceworkercontainer-controller" },
        "#dom-serviceworkercontainer-getregistration": { "displayText": "getRegistration(clientURL)", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "getRegistration(clientURL)", "type": "method", "url": "#dom-serviceworkercontainer-getregistration" },
        "#dom-serviceworkercontainer-getregistrations": { "displayText": "getRegistrations()", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "getRegistrations()", "type": "method", "url": "#dom-serviceworkercontainer-getregistrations" },
        "#dom-serviceworkercontainer-oncontrollerchange": { "displayText": "oncontrollerchange", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "oncontrollerchange", "type": "attribute", "url": "#dom-serviceworkercontainer-oncontrollerchange" },
        "#dom-serviceworkercontainer-onmessage": { "displayText": "onmessage", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "onmessage", "type": "attribute", "url": "#dom-serviceworkercontainer-onmessage" },
        "#dom-serviceworkercontainer-onmessageerror": { "displayText": "onmessageerror", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "onmessageerror", "type": "attribute", "url": "#dom-serviceworkercontainer-onmessageerror" },
        "#dom-serviceworkercontainer-ready": { "displayText": "ready", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ready", "type": "attribute", "url": "#dom-serviceworkercontainer-ready" },
        "#dom-serviceworkercontainer-register": { "displayText": "register(scriptURL, options)", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "register(scriptURL, options)", "type": "method", "url": "#dom-serviceworkercontainer-register" },
        "#dom-serviceworkercontainer-startmessages": { "displayText": "startMessages()", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "startMessages()", "type": "method", "url": "#dom-serviceworkercontainer-startmessages" },
        "#dom-serviceworkerglobalscope-clients": { "displayText": "clients", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "clients", "type": "attribute", "url": "#dom-serviceworkerglobalscope-clients" },
        "#dom-serviceworkerglobalscope-onactivate": { "displayText": "onactivate", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "onactivate", "type": "attribute", "url": "#dom-serviceworkerglobalscope-onactivate" },
        "#dom-serviceworkerglobalscope-onfetch": { "displayText": "onfetch", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "onfetch", "type": "attribute", "url": "#dom-serviceworkerglobalscope-onfetch" },
        "#dom-serviceworkerglobalscope-oninstall": { "displayText": "oninstall", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "oninstall", "type": "attribute", "url": "#dom-serviceworkerglobalscope-oninstall" },
        "#dom-serviceworkerglobalscope-onmessage": { "displayText": "onmessage", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "onmessage", "type": "attribute", "url": "#dom-serviceworkerglobalscope-onmessage" },
        "#dom-serviceworkerglobalscope-onmessageerror": { "displayText": "onmessageerror", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "onmessageerror", "type": "attribute", "url": "#dom-serviceworkerglobalscope-onmessageerror" },
        "#dom-serviceworkerglobalscope-registration": { "displayText": "registration", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "registration", "type": "attribute", "url": "#dom-serviceworkerglobalscope-registration" },
        "#dom-serviceworkerglobalscope-serviceworker": { "displayText": "serviceWorker", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "serviceWorker", "type": "attribute", "url": "#dom-serviceworkerglobalscope-serviceworker" },
        "#dom-serviceworkerglobalscope-skipwaiting": { "displayText": "skipWaiting()", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "skipWaiting()", "type": "method", "url": "#dom-serviceworkerglobalscope-skipwaiting" },
        "#dom-serviceworkerregistration-active": { "displayText": "active", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "active", "type": "attribute", "url": "#dom-serviceworkerregistration-active" },
        "#dom-serviceworkerregistration-installing": { "displayText": "installing", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "installing", "type": "attribute", "url": "#dom-serviceworkerregistration-installing" },
        "#dom-serviceworkerregistration-navigationpreload": { "displayText": "navigationPreload", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "navigationPreload", "type": "attribute", "url": "#dom-serviceworkerregistration-navigationpreload" },
        "#dom-serviceworkerregistration-onupdatefound": { "displayText": "onupdatefound", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "onupdatefound", "type": "attribute", "url": "#dom-serviceworkerregistration-onupdatefound" },
        "#dom-serviceworkerregistration-scope": { "displayText": "scope", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "scope", "type": "attribute", "url": "#dom-serviceworkerregistration-scope" },
        "#dom-serviceworkerregistration-unregister": { "displayText": "unregister()", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "unregister()", "type": "method", "url": "#dom-serviceworkerregistration-unregister" },
        "#dom-serviceworkerregistration-update": { "displayText": "update()", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "update()", "type": "method", "url": "#dom-serviceworkerregistration-update" },
        "#dom-serviceworkerregistration-updateviacache": { "displayText": "updateViaCache", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "updateViaCache", "type": "attribute", "url": "#dom-serviceworkerregistration-updateviacache" },
        "#dom-serviceworkerregistration-waiting": { "displayText": "waiting", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "waiting", "type": "attribute", "url": "#dom-serviceworkerregistration-waiting" },
        "#dom-windowclient-ancestororigins": { "displayText": "ancestorOrigins", "export": true, "for_": ["WindowClient"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ancestorOrigins", "type": "attribute", "url": "#dom-windowclient-ancestororigins" },
        "#dom-windowclient-focus": { "displayText": "focus()", "export": true, "for_": ["WindowClient"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "focus()", "type": "method", "url": "#dom-windowclient-focus" },
        "#dom-windowclient-focused": { "displayText": "focused", "export": true, "for_": ["WindowClient"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "focused", "type": "attribute", "url": "#dom-windowclient-focused" },
        "#dom-windowclient-navigate": { "displayText": "navigate(url)", "export": true, "for_": ["WindowClient"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "navigate(url)", "type": "method", "url": "#dom-windowclient-navigate" },
        "#dom-windowclient-visibilitystate": { "displayText": "visibilityState", "export": true, "for_": ["WindowClient"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "visibilityState", "type": "attribute", "url": "#dom-windowclient-visibilitystate" },
        "#enumdef-clienttype": { "displayText": "ClientType", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ClientType", "type": "enum", "url": "#enumdef-clienttype" },
        "#enumdef-frametype": { "displayText": "FrameType", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "FrameType", "type": "enum", "url": "#enumdef-frametype" },
        "#enumdef-routersourceenum": { "displayText": "RouterSourceEnum", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "RouterSourceEnum", "type": "enum", "url": "#enumdef-routersourceenum" },
        "#enumdef-runningstatus": { "displayText": "RunningStatus", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "RunningStatus", "type": "enum", "url": "#enumdef-runningstatus" },
        "#enumdef-serviceworkerstate": { "displayText": "ServiceWorkerState", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ServiceWorkerState", "type": "enum", "url": "#enumdef-serviceworkerstate" },
        "#enumdef-serviceworkerupdateviacache": { "displayText": "ServiceWorkerUpdateViaCache", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ServiceWorkerUpdateViaCache", "type": "enum", "url": "#enumdef-serviceworkerupdateviacache" },
        "#environment-settings-object-service-worker-object-map": { "displayText": "service worker object map", "export": true, "for_": ["environment settings object"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker object map", "type": "dfn", "url": "#environment-settings-object-service-worker-object-map" },
        "#environment-settings-object-service-worker-registration-object-map": { "displayText": "service worker registration object map", "export": true, "for_": ["environment settings object"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker registration object map", "type": "dfn", "url": "#environment-settings-object-service-worker-registration-object-map" },
        "#eventdef-serviceworker-statechange": { "displayText": "statechange", "export": true, "for_": ["ServiceWorker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "statechange", "type": "event", "url": "#eventdef-serviceworker-statechange" },
        "#eventdef-serviceworkerglobalscope-message": { "displayText": "message", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "message", "type": "event", "url": "#eventdef-serviceworkerglobalscope-message" },
        "#eventdef-serviceworkerglobalscope-messageerror": { "displayText": "messageerror", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "messageerror", "type": "event", "url": "#eventdef-serviceworkerglobalscope-messageerror" },
        "#extendableevent": { "displayText": "ExtendableEvent", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ExtendableEvent", "type": "interface", "url": "#extendableevent" },
        "#extendableevent-active": { "displayText": "active", "export": true, "for_": ["ExtendableEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "active", "type": "dfn", "url": "#extendableevent-active" },
        "#extendableevent-add-lifetime-promise": { "displayText": "add lifetime promise", "export": true, "for_": ["ExtendableEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "add lifetime promise", "type": "dfn", "url": "#extendableevent-add-lifetime-promise" },
        "#extendableevent-extend-lifetime-promises": { "displayText": "extend lifetime promises", "export": true, "for_": ["ExtendableEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "extend lifetime promises", "type": "dfn", "url": "#extendableevent-extend-lifetime-promises" },
        "#extendableevent-pending-promises-count": { "displayText": "pending promises count", "export": true, "for_": ["ExtendableEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "pending promises count", "type": "dfn", "url": "#extendableevent-pending-promises-count" },
        "#extendableevent-timed-out-flag": { "displayText": "timed out flag", "export": true, "for_": ["ExtendableEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "timed out flag", "type": "dfn", "url": "#extendableevent-timed-out-flag" },
        "#extendablemessageevent": { "displayText": "ExtendableMessageEvent", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ExtendableMessageEvent", "type": "interface", "url": "#extendablemessageevent" },
        "#fetchevent": { "displayText": "FetchEvent", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "FetchEvent", "type": "interface", "url": "#fetchevent" },
        "#fetchevent-potential-response": { "displayText": "potential response", "export": true, "for_": ["FetchEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "potential response", "type": "dfn", "url": "#fetchevent-potential-response" },
        "#fetchevent-respond-with-entered-flag": { "displayText": "respond-with entered flag", "export": true, "for_": ["FetchEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "respond-with entered flag", "type": "dfn", "url": "#fetchevent-respond-with-entered-flag" },
        "#fetchevent-respond-with-error-flag": { "displayText": "respond-with error flag", "export": true, "for_": ["FetchEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "respond-with error flag", "type": "dfn", "url": "#fetchevent-respond-with-error-flag" },
        "#fetchevent-wait-to-respond-flag": { "displayText": "wait to respond flag", "export": true, "for_": ["FetchEvent"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "wait to respond flag", "type": "dfn", "url": "#fetchevent-wait-to-respond-flag" },
        "#finish-job": { "displayText": "finish job", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "finish job", "type": "dfn", "url": "#finish-job" },
        "#fire-functional-event": { "displayText": "fire functional event", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "fire functional event", "type": "dfn", "url": "#fire-functional-event" },
        "#get-frame-type": { "displayText": "get frame type", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "get frame type", "type": "dfn", "url": "#get-frame-type" },
        "#get-newest-worker": { "displayText": "get newest worker", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "get newest worker", "type": "dfn", "url": "#get-newest-worker" },
        "#get-registration": { "displayText": "get registration", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "get registration", "type": "dfn", "url": "#get-registration" },
        "#get-router-source": { "displayText": "get router source", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "get router source", "type": "dfn", "url": "#get-router-source" },
        "#get-the-service-worker-object": { "displayText": "getting the service worker object", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "getting the service worker object", "type": "dfn", "url": "#get-the-service-worker-object" },
        "#get-the-service-worker-registration-object": { "displayText": "getting the service worker registration object", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "getting the service worker registration object", "type": "dfn", "url": "#get-the-service-worker-registration-object" },
        "#global-caches-attribute": { "displayText": "caches", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "caches", "type": "attribute", "url": "#global-caches-attribute" },
        "#handle-fetch": { "displayText": "handle fetch", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "handle fetch", "type": "dfn", "url": "#handle-fetch" },
        "#handle-service-worker-client-unload": { "displayText": "handle service worker client unload", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "handle service worker client unload", "type": "dfn", "url": "#handle-service-worker-client-unload" },
        "#handle-user-agent-shutdown": { "displayText": "handle user agent shutdown", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "handle user agent shutdown", "type": "dfn", "url": "#handle-user-agent-shutdown" },
        "#importscripts-method": { "displayText": "importScripts(urls)", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "importScripts(urls)", "type": "method", "url": "#importscripts-method" },
        "#install": { "displayText": "install", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "install", "type": "dfn", "url": "#install" },
        "#installevent": { "displayText": "InstallEvent", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "InstallEvent", "type": "interface", "url": "#installevent" },
        "#is-async-module": { "displayText": "is async module", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "is async module", "type": "dfn", "url": "#is-async-module" },
        "#job-referrer": { "displayText": "referrer", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "referrer", "type": "dfn", "url": "#job-referrer" },
        "#job-storage-key": { "displayText": "storage key", "export": true, "for_": ["job"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "storage key", "type": "dfn", "url": "#job-storage-key" },
        "#match-router-condition": { "displayText": "match router condition", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "match router condition", "type": "dfn", "url": "#match-router-condition" },
        "#match-service-worker-registration": { "displayText": "match service worker registration", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "match service worker registration", "type": "dfn", "url": "#match-service-worker-registration" },
        "#navigationpreloadmanager": { "displayText": "NavigationPreloadManager", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "NavigationPreloadManager", "type": "interface", "url": "#navigationpreloadmanager" },
        "#navigator-service-worker-attribute": { "displayText": "serviceWorker", "export": true, "for_": ["Navigator", "WorkerNavigator"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "serviceWorker", "type": "attribute", "url": "#navigator-service-worker-attribute" },
        "#notify-controller-change": { "displayText": "notify controller change", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "notify controller change", "type": "dfn", "url": "#notify-controller-change" },
        "#parse-url-pattern": { "displayText": "parse url pattern", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "parse url pattern", "type": "dfn", "url": "#parse-url-pattern" },
        "#query-cache": { "displayText": "query cache", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "query cache", "type": "dfn", "url": "#query-cache" },
        "#race-response-value": { "displayText": "value", "export": true, "for_": ["race response"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "value", "type": "dfn", "url": "#race-response-value" },
        "#register": { "displayText": "register", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "register", "type": "dfn", "url": "#register" },
        "#reject-job-promise": { "displayText": "reject job promise", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "reject job promise", "type": "dfn", "url": "#reject-job-promise" },
        "#request-matches-cached-item": { "displayText": "request matches cached item", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "request matches cached item", "type": "dfn", "url": "#request-matches-cached-item" },
        "#resolve-get-client-promise": { "displayText": "resolve get client promise", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "resolve get client promise", "type": "dfn", "url": "#resolve-get-client-promise" },
        "#resolve-job-promise": { "displayText": "resolve job promise", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "resolve job promise", "type": "dfn", "url": "#resolve-job-promise" },
        "#run-job": { "displayText": "run job", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "run job", "type": "dfn", "url": "#run-job" },
        "#run-service-worker": { "displayText": "run service worker", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "run service worker", "type": "dfn", "url": "#run-service-worker" },
        "#schedule-job": { "displayText": "schedule job", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "schedule job", "type": "dfn", "url": "#schedule-job" },
        "#service-worker": { "displayText": "service-worker", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service-worker", "type": "dfn", "url": "#service-worker" },
        "#service-worker-all-fetch-listeners-are-empty-flag": { "displayText": "all fetch listeners are empty flag", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "all fetch listeners are empty flag", "type": "dfn", "url": "#service-worker-all-fetch-listeners-are-empty-flag" },
        "#service-worker-allowed": { "displayText": "service-worker-allowed", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service-worker-allowed", "type": "dfn", "url": "#service-worker-allowed" },
        "#service-worker-client-discarded-flag": { "displayText": "discarded flag", "export": true, "for_": ["service worker client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "discarded flag", "type": "dfn", "url": "#service-worker-client-discarded-flag" },
        "#service-worker-client-origin": { "displayText": "origin", "export": true, "for_": ["service worker client"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "origin", "type": "dfn", "url": "#service-worker-client-origin" },
        "#service-worker-container-controllerchange-event": { "displayText": "controllerchange", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "controllerchange", "type": "event", "url": "#service-worker-container-controllerchange-event" },
        "#service-worker-container-message-event": { "displayText": "message", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "message", "type": "event", "url": "#service-worker-container-message-event" },
        "#service-worker-container-messageerror-event": { "displayText": "messageerror", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "messageerror", "type": "event", "url": "#service-worker-container-messageerror-event" },
        "#service-worker-global-scope-activate-event": { "displayText": "activate", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "activate", "type": "event", "url": "#service-worker-global-scope-activate-event" },
        "#service-worker-global-scope-fetch-event": { "displayText": "fetch", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "fetch", "type": "event", "url": "#service-worker-global-scope-fetch-event" },
        "#service-worker-global-scope-install-event": { "displayText": "install", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "install", "type": "event", "url": "#service-worker-global-scope-install-event" },
        "#service-worker-has-no-pending-events": { "displayText": "service worker has no pending events", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker has no pending events", "type": "dfn", "url": "#service-worker-has-no-pending-events" },
        "#service-worker-list-of-router-rules": { "displayText": "list of router rules", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "list of router rules", "type": "dfn", "url": "#service-worker-list-of-router-rules" },
        "#service-worker-registration-navigation-preload-enabled-flag": { "displayText": "navigation preload enabled flag", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "navigation preload enabled flag", "type": "dfn", "url": "#service-worker-registration-navigation-preload-enabled-flag" },
        "#service-worker-registration-navigation-preload-header-value": { "displayText": "navigation preload header value", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "navigation preload header value", "type": "dfn", "url": "#service-worker-registration-navigation-preload-header-value" },
        "#service-worker-registration-stale": { "displayText": "stale", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "stale", "type": "dfn", "url": "#service-worker-registration-stale" },
        "#service-worker-registration-storage-key": { "displayText": "storage key", "export": true, "for_": ["service worker registration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "storage key", "type": "dfn", "url": "#service-worker-registration-storage-key" },
        "#service-worker-registration-updatefound-event": { "displayText": "updatefound", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "updatefound", "type": "event", "url": "#service-worker-registration-updatefound-event" },
        "#service-worker-running": { "displayText": "running", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "running", "type": "dfn", "url": "#service-worker-running" },
        "#service-worker-service-worker-queue": { "displayText": "[[service worker queue]]", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "[[service worker queue]]", "type": "dfn", "url": "#service-worker-service-worker-queue" },
        "#service-worker-start-status": { "displayText": "start status", "export": true, "for_": ["service worker"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "start status", "type": "dfn", "url": "#service-worker-start-status" },
        "#service-worker-timing-info": { "displayText": "service worker timing info", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker timing info", "type": "dfn", "url": "#service-worker-timing-info" },
        "#service-worker-timing-info-fetch-event-dispatch-time": { "displayText": "fetch event dispatch time", "export": true, "for_": ["service worker timing info"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "fetch event dispatch time", "type": "dfn", "url": "#service-worker-timing-info-fetch-event-dispatch-time" },
        "#service-worker-timing-info-start-time": { "displayText": "start time", "export": true, "for_": ["service worker timing info"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "start time", "type": "dfn", "url": "#service-worker-timing-info-start-time" },
        "#serviceworker": { "displayText": "ServiceWorker", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ServiceWorker", "type": "interface", "url": "#serviceworker" },
        "#serviceworkercontainer": { "displayText": "ServiceWorkerContainer", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ServiceWorkerContainer", "type": "interface", "url": "#serviceworkercontainer" },
        "#serviceworkercontainer-ready-promise": { "displayText": "ready promise", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ready promise", "type": "dfn", "url": "#serviceworkercontainer-ready-promise" },
        "#serviceworkercontainer-service-worker-client": { "displayText": "service worker client", "export": true, "for_": ["ServiceWorkerContainer"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker client", "type": "dfn", "url": "#serviceworkercontainer-service-worker-client" },
        "#serviceworkerglobalscope": { "displayText": "ServiceWorkerGlobalScope", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ServiceWorkerGlobalScope", "type": "interface", "url": "#serviceworkerglobalscope" },
        "#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag": { "displayText": "force bypass cache for import scripts flag", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "force bypass cache for import scripts flag", "type": "dfn", "url": "#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag" },
        "#serviceworkerglobalscope-race-response-map": { "displayText": "race response map", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "race response map", "type": "dfn", "url": "#serviceworkerglobalscope-race-response-map" },
        "#serviceworkerglobalscope-service-worker": { "displayText": "service worker", "export": true, "for_": ["ServiceWorkerGlobalScope"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker", "type": "dfn", "url": "#serviceworkerglobalscope-service-worker" },
        "#serviceworkerregistration": { "displayText": "ServiceWorkerRegistration", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ServiceWorkerRegistration", "type": "interface", "url": "#serviceworkerregistration" },
        "#serviceworkerregistration-service-worker-registration": { "displayText": "service worker registration", "export": true, "for_": ["ServiceWorkerRegistration"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "service worker registration", "type": "dfn", "url": "#serviceworkerregistration-service-worker-registration" },
        "#set-registration": { "displayText": "set registration", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "set registration", "type": "dfn", "url": "#set-registration" },
        "#setup-serviceworkerglobalscope": { "displayText": "setup serviceworkerglobalscope", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "setup serviceworkerglobalscope", "type": "dfn", "url": "#setup-serviceworkerglobalscope" },
        "#should-skip-event": { "displayText": "should skip event", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "should skip event", "type": "dfn", "url": "#should-skip-event" },
        "#soft-update": { "displayText": "soft update", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "soft update", "type": "dfn", "url": "#soft-update" },
        "#start-register": { "displayText": "start register", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "start register", "type": "dfn", "url": "#start-register" },
        "#terminate-service-worker": { "displayText": "terminate service worker", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "terminate service worker", "type": "dfn", "url": "#terminate-service-worker" },
        "#try-activate": { "displayText": "try activate", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "try activate", "type": "dfn", "url": "#try-activate" },
        "#try-clear-registration": { "displayText": "try clear registration", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "try clear registration", "type": "dfn", "url": "#try-clear-registration" },
        "#typedefdef-routersource": { "displayText": "RouterSource", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "RouterSource", "type": "typedef", "url": "#typedefdef-routersource" },
        "#unregister": { "displayText": "unregister", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "unregister", "type": "dfn", "url": "#unregister" },
        "#update": { "displayText": "update", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "update", "type": "dfn", "url": "#update" },
        "#update-registration-state": { "displayText": "update registration state", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "update registration state", "type": "dfn", "url": "#update-registration-state" },
        "#update-service-worker-extended-events-set": { "displayText": "update service worker extended events set", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "update service worker extended events set", "type": "dfn", "url": "#update-service-worker-extended-events-set" },
        "#update-worker-state": { "displayText": "update worker state", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "update worker state", "type": "dfn", "url": "#update-worker-state" },
        "#verify-router-condition": { "displayText": "verify router condition", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "verify router condition", "type": "dfn", "url": "#verify-router-condition" },
        "#windowclient": { "displayText": "WindowClient", "export": true, "for_": [], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "WindowClient", "type": "interface", "url": "#windowclient" },
        "#windowclient-ancestor-origins-array": { "displayText": "ancestor origins array", "export": true, "for_": ["WindowClient"], "level": "", "normative": true, "shortname": "service-workers", "spec": "service-workers", "status": "local", "text": "ancestor origins array", "type": "dfn", "url": "#windowclient-ancestor-origins-array" },
        "49ea2b41_http://tc39.github.io/ecma262/#sec-completion-record-specification-type": { "displayText": "abrupt completion", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "abrupt completion", "type": "dfn", "url": "http://tc39.github.io/ecma262/#sec-completion-record-specification-type" },
        "4bf6be53_http://tc39.github.io/ecma262/#sec-ecmascript-language-statements-and-declarations": { "displayText": "declaration", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "declaration", "type": "dfn", "url": "http://tc39.github.io/ecma262/#sec-ecmascript-language-statements-and-declarations" },
        "http://tc39.github.io/ecma262/#agent": { "displayText": "agent", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "agent", "type": "dfn", "url": "http://tc39.github.io/ecma262/#agent" },
        "http://tc39.github.io/ecma262/#prod-FunctionBody": { "displayText": "function body", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "function body", "type": "dfn", "url": "http://tc39.github.io/ecma262/#prod-FunctionBody" },
        "http://tc39.github.io/ecma262/#sec-abstract-module-records": { "displayText": "Module Record", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "module record", "type": "dfn", "url": "http://tc39.github.io/ecma262/#sec-abstract-module-records" },
        "http://tc39.github.io/ecma262/#sec-algorithm-conventions": { "displayText": "Assert", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "assert", "type": "dfn", "url": "http://tc39.github.io/ecma262/#sec-algorithm-conventions" },
        "http://tc39.github.io/ecma262/#sec-completion-record-specification-type": { "displayText": "Completion", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "completion", "type": "dfn", "url": "http://tc39.github.io/ecma262/#sec-completion-record-specification-type" },
        "http://tc39.github.io/ecma262/#sec-cyclic-module-records": { "displayText": "Cyclic Module Record", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "cyclic module record", "type": "dfn", "url": "http://tc39.github.io/ecma262/#sec-cyclic-module-records" },
        "http://tc39.github.io/ecma262/#sec-detacharraybuffer": { "displayText": "DetachArrayBuffer", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "detacharraybuffer", "type": "dfn", "url": "http://tc39.github.io/ecma262/#sec-detacharraybuffer" },
        "http://tc39.github.io/ecma262/#sec-ecmascript-language-statements-and-declarations": { "displayText": "statement", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "statement", "type": "dfn", "url": "http://tc39.github.io/ecma262/#sec-ecmascript-language-statements-and-declarations" },
        "http://tc39.github.io/ecma262/#sec-iscallable": { "displayText": "IsCallable", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "IsCallable", "type": "abstract-op", "url": "http://tc39.github.io/ecma262/#sec-iscallable" },
        "http://tc39.github.io/ecma262/#sec-map-objects": { "displayText": "map objects", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "map objects", "type": "dfn", "url": "http://tc39.github.io/ecma262/#sec-map-objects" },
        "http://tc39.github.io/ecma262/#sec-normalcompletion": { "displayText": "NormalCompletion", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "NormalCompletion", "type": "abstract-op", "url": "http://tc39.github.io/ecma262/#sec-normalcompletion" },
        "http://tc39.github.io/ecma262/#sec-promise-objects": { "displayText": "promise", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "promise", "type": "dfn", "url": "http://tc39.github.io/ecma262/#sec-promise-objects" },
        "http://tc39.github.io/ecma262/#sec-throwcompletion": { "displayText": "ThrowCompletion", "export": true, "for_": [], "level": "262", "normative": true, "shortname": "ecma", "spec": "ecma-262", "status": "anchor-block", "text": "ThrowCompletion", "type": "abstract-op", "url": "http://tc39.github.io/ecma262/#sec-throwcompletion" },
        "https://dom.spec.whatwg.org/#abortcontroller": { "displayText": "AbortController", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "AbortController", "type": "interface", "url": "https://dom.spec.whatwg.org/#abortcontroller" },
        "https://dom.spec.whatwg.org/#abortcontroller-signal": { "displayText": "signal", "export": true, "for_": ["AbortController"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "signal", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortcontroller-signal" },
        "https://dom.spec.whatwg.org/#abortcontroller-signal-abort": { "displayText": "signal abort", "export": true, "for_": ["AbortController"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "signal abort", "type": "dfn", "url": "https://dom.spec.whatwg.org/#abortcontroller-signal-abort" },
        "https://dom.spec.whatwg.org/#canceled-flag": { "displayText": "canceled flag", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "canceled flag", "type": "dfn", "url": "https://dom.spec.whatwg.org/#canceled-flag" },
        "https://dom.spec.whatwg.org/#concept-document": { "displayText": "document", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "document", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-document" },
        "https://dom.spec.whatwg.org/#concept-event": { "displayText": "event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "event", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event" },
        "https://dom.spec.whatwg.org/#concept-event-create": { "displayText": "creating an event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "creating an event", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-create" },
        "https://dom.spec.whatwg.org/#concept-event-dispatch": { "displayText": "dispatch", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "dispatch", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-dispatch" },
        "https://dom.spec.whatwg.org/#concept-event-fire": { "displayText": "fire an event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "fire an event", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-fire" },
        "https://dom.spec.whatwg.org/#concept-event-listener": { "displayText": "event listener", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "event listener", "type": "dfn", "url": "https://dom.spec.whatwg.org/#concept-event-listener" },
        "https://dom.spec.whatwg.org/#dictdef-eventinit": { "displayText": "EventInit", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventInit", "type": "dictionary", "url": "https://dom.spec.whatwg.org/#dictdef-eventinit" },
        "https://dom.spec.whatwg.org/#dispatch-flag": { "displayText": "dispatch flag", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "dispatch flag", "type": "dfn", "url": "https://dom.spec.whatwg.org/#dispatch-flag" },
        "https://dom.spec.whatwg.org/#dom-event-cancelable": { "displayText": "cancelable", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "cancelable", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-cancelable" },
        "https://dom.spec.whatwg.org/#dom-event-istrusted": { "displayText": "isTrusted", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "isTrusted", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-istrusted" },
        "https://dom.spec.whatwg.org/#dom-event-type": { "displayText": "type", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "type", "type": "attribute", "url": "https://dom.spec.whatwg.org/#dom-event-type" },
        "https://dom.spec.whatwg.org/#dom-eventlistener-handleevent": { "displayText": "handleEvent(event)", "export": true, "for_": ["EventListener"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "handleEvent(event)", "type": "method", "url": "https://dom.spec.whatwg.org/#dom-eventlistener-handleevent" },
        "https://dom.spec.whatwg.org/#event": { "displayText": "Event", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "Event", "type": "interface", "url": "https://dom.spec.whatwg.org/#event" },
        "https://dom.spec.whatwg.org/#event-listener-callback": { "displayText": "callback", "export": true, "for_": ["event listener"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "callback", "type": "dfn", "url": "https://dom.spec.whatwg.org/#event-listener-callback" },
        "https://dom.spec.whatwg.org/#eventtarget": { "displayText": "EventTarget", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "EventTarget", "type": "interface", "url": "https://dom.spec.whatwg.org/#eventtarget" },
        "https://dom.spec.whatwg.org/#legacy-obtain-service-worker-fetch-event-listener-callbacks": { "displayText": "legacy-obtain service worker fetch event listener callbacks", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "legacy-obtain service worker fetch event listener callbacks", "type": "dfn", "url": "https://dom.spec.whatwg.org/#legacy-obtain-service-worker-fetch-event-listener-callbacks" },
        "https://dom.spec.whatwg.org/#stop-immediate-propagation-flag": { "displayText": "stop immediate propagation flag", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "stop immediate propagation flag", "type": "dfn", "url": "https://dom.spec.whatwg.org/#stop-immediate-propagation-flag" },
        "https://dom.spec.whatwg.org/#stop-propagation-flag": { "displayText": "stop propagation flag", "export": true, "for_": ["Event"], "level": "1", "normative": true, "shortname": "dom", "spec": "dom", "status": "current", "text": "stop propagation flag", "type": "dfn", "url": "https://dom.spec.whatwg.org/#stop-propagation-flag" },
        "https://fetch.spec.whatwg.org/#body-unusable": { "displayText": "unusable", "export": true, "for_": ["Body"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "unusable", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#body-unusable" },
        "https://fetch.spec.whatwg.org/#concept-body": { "displayText": "body", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "body", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-body" },
        "https://fetch.spec.whatwg.org/#concept-body-source": { "displayText": "source", "export": true, "for_": ["body"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "source", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-body-source" },
        "https://fetch.spec.whatwg.org/#concept-body-stream": { "displayText": "stream", "export": true, "for_": ["body"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "stream", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-body-stream" },
        "https://fetch.spec.whatwg.org/#concept-fetch": { "displayText": "fetch", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "fetch", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-fetch" },
        "https://fetch.spec.whatwg.org/#concept-filtered-response": { "displayText": "filtered response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "filtered response", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-filtered-response" },
        "https://fetch.spec.whatwg.org/#concept-filtered-response-basic": { "displayText": "basic filtered response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "basic filtered response", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-filtered-response-basic" },
        "https://fetch.spec.whatwg.org/#concept-filtered-response-cors": { "displayText": "CORS filtered response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "cors filtered response", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-filtered-response-cors" },
        "https://fetch.spec.whatwg.org/#concept-filtered-response-opaque": { "displayText": "opaque filtered response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "opaque filtered response", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-filtered-response-opaque" },
        "https://fetch.spec.whatwg.org/#concept-header": { "displayText": "header", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "header", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-header" },
        "https://fetch.spec.whatwg.org/#concept-header-extract-mime-type": { "displayText": "extract a MIME type", "export": true, "for_": ["header list"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "extract a mime type", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-header-extract-mime-type" },
        "https://fetch.spec.whatwg.org/#concept-header-list-append": { "displayText": "append", "export": true, "for_": ["header list"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "append", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-header-list-append" },
        "https://fetch.spec.whatwg.org/#concept-header-list-combine": { "displayText": "combine", "export": true, "for_": ["header list"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "combine", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-header-list-combine" },
        "https://fetch.spec.whatwg.org/#concept-header-name": { "displayText": "name", "export": true, "for_": ["header"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "name", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-header-name" },
        "https://fetch.spec.whatwg.org/#concept-header-value": { "displayText": "value", "export": true, "for_": ["header"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "value", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-header-value" },
        "https://fetch.spec.whatwg.org/#concept-headers-guard": { "displayText": "guard", "export": true, "for_": ["Headers"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "guard", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-headers-guard" },
        "https://fetch.spec.whatwg.org/#concept-http-fetch": { "displayText": "HTTP fetch", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "http fetch", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-http-fetch" },
        "https://fetch.spec.whatwg.org/#concept-internal-response": { "displayText": "internal response", "export": true, "for_": ["filtered response"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "internal response", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-internal-response" },
        "https://fetch.spec.whatwg.org/#concept-method": { "displayText": "method", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "method", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-method" },
        "https://fetch.spec.whatwg.org/#concept-method-normalize": { "displayText": "normalize", "export": true, "for_": ["method"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "normalize", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-method-normalize" },
        "https://fetch.spec.whatwg.org/#concept-network-error": { "displayText": "network error", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "network error", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-network-error" },
        "https://fetch.spec.whatwg.org/#concept-request": { "displayText": "request", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "request", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request" },
        "https://fetch.spec.whatwg.org/#concept-request-body": { "displayText": "body", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "body", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-body" },
        "https://fetch.spec.whatwg.org/#concept-request-cache-mode": { "displayText": "cache mode", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "cache mode", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-cache-mode" },
        "https://fetch.spec.whatwg.org/#concept-request-client": { "displayText": "client", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "client", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-client" },
        "https://fetch.spec.whatwg.org/#concept-request-clone": { "displayText": "clone", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "clone", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-clone" },
        "https://fetch.spec.whatwg.org/#concept-request-destination": { "displayText": "destination", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "destination", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-destination" },
        "https://fetch.spec.whatwg.org/#concept-request-header-list": { "displayText": "header list", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "header list", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-header-list" },
        "https://fetch.spec.whatwg.org/#concept-request-initiator": { "displayText": "initiator", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "initiator", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-initiator" },
        "https://fetch.spec.whatwg.org/#concept-request-method": { "displayText": "method", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "method", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-method" },
        "https://fetch.spec.whatwg.org/#concept-request-mode": { "displayText": "mode", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "mode", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-mode" },
        "https://fetch.spec.whatwg.org/#concept-request-origin": { "displayText": "origin", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "origin", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-origin" },
        "https://fetch.spec.whatwg.org/#concept-request-parser-metadata": { "displayText": "parser metadata", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "parser metadata", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-parser-metadata" },
        "https://fetch.spec.whatwg.org/#concept-request-redirect-mode": { "displayText": "redirect mode", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "redirect mode", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-redirect-mode" },
        "https://fetch.spec.whatwg.org/#concept-request-replaces-client-id": { "displayText": "replaces client id", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "replaces client id", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-replaces-client-id" },
        "https://fetch.spec.whatwg.org/#concept-request-request": { "displayText": "request", "export": true, "for_": ["Request"], "level": "", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "anchor-block", "text": "request", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-request" },
        "https://fetch.spec.whatwg.org/#concept-request-reserved-client": { "displayText": "reserved client", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "reserved client", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-reserved-client" },
        "https://fetch.spec.whatwg.org/#concept-request-url": { "displayText": "URL", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "url", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-url" },
        "https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag": { "displayText": "use-URL-credentials flag", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "use-url-credentials flag", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag" },
        "https://fetch.spec.whatwg.org/#concept-response": { "displayText": "response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "response", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response" },
        "https://fetch.spec.whatwg.org/#concept-response-aborted": { "displayText": "aborted flag", "export": true, "for_": ["response"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "aborted flag", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response-aborted" },
        "https://fetch.spec.whatwg.org/#concept-response-body": { "displayText": "body", "export": true, "for_": ["response"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "body", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response-body" },
        "https://fetch.spec.whatwg.org/#concept-response-body-info": { "displayText": "body info", "export": true, "for_": ["response"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "body info", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response-body-info" },
        "https://fetch.spec.whatwg.org/#concept-response-cache-state": { "displayText": "cache state", "export": true, "for_": ["response"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "cache state", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response-cache-state" },
        "https://fetch.spec.whatwg.org/#concept-response-clone": { "displayText": "clone", "export": true, "for_": ["response"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "clone", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response-clone" },
        "https://fetch.spec.whatwg.org/#concept-response-header-list": { "displayText": "header list", "export": true, "for_": ["response"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "header list", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response-header-list" },
        "https://fetch.spec.whatwg.org/#concept-response-response": { "displayText": "response", "export": true, "for_": ["Response"], "level": "", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "anchor-block", "text": "response", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response-response" },
        "https://fetch.spec.whatwg.org/#concept-response-status": { "displayText": "status", "export": true, "for_": ["response"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "status", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response-status" },
        "https://fetch.spec.whatwg.org/#concept-response-type": { "displayText": "type", "export": true, "for_": ["response"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "type", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#concept-response-type" },
        "https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check": { "displayText": "cross-origin resource policy check", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "cross-origin resource policy check", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check" },
        "https://fetch.spec.whatwg.org/#deserialize-a-serialized-abort-reason": { "displayText": "deserialize a serialized abort reason", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "deserialize a serialized abort reason", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#deserialize-a-serialized-abort-reason" },
        "https://fetch.spec.whatwg.org/#dom-global-fetch": { "displayText": "fetch(input, init)", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "fetch(input, init)", "type": "method", "url": "https://fetch.spec.whatwg.org/#dom-global-fetch" },
        "https://fetch.spec.whatwg.org/#dom-requestdestination-report": { "displayText": "\"report\"", "export": true, "for_": ["RequestDestination"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "\"report\"", "type": "enum-value", "url": "https://fetch.spec.whatwg.org/#dom-requestdestination-report" },
        "https://fetch.spec.whatwg.org/#extract-header-list-values": { "displayText": "extracting header list values", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "extracting header list values", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#extract-header-list-values" },
        "https://fetch.spec.whatwg.org/#fetch-controller": { "displayText": "fetch controller", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "fetch controller", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#fetch-controller" },
        "https://fetch.spec.whatwg.org/#fetch-controller-abort": { "displayText": "abort", "export": true, "for_": ["fetch controller"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "abort", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#fetch-controller-abort" },
        "https://fetch.spec.whatwg.org/#fetch-controller-serialized-abort-reason": { "displayText": "serialized abort reason", "export": true, "for_": ["fetch controller"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "serialized abort reason", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#fetch-controller-serialized-abort-reason" },
        "https://fetch.spec.whatwg.org/#fetch-controller-state": { "displayText": "state", "export": true, "for_": ["fetch controller"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "state", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#fetch-controller-state" },
        "https://fetch.spec.whatwg.org/#fetch-processresponseendofbody": { "displayText": "processResponseEndOfBody", "export": true, "for_": ["fetch"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "processresponseendofbody", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#fetch-processresponseendofbody" },
        "https://fetch.spec.whatwg.org/#fetch-timing-info-decoded-body-size": { "displayText": "decoded size", "export": true, "for_": ["response body info"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "decoded size", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#fetch-timing-info-decoded-body-size" },
        "https://fetch.spec.whatwg.org/#fetch-timing-info-encoded-body-size": { "displayText": "encoded size", "export": true, "for_": ["response body info"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "encoded size", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#fetch-timing-info-encoded-body-size" },
        "https://fetch.spec.whatwg.org/#forbidden-method": { "displayText": "forbidden method", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "forbidden method", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#forbidden-method" },
        "https://fetch.spec.whatwg.org/#header-list-contains": { "displayText": "contains", "export": true, "for_": ["header list"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "contains", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#header-list-contains" },
        "https://fetch.spec.whatwg.org/#headers": { "displayText": "Headers", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "Headers", "type": "interface", "url": "https://fetch.spec.whatwg.org/#headers" },
        "https://fetch.spec.whatwg.org/#navigation-request": { "displayText": "navigation request", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "navigation request", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#navigation-request" },
        "https://fetch.spec.whatwg.org/#non-subresource-request": { "displayText": "non-subresource request", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "non-subresource request", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#non-subresource-request" },
        "https://fetch.spec.whatwg.org/#ok-status": { "displayText": "ok status", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "ok status", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#ok-status" },
        "https://fetch.spec.whatwg.org/#process-response": { "displayText": "processResponse", "export": true, "for_": ["fetch"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "processresponse", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#process-response" },
        "https://fetch.spec.whatwg.org/#request": { "displayText": "Request", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "Request", "type": "interface", "url": "https://fetch.spec.whatwg.org/#request" },
        "https://fetch.spec.whatwg.org/#request-create": { "displayText": "creating", "export": true, "for_": ["Request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "creating", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#request-create" },
        "https://fetch.spec.whatwg.org/#request-service-workers-mode": { "displayText": "service-workers mode", "export": true, "for_": ["request"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "service-workers mode", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#request-service-workers-mode" },
        "https://fetch.spec.whatwg.org/#requestdestination": { "displayText": "RequestDestination", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "RequestDestination", "type": "enum", "url": "https://fetch.spec.whatwg.org/#requestdestination" },
        "https://fetch.spec.whatwg.org/#requestinfo": { "displayText": "RequestInfo", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "RequestInfo", "type": "typedef", "url": "https://fetch.spec.whatwg.org/#requestinfo" },
        "https://fetch.spec.whatwg.org/#requestmode": { "displayText": "RequestMode", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "RequestMode", "type": "enum", "url": "https://fetch.spec.whatwg.org/#requestmode" },
        "https://fetch.spec.whatwg.org/#response": { "displayText": "Response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "Response", "type": "interface", "url": "https://fetch.spec.whatwg.org/#response" },
        "https://fetch.spec.whatwg.org/#response-service-worker-timing-info": { "displayText": "service worker timing info", "export": true, "for_": ["response"], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "service worker timing info", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#response-service-worker-timing-info" },
        "https://fetch.spec.whatwg.org/#subresource-request": { "displayText": "subresource request", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fetch", "spec": "fetch", "status": "current", "text": "subresource request", "type": "dfn", "url": "https://fetch.spec.whatwg.org/#subresource-request" },
        "https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin": { "displayText": "serialization of an origin", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "serialization of an origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" },
        "https://html.spec.whatwg.org/multipage/browsers.html#concept-location-ancestor-origins-list": { "displayText": "ancestor origins list", "export": true, "for_": ["Location"], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "ancestor origins list", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-location-ancestor-origins-list" },
        "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin": { "displayText": "origin", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" },
        "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque": { "displayText": "opaque origin", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "opaque origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" },
        "https://html.spec.whatwg.org/multipage/browsers.html#policy-container": { "displayText": "policy container", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "policy container", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#policy-container" },
        "https://html.spec.whatwg.org/multipage/browsers.html#same-origin": { "displayText": "same origin", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "same origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin" },
        "https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled": { "displayText": "exceptionsEnabled", "export": true, "for_": ["navigate"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "exceptionsenabled", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled" },
        "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate": { "displayText": "navigate", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "navigate", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" },
        "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh": { "displayText": "historyHandling", "export": true, "for_": ["navigate"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "historyhandling", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh" },
        "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-data": { "displayText": "data", "export": true, "for_": ["MessageEvent"], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "data", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-data" },
        "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-origin": { "displayText": "origin", "export": true, "for_": ["MessageEvent"], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "origin", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-origin" },
        "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-ports": { "displayText": "ports", "export": true, "for_": ["MessageEvent"], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "ports", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-ports" },
        "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-source": { "displayText": "source", "export": true, "for_": ["MessageEvent"], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "source", "type": "attribute", "url": "https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-source" },
        "https://html.spec.whatwg.org/multipage/comms.html#messageevent": { "displayText": "MessageEvent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "MessageEvent", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/comms.html#messageevent" },
        "https://html.spec.whatwg.org/multipage/document-lifecycle.html#unloading-document-cleanup-steps": { "displayText": "unloading document cleanup steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "unloading document cleanup steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-lifecycle.html#unloading-document-cleanup-steps" },
        "https://html.spec.whatwg.org/multipage/document-sequences.html#auxiliary-browsing-context": { "displayText": "auxiliary browsing context", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "auxiliary browsing context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#auxiliary-browsing-context" },
        "https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context": { "displayText": "browsing context", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "browsing context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" },
        "https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active": { "displayText": "fully active", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "fully active", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" },
        "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc": { "displayText": "active browsing context", "export": true, "for_": ["navigable"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "active browsing context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" },
        "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document": { "displayText": "active document", "export": true, "for_": ["navigable"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "active document", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" },
        "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent": { "displayText": "parent", "export": true, "for_": ["navigable"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "parent", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" },
        "https://html.spec.whatwg.org/multipage/document-sequences.html#navigable": { "displayText": "navigable", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "navigable", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" },
        "https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context": { "displayText": "top-level browsing context", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "top-level browsing context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context" },
        "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox": { "displayText": "sandbox", "export": true, "for_": ["iframe"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "sandbox", "type": "element-attr", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox" },
        "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element": { "displayText": "iframe", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "iframe", "type": "element", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" },
        "https://html.spec.whatwg.org/multipage/indices.html#event-domcontentloaded": { "displayText": "DOMContentLoaded", "export": true, "for_": ["Document"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "DOMContentLoaded", "type": "event", "url": "https://html.spec.whatwg.org/multipage/indices.html#event-domcontentloaded" },
        "https://html.spec.whatwg.org/multipage/indices.html#event-message": { "displayText": "message", "export": true, "for_": ["Window", "EventSource", "MessagePort", "BroadcastChannel", "DedicatedWorkerGlobalScope", "Worker", "ServiceWorkerContainer"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "message", "type": "event", "url": "https://html.spec.whatwg.org/multipage/indices.html#event-message" },
        "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": { "displayText": "in parallel", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "in parallel", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" },
        "https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue": { "displayText": "parallel queue", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "parallel queue", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue" },
        "https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps": { "displayText": "focusing steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "focusing steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" },
        "https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps": { "displayText": "has focus steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "has focus steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps" },
        "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation": { "displayText": "transient activation", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "transient activation", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" },
        "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window": { "displayText": "associated Document", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "associated document", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" },
        "https://html.spec.whatwg.org/multipage/nav-history-apis.html#location": { "displayText": "Location", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Location", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" },
        "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": { "displayText": "Window", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Window", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" },
        "https://html.spec.whatwg.org/multipage/origin.html#creating-a-policy-container-from-a-fetch-response": { "displayText": "creating a policy container from a fetch response", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "creating a policy container from a fetch response", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/origin.html#creating-a-policy-container-from-a-fetch-response" },
        "https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer": { "displayText": "StructuredDeserializeWithTransfer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "StructuredDeserializeWithTransfer", "type": "abstract-op", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer" },
        "https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer": { "displayText": "StructuredSerializeWithTransfer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "StructuredSerializeWithTransfer", "type": "abstract-op", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" },
        "https://html.spec.whatwg.org/multipage/system-state.html#navigator": { "displayText": "Navigator", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Navigator", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/system-state.html#navigator" },
        "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#map-of-active-timers": { "displayText": "map of active timers", "export": true, "for_": ["WindowOrWorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "map of active timers", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#map-of-active-timers" },
        "https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response": { "displayText": "unsafe response", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "unsafe response", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response" },
        "https://html.spec.whatwg.org/multipage/web-messaging.html#dom-structuredserializeoptions-transfer": { "displayText": "transfer", "export": true, "for_": ["StructuredSerializeOptions"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "transfer", "type": "dict-member", "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#dom-structuredserializeoptions-transfer" },
        "https://html.spec.whatwg.org/multipage/web-messaging.html#messageport": { "displayText": "MessagePort", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "MessagePort", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" },
        "https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions": { "displayText": "StructuredSerializeOptions", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "StructuredSerializeOptions", "type": "dictionary", "url": "https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#abort-a-running-script": { "displayText": "abort a running script", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "abort a running script", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#abort-a-running-script" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url": { "displayText": "API base URL", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "api base url", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#classic-script": { "displayText": "classic script", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "classic script", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#classic-script" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop": { "displayText": "event loop", "export": true, "for_": ["agent"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event loop", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker": { "displayText": "active service worker", "export": true, "for_": ["environment"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "active service worker", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url": { "displayText": "creation URL", "export": true, "for_": ["environment"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "creation url", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag": { "displayText": "execution ready flag", "export": true, "for_": ["environment"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "execution ready flag", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id": { "displayText": "id", "export": true, "for_": ["environment"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "id", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context": { "displayText": "target browsing context", "export": true, "for_": ["environment"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "target browsing context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url": { "displayText": "top-level creation URL", "export": true, "for_": ["environment"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "top-level creation url", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin": { "displayText": "top-level origin", "export": true, "for_": ["environment"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "top-level origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm": { "displayText": "realm", "export": true, "for_": ["global object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "realm", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": { "displayText": "relevant global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm": { "displayText": "relevant realm", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant realm", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-script": { "displayText": "script", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "script", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-script" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url": { "displayText": "base URL", "export": true, "for_": ["script"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "base url", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record": { "displayText": "record", "export": true, "for_": ["script"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "record", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global": { "displayText": "global object", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-module-map": { "displayText": "module map", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "module map", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-module-map" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin": { "displayText": "origin", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-policy-container": { "displayText": "policy container", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "policy container", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-policy-container" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin": { "displayText": "time origin", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "time origin", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#concept-task": { "displayText": "task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "task", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm": { "displayText": "create a new realm", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "create a new realm", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object": { "displayText": "current global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "current global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source": { "displayText": "DOM manipulation task source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "dom manipulation task source", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#environment": { "displayText": "environment", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "environment", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#environment" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps": { "displayText": "environment discarding steps", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "environment discarding steps", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object": { "displayText": "environment settings object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "environment settings object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object's-realm": { "displayText": "realm", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "realm", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object's-realm" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type": { "displayText": "event handler event type", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event handler event type", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes": { "displayText": "event handler IDL attribute", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event handler idl attribute", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-listener": { "displayText": "listener", "export": true, "for_": ["event handler"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "listener", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-listener" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-map": { "displayText": "event handler map", "export": true, "for_": ["EventTarget"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event handler map", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-map" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-value": { "displayText": "value", "export": true, "for_": ["event handler"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "value", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-value" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers": { "displayText": "event handler", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event handler", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop": { "displayText": "event loop", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "event loop", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": { "displayText": "EventHandler", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "EventHandler", "type": "typedef", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-imported-script": { "displayText": "fetch a classic worker-imported script", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "fetch a classic worker-imported script", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-imported-script" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script": { "displayText": "fetch a classic worker script", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "fetch a classic worker script", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree": { "displayText": "fetch a module worker script graph", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "fetch a module worker script graph", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-is-top-level": { "displayText": "isTopLevel", "export": true, "for_": ["fetching scripts"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "istoplevel", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-is-top-level" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-perform-fetch": { "displayText": "perform the fetch hook", "export": true, "for_": ["fetching scripts"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "perform the fetch hook", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-perform-fetch" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#global-object": { "displayText": "global object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "global object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#global-object" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#incumbent-settings-object": { "displayText": "incumbent settings object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "incumbent settings object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#incumbent-settings-object" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#module-map": { "displayText": "module map", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "module map", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#module-map" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#module-script": { "displayText": "module script", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "module script", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#module-script" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#obtain-a-service-worker-agent": { "displayText": "obtain a service worker agent", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "obtain a service worker agent", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#obtain-a-service-worker-agent" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask": { "displayText": "queue a microtask", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "queue a microtask", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task": { "displayText": "queue a task", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "queue a task", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#realm-execution-context": { "displayText": "realm execution context", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "realm execution context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#realm-execution-context" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": { "displayText": "relevant settings object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "relevant settings object", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#resolve-a-module-specifier": { "displayText": "resolve a module specifier", "export": true, "for_": [], "level": "", "normative": true, "shortname": "html", "spec": "html", "status": "anchor-block", "text": "resolve a module specifier", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#resolve-a-module-specifier" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop": { "displayText": "responsible event loop", "export": true, "for_": ["environment settings object"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "responsible event loop", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#run-a-classic-script": { "displayText": "run a classic script", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "run a classic script", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#run-a-classic-script" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#run-a-module-script": { "displayText": "run a module script", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "run a module script", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#run-a-module-script" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context": { "displayText": "secure context", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "secure context", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#task-queue": { "displayText": "task queues", "export": false, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "task queues", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#task-source": { "displayText": "task source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "task source", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-source" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source": { "displayText": "user interaction task source", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "user interaction task source", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source" },
        "https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope": { "displayText": "WindowOrWorkerGlobalScope", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "WindowOrWorkerGlobalScope", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" },
        "https://html.spec.whatwg.org/multipage/workers.html#abstractworker": { "displayText": "AbstractWorker", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "AbstractWorker", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/workers.html#abstractworker" },
        "https://html.spec.whatwg.org/multipage/workers.html#concept-WorkerGlobalScope-owner-set": { "displayText": "owner set", "export": true, "for_": ["WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "owner set", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-WorkerGlobalScope-owner-set" },
        "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-cross-origin-isolated-capability": { "displayText": "cross-origin isolated capability", "export": true, "for_": ["WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "cross-origin isolated capability", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-cross-origin-isolated-capability" },
        "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-module-map": { "displayText": "module map", "export": true, "for_": ["WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "module map", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-module-map" },
        "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-policy-container": { "displayText": "policy container", "export": true, "for_": ["WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "policy container", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-policy-container" },
        "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-type": { "displayText": "type", "export": true, "for_": ["WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "type", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-type" },
        "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-url": { "displayText": "url", "export": true, "for_": ["WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "url", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-url" },
        "https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope": { "displayText": "DedicatedWorkerGlobalScope", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "DedicatedWorkerGlobalScope", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" },
        "https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-closing": { "displayText": "closing", "export": true, "for_": ["WorkerGlobalScope"], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "closing", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-closing" },
        "https://html.spec.whatwg.org/multipage/workers.html#import-scripts-into-worker-global-scope": { "displayText": "import scripts into worker global scope", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "import scripts into worker global scope", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/workers.html#import-scripts-into-worker-global-scope" },
        "https://html.spec.whatwg.org/multipage/workers.html#run-a-worker": { "displayText": "run a worker", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "run a worker", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/workers.html#run-a-worker" },
        "https://html.spec.whatwg.org/multipage/workers.html#sharedworkerglobalscope": { "displayText": "SharedWorkerGlobalScope", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "SharedWorkerGlobalScope", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/workers.html#sharedworkerglobalscope" },
        "https://html.spec.whatwg.org/multipage/workers.html#worker": { "displayText": "Worker", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "Worker", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/workers.html#worker" },
        "https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope": { "displayText": "WorkerGlobalScope", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "WorkerGlobalScope", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" },
        "https://html.spec.whatwg.org/multipage/workers.html#workerlocation": { "displayText": "WorkerLocation", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "WorkerLocation", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/workers.html#workerlocation" },
        "https://html.spec.whatwg.org/multipage/workers.html#workernavigator": { "displayText": "WorkerNavigator", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "WorkerNavigator", "type": "interface", "url": "https://html.spec.whatwg.org/multipage/workers.html#workernavigator" },
        "https://html.spec.whatwg.org/multipage/workers.html#workers": { "displayText": "web worker", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "web worker", "type": "dfn", "url": "https://html.spec.whatwg.org/multipage/workers.html#workers" },
        "https://html.spec.whatwg.org/multipage/workers.html#workertype": { "displayText": "WorkerType", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "html", "spec": "html", "status": "current", "text": "WorkerType", "type": "enum", "url": "https://html.spec.whatwg.org/multipage/workers.html#workertype" },
        "https://infra.spec.whatwg.org/#abort-when": { "displayText": "abort when", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "abort when", "type": "dfn", "url": "https://infra.spec.whatwg.org/#abort-when" },
        "https://infra.spec.whatwg.org/#ascii-case-insensitive": { "displayText": "ASCII case-insensitive", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ascii case-insensitive", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive" },
        "https://infra.spec.whatwg.org/#byte-sequence": { "displayText": "byte sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "byte sequence", "type": "dfn", "url": "https://infra.spec.whatwg.org/#byte-sequence" },
        "https://infra.spec.whatwg.org/#if-aborted": { "displayText": "if aborted", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "if aborted", "type": "dfn", "url": "https://infra.spec.whatwg.org/#if-aborted" },
        "https://infra.spec.whatwg.org/#implementation-defined": { "displayText": "implementation-defined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "implementation-defined", "type": "dfn", "url": "https://infra.spec.whatwg.org/#implementation-defined" },
        "https://infra.spec.whatwg.org/#iteration-break": { "displayText": "break", "export": true, "for_": ["iteration"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "break", "type": "dfn", "url": "https://infra.spec.whatwg.org/#iteration-break" },
        "https://infra.spec.whatwg.org/#iteration-continue": { "displayText": "continue", "export": true, "for_": ["iteration"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "continue", "type": "dfn", "url": "https://infra.spec.whatwg.org/#iteration-continue" },
        "https://infra.spec.whatwg.org/#list": { "displayText": "list", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "list", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list" },
        "https://infra.spec.whatwg.org/#list-append": { "displayText": "append", "export": true, "for_": ["list"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-append" },
        "https://infra.spec.whatwg.org/#list-contain": { "displayText": "contain", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "contain", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-contain" },
        "https://infra.spec.whatwg.org/#list-is-empty": { "displayText": "is not empty", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "is not empty", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-is-empty" },
        "https://infra.spec.whatwg.org/#list-item": { "displayText": "item", "export": true, "for_": ["list", "stack", "queue", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-item" },
        "https://infra.spec.whatwg.org/#list-iterate": { "displayText": "for each", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "for each", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-iterate" },
        "https://infra.spec.whatwg.org/#list-remove": { "displayText": "remove", "export": true, "for_": ["list", "set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "remove", "type": "dfn", "url": "https://infra.spec.whatwg.org/#list-remove" },
        "https://infra.spec.whatwg.org/#map-clear": { "displayText": "clear", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "clear", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-clear" },
        "https://infra.spec.whatwg.org/#map-entry": { "displayText": "entry", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "entry", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-entry" },
        "https://infra.spec.whatwg.org/#map-exists": { "displayText": "exist", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "exist", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-exists" },
        "https://infra.spec.whatwg.org/#map-getting-the-keys": { "displayText": "keys", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "keys", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-getting-the-keys" },
        "https://infra.spec.whatwg.org/#map-getting-the-values": { "displayText": "values", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "values", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-getting-the-values" },
        "https://infra.spec.whatwg.org/#map-iterate": { "displayText": "for each", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "for each", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-iterate" },
        "https://infra.spec.whatwg.org/#map-key": { "displayText": "key", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "key", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-key" },
        "https://infra.spec.whatwg.org/#map-remove": { "displayText": "remove", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "remove", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-remove" },
        "https://infra.spec.whatwg.org/#map-set": { "displayText": "set", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "set", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-set" },
        "https://infra.spec.whatwg.org/#map-value": { "displayText": "value", "export": true, "for_": ["map"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "value", "type": "dfn", "url": "https://infra.spec.whatwg.org/#map-value" },
        "https://infra.spec.whatwg.org/#ordered-map": { "displayText": "ordered map", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ordered map", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ordered-map" },
        "https://infra.spec.whatwg.org/#ordered-set": { "displayText": "ordered set", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "ordered set", "type": "dfn", "url": "https://infra.spec.whatwg.org/#ordered-set" },
        "https://infra.spec.whatwg.org/#queue": { "displayText": "queue", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "queue", "type": "dfn", "url": "https://infra.spec.whatwg.org/#queue" },
        "https://infra.spec.whatwg.org/#queue-dequeue": { "displayText": "dequeue", "export": true, "for_": ["queue"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "dequeue", "type": "dfn", "url": "https://infra.spec.whatwg.org/#queue-dequeue" },
        "https://infra.spec.whatwg.org/#queue-enqueue": { "displayText": "enqueue", "export": true, "for_": ["queue"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "enqueue", "type": "dfn", "url": "https://infra.spec.whatwg.org/#queue-enqueue" },
        "https://infra.spec.whatwg.org/#set-append": { "displayText": "append", "export": true, "for_": ["set"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "append", "type": "dfn", "url": "https://infra.spec.whatwg.org/#set-append" },
        "https://infra.spec.whatwg.org/#string-is": { "displayText": "is", "export": true, "for_": ["string"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "is", "type": "dfn", "url": "https://infra.spec.whatwg.org/#string-is" },
        "https://infra.spec.whatwg.org/#struct": { "displayText": "struct", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "struct", "type": "dfn", "url": "https://infra.spec.whatwg.org/#struct" },
        "https://infra.spec.whatwg.org/#struct-item": { "displayText": "item", "export": true, "for_": ["struct", "tuple"], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "item", "type": "dfn", "url": "https://infra.spec.whatwg.org/#struct-item" },
        "https://infra.spec.whatwg.org/#tuple": { "displayText": "tuple", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "infra", "spec": "infra", "status": "current", "text": "tuple", "type": "dfn", "url": "https://infra.spec.whatwg.org/#tuple" },
        "https://mimesniff.spec.whatwg.org/#javascript-mime-type": { "displayText": "JavaScript MIME type", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "mimesniff", "spec": "mimesniff", "status": "current", "text": "javascript mime type", "type": "dfn", "url": "https://mimesniff.spec.whatwg.org/#javascript-mime-type" },
        "https://storage.spec.whatwg.org/#obtain-a-storage-key": { "displayText": "obtain a storage key", "export": true, "for_": [], "level": "", "normative": true, "shortname": "storage", "spec": "storage", "status": "anchor-block", "text": "obtain a storage key", "type": "dfn", "url": "https://storage.spec.whatwg.org/#obtain-a-storage-key" },
        "https://storage.spec.whatwg.org/#storage-key": { "displayText": "storage key", "export": true, "for_": [], "level": "", "normative": true, "shortname": "storage", "spec": "storage", "status": "anchor-block", "text": "storage key", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-key" },
        "https://storage.spec.whatwg.org/#storage-key-equal": { "displayText": "equal", "export": true, "for_": ["storage key"], "level": "1", "normative": true, "shortname": "storage", "spec": "storage", "status": "current", "text": "equal", "type": "dfn", "url": "https://storage.spec.whatwg.org/#storage-key-equal" },
        "https://streams.spec.whatwg.org/#chunk": { "displayText": "chunk", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "chunk", "type": "dfn", "url": "https://streams.spec.whatwg.org/#chunk" },
        "https://streams.spec.whatwg.org/#is-readable-stream-disturbed": { "displayText": "disturbed", "export": true, "for_": ["ReadableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "disturbed", "type": "dfn", "url": "https://streams.spec.whatwg.org/#is-readable-stream-disturbed" },
        "https://streams.spec.whatwg.org/#read-request": { "displayText": "read request", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "read request", "type": "dfn", "url": "https://streams.spec.whatwg.org/#read-request" },
        "https://streams.spec.whatwg.org/#read-request-chunk-steps": { "displayText": "chunk steps", "export": true, "for_": ["read request"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "chunk steps", "type": "dfn", "url": "https://streams.spec.whatwg.org/#read-request-chunk-steps" },
        "https://streams.spec.whatwg.org/#read-request-close-steps": { "displayText": "close steps", "export": true, "for_": ["read request"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "close steps", "type": "dfn", "url": "https://streams.spec.whatwg.org/#read-request-close-steps" },
        "https://streams.spec.whatwg.org/#read-request-error-steps": { "displayText": "error steps", "export": true, "for_": ["read request"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "error steps", "type": "dfn", "url": "https://streams.spec.whatwg.org/#read-request-error-steps" },
        "https://streams.spec.whatwg.org/#readablestream": { "displayText": "ReadableStream", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "ReadableStream", "type": "interface", "url": "https://streams.spec.whatwg.org/#readablestream" },
        "https://streams.spec.whatwg.org/#readablestream-cancel": { "displayText": "cancel", "export": true, "for_": ["ReadableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "cancel", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-cancel" },
        "https://streams.spec.whatwg.org/#readablestream-close": { "displayText": "close", "export": true, "for_": ["ReadableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "close", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-close" },
        "https://streams.spec.whatwg.org/#readablestream-enqueue": { "displayText": "enqueue", "export": true, "for_": ["ReadableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "enqueue", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-enqueue" },
        "https://streams.spec.whatwg.org/#readablestream-error": { "displayText": "error", "export": true, "for_": ["ReadableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "error", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-error" },
        "https://streams.spec.whatwg.org/#readablestream-errored": { "displayText": "errored", "export": true, "for_": ["ReadableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "errored", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-errored" },
        "https://streams.spec.whatwg.org/#readablestream-get-a-reader": { "displayText": "getting a reader", "export": true, "for_": ["ReadableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "getting a reader", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-get-a-reader" },
        "https://streams.spec.whatwg.org/#readablestream-locked": { "displayText": "locked", "export": true, "for_": ["ReadableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "locked", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-locked" },
        "https://streams.spec.whatwg.org/#readablestream-set-up": { "displayText": "set up", "export": true, "for_": ["ReadableStream"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "set up", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-set-up" },
        "https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm": { "displayText": "cancelAlgorithm", "export": true, "for_": ["ReadableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "cancelalgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm" },
        "https://streams.spec.whatwg.org/#readablestream-set-up-highwatermark": { "displayText": "highWaterMark", "export": true, "for_": ["ReadableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "highwatermark", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-set-up-highwatermark" },
        "https://streams.spec.whatwg.org/#readablestream-set-up-pullalgorithm": { "displayText": "pullAlgorithm", "export": true, "for_": ["ReadableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "pullalgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-set-up-pullalgorithm" },
        "https://streams.spec.whatwg.org/#readablestream-set-up-sizealgorithm": { "displayText": "sizeAlgorithm", "export": true, "for_": ["ReadableStream/set up"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "sizealgorithm", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestream-set-up-sizealgorithm" },
        "https://streams.spec.whatwg.org/#readablestreamdefaultreader-cancel": { "displayText": "cancel", "export": true, "for_": ["ReadableStreamDefaultReader"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "cancel", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestreamdefaultreader-cancel" },
        "https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-a-chunk": { "displayText": "read a chunk", "export": true, "for_": ["ReadableStreamDefaultReader"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "read a chunk", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-a-chunk" },
        "https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-all-bytes": { "displayText": "reading all bytes", "export": true, "for_": ["ReadableStreamDefaultReader"], "level": "1", "normative": true, "shortname": "streams", "spec": "streams", "status": "current", "text": "reading all bytes", "type": "dfn", "url": "https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-all-bytes" },
        "https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent": { "displayText": "surrounding agent", "export": true, "for_": ["ECMAScript"], "level": "1", "normative": true, "shortname": "ecmascript", "spec": "ecmascript", "status": "current", "text": "surrounding agent", "type": "dfn", "url": "https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent" },
        "https://tools.ietf.org/html/rfc7230#section-3.2": { "displayText": "field-value", "export": true, "for_": ["http"], "level": "", "normative": true, "shortname": "rfc7230", "spec": "rfc7230", "status": "anchor-block", "text": "field-value", "type": "dfn", "url": "https://tools.ietf.org/html/rfc7230#section-3.2" },
        "https://tools.ietf.org/html/rfc7231#section-7.1.4": { "displayText": "Vary", "export": true, "for_": [], "level": "", "normative": true, "shortname": "rfc7231", "spec": "rfc7231", "status": "anchor-block", "text": "vary", "type": "dfn", "url": "https://tools.ietf.org/html/rfc7231#section-7.1.4" },
        "https://url.spec.whatwg.org/#concept-url": { "displayText": "URL", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "url", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url" },
        "https://url.spec.whatwg.org/#concept-url-equals": { "displayText": "equal", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "equal", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-equals" },
        "https://url.spec.whatwg.org/#concept-url-fragment": { "displayText": "fragment", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "fragment", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-fragment" },
        "https://url.spec.whatwg.org/#concept-url-origin": { "displayText": "origin", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "origin", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-origin" },
        "https://url.spec.whatwg.org/#concept-url-parser": { "displayText": "URL parser", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "url parser", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-parser" },
        "https://url.spec.whatwg.org/#concept-url-path": { "displayText": "path", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "path", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-path" },
        "https://url.spec.whatwg.org/#concept-url-query": { "displayText": "query", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "query", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-query" },
        "https://url.spec.whatwg.org/#concept-url-scheme": { "displayText": "scheme", "export": true, "for_": ["url"], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "scheme", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-scheme" },
        "https://url.spec.whatwg.org/#concept-url-serializer": { "displayText": "URL serializer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "url", "spec": "url", "status": "current", "text": "url serializer", "type": "dfn", "url": "https://url.spec.whatwg.org/#concept-url-serializer" },
        "https://urlpattern.spec.whatwg.org/#build-a-url-pattern-from-a-web-idl-value": { "displayText": "build a URL pattern from a Web IDL value", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "urlpattern", "spec": "urlpattern", "status": "current", "text": "build a url pattern from a web idl value", "type": "dfn", "url": "https://urlpattern.spec.whatwg.org/#build-a-url-pattern-from-a-web-idl-value" },
        "https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible": { "displayText": "URLPatternCompatible", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "urlpattern", "spec": "urlpattern", "status": "current", "text": "URLPatternCompatible", "type": "typedef", "url": "https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible" },
        "https://urlpattern.spec.whatwg.org/#url-pattern": { "displayText": "URL pattern", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "urlpattern", "spec": "urlpattern", "status": "current", "text": "url pattern", "type": "dfn", "url": "https://urlpattern.spec.whatwg.org/#url-pattern" },
        "https://urlpattern.spec.whatwg.org/#url-pattern-has-regexp-groups": { "displayText": "has regexp groups", "export": true, "for_": ["URL pattern"], "level": "1", "normative": true, "shortname": "urlpattern", "spec": "urlpattern", "status": "current", "text": "has regexp groups", "type": "dfn", "url": "https://urlpattern.spec.whatwg.org/#url-pattern-has-regexp-groups" },
        "https://urlpattern.spec.whatwg.org/#url-pattern-match": { "displayText": "match", "export": true, "for_": ["URL pattern"], "level": "1", "normative": true, "shortname": "urlpattern", "spec": "urlpattern", "status": "current", "text": "match", "type": "dfn", "url": "https://urlpattern.spec.whatwg.org/#url-pattern-match" },
        "https://w3c.github.io/push-api/#h-the-push-event": { "displayText": "push", "export": true, "for_": [], "level": "", "normative": true, "shortname": "push", "spec": "push", "status": "anchor-block", "text": "push", "type": "event", "url": "https://w3c.github.io/push-api/#h-the-push-event" },
        "https://webidl.spec.whatwg.org/#Exposed": { "displayText": "Exposed", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Exposed", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Exposed" },
        "https://webidl.spec.whatwg.org/#Global": { "displayText": "Global", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Global", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#Global" },
        "https://webidl.spec.whatwg.org/#NewObject": { "displayText": "NewObject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NewObject", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#NewObject" },
        "https://webidl.spec.whatwg.org/#SameObject": { "displayText": "SameObject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SameObject", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SameObject" },
        "https://webidl.spec.whatwg.org/#SecureContext": { "displayText": "SecureContext", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecureContext", "type": "extended-attribute", "url": "https://webidl.spec.whatwg.org/#SecureContext" },
        "https://webidl.spec.whatwg.org/#a-new-promise": { "displayText": "a new promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a new promise", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-new-promise" },
        "https://webidl.spec.whatwg.org/#a-promise-rejected-with": { "displayText": "a promise rejected with", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a promise rejected with", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-promise-rejected-with" },
        "https://webidl.spec.whatwg.org/#a-promise-resolved-with": { "displayText": "a promise resolved with", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "a promise resolved with", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#a-promise-resolved-with" },
        "https://webidl.spec.whatwg.org/#aborterror": { "displayText": "AbortError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "AbortError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#aborterror" },
        "https://webidl.spec.whatwg.org/#buffersource-byte-length": { "displayText": "byte length", "export": true, "for_": ["BufferSource"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "byte length", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#buffersource-byte-length" },
        "https://webidl.spec.whatwg.org/#dfn-convert-idl-to-javascript-value": { "displayText": "converted to an ECMAScript value", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "converted to an ecmascript value", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-convert-idl-to-javascript-value" },
        "https://webidl.spec.whatwg.org/#dfn-create-exception": { "displayText": "create", "export": true, "for_": ["exception"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "create", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-create-exception" },
        "https://webidl.spec.whatwg.org/#dfn-create-frozen-array": { "displayText": "create a frozen array", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "create a frozen array", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-create-frozen-array" },
        "https://webidl.spec.whatwg.org/#dfn-exception": { "displayText": "exception", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "exception", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-exception" },
        "https://webidl.spec.whatwg.org/#dfn-frozen-array-type": { "displayText": "frozen array type", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "frozen array type", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-frozen-array-type" },
        "https://webidl.spec.whatwg.org/#dfn-partial-interface": { "displayText": "partial interface", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "partial interface", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-partial-interface" },
        "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled": { "displayText": "reacting", "export": true, "for_": ["promise"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "reacting", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" },
        "https://webidl.spec.whatwg.org/#dfn-throw": { "displayText": "throw", "export": true, "for_": ["exception"], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "throw", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#dfn-throw" },
        "https://webidl.spec.whatwg.org/#exceptiondef-typeerror": { "displayText": "TypeError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "TypeError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror" },
        "https://webidl.spec.whatwg.org/#idl-ArrayBuffer": { "displayText": "ArrayBuffer", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "ArrayBuffer", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-ArrayBuffer" },
        "https://webidl.spec.whatwg.org/#idl-ByteString": { "displayText": "ByteString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "ByteString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-ByteString" },
        "https://webidl.spec.whatwg.org/#idl-DOMException": { "displayText": "DOMException", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMException", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMException" },
        "https://webidl.spec.whatwg.org/#idl-DOMString": { "displayText": "DOMString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "DOMString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-DOMString" },
        "https://webidl.spec.whatwg.org/#idl-USVString": { "displayText": "USVString", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "USVString", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-USVString" },
        "https://webidl.spec.whatwg.org/#idl-Uint8Array": { "displayText": "Uint8Array", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Uint8Array", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-Uint8Array" },
        "https://webidl.spec.whatwg.org/#idl-any": { "displayText": "any", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "any", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-any" },
        "https://webidl.spec.whatwg.org/#idl-boolean": { "displayText": "boolean", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "boolean", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-boolean" },
        "https://webidl.spec.whatwg.org/#idl-frozen-array": { "displayText": "FrozenArray", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "FrozenArray", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-frozen-array" },
        "https://webidl.spec.whatwg.org/#idl-object": { "displayText": "object", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "object", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-object" },
        "https://webidl.spec.whatwg.org/#idl-promise": { "displayText": "Promise", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "Promise", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-promise" },
        "https://webidl.spec.whatwg.org/#idl-sequence": { "displayText": "sequence", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "sequence", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#idl-sequence" },
        "https://webidl.spec.whatwg.org/#idl-undefined": { "displayText": "undefined", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "undefined", "type": "interface", "url": "https://webidl.spec.whatwg.org/#idl-undefined" },
        "https://webidl.spec.whatwg.org/#invalidaccesserror": { "displayText": "InvalidAccessError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "InvalidAccessError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#invalidaccesserror" },
        "https://webidl.spec.whatwg.org/#invalidstateerror": { "displayText": "InvalidStateError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "InvalidStateError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#invalidstateerror" },
        "https://webidl.spec.whatwg.org/#networkerror": { "displayText": "NetworkError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "NetworkError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#networkerror" },
        "https://webidl.spec.whatwg.org/#new": { "displayText": "new", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "new", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#new" },
        "https://webidl.spec.whatwg.org/#quotaexceedederror": { "displayText": "QuotaExceededError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "QuotaExceededError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#quotaexceedederror" },
        "https://webidl.spec.whatwg.org/#reject": { "displayText": "reject", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "reject", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#reject" },
        "https://webidl.spec.whatwg.org/#resolve": { "displayText": "resolve", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "resolve", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#resolve" },
        "https://webidl.spec.whatwg.org/#securityerror": { "displayText": "SecurityError", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "SecurityError", "type": "exception", "url": "https://webidl.spec.whatwg.org/#securityerror" },
        "https://webidl.spec.whatwg.org/#this": { "displayText": "this", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "this", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#this" },
        "https://webidl.spec.whatwg.org/#upon-fulfillment": { "displayText": "upon fulfillment", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "upon fulfillment", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#upon-fulfillment" },
        "https://webidl.spec.whatwg.org/#upon-rejection": { "displayText": "upon rejection", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "upon rejection", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#upon-rejection" },
        "https://webidl.spec.whatwg.org/#waiting-for-all-promise": { "displayText": "getting a promise to wait for all", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "webidl", "spec": "webidl", "status": "current", "text": "getting a promise to wait for all", "type": "dfn", "url": "https://webidl.spec.whatwg.org/#waiting-for-all-promise" },
        "https://wicg.github.io/csp-next/scripting-policy.html#scripting-policy-pair-enforced": { "displayText": "enforced", "export": true, "for_": ["scripting policy pair"], "level": "1", "normative": true, "shortname": "csp-next", "spec": "csp-next", "status": "current", "text": "enforced", "type": "dfn", "url": "https://wicg.github.io/csp-next/scripting-policy.html#scripting-policy-pair-enforced" },
        "https://wicg.github.io/page-lifecycle/#discarded": { "displayText": "discard", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "page-lifecycle", "spec": "page-lifecycle", "status": "current", "text": "discard", "type": "dfn", "url": "https://wicg.github.io/page-lifecycle/#discarded" },
        "https://www.w3.org/TR/CSP3/#run-global-object-csp-initialization": { "displayText": "Run CSP initialization for a global object", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "csp", "spec": "csp3", "status": "snapshot", "text": "run csp initialization for a global object", "type": "dfn", "url": "https://www.w3.org/TR/CSP3/#run-global-object-csp-initialization" },
        "https://www.w3.org/TR/FileAPI/#blob-url": { "displayText": "blob URL", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "fileapi", "spec": "fileapi", "status": "snapshot", "text": "blob url", "type": "dfn", "url": "https://www.w3.org/TR/FileAPI/#blob-url" },
        "https://www.w3.org/TR/hr-time-3/#dfn-coarsen-time": { "displayText": "coarsen time", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "snapshot", "text": "coarsen time", "type": "dfn", "url": "https://www.w3.org/TR/hr-time-3/#dfn-coarsen-time" },
        "https://www.w3.org/TR/hr-time-3/#dfn-coarsened-shared-current-time": { "displayText": "coarsened shared current time", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "snapshot", "text": "coarsened shared current time", "type": "dfn", "url": "https://www.w3.org/TR/hr-time-3/#dfn-coarsened-shared-current-time" },
        "https://www.w3.org/TR/hr-time-3/#dfn-unsafe-shared-current-time": { "displayText": "unsafe shared current time", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "snapshot", "text": "unsafe shared current time", "type": "dfn", "url": "https://www.w3.org/TR/hr-time-3/#dfn-unsafe-shared-current-time" },
        "https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp": { "displayText": "DOMHighResTimeStamp", "export": true, "for_": [], "level": "3", "normative": true, "shortname": "hr-time", "spec": "hr-time-3", "status": "snapshot", "text": "DOMHighResTimeStamp", "type": "typedef", "url": "https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp" },
        "https://www.w3.org/TR/navigation-timing-2/#dom-performancenavigationtiming": { "displayText": "PerformanceNavigationTiming", "export": true, "for_": [], "level": "2", "normative": true, "shortname": "navigation-timing", "spec": "navigation-timing-2", "status": "snapshot", "text": "PerformanceNavigationTiming", "type": "interface", "url": "https://www.w3.org/TR/navigation-timing-2/#dom-performancenavigationtiming" },
        "https://www.w3.org/TR/page-visibility/#VisibilityState": { "displayText": "VisibilityState", "export": true, "for_": [], "level": "", "normative": true, "shortname": "page-visibility", "spec": "page-visibility", "status": "anchor-block", "text": "VisibilityState", "type": "enum", "url": "https://www.w3.org/TR/page-visibility/#VisibilityState" },
        "https://www.w3.org/TR/page-visibility/#dom-document-visibilitystate": { "displayText": "visibilityState", "export": true, "for_": ["Document"], "level": "", "normative": true, "shortname": "page-visibility", "spec": "page-visibility", "status": "anchor-block", "text": "visibilityState", "type": "attribute", "url": "https://www.w3.org/TR/page-visibility/#dom-document-visibilitystate" },
        "https://www.w3.org/TR/screen-capture/#dfn-monitor": { "displayText": "monitor", "export": true, "for_": ["display surface"], "level": "1", "normative": true, "shortname": "screen-capture", "spec": "screen-capture", "status": "snapshot", "text": "monitor", "type": "dfn", "url": "https://www.w3.org/TR/screen-capture/#dfn-monitor" },
        "https://www.w3.org/TR/secure-contexts/#potentially-trustworthy-origin": { "displayText": "potentially trustworthy origin", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "secure-contexts", "spec": "secure-contexts", "status": "snapshot", "text": "potentially trustworthy origin", "type": "dfn", "url": "https://www.w3.org/TR/secure-contexts/#potentially-trustworthy-origin" },
        "https://www.w3.org/TR/secure-contexts/#potentially-trustworthy-url": { "displayText": "potentially trustworthy URL", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "secure-contexts", "spec": "secure-contexts", "status": "snapshot", "text": "potentially trustworthy url", "type": "dfn", "url": "https://www.w3.org/TR/secure-contexts/#potentially-trustworthy-url" },
        "https://www.w3.org/TR/trusted-types/#abstract-opdef-get-trusted-type-compliant-string": { "displayText": "Get Trusted Type compliant string", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "snapshot", "text": "Get Trusted Type compliant string", "type": "abstract-op", "url": "https://www.w3.org/TR/trusted-types/#abstract-opdef-get-trusted-type-compliant-string" },
        "https://www.w3.org/TR/trusted-types/#trustedscripturl": { "displayText": "TrustedScriptURL", "export": true, "for_": [], "level": "1", "normative": true, "shortname": "trusted-types", "spec": "trusted-types", "status": "snapshot", "text": "TrustedScriptURL", "type": "interface", "url": "https://www.w3.org/TR/trusted-types/#trustedscripturl" },
      };

      function mkRefHint(link, ref) {
        const linkText = link.textContent;
        let dfnTextElements = '';
        if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
          // Give the original term if it's being displayed in a different way.
          // But allow casing differences, they're insignificant.
          dfnTextElements =
            mk.li({},
              mk.b({}, "Term: "),
              mk.span({}, ref.displayText)
            );
        }
        const forList = ref.for_;
        let forListElements;
        if (forList.length == 0) {
          forListElements = [];
        } else if (forList.length == 1) {
          forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
          );
        } else {
          forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
              ...forList.map(forItem =>
                mk.li({},
                  mk.span({}, forItem)
                ),
              ),
            ),
          );
        }
        const url = ref.url;
        const safeUrl = encodeURIComponent(url);
        const hintPanel = mk.aside({
          class: "ref-hint",
          id: `ref-hint-for-${safeUrl}`,
          "data-for": url,
          "aria-labelled-by": `ref-hint-for-${safeUrl}`,
        },
          mk.ul({},
            dfnTextElements,
            mk.li({},
              mk.b({}, "URL: "),
              mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
              mk.b({}, "Type: "),
              mk.span({}, `${ref.type}`),
            ),
            mk.li({},
              mk.b({}, "Spec: "),
              mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
          ),
        );
        hintPanel.forLink = link;
        setupRefHintEventListeners(link, hintPanel);
        return hintPanel;
      }

      function hideAllRefHints() {
        queryAll(".ref-hint").forEach(el => hideRefHint(el));
      }

      function hideRefHint(refHint) {
        const link = refHint.forLink;
        link.setAttribute("aria-expanded", "false");
        if (refHint.teardownEventListeners) {
          refHint.teardownEventListeners();
        }
        refHint.remove();
      }

      function showRefHint(link) {
        if (link.classList.contains("dfn-link")) return;
        const url = link.getAttribute("href");
        const refHintKey = link.getAttribute("data-refhint-key");
        let key = url;
        if (refHintKey) {
          key = refHintKey + "_" + url;
        }
        const ref = refsData[key];
        if (!ref) return;

        hideAllRefHints(); // Only display one at this time.

        const refHint = mkRefHint(link, ref);
        append(document.body, refHint);
        link.setAttribute("aria-expanded", "true");
        positionRefHint(refHint);
      }

      function setupRefHintEventListeners(link, refHint) {
        if (refHint.teardownEventListeners) return;
        // Add event handlers to hide the refHint after the user moves away
        // from both the link and refHint, if not hovering either within one second.
        let timeout = null;
        const startHidingRefHint = (event) => {
          if (timeout) {
            clearTimeout(timeout);
          }
          timeout = setTimeout(() => {
            hideRefHint(refHint);
          }, 1000);
        }
        const resetHidingRefHint = (event) => {
          if (timeout) clearTimeout(timeout);
          timeout = null;
        };
        link.addEventListener("mouseleave", startHidingRefHint);
        link.addEventListener("mouseenter", resetHidingRefHint);
        link.addEventListener("blur", startHidingRefHint);
        link.addEventListener("focus", resetHidingRefHint);
        refHint.addEventListener("mouseleave", startHidingRefHint);
        refHint.addEventListener("mouseenter", resetHidingRefHint);
        refHint.addEventListener("blur", startHidingRefHint);
        refHint.addEventListener("focus", resetHidingRefHint);

        refHint.teardownEventListeners = () => {
          // remove event listeners
          resetHidingRefHint();
          link.removeEventListener("mouseleave", startHidingRefHint);
          link.removeEventListener("mouseenter", resetHidingRefHint);
          link.removeEventListener("blur", startHidingRefHint);
          link.removeEventListener("focus", resetHidingRefHint);
          refHint.removeEventListener("mouseleave", startHidingRefHint);
          refHint.removeEventListener("mouseenter", resetHidingRefHint);
          refHint.removeEventListener("blur", startHidingRefHint);
          refHint.removeEventListener("focus", resetHidingRefHint);
        };
      }

      function positionRefHint(refHint) {
        const link = refHint.forLink;
        const linkPos = getBounds(link);
        refHint.style.top = linkPos.bottom + "px";
        refHint.style.left = linkPos.left + "px";

        const panelPos = refHint.getBoundingClientRect();
        const panelMargin = 8;
        const maxRight = document.body.parentNode.clientWidth - panelMargin;
        if (panelPos.right > maxRight) {
          const overflowAmount = panelPos.right - maxRight;
          const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
          refHint.style.left = newLeft + "px";
        }
      }

      // TODO: shared util
      // Returns the root-level absolute position {left and top} of element.
      function getBounds(el, relativeTo = document.body) {
        const relativeRect = relativeTo.getBoundingClientRect();
        const elRect = el.getBoundingClientRect();
        const top = elRect.top - relativeRect.top;
        const left = elRect.left - relativeRect.left;
        return {
          top,
          left,
          bottom: top + elRect.height,
          right: left + elRect.width,
        }
      }

      function showRefHintListener(e) {
        // If the target isn't in a link (or is a link),
        // just ignore it.
        let link = e.target.closest("a");
        if (!link) return;

        // If the target is in a ref-hint panel
        // (aka a link in the already-open one),
        // also just ignore it.
        if (link.closest(".ref-hint")) return;

        // Otherwise, show the panel for the link.
        showRefHint(link);
      }

      function hideAllHintsListener(e) {
        // If the click is inside a ref-hint panel, ignore it.
        if (e.target.closest(".ref-hint")) return;
        // Otherwise, close all the current panels.
        hideAllRefHints();
      }

      document.addEventListener("DOMContentLoaded", () => {
        document.body.addEventListener("mousedown", showRefHintListener);
        document.body.addEventListener("focus", showRefHintListener);

        document.body.addEventListener("click", hideAllHintsListener);
      });

      window.addEventListener("resize", () => {
        // Hide any open ref hint.
        hideAllRefHints();
      });
    }
  </script>
  <script>/* Boilerplate: script-var-click-highlighting */
    "use strict";
    {
      /*
      Color-choosing design:
      
      * Colors are ordered by goodness.
      * On clicking a var, give it the earliest color
          with the lowest usage in the algorithm.
      * On re-clicking, re-use the var's most recent color
          if that's not currently being used elsewhere.
      */

      const COLOR_COUNT = 7;

      document.addEventListener("click", e => {
        if (e.target.nodeName == "VAR") {
          highlightSameAlgoVars(e.target);
        }
      });

      function highlightSameAlgoVars(v) {
        // Find the algorithm container.
        let algoContainer = findAlgoContainer(v);

        // Not highlighting document-global vars,
        // too likely to be unrelated.
        if (algoContainer == null) return;

        const varName = nameFromVar(v);
        if (!v.hasAttribute("data-var-color")) {
          const newColor = chooseHighlightColor(algoContainer, v);
          for (const el of algoContainer.querySelectorAll("var")) {
            if (nameFromVar(el) == varName) {
              el.setAttribute("data-var-color", newColor);
              el.setAttribute("data-var-last-color", newColor);
            }
          }
        } else {
          for (const el of algoContainer.querySelectorAll("var")) {
            if (nameFromVar(el) == varName) {
              el.removeAttribute("data-var-color");
            }
          }
        }
      }
      function findAlgoContainer(el) {
        while (el != document.body) {
          if (el.hasAttribute("data-algorithm")) return el;
          el = el.parentNode;
        }
        return null;
      }
      function nameFromVar(el) {
        return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
      }
      function colorCountsFromContainer(container) {
        const namesFromColor = Array.from({ length: COLOR_COUNT }, x => new Set());
        for (let v of container.querySelectorAll("var[data-var-color]")) {
          let color = +v.getAttribute("data-var-color");
          namesFromColor[color].add(nameFromVar(v));
        }

        return namesFromColor.map(x => x.size);
      }
      function leastUsedColor(colors) {
        // Find the earliest color with the lowest count.
        let minCount = Infinity;
        let minColor = null;
        for (var i = 0; i < colors.length; i++) {
          if (colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
          }
        }
        return minColor;
      }
      function chooseHighlightColor(container, v) {
        const colorCounts = colorCountsFromContainer(container);
        if (v.hasAttribute("data-var-last-color")) {
          let color = +v.getAttribute("data-var-last-color");
          if (colorCounts[color] == 0) return color;
        }
        return leastUsedColor(colorCounts);
      }
    }
  </script>