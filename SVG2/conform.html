<!DOCTYPE html>

<!--
  Scalable Vector Graphics (SVG) 2
  Chapter 2: Conformance Criteria

  Note: This document is generated from ../master/conform.html.
  Run "make" from the root of the repository to regenerate it.
  -->

<html lang="zh-hans" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <title>符合性标准 — SVG 2</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        .feature {
            text-align: right;
        }

        .embedcontext {
            width: 120px;
            height: 120px;
        }

        table.ref_modes td {
            width: 120px;
            border: gainsboro 1px solid;
        }

        table.ref_modes th {
            padding: 0.5em 0;
            background-color: gainsboro;
        }

        th,
        td {
            text-align: center;
        }

        .bg {
            background-image: url(images/conform/smiley.svg);
            width: 120px;
            height: 120px;
        }

        table.features {
            border: gray 1px solid;
            margin-top: 1em;
        }

        table.features th,
        table.features td {
            text-align: left;
            background-color: gainsboro !important;
            color: black !important;
            padding: 0.5em !important;
        }

        table.features thead th {
            text-align: center;
            background-color: gray !important;
            color: white !important;
            font-weight: normal;
        }
    </style>
    <!-- Style sheets for local dev. Will be standardized in processing.
  Add attribute data-keep="" to any extra stylesheet link you do not want removed
  (or use <style>), and include it before here. -->


    <link rel="stylesheet" title="Default" href="style/svg.css" type="text/css" media="screen">
    <link rel="alternate stylesheet" title="Only annotations for publication" href="style/default_no_maturity.css"
        type="text/css" media="screen">
    <link rel="alternate stylesheet" title="No issues/annotations" href="style/default_no_issues.css" type="text/css"
        media="screen">
    <link rel="stylesheet" href="//www.w3.org/StyleSheets/TR/2016/W3C-ED" type="text/css" media="screen">
    <script src="style/link-fixup.js"></script>
    <script data-script-mathjax="" async=""
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_SVG"></script>
</head>

<body class="chapter-conform">

    <h1>第 2 章：符合性标准</h1>
    <nav id="toc">
        <div class="header top"><a href="Overview.html">概述</a> . <a href="intro.html">上一页</a> . <a
                href="render.html">下一页</a> . <a href="eltindex.html">元素</a> . <a href="attindex.html">属性</a> . <a
                href="propidx.html">特性</a></div>
        <h2 id="Contents" class="contents">目录</h2>
        <ol class="toc">
            <li>
                <ol class="toc">
                    <li><a href="conform.html#conformance-overview"><span class="secno">2.1.</span> 概述</a></li>
                    <li><a href="conform.html#processing-modes"><span class="secno">2.2.</span> 处理模式</a>
                        <ol class="toc">
                            <li><a href="conform.html#features"><span class="secno">2.2.1.</span> 特性</a></li>
                            <li><a href="conform.html#dynamic-interactive-mode"><span class="secno">2.2.2.</span>
                                    动态交互模式</a></li>
                            <li><a href="conform.html#animated-mode"><span class="secno">2.2.3.</span> 动画模式</a>
                            </li>
                            <li><a href="conform.html#secure-animated-mode"><span class="secno">2.2.4.</span> 安全
                                    动画模式</a></li>
                            <li><a href="conform.html#static-mode"><span class="secno">2.2.5.</span> 静态模式</a>
                            </li>
                            <li><a href="conform.html#secure-static-mode"><span class="secno">2.2.6.</span> 安全
                                    静态模式</a></li>
                        </ol>
                    </li>
                    <li><a href="conform.html#referencing-modes"><span class="secno">2.3.</span> SVG 子资源文档的处理模式</a>
                        <ol class="toc">
                            <li><a href="conform.html#examples"><span class="secno">2.3.1.</span> 示例</a></li>
                        </ol>
                    </li>
                    <li><a href="conform.html#DocumentConformanceClasses"><span class="secno">2.4.</span> 文档符合性类别 </a>
                        <ol class="toc">
                            <li><a href="conform.html#ConformingSVGDOMSubtrees"><span class="secno">2.4.1.</span>
                                    符合的 SVG DOM 子树</a></li>
                            <li><a href="conform.html#ConformingSVGFragments"><span class="secno">2.4.2.</span>
                                    符合的 SVG 标记片段</a></li>
                            <li><a href="conform.html#ConformingSVGXMLFragments"><span class="secno">2.4.3.</span>
                                    符合的 XML 兼容 SVG 标记片段</a></li>
                            <li><a href="conform.html#ConformingSVGXMLDOMSubtrees"><span class="secno">2.4.4.</span>
                                    符合的 XML 兼容 SVG DOM 子树</a></li>
                            <li><a href="conform.html#ConformingSVGStandAloneFiles"><span class="secno">2.4.5.</span>
                                    符合的 SVG 独立文件</a></li>
                            <li><a href="conform.html#ErrorProcessing"><span class="secno">2.4.6.</span> 错误
                                    处理</a></li>
                        </ol>
                    </li>
                    <li><a href="conform.html#SoftwareConformanceClasses"><span class="secno">2.5.</span> 软件
                            符合性类别</a>
                        <ol class="toc">
                            <li><a href="conform.html#ConformingSVGGenerators"><span class="secno">2.5.1.</span>
                                    符合的 SVG 生成器</a></li>
                            <li><a href="conform.html#ConformingSVGAuthoringTools"><span class="secno">2.5.2.</span>
                                    符合的 SVG 创作工具</a></li>
                            <li><a href="conform.html#ConformingSVGServers"><span class="secno">2.5.3.</span> 符合
                                    的 SVG 服务器</a></li>
                            <li><a href="conform.html#ConformingSVGInterpreters"><span class="secno">2.5.4.</span>
                                    符合的 SVG 解释器</a></li>
                            <li><a href="conform.html#ConformingSVGViewers"><span class="secno">2.5.5.</span> 符合
                                    的 SVG 查看器</a>
                                <ol class="toc">
                                    <li><a href="conform.html#PrintingImplementationNotes"><span
                                                class="secno">2.5.5.1.</span> 打印实现说明</a></li>
                                </ol>
                            </li>
                            <li><a href="conform.html#ConformingHighQualitySVGViewers"><span class="secno">2.5.6.</span>
                                    符合的高质量 SVG 查看器</a></li>
                        </ol>
                    </li>
                </ol>
            </li>
        </ol>
    </nav>

    <h2 id="conformance-overview" class="heading">2.1. 概述<a class="self-link" href="#conformance-overview"></a>
    </h2>

    <p>使用 SVG 定义的图形有许多不同的应用。因此，并不是所有使用 SVG 的软件都具有相同的特性。因此，符合 SVG 规范并不是一个二元问题；软件可能在有限的特性集内是符合的。</p>

    <p>此外，SVG 旨在与其他类型的文档集成；根据集成类型，可能只有有限的特性集是合适的。SVG 文档片段可以通过多种方式被其他文档引用或包含，从而被用户代理处理。SVG 文档也可以直接查看，作为主要文档。每种不同的方法都对如何处理
        SVG 文档片段提出了特定的要求。</p>

    <p>因此，本章定义了一些<dfn id="processing-mode">处理模式</dfn>，涵盖可能在文档中启用或禁用的不同特性组合。此外，它还指定了在 SVG 文档引用或嵌入其他 SVG
        文档时必须使用的规范性要求。相同的处理模式集可以在其他规范中作为参考，用于描述如何处理 SVG 文档。</p>

    <p class="note">本文件不对可以引用或包含 SVG 文档的其他规范（如 HTML 和各种 CSS 规范）施加规范性要求。其意图是让这些其他规范从本文件中规范性地指向适当的处理模式。</p>

    <p>本章还概述了对<a href="#DocumentConformanceClasses">不同类型的 SVG 内容</a>和<a href="#SoftwareConformanceClasses">使用或创建 SVG
            的不同软件类别</a>的具体符合性要求。</p>

    <h2 id="processing-modes" class="heading">2.2. 处理模式<a class="self-link" href="#processing-modes"></a>
    </h2>

    <p>本节定义了一套标准的<a href="conform.html#processing-modes">处理模式</a>，用于 SVG 文档。每个处理模式指定是否启用某些高级 SVG 特性。</p>

    <h3 id="features" class="heading">2.2.1. 特性<a class="self-link" href="#features"></a></h3>

    <p>可以根据处理模式启用或禁用的特性如下：</p>

    <dl>
        <dt>声明性动画</dt>
        <dd>
            <p>声明性动画包括 SVG 中的动画元素——
                <span class="element-name">‘<a
                        href="https://svgwg.org/specs/animations/#AnimateElement"><span>animate</span></a>’</span>、
                <span class="element-name">‘<a
                        href="https://svgwg.org/specs/animations/#AnimateMotionElement"><span>animateMotion</span></a>’</span>、
                <span class="element-name">‘<a
                        href="https://svgwg.org/specs/animations/#AnimateTransformElement"><span>animateTransform</span></a>’</span>
                和 <span class="element-name">‘<a
                        href="https://svgwg.org/specs/animations/#SetElement"><span>set</span></a>’</span>——以及 CSS
                过渡和动画（详细信息请参见 <a href="animate.html">动画附录</a>）。
                当在 SVG 文档中禁用声明性动画时，任何动画元素或 CSS 过渡或动画都不得应用或运行。
            </p>
            <p class="note">这与在 0s 文档时间暂停文档的动画状态不同；如果动画定义在 0s 开始，它仍然不会被应用。</p>
        </dd>

        <dt>对外部资源的引用</dt>
        <dd>
            <p>对<a href="linking.html#TermExternalReference">外部资源</a>的引用是通过标记、样式属性、脚本或文档中使用的其他 Web 平台特性进行的 URL
                引用或网络访问请求，除了：
            </p>
            <ul>
                <li><a href="linking.html#TermSameDocumentURL">同文档 URL 引用</a>，如<a href="linking.html">链接章节</a>中定义的那样
                </li>
                <li><a href="linking.html#TermDataURL">数据 URL 引用</a>，如<a href="http://www.ietf.org/rfc/rfc2397.txt">“数据”
                        URL 方案</a>中定义的那样
                    [<a href="refs.html#ref-rfc2397">rfc2397</a>]</li>
            </ul>
            <p>当在 SVG 文档中禁用外部引用时，任何通过外部引用获取文档的尝试必须被视为网络错误发生，且未收到任何数据。</p>
            <p>当启用外部引用时，支持来自 Internet 的外部文件请求的用户代理必须遵循<a href="linking.html#processingURL-fetch">链接章节</a>中概述的跨源资源获取限制。
            </p>
        </dd>

        <dt>脚本执行</dt>
        <dd>
            <p>脚本执行是指执行任何 SVG <span class="element-name">‘<a
                        href="interact.html#ScriptElement"><span>script</span></a>’</span> 元素、<a
                    href="interact.html#TermEventAttribute">事件属性</a>（如 SVG 元素上的 <span class="attr-name">‘<a
                        href="interact.html#EventAttributes"><span>onclick</span></a>’</span>）中找到的脚本，或文档中使用的其他 Web
                平台特性定义的任何其他脚本，例如任何 HTML <span class="element-name">‘<a
                        href="interact.html#ScriptElement"><span>script</span></a>’</span> 元素。
                当在 SVG 文档中禁用脚本执行时，文档中的任何脚本都不得运行。</p>
        </dd>

        <dt>交互</dt>
        <dd>
            <p>交互是指传递 DOM 事件或调用任何用户代理特定的 UI 行为，例如文本选择、焦点变化、链接遍历，或在用户输入（如鼠标或键盘活动）响应中触发动画或过渡。当在 SVG
                文档中禁用交互时，任何针对文档或文档内任何元素的用户输入事件都不得产生效果。</p>
        </dd>
    </dl>

    <h3 id="dynamic-interactive-mode" class="heading">2.2.2. 动态交互模式<a class="self-link"
            href="#dynamic-interactive-mode"></a></h3>

    <p>此<a href="conform.html#processing-modes">处理模式</a>对 SVG 语言的任何特性都没有限制。</p>

    <table class="features">
        <thead>
            <tr>
                <th colspan="2">动态交互特性</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>脚本执行</th>
                <td>是</td>
            </tr>
            <tr>
                <th>外部引用</th>
                <td>是</td>
            </tr>
            <tr>
                <th>声明性动画</th>
                <td>是</td>
            </tr>
            <tr>
                <th>交互性</th>
                <td>是</td>
            </tr>
        </tbody>
    </table>

    <h3 id="animated-mode" class="heading">2.2.3. 动画模式<a class="self-link" href="#animated-mode"></a></h3>

    <p>此<a href="conform.html#processing-modes">处理模式</a>旨在用于将 SVG 文档用作允许解析外部引用的动画图像，但不打算用作交互文档的情况。</p>

    <table class="features">
        <thead>
            <tr>
                <th colspan="2">动画特性</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>脚本执行</th>
                <td>否</td>
            </tr>
            <tr>
                <th>外部引用</th>
                <td>是</td>
            </tr>
            <tr>
                <th>声明性动画</th>
                <td>是</td>
            </tr>
            <tr>
                <th>交互性</th>
                <td>否</td>
            </tr>
        </tbody>
    </table>

    <h3 id="secure-animated-mode" class="heading">2.2.4. 安全动画模式<a class="self-link" href="#secure-animated-mode"></a>
    </h3>

    <p>此<a href="conform.html#processing-modes">处理模式</a>旨在用于将 SVG
        文档用作不允许解析外部引用的动画图像，并且不打算用作交互文档的情况。此模式可能用于图像支持传统上仅限于光栅图像（如 JPEG、PNG 和 GIF）的地方。</p>

    <table class="features">
        <thead>
            <tr>
                <th colspan="2">安全动画特性</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>脚本执行</th>
                <td>否</td>
            </tr>
            <tr>
                <th>外部引用</th>
                <td>否</td>
            </tr>
            <tr>
                <th>声明性动画</th>
                <td>是</td>
            </tr>
            <tr>
                <th>交互性</th>
                <td>否</td>
            </tr>
        </tbody>
    </table>

    <h3 id="static-mode" class="heading">2.2.5. 静态模式<a class="self-link" href="#static-mode"></a></h3>

    <p>此<a href="conform.html#processing-modes">处理模式</a>旨在用于将 SVG 文档用作允许解析外部引用的非动画图像，但不打算用作交互文档的情况。
        例如，处理图形以包含在打印文档中的 SVG 查看器可能会使用静态模式。</p>

    <table class="features">
        <thead>
            <tr>
                <th colspan="2">静态特性</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>脚本执行</th>
                <td>否</td>
            </tr>
            <tr>
                <th>外部引用</th>
                <td>是</td>
            </tr>
            <tr>
                <th>声明性动画</th>
                <td>否</td>
            </tr>
            <tr>
                <th>交互性</th>
                <td>否</td>
            </tr>
        </tbody>
    </table>

    <h3 id="secure-static-mode" class="heading">2.2.6. 安全静态模式<a class="self-link" href="#secure-static-mode"></a></h3>

    <p>此<a href="conform.html#processing-modes">处理模式</a>旨在用于将 SVG
        文档用作不允许解析外部引用的非动画图像，并且不打算用作交互文档的情况。此模式可能用于图像支持传统上仅限于非动画光栅图像（如 JPEG 和 PNG）的地方。</p>

    <table class="features">
        <thead>
            <tr>
                <th colspan="2">安全静态特性</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>脚本执行</th>
                <td>否</td>
            </tr>
            <tr>
                <th>外部引用</th>
                <td>否</td>
            </tr>
            <tr>
                <th>声明性动画</th>
                <td>否</td>
            </tr>
            <tr>
                <th>交互性</th>
                <td>否</td>
            </tr>
        </tbody>
    </table>

    <h2 id="referencing-modes" class="heading">2.3. SVG 子资源文档的处理模式<a class="self-link" href="#referencing-modes"></a>
    </h2>

    <p>
        当 SVG 文档直接查看时，预计使用用户代理支持的最全面的<a href="conform.html#processing-modes">处理模式</a>进行显示。
        然而，当 SVG 作为子资源或嵌入文档处理时，必须遵循以下限制：
    </p>

    <dl>
        <dt id="image-document-mode"><span class="element-name">‘<a
                    href="embedded.html#ImageElement"><span>image</span></a>’</span> 引用</dt>
        <dd>
            <p>嵌入在 <span class="element-name">‘<a href="embedded.html#ImageElement"><span>image</span></a>’</span> 元素中的
                SVG
                必须在 <a href="conform.html#secure-animated-mode">安全动画模式</a> 下处理
                如果嵌入文档支持 <a href="conform.html#processing-modes">声明性动画</a>，
                否则在 <a href="conform.html#secure-static-mode">安全静态模式</a> 下处理。
            </p>

            <p class="note">在其他情况下，使用 SVG 替代光栅图像时，也应使用相同的处理模式，
                如 HTML <span class="element-name">‘img’</span> 元素或任何采用
                <a href="https://www.w3.org/TR/css3-values/#images">&lt;image></a> 数据类型的 CSS 属性。
                这与<a href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element">HTML 的要求</a>
                一致，即图像源必须引用
                “一个非交互、可选动画的图像资源，既不分页也不脚本化”
                [<a href="refs.html#ref-html">HTML</a>]
            </p>
        </dd>

        <dt id="embedded-document-mode"><span class="element-name">‘<a
                    href="embedded.html#HTMLElements"><span>iframe</span></a>’</span> 引用</dt>
        <dd>
            <p>在 SVG 文档中，通过 HTML <span class="element-name">‘<a
                        href="embedded.html#HTMLElements"><span>iframe</span></a>’</span>
                元素引用的 SVG 文档必须使用与嵌入文档相同的处理模式，
                但需遵循 <a href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox"><span
                        class="attr-name">sandbox</span> 属性</a>
                对嵌入 <span class="element-name">‘<a href="embedded.html#HTMLElements"><span>iframe</span></a>’</span>
                的限制。
            </p>

            <p class="note">在通过 HTML
                <span class="element-name">‘embed’</span>、
                <span class="element-name">‘iframe’</span> 或
                <span class="element-name">‘object’</span> 元素加载 SVG 文档时，
                也应使用相同的处理规则
                <a href="refs.html#ref-html">[HTML]</a>。
                在交互式网络浏览器中作为
                <a href="https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context">顶级浏览上下文</a>
                的 HTML 文档相当于 SVG 的
                <a href="conform.html#dynamic-interactive-mode">动态交互处理模式</a>。
            </p>
        </dd>

        <dt id="template-document-mode"><span class="element-name">‘<a
                    href="struct.html#UseElement"><span>use</span></a>’</span> 元素和其他 <span class="attr-name">‘<a
                    href="https://svgwg.org/specs/animations/#HrefAttribute"><span>href</span></a>’</span> 引用
        </dt>
        <dd>
            <p>当通过 <span class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span>
                元素引用或 <a href="painting.html#TermPaintServerElement">绘制服务器元素</a> 的交叉引用加载 SVG 文档时，
                必须在 <a href="conform.html#secure-static-mode">安全静态模式</a> 下处理。
            </p>

            <p class="note">
                请注意，在处理子资源文档时动画不会运行，
                既出于性能原因，也因为当前没有为资源文档定义上下文来引用其时间线。
                然而，当因为 <span class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span>
                元素引用或绘制服务器交叉引用
                将子资源文档中的元素克隆到当前文档中时，
                克隆的 <a href="struct.html#TermElementInstance">元素实例</a> 可以在当前文档的时间线中动画，
                如<a href="struct.html#UseAnimations">在使用元素阴影树中的动画</a>所述，并可能触发加载其他子资源文件。
            </p>
        </dd>

        <dt id="resource-document-mode">图形效果引用</dt>
        <dd>
            <p>当通过任何目标文档中特定元素的样式属性引用加载 SVG 文档时
                （与将 SVG 作为图像格式相对），
                必须在 <a href="conform.html#secure-static-mode">安全静态模式</a> 下处理。
            </p>

            <p class="note">请注意，在子资源文档中动画不会运行，
                既出于性能原因，也因为当前没有为资源文档定义上下文来引用其时间线。
            </p>

            <p>某些样式属性可能引用特定元素或整个图像文件；
                在第一种情况下，处理模式更具限制性。
                例如，对 SVG <span class="element-name">‘<a
                        href="https://drafts.fxtf.org/css-masking-1/#MaskElement"><span>mask</span></a>’</span> 元素的引用
                将不会被动画，
                但用作图像蒙版的整个 SVG 文件可以被动画。
            </p>
        </dd>

        <dt id="font-document-mode">字体中的 SVG</dt>
        <dd>
            <p>当 SVG 文件作为字体引用的一部分处理时，
                如果支持动画字形，则必须使用
                <a href="conform.html#secure-animated-mode">安全动画模式</a>，
                否则使用 <a href="conform.html#secure-static-mode">安全静态模式</a>。
            </p>

            <p class="note">这些限制已包含在
                OpenType 规范中，用于处理来自“SVG”表的文档。
                OpenType 还施加了附加限制，
                以用户代理样式表的形式
                <a href="styling.html#UAStyleSheet">用户代理样式表</a>
                防止文本和外部对象的呈现
                [<a href="refs.html#ref-opentype">OPENTYPE</a>]。
            </p>
        </dd>
    </dl>

    <p>以内联方式包含在主机文档中的 SVG 文档片段
        必须使用与主机文档匹配的<a href="conform.html#processing-modes">处理模式</a>。
        作为 SVG <span class="element-name">‘<a
                href="embedded.html#ForeignObjectElement"><span>foreignObject</span></a>’</span> 元素的子项包含的 SVG 文档片段
        必须使用周围 SVG 文档的<a href="conform.html#processing-modes">处理模式</a>；
        非 SVG 外部内容必须按等效限制处理。
    </p>

    <p class="note">
        例如，如果由于被 HTML <span class="element-name">‘img’</span> 或 SVG <span class="element-name">‘<a
                href="embedded.html#ImageElement"><span>image</span></a>’</span> 元素引用，SVG 文档被用于
        <a href="conform.html#secure-animated-mode">安全动画模式</a>，
        则任何位于 <span class="element-name">‘<a
                href="embedded.html#ForeignObjectElement"><span>foreignObject</span></a>’</span> 元素中的内容
        必须禁用脚本、交互性和外部文件引用，但应启用声明性动画。
    </p>



    <h3 id="examples" class="heading">2.3.1. 示例<a class="self-link" href="#examples"></a></h3>

    <div class="example">
        <p>下面是通过引用在 HTML 页面中嵌入 SVG 的各种方法，
            以及每种方法的预期处理模式
            和允许的特性。
        </p>
        <p>
            “实时示例”行中的每个单元格应显示一个黄色的
            微笑面孔。
            在下面的每个示例中，单击眼睛测试链接
            遍历，
            单击面孔测试声明式交互
            和脚本执行。
            该链接应将图像替换为一个蓝色
            正方形（单击它将恢复为原始图像）。
            声明式交互
            使用<span class="element-name">‘<a
                    href="https://svgwg.org/specs/animations/#SetElement"><span>set</span></a>’</span>元素改变
            面孔的颜色，从黄色的色调变为绿色的色调，
            并使用 CSS 伪类为交互元素添加描边。
            脚本应填充微笑。
            如果左眼在眨眼（使用<span class="element-name">‘<a
                    href="https://svgwg.org/specs/animations/#AnimateElement"><span>animate</span></a>’</span>元素），
            并且眼睛是深蓝色的，定期闪烁亮蓝色（使用 CSS 关键帧动画），则支持基于时间的声明式动画。
        </p>

        <p class="note">
            此处概述的预期处理模式和特性
            可能会因相应的 HTML 或 CSS 规范的未来变化而有所调整。
        </p>

        <table class="ref_modes">
            <tbody>
                <tr>
                    <th scope="row">嵌入方法</th>
                    <th>没有沙盒的对象</th>
                    <th>带有<code>sandbox=""</code>的 iframe</th>
                    <th>img</th>
                    <th>CSS 背景</th>
                </tr>
                <tr>
                    <th scope="row">预期处理模式</th>
                    <td>动态交互</td>
                    <td>动态交互，带有限制</td>
                    <td>安全动画</td>
                    <td>安全动画</td>
                </tr>
                <tr>
                    <th scope="row">声明式，基于时间的动画<br>（左眼眨眼，两只眼睛颜色变化）</th>
                    <td>允许</td>
                    <td>允许</td>
                    <td>允许</td>
                    <td>允许</td>
                </tr>
                <tr>
                    <th scope="row">声明式，交互式动画和样式变化<br>（点击时面孔颜色变化，悬停或聚焦时面孔/眼睛轮廓）</th>
                    <td>允许</td>
                    <td>允许</td>
                    <td>禁用</td>
                    <td>禁用</td>
                </tr>
                <tr>
                    <th scope="row">同一浏览上下文中的链接导航，指向同一域<br>（点击眼睛时图像变化）</th>
                    <td>允许</td>
                    <td>允许</td>
                    <td>禁用</td>
                    <td>禁用</td>
                </tr>
                <tr>
                    <th scope="row">脚本交互<br>（点击面孔时微笑加宽）</th>
                    <td>允许</td>
                    <td>禁用（由于沙盒）</td>
                    <td>禁用</td>
                    <td>禁用</td>
                </tr>
                <tr>
                    <th scope="row">实时示例</th>
                    <td>
                        <object class="embedcontext" type="image/svg+xml" data="images/conform/smiley.svg"
                            aria-label="微笑面孔，作为对象">此浏览器不支持嵌入 SVG 图像。</object>
                    </td>
                    <td>
                        <iframe sandbox="" class="embedcontext" src="images/conform/smiley.svg" style="border: 0"
                            aria-label="微笑面孔，作为 iframe">此浏览器不支持嵌入 SVG 图像。</iframe>
                    </td>
                    <td>
                        <img id="js-embed-img" class="embedcontext" alt="微笑面孔，作为图像" src="images/conform/smiley.svg">
                    </td>
                    <td>
                        <div class="embedcontext" style="background-image: url(./images/conform/smiley.svg);"
                            aria-label="微笑面孔，作为背景图像"> </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <h2 id="DocumentConformanceClasses" class="heading">2.4. 文档合规性类别 <a class="self-link"
            href="#DocumentConformanceClasses"></a></h2>

    <p>SVG 是通过文档对象模型 (DOM) 定义的，
        而不是特定的文件格式或文档类型。
        因此，对于 SVG 内容，
        合规性是通过内容是否
        或能生成符合的 DOM 来定义的。
        额外的合规性类别取决于内容
        是否也是有效和良构的 XML [<a href="refs.html#ref-xml">xml</a>].
    </p>

    <h3 id="ConformingSVGDOMSubtrees" class="heading">2.4.1. 符合的 SVG DOM 子树<a class="self-link"
            href="#ConformingSVGDOMSubtrees"></a></h3>

    <p>以给定元素为根的 DOM 节点树或子树
        是一个 <dfn>符合的 SVG DOM 子树</dfn>
        如果它形成一个 <a href="struct.html#TermSVGDocumentFragment">SVG 文档片段</a>
        并遵循本文件中描述的规范
        (<a href="Overview.html">可缩放矢量图形 (SVG) 规范</a>)。
        具体来说，它：</p>
    <ul>
        <li>由 <span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span>
            元素根植于 <a href="struct.html#Namespace">SVG 命名空间</a>,</li>

        <li>符合本文件中定义的元素的内容模型和属性规则 (<a href="Overview.html">可缩放矢量图形 (SVG) 规范</a>), 并且</li>

        <li>符合由其他规范定义的任何元素的内容模型和属性规则，
            这些元素在 <a href="struct.html#Namespace">SVG 命名空间</a> 中由这些规范定义
            （包括：
            [<a href="refs.html#ref-filter-effects-1">filter-effects-1</a>],
            [<a href="refs.html#ref-css-masking-1">css-masking-1</a>],
            [<a href="refs.html#ref-svg-animation">svg-animation</a>]).</li>

    </ul>


    <p>SVG 文档片段可以通过使用 XML 命名空间设施包含在父 XML 文档中，
        这些设施在 <a href="https://www.w3.org/TR/xml-names">XML 中的命名空间</a> [<a href="refs.html#ref-xml-names">xml-names</a>]
        中描述。
        但是，请注意，由于符合的 SVG DOM 子树必须具有一个
        <span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span>
        元素作为其根，
        因此，不允许使用来自 SVG 命名空间的单个非-<span class="element-name">‘<a
                href="struct.html#SVGElement"><span>svg</span></a>’</span>
        元素。因此，以下文档的 SVG 部分是 <em>不</em> 符合的：
    </p>

    <pre>&lt;?xml version="1.0" standalone="no"?>
&lt;!DOCTYPE SomeParentXMLGrammar PUBLIC "-//SomeParent" "http://SomeParentXMLGrammar.dtd">
&lt;ParentXML>
  &lt;!-- ParentXML 的元素在这里 -->
  &lt;!-- 以下内容<strong>不</strong>符合 -->
  &lt;z:rect xmlns:z="http://www.w3.org/2000/svg"
          x="0" y="0" width="10" height="10">
  &lt;!-- ParentXML 的更多元素在这里 -->
&lt;/ParentXML></pre>

    <p>相反，要使 SVG 部分成为 <a href="conform.html#ConformingSVGDOMSubtrees">符合的 SVG DOM
            子树</a>，
        可以将文件修改如下：</p>

    <pre>
&lt;?xml version="1.0" standalone="no"?>
&lt;!DOCTYPE SomeParentXMLGrammar PUBLIC "-//SomeParent" "http://SomeParentXMLGrammar.dtd">
&lt;ParentXML>
  &lt;!-- ParentXML 的元素在这里 -->
  &lt;!-- 以下内容符合 -->
  &lt;z:svg xmlns:z="http://www.w3.org/2000/svg"
         width="100px" height="100px">
    &lt;z:rect x="0" y="0" width="10" height="10"/>
  &lt;/z:svg>
  &lt;!-- ParentXML 的更多元素在这里 -->
&lt;/ParentXML>
</pre>

    <p>SVG 语言和这些合规性标准未对 SVG 内容的任何方面提供指定的
        大小限制。元素的数量、字符数据的量或属性值中的字符数量
        没有最大值。</p>

    <h3 id="ConformingSVGFragments" class="heading">2.4.2. 符合的 SVG 标记片段<a class="self-link"
            href="#ConformingSVGFragments"></a></h3>

    <p>文档或文档的一部分是一个 <dfn>符合的 SVG 标记片段</dfn>
        如果它可以被适当的解析器解析而没有错误（除了网络错误），
        形成一个 <a href="conform.html#ConformingSVGDOMSubtrees">符合的 SVG DOM 子树</a>，
        并且如果：</p>
    <ul>
        <li>文档中包含的任何 CSS 样式表
            符合 <a href="https://www.w3.org/TR/2011/REC-CSS2-20110607/"><cite>层叠样式表，第 2 级修订版 1</cite></a>
            [<a href="refs.html#ref-css2">CSS2</a>] 的核心语法。
        </li>
    </ul>

    <h3 id="ConformingSVGXMLFragments" class="heading">2.4.3. 符合 XML 兼容的 SVG 标记片段<a class="self-link"
            href="#ConformingSVGXMLFragments"></a></h3>

    <p>一个 <a href="conform.html#ConformingSVGFragments">符合的 SVG 标记片段</a> 也是一个
        <dfn>符合的 XML 兼容的 SVG 标记片段</dfn>
        如果它：
    </p>

    <ul>
        <li>符合所有 <a href="https://www.w3.org/TR/2008/REC-xml-20081126/#sec-well-formed">XML 良构性约束</a>
            ([<a href="refs.html#ref-xml">xml</a>]),</li>

        <li>符合 <a href="https://www.w3.org/TR/xml-names"><cite>XML 中的命名空间</cite></a>
            规范 [<a href="refs.html#ref-xml-names">xml-names</a>],</li>

        <li>所有 <span class="attr-name">‘<a href="struct.html#IDAttribute"><span>id</span></a>’</span> 属性都是 <a
                href="https://www.w3.org/TR/xml/#sec-attribute-types">有效的 XML ID</a>
            ([<a href="refs.html#ref-xml">xml</a>], 第 3.3.1 节), 并且 </li>

        <li>任何 <code>&lt;?xml-stylesheet?></code> 处理指令符合
            <a href="https://www.w3.org/TR/xml-stylesheet"><cite>将样式表与 XML 文档关联</cite></a>
            [<a href="refs.html#ref-xml-stylesheet">xml-stylesheet</a>]。
        </li>
    </ul>

    <h3 id="ConformingSVGXMLDOMSubtrees" class="heading">2.4.4. 符合 XML 兼容的 SVG DOM 子树<a class="self-link"
            href="#ConformingSVGXMLDOMSubtrees"></a></h3>

    <p>以给定元素为根的 DOM 节点树或子树
        是一个 <dfn>符合的 XML 兼容的 SVG DOM 子树</dfn>
        如果在序列化为 XML 后，
        它可以形成一个 <a href="conform.html#ConformingSVGXMLFragments">符合的 XML 兼容的 SVG 标记片段</a>。
    </p>
    <p>
        如果 DOM 子树无法序列化为符合的 XML 而不改变它，
        例如当 <span class="attr-name">‘<a href="struct.html#IDAttribute"><span>id</span></a>’</span> 值
        不是有效的 XML 名称，或者当
        <a class="idlinterface" href="https://dom.spec.whatwg.org/#interface-comment">Comment</a> 节点的数据包含
        子字符串 "--"，则该子树不是
        符合的 XML 兼容的 SVG DOM 子树。
    </p>

    <h3 id="ConformingSVGStandAloneFiles" class="heading">2.4.5. 符合的 SVG 独立文件<a class="self-link"
            href="#ConformingSVGStandAloneFiles"></a></h3>

    <p>文档是一个 <dfn>符合的 SVG 独立文件</dfn> 如果：</p>

    <ul>
        <li>它是一个良构的 XML 文档，</li>
        <li>其根元素是一个 <span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span> 元素，</li>
        <li>以文档元素为根的 SVG 文档片段是一个 <a href="conform.html#ConformingSVGXMLFragments">符合的 XML 兼容 SVG 标记片段</a>，并且</li>
        <li>文档中的任何其他 <a href="struct.html#TermSVGDocumentFragment">SVG 文档片段</a>
            （例如在 <span class="element-name">‘<a
                    href="embedded.html#ForeignObjectElement"><span>foreignObject</span></a>’</span> 中）
            形成一个 <a href="conform.html#ConformingSVGXMLFragments">符合的 XML 兼容 SVG 标记片段</a>。
        </li>
    </ul>

    <h3 id="ErrorProcessing" class="heading">2.4.6. 错误处理<a class="self-link" href="#ErrorProcessing"></a>
    </h3>

    <p>在各种场景下，SVG 文档片段在技术上是 <em>有错误的</em>：</p>

    <ul>
        <li>文档或 DOM 子树对于其文档类型是不符合的，如前面章节所述。
        </li>

        <li>本规范中描述的其他被称为 <em>有错误的</em> 情况，例如不正确的属性值。</li>
    </ul>

    <p>动态文档可能会随着时间的推移而出现和消除错误。例如，来自 <a href="types.html#SVGDOMOverview">SVG DOM</a>
        或 <a href="https://svgwg.org/specs/animations/">动画</a> 的文档更改可能导致文档变为 <em>有错误</em>，
        而进一步的更改可能会使文档重新正确。</p>

    <p>用户代理必须在文档处于错误状态时使用以下错误处理规则，
        除非本规范的其他部分定义了处理特定错误类型的更具体规则：</p>

    <ul>
        <li>
            在遇到有错误的元素后，文档渲染应继续进行。该元素或其部分
            将不被渲染。
        </li>

        <li>如果用户代理能够访问错误报告
            功能，例如状态栏或控制台，建议用户代理提供尽可能多的附加细节
            以帮助用户或开发者快速找到错误来源。例如，用户代理可能会提供一个错误
            消息以及遇到错误时的行号和字符号。</li>
    </ul>

    <p>由于脚本更改块可能导致给定的 SVG 文档片段出现和消除错误，用户代理应仅在文档
        演示（例如，渲染到显示设备）更新时应用错误处理。</p>

    <h2 id="SoftwareConformanceClasses" class="heading">2.5. 软件符合性类别<a class="self-link"
            href="#SoftwareConformanceClasses"></a></h2>

    <p>对于软件，符合性的要求取决于程序的类别：</p>
    <dl>
        <dt id="TermSVGGenerator">SVG 生成器</dt>
        <dd>任何创建或提供 SVG 内容的软件，
            无论是作为标记还是作为 DOM
            （例如客户端 JavaScript 库的情况）。
        </dd>
        <dt id="TermSVGAuthoringTool">SVG 创作工具</dt>
        <dd>任何提供人类内容创作者接口的软件，
            以操作将用于生成 SVG 的图形或代码。
            SVG 创作工具隐含地也是 <a href="conform.html#TermSVGGenerator">SVG 生成器</a>。
        </dd>
        <dt id="TermSVGServer">SVG 服务器</dt>
        <dd>任何网络或文件服务器，根据其他软件的请求提供 SVG 内容。
            SVG 服务器隐含地也是 <a href="conform.html#TermSVGGenerator">SVG 生成器</a>。
        </dd>
        <dt id="TermSVGInterpreter">SVG 解释器</dt>
        <dd>任何解析或处理 SVG 文档或标记片段的软件。
            SVG 解释器是 <a href="conform.html#TermUserAgent">SVG 用户代理</a>
            就本规范中与解释器进行的解析或处理步骤相关的任何章节而言。
        </dd>
        <dt id="TermSVGViewer">SVG 观看器</dt>
        <dd>任何在解析或处理 SVG 文档或 SVG 标记片段后创建渲染图形表示的软件。
            SVG 观看器隐含地也是 <a href="conform.html#TermSVGInterpreter">SVG 解释器</a>。
            SVG 观看器始终是本规范的 <a href="conform.html#TermUserAgent">SVG 用户代理</a>。
        </dd>
        <dt id="TermSVGUserAgent">SVG 用户代理</dt>
        <dd>SVG 用户代理是能够检索和
            渲染 SVG 内容的 <a href="conform.html#TermUserAgent">用户代理</a>。</dd>
        <dt id="TermUserAgent">用户代理</dt>
        <dd>
            <p>用户代理的普遍定义是检索和渲染网络内容的应用程序，
                包括文本、
                图形、声音、视频、图像和其他内容类型。用户
                代理可能需要其他处理某些类型内容的用户代理。例如，浏览器可能运行
                单独的程序或插件来渲染声音或视频。用户
                代理包括图形桌面浏览器、多媒体
                播放器、文本浏览器、语音浏览器，以及辅助
                技术，如屏幕阅读器、屏幕放大器、
                语音合成器、屏幕键盘和语音输入
                软件。</p>

            <p>一般而言，
                “用户代理”可能有或没有检索
                和渲染 SVG 内容的能力；
                然而，除非上下文需要替代解释，
                本规范中对“用户代理”的所有引用
                都被假定为对检索和渲染 SVG 内容的 <a href="conform.html#TermUserAgent">SVG 用户代理</a> 的引用。</p>
        </dd>
    </dl>

    <p>许多程序将属于多个软件类别。
        例如，一个能够导入和显示 SVG 文件的图形编辑器，
        允许用户修改它们，
        然后将修改后的图形导出到文件，
        是一个 SVG 解释器、
        一个 SVG 观看器、
        一个 SVG 创作工具，
        和一个 SVG 生成器。
    </p>

    <h3 id="ConformingSVGGenerators" class="heading">2.5.1. 符合性 SVG 生成器<a class="self-link"
            href="#ConformingSVGGenerators"></a></h3>

    <p>一个 <dfn>符合性 SVG 生成器</dfn> 是一个
        <a href="conform.html#TermSVGGenerator">SVG 生成器</a>，它：
    </p>

    <ul>
        <li>始终创建
            一个 <a href="conform.html#ConformingSVGDOMSubtrees">符合性 SVG DOM 子树</a>，
            一个 <a href="conform.html#ConformingSVGFragments">符合性 SVG 标记片段</a>，
            或一个 <a href="conform.html#ConformingSVGStandAloneFiles">符合性 SVG 独立文件</a>；</li>

        <li>不创建包含不符合性 SVG 文档片段的文档；</li>

        <li>满足本规范中所有针对 SVG 作者的规范要求，
            以及 SVG 生成器的特定规范要求。</li>
    </ul>

    <p>强烈建议 SVG 生成器默认使用 Unicode 字符编码，
        并遵循 <a href="https://www.w3.org/TR/charmod/">万维网字符模型</a>
        的其他指导方针
        [<a href="refs.html#ref-unicode">UNICODE</a>]
        [<a href="refs.html#ref-charmod">charmod</a>]。
    </p>

    <p class="note">处理高精度数据的 SVG 生成器
        被鼓励遵循部分
        <a href="implnote.html#NumericPrecisionImplementationNotes">生成高精度几何体的注意事项</a>中的指导方针。
    </p>

    <h3 id="ConformingSVGAuthoringTools" class="heading">2.5.2. 符合性 SVG 创作工具<a class="self-link"
            href="#ConformingSVGAuthoringTools"></a></h3>

    <p>
        一个 <a href="https://www.w3.org/TR/ATAG20/#def-Authoring-Tool">创作工具</a>，
        如在 <a href="https://www.w3.org/TR/ATAG20"><cite>创作工具无障碍指南 2.0</cite></a> 中定义，
        是一个 <dfn>符合性 SVG 创作工具</dfn>
        如果它是一个 <a href="conform.html#ConformingSVGGenerators">符合性 SVG 生成器</a>
        且符合该文档中的所有相关 A 级要求
        [<a href="refs.html#ref-atag20">atag20</a>]。
        A 级 AA 和 AAA 级要求
        被鼓励但不要求符合。</p>

    <h3 id="ConformingSVGServers" class="heading">2.5.3. 符合性 SVG 服务器<a class="self-link"
            href="#ConformingSVGServers"></a></h3>

    <p>一个 <dfn>符合性 SVG 服务器</dfn> 必须满足 <a href="conform.html#ConformingSVGGenerators">符合性 SVG 生成器</a> 的所有要求。此外，符合性 SVG
        服务器使用 HTTP 或其他使用互联网媒体类型的协议
        必须以媒体类型 <code>"image/svg+xml"</code> 提供 SVG 独立文件。</p>

    <p>另外，如果 SVG 文件使用 gzip 或 deflate 压缩，符合性 SVG
        服务器必须使用适当的头部指示这一点，具体取决于协议的支持情况。具体来说，对于由服务器在传输前立即压缩的内容，
        服务器必须使用适当的 "Transfer-Encoding: gzip"
        或 "Transfer-Encoding: deflate" 头部，而对于在服务器上以压缩格式存储的内容（例如，使用文件扩展名 "svgz"），
        服务器必须使用适当的 "Content-Encoding: gzip"
        或 "Content-Encoding: deflate" 头部。</p>

    <p class="note">
        存储内容（HTTP 术语中的“实体”）的压缩与
        消息体的自动压缩是不同的，如
        HTTP/1.1 中定义的 <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.39">TE</a>/
        <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.41">传输编码</a>
        ([<a href="refs.html#ref-rfc2616">rfc2616</a>]，第 14.39 和 14.41 节)。
    </p>

    <h3 id="ConformingSVGInterpreters" class="heading">2.5.4. 符合性 SVG 解释器<a class="self-link"
            href="#ConformingSVGInterpreters"></a></h3>

    <p class="note">一个 <a href="conform.html#TermSVGInterpreter">SVG 解释器</a> 是一个可以解析和
        处理 SVG 文档片段的程序。SVG 解释器的示例包括
        服务器端转码工具或优化器（例如，将 SVG
        内容转换为修改后的 SVG 内容的工具）或分析工具（例如，提取 SVG 内容中
        文本内容的工具，或有效性检查工具）。
        从 SVG 转换为另一种图形表示（例如，SVG 到光栅转换器）的转码器，
        表示一个查看器，因此查看器的符合性标准也适用。
    </p>

    <p>一个 <dfn>符合性 SVG 解释器</dfn> 必须能够解析和处理
        <a href="https://www.w3.org/TR/2008/REC-xml-20081126/">XML 1.0</a>
        [<a href="refs.html#ref-xml">xml</a>] 和
        <a href="https://www.w3.org/TR/2006/REC-xml-names-20060816/"><cite>XML 命名空间</cite></a>
        [<a href="refs.html#ref-xml-names">xml-names</a>] 中定义的所有 XML 结构。
    </p>

    <p>一个 <a href="conform.html#ConformingSVGInterpreters">符合性 SVG 解释器</a> 必须以正确尊重内容的
        DOM 结构（元素、属性、文本内容、注释等）的方式解析任何
        <a href="conform.html#ConformingSVGXMLFragments">符合性 XML 兼容的 SVG 标记片段</a>。
        解释器不要求正确解释所有特性的语义。
    </p>

    <p>如果 SVG 解释器支持非 XML 语法（如 HTML），
        它必须以正确解析该语法中的任何 <a href="conform.html#ConformingSVGFragments">符合性 SVG 标记片段</a>。
    </p>

    <p>如果 SVG 解释器因处理 SVG 内容而运行脚本或获取外部资源文件，
        它必须遵循 <a href="conform.html#TermUserAgent">用户代理</a> 在
        <a href="#referencing-modes">SVG 子资源文档的处理模式</a> 和
        <a href="linking.html">链接章节</a> 中描述的限制。
    </p>

    <h3 id="ConformingSVGViewers" class="heading">2.5.5. 符合性 SVG 查看器<a class="self-link"
            href="#ConformingSVGViewers"></a></h3>

    <div class="annotation">
        <table>
            <tr>
                <th>行动：</th>
                <td><a href="https://www.w3.org/2013/11/14-svg-minutes.html#action01">查看性能类要求并决定是否移除要点或将其移入一般要求。</a>
                    (heycam)
                    <br>
                    <a href="https://www.w3.org/2014/10/31-svg-minutes.html#action02">规范计算 CTM 应使用双精度。</a> (stakagi)
                </td>
            </tr>
            <tr>
                <th>决议：</th>
                <td><a href="https://www.w3.org/2013/11/14-svg-minutes.html#item01">从 SVG 2 中移除性能类要求。</a> ( <a
                        href="conform.html#ConformingHighQualitySVGViewers">ConformingHighQualitySVGViewers</a> )</td>
            </tr>
            <tr>
                <th>目的：</th>
                <td>调节技术绘图和映射用例中的数值精度与用户代理性能之间的权衡。</td>
            </tr>
            <tr>
                <th>负责人：</th>
                <td>heycam, stakagi</td>
            </tr>
        </table>
    </div>

    <p class="note">
        一个 <a href="conform.html#TermSVGViewer">SVG 查看器</a> 是一个能够解析和处理 SVG 文档片段并将文档内容
        渲染到某种图形输出媒介（如显示器、打印机或雕刻机）上的程序。
        因此，<a href="conform.html#TermSVGViewer">SVG 查看器</a> 也是一个 <a href="conform.html#TermSVGInterpreter">SVG 解释器</a>
        （因为它可以解析和处理 SVG 文档片段），
        但额外要求正确渲染。
    </p>

    <p>
        一个 <dfn>符合性 SVG 查看器</dfn>
        必须是一个 <a href="conform.html#ConformingSVGInterpreters">符合性 SVG 解释器</a>，并且
        必须能够支持在本章定义的至少一种处理模式下进行渲染输出：</p>
    <ul>
        <li><a href="conform.html#dynamic-interactive-mode">动态交互模式</a></li>
        <li><a href="conform.html#animated-mode">动画模式</a></li>
        <li><a href="conform.html#secure-animated-mode">安全动画模式</a></li>
        <li><a href="conform.html#static-mode">静态模式</a></li>
        <li><a href="conform.html#secure-static-mode">安全静态模式</a></li>
    </ul>

    <p>一个符合性 SVG 查看器必须满足本规范中对 <a href="conform.html#TermUserAgent">用户代理</a> 所有特性的
        所有规范性要求，适用于其支持的处理模式。
    </p>

    <p>适用于所有 <a href="conform.html#ConformingSVGViewers">符合性 SVG 查看器</a> 的具体标准：
    </p>

    <ul>

        <li>查看器必须能够解析所有 CSS 语法特性，定义在 <a href="https://www.w3.org/TR/CSS2/"><cite>层叠样式表，第 2 级修订版 1</cite></a>
            [<a href="refs.html#ref-css2">CSS2</a>]，
            并且必须支持对 SVG 内容的 CSS 样式，包括在
            <a href="styling.html#RequiredProperties">所需属性</a>
            和 <a href="styling.html#RequiredCSSFeatures">所需特性</a>
            中列出的所有属性，这些属性在
            <a href="styling.html">样式</a>章节中列出。
            查看器可以支持其他 CSS 语言特性，
            以及任何根据相应规范定义的适用于 SVG 元素的其他属性。
            CSS 2.1 中支持的特性必须按照
            <a href="https://www.w3.org/TR/CSS2/conform.html#conformance">CSS 2.1 规范中的符合性定义</a>
            实现（[<a href="refs.html#ref-css2">CSS2</a>]，第 3.2 节）。
        </li>

        <li>查看器必须能够使用 <a href="styling.html#TermPresentationAttribute">表现属性</a> 将样式属性应用于 SVG 内容。</li>

        <li>
            SVG 内容的图像区域可以具有低于 100% 的不透明度。
            查看器必须至少支持对 SVG 内容图像的简单 alpha 合成，如
            在合成和混合规范中所述
            [<a href="refs.html#ref-compositing-1">compositing-1</a>]。
        </li>

        <li>查看器必须支持 <a href="linking.html#TermDataURL">数据 URL 引用</a>
            包含 base64 编码或 URL 编码内容，
            符合
            <a href="http://www.ietf.org/rfc/rfc2397.txt">“data:” URL 方案</a>
            [<a href="refs.html#ref-rfc2397">rfc2397</a>]，
            只要在 SVG 内容中允许对另一个文档的 URI 引用。
            当编码文档的 MIME 类型为 <code>image/svg+xml</code> 时，
            必须是一个格式正确、完整的 SVG 文档才能进行处理。
        </li>

        <li>查看器必须支持 JPEG 和 PNG
            图像格式 [<a href="refs.html#ref-jpeg">JPEG</a>] [<a href="refs.html#ref-png">PNG</a>]。
            <p class="note">
                即使查看器仅支持安全处理模式，
                仍然要求支持这些图像格式，
                以便处理 <a href="linking.html#TermDataURL">数据 URL 引用</a>。
            </p>
        </li>

        <li>图像数据的重采样必须与属性 <a class="property" href="painting.html#ImageRenderingProperty">image-rendering</a> 的规范一致。
        </li>

        <li>在父环境中尽可能使用有关物理设备分辨率和预期查看条件的信息，
            以准确确定初始缩放，
            符合 <a href="https://www.w3.org/TR/CSS2/syndata.html#length-units">CSS 2.1 中描述的规则</a>
            （[<a href="refs.html#ref-css2">CSS2</a>]，第 4.3.2 节）。
            在无法确定该信息的情况下，
            查看器或父环境必须为常见目标设备做出合理近似。</li>

        <li>所有视觉渲染必须在初始 1:1 缩放比例下与数学上正确的结果相符，误差不超过一个
            设备像素或点。建议查看器在缩放时努力保持高准确度。
            <p class="note">
                在低分辨率显示设备上，
                强烈建议支持抗锯齿或其他平滑方法。
                这是 <a href="conform.html#ConformingSVGViewers">符合性高质量 SVG 查看器</a> 的要求。
            </p>
        </li>

        <li>如果支持打印设备，SVG 内容必须能够以打印机分辨率打印，并具备与显示相同的图形
            特性（例如，指定的颜色必须在彩色打印机上呈现）。</li>

        <li>在支持准确 sRGB 的系统上
            [<a href="refs.html#ref-srgb">SRGB</a>]，所有
            sRGB 颜色计算及所有结果颜色值必须在一个 sRGB 颜色组件值的范围内准确，
            sRGB 颜色组件值的范围为 0 到 255。</li>

        <li>SVG 实现必须正确支持
            <a href="http://www.ietf.org/rfc/rfc1952.txt">gzip 编码</a>
            [<a href="refs.html#ref-rfc1952">rfc1952</a>] 和
            <a href="http://www.ietf.org/rfc/rfc1951.txt">deflate 编码</a>
            [<a href="refs.html#ref-rfc1951">rfc1951</a>] 数据流，
            对于任何内容类型（包括 SVG、脚本文件、图像）。
            支持 HTTP 的 SVG 实现必须根据
            <a href="http://www.ietf.org/rfc/rfc2616.txt">HTTP 1.1</a>
            规范 [<a href="refs.html#ref-rfc2616">rfc2616</a>] 支持这些
            编码；
            特别是，客户端必须在“Accept-Encoding:”请求头中指定 [<a
                href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.3">HTTP-ACCEPT-ENCODING</a>]
            其接受的编码，至少包括 gzip
            和 deflate，然后解压从服务器下载的
            <a href="http://www.ietf.org/rfc/rfc1952.txt">gzip 编码</a> 和
            <a href="http://www.ietf.org/rfc/rfc1951.txt">deflate 编码</a>
            数据流。当 SVG 查看器通过 HTTP 检索压缩内容（例如 .svgz 文件）时，
            如果“Content-Encoding”和“Transfer-Encoding”响应
            头缺失或指定的值与应用于内容的压缩方法不匹配，
            则 SVG 查看器必须不渲染内容，并必须将文档视为 <a href="#ErrorProcessing">出错</a>。
        </li>

        <li>查看器必须至少使用单精度浮点数进行任何数值运算的中间计算，以进行坐标转换。然而，为了防止坐标转换中的四舍五入误差，必须在 <a
                href="https://www.w3.org/TR/css-transforms-1/#current-transformation-matrix">CTM</a> 生成处理中使用至少双精度浮点数计算。
            这种最低典型的计算方式用以下公式表示。

            <div role="math" aria-describedby="ctm-matrix">
                <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                    <mo stretchy="false">(</mo>
                    <mi>single</mi>
                    <mo stretchy="false">)</mo>
                    <mrow class="MJX-TeXAtom-ORD">
                        <mstyle mathsize="1.2em">
                            <mi mathvariant="normal">CTM</mi>
                        </mstyle>
                    </mrow>
                    <mo>=</mo>
                    <mo stretchy="false">(</mo>
                    <mi>single</mi>
                    <mo stretchy="false">)</mo>
                    <mrow>
                        <mo>(</mo>
                        <mo stretchy="false">(</mo>
                        <mi>double</mi>
                        <mo stretchy="false">)</mo>
                        <mrow>
                            <mo>[</mo>
                            <mtable rowspacing="4pt" columnspacing="1em">
                                <mtr>
                                    <mtd>
                                        <msub>
                                            <mi>a</mi>
                                            <mn>1</mn>
                                        </msub>
                                    </mtd>
                                    <mtd>
                                        <msub>
                                            <mi>c</mi>
                                            <mn>1</mn>
                                        </msub>
                                    </mtd>
                                    <mtd>
                                        <msub>
                                            <mi>e</mi>
                                            <mn>1</mn>
                                        </msub>
                                    </mtd>
                                </mtr>
                                <mtr>
                                    <mtd>
                                        <msub>
                                            <mi>b</mi>
                                            <mn>1</mn>
                                        </msub>
                                    </mtd>
                                    <mtd>
                                        <msub>
                                            <mi>d</mi>
                                            <mn>1</mn>
                                        </msub>
                                    </mtd>
                                    <mtd>
                                        <msub>
                                            <mi>f</mi>
                                            <mn>1</mn>
                                        </msub>
                                    </mtd>
                                </mtr>
                                <mtr>
                                    <mtd>
                                        <mn>0</mn>
                                    </mtd>
                                    <mtd>
                                        <mn>0</mn>
                                    </mtd>
                                    <mtd>
                                        <mn>1</mn>
                                    </mtd>
                                </mtr>
                            </mtable>
                            <mo>]</mo>
                        </mrow>
                        <mo>⋅<!-- ⋅ --></mo>
                        <mo stretchy="false">(</mo>
                        <mi>double</mi>
                        <mo stretchy="false">)</mo>
                        <mrow>
                            <mo>[</mo>
                            <mtable rowspacing="4pt" columnspacing="1em">
                                <mtr>
                                    <mtd>
                                        <msub>
                                            <mi>a</mi>
                                            <mn>2</mn>
                                        </msub>
                                    </mtd>
                                    <mtd>
                                        <msub>
                                            <mi>c</mi>
                                            <mn>2</mn>
                                        </msub>
                                    </mtd>
                                    <mtd>
                                        <msub>
                                            <mi>e</mi>
                                            <mn>2</mn>
                                        </msub>
                                    </mtd>
                                </mtr>
                                <mtr>
                                    <mtd>
                                        <msub>
                                            <mi>b</mi>
                                            <mn>2</mn>
                                        </msub>
                                    </mtd>
                                    <mtd>
                                        <msub>
                                            <mi>d</mi>
                                            <mn>2</mn>
                                        </msub>
                                    </mtd>
                                    <mtd>
                                        <msub>
                                            <mi>f</mi>
                                            <mn>2</mn>
                                        </msub>
                                    </mtd>
                                </mtr>
                                <mtr>
                                    <mtd>
                                        <mn>0</mn>
                                    </mtd>
                                    <mtd>
                                        <mn>0</mn>
                                    </mtd>
                                    <mtd>
                                        <mn>1</mn>
                                    </mtd>
                                </mtr>
                            </mtable>
                            <mo>]</mo>
                        </mrow>
                        <mo>)</mo>
                    </mrow>
                </math>
                <pre id="ctm-matrix">

$$
(single)
{\large \rm CTM} =
(single)
\left(
  (double)
  \left[
    \begin{matrix}
       a_1 &amp; c_1 &amp; e_1 \\
       b_1 &amp; d_1 &amp; f_1 \\
       0 &amp;   0 &amp;   1
    \end{matrix}
  \right]
  \cdot
  (double)
  \left[
    \begin{matrix}
       a_2 &amp; c_2 &amp; e_2 \\
       b_2 &amp; d_2 &amp; f_2 \\
       0 &amp;   0 &amp;   1
    \end{matrix}
  \right]
\right)
$$

  </pre>
            </div>

            <div role="math" aria-describedby="ctm-matrix2">
                <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                    <mo stretchy="false">(</mo>
                    <mi>single</mi>
                    <mo stretchy="false">)</mo>
                    <mrow>
                        <mo>[</mo>
                        <mtable rowspacing="4pt" columnspacing="1em">
                            <mtr>
                                <mtd>
                                    <msub>
                                        <mi>x</mi>
                                        <mrow class="MJX-TeXAtom-ORD">
                                            <mi mathvariant="normal">viewport</mi>
                                        </mrow>
                                    </msub>
                                </mtd>
                            </mtr>
                            <mtr>
                                <mtd>
                                    <msub>
                                        <mi>y</mi>
                                        <mrow class="MJX-TeXAtom-ORD">
                                            <mi mathvariant="normal">viewport</mi>
                                        </mrow>
                                    </msub>
                                </mtd>
                            </mtr>
                            <mtr>
                                <mtd>
                                    <mn>1</mn>
                                </mtd>
                            </mtr>
                        </mtable>
                        <mo>]</mo>
                    </mrow>
                    <mo>=</mo>
                    <mrow class="MJX-TeXAtom-ORD">
                        <mstyle mathsize="1.2em">
                            <mi mathvariant="normal">CTM</mi>
                        </mstyle>
                    </mrow>
                    <mo>⋅<!-- ⋅ --></mo>
                    <mo stretchy="false">(</mo>
                    <mi>single</mi>
                    <mo stretchy="false">)</mo>
                    <mrow>
                        <mo>[</mo>
                        <mtable rowspacing="4pt" columnspacing="1em">
                            <mtr>
                                <mtd>
                                    <msub>
                                        <mi>x</mi>
                                        <mrow class="MJX-TeXAtom-ORD">
                                            <mi mathvariant="normal">userspace</mi>
                                        </mrow>
                                    </msub>
                                </mtd>
                            </mtr>
                            <mtr>
                                <mtd>
                                    <msub>
                                        <mi>y</mi>
                                        <mrow class="MJX-TeXAtom-ORD">
                                            <mi mathvariant="normal">userspace</mi>
                                        </mrow>
                                    </msub>
                                </mtd>
                            </mtr>
                            <mtr>
                                <mtd>
                                    <mn>1</mn>
                                </mtd>
                            </mtr>
                        </mtable>
                        <mo>]</mo>
                    </mrow>
                </math>
                <pre id="ctm-matrix2">
$$
(single)
\left[
\begin{matrix}
x_{\rm viewport} \\
y_{\rm viewport} \\
1
\end{matrix}
\right]
=
{\large \rm CTM} \cdot (single)
\left[
\begin{matrix}
x_{\rm userspace} \\
y_{\rm userspace} \\
1
\end{matrix}
\right]
$$
  </pre>
            </div>

            此外，当它具有嵌套的视口坐标系统时，<a
                href="types.html#__svg__SVGGraphicsElement__getScreenCTM">ScreenCTM</a>（由嵌套CTM生成的转换矩阵，用于将用户坐标转换为输出设备的坐标）也必须通过双精度浮点计算生成。
        </li>
    </ul>

    <p>一个<a href="conform.html#ConformingSVGViewers">符合要求的SVG查看器</a>，如果支持包括<a
            href="conform.html#processing-modes">交互</a>的<a href="conform.html#processing-modes">处理模式</a>，必须支持以下附加功能：</p>
    <ul>

        <li>对于交互式用户环境，必须提供缩放和平移独立SVG文档或嵌入在父XML文档中的SVG文档片段的功能。</li>

        <li>在具有适当用户交互功能的环境中，查看器必须支持激活超链接的能力。</li>

        <li>在Web浏览器环境中，查看器必须能够在SVG内容中搜索和选择文本字符串。</li>

        <li>如果支持显示设备，查看器必须能够从SVG内容中选择并复制文本到系统剪贴板。</li>

        <li>查看器必须满足<a href="https://www.w3.org/TR/UAAG20/"><cite>用户代理无障碍指南2.0</cite></a>的所有适用A级要求[<a
                href="refs.html#ref-uaag20">UAAG20</a>]。鼓励但不要求支持AA级和AAA级特性。</li>
    </ul>

    <p>一个<a href="conform.html#ConformingSVGViewers">符合要求的SVG查看器</a>，如果支持包括<a
            href="conform.html#processing-modes">脚本执行</a>的<a href="conform.html#processing-modes">处理模式</a>，必须支持以下附加功能：
    </p>
    <ul>
        <li>查看器必须是<a
                href="https://www.w3.org/TR/2012/CR-WebIDL-20120419/#dfn-conforming-ecmascript-implementation">符合要求的ECMAScript实现</a>，包括本规范中的所有IDL片段。[<a
                href="refs.html#ref-webidl">WebIDL</a>]</li>
    </ul>

    <p>如果用户代理包含HTML或XHTML查看能力，或者能够对XML文档应用CSS样式属性，则符合要求的SVG查看器必须支持MIME类型为“image/svg+xml”的资源，无论何时可以使用光栅图像外部资源，例如在HTML或XHTML的<span
            class="element-name">‘img’</span>元素中，以及在可以引用光栅图像资源的CSS属性中（例如，‘<span
            class="property">background-image</span>’）。</p>

    <h4 id="PrintingImplementationNotes" class="heading">2.5.5.1. 打印实现说明<a class="self-link"
            href="#PrintingImplementationNotes"></a></h4>

    <p>对于支持缩放显示设备和打印的用户代理，建议默认打印选项生成的打印输出应反映显示设备当前对当前SVG文档片段的视图（假设没有媒体特定样式），并考虑用户进行的任何缩放和平移、当前动画状态以及由于DOM和脚本导致的任何文档更改。
    </p>

    <p>因此，如果用户在显示设备上放大地图的特定区域，然后请求打印，打印应显示与显示设备上相同的地图视图。如果用户暂停动画并打印，打印应显示与当前在显示设备上暂停的图像相同的图形。如果脚本已添加或删除了文档中的元素，则打印应反映显示中相同的更改。
    </p>

    <p>当SVG文档在不支持SVG动画和脚本及功能的静态设备（如打印机）上渲染时，用户代理应忽略文档中的任何动画和脚本元素，并根据本规范中的规则渲染剩余的图形元素。</p>

    <h3 id="ConformingHighQualitySVGViewers" class="heading">2.5.6. 符合高质量SVG查看器<a class="self-link"
            href="#ConformingHighQualitySVGViewers"></a></h3>

    <p>为了使<a href="conform.html#ConformingSVGViewers">符合要求的SVG查看器</a>被视为<dfn>符合高质量的SVG查看器</dfn>，必须支持以下附加功能：</p>

    <ul>
        <li>专业质量的结果，良好的处理和渲染性能，以及流畅、不闪烁的动画。</li>

        <li>在150dpi或更低的低分辨率设备上，支持线条、曲线和文本的平滑边缘。（平滑通常通过抗锯齿技术实现。）</li>

        <li>通过ICC配置文件支持的颜色管理[<a href="refs.html#ref-icc">ICC</a>]（即，支持使用ICC配置文件定义的颜色）[<a
                href="refs.html#ref-css-color-4">css-color-4</a>]</li>

        <li>图像数据的重采样必须符合符合高质量SVG查看器的要求，这些要求在属性<a class="property"
                href="painting.html#ImageRenderingProperty">image-rendering</a>的描述中进行了说明。</li>

        <li>坐标系统转换的数值计算必须至少使用双精度浮点运算。</li>
    </ul>

    <p>一个<a href="conform.html#ConformingSVGViewers">符合高质量SVG查看器</a>，如果支持包括<a
            href="conform.html#processing-modes">脚本执行</a>、<a href="conform.html#processing-modes">声明性动画</a>或<a
            href="conform.html#processing-modes">交互</a>的<a href="conform.html#processing-modes">处理模式</a>，必须支持以下附加功能：</p>
    <ul>
        <li>渐进渲染和动画效果（即，文档的开始部分将在下载其余文档的同时开始出现，动画将开始运行）。</li>

        <li>受限的屏幕更新（即，仅在重绘事件响应中更新显示的必要区域）。</li>
    </ul>

    <p>一个<a href="conform.html#ConformingSVGViewers">符合高质量SVG查看器</a>，如果支持包括<a
            href="conform.html#processing-modes">交互</a>的<a href="conform.html#processing-modes">处理模式</a>，必须支持以下附加功能：</p>
    <ul>
        <li>从Web服务器检索的图像和字体的后台下载，并在下载完成后更新显示。</li>
    </ul>
    <script src="//www.w3.org/scripts/TR/2016/fixup.js"></script>
    <script src="/dropdown.js"></script>
</body>

</html>