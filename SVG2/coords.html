<!DOCTYPE html>

<!--
  Scalable Vector Graphics (SVG) 2
  Chapter 8: Coordinate Systems, Transformations and Units

  Note: This document is generated from ../master/coords.html.
  Run "make" from the root of the repository to regenerate it.
  -->

<html lang="zh-hans" xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="UTF-8">
  <title>坐标系统、变换和单位 — SVG 2</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Style sheets for local dev. Will be standardized in processing.
  Add attribute data-keep="" to any extra stylesheet link you do not want removed
  (or use <style>), and include it before here. -->


  <link rel="stylesheet" title="Default" href="https://www.w3.org/TR/SVG2/style/svg.css" type="text/css" media="screen">
  <link rel="alternate stylesheet" title="Only annotations for publication"
    href="https://www.w3.org/TR/SVG2/style/default_no_maturity.css" type="text/css" media="screen">
  <link rel="alternate stylesheet" title="No issues/annotations"
    href="https://www.w3.org/TR/SVG2/style/default_no_issues.css" type="text/css" media="screen">
  <link rel="stylesheet" href="//www.w3.org/StyleSheets/TR/2016/W3C-ED" type="text/css" media="screen">
  <script src="https://www.w3.org/TR/SVG2/style/link-fixup.js"></script>
  <script data-script-mathjax="" async=""
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_SVG"></script>
</head>

<body class="chapter-coords">

  <h1>第 8 章：坐标系统、变换和单位</h1>
  <nav id="toc">
    <div class="header top"><a href="Overview.html">概述</a> . <a href="geometry.html">上一页</a> . <a
        href="paths.html">下一页</a> . <a href="eltindex.html">元素</a> . <a href="attindex.html">属性</a> . <a
        href="propidx.html">特性</a></div>
    <h2 id="Contents" class="contents">内容</h2>
    <ol class="toc">
      <li>
        <ol class="toc">
          <li><a href="coords.html#Introduction"><span class="secno">8.1.</span> 引言</a></li>
          <li><a href="coords.html#ComputingAViewportsTransform"><span class="secno">8.2.</span> 计算 SVG 视口的等效变换</a></li>
          <li><a href="coords.html#ViewportSpace"><span class="secno">8.3.</span> 初始视口</a></li>
          <li><a href="coords.html#InitialCoordinateSystem"><span class="secno">8.4.</span> 初始坐标系统</a></li>
          <li><a href="coords.html#TransformProperty"><span class="secno">8.5.</span> ‘<span
                class="property">transform</span>’ 属性</a></li>
          <li><a href="coords.html#ViewBoxAttribute"><span class="secno">8.6.</span> <span
                class="attr-name">‘viewBox’</span> 属性</a></li>
          <li><a href="coords.html#PreserveAspectRatioAttribute"><span class="secno">8.7.</span> <span
                class="attr-name">‘preserveAspectRatio’</span> 属性</a></li>
          <li><a href="coords.html#EstablishingANewSVGViewport"><span class="secno">8.8.</span> 建立新的 SVG 视口</a></li>
          <li><a href="coords.html#Units"><span class="secno">8.9.</span> 单位</a></li>
          <li><a href="coords.html#BoundingBoxes"><span class="secno">8.10.</span> 边界框</a></li>
          <li><a href="coords.html#ObjectBoundingBoxUnits"><span class="secno">8.11.</span> 对象边界框单位</a></li>
          <li><a href="coords.html#SizingSVGInCSS"><span class="secno">8.12.</span> SVG 内容的固有尺寸属性</a></li>
          <li><a href="coords.html#VectorEffects"><span class="secno">8.13.</span> 向量效果</a>
            <ol class="toc">
              <li><a href="coords.html#VectorEffectsCalculation"><span class="secno">8.13.1.</span> 计算向量效果</a></li>
              <li><a href="coords.html#NestedVectorEffectsCalculation"><span class="secno">8.13.2.</span>
                  计算嵌套视口坐标系统的向量效果</a></li>
              <li><a href="coords.html#VectorEffectsExamples"><span class="secno">8.13.3.</span> 向量效果示例</a></li>
            </ol>
          </li>
          <li><a href="coords.html#DOMInterfaces"><span class="secno">8.14.</span> DOM 接口</a>
            <ol class="toc">
              <li><a href="coords.html#InterfaceSVGTransform"><span class="secno">8.14.1.</span> 接口 SVGTransform</a>
              </li>
              <li><a href="coords.html#InterfaceSVGTransformList"><span class="secno">8.14.2.</span> 接口
                  SVGTransformList</a></li>
              <li><a href="coords.html#InterfaceSVGAnimatedTransformList"><span class="secno">8.14.3.</span> 接口
                  SVGAnimatedTransformList</a></li>
              <li><a href="coords.html#InterfaceSVGPreserveAspectRatio"><span class="secno">8.14.4.</span> 接口
                  SVGPreserveAspectRatio</a></li>
              <li><a href="coords.html#InterfaceSVGAnimatedPreserveAspectRatio"><span class="secno">8.14.5.</span> 接口
                  SVGAnimatedPreserveAspectRatio</a></li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </nav>

  <h2 id="Introduction" class="heading">8.1. 引言<a class="self-link" href="#Introduction"></a></h2>
  <div class="ready-for-wider-review">

    <p>所有 SVG 内容均绘制在
      <dfn id="TermSVGViewport" data-dfn-type="dfn" data-export="">SVG 视口</dfn>内。
      每个 SVG 视口定义了一个绘图区域，其特征包括大小
      （宽度、高度）和原点，单位为抽象的
      <dfn id="TermUserUnits" data-dfn-type="dfn" data-export="">用户单位</dfn>。
    </p>

    <p class="note">请注意，SVG 视口一词与
      <a href="https://www.w3.org/TR/2011/REC-CSS2-20110607/visuren.html#viewport">CSS 中的 "视口"</a>
      一词是不同的。
    </p>

    <p><dfn id="TermInitialViewport" data-dfn-type="dfn" data-export="">初始视口</dfn>是一个顶级
      SVG 视口，它在包含环境（例如，Web 浏览器中的 CSS 像素）和
      <a href="coords.html#TermUserUnits">用户单位</a>之间建立映射。建立初始视口的详细信息在
      <a href="#ViewportSpace">初始视口</a>中描述。
    </p>

    <p>SVG 视口仅由元素建立。有关哪些元素生成视口的信息，请参见
      <a href="#EstablishingANewSVGViewport">建立新的 SVG 视口</a>。
    </p>

    <p>每个 SVG 视口生成一个
      <dfn id="TermViewportCoordinateSystem" data-dfn-type="dfn" data-export="">视口坐标系统</dfn>
      和一个 <dfn id="TermUserCoordinateSystem" data-dfn-type="dfn" data-export="">用户坐标系统</dfn>，
      初始时是相同的。
      在视口元素上提供 <span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>
      会相对于视口坐标系统转换用户坐标系统，具体描述见
      <span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span> 属性。
      视口的子元素可以进一步修改
      <a href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a>，例如通过指定
      <a class="property" href="coords.html#TransformProperty">transform</a> 属性。
    </p>

    <p>SVG 视口可以嵌套。百分比单位是相对于最近的祖先 SVG 视口的宽度和高度来解析的。
      因此，嵌套 SVG 视口提供了重新定义百分比单位含义的机会，并为“适应”相对于特定矩形区域的图形提供了新的参考矩形。
    </p>

    <p>SVG 视口的宽度、高度和原点由生成 SVG 视口的 SVG 文档片段与该片段的父元素（无论是真实的还是隐式的）之间的协商过程确定。
      有关该协商过程的描述，请参见
      <a href="#EstablishingANewSVGViewport">建立新的 SVG 视口</a>。
    </p>

    <p>默认情况下，嵌套 SVG 视口的 <a href="coords.html#TermViewportCoordinateSystem">视口坐标系统</a>
      等价于父元素的局部坐标系统，由 SVG 视口元素的原点进行平移。然而，SVG 视口元素上的
      <a class="property" href="coords.html#TransformProperty">transform</a> 属性将修改
      <a href="coords.html#TermViewportCoordinateSystem">视口坐标系统</a>，相对于父元素的用户坐标系统。
    </p>

    <p>抽象而言，所有 SVG 视口都嵌入在
      <dfn id="TermCanvas" data-dfn-type="dfn" data-export="">画布</dfn>中，
      这是一个在所有相关维度上无限大的绘图区域。
    </p>

    <h2 id="ComputingAViewportsTransform" class="heading">8.2. 计算 SVG 视口的等效变换<a class="self-link"
        href="#ComputingAViewportsTransform"></a></h2>

    <p>该过程将 viewBox 属性的 min-x、min-y、宽度和高度值、定义 viewBox 属性的元素的位置和大小，以及该元素的 preserveAspectRatio 属性值转换为应用于该元素包含的内容的平移和缩放。
    </p>

    <ol class="algorithm">
      <li>让 <var>vb-x</var>、<var>vb-y</var>、<var>vb-width</var>、<var>vb-height</var> 分别为 viewBox 属性的 min-x、min-y、宽度和高度值。
      </li>
      <li>让 <var>e-x</var>、<var>e-y</var>、<var>e-width</var>、<var>e-height</var> 分别为元素的位置和大小。</li>
      <li>让 <var>align</var> 为 preserveAspectRatio 的对齐值，如果未定义则为 'xMidYMid'。</li>
      <li>让 <var>meetOrSlice</var> 为 preserveAspectRatio 的 meetOrSlice 值，如果未定义或缺少此值则为 'meet'。</li>
      <li>将 <var>scale-x</var> 初始化为 <var>e-width</var>/<var>vb-width</var>。</li>
      <li>将 <var>scale-y</var> 初始化为 <var>e-height</var>/<var>vb-height</var>。</li>
      <li>如果 <var>align</var> 不是 'none' 且 <var>meetOrSlice</var> 是 'meet'，则将 <var>scale-x</var> 和 <var>scale-y</var>
        中的较大值设置为较小值。</li>
      <li>否则，如果 <var>align</var> 不是 'none' 且 <var>meetOrSlice</var> 是 'slice'，则将 <var>scale-x</var> 和 <var>scale-y</var>
        中的较小值设置为较大值。</li>
      <li>将 <var>translate-x</var> 初始化为 <var>e-x</var> - (<var>vb-x</var> * scale-x)。</li>
      <li>将 <var>translate-y</var> 初始化为 <var>e-y</var> - (<var>vb-y</var> * scale-y)</li>
      <li>如果 <var>align</var> 包含 'xMid'，则将 (<var>e-width</var> - <var>vb-width</var> * <var>scale-x</var>) / 2 加到
        <var>translate-x</var>。
      </li>
      <li>如果 <var>align</var> 包含 'xMax'，则将 (<var>e-width</var> - <var>vb-width</var> * <var>scale-x</var>) 加到
        <var>translate-x</var>。
      </li>
      <li>如果 <var>align</var> 包含 'yMid'，则将 (<var>e-height</var> - <var>vb-height</var> * <var>scale-y</var>) / 2 加到
        <var>translate-y</var>。
      </li>
      <li>如果 <var>align</var> 包含 'yMax'，则将 (<var>e-height</var> - <var>vb-height</var> * <var>scale-y</var>) 加到
        <var>translate-y</var>。
      </li>
    </ol>

    <p>应用于该元素包含的内容的变换为
      translate(<var>translate-x</var>, <var>translate-y</var>) scale(<var>scale-x</var>, <var>scale-y</var>)。</p>

  </div>

  <h2 id="ViewportSpace" class="heading">8.3. 初始视口<a class="self-link" href="#ViewportSpace"></a></h2>

  <p>初始视口的宽度必须是 <a class="property" href="geometry.html#Sizing">width</a>
    呈现属性在 <a href="struct.html#TermOutermostSVGElement">最外层 svg 元素</a> 上的值，除非满足以下条件：</p>

  <ul>
    <li>SVG 内容是一个通过引用嵌入的单独存储资源（例如 HTML 中的 <span class="element-name">‘object’</span> 元素），或者 SVG 内容是内嵌在包含文档中的；</li>

    <li>并且引用元素或包含文档使用 CSS 样式 [<a href="refs.html#ref-css2">CSS2</a>]；</li>

    <li>并且在引用元素（例如 <span class="element-name">‘object’</span> 元素）或包含文档的 <a
        href="struct.html#TermOutermostSVGElement">最外层 svg 元素</a> 上指定了足够的 <a
        href="https://www.w3.org/TR/2011/REC-CSS2-20110607/visuren.html#positioning-scheme">CSS 兼容定位属性</a>
      ([<a href="refs.html#ref-css2">CSS2</a>]，第 9.3 节），以确定视口的宽度。</li>
  </ul>

  <p>在这些条件下，视口的宽度必须通过定位属性来建立。</p>

  <p>同样，如果在引用元素或 <a href="struct.html#TermOutermostSVGElement">最外层 svg 元素</a> 上指定了足够的 <a
      href="https://www.w3.org/TR/2011/REC-CSS2-20110607/visuren.html#positioning-scheme">定位属性</a>
    来确定视口的高度，则这些定位属性必须建立视口的高度；否则，初始视口的高度必须是 <a class="property" href="geometry.html#Sizing">height</a>
    呈现属性在 <a href="struct.html#TermOutermostSVGElement">最外层 svg 元素</a> 上的值。</p>

  <p>如果 <a class="property" href="geometry.html#Sizing">width</a> 或 <a class="property"
      href="geometry.html#Sizing">height</a>
    呈现属性在 <a href="struct.html#TermOutermostSVGElement">最外层 svg 元素</a>
    上是以 <a href="coords.html#TermUserUnits">用户单位</a> 为单位（即没有提供单位标识符），则该值被认为等同于相同数量的 "px" 单位（见 <a
      href="coords.html#Units">单位</a>）。</p>

  <div class="example">
    <p>在以下示例中，一个 SVG 图形被内嵌在一个使用 CSS 布局规则格式化的父 XML 文档中。由于在 <a href="struct.html#TermOutermostSVGElement">最外层 svg 元素</a>
      上未提供 CSS 定位属性，
      因此 <span class="attr-value">width="100px"</span> 和
      <span class="attr-value">height="200px"</span> 属性
      决定了初始视口的大小：
    </p>

    <pre>
&lt;?xml version="1.0" standalone="yes"?>
&lt;parent xmlns="http://some.url">

   &lt;!-- SVG graphic -->
   &lt;svg xmlns='http://www.w3.org/2000/svg'
      width="100px" height="200px">
      &lt;path d="M100,100 Q200,400,300,100">
      &lt;!-- 其余的 SVG 图形将在此处 -->
   &lt;/svg>

&lt;/parent>
</pre>
  </div>

  <h2 id="InitialCoordinateSystem" class="heading">8.4. 初始坐标系统<a class="self-link" href="#InitialCoordinateSystem"></a>
  </h2>

  <p>对于 <a href="struct.html#TermOutermostSVGElement">最外层 svg 元素</a>，SVG 用户代理必须确定一个初始 <a
      href="coords.html#TermViewportCoordinateSystem">视口坐标系统</a>
    和一个初始 <a
      href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a>，使得这两个坐标系统是相同的。两个坐标系统的原点必须位于 SVG
    视口的原点，并且初始坐标系统中的一个单位必须等于一个 <a href="https://www.w3.org/TR/2011/REC-CSS2-20110607/syndata.html#length-units">CSS 2.1
      px</a>
    （[<a href="refs.html#ref-css2">CSS2</a>], 第 4.3.2 节）在 SVG 视口中。</p>

  <p>在独立的 SVG 文档和嵌入在父文档中的 SVG 文档片段（通过引用或内嵌）中，父文档的布局由 CSS [<a href="refs.html#ref-css2">CSS2</a>] 确定，初始视口
    坐标系统（因此初始用户坐标系统）的原点必须位于视口的顶部/左侧，正 x 轴指向右侧，正 y 轴指向下方，文本以“直立”方向呈现，这意味着字形的顶部边缘朝上，右边缘朝右。</p>

  <p>如果 SVG 实现是支持使用 CSS 2.1 兼容 <em>px</em> 单位样式文档的用户代理的一部分，则 SVG 用户代理应将其
    <em>px</em> 单位的初始值设置为与其他样式操作使用的值匹配；否则，如果用户代理可以从其环境中确定 <em>px</em> 单位的大小，则应使用该值；否则，应该选择一个适合的 <em>px</em>
    单位大小。在所有情况下，<em>px</em> 的大小必须符合 <a href="https://www.w3.org/TR/CSS2/syndata.html#length-units">CSS 2.1 中描述的规则</a>
    （[<a href="refs.html#ref-css2">CSS2</a>], 第 4.3.2 节）。
  </p>

  <p id="ExampleInitialCoords"><span class="example-ref">示例 InitialCoords</span> 显示初始坐标系统的原点位于顶部/左侧，x 轴指向右侧，y
    轴指向下方。初始用户坐标系统中的一个用户单位等于父（隐式或显式）用户代理的“像素”。</p>

  <div class="example">
    <pre class="xml">&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="300px" height="100px" version="1.1"
     xmlns="http://www.w3.org/2000/svg">
  &lt;desc>示例 InitialCoords - SVG 的初始坐标系统&lt;/desc>

  &lt;g fill="none" stroke="black" stroke-width="3" >
    &lt;line x1="0" y1="1.5" x2="300" y2="1.5" />
    &lt;line x1="1.5" y1="0" x2="1.5" y2="100" />
  &lt;/g>
  &lt;g fill="red" stroke="none" >
    &lt;rect x="0" y="0" width="3" height="3" />
    &lt;rect x="297" y="0" width="3" height="3" />
    &lt;rect x="0" y="97" width="3" height="3" />
  &lt;/g>
  &lt;g font-size="14" font-family="Verdana" >
    &lt;text x="10" y="20">(0,0)&lt;/text>
    &lt;text x="240" y="20">(300,0)&lt;/text>
    &lt;text x="10" y="90">(0,100)&lt;/text>
  &lt;/g>
&lt;/svg></pre>
    <div class="figure"><img alt="示例 InitialCoords — SVG 的初始坐标系统"
        src="https://www.w3.org/TR/SVG2/images/coords/InitialCoords.png">
      <p class="caption">示例 InitialCoords</p>
    </div>
    <p class="view-as-svg"><a href="images/coords/InitialCoords.svg">将此示例作为 SVG 查看（仅限支持 SVG 的浏览器）</a></p>
  </div>

  <div class="ready-for-wider-review">

    <h2 id="TransformProperty" class="heading">8.5. ‘<span class="property">transform</span>’ 属性<a class="self-link"
        href="#TransformProperty"></a></h2>

    <p>
      用户代理必须支持 <a class="property" href="coords.html#TransformProperty">transform</a> 属性和
      呈现属性，如 [<a href="refs.html#ref-css-transforms-1">css-transforms-1</a>] 中定义的那样。</p>

    <h2 id="ViewBoxAttribute" class="heading">8.6. <span class="attr-name">‘viewBox’</span> 属性<a class="self-link"
        href="#ViewBoxAttribute"></a></h2>

    <dl class="attrdef-list">
      <dt>
        <table class="attrdef def">
          <tr>
            <th>名称</th>
            <th>值</th>
            <th>初始值</th>
            <th>可动画</th>
          </tr>
          <tr>
            <td><dfn id="TermViewBox" data-dfn-type="element-attr" data-dfn-for="svg" data-export="">viewBox</dfn></td>
            <td>[<span class="attr-value">&lt;min-x></span>,?
              <span class="attr-value">&lt;min-y></span>,?
              <span class="attr-value">&lt;width></span>,?
              <span class="attr-value">&lt;height></span>]
            </td>
            <td>未指定的情况。</td>
            <td>是</td>
          </tr>
        </table>
      </dt>
      <dd>
        <pre>&lt;min-x>, &lt;min-y>, &lt;width>, &lt;height> = <a href="https://www.w3.org/TR/css3-values/#numbers">&lt;number></a></pre>
      </dd>
    </dl>

    <p class="annotation">对<span class="element-name">‘<a
          href="struct.html#SVGElement"><span>svg</span></a>’</span>元素的变换有点特殊，因为<span class="attr-name">‘<a
          href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>属性。变换应当应用于<span class="element-name">‘<a
          href="struct.html#SVGElement"><span>svg</span></a>’</span>仿佛其有一个设置了该变换的父元素。
      <br><br><a
        href="https://www.w3.org/2015/01/08-svg-minutes.html">决议：变换属性在概念上适用于'`svg`'元素外部，且在视觉效果上没有展示属性和样式属性的区别</a>。
    </p>

    <p class="note">与<span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>
      属性结合使用的<span class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>属性，
      提供了将SVG视口拉伸以适应特定容器元素的能力。
    </p>

    <p><span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>
      属性的值是一个由四个数字<span class="attr-value">&lt;min-x></span>、<span class="attr-value">&lt;min-y></span>、<span
        class="attr-value">&lt;width></span>和<span
        class="attr-value">&lt;height></span>组成的列表，数字之间用空格和/或逗号分隔，指定一个用户空间中的矩形，该矩形应映射到给定元素建立的SVG视口的边界，考虑到<span
        class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>属性。
      <span class="attr-name">‘<a
          href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>属性的存在导致对视口坐标系统应用变换，具体描述见<a
        href="#ComputingAViewportsTransform">计算SVG视口的等效变换</a>。
    </p>

    <p><span class="attr-value">&lt;width></span>或
      <span class="attr-value">&lt;height></span>的负值是错误的，会使<span class="attr-name">‘<a
          href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>属性无效。零值禁用元素的渲染。
    </p>

    <div class="example">
      <p id="ExampleViewBox"><span class="example-ref">示例 ViewBox</span> 说明了在<a
          href="struct.html#TermOutermostSVGElement">最外层svg元素</a>上使用<span class="attr-name">‘<a
            href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>属性来指定SVG内容应拉伸以适应SVG视口的边界。</p>

      <pre>
&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="300px" height="200px"
     viewBox="0 0 1500 1000" preserveAspectRatio="none"
     xmlns="http://www.w3.org/2000/svg">
  &lt;desc>示例 ViewBox - 使用 viewBox
   属性自动创建一个初始用户坐标系统，使得图形无论SVG视口的大小如何，都能缩放以适应SVG视口。&lt;/desc>
  &lt;!-- 该矩形在用户坐标系统中从(0,0)到(1500,1000)。
       因为上面的viewBox属性，该矩形将填充为SVG内容保留的整个区域。 -->
  &lt;rect x="0" y="0" width="1500" height="1000"
        fill="yellow" stroke="blue" stroke-width="12"  />
  &lt;!-- 一个大型红色三角形 -->
  &lt;path fill="red"  d="M 750,100 L 250,900 L 1250,900 z">
  &lt;!-- 一串跨越大部分SVG视口的文本 -->
  &lt;text x="100" y="600" font-size="200" font-family="Verdana" >
    拉伸以适应
  &lt;/text>
&lt;/svg>
</pre>

      <table>
        <caption>
          示例 ViewBox
        </caption>
        <tr>
          <th>渲染到<br>
            SVG视口，<br>
            宽度=300px,<br>
            高度=200px</th>
          <th>     </th>
          <th>渲染到<br>
            SVG视口，<br>
            宽度=150px,<br>
            高度=200px</th>
        </tr>
        <tr>
          <td><img alt="示例 ViewBox - 拉伸以适应300x200" src="https://www.w3.org/TR/SVG2/images/coords/ViewBox.png"
              width="300" height="200"></td>
          <td>     </td>
          <td><img alt="示例 ViewBox - 拉伸以适应150x200" src="https://www.w3.org/TR/SVG2/images/coords/ViewBox-Width150.png"
              width="150" height="200"></td>
        </tr>
      </table>

      <p class="view-as-svg"><a href="images/coords/ViewBox.svg">以SVG格式查看此示例（仅支持SVG的浏览器）</a><br>
         </p>

      <p><span class="attr-name">‘<a
            href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>属性的效果是用户代理自动提供适当的变换矩阵，将指定的用户坐标系统中的矩形映射到指定区域的边界（通常是SVG视口）。为了实现左侧示例的效果，SVG视口尺寸为300x200像素，用户代理需要自动插入一个将X和Y均缩放0.2的变换。这个效果等同于有一个300px宽和200px高的SVG视口，以及以下补充变换：
      </p>

      <pre>
&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="300px" height="200px"
     xmlns="http://www.w3.org/2000/svg">
  <strong>&lt;g transform="scale(0.2)"></strong>
    &lt;!-- 其余文档内容在此 -->
  <strong>&lt;/g></strong>
&lt;/svg>
</pre>

      <p>为了实现右侧示例的效果，SVG视口尺寸为150x200像素，用户代理需要自动插入一个将X缩放0.1和Y缩放0.2的变换。这个效果等同于有一个150px宽和200px高的SVG视口，以及以下补充变换：</p>

      <pre>
&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="150px" height="200px"
     xmlns="http://www.w3.org/2000/svg">
  <strong>&lt;g transform="scale(0.1 0.2)"></strong>
    &lt;!-- 其余文档内容在此 -->
  <strong>&lt;/g></strong>
&lt;/svg>
</pre>
    </div>

    <div class="note">
      <p>请注意，在某些情况下，用户代理需要提供一个
        <strong>translate</strong> 变换，除了
        <strong>scale</strong> 变换。例如，在一个
        <a href="struct.html#TermOutermostSVGElement">最外层 svg 元素</a>上，如果
        <span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span> 属性
        指定了非零的
        <span class="attr-value">&lt;min-x></span> 或 <span class="attr-value">&lt;min-y></span> 值，则需要
        <strong>translate</strong> 变换。
      </p>
    </div>

    <p>如果同时应用了 <a class="property" href="coords.html#TransformProperty">transform</a>（或 <span class="attr-name">‘<a
          href="pservers.html#PatternElementPatternTransformAttribute"><span>patternTransform</span></a>’</span>）
      和 <span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>，
      则会建立两个新的坐标系统。<a class="property" href="coords.html#TransformProperty">transform</a> 为元素建立第一个新的
      坐标系统。<span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>
      为该元素的所有后代建立第二个坐标系统。第一个坐标系统会被第二个坐标系统后乘。
    </p>

    <p id="ViewBoxAttributeEffectOnSiblingAttributes">与
      <a class="property" href="coords.html#TransformProperty">transform</a> 属性不同，
      由于 <span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span> 创建的自动变换
      不会影响
      <span class="attr-name">‘x’</span>、<span class="attr-name">‘y’</span>、<span class="attr-name">‘width’</span>
      和 <span class="attr-name">‘height’</span> 属性（或在 <span class="element-name">‘<a
          href="painting.html#MarkerElement"><span>marker</span></a>’</span> 元素的情况下，
      <span class="attr-name">‘<a href="painting.html#MarkerWidthAttribute"><span>markerWidth</span></a>’</span> 和
      <span class="attr-name">‘<a href="painting.html#MarkerHeightAttribute"><span>markerHeight</span></a>’</span>
      属性）在具有 <span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>
      属性的元素上。因此，在上面的示例中，展示了一个
      <span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span> 元素，其具有
      <a class="property" href="geometry.html#Sizing">width</a> 和 <a class="property"
        href="geometry.html#Sizing">height</a> 表现属性，以及一个 <span class="attr-name">‘<a
          href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span> 属性，
      <a class="property" href="geometry.html#Sizing">width</a> 和 <a class="property"
        href="geometry.html#Sizing">height</a>
      表示在 <em>应用</em> <span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>
      变换之前
      存在的坐标系统中的值。另一方面，像 <a class="property" href="coords.html#TransformProperty">transform</a> 属性一样，它确实为所有其他属性和
      后代元素建立了一个新的坐标系统。
    </p>

    <h2 id="PreserveAspectRatioAttribute" class="heading">8.7. <span class="attr-name">‘preserveAspectRatio’</span>
      属性<a class="self-link" href="#PreserveAspectRatioAttribute"></a></h2>

    <dl class="attrdef-list">
      <dt>
        <table class="attrdef def">
          <tr>
            <th>名称</th>
            <th>值</th>
            <th>初始值</th>
            <th>可动画</th>
          </tr>
          <tr>
            <td><dfn id="TermPreserveAspectRatio" data-dfn-type="element-attr" data-dfn-for="svg"
                data-export="">preserveAspectRatio</dfn></td>
            <td><span class="attr-value">&lt;align></span> <span class="attr-value">&lt;meetOrSlice></span>?</td>
            <td>xMidYMid meet</td>
            <td>是</td>
          </tr>
        </table>
      </dt>
      <dd>
        <pre>&lt;align> =
    none
    | xMinYMin | xMidYMin | xMaxYMin
    | xMinYMid | xMidYMid | xMaxYMid
    | xMinYMax | xMidYMax | xMaxYMax</pre>
        <pre>&lt;meetOrSlice> = meet | slice</pre>
        <p>指示是否强制均匀缩放。适用于所有建立新SVG视口的元素（参见<a href="coords.html#ElementsThatEstablishViewports">建立SVG视口的元素</a>），以及
          <span class="element-name">‘<a href="embedded.html#ImageElement"><span>image</span></a>’</span>、
          <span class="element-name">‘<a href="painting.html#MarkerElement"><span>marker</span></a>’</span>、
          <span class="element-name">‘<a href="pservers.html#PatternElement"><span>pattern</span></a>’</span>和
          <span class="element-name">‘<a href="linking.html#ViewElement"><span>view</span></a>’</span>元素
        </p>
      </dd>
    </dl>

    <p>在某些情况下，通常在使用<span class="attr-name">‘<a
          href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>属性时，希望图形伸展以不均匀地填充整个SVG视口。在其他情况下，希望使用均匀缩放，以保持图形的宽高比。
    </p>

    <p>对于建立新SVG视口的元素（参见<a href="coords.html#ElementsThatEstablishViewports">建立SVG视口的元素</a>），以及
      <span class="element-name">‘<a href="painting.html#MarkerElement"><span>marker</span></a>’</span>、
      <span class="element-name">‘<a href="pservers.html#PatternElement"><span>pattern</span></a>’</span>和
      <span class="element-name">‘<a href="linking.html#ViewElement"><span>view</span></a>’</span>元素，
      <span class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>仅在同一元素的<span
        class="attr-name">‘<a
          href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>上提供值时适用。对于这些元素，如果未提供<span
        class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>属性，则<span
        class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>将被忽略。
    </p>

    <p>对于<span class="element-name">‘<a href="embedded.html#ImageElement"><span>image</span></a>’</span>元素，
      <span class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>指示参考图像应如何根据参考矩形进行适配，以及是否应保持参考图像相对于当前用户坐标系统的宽高比。
    </p>

    <p id="DataTypeAlign">参数<span class="attr-value">&lt;align></span>指示是否强制均匀缩放，以及如果强制，则在宽高比不匹配SVG视口时使用的对齐方法。参数<span
        class="attr-value">&lt;align></span>必须是以下字符串之一：</p>

    <ul>
      <li><span class="attr-value">none</span> - 不强制均匀缩放。必要时非均匀缩放给定元素的图形内容，使该元素的边界框恰好与SVG视口矩形匹配。<br>
        （注意：如果<span class="attr-value">&lt;align></span>为<span class="attr-value">none</span>，则可选的<span
          class="attr-value">&lt;meetOrSlice></span>值将被忽略。）
      </li>

      <li><span class="attr-value">xMinYMin</span> - 强制均匀缩放。<br>
        将元素的<span class="attr-value">&lt;min-x></span>与SVG视口的最小X值对齐。<br>
        将元素的<span class="attr-value">&lt;min-y></span>与SVG视口的最小Y值对齐。</li>

      <li><span class="attr-value">xMidYMin</span> - 强制均匀缩放。<br>
        将元素的<span class="attr-name">‘<a
            href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>的中点X值与SVG视口的中点X值对齐。<br>
        将元素的<span class="attr-value">&lt;min-y></span>与SVG视口的最小Y值对齐。
      </li>

      <li><span class="attr-value">xMaxYMin</span> - 强制均匀缩放。<br>
        将元素的<span class="attr-value">&lt;min-x>+&lt;width></span>与SVG视口的最大X值对齐。<br>
        将元素的<span class="attr-value">&lt;min-y></span>与SVG视口的最小Y值对齐。</li>

      <li><span class="attr-value">xMinYMid</span> - 强制均匀缩放。<br>
        将元素的<span class="attr-value">&lt;min-x></span>与SVG视口的最小X值对齐。<br>
        将元素的中点Y值与SVG视口的中点Y值对齐。</li>

      <li><span class="attr-value">xMidYMid</span>（<a href="types.html#TermInitialValue">初始值</a>） - 强制均匀缩放。<br>
        将元素的中点X值与SVG视口的中点X值对齐。<br>
        将元素的中点Y值与SVG视口的中点Y值对齐。</li>

      <li><span class="attr-value">xMaxYMid</span> - 强制均匀缩放。<br>
        将元素的<span class="attr-value">&lt;min-x>+&lt;width></span>与SVG视口的最大X值对齐。<br>
        将元素的中点Y值与SVG视口的中点Y值对齐。</li>

      <li><span class="attr-value">xMinYMax</span> - 强制均匀缩放。<br>
        将元素的<span class="attr-value">&lt;min-x></span>与SVG视口的最小X值对齐。<br>
        将元素的<span class="attr-value">&lt;min-y>+&lt;height></span>与SVG视口的最大Y值对齐。</li>

      <li><span class="attr-value">xMidYMax</span> - 强制均匀缩放。<br>
        将元素的中点X值与SVG视口的中点X值对齐。<br>
        将元素的<span class="attr-value">&lt;min-y>+&lt;height></span>与SVG视口的最大Y值对齐。</li>

      <li><span class="attr-value">xMaxYMax</span> - 强制均匀缩放。<br>
        将元素的<span class="attr-value">&lt;min-x>+&lt;width></span>与SVG视口的最大X值对齐。<br>
        将元素的<span class="attr-value">&lt;min-y>+&lt;height></span>与SVG视口的最大Y值对齐。</li>
    </ul>

    <p><span class="attr-value">&lt;meetOrSlice></span> 参数是可选的，如果提供，它与<span
        class="attr-value">&lt;align></span>值之间用一个或多个空格分隔，然后必须是以下字符串之一：</p>

    <ul>
      <li>
        <p><span class="attr-value">meet</span>（默认值） - 以如下方式缩放图形：</p>

        <ul>
          <li>保持纵横比</li>
          <li>整个<span class="attr-name">‘<a
                href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>在SVG视口内可见</li>
          <li>尽可能多地缩放<span class="attr-name">‘<a
                href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>，同时满足其他条件</li>
        </ul>

        <p>在这种情况下，如果图形的纵横比与SVG视口不匹配，某些SVG视口将超出<span class="attr-name">‘<a
              href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>的边界（即，<span class="attr-name">‘<a
              href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>将绘制的区域将小于SVG视口）。</p>
      </li>

      <li>
        <p><span class="attr-value">slice</span> - 以如下方式缩放图形：</p>

        <ul>
          <li>保持纵横比</li>
          <li>整个SVG视口由<span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>覆盖
          </li>
          <li>尽可能少地缩放<span class="attr-name">‘<a
                href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>，同时满足其他条件</li>
        </ul>

        <p>在这种情况下，如果<span class="attr-name">‘<a
              href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>的纵横比与SVG视口不匹配，部分<span
            class="attr-name">‘<a
              href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>将超出SVG视口的边界（即，<span
            class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>将绘制的区域大于SVG视口）。
        </p>
      </li>
    </ul>

    <div class="example">
      <p id="ExamplePreserveAspectRatio"><span class="example-ref">示例 PreserveAspectRatio</span> 说明了<span
          class="attr-name">‘<a
            href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>的各种选项。示例通过在<a
          href="struct.html#TermOutermostSVGElement">最外层svg元素</a>内部嵌入<span class="element-name">‘<a
            href="struct.html#SVGElement"><span>svg</span></a>’</span>子元素创建几个新的SVG视口（参见<a
          href="coords.html#EstablishingANewSVGViewport">建立新的SVG视口</a>）。</p>

      <pre>﻿&lt;svg width="450px" height="300px" xmlns="http://www.w3.org/2000/svg">

  &lt;desc>示例 PreserveAspectRatio - 说明preserveAspectRatio属性&lt;/desc>

  &lt;style type="text/css">
    text { font-size: 9; }
    rect { fill: none; stroke: blue; }
  &lt;/style>

  &lt;defs>
    &lt;g id="smile">
      &lt;rect x='.5' y='.5' width='29' height='39' style="fill:black;stroke:red">
      &lt;circle cx='15' cy='20' r='10'  fill='yellow'/>
      &lt;circle cx='12' cy='17' r='1.5' fill='black'/>
      &lt;circle cx='17' cy='17' r='1.5' fill='black'/>
      &lt;path d='M 10 24 A 8 8 0 0 0 20 24' stroke='black' stroke-width='2'/>
    &lt;/g>
  &lt;/defs>

  &lt;rect x="1" y="1" width="448" height="298">

  &lt;text x="10" y="30">SVG to fit&lt;/text>
  &lt;g transform="translate(20,40)">&lt;use href="#smile" />&lt;/g>

  &lt;text x="10" y="110">Viewport 1&lt;/text>
  &lt;g transform="translate(10,120)">&lt;rect x='.5' y='.5' width='49' height='29'/>&lt;/g>

  &lt;text x="10" y="180">Viewport 2&lt;/text>
  &lt;g transform="translate(20,190)">&lt;rect x='.5' y='.5' width='29' height='59'/>&lt;/g>

  &lt;g id="meet-group-1" transform="translate(100, 60)">
    &lt;text x="0" y="-30">--------------- meet ---------------&lt;/text>
    &lt;g>
      &lt;text y="-10">xMin*&lt;/text>
      &lt;rect x='.5' y='.5' width='49' height='29'/>
      &lt;svg preserveAspectRatio="xMinYMin meet" viewBox="0 0 30 40" width="50" height="30">
	&lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
    &lt;g transform="translate(70,0)">
      &lt;text y="-10">xMid*&lt;/text>
      &lt;rect x='.5' y='.5' width='49' height='29'/>
      &lt;svg preserveAspectRatio="xMidYMid meet" viewBox="0 0 30 40" width="50" height="30">
	&lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
    &lt;g transform="translate(0,70)">
      &lt;text y="-10">xMax*&lt;/text>
      &lt;rect x='.5' y='.5' width='49' height='29'/>
      &lt;svg preserveAspectRatio="xMaxYMax meet" viewBox="0 0 30 40" width="50" height="30">
        &lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
  &lt;/g>

  &lt;g id="meet-group-2" transform="translate(250, 60)">
    &lt;text x="0" y="-30">---------- meet ----------&lt;/text>
    &lt;g>
      &lt;text y="-10">*YMin&lt;/text>
      &lt;rect  x='.5' y='.5' width='29' height='59'/>
      &lt;svg preserveAspectRatio="xMinYMin meet" viewBox="0 0 30 40" width="30" height="60">
	&lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
    &lt;g transform="translate(50, 0)">
      &lt;text y="-10">*YMid&lt;/text>
      &lt;rect x='.5' y='.5' width='29' height='59'/>
      &lt;svg preserveAspectRatio="xMidYMid meet" viewBox="0 0 30 40" width="30" height="60">
	&lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
    &lt;g transform="translate(100, 0)">
      &lt;text y="-10">*YMax&lt;/text>
      &lt;rect x='.5' y='.5' width='29' height='59'/>
      &lt;svg preserveAspectRatio="xMaxYMax meet" viewBox="0 0 30 40" width="30" height="60">
	&lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
  &lt;/g>

  &lt;g id="slice-group-1" transform="translate(100, 220)">
    &lt;text x="0" y="-30">---------- slice ----------&lt;/text>
    &lt;g>
      &lt;text y="-10">xMin*&lt;/text>
      &lt;rect x='.5' y='.5' width='29' height='59'/>
      &lt;svg preserveAspectRatio="xMinYMin slice" viewBox="0 0 30 40" width="30" height="60">
	&lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
    &lt;g transform="translate(50,0)">
      &lt;text y="-10">xMid*&lt;/text>
      &lt;rect x='.5' y='.5' width='29' height='59'/>
      &lt;svg preserveAspectRatio="xMidYMid slice" viewBox="0 0 30 40" width="30" height="60">
	&lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
    &lt;g transform="translate(100,0)">
      &lt;text y="-10">xMax*&lt;/text>
      &lt;rect x='.5' y='.5' width='29' height='59'/>
      &lt;svg preserveAspectRatio="xMaxYMax slice" viewBox="0 0 30 40" width="30" height="60">
	&lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
  &lt;/g>

  &lt;g id="slice-group-2" transform="translate(250, 220)">
    &lt;text x="0" y="-30">--------------- slice ---------------&lt;/text>
    &lt;g>
      &lt;text y="-10">*YMin&lt;/text>
      &lt;rect x='.5' y='.5' width='49' height='29'/>
      &lt;svg preserveAspectRatio="xMinYMin slice" viewBox="0 0 30 40"
           width="50" height="30">
	&lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
    &lt;g transform="translate(70,0)">
      &lt;text y="-10">*YMid&lt;/text>
      &lt;rect x='.5' y='.5' width='49' height='29'/>
      &lt;svg preserveAspectRatio="xMidYMid slice" viewBox="0 0 30 40" width="50" height="30">
	&lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
    &lt;g transform="translate(140,0)">
      &lt;text y="-10">*YMax&lt;/text>
      &lt;rect x='.5' y='.5' width='49' height='29'/>
      &lt;svg preserveAspectRatio="xMaxYMax slice" viewBox="0 0 30 40" width="50" height="30">
	&lt;use href="#smile" />
      &lt;/svg>
    &lt;/g>
  &lt;/g>
&lt;/svg></pre>
      <div class="figure"><img alt="示例 PreserveAspectRatio — 演示可用选项"
          src="https://www.w3.org/TR/SVG2/images/coords/PreserveAspectRatio.png">
        <p class="caption">示例 PreserveAspectRatio</p>
      </div>
    </div>

    <h2 id="EstablishingANewSVGViewport" class="heading">8.8. 建立新的SVG视口<a class="self-link"
        href="#EstablishingANewSVGViewport"></a></h2>

    <p>在SVG内容中包含一个<span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span>元素
      将创建一个新的SVG视口，所有包含的图形将在此视口中绘制；这隐式地建立了一个新的视口坐标系统和一个新的用户坐标系统。
      此外，由于建立了一个新的SVG视口，因此其中的百分比单位也有了新的含义（参见<a href="coords.html#Units">单位</a>）。</p>

    <p>新的SVG视口的边界由建立新SVG视口的元素上的<span class="attr-name">‘x’</span>、<span class="attr-name">‘y’</span>、<span
        class="attr-name">‘width’</span>和<span class="attr-name">‘height’</span>属性定义，例如一个<span class="element-name">‘<a
          href="struct.html#SVGElement"><span>svg</span></a>’</span>元素。新的视口坐标系统和新的用户坐标系统
      的原点位于（<span class="attr-name">‘x’</span>，<span class="attr-name">‘y’</span>），其中<span
        class="attr-name">‘x’</span>和<span class="attr-name">‘y’</span>表示建立SVG视口的元素上相应属性的值。新的
      视口坐标系统和新的用户坐标系统的方向与建立SVG视口的元素的当前用户坐标系统的方向相对应。
      在新的视口坐标系统和新的用户坐标系统中，一个单位的大小与建立SVG视口的元素的当前用户坐标系统中一个单位的大小相同。</p>

    <div class="example">
      <p>以下是一个示例：</p>

      <pre>
&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="4in" height="3in"
     xmlns="http://www.w3.org/2000/svg">
  &lt;desc>此SVG绘图嵌入另一个，从而建立新的SVG视口
  &lt;/desc>
  &lt;!-- 以下语句建立新的SVG视口
       并将SVG绘图B渲染到该SVG视口 -->
  &lt;svg x="25%" y="25%" width="50%" height="50%">
     &lt;!-- 绘图B在这里 -->
  &lt;/svg>
&lt;/svg>
</pre>

      <p>有关创建新SVG视口的详细示例，请参见<a href="coords.html#ExamplePreserveAspectRatio">示例
          PreserveAspectRatio</a>.</p>
    </div>

    <p id="ElementsThatEstablishViewports">以下元素建立新的SVG视口：</p>

    <ul>
      <li>元素<span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span></li>

      <li>由<span class="element-name">‘<a href="struct.html#SymbolElement"><span>symbol</span></a>’</span>元素实例化的
        <span class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span>元素。
      </li>
    </ul>

    <p class="note">
      出于历史原因，<span class="element-name">‘<a href="pservers.html#PatternElement"><span>pattern</span></a>’</span>和<span
        class="element-name">‘<a href="painting.html#MarkerElement"><span>marker</span></a>’</span>元素
      不会创建新的视口，尽管接受<span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>属性。
      <span class="element-name">‘<a
          href="https://drafts.fxtf.org/css-masking-1/#ClipPathElement"><span>clipPath</span></a>’</span>或<span
        class="element-name">‘<a href="https://drafts.fxtf.org/css-masking-1/#MaskElement"><span>mask</span></a>’</span>
      元素也不例外。
      这些元素内容中的百分比长度与图形效果区域的尺寸不成比例。
    </p>

    <p>
      <span class="element-name">‘<a
          href="embedded.html#ForeignObjectElement"><span>foreignObject</span></a>’</span>元素为其子内容建立一个新的
      <a href="https://www.w3.org/TR/css-position-3/#def-cb">CSS包含块</a>。
      当其回退内容被渲染时，<span class="element-name">‘<a href="embedded.html#HTMLElements"><span>video</span></a>’</span>、<span
        class="element-name">‘<a href="embedded.html#HTMLElements"><span>audio</span></a>’</span>或<span
        class="element-name">‘<a href="embedded.html#HTMLElements"><span>canvas</span></a>’</span>元素也是如此。
      这对布局子内容的范围有类似于新视口的效果。
      然而，为了渲染作为<span class="element-name">‘<a
          href="embedded.html#ForeignObjectElement"><span>foreignObject</span></a>’</span>后代的SVG元素，
      必须有一个新的<span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span>元素
      来建立SVG文档片段和SVG视口。
    </p>
    <p>
      <span class="element-name">‘<a href="embedded.html#ImageElement"><span>image</span></a>’</span>或<span
        class="element-name">‘<a href="embedded.html#HTMLElements"><span>iframe</span></a>’</span>元素创建一个新的
      <a href="https://www.w3.org/TR/css-position-3/#vp">文档视口</a>
      用于引用的文档。
      如果引用的文档是SVG文件，它当然会建立自己的SVG视口。
    </p>

    <p>新的SVG视口是否也建立了新的额外裁剪路径取决于在建立新SVG视口的元素上的<a class="property"
        href="render.html#OverflowAndClipProperties">overflow</a>属性的值。</p>

    <h2 id="Units" class="heading">8.9. 单位<a class="self-link" href="#Units"></a></h2>

    <p>SVG 遵循 CSS 值和单位模块 [<a href="refs.html#ref-css-values-3">css-values</a>] 中对属性、呈现属性和 CSS
      属性的常见值和单位的描述和定义。每个属性和属性必须指定使用的组件值类型。随后或扩展的由 CSS 工作组或 SVG 工作组发布的规范可以扩展基本数据类型或添加新数据类型。</p>

    <p>对于被定义为相对于 SVG 视口大小的 <a href="https://www.w3.org/TR/css3-values/#percentages">&lt;percentage></a> 值：</p>

    <ul class="ready-for-wider-review">
      <li>对于作为 SVG 视口的 <a href="coords.html#TermSVGViewport">SVG 视口</a> 的百分比表示的任何 x 坐标值或宽度值，使用的值必须是该视口的 <span
          class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>
        的宽度参数的用户单位的百分比。如果没有指定 <span class="attr-name">‘<a
            href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>，那么使用的值必须是 SVG 视口的宽度的用户单位的百分比。</li>
      <li>对于作为 SVG 视口的 <a href="coords.html#TermSVGViewport">SVG 视口</a> 的百分比表示的任何 y 坐标值或高度值，使用的值必须是该视口的 <span
          class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>
        的高度参数的用户单位的百分比。如果没有指定 <span class="attr-name">‘<a
            href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>，那么使用的值必须是 SVG 视口的高度的用户单位的百分比。</li>
      <li id="Units_viewport_percentage">对于作为 SVG 视口的 <a href="coords.html#TermSVGViewport">SVG 视口</a>
        的百分比表示的任何其他长度值，百分比必须计算为该视口的 <span class="attr-name">‘<a
            href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span> 的归一化对角线的百分比。如果没有指定 <span
          class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>，那么必须使用 SVG
        视口的归一化对角线长度。归一化对角线长度必须通过 <code>sqrt((<em>width</em>)**2 + (<em>height</em>)**2)/sqrt(2)</code> 计算。</li>
    </ul>

    <div class="example">
      <p id="ExampleUnits"><span class="example-ref">示例单位</span> 下面说明了不同类型单位的一些处理规则。</p>

      <pre>&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="400px" height="200px" viewBox="0 0 4000 2000"
     xmlns="http://www.w3.org/2000/svg">
  &lt;title>示例单位&lt;/title>
  &lt;desc>说明各种单位选项&lt;/desc>

  &lt;!-- 框架 -->
  &lt;rect x="5" y="5" width="3990" height="1990"
        fill="none" stroke="blue" stroke-width="10">

  &lt;g fill="blue" stroke="red" font-family="Verdana" font-size="150">
    &lt;!-- 绝对单位标识符 -->
    &lt;g transform="translate(400,0)">
      &lt;text x="-50" y="300" fill="black" stroke="none">绝对单位：&lt;/text>
      &lt;rect x="0" y="400" width="4in" height="2in" stroke-width=".4in">
      &lt;rect x="0" y="750" width="384" height="192" stroke-width="38.4">
      &lt;g transform="scale(2)">
        &lt;rect x="0" y="600" width="4in" height="2in" stroke-width=".4in">
      &lt;/g>
    &lt;/g>

    &lt;!-- 相对单位标识符 -->
    &lt;g transform="translate(1600,0)">
      &lt;text x="-50" y="300" fill="black" stroke="none">相对单位：&lt;/text>
      &lt;rect x="0" y="400" width="2.5em" height="1.25em" stroke-width=".25em">
      &lt;rect x="0" y="750" width="375" height="187.5" stroke-width="37.5">
      &lt;g transform="scale(2)">
        &lt;rect x="0" y="600" width="2.5em" height="1.25em" stroke-width=".25em">
      &lt;/g>
    &lt;/g>

    &lt;!-- 百分比 -->
    &lt;g transform="translate(2800,0)">
      &lt;text x="-50" y="300" fill="black" stroke="none">百分比：&lt;/text>
      &lt;rect x="0" y="400" width="10%" height="10%" stroke-width="1%">
      &lt;rect x="0" y="750" width="400" height="200" stroke-width="31.62">
      &lt;g transform="scale(2)">
        &lt;rect x="0" y="600" width="10%" height="10%" stroke-width="1%">
      &lt;/g>
    &lt;/g>
  &lt;/g>
&lt;/svg></pre>
      <div class="figure"><img alt="示例单位 — 演示可用选项" src="https://www.w3.org/TR/SVG2/images/coords/Units.png">
        <p class="caption">示例单位</p>
      </div>

      <p>左侧的三个矩形演示了使用绝对单位标识符之一，“in”单位（英寸）。CSS 定义 1 英寸等于 96 像素。因此，最上面的矩形（以英寸为单位）与中间的矩形（以用户单位指定，使得每对应英寸有 96
        用户单位）完全相同。该组底部矩形说明了当以英寸指定的值被缩放时会发生什么。</p>

      <p>中间的三个矩形演示了使用相对单位标识符之一，“em”单位。由于外部 <span class="element-name">‘<a
            href="struct.html#GElement"><span>g</span></a>’</span> 元素的 <a class="property"
          href="https://www.w3.org/TR/css-fonts-3/#font-size-prop">font-size</a> 属性被设置为 <span
          class="prop-value">150</span>，每个“em”单位等于 150 用户单位。顶部矩形（以“em”单位指定）与中间矩形（以用户单位指定，使得每个“em”单位有 150
        用户单位）完全相同。该组底部矩形说明了当以“em”单位指定的值被缩放时会发生什么。</p>

      <p>右侧的三个矩形演示了使用百分比。请注意，SVG 视口的用户坐标系统中的宽度和高度（在这种情况下为 <a href="struct.html#TermOutermostSVGElement">最外层 svg
          元素</a>）分别为 4000 和 2000，因为处理 <span class="attr-name">‘<a
            href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>
        属性会导致用户坐标系统的变换。顶部矩形（以百分比单位指定）与中间矩形（以等效用户单位指定）完全相同。特别注意，中间矩形的 <a class="property"
          href="painting.html#StrokeWidthProperty">stroke-width</a> 属性设置为实际宽度的 1% 的
        <code>sqrt((<em>actual-width</em>)**2 + (<em>actual-height</em>)**2) / sqrt(2)</code>，在这种情况下是
        .01*sqrt(4000*4000+2000*2000)/sqrt(2)，或 31.62。该组底部矩形说明了当以百分比单位指定的值被缩放时会发生什么。
      </p>
    </div>

    <h2 id="BoundingBoxes" class="heading">8.10. 边界框<a class="self-link" href="#BoundingBoxes"></a></h2>

    <dl class="definitions" data-dfn-type="dfn" data-export="">
      <dt id="TermBoundingBox"><dfn id="bounding-box" data-dfn-type="dfn" data-export="">边界框</dfn></dt>
      <dd>
        <p>元素的边界框（或“bbox”）是与该元素用户坐标系统的轴对齐的最紧密的矩形，完全包含该元素及其后代。</p>
      </dd>
    </dl>

    <p>可以为一个元素计算三种类型的边界框：</p>

    <ol>
      <li><dfn id="TermObjectBoundingBox" data-dfn-type="dfn" data-export="">对象边界框</dfn>是仅包含元素几何形状的边界框。对于<a
          href="shapes.html#TermBasicShapeElement">基本形状</a>，这是填充的区域。除非另有说明，否则这就是“边界框”这一未限定术语的含义。</li>

      <li><dfn id="TermStrokeBoundingBox" data-dfn-type="dfn" data-export="">描边边界框</dfn>是包含元素几何形状及其<a
          href="painting.html#TermStrokeShape">描边形状</a>的边界框。</li>

      <li><dfn id="TermDecoratedBoundingBox" data-dfn-type="dfn" data-export="">装饰边界框</dfn>是包含元素几何形状、其<a
          href="painting.html#TermStrokeShape">描边形状</a>和<a href="painting.html#Markers">标记</a>的边界框。</li>
    </ol>

    <p class="note">请注意，元素上的<a class="property" href="render.html#ObjectAndGroupOpacityProperties">不透明度</a>、<a
        class="property" href="render.html#VisibilityControl">可见性</a>、<a class="property"
        href="painting.html#FillProperty">填充</a>、<a class="property"
        href="painting.html#FillOpacityProperty">填充不透明度</a>、<a class="property"
        href="painting.html#FillRuleProperty">填充规则</a>、<a class="property"
        href="painting.html#StrokeDasharrayProperty">描边虚线数组</a>和<a class="property"
        href="painting.html#StrokeDashoffsetProperty">描边虚线偏移</a>属性对元素的边界框没有影响。</p>

    <p>
      对于曲线形状，边界框必须包含形状边缘的所有部分，而不仅仅是端点。请注意，曲线的控制点如果未被定义为位于结果曲线的线条上（例如，立方贝塞尔命令的第二个坐标对）不得对边界框的维度产生影响（尽管这些点可能落在边界框的区域内，如果它们位于形状内部，或者靠近曲线）。例如，距离曲线边缘的非包围侧的控制点必须从边界框中排除。
    </p>

    <div class="figure">
      <img src="https://www.w3.org/TR/SVG2/images/coords/bbox01.svg" alt="显示二次贝塞尔曲线的对象边界框的图像。">
      <p class="caption">路径<span class="attr-value">'M20,50 L35,100 H120 V50 Q70,10
          20,50'</span>以浅蓝色显示。左侧显示了路径的正确对象边界框。请注意，它不包括曲线的最上方控制点，但它包括了所有蓝色形状，甚至是那些位于控制点的凸包外的部分。</p>
    </div>

    <p>即使元素不在<a href="render.html#RenderingTree">渲染树</a>中——因为它被设置为<span class="prop-value">'display:
        none'</span>、位于<span class="element-name">‘<a
          href="struct.html#DefsElement"><span>defs</span></a>’</span>元素中、不通常渲染的<span class="element-name">‘<a
          href="struct.html#SymbolElement"><span>symbol</span></a>’</span>元素，或不在文档树中——它仍然有一个边界框。对元素的<a
        href="types.html#__svg__SVGGraphicsElement__getBBox">getBBox</a>调用将返回与元素被渲染时相同的矩形。然而，不在<a
        href="render.html#RenderingTree">渲染树</a>中的元素不会对任何祖先元素的边界框产生贡献。</p>

    <div class="example">
      <p>以下示例定义了多个元素。每个具有ID的元素的预期<a href="coords.html#TermObjectBoundingBox">对象边界框</a>如下所示。</p>

      <pre>&lt;svg xmlns="http://www.w3.org/2000/svg">

  &lt;title>边界框计算&lt;/title>
  &lt;desc>根据上下文显示不同边界框结果的元素示例。&lt;/desc>

  &lt;defs id="defs-1">
     &lt;rect id="rect-1" x="20" y="20" width="40" height="40" fill="blue" />
  &lt;/defs>

  &lt;g id="group-1">
    &lt;use id="use-1" href="#rect-1" x="10" y="10" />

    &lt;g id="group-2" display="none">
      &lt;rect id="rect-2" x="10" y="10" width="100" height="100" fill="red" />
    &lt;/g>
  &lt;/g>
&lt;/svg></pre>

      <table class="vert">
        <thead>
          <tr>
            <th>元素ID</th>
            <th>边界框结果</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>"<code>defs-1</code>"</td>
            <td>{0, 0, 0, 0}</td>
          </tr>
          <tr>
            <td>"<code>rect-1</code>"</td>
            <td>{20, 20, 40, 40}</td>
          </tr>
          <tr>
            <td>"<code>group-1</code>"</td>
            <td>{30, 30, 40, 40}</td>
          </tr>
          <tr>
            <td>"<code>use-1</code>"</td>
            <td>{30, 30, 40, 40}</td>
          </tr>
          <tr>
            <td>"<code>group-2</code>"</td>
            <td>{10, 10, 100, 100}</td>
          </tr>
          <tr>
            <td>"<code>rect-2</code>"</td>
            <td>{10, 10, 100, 100}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <p>对于<a href="text.html#TermTextContentElement">文本内容元素</a>，为了边界框计算的目的，每个字形必须被视为一个单独的图形元素。计算必须假设所有字形占用<a
        href="coords.html#TermFullGlyphCell">完整字形单元</a>。<span
        class="ready-for-wider-review">完整字形单元的宽度必须等于水平推进，且高度等于水平文本的EM框。对于侧排的垂直文本，完整字形单元必须具有等于EM框的宽度和等于水平推进的高度。对于其他垂直文本，完整字形单元的宽度必须等于EM框，高度必须等于垂直推进，或者如果字体中未定义垂直推进，则高度等于EM框的高度。</span>例如，对于水平文本，计算必须假设每个字形垂直延伸到字体的完整升高和降落值。
    </p>

    <p>因为声明式或脚本化的动画可以改变元素的形状、大小和位置，边界框是可变的。因此，元素的边界框应反映在请求边界框时元素的当前值，无论是通过脚本调用，还是作为声明式或链接语法的一部分。</p>

    <p>具有零宽度、零高度或两者的元素（例如一个垂直或水平线，或具有零<a class="property" href="geometry.html#Sizing">宽度</a>或<a class="property"
        href="geometry.html#Sizing">高度</a>的‘<a
        href="shapes.html#RectElement"><span>rect</span></a>’元素）仍然具有边界框，对于正维度，边界框的值为正维度，或者如果未指定正维度，则宽度和高度均为<span
        class="attr-value">'0'</span>。类似地，具有零宽度和高度的‘<a
        href="paths.html#PathElement"><span>path</span></a>’元素的子路径段必须包含在该元素的几何形状中，以便于边界框的计算。</p>

    <p class="ready-for-wider-review">没有指定位置的元素（例如‘<a href="paths.html#PathElement"><span>path</span></a>’元素，其<a
        class="property" href="paths.html#DProperty">d</a>属性值为<span class="prop-value">none</span>）在计算边界框时位置为(0,0)。</p>

    <p>注意，DOM对象不是<a class="idlinterface"
        href="types.html#InterfaceSVGGraphicsElement">SVGGraphicsElement</a>（如渐变元素）的元素没有边界框，因此没有请求边界框的接口。</p>

    <p>在<a href="render.html#RenderingTree">渲染树</a>中的元素引用未解析的资源仍然具有边界框，由其属性中指定的位置和维度定义，或者如果未提供值，则由这些属性的<a
        href="types.html#TermInitialValue">初始值</a>定义。例如，元素<code>&lt;use href="#bad" x="10" y="10"></code>将具有x和y为10，宽度和高度为0的边界框。
    </p>

    <p>以下算法定义了如何计算给定元素的边界框。算法的输入为：</p>

    <ul>
      <li><var>element</var>，我们正在计算边界框的元素；</li>
      <li><var>space</var>，计算边界框的坐标空间；</li>
      <li><var>fill</var>，布尔值，指示边界框是否包括元素及其后代的几何形状；</li>
      <li><var>stroke</var>，布尔值，指示边界框是否包括元素及其后代的描边；</li>
      <li><var>markers</var>，布尔值，指示边界框是否包括元素及其后代的标记；</li>
      <li><var>clipped</var>，布尔值，指示边界框是否受到应用于元素及其后代的任何裁剪路径的影响。</li>
    </ul>

    <p>根据<var>element</var>的类型，计算边界框的算法如下：</p>

    <dl class="switch">
      <dt>一个 <a href="shapes.html#TermShapeElement">形状</a></dt>
      <dt>一个 <a href="text.html#TermTextContentElement">文本内容元素</a></dt>
      <dt>一个 <span class="element-name">‘<a href="linking.html#AElement"><span>a</span></a>’</span> 元素在 <a
          href="text.html#TermTextContentElement">文本内容元素</a> 内</dt>
      <dd>
        <ol class="algorithm">
          <li>让 <var>box</var> 初始化为 (0, 0, 0, 0) 的矩形。</li>
          <li>让 <var>fill-shape</var> 为 <var>element</var> 的 <a href="paths.html#TermEquivalentPath">等效路径</a>
            如果它是一个 <a href="shapes.html#TermShapeElement">形状</a>，否则为包含每个对应于文本的字形单元的形状。
          </li>
          <li>如果 <var>fill</var> 为 true，则将 <var>box</var> 设置为在坐标系统 <var>space</var> 中包含 <var>fill-shape</var> 的最紧凑的矩形。
            <p class="note">属性 <a class="property" href="painting.html#FillProperty">fill</a>、<a class="property"
                href="painting.html#FillOpacityProperty">fill-opacity</a> 和 <a class="property"
                href="painting.html#FillRuleProperty">fill-rule</a> 的值不影响 <var>fill-shape</var>。</p>
          </li>
          <li>如果 <var>stroke</var> 为 true 且元素的 <a class="property" href="painting.html#StrokeProperty">stroke</a> 不是
            <span class="prop-value">none</span>，则将 <var>box</var> 设置为 <var>box</var> 和坐标系统 <var>space</var> 中包含元素的 <a
              href="painting.html#StrokeShape">stroke 形状</a> 的最紧凑矩形的并集，假设元素没有虚线模式。
            <p class="note">属性 <a class="property" href="painting.html#StrokeOpacityProperty">stroke-opacity</a>、<a
                class="property" href="painting.html#StrokeDasharrayProperty">stroke-dasharray</a> 和 <a class="property"
                href="painting.html#StrokeDashoffsetProperty">stroke-dashoffset</a> 的值不影响对 stroke 形状的计算。</p>
          </li>
          <li>如果 <var>markers</var> 为 true，则对于元素上渲染的每个标记 <var>marker</var>：
            <ol>
              <li>对于 <var>parent</var> 的每个后代 <a href="struct.html#TermGraphicsElement">图形元素</a> <var>child</var>：
                <ol>
                  <li>如果 <var>child</var> 在 <span class="element-name">‘<a
                        href="painting.html#MarkerElement"><span>marker</span></a>’</span> 内部有祖先元素，其样式为
                    <span class="prop-value">'display: none'</span>，有一个失败的 <a
                      href="struct.html#TermConditionalProcessingAttribute">条件处理属性</a>，或者不是一个 <span
                      class="element-name">‘<a href="linking.html#AElement"><span>a</span></a>’</span>、
                    <span class="element-name">‘<a href="struct.html#GElement"><span>g</span></a>’</span>、<span
                      class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span> 或 <span
                      class="element-name">‘<a href="struct.html#SwitchElement"><span>switch</span></a>’</span> 元素，
                    则继续下一个后代 <a href="struct.html#TermGraphicsElement">图形元素</a>。
                  </li>
                  <li>否则，将 <var>box</var> 设置为 <var>box</var> 和调用算法以 <var>child</var> 为元素、<var>space</var>
                    为目标坐标空间、<var>fill</var>、<var>stroke</var> 和 <var>markers</var> 都为 true，<var>clipped</var> 为
                    <var>clipped</var> 的结果的并集。
                  </li>
                </ol>
              </li>
            </ol>
          </li>
          <li>如果 <var>clipped</var> 为 true 且 <var>element</var> 上的 <a class="property"
              href="https://drafts.fxtf.org/css-masking-1/#the-clip-path">clip-path</a> 的值不是
            <span class="prop-value">none</span>，则将 <var>box</var> 设置为在坐标系统 <var>space</var> 中包含 <var>box</var>
            和裁剪路径的交集的最紧凑矩形。
          </li>
          <li>返回 <var>box</var>。</li>
        </ol>
      </dd>
      <dt id="ContainerElementBoudingBoxComputation">一个 <a href="struct.html#TermContainerElement">容器元素</a>
      </dt>
      <dt><span class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span></dt>
      <dd>
        <ol class="algorithm">
          <li>让 <var>box</var> 初始化为 (0, 0, 0, 0) 的矩形。</li>
          <li>让 <var>parent</var> 为 <a href="struct.html#TermContainerElement">容器元素</a>，如果它是一个，否则为
            <span class="element-name">‘<a href="struct.html#UseElement"><span>use</span></a>’</span> 元素的影子树的根。
          </li>
          <li>对于 <var>parent</var> 的每个后代 <a href="struct.html#TermGraphicsElement">图形元素</a> <var>child</var>：
            <ol>
              <li>如果 <var>child</var> <a href="render.html#Rendered-vs-NonRendered">未渲染</a>，则继续下一个后代 <a
                  href="struct.html#TermGraphicsElement">图形元素</a>。</li>
              <li>否则，将 <var>box</var> 设置为 <var>box</var> 和调用算法以 <var>child</var> 为元素、相同的
                <var>space</var>、<var>fill</var>、<var>stroke</var>、<var>markers</var> 和 <var>clipped</var> 的结果的并集。
              </li>
            </ol>
          </li>
          <li>如果 <var>clipped</var> 为 true：
            <ul>
              <li>如果 <var>element</var> 上的 <a class="property"
                  href="https://drafts.fxtf.org/css-masking-1/#the-clip-path">clip-path</a> 的值不是
                <span class="prop-value">none</span>，
                则将 <var>box</var> 设置为在坐标系统 <var>space</var> 中包含 <var>box</var> 和裁剪路径的交集的最紧凑矩形。
              </li>
              <li>如果 <var>element</var> 的 <a class="property" href="render.html#OverflowAndClipProperties">overflow</a>
                属性适用并且不为 <span class="prop-value">visible</span>，
                则将 <var>box</var> 设置为在坐标系统 <var>space</var> 中包含 <var>box</var> 和元素的溢出边界的交集的最紧凑矩形。</li>
              <li>如果 <var>element</var> 的 <a class="property"
                  href="https://drafts.fxtf.org/css-masking-1/#propdef-clip">clip</a>
                属性适用并且不为 <span class="prop-value">auto</span>，
                则将 <var>box</var> 设置为在坐标系统 <var>space</var> 中包含 <var>box</var> 和由 <a class="property"
                  href="https://drafts.fxtf.org/css-masking-1/#propdef-clip">clip</a> 指定的矩形的交集的最紧凑矩形。
              </li>
            </ul>
          </li>
          <li>返回 <var>box</var>。</li>
        </ol>
      </dd>
      <dt><span class="element-name">‘<a href="embedded.html#HTMLElements"><span>canvas</span></a>’</span></dt>
      <dt><span class="element-name">‘<a
            href="embedded.html#ForeignObjectElement"><span>foreignObject</span></a>’</span></dt>
      <dt><span class="element-name">‘<a href="embedded.html#HTMLElements"><span>iframe</span></a>’</span></dt>
      <dt><span class="element-name">‘<a href="embedded.html#ImageElement"><span>image</span></a>’</span></dt>
      <dt><span class="element-name">‘<a href="embedded.html#HTMLElements"><span>video</span></a>’</span></dt>
      <dd>
        <ol class="algorithm">
          <li>让 <var>box</var> 为在坐标空间 <var>space</var> 中包含由元素的 <span class="attr-name">‘x’</span>、<span
              class="attr-name">‘y’</span>、<span class="attr-name">‘width’</span> 和 <span
              class="attr-name">‘height’</span>
            几何属性定义的 <a href="embedded.html#TermPositioningRectangle">定位矩形</a> 的最紧凑矩形。
            <p class="note">此算法的输入参数 <var>fill</var>、<var>stroke</var> 和 <var>markers</var> 不会影响返回的边界框。</p>
          </li>
          <li>如果 <var>clipped</var> 为 true 且 <var>element</var> 上的 <a class="property"
              href="https://drafts.fxtf.org/css-masking-1/#the-clip-path">clip-path</a> 的值不是
            <span class="prop-value">none</span>，则将 <var>box</var> 设置为在坐标系统 <var>space</var> 中包含 <var>box</var>
            和裁剪路径的交集的最紧凑矩形。
          </li>
          <li>返回 <var>box</var>。</li>
        </ol>
      </dd>
    </dl>
    <p>与值为 (0, 0, 0, 0) 和空形状的 <var>box</var> 的并集是 <var>box</var>。</p>

    <p><a href="coords.html#TermObjectBoundingBox">对象边界框</a>、<a href="coords.html#TermStrokeBoundingBox">描边边界框</a> 或 <a
        href="coords.html#TermDecoratedBoundingBox">装饰边界框</a> 是通过调用上述边界框计算算法得到的，参数如下：
      <var>element</var> 为元素本身；<var>space</var> 为元素的用户坐标系统；<var>fill</var> 为 true；
      <var>stroke</var> 为 true 如果我们正在计算 <a href="coords.html#TermStrokeBoundingBox">描边边界框</a> 或 <a
        href="coords.html#TermDecoratedBoundingBox">装饰边界框</a>，否则为 false；<var>markers</var> 为 true 如果我们正在计算 <a
        href="coords.html#TermDecoratedBoundingBox">装饰边界框</a>，否则为 false；<var>clipped</var> 为 false。
    </p>

    <h2 id="ObjectBoundingBoxUnits" class="heading">8.11. 对象边界框单位<a class="self-link"
        href="#ObjectBoundingBoxUnits"></a></h2>

    <p id="ObjectBoundingBox">以下元素提供将坐标值和长度表示为 <a href="coords.html#TermObjectBoundingBox">对象边界框</a>
      的分数（在某些情况下为百分比）的选项，通过在给定元素上设置指定属性为 <span class="attr-value">'objectBoundingBox'</span>：</p>

    <table class="vert">
      <tr>
        <th>元素</th>
        <th>属性</th>
        <th>效果</th>
      </tr>
      <tr>

        <td><span class="element-name">‘<a
              href="pservers.html#LinearGradientElement"><span>linearGradient</span></a>’</span></td>
        <td><span class="attr-name">‘<a
              href="pservers.html#LinearGradientElementGradientUnitsAttribute"><span>gradientUnits</span></a>’</span>
        </td>
        <td>指示指定梯度向量的属性（<span class="attr-name">‘<a
              href="pservers.html#LinearGradientElementX1Attribute"><span>x1</span></a>’</span>, <span
            class="attr-name">‘<a href="pservers.html#LinearGradientElementY1Attribute"><span>y1</span></a>’</span>,
          <span class="attr-name">‘<a href="pservers.html#LinearGradientElementX2Attribute"><span>x2</span></a>’</span>,
          <span class="attr-name">‘<a href="pservers.html#LinearGradientElementY2Attribute"><span>y2</span></a>’</span>)
          代表与应用梯度的元素的边界框的分数或百分比。
        </td>

      </tr>
      <tr>

        <td><span class="element-name">‘<a
              href="pservers.html#RadialGradientElement"><span>radialGradient</span></a>’</span></td>
        <td><span class="attr-name">‘<a
              href="pservers.html#RadialGradientElementGradientUnitsAttribute"><span>gradientUnits</span></a>’</span>
        </td>
        <td>指示指定中心的属性（<span class="attr-name">‘<a
              href="pservers.html#RadialGradientElementCXAttribute"><span>cx</span></a>’</span>, <span
            class="attr-name">‘<a href="pservers.html#RadialGradientElementCYAttribute"><span>cy</span></a>’</span>），
          半径（<span class="attr-name">‘<a
              href="pservers.html#RadialGradientElementRAttribute"><span>r</span></a>’</span>）和焦点
          （<span class="attr-name">‘<a
              href="pservers.html#RadialGradientElementFXAttribute"><span>fx</span></a>’</span>, <span
            class="attr-name">‘<a href="pservers.html#RadialGradientElementFYAttribute"><span>fy</span></a>’</span>）
          代表与应用梯度的元素的边界框的分数或百分比。</td>

      </tr>

      <tr>
        <td><span class="element-name">‘<a href="pservers.html#PatternElement"><span>pattern</span></a>’</span></td>
        <td><span class="attr-name">‘<a
              href="pservers.html#PatternElementPatternUnitsAttribute"><span>patternUnits</span></a>’</span></td>
        <td>指示定义如何平铺图案的属性（<span class="attr-name">‘<a
              href="pservers.html#PatternElementXAttribute"><span>x</span></a>’</span>, <span class="attr-name">‘<a
              href="pservers.html#PatternElementYAttribute"><span>y</span></a>’</span>, <span class="attr-name">‘<a
              href="pservers.html#PatternElementWidthAttribute"><span>width</span></a>’</span>,
          <span class="attr-name">‘<a
              href="pservers.html#PatternElementHeightAttribute"><span>height</span></a>’</span>) 是
          使用应用图案的元素的边界框建立的。
        </td>
      </tr>
      <tr>
        <td><span class="element-name">‘<a href="pservers.html#PatternElement"><span>pattern</span></a>’</span></td>
        <td><span class="attr-name">‘<a
              href="pservers.html#PatternElementPatternContentUnitsAttribute"><span>patternContentUnits</span></a>’</span>
        </td>
        <td>指示图案内容的用户坐标系统是使用应用图案的元素的边界框建立的。</td>
      </tr>

      <tr>
        <td><span class="element-name">‘<a
              href="https://drafts.fxtf.org/css-masking-1/#ClipPathElement"><span>clipPath</span></a>’</span></td>
        <td><span class="attr-name">‘<a
              href="https://drafts.fxtf.org/css-masking-1/#element-attrdef-clippath-clippathunits"><span>clipPathUnits</span></a>’</span>
        </td>
        <td>指示<code>clipPath</code> 元素内容的用户坐标系统是使用应用裁剪路径的元素的边界框建立的。
        </td>
      </tr>

      <tr>
        <td><span class="element-name">‘<a
              href="https://drafts.fxtf.org/css-masking-1/#MaskElement"><span>mask</span></a>’</span></td>
        <td><span class="attr-name">‘<a
              href="https://drafts.fxtf.org/css-masking-1/#element-attrdef-mask-maskunits"><span>maskUnits</span></a>’</span>
        </td>
        <td>指示定义遮罩区域的属性（<span class="attr-name">‘<a
              href="https://drafts.fxtf.org/css-masking-1/#element-attrdef-mask-x"><span>x</span></a>’</span>, <span
            class="attr-name">‘<a
              href="https://drafts.fxtf.org/css-masking-1/#element-attrdef-mask-y"><span>y</span></a>’</span>, <span
            class="attr-name">‘<a
              href="https://drafts.fxtf.org/css-masking-1/#element-attrdef-mask-width"><span>width</span></a>’</span>,
          <span class="attr-name">‘<a
              href="https://drafts.fxtf.org/css-masking-1/#element-attrdef-mask-height"><span>height</span></a>’</span>)
          是
          使用应用遮罩的元素的边界框建立的。
        </td>
      </tr>
      <tr>
        <td><span class="element-name">‘<a
              href="https://drafts.fxtf.org/css-masking-1/#MaskElement"><span>mask</span></a>’</span></td>
        <td><span class="attr-name">‘<a
              href="https://drafts.fxtf.org/css-masking-1/#element-attrdef-mask-maskcontentunits"><span>maskContentUnits</span></a>’</span>
        </td>
        <td>指示<code>mask</code> 元素内容的用户坐标系统是使用应用遮罩的元素的边界框建立的。</td>
      </tr>

      <tr>
        <td><span class="element-name">‘<a
              href="https://drafts.fxtf.org/filter-effects/#FilterElement"><span>filter</span></a>’</span></td>
        <td><span class="attr-name">‘<a
              href="https://drafts.fxtf.org/filter-effects/#element-attrdef-filter-filterunits"><span>filterUnits</span></a>’</span>
        </td>
        <td>指示定义 <a href="https://drafts.fxtf.org/filter-effects/#FilterPrimitiveSubRegion">滤镜效果区域</a> 的属性
          （<span class="attr-name">‘<a
              href="https://drafts.fxtf.org/filter-effects/#element-attrdef-filter-x"><span>x</span></a>’</span>, <span
            class="attr-name">‘<a
              href="https://drafts.fxtf.org/filter-effects/#element-attrdef-filter-y"><span>y</span></a>’</span>, <span
            class="attr-name">‘<a
              href="https://drafts.fxtf.org/filter-effects/#element-attrdef-filter-width"><span>width</span></a>’</span>,
          <span class="attr-name">‘<a
              href="https://drafts.fxtf.org/filter-effects/#element-attrdef-filter-height"><span>height</span></a>’</span>)
          代表与应用滤镜的元素的边界框的分数或百分比。
        </td>
      </tr>
      <tr>
        <td><span class="element-name">‘<a
              href="https://drafts.fxtf.org/filter-effects/#FilterElement"><span>filter</span></a>’</span></td>
        <td><span class="attr-name">‘<a
              href="https://drafts.fxtf.org/filter-effects/#element-attrdef-filter-primitiveunits"><span>primitiveUnits</span></a>’</span>
        </td>
        <td>指示滤镜原语内的各种长度值代表与应用滤镜的元素的边界框的分数或百分比。</td>
      </tr>
    </table>

    <p>在接下来的讨论中，术语 <em>适用元素</em> 是指应用特定效果的元素。对于梯度和图案，适用元素是具有其 <a href="painting.html#FillProperty">填充</a> 或 <a
        class="property" href="painting.html#StrokeProperty">描边</a> 属性引用给定梯度或图案的 <a
        href="struct.html#TermGraphicsElement">图形元素</a>。（有关 <a href="text.html">文本元素</a> 的特殊规则，请参见 <a
        href="text.html#ObjectBoundingBoxUnitsTextObjects">对象边界框单位和文本元素</a> 的讨论。）对于裁剪路径、遮罩和滤镜，适用元素可以是 <a
        href="struct.html#TermContainerElement">容器元素</a> 或 <a href="struct.html#TermGraphicsElement">图形元素</a>。</p>

    <p>当使用关键字 <span class="attr-value">objectBoundingBox</span> 时，效果就像在嵌套变换矩阵列表中插入一个补充变换矩阵，以创建一个新的用户坐标系统。</p>

    <p>首先，通过确定适用元素的 <a href="coords.html#TermObjectBoundingBox">对象边界框</a>
      的范围来获得（<strong>minx</strong>,<strong>miny</strong>）和（<strong>maxx</strong>,<strong>maxy</strong>）坐标。</p>

    <p>然后，在新的用户坐标系统中，坐标（0,0）映射到适用元素的用户坐标系统中紧密边界框的（minx,miny）角落，坐标（1,1）映射到适用元素的紧密边界框的（maxx,maxy）角落。在大多数情况下，以下变换矩阵产生正确的效果：
    </p>

    <pre>
[ (maxx-minx) 0 0 (maxy-miny) minx miny ]
</pre>

    <p>当使用百分比与定义梯度向量、图案瓷砖、滤镜区域或遮罩区域的属性时，百分比表示与相应的十进制值相同的值（例如，50% 表示与 0.5 相同）。如果在 <span class="element-name">‘<a
          href="pservers.html#PatternElement"><span>pattern</span></a>’</span>、<span class="element-name">‘<a
          href="https://drafts.fxtf.org/css-masking-1/#ClipPathElement"><span>clipPath</span></a>’</span>、<span
        class="element-name">‘<a href="https://drafts.fxtf.org/css-masking-1/#MaskElement"><span>mask</span></a>’</span>
      或 <span class="element-name">‘<a
          href="https://drafts.fxtf.org/filter-effects/#FilterElement"><span>filter</span></a>’</span> 元素中使用百分比，这些
      值根据 <a href="coords.html#Units">单位</a> 中定义的百分比处理规则进行处理。
    </p>

    <p>可以为以对象边界框单位的分数或百分比表示的值指定任何数值。特别是，可以指定小于零或大于一的分数，以及小于 0% 或大于 100% 的百分比。</p>

    <p>当适用元素的几何形状没有宽度或高度时，例如水平或垂直线，即使线由于具有非零的描边宽度而在观察时具有实际厚度，也不应使用关键字 <span
        class="attr-value">objectBoundingBox</span>，因为描边宽度在边界框计算中被忽略。当适用元素的几何形状没有宽度或高度且指定了 <span
        class="attr-value">objectBoundingBox</span> 时，给定效果（例如，梯度或滤镜）将被忽略。</p>

  </div>

  <div class="ready-for-wider-review">
    <h2 id="SizingSVGInCSS" class="heading">8.12. SVG 内容的固有尺寸属性<a class="self-link" href="#SizingSVGInCSS"></a></h2>
    <p>为了在使用 CSS 格式化的主机文档中包含 SVG，必须计算 <a href="https://www.w3.org/TR/css3-images#concrete-object-size">具体对象大小</a>。
      <a href="https://www.w3.org/TR/css3-images#concrete-object-size">具体对象大小</a> 必须使用
      <a href="https://www.w3.org/TR/css3-images/#default-sizing">默认大小算法</a>
      计算，该算法在 CSS Images 3 中定义 [<a href="refs.html#ref-css-images-3">css-images-3</a>],
      输入如下：
    </p>

    <p><a href="https://www.w3.org/TR/css3-images#specified-size">指定大小</a> 必须根据
      <a class="property" href="geometry.html#Sizing">宽度</a> 和 <a class="property" href="geometry.html#Sizing">高度</a>
      属性的使用值确定，属于 <span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span>
      元素。
    </p>

    <p><a href="https://www.w3.org/TR/css3-images#intrinsic-dimensions">固有尺寸</a> 也必须根据 <a class="property"
        href="geometry.html#Sizing">宽度</a>
      和 <a class="property" href="geometry.html#Sizing">高度</a> 属性确定。如果未指定 <a class="property"
        href="geometry.html#Sizing">宽度</a> 或 <a class="property" href="geometry.html#Sizing">高度</a>，则使用值为初始值 <span
        class="attr-value">'auto'</span>。
      <span class="attr-value">'auto'</span> 和百分比长度不得用于确定 <a
        href="https://www.w3.org/TR/css3-images#intrinsic-width">固有宽度</a> 或 <a
        href="https://www.w3.org/TR/css3-images#intrinsic-height">固有高度</a>。
    </p>

    <p class="note">
      对于位图图像格式，<a href="https://www.w3.org/TR/css3-images#intrinsic-dimensions">固有尺寸</a> 是固定在
      图像文件中的，指定大小根据需要在主机文档中定义以缩放图像。
      SVG 由于具有可伸缩性，会调整 <a href="https://www.w3.org/TR/css3-images#intrinsic-width">固有宽度</a> 和
      <a href="https://www.w3.org/TR/css3-images#intrinsic-height">固有高度</a> 为
      <a href="https://www.w3.org/TR/css3-images#specified-size">指定大小</a>。
      因此，当指定为长度时，<a class="property" href="geometry.html#Sizing">宽度</a> 和
      <a class="property" href="geometry.html#Sizing">高度</a> 属性控制 SVG 图像的
      <a href="https://www.w3.org/TR/css3-images#intrinsic-dimensions">固有尺寸</a> 和
      <a href="https://www.w3.org/TR/css3-images#specified-size">指定大小</a>，该大小用于在主机文档中放置 SVG 图像。
    </p>

    <p> <a href="https://www.w3.org/TR/css3-images#intrinsic-aspect-ratio">固有宽高比</a> 必须使用以下
      算法计算。如果算法返回 null，则没有固有宽高比。</p>

    <ol class="algorithm">
      <li>如果 <a class="property" href="geometry.html#Sizing">宽度</a> 和 <a class="property"
          href="geometry.html#Sizing">高度</a> 属性在
        <span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span> 元素上均为绝对值：
        <ol>
          <li>返回 width / height</li>
        </ol>
      </li>
      <li>如果活动 <a href="linking.html#LinksIntoSVG">SVG 视图</a>：
        <ol>
          <li>设 <var>viewbox</var> 为活动 SVG 视图定义的视口</li>
          <li>返回 <var>viewbox</var>.width / <var>viewbox</var>.height</li>
        </ol>
      </li>
      <li>如果 <span class="attr-name">‘<a href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span> 在
        <span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span> 元素上正确指定：
        <ol>
          <li>设 <var>viewbox</var> 为 <span class="attr-name">‘<a
                href="coords.html#ViewBoxAttribute"><span>viewBox</span></a>’</span>
            属性在 <span class="element-name">‘<a href="struct.html#SVGElement"><span>svg</span></a>’</span>
            元素上的视口</li>
          <li>返回 <var>viewbox</var>.width / <var>viewbox</var>.height</li>
        </ol>
      </li>
      <li>返回 null</li>
    </ol>

    <p>本节中定义的行为特定于 CSS，但可以适应其他主机上下文。在所有主机上下文中，<a
        href="https://www.w3.org/TR/css3-images#intrinsic-aspect-ratio">固有宽高比</a>，
      在可用时，必须在调整 SVG 视口大小时予以尊重。</p>
  </div>


  <p>示例：</p>

  <div class="example">
    <div class="exampleheader">
      <strong>示例：</strong> 固有宽高比 1
    </div>

    <div class="examplesource">
      <pre>&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="10cm" height="5cm">
  ...
&lt;/svg></pre>
    </div>
  </div>

  <p>在这个示例中，<a href="coords.html#TermSVGViewport">SVG 视口</a> 的固有宽高比为 2:1。
    固有宽度为 10cm，固有高度为 5cm。</p>

  <div class="example">
    <div class="exampleheader">
      <strong>示例：</strong> 固有宽高比 2
    </div>

    <div class="examplesource">
      <pre>&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="100%" height="50%" viewBox="0 0 200 200">
  ...
&lt;/svg></pre>
    </div>
  </div>

  <p>在这个示例中，最外层的 <a href="coords.html#TermSVGViewport">SVG 视口</a> 的固有宽高比为 1:1。
    在这种情况下，宽高比计算允许嵌入在一个仅在一个方向上受限的包含块中的对象。</p>

  <div class="example">
    <div class="exampleheader">
      <strong>示例：</strong> 固有宽高比 3
    </div>

    <div class="examplesource">
      <pre>&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="10cm" viewBox="0 0 200 200">
  ...
&lt;/svg></pre>
    </div>
  </div>

  <p>在这种情况下，固有宽高比为 1:1。</p>

  <div class="example">
    <div class="exampleheader">
      <strong>示例：</strong> 固有宽高比 4
    </div>

    <div class="examplesource">
      <pre>&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="75%" height="10cm" viewBox="0 0 200 200">
  ...
&lt;/svg></pre>
    </div>
  </div>

  <p>在这个示例中，固有宽高比为 1:1。</p>

  <p class="issue" data-issue="19" id="issue19"><a class="self-link" href="#issue19"></a>添加更多关于新自动值的示例？例如，David Vest
    提供的<a href="https://docs.google.com/presentation/d/1POUiroOBbLmXYlQKf0pIR8zVkHWH9jRVN-w8A4aNsIk/">示例</a>。
  </p>

  <h2 id="VectorEffects" class="heading">8.13. 向量效果<a class="self-link" href="#VectorEffects"></a></h2>
  <div class="annotation svg2-requirement">
    <table>
      <tr>
        <th>SVG 2 要求：</th>
        <td><a href="https://www.w3.org/Graphics/SVG/WG/wiki/SVG2_Requirements_Input#Constrained_Transformations">SVG 2
            将基于 SVG 1.2 Tiny 实现受限的变换。</a></td>
      </tr>
      <tr>
        <th>解决方案：</th>
        <td><a href="https://www.w3.org/2014/04/09-svg-minutes.html#item06">将向量效果扩展提案添加到 SVG 2 规范中。</a></td>
      </tr>
      <tr>
        <th>目的：</th>
        <td>包含非缩放特性（对象的非缩放部分和非缩放整个对象）</td>
      </tr>
      <tr>
        <th>负责人：</th>
        <td>Satoru Takagi (<a href="https://www.w3.org/Graphics/SVG/WG/track/actions/3619">ACTION-3619</a>)</td>
      </tr>
    </table>
  </div>

  <p>有时，保持对象的轮廓宽度不变或让对象的位置固定是很重要的，无论对其应用了什么变换。例如，在一幅表示道路的 2px 宽的地图中，保持道路在用户缩放地图时仍然是 2px 宽是很有意义的，或者在图形图表的引导说明中，可能会发生平移。
  </p>

  <p>为了提供与特殊坐标变换和图形绘制相关的此类效果，SVG Tiny 1.2 引入了 <a class="property"
      href="coords.html#VectorEffectProperty">vector-effect</a> 属性。
    尽管 SVG Tiny 1.2 仅引入了非缩放描边行为，但该版本引入了许多附加效果。此外，由于这些效果可以组合指定，它们展现出更为多样的效果。未来版本的 SVG 语言将通过此属性允许更强大的向量效果。</p>

  <p class="issue" data-issue="31" id="issue31"><a class="self-link" href="#issue31"></a>
    除了 <span class="prop-value">non-scaling-stroke</span> 和 <span class="prop-value">none</span> 之外的 <a class="property"
      href="coords.html#VectorEffectProperty">vector-effect</a> 值由于缺乏实现，面临被从 SVG 2 中删除的风险。
    在实施期间，欢迎实施者反馈当前规范实施它们的实际性。
  </p>

  <table class="propdef def">
    <tr>
      <th>名称：</th>
      <td><dfn id="VectorEffectProperty" data-dfn-type="property" data-export="">vector-effect</dfn></td>
    </tr>
    <tr>
      <th>值：</th>
      <td>none | [ non-scaling-stroke | non-scaling-size | non-rotation | fixed-position ]+ [ viewport | screen ]?</td>
    </tr>
    <tr>
      <th>初始：</th>
      <td>none</td>
    </tr>
    <tr>
      <th>适用于：</th>
      <td><a href="struct.html#TermGraphicsElement">图形元素</a> 和 <span class="element-name">‘<a
            href="struct.html#UseElement"><span>use</span></a>’</span></td>
    </tr>
    <tr>
      <th>继承：</th>
      <td>否</td>
    </tr>
    <tr>
      <th>百分比：</th>
      <td>不适用</td>
    </tr>
    <tr>
      <th>媒体：</th>
      <td>视觉</td>
    </tr>
    <tr>
      <th>计算值：</th>
      <td>如指定</td>
    </tr>
    <tr>
      <th><a href="https://svgwg.org/specs/animations/#Animatable">可动画化</a>：</th>
      <td>是</td>
    </tr>
  </table>

  <dl>
    <dt class="prop-value">none</dt>
    <dd>指定不应用任何向量效果，即使用 SVG 1.1 的默认渲染行为，首先用指定的填充绘制形状的几何体，然后用指定的绘制描边轮廓。</dd>
    <dt class="prop-value">non-scaling-stroke</dt>
    <dd>请参阅<a href="painting.html#non-scaling-stroke">此描述</a>以了解绘画中的向量效果。</dd>
    <dt class="prop-value">non-scaling-size</dt>
    <dd>通过具有以下特征的受限变换，指定指向此元素及其后代的特殊 <a
        href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a>。<a
        href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a>的比例在主坐标空间的 <a
        href="https://www.w3.org/TR/css-transforms-1/#current-transformation-matrix">CTM</a>
      变化时不会改变。然而，它不指定旋转和倾斜的抑制，也不指定 <a href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a>
      的位置固定。由于 non-scaling-size 抑制 <a href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a>
      的缩放，因此它也具有 non-scaling-stroke 的特性。变换公式和示例行为在后面的章节中指出。</dd>
    <dt class="prop-value">non-rotation</dt>
    <dd>通过具有以下特征的受限变换，指定指向此元素及其后代的特殊 <a
        href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a>。尽管主坐标空间的 <a
        href="https://www.w3.org/TR/css-transforms-1/#current-transformation-matrix">CTM</a> 变化，<a
        href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a> 的旋转和倾斜被抑制。然而，它不指定缩放的抑制，也不指定 <a
        href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a> 的位置固定。变换公式和示例行为在后面的章节中指出。</dd>
    <dt class="prop-value">fixed-position</dt>
    <dd>通过具有以下特征的受限变换，指定指向此元素及其后代的特殊 <a
        href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a>。在主坐标空间的 <a
        href="https://www.w3.org/TR/css-transforms-1/#current-transformation-matrix">CTM</a> 变化时，<a
        href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a>
      的位置是固定的。然而，它不指定旋转、倾斜和缩放的抑制。当具有固定位置效果且同时具有 <a class="property" href="coords.html#TransformProperty">transform</a>
      属性的元素时，该属性将用于此效果。<a class="property" href="coords.html#TransformProperty">transform</a> 属性的矩阵中的平移组件 <var>e</var> 和
      <var>f</var> 用于转移固定的 <a href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a>
      的原点。变换公式和示例行为在后面的章节中指出。
    </dd>
  </dl>

  <p>这些值可以枚举。因此，可以同时指定具有这些特征的效果。</p>

  <p>以下两个值辅助上述值。它们显示受限变换的主坐标空间。特别是在嵌套视口坐标系统中，像嵌套内容或嵌套的 <span class="element-name">‘<a
        href="struct.html#SVGElement"><span>svg</span></a>’</span> 元素，具有有效性。如果未指定，初始值为 <span
      class="prop-value">viewport</span>。</p>

  <dl>
    <dt class="prop-value">viewport</dt>
    <dd>指定直接的 <a href="coords.html#TermViewportCoordinateSystem">视口坐标系统</a> 作为主坐标空间。当该元素属于嵌套的 <a
        href="coords.html#TermViewportCoordinateSystem">视口坐标系统</a> 时，向量效果直接应用于该元素所属的 <a
        href="coords.html#TermViewportCoordinateSystem">视口坐标系统</a>。即，该向量效果对祖先的 <a
        href="coords.html#TermViewportCoordinateSystem">视口坐标系统</a> 的 <a
        href="https://www.w3.org/TR/css-transforms-1/#current-transformation-matrix">CTM</a> 的变化无效。</dd>
    <dt class="prop-value">screen</dt>
    <dd>它指定由 <a href="conform.html#TermUserAgent">用户代理</a> 直接控制的内容的坐标系统。可以说，这是 <a
        href="conform.html#TermUserAgent">用户代理</a> 拥有的 "屏幕"（在 SVGT1.2 中为“屏幕坐标空间”）。即使该元素属于嵌套的视口坐标系统，该向量效果始终对任何层次结构的 <a
        href="https://www.w3.org/TR/css-transforms-1/#current-transformation-matrix">CTM</a> 的变化有效。如果 SVG 实现是支持 CSS 兼容的
      px 单位的 <a href="conform.html#TermUserAgent">用户代理</a> 的一部分，它是最上层内容的 CSS 像素的坐标系统。通常，设备的像素（或点）和 CSS 的像素并不总是相等，这受到 <a
        href="conform.html#TermUserAgent">用户代理</a> 自身的缩放功能和 dpi 变化的影响。（参见<a
        href="https://www.w3.org/TR/css3-values/#resolution">分辨率</a> [<a href="https://www.w3.org/TR/css3-values/">CSS
        值和单位模块第 3 级</a>]）。因此，该值不指定针对这种设备坐标系统的受限变换。</dd>
  </dl>

  <p>注意：未来版本的 SVG 可能会允许指定设备坐标系统的方式。</p>

  <h3 id="VectorEffectsCalculation" class="heading">8.13.1. 计算向量效果<a class="self-link"
      href="#VectorEffectsCalculation"></a></h3>

  <p>本节显示了关于值组合的变换公式列表，以澄清向量效果的行为，排除具有明确含义的 <span class="prop-value">non-scaling-stroke</span>。</p>

  <p class="ready-for-wider-review"> <a class="property" href="coords.html#VectorEffectProperty">vector-effect</a> 属性对在
    <a href="https://drafts.csswg.org/css-transforms-2/#3d-rendering-contexts">3D 渲染上下文</a> 中执行的变换没有影响。
  </p>

  <p>从 <a href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a> 到 <a
      href="coords.html#TermViewportCoordinateSystem">视口坐标系统</a> 的正常坐标变换公式如下。</p>

  <div role="math">
    <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
      <mtable columnalign="left">
        <mtr>
          <mtd>
            <mfenced open="[" close="]">
              <mtable rowalign="center">
                <mtr>
                  <mtd>
                    <msub>
                      <mi>x</mi>
                      <mi>viewport</mi>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <msub>
                      <mi>y</mi>
                      <mi>viewport</mi>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mn>1</mn>
                  </mtd>
                </mtr>
              </mtable>
            </mfenced>
            <mo>=</mo>
            <mtext mathsize="big">CTM</mtext>
            <mo lspace="2px" rspace="2px">⋅</mo>
            <mfenced open="[" close="]">
              <mtable rowalign="center">
                <mtr>
                  <mtd>
                    <msub>
                      <mi>x</mi>
                      <mi>userspace</mi>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <msub>
                      <mi>y</mi>
                      <mi>userspace</mi>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mn>1</mn>
                  </mtd>
                </mtr>
              </mtable>
            </mfenced>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mtext mathsize="big">CTM</mtext>
            <mo>=</mo>
            <mfenced open="[" close="]">
              <mtable rowalign="center">
                <mtr>
                  <mtd>
                    <msub>
                      <mi>a</mi>
                      <mi>ctm</mi>
                    </msub>
                  </mtd>
                  <mtd>
                    <msub>
                      <mi>c</mi>
                      <mi>ctm</mi>
                    </msub>
                  </mtd>
                  <mtd>
                    <msub>
                      <mi>e</mi>
                      <mi>ctm</mi>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <msub>
                      <mi>b</mi>
                      <mi>ctm</mi>
                    </msub>
                  </mtd>
                  <mtd>
                    <msub>
                      <mi>d</mi>
                      <mi>ctm</mi>
                    </msub>
                  </mtd>
                  <mtd>
                    <msub>
                      <mi>f</mi>
                      <mi>ctm</mi>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mn>0</mn>
                  </mtd>
                  <mtd>
                    <mn>0</mn>
                  </mtd>
                  <mtd>
                    <mn>1</mn>
                  </mtd>
                </mtr>
              </mtable>
            </mfenced>
          </mtd>
        </mtr>
      </mtable>
    </math>
  </div>

  <!--
<p>Here, [DPR] is <a href="http://dev.w3.org/csswg/cssom-view/#dom-window-devicepixelratio">Device Pixel Ratio</a> (in scalar). And [BCM] presupposes that it is a matrix synthesizing the coordinate transformation by Browser Chrome's built-in zooming panning functions. Hereafter, x(<a href="intro.html#TermUserSpace">userspace</a>), y(<a href="intro.html#TermUserSpace">userspace</a>) is abbreviated as x, y.
</p>
-->

  <pre class="xml">
&lt;circle vector-effect="<var>veValue</var>" transform="translate(<var>x<sub>o</sub></var> <var>y<sub>o</sub></var>)" cx="<var>x<sub>f</sub></var>" cy="<var>y<sub>f</sub></var>" r="..">
</pre>

  <p>当 <a class="property" href="coords.html#VectorEffectProperty">vector-effect</a>
    添加到上述元素时，从用户坐标到设备坐标的变换公式如下变化。这里，<var>x<sub>f</sub></var> 和 <var>y<sub>f</sub></var> 是相应元素及其后代的用户坐标。而
    <var>x<sub>o</sub></var> 和 <var>y<sub>o</sub></var> 是相应元素的变换属性中的矩阵元素 <var>e</var> 和
    <var>f</var>。此外，<b>|det(CTM)|</b> 是 <a
      href="https://www.w3.org/TR/css-transforms-1/#current-transformation-matrix">CTM</a> 的行列式的绝对值。当该值变为 0 且指定 <span
      class="prop-value">non-scaling-size</span> 时，<a class="property"
      href="coords.html#VectorEffectProperty">vector-effect</a> 变为无效，即 <span class="prop-value">none</span>。
  </p>

  <div role="math">
    <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
      <mrow>
        <mrow>
          <mtext>det</mtext>
          <mfenced open="(" close=")">
            <mtext mathsize="big">CTM</mtext>
          </mfenced>
        </mrow>
        <mo>=</mo>
        <msub>
          <mi>a</mi>
          <mi>ctm</mi>
        </msub>
        <mo lspace="2px" rspace="2px">⋅</mo>
        <msub>
          <mi>d</mi>
          <mi>ctm</mi>
        </msub>
        <mo lspace="2px" rspace="2px">-</mo>
        <msub>
          <mi>b</mi>
          <mi>ctm</mi>
        </msub>
        <mo lspace="2px" rspace="2px">⋅</mo>
        <msub>
          <mi>c</mi>
          <mi>ctm</mi>
        </msub>
      </mrow>
    </math>
  </div>


  <table class="attrdef def">
    <tr>
      <th>veValue</th>
      <th>公式</th>
    </tr>
    <tr>
      <td><span class="prop-value">non-scaling-size</span></td>
      <td>
        <div role="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mfenced open="[" close="]">
                <mtable rowalign="center">
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>x</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>y</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mn>1</mn>
                    </mtd>
                  </mtr>
                </mtable>
              </mfenced>
              <mo>=</mo>
              <mrow>
                <mtext mathsize="big">CTM</mtext>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <mtext>0</mtext>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mtext>0</mtext>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo lspace="2px" rspace="2px">+</mo>
                <mfrac>
                  <mtext mathsize="big">CTM</mtext>
                  <msqrt>
                    <mfenced open="|" close="|">
                      <mrow>
                        <mtext>det</mtext>
                        <mfenced open="(" close=")">
                          <mtext mathsize="big">CTM</mtext>
                        </mfenced>
                      </mrow>
                    </mfenced>
                  </msqrt>
                </mfrac>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>x</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>y</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
              </mrow>
            </mrow>
          </math>
        </div>
      </td>
    </tr>
    <tr>
      <td><span class="prop-value">non-rotation</span></td>
      <td>
        <div role="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mfenced open="[" close="]">
                <mtable rowalign="center">
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>x</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>y</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mn>1</mn>
                    </mtd>
                  </mtr>
                </mtable>
              </mfenced>
              <mo>=</mo>
              <mrow>
                <mtext mathsize="big">CTM</mtext>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <mtext>0</mtext>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mtext>0</mtext>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo lspace="2px" rspace="2px">+</mo>
                <msqrt>
                  <mfenced open="|" close="|">
                    <mrow>
                      <mtext>det</mtext>
                      <mfenced open="(" close=")">
                        <mtext mathsize="big">CTM</mtext>
                      </mfenced>
                    </mrow>
                  </mfenced>
                </msqrt>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>x</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>y</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
              </mrow>
            </mrow>
          </math>
        </div>
      </td>
    </tr>
    <tr>
      <td><span class="prop-value">non-scaling-size</span> <span class="prop-value">non-rotation</span></td>
      <td>
        <div role="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mfenced open="[" close="]">
                <mtable rowalign="center">
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>x</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>y</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mn>1</mn>
                    </mtd>
                  </mtr>
                </mtable>
              </mfenced>
              <mo>=</mo>
              <mrow>
                <mtext mathsize="big">CTM</mtext>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <mtext>0</mtext>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mtext>0</mtext>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo lspace="2px" rspace="2px">+</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>x</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>y</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
              </mrow>
            </mrow>
          </math>
        </div>
      </td>
    </tr>
    <tr>
      <td><span class="prop-value">fixed-position</span></td>
      <td>
        <div role="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mfenced open="[" close="]">
                <mtable rowalign="center">
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>x</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>y</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mn>1</mn>
                    </mtd>
                  </mtr>
                </mtable>
              </mfenced>
              <mo>=</mo>
              <mrow>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>x</mi>
                          <mi>o</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>y</mi>
                          <mi>o</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo>+</mo>
                <mtext mathsize="big">CTM</mtext>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>x</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>y</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
              </mrow>
            </mrow>
          </math>
        </div>
      </td>
    </tr>
    <tr>
      <td><span class="prop-value">fixed-position</span> <span class="prop-value">non-scaling-size</span></td>
      <td>
        <div role="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mfenced open="[" close="]">
                <mtable rowalign="center">
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>x</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>y</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mn>1</mn>
                    </mtd>
                  </mtr>
                </mtable>
              </mfenced>
              <mo>=</mo>
              <mrow>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>x</mi>
                          <mi>o</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>y</mi>
                          <mi>o</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo>+</mo>
                <mfrac>
                  <mtext mathsize="big">CTM</mtext>
                  <msqrt>
                    <mfenced open="|" close="|">
                      <mrow>
                        <mtext>det</mtext>
                        <mfenced open="(" close=")">
                          <mtext mathsize="big">CTM</mtext>
                        </mfenced>
                      </mrow>
                    </mfenced>
                  </msqrt>
                </mfrac>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>x</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>y</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
              </mrow>
            </mrow>
          </math>
        </div>
      </td>
    </tr>
    <tr>
      <td><span class="prop-value">fixed-position</span> <span class="prop-value">non-rotation</span></td>
      <td>
        <div role="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mfenced open="[" close="]">
                <mtable rowalign="center">
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>x</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>y</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mn>1</mn>
                    </mtd>
                  </mtr>
                </mtable>
              </mfenced>
              <mo>=</mo>
              <mrow>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>x</mi>
                          <mi>o</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>y</mi>
                          <mi>o</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo>+</mo>
                <msqrt>
                  <mfenced open="|" close="|">
                    <mrow>
                      <mtext>det</mtext>
                      <mfenced open="(" close=")">
                        <mtext mathsize="big">CTM</mtext>
                      </mfenced>
                    </mrow>
                  </mfenced>
                </msqrt>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>x</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>y</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
              </mrow>
            </mrow>
          </math>
        </div>
      </td>
    </tr>
    <tr>
      <td><span class="prop-value">fixed-position</span> <span class="prop-value">non-scaling-size</span> <span
          class="prop-value">non-rotation</span></td>
      <td>
        <div role="math">
          <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
            <mrow>
              <mfenced open="[" close="]">
                <mtable rowalign="center">
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>x</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>y</mi>
                        <mi>viewport</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mn>1</mn>
                    </mtd>
                  </mtr>
                </mtable>
              </mfenced>
              <mo>=</mo>
              <mrow>
                <mrow>
                  <mfenced open="[" close="]">
                    <mtable rowalign="center">
                      <mtr>
                        <mtd>
                          <msub>
                            <mi>x</mi>
                            <mi>o</mi>
                          </msub>
                        </mtd>
                      </mtr>
                      <mtr>
                        <mtd>
                          <msub>
                            <mi>y</mi>
                            <mi>o</mi>
                          </msub>
                        </mtd>
                      </mtr>
                      <mtr>
                        <mtd>
                          <mn>1</mn>
                        </mtd>
                      </mtr>
                    </mtable>
                  </mfenced>
                </mrow>
                <mo>+</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                      <mtd>
                        <mn>0</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
                <mo lspace="2px" rspace="2px">⋅</mo>
                <mfenced open="[" close="]">
                  <mtable rowalign="center">
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>x</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <msub>
                          <mi>y</mi>
                          <mi>f</mi>
                        </msub>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfenced>
              </mrow>
            </mrow>
          </math>
        </div>
      </td>
    </tr>
  </table>

  <h3 id="NestedVectorEffectsCalculation" class="heading">8.13.2. 计算嵌套视口坐标系统的向量效果<a class="self-link"
      href="#NestedVectorEffectsCalculation"></a></h3>

  <p>以下是没有向量效果的嵌套视口坐标系统的正常坐标转换公式。 <b>x<sub>viewport(UA)</sub></b> 和 <b>y<sub>viewport(UA)</sub></b> 是由<a
      href="conform.html#TermUserAgent">用户代理</a>直接控制的坐标。 <b>CTM<sub>this</sub></b> 是从目标图形的<a
      href="https://drafts.csswg.org/css-transforms/#user-coordinate-system">用户坐标系统</a>到其所属的<a
      href="coords.html#TermViewportCoordinateSystem">视口坐标系统</a>的转换矩阵的<a
      href="https://www.w3.org/TR/css-transforms-1/#current-transformation-matrix">CTM</a>。 <b>CTM<sub>parent</sub></b>
    是从前述<a href="coords.html#TermViewportCoordinateSystem">视口坐标系统</a>到其父级的<a
      href="coords.html#TermViewportCoordinateSystem">视口坐标系统</a>的转换矩阵的<a
      href="https://www.w3.org/TR/css-transforms-1/#current-transformation-matrix">CTM</a>。并且，<b>CTM<sub>root</sub></b>
    是根视口坐标系统 (UA) 的<a href="https://www.w3.org/TR/css-transforms-1/#current-transformation-matrix">CTM</a>。
  </p>

  <div role="math">
    <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
      <mrow>
        <mfenced open="[" close="]">
          <mtable rowalign="center">
            <mtr>
              <mtd>
                <msub>
                  <mi>x</mi>
                  <mi>viewport(UA)</mi>
                </msub>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msub>
                  <mi>y</mi>
                  <mi>viewport(UA)</mi>
                </msub>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>1</mn>
              </mtd>
            </mtr>
          </mtable>
        </mfenced>
        <mo>=</mo>
        <msub>
          <mtext mathsize="big">CTM</mtext>
          <mi>root</mi>
        </msub>
        <mo lspace="2px" rspace="2px">⋅</mo>
        <mtext>...</mtext>
        <mo lspace="2px" rspace="2px">⋅</mo>
        <msub>
          <mtext mathsize="big">CTM</mtext>
          <mi>parent</mi>
        </msub>
        <mo lspace="2px" rspace="2px">⋅</mo>
        <msub>
          <mtext mathsize="big">CTM</mtext>
          <mi>this</mi>
        </msub>
        <mo lspace="2px" rspace="2px">⋅</mo>
        <mfenced open="[" close="]">
          <mtable rowalign="center">
            <mtr>
              <mtd>
                <msub>
                  <mi>x</mi>
                  <mi>userspace</mi>
                </msub>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msub>
                  <mi>y</mi>
                  <mi>userspace</mi>
                </msub>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>1</mn>
              </mtd>
            </mtr>
          </mtable>
        </mfenced>
      </mrow>
    </math>
  </div>

  <p>当将前一节的七个公式应用于嵌套视口坐标系统时，这些公式的应用方式会根据<a class="property"
      href="coords.html#VectorEffectProperty">vector-effect</a>的附加值是<span class="prop-value">viewport</span>还是<span
      class="prop-value">screen</span>而有所不同。</p>

  <p>当指定<span class="prop-value">viewport</span>值时，<a href="conform.html#TermUserAgent">用户代理</a>通过结合前一章的七个公式和以下公式来计算坐标。
  </p>

  <div role="math">
    <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
      <mtable columnalign="left">
        <mtr>
          <mtd>
            <mfenced open="[" close="]">
              <mtable rowalign="center">
                <mtr>
                  <mtd>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>viewport</mi>
                        <mo stretchy="false">(</mo>
                        <mi>UA</mi>
                        <mo stretchy="false">)</mo>
                      </mrow>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <msub>
                      <mi>y</mi>
                      <mrow>
                        <mi>viewport</mi>
                        <mo stretchy="false">(</mo>
                        <mi>UA</mi>
                        <mo stretchy="false">)</mo>
                      </mrow>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mn>1</mn>
                  </mtd>
                </mtr>
              </mtable>
            </mfenced>
            <mo>=</mo>
            <msub>
              <mtext mathsize="big">CTM</mtext>
              <mtext>root</mtext>
            </msub>
            <mo lspace="2px" rspace="2px">⋅</mo>
            <mtext>...</mtext>
            <mo lspace="2px" rspace="2px">⋅</mo>
            <msub>
              <mtext mathsize="big">CTM</mtext>
              <mtext>parent</mtext>
            </msub>
            <mo lspace="2px" rspace="2px">⋅</mo>
            <mfenced open="[" close="]">
              <mtable rowalign="center">
                <mtr>
                  <mtd>
                    <msub>
                      <mi>x</mi>
                      <mi>viewport</mi>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <msub>
                      <mi>y</mi>
                      <mi>viewport</mi>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mn>1</mn>
                  </mtd>
                </mtr>
              </mtable>
            </mfenced>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mtext mathsize="big">CTM</mtext>
            <mo>=</mo>
            <msub>
              <mtext mathsize="big">CTM</mtext>
              <mtext>this</mtext>
            </msub>
          </mtd>
        </mtr>
      </mtable>
    </math>
  </div>

  <p>当指定<span class="prop-value">screen</span>值时，<a href="conform.html#TermUserAgent">用户代理</a>通过结合前一章的七个公式和以下公式来计算坐标。
  </p>


  <div role="math">
    <math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
      <mtable columnalign="left">
        <mtr>
          <mtd>
            <mfenced open="[" close="]">
              <mtable rowalign="center">
                <mtr>
                  <mtd>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>viewport</mi>
                        <mo stretchy="false">(</mo>
                        <mi>UA</mi>
                        <mo stretchy="false">)</mo>
                      </mrow>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <msub>
                      <mi>y</mi>
                      <mrow>
                        <mi>viewport</mi>
                        <mo stretchy="false">(</mo>
                        <mi>UA</mi>
                        <mo stretchy="false">)</mo>
                      </mrow>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mn>1</mn>
                  </mtd>
                </mtr>
              </mtable>
            </mfenced>
            <mo>=</mo>
            <mfenced open="[" close="]">
              <mtable rowalign="center">
                <mtr>
                  <mtd>
                    <msub>
                      <mi>x</mi>
                      <mi>viewport</mi>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <msub>
                      <mi>y</mi>
                      <mi>viewport</mi>
                    </msub>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mn>1</mn>
                  </mtd>
                </mtr>
              </mtable>
            </mfenced>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mtext mathsize="big">CTM</mtext>
            <mo>=</mo>
            <msub>
              <mtext mathsize="big">CTM</mtext>
              <mtext>root</mtext>
            </msub>
            <mo lspace="2px" rspace="2px">⋅</mo>
            <mtext>...</mtext>
            <mo lspace="2px" rspace="2px">⋅</mo>
            <msub>
              <mtext mathsize="big">CTM</mtext>
              <mtext>parent</mtext>
            </msub>
            <mo lspace="2px" rspace="2px">⋅</mo>
            <msub>
              <mtext mathsize="big">CTM</mtext>
              <mtext>this</mtext>
            </msub>
          </mtd>
        </mtr>
      </mtable>
    </math>
  </div>

  <h3 id="VectorEffectsExamples" class="heading">8.13.3. 向量效果的示例<a class="self-link" href="#VectorEffectsExamples"></a>
  </h3>

  <div class="example">
    <p>下面是<span class="prop-value">non-scaling-stroke</span> <a class="property"
        href="coords.html#VectorEffectProperty">向量效果</a>的示例。</p>

    <pre>&lt;?xml version="1.0"?>
&lt;svg xmlns="http://www.w3.org/2000/svg"
     width="6cm" height="4cm" viewBox="0 0 600 400"
     viewport-fill="rgb(255,150,200)">

  &lt;desc>示例非缩放笔画&lt;/desc>
  &lt;rect x="1" y="1" width="598" height="398" fill="none" stroke="black">

  &lt;g transform="scale(9,1)">
    &lt;line stroke="black" stroke-width="5" x1="10" y1="50" x2="10" y2="350">
    &lt;line vector-effect="non-scaling-stroke" stroke="black" stroke-width="5"
        x1="32" y1="50" x2="32" y2="350">
    &lt;line vector-effect="none" stroke="black" stroke-width="5"
        x1="55" y1="50" x2="55" y2="350">
  &lt;/g>

&lt;/svg></pre>
  </div>

  <div class="example">
    <p>下面是<span class="prop-value">none</span> <a class="property"
        href="coords.html#VectorEffectProperty">向量效果</a>（无向量效果）的示例。</p>
    <table>
      <tr>
        <td>更改CTM之前</td>
        <td>更改CTM之后</td>
      </tr>
      <tr>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-initial.svg"
            alt="显示无向量效果的图像"></td>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-none.svg"
            alt="显示无向量效果的图像"></td>
      </tr>
    </table>

    <p>源代码 </p>
    <pre>
&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="-50,-50,500,500" height="500" width="500">

  &lt;rect x="-50" y="-50" width="500" height="500" stroke="orange" stroke-width="3" fill="none">

  &lt;!-- 嵌套用户坐标系统由此变换属性变换 -->
  &lt;g transform="matrix(2.1169438081370817,0.3576047954311102,-0.3576047954311102,1.4700998667618626,0,0)
                translate(-50,-50)">
    &lt;svg viewBox="-50,-50,500,500" height="500" width="500">
      &lt;!-- 这个SVG基础用户坐标系统上的图纸 -->
      &lt;g stroke="green" stroke-width="1" fill="none">
        &lt;circle cx="0" cy="0" r="10">
        &lt;circle cx="150" cy="150" r="7">
        &lt;path fill="green" stroke="none" d="M0,-3 L30,-3 25,-10 50,0 25,10 30,3 0,3z">

        &lt;line x1="-100" y1="-100" x2="600" y2="-100" stroke-dasharray="5,5">
        &lt;line x1="-100" y1="000" x2="600" y2="000">
        &lt;line x1="-100" y1="100" x2="600" y2="100" stroke-dasharray="5,5">
        &lt;line x1="-100" y1="200" x2="600" y2="200" stroke-dasharray="5,5">
        &lt;line x1="-100" y1="300" x2="600" y2="300" stroke-dasharray="5,5">
        &lt;line x1="-100" y1="400" x2="600" y2="400" stroke-dasharray="5,5">
        &lt;line x1="-100" y1="500" x2="600" y2="500" stroke-dasharray="5,5">

        &lt;line y1="-100" x1="-100" y2="600" x2="-100" stroke-dasharray="5,5">
        &lt;line y1="-100" x1="000" y2="600" x2="000">
        &lt;line y1="-100" x1="100" y2="600" x2="100" stroke-dasharray="5,5">
        &lt;line y1="-100" x1="200" y2="600" x2="200" stroke-dasharray="5,5">
        &lt;line y1="-100" x1="300" y2="600" x2="300" stroke-dasharray="5,5">
        &lt;line y1="-100" x1="400" y2="600" x2="400" stroke-dasharray="5,5">
        &lt;line y1="-100" x1="500" y2="600" x2="500" stroke-dasharray="5,5">
      &lt;/g>

      &lt;!-- 具有向量效果的图形 -->
      &lt;!-- 这个图形的嵌套用户坐标系统原点上的粗红色右箭头和小矩形 -->
      &lt;path id="ve" vector-effect="none"
            stroke="red" stroke-width="3" fill="none"
            transform="matrix(1,0,0,1,150,150)"
            d="M-50,-50 L50,-50 50,-100 150,0 50,100 50,50 -50,50 -50,-50z M5 0 L0 -5 -5 0 0 5z">
    &lt;/svg>
  &lt;/g>
&lt;/svg>
</pre>
  </div>

  <div class="example">
    <p>下面是<span class="prop-value">non-scaling-size</span>的示例。</p>
    <table>
      <tr>
        <td>更改CTM之前</td>
        <td>更改CTM之后</td>
      </tr>
      <tr>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-initial.svg"
            alt="显示效果出现前的外观的图像"></td>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-nonScalingSize.svg"
            alt="显示非缩放大小向量效果的图像"></td>
      </tr>
    </table>

    <pre>
&lt;path id="ve" vector-effect="non-scaling-size"
      stroke="red" stroke-width="3" fill="none"
      transform="matrix(1,0,0,1,150,150)"
      d="M-50,-50 L50,-50 50,-100 150,0 50,100 50,50 -50,50 -50,-50z M5 0 L0 -5 -5 0 0 5z"></pre>
  </div>

  <div class="example">
    <p>下面是<span class="prop-value">non-rotation</span>的示例。</p>
    <table>
      <tr>
        <td>更改CTM之前</td>
        <td>更改CTM之后</td>
      </tr>
      <tr>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-initial.svg"
            alt="显示效果出现前的外观的图像"></td>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-nonRotation.svg"
            alt="显示非旋转向量效果的图像"></td>
      </tr>
    </table>

    <pre>
&lt;path id="ve" vector-effect="non-rotation"
      stroke="red" stroke-width="3" fill="none"
      transform="matrix(1,0,0,1,150,150)"
      d="M-50,-50 L50,-50 50,-100 150,0 50,100 50,50 -50,50 -50,-50z M5 0 L0 -5 -5 0 0 5z"></pre>
  </div>

  <div class="example">
    <p>以下是<span class="prop-value">非缩放大小</span> <span class="prop-value">非旋转</span>的示例。</p>
    <table>
      <tr>
        <td>改变CTM之前</td>
        <td>改变CTM之后</td>
      </tr>
      <tr>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-initial.svg"
            alt="显示向量效果出现之前的图像"></td>
        <td><img class="bordered"
            src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-nonScalingSize-nonRotation.svg"
            alt="显示非缩放大小非旋转向量效果的图像"></td>
      </tr>
    </table>

    <pre>
&lt;path id="ve" vector-effect="non-scaling-size non-rotation"
      stroke="red" stroke-width="3" fill="none"
      transform="matrix(1,0,0,1,150,150)"
      d="M-50,-50 L50,-50 50,-100 150,0 50,100 50,50 -50,50 -50,-50z M5 0 L0 -5 -5 0 0 5z"></pre>
  </div>

  <div class="example">
    <p>以下是<span class="prop-value">固定位置</span>的示例。</p>
    <table>
      <tr>
        <td>改变CTM之前</td>
        <td>改变CTM之后</td>
      </tr>
      <tr>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-initial.svg"
            alt="显示向量效果出现之前的图像"></td>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-fixedPosition.svg"
            alt="显示固定位置向量效果的图像"></td>
      </tr>
    </table>

    <pre>
&lt;path id="ve" vector-effect="fixed-position"
      stroke="red" stroke-width="3" fill="none"
      transform="matrix(1,0,0,1,150,150)"
      d="M-50,-50 L50,-50 50,-100 150,0 50,100 50,50 -50,50 -50,-50z M5 0 L0 -5 -5 0 0 5z"></pre>
  </div>

  <div class="example">
    <p>以下是<span class="prop-value">非缩放大小</span> <span class="prop-value">固定位置</span>的示例。</p>
    <table>
      <tr>
        <td>改变CTM之前</td>
        <td>改变CTM之后</td>
      </tr>
      <tr>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-initial.svg"
            alt="显示向量效果出现之前的图像"></td>
        <td><img class="bordered"
            src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-nonScalingSize-fixedPosition.svg"
            alt="显示非缩放大小固定位置向量效果的图像"></td>
      </tr>
    </table>

    <pre>
&lt;path id="ve" vector-effect="non-scaling-size fixed-position"
      stroke="red" stroke-width="3" fill="none"
      transform="matrix(1,0,0,1,150,150)"
      d="M-50,-50 L50,-50 50,-100 150,0 50,100 50,50 -50,50 -50,-50z M5 0 L0 -5 -5 0 0 5z"></pre>
  </div>

  <div class="example">
    <p>以下是<span class="prop-value">非旋转</span> <span class="prop-value">固定位置</span>的示例。</p>
    <table>
      <tr>
        <td>改变CTM之前</td>
        <td>改变CTM之后</td>
      </tr>
      <tr>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-initial.svg"
            alt="显示向量效果出现之前的图像"></td>
        <td><img class="bordered"
            src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-nonRotation-fixedPosition.svg"
            alt="显示非旋转固定位置向量效果的图像"></td>
      </tr>
    </table>

    <pre>
&lt;path id="ve" vector-effect="non-rotation fixed-position"
      stroke="red" stroke-width="3" fill="none"
      transform="matrix(1,0,0,1,150,150)"
      d="M-50,-50 L50,-50 50,-100 150,0 50,100 50,50 -50,50 -50,-50z M5 0 L0 -5 -5 0 0 5z"></pre>
  </div>

  <div class="example">
    <p>以下是<span class="prop-value">非缩放大小</span> <span class="prop-value">非旋转</span> <span
        class="prop-value">固定位置</span>的示例。</p>
    <table>
      <tr>
        <td>改变CTM之前</td>
        <td>改变CTM之后</td>
      </tr>
      <tr>
        <td><img class="bordered" src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-initial.svg"
            alt="显示向量效果出现之前的图像"></td>
        <td><img class="bordered"
            src="https://www.w3.org/TR/SVG2/images/painting/vectorEffects/ve-nonScalingSize-nonRotation-fixedPosition.svg"
            alt="显示非缩放大小非旋转固定位置向量效果的图像"></td>
      </tr>
    </table>

    <pre>
&lt;path id="ve" vector-effect="non-scaling-size non-rotation fixed-position"
      stroke="red" stroke-width="3" fill="none"
      transform="matrix(1,0,0,1,150,150)"
      d="M-50,-50 L50,-50 50,-100 150,0 50,100 50,50 -50,50 -50,-50z M5 0 L0 -5 -5 0 0 5z"></pre>
  </div>

  <div class="ready-for-wider-review">
    <h2 id="DOMInterfaces" class="heading">8.14. DOM 接口<a class="self-link" href="#DOMInterfaces"></a></h2>

    <h3 id="InterfaceSVGTransform" class="heading">8.14.1. 接口 SVGTransform<a class="self-link"
        href="#InterfaceSVGTransform"></a></h3>

    <p><a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 接口用于表示出现在 <a
        href="https://drafts.csswg.org/css-transforms-1/#typedef-transform-function">&lt;transform-function></a>
      属性值，这些值在<a class="property" href="coords.html#TransformProperty">transform</a> 属性及其展示属性 <span
        class="attr-name">‘transform’</span>、<span class="attr-name">‘<a
          href="pservers.html#LinearGradientElementGradientTransformAttribute"><span>gradientTransform</span></a>’</span>
      和 <span class="attr-name">‘<a
          href="pservers.html#PatternElementPatternTransformAttribute"><span>patternTransform</span></a>’</span> 中出现。<a
        class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 表示变换列表中的单个组件，如单个 <span
        class="prop-value">scale(…)</span> 或 <span class="prop-value">matrix(…)</span> 值。</p>

    <p id="ReadOnlyTransform"><a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象可以被指定为
      <em>只读</em>，这意味着尝试修改该对象将导致抛出异常，如下所述。
    </p>

    <p id="TransformAssociatedElement"><a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>
      对象可以与特定元素 <em>关联</em>。关联的元素用于确定如果该对象<a href="types.html#TermReflect">反映</a>该属性，将更新哪个元素的 <span
        class="attr-name">‘transform’</span> 展示属性。除非另有说明，<a class="idlinterface"
        href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象默认不与任何元素关联。</p>

    <div class="ready-for-wider-review">
      <p id="TransformMode">每个 <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>
        对象在两种模式之一下操作。它可以：</p>

      <ol>
        <li><em>反映展示属性值的一个元素</em>（通过<a href="#__svg__SVGAnimatedTransformList__baseVal">baseVal</a> 成员的方法暴露），</li>
        <li><em>被分离</em>，这是为通过<a href="struct.html#__svg__SVGSVGElement__createSVGTransform">createSVGTransform</a> 和 <a
            href="struct.html#__svg__SVGSVGElement__createSVGTransformFromMatrix">createSVGTransformFromMatrix</a> 创建的<a
            class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象的情况。</li>
      </ol>
    </div>

    <p><a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象维护一个内部 <a
        href="https://drafts.csswg.org/css-transforms-1/#typedef-transform-function">&lt;transform-function></a> 值，称为其
      <dfn id="TransformValue" data-dfn-type="dfn">值</dfn>。它还维护一个 <a class="idlinterface"
        href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> 对象，称为其 <dfn
        id="TransformMatrixObject" data-dfn-type="dfn" data-export="">矩阵对象</dfn>，这是从 <a
        href="#__svg__SVGTransform__matrix">matrix</a> IDL 属性返回的对象。<a class="idlinterface"
        href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象的 <a href="#TransformMatrixObject">矩阵对象</a> 始终与其 <a
        href="#TransformValue">值</a> 保持同步。
    </p>

    <pre class="idl">[Exposed=Window]
interface <b>SVGTransform</b> {

  // 变换类型
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_UNKNOWN">SVG_TRANSFORM_UNKNOWN</a> = 0;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_MATRIX">SVG_TRANSFORM_MATRIX</a> = 1;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_TRANSLATE">SVG_TRANSFORM_TRANSLATE</a> = 2;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_SCALE">SVG_TRANSFORM_SCALE</a> = 3;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_ROTATE">SVG_TRANSFORM_ROTATE</a> = 4;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_SKEWX">SVG_TRANSFORM_SKEWX</a> = 5;
  const unsigned short <a href="coords.html#__svg__SVGTransform__SVG_TRANSFORM_SKEWY">SVG_TRANSFORM_SKEWY</a> = 6;

  readonly attribute unsigned short <a href="coords.html#__svg__SVGTransform__type">type</a>;
  [SameObject] readonly attribute <a class="idlinterface" href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> <a href="coords.html#__svg__SVGTransform__matrix">matrix</a>;
  readonly attribute float <a href="coords.html#__svg__SVGTransform__angle">angle</a>;

  void <a href="coords.html#__svg__SVGTransform__setMatrix">setMatrix</a>(<a class="idlinterface" href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrixreadonly">DOMMatrixReadOnly</a> matrix);
  void <a href="coords.html#__svg__SVGTransform__setTranslate">setTranslate</a>(float tx, float ty);
  void <a href="coords.html#__svg__SVGTransform__setScale">setScale</a>(float sx, float sy);
  void <a href="coords.html#__svg__SVGTransform__setRotate">setRotate</a>(float angle, float cx, float cy);
  void <a href="coords.html#__svg__SVGTransform__setSkewX">setSkewX</a>(float angle);
  void <a href="coords.html#__svg__SVGTransform__setSkewY">setSkewY</a>(float angle);
};</pre>

    <p>在<a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>上定义的数字变换类型常量用于表示<a
        class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>的<a
        href="#TransformValue">值</a>的类型。它们的含义如下：</p>

    <table class="vert">
      <tr>
        <th>常量</th>
        <th>含义</th>
      </tr>
      <tr>
        <td><b id="__svg__SVGTransform__SVG_TRANSFORM_MATRIX">SVG_TRANSFORM_MATRIX</b></td>
        <td>一个<span class="prop-value">matrix(…)</span>值。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGTransform__SVG_TRANSFORM_TRANSLATE">SVG_TRANSFORM_TRANSLATE</b></td>
        <td>一个<span class="prop-value">translate(…)</span>值。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGTransform__SVG_TRANSFORM_SCALE">SVG_TRANSFORM_SCALE</b></td>
        <td>一个<span class="prop-value">scale(…)</span>值。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGTransform__SVG_TRANSFORM_ROTATE">SVG_TRANSFORM_ROTATE</b></td>
        <td>一个<span class="prop-value">rotate(…)</span>值。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGTransform__SVG_TRANSFORM_SKEWX">SVG_TRANSFORM_SKEWX</b></td>
        <td>一个<span class="prop-value">skewX(…)</span>值。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGTransform__SVG_TRANSFORM_SKEWY">SVG_TRANSFORM_SKEWY</b></td>
        <td>一个<span class="prop-value">skewY(…)</span>值。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGTransform__SVG_TRANSFORM_UNKNOWN">SVG_TRANSFORM_UNKNOWN</b></td>
        <td>其他类型的值。</td>
      </tr>
    </table>

    <p class="note">使用数字变换类型常量是一种反模式，不会引入任何新常量值来支持<a class="idlinterface"
        href="coords.html#InterfaceSVGTransform">SVGTransform</a>所支持的变换类型。如果支持并使用其他类型的变换，则<a class="idlinterface"
        href="coords.html#InterfaceSVGTransform">SVGTransform</a>将使用<a
        href="#__svg__SVGTransform__SVG_TRANSFORM_UNKNOWN">SVG_TRANSFORM_UNKNOWN</a>类型。有关这些类型的变换的其他属性如何操作的详细信息，请参见下文。
    </p>

    <p><b id="__svg__SVGTransform__type">type</b> IDL属性表示<a class="idlinterface"
        href="coords.html#InterfaceSVGTransform">SVGTransform</a>的<a href="#TransformValue">值</a>的变换项类型。在获取<a
        href="#__svg__SVGTransform__type">type</a>时，将执行以下步骤：</p>

    <ol class="algorithm">
      <li>如果<a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>的<a
          href="#TransformValue">值</a>是<span class="prop-value">matrix(…)</span>、<span
          class="prop-value">translate(…)</span>、<span class="prop-value">scale(…)</span>、<span
          class="prop-value">rotate(…)</span>、<span class="prop-value">skewX(…)</span>或<span
          class="prop-value">skewY(…)</span>函数，则返回上述变换类型表中的相应常量值。</li>
      <li>否则，返回<a href="#__svg__SVGTransform__SVG_TRANSFORM_UNKNOWN">SVG_TRANSFORM_UNKNOWN</a>。
        <p class="note">例如，对于<span class="prop-value">scaleX(…)</span>或<span
            class="prop-value">translate3d(…)</span>变换，将返回<a
            href="#__svg__SVGTransform__SVG_TRANSFORM_UNKNOWN">SVG_TRANSFORM_UNKNOWN</a>。</p>
      </li>
    </ol>

    <p><b id="__svg__SVGTransform__matrix">matrix</b> IDL属性表示变换为4x4齐次矩阵，在获取时返回<a class="idlinterface"
        href="coords.html#InterfaceSVGTransform">SVGTransform</a>的<a href="#TransformMatrixObject">矩阵对象</a>。当首次创建<a
        href="#TransformMatrixObject">矩阵对象</a>时，其值设置为与<a class="idlinterface"
        href="coords.html#InterfaceSVGTransform">SVGTransform</a>的变换函数<a href="#TransformValue">值</a>匹配，并设置为<a
        href="#MatrixMode">反映SVGTransform</a>。</p>

    <p class="note">请参阅<a
        href="https://drafts.csswg.org/css-transforms-1/#mathematical-description">CSS变换</a>规范，以获取不同变换函数类型与特定矩阵值对应的描述。
    </p>

    <p><b id="__svg__SVGTransform__angle">angle</b> IDL属性表示<span class="prop-value">rotate(…)</span>、<span
        class="prop-value">skewX(…)</span>或<span class="prop-value">skewY(…)</span>变换函数的角度参数。在获取时，将执行以下步骤：</p>

    <ol class="algorithm">
      <li>如果<a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>对象的<a
          href="#TransformValue">值</a>是<span class="prop-value">rotate(…)</span>、<span
          class="prop-value">skewX(…)</span>或<span class="prop-value">skewY(…)</span>函数，则返回其角度参数（以度为单位）。</li>
      <li>否则，返回0。</li>
    </ol>

    <p><b id="__svg__SVGTransform__setMatrix">setMatrix</b>方法用于将<a class="idlinterface"
        href="coords.html#InterfaceSVGTransform">SVGTransform</a>设置为给定的矩阵值。当调用setMatrix(<var>matrix</var>)时，将执行以下步骤：</p>

    <ol class="algorithm">
      <li>如果<a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>对象是<a
          href="#ReadOnlyTransform">只读</a>，则<a href="https://heycam.github.io/webidl/#dfn-throw">抛出</a>一个<a
          href="https://heycam.github.io/webidl/#nomodificationallowederror">不允许修改错误</a>。</li>
      <li>如果<var>matrix</var>的<a
          href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrixreadonly-is2d">is2d</a>方法返回true，则将<a
          class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>对象的<a
          href="#TransformValue">值</a>设置为表示与<var>matrix</var>相同矩阵的<span class="prop-value">matrix(…)</span>值。</li>
      <li>否则，将<a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>对象的<a
          href="#TransformValue">值</a>设置为表示与<var>matrix</var>相同矩阵的<span class="prop-value">matrix3d(…)</span>值。</li>
      <li>将矩阵组件值从<var>matrix</var>复制到<a class="idlinterface"
          href="coords.html#InterfaceSVGTransform">SVGTransform</a>对象的<a href="#TransformMatrixObject">矩阵对象</a>。</li>
      <li>如果<a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>对象<a
          href="#TransformMode">反映呈现属性值的元素</a>，则<a href="types.html#TermReserialize">重新序列化</a>反映的属性。</li>
    </ol>

    <p>这些 <b id="__svg__SVGTransform__setTranslate">setTranslate</b>，<b
        id="__svg__SVGTransform__setScale">setScale</b>，<b id="__svg__SVGTransform__setRotate">setRotate</b>，<b
        id="__svg__SVGTransform__setSkewX">setSkewX</b> 和 <b id="__svg__SVGTransform__setSkewY">setSkewY</b> 方法用于将 <a
        class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 设置为一个新的变换函数值。当调用这些方法之一时，将执行以下步骤：
    </p>

    <ol class="algorithm">
      <li>如果 <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象是 <a
          href="#ReadOnlyTransform">只读</a>，则 <a href="https://heycam.github.io/webidl/#dfn-throw">抛出</a> <a
          href="https://heycam.github.io/webidl/#nomodificationallowederror">NoModificationAllowedError</a>。</li>
      <li>将 <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象的 <a
          href="#TransformValue">值</a> 设置为一个新的变换函数值，具体取决于调用了哪个方法：
        <dl class="switch">
          <dt>setTranslate(<var>tx</var>, <var>ty</var>)</dt>
          <dd>新的变换函数值是 <span class="prop-value">translate(<var>tx</var>, <var>ty</var>)</span></dd>
          <dt>setScale(<var>sx</var>, <var>sy</var>)</dt>
          <dd>新的变换函数值是 <span class="prop-value">scale(<var>sx</var>, <var>sy</var>)</span></dd>
          <dt>setRotate(<var>angle</var>, <var>cx</var>, <var>cy</var>)</dt>
          <dd>新的变换函数值是 <span class="prop-value">rotate(<var>angle</var>, <var>cx</var>, <var>cy</var>)</span></dd>
          <dt>setSkewX(<var>angle</var>)</dt>
          <dd>新的变换函数值是 <span class="prop-value">skewX(<var>angle</var>)</span></dd>
          <dt>setSkewY(<var>angle</var>)</dt>
          <dd>新的变换函数值是 <span class="prop-value">skewY(<var>angle</var>)</span></dd>
        </dl>
      </li>
      <li>将 <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象的 <a
          href="#TransformMatrixObject">矩阵对象</a> 的组件设置为与新的变换函数 <a href="#TransformValue">值</a> 匹配。</li>
      <li>如果 <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象 <a
          href="#TransformMode">反映了演示属性值的一个元素</a>，则 <a href="types.html#TermReserialize">重新序列化</a> 反射的属性。</li>
    </ol>

    <p>本规范对 <a class="idlinterface"
        href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> 对象的行为施加了额外的要求，这些要求超出了 <a
        href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/">几何接口</a> 规范中所描述的内容，以便它们可以用于反映采用变换值的演示属性。</p>

    <p id="MatrixMode">每个 <a class="idlinterface"
        href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> 对象在两种模式之一下运行。它可以：</p>

    <ol>
      <li><em>反映一个 <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a></em>（通过 <a
          href="#__svg__SVGTransform__matrix">matrix</a> IDL 属性暴露在 <a class="idlinterface"
          href="coords.html#InterfaceSVGTransform">SVGTransform</a> 上），或者</li>
      <li><em>被分离</em>，这是使用其构造函数或 <a href="struct.html#__svg__SVGSVGElement__createSVGMatrix">createSVGMatrix</a> 创建的 <a
          class="idlinterface" href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a>
        对象的情况。</li>
    </ol>

    <p id="ReadOnlyMatrix">一个 <a class="idlinterface"
        href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> 可以被指定为
      <em>只读</em>，这意味着尝试修改该对象将导致抛出异常。当分配给任何只读 <a class="idlinterface"
        href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> 的 IDL
      属性时，或者当调用其任何可变变换方法时，将抛出 <a
        href="https://heycam.github.io/webidl/#nomodificationallowederror">NoModificationAllowedError</a> 异常，而不是更新内部值。
    </p>

    <p class="note">请注意，这仅适用于可读写的 <a class="idlinterface"
        href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> 接口； <a
        class="idlinterface"
        href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrixreadonly">DOMMatrixReadOnly</a> 接口在未反映 <a
        class="property" href="coords.html#TransformProperty">transform</a> 时，如果尝试修改它，将已经抛出异常。</p>

    <p>在分配给任何可写的 <a class="idlinterface"
        href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> 的 IDL
      属性时，或者在调用其任何可变变换方法时，在更新内部矩阵值后执行以下步骤：</p>

    <ol class="algorithm">
      <li>如果 <a class="idlinterface"
          href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> <a
          href="#MatrixMode">反映一个 SVGTransform</a>，则：
        <ol>
          <li>如果 <a class="idlinterface"
              href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> 将从其 <a
              href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrixreadonly-is2d">is2d</a> 方法返回 true，则将
            <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象的 <a
              href="#TransformValue">值</a> 设置为表示与 <a class="idlinterface"
              href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> 相同矩阵的 <span
              class="prop-value">matrix(…)</span> 值。
          </li>
          <li>否则，将 <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象的 <a
              href="#TransformValue">值</a> 设置为表示与 <a class="idlinterface"
              href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrix">DOMMatrix</a> 相同矩阵的 <span
              class="prop-value">matrix3d(…)</span> 值。</li>
          <li>如果 <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象 <a
              href="#TransformMode">反映了演示属性值的一个元素</a>，则 <a href="types.html#TermReserialize">重新序列化</a> 反射的属性。</li>
        </ol>
      </li>
    </ol>

    <h3 id="InterfaceSVGTransformList" class="heading">8.14.2. 接口 SVGTransformList<a class="self-link"
        href="#InterfaceSVGTransformList"></a></h3>

    <p><a class="idlinterface" href="coords.html#InterfaceSVGTransformList">SVGTransformList</a> 接口是一个 <a
        href="types.html#TermListInterface">列表接口</a>，其元素为 <a class="idlinterface"
        href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象。
      <a class="idlinterface" href="coords.html#InterfaceSVGTransformList">SVGTransformList</a> 代表一个值，<a
        class="property" href="coords.html#TransformProperty">transform</a> 属性可以取这个值，即
      要么是一个 <a href="https://drafts.csswg.org/css-transforms-1/#typedef-transform-list">&lt;transform-list></a>
      或者关键字 <span class="prop-value">none</span>。
    </p>

    <pre class="idl">[Exposed=Window]
interface <b>SVGTransformList</b> {

  readonly attribute unsigned long <a href="types.html#__svg__SVGNameList__length">length</a>;
  readonly attribute unsigned long <a href="types.html#__svg__SVGNameList__numberOfItems">numberOfItems</a>;

  void <a href="types.html#__svg__SVGNameList__clear">clear</a>();
  <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> <a href="types.html#__svg__SVGNameList__initialize">initialize</a>(<a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> newItem);
  getter <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> <a href="types.html#__svg__SVGNameList__getItem">getItem</a>(unsigned long index);
  <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> <a href="types.html#__svg__SVGNameList__insertItemBefore">insertItemBefore</a>(<a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> newItem, unsigned long index);
  <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> <a href="types.html#__svg__SVGNameList__replaceItem">replaceItem</a>(<a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> newItem, unsigned long index);
  <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> <a href="types.html#__svg__SVGNameList__removeItem">removeItem</a>(unsigned long index);
  <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> <a href="types.html#__svg__SVGNameList__appendItem">appendItem</a>(<a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> newItem);
  <a href="types.html#__svg__SVGNameList__setter">setter</a> void (unsigned long index, <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> newItem);

  <span class="comment">// 其他列表接口不常见的附加方法。</span>
  <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a> <a href="coords.html#__svg__SVGTransformList__createSVGTransformFromMatrix">createSVGTransformFromMatrix</a>(<a class="idlinterface" href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrixreadonly">DOMMatrixReadOnly</a> matrix);
  <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>? <a href="coords.html#__svg__SVGTransformList__consolidate">consolidate</a>();
};</pre>

    <p><b id="__svg__SVGTransformList__createSVGTransformFromMatrix">createSVGTransformFromMatrix</b>
      方法用于从矩阵对象创建一个新的 <a class="idlinterface" href="coords.html#InterfaceSVGTransform">SVGTransform</a>
      对象。当调用 createSVGTransformFromMatrix(<var>matrix</var>) 方法时，执行以下步骤：</p>

    <ol class="algorithm">
      <li>让 <var>transform</var> 成为一个新创建的 <a class="idlinterface"
          href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象，且该对象是 <a href="#TransformMode">分离的</a>。</li>
      <li>按照调用 <a href="#__svg__SVGTransform__setMatrix">setMatrix</a> 方法时的步骤执行，传递 <var>matrix</var> 作为参数。</li>
      <li>返回 <var>transform</var>。</li>
    </ol>

    <p><b id="__svg__SVGTransformList__consolidate">consolidate</b>
      方法用于将变换列表转换为等效的单个变换函数。当调用 consolidate() 方法时，执行以下步骤：</p>

    <ol class="algorithm">
      <li>如果 <a class="idlinterface" href="coords.html#InterfaceSVGTransformList">SVGTransformList</a> 对象是 <a
          href="types.html#ReadOnlyList">只读的</a>，则 <a href="https://heycam.github.io/webidl/#dfn-throw">抛出</a> <a
          href="https://heycam.github.io/webidl/#nomodificationallowederror">NoModificationAllowedError</a>。</li>
      <li>如果列表为空，返回 null。</li>
      <li>解除附加并移除列表中的所有元素。</li>
      <li>让 <var>transform</var> 成为一个新创建的 <a class="idlinterface"
          href="coords.html#InterfaceSVGTransform">SVGTransform</a> 对象。</li>
      <li>让 <var>matrix</var> 为通过从单位矩阵开始，然后按顺序后乘列表中每个 <a class="idlinterface"
          href="coords.html#InterfaceSVGTransform">SVGTransform</a> 的 <a href="#TransformMatrixObject">矩阵对象</a>
        的值所获得的矩阵值。</li>
      <li>将 <var>transform</var> 的 <a href="#TransformMatrixObject">矩阵对象</a> 的组件设置为 <var>matrix</var> 中的组件值。</li>
      <li>如果 <var>transform</var> 的 <a href="#TransformMatrixObject">矩阵对象</a> 的 <a
          href="https://www.w3.org/TR/2014/WD-geometry-1-20140522/#dom-dommatrixreadonly-is2d">is2d</a>
        方法返回 true，则将 <var>transform</var> 的 <a href="#TransformValue">值</a> 设置为一个表示与 <a
          href="#TransformMatrixObject">矩阵对象</a> 相同矩阵的 <span class="prop-value">matrix(…)</span>
        值。</li>
      <li>否则，将 <var>transform</var> 的 <a href="#TransformValue">值</a> 设置为一个表示与 <a href="#TransformMatrixObject">矩阵对象</a>
        相同矩阵的 <span class="prop-value">matrix3d(…)</span>
        值。</li>
      <li><a href="types.html#TermAttach">附加</a> <var>transform</var> 到此 <a class="idlinterface"
          href="coords.html#InterfaceSVGTransformList">SVGTransformList</a>。</li>
      <li>将 <var>transform</var> 附加到此列表。</li>
      <li>如果列表 <a href="types.html#TermReflect">反映</a> 一个展示属性，则 <a href="types.html#TermReserialize">重新序列化</a> 该反映属性。
      </li>
      <li>返回 <var>transform</var>。</li>
    </ol>

    <p>所有其他接口成员的行为 <a class="idlinterface" href="types.html#InterfaceSVGLengthList">SVGLengthList</a> 在 <a
        href="types.html#ListInterfaces">列表接口</a> 中定义。</p>


    <h3 id="InterfaceSVGAnimatedTransformList" class="heading">8.14.3. 接口 SVGAnimatedTransformList<a class="self-link"
        href="#InterfaceSVGAnimatedTransformList"></a></h3>

    <p>一个 <a class="idlinterface" href="coords.html#InterfaceSVGAnimatedTransformList">SVGAnimatedTransformList</a>
      对象用于 <a href="types.html#TermReflect">反映</a> <a class="property"
        href="coords.html#TransformProperty">transform</a> 属性及其对应的呈现属性
      （这取决于元素，可能是 <span class="attr-name">‘transform’</span>，
      <span class="attr-name">‘<a
          href="pservers.html#LinearGradientElementGradientTransformAttribute"><span>gradientTransform</span></a>’</span>
      或
      <span class="attr-name">‘<a
          href="pservers.html#PatternElementPatternTransformAttribute"><span>patternTransform</span></a>’</span>）。
    </p>

    <pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedTransformList</b> {
  [SameObject] readonly attribute <a class="idlinterface" href="coords.html#InterfaceSVGTransformList">SVGTransformList</a> <a href="coords.html#__svg__SVGAnimatedTransformList__baseVal">baseVal</a>;
  [SameObject] readonly attribute <a class="idlinterface" href="coords.html#InterfaceSVGTransformList">SVGTransformList</a> <a href="coords.html#__svg__SVGAnimatedTransformList__animVal">animVal</a>;
};</pre>

    <p class="ready-for-wider-review">属性 <b id="__svg__SVGAnimatedTransformList__baseVal">baseVal</b> 和
      <b id="__svg__SVGAnimatedTransformList__animVal">animVal</b> 的 IDL 属性
      代表反映的呈现属性的值。
      获取 <a href="#__svg__SVGAnimatedTransformList__baseVal">baseVal</a> 或
      <a href="#__svg__SVGAnimatedTransformList__animVal">animVal</a> 时，将返回一个
      <a class="idlinterface" href="coords.html#InterfaceSVGTransformList">SVGTransformList</a> 对象，反映给定的
      呈现属性。
    </p>

    <h3 id="InterfaceSVGPreserveAspectRatio" class="heading">8.14.4. 接口 SVGPreserveAspectRatio<a class="self-link"
        href="#InterfaceSVGPreserveAspectRatio"></a></h3>

    <p><a class="idlinterface" href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a>
      接口用于表示
      <span class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span> 属性的值。
    </p>

    <p id="ReadOnlyPreserveAspectRatio">一个 <a class="idlinterface"
        href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a> 对象可以被指定为
      <em>只读</em>，
      这意味着尝试修改该对象将导致抛出异常，如下所述。
    </p>

    <p id="PreserveAspectRatioMode" class="ready-for-wider-review">每个 <a class="idlinterface"
        href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a> 对象
      <em>反映基值</em> 的 <a href="types.html#TermReflect">反射</a> <span class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>
      属性（通过
      <a href="#__svg__SVGAnimatedPreserveAspectRatio__baseVal">baseVal</a> 或
      <a href="#__svg__SVGAnimatedPreserveAspectRatio__animVal">animVal</a> 成员的方法暴露）。
    </p>

    <pre class="idl">[Exposed=Window]
interface <b>SVGPreserveAspectRatio</b> {

  /// 对齐类型
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_UNKNOWN">SVG_PRESERVEASPECTRATIO_UNKNOWN</a> = 0;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_NONE">SVG_PRESERVEASPECTRATIO_NONE</a> = 1;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMIN">SVG_PRESERVEASPECTRATIO_XMINYMIN</a> = 2;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMIN">SVG_PRESERVEASPECTRATIO_XMIDYMIN</a> = 3;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMIN">SVG_PRESERVEASPECTRATIO_XMAXYMIN</a> = 4;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMID">SVG_PRESERVEASPECTRATIO_XMINYMID</a> = 5;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMID">SVG_PRESERVEASPECTRATIO_XMIDYMID</a> = 6;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMID">SVG_PRESERVEASPECTRATIO_XMAXYMID</a> = 7;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMAX">SVG_PRESERVEASPECTRATIO_XMINYMAX</a> = 8;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMAX">SVG_PRESERVEASPECTRATIO_XMIDYMAX</a> = 9;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMAX">SVG_PRESERVEASPECTRATIO_XMAXYMAX</a> = 10;

  // 相遇或切割类型
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_UNKNOWN">SVG_MEETORSLICE_UNKNOWN</a> = 0;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_MEET">SVG_MEETORSLICE_MEET</a> = 1;
  const unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_SLICE">SVG_MEETORSLICE_SLICE</a> = 2;

  attribute unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__align">align</a>;
  attribute unsigned short <a href="coords.html#__svg__SVGPreserveAspectRatio__meetOrSlice">meetOrSlice</a>;
};</pre>

    <p>在<a class="idlinterface"
        href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a>上定义的数值对齐类型常量用于表示<span
        class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>属性可以取的对齐关键字值。它们的含义如下：
    </p>

    <table class="vert">
      <tr>
        <th>常量</th>
        <th>含义</th>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_NONE">SVG_PRESERVEASPECTRATIO_NONE</b></td>
        <td><span class="attr-value">none</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMIN">SVG_PRESERVEASPECTRATIO_XMINYMIN</b>
        </td>
        <td><span class="attr-value">xMinYMin</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMIN">SVG_PRESERVEASPECTRATIO_XMIDYMIN</b>
        </td>
        <td><span class="attr-value">xMidYMin</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMIN">SVG_PRESERVEASPECTRATIO_XMAXYMIN</b>
        </td>
        <td><span class="attr-value">xMaxYMin</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMID">SVG_PRESERVEASPECTRATIO_XMINYMID</b>
        </td>
        <td><span class="attr-value">xMinYMid</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMID">SVG_PRESERVEASPECTRATIO_XMIDYMID</b>
        </td>
        <td><span class="attr-value">xMidYMid</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMID">SVG_PRESERVEASPECTRATIO_XMAXYMID</b>
        </td>
        <td><span class="attr-value">xMaxYMid</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMINYMAX">SVG_PRESERVEASPECTRATIO_XMINYMAX</b>
        </td>
        <td><span class="attr-value">xMinYMax</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMIDYMAX">SVG_PRESERVEASPECTRATIO_XMIDYMAX</b>
        </td>
        <td><span class="attr-value">xMidYMax</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_XMAXYMAX">SVG_PRESERVEASPECTRATIO_XMAXYMAX</b>
        </td>
        <td><span class="attr-value">xMaxYMax</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_UNKNOWN">SVG_PRESERVEASPECTRATIO_UNKNOWN</b>
        </td>
        <td>其他类型的值。</td>
      </tr>
    </table>

    <p>同样，在<a class="idlinterface"
        href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a>上定义的数值相遇或切割类型常量用于表示<span
        class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>属性可以取的相遇或切割关键字值。它们的含义如下：
    </p>

    <table class="vert">
      <tr>
        <th>常量</th>
        <th>含义</th>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_MEET">SVG_MEETORSLICE_MEET</b></td>
        <td><span class="attr-value">meet</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_SLICE">SVG_MEETORSLICE_SLICE</b></td>
        <td><span class="attr-value">slice</span>关键字。</td>
      </tr>
      <tr>
        <td><b id="__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_UNKNOWN">SVG_MEETORSLICE_UNKNOWN</b></td>
        <td>其他类型的值。</td>
      </tr>
    </table>

    <p><b id="__svg__SVGPreserveAspectRatio__align">align</b> IDL属性表示<span class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>值的对齐关键字部分。获取时，将执行以下步骤：
    </p>

    <div class="ready-for-wider-review">
      <ol class="algorithm">
        <li>让<var>value</var> <a href="#PreserveAspectRatioMode">反映基本值</a>的<span class="attr-name">‘<a
              href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>属性。<var>value</var>是属性的当前非动画值（如果不存在或无效，则使用属性的<a
            href="types.html#TermInitialValue">初始值</a>）。</li>
        <li>根据上面的对齐常量表返回<var>value</var>中的对齐关键字的常量值。</li>
      </ol>
    </div>

    <p>设置 <a href="#__svg__SVGPreserveAspectRatio__align">align</a> 时，将执行以下步骤：</p>

    <ol class="algorithm">
      <li>如果 <a class="idlinterface" href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a> 为 <a
          href="#ReadOnlyPreserveAspectRatio">只读</a>，则 <a href="https://heycam.github.io/webidl/#dfn-throw">抛出</a> <a
          href="https://heycam.github.io/webidl/#nomodificationallowederror">NoModificationAllowedError</a>。</li>
      <li>如果 <var>value</var> 为 <a
          href="#__svg__SVGPreserveAspectRatio__SVG_PRESERVEASPECTRATIO_UNKNOWN">SVG_PRESERVEASPECTRATIO_UNKNOWN</a>
        或在上面的对齐关键字表中没有对应项，则返回。</li>
      <li>让 <var>string</var> 为上面对齐关键字表中对应 <var>value</var> 的关键字。</li>
      <li>在 <var>string</var> 后附加一个 U+0020 空格字符。</li>
      <li>让 <var>meet or slice</var> 为从该 <a class="idlinterface"
          href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a> 的 <a
          href="#__svg__SVGPreserveAspectRatio__meetOrSlice">meetOrSlice</a> 成员返回的值。</li>
      <li>在 <var>string</var> 后附加上面 meet-or-slice 关键字表中对应 <var>meet or slice</var> 的关键字。</li>
      <li>将反映的 <span class="attr-name">‘<a
            href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span> 属性设置为
        <var>string</var>。
      </li>
    </ol>

    <p><b id="__svg__SVGPreserveAspectRatio__meetOrSlice">meetOrSlice</b> IDL 属性表示 <span class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>
      值的对齐关键字部分。获取时执行以下步骤：</p>

    <div class="ready-for-wider-review">
      <ol class="algorithm">
        <li>让 <var>value</var> 为反映 <span class="attr-name">‘<a
              href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span>
          属性的基础值的值，<var>value</var> 是该属性当前的非动画值。</li>
        <li>如果 <var>value</var> 中未包含 meet-or-slice 值，则返回 <a
            href="#__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_MEET">SVG_MEETORSLICE_MEET</a>。</li>
        <li>否则，meet-or-slice 值存在。返回上面 meet-or-slice 常量表中 <var>value</var> 的 meet-or-slice 关键字所指定的常量值。</li>
      </ol>
    </div>

    <p>设置 <a href="#__svg__SVGPreserveAspectRatio__meetOrSlice">meetOrSlice</a> 时，将执行以下步骤：</p>

    <ol class="algorithm">
      <li>如果 <a class="idlinterface" href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a> 为 <a
          href="#ReadOnlyPreserveAspectRatio">只读</a>，则 <a href="https://heycam.github.io/webidl/#dfn-throw">抛出</a> <a
          href="https://heycam.github.io/webidl/#nomodificationallowederror">NoModificationAllowedError</a>。</li>
      <li>如果 <var>value</var> 为 <a
          href="#__svg__SVGPreserveAspectRatio__SVG_MEETORSLICE_UNKNOWN">SVG_MEETORSLICE_UNKNOWN</a> 或在上面的 meet-or-slice
        关键字表中没有对应项，则返回。</li>
      <li>让 <var>align</var> 为从该 <a class="idlinterface"
          href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a> 的 <a
          href="#__svg__SVGPreserveAspectRatio__align">align</a> 成员返回的值。</li>
      <li>让 <var>string</var> 为上面对齐关键字表中对应 <var>align</var> 的关键字。</li>
      <li>在 <var>string</var> 后附加一个 U+0020 空格字符。</li>
      <li>在 <var>string</var> 后附加上面 meet-or-slice 关键字表中对应 <var>value</var> 的关键字。</li>
      <li>将反映的 <span class="attr-name">‘<a
            href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span> 属性设置为
        <var>string</var>。
      </li>
    </ol>

    <h3 id="InterfaceSVGAnimatedPreserveAspectRatio" class="heading">8.14.5. 接口 SVGAnimatedPreserveAspectRatio<a
        class="self-link" href="#InterfaceSVGAnimatedPreserveAspectRatio"></a></h3>

    <p><a class="idlinterface"
        href="coords.html#InterfaceSVGAnimatedPreserveAspectRatio">SVGAnimatedPreserveAspectRatio</a> 对象用于 <a
        href="types.html#TermReflect">反映</a> <span class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span> 属性。</p>

    <pre class="idl">[Exposed=Window]
interface <b>SVGAnimatedPreserveAspectRatio</b> {
  [SameObject] readonly attribute <a class="idlinterface" href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a> <a href="coords.html#__svg__SVGAnimatedPreserveAspectRatio__baseVal">baseVal</a>;
  [SameObject] readonly attribute <a class="idlinterface" href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a> <a href="coords.html#__svg__SVGAnimatedPreserveAspectRatio__animVal">animVal</a>;
};</pre>

    <p class="ready-for-wider-review">属性 <b id="__svg__SVGAnimatedPreserveAspectRatio__baseVal">baseVal</b> 和 <b
        id="__svg__SVGAnimatedPreserveAspectRatio__animVal">animVal</b> IDL 属性表示反映的 <span class="attr-name">‘<a
          href="coords.html#PreserveAspectRatioAttribute"><span>preserveAspectRatio</span></a>’</span> 属性的当前非动画值。获取 <a
        href="#__svg__SVGAnimatedPreserveAspectRatio__baseVal">baseVal</a> 或 <a
        href="#__svg__SVGAnimatedPreserveAspectRatio__animVal">animVal</a> 时，返回一个 <a class="idlinterface"
        href="coords.html#InterfaceSVGPreserveAspectRatio">SVGPreserveAspectRatio</a> 对象，该对象反映该属性的基础值。</p>

  </div>

  <script src="//www.w3.org/scripts/TR/2016/fixup.js"></script>
  <script src="/dropdown.js"></script>
</body>

