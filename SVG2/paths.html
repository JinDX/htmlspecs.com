<!DOCTYPE html>

<!--
  Scalable Vector Graphics (SVG) 2
  Chapter 9: Paths

  Note: This document is generated from ../master/paths.html.
  Run "make" from the root of the repository to regenerate it.
  -->

<html lang="zh-hans" xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="UTF-8">
  <title>路径 — SVG 2</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Style sheets for local dev. Will be standardized in processing.
  Add attribute data-keep="" to any extra stylesheet link you do not want removed
  (or use <style>), and include it before here. -->


  <link rel="stylesheet" title="Default" href="https://www.w3.org/TR/SVG2/style/svg.css" type="text/css" media="screen">
  <link rel="alternate stylesheet" title="Only annotations for publication"
    href="https://www.w3.org/TR/SVG2/style/default_no_maturity.css" type="text/css" media="screen">
  <link rel="alternate stylesheet" title="No issues/annotations"
    href="https://www.w3.org/TR/SVG2/style/default_no_issues.css" type="text/css" media="screen">
  <link rel="stylesheet" href="//www.w3.org/StyleSheets/TR/2016/W3C-ED" type="text/css" media="screen">
  <script src="https://www.w3.org/TR/SVG2/style/link-fixup.js"></script>
</head>

<body class="chapter-paths">

  <h1>第9章：路径</h1>
  <nav id="toc">
    <div class="header top">
      <a href="Overview.html">概述</a> . <a href="coords.html">上一页</a> . <a href="shapes.html">下一页</a> . <a
        href="eltindex.html">元素</a> . <a href="attindex.html">属性</a> . <a href="propidx.html">属性</a>
    </div>
    <h2 id="Contents" class="contents">目录</h2>
    <ol class="toc">
      <li>
        <ol class="toc">
          <li><a href="paths.html#Introduction"><span class="secno">9.1.</span> 引言</a></li>
          <li><a href="paths.html#PathElement"><span class="secno">9.2.</span> ‘<span class="element-name">path</span>’
              元素</a></li>
          <li><a href="paths.html#PathData"><span class="secno">9.3.</span> 路径数据</a>
            <ol class="toc">
              <li><a href="paths.html#PathDataGeneralInformation"><span class="secno">9.3.1.</span> 路径数据的基本信息</a></li>
              <li><a href="paths.html#TheDProperty"><span class="secno">9.3.2.</span> 指定路径数据：‘<span
                    class="property">d</span>’ 属性</a></li>
              <li><a href="paths.html#PathDataMovetoCommands"><span class="secno">9.3.3.</span> “moveto” 命令</a></li>
              <li><a href="paths.html#PathDataClosePathCommand"><span class="secno">9.3.4.</span> “closepath” 命令</a>
                <ol class="toc">
                  <li><a href="paths.html#Segment-CompletingClosePath"><span class="secno">9.3.4.1.</span>
                      完成段的闭合路径操作</a></li>
                </ol>
              </li>
              <li><a href="paths.html#PathDataLinetoCommands"><span class="secno">9.3.5.</span> “lineto” 命令</a></li>
              <li><a href="paths.html#PathDataCubicBezierCommands"><span class="secno">9.3.6.</span> 立方 Bézier 曲线命令</a>
              </li>
              <li><a href="paths.html#PathDataQuadraticBezierCommands"><span class="secno">9.3.7.</span> 二次 Bézier
                  曲线命令</a></li>
              <li><a href="paths.html#PathDataEllipticalArcCommands"><span class="secno">9.3.8.</span> 椭圆弧曲线命令</a></li>
              <li><a href="paths.html#PathDataBNF"><span class="secno">9.3.9.</span> 路径数据的语法</a></li>
            </ol>
          </li>
          <li><a href="paths.html#PathDirectionality"><span class="secno">9.4.</span> 路径方向性</a></li>
          <li><a href="paths.html#PathElementImplementationNotes"><span class="secno">9.5.</span> 实现注释</a>
            <ol class="toc">
              <li><a href="paths.html#ArcOutOfRangeParameters"><span class="secno">9.5.1.</span> 超出范围的椭圆弧参数</a></li>
              <li><a href="paths.html#ReflectedControlPoints"><span class="secno">9.5.2.</span> 反射控制点</a></li>
              <li><a href="paths.html#ZeroLengthSegments"><span class="secno">9.5.3.</span> 零长度路径段</a></li>
              <li><a href="paths.html#PathDataErrorHandling"><span class="secno">9.5.4.</span> 路径数据中的错误处理</a></li>
            </ol>
          </li>
          <li><a href="paths.html#DistanceAlongAPath"><span class="secno">9.6.</span> 路径上的距离</a>
            <ol class="toc">
              <li><a href="paths.html#PathLengthAttribute"><span class="secno">9.6.1.</span> ‘<span
                    class="attr-name">pathLength</span>’ 属性</a></li>
            </ol>
          </li>
          <li><a href="paths.html#DOMInterfaces"><span class="secno">9.7.</span> DOM 接口</a>
            <ol class="toc">
              <li><a href="paths.html#InterfaceSVGPathElement"><span class="secno">9.7.1.</span> 接口 SVGPathElement</a>
              </li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </nav>

  <h2 id="Introduction" class="heading">9.1. 引言<a class="self-link" href="#Introduction"></a></h2>

  <p>
    路径表示一个可以填充或描边的形状轮廓。路径还可以用作剪辑路径、描述动画或定位文本。路径可以同时用于多个功能。(参见
    <a href="painting.html">填充、描边和绘画服务器</a>,
    <a href="render.html#ClippingAndMasking">剪辑和遮罩</a>,
    动画 (<a href="https://svgwg.org/specs/animations/#AnimateMotionElement">'animateMotion'</a>),
    和 <a href="text.html#TextLayoutPath">路径上的文本</a>.)
  </p>

  <p>路径使用当前点的概念进行描述。在纸上绘画的类比中，当前点可以被视为笔的位置。笔的位置可以改变，形状的轮廓（开放或封闭）可以通过在直线或曲线中拖动笔来描绘。</p>

  <p>路径表示对象轮廓的几何形状，定义为 <em>moveto</em>（设置新当前点）、<em>lineto</em>（绘制直线）、<em>curveto</em>（使用立方 Bézier
    绘制曲线）、<em>arc</em>（椭圆或圆弧）和 <em>closepath</em>（通过连接到最后的 <em>moveto</em>
    来闭合当前形状）命令。复合路径（即，具有多个子路径的路径）是可能的，以允许在对象中产生“甜甜圈孔”等效果。</p>

  <p>本章描述了 SVG 路径的语法、行为和 DOM 接口。关于 SVG 路径的各种实现注释可以在 <a href="paths.html#PathElementImplementationNotes"><span
        class="element-name">‘path’</span> 元素实现注释</a>中找到。</p>

  <p>路径在 SVG 中使用 <span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span> 元素定义。</p>

  <p>基本形状都以其 <a href="shapes.html#TermBasicShapeElement">等效路径</a> 的形式进行描述，即它们作为路径的形状。(‘<span
      class="element-name">path</span>’ 元素的等效路径就是路径本身。)为了将基本形状定义为等效路径，定义了一种 <a
      href="paths.html#TermSegment-CompletingClosePath">完成段的闭合路径</a> 操作，而目前无法在基本路径语法中表示。</p>


  html
  复制代码
  <h2 id="PathElement" class="heading">9.2. <span class="element-name">‘path’</span> 元素<a class="self-link"
      href="#PathElement"></a></h2>

  <div class="element-summary">
    <div class="element-summary-name"><span class="element-name">‘<dfn data-dfn-type="element" data-export=""
          id="elementdef-path">path</dfn>’</span></div>
    <dl>
      <dt>类别：</dt>
      <dd><a href="struct.html#TermGraphicsElement">图形元素</a>， <a href="render.html#TermRenderableElement">可呈现元素</a>， <a
          href="shapes.html#TermShapeElement">形状
          元素</a></dd>
      <dt>内容模型：</dt>
      <dd>以下元素的任意数量，顺序无关：
        <ul class="no-bullets">
          <li><a href="https://svgwg.org/specs/animations/#TermAnimationElement">动画元素</a><span class="expanding"> —
              <span class="element-name">‘<a
                  href="https://svgwg.org/specs/animations/#AnimateElement"><span>animate</span></a>’</span>， <span
                class="element-name">‘<a
                  href="https://svgwg.org/specs/animations/#AnimateMotionElement"><span>animateMotion</span></a>’</span>，
              <span class="element-name">‘<a
                  href="https://svgwg.org/specs/animations/#AnimateTransformElement"><span>animateTransform</span></a>’</span>，
              <span class="element-name">‘<a
                  href="https://svgwg.org/specs/animations/#DiscardElement"><span>discard</span></a>’</span>， <span
                class="element-name">‘<a
                  href="https://svgwg.org/specs/animations/#SetElement"><span>set</span></a>’</span></span></li>
          <li><a href="struct.html#TermDescriptiveElement">描述性元素</a><span class="expanding"> — <span
                class="element-name">‘<a href="struct.html#DescElement"><span>desc</span></a>’</span>， <span
                class="element-name">‘<a href="struct.html#TitleElement"><span>title</span></a>’</span>， <span
                class="element-name">‘<a href="struct.html#MetadataElement"><span>metadata</span></a>’</span></span>
          </li>
          <li><a href="painting.html#TermPaintServerElement">绘画服务器元素</a><span class="expanding"> — <span
                class="element-name">‘<a
                  href="pservers.html#LinearGradientElement"><span>linearGradient</span></a>’</span>， <span
                class="element-name">‘<a
                  href="pservers.html#RadialGradientElement"><span>radialGradient</span></a>’</span>， <span
                class="element-name">‘<a href="pservers.html#PatternElement"><span>pattern</span></a>’</span></span>
          </li>
        </ul><span class="element-name"><a
            href="https://drafts.fxtf.org/css-masking-1/#ClipPathElement"><span>clipPath</span></a></span>， <span
          class="element-name"><a href="painting.html#MarkerElement"><span>marker</span></a></span>， <span
          class="element-name"><a
            href="https://drafts.fxtf.org/css-masking-1/#MaskElement"><span>mask</span></a></span>， <span
          class="element-name"><a href="interact.html#ScriptElement"><span>script</span></a></span>， <span
          class="element-name"><a href="styling.html#StyleElement"><span>style</span></a></span>
      </dd>
      <dt>属性：</dt>
      <dd>
        <ul class="no-bullets">
          <li><a href="struct.html#TermARIAAttribute">aria 属性</a><span class="expanding"> — <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-activedescendant"><span>aria-activedescendant</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-atomic"><span>aria-atomic</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-autocomplete"><span>aria-autocomplete</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-busy"><span>aria-busy</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-checked"><span>aria-checked</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-colcount"><span>aria-colcount</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-colindex"><span>aria-colindex</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-colspan"><span>aria-colspan</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-controls"><span>aria-controls</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-current"><span>aria-current</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-describedby"><span>aria-describedby</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-details"><span>aria-details</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-disabled"><span>aria-disabled</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-dropeffect"><span>aria-dropeffect</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage"><span>aria-errormessage</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-expanded"><span>aria-expanded</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-flowto"><span>aria-flowto</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-grabbed"><span>aria-grabbed</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup"><span>aria-haspopup</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-hidden"><span>aria-hidden</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-invalid"><span>aria-invalid</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-keyshortcuts"><span>aria-keyshortcuts</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-label"><span>aria-label</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby"><span>aria-labelledby</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-level"><span>aria-level</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-live"><span>aria-live</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-modal"><span>aria-modal</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-multiline"><span>aria-multiline</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-multiselectable"><span>aria-multiselectable</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-orientation"><span>aria-orientation</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-owns"><span>aria-owns</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-placeholder"><span>aria-placeholder</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-posinset"><span>aria-posinset</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-pressed"><span>aria-pressed</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-readonly"><span>aria-readonly</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-relevant"><span>aria-relevant</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-required"><span>aria-required</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-roledescription"><span>aria-roledescription</span></a>’</span>,
              <span class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount"><span>aria-rowcount</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex"><span>aria-rowindex</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan"><span>aria-rowspan</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-selected"><span>aria-selected</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-setsize"><span>aria-setsize</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-sort"><span>aria-sort</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-valuemax"><span>aria-valuemax</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-valuemin"><span>aria-valuemin</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow"><span>aria-valuenow</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext"><span>aria-valuetext</span></a>’</span>,
              <span class="attr-name">‘<a href="struct.html#RoleAttribute"><span>role</span></a>’</span></span></li>
          <li><a href="struct.html#TermConditionalProcessingAttribute">条件处理属性</a><span class="expanding"> — <span
                class="attr-name">‘<a
                  href="struct.html#RequiredExtensionsAttribute"><span>requiredExtensions</span></a>’</span>, <span
                class="attr-name">‘<a
                  href="struct.html#SystemLanguageAttribute"><span>systemLanguage</span></a>’</span></span></li>
          <li><a href="struct.html#TermCoreAttribute">核心属性</a><span class="expanding"> — <span class="attr-name">‘<a
                  href="struct.html#IDAttribute"><span>id</span></a>’</span>, <span class="attr-name">‘<a
                  href="struct.html#SVGElementTabindexAttribute"><span>tabindex</span></a>’</span>,
              <span class="attr-name">‘<a href="struct.html#LangAttribute"><span>lang</span></a>’</span>, <span
                class="attr-name">‘<a href="struct.html#XMLSpaceAttribute"><span>xml:space</span></a>’</span>, <span
                class="attr-name">‘<a href="styling.html#ClassAttribute"><span>class</span></a>’</span>, <span
                class="attr-name">‘<a href="styling.html#StyleAttribute"><span>style</span></a>’</span></span></li>
          <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#globaleventhandlers">全局事件属性</a><span
              class="expanding"> — <span class="attr-name">‘<a
                  href="interact.html#EventAttributes"><span>oncancel</span></a>’</span>, <span class="attr-name">‘<a
                  href="interact.html#EventAttributes"><span>oncanplay</span></a>’</span>, <span class="attr-name">‘<a
                  href="interact.html#EventAttributes"><span>oncanplaythrough</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onchange</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onclick</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onclose</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>oncuechange</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ondblclick</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ondrag</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ondragend</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ondragenter</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ondragexit</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ondragleave</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ondragover</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ondragstart</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ondrop</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ondurationchange</span></a>’</span>,
              <span class="attr-name">‘<a href="interact.html#EventAttributes"><span>onemptied</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onended</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onerror</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onfocus</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>oninput</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>oninvalid</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onkeydown</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onkeypress</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onkeyup</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onload</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onloadeddata</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onloadedmetadata</span></a>’</span>,
              <span class="attr-name">‘<a href="interact.html#EventAttributes"><span>onloadstart</span></a>’</span>,
              <span class="attr-name">‘<a href="interact.html#EventAttributes"><span>onmousedown</span></a>’</span>,
              <span class="attr-name">‘<a href="interact.html#EventAttributes"><span>onmouseenter</span></a>’</span>,
              <span class="attr-name">‘<a href="interact.html#EventAttributes"><span>onmouseleave</span></a>’</span>,
              <span class="attr-name">‘<a href="interact.html#EventAttributes"><span>onmousemove</span></a>’</span>,
              <span class="attr-name">‘<a href="interact.html#EventAttributes"><span>onmouseout</span></a>’</span>,
              <span class="attr-name">‘<a href="interact.html#EventAttributes"><span>onmouseover</span></a>’</span>,
              <span class="attr-name">‘<a href="interact.html#EventAttributes"><span>onmouseup</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onmousewheel</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onpause</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onplay</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onplaying</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onprogress</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onratechange</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onreset</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onresize</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onscroll</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onseeked</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onseeking</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onselect</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onshow</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onstalled</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onsubmit</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onsuspend</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ontimeupdate</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>ontoggle</span></a>’</span>, <span
                class="attr-name">‘<a href="interact.html#EventAttributes"><span>onvolumechange</span></a>’</span>,
              <span class="attr-name">‘<a href="interact.html#EventAttributes"><span>onwaiting</span></a>’</span></span>
          </li>
          <li><a
              href="https://html.spec.whatwg.org/multipage/webappapis.html#documentandelementeventhandlers">文档元素事件属性</a><span
              class="expanding"> — <span class="attr-name">‘<a
                  href="interact.html#EventAttributes"><span>oncopy</span></a>’</span>, <span class="attr-name">‘<a
                  href="interact.html#EventAttributes"><span>oncut</span></a>’</span>, <span class="attr-name">‘<a
                  href="interact.html#EventAttributes"><span>onpaste</span></a>’</span></span></li>
          <li><a href="interact.html#EventAttributes">图形事件属性</a><span class="expanding"> — <span class="attr-name">‘<a
                  href="interact.html#EventAttributes"><span>onfocusin</span></a>’</span>, <span class="attr-name">‘<a
                  href="interact.html#EventAttributes"><span>onfocusout</span></a>’</span></span>
          </li>
          <li><a href="styling.html#TermPresentationAttribute">表现属性</a><span class="expanding"> —
            </span></li>
          <li><span class="attr-name">‘<a href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span></li>
        </ul>
      </dd>
      <dt>几何属性：</dt>
      <dd>
        <ul class="no-bullets">
          <li><a class="property" href="paths.html#DProperty">d</a></li>
        </ul>
      </dd>
      <dt>DOM 接口：</dt>
      <dd>
        <ul class="no-bullets">
          <li><a class="idlinterface" href="paths.html#InterfaceSVGPathElement">SVGPathElement</a></li>
        </ul>
      </dd>
    </dl>
  </div>

  <p>一个 <span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span> 元素的轮廓是通过 <a
      class="property" href="paths.html#DProperty">d</a>
    属性来指定的。请参见下面的 <a href="#PathData">路径数据</a>。</p>

  <h2 id="PathData" class="heading">9.3. 路径数据<a class="self-link" href="#PathData"></a></h2>

  <h3 id="PathDataGeneralInformation" class="heading">9.3.1. 关于路径数据的一般信息<a class="self-link"
      href="#PathDataGeneralInformation"></a></h3>

  <p>通过在其上指定路径数据的 <a class="property" href="paths.html#DProperty">d</a> 属性，包含一个 <span class="element-name">‘<a
        href="paths.html#PathElement"><span>path</span></a>’</span>
    元素来定义路径。路径数据包含 <em>moveto</em>、<em>lineto</em>、<em>curveto</em>（包括三次和
    二次贝塞尔曲线）、<em>arc</em> 和 <em>closepath</em> 指令。
  </p>

  <p><span class="example-ref">示例 triangle01</span> 指定了一个三角形的路径。（<strong>M</strong> 表示
    <em>moveto</em>，<strong>L</strong> 表示 <em>lineto</em>，<strong>z</strong> 表示 <em>closepath</em>。）
  </p>

  <div class="example">
    <pre class="xml">&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="4cm" height="4cm" viewBox="0 0 400 400"
     xmlns="http://www.w3.org/2000/svg" version="1.1">
  &lt;title>示例 triangle01 - 'path' 的简单示例&lt;/title>
  &lt;desc>绘制三角形的路径&lt;/desc>
  &lt;rect x="1" y="1" width="398" height="398"
        fill="none" stroke="blue" />
  &lt;path d="M 100 100 L 300 100 L 200 300 z"
        fill="red" stroke="blue" stroke-width="3" />
&lt;/svg></pre>
    <div class="figure"><img alt="示例 triangle01 — 'path' 的简单示例"
        src="https://www.w3.org/TR/SVG2/images/paths/triangle01.png">
      <p class="caption">示例 triangle01</p>
    </div>
    <p class="view-as-svg"><a href="images/paths/triangle01.svg">将此示例视为 SVG（仅限 SVG 支持的浏览器）</a></p>
  </div>

  <p>路径数据可以包含换行符，因此可以分成多行以提高可读性。
    在解析时，标记中属性内的换行符将被规范化为空格字符。</p>

  <p>路径数据的语法是简洁的，以便于实现最小的文件大小和高效的下载，因为许多 SVG 文件将主要由它们的路径数据构成。SVG 尝试最小化路径数据大小的一些方式如下：</p>

  <ul>
    <li>所有指令均以一个字符表示（例如，<em>moveto</em> 表示为 <strong>M</strong>）。</li>

    <li>
      <div>多余的空白和分隔符（如逗号）可以被消除；例如，以下包含不必要的空格：</div>
      <div style="margin-left: 2em"><code>M 100 100 L 200 200</code></div>
      <div>可以更紧凑地表示为：</div>
      <div style="margin-left: 2em"><code>M100 100L200 200</code></div>
    </li>

    <li>
      <div>如果相同的命令字母在其之前出现，则可以省略命令字母；例如，以下包含不必要的第二个 "L" 命令：</div>
      <div style="margin-left: 2em"><code>M 100 200 L 200 100 L -100 -200</code></div>
      <div>可以更紧凑地表示为：</div>
      <div style="margin-left: 2em"><code>M 100 200 L 200 100 -100 -200</code></div>
    </li>

    <li>对于大多数命令，有绝对和相对版本（大写表示绝对坐标，小写表示相对坐标）。</li>

    <li>lineto 的替代形式可用于优化水平和垂直线的特殊情况（绝对和相对）。</li>

    <li>curve 的替代形式可用于优化某些控制点可以自动从前一个段的控制点确定的特殊情况。</li>
  </ul>

  <p>路径数据语法是前缀表示法（即，命令后跟参数）。唯一允许的小数点是 Unicode
    U+0046 FULL STOP (".") 字符（在 Unicode 中也称为 PERIOD、dot 和 decimal point），不允许其他分隔符
    字符[<a href="refs.html#ref-unicode">UNICODE</a>]。（例如，以下是路径数据流中的无效数字值：“13,000.56”。
    相反，应该说：“13000.56”。）</p>

  <p>对于命令的相对版本，所有坐标值都相对于命令开始时的当前点。</p>

  <p>在下面的表格中，使用以下符号来描述给定路径命令的语法：</p>

  <ul>
    <li>(): 参数的分组</li>
    <li>+: 至少一个给定参数是必需的</li>
  </ul>

  <div class="ready-for-wider-review">

    <p>在路径命令的描述中，<var>cpx</var> 和 <var>cpy</var> 表示当前点的坐标。</p>

  </div>

  <div class="ready-for-wider-review">

    <h3 id="TheDProperty" class="heading">9.3.2. 指定路径数据：‘<span class="property">d</span>’ 属性<a class="self-link"
        href="#TheDProperty"></a></h3>

    <table class="propdef def">
      <tr>
        <th>名称：</th>
        <td><dfn id="DProperty">d</dfn></td>
      </tr>
      <tr>
        <th>值：</th>
        <td>none | <a href="https://www.w3.org/TR/css3-values/#strings">&lt;字符串&gt;</a></td>
      </tr>
      <tr>
        <th>初始值：</th>
        <td>none</td>
      </tr>
      <tr>
        <th>适用对象：</th>
        <td><span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span></td>
      </tr>
      <tr>
        <th>继承：</th>
        <td>否</td>
      </tr>
      <tr>
        <th>百分比：</th>
        <td>N/A</td>
      </tr>
      <tr>
        <th>媒体：</th>
        <td>视觉</td>
      </tr>
      <tr>
        <th>计算值：</th>
        <td>按指定值</td>
      </tr>
      <tr>
        <th><a href="https://svgwg.org/specs/animations/#Animatable">可动画</a>：</th>
        <td>是</td>
      </tr>
    </table>

    <p><a class="property" href="paths.html#DProperty">d</a> 属性用于指定<span class="element-name">‘<a
          href="paths.html#PathElement"><span>path</span></a>’</span>元素的形状。</p>

    <p>值 <span class="prop-value">none</span> 表示该元素没有路径数据。对于<span class="element-name">‘<a
          href="paths.html#PathElement"><span>path</span></a>’</span>元素，这意味着该元素不会呈现或对祖先<a
        href="coords.html#TermBoundingBox">边界框</a>的贡献。</p>

    <p>路径由多个段组成，每个命令（除了移动到或关闭路径）都定义一个<dfn id="TermPathSegment">路径段</dfn>。</p>

    <p>路径数据中指定的所有坐标和长度必须被视为在当前用户坐标系统中的<a href="coords.html#TermUserUnits">用户单位</a>。</p>

    <p><span class="prop-value"><a href="https://www.w3.org/TR/css3-values/#strings">&lt;字符串&gt;</a></span>值
      使用路径数据字符串指定形状。<a href="https://www.w3.org/TR/css3-values/#strings">&lt;字符串&gt;</a>值的内容
      必须匹配下面定义的<a href="#PathDataBNF">svg-path</a> <a href="types.html#syntax">EBNF 语法</a>，
      并且字符串中的错误根据<a href="paths.html#PathDataErrorHandling">路径数据错误处理</a>部分的规则处理。
      如果路径数据字符串中不包含有效的命令，则行为与<span class="prop-value">none</span>值相同。</p>

    <p>
      对于动画，只有当路径数据字符串具有相同结构时，两个<a class="property" href="paths.html#DProperty">d</a>属性值
      才能平滑插值（即，具有完全相同数量和类型的路径数据命令且顺序相同）。如果指定了动画且路径数据命令的列表
      没有相同结构，则值必须使用<a href="https://drafts.csswg.org/css-values-4/#interpolation">离散</a>
      动画类型插值。
    </p>
    <p>
      如果路径数据命令列表具有相同结构，则每个路径数据命令的每个参数必须单独进行<a href="https://drafts.csswg.org/css-values-4/#interpolation">插值</a>，作为<a
        href="https://drafts.csswg.org/web-animations/#animation-type">实数</a>。标志和布尔值必须在零和一之间作为分数进行插值，
      任何非零值都被视为一/真值。
    </p>

    <p class="annotation">
      在<a href="https://www.w3.org/2016/04/21-svg-minutes.html">伦敦编辑会议</a>上决议“d将成为一个表现属性（名称不变），路径数据字符串作为值”。
    </p>

  </div>

  <p>以下部分列出了可以在路径数据字符串中使用的命令。绘制直线段的命令包括<a href="paths.html#PathDataLinetoCommands">lineto命令</a>
    (<strong>L</strong>, <strong>l</strong>,
    <strong>H</strong>, <strong>h</strong>, <strong>V</strong> 和 <strong>v</strong>)和<a
      href="paths.html#PathDataClosePathCommand">关闭路径命令</a>
    (<strong>Z</strong> 和 <strong>z</strong>)。这三组命令绘制曲线：
  </p>

  <ul>
    <li><a href="paths.html#PathDataCubicBezierCommands">三次贝塞尔命令</a> (<strong>C</strong>,
      <strong>c</strong>, <strong>S</strong> 和
      <strong>s</strong>)。三次贝塞尔段由起点、终点和两个控制点定义。
    </li>

    <li><a href="paths.html#PathDataQuadraticBezierCommands">二次贝塞尔命令</a> (<strong>Q</strong>,
      <strong>q</strong>, <strong>T</strong> 和 <strong>t</strong>)。二次贝塞尔段由起点、终点和一个控制点定义。
    </li>

    <li><a href="paths.html#PathDataEllipticalArcCommands">椭圆弧命令</a> (<strong>A</strong> 和 <strong>a</strong>)。
      椭圆弧段绘制椭圆的一段。</li>
  </ul>

  <h3 id="PathDataMovetoCommands" class="heading">9.3.3. “moveto” 命令<a class="self-link"
      href="#PathDataMovetoCommands"></a></h3>

  <p>“moveto”命令 (<strong>M</strong> 或 <strong>m</strong>) 必须建立一个新的<dfn id="TermInitialPoint">起始点</dfn>
    和一个新的当前点。效果就像“笔”被抬起并移动到一个新位置。路径数据段（如果有）必须以“moveto”
    命令开始。后续的“moveto”命令（即，当“moveto”不是第一个命令时）表示新的<em>子路径</em>的开始：
  </p>

  <table class="PathDataTable">
    <tr>
      <th>命令</th>
      <th>名称</th>
      <th>参数</th>
      <th>描述</th>
    </tr>
    <tr>
      <td><strong>M</strong>（绝对）<br>
        <strong>m</strong>（相对）
      </td>
      <td>moveto</td>
      <td>(x y)+</td>
      <td>
        在给定的 (x,y) 坐标处开始一个新的子路径。
        <strong>M</strong>（大写）表示后面跟随绝对坐标；<strong>m</strong>（小写）表示后面跟随相对坐标。
        如果一个moveto后跟多个坐标对，则后续的坐标对被视为隐式lineto命令。因此，如果moveto是相对的，则隐式lineto命令将是相对的，如果moveto是绝对的，则隐式lineto命令将是绝对的。如果相对moveto（<strong>m</strong>）作为路径的第一个元素出现，则将其视为一对绝对坐标。在这种情况下，后续的坐标对被视为相对，即使初始moveto被解释为绝对moveto。
      </td>
    </tr>
  </table>

  <div class="ready-for-wider-review">

    <p>当使用相对<strong>m</strong>命令时，移动到的位置是（<var>cpx</var> + <var>x</var>,
      <var>cpy</var> + <var>y</var>）。
    </p>

  </div>

  <h3 id="PathDataClosePathCommand" class="heading">9.3.4. “closepath” 命令<a class="self-link"
      href="#PathDataClosePathCommand"></a></h3>

  <p>“closepath” (<strong>Z</strong> 或 <strong>z</strong>) 通过将当前子路径连接回其<a
      href="paths.html#TermInitialPoint">起始点</a>来结束当前子路径。
    从当前点到当前子路径的<a href="paths.html#TermInitialPoint">起始点</a>绘制一条自动直线。这个<a
      href="paths.html#TermPathSegment">路径段</a>的长度可以为零。
  </p>

  <p>如果“closepath”后面紧跟着“moveto”，则“moveto”标识下一个子路径的起点。
    如果“closepath”后面紧跟着任何其他命令，则下一个子路径从当前子路径的相同起始点开始。</p>

  <p>当子路径以“closepath”结束时，其行为与通过“lineto”命令“手动”关闭子路径时在<a href="painting.html#StrokeLinejoinProperty"><span
        class="prop-name">‘stroke-linejoin’</span></a>和<a href="painting.html#StrokeLinecapProperty"><span
        class="prop-name">‘stroke-linecap’</span></a>的实现上有所不同。
    使用“closepath”，子路径最后一个段的结束点与子路径初始段的起始点使用当前的<a href="painting.html#StrokeLinejoinProperty"><span
        class="prop-name">‘stroke-linejoin’</span></a>进行“连接”。如果你改为通过“lineto”命令“手动”关闭子路径，第一段的起始点和最后一段的结束点不会连接，而是分别使用当前的<a
      href="painting.html#StrokeLinecapProperty"><span
        class="prop-name">‘stroke-linecap’</span></a>进行封顶。在命令结束时，新的当前点被设置为当前子路径的起始点。</p>

  <table class="PathDataTable">
    <tr>
      <th>命令</th>
      <th>名称</th>
      <th>参数</th>
      <th>描述</th>
    </tr>
    <tr>
      <td><strong>Z</strong> 或<br>
        <strong>z</strong>
      </td>
      <td>closepath</td>
      <td>(无)</td>
      <td>通过将当前子路径连接回当前子路径的<a
          href="paths.html#TermInitialPoint">起始点</a>来关闭当前子路径（见上文）。由于<strong>Z</strong>和<strong>z</strong>命令不接受参数，因此它们具有相同的效果。
      </td>
    </tr>
  </table>

  <p><dfn id="TermClosedSubpath">闭合子路径</dfn>必须通过“closepath”命令关闭，这将“连接”第一个和最后一个<a
      href="paths.html#TermPathSegment">路径段</a>。
    任何其他路径都是<dfn id="TermOpenSubpath">开放子路径</dfn>。</p>

  <p class="note ready-for-wider-review">一个<a href="paths.html#TermOpenSubpath">闭合子路径</a>的行为与最后一个坐标为子路径的<a
      href="paths.html#TermInitialPoint">起始点</a>的<a href="paths.html#TermClosedSubpath">开放子路径</a>有所不同。
    一个<a href="paths.html#TermClosedSubpath">开放子路径</a>的第一个和最后一个<a href="paths.html#TermPathSegment">路径段</a>不会连接，即使最后一个<a
      href="paths.html#TermPathSegment">路径段</a>的最后坐标是子路径的<a href="paths.html#TermInitialPoint">起始点</a>。这将导致第一个和最后一个<a
      href="paths.html#TermPathSegment">路径段</a>使用当前值的<a class="property"
      href="painting.html#StrokeLinecapProperty">stroke-linecap</a>进行封顶，而不是使用当前值的<a class="property"
      href="painting.html#StrokeLinejoinProperty">stroke-linejoin</a>进行连接。
  </p>

  <p>如果“closepath”后面紧跟着“moveto”，则“moveto”标识下一个子路径的起点。如果“closepath”后面紧跟着任何其他命令，则下一个子路径必须从当前子路径的相同<a
      href="paths.html#TermInitialPoint">起始点</a>开始。</p>

  <h4 id="Segment-CompletingClosePath" class="heading">9.3.4.1. 段完成闭合路径操作<a class="self-link"
      href="#Segment-CompletingClosePath"></a></h4>

  <p>
    为了将基本形状表示为等效路径，必须有一种方法来闭合曲线形状，而不引入额外的直线段（即使该段的长度为零）。
    为此，定义了段完成闭合路径操作。
  </p>
  <p>
    <dfn id="TermSegment-CompletingClosePath">段完成闭合路径</dfn>操作与上一个路径命令<em>结合</em>，具有两个效果：
  </p>
  <ul>
    <li>确保上一个命令的最后坐标点与当前子路径的<a href="paths.html#TermInitialPoint">起始点</a>完全匹配。</li>
    <li>将子路径的最后点和起始点连接起来，使其成为闭合子路径。</li>
  </ul>

  <p class="note">
    段完成闭合路径操作目前在路径数据语法中不支持作为命令。
    工作组已提出这样的语法以供未来版本的规范使用。
  </p>

  <h3 id="PathDataLinetoCommands" class="heading">9.3.5. “lineto”命令<a class="self-link"
      href="#PathDataLinetoCommands"></a></h3>

  <p>各种“lineto”命令从当前点绘制直线到新点：</p>

  <table class="PathDataTable">
    <tr>
      <th>命令</th>
      <th>名称</th>
      <th>参数</th>
      <th>描述</th>
    </tr>
    <tr>
      <td><strong>L</strong>（绝对）<br>
        <strong>l</strong>（相对）
      </td>
      <td>lineto</td>
      <td>(x y)+</td>
      <td>从当前点绘制一条线到给定的(x,y)坐标，这将成为新的当前点。
        <strong>L</strong>（大写）表示后面将跟随绝对坐标；<strong>l</strong>（小写）
        表示后面将跟随相对坐标。可以指定多个坐标对以绘制折线。
        在命令结束时，新当前点设置为提供的最后一组坐标。
      </td>
    </tr>
    <tr>
      <td><strong>H</strong>（绝对）<br>
        <strong>h</strong>（相对）
      </td>
      <td>水平lineto</td>
      <td>x+</td>
      <td>从当前点绘制一条水平线。
        <strong>H</strong>（大写）表示后面将跟随绝对坐标；<strong>h</strong>
        （小写）表示后面将跟随相对坐标。可以提供多个x值（尽管通常
        这没有意义）。<strong>H</strong>或<strong>h</strong>命令相当于
        <strong>L</strong>或<strong>l</strong>命令，y坐标指定为0。
        在命令结束时，新当前点取自最后的坐标值。
      </td>
    </tr>
    <tr>
      <td><strong>V</strong>（绝对）<br>
        <strong>v</strong>（相对）
      </td>
      <td>垂直lineto</td>
      <td>y+</td>
      <td>从当前点绘制一条垂直线。
        <strong>V</strong>（大写）表示后面将跟随绝对坐标；<strong>v</strong>
        （小写）表示后面将跟随相对坐标。可以提供多个y值（尽管通常
        这没有意义）。<strong>V</strong>或<strong>v</strong>命令相当于
        <strong>L</strong>或<strong>l</strong>命令，x坐标指定为0。
        在命令结束时，新当前点取自最后的坐标值。
      </td>
    </tr>
  </table>

  <div class="ready-for-wider-review">

    <p>当使用相对<strong>l</strong>命令时，线的终点为（<var>cpx</var> + <var>x</var>,
      <var>cpy</var> + <var>y</var>）。
    </p>

    <p>当使用相对<strong>h</strong>命令时，线的终点为（<var>cpx</var> + <var>x</var>,
      <var>cpy</var>）。这意味着
      正值的<var>x</var>会绘制向正x轴方向的水平线。
    </p>

    <p>当使用相对<strong>v</strong>命令时，线的终点为（<var>cpx</var>,
      <var>cpy</var> + <var>y</var>）。
    </p>

  </div>

  <h3 id="PathDataCubicBezierCommands" class="heading">9.3.6. 三次贝塞尔曲线命令<a class="self-link"
      href="#PathDataCubicBezierCommands"></a></h3>

  <p>三次贝塞尔命令如下：</p>

  <table class="PathDataTable">
    <tr>
      <th>命令</th>
      <th>名称</th>
      <th>参数</th>
      <th>描述</th>
    </tr>
    <tr>
      <td><strong>C</strong>（绝对）<br>
        <strong>c</strong>（相对）
      </td>
      <td>curveto</td>
      <td>(x1 y1 x2 y2 x y)+</td>
      <td>从当前点绘制一条三次贝塞尔曲线到(x,y)，使用(x1,y1)作为曲线开始时的控制点，(x2,y2)作为曲线结束时的控制点。
        <strong>C</strong>（大写）表示后面将跟随绝对坐标；
        <strong>c</strong>（小写）表示后面将跟随相对坐标。可以指定多个坐标集以绘制多段贝塞尔曲线。
        在命令结束时，新当前点变为在多段贝塞尔曲线中使用的最后(x,y)坐标对。
      </td>
    </tr>
    <tr>
      <td><strong>S</strong>（绝对）<br>
        <strong>s</strong>（相对）
      </td>
      <td>简写/平滑曲线</td>
      <td>(x2 y2 x y)+</td>
      <td>从当前点绘制一条三次贝塞尔曲线到(x,y)。第一个控制点假设为前一个命令中第二个控制点相对于当前点的反射点。
        （如果没有前一个命令，或者前一个命令不是C、c、S或s，假设第一个控制点与当前点重合。）(x2,y2)为第二个控制点（即曲线结束时的控制点）。
        <strong>S</strong>（大写）表示后面将跟随绝对坐标；<strong>s</strong>（小写）表示后面将跟随相对坐标。可以指定多个坐标集以绘制多段贝塞尔曲线。
        在命令结束时，新当前点变为在多段贝塞尔曲线中使用的最后(x,y)坐标对。
      </td>
    </tr>
  </table>

  <div class="ready-for-wider-review">

    <p>当使用相对<strong>c</strong>或<strong>s</strong>命令时，每对相对坐标的计算方式与<strong>m</strong>命令相同。
      例如，两个命令的曲线的最后控制点为（<var>cpx</var> + <var>x</var>,
      <var>cpy</var> + <var>y</var>）。
    </p>

  </div>

  <p><span class="example-ref">示例
      cubic01</span>展示了一些在路径中使用三次贝塞尔命令的简单用法。该示例使用内部CSS样式表来分配样式属性。请注意，“S”命令的控制点是作为前一个“C”命令的控制点相对于“S”命令起点的反射点自动计算的。</p>

  <div class="example">
    <pre class="xml">&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="5cm" height="4cm" viewBox="0 0 500 400"
     xmlns="http://www.w3.org/2000/svg" version="1.1">
  &lt;title>示例 cubic01 - 三次贝塞尔命令在路径数据中的应用&lt;/title>
  &lt;desc>展示了一个使用"C"和"S"命令的简单路径数据示例，并带有显示控制点和终点的注释&lt;/desc>
  &lt;style type="text/css">&lt;![CDATA[
    .Border { fill:none; stroke:blue; stroke-width:1 }
    .Connect { fill:none; stroke:#888888; stroke-width:2 }
    .SamplePath { fill:none; stroke:red; stroke-width:5 }
    .EndPoint { fill:none; stroke:#888888; stroke-width:2 }
    .CtlPoint { fill:#888888; stroke:none }
    .AutoCtlPoint { fill:none; stroke:blue; stroke-width:4 }
    .Label { font-size:22; font-family:Verdana }
  ]]>&lt;/style>

  &lt;rect class="Border" x="1" y="1" width="498" height="398" />

  &lt;polyline class="Connect" points="100,200 100,100" />
  &lt;polyline class="Connect" points="250,100 250,200" />
  &lt;polyline class="Connect" points="250,200 250,300" />
  &lt;polyline class="Connect" points="400,300 400,200" />
  &lt;path class="SamplePath" d="M100,200 C100,100 250,100 250,200
                                       S400,300 400,200" />
  &lt;circle class="EndPoint" cx="100" cy="200" r="10" />
  &lt;circle class="EndPoint" cx="250" cy="200" r="10" />
  &lt;circle class="EndPoint" cx="400" cy="200" r="10" />
  &lt;circle class="CtlPoint" cx="100" cy="100" r="10" />
  &lt;circle class="CtlPoint" cx="250" cy="100" r="10" />
  &lt;circle class="CtlPoint" cx="400" cy="300" r="10" />
  &lt;circle class="AutoCtlPoint" cx="250" cy="300" r="9" />
  &lt;text class="Label" x="25" y="70">M100,200 C100,100 250,100 250,200&lt;/text>
  &lt;text class="Label" x="325" y="350"
        style="text-anchor:middle">S400,300 400,200&lt;/text>
&lt;/svg></pre>
    <div class="figure"><img alt="示例 cubic01 — 三次贝塞尔命令在路径数据中的应用"
        src="https://www.w3.org/TR/SVG2/images/paths/cubic01.png">
      <p class="caption">示例 cubic01</p>
    </div>
    <p class="view-as-svg"><a href="images/paths/cubic01.svg">在SVG中查看此示例（仅限支持SVG的浏览器）</a>
    </p>
  </div>

  <p>下图展示了三次贝塞尔曲线如何根据控制点的位置改变形状。前五个示例说明了单个三次贝塞尔<a href="paths.html#TermPathSegment">路径段</a>。右下角的示例展示了一个"C"命令后跟一个"S"命令。
  </p>
  <p><img alt="示例 cubic02 - 三次贝塞尔命令在路径数据中的应用" src="https://www.w3.org/TR/SVG2/images/paths/cubic02.png" width="355"
      height="355"></p>
  <p class="view-as-svg"><a href="images/paths/cubic02.svg">在SVG中查看此示例（仅限支持SVG的浏览器）</a><br>
     </p>

  <h3 id="PathDataQuadraticBezierCommands" class="heading">9.3.7. 二次贝塞尔曲线命令<a class="self-link"
      href="#PathDataQuadraticBezierCommands"></a></h3>

  <p>二次贝塞尔命令如下：</p>

  <table class="PathDataTable">
    <tr>
      <th>命令</th>
      <th>名称</th>
      <th>参数</th>
      <th>描述</th>
    </tr>
    <tr>
      <td><strong>Q</strong>（绝对）<br>
        <strong>q</strong>（相对）
      </td>
      <td>二次贝塞尔曲线</td>
      <td>(x1 y1 x y)+</td>
      <td>从当前点绘制一条二次贝塞尔曲线到 (x,y)，使用 (x1,y1) 作为控制点。
        <strong>Q</strong>（大写）表示后面跟随绝对坐标；
        <strong>q</strong>（小写）表示后面跟随相对坐标。可以指定多个坐标集以绘制多段贝塞尔曲线。在命令结束时，新的当前点变为用于多段贝塞尔曲线的最后 (x,y) 坐标对。
      </td>
    </tr>
    <tr>
      <td><strong>T</strong>（绝对）<br>
        <strong>t</strong>（相对）
      </td>
      <td>简写/平滑二次贝塞尔曲线</td>
      <td>(x y)+</td>
      <td>从当前点绘制一条二次贝塞尔曲线到 (x,y)。控制点被假定为相对于当前点的上一个命令的控制点的反射。（如果没有上一个命令或上一个命令不是 Q、q、T 或
        t，则假定控制点与当前点重合。）<strong>T</strong>（大写）表示后面跟随绝对坐标；
        <strong>t</strong>（小写）表示后面跟随相对坐标。在命令结束时，新的当前点变为用于多段贝塞尔曲线的最后 (x,y) 坐标对。
      </td>
    </tr>
  </table>

  <div class="ready-for-wider-review">

    <p>当使用相对的 <strong>q</strong> 或 <strong>t</strong> 命令时，每对相对坐标的计算方式与 <strong>m</strong> 命令相同。
      例如，这两条命令的曲线的最终控制点为 (<var>cpx</var> + <var>x</var>,
      <var>cpy</var> + <var>y</var>)。
    </p>

  </div>

  <p><span class="example-ref">示例 quad01</span> 显示了在路径中二次贝塞尔命令的简单使用。
    请注意，“T”命令的控制点是自动计算的，作为相对于“T”命令起点的上一个“Q”命令的控制点的反射。</p>

  <div class="example">
    <pre class="xml">&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="12cm" height="6cm" viewBox="0 0 1200 600"
     xmlns="http://www.w3.org/2000/svg" version="1.1">
  &lt;title>示例 quad01 - 二次贝塞尔命令在路径数据中&lt;/title>
  &lt;desc>展示 "Q" 和 "T" 命令的图片，
        以及标注控制点和终点&lt;/desc>
  &lt;rect x="1" y="1" width="1198" height="598"
        fill="none" stroke="blue" stroke-width="1" />

  &lt;path d="M200,300 Q400,50 600,300 T1000,300"
        fill="none" stroke="red" stroke-width="5"  />
  &lt;!-- 终点 -->
  &lt;g fill="black" >
    &lt;circle cx="200" cy="300" r="10">
    &lt;circle cx="600" cy="300" r="10">
    &lt;circle cx="1000" cy="300" r="10">
  &lt;/g>
  &lt;!-- 控制点及其与终点的连线 -->
  &lt;g fill="#888888" >
    &lt;circle cx="400" cy="50" r="10">
    &lt;circle cx="800" cy="550" r="10">
  &lt;/g>
  &lt;path d="M200,300 L400,50 L600,300
           L800,550 L1000,300"
        fill="none" stroke="#888888" stroke-width="2" />
&lt;/svg></pre>
    <div class="figure"><img alt="示例 quad01 — 二次贝塞尔命令在路径数据中" src="https://www.w3.org/TR/SVG2/images/paths/quad01.png">
      <p class="caption">示例 quad01</p>
    </div>
    <p class="view-as-svg"><a href="images/paths/quad01.svg">以 SVG 查看此示例（仅支持 SVG 的浏览器）</a>
    </p>
  </div>

  <h3 id="PathDataEllipticalArcCommands" class="heading">9.3.8. 椭圆弧曲线命令<a class="self-link"
      href="#PathDataEllipticalArcCommands"></a></h3>

  <div class="annotation svg2-requirement">
    <table>
      <tr>
        <th>SVG 2 要求：</th>
        <td>简化在 SVG 路径语法中绘制弧的过程。</td>
      </tr>
      <tr>
        <th>解决方案：</th>
        <td><a href="https://www.w3.org/2011/11/04-svg-minutes.html#item08">简化路径中的弧。</a></td>
      </tr>
      <tr>
        <th>目的：</th>
        <td>方便作者手动编写包含弧的路径数据。</td>
      </tr>
      <tr>
        <th>负责人：</th>
        <td>Cameron (<a href="https://www.w3.org/Graphics/SVG/WG/track/actions/3151">ACTION-3151</a>)</td>
      </tr>
    </table>
  </div>

  <p>椭圆弧命令如下：</p>

  <table class="PathDataTable">
    <tr>
      <th>命令</th>
      <th>名称</th>
      <th>参数</th>
      <th>描述</th>
    </tr>
    <tr>
      <td><strong>A</strong>（绝对）<br>
        <strong>a</strong>（相对）
      </td>
      <td>椭圆弧</td>
      <td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td>
      <td>
        从当前点绘制一条椭圆弧到（<strong>x</strong>，<strong>y</strong>）。椭圆的大小和方向由两个半径（<strong>rx</strong>，<strong>ry</strong>）和一个<strong>x-axis-rotation</strong>定义，后者表示椭圆相对于当前坐标系的旋转度数。椭圆的中心（<strong>cx</strong>，<strong>cy</strong>）将根据其他参数的约束自动计算。<strong>large-arc-flag</strong>
        和 <strong>sweep-flag</strong> 参与自动计算并帮助确定弧的绘制方式。
      </td>
    </tr>
  </table>

  <div class="ready-for-wider-review">

    <p>使用相对 <strong>a</strong> 命令时，弧的终点为（<var>cpx</var> + <var>x</var>，<var>cpy</var> + <var>y</var>）。
    </p>

  </div>

  <p><span class="example-ref">示例 arcs01</span> 展示了一些在路径中使用弧命令的简单示例。</p>

  <div class="example">
    <pre class="xml">&lt;?xml version="1.0" standalone="no"?>
&lt;svg width="12cm" height="5.25cm" viewBox="0 0 1200 400"
     xmlns="http://www.w3.org/2000/svg" version="1.1">
  &lt;title>示例 arcs01 - 路径数据中的弧命令&lt;/title>
  &lt;desc>饼图的图片，有两个饼块和一条带弧形标记的线&lt;/desc>
  &lt;rect x="1" y="1" width="1198" height="398"
        fill="none" stroke="blue" stroke-width="1" />

  &lt;path d="M300,200 h-150 a150,150 0 1,0 150,-150 z"
        fill="red" stroke="blue" stroke-width="5" />
  &lt;path d="M275,175 v-150 a150,150 0 0,0 -150,150 z"
        fill="yellow" stroke="blue" stroke-width="5" />

  &lt;path d="M600,350 l 50,-25
           a25,25 -30 0,1 50,-25 l 50,-25
           a25,50 -30 0,1 50,-25 l 50,-25
           a25,75 -30 0,1 50,-25 l 50,-25
           a25,100 -30 0,1 50,-25 l 50,-25"
        fill="none" stroke="red" stroke-width="5"  />
&lt;/svg></pre>
    <div class="figure"><img alt="示例 arcs01 — 路径数据中的弧命令" src="https://www.w3.org/TR/SVG2/images/paths/arcs01.png">
      <p class="caption">示例 arcs01</p>
    </div>
    <p class="view-as-svg"><a href="images/paths/arcs01.svg">在 SVG 中查看此示例（仅限支持 SVG 的浏览器）</a>
    </p>
  </div>

  <p>椭圆弧命令绘制的弧段必须满足以下约束：</p>

  <ul>
    <li>弧从当前点开始</li>
    <li>弧在点（<strong>x</strong>，<strong>y</strong>）结束</li>
    <li>椭圆具有两个半径（<strong>rx</strong>，<strong>ry</strong>）</li>
    <li>椭圆的 x 轴相对于当前坐标系的 x 轴旋转了<strong>x-axis-rotation</strong>度。</li>
  </ul>

  <p>在大多数情况下，实际上有四条不同的弧（两种不同的椭圆，每种有两种不同的弧扫）满足这些约束。<strong>large-arc-flag</strong> 和 <strong>sweep-flag</strong>
    指定绘制的四条弧中的哪一条，具体如下：</p>

  <ul>
    <li>在四个候选弧扫中，有两个表示大于或等于180度的弧扫（“大弧”），还有两个表示小于或等于180度的弧扫（“小弧”）。如果<strong>large-arc-flag</strong> 为
      '1'，则选择两条较大的弧扫中的一条；否则，如果<strong>large-arc-flag</strong> 为 '0'，则选择小弧扫中的一条。</li>

    <li>如果<strong>sweep-flag</strong> 为 '1'，则弧将按“正角度”方向绘制（即椭圆公式 x=<strong>cx</strong>+<strong>rx</strong>*cos(theta) 和
      y=<strong>cy</strong>+<strong>ry</strong>*sin(theta) 的计算从当前点对应的角度开始，正向增加，直到弧达到（x,y））。值为 0 则导致弧以“负角度”方向绘制（即 theta
      从当前点对应的角度开始，递减直到弧达到（x,y））。</li>
  </ul>

  <p>以下展示了<strong>large-arc-flag</strong> 和 <strong>sweep-flag</strong> 的四种组合，以及根据这些标志的值绘制的四条不同的弧。每种情况下，使用以下路径数据命令：</p>

  <pre>
&lt;path d="M 125,75 a100,50 0 ?,? 100,50"
      style="fill:none; stroke:red; stroke-width:6">
</pre>

  <p>其中 "?,?" 被 "0,0" "0,1" "1,0" 和 "1,1" 替换，以生成四种可能的情况。</p>

  <p><img alt="弧命令中标志的说明" src="https://www.w3.org/TR/SVG2/images/paths/arcs02.png" width="426" height="187"></p>
  <p class="view-as-svg"><a href="images/paths/arcs02.svg">在 SVG 中查看此示例（仅限支持 SVG 的浏览器）</a></p>

  <p>请参阅关于 <a href="#ArcOutOfRangeParameters">超出范围的椭圆弧参数</a> 的章节，以获取有关路径数据椭圆弧命令的详细实现说明。</p>

  <p class="note">
    <a href="implnote.html#ArcImplementationNotes">实现说明附录</a>包含了将 SVG 弧符号转换为使用中心点和弧扫的格式所需的相关公式。
  </p>


  <h3 id="PathDataBNF" class="heading">9.3.9. 路径数据的语法<a class="self-link" href="#PathDataBNF"></a>
  </h3>

  <p>SVG 路径数据符合以下 EBNF 语法。</p>
  <pre class="grammar ready-for-wider-review">
svg_path::= wsp* moveto? (moveto drawto_command*)?

drawto_command::=
    moveto
    | closepath
    | lineto
    | horizontal_lineto
    | vertical_lineto
    | curveto
    | smooth_curveto
    | quadratic_bezier_curveto
    | smooth_quadratic_bezier_curveto
    | elliptical_arc

moveto::=
    ( "M" | "m" ) wsp* coordinate_pair_sequence

closepath::=
    ("Z" | "z")

lineto::=
    ("L"|"l") wsp* coordinate_pair_sequence

horizontal_lineto::=
    ("H"|"h") wsp* coordinate_sequence

vertical_lineto::=
    ("V"|"v") wsp* coordinate_sequence

curveto::=
    ("C"|"c") wsp* curveto_coordinate_sequence

curveto_coordinate_sequence::=
    coordinate_pair_triplet
    | (coordinate_pair_triplet comma_wsp? curveto_coordinate_sequence)

smooth_curveto::=
    ("S"|"s") wsp* smooth_curveto_coordinate_sequence

smooth_curveto_coordinate_sequence::=
    coordinate_pair_double
    | (coordinate_pair_double comma_wsp? smooth_curveto_coordinate_sequence)

quadratic_bezier_curveto::=
    ("Q"|"q") wsp* quadratic_bezier_curveto_coordinate_sequence

quadratic_bezier_curveto_coordinate_sequence::=
    coordinate_pair_double
    | (coordinate_pair_double comma_wsp? quadratic_bezier_curveto_coordinate_sequence)

smooth_quadratic_bezier_curveto::=
    ("T"|"t") wsp* coordinate_pair_sequence

elliptical_arc::=
    ( "A" | "a" ) wsp* elliptical_arc_argument_sequence

elliptical_arc_argument_sequence::=
    elliptical_arc_argument
    | (elliptical_arc_argument comma_wsp? elliptical_arc_argument_sequence)

elliptical_arc_argument::=
    number comma_wsp? number comma_wsp? number comma_wsp
    flag comma_wsp? flag comma_wsp? coordinate_pair

coordinate_pair_double::=
    coordinate_pair comma_wsp? coordinate_pair

coordinate_pair_triplet::=
    coordinate_pair comma_wsp? coordinate_pair comma_wsp? coordinate_pair

coordinate_pair_sequence::=
    coordinate_pair | (coordinate_pair comma_wsp? coordinate_pair_sequence)

coordinate_sequence::=
    coordinate | (coordinate comma_wsp? coordinate_sequence)

coordinate_pair::= coordinate comma_wsp? coordinate

coordinate::= sign? number

sign::= "+"|"-"
number ::= ([0-9])+
flag::=("0"|"1")
comma_wsp::=(wsp+ ","? wsp*) | ("," wsp*)
wsp ::= (#x9 | #x20 | #xA | #xC | #xD)
</pre>

  <p>EBNF 的处理必须尽可能消耗给定的 EBNF 产生式，当遇到不再满足产生式的字符时停止。因此，在字符串 "M 100-200" 中，"moveto" 的第一个坐标消耗了字符 "100"，并在遇到减号时停止，因为减号不能跟在
    "coordinate" 的数字后面。结果是第一个坐标将是 "100"，第二个坐标将是 "-200"。</p>

  <p>类似地，对于字符串 "M 0.6.5"，"moveto" 的第一个坐标消耗了字符 "0.6"，并在遇到第二个小数点时停止，因为 "coordinate" 的产生式只允许一个小数点。结果是第一个坐标将是 "0.6"，第二个坐标将是
    ".5"。</p>

  <p>注意，EBNF 允许 <a class="property" href="paths.html#DProperty">d</a> 属性中的路径数据字符串为空。这不是错误，而是禁用路径的渲染。当 <a
      class="property" href="paths.html#DProperty">d</a> 属性的值为 <span class="prop-value">none</span> 时，渲染也会被禁用。</p>

  <p class="ready-for-wider-review">
    如果遇到不符合语法的路径数据，则该路径数据出错（请参见 <a href="paths.html#PathDataErrorHandling">错误处理</a>）。
  </p>

  <div class="ready-for-wider-review">
    <h2 id="PathDirectionality" class="heading">9.4. 路径方向性<a class="self-link" href="#PathDirectionality"></a></h2>

    <p>一些特性，例如<a href="painting.html#OrientAttribute">方向</a>
      的<a href="painting.html#Markers">标记</a>和<a href="painting.html#TermCapShape">形状</a>的
      <a href="painting.html#LineCaps">线帽</a>，是根据路径在给定距离处或在单个段的起始或结束位置的方向来定义的。
    </p>

    <p>在路径上指定距离处的<dfn id="TermPathDirection">路径方向</dfn>定义如下：</p>

    <ul>
      <li>如果给定距离为零，则路径的方向为
        <a href="#TermPathSegmentStartDirection">路径第一个段起始的方向</a>。
      </li>

      <li>否则，如果给定距离为路径的长度，则路径的方向为
        <a href="#TermPathSegmentEndDirection">路径最后一个段结束的方向</a>。
      </li>

      <li>否则，如果给定距离位于路径段边界，则路径的方向为
        <a href="#TermPathSegmentStartDirection">给定距离处段的起始方向</a>，每段被视为端点不包含。

        <div class="note">这将“越过”
          零长度段，并在距离位于两个非零长度段之间的边界时选择后一个段。</div>
        <div class="note">计算<a href="painting.html#TermCapShape">线帽形状</a>和<a
            href="painting.html#RenderingMarkers">渲染标记</a>时，段边界的默认方向被覆盖。
        </div>
      </li>

      <li>否则，给定距离位于非零长度的<a href="paths.html#TermPathSegment">路径段</a>的中间。方向简单来说就是
        该点的曲线方向。如果该点位于不连续处，例如
        Bézier 段的尖点，则方向未定义；在这种情况下，应使用在不连续点周围的进入和退出方向之间的方向。</li>
    </ul>

    <p>路径段的起始方向<dfn id="TermPathSegmentStartDirection">定义如下：</dfn></p>

    <ul>
      <li>如果该段所属的整个路径长度为零，则该段起始方向指向与
        正 x 轴相同的方向。</li>

      <li>否则，如果<a href="paths.html#TermPathSegment">路径段</a>长度为零且该段没有任何前面的非零长度段，则该段起始方向与
        <a href="#TermPathSegmentEndDirection">段结束方向</a>相同。
      </li>

      <li>否则，如果<a href="paths.html#TermPathSegment">路径段</a>长度为零且前面有某个非零
        长度段，则该段起始方向与
        <a href="#TermPathSegmentEndDirection">最近的前一非零长度段结束方向</a>相同。
      </li>

      <li>否则，<a href="paths.html#TermPathSegment">路径段</a>为非零长度。该段的起始方向简单来说就是从段起始点出来的方向。</li>
    </ul>

    <p>路径段的结束方向<dfn id="TermPathSegmentEndDirection">定义如下：</dfn></p>

    <ul>
      <li>如果该段所属的整个路径长度为零，则该段结束方向指向与
        正 x 轴相同的方向。</li>

      <li>否则，如果<a href="paths.html#TermPathSegment">路径段</a>长度为零且该段没有任何后续的非零长度段，则该段结束方向与
        <a href="#TermPathSegmentStartDirection">段起始方向</a>相同。
      </li>

      <li>否则，如果<a href="paths.html#TermPathSegment">路径段</a>长度为零且后面有某个非零
        长度段，则该段结束方向与
        <a href="#TermPathSegmentStartDirection">最近的后续非零长度段起始方向</a>相同。
      </li>

      <li>否则，<a href="paths.html#TermPathSegment">路径段</a>为非零长度。该段的结束方向简单来说就是进入段结束点的方向。</li>
    </ul>
  </div>

  <h2 id="PathElementImplementationNotes" class="heading">9.5. 实现说明<a class="self-link"
      href="#PathElementImplementationNotes"></a></h2>

  <p>符合标准的 SVG 用户代理必须根据以下细节实现使用路径数据的特性：</p>

  <h3 id="ArcOutOfRangeParameters" class="heading">9.5.1. 超出范围的椭圆弧参数<a class="self-link"
      href="#ArcOutOfRangeParameters"></a></h3>

  <p>对于所有椭圆弧参数（除了布尔标志），允许任意数值，
    但用户代理在渲染曲线或计算其几何形状时必须对无效值进行以下调整：</p>

  <ul>
    <li>
      <p>如果段的终点（<strong>x</strong>，<strong>y</strong>）与当前点相同
        （例如，上一个段的终点），
        则这相当于完全省略椭圆弧段。</p>
    </li>
    <li>
      <p>如果<strong>rx</strong>或<strong>ry</strong>为0，
        则该弧被视为连接端点的直线段
        （“lineto”）。</p>
    </li>
    <li>
      <p>如果<strong>rx</strong>或<strong>ry</strong>
        带有负号，则这些负号被去掉；
        而使用绝对值。</p>
    </li>
    <li>
      <p>如果<strong>rx</strong>、<strong>ry</strong>和<strong>x-axis-rotation</strong>
        的值导致没有解
        （基本上，椭圆不够大，无法从当前点到达新终点），
        则椭圆均匀缩放，直到正好有一个解（直到
        椭圆刚好足够大）。</p>
      <p class="note">请参阅附录部分
        <a href="implnote.html#ArcCorrectionOutOfRangeRadii">超出范围半径的修正</a>
        获取此缩放操作的数学公式。
      </p>
    </li>
  </ul>

  <div class="note">
    <p>这种宽容而一致的超范围值处理方式确保：</p>

    <ul>
      <li>计算机算术中不可避免的近似不会导致由一个
        SVG 实现编写的有效值集在被另一个 SVG 实现读取时被视为无效。否则，这会对常见边界情况（例如半圆弧）造成问题。</li>

      <li>导致参数经过无效值的连续动画不是问题。运动
        仍然保持连续。</li>
    </ul>
  </div>

  <h3 id="ReflectedControlPoints" class="heading">9.5.2. 反射控制点<a class="self-link" href="#ReflectedControlPoints"></a>
  </h3>

  <p>
    S/s 和 T/t 命令表示给定的三次 Bézier 段的第一个控制点是通过
    反射前一个路径段的最终控制点相对于当前点来计算的。具体的数学计算如下。
  </p>
  <p>
    如果当前点是 (<var>curx</var>, <var>cury</var>)，而前一个 <a href="paths.html#TermPathSegment">路径段</a> 的最终控制点是
    (<var>oldx2</var>, <var>oldy2</var>)，那么反射点（即 (<var>newx1</var>,
    <var>newy1</var>），当前 <a href="paths.html#TermPathSegment">路径段</a> 的第一个控制点）为：
  </p>
  <pre>
(newx1, newy1) = (curx - (oldx2 - curx), cury - (oldy2 - cury))
               = (2*curx - oldx2, 2*cury - oldy2)
</pre>

  <h3 id="ZeroLengthSegments" class="heading">9.5.3. 零长度路径段<a class="self-link" href="#ZeroLengthSegments"></a></h3>

  <p>零长度的路径段不是无效的，
    并将在以下情况下影响渲染：</p>

  <ul>
    <li>如果指定了标记，则在每个适用的顶点上绘制标记，即使给定的顶点是零长度 <a href="paths.html#TermPathSegment">路径段</a> 的终点，即使
      “moveto” 命令相互跟随。</li>

    <li>如 <a href="painting.html#StrokeProperties">笔画属性</a> 中提到的，
      当 <a class="property" href="painting.html#StrokeLinecapProperty">stroke-linecap</a> 的值为
      <span class="prop-value">round</span> 或
      <span class="prop-value">square</span> 时，零长度子路径必须绘制线帽。
    </li>
  </ul>

  <h3 id="PathDataErrorHandling" class="heading">9.5.4. 路径数据中的错误处理<a class="self-link"
      href="#PathDataErrorHandling"></a></h3>

  在路径数据流中未被识别的内容（即，不属于路径数据语法的内容）被视为错误。
  在这种情况下，必须使用以下错误处理规则：

  <ul>
    <li>路径数据错误处理的一般规则是
      SVG 用户代理应渲染一个 <span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span> 元素
      直到（但不包括）包含路径数据规范中第一个错误的路径命令。这将
      为用户或开发者提供关于路径数据规范中错误可能位置的视觉提示。
      这一规则将大大减少无效 SVG 路径数据的生成。</li>

    <li>如果路径数据命令包含不正确的参数集，则给定的路径数据命令将渲染
      直到并包括最后一个正确定义的 <a href="paths.html#TermPathSegment">路径段</a>，
      即使该 <a href="paths.html#TermPathSegment">路径段</a> 是复合路径数据命令的子组件，例如
      包含多个坐标对的 "lineto"。例如，对于路径数据字符串 <span class="attr-value">'M 10,10 L 20,20,30'</span>，
      "L" 命令的参数个数是奇数，而该命令要求参数个数为偶数。用户代理需要绘制
      从 (10,10) 到 (20,20) 的线，然后进行错误报告，因为 <span class="attr-value">'L 20 20'</span>
      是路径数据规范中最后一个正确定义的段。</li>

    <li>在可能的情况下，所有 SVG 用户代理应向用户报告
      所有错误。</li>
  </ul>

  <h2 id="DistanceAlongAPath" class="heading">9.6. 路径上的距离<a class="self-link" href="#DistanceAlongAPath"></a></h2>

  <p>各种操作，包括 <a href="text.html#TextLayoutPath">路径上的文本</a> 和 <a
      href="https://svgwg.org/specs/animations/#AnimateMotionElement">运动动画</a>
    以及各种 <a href="painting.html#StrokeProperties">笔画操作</a>，要求用户代理计算
    图形元素的几何距离，例如 <span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span>。</p>

  <p>确切的数学公式用于计算路径上的距离，
    但这些公式非常复杂，计算量大。建议创作产品和用户
    代理使用尽可能精确的算法；然而，为了适应实现差异
    并帮助距离计算得出接近作者意图的结果，可以使用
    <span class="attr-name">‘<a href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span> 属性
    提供作者计算的路径总长度，以便用户代理可以按
    <span class="attr-name">‘<a href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span> 与用户代理自身
    计算的总路径长度值的比例来缩放沿路径的距离计算。
  </p>

  <p>在 <span class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span> 元素内的 "moveto" 操作被定义为
    零长度。只有各种 "lineto"、"curveto" 和 "arcto"
    命令对路径长度计算有贡献。</p>

  <h3 id="PathLengthAttribute" class="heading">9.6.1. <span class="attr-name">‘pathLength’</span> 属性<a class="self-link"
      href="#PathLengthAttribute"></a></h3>

  <dl class="attrdef-list">
    <dt>
      <table class="attrdef def">
        <tr>
          <th>名称</th>
          <th>值</th>
          <th>初始值</th>
          <th>可动画</th>
        </tr>
        <tr>
          <td><dfn data-dfn-type="element-attr">pathLength</dfn></td>
          <td><a href="https://www.w3.org/TR/css3-values/#numbers">&lt;number></a></td>
          <td>(无)</td>
          <td>是</td>
        </tr>
      </table>
    </dt>
    <dd>
      <p>作者计算的路径总长度，单位为用户单位。该值用于校准用户代理自身的 <a href="paths.html#DistanceAlongAPath">沿路径的距离</a> 计算与作者的计算。用户代理将按 <span
          class="attr-name">‘<a href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span>
        与用户代理自身计算的总路径长度值的比例来缩放所有沿路径的距离计算。<span class="attr-name">‘<a
            href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span> 可能会影响 <a
          href="text.html#TextLayoutPath">路径上的文本</a>、
        <a href="https://svgwg.org/specs/animations/#AnimateMotionElement">运动动画</a> 和各种 <a
          href="painting.html#StrokeProperties">笔画操作</a> 的计算。
      </p>
      <p class="ready-for-wider-review">
        零值是有效的，必须视为无穷大的缩放因子。零值缩放无穷大必须保持为零，而任何大于零的非百分比值必须变为 +Infinity。
      </p>
      <p>负值是错误（参见 <a href="paths.html#PathDataErrorHandling">错误处理</a>）。</p>
      <p><span class="attr-name">‘<a href="paths.html#PathLengthAttribute"><span>pathLength</span></a>’</span> 对百分比 <a
          href="paths.html#DistanceAlongAPath">沿路径的距离</a> 计算没有影响。
      </p>
    </dd>
  </dl>

  <div class="ready-for-wider-review">
    <h2 id="DOMInterfaces" class="heading">9.7. DOM 接口<a class="self-link" href="#DOMInterfaces"></a></h2>

    <h3 id="InterfaceSVGPathElement" class="heading">9.7.1. 接口 SVGPathElement<a class="self-link"
        href="#InterfaceSVGPathElement"></a></h3>

    <p>一个 <a class="idlinterface" href="paths.html#InterfaceSVGPathElement">SVGPathElement</a> 对象表示 DOM 中的 <span
        class="element-name">‘<a href="paths.html#PathElement"><span>path</span></a>’</span>。</p>

    <pre class="idl">[Exposed=Window]
interface <b>SVGPathElement</b> : <a class="idlinterface" href="types.html#InterfaceSVGGeometryElement">SVGGeometryElement</a> {
};</pre>


  </div>

  <script src="//www.w3.org/scripts/TR/2016/fixup.js"></script>
  <script src="/dropdown.js"></script>
  <script src="https://www.w3.org/TR/SVG2/style/expanders.js"></script>
</body>

</html>